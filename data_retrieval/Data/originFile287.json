{"items":[{"tags":["java","jvm","interpreter","jit"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655306201,"post_id":72633781,"comment_id":128302519,"body_markdown":"JIT means “just in time”. So the only thing that determines whether a compiler is a JIT compiler, is the time it does its work. None of the other properties are relevant for this classification.","body":"JIT means “just in time”. So the only thing that determines whether a compiler is a JIT compiler, is the time it does its work. None of the other properties are relevant for this classification."},{"owner":{"account_id":15541750,"reputation":31,"user_id":19345692,"display_name":"A_Weierstrass"},"score":0,"creation_date":1655382635,"post_id":72633781,"comment_id":128322458,"body_markdown":"Thanks for the comment. So if a JIT compiler compiles source code on the fly, and runs the compiled object code, why is a template interpreter not a JIT compiler? The quote says that the template interpreter &quot;translates code from the language into native calls one opcode at a time&quot;.","body":"Thanks for the comment. So if a JIT compiler compiles source code on the fly, and runs the compiled object code, why is a template interpreter not a JIT compiler? The quote says that the template interpreter &quot;translates code from the language into native calls one opcode at a time&quot;."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655385324,"post_id":72633781,"comment_id":128323401,"body_markdown":"Mind that the cite starts with “*Making the distinction between compilers and interpreters yet again even more vague…*”. There is no clear line that everyone agrees on. More than often, the classification depends on what you are comparing with. An author having the HotSpot JVM in mind, where a template interpreter and a “real” JIT compiler exists, tends to insist that the former is not a compiler. I’ve seen the opposite in the past, a BASIC dialect that had a classical interpreter and a template based translator and its users tended to call the latter “compiler”, for obvious reasons.","body":"Mind that the cite starts with “<i>Making the distinction between compilers and interpreters yet again even more vague…</i>”. There is no clear line that everyone agrees on. More than often, the classification depends on what you are comparing with. An author having the HotSpot JVM in mind, where a template interpreter and a “real” JIT compiler exists, tends to insist that the former is not a compiler. I’ve seen the opposite in the past, a BASIC dialect that had a classical interpreter and a template based translator and its users tended to call the latter “compiler”, for obvious reasons."},{"owner":{"account_id":15541750,"reputation":31,"user_id":19345692,"display_name":"A_Weierstrass"},"score":0,"creation_date":1655396348,"post_id":72633781,"comment_id":128327830,"body_markdown":"So what are the key differences between them within HS JVM? Is the following interpretation correct?\n\nBytecode is interpreted, stats recorded, and repeated or slow methods are sent to the JIT compiler for translation and saved in an array, which is used by the interpreter. So what makes it a _template_ interpreter is that first checks the array for translated code, and then parses like a &quot;normal&quot; interpretator if the bytecode is not mapped there? So then in fact it is not making the translation per se, and thus the bold part above (&quot;translates code from the language...&quot;) is a bit misleading?","body":"So what are the key differences between them within HS JVM? Is the following interpretation correct?  Bytecode is interpreted, stats recorded, and repeated or slow methods are sent to the JIT compiler for translation and saved in an array, which is used by the interpreter. So what makes it a <i>template</i> interpreter is that first checks the array for translated code, and then parses like a &quot;normal&quot; interpretator if the bytecode is not mapped there? So then in fact it is not making the translation per se, and thus the bold part above (&quot;translates code from the language...&quot;) is a bit misleading?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1655452545,"post_id":72633781,"comment_id":128340458,"body_markdown":"Honestly, I never dug that deep into the interpreter, to find out whether it does actually translate to a series of native calls into the templates or still has a “read IR, call template” loop. I know that there are templates and that there’s dynamic code generation involved (your can print the result using `-XX:+UnlockDiagnosticVMOptions -XX:+PrintInterpreter`). They cover all instructions and even additional non-standard instructions which are generated during the execution to optimize. So there’s definitely translation going on, but not necessarily translation to native code.","body":"Honestly, I never dug that deep into the interpreter, to find out whether it does actually translate to a series of native calls into the templates or still has a “read IR, call template” loop. I know that there are templates and that there’s dynamic code generation involved (your can print the result using <code>-XX:+UnlockDiagnosticVMOptions -XX:+PrintInterpreter</code>). They cover all instructions and even additional non-standard instructions which are generated during the execution to optimize. So there’s definitely translation going on, but not necessarily translation to native code."}],"answers":[{"tags":[],"owner":{"account_id":25345227,"reputation":157,"user_id":19163024,"display_name":"Владислав Король"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690368025,"creation_date":1690368025,"answer_id":76770414,"question_id":72633781,"body_markdown":"The powerful advantage of Just-in-Time compilers is that they possess access to the runtime data and therefore can generate machine code tailored to the specific needs. The path to performance promise JIT compilers hold is being specific: the more specific and situational your case is, the more tailored code you can generate that could squeeze more performance. This is the reason why big projects like Chromium reject standard containers in the STL but create their own: the more general your code needs to be and serve multitude of cases, the least assumptions you can make about it that would allow you to perform better optimisations. If you are more curious what a difference JITs can make, I recommend [this video][1] that describes how an engineer accelerated hashmaps by 100 times compared to standard C++ and Rust hashtables by making more and more assumptions about it.\r\n\r\nSo, the whole purpose of JIT compilers is to generate code that will accomodated to the very situational conditions in the runtime. To do this, they gather profiling data as the code is executed and use it to perform a verity of [profile-guided optimisations][2] that can yield quite impressive boosts. In case of template interpreters, they don&#39;t really do any of these but they are aimed to reduce the overhead of instruction dispatching: normally if you would pass each instruction through a switch statement, you get a high degree of [branch unpredictability][3]. Over time, it accumulates and results in substential linear overhead of dispatching instrucitons alone. \r\n\r\nYou may say that compilers can optimise switch statements into jumptables by grouping the code into the cases as function pointers/labels and plugging the value into the array, and that&#39;s indeed what template interpreters do. They contain all of the implementations of their instructions as host&#39;s machine code that they retrieve using the instruction itself as a key. If instructions are represented as enum values, this allows to efficiently plugging it into the array as the index essentially taking only 2 CPU instructions to dispatch the code. However, template interpreters are preferred over switch statements because they are explicit and you don&#39;t depend on compiler optimising it, and they allow you to control the process of interpretation on the low level. As an example, if your functions that you call for run the instructions are stored as the raw machine code object, then they make take different sizes, and then you could make your own hashing function to access the proper fragment irregularly, allowing template intepreters to be more flexible and independent off specific compiler. \r\n\r\nSo far it seems that templates are alike reusable compilers, but you can notice a significant difference between them: they don&#39;t do any optimisations and only call pre-compiled handlers for each instruction. JIT compilers, aside from allocating and prepolating the memory with the same code, would also see profiling data and transform this code dynamically based on the runtime needs. On top of that, since the code is stored separately in the memory, you could adapt it as the conditions change and transform on the fly, which you cannot do with interpreters.\r\n\r\nIn conclusion, template interpreters are used only to run individula bytecode/IR instructions on themselves, and due to their simplicity they cannot do much aside from that. The task of interpreter is to minimise the overhead of itnerpreting the code and call the next handler as quickly as possible. On the other hand, JIT compilers are intended to be able to optimise the code on the fly, hence they allocate the memory where it&#39;s stored and can be manipulated.  \r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=DMQ_HcNSOAI\r\n  [2]: https://en.wikipedia.org/wiki/Profile-guided_optimization\r\n  [3]: https://stackoverflow.com/questions/11227809/why-is-processing-a-sorted-array-faster-than-processing-an-unsorted-array","title":"Difference between template interpreter and JIT compiler","body":"<p>The powerful advantage of Just-in-Time compilers is that they possess access to the runtime data and therefore can generate machine code tailored to the specific needs. The path to performance promise JIT compilers hold is being specific: the more specific and situational your case is, the more tailored code you can generate that could squeeze more performance. This is the reason why big projects like Chromium reject standard containers in the STL but create their own: the more general your code needs to be and serve multitude of cases, the least assumptions you can make about it that would allow you to perform better optimisations. If you are more curious what a difference JITs can make, I recommend <a href=\"https://www.youtube.com/watch?v=DMQ_HcNSOAI\" rel=\"nofollow noreferrer\">this video</a> that describes how an engineer accelerated hashmaps by 100 times compared to standard C++ and Rust hashtables by making more and more assumptions about it.</p>\n<p>So, the whole purpose of JIT compilers is to generate code that will accomodated to the very situational conditions in the runtime. To do this, they gather profiling data as the code is executed and use it to perform a verity of <a href=\"https://en.wikipedia.org/wiki/Profile-guided_optimization\" rel=\"nofollow noreferrer\">profile-guided optimisations</a> that can yield quite impressive boosts. In case of template interpreters, they don't really do any of these but they are aimed to reduce the overhead of instruction dispatching: normally if you would pass each instruction through a switch statement, you get a high degree of <a href=\"https://stackoverflow.com/questions/11227809/why-is-processing-a-sorted-array-faster-than-processing-an-unsorted-array\">branch unpredictability</a>. Over time, it accumulates and results in substential linear overhead of dispatching instrucitons alone.</p>\n<p>You may say that compilers can optimise switch statements into jumptables by grouping the code into the cases as function pointers/labels and plugging the value into the array, and that's indeed what template interpreters do. They contain all of the implementations of their instructions as host's machine code that they retrieve using the instruction itself as a key. If instructions are represented as enum values, this allows to efficiently plugging it into the array as the index essentially taking only 2 CPU instructions to dispatch the code. However, template interpreters are preferred over switch statements because they are explicit and you don't depend on compiler optimising it, and they allow you to control the process of interpretation on the low level. As an example, if your functions that you call for run the instructions are stored as the raw machine code object, then they make take different sizes, and then you could make your own hashing function to access the proper fragment irregularly, allowing template intepreters to be more flexible and independent off specific compiler.</p>\n<p>So far it seems that templates are alike reusable compilers, but you can notice a significant difference between them: they don't do any optimisations and only call pre-compiled handlers for each instruction. JIT compilers, aside from allocating and prepolating the memory with the same code, would also see profiling data and transform this code dynamically based on the runtime needs. On top of that, since the code is stored separately in the memory, you could adapt it as the conditions change and transform on the fly, which you cannot do with interpreters.</p>\n<p>In conclusion, template interpreters are used only to run individula bytecode/IR instructions on themselves, and due to their simplicity they cannot do much aside from that. The task of interpreter is to minimise the overhead of itnerpreting the code and call the next handler as quickly as possible. On the other hand, JIT compilers are intended to be able to optimise the code on the fly, hence they allocate the memory where it's stored and can be manipulated.</p>\n"}],"owner":{"account_id":15541750,"reputation":31,"user_id":19345692,"display_name":"A_Weierstrass"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1690368025,"creation_date":1655305737,"question_id":72633781,"body_markdown":"Below is an excerpt from Wikipedia text on [interpreters](https://en.wikipedia.org/w/index.php?title=Interpreter_(computing)&amp;oldid=1089309070#Template_Interpreter), specifically the section on template interpreter. The answer to my question is technically there, in bold. But I still do not quite understand the difference, probably because I have very low-level knowledge of low-level processes, pun intended (sorry). \r\n\r\nIt is saying that the JIT compiler creates sequences of CPU-executable instructions from the entire code segment. What do they mean by &quot;from the entire code segment&quot;? To me, this sounds like a normal compiler. I thought JIT compilation meant that an interpretor is run (parsing and executing statement-by-statement) and then repeated instructions are kept track of and translated into native machine code to be used next time it is needed, like a compiler does. But this sounds like the template interpreter to me, which I interpret as translating often-appearing statements and saving the statements and respective translations as key-value mappings in an array. So wherein lies the difference? Is it how the JIT saves the native machine instructions compiled from bytecode-sections (i.e. not in an array with mappings, then if so how is it saved)? Is it the way that the blocks of bytecode that are compiled into native machine code are partitioned; i.e. that they are translated and saved as mappings by opcode (if i understood this correctly) vs by something else? etc\r\n\r\n&gt; &quot;Making the distinction between compilers and interpreters yet again even more vague is a special interpreter design known as a template interpreter. Rather than implement the execution of code by virtue of a large switch statement containing every possible bytecode, while operating on a software stack or a tree walk, a template interpreter maintains a large array of bytecode (or any efficient intermediate representation) mapped directly to corresponding native machine instructions that can be executed on the host hardware as key value pairs,[15][16] known as a &quot;Template&quot;. When the particular code segment is executed the interpreter simply loads the opcode mapping in the template and directly runs it on the hardware.[17][18] **Due to its design, the template interpreter very strongly resembles a just-in-time compiler rather than a traditional interpreter, however it is technically not a JIT due to the fact that it merely translates code from the language into native calls one opcode at a time rather than creating optimized sequences of CPU executable instructions from the entire code segment.** Due to the interpreter&#39;s simple design of simply passing calls directly to the hardware rather than implementing them directly, it is much faster than every other type, even bytecode interpreters, and to an extent less prone to bugs, but as a tradeoff is more difficult to maintain due to the interpreter having to support translation to multiple different architectures instead of a platform independent virtual machine/stack. To date, the only template interpreter implementation of a language to exist is the interpreter within the HotSpot/OpenJDK Java Virtual Machine reference implementation.[15]&quot;","title":"Difference between template interpreter and JIT compiler","body":"<p>Below is an excerpt from Wikipedia text on <a href=\"https://en.wikipedia.org/w/index.php?title=Interpreter_(computing)&amp;oldid=1089309070#Template_Interpreter\" rel=\"nofollow noreferrer\">interpreters</a>, specifically the section on template interpreter. The answer to my question is technically there, in bold. But I still do not quite understand the difference, probably because I have very low-level knowledge of low-level processes, pun intended (sorry).</p>\n<p>It is saying that the JIT compiler creates sequences of CPU-executable instructions from the entire code segment. What do they mean by &quot;from the entire code segment&quot;? To me, this sounds like a normal compiler. I thought JIT compilation meant that an interpretor is run (parsing and executing statement-by-statement) and then repeated instructions are kept track of and translated into native machine code to be used next time it is needed, like a compiler does. But this sounds like the template interpreter to me, which I interpret as translating often-appearing statements and saving the statements and respective translations as key-value mappings in an array. So wherein lies the difference? Is it how the JIT saves the native machine instructions compiled from bytecode-sections (i.e. not in an array with mappings, then if so how is it saved)? Is it the way that the blocks of bytecode that are compiled into native machine code are partitioned; i.e. that they are translated and saved as mappings by opcode (if i understood this correctly) vs by something else? etc</p>\n<blockquote>\n<p>&quot;Making the distinction between compilers and interpreters yet again even more vague is a special interpreter design known as a template interpreter. Rather than implement the execution of code by virtue of a large switch statement containing every possible bytecode, while operating on a software stack or a tree walk, a template interpreter maintains a large array of bytecode (or any efficient intermediate representation) mapped directly to corresponding native machine instructions that can be executed on the host hardware as key value pairs,[15][16] known as a &quot;Template&quot;. When the particular code segment is executed the interpreter simply loads the opcode mapping in the template and directly runs it on the hardware.[17][18] <strong>Due to its design, the template interpreter very strongly resembles a just-in-time compiler rather than a traditional interpreter, however it is technically not a JIT due to the fact that it merely translates code from the language into native calls one opcode at a time rather than creating optimized sequences of CPU executable instructions from the entire code segment.</strong> Due to the interpreter's simple design of simply passing calls directly to the hardware rather than implementing them directly, it is much faster than every other type, even bytecode interpreters, and to an extent less prone to bugs, but as a tradeoff is more difficult to maintain due to the interpreter having to support translation to multiple different architectures instead of a platform independent virtual machine/stack. To date, the only template interpreter implementation of a language to exist is the interpreter within the HotSpot/OpenJDK Java Virtual Machine reference implementation.[15]&quot;</p>\n</blockquote>\n"},{"tags":["java","android","mvvm"],"owner":{"account_id":16022005,"reputation":13,"user_id":11611483,"display_name":"Mustafa Shama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690367896,"creation_date":1690367896,"question_id":76770402,"body_markdown":"I have my TransActionsRepository class that conrains method of insert, delete, getall that have access to database. I am using foregroundservice that I need to get access to database into the foregroundservice class, but I can&#39;t seem to find a way to make an instance of TransActionsRepository inside foregroundservice so I can use it&#39;s method to access the database. \r\n\r\nAny idea on how to do that? \r\nkeep in mind I am using MVVM architecture \r\n","title":"Android - the connection between foregroundservice and repository in mvvm","body":"<p>I have my TransActionsRepository class that conrains method of insert, delete, getall that have access to database. I am using foregroundservice that I need to get access to database into the foregroundservice class, but I can't seem to find a way to make an instance of TransActionsRepository inside foregroundservice so I can use it's method to access the database.</p>\n<p>Any idea on how to do that?\nkeep in mind I am using MVVM architecture</p>\n"},{"tags":["java","scala","apache-kafka","jvm","java-home"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690276057,"post_id":76761010,"comment_id":135327179,"body_markdown":"`readlink -f &quot;$(which java)&quot;` is what you need to show the real path. The value is the path without `/bin/java`","body":"<code>readlink -f &quot;$(which java)&quot;</code> is what you need to show the real path. The value is the path without <code>&#47;bin&#47;java</code>"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":1,"creation_date":1690280010,"post_id":76761010,"comment_id":135328029,"body_markdown":"Does this answer your question? [Why can I use javac &amp; java without having JAVA\\_HOME set?](https://stackoverflow.com/questions/69735512/why-can-i-use-javac-java-without-having-java-home-set)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69735512/why-can-i-use-javac-java-without-having-java-home-set\">Why can I use javac &amp; java without having JAVA_HOME set?</a>"},{"owner":{"account_id":45250,"reputation":2447,"user_id":133330,"display_name":"Darren Bishop"},"score":0,"creation_date":1690367741,"post_id":76761010,"comment_id":135342666,"body_markdown":"I feel the essence of `JAVA_HOME` has been missed: There are many JVM applications that, when built and bundled, ship with a wrapper launch/bootstrap script that have a hard dependency on `JAVA_HOME`; this shifts the responsibility to the user to resolve which Java to use in a very deliberate way; it does not matter how many versions and variants of Java you have installed (or merely downloaded and expanded), if `JAVA_HOME` is not set, the application/service will not start","body":"I feel the essence of <code>JAVA_HOME</code> has been missed: There are many JVM applications that, when built and bundled, ship with a wrapper launch/bootstrap script that have a hard dependency on <code>JAVA_HOME</code>; this shifts the responsibility to the user to resolve which Java to use in a very deliberate way; it does not matter how many versions and variants of Java you have installed (or merely downloaded and expanded), if <code>JAVA_HOME</code> is not set, the application/service will not start"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1690368522,"post_id":76761010,"comment_id":135342821,"body_markdown":"I have run many JVM applications but have never encountered _any_ application that absolutely _needs_ JAVA_HOME set. I have many versions of Java installed, but I don&#39;t define JAVA_HOME. All applications (Gradle, Maven, IDEs, Kafka, Kotlin, etc) will use the `java` command from the PATH. The JAVA_HOME can be set as an _override_ if required.","body":"I have run many JVM applications but have never encountered <i>any</i> application that absolutely <i>needs</i> JAVA_HOME set. I have many versions of Java installed, but I don&#39;t define JAVA_HOME. All applications (Gradle, Maven, IDEs, Kafka, Kotlin, etc) will use the <code>java</code> command from the PATH. The JAVA_HOME can be set as an <i>override</i> if required."},{"owner":{"account_id":45250,"reputation":2447,"user_id":133330,"display_name":"Darren Bishop"},"score":0,"creation_date":1690473565,"post_id":76761010,"comment_id":135362086,"body_markdown":"@g00se that is cool, but don&#39;t think it&#39;s POSIX/portable? And not available on Windows, presumable?","body":"@g00se that is cool, but don&#39;t think it&#39;s POSIX/portable? And not available on Windows, presumable?"},{"owner":{"account_id":45250,"reputation":2447,"user_id":133330,"display_name":"Darren Bishop"},"score":0,"creation_date":1690474644,"post_id":76761010,"comment_id":135362294,"body_markdown":"@k314159 ... &#39;I apologize for the confusion in my previous responses&#39; ;p if `JAVA_HOME` is not set, the Kafka launch script at least picks whatever `java` it can find.","body":"@k314159 ... &#39;I apologize for the confusion in my previous responses&#39; ;p if <code>JAVA_HOME</code> is not set, the Kafka launch script at least picks whatever <code>java</code> it can find."},{"owner":{"account_id":45250,"reputation":2447,"user_id":133330,"display_name":"Darren Bishop"},"score":0,"creation_date":1690474922,"post_id":76761010,"comment_id":135362346,"body_markdown":"@g00se just another note: `readlink` won&#39;t work on shims, as they are not symbolic links, but rather are scripts that - sometimes do some bootstrapping, then - delegate via `exec`","body":"@g00se just another note: <code>readlink</code> won&#39;t work on shims, as they are not symbolic links, but rather are scripts that - sometimes do some bootstrapping, then - delegate via <code>exec</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690474959,"post_id":76761010,"comment_id":135362352,"body_markdown":"[readlink](http://gnu.org/software/coreutils) is a GNU utility, so no, not portable. As for shims, no, it won&#39;t work. But on Unix-based systems, `/usr/bin/java` is normally a link","body":"<a href=\"http://gnu.org/software/coreutils\" rel=\"nofollow noreferrer\">readlink</a> is a GNU utility, so no, not portable. As for shims, no, it won&#39;t work. But on Unix-based systems, <code>&#47;usr&#47;bin&#47;java</code> is normally a link"}],"answers":[{"tags":[],"owner":{"account_id":45250,"reputation":2447,"user_id":133330,"display_name":"Darren Bishop"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1690275106,"creation_date":1690275106,"answer_id":76761011,"question_id":76761010,"body_markdown":"While `alternatives` may remain popular on *nix systems, I mostly use [jenv][1] and occasionally [sdkman][2]; they all introduce a level of indirection, if `/usr/bin/java` was not obscure enough.\r\n\r\nIf you are happy with the version of `java` on your `PATH` (`java -version`), you can query `java` directly for `java.home`:\r\n\r\n```\r\njava -XshowSettings:properties -version |&amp; grep -Po &#39;(?&lt;=java.home = )(.*)&#39;\r\n```\r\n\r\nThis is not available in Java 6:\r\n```\r\ndocker run --rm openjdk:6 java -XshowSettings:properties -version\r\nUnrecognized option: -XshowSettings:properties\r\nCould not create the Java virtual machine.\r\n```\r\n\r\nIt is available since Java 7:\r\n```\r\ndocker run --rm openjdk:7 bash -c &quot;java -XshowSettings:properties -version |&amp; grep -Po &#39;(?&lt;=java.home = |java.home=)(.*)&#39;&quot;\r\n/usr/lib/jvm/java-7-openjdk-armhf/jre\r\n```\r\n\r\nFor ease of use, create an alias:\r\n\r\n```\r\nalias java_home=&quot;java -XshowSettings:properties -version |&amp; grep -Po &#39;(?&lt;=java.home = |java.home=)(.*)&#39; &quot;\r\n```\r\n\r\n### Alternatives:\r\n\r\n#### `jrunscript` or `jshell`\r\n\r\nSome distributions provide `jrunscript` or `jshell`; these can be used to run Java code as script:\r\n\r\n```\r\njrunscript -Dpolyglot.js.nashorn-compat=true -e &#39;java.lang.System.out.println(java.lang.System.getProperty(&quot;java.home&quot;));&#39;\r\n```\r\n\r\nor \r\n\r\n```\r\njshell -J-Dpolyglot.js.nashorn-compat=true - &lt;&lt;&lt;&#39;java.lang.System.out.println(java.lang.System.getProperty(&quot;java.home&quot;));&#39;\r\n```\r\n\r\nNote this approach and these tools are old and should be considered deprecated.\r\n\r\n#### Java as a Source Interpreter\r\n\r\nSince [Java 11][3] you can execute Java source code as a script directly on the `java` binary:\r\n\r\n```\r\ncat &lt;&lt;EOF &gt; ./java-home\r\n#! /usr/bin/java --source 11\r\n\r\npublic class JavaHome {\r\n    public static void main(String[] args) {\r\n        System.out.println(System.getProperty(&quot;java.home&quot;));\r\n    }\r\n}\r\nEOF\r\n\r\nchmod u+x ./java-home\r\n\r\n./java-home\r\n/usr/lib/jvm/java-11-openjdk-arm64\r\n\r\n```\r\n\r\n  [1]: https://www.jenv.be\r\n  [2]: https://sdkman.io\r\n  [3]: https://openjdk.org/jeps/330","title":"Where is Java&#39;s home; what to set JAVA_HOME to","body":"<p>While <code>alternatives</code> may remain popular on *nix systems, I mostly use <a href=\"https://www.jenv.be\" rel=\"nofollow noreferrer\">jenv</a> and occasionally <a href=\"https://sdkman.io\" rel=\"nofollow noreferrer\">sdkman</a>; they all introduce a level of indirection, if <code>/usr/bin/java</code> was not obscure enough.</p>\n<p>If you are happy with the version of <code>java</code> on your <code>PATH</code> (<code>java -version</code>), you can query <code>java</code> directly for <code>java.home</code>:</p>\n<pre><code>java -XshowSettings:properties -version |&amp; grep -Po '(?&lt;=java.home = )(.*)'\n</code></pre>\n<p>This is not available in Java 6:</p>\n<pre><code>docker run --rm openjdk:6 java -XshowSettings:properties -version\nUnrecognized option: -XshowSettings:properties\nCould not create the Java virtual machine.\n</code></pre>\n<p>It is available since Java 7:</p>\n<pre><code>docker run --rm openjdk:7 bash -c &quot;java -XshowSettings:properties -version |&amp; grep -Po '(?&lt;=java.home = |java.home=)(.*)'&quot;\n/usr/lib/jvm/java-7-openjdk-armhf/jre\n</code></pre>\n<p>For ease of use, create an alias:</p>\n<pre><code>alias java_home=&quot;java -XshowSettings:properties -version |&amp; grep -Po '(?&lt;=java.home = |java.home=)(.*)' &quot;\n</code></pre>\n<h3>Alternatives:</h3>\n<h4><code>jrunscript</code> or <code>jshell</code></h4>\n<p>Some distributions provide <code>jrunscript</code> or <code>jshell</code>; these can be used to run Java code as script:</p>\n<pre><code>jrunscript -Dpolyglot.js.nashorn-compat=true -e 'java.lang.System.out.println(java.lang.System.getProperty(&quot;java.home&quot;));'\n</code></pre>\n<p>or</p>\n<pre><code>jshell -J-Dpolyglot.js.nashorn-compat=true - &lt;&lt;&lt;'java.lang.System.out.println(java.lang.System.getProperty(&quot;java.home&quot;));'\n</code></pre>\n<p>Note this approach and these tools are old and should be considered deprecated.</p>\n<h4>Java as a Source Interpreter</h4>\n<p>Since <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">Java 11</a> you can execute Java source code as a script directly on the <code>java</code> binary:</p>\n<pre><code>cat &lt;&lt;EOF &gt; ./java-home\n#! /usr/bin/java --source 11\n\npublic class JavaHome {\n    public static void main(String[] args) {\n        System.out.println(System.getProperty(&quot;java.home&quot;));\n    }\n}\nEOF\n\nchmod u+x ./java-home\n\n./java-home\n/usr/lib/jvm/java-11-openjdk-arm64\n\n</code></pre>\n"}],"owner":{"account_id":45250,"reputation":2447,"user_id":133330,"display_name":"Darren Bishop"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76761011,"answer_count":1,"score":0,"last_activity_date":1690367833,"creation_date":1690275106,"question_id":76761010,"body_markdown":"I am trying to run a JVM service and it needs `JAVA_HOME` set.\r\n\r\n`java` is on my `PATH`, but it&#39;s not clear what `JAVA_HOME` should be set to:\r\n\r\n```\r\nwhich java\r\n/usr/bin/java\r\n```","title":"Where is Java&#39;s home; what to set JAVA_HOME to","body":"<p>I am trying to run a JVM service and it needs <code>JAVA_HOME</code> set.</p>\n<p><code>java</code> is on my <code>PATH</code>, but it's not clear what <code>JAVA_HOME</code> should be set to:</p>\n<pre><code>which java\n/usr/bin/java\n</code></pre>\n"},{"tags":["java","spring-boot","powershell","curl"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1668618087,"post_id":74464313,"comment_id":131450986,"body_markdown":"Did you tried to create proper property with setter and getter? Maybe JSON deserializer doesn&#39;t work with fields?","body":"Did you tried to create proper property with setter and getter? Maybe JSON deserializer doesn&#39;t work with fields?"},{"owner":{"account_id":16136776,"reputation":172,"user_id":11649050,"display_name":"Thibaut B."},"score":0,"creation_date":1668619416,"post_id":74464313,"comment_id":131451515,"body_markdown":"@talex Yes, I just tried making getters and setters and a constructor also but it didn&#39;t fix the issue.","body":"@talex Yes, I just tried making getters and setters and a constructor also but it didn&#39;t fix the issue."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1668620258,"post_id":74464313,"comment_id":131451809,"body_markdown":"Try to use `@RequestBody String request` and make sure you backend receive correct json","body":"Try to use <code>@RequestBody String request</code> and make sure you backend receive correct json"},{"owner":{"account_id":16136776,"reputation":172,"user_id":11649050,"display_name":"Thibaut B."},"score":0,"creation_date":1668621095,"post_id":74464313,"comment_id":131452088,"body_markdown":"@talex I tried this, and the json seems to be received correctly, so the issue would come from the json parser or the creation of a new object...","body":"@talex I tried this, and the json seems to be received correctly, so the issue would come from the json parser or the creation of a new object..."}],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668624217,"creation_date":1668624217,"answer_id":74465655,"question_id":74464313,"body_markdown":"There is a small issue in your CURL request. No need to use an escape character with \\&quot;key\\&quot;. You are using a backslash with double quotes (\\\\&quot;) that is not required.\r\n\r\nPlease try this CURL request.\r\n\r\n```\r\ncurl --request POST --header &quot;Content-Type: application/json&quot; --data &#39;{&quot;key&quot;: 5}&#39; http://localhost:8080/request\r\n```\r\n","title":"Curl POST request to Java SpringBoot backend receives all numbers as 0&#39;s","body":"<p>There is a small issue in your CURL request. No need to use an escape character with &quot;key&quot;. You are using a backslash with double quotes (\\&quot;) that is not required.</p>\n<p>Please try this CURL request.</p>\n<pre><code>curl --request POST --header &quot;Content-Type: application/json&quot; --data '{&quot;key&quot;: 5}' http://localhost:8080/request\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6732610,"reputation":21,"user_id":5188393,"display_name":"Vinayak Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690367579,"creation_date":1690367579,"answer_id":76770349,"question_id":74464313,"body_markdown":"Some only CURL will not work we need to mention in below format:\r\n\r\n    curl.exe --request POST --header &quot;Content-Type: application/json&quot; --data &#39;{&quot;key&quot;: 5}&#39; http://localhost:8080/request","title":"Curl POST request to Java SpringBoot backend receives all numbers as 0&#39;s","body":"<p>Some only CURL will not work we need to mention in below format:</p>\n<pre><code>curl.exe --request POST --header &quot;Content-Type: application/json&quot; --data '{&quot;key&quot;: 5}' http://localhost:8080/request\n</code></pre>\n"}],"owner":{"account_id":16136776,"reputation":172,"user_id":11649050,"display_name":"Thibaut B."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690367579,"creation_date":1668617582,"question_id":74464313,"body_markdown":"I have a Java SpringBoot backend server and I wanted to test the controller classes with curl. However, whenever I send a request with the following format (in a powershell terminal):\r\n```pwsh\r\ncurl --request POST --header &quot;Content-Type: application/json&quot; --data &#39;{\\&quot;key\\&quot;: 5}&#39; http://localhost:8080/request\r\n```\r\nAll the numerical values are changed to zeroes. And if in the DTO class I change them to `Integer` instead of `int`, then they are received as `null`. For strings, everything works perfectly.\r\n\r\nThis is what my controller methodlooks like:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/request&quot;)\r\nclass MyController {\r\n    @PostMapping\r\n    public ResponseEntity&lt;MuseumTO&gt; createMuseum(@RequestBody RequestDTO request) {\r\n        System.out.println(request.key);\r\n\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nAnd the DTO class:\r\n```java\r\nclass RequestDTO {\r\n    public int key\r\n}\r\n```\r\nGET requests work fine, and I&#39;ve tried with two different backends, so I assume my problem is coming from the curl request&#39;s format. However, I&#39;ve looked online and from what I&#39;ve seen this is supposed to work.","title":"Curl POST request to Java SpringBoot backend receives all numbers as 0&#39;s","body":"<p>I have a Java SpringBoot backend server and I wanted to test the controller classes with curl. However, whenever I send a request with the following format (in a powershell terminal):</p>\n<pre><code>curl --request POST --header &quot;Content-Type: application/json&quot; --data '{\\&quot;key\\&quot;: 5}' http://localhost:8080/request\n</code></pre>\n<p>All the numerical values are changed to zeroes. And if in the DTO class I change them to <code>Integer</code> instead of <code>int</code>, then they are received as <code>null</code>. For strings, everything works perfectly.</p>\n<p>This is what my controller methodlooks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/request&quot;)\nclass MyController {\n    @PostMapping\n    public ResponseEntity&lt;MuseumTO&gt; createMuseum(@RequestBody RequestDTO request) {\n        System.out.println(request.key);\n\n        // ...\n    }\n}\n</code></pre>\n<p>And the DTO class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class RequestDTO {\n    public int key\n}\n</code></pre>\n<p>GET requests work fine, and I've tried with two different backends, so I assume my problem is coming from the curl request's format. However, I've looked online and from what I've seen this is supposed to work.</p>\n"},{"tags":["java","spring-boot","prometheus","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1690367605,"post_id":76759689,"comment_id":135342644,"body_markdown":"Hi, I added an answer to the question please consider to upvote and approve it as answer if it address your requirements cause it took around 1 hour of my time :) otherwise feel free to leave comment if you need more help.","body":"Hi, I added an answer to the question please consider to upvote and approve it as answer if it address your requirements cause it took around 1 hour of my time :) otherwise feel free to leave comment if you need more help."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690367527,"creation_date":1690367527,"answer_id":76770338,"question_id":76759689,"body_markdown":"&gt; How to change state of [resilience4j][1] circuit breaker ? (Native Resilience4j)\r\n\r\nYou can simply change the state programmatically using the CircuitBreaker interface, for the spring variant check the next, begin by creating a circuit breaker with suitable constructor or static builder that suits you, the call `transitionToOpenState()`.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n    CircuitBreaker circuitBreaker = CircuitBreaker.ofDefaults(&quot;myCircuitBreaker&quot;);\r\n\r\n    circuitBreaker.transitionToOpenState();\r\n    ...\r\n    circuitBreaker.transitionToHalfOpenState();\r\n    circuitBreaker.transitionToClosedState();\r\n\r\n    ...\r\n\r\n\r\n&gt; How to change state of [resilience4j][1] circuit breaker with spring for testing purpose? (Mockito and Spring bean injection)\r\n\r\n\r\nFirst add the proper version of [Resilence4j][2] and [Mockito][3] dependencies to you `.pom` file.\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n      &lt;version&gt;&#39;suitable-version&#39;&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n      &lt;version&gt;&#39;suitable-version&#39;&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nThen create a circuit breaker singleton bean with desired configuration in the spring IOC context.\r\n\r\n\r\n\r\n    @Bean\r\n    public CircuitBreaker lunaticCircuitBreaker() {\r\n      CircuitBreakerConfig circuitBreakerConfig = CircuitBreakerConfig.custom()\r\n        .failureRateThreshold(30)\r\n        .waitDurationInOpenState(Duration.ofMillis(5000))\r\n        ...\r\n        .build();\r\n\r\n      return CircuitBreaker.of(&quot;lunaticCircuitBreaker&quot;, circuitBreakerConfig);\r\n    }\r\n\r\nIn the test file, mock the circuit breaker and call `thenReturn()` to define the behavior of the circuit breaker method when it is called some thing like previous quote we had.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    @MockBean\r\n    private CircuitBreaker lunaticCircuitBreaker;\r\n\r\n    ...\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Mockito.when(lunaticCircuitBreaker.transitionToOpenState()).thenReturn(null);\r\n\r\nThen just invoke the method that calls the circuit breaker in your code.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    someService.someMethod(...);\r\n    Mockito.verify(lunaticCircuitBreaker, Mockito.times(1)).transitionToOpenState();\r\n\r\n\r\nAlso note that changing the state of a circuit breaker programmatically should be used with caution, cause it affect the behavior of system. It&#39;s generally recommended to rely on the **automatic state transitions** provided by Resilience4j.\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/docs\r\n  [2]: https://mvnrepository.com/artifact/io.github.resilience4j\r\n  [3]: https://mvnrepository.com/artifact/org.mockito/mockito-core","title":"How to change state of circuit breaker for testing purpose using springboot code","body":"<blockquote>\n<p>How to change state of <a href=\"https://resilience4j.readme.io/docs\" rel=\"nofollow noreferrer\">resilience4j</a> circuit breaker ? (Native Resilience4j)</p>\n</blockquote>\n<p>You can simply change the state programmatically using the CircuitBreaker interface, for the spring variant check the next, begin by creating a circuit breaker with suitable constructor or static builder that suits you, the call <code>transitionToOpenState()</code>.</p>\n\n<pre><code>CircuitBreaker circuitBreaker = CircuitBreaker.ofDefaults(&quot;myCircuitBreaker&quot;);\n\ncircuitBreaker.transitionToOpenState();\n...\ncircuitBreaker.transitionToHalfOpenState();\ncircuitBreaker.transitionToClosedState();\n\n...\n</code></pre>\n<blockquote>\n<p>How to change state of <a href=\"https://resilience4j.readme.io/docs\" rel=\"nofollow noreferrer\">resilience4j</a> circuit breaker with spring for testing purpose? (Mockito and Spring bean injection)</p>\n</blockquote>\n<p>First add the proper version of <a href=\"https://mvnrepository.com/artifact/io.github.resilience4j\" rel=\"nofollow noreferrer\">Resilence4j</a> and <a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-core\" rel=\"nofollow noreferrer\">Mockito</a> dependencies to you <code>.pom</code> file.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n  &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n  &lt;version&gt;'suitable-version'&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n  &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n  &lt;version&gt;'suitable-version'&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then create a circuit breaker singleton bean with desired configuration in the spring IOC context.</p>\n<pre><code>@Bean\npublic CircuitBreaker lunaticCircuitBreaker() {\n  CircuitBreakerConfig circuitBreakerConfig = CircuitBreakerConfig.custom()\n    .failureRateThreshold(30)\n    .waitDurationInOpenState(Duration.ofMillis(5000))\n    ...\n    .build();\n\n  return CircuitBreaker.of(&quot;lunaticCircuitBreaker&quot;, circuitBreakerConfig);\n}\n</code></pre>\n<p>In the test file, mock the circuit breaker and call <code>thenReturn()</code> to define the behavior of the circuit breaker method when it is called some thing like previous quote we had.</p>\n\n<pre><code>@MockBean\nprivate CircuitBreaker lunaticCircuitBreaker;\n\n...\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>Mockito.when(lunaticCircuitBreaker.transitionToOpenState()).thenReturn(null);\n</code></pre>\n<p>Then just invoke the method that calls the circuit breaker in your code.</p>\n\n<pre><code>someService.someMethod(...);\nMockito.verify(lunaticCircuitBreaker, Mockito.times(1)).transitionToOpenState();\n</code></pre>\n<p>Also note that changing the state of a circuit breaker programmatically should be used with caution, cause it affect the behavior of system. It's generally recommended to rely on the <strong>automatic state transitions</strong> provided by Resilience4j.</p>\n"}],"owner":{"account_id":23102929,"reputation":109,"user_id":17212096,"display_name":"Sachin Mankotia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690367527,"creation_date":1690263093,"question_id":76759689,"body_markdown":"I have a requirement to generate a prometheus alert if state my resilience4j circuit breaker changes to Open. \r\nIn order to test it, I want to change its state forcefully. Like I can create a test Rest API which can take circuit breaker and state which I want to set. ex : &quot;/changeState/myBreaker/open&quot;. (myBreaker is CB name and open is the state).\r\n\r\nIs there a way to achieve this in springboot code?\r\n\r\n","title":"How to change state of circuit breaker for testing purpose using springboot code","body":"<p>I have a requirement to generate a prometheus alert if state my resilience4j circuit breaker changes to Open.\nIn order to test it, I want to change its state forcefully. Like I can create a test Rest API which can take circuit breaker and state which I want to set. ex : &quot;/changeState/myBreaker/open&quot;. (myBreaker is CB name and open is the state).</p>\n<p>Is there a way to achieve this in springboot code?</p>\n"},{"tags":["java","spring","spring-boot","filenotfoundexception","abbyy"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690374223,"post_id":76769973,"comment_id":135344039,"body_markdown":"`class path resource [com/abbyy/FCEngine/IReadStream.class] cannot be opened because it does not exist at ` seems like the error and pretty clear. Not all your classes are available.","body":"<code>class path resource [com&#47;abbyy&#47;FCEngine&#47;IReadStream.class] cannot be opened because it does not exist at </code> seems like the error and pretty clear. Not all your classes are available."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690708033,"post_id":76769973,"comment_id":135388713,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29036119,"reputation":1,"user_id":22241987,"display_name":"Tarique Aziz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690366881,"creation_date":1690364930,"question_id":76769973,"body_markdown":"I am trying to deploy in tomcat server then I am getting this error.\r\n\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/socr-microservices]]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\t... 43 more\r\n\tCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.my.BackendApplication]; nested exception is java.io.FileNotFoundException: class path resource [com/abbyy/FCEngine/IReadStream.class] cannot be opened because it does not exist\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n\t\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n\t\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n\t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745)\r\n\t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420)\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\t\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\r\n\t\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\r\n\t\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n\t\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\t... 44 more\r\n\tCaused by: java.io.FileNotFoundException: class path resource [com/abbyy/FCEngine/IReadStream.class] cannot be opened because it does not exist\r\n\t\tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199)\r\n\t\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:55)\r\n\t\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\r\n\t\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n\t\tat org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.createMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:86)\r\n\t\tat org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.getMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:73)\r\n\t\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:696)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getInterfaces(ConfigurationClassParser.java:1024)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.processInterfaces(ConfigurationClassParser.java:386)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:332)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)","title":"Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext. Caused by: org.springframework.beans.factory","body":"<p>I am trying to deploy in tomcat server then I am getting this error.</p>\n<p>Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/socr-microservices]]\nat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n... 43 more\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.my.BackendApplication]; nested exception is java.io.FileNotFoundException: class path resource [com/abbyy/FCEngine/IReadStream.class] cannot be opened because it does not exist\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189)\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\nat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\nat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\nat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\nat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n... 44 more\nCaused by: java.io.FileNotFoundException: class path resource [com/abbyy/FCEngine/IReadStream.class] cannot be opened because it does not exist\nat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199)\nat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:55)\nat org.springframework.core.type.classreading.SimpleMetadataReader.(SimpleMetadataReader.java:49)\nat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\nat org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.createMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:86)\nat org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.getMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:73)\nat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81)\nat org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:696)\nat org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getInterfaces(ConfigurationClassParser.java:1024)\nat org.springframework.context.annotation.ConfigurationClassParser.processInterfaces(ConfigurationClassParser.java:386)\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:332)\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199)\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304)\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1533926134,"post_id":51779801,"comment_id":90541969,"body_markdown":"How is authentication being done? 403 means that either the server (Tomcat) or the application don&#39;t like your credentials.","body":"How is authentication being done? 403 means that either the server (Tomcat) or the application don&#39;t like your credentials."},{"owner":{"account_id":14046961,"reputation":31,"user_id":10146898,"display_name":"Mintu"},"score":0,"creation_date":1533957707,"post_id":51779801,"comment_id":90549596,"body_markdown":"There is no credentials  required. Application is hosted in the server having direct internet connection .No proxy.","body":"There is no credentials  required. Application is hosted in the server having direct internet connection .No proxy."},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":1,"creation_date":1533993561,"post_id":51779801,"comment_id":90556499,"body_markdown":"Umm.... your question has the word *Proxy&quot; right in it. Looks like there is a proxy to me.","body":"Umm.... your question has the word *Proxy&quot; right in it. Looks like there is a proxy to me."}],"owner":{"account_id":14046961,"reputation":31,"user_id":10146898,"display_name":"Mintu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12924,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690366858,"creation_date":1533880283,"question_id":51779801,"body_markdown":"Sometimes I am getting the following error in Tomcat 7  while calling a third-party service through `HttpURLConnection` object.\r\n\r\n```\r\njava.io.IOException: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 403 Forbidden&quot;\r\n\tsun.net.www.protocol.http.HttpURLConnection.doTunneling(Unknown Source)\r\n\tsun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n\tsun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source)\r\n\tsun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source)\r\n\tsun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source)\r\n\tcom.myapp.QueryAPI.SearchDealerTxn.execute(SearchDealerTxn.java:106)\r\n\torg.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\r\n\torg.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\r\n\torg.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n\torg.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:650)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n```\r\n\r\nAfter restarting Tomcat, the issue got resolved. \r\nAny Idea? please share.\r\n\r\n","title":"Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 403 Forbidden&quot; in Tomcat 7","body":"<p>Sometimes I am getting the following error in Tomcat 7  while calling a third-party service through <code>HttpURLConnection</code> object.</p>\n<pre><code>java.io.IOException: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 403 Forbidden&quot;\n    sun.net.www.protocol.http.HttpURLConnection.doTunneling(Unknown Source)\n    sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n    sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source)\n    sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source)\n    sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source)\n    com.myapp.QueryAPI.SearchDealerTxn.execute(SearchDealerTxn.java:106)\n    org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\n    org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\n    org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\n    org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n<p>After restarting Tomcat, the issue got resolved.\nAny Idea? please share.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":8999874,"reputation":345,"user_id":6708879,"display_name":"MissingSemiColon"},"score":1,"creation_date":1689860130,"post_id":76729869,"comment_id":135275305,"body_markdown":"Read this answer: https://stackoverflow.com/questions/64461894/kafka-offset-increments-even-without-reaching-ack . Short answer you ack the message with offset 4, so for kafka you have read all the previous messages.","body":"Read this answer: <a href=\"https://stackoverflow.com/questions/64461894/kafka-offset-increments-even-without-reaching-ack\" title=\"kafka offset increments even without reaching ack\">stackoverflow.com/questions/64461894/&hellip;</a> . Short answer you ack the message with offset 4, so for kafka you have read all the previous messages."},{"owner":{"account_id":26860541,"reputation":75,"user_id":20444128,"display_name":"rev gan"},"score":1,"creation_date":1689867213,"post_id":76729869,"comment_id":135277196,"body_markdown":"thanks. i will go through it","body":"thanks. i will go through it"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1690367672,"post_id":76729869,"comment_id":135342655,"body_markdown":"@MissingSemiColon that question is not the same as this one and its answer is not really relevant. It concerns situations where failing to ack means the same offset is not tried again in the same application run. But the current question is different, it concerns failing to retry the same offset after a restart. And after a restart, it&#39;s the _committed_ offset that matters.","body":"@MissingSemiColon that question is not the same as this one and its answer is not really relevant. It concerns situations where failing to ack means the same offset is not tried again in the same application run. But the current question is different, it concerns failing to retry the same offset after a restart. And after a restart, it&#39;s the <i>committed</i> offset that matters."},{"owner":{"account_id":8999874,"reputation":345,"user_id":6708879,"display_name":"MissingSemiColon"},"score":0,"creation_date":1690454886,"post_id":76729869,"comment_id":135357606,"body_markdown":"True its not the same case sorry. Then maybe a bit more information is required, I would check if your configuration is working. Remove the ack and check that it is not moving your committed offset. Because it is true that if you ack message 2 and restarted you should see message 3. Also try to use MANUAL instead of MANUAL_IMMEDIATE https://docs.spring.io/spring-kafka/api/org/springframework/kafka/listener/ContainerProperties.AckMode.html","body":"True its not the same case sorry. Then maybe a bit more information is required, I would check if your configuration is working. Remove the ack and check that it is not moving your committed offset. Because it is true that if you ack message 2 and restarted you should see message 3. Also try to use MANUAL instead of MANUAL_IMMEDIATE <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/listener/ContainerProperties.AckMode.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/api/org/springframework/kafka/&hellip;</a>"}],"owner":{"account_id":26860541,"reputation":75,"user_id":20444128,"display_name":"rev gan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1690366710,"creation_date":1689856040,"question_id":76729869,"body_markdown":"I have a simple Kafka Spring Boot consumer with one topic, 3 partitions and 1 consumer. \r\nonce messages are read, it is processed and committed back.\r\n\r\nWhen application is stopped/started, the message which was just read but not committed yet is skipped in the next run. I was expecting the message not committed to be read again after restart.\r\n\r\nfor example,\r\n\r\n**run 1**\r\n\r\n 1. offset 1 consumed and committed\r\n 2. offset 2 consumed and committed\r\n 3. offset 3 consumed\r\n\r\n**run 2**\r\n\r\n 4. offset 4 consumed and committed\r\n\r\nif you see the pattern, I was expecting offset 3 as its not committed yet in run2 but it skips 3 and reads 4 instead\r\n\r\nPlease find the code snippet\r\n\r\n 1. kafka config - `enable.auto.commit=false`\r\n 2. Set props - `props.setAckMode(AckMode.MANUAL_IMMEDIATE)`\r\n\r\nconsumer/listener:\r\n\r\n    public void consume(@Payload String message, @Header int partition, @Header int offsets, @Heaader String value, Acknowledgement acknowledgement) {\r\n    \r\n        process(message);\r\n    \r\n        acknowledgement.acknowledge();\r\n    \r\n    }\r\n\r\nkafka picks always the next offset though it never committed if stop and restart. i tried with commitSync as well but same behaviour. any help would be appreciated","title":"Kafka + Spring Boot + Consumer Messages are missed what app is restarted","body":"<p>I have a simple Kafka Spring Boot consumer with one topic, 3 partitions and 1 consumer.\nonce messages are read, it is processed and committed back.</p>\n<p>When application is stopped/started, the message which was just read but not committed yet is skipped in the next run. I was expecting the message not committed to be read again after restart.</p>\n<p>for example,</p>\n<p><strong>run 1</strong></p>\n<ol>\n<li>offset 1 consumed and committed</li>\n<li>offset 2 consumed and committed</li>\n<li>offset 3 consumed</li>\n</ol>\n<p><strong>run 2</strong></p>\n<ol start=\"4\">\n<li>offset 4 consumed and committed</li>\n</ol>\n<p>if you see the pattern, I was expecting offset 3 as its not committed yet in run2 but it skips 3 and reads 4 instead</p>\n<p>Please find the code snippet</p>\n<ol>\n<li>kafka config - <code>enable.auto.commit=false</code></li>\n<li>Set props - <code>props.setAckMode(AckMode.MANUAL_IMMEDIATE)</code></li>\n</ol>\n<p>consumer/listener:</p>\n<pre><code>public void consume(@Payload String message, @Header int partition, @Header int offsets, @Heaader String value, Acknowledgement acknowledgement) {\n\n    process(message);\n\n    acknowledgement.acknowledge();\n\n}\n</code></pre>\n<p>kafka picks always the next offset though it never committed if stop and restart. i tried with commitSync as well but same behaviour. any help would be appreciated</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","orm","hibernate-cascade"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1690367053,"post_id":76770217,"comment_id":135342533,"body_markdown":"I&#39;d highly recommend to obey everything Vlad Mihalcea and Thorben Janssen suggest. https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/ You will find tons of great advices on their blogs.","body":"I&#39;d highly recommend to obey everything Vlad Mihalcea and Thorben Janssen suggest. <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> You will find tons of great advices on their blogs."}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690366597,"creation_date":1690366597,"question_id":76770217,"body_markdown":"I have been working on Spring Boot and JPA for quite some time and this question is raised several times. How should one decide to choose the right cascade types for entity relationships?   \r\nA scenario-  \r\nI have 2 entities-\r\n**User** and **Category**. Now, I want a many-to-many relationship between these entities such that the relationship follows following rules-  \r\n1. When any entity is deleted, the other side is not deleted.\r\n2. The categories are pre-defined in the database, therefore, adding/updating the **user** entity must not add/update the **category** entity.\r\n3. Any updation to **category** must not be propagated to **user** entity.  \r\n\r\n\r\nCan somebody please help me understand that how to decide the right cascade types. In the above scenario, its clear that I don&#39;t have to use **CascadeType.REMOVE**. But, I am not sure about others- **REFRESH, PERSIST** and especially **MERGE** and **DETACH**.   \r\nPlease help!!","title":"How to choose the right cascade types for entity relationshships following best practices: JPA","body":"<p>I have been working on Spring Boot and JPA for quite some time and this question is raised several times. How should one decide to choose the right cascade types for entity relationships?<br />\nA scenario-<br />\nI have 2 entities-\n<strong>User</strong> and <strong>Category</strong>. Now, I want a many-to-many relationship between these entities such that the relationship follows following rules-</p>\n<ol>\n<li>When any entity is deleted, the other side is not deleted.</li>\n<li>The categories are pre-defined in the database, therefore, adding/updating the <strong>user</strong> entity must not add/update the <strong>category</strong> entity.</li>\n<li>Any updation to <strong>category</strong> must not be propagated to <strong>user</strong> entity.</li>\n</ol>\n<p>Can somebody please help me understand that how to decide the right cascade types. In the above scenario, its clear that I don't have to use <strong>CascadeType.REMOVE</strong>. But, I am not sure about others- <strong>REFRESH, PERSIST</strong> and especially <strong>MERGE</strong> and <strong>DETACH</strong>.<br />\nPlease help!!</p>\n"},{"tags":["java","asynchronous","cucumber","gherkin"],"owner":{"account_id":11436907,"reputation":625,"user_id":8384029,"accept_rate":40,"display_name":"Mohamed Aoutir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690366248,"creation_date":1690363107,"question_id":76769690,"body_markdown":"I&#39;m getting an error when end2end testing with cucumber; when I&#39;d like to assert that the responses coming from two different async APIs aren&#39;t null and match the expected contents as described in my gherkin spec.\r\n\r\nGiven two async endpoints one called endpointA and the other one called endpointB.\r\n\r\n    Scenario:\r\n        Given the following streams endpointA and endpointB\r\n        When I get the A message from the endpointA stream\r\n        When I get the B message from the endpointB stream\r\n        Then the response from endpointA should be\r\n          | att1 | att2   | att3 |\r\n          | 11111| 000000 | test |\r\n        And the response from endpointB should be\r\n          | r1        | r2    | r3     | r4     |\r\n          | A00586-00 | 11111 | &lt;null&gt; | OK     |\r\n        Then the responses from both endpoints should match the expectations\r\n\r\nThe step definition for the above gherkin is described below:\r\n\r\n    public class ABStep extends CucumberBootstrap {\r\n    \r\n        private CompletableFuture&lt;GenericMessage&lt;ResponseA&gt;&gt; endpointAFuture;\r\n        private CompletableFuture&lt;GenericMessage&lt;ResponseB&gt;&gt; endpointBFuture;\r\n        ResponseB expectedResponseB;\r\n        ResponseA expectedResponseA;\r\n        @Autowired\r\n        private RestService restService;\r\n        private Executor executor = Executors.newFixedThreadPool(5);\r\n    \r\n        @DataTableType\r\n        public ResponseA responseAEntryTransformer(DataTable dataTable) {\r\n            return dataTable.asMaps(String.class, Object.class).stream()\r\n                    .map(row -&gt;\r\n                            ResponseA.builder()\r\n                                    .r1(valueOf(row.get(&quot;r1&quot;)))\r\n                                    .r2(valueOf(row.get(&quot;r2&quot;)))\r\n                                    .r3(valueOf(row.get(&quot;r3&quot;)))\r\n                                    .r4(valueOf(row.get(&quot;r4&quot;)))\r\n                                    .build()\r\n                    ).findFirst().get();\r\n        }\r\n    \r\n        @Given(&quot;^the following streams (.+) and (.+)$&quot;)\r\n        public void printTheFollowingStreams(String streamIdCreation, String streamIdAck) {\r\n            log.info(&quot;getting from streams {} and {}&quot;, streamIdCreation, streamIdAck);\r\n        }\r\n    \r\n        @When(&quot;^I get the A message from the (.+) stream$&quot;)\r\n        public void callAmpereToA(String streamId) {\r\n            endpointBFuture = CompletableFuture.supplyAsync(() -&gt; restService.getMessage(streamId), executor);\r\n        }\r\n    \r\n        @When(&quot;^I get the B message from the (.+) stream$&quot;)\r\n        public void callAmpereToB(String streamId) {\r\n            endpointAFuture = CompletableFuture.supplyAsync(() -&gt; restService.getMessage(streamId), executor);\r\n        }\r\n    \r\n        @Then(&quot;^the response from endpointA should be$&quot;)\r\n        public void isExpectedToHaveTheFollowingCreationFromAmpere(DataTable row) {\r\n            expectedResponseB = respBEntryTransformer(row);\r\n        }\r\n    \r\n        @And(&quot;^the response from endpointB should be$&quot;)\r\n        public void isExpectedToHaveTheFollowingResponseFromAmpere(DataTable row) {\r\n            expectedResponseA = responseAEntryTransformer(row);\r\n        }\r\n    \r\n        @Then(&quot;^the responses from both endpoints should match the expectations$&quot;)\r\n        public void isActualMatchingExpected() throws JsonProcessingException, ParseException, JSONException {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            JSONParser parser = new JSONParser();\r\n            AtomicReference&lt;String&gt; respBId = new AtomicReference&lt;&gt;();\r\n            AtomicReference&lt;String&gt; respAId = new AtomicReference&lt;&gt;();\r\n            CompletableFuture&lt;Map&lt;String, Object&gt;&gt; combinedFuture = endpointBFuture.thenCombine(endpointAFuture, (respB, respA) -&gt; {\r\n                respBId.set(respB.getId());\r\n                respAId.set(respA.getId());\r\n                return Map.of(respBId.get(), respB\r\n                        , respAId.get(), respA);\r\n            });\r\n            try {\r\n                Map&lt;String, Object&gt; combinedResults = combinedFuture.get();\r\n                GenericMessage&lt;ResponseB&gt; actualResponseB = (GenericMessage&lt;ResponseB&gt;) combinedResults.get(respBId.get());\r\n                GenericMessage&lt;ResponseA&gt; actualResponseA = (GenericMessage&lt;ResponseA&gt;) combinedResults.get(respAId.get());\r\n                String actualResponseBStr = mapper.writeValueAsString(actualResponseB.getData());\r\n                String expectedResponseBStr = mapper.writeValueAsString(expectedResponseB);\r\n                JSONObject actualResponseBJson = new JSONObject(String.valueOf(parser.parse(actualResponseBStr)));\r\n                JSONAssert.assertEquals(expectedResponseBStr, actualResponseBJson, JSONCompareMode.LENIENT);\r\n                String actualResponseAStr = mapper.writeValueAsString(actualResponseA.getData());\r\n                String expectedResponseAStr = mapper.writeValueAsString(expectedResponseA);\r\n                JSONObject actualResponseAJson = new JSONObject(String.valueOf(parser.parse(actualResponseAStr)));\r\n                JSONAssert.assertEquals(expectedResponseAStr, actualResponseAJson, JSONCompareMode.LENIENT);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (ExecutionException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; java.lang.RuntimeException: java.util.concurrent.ExecutionException:\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;core.models.common.AB.GenericMessage.getId()&quot;\r\n&gt; because &quot;respB&quot; is null \tat\r\n&gt; AB.bdd.stepdefs.ABStep.isActualMatchingExpected(ABStep.java:111)\r\n\r\nAnd sometimes respA is null\r\nI&#39;d like to have a non-null response for both respA and respB\r\n\r\nAny help is appreciated","title":"Cannot get non-null responses from two async REST API in my Cucumber Test simultaneously","body":"<p>I'm getting an error when end2end testing with cucumber; when I'd like to assert that the responses coming from two different async APIs aren't null and match the expected contents as described in my gherkin spec.</p>\n<p>Given two async endpoints one called endpointA and the other one called endpointB.</p>\n<pre><code>Scenario:\n    Given the following streams endpointA and endpointB\n    When I get the A message from the endpointA stream\n    When I get the B message from the endpointB stream\n    Then the response from endpointA should be\n      | att1 | att2   | att3 |\n      | 11111| 000000 | test |\n    And the response from endpointB should be\n      | r1        | r2    | r3     | r4     |\n      | A00586-00 | 11111 | &lt;null&gt; | OK     |\n    Then the responses from both endpoints should match the expectations\n</code></pre>\n<p>The step definition for the above gherkin is described below:</p>\n<pre><code>public class ABStep extends CucumberBootstrap {\n\n    private CompletableFuture&lt;GenericMessage&lt;ResponseA&gt;&gt; endpointAFuture;\n    private CompletableFuture&lt;GenericMessage&lt;ResponseB&gt;&gt; endpointBFuture;\n    ResponseB expectedResponseB;\n    ResponseA expectedResponseA;\n    @Autowired\n    private RestService restService;\n    private Executor executor = Executors.newFixedThreadPool(5);\n\n    @DataTableType\n    public ResponseA responseAEntryTransformer(DataTable dataTable) {\n        return dataTable.asMaps(String.class, Object.class).stream()\n                .map(row -&gt;\n                        ResponseA.builder()\n                                .r1(valueOf(row.get(&quot;r1&quot;)))\n                                .r2(valueOf(row.get(&quot;r2&quot;)))\n                                .r3(valueOf(row.get(&quot;r3&quot;)))\n                                .r4(valueOf(row.get(&quot;r4&quot;)))\n                                .build()\n                ).findFirst().get();\n    }\n\n    @Given(&quot;^the following streams (.+) and (.+)$&quot;)\n    public void printTheFollowingStreams(String streamIdCreation, String streamIdAck) {\n        log.info(&quot;getting from streams {} and {}&quot;, streamIdCreation, streamIdAck);\n    }\n\n    @When(&quot;^I get the A message from the (.+) stream$&quot;)\n    public void callAmpereToA(String streamId) {\n        endpointBFuture = CompletableFuture.supplyAsync(() -&gt; restService.getMessage(streamId), executor);\n    }\n\n    @When(&quot;^I get the B message from the (.+) stream$&quot;)\n    public void callAmpereToB(String streamId) {\n        endpointAFuture = CompletableFuture.supplyAsync(() -&gt; restService.getMessage(streamId), executor);\n    }\n\n    @Then(&quot;^the response from endpointA should be$&quot;)\n    public void isExpectedToHaveTheFollowingCreationFromAmpere(DataTable row) {\n        expectedResponseB = respBEntryTransformer(row);\n    }\n\n    @And(&quot;^the response from endpointB should be$&quot;)\n    public void isExpectedToHaveTheFollowingResponseFromAmpere(DataTable row) {\n        expectedResponseA = responseAEntryTransformer(row);\n    }\n\n    @Then(&quot;^the responses from both endpoints should match the expectations$&quot;)\n    public void isActualMatchingExpected() throws JsonProcessingException, ParseException, JSONException {\n        ObjectMapper mapper = new ObjectMapper();\n        JSONParser parser = new JSONParser();\n        AtomicReference&lt;String&gt; respBId = new AtomicReference&lt;&gt;();\n        AtomicReference&lt;String&gt; respAId = new AtomicReference&lt;&gt;();\n        CompletableFuture&lt;Map&lt;String, Object&gt;&gt; combinedFuture = endpointBFuture.thenCombine(endpointAFuture, (respB, respA) -&gt; {\n            respBId.set(respB.getId());\n            respAId.set(respA.getId());\n            return Map.of(respBId.get(), respB\n                    , respAId.get(), respA);\n        });\n        try {\n            Map&lt;String, Object&gt; combinedResults = combinedFuture.get();\n            GenericMessage&lt;ResponseB&gt; actualResponseB = (GenericMessage&lt;ResponseB&gt;) combinedResults.get(respBId.get());\n            GenericMessage&lt;ResponseA&gt; actualResponseA = (GenericMessage&lt;ResponseA&gt;) combinedResults.get(respAId.get());\n            String actualResponseBStr = mapper.writeValueAsString(actualResponseB.getData());\n            String expectedResponseBStr = mapper.writeValueAsString(expectedResponseB);\n            JSONObject actualResponseBJson = new JSONObject(String.valueOf(parser.parse(actualResponseBStr)));\n            JSONAssert.assertEquals(expectedResponseBStr, actualResponseBJson, JSONCompareMode.LENIENT);\n            String actualResponseAStr = mapper.writeValueAsString(actualResponseA.getData());\n            String expectedResponseAStr = mapper.writeValueAsString(expectedResponseA);\n            JSONObject actualResponseAJson = new JSONObject(String.valueOf(parser.parse(actualResponseAStr)));\n            JSONAssert.assertEquals(expectedResponseAStr, actualResponseAJson, JSONCompareMode.LENIENT);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        } catch (ExecutionException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>java.lang.RuntimeException: java.util.concurrent.ExecutionException:\njava.lang.NullPointerException: Cannot invoke\n&quot;core.models.common.AB.GenericMessage.getId()&quot;\nbecause &quot;respB&quot; is null   at\nAB.bdd.stepdefs.ABStep.isActualMatchingExpected(ABStep.java:111)</p>\n</blockquote>\n<p>And sometimes respA is null\nI'd like to have a non-null response for both respA and respB</p>\n<p>Any help is appreciated</p>\n"},{"tags":["java","playwright","webautomation","playwright-java"],"answers":[{"comments":[{"owner":{"account_id":7936659,"reputation":51,"user_id":5992389,"display_name":"lorenlai"},"score":1,"creation_date":1690484875,"post_id":72803418,"comment_id":135364206,"body_markdown":"thank you very much! &#128512;","body":"thank you very much! 😀"}],"tags":[],"owner":{"account_id":2754837,"reputation":19523,"user_id":2373249,"accept_rate":25,"display_name":"hardkoded"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1656514072,"creation_date":1656514072,"answer_id":72803418,"question_id":72803360,"body_markdown":"`textContext` won&#39;t return a value of an input. The same will happen if you try that in the DevTools.  \r\nYou can use [inputValue](https://playwright.dev/java/docs/api/class-elementhandle#element-handle-input-value) instead.  \r\ne.g.\r\n```\r\npage.locator(&quot;#myName&quot;).inputValue();\r\n```","title":"Playwright JAVA: How to get the VALUE of an input field","body":"<p><code>textContext</code> won't return a value of an input. The same will happen if you try that in the DevTools.<br />\nYou can use <a href=\"https://playwright.dev/java/docs/api/class-elementhandle#element-handle-input-value\" rel=\"noreferrer\">inputValue</a> instead.<br />\ne.g.</p>\n<pre><code>page.locator(&quot;#myName&quot;).inputValue();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7936659,"reputation":51,"user_id":5992389,"display_name":"lorenlai"},"score":0,"creation_date":1656654277,"post_id":72803912,"comment_id":128629590,"body_markdown":"wowww, so many possibilities to this issue. :-) Thank you very much. I have learnt something new :-)","body":"wowww, so many possibilities to this issue. :-) Thank you very much. I have learnt something new :-)"}],"tags":[],"owner":{"account_id":5795282,"reputation":17603,"user_id":4571271,"accept_rate":53,"display_name":"Alapan Das"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656515899,"creation_date":1656515899,"answer_id":72803912,"question_id":72803360,"body_markdown":"In case you want to assert your value you can use the `.hasValue` assertion. You can read more about it from the [playwright docs][1].\r\n```java\r\nassertThat(page.locator(&quot;#myName&quot;)).hasValue(&quot;input-value&quot;);\r\n```\r\n\r\n\r\n  [1]: https://playwright.dev/java/docs/test-assertions#locator-assertions-to-have-value","title":"Playwright JAVA: How to get the VALUE of an input field","body":"<p>In case you want to assert your value you can use the <code>.hasValue</code> assertion. You can read more about it from the <a href=\"https://playwright.dev/java/docs/test-assertions#locator-assertions-to-have-value\" rel=\"nofollow noreferrer\">playwright docs</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(page.locator(&quot;#myName&quot;)).hasValue(&quot;input-value&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7936659,"reputation":51,"user_id":5992389,"display_name":"lorenlai"},"score":0,"creation_date":1690484888,"post_id":72811177,"comment_id":135364208,"body_markdown":"thank you very much! &#128512;","body":"thank you very much! 😀"}],"tags":[],"owner":{"account_id":321990,"reputation":3258,"user_id":641135,"accept_rate":88,"display_name":"Christian Baumann"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656570473,"creation_date":1656570473,"answer_id":72811177,"question_id":72803360,"body_markdown":"You could also use the imho more generic `getAttribute`:\r\n```\r\npage.locator(&quot;#myName&quot;).getAttribute(&quot;placeholder&quot;);\r\n```\r\n\r\nDocumentation: https://playwright.dev/docs/api/class-locator#locator-get-attribute","title":"Playwright JAVA: How to get the VALUE of an input field","body":"<p>You could also use the imho more generic <code>getAttribute</code>:</p>\n<pre><code>page.locator(&quot;#myName&quot;).getAttribute(&quot;placeholder&quot;);\n</code></pre>\n<p>Documentation: <a href=\"https://playwright.dev/docs/api/class-locator#locator-get-attribute\" rel=\"nofollow noreferrer\">https://playwright.dev/docs/api/class-locator#locator-get-attribute</a></p>\n"},{"comments":[{"owner":{"account_id":7936659,"reputation":51,"user_id":5992389,"display_name":"lorenlai"},"score":1,"creation_date":1690484899,"post_id":76770122,"comment_id":135364210,"body_markdown":"thank you very much! &#128512;","body":"thank you very much! 😀"}],"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690365998,"creation_date":1690365998,"answer_id":76770122,"question_id":72803360,"body_markdown":"Theory is that\r\n\r\ninputValue() is used to retrieve the value of input elements that you just typed.\r\n\r\ntextContent() is a method that is used to get the visible text content of an element on a web page. it can be a header tag. This method is useful for web scraping and verifying the content of a page.\r\n\r\nHere is a code example\r\n\r\n    page.navigate(&quot;https://the-internet.herokuapp.com/forgot_password&quot;);\r\n    Locator inputTextField=page.locator(&quot;//input[@id=&#39;email&#39;]&quot;);\r\n\r\n\r\n    // Get input text of an element using inputValue();\r\n    String actualInputVal=inputTextField.inputValue();\r\n    System.out.println(&quot;actualInputVal==&quot;+actualInputVal);\r\n    // Assert the value of it using  hasValue\r\n    assertThat(inputTextField).hasValue(&quot;My input&quot;);\r\n\r\n\r\n    Locator forgetPasswordHeader=page.locator(&quot;//h2[text()=&#39;Forgot Password&#39;]&quot;);\r\n    String forgetPasswordHeaderActualText=forgetPasswordHeader.textContent();\r\n    System.out.println(&quot;forgetPasswordHeaderActualText==&quot;+forgetPasswordHeaderActualText);\r\n    // you can&#39;t use hasValue here since  it&#39;s not an input element so use hasText\r\n    assertThat(forgetPasswordHeader).hasText(&quot;Forgot Password&quot;);\r\n\r\n\r\nThis will print\r\n\r\n    actualInputVal==My input\r\n    forgetPasswordHeaderActualText==Forgot Password\r\n\r\n","title":"Playwright JAVA: How to get the VALUE of an input field","body":"<p>Theory is that</p>\n<p>inputValue() is used to retrieve the value of input elements that you just typed.</p>\n<p>textContent() is a method that is used to get the visible text content of an element on a web page. it can be a header tag. This method is useful for web scraping and verifying the content of a page.</p>\n<p>Here is a code example</p>\n<pre><code>page.navigate(&quot;https://the-internet.herokuapp.com/forgot_password&quot;);\nLocator inputTextField=page.locator(&quot;//input[@id='email']&quot;);\n\n\n// Get input text of an element using inputValue();\nString actualInputVal=inputTextField.inputValue();\nSystem.out.println(&quot;actualInputVal==&quot;+actualInputVal);\n// Assert the value of it using  hasValue\nassertThat(inputTextField).hasValue(&quot;My input&quot;);\n\n\nLocator forgetPasswordHeader=page.locator(&quot;//h2[text()='Forgot Password']&quot;);\nString forgetPasswordHeaderActualText=forgetPasswordHeader.textContent();\nSystem.out.println(&quot;forgetPasswordHeaderActualText==&quot;+forgetPasswordHeaderActualText);\n// you can't use hasValue here since  it's not an input element so use hasText\nassertThat(forgetPasswordHeader).hasText(&quot;Forgot Password&quot;);\n</code></pre>\n<p>This will print</p>\n<pre><code>actualInputVal==My input\nforgetPasswordHeaderActualText==Forgot Password\n</code></pre>\n"}],"owner":{"account_id":7936659,"reputation":51,"user_id":5992389,"display_name":"lorenlai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2176,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1690365998,"creation_date":1656513866,"question_id":72803360,"body_markdown":"Hello Playwright experts,\r\n\r\nI have this input field\r\n\r\n    &lt;input id=&quot;myName&quot; placeholder=&quot;e.g. Max&quot; maxlength=&quot;15&quot; class=&quot;xyz&quot;/&gt;\r\n\r\nI have tried this JAVA code:\r\n\r\n    page.locator(&quot;[placeholder=\\&quot;e.g. Max\\&quot;]&quot;).textContent();\r\n\r\nIt does not work :-( but I can fill\r\n\r\n    page.locator(&quot;[placeholder=\\&quot;e.g. Max\\&quot;]&quot;).fill(&quot;Loren&quot;); // this works\r\n\r\nCould you help and has an idea?\r\n\r\nThank you in advance.\r\n\r\n*Cheers*\r\nLoren\r\n","title":"Playwright JAVA: How to get the VALUE of an input field","body":"<p>Hello Playwright experts,</p>\n<p>I have this input field</p>\n<pre><code>&lt;input id=&quot;myName&quot; placeholder=&quot;e.g. Max&quot; maxlength=&quot;15&quot; class=&quot;xyz&quot;/&gt;\n</code></pre>\n<p>I have tried this JAVA code:</p>\n<pre><code>page.locator(&quot;[placeholder=\\&quot;e.g. Max\\&quot;]&quot;).textContent();\n</code></pre>\n<p>It does not work :-( but I can fill</p>\n<pre><code>page.locator(&quot;[placeholder=\\&quot;e.g. Max\\&quot;]&quot;).fill(&quot;Loren&quot;); // this works\n</code></pre>\n<p>Could you help and has an idea?</p>\n<p>Thank you in advance.</p>\n<p><em>Cheers</em>\nLoren</p>\n"},{"tags":["java","textfield","bigdecimal","vaadin8","android-binder"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1690283846,"post_id":76754076,"comment_id":135328769,"body_markdown":"If your txtAmnt is a `TextField` you need converter as well, `StringToBigDecimalConverter`.","body":"If your txtAmnt is a <code>TextField</code> you need converter as well, <code>StringToBigDecimalConverter</code>."},{"owner":{"account_id":26260150,"reputation":1,"user_id":19931599,"display_name":"Archana"},"score":0,"creation_date":1690356130,"post_id":76754076,"comment_id":135340229,"body_markdown":"can you please explain with an example?","body":"can you please explain with an example?"}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690365667,"creation_date":1690365667,"answer_id":76770082,"question_id":76754076,"body_markdown":"If your txtAmnt is a `TextField` you need converter using `withConverter` as well, `StringToBigDecimalConverter`. You need to set converter before the `withValidator` as it assumes `BigDecimal` type, which is not compatible with String emitted by `TextField`.\r\n\r\n    binder.forField(txtAmnt)\r\n        .asRequired(&quot;This field is mandatory&quot;)\r\n        .withConverter(new StringToBigDecimalConverter(&quot;Error converting to \r\n                BigDecimal&quot;)\r\n        .withValidator(new BigDecimalRangeValidator(&quot;Enter an \r\n                amount&quot;,BigDecimal.ZERO,new BigDecimal(&quot;1000&quot;)))\r\n        .bind(amount);","title":"BigDecimalRange validator is not working in vaadin 8 (Binder)","body":"<p>If your txtAmnt is a <code>TextField</code> you need converter using <code>withConverter</code> as well, <code>StringToBigDecimalConverter</code>. You need to set converter before the <code>withValidator</code> as it assumes <code>BigDecimal</code> type, which is not compatible with String emitted by <code>TextField</code>.</p>\n<pre><code>binder.forField(txtAmnt)\n    .asRequired(&quot;This field is mandatory&quot;)\n    .withConverter(new StringToBigDecimalConverter(&quot;Error converting to \n            BigDecimal&quot;)\n    .withValidator(new BigDecimalRangeValidator(&quot;Enter an \n            amount&quot;,BigDecimal.ZERO,new BigDecimal(&quot;1000&quot;)))\n    .bind(amount);\n</code></pre>\n"}],"owner":{"account_id":26260150,"reputation":1,"user_id":19931599,"display_name":"Archana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690365667,"creation_date":1690198570,"question_id":76754076,"body_markdown":"BigDecimalRange validator is not working in vaadin version  **8.4.3** we tried to change to the latest version of vaadin 8 but the problem persist . Error shows withValidator  like *renaming the file* ,What will be the problem and how can I fix this,Iam trying  to change vaadin 7 TextField to  vaadin 8 .In v7 it was working fine. Please help \r\n\r\n```\r\nbinder.forField(txtAmnt)\r\n.asRequired(&quot;This field is mandatory&quot;)\r\n.withValidator(new BigDecimalRangeValidator(&quot;Enter an amount&quot;,BigDecimal.ZERO,new BigDecimal(&quot;1000&quot;)))\r\n.bind(amount);\r\n ```  ","title":"BigDecimalRange validator is not working in vaadin 8 (Binder)","body":"<p>BigDecimalRange validator is not working in vaadin version  <strong>8.4.3</strong> we tried to change to the latest version of vaadin 8 but the problem persist . Error shows withValidator  like <em>renaming the file</em> ,What will be the problem and how can I fix this,Iam trying  to change vaadin 7 TextField to  vaadin 8 .In v7 it was working fine. Please help</p>\n<pre><code>binder.forField(txtAmnt)\n.asRequired(&quot;This field is mandatory&quot;)\n.withValidator(new BigDecimalRangeValidator(&quot;Enter an amount&quot;,BigDecimal.ZERO,new BigDecimal(&quot;1000&quot;)))\n.bind(amount);\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676883718,"post_id":75507074,"comment_id":133220226,"body_markdown":"Please add your `pom.xml` to the question to see what the issue is. As the issue is probably in your pom.xml and how you declare/use the dependency.","body":"Please add your <code>pom.xml</code> to the question to see what the issue is. As the issue is probably in your pom.xml and how you declare/use the dependency."},{"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"score":1,"creation_date":1676960205,"post_id":75507074,"comment_id":133236811,"body_markdown":"run mvn dependency tree in order to see where it comes from. https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html","body":"run mvn dependency tree in order to see where it comes from. <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.h&zwnj;&#8203;tml</a>"}],"answers":[{"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1690372781,"post_id":76770079,"comment_id":135343706,"body_markdown":"Of course in this way it works but it&#39;s not the correct approach. Use `mvn dependency:tree` as suggested above.","body":"Of course in this way it works but it&#39;s not the correct approach. Use <code>mvn dependency:tree</code> as suggested above."},{"owner":{"account_id":4257006,"reputation":694,"user_id":3482424,"accept_rate":80,"display_name":"Morten"},"score":1,"creation_date":1690486253,"post_id":76770079,"comment_id":135364451,"body_markdown":"Might solve your problem right now, but you don&#39;t have a clear view of the consequences, because this dependency might pull in transitive dependencies which might conflict and break other parts of the system. Please check with previous suggestion.","body":"Might solve your problem right now, but you don&#39;t have a clear view of the consequences, because this dependency might pull in transitive dependencies which might conflict and break other parts of the system. Please check with previous suggestion."}],"tags":[],"owner":{"account_id":27830747,"reputation":1,"user_id":21249228,"display_name":"upcycling"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690365645,"creation_date":1690365645,"answer_id":76770079,"question_id":75507074,"body_markdown":"I examined it in detail with Dependency Analyzer, but I could not find where this dependency was added. As a solution, I added the following dependency to the poms of all the modules I have. \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;version&gt;42.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAnd now when I hover over the &quot;spring.datasource.driverClassName=org.postgresql.Driver&quot; setting in application.properties I see it points to version 42.5.1 and not the old version.","title":"Postgres Driver not pointing to correct jar version on Spring","body":"<p>I examined it in detail with Dependency Analyzer, but I could not find where this dependency was added. As a solution, I added the following dependency to the poms of all the modules I have.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.5.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And now when I hover over the &quot;spring.datasource.driverClassName=org.postgresql.Driver&quot; setting in application.properties I see it points to version 42.5.1 and not the old version.</p>\n"}],"owner":{"account_id":27830747,"reputation":1,"user_id":21249228,"display_name":"upcycling"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690365645,"creation_date":1676883166,"question_id":75507074,"body_markdown":"I am in the development team of an application in a monolithic structure.\r\n\r\nTechnical details;\r\nMaven 3.8.1 version\r\nJava 8\r\nPrevious Postgres version: 42.2.16.jre7\r\n\r\n\r\nMy problem is that; \r\nI want to upgrade Postgres version from 42.2.16.jre7 to 42.5.1. \r\nI do this upgrade in the pom file, I can pull the package with maven and I see the jar comes in the .m2 folder. \r\nIn the application.prop file, I use the following definition:\r\nspring.datasource.driverClassName=org.postgresql.Driver\r\nI see Driver still looking at the old version when hovering over it.\r\n\r\nMethods I have tried;\r\n\r\n- Deleting the old version files from the m2 and ensuring that only the version I want remains. I hover over Driver in App.prop and click on the warning &quot;Add library &#39;Driver xxx..&#39; to classpath&quot;. But when I start the application, it downloads the old version and continues to look at it.\r\n\r\n- I removed the old jars from Intellij -&gt; File -&gt; Project -&gt; Project Structure -&gt; Libraries. I re-added the jar I wanted.\r\n\r\nWhen I do these, when I hover over Driver in app.prop, I see that it points to the version I want. But when I start the application, it downloads the old jars again.\r\n\r\nNote: There are pom files under other modules in the application, I checked that it does not pull a different version of postgres in those poms.\r\n\r\nIn summary, how can I make the application look at the version I want?\r\n\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.hx.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;core-spring-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;relativePath&gt;../core-spring-parent/pom.xml&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;core-service&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;hazelcast.version&gt;3.8.3&lt;/hazelcast.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hx.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core-context&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hx.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hx-address-clean&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.5.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.8.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.8.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.9.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\r\n            &lt;version&gt;${hazelcast.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hazelcast-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;${hazelcast.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bitsofinfo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hazelcast-docker-swarm-discovery-spi&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-RC3&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.dozer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dozer&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.craftsman&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dozer-jdk8-support&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;3.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.newrelic.agent.java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;newrelic-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.14&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.16&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hx.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hx-dist-cache&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;18.0.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.15&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-sources&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceRoot&gt;${project.basedir}/src/main/java&lt;/sourceRoot&gt;\r\n                            &lt;wsdlOptions&gt;\r\n                                &lt;wsdlOption&gt;\r\n                                    &lt;wsdl&gt;${project.basedir}/src/main/resources/wsdl/ZsdHxCargoStatuEnt.wsdl&lt;/wsdl&gt;\r\n                                    &lt;wsdlLocation&gt;classpath:wsdl/ZsdHxCargoStatuEnt.wsdl&lt;/wsdlLocation&gt;\r\n                                &lt;/wsdlOption&gt;\r\n                            &lt;/wsdlOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n","title":"Postgres Driver not pointing to correct jar version on Spring","body":"<p>I am in the development team of an application in a monolithic structure.</p>\n<p>Technical details;\nMaven 3.8.1 version\nJava 8\nPrevious Postgres version: 42.2.16.jre7</p>\n<p>My problem is that;\nI want to upgrade Postgres version from 42.2.16.jre7 to 42.5.1.\nI do this upgrade in the pom file, I can pull the package with maven and I see the jar comes in the .m2 folder.\nIn the application.prop file, I use the following definition:\nspring.datasource.driverClassName=org.postgresql.Driver\nI see Driver still looking at the old version when hovering over it.</p>\n<p>Methods I have tried;</p>\n<ul>\n<li><p>Deleting the old version files from the m2 and ensuring that only the version I want remains. I hover over Driver in App.prop and click on the warning &quot;Add library 'Driver xxx..' to classpath&quot;. But when I start the application, it downloads the old version and continues to look at it.</p>\n</li>\n<li><p>I removed the old jars from Intellij -&gt; File -&gt; Project -&gt; Project Structure -&gt; Libraries. I re-added the jar I wanted.</p>\n</li>\n</ul>\n<p>When I do these, when I hover over Driver in app.prop, I see that it points to the version I want. But when I start the application, it downloads the old jars again.</p>\n<p>Note: There are pom files under other modules in the application, I checked that it does not pull a different version of postgres in those poms.</p>\n<p>In summary, how can I make the application look at the version I want?</p>\n<p>\n4.0.0</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;com.hx.core&lt;/groupId&gt;\n    &lt;artifactId&gt;core-spring-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;../core-spring-parent/pom.xml&lt;/relativePath&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;core-service&lt;/artifactId&gt;\n\n&lt;properties&gt;\n    &lt;hazelcast.version&gt;3.8.3&lt;/hazelcast.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hx.core&lt;/groupId&gt;\n        &lt;artifactId&gt;core-context&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hx.core&lt;/groupId&gt;\n        &lt;artifactId&gt;hx-address-clean&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n        &lt;version&gt;5.3.8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.5.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n        &lt;version&gt;1.9.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n        &lt;version&gt;2.8.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;version&gt;2.8.8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n        &lt;version&gt;5.2.8.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.2.8.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\n        &lt;version&gt;5.2.9.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n        &lt;version&gt;${hazelcast.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast-spring&lt;/artifactId&gt;\n        &lt;version&gt;${hazelcast.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n                &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bitsofinfo&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast-docker-swarm-discovery-spi&lt;/artifactId&gt;\n        &lt;version&gt;1.0-RC3&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;2.7.19&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.dozer&lt;/groupId&gt;\n        &lt;artifactId&gt;dozer&lt;/artifactId&gt;\n        &lt;version&gt;5.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.craftsman&lt;/groupId&gt;\n        &lt;artifactId&gt;dozer-jdk8-support&lt;/artifactId&gt;\n        &lt;version&gt;1.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-net&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n        &lt;version&gt;3.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.newrelic.agent.java&lt;/groupId&gt;\n        &lt;artifactId&gt;newrelic-api&lt;/artifactId&gt;\n        &lt;version&gt;5.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n        &lt;version&gt;1.5.14&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.16&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n        &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n        &lt;version&gt;5.3.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hx.core&lt;/groupId&gt;\n        &lt;artifactId&gt;hx-dist-cache&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n            &lt;version&gt;18.0.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.15&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate-sources&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceRoot&gt;${project.basedir}/src/main/java&lt;/sourceRoot&gt;\n                        &lt;wsdlOptions&gt;\n                            &lt;wsdlOption&gt;\n                                &lt;wsdl&gt;${project.basedir}/src/main/resources/wsdl/ZsdHxCargoStatuEnt.wsdl&lt;/wsdl&gt;\n                                &lt;wsdlLocation&gt;classpath:wsdl/ZsdHxCargoStatuEnt.wsdl&lt;/wsdlLocation&gt;\n                            &lt;/wsdlOption&gt;\n                        &lt;/wsdlOptions&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","minecraft","bukkit"],"comments":[{"owner":{"account_id":6768525,"reputation":680,"user_id":5212693,"display_name":"questioner and answerer"},"score":1,"creation_date":1457293614,"post_id":35831619,"comment_id":59330164,"body_markdown":"What do you mean &quot;sometimes&quot; it doesn&#39;t work? What&#39;s the error?","body":"What do you mean &quot;sometimes&quot; it doesn&#39;t work? What&#39;s the error?"},{"owner":{"account_id":6386303,"reputation":1415,"user_id":4954114,"accept_rate":71,"display_name":"NonameSL"},"score":1,"creation_date":1457293730,"post_id":35831619,"comment_id":59330204,"body_markdown":"Side comment: Your package has upper case letters. You should name it `me.nightfighter001.globalsystem.worldeditor` instead","body":"Side comment: Your package has upper case letters. You should name it <code>me.nightfighter001.globalsystem.worldeditor</code> instead"},{"owner":{"account_id":7362546,"reputation":517,"user_id":5605356,"accept_rate":79,"display_name":"LeWimbes"},"score":0,"creation_date":1457294987,"post_id":35831619,"comment_id":59330684,"body_markdown":"The problem is that it sometimes gives wrong solution to me, so there is no error or something like this","body":"The problem is that it sometimes gives wrong solution to me, so there is no error or something like this"}],"answers":[{"comments":[{"owner":{"account_id":7362546,"reputation":517,"user_id":5605356,"accept_rate":79,"display_name":"LeWimbes"},"score":0,"creation_date":1457294943,"post_id":35831672,"comment_id":59330671,"body_markdown":"First thanks for your fast answer! I had to replace &quot;N&quot; by &quot;W&quot;, &quot;E&quot; by &quot;N&quot;, &quot;S&quot; by &quot;E&quot; and &quot;W&quot; by &quot;S&quot;. But with your code I also found the Problem that the direction doesn&#39;t change at 45degree, but circa at 70degree. So if I move my Head from North to West, the code displays West, while it is still North...","body":"First thanks for your fast answer! I had to replace &quot;N&quot; by &quot;W&quot;, &quot;E&quot; by &quot;N&quot;, &quot;S&quot; by &quot;E&quot; and &quot;W&quot; by &quot;S&quot;. But with your code I also found the Problem that the direction doesn&#39;t change at 45degree, but circa at 70degree. So if I move my Head from North to West, the code displays West, while it is still North..."}],"tags":[],"owner":{"account_id":6386303,"reputation":1415,"user_id":4954114,"accept_rate":71,"display_name":"NonameSL"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457293658,"creation_date":1457293658,"answer_id":35831672,"question_id":35831619,"body_markdown":"You might want to try this:\r\n\r\n    private String getDirection(Player player) {\r\n\t\tdouble rot = (player.getLocation().getYaw() - 90) % 360;\r\n\t\tif (rot &lt; 0) {\r\n\t\t\trot += 360.0;\r\n\t\t}\r\n\t\tif (0 &lt;= rot &amp;&amp; rot &lt; 67.5) {\r\n\t    \treturn &quot;N&quot;;\r\n\t    } else if (67.5 &lt;= rot &amp;&amp; rot &lt; 157.5) {\r\n\t    \treturn &quot;E&quot;;\r\n\t    } else if (157.5 &lt;= rot &amp;&amp; rot &lt;247.5) {\r\n\t    \treturn &quot;S&quot;;\r\n\t    } else if (247.5 &lt;= rot &amp;&amp; rot &lt; 360.0) {\r\n\t    \treturn &quot;W&quot;;\r\n\t    } else {\r\n\t    \treturn null;\r\n\t    }\r\n\t}","title":"Get the direction a Player is looking?","body":"<p>You might want to try this:</p>\n\n<pre><code>private String getDirection(Player player) {\n    double rot = (player.getLocation().getYaw() - 90) % 360;\n    if (rot &lt; 0) {\n        rot += 360.0;\n    }\n    if (0 &lt;= rot &amp;&amp; rot &lt; 67.5) {\n        return \"N\";\n    } else if (67.5 &lt;= rot &amp;&amp; rot &lt; 157.5) {\n        return \"E\";\n    } else if (157.5 &lt;= rot &amp;&amp; rot &lt;247.5) {\n        return \"S\";\n    } else if (247.5 &lt;= rot &amp;&amp; rot &lt; 360.0) {\n        return \"W\";\n    } else {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6400883,"reputation":1271,"user_id":4963588,"display_name":"Adrian Sohn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457329750,"creation_date":1457329750,"answer_id":35837014,"question_id":35831619,"body_markdown":"The yaw values can range from -360 to 360, so for values greater than 135 or smaller than -135, your code currently doesn&#39;t display the correct cardinal direction. In your case, as far as I can tell, you can add 360 to any negative yaw values to shorten the code (less checks). The range from 0 - 45 degrees and 315 to 360 degrees is then south, 45 - 135 degrees is west, 135 - 225 degrees is north and 225 - 315 degrees is east. The code would look something like this, I tested this for a little while and it seemed to match the values of the f3 debug menu/screen:\r\n\r\n        public static CardinalDirection get(Player player) {\r\n        float yaw = player.getLocation().getYaw();\r\n        if (yaw &lt; 0) {\r\n            yaw += 360;\r\n        }\r\n        if (yaw &gt;= 315 || yaw &lt; 45) {\r\n            return CardinalDirection.SOUTH;\r\n        } else if (yaw &lt; 135) {\r\n            return CardinalDirection.WEST;\r\n        } else if (yaw &lt; 225) {\r\n            return CardinalDirection.NORTH;\r\n        } else if (yaw &lt; 315) {\r\n            return CardinalDirection.EAST;\r\n        }\r\n        return CardinalDirection.NORTH;\r\n    }","title":"Get the direction a Player is looking?","body":"<p>The yaw values can range from -360 to 360, so for values greater than 135 or smaller than -135, your code currently doesn't display the correct cardinal direction. In your case, as far as I can tell, you can add 360 to any negative yaw values to shorten the code (less checks). The range from 0 - 45 degrees and 315 to 360 degrees is then south, 45 - 135 degrees is west, 135 - 225 degrees is north and 225 - 315 degrees is east. The code would look something like this, I tested this for a little while and it seemed to match the values of the f3 debug menu/screen:</p>\n\n<pre><code>    public static CardinalDirection get(Player player) {\n    float yaw = player.getLocation().getYaw();\n    if (yaw &lt; 0) {\n        yaw += 360;\n    }\n    if (yaw &gt;= 315 || yaw &lt; 45) {\n        return CardinalDirection.SOUTH;\n    } else if (yaw &lt; 135) {\n        return CardinalDirection.WEST;\n    } else if (yaw &lt; 225) {\n        return CardinalDirection.NORTH;\n    } else if (yaw &lt; 315) {\n        return CardinalDirection.EAST;\n    }\n    return CardinalDirection.NORTH;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7362546,"reputation":517,"user_id":5605356,"accept_rate":79,"display_name":"LeWimbes"},"score":0,"creation_date":1457383942,"post_id":35853756,"comment_id":59373266,"body_markdown":"So tell me how! I think, it only returns an Vector which displays the speed.","body":"So tell me how! I think, it only returns an Vector which displays the speed."}],"tags":[],"owner":{"account_id":4708115,"reputation":61,"user_id":3809555,"display_name":"Viktoracri"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457383839,"creation_date":1457383839,"answer_id":35853756,"question_id":35831619,"body_markdown":"You can do this:\r\n\r\n\r\n\r\n\r\ngetPlayer().getEyeLocation().getDirection()","title":"Get the direction a Player is looking?","body":"<p>You can do this:</p>\n\n<p>getPlayer().getEyeLocation().getDirection()</p>\n"},{"tags":[],"owner":{"account_id":11002035,"reputation":3342,"user_id":8997916,"display_name":"DownloadPizza"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1591476291,"creation_date":1591476291,"answer_id":62237821,"question_id":35831619,"body_markdown":"The answer that was marked as correct works, but in theory the yaw can also have values above 360 degrees (noted in the documentation), so just handling negative values might cause bugs at some point.\r\n\r\nThe code here is your exact code, but it uses a true modulo implementation to get the angle in the 0-360 degree range.\r\n```java\r\npublic static Yaw getYaw(Player p) {\r\n    float yaw = p.getLocation().getYaw();\r\n    yaw = (yaw % 360 + 360) % 360; // true modulo, as javas modulo is weird for negative values\r\n    if (yaw &gt; 135 || yaw &lt; -135) {\r\n        return Yaw.NORTH;\r\n    } else if (yaw &lt; -45) {\r\n        return Yaw.EAST;\r\n    } else if (yaw &gt; 45) {\r\n        return Yaw.WEST;\r\n    } else {\r\n        return Yaw.SOUTH;\r\n    }\r\n}\r\n```","title":"Get the direction a Player is looking?","body":"<p>The answer that was marked as correct works, but in theory the yaw can also have values above 360 degrees (noted in the documentation), so just handling negative values might cause bugs at some point.</p>\n\n<p>The code here is your exact code, but it uses a true modulo implementation to get the angle in the 0-360 degree range.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Yaw getYaw(Player p) {\n    float yaw = p.getLocation().getYaw();\n    yaw = (yaw % 360 + 360) % 360; // true modulo, as javas modulo is weird for negative values\n    if (yaw &gt; 135 || yaw &lt; -135) {\n        return Yaw.NORTH;\n    } else if (yaw &lt; -45) {\n        return Yaw.EAST;\n    } else if (yaw &gt; 45) {\n        return Yaw.WEST;\n    } else {\n        return Yaw.SOUTH;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1681623242,"post_id":75991132,"comment_id":134084534,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75991132/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":2471855,"reputation":29,"user_id":2153514,"display_name":"LorenzoP"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681261016,"creation_date":1681261016,"answer_id":75991132,"question_id":35831619,"body_markdown":"There is a player.getFacing() function available, which returns BlockFace. I don&#39;t know when this was added.","title":"Get the direction a Player is looking?","body":"<p>There is a player.getFacing() function available, which returns BlockFace. I don't know when this was added.</p>\n"},{"tags":[],"owner":{"account_id":29094284,"reputation":1,"user_id":22287491,"display_name":"OneKa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690365629,"creation_date":1690365629,"answer_id":76770075,"question_id":35831619,"body_markdown":"There is a getting BlockFace of player looking:\r\n\r\n    public static BlockFace getBlockFacing(Player p) {\r\n        float yaw = p.getLocation().getYaw();\r\n        float pitch = p.getLocation().getPitch();\r\n        if (pitch &gt;= 45) {\r\n            return BlockFace.DOWN;\r\n        } else if (pitch &lt;= -45) {\r\n            return BlockFace.UP;\r\n        } else if (yaw &gt; 45 &amp;&amp; yaw &lt; 135) {\r\n            return BlockFace.WEST;\r\n        } else if (yaw &gt;= 135 || yaw &lt; -135) {\r\n            return BlockFace.NORTH;\r\n        } else if (yaw &gt;= -135 &amp;&amp; yaw &lt; -45) {\r\n            return BlockFace.EAST;\r\n        } else {\r\n            return BlockFace.SOUTH;\r\n        }\r\n    }","title":"Get the direction a Player is looking?","body":"<p>There is a getting BlockFace of player looking:</p>\n<pre><code>public static BlockFace getBlockFacing(Player p) {\n    float yaw = p.getLocation().getYaw();\n    float pitch = p.getLocation().getPitch();\n    if (pitch &gt;= 45) {\n        return BlockFace.DOWN;\n    } else if (pitch &lt;= -45) {\n        return BlockFace.UP;\n    } else if (yaw &gt; 45 &amp;&amp; yaw &lt; 135) {\n        return BlockFace.WEST;\n    } else if (yaw &gt;= 135 || yaw &lt; -135) {\n        return BlockFace.NORTH;\n    } else if (yaw &gt;= -135 &amp;&amp; yaw &lt; -45) {\n        return BlockFace.EAST;\n    } else {\n        return BlockFace.SOUTH;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7362546,"reputation":517,"user_id":5605356,"accept_rate":79,"display_name":"LeWimbes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10810,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62237821,"answer_count":6,"score":3,"last_activity_date":1690365629,"creation_date":1457293348,"question_id":35831619,"body_markdown":"I tried to get the direction, like North, South, West, East, of a Players Facing. I created this code, but sometimes it doesn&#39;t work...\r\n\r\n    package me.Nightfighter001.GlobalSystem.WorldEditor;\r\n\r\n    import org.bukkit.entity.Player;\r\n\r\n    public enum Yaw {\r\n        NORTH, SOUTH, EAST, WEST;\r\n\r\n        public static Yaw getYaw(Player p) {\r\n\t\t    float yaw = p.getLocation().getYaw();\r\n\t\t    if (yaw &gt; 135 || yaw &lt; -135) {\r\n\t\t\t    return Yaw.NORTH;\r\n\t\t    } else if (yaw &lt; -45) {\r\n\t\t\t    return Yaw.EAST;\r\n\t\t    } else if (yaw &gt; 45) {\r\n\t\t\t    return Yaw.WEST;\r\n\t\t    } else {\r\n\t\t\t    return Yaw.SOUTH;\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nCan someone help me, please? Sorry for my bad English and thank you :)","title":"Get the direction a Player is looking?","body":"<p>I tried to get the direction, like North, South, West, East, of a Players Facing. I created this code, but sometimes it doesn't work...</p>\n\n<pre><code>package me.Nightfighter001.GlobalSystem.WorldEditor;\n\nimport org.bukkit.entity.Player;\n\npublic enum Yaw {\n    NORTH, SOUTH, EAST, WEST;\n\n    public static Yaw getYaw(Player p) {\n        float yaw = p.getLocation().getYaw();\n        if (yaw &gt; 135 || yaw &lt; -135) {\n            return Yaw.NORTH;\n        } else if (yaw &lt; -45) {\n            return Yaw.EAST;\n        } else if (yaw &gt; 45) {\n            return Yaw.WEST;\n        } else {\n            return Yaw.SOUTH;\n        }\n    }\n}\n</code></pre>\n\n<p>Can someone help me, please? Sorry for my bad English and thank you :)</p>\n"},{"tags":["java","spring","spring-boot","gradle","testing"],"answers":[{"tags":[],"owner":{"account_id":10362317,"reputation":106,"user_id":7642429,"display_name":"Amin Nemati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690365341,"creation_date":1690365341,"answer_id":76770021,"question_id":76746611,"body_markdown":"This is my every test class annotation\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    class ApplicationTests {}\r\n\r\n_________________\r\n\r\n    ClassLoader.class.getResourceAsStream(&quot;/path/to/your/xml&quot;) and make sure that your compile script is copying the xml file to where in your CLASSPATH. \r\n\r\n___________________\r\n\r\n\r\n\r\nSome of the &quot;getResourceAsStream()&quot; options in this answer didn&#39;t work for me, but this one did:\r\n\r\n    SomeClassWithinYourSourceDir.class.getClassLoader().getResourceAsStream(&quot;yourResource&quot;);\r\n\r\n","title":"SpringBootTest weird behavior when getting resource classpath","body":"<p>This is my every test class annotation</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass ApplicationTests {}\n</code></pre>\n<hr />\n<pre><code>ClassLoader.class.getResourceAsStream(&quot;/path/to/your/xml&quot;) and make sure that your compile script is copying the xml file to where in your CLASSPATH. \n</code></pre>\n<hr />\n<p>Some of the &quot;getResourceAsStream()&quot; options in this answer didn't work for me, but this one did:</p>\n<pre><code>SomeClassWithinYourSourceDir.class.getClassLoader().getResourceAsStream(&quot;yourResource&quot;);\n</code></pre>\n"}],"owner":{"account_id":13954095,"reputation":164,"user_id":10076956,"display_name":"Van Teo Le"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690365341,"creation_date":1690084943,"question_id":76746611,"body_markdown":"So i setup an integration test for Spring Boot like this:\r\n```java\r\n@Tag(TestType.INTEGRATION_TEST)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE, classes = MyApplication.class)\r\n@AutoConfigureEmbeddedDatabase(provider = DatabaseProvider.ZONKY)\r\n@AutoConfigureMockMvc\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class IntegrationTest {}\r\n```\r\nSo this test will spin up all of my components, one of which in particular, must retrieve a yml file from my classpath. The value of &quot;application.hub-spot.data&quot; is &quot;classpath:/path/to/hubspot/config.yml&quot;.\r\n\r\nBUT, currently that component, during test ONLY, cannot find the resource:\r\n```java\r\n      @Value(&quot;${application.hub-spot.data}&quot;)\r\n    private String path;\r\npublic void example(){\r\n\tnew ClassPathResource(path).getInputStream(); // this will throw an error\r\n}\r\n```\r\n\r\n\r\n\r\nHOWEVER if i change it like this then the resource can be found easily\r\n```java\r\n    @Value(&quot;${application.hub-spot.data}&quot;)\r\n    private Resource rsrc;\r\n    public void example(){\r\n\trsrc.getInputStream(); // this work\r\n}\r\n```\r\n\r\nOne more fact is that if i remove the &quot;classpath:&quot; prefix from the value, then both my current code and the ad-hoc fix one will work perfectly.\r\n\r\nI see no documentation regarding this behaviour, so if anyone has come across this, please let me know!\r\nThank you in advance.","title":"SpringBootTest weird behavior when getting resource classpath","body":"<p>So i setup an integration test for Spring Boot like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Tag(TestType.INTEGRATION_TEST)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE, classes = MyApplication.class)\n@AutoConfigureEmbeddedDatabase(provider = DatabaseProvider.ZONKY)\n@AutoConfigureMockMvc\n@ActiveProfiles(&quot;test&quot;)\npublic class IntegrationTest {}\n</code></pre>\n<p>So this test will spin up all of my components, one of which in particular, must retrieve a yml file from my classpath. The value of &quot;application.hub-spot.data&quot; is &quot;classpath:/path/to/hubspot/config.yml&quot;.</p>\n<p>BUT, currently that component, during test ONLY, cannot find the resource:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      @Value(&quot;${application.hub-spot.data}&quot;)\n    private String path;\npublic void example(){\n    new ClassPathResource(path).getInputStream(); // this will throw an error\n}\n</code></pre>\n<p>HOWEVER if i change it like this then the resource can be found easily</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Value(&quot;${application.hub-spot.data}&quot;)\n    private Resource rsrc;\n    public void example(){\n    rsrc.getInputStream(); // this work\n}\n</code></pre>\n<p>One more fact is that if i remove the &quot;classpath:&quot; prefix from the value, then both my current code and the ad-hoc fix one will work perfectly.</p>\n<p>I see no documentation regarding this behaviour, so if anyone has come across this, please let me know!\nThank you in advance.</p>\n"},{"tags":["java","spring-boot","elasticsearch","mockito","powermock"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1690310395,"post_id":76763772,"comment_id":135334783,"body_markdown":"How do you pass the mocked client to class under test?","body":"How do you pass the mocked client to class under test?"},{"owner":{"account_id":25489160,"reputation":49,"user_id":19284258,"display_name":"ReallyNicePerson"},"score":0,"creation_date":1690363913,"post_id":76763772,"comment_id":135341838,"body_markdown":"@BeforeEach\n    void setUp() {\n        MockitoAnnotations.openMocks(this)\n        client = mock(RestHighLevelClient.class);\n        collectorService = new RulePreviewsCollectorService(someService, someOtherService, xxx, ..., client);\n    }\nI pass it like this in a constructor","body":"@BeforeEach     void setUp() {         MockitoAnnotations.openMocks(this)         client = mock(RestHighLevelClient.class);         collectorService = new RulePreviewsCollectorService(someService, someOtherService, xxx, ..., client);     } I pass it like this in a constructor"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1690364120,"post_id":76763772,"comment_id":135341888,"body_markdown":"I already see that you initialise the client twice - once via openMocks, then via mock - but I cannot find the problem without seeing entire test class (with all annotations, and ideally imports)","body":"I already see that you initialise the client twice - once via openMocks, then via mock - but I cannot find the problem without seeing entire test class (with all annotations, and ideally imports)"},{"owner":{"account_id":25489160,"reputation":49,"user_id":19284258,"display_name":"ReallyNicePerson"},"score":0,"creation_date":1690364268,"post_id":76763772,"comment_id":135341907,"body_markdown":"I will change description, and add everything needed.","body":"I will change description, and add everything needed."},{"owner":{"account_id":25489160,"reputation":49,"user_id":19284258,"display_name":"ReallyNicePerson"},"score":0,"creation_date":1690365089,"post_id":76763772,"comment_id":135342089,"body_markdown":"@Lesiak did change description.","body":"@Lesiak did change description."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1690366310,"post_id":76763772,"comment_id":135342378,"body_markdown":"Did you debug to check if it is really assigned in the constructor, and iif so, when it changes to null?","body":"Did you debug to check if it is really assigned in the constructor, and iif so, when it changes to null?"},{"owner":{"account_id":25489160,"reputation":49,"user_id":19284258,"display_name":"ReallyNicePerson"},"score":0,"creation_date":1690366613,"post_id":76763772,"comment_id":135342437,"body_markdown":"I did debug and It&#39;s mocking null in a test class is like this: \n~ client = {RestHighLevelClient$MockitoMock$395164400@3320} &quot;Mock for RestHighLevelClient, hashCode: 1697441364&quot;\n&gt; mockitolnterceptor = {MockMethodInterceptor@4198} \nclient = null \n...(every value is null or false )\n featuresClient = null","body":"I did debug and It&#39;s mocking null in a test class is like this:  ~ client = {RestHighLevelClient$MockitoMock$395164400@3320} &quot;Mock for RestHighLevelClient, hashCode: 1697441364&quot; &gt; mockitolnterceptor = {MockMethodInterceptor@4198}  client = null  ...(every value is null or false )  featuresClient = null"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1690372305,"post_id":76763772,"comment_id":135343596,"body_markdown":"This is perfectly normal behaviour for mockito - fields of the mocked class are null. You should be interacting with the mocked object via methods, and not rely on its fields. Looking at `RestHighLevelClient` code all fields are private, and you should not be accessing them. If you use some accessor like `getLowLevelClient` you have to stub it.","body":"This is perfectly normal behaviour for mockito - fields of the mocked class are null. You should be interacting with the mocked object via methods, and not rely on its fields. Looking at <code>RestHighLevelClient</code> code all fields are private, and you should not be accessing them. If you use some accessor like <code>getLowLevelClient</code> you have to stub it."}],"owner":{"account_id":25489160,"reputation":49,"user_id":19284258,"display_name":"ReallyNicePerson"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690365063,"creation_date":1690295554,"question_id":76763772,"body_markdown":"I want to mock RestHighLevelClient like this: `RestHighLevelClient client = mock(RestHighLevelClient.class);`, but when I do, it says that mocked client is null. Like it&#39;s not properly mocking. So when i try: \r\n\r\n```\r\n        ActionsSearchRequest request = ActionsSearchRequest.builder()\r\n                .merchSnapshot(merchSnapshot)\r\n                .siteName(SiteName.COM)\r\n                .searchPhrase(&quot;skirt&quot;)\r\n                .build();\r\n        SearchHit hit1 = new SearchHit(1);\r\n        SearchHit hit2 = new SearchHit(2);\r\n\r\n        SearchHits searchHits = new SearchHits(new SearchHit[]{hit1, hit2}, new TotalHits(2, TotalHits.Relation.EQUAL_TO), 1.0f);\r\n\r\n        SearchResponse searchResponse = mock(SearchResponse.class);\r\n        when(searchResponse.getHits()).thenReturn(searchHits);\r\n        when(searchResponse.getTotalShards()).thenReturn(1);\r\n        when(searchResponse.getSuccessfulShards()).thenReturn(1);\r\n        when(searchResponse.getFailedShards()).thenReturn(0);\r\n        when(searchResponse.getShardFailures()).thenReturn(null);\r\n        when(searchResponse.isTimedOut()).thenReturn(false);\r\n        when(client.search(any(SearchRequest.class), any(RequestOptions.class))).thenReturn(searchResponse);\r\n```\r\n\r\nI get NullPointerException on `SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);` line in class that is being tested. \r\nHere is full test class with annotations and imports, I only skipped names of services used but they are not related and every each of them worked before, the problem started when i needed to change constructor and add rest client and mock it. every other service works. \r\n\r\n```\r\nimport org.apache.lucene.search.TotalHits;\r\nimport org.elasticsearch.action.search.*;\r\nimport org.elasticsearch.client.RequestOptions;\r\nimport org.elasticsearch.client.RestHighLevelClient;\r\nimport org.elasticsearch.common.document.DocumentField;\r\nimport org.elasticsearch.search.SearchHit;\r\nimport org.elasticsearch.search.SearchHits;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.springframework.test.util.ReflectionTestUtils;\r\n\r\nimport java.io.IOException;\r\nimport java.time.Instant;\r\nimport java.util.*;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.Mockito.*;\r\n\r\nclass RulePreviewsCollectorServiceTest {\r\n\r\n    private String comAlias = &quot;com&quot;;\r\n    private String comNAlias = &quot;comN&quot;;\r\n\r\n    RestHighLevelClient client = mock(RestHighLevelClient.class);\r\n\r\n    RulePreviewsCollectorService collectorService = createRulePreviewsCollectorService(Service,\r\n            Service, Service, Service, Service, client);\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        MockitoAnnotations.openMocks(this);\r\n        when(merchSnapshot.getRulesSnapshot()).thenReturn(rulesSnapshot);\r\n        client = mock(RestHighLevelClient.class);\r\n\r\n        collectorService = new RulePreviewsCollectorService(Service, Service, Service,\r\n                Service, Service, new Collector(),\r\n                new Collector(), new Collector(), client);\r\n        ReflectionTestUtils.setField(collectorService, &quot;comAlias&quot;, &quot;com&quot;);\r\n        ReflectionTestUtils.setField(collectorService, &quot;comNAlias&quot;, &quot;comN&quot;);\r\n    }\r\n\r\n    @Test\r\n    void testCollect() throws IOException {\r\n       \r\n       ActionsSearchRequest request = ActionsSearchRequest.builder()\r\n                .merchSnapshot(merchSnapshot)\r\n                .siteName(SiteName.COM)\r\n                .searchPhrase(&quot;skirt&quot;)\r\n                .build();\r\n        SearchHit hit1 = new SearchHit(1);\r\n        SearchHit hit2 = new SearchHit(2);\r\n\r\n        SearchHits searchHits = new SearchHits(new SearchHit[]{hit1, hit2}, new TotalHits(2, TotalHits.Relation.EQUAL_TO), 1.0f);\r\n\r\n        SearchResponse searchResponse = mock(SearchResponse.class);\r\n        when(searchResponse.getHits()).thenReturn(searchHits);\r\n        when(searchResponse.getTotalShards()).thenReturn(1);\r\n        when(searchResponse.getSuccessfulShards()).thenReturn(1);\r\n        when(searchResponse.getFailedShards()).thenReturn(0);\r\n        when(searchResponse.getShardFailures()).thenReturn(null);\r\n        when(searchResponse.isTimedOut()).thenReturn(false);\r\n        when(client.search(any(SearchRequest.class), any(RequestOptions.class))).thenReturn(searchResponse);\r\n                     \r\n    private RulePreviewsCollectorService createRulePreviewsCollectorService(Service Service,\r\n                                                                            Service Service,\r\n                                                                            Service Service,\r\n                                                                            Service Service,\r\n                                                                            Service Service,\r\n                                                                            RestHighLevelClient client) {\r\n\r\n        return new RulePreviewsCollectorService(Service, Service, Service, Service, Service, new Collector(), new Collector(), new Collector(), client);\r\n    }\r\n}\r\n\r\n\r\n```","title":"Mock java elasticsearch RestHighLevelClient","body":"<p>I want to mock RestHighLevelClient like this: <code>RestHighLevelClient client = mock(RestHighLevelClient.class);</code>, but when I do, it says that mocked client is null. Like it's not properly mocking. So when i try:</p>\n<pre><code>        ActionsSearchRequest request = ActionsSearchRequest.builder()\n                .merchSnapshot(merchSnapshot)\n                .siteName(SiteName.COM)\n                .searchPhrase(&quot;skirt&quot;)\n                .build();\n        SearchHit hit1 = new SearchHit(1);\n        SearchHit hit2 = new SearchHit(2);\n\n        SearchHits searchHits = new SearchHits(new SearchHit[]{hit1, hit2}, new TotalHits(2, TotalHits.Relation.EQUAL_TO), 1.0f);\n\n        SearchResponse searchResponse = mock(SearchResponse.class);\n        when(searchResponse.getHits()).thenReturn(searchHits);\n        when(searchResponse.getTotalShards()).thenReturn(1);\n        when(searchResponse.getSuccessfulShards()).thenReturn(1);\n        when(searchResponse.getFailedShards()).thenReturn(0);\n        when(searchResponse.getShardFailures()).thenReturn(null);\n        when(searchResponse.isTimedOut()).thenReturn(false);\n        when(client.search(any(SearchRequest.class), any(RequestOptions.class))).thenReturn(searchResponse);\n</code></pre>\n<p>I get NullPointerException on <code>SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);</code> line in class that is being tested.\nHere is full test class with annotations and imports, I only skipped names of services used but they are not related and every each of them worked before, the problem started when i needed to change constructor and add rest client and mock it. every other service works.</p>\n<pre><code>import org.apache.lucene.search.TotalHits;\nimport org.elasticsearch.action.search.*;\nimport org.elasticsearch.client.RequestOptions;\nimport org.elasticsearch.client.RestHighLevelClient;\nimport org.elasticsearch.common.document.DocumentField;\nimport org.elasticsearch.search.SearchHit;\nimport org.elasticsearch.search.SearchHits;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.test.util.ReflectionTestUtils;\n\nimport java.io.IOException;\nimport java.time.Instant;\nimport java.util.*;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.*;\n\nclass RulePreviewsCollectorServiceTest {\n\n    private String comAlias = &quot;com&quot;;\n    private String comNAlias = &quot;comN&quot;;\n\n    RestHighLevelClient client = mock(RestHighLevelClient.class);\n\n    RulePreviewsCollectorService collectorService = createRulePreviewsCollectorService(Service,\n            Service, Service, Service, Service, client);\n\n    @BeforeEach\n    void setUp() {\n        MockitoAnnotations.openMocks(this);\n        when(merchSnapshot.getRulesSnapshot()).thenReturn(rulesSnapshot);\n        client = mock(RestHighLevelClient.class);\n\n        collectorService = new RulePreviewsCollectorService(Service, Service, Service,\n                Service, Service, new Collector(),\n                new Collector(), new Collector(), client);\n        ReflectionTestUtils.setField(collectorService, &quot;comAlias&quot;, &quot;com&quot;);\n        ReflectionTestUtils.setField(collectorService, &quot;comNAlias&quot;, &quot;comN&quot;);\n    }\n\n    @Test\n    void testCollect() throws IOException {\n       \n       ActionsSearchRequest request = ActionsSearchRequest.builder()\n                .merchSnapshot(merchSnapshot)\n                .siteName(SiteName.COM)\n                .searchPhrase(&quot;skirt&quot;)\n                .build();\n        SearchHit hit1 = new SearchHit(1);\n        SearchHit hit2 = new SearchHit(2);\n\n        SearchHits searchHits = new SearchHits(new SearchHit[]{hit1, hit2}, new TotalHits(2, TotalHits.Relation.EQUAL_TO), 1.0f);\n\n        SearchResponse searchResponse = mock(SearchResponse.class);\n        when(searchResponse.getHits()).thenReturn(searchHits);\n        when(searchResponse.getTotalShards()).thenReturn(1);\n        when(searchResponse.getSuccessfulShards()).thenReturn(1);\n        when(searchResponse.getFailedShards()).thenReturn(0);\n        when(searchResponse.getShardFailures()).thenReturn(null);\n        when(searchResponse.isTimedOut()).thenReturn(false);\n        when(client.search(any(SearchRequest.class), any(RequestOptions.class))).thenReturn(searchResponse);\n                     \n    private RulePreviewsCollectorService createRulePreviewsCollectorService(Service Service,\n                                                                            Service Service,\n                                                                            Service Service,\n                                                                            Service Service,\n                                                                            Service Service,\n                                                                            RestHighLevelClient client) {\n\n        return new RulePreviewsCollectorService(Service, Service, Service, Service, Service, new Collector(), new Collector(), new Collector(), client);\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","apache-spark","amazon-emr","java-11"],"comments":[{"owner":{"account_id":7132908,"reputation":189,"user_id":5453550,"display_name":"NLxDoDge"},"score":0,"creation_date":1643375969,"post_id":70886684,"comment_id":125329493,"body_markdown":"Hi this means that your code was compiled on your machine with version 55 (Could be Java 11). But that the machine where you run the code is a lower version, so that won&#39;t work. Update the target machine to the same version.","body":"Hi this means that your code was compiled on your machine with version 55 (Could be Java 11). But that the machine where you run the code is a lower version, so that won&#39;t work. Update the target machine to the same version."},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1643385329,"post_id":70886684,"comment_id":125333461,"body_markdown":"Yeh, I think this is the reason, but I don&#39;t know how to configure EMR java runtime. Does EMR suport java 11 and how to set up this?","body":"Yeh, I think this is the reason, but I don&#39;t know how to configure EMR java runtime. Does EMR suport java 11 and how to set up this?"},{"owner":{"account_id":4652856,"reputation":276,"user_id":3769220,"display_name":"gbharat"},"score":1,"creation_date":1647557426,"post_id":70886684,"comment_id":126407975,"body_markdown":"Try this\n\nhttps://omkarkulkarni.medium.com/quick-guide-to-bootstrapping-java-11-on-emr-d70f0115efe8","body":"Try this  <a href=\"https://omkarkulkarni.medium.com/quick-guide-to-bootstrapping-java-11-on-emr-d70f0115efe8\" rel=\"nofollow noreferrer\">omkarkulkarni.medium.com/&hellip;</a>"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1647619435,"post_id":70886684,"comment_id":126423997,"body_markdown":"This is really good :) I&#39;ll try it","body":"This is really good :) I&#39;ll try it"}],"answers":[{"comments":[{"owner":{"account_id":176796,"reputation":1377,"user_id":407712,"accept_rate":53,"display_name":"Paul Praet"},"score":0,"creation_date":1651219572,"post_id":72054500,"comment_id":127316694,"body_markdown":"I confirm this works.","body":"I confirm this works."},{"owner":{"account_id":1999642,"reputation":786,"user_id":1790988,"display_name":"Martin"},"score":1,"creation_date":1657286751,"post_id":72054500,"comment_id":128781115,"body_markdown":"I&#39;d think one has to be careful if the EMR cluster is configured to use instance types that are not x86_64, like the Graviton instances, or mixed instance fleets.","body":"I&#39;d think one has to be careful if the EMR cluster is configured to use instance types that are not x86_64, like the Graviton instances, or mixed instance fleets."},{"owner":{"account_id":3065941,"reputation":131,"user_id":2597637,"display_name":"manishbelsare"},"score":0,"creation_date":1666309468,"post_id":72054500,"comment_id":130912700,"body_markdown":"@Steven, where do you add this configuration? I am creating a Serverless EMR job and have an application running with Spark 3.2. I want to submit a job in this application that runs Java 11. Does it go in the job configuration block?","body":"@Steven, where do you add this configuration? I am creating a Serverless EMR job and have an application running with Spark 3.2. I want to submit a job in this application that runs Java 11. Does it go in the job configuration block?"},{"owner":{"account_id":303644,"reputation":2139,"user_id":612704,"display_name":"Steven"},"score":0,"creation_date":1666342678,"post_id":72054500,"comment_id":130919244,"body_markdown":"@manishbelsare correct: https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-configure-apps.html","body":"@manishbelsare correct: <a href=\"https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-configure-apps.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/emr/latest/ReleaseGuide/&hellip;</a>"},{"owner":{"account_id":9110022,"reputation":1807,"user_id":6779114,"accept_rate":91,"display_name":"Mauro Piccotti"},"score":0,"creation_date":1681315114,"post_id":72054500,"comment_id":134037536,"body_markdown":"I just had a discussion with a guy in the AWS support, they say that the usage of Java 11 on EMR is still discouraged. And also that this is the right way of doing it (it could be `.aarch64` depending on the hardware)","body":"I just had a discussion with a guy in the AWS support, they say that the usage of Java 11 on EMR is still discouraged. And also that this is the right way of doing it (it could be <code>.aarch64</code> depending on the hardware)"},{"owner":{"account_id":303644,"reputation":2139,"user_id":612704,"display_name":"Steven"},"score":1,"creation_date":1681411466,"post_id":72054500,"comment_id":134056135,"body_markdown":"@MauroPiccotti I guess you have to try it out.  For our workflow java 11 gives significant better results in  recent spark versions.  And for java 17, after `yum install java-17-amazon-corretto-headless`, it is even significantly better.\nBut your mileage may vary.","body":"@MauroPiccotti I guess you have to try it out.  For our workflow java 11 gives significant better results in  recent spark versions.  And for java 17, after <code>yum install java-17-amazon-corretto-headless</code>, it is even significantly better. But your mileage may vary."}],"tags":[],"owner":{"account_id":303644,"reputation":2139,"user_id":612704,"display_name":"Steven"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1690364887,"creation_date":1651218566,"answer_id":72054500,"question_id":70886684,"body_markdown":"In the most recent versions of EMR, java 11 is installed.  To enable it, you can provide the following [configuration](https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-configure-apps.html).\r\n```json\r\n[\r\n    {\r\n        &quot;Classification&quot;: &quot;spark-env&quot;,\r\n        &quot;Configurations&quot;: [\r\n            {\r\n                &quot;Classification&quot;: &quot;export&quot;,\r\n                &quot;Properties&quot;: {\r\n                    &quot;JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\r\n                }\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;Classification&quot;: &quot;spark-defaults&quot;,\r\n        &quot;Properties&quot;: {\r\n            &quot;spark.executorEnv.JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\r\n        }\r\n    }\r\n]\r\n```\r\nThis does not seem to be documented.\r\n\r\nThe `defaultJavaOptions` and `extraJavaOptions` might contain incompatible options for java 11 which you still might need to adapt/update.\r\n\r\n**update:**\r\n\r\nFrom EMR 6.12.0 onward there is [official support][1] for multiple jvms, using the methods specified above.\r\n\r\n  [1]: https://docs.aws.amazon.com/emr/latest/ReleaseGuide/configuring-java8.html","title":"How to use java runtime 11 in EMR cluster AWS","body":"<p>In the most recent versions of EMR, java 11 is installed.  To enable it, you can provide the following <a href=\"https://docs.aws.amazon.com/emr/latest/ReleaseGuide/emr-configure-apps.html\" rel=\"nofollow noreferrer\">configuration</a>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;Classification&quot;: &quot;spark-env&quot;,\n        &quot;Configurations&quot;: [\n            {\n                &quot;Classification&quot;: &quot;export&quot;,\n                &quot;Properties&quot;: {\n                    &quot;JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\n                }\n            }\n        ]\n    },\n    {\n        &quot;Classification&quot;: &quot;spark-defaults&quot;,\n        &quot;Properties&quot;: {\n            &quot;spark.executorEnv.JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\n        }\n    }\n]\n</code></pre>\n<p>This does not seem to be documented.</p>\n<p>The <code>defaultJavaOptions</code> and <code>extraJavaOptions</code> might contain incompatible options for java 11 which you still might need to adapt/update.</p>\n<p><strong>update:</strong></p>\n<p>From EMR 6.12.0 onward there is <a href=\"https://docs.aws.amazon.com/emr/latest/ReleaseGuide/configuring-java8.html\" rel=\"nofollow noreferrer\">official support</a> for multiple jvms, using the methods specified above.</p>\n"},{"tags":[],"owner":{"account_id":6088447,"reputation":954,"user_id":4751598,"accept_rate":62,"display_name":"Matthew Jones"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682266815,"creation_date":1662005782,"answer_id":73564251,"question_id":70886684,"body_markdown":"Here is the full configuration including the necessary JVM options:\r\n```json\r\n[\r\n    {\r\n        &quot;Classification&quot;: &quot;spark-env&quot;,\r\n        &quot;Configurations&quot;: [\r\n            {\r\n                &quot;Classification&quot;: &quot;export&quot;,\r\n                &quot;Properties&quot;: {\r\n                    &quot;JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\r\n                }\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;Classification&quot;: &quot;spark-defaults&quot;,\r\n        &quot;Properties&quot;: {\r\n            &quot;spark.executorEnv.JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;,\r\n            &quot;spark.driver.defaultJavaOptions&quot;: &quot;-XX:OnOutOfMemoryError=&#39;kill -9 %p&#39; -XX:MaxHeapFreeRatio=70&quot;,\r\n            &quot;spark.executor.defaultJavaOptions&quot;: &quot;-verbose:gc -Xlog:gc*::time -XX:+PrintGCDetails -XX:OnOutOfMemoryError=&#39;kill -9 %p&#39; -XX:MaxHeapFreeRatio=70 -XX:+IgnoreUnrecognizedVMOptions&quot;\r\n        }\r\n    }\r\n]\r\n```","title":"How to use java runtime 11 in EMR cluster AWS","body":"<p>Here is the full configuration including the necessary JVM options:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;Classification&quot;: &quot;spark-env&quot;,\n        &quot;Configurations&quot;: [\n            {\n                &quot;Classification&quot;: &quot;export&quot;,\n                &quot;Properties&quot;: {\n                    &quot;JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\n                }\n            }\n        ]\n    },\n    {\n        &quot;Classification&quot;: &quot;spark-defaults&quot;,\n        &quot;Properties&quot;: {\n            &quot;spark.executorEnv.JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;,\n            &quot;spark.driver.defaultJavaOptions&quot;: &quot;-XX:OnOutOfMemoryError='kill -9 %p' -XX:MaxHeapFreeRatio=70&quot;,\n            &quot;spark.executor.defaultJavaOptions&quot;: &quot;-verbose:gc -Xlog:gc*::time -XX:+PrintGCDetails -XX:OnOutOfMemoryError='kill -9 %p' -XX:MaxHeapFreeRatio=70 -XX:+IgnoreUnrecognizedVMOptions&quot;\n        }\n    }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2316007,"reputation":85,"user_id":2033060,"display_name":"Mass Dosage"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673447884,"creation_date":1673447884,"answer_id":75084748,"question_id":70886684,"body_markdown":"For running Spark (3.3.0) on EMR 6 (6.9.0) I had to provide the following (note the additional &quot;hadoop-env&quot; and the empty &quot;Properties&quot; elements):\r\n\r\n    [\r\n    {\r\n        &quot;Classification&quot;: &quot;hadoop-env&quot;, \r\n        &quot;Configurations&quot;: [\r\n            {\r\n                &quot;Classification&quot;: &quot;export&quot;, \r\n                &quot;Configurations&quot;: [], \r\n                &quot;Properties&quot;: {\r\n                    &quot;JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\r\n                }\r\n            }\r\n        ], \r\n        &quot;Properties&quot;: {}\r\n    }, \r\n    {\r\n        &quot;Classification&quot;: &quot;spark-env&quot;,\r\n        &quot;Configurations&quot;: [\r\n            {\r\n                &quot;Classification&quot;: &quot;export&quot;,\r\n                 &quot;Configurations&quot;: [],\r\n                &quot;Properties&quot;: {\r\n                    &quot;JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\r\n                }\r\n            }\r\n        ],\r\n        &quot;Properties&quot;: {}\r\n    },\r\n    {\r\n        &quot;Classification&quot;: &quot;spark-defaults&quot;,\r\n        &quot;Properties&quot;: {\r\n            &quot;spark.executorEnv.JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\r\n        }\r\n    }\r\n]","title":"How to use java runtime 11 in EMR cluster AWS","body":"<p>For running Spark (3.3.0) on EMR 6 (6.9.0) I had to provide the following (note the additional &quot;hadoop-env&quot; and the empty &quot;Properties&quot; elements):</p>\n<pre><code>[\n{\n    &quot;Classification&quot;: &quot;hadoop-env&quot;, \n    &quot;Configurations&quot;: [\n        {\n            &quot;Classification&quot;: &quot;export&quot;, \n            &quot;Configurations&quot;: [], \n            &quot;Properties&quot;: {\n                &quot;JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\n            }\n        }\n    ], \n    &quot;Properties&quot;: {}\n}, \n{\n    &quot;Classification&quot;: &quot;spark-env&quot;,\n    &quot;Configurations&quot;: [\n        {\n            &quot;Classification&quot;: &quot;export&quot;,\n             &quot;Configurations&quot;: [],\n            &quot;Properties&quot;: {\n                &quot;JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\n            }\n        }\n    ],\n    &quot;Properties&quot;: {}\n},\n{\n    &quot;Classification&quot;: &quot;spark-defaults&quot;,\n    &quot;Properties&quot;: {\n        &quot;spark.executorEnv.JAVA_HOME&quot;: &quot;/usr/lib/jvm/java-11-amazon-corretto.x86_64&quot;\n    }\n}\n</code></pre>\n<p>]</p>\n"},{"tags":[],"owner":{"account_id":5471172,"reputation":76,"user_id":4350509,"display_name":"Sajjan Bhattarai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684152148,"creation_date":1684152148,"answer_id":76253869,"question_id":70886684,"body_markdown":"In EMR 6.10.0, Java 11 is pre-installed. To utilize it in applications, we can simply add a bootstrap action to update the alternative:\r\n\r\n    sudo update-alternatives --set java /usr/lib/jvm/java-11-amazon-corretto.x86_64/bin/java\r\n\r\nWith this, Java 11 will be set as default runtime in EMR nodes. Note that Java 11 doesn&#39;t recognize some options from previous runtime version, so the application or service may fail to start. For Spark, if the containers fail to start JVM, consider passing configuration &quot;-XX:+IgnoreUnrecognizedVMOptions&quot;. Similarly, other service like Hive-hcatalog-server can also fail to start, which can be addressed as below:\r\n\r\n    [\r\n        {\r\n            &quot;classification&quot;: &quot;spark-defaults&quot;,\r\n            &quot;properties&quot;: {\r\n                &quot;spark.executor.extraJavaOptions&quot;: &quot;-XX:+IgnoreUnrecognizedVMOptions&quot;,\r\n                &quot;spark.driver.extraJavaOptions&quot;: &quot;-XX:+IgnoreUnrecognizedVMOptions&quot;\r\n            }\r\n        },\r\n      {\r\n        &quot;Classification&quot;: &quot;hcatalog-env&quot;,\r\n        &quot;Configurations&quot;: [\r\n          {\r\n            &quot;Classification&quot;: &quot;export&quot;,\r\n            &quot;Properties&quot;: {\r\n              &quot;HADOOP_OPTS&quot;: &quot;-XX:+IgnoreUnrecognizedVMOptions&quot;\r\n            }\r\n          }\r\n        ],\r\n        &quot;Properties&quot;: {}\r\n      }\r\n    ]\r\n\r\nHope that helps!","title":"How to use java runtime 11 in EMR cluster AWS","body":"<p>In EMR 6.10.0, Java 11 is pre-installed. To utilize it in applications, we can simply add a bootstrap action to update the alternative:</p>\n<pre><code>sudo update-alternatives --set java /usr/lib/jvm/java-11-amazon-corretto.x86_64/bin/java\n</code></pre>\n<p>With this, Java 11 will be set as default runtime in EMR nodes. Note that Java 11 doesn't recognize some options from previous runtime version, so the application or service may fail to start. For Spark, if the containers fail to start JVM, consider passing configuration &quot;-XX:+IgnoreUnrecognizedVMOptions&quot;. Similarly, other service like Hive-hcatalog-server can also fail to start, which can be addressed as below:</p>\n<pre><code>[\n    {\n        &quot;classification&quot;: &quot;spark-defaults&quot;,\n        &quot;properties&quot;: {\n            &quot;spark.executor.extraJavaOptions&quot;: &quot;-XX:+IgnoreUnrecognizedVMOptions&quot;,\n            &quot;spark.driver.extraJavaOptions&quot;: &quot;-XX:+IgnoreUnrecognizedVMOptions&quot;\n        }\n    },\n  {\n    &quot;Classification&quot;: &quot;hcatalog-env&quot;,\n    &quot;Configurations&quot;: [\n      {\n        &quot;Classification&quot;: &quot;export&quot;,\n        &quot;Properties&quot;: {\n          &quot;HADOOP_OPTS&quot;: &quot;-XX:+IgnoreUnrecognizedVMOptions&quot;\n        }\n      }\n    ],\n    &quot;Properties&quot;: {}\n  }\n]\n</code></pre>\n<p>Hope that helps!</p>\n"}],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7020,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72054500,"answer_count":4,"score":6,"last_activity_date":1690364887,"creation_date":1643323062,"question_id":70886684,"body_markdown":"I&#39;m creating a cluter in EMR aws and when spark runs my application I&#39;m getting error below:\r\n\r\n```log\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: \r\ncom/example/demodriver/MyClassFromJAR has been compiled by a more recent version of the Java Runtime (class file version 55.0), \r\nthis version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\n\r\nI&#39;m using releaseLabel `emr-6.5.0` on clusters and My driver jar is built in java11\r\n\r\nHow run java11 application in EMR? Or this error is about anything else?","title":"How to use java runtime 11 in EMR cluster AWS","body":"<p>I'm creating a cluter in EMR aws and when spark runs my application I'm getting error below:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: \ncom/example/demodriver/MyClassFromJAR has been compiled by a more recent version of the Java Runtime (class file version 55.0), \nthis version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>I'm using releaseLabel <code>emr-6.5.0</code> on clusters and My driver jar is built in java11</p>\n<p>How run java11 application in EMR? Or this error is about anything else?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1530534367,"post_id":51136072,"comment_id":89256468,"body_markdown":"How do you do that manually? Relevant HTML, code trials, error (if any)?","body":"How do you do that manually? Relevant HTML, code trials, error (if any)?"},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1530534435,"post_id":51136072,"comment_id":89256513,"body_markdown":"I don&#39;t think you can perform that, without a plugin. Probably if you say us your use case, we can find a solution.","body":"I don&#39;t think you can perform that, without a plugin. Probably if you say us your use case, we can find a solution."},{"owner":{"account_id":9933941,"reputation":1741,"user_id":7352883,"accept_rate":50,"display_name":"Shivam Mishra"},"score":0,"creation_date":1530535919,"post_id":51136072,"comment_id":89257338,"body_markdown":"If you want to zoom page content, refer - https://stackoverflow.com/questions/15024756/selenium-webdriver-zoom-in-out-page-content","body":"If you want to zoom page content, refer - <a href=\"https://stackoverflow.com/questions/15024756/selenium-webdriver-zoom-in-out-page-content\" title=\"selenium webdriver zoom in out page content\">stackoverflow.com/questions/15024756/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1530536035,"post_id":51136365,"comment_id":89257412,"body_markdown":"He wants to zoom an element, like magnifier. Not zoom the whole page.","body":"He wants to zoom an element, like magnifier. Not zoom the whole page."},{"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"score":0,"creation_date":1530536165,"post_id":51136365,"comment_id":89257490,"body_markdown":"Yes, you are right. Didn&#39;t noticed `not` in `I need not zoom the total browser`","body":"Yes, you are right. Didn&#39;t noticed <code>not</code> in <code>I need not zoom the total browser</code>"}],"tags":[],"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530534873,"creation_date":1530534873,"answer_id":51136365,"question_id":51136072,"body_markdown":"You can try `Robot` class:\r\n\r\n    Robot robot = new Robot();\r\n    \r\n    robot.keyPress(KeyEvent.VK_CONTROL);\r\n    robot.keyPress(KeyEvent.VK_PLUS);\r\n    robot.keyRelease(KeyEvent.VK_CONTROL);\r\n    robot.keyRelease(KeyEvent.VK_PLUS);\r\n\r\nThis will simulate `Ctrl + &#39;+&#39;` key press, what is equivalent to zoom in. Also you can get more information in [documentation][1].\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html","title":"How to zoom a particular area in selenium?","body":"<p>You can try <code>Robot</code> class:</p>\n\n<pre><code>Robot robot = new Robot();\n\nrobot.keyPress(KeyEvent.VK_CONTROL);\nrobot.keyPress(KeyEvent.VK_PLUS);\nrobot.keyRelease(KeyEvent.VK_CONTROL);\nrobot.keyRelease(KeyEvent.VK_PLUS);\n</code></pre>\n\n<p>This will simulate <code>Ctrl + '+'</code> key press, what is equivalent to zoom in. Also you can get more information in <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":9562641,"reputation":1275,"user_id":7102875,"display_name":"dangi13"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530538464,"creation_date":1530538464,"answer_id":51137462,"question_id":51136072,"body_markdown":"If you want to zoom out a particular WebElement then you can use the below code : \r\n\r\n    /** It will zoom the given WebElement\r\n    \t * @param driver\r\n    \t * @param webElement\r\n    \t * @param zoomPercentage e.g 200, 100, 50 etc\r\n    \t */\r\n    \tprivate static void zoomElement(WebDriver driver, WebElement webElement,int zoomPercentage) {\r\n    \t\t((JavascriptExecutor) driver).executeScript(&quot;arguments[0].style.zoom=&#39;&quot; + zoomPercentage + &#39;%&#39; + &quot;&#39; &quot;, webElement);\t\t\r\n    \t}\r\n\r\nhere is the actual javascript without customization : \r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].style.zoom=&#39;300%&#39;&quot;, webElement);\r\n\r\nHope it helps you.","title":"How to zoom a particular area in selenium?","body":"<p>If you want to zoom out a particular WebElement then you can use the below code : </p>\n\n<pre><code>/** It will zoom the given WebElement\n     * @param driver\n     * @param webElement\n     * @param zoomPercentage e.g 200, 100, 50 etc\n     */\n    private static void zoomElement(WebDriver driver, WebElement webElement,int zoomPercentage) {\n        ((JavascriptExecutor) driver).executeScript(\"arguments[0].style.zoom='\" + zoomPercentage + '%' + \"' \", webElement);     \n    }\n</code></pre>\n\n<p>here is the actual javascript without customization : </p>\n\n<pre><code>((JavascriptExecutor) driver).executeScript(\"arguments[0].style.zoom='300%'\", webElement);\n</code></pre>\n\n<p>Hope it helps you.</p>\n"}],"owner":{"account_id":13881185,"reputation":11,"user_id":10021517,"display_name":"Jaya Prakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1690364823,"creation_date":1530533908,"question_id":51136072,"body_markdown":"I need to zoom a particular area in my driver. is there any way to do it?\r\nI need not zoom the total browser.","title":"How to zoom a particular area in selenium?","body":"<p>I need to zoom a particular area in my driver. is there any way to do it?\nI need not zoom the total browser.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1359992380,"post_id":14690093,"comment_id":20540170,"body_markdown":"What are you missing there? The token?","body":"What are you missing there? The token?"},{"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"score":0,"creation_date":1359992439,"post_id":14690093,"comment_id":20540206,"body_markdown":"yes the token and so the ability the remove callback to something that was posted with postDelayed","body":"yes the token and so the ability the remove callback to something that was posted with postDelayed"},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1359992511,"post_id":14690093,"comment_id":20540235,"body_markdown":"You can always call `Handler.removeCallbacks()` with your Runnable. Works excellently if you ask me.","body":"You can always call <code>Handler.removeCallbacks()</code> with your Runnable. Works excellently if you ask me."},{"owner":{"account_id":413213,"reputation":35885,"user_id":786718,"accept_rate":87,"display_name":"DeeV"},"score":1,"creation_date":1359993288,"post_id":14690093,"comment_id":20540714,"body_markdown":"That&#39;s a good question. I find it odd that the documentation for what &quot;token&quot; is supposed to be other than an identifier for what Runnables you want to remove.","body":"That&#39;s a good question. I find it odd that the documentation for what &quot;token&quot; is supposed to be other than an identifier for what Runnables you want to remove."}],"answers":[{"comments":[{"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"score":0,"creation_date":1359992691,"post_id":14690144,"comment_id":20540346,"body_markdown":"As far as I understand, the token allow you to select only some callbacks to r (if the runnable is posted multiple times)","body":"As far as I understand, the token allow you to select only some callbacks to r (if the runnable is posted multiple times)"},{"owner":{"account_id":1820045,"reputation":2981,"user_id":1654303,"accept_rate":80,"display_name":"psykhi"},"score":0,"creation_date":1359992987,"post_id":14690144,"comment_id":20540523,"body_markdown":"Ok I see, if you really need this token with a postDelayed runnable, you could extend the Handler class to add a token attribute and create your own postDelayed method with this token :/","body":"Ok I see, if you really need this token with a postDelayed runnable, you could extend the Handler class to add a token attribute and create your own postDelayed method with this token :/"}],"tags":[],"owner":{"account_id":1820045,"reputation":2981,"user_id":1654303,"accept_rate":80,"display_name":"psykhi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359992517,"creation_date":1359992517,"answer_id":14690144,"question_id":14690093,"body_markdown":"To remove a postDelayed runnable r from a handler H, just call H.removeCallbacks(r). Why do you need a token?","title":"Handler.postAtTime vs Handler.postDelayed","body":"<p>To remove a postDelayed runnable r from a handler H, just call H.removeCallbacks(r). Why do you need a token?</p>\n"},{"comments":[{"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"score":0,"creation_date":1359994899,"post_id":14690668,"comment_id":20541629,"body_markdown":"ok... so it seems there is no good reason to not have `postDelayed (Runnable r, Object token, long delay)` in the API","body":"ok... so it seems there is no good reason to not have <code>postDelayed (Runnable r, Object token, long delay)</code> in the API"},{"owner":{"account_id":1410211,"reputation":18633,"user_id":2100044,"accept_rate":98,"display_name":"wtsang02"},"score":0,"creation_date":1359995087,"post_id":14690668,"comment_id":20541730,"body_markdown":"Yes, but you can always suggest it to the Android groups.","body":"Yes, but you can always suggest it to the Android groups."},{"owner":{"account_id":413213,"reputation":35885,"user_id":786718,"accept_rate":87,"display_name":"DeeV"},"score":0,"creation_date":1360001701,"post_id":14690668,"comment_id":20544860,"body_markdown":"From what it looks like, the token object was an afterthought in the Handler class so the class is somewhat incomplete.","body":"From what it looks like, the token object was an afterthought in the Handler class so the class is somewhat incomplete."},{"owner":{"account_id":5321212,"reputation":3024,"user_id":4244605,"accept_rate":62,"display_name":"t0m"},"score":1,"creation_date":1617544241,"post_id":14690668,"comment_id":118328915,"body_markdown":"@ben75 After few years later: https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20java.lang.Object,%20long)","body":"@ben75 After few years later: <a href=\"https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20java.lang.Object,%20long)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a>"}],"tags":[],"owner":{"account_id":1410211,"reputation":18633,"user_id":2100044,"accept_rate":98,"display_name":"wtsang02"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1359994506,"creation_date":1359994103,"answer_id":14690668,"question_id":14690093,"body_markdown":"After looking at the source code, the token object eventually passes to the Message:\r\n\r\n    public final boolean postAtTime(Runnable r, Object token, long uptimeMillis)\r\n    308    {\r\n    309        return sendMessageAtTime(getPostMessage(r, token), uptimeMillis);\r\n    310    }\r\n\r\n    private static Message getPostMessage(Runnable r, Object token) {\r\n    608        Message m = Message.obtain();\r\n    609        m.obj = token;\r\n\r\nAnd postDelay\r\n\r\n     public final boolean postDelayed(Runnable r, long delayMillis)\r\n    330    {\r\n    331        return sendMessageDelayed(getPostMessage(r), delayMillis);\r\n    332    }\r\n\r\nIf what you want is \r\n\r\n    public final boolean postDelayed (Runnable r, Object token, long delay)\r\n\r\nThen why not just use \r\n\r\n    public final boolean postAtTime (Runnable r, Object token, long uptimeMillis)\r\n\r\nsince its the same.\r\n\r\n**Update, forgot to add this:**\r\n\r\n    public final boolean sendMessageDelayed(Message msg, long delayMillis)\r\n    442    {\r\n    443        if (delayMillis &lt; 0) {\r\n    444            delayMillis = 0;\r\n    445        }\r\n    446        return sendMessageAtTime(msg, SystemClock.uptimeMillis() + delayMillis);\r\n    447    }","title":"Handler.postAtTime vs Handler.postDelayed","body":"<p>After looking at the source code, the token object eventually passes to the Message:</p>\n\n<pre><code>public final boolean postAtTime(Runnable r, Object token, long uptimeMillis)\n308    {\n309        return sendMessageAtTime(getPostMessage(r, token), uptimeMillis);\n310    }\n\nprivate static Message getPostMessage(Runnable r, Object token) {\n608        Message m = Message.obtain();\n609        m.obj = token;\n</code></pre>\n\n<p>And postDelay</p>\n\n<pre><code> public final boolean postDelayed(Runnable r, long delayMillis)\n330    {\n331        return sendMessageDelayed(getPostMessage(r), delayMillis);\n332    }\n</code></pre>\n\n<p>If what you want is </p>\n\n<pre><code>public final boolean postDelayed (Runnable r, Object token, long delay)\n</code></pre>\n\n<p>Then why not just use </p>\n\n<pre><code>public final boolean postAtTime (Runnable r, Object token, long uptimeMillis)\n</code></pre>\n\n<p>since its the same.</p>\n\n<p><strong>Update, forgot to add this:</strong></p>\n\n<pre><code>public final boolean sendMessageDelayed(Message msg, long delayMillis)\n442    {\n443        if (delayMillis &lt; 0) {\n444            delayMillis = 0;\n445        }\n446        return sendMessageAtTime(msg, SystemClock.uptimeMillis() + delayMillis);\n447    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1360048968,"post_id":14691095,"comment_id":20561055,"body_markdown":"But it requires you to handle messages, which is something I rarely do because it means I can&#39;t use the Handler right out of the box.","body":"But it requires you to handle messages, which is something I rarely do because it means I can&#39;t use the Handler right out of the box."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1360052791,"post_id":14691095,"comment_id":20562526,"body_markdown":"yes you can. the message will indeed reach Handler.handleMessage, but the default implementation is to run the Message.callback. if you look at the code for Handler.post(Runnable), it creates a message in the same fashion I posted","body":"yes you can. the message will indeed reach Handler.handleMessage, but the default implementation is to run the Message.callback. if you look at the code for Handler.post(Runnable), it creates a message in the same fashion I posted"}],"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359995588,"creation_date":1359995588,"answer_id":14691095,"question_id":14690093,"body_markdown":"Looking at Handler source, it appears that there is :\r\n\r\n    private final Message getPostMessage(Runnable r, Object token) {\r\n        Message m = Message.obtain();\r\n        m.obj = token;\r\n        m.callback = r;\r\n        return m;\r\n    }\r\n\r\nWhich can be copied for what you want : Instead of calling `postDelayed`, wrap your runnable in such a message\r\n\r\n    sendMessageDelayed(getPostMessage(r, token), delayMillis);\r\n\r\nyou can then use `removeCallbacks()` with token as param","title":"Handler.postAtTime vs Handler.postDelayed","body":"<p>Looking at Handler source, it appears that there is :</p>\n\n<pre><code>private final Message getPostMessage(Runnable r, Object token) {\n    Message m = Message.obtain();\n    m.obj = token;\n    m.callback = r;\n    return m;\n}\n</code></pre>\n\n<p>Which can be copied for what you want : Instead of calling <code>postDelayed</code>, wrap your runnable in such a message</p>\n\n<pre><code>sendMessageDelayed(getPostMessage(r, token), delayMillis);\n</code></pre>\n\n<p>you can then use <code>removeCallbacks()</code> with token as param</p>\n"},{"tags":[],"owner":{"account_id":9606388,"reputation":5690,"user_id":7132300,"display_name":"algrid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595440720,"creation_date":1595440720,"answer_id":63040457,"question_id":14690093,"body_markdown":"This is an old question, but the `postDelayed` method version taking a token as an argument was added in API **28**: see https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20java.lang.Object,%20long)\r\n\r\nFor older API versions one still has to use `postAtTime` if a token is required to remove the callback later.\r\n","title":"Handler.postAtTime vs Handler.postDelayed","body":"<p>This is an old question, but the <code>postDelayed</code> method version taking a token as an argument was added in API <strong>28</strong>: see <a href=\"https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20java.lang.Object,%20long)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20java.lang.Object,%20long)</a></p>\n<p>For older API versions one still has to use <code>postAtTime</code> if a token is required to remove the callback later.</p>\n"}],"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6988,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":14690668,"answer_count":4,"score":6,"last_activity_date":1690364815,"creation_date":1359992287,"question_id":14690093,"body_markdown":"The android [Handler][1] class contains this method:\r\n\r\n    public final boolean postAtTime (Runnable r, Object token, long uptimeMillis)\r\n\r\nto post a Runnable at a given time. The `token` can be used later to remove the callback to `r` from the message queue thanks to this method:\r\n\r\n    public final void removeCallbacks (Runnable r, Object token)\r\n\r\nThe following method **doesn&#39;t exist** in the Handler class\r\n\r\n    public final boolean postDelayed (Runnable r, Object token, long delay)\r\n\r\nIs there a good reason for not providing such a method?\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/Handler.html","title":"Handler.postAtTime vs Handler.postDelayed","body":"<p>The android <a href=\"http://developer.android.com/reference/android/os/Handler.html\" rel=\"nofollow noreferrer\">Handler</a> class contains this method:</p>\n<pre><code>public final boolean postAtTime (Runnable r, Object token, long uptimeMillis)\n</code></pre>\n<p>to post a Runnable at a given time. The <code>token</code> can be used later to remove the callback to <code>r</code> from the message queue thanks to this method:</p>\n<pre><code>public final void removeCallbacks (Runnable r, Object token)\n</code></pre>\n<p>The following method <strong>doesn't exist</strong> in the Handler class</p>\n<pre><code>public final boolean postDelayed (Runnable r, Object token, long delay)\n</code></pre>\n<p>Is there a good reason for not providing such a method?</p>\n"},{"tags":["java","maven","pom.xml","jacoco","jacoco-maven-plugin"],"owner":{"account_id":5748671,"reputation":347,"user_id":4539129,"accept_rate":44,"display_name":"Mehul Parmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690364696,"creation_date":1690362935,"question_id":76769668,"body_markdown":"Our Java application has one Integration Test module which only has integration tests which runs in a GCP vm. While running these tests in gcp vm, we use Jacoco(*in GCP vm in server mode*) to calculate Integrated Test code coverage for whole repo. Now we want to specify exlcusion inclusion Jacoco configuration like we do in Jacoco-maven-plugin for UTs. For Unit Tests we are already specifying configuration in each module under Jacoco-maven-plugin. For Integrated Tests, we want to specify the configuration of all modules in Integration Test module in a single xml. These configs are then read by GCP vm Jacoco Agent to get list of all included excluded classes and generate coverage. Basically these configs will not be used by java project itself but will be by pipeline.\r\n\r\nI was thinking of putting configuration in `properties` section of pom.xml of IT module, so that java code can read it but it seems properties are simple key value pair and cant accept xml nodes. What would be ideal way to store these configs?  This is how much config will look like - \r\n\r\n```\r\n&lt;it&gt;\r\n            &lt;servicemodule1&gt;\r\n                &lt;jacocoincludes&gt;\r\n                    &lt;include&gt;**/*.java&lt;/include&gt;\r\n                &lt;/jacocoincludes&gt;\r\n                &lt;jacocoexcludes&gt;\r\n                    &lt;exclude&gt;com/example/**&lt;/exclude&gt;\r\n                &lt;/jacocoexcludes&gt;\r\n            &lt;/servicemodule1&gt;\r\n            &lt;servicemodule2&gt;\r\n                &lt;jacocoincludes&gt;\r\n                    &lt;include&gt;**/*.java&lt;/include&gt;\r\n                &lt;/jacocoincludes&gt;\r\n                &lt;jacocoexcludes&gt;\r\n                    &lt;exclude&gt;com/example/**&lt;/exclude&gt;\r\n                &lt;/jacocoexcludes&gt;\r\n            &lt;/servicemodule2&gt;\r\n            &lt;servicemodule3&gt;\r\n                &lt;jacocoincludes&gt;\r\n                    &lt;include&gt;**/*.java&lt;/include&gt;\r\n                &lt;/jacocoincludes&gt;\r\n                &lt;jacocoexcludes&gt;\r\n                    &lt;exclude&gt;com/example/**&lt;/exclude&gt;\r\n                &lt;/jacocoexcludes&gt;\r\n            &lt;/servicemodule3&gt;\r\n        &lt;/it&gt;\r\n```\r\n\r\nLast option would be to simple create a xml in resources folder but wanted to check if it can be present in pom.xml and pom allows storing config which is not related to any maven plugin. ","title":"Ideal way to define configuration in pom.xml which is not related to any plugin","body":"<p>Our Java application has one Integration Test module which only has integration tests which runs in a GCP vm. While running these tests in gcp vm, we use Jacoco(<em>in GCP vm in server mode</em>) to calculate Integrated Test code coverage for whole repo. Now we want to specify exlcusion inclusion Jacoco configuration like we do in Jacoco-maven-plugin for UTs. For Unit Tests we are already specifying configuration in each module under Jacoco-maven-plugin. For Integrated Tests, we want to specify the configuration of all modules in Integration Test module in a single xml. These configs are then read by GCP vm Jacoco Agent to get list of all included excluded classes and generate coverage. Basically these configs will not be used by java project itself but will be by pipeline.</p>\n<p>I was thinking of putting configuration in <code>properties</code> section of pom.xml of IT module, so that java code can read it but it seems properties are simple key value pair and cant accept xml nodes. What would be ideal way to store these configs?  This is how much config will look like -</p>\n<pre><code>&lt;it&gt;\n            &lt;servicemodule1&gt;\n                &lt;jacocoincludes&gt;\n                    &lt;include&gt;**/*.java&lt;/include&gt;\n                &lt;/jacocoincludes&gt;\n                &lt;jacocoexcludes&gt;\n                    &lt;exclude&gt;com/example/**&lt;/exclude&gt;\n                &lt;/jacocoexcludes&gt;\n            &lt;/servicemodule1&gt;\n            &lt;servicemodule2&gt;\n                &lt;jacocoincludes&gt;\n                    &lt;include&gt;**/*.java&lt;/include&gt;\n                &lt;/jacocoincludes&gt;\n                &lt;jacocoexcludes&gt;\n                    &lt;exclude&gt;com/example/**&lt;/exclude&gt;\n                &lt;/jacocoexcludes&gt;\n            &lt;/servicemodule2&gt;\n            &lt;servicemodule3&gt;\n                &lt;jacocoincludes&gt;\n                    &lt;include&gt;**/*.java&lt;/include&gt;\n                &lt;/jacocoincludes&gt;\n                &lt;jacocoexcludes&gt;\n                    &lt;exclude&gt;com/example/**&lt;/exclude&gt;\n                &lt;/jacocoexcludes&gt;\n            &lt;/servicemodule3&gt;\n        &lt;/it&gt;\n</code></pre>\n<p>Last option would be to simple create a xml in resources folder but wanted to check if it can be present in pom.xml and pom allows storing config which is not related to any maven plugin.</p>\n"},{"tags":["java","spring-boot","spring-integration"],"comments":[{"owner":{"account_id":73540,"reputation":12600,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"score":0,"creation_date":1476362073,"post_id":40020999,"comment_id":67318915,"body_markdown":"You should start from the `FileSystemWatcher` class and then add `FileChangeListener`(s). Or you can use the `WatchService` introduced with Java 7: http://andreinc.net/2013/12/06/java-7-nio-2-tutorial-writing-a-simple-filefolder-monitor-using-the-watch-service-api/","body":"You should start from the <code>FileSystemWatcher</code> class and then add <code>FileChangeListener</code>(s). Or you can use the <code>WatchService</code> introduced with Java 7: <a href=\"http://andreinc.net/2013/12/06/java-7-nio-2-tutorial-writing-a-simple-filefolder-monitor-using-the-watch-service-api/\" rel=\"nofollow noreferrer\">andreinc.net/2013/12/06/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4180023,"reputation":568,"user_id":3425331,"accept_rate":71,"display_name":"amkz"},"score":0,"creation_date":1476362882,"post_id":40021145,"comment_id":67319567,"body_markdown":"Yes i know, but I want to use spring because after that I can for example print the result on webpage using websockets, or something else...","body":"Yes i know, but I want to use spring because after that I can for example print the result on webpage using websockets, or something else..."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":1,"creation_date":1476364154,"post_id":40021145,"comment_id":67320718,"body_markdown":"@AdamKortylewicz Then use Spring for the web part, but what this answer is telling you is that there&#39;s nothing Spring-specific (or even related) in your question, and that the solution is to use a feature existing in core Java.","body":"@AdamKortylewicz Then use Spring for the web part, but what this answer is telling you is that there&#39;s nothing Spring-specific (or even related) in your question, and that the solution is to use a feature existing in core Java."},{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":2,"creation_date":1537294635,"post_id":40021145,"comment_id":91729924,"body_markdown":"This is true, however, today we&#39;re monitoring a local directory and tomorrow we need to analyze a remote directory. Maybe it&#39;s a bucket on AWS or some other cloud provider. Using Spring Integration one *could* argue that these details are abstracted away more cleanly","body":"This is true, however, today we&#39;re monitoring a local directory and tomorrow we need to analyze a remote directory. Maybe it&#39;s a bucket on AWS or some other cloud provider. Using Spring Integration one <i>could</i> argue that these details are abstracted away more cleanly"},{"owner":{"account_id":7314480,"reputation":185,"user_id":5572614,"display_name":"Victor Marrerp"},"score":0,"creation_date":1596876057,"post_id":40021145,"comment_id":111955785,"body_markdown":"The java WatchService does not work well for remote file systems, especially if NFS is used on the remote server","body":"The java WatchService does not work well for remote file systems, especially if NFS is used on the remote server"},{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":1,"creation_date":1605281193,"post_id":40021145,"comment_id":114610596,"body_markdown":"@IcedDante if you want to monitor S3, use Lambda and S3 events https://docs.aws.amazon.com/lambda/latest/dg/with-s3.html","body":"@IcedDante if you want to monitor S3, use Lambda and S3 events <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-s3.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/lambda/latest/dg/with-s3.html</a>"}],"tags":[],"owner":{"account_id":5591714,"reputation":283,"user_id":4430717,"display_name":"Sławomir Czaja"},"comment_count":5,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1476362068,"creation_date":1476362068,"answer_id":40021145,"question_id":40020999,"body_markdown":"You can use pure java for this no need for spring https://docs.oracle.com/javase/tutorial/essential/io/notification.html","title":"How to monitor folder/directory in spring?","body":"<p>You can use pure java for this no need for spring <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/notification.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/essential/io/notification.html</a></p>\n"},{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1476363989,"post_id":40021464,"comment_id":67320571,"body_markdown":"There&#39;s a newer sample under applications.","body":"There&#39;s a newer sample under applications."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1476363919,"creation_date":1476362880,"answer_id":40021464,"question_id":40020999,"body_markdown":"See the [Spring Integration Samples Repo](https://github.com/spring-projects/spring-integration-samples) there&#39;s a file sample under &#39;basic&#39;.\r\n\r\nThere&#39;s a more recent and more sophisticated sample under applications `file-split-ftp` - it uses Spring Boot and Java configuration Vs. the xml used in the older sample.","title":"How to monitor folder/directory in spring?","body":"<p>See the <a href=\"https://github.com/spring-projects/spring-integration-samples\" rel=\"nofollow\">Spring Integration Samples Repo</a> there's a file sample under 'basic'.</p>\n\n<p>There's a more recent and more sophisticated sample under applications <code>file-split-ftp</code> - it uses Spring Boot and Java configuration Vs. the xml used in the older sample.</p>\n"},{"comments":[{"owner":{"account_id":4180023,"reputation":568,"user_id":3425331,"accept_rate":71,"display_name":"amkz"},"score":0,"creation_date":1476365601,"post_id":40022215,"comment_id":67321875,"body_markdown":"So how can I make WatchService a @Bean ?\nBecause I wan&#39;t to create method which return WatchService as bean","body":"So how can I make WatchService a @Bean ? Because I wan&#39;t to create method which return WatchService as bean"},{"owner":{"account_id":3261103,"reputation":930,"user_id":2746681,"accept_rate":60,"display_name":"s.ijpma"},"score":0,"creation_date":1476366398,"post_id":40022215,"comment_id":67322518,"body_markdown":"You could, but to have a more manageble approach I would use a scheduler that triggers the WatchService task.","body":"You could, but to have a more manageble approach I would use a scheduler that triggers the WatchService task."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1596623493,"post_id":40022215,"comment_id":111868906,"body_markdown":"@amkz have a look at my answer. There is a configuration for making `WatchService` as a Spring bean.","body":"@amkz have a look at my answer. There is a configuration for making <code>WatchService</code> as a Spring bean."}],"tags":[],"owner":{"account_id":3261103,"reputation":930,"user_id":2746681,"accept_rate":60,"display_name":"s.ijpma"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476364859,"creation_date":1476364859,"answer_id":40022215,"question_id":40020999,"body_markdown":"Without giving the details here a few pointers which might help you out.\r\n\r\nYou can take the directory `WatchService` code from Sławomir Czaja&#39;s answer:\r\n\r\n&gt; You can use pure java for this no need for spring https://docs.oracle.com/javase/tutorial/essential/io/notification.html\r\n\r\nand wrap that code into a runnable task. This task can notify your clients of directory change using the `SimpMessagingTemplate` as described here:\r\n[Websocket STOMP handle send][1]\r\n\r\nThen you can create a scheduler like described here: \r\n[Scheduling][2] which handles the start and reaccurance of your task.\r\n\r\nDon&#39;t forget to configure scheduling and websocket support in your mvc-config as well as STOMP support on the client side (further reading here: [STOMP over Websocket][3])\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html#websocket-stomp-handle-send\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support-scheduled\r\n  [3]: http://www.jmesnil.net/stomp-websocket/doc/","title":"How to monitor folder/directory in spring?","body":"<p>Without giving the details here a few pointers which might help you out.</p>\n\n<p>You can take the directory <code>WatchService</code> code from Sławomir Czaja's answer:</p>\n\n<blockquote>\n  <p>You can use pure java for this no need for spring <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/notification.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/essential/io/notification.html</a></p>\n</blockquote>\n\n<p>and wrap that code into a runnable task. This task can notify your clients of directory change using the <code>SimpMessagingTemplate</code> as described here:\n<a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html#websocket-stomp-handle-send\" rel=\"nofollow\">Websocket STOMP handle send</a></p>\n\n<p>Then you can create a scheduler like described here: \n<a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support-scheduled\" rel=\"nofollow\">Scheduling</a> which handles the start and reaccurance of your task.</p>\n\n<p>Don't forget to configure scheduling and websocket support in your mvc-config as well as STOMP support on the client side (further reading here: <a href=\"http://www.jmesnil.net/stomp-websocket/doc/\" rel=\"nofollow\">STOMP over Websocket</a>)</p>\n"},{"tags":[],"owner":{"account_id":3329588,"reputation":622,"user_id":2798816,"display_name":"Sanket Mehta"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1566459931,"creation_date":1566459931,"answer_id":57604406,"question_id":40020999,"body_markdown":"Just in case, if somebody is looking for recursive sub-folder watcher, this link may help: https://stackoverflow.com/questions/18701242/how-to-watch-a-folder-and-subfolders-for-changes","title":"How to monitor folder/directory in spring?","body":"<p>Just in case, if somebody is looking for recursive sub-folder watcher, this link may help: <a href=\"https://stackoverflow.com/questions/18701242/how-to-watch-a-folder-and-subfolders-for-changes\">How to watch a folder and subfolders for changes</a></p>\n"},{"comments":[{"owner":{"account_id":315307,"reputation":393,"user_id":630967,"accept_rate":75,"display_name":"David"},"score":1,"creation_date":1638569956,"post_id":60397791,"comment_id":124132845,"body_markdown":"Be warned... https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.remote-applications","body":"Be warned... <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.remote-applications\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":1,"creation_date":1638728433,"post_id":60397791,"comment_id":124159707,"body_markdown":"@David, excellent point.  The feature is used mainly for hot-deploying.  I would strip everything else from the import","body":"@David, excellent point.  The feature is used mainly for hot-deploying.  I would strip everything else from the import"}],"tags":[],"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1596903980,"creation_date":1582643676,"answer_id":60397791,"question_id":40020999,"body_markdown":"`spring-boot-devtools` has `FileSystemWatcher`\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**FileWatcherConfig**\r\n\r\n    @Configuration\r\n    public class FileWatcherConfig {\r\n    \t@Bean\r\n    \tpublic FileSystemWatcher fileSystemWatcher() {\r\n    \t\tFileSystemWatcher fileSystemWatcher = new FileSystemWatcher(true, Duration.ofMillis(5000L), Duration.ofMillis(3000L));\r\n    \t\tfileSystemWatcher.addSourceFolder(new File(&quot;/path/to/folder&quot;));\r\n    \t\tfileSystemWatcher.addListener(new MyFileChangeListener());\r\n    \t\tfileSystemWatcher.start();\r\n    \t\tSystem.out.println(&quot;started fileSystemWatcher&quot;);\r\n    \t\treturn fileSystemWatcher;\r\n    \t}\r\n\r\n    \t@PreDestroy\r\n        public void onDestroy() throws Exception {\r\n            fileSystemWatcher().stop();\r\n        }\r\n    }\r\n\r\n**MyFileChangeListener**\r\n\r\n    @Component\r\n    public class MyFileChangeListener implements FileChangeListener {\r\n    \r\n    \t@Override\r\n    \tpublic void onChange(Set&lt;ChangedFiles&gt; changeSet) {\r\n    \t\tfor(ChangedFiles cfiles : changeSet) {\r\n    \t\t\tfor(ChangedFile cfile: cfiles.getFiles()) {\r\n    \t\t\t\tif( /* (cfile.getType().equals(Type.MODIFY) \r\n                         || cfile.getType().equals(Type.ADD)  \r\n                         || cfile.getType().equals(Type.DELETE) ) &amp;&amp; */ !isLocked(cfile.getFile().toPath())) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Operation: &quot; + cfile.getType() \r\n                          + &quot; On file: &quot;+ cfile.getFile().getName() + &quot; is done&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate boolean isLocked(Path path) {\r\n    \t\ttry (FileChannel ch = FileChannel.open(path, StandardOpenOption.WRITE); FileLock lock = ch.tryLock()) {\r\n    \t\t\treturn lock == null;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to monitor folder/directory in spring?","body":"<p><code>spring-boot-devtools</code> has <code>FileSystemWatcher</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>FileWatcherConfig</strong></p>\n<pre><code>@Configuration\npublic class FileWatcherConfig {\n    @Bean\n    public FileSystemWatcher fileSystemWatcher() {\n        FileSystemWatcher fileSystemWatcher = new FileSystemWatcher(true, Duration.ofMillis(5000L), Duration.ofMillis(3000L));\n        fileSystemWatcher.addSourceFolder(new File(&quot;/path/to/folder&quot;));\n        fileSystemWatcher.addListener(new MyFileChangeListener());\n        fileSystemWatcher.start();\n        System.out.println(&quot;started fileSystemWatcher&quot;);\n        return fileSystemWatcher;\n    }\n\n    @PreDestroy\n    public void onDestroy() throws Exception {\n        fileSystemWatcher().stop();\n    }\n}\n</code></pre>\n<p><strong>MyFileChangeListener</strong></p>\n<pre><code>@Component\npublic class MyFileChangeListener implements FileChangeListener {\n\n    @Override\n    public void onChange(Set&lt;ChangedFiles&gt; changeSet) {\n        for(ChangedFiles cfiles : changeSet) {\n            for(ChangedFile cfile: cfiles.getFiles()) {\n                if( /* (cfile.getType().equals(Type.MODIFY) \n                     || cfile.getType().equals(Type.ADD)  \n                     || cfile.getType().equals(Type.DELETE) ) &amp;&amp; */ !isLocked(cfile.getFile().toPath())) {\n                    System.out.println(&quot;Operation: &quot; + cfile.getType() \n                      + &quot; On file: &quot;+ cfile.getFile().getName() + &quot; is done&quot;);\n                }\n            }\n        }\n    }\n    \n    private boolean isLocked(Path path) {\n        try (FileChannel ch = FileChannel.open(path, StandardOpenOption.WRITE); FileLock lock = ch.tryLock()) {\n            return lock == null;\n        } catch (IOException e) {\n            return true;\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11730920,"reputation":701,"user_id":8586437,"display_name":"Rayon"},"score":0,"creation_date":1599655469,"post_id":63263205,"comment_id":112839741,"body_markdown":"Control will never return from below method cause it will stuck in endless loop here and spring context will never load.\n\n  @PostConstruct\n    public void launchMonitoring() {\nwhile ((key = watchService.take()) != null)","body":"Control will never return from below method cause it will stuck in endless loop here and spring context will never load.    @PostConstruct     public void launchMonitoring() { while ((key = watchService.take()) != null)"},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1599656731,"post_id":63263205,"comment_id":112840462,"body_markdown":"@Rayon fixed it with adding `@Async`.","body":"@Rayon fixed it with adding <code>@Async</code>."},{"owner":{"account_id":37043,"reputation":2404,"user_id":105817,"accept_rate":79,"display_name":"Jay"},"score":0,"creation_date":1606231091,"post_id":63263205,"comment_id":114897090,"body_markdown":"@catch23 I tried this with Async annotation, the control doesn&#39;t seem to return.","body":"@catch23 I tried this with Async annotation, the control doesn&#39;t seem to return."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1606247493,"post_id":63263205,"comment_id":114904970,"body_markdown":"@Jay for me it returns fine. However, I have additional configuration for async pool - `AsyncConfiguration implements AsyncConfigurer`.  Actually it shouldn&#39;t return. It should listen to events for a folder and process it at asynchronous thread.","body":"@Jay for me it returns fine. However, I have additional configuration for async pool - <code>AsyncConfiguration implements AsyncConfigurer</code>.  Actually it shouldn&#39;t return. It should listen to events for a folder and process it at asynchronous thread."},{"owner":{"account_id":37043,"reputation":2404,"user_id":105817,"accept_rate":79,"display_name":"Jay"},"score":1,"creation_date":1606341429,"post_id":63263205,"comment_id":114939141,"body_markdown":"@catch23 could you please upload the project code to github? I tried the AsyncConfiguration but it made no difference. My code gets stuck in the while loop and the spring controllers don&#39;t seem to start, so none of the rest controllers are accessbile.","body":"@catch23 could you please upload the project code to github? I tried the AsyncConfiguration but it made no difference. My code gets stuck in the while loop and the spring controllers don&#39;t seem to start, so none of the rest controllers are accessbile."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1606341631,"post_id":63263205,"comment_id":114939202,"body_markdown":"@Jay project is very heavy. It is small piece from it. There are too much redundant stuff","body":"@Jay project is very heavy. It is small piece from it. There are too much redundant stuff"},{"owner":{"account_id":37043,"reputation":2404,"user_id":105817,"accept_rate":79,"display_name":"Jay"},"score":0,"creation_date":1606343122,"post_id":63263205,"comment_id":114939655,"body_markdown":"@catch23 could you look into my code here - https://github.com/JayVem/temp and please tell me why it might not be working","body":"@catch23 could you look into my code here - <a href=\"https://github.com/JayVem/temp\" rel=\"nofollow noreferrer\">github.com/JayVem/temp</a> and please tell me why it might not be working"},{"owner":{"account_id":11730920,"reputation":701,"user_id":8586437,"display_name":"Rayon"},"score":0,"creation_date":1613048054,"post_id":63263205,"comment_id":116958776,"body_markdown":"@catch23 you can check sample [here](https://stackoverflow.com/a/66155158/8586437)","body":"@catch23 you can check sample <a href=\"https://stackoverflow.com/a/66155158/8586437\">here</a>"},{"owner":{"account_id":2047602,"reputation":809,"user_id":1827349,"accept_rate":60,"display_name":"MattWeiler"},"score":1,"creation_date":1644108120,"post_id":63263205,"comment_id":125518340,"body_markdown":"This is a great solution, I just adapted it to launch a new thread for each directory that I need to monitor... realistically it shouldn&#39;t be more than 2 directories in our case. I found that putting a slight Thread.sleep() of 3000 ms between the watchService.take() and key.pollEvents() calls prevents duplicate ENTRY_MODIFY events being fired (1 for the file content and 1 for the files modified-date)","body":"This is a great solution, I just adapted it to launch a new thread for each directory that I need to monitor... realistically it shouldn&#39;t be more than 2 directories in our case. I found that putting a slight Thread.sleep() of 3000 ms between the watchService.take() and key.pollEvents() calls prevents duplicate ENTRY_MODIFY events being fired (1 for the file content and 1 for the files modified-date)"},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1673955217,"post_id":63263205,"comment_id":132607203,"body_markdown":"Hey, I&#39;m using the exact same solution you proposed but the asynchronous execution does not work...","body":"Hey, I&#39;m using the exact same solution you proposed but the asynchronous execution does not work..."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1673973079,"post_id":63263205,"comment_id":132613630,"body_markdown":"@thmasker I used it in the same way as it is described. Added few more details to the answer.","body":"@thmasker I used it in the same way as it is described. Added few more details to the answer."}],"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":11,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1690364572,"creation_date":1596623233,"answer_id":63263205,"question_id":40020999,"body_markdown":"From Java 7 there is [WatchService](https://www.baeldung.com/java-nio2-watchservice) - it will be the best solution.\r\n\r\nSpring configuration could be like the following:\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    public class MonitoringConfig {\r\n    \r\n        @Value(&quot;${monitoring-folder}&quot;)\r\n        private String folderPath;\r\n    \r\n        @Bean\r\n        public WatchService watchService() {\r\n            log.debug(&quot;MONITORING_FOLDER: {}&quot;, folderPath);\r\n            WatchService watchService = null;\r\n            try {\r\n                watchService = FileSystems.getDefault().newWatchService();\r\n                Path path = Paths.get(folderPath);\r\n    \r\n                if (!Files.isDirectory(path)) {\r\n                    throw new RuntimeException(&quot;incorrect monitoring folder: &quot; + path);\r\n                }\r\n    \r\n                path.register(\r\n                        watchService,\r\n                        StandardWatchEventKinds.ENTRY_DELETE,\r\n                        StandardWatchEventKinds.ENTRY_MODIFY,\r\n                        StandardWatchEventKinds.ENTRY_CREATE\r\n                );\r\n            } catch (IOException e) {\r\n                log.error(&quot;exception for watch service creation:&quot;, e);\r\n            }\r\n            return watchService;\r\n        }\r\n    }\r\n\r\nAnd Bean for launching monitoring itself:\r\n\r\n    @Slf4j\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class MonitoringServiceImpl {\r\n    \r\n        private final WatchService watchService;\r\n    \r\n        @Async\r\n        @PostConstruct\r\n        public void launchMonitoring() {\r\n            log.info(&quot;START_MONITORING&quot;);\r\n            try {\r\n                WatchKey key;\r\n                while ((key = watchService.take()) != null) {\r\n                    for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n                        log.debug(&quot;Event kind: {}; File affected: {}&quot;, event.kind(), event.context());\r\n                    }\r\n                    key.reset();\r\n                }\r\n            } catch (InterruptedException e) {\r\n                log.warn(&quot;interrupted exception for monitoring service&quot;);\r\n            }\r\n        }\r\n    \r\n        @PreDestroy\r\n        public void stopMonitoring() {\r\n            log.info(&quot;STOP_MONITORING&quot;);\r\n    \r\n            if (watchService != null) {\r\n                try {\r\n                    watchService.close();\r\n                } catch (IOException e) {\r\n                    log.error(&quot;exception while closing the monitoring service&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAlso, you have to set `@EnableAsync` for your application class (it configuration).\r\n\r\nand snipped from `application.yml`:\r\n\r\n&gt;monitoring-folder: C:\\Users\\user_name\r\n\r\nTested with Spring Boot `2.3.1`.\r\n\r\n---\r\n\r\nAlso used configuration for Async pool:\r\n\r\n    @Slf4j\r\n    @EnableAsync\r\n    @Configuration\r\n    @AllArgsConstructor\r\n    @EnableConfigurationProperties(AsyncProperties.class)\r\n    public class AsyncConfiguration implements AsyncConfigurer {\r\n    \r\n        private final AsyncProperties properties;\r\n    \r\n        @Override\r\n        @Bean(name = &quot;taskExecutor&quot;)\r\n        public Executor getAsyncExecutor() {\r\n            log.debug(&quot;Creating Async Task Executor&quot;);\r\n            ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n            taskExecutor.setCorePoolSize(properties.getCorePoolSize());\r\n            taskExecutor.setMaxPoolSize(properties.getMaxPoolSize());\r\n            taskExecutor.setQueueCapacity(properties.getQueueCapacity());\r\n            taskExecutor.setThreadNamePrefix(properties.getThreadName());\r\n            taskExecutor.initialize();\r\n            return taskExecutor;\r\n        }\r\n    \r\n        @Bean\r\n        public TaskScheduler taskScheduler() {\r\n            return new ConcurrentTaskScheduler();\r\n        }\r\n    \r\n        @Override\r\n        public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\r\n            return new CustomAsyncExceptionHandler();\r\n        }\r\n    }\r\n\r\nWhere the custom async exception handler is:\r\n\r\n    @Slf4j\r\n    public class CustomAsyncExceptionHandler implements AsyncUncaughtExceptionHandler {\r\n    \r\n        @Override\r\n        public void handleUncaughtException(Throwable throwable, Method method, Object... objects) {\r\n            log.error(&quot;Exception for Async execution: &quot;, throwable);\r\n            log.error(&quot;Method name - {}&quot;, method.getName());\r\n            for (Object param : objects) {\r\n                log.error(&quot;Parameter value - {}&quot;, param);\r\n            }\r\n        }\r\n    }\r\n\r\nConfiguration at properties file:\r\n\r\n```\r\nasync-monitoring:\r\n  core-pool-size: 10\r\n  max-pool-size: 20\r\n  queue-capacity: 1024\r\n  thread-name: &#39;async-ex-&#39;\r\n```\r\n\r\nWhere `AsyncProperties`:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ConfigurationProperties(&quot;async-monitoring&quot;)\r\npublic class AsyncProperties {\r\n    @NonNull\r\n    private Integer corePoolSize;\r\n    @NonNull\r\n    private Integer maxPoolSize;\r\n    @NonNull\r\n    private Integer queueCapacity;\r\n    @NonNull\r\n    private String threadName;\r\n}\r\n```\r\n\r\nFor using asynchronous execution I am processing an event like the following:\r\n\r\n``` \r\nvalidatorService.processRecord(recordANPR, zipFullPath);\r\n```\r\n\r\nWhere validator service has a look like:\r\n\r\n```\r\n@Async\r\npublic void processRecord(EvidentialRecordANPR record, String fullFileName) {\r\n```\r\n\r\nThe main idea is that you configure async configuration -&gt; call it from `MonitoringService` -&gt; put `@Async` annotation above method at another service which you called (it should be a method of another bean - initialisation goes through a proxy).\r\n","title":"How to monitor folder/directory in spring?","body":"<p>From Java 7 there is <a href=\"https://www.baeldung.com/java-nio2-watchservice\" rel=\"nofollow noreferrer\">WatchService</a> - it will be the best solution.</p>\n<p>Spring configuration could be like the following:</p>\n<pre><code>@Slf4j\n@Configuration\npublic class MonitoringConfig {\n\n    @Value(&quot;${monitoring-folder}&quot;)\n    private String folderPath;\n\n    @Bean\n    public WatchService watchService() {\n        log.debug(&quot;MONITORING_FOLDER: {}&quot;, folderPath);\n        WatchService watchService = null;\n        try {\n            watchService = FileSystems.getDefault().newWatchService();\n            Path path = Paths.get(folderPath);\n\n            if (!Files.isDirectory(path)) {\n                throw new RuntimeException(&quot;incorrect monitoring folder: &quot; + path);\n            }\n\n            path.register(\n                    watchService,\n                    StandardWatchEventKinds.ENTRY_DELETE,\n                    StandardWatchEventKinds.ENTRY_MODIFY,\n                    StandardWatchEventKinds.ENTRY_CREATE\n            );\n        } catch (IOException e) {\n            log.error(&quot;exception for watch service creation:&quot;, e);\n        }\n        return watchService;\n    }\n}\n</code></pre>\n<p>And Bean for launching monitoring itself:</p>\n<pre><code>@Slf4j\n@Service\n@AllArgsConstructor\npublic class MonitoringServiceImpl {\n\n    private final WatchService watchService;\n\n    @Async\n    @PostConstruct\n    public void launchMonitoring() {\n        log.info(&quot;START_MONITORING&quot;);\n        try {\n            WatchKey key;\n            while ((key = watchService.take()) != null) {\n                for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                    log.debug(&quot;Event kind: {}; File affected: {}&quot;, event.kind(), event.context());\n                }\n                key.reset();\n            }\n        } catch (InterruptedException e) {\n            log.warn(&quot;interrupted exception for monitoring service&quot;);\n        }\n    }\n\n    @PreDestroy\n    public void stopMonitoring() {\n        log.info(&quot;STOP_MONITORING&quot;);\n\n        if (watchService != null) {\n            try {\n                watchService.close();\n            } catch (IOException e) {\n                log.error(&quot;exception while closing the monitoring service&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Also, you have to set <code>@EnableAsync</code> for your application class (it configuration).</p>\n<p>and snipped from <code>application.yml</code>:</p>\n<blockquote>\n<p>monitoring-folder: C:\\Users\\user_name</p>\n</blockquote>\n<p>Tested with Spring Boot <code>2.3.1</code>.</p>\n<hr />\n<p>Also used configuration for Async pool:</p>\n<pre><code>@Slf4j\n@EnableAsync\n@Configuration\n@AllArgsConstructor\n@EnableConfigurationProperties(AsyncProperties.class)\npublic class AsyncConfiguration implements AsyncConfigurer {\n\n    private final AsyncProperties properties;\n\n    @Override\n    @Bean(name = &quot;taskExecutor&quot;)\n    public Executor getAsyncExecutor() {\n        log.debug(&quot;Creating Async Task Executor&quot;);\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setCorePoolSize(properties.getCorePoolSize());\n        taskExecutor.setMaxPoolSize(properties.getMaxPoolSize());\n        taskExecutor.setQueueCapacity(properties.getQueueCapacity());\n        taskExecutor.setThreadNamePrefix(properties.getThreadName());\n        taskExecutor.initialize();\n        return taskExecutor;\n    }\n\n    @Bean\n    public TaskScheduler taskScheduler() {\n        return new ConcurrentTaskScheduler();\n    }\n\n    @Override\n    public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\n        return new CustomAsyncExceptionHandler();\n    }\n}\n</code></pre>\n<p>Where the custom async exception handler is:</p>\n<pre><code>@Slf4j\npublic class CustomAsyncExceptionHandler implements AsyncUncaughtExceptionHandler {\n\n    @Override\n    public void handleUncaughtException(Throwable throwable, Method method, Object... objects) {\n        log.error(&quot;Exception for Async execution: &quot;, throwable);\n        log.error(&quot;Method name - {}&quot;, method.getName());\n        for (Object param : objects) {\n            log.error(&quot;Parameter value - {}&quot;, param);\n        }\n    }\n}\n</code></pre>\n<p>Configuration at properties file:</p>\n<pre><code>async-monitoring:\n  core-pool-size: 10\n  max-pool-size: 20\n  queue-capacity: 1024\n  thread-name: 'async-ex-'\n</code></pre>\n<p>Where <code>AsyncProperties</code>:</p>\n<pre><code>@Getter\n@Setter\n@ConfigurationProperties(&quot;async-monitoring&quot;)\npublic class AsyncProperties {\n    @NonNull\n    private Integer corePoolSize;\n    @NonNull\n    private Integer maxPoolSize;\n    @NonNull\n    private Integer queueCapacity;\n    @NonNull\n    private String threadName;\n}\n</code></pre>\n<p>For using asynchronous execution I am processing an event like the following:</p>\n<pre><code>validatorService.processRecord(recordANPR, zipFullPath);\n</code></pre>\n<p>Where validator service has a look like:</p>\n<pre><code>@Async\npublic void processRecord(EvidentialRecordANPR record, String fullFileName) {\n</code></pre>\n<p>The main idea is that you configure async configuration -&gt; call it from <code>MonitoringService</code> -&gt; put <code>@Async</code> annotation above method at another service which you called (it should be a method of another bean - initialisation goes through a proxy).</p>\n"},{"tags":[],"owner":{"account_id":11730920,"reputation":701,"user_id":8586437,"display_name":"Rayon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627820779,"creation_date":1613047917,"answer_id":66155158,"question_id":40020999,"body_markdown":"found a workaround \r\nyou can annotate your task by `@Scheduled(fixedDelay = Long.MAX_VALUE)`\r\n\r\nyou could check code:\r\n\r\n\r\n    @Scheduled(fixedDelay = Long.MAX_VALUE)\r\n    public void watchTask() {\r\n                    this.loadOnStartup();\r\n                    try {\r\n                        WatchService watcher = FileSystems.getDefault().newWatchService();\r\n                        Path file = Paths.get(propertyFile);\r\n                        Path dir = Paths.get(file.getParent().toUri());\r\n                        dir.register(watcher, ENTRY_MODIFY);\r\n                        logger.info(&quot;Watch Service registered for dir: &quot; + dir.getFileName());\r\n        \r\n                        while (true) {\r\n                            WatchKey key;\r\n                            try {\r\n                                key = watcher.take();\r\n                            } catch (InterruptedException ex) {\r\n                                return;\r\n                            }\r\n        \r\n                            for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n                                WatchEvent.Kind&lt;?&gt; kind = event.kind();\r\n        \r\n                                @SuppressWarnings(&quot;unchecked&quot;)\r\n                                WatchEvent&lt;Path&gt; ev = (WatchEvent&lt;Path&gt;) event;\r\n                                Path fileName = ev.context();\r\n                                logger.debug(kind.name() + &quot;: &quot; + fileName);\r\n                                if (kind == ENTRY_MODIFY &amp;&amp;\r\n                                        fileName.toString().equals(file.getFileName().toString())) {\r\n        \t\t\t\t\t\t\t\t//publish event here\r\n                                }\r\n                            }\r\n                            boolean valid = key.reset();\r\n                            if (!valid) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    } catch (Exception ex) {\r\n                        logger.error(ex.getMessage(), ex);\r\n                    }\r\n                }\r\n            }","title":"How to monitor folder/directory in spring?","body":"<p>found a workaround\nyou can annotate your task by <code>@Scheduled(fixedDelay = Long.MAX_VALUE)</code></p>\n<p>you could check code:</p>\n<pre><code>@Scheduled(fixedDelay = Long.MAX_VALUE)\npublic void watchTask() {\n                this.loadOnStartup();\n                try {\n                    WatchService watcher = FileSystems.getDefault().newWatchService();\n                    Path file = Paths.get(propertyFile);\n                    Path dir = Paths.get(file.getParent().toUri());\n                    dir.register(watcher, ENTRY_MODIFY);\n                    logger.info(&quot;Watch Service registered for dir: &quot; + dir.getFileName());\n    \n                    while (true) {\n                        WatchKey key;\n                        try {\n                            key = watcher.take();\n                        } catch (InterruptedException ex) {\n                            return;\n                        }\n    \n                        for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                            WatchEvent.Kind&lt;?&gt; kind = event.kind();\n    \n                            @SuppressWarnings(&quot;unchecked&quot;)\n                            WatchEvent&lt;Path&gt; ev = (WatchEvent&lt;Path&gt;) event;\n                            Path fileName = ev.context();\n                            logger.debug(kind.name() + &quot;: &quot; + fileName);\n                            if (kind == ENTRY_MODIFY &amp;&amp;\n                                    fileName.toString().equals(file.getFileName().toString())) {\n                                    //publish event here\n                            }\n                        }\n                        boolean valid = key.reset();\n                        if (!valid) {\n                            break;\n                        }\n                    }\n                } catch (Exception ex) {\n                    logger.error(ex.getMessage(), ex);\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22235348,"reputation":1,"user_id":16470819,"display_name":"Ponangi Sriram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641155604,"creation_date":1641155604,"answer_id":70559559,"question_id":40020999,"body_markdown":"Apache commons-io is another good alternative to watch changes to files/directories.\r\n\r\nYou can see the overview of pros and cons of using it in this answer:\r\nhttps://stackoverflow.com/a/41013350/16470819\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"How to monitor folder/directory in spring?","body":"<p>Apache commons-io is another good alternative to watch changes to files/directories.</p>\n<p>You can see the overview of pros and cons of using it in this answer:\n<a href=\"https://stackoverflow.com/a/41013350/16470819\">https://stackoverflow.com/a/41013350/16470819</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4180023,"reputation":568,"user_id":3425331,"accept_rate":71,"display_name":"amkz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45292,"favorite_count":0,"down_vote_count":2,"up_vote_count":20,"answer_count":8,"score":18,"last_activity_date":1690364572,"creation_date":1476361709,"question_id":40020999,"body_markdown":"I wan&#39;t to write Spring Boot Application in spring which will be monitoring directory in windows, and when I change sub folder or add new one or delete existing one I wanna get information about that.\r\n\r\nHow can i do that?\r\nI have read this one:\r\nhttp://docs.spring.io/spring-integration/reference/html/files.html\r\nand each result under &#39;spring file watcher&#39; in google, \r\nbut I can&#39;t find solution...\r\n\r\nDo you have a good article or example with something like this?\r\nI wan&#39;t it to like like this:\r\n\r\n    @SpringBootApplication\r\n    @EnableIntegration\r\n    public class SpringApp{\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringApp.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic WatchService watcherService() {\r\n    \t\t...//define WatchService here\r\n    \t}\r\n    }\r\n\r\nRegards\r\n\r\n","title":"How to monitor folder/directory in spring?","body":"<p>I wan't to write Spring Boot Application in spring which will be monitoring directory in windows, and when I change sub folder or add new one or delete existing one I wanna get information about that.</p>\n\n<p>How can i do that?\nI have read this one:\n<a href=\"http://docs.spring.io/spring-integration/reference/html/files.html\" rel=\"noreferrer\">http://docs.spring.io/spring-integration/reference/html/files.html</a>\nand each result under 'spring file watcher' in google, \nbut I can't find solution...</p>\n\n<p>Do you have a good article or example with something like this?\nI wan't it to like like this:</p>\n\n<pre><code>@SpringBootApplication\n@EnableIntegration\npublic class SpringApp{\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringApp.class, args);\n    }\n\n    @Bean\n    public WatchService watcherService() {\n        ...//define WatchService here\n    }\n}\n</code></pre>\n\n<p>Regards</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":9,"creation_date":1565721670,"post_id":57483619,"comment_id":101438505,"body_markdown":"`add` *doesn&#39;t* modify the objects. The most likely explanation is you&#39;re modifying the object yourself after adding it to the list.","body":"<code>add</code> <i>doesn&#39;t</i> modify the objects. The most likely explanation is you&#39;re modifying the object yourself after adding it to the list."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":2,"creation_date":1565721714,"post_id":57483619,"comment_id":101438522,"body_markdown":"How is the implementation of `SkEvent` look like?","body":"How is the implementation of <code>SkEvent</code> look like?"},{"owner":{"account_id":4922508,"reputation":1801,"user_id":3964723,"display_name":"austin wernli"},"score":6,"creation_date":1565721774,"post_id":57483619,"comment_id":101438542,"body_markdown":"you are modifying it in `if(existsEvent(clock)){` `add` isn&#39;t modifying it at all","body":"you are modifying it in <code>if(existsEvent(clock)){</code> <code>add</code> isn&#39;t modifying it at all"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1565722742,"post_id":57483619,"comment_id":101438980,"body_markdown":"It *obviously* happens because the 3 times in question enters the `if` block, as shown by the `Event exists.` output, **replacing** the `ret` value with a **single event** named `e`, as returned by the `getEvent(clock)` method. Look at the `getEvent` method to learn why. We certainly cannot tell you, since we can&#39;t see that code.","body":"It <i>obviously</i> happens because the 3 times in question enters the <code>if</code> block, as shown by the <code>Event exists.</code> output, <b>replacing</b> the <code>ret</code> value with a <b>single event</b> named <code>e</code>, as returned by the <code>getEvent(clock)</code> method. Look at the <code>getEvent</code> method to learn why. We certainly cannot tell you, since we can&#39;t see that code."},{"owner":{"account_id":16370659,"reputation":41,"user_id":11824003,"display_name":"Skwead"},"score":1,"creation_date":1565724105,"post_id":57483619,"comment_id":101439502,"body_markdown":"@Carcigenicate I double checked your hypotesis, no I do not change the value after adding it. As you can see in my code I output the `LocalTime` of `ret` right before adding it and right after adding it iterate over the `ArrayList` to see it&#39;s values&#39; `LocalTime`s. I mean the modification that happens when adding the object, not the one before it, because the object I try to add is what I want to add, as seen in the output. I&#39;m now adding the code for the `SkEvent` class and ``getEvent()` method, I didn&#39;t think it would be necessary due to what I just explained. Many thanks for the help.","body":"@Carcigenicate I double checked your hypotesis, no I do not change the value after adding it. As you can see in my code I output the <code>LocalTime</code> of <code>ret</code> right before adding it and right after adding it iterate over the <code>ArrayList</code> to see it&#39;s values&#39; <code>LocalTime</code>s. I mean the modification that happens when adding the object, not the one before it, because the object I try to add is what I want to add, as seen in the output. I&#39;m now adding the code for the <code>SkEvent</code> class and ``getEvent()` method, I didn&#39;t think it would be necessary due to what I just explained. Many thanks for the help."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1565724497,"post_id":57483619,"comment_id":101439641,"body_markdown":"Did you try printing `ret` out _right_ before the add AND after the add?  I only see a print after, and a print way before.  Its doubtful the `add` is the problem.","body":"Did you try printing <code>ret</code> out <i>right</i> before the add AND after the add?  I only see a print after, and a print way before.  Its doubtful the <code>add</code> is the problem."},{"owner":{"account_id":16370659,"reputation":41,"user_id":11824003,"display_name":"Skwead"},"score":0,"creation_date":1565724691,"post_id":57483619,"comment_id":101439715,"body_markdown":"I just did it and the LocalTime is exactly the same as after the `add()`, so, what is expected to be in the `ArrayList`. Thanks for the sugestion","body":"I just did it and the LocalTime is exactly the same as after the <code>add()</code>, so, what is expected to be in the <code>ArrayList</code>. Thanks for the sugestion"},{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":1,"creation_date":1565726153,"post_id":57483619,"comment_id":101440268,"body_markdown":"@Skwead `add` doesn&#39;t alter the element: [source](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java#l442). Mutation of objects after being put into the list and adding the same element repeatedly is the only explanation I can see here.","body":"@Skwead <code>add</code> doesn&#39;t alter the element: <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java#l442\" rel=\"nofollow noreferrer\">source</a>. Mutation of objects after being put into the list and adding the same element repeatedly is the only explanation I can see here."},{"owner":{"account_id":16370659,"reputation":41,"user_id":11824003,"display_name":"Skwead"},"score":0,"creation_date":1565727654,"post_id":57483619,"comment_id":101440792,"body_markdown":"I know it doesn&#39;t, I read the docs, but logically it&#39;s what I see that is happening. Right before I add it I printed it, the value is the one I desired. Right after adding it I get it from the table, wich is different. There is no way I could change it before I printed it and after I added it, since there is no code between the `add()` and the iteration. It&#39;s logical to assum the problem is related to the ArrayList itself and the way it handles the `add()` method, since it is where the change occours.","body":"I know it doesn&#39;t, I read the docs, but logically it&#39;s what I see that is happening. Right before I add it I printed it, the value is the one I desired. Right after adding it I get it from the table, wich is different. There is no way I could change it before I printed it and after I added it, since there is no code between the <code>add()</code> and the iteration. It&#39;s logical to assum the problem is related to the ArrayList itself and the way it handles the <code>add()</code> method, since it is where the change occours."}],"answers":[{"comments":[{"owner":{"account_id":16370659,"reputation":41,"user_id":11824003,"display_name":"Skwead"},"score":1,"creation_date":1565880589,"post_id":57498071,"comment_id":101491215,"body_markdown":"It was that, when I called `setTime()` I did not use it on the reference but in the event itself, changing it&#39;s `time` to the end time. I solved it by returning a copy of the event instead of the event itself, thank you :) (You would get an upvote if I had the reputation required)","body":"It was that, when I called <code>setTime()</code> I did not use it on the reference but in the event itself, changing it&#39;s <code>time</code> to the end time. I solved it by returning a copy of the event instead of the event itself, thank you :) (You would get an upvote if I had the reputation required)"}],"tags":[],"owner":{"account_id":16507910,"reputation":86,"user_id":11927491,"display_name":"UniqueHorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690364194,"creation_date":1565797688,"answer_id":57498071,"question_id":57483619,"body_markdown":"The three unexplained occurrences are:\r\n\r\n    clock: 22:00\r\n    Event exists.\r\n    Added event e at 22:00\r\n    clock: 22:30\r\n    Event exists.\r\n    Added event e at 22:30\r\n    clock: 23:00\r\n    Event exists.\r\n    Added event e at 23:00\r\n\r\nas you can see on your console: for those three events you entered the `if` statement (since there was printed &quot;Event exists.&quot;.). \r\n\r\n    if(existsEvent(clock)){\r\n      System.out.println(&quot;Event exists.&quot;);\r\n      ret = getEvent(clock);\r\n      ret.setLocalDateTime(clock);\r\n    }\r\n\r\nI can only guess what the used functions are doing, but i assume that `existsEvent(clock)` returns true if there exists an `SkEvent` with the same time and date specifiers as `clock` (actual date) (this is obviously true for the three stated cases above). `getEvent(clock)` then retrieves this `SkEvent` and overrides the `ret` variable with it. `ret` is then changed (`ret.setLocalDateTime(clock)`).\r\n\r\n`tableToday.add(ret)` does add a **reference** (pointing to the `SkEvent`) to the list. This means, changing the `SkEvent` object afterwards, will also change its *occurrence on the list*, since it is only a pointer pointing to the actual (now altered) object.\r\n\r\nWhat you do here is adding a reference referring to a new object to the list, then (3 times) retrieving it, changing it, and adding an additional reference to the **same** object to this list again.","title":"Why does ArrayList.add() modify the object added?","body":"<p>The three unexplained occurrences are:</p>\n<pre><code>clock: 22:00\nEvent exists.\nAdded event e at 22:00\nclock: 22:30\nEvent exists.\nAdded event e at 22:30\nclock: 23:00\nEvent exists.\nAdded event e at 23:00\n</code></pre>\n<p>as you can see on your console: for those three events you entered the <code>if</code> statement (since there was printed &quot;Event exists.&quot;.).</p>\n<pre><code>if(existsEvent(clock)){\n  System.out.println(&quot;Event exists.&quot;);\n  ret = getEvent(clock);\n  ret.setLocalDateTime(clock);\n}\n</code></pre>\n<p>I can only guess what the used functions are doing, but i assume that <code>existsEvent(clock)</code> returns true if there exists an <code>SkEvent</code> with the same time and date specifiers as <code>clock</code> (actual date) (this is obviously true for the three stated cases above). <code>getEvent(clock)</code> then retrieves this <code>SkEvent</code> and overrides the <code>ret</code> variable with it. <code>ret</code> is then changed (<code>ret.setLocalDateTime(clock)</code>).</p>\n<p><code>tableToday.add(ret)</code> does add a <strong>reference</strong> (pointing to the <code>SkEvent</code>) to the list. This means, changing the <code>SkEvent</code> object afterwards, will also change its <em>occurrence on the list</em>, since it is only a pointer pointing to the actual (now altered) object.</p>\n<p>What you do here is adding a reference referring to a new object to the list, then (3 times) retrieving it, changing it, and adding an additional reference to the <strong>same</strong> object to this list again.</p>\n"}],"owner":{"account_id":16370659,"reputation":41,"user_id":11824003,"display_name":"Skwead"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":57498071,"answer_count":1,"score":0,"last_activity_date":1690364194,"creation_date":1565721427,"question_id":57483619,"body_markdown":"When I add an object to an ArrayList it gets chenged.\r\n\r\nI am trying to make a java fx agenda app and so I need to pass an ArrayList with the objects I want in the table to an ObservableList.\r\n\r\nThe problem happens right in this function, at `tableToday.add(ret);`\r\n\r\n```java\r\npublic ArrayList&lt;SkEvent&gt; getTableToday() {\r\n        LocalDateTime clock = LocalDateTime.of(LocalDate.now(), LocalTime.of(0,0));\r\n        while (clock.until(LocalDateTime.of(LocalDate.now(), LocalTime.of(23,59)), ChronoUnit.MINUTES)&gt;0){\r\n            System.out.println(&quot;clock: &quot;+clock.toLocalTime().toString());\r\n\r\n            SkEvent ret = new SkEvent(LocalDate.now(), clock.toLocalTime());\r\n\r\n            if(existsEvent(clock)){\r\n                System.out.println(&quot;Event exists.&quot;);\r\n\r\n                ret = getEvent(clock);\r\n                ret.setLocalDateTime(clock);\r\n            }\r\n\r\n\r\n            tableToday.add(ret);\r\n            System.out.println(&quot;Added event &quot;+ ret.getName() + &quot; at &quot;+ret.getTime().toString());\r\n            LocalDateTime updatedClock = clock.plusMinutes(gap);\r\n            clock = updatedClock;\r\n\r\n        }\r\n```\r\n\r\nThis is a part of the output:\r\n```\r\nclock: 21:00\r\nAdded event  at 21:00\r\nclock: 21:30\r\nAdded event  at 21:30\r\nclock: 22:00\r\nEvent exists.\r\nAdded event e at 22:00\r\nclock: 22:30\r\nEvent exists.\r\nAdded event e at 22:30\r\nclock: 23:00\r\nEvent exists.\r\nAdded event e at 23:00\r\nclock: 23:30\r\nAdded event  at 23:30\r\nTimes in the table: \r\n21:00\r\n21:30\r\n23:00\r\n23:00\r\n23:00\r\n23:30\r\n```\r\nAs you can see I add 3 events at 22:00, 22:30 and 23:00, but outputing the event times on the ArrayList outputs 3 times the 23:00\r\n\r\nIt should output\r\n```\r\nTimes in the table: \r\n21:00\r\n21:30\r\n22:00\r\n22:30\r\n23:00\r\n23:30\r\n```\r\nAlso, here is the `SkEvent` class:\r\n```java\r\npublic class SkEvent{\r\n    private LocalDate date;\r\n    private LocalTime time;\r\n    private String name;\r\n    private String description;\r\n\r\n    public SkEvent(LocalDate date, int hour, int minute, String name, String description) {\r\n        this.date = date;\r\n        this.time = LocalTime.of(hour, minute);\r\n        this.name = name;\r\n        this.description = description;\r\n    }\r\n\r\n    public SkEvent(LocalDate date, LocalTime time){\r\n        this.date = date;\r\n        this.time = time;\r\n        this.name = &quot;&quot;;\r\n        this.description = &quot;&quot;;\r\n    }\r\n\r\n    public LocalDateTime getLocalDateTime(){\r\n        return LocalDateTime.of(getDate(), getTime());\r\n    }\r\n\r\n    public SkEvent setLocalDateTime(LocalDateTime localDateTime){\r\n        this.date = localDateTime.toLocalDate();\r\n        this.time = localDateTime.toLocalTime();\r\n\r\n        return this;\r\n    }\r\n\r\n    public LocalDate getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(LocalDate date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public LocalTime getTime() {\r\n        return time;\r\n    }\r\n\r\n    public void setTime(LocalTime time) {\r\n        this.time = time;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n}\r\n```\r\nand the `getEvent()` method:\r\n```java\r\nprivate Map&lt;SkEvent, LocalDateTime&gt; actualEvents = new HashMap();\r\n//(...)\r\n    private SkEvent getEvent(LocalDateTime clock) {\r\n        for(Map.Entry&lt;SkEvent, LocalDateTime&gt; entry: actualEvents.entrySet()){\r\n            if(!entry.getKey().getLocalDateTime().isAfter(clock) &amp;&amp; !entry.getValue().isBefore(clock)){\r\n                return entry.getKey();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```\r\nMany thanks for the time.","title":"Why does ArrayList.add() modify the object added?","body":"<p>When I add an object to an ArrayList it gets chenged.</p>\n\n<p>I am trying to make a java fx agenda app and so I need to pass an ArrayList with the objects I want in the table to an ObservableList.</p>\n\n<p>The problem happens right in this function, at <code>tableToday.add(ret);</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public ArrayList&lt;SkEvent&gt; getTableToday() {\n        LocalDateTime clock = LocalDateTime.of(LocalDate.now(), LocalTime.of(0,0));\n        while (clock.until(LocalDateTime.of(LocalDate.now(), LocalTime.of(23,59)), ChronoUnit.MINUTES)&gt;0){\n            System.out.println(\"clock: \"+clock.toLocalTime().toString());\n\n            SkEvent ret = new SkEvent(LocalDate.now(), clock.toLocalTime());\n\n            if(existsEvent(clock)){\n                System.out.println(\"Event exists.\");\n\n                ret = getEvent(clock);\n                ret.setLocalDateTime(clock);\n            }\n\n\n            tableToday.add(ret);\n            System.out.println(\"Added event \"+ ret.getName() + \" at \"+ret.getTime().toString());\n            LocalDateTime updatedClock = clock.plusMinutes(gap);\n            clock = updatedClock;\n\n        }\n</code></pre>\n\n<p>This is a part of the output:</p>\n\n<pre><code>clock: 21:00\nAdded event  at 21:00\nclock: 21:30\nAdded event  at 21:30\nclock: 22:00\nEvent exists.\nAdded event e at 22:00\nclock: 22:30\nEvent exists.\nAdded event e at 22:30\nclock: 23:00\nEvent exists.\nAdded event e at 23:00\nclock: 23:30\nAdded event  at 23:30\nTimes in the table: \n21:00\n21:30\n23:00\n23:00\n23:00\n23:30\n</code></pre>\n\n<p>As you can see I add 3 events at 22:00, 22:30 and 23:00, but outputing the event times on the ArrayList outputs 3 times the 23:00</p>\n\n<p>It should output</p>\n\n<pre><code>Times in the table: \n21:00\n21:30\n22:00\n22:30\n23:00\n23:30\n</code></pre>\n\n<p>Also, here is the <code>SkEvent</code> class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SkEvent{\n    private LocalDate date;\n    private LocalTime time;\n    private String name;\n    private String description;\n\n    public SkEvent(LocalDate date, int hour, int minute, String name, String description) {\n        this.date = date;\n        this.time = LocalTime.of(hour, minute);\n        this.name = name;\n        this.description = description;\n    }\n\n    public SkEvent(LocalDate date, LocalTime time){\n        this.date = date;\n        this.time = time;\n        this.name = \"\";\n        this.description = \"\";\n    }\n\n    public LocalDateTime getLocalDateTime(){\n        return LocalDateTime.of(getDate(), getTime());\n    }\n\n    public SkEvent setLocalDateTime(LocalDateTime localDateTime){\n        this.date = localDateTime.toLocalDate();\n        this.time = localDateTime.toLocalTime();\n\n        return this;\n    }\n\n    public LocalDate getDate() {\n        return date;\n    }\n\n    public void setDate(LocalDate date) {\n        this.date = date;\n    }\n\n    public LocalTime getTime() {\n        return time;\n    }\n\n    public void setTime(LocalTime time) {\n        this.time = time;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n}\n</code></pre>\n\n<p>and the <code>getEvent()</code> method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private Map&lt;SkEvent, LocalDateTime&gt; actualEvents = new HashMap();\n//(...)\n    private SkEvent getEvent(LocalDateTime clock) {\n        for(Map.Entry&lt;SkEvent, LocalDateTime&gt; entry: actualEvents.entrySet()){\n            if(!entry.getKey().getLocalDateTime().isAfter(clock) &amp;&amp; !entry.getValue().isBefore(clock)){\n                return entry.getKey();\n            }\n        }\n        return null;\n    }\n</code></pre>\n\n<p>Many thanks for the time.</p>\n"},{"tags":["java","ssl","cryptography","jvm","jsse"],"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1259111735,"post_id":1793979,"comment_id":1681649,"body_markdown":"If you think your issue is different that this, please clarify: http://stackoverflow.com/questions/1788031/how-can-i-have-multiple-ssl-certificates-for-a-java-server/1788047#1788047","body":"If you think your issue is different that this, please clarify: <a href=\"http://stackoverflow.com/questions/1788031/how-can-i-have-multiple-ssl-certificates-for-a-java-server/1788047#1788047\" title=\"how can i have multiple ssl certificates for a java server\">stackoverflow.com/questions/1788031/&hellip;</a>"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1259112165,"post_id":1793979,"comment_id":1681674,"body_markdown":"I have added my working code which could be adapted to answer this to my question, referred to by sylvarking.","body":"I have added my working code which could be adapted to answer this to my question, referred to by sylvarking."},{"owner":{"account_id":39698,"reputation":860,"user_id":114601,"display_name":"Raz"},"score":0,"creation_date":1259193362,"post_id":1793979,"comment_id":1688770,"body_markdown":"thanks sylvarking and software monkey. I need to fail over to the Java&#39;s default key/trust store if the custom ones don&#39;t work. I am working on the code you provided, I need to adapt it so that it works with the default JVM key managers.","body":"thanks sylvarking and software monkey. I need to fail over to the Java&#39;s default key/trust store if the custom ones don&#39;t work. I am working on the code you provided, I need to adapt it so that it works with the default JVM key managers."},{"owner":{"account_id":11107193,"reputation":125,"user_id":8154045,"display_name":"KFJK"},"score":0,"creation_date":1551149804,"post_id":1793979,"comment_id":96525300,"body_markdown":"For android developers, you can reference my answer [here](https://stackoverflow.com/a/54877748/8154045).","body":"For android developers, you can reference my answer <a href=\"https://stackoverflow.com/a/54877748/8154045\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":39698,"reputation":860,"user_id":114601,"display_name":"Raz"},"score":0,"creation_date":1259193314,"post_id":1794647,"comment_id":1688769,"body_markdown":"thanks for your answer. I need to fail over to the Java&#39;s default key/trust store if the custom ones don&#39;t work. I am working on the code you provided, I need to adapt it so that it works with the default JVM key managers.","body":"thanks for your answer. I need to fail over to the Java&#39;s default key/trust store if the custom ones don&#39;t work. I am working on the code you provided, I need to adapt it so that it works with the default JVM key managers."}],"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1259123618,"creation_date":1259123618,"answer_id":1794647,"question_id":1793979,"body_markdown":"Check out my answer to this question,\r\n\r\nhttps://stackoverflow.com/questions/1788031/how-can-i-have-multiple-ssl-certificates-for-a-java-server\r\n\r\nIf you use the MyKeyManager, you can have multiple keystores or you can use a single keystore for multiple contexts.","title":"Registering multiple keystores in JVM","body":"<p>Check out my answer to this question,</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1788031/how-can-i-have-multiple-ssl-certificates-for-a-java-server\">How can I have multiple SSL certificates for a Java server</a></p>\n\n<p>If you use the MyKeyManager, you can have multiple keystores or you can use a single keystore for multiple contexts.</p>\n"},{"comments":[{"owner":{"account_id":135124,"reputation":5909,"user_id":337735,"accept_rate":50,"display_name":"Cody A. Ray"},"score":0,"creation_date":1366665400,"post_id":1801362,"comment_id":23087896,"body_markdown":"I had to add a MultiKeyStoreTrustManager as well, along with the getX509TrustManager() and getTrustManagers(..) functions. They more-or-less directly parallel the KeyManager code given, but won&#39;t work without it.","body":"I had to add a MultiKeyStoreTrustManager as well, along with the getX509TrustManager() and getTrustManagers(..) functions. They more-or-less directly parallel the KeyManager code given, but won&#39;t work without it."}],"tags":[],"owner":{"account_id":39698,"reputation":860,"user_id":114601,"display_name":"Raz"},"comment_count":1,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1259205614,"creation_date":1259205614,"answer_id":1801362,"question_id":1793979,"body_markdown":"After playing with the code I have received from ZZ Coder, sylvarking and Software Monkey, I have found a solution that works:\r\n\r\n\r\nFirst, I wrote a X509KeyManager that works combines a custom keystore and a default keystore.\r\n\r\n\r\n    class MultiKeyStoreManager implements X509KeyManager {\r\n     private static final Logger logger = Logger.getLogger(MultiKeyStoreManager.class); \r\n     private final X509KeyManager jvmKeyManager;\r\n     private final X509KeyManager customKeyManager;\r\n    \r\n     public MultiKeyStoreManager(X509KeyManager jvmKeyManager, X509KeyManager customKeyManager ) {\r\n      this.jvmKeyManager = jvmKeyManager;\r\n      this.customKeyManager = customKeyManager;  \r\n     }\r\n    \r\n     @Override\r\n     public String chooseClientAlias(String[] keyType, Principal[] issuers, Socket socket) {\r\n      // try the first key manager\r\n      String alias = customKeyManager.chooseClientAlias(keyType, issuers, socket);\r\n      if( alias == null ) {\r\n       alias = jvmKeyManager.chooseClientAlias(keyType, issuers, socket);\r\n       logger.warn(&quot;Reverting to JVM CLIENT alias : &quot; + alias);\r\n      }\r\n      \r\n      return alias;\r\n        \r\n     }\r\n    \r\n     @Override\r\n     public String chooseServerAlias(String keyType, Principal[] issuers, Socket socket) {\r\n      // try the first key manager\r\n      String alias = customKeyManager.chooseServerAlias(keyType, issuers, socket);\r\n      if( alias == null ) {\r\n       alias =  jvmKeyManager.chooseServerAlias(keyType, issuers, socket);\r\n       logger.warn(&quot;Reverting to JVM Server alias : &quot; + alias);\r\n      } \r\n      return alias;\r\n     }\r\n    \r\n     @Override\r\n     public X509Certificate[] getCertificateChain(String alias) {\r\n      X509Certificate[] chain = customKeyManager.getCertificateChain(alias);\r\n      if( chain == null || chain.length == 0) {\r\n       logger.warn(&quot;Reverting to JVM Chain : &quot; + alias);\r\n       return jvmKeyManager.getCertificateChain(alias);\r\n      } else {\r\n       return chain;\r\n      }  \r\n     }\r\n    \r\n     @Override\r\n     public String[] getClientAliases(String keyType, Principal[] issuers) {\r\n      String[] cAliases = customKeyManager.getClientAliases(keyType, issuers);\r\n      String[] jAliases = jvmKeyManager.getClientAliases(keyType, issuers);\r\n      logger.warn(&quot;Supported Client Aliases Custom: &quot; + cAliases.length + &quot; JVM : &quot; + jAliases.length);\r\n      return ArrayUtils.join(cAliases,jAliases);\r\n     }\r\n    \r\n     @Override\r\n     public PrivateKey getPrivateKey(String alias) {\r\n      PrivateKey key = customKeyManager.getPrivateKey(alias);\r\n      if( key == null ) {\r\n       logger.warn(&quot;Reverting to JVM Key : &quot; + alias);\r\n       return jvmKeyManager.getPrivateKey(alias);\r\n      } else {\r\n       return key;\r\n      }\r\n     }\r\n    \r\n     @Override\r\n     public String[] getServerAliases(String keyType, Principal[] issuers) {\r\n      String[] cAliases = customKeyManager.getServerAliases(keyType, issuers);\r\n      String[] jAliases = jvmKeyManager.getServerAliases(keyType, issuers);\r\n      logger.warn(&quot;Supported Server Aliases Custom: &quot; + cAliases.length + &quot; JVM : &quot; + jAliases.length);\r\n      return ArrayUtils.join(cAliases,jAliases);\r\n     }\r\n     \r\n    }\r\n\r\n\r\nThen, you can use this keystore manager when creating an SSL Context or SocketFactory. The code needs some refactoring and tidying up but it works perfectly.\r\n\r\n\r\n     /**\r\n      * Returns an array of KeyManagers, set up to use the required keyStore.\r\n      * This method does the bulk of the work of setting up the custom trust managers.\r\n      * \r\n      * @param props \r\n      * \r\n      * @return an array of KeyManagers set up accordingly.\r\n      */\r\n     private static KeyManager[] getKeyManagers(Properties props) throws IOException, GeneralSecurityException {\r\n      // First, get the default KeyManagerFactory.\r\n      String alg = KeyManagerFactory.getDefaultAlgorithm();\r\n      KeyManagerFactory kmFact = KeyManagerFactory.getInstance(alg);   \r\n      // Next, set up the KeyStore to use. We need to load the file into\r\n      // a KeyStore instance.\r\n      FileInputStream fis = new FileInputStream(props.getProperty(SSL_KEYSTORE));\r\n      logger.info(&quot;Loaded keystore&quot;);\r\n      KeyStore ks = KeyStore.getInstance(&quot;jks&quot;);\r\n      String keyStorePassword = props.getProperty(SSL_KEYSTORE_PASSWORD);\r\n      ks.load(fis, keyStorePassword.toCharArray());\r\n      fis.close();\r\n      // Now we initialise the KeyManagerFactory with this KeyStore\r\n      kmFact.init(ks, keyStorePassword.toCharArray());\r\n      \r\n      // default\r\n      KeyManagerFactory dkmFact = KeyManagerFactory.getInstance(alg); \r\n      dkmFact.init(null,null);  \r\n      \r\n      // Get the first X509KeyManager in the list\r\n      X509KeyManager customX509KeyManager = getX509KeyManager(alg, kmFact);\r\n      X509KeyManager jvmX509KeyManager = getX509KeyManager(alg, dkmFact);\r\n    \r\n      KeyManager[] km = { new MultiKeyStoreManager(jvmX509KeyManager, customX509KeyManager) };   \r\n      logger.debug(&quot;Number of key managers registered:&quot; + km.length);  \r\n      return km;\r\n     }\r\n    \r\n     \r\n     /**\r\n      * Find a X509 Key Manager compatible with a particular algorithm\r\n      * @param algorithm\r\n      * @param kmFact\r\n      * @return\r\n      * @throws NoSuchAlgorithmException\r\n      */\r\n     private static X509KeyManager getX509KeyManager(String algorithm, KeyManagerFactory kmFact)\r\n       throws NoSuchAlgorithmException {\r\n      KeyManager[] keyManagers = kmFact.getKeyManagers();\r\n    \r\n      if (keyManagers == null || keyManagers.length == 0) {\r\n       throw new NoSuchAlgorithmException(&quot;The default algorithm :&quot; + algorithm + &quot; produced no key managers&quot;);\r\n      }\r\n    \r\n      X509KeyManager x509KeyManager = null;\r\n    \r\n      for (int i = 0; i &lt; keyManagers.length; i++) {\r\n       if (keyManagers[i] instanceof X509KeyManager) {\r\n        x509KeyManager = (X509KeyManager) keyManagers[i];\r\n        break;\r\n       }\r\n      }\r\n    \r\n      if (x509KeyManager == null) {\r\n       throw new NoSuchAlgorithmException(&quot;The default algorithm :&quot;+ algorithm + &quot; did not produce a X509 Key manager&quot;);\r\n      }\r\n      return x509KeyManager;\r\n     }\r\n    \r\n    \r\n    \r\n    \r\n     private static void initialiseManager(Properties props) throws IOException, GeneralSecurityException { \r\n      // Next construct and initialise a SSLContext with the KeyStore and\r\n      // the TrustStore. We use the default SecureRandom.\r\n      SSLContext context = SSLContext.getInstance(&quot;SSL&quot;);\r\n      context.init(getKeyManagers(props), getTrustManagers(props), null);\r\n      SSLContext.setDefault(context);\r\n      \r\n     }\r\n\r\nLet me know if anyone has any question or need any demonstration codes.\r\n\r\n","title":"Registering multiple keystores in JVM","body":"<p>After playing with the code I have received from ZZ Coder, sylvarking and Software Monkey, I have found a solution that works:</p>\n\n<p>First, I wrote a X509KeyManager that works combines a custom keystore and a default keystore.</p>\n\n<pre><code>class MultiKeyStoreManager implements X509KeyManager {\n private static final Logger logger = Logger.getLogger(MultiKeyStoreManager.class); \n private final X509KeyManager jvmKeyManager;\n private final X509KeyManager customKeyManager;\n\n public MultiKeyStoreManager(X509KeyManager jvmKeyManager, X509KeyManager customKeyManager ) {\n  this.jvmKeyManager = jvmKeyManager;\n  this.customKeyManager = customKeyManager;  \n }\n\n @Override\n public String chooseClientAlias(String[] keyType, Principal[] issuers, Socket socket) {\n  // try the first key manager\n  String alias = customKeyManager.chooseClientAlias(keyType, issuers, socket);\n  if( alias == null ) {\n   alias = jvmKeyManager.chooseClientAlias(keyType, issuers, socket);\n   logger.warn(\"Reverting to JVM CLIENT alias : \" + alias);\n  }\n\n  return alias;\n\n }\n\n @Override\n public String chooseServerAlias(String keyType, Principal[] issuers, Socket socket) {\n  // try the first key manager\n  String alias = customKeyManager.chooseServerAlias(keyType, issuers, socket);\n  if( alias == null ) {\n   alias =  jvmKeyManager.chooseServerAlias(keyType, issuers, socket);\n   logger.warn(\"Reverting to JVM Server alias : \" + alias);\n  } \n  return alias;\n }\n\n @Override\n public X509Certificate[] getCertificateChain(String alias) {\n  X509Certificate[] chain = customKeyManager.getCertificateChain(alias);\n  if( chain == null || chain.length == 0) {\n   logger.warn(\"Reverting to JVM Chain : \" + alias);\n   return jvmKeyManager.getCertificateChain(alias);\n  } else {\n   return chain;\n  }  \n }\n\n @Override\n public String[] getClientAliases(String keyType, Principal[] issuers) {\n  String[] cAliases = customKeyManager.getClientAliases(keyType, issuers);\n  String[] jAliases = jvmKeyManager.getClientAliases(keyType, issuers);\n  logger.warn(\"Supported Client Aliases Custom: \" + cAliases.length + \" JVM : \" + jAliases.length);\n  return ArrayUtils.join(cAliases,jAliases);\n }\n\n @Override\n public PrivateKey getPrivateKey(String alias) {\n  PrivateKey key = customKeyManager.getPrivateKey(alias);\n  if( key == null ) {\n   logger.warn(\"Reverting to JVM Key : \" + alias);\n   return jvmKeyManager.getPrivateKey(alias);\n  } else {\n   return key;\n  }\n }\n\n @Override\n public String[] getServerAliases(String keyType, Principal[] issuers) {\n  String[] cAliases = customKeyManager.getServerAliases(keyType, issuers);\n  String[] jAliases = jvmKeyManager.getServerAliases(keyType, issuers);\n  logger.warn(\"Supported Server Aliases Custom: \" + cAliases.length + \" JVM : \" + jAliases.length);\n  return ArrayUtils.join(cAliases,jAliases);\n }\n\n}\n</code></pre>\n\n<p>Then, you can use this keystore manager when creating an SSL Context or SocketFactory. The code needs some refactoring and tidying up but it works perfectly.</p>\n\n<pre><code> /**\n  * Returns an array of KeyManagers, set up to use the required keyStore.\n  * This method does the bulk of the work of setting up the custom trust managers.\n  * \n  * @param props \n  * \n  * @return an array of KeyManagers set up accordingly.\n  */\n private static KeyManager[] getKeyManagers(Properties props) throws IOException, GeneralSecurityException {\n  // First, get the default KeyManagerFactory.\n  String alg = KeyManagerFactory.getDefaultAlgorithm();\n  KeyManagerFactory kmFact = KeyManagerFactory.getInstance(alg);   \n  // Next, set up the KeyStore to use. We need to load the file into\n  // a KeyStore instance.\n  FileInputStream fis = new FileInputStream(props.getProperty(SSL_KEYSTORE));\n  logger.info(\"Loaded keystore\");\n  KeyStore ks = KeyStore.getInstance(\"jks\");\n  String keyStorePassword = props.getProperty(SSL_KEYSTORE_PASSWORD);\n  ks.load(fis, keyStorePassword.toCharArray());\n  fis.close();\n  // Now we initialise the KeyManagerFactory with this KeyStore\n  kmFact.init(ks, keyStorePassword.toCharArray());\n\n  // default\n  KeyManagerFactory dkmFact = KeyManagerFactory.getInstance(alg); \n  dkmFact.init(null,null);  \n\n  // Get the first X509KeyManager in the list\n  X509KeyManager customX509KeyManager = getX509KeyManager(alg, kmFact);\n  X509KeyManager jvmX509KeyManager = getX509KeyManager(alg, dkmFact);\n\n  KeyManager[] km = { new MultiKeyStoreManager(jvmX509KeyManager, customX509KeyManager) };   \n  logger.debug(\"Number of key managers registered:\" + km.length);  \n  return km;\n }\n\n\n /**\n  * Find a X509 Key Manager compatible with a particular algorithm\n  * @param algorithm\n  * @param kmFact\n  * @return\n  * @throws NoSuchAlgorithmException\n  */\n private static X509KeyManager getX509KeyManager(String algorithm, KeyManagerFactory kmFact)\n   throws NoSuchAlgorithmException {\n  KeyManager[] keyManagers = kmFact.getKeyManagers();\n\n  if (keyManagers == null || keyManagers.length == 0) {\n   throw new NoSuchAlgorithmException(\"The default algorithm :\" + algorithm + \" produced no key managers\");\n  }\n\n  X509KeyManager x509KeyManager = null;\n\n  for (int i = 0; i &lt; keyManagers.length; i++) {\n   if (keyManagers[i] instanceof X509KeyManager) {\n    x509KeyManager = (X509KeyManager) keyManagers[i];\n    break;\n   }\n  }\n\n  if (x509KeyManager == null) {\n   throw new NoSuchAlgorithmException(\"The default algorithm :\"+ algorithm + \" did not produce a X509 Key manager\");\n  }\n  return x509KeyManager;\n }\n\n\n\n\n private static void initialiseManager(Properties props) throws IOException, GeneralSecurityException { \n  // Next construct and initialise a SSLContext with the KeyStore and\n  // the TrustStore. We use the default SecureRandom.\n  SSLContext context = SSLContext.getInstance(\"SSL\");\n  context.init(getKeyManagers(props), getTrustManagers(props), null);\n  SSLContext.setDefault(context);\n\n }\n</code></pre>\n\n<p>Let me know if anyone has any question or need any demonstration codes.</p>\n"},{"comments":[{"owner":{"account_id":95837,"reputation":14298,"user_id":260805,"accept_rate":77,"display_name":"Ztyx"},"score":0,"creation_date":1433405242,"post_id":16229909,"comment_id":49341148,"body_markdown":"I&#39;m somewhat surprised the `getAcceptedIssuers()` work. It adds `X509Certificate[]` instances to a list and then casts the list of arrays to `X509Certificate`s? Here&#39;s a corrected one (that uses generics, too): https://gist.github.com/JensRantil/9b7fecb3647ecf1e3076","body":"I&#39;m somewhat surprised the <code>getAcceptedIssuers()</code> work. It adds <code>X509Certificate[]</code> instances to a list and then casts the list of arrays to <code>X509Certificate</code>s? Here&#39;s a corrected one (that uses generics, too): <a href=\"https://gist.github.com/JensRantil/9b7fecb3647ecf1e3076\" rel=\"nofollow noreferrer\">gist.github.com/JensRantil/9b7fecb3647ecf1e3076</a>"},{"owner":{"account_id":95837,"reputation":14298,"user_id":260805,"accept_rate":77,"display_name":"Ztyx"},"score":0,"creation_date":1433412758,"post_id":16229909,"comment_id":49346239,"body_markdown":"Apparently, the JVM doesn&#39;t ship with a default key store. See http://stackoverflow.com/a/30640992/260805.","body":"Apparently, the JVM doesn&#39;t ship with a default key store. See <a href=\"http://stackoverflow.com/a/30640992/260805\">stackoverflow.com/a/30640992/260805</a>."},{"owner":{"account_id":162357,"reputation":2936,"user_id":383761,"accept_rate":100,"display_name":"Hugh Jeffner"},"score":1,"creation_date":1456956003,"post_id":16229909,"comment_id":59191340,"body_markdown":"Using @Ztyx as a base I added some convenience methods if you just want to trust the system certs + your custom keystore: https://gist.github.com/HughJeffner/6eac419b18c6001aeadb","body":"Using @Ztyx as a base I added some convenience methods if you just want to trust the system certs + your custom keystore: <a href=\"https://gist.github.com/HughJeffner/6eac419b18c6001aeadb\" rel=\"nofollow noreferrer\">gist.github.com/HughJeffner/6eac419b18c6001aeadb</a>"},{"owner":{"account_id":3234933,"reputation":354,"user_id":2729389,"accept_rate":71,"display_name":"simpleusr"},"score":0,"creation_date":1500378851,"post_id":16229909,"comment_id":77299889,"body_markdown":"This solution seems to fail for certain certificates in our system. I asked that as a separate question.https://stackoverflow.com/questions/45166038/java-multiple-keystores-in-jvm . Could you please comment on that? Regards","body":"This solution seems to fail for certain certificates in our system. I asked that as a separate question.<a href=\"https://stackoverflow.com/questions/45166038/java-multiple-keystores-in-jvm\" title=\"java multiple keystores in jvm\">stackoverflow.com/questions/45166038/&hellip;</a> . Could you please comment on that? Regards"},{"owner":{"account_id":178183,"reputation":41234,"user_id":409976,"accept_rate":68,"display_name":"Kevin Meredith"},"score":1,"creation_date":1537906614,"post_id":16229909,"comment_id":91952579,"body_markdown":"This answer mostly worked for me. However, when using it as-is, it did not work due to the following SSL debug log: `X509KeyManager passed to SSLContext.init(): need an X509ExtendedKeyManager for SSLEngine use`. As a result, I changed my `X509KeyManager` with `X509ExtendedKeyManager` per your answer, and then it worked! Thanks for this answer.","body":"This answer mostly worked for me. However, when using it as-is, it did not work due to the following SSL debug log: <code>X509KeyManager passed to SSLContext.init(): need an X509ExtendedKeyManager for SSLEngine use</code>. As a result, I changed my <code>X509KeyManager</code> with <code>X509ExtendedKeyManager</code> per your answer, and then it worked! Thanks for this answer."}],"tags":[],"owner":{"account_id":135124,"reputation":5909,"user_id":337735,"accept_rate":50,"display_name":"Cody A. Ray"},"comment_count":5,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1433405446,"creation_date":1366956997,"answer_id":16229909,"question_id":1793979,"body_markdown":"Raz&#39;s answer was a great start, but wasn&#39;t quite flexible enough to meet my needs. The MultiStoreKeyManager explicitly checks the custom KeyManager and then falls back to the jvm KeyManager if an operation fails. I actually want to check jvm certs first; the best solution should be able to handle either case. Additionally, the answer fails to provide a working TrustManager. \r\n\r\nI&#39;ve written a couple more flexible classes, CompositeX509KeyManager and CompositeX509TrustManager, which add support for any number of keystores in an arbitrary order.\r\n\r\n### CompositeX509KeyManager\r\n\r\n    package com.mycompany.ssl;\r\n \r\n    import java.net.Socket;\r\n    import java.security.Principal;\r\n    import java.security.PrivateKey;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.List;\r\n \r\n    import javax.annotation.Nullable;\r\n    import javax.net.ssl.X509KeyManager;\r\n \r\n    import com.google.common.collect.ImmutableList;\r\n    import com.google.common.collect.Iterables;\r\n \r\n    /**\r\n     * Represents an ordered list of {@link X509KeyManager}s with most-preferred managers first.\r\n     *\r\n     * This is necessary because of the fine-print on {@link SSLContext#init}:\r\n     *     Only the first instance of a particular key and/or trust manager implementation type in the\r\n     *     array is used. (For example, only the first javax.net.ssl.X509KeyManager in the array will be used.)\r\n     *\r\n     * @author codyaray\r\n     * @since 4/22/2013\r\n     * @see http://stackoverflow.com/questions/1793979/registering-multiple-keystores-in-jvm\r\n     */\r\n    public class CompositeX509KeyManager implements X509KeyManager {\r\n \r\n      private final List keyManagers;\r\n \r\n      /**\r\n       * Creates a new {@link CompositeX509KeyManager}.\r\n       *\r\n       * @param keyManagers the X509 key managers, ordered with the most-preferred managers first.\r\n       */\r\n      public CompositeX509KeyManager(List keyManagers) {\r\n        this.keyManagers = ImmutableList.copyOf(keyManagers);\r\n      }\r\n \r\n      /**\r\n       * Chooses the first non-null client alias returned from the delegate\r\n       * {@link X509TrustManagers}, or {@code null} if there are no matches.\r\n       */\r\n      @Override\r\n      public @Nullable String chooseClientAlias(String[] keyType, Principal[] issuers, Socket socket) {\r\n        for (X509KeyManager keyManager : keyManagers) {\r\n          String alias = keyManager.chooseClientAlias(keyType, issuers, socket);\r\n          if (alias != null) {\r\n            return alias;\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n \r\n      /**\r\n       * Chooses the first non-null server alias returned from the delegate\r\n       * {@link X509TrustManagers}, or {@code null} if there are no matches.\r\n       */\r\n      @Override\r\n      public @Nullable String chooseServerAlias(String keyType, Principal[] issuers, Socket socket) {\r\n        for (X509KeyManager keyManager : keyManagers) {\r\n          String alias = keyManager.chooseServerAlias(keyType, issuers, socket);\r\n          if (alias != null) {\r\n            return alias;\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n \r\n      /**\r\n       * Returns the first non-null private key associated with the\r\n       * given alias, or {@code null} if the alias can&#39;t be found.\r\n       */\r\n      @Override\r\n      public @Nullable PrivateKey getPrivateKey(String alias) {\r\n        for (X509KeyManager keyManager : keyManagers) {\r\n          PrivateKey privateKey = keyManager.getPrivateKey(alias);\r\n          if (privateKey != null) {\r\n            return privateKey;\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n \r\n      /**\r\n       * Returns the first non-null certificate chain associated with the\r\n       * given alias, or {@code null} if the alias can&#39;t be found.\r\n       */\r\n      @Override\r\n      public @Nullable X509Certificate[] getCertificateChain(String alias) {\r\n        for (X509KeyManager keyManager : keyManagers) {\r\n          X509Certificate[] chain = keyManager.getCertificateChain(alias);\r\n          if (chain != null &amp;&amp; chain.length &gt; 0) {\r\n            return chain;\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n \r\n      /**\r\n       * Get all matching aliases for authenticating the client side of a\r\n       * secure socket, or {@code null} if there are no matches.\r\n       */\r\n      @Override\r\n      public @Nullable String[] getClientAliases(String keyType, Principal[] issuers) {\r\n        ImmutableList.Builder aliases = ImmutableList.builder();\r\n        for (X509KeyManager keyManager : keyManagers) {\r\n          aliases.add(keyManager.getClientAliases(keyType, issuers));\r\n        }\r\n        return emptyToNull(Iterables.toArray(aliases.build(), String.class));\r\n      }\r\n \r\n      /**\r\n       * Get all matching aliases for authenticating the server side of a\r\n       * secure socket, or {@code null} if there are no matches.\r\n       */\r\n      @Override\r\n      public @Nullable String[] getServerAliases(String keyType, Principal[] issuers) {\r\n        ImmutableList.Builder aliases = ImmutableList.builder();\r\n        for (X509KeyManager keyManager : keyManagers) {\r\n          aliases.add(keyManager.getServerAliases(keyType, issuers));\r\n        }\r\n        return emptyToNull(Iterables.toArray(aliases.build(), String.class));\r\n      }\r\n \r\n      @Nullable\r\n      private static &lt;T&gt; T[] emptyToNull(T[] arr) {\r\n        return (arr.length == 0) ? null : arr;\r\n      }\r\n \r\n    }\r\n\r\n### CompositeX509TrustManager\r\n\r\n    package com.mycompany.ssl;\r\n \r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.List;\r\n \r\n    import javax.net.ssl.X509TrustManager;\r\n \r\n    import com.google.common.collect.ImmutableList;\r\n    import com.google.common.collect.Iterables;\r\n \r\n    /**\r\n     * Represents an ordered list of {@link X509TrustManager}s with additive trust. If any one of the\r\n     * composed managers trusts a certificate chain, then it is trusted by the composite manager.\r\n     *\r\n     * This is necessary because of the fine-print on {@link SSLContext#init}:\r\n     *     Only the first instance of a particular key and/or trust manager implementation type in the\r\n     *     array is used. (For example, only the first javax.net.ssl.X509KeyManager in the array will be used.)\r\n     *\r\n     * @author codyaray\r\n     * @since 4/22/2013\r\n     * @see http://stackoverflow.com/questions/1793979/registering-multiple-keystores-in-jvm\r\n     */\r\n    public class CompositeX509TrustManager implements X509TrustManager {\r\n \r\n      private final List trustManagers;\r\n \r\n      public CompositeX509TrustManager(List trustManagers) {\r\n        this.trustManagers = ImmutableList.copyOf(trustManagers);\r\n      }\r\n \r\n      @Override\r\n      public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n        for (X509TrustManager trustManager : trustManagers) {\r\n          try {\r\n            trustManager.checkClientTrusted(chain, authType);\r\n            return; // someone trusts them. success!\r\n          } catch (CertificateException e) {\r\n            // maybe someone else will trust them\r\n          }\r\n        }\r\n        throw new CertificateException(&quot;None of the TrustManagers trust this certificate chain&quot;);\r\n      }\r\n \r\n      @Override\r\n      public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n        for (X509TrustManager trustManager : trustManagers) {\r\n          try {\r\n            trustManager.checkServerTrusted(chain, authType);\r\n            return; // someone trusts them. success!\r\n          } catch (CertificateException e) {\r\n            // maybe someone else will trust them\r\n          }\r\n        }\r\n        throw new CertificateException(&quot;None of the TrustManagers trust this certificate chain&quot;);\r\n      }\r\n \r\n      @Override\r\n      public X509Certificate[] getAcceptedIssuers() {\r\n        ImmutableList.Builder certificates = ImmutableList.builder();\r\n        for (X509TrustManager trustManager : trustManagers) {\r\n          certificates.add(trustManager.getAcceptedIssuers());\r\n        }\r\n        return Iterables.toArray(certificates.build(), X509Certificate.class);\r\n      }\r\n \r\n    }\r\n\r\n### Usage\r\n\r\nFor the standard case of one keystore + jvm keystore, you can wire it up like this. I’m using Guava again, but in a Guicey wrapper this time:\r\n\r\n    @Provides @Singleton\r\n    SSLContext provideSSLContext(KeyStore keystore, char[] password) {\r\n      String defaultAlgorithm = KeyManagerFactory.getDefaultAlgorithm();\r\n      X509KeyManager customKeyManager = getKeyManager(&quot;SunX509&quot;, keystore, password);\r\n      X509KeyManager jvmKeyManager = getKeyManager(defaultAlgorithm, null, null);\r\n      X509TrustManager customTrustManager = getTrustManager(&quot;SunX509&quot;, keystore);\r\n      X509TrustManager jvmTrustManager = getTrustManager(defaultAlgorithm, null);\r\n \r\n      KeyManager[] keyManagers = { new CompositeX509KeyManager(ImmutableList.of(jvmKeyManager, customKeyManager)) };\r\n      TrustManager[] trustManagers = { new CompositeX509TrustManager(ImmutableList.of(jvmTrustManager, customTrustManager)) };\r\n \r\n      SSLContext context = SSLContext.getInstance(&quot;SSL&quot;);\r\n      context.init(keyManagers, trustManagers, null);\r\n      return context;\r\n    }\r\n \r\n    private X509KeyManager getKeyManager(String algorithm, KeyStore keystore, char[] password) {\r\n      KeyManagerFactory factory = KeyManagerFactory.getInstance(algorithm);\r\n      factory.init(keystore, password);\r\n      return Iterables.getFirst(Iterables.filter(\r\n          Arrays.asList(factory.getKeyManagers()), X509KeyManager.class), null);\r\n    }\r\n \r\n    private X509TrustManager getTrustManager(String algorithm, KeyStore keystore) {\r\n      TrustManagerFactory factory = TrustManagerFactory.getInstance(algorithm);\r\n      factory.init(keystore);\r\n      return Iterables.getFirst(Iterables.filter(\r\n          Arrays.asList(factory.getTrustManagers()), X509TrustManager.class), null); \r\n    }\r\n\r\nI extracted this from [my blog post](http://codyaray.com/2013/04/java-ssl-with-multiple-keystores) about this problem which has a bit more detail, motivation, etc. All the code is there though, so its standalone. :)","title":"Registering multiple keystores in JVM","body":"<p>Raz's answer was a great start, but wasn't quite flexible enough to meet my needs. The MultiStoreKeyManager explicitly checks the custom KeyManager and then falls back to the jvm KeyManager if an operation fails. I actually want to check jvm certs first; the best solution should be able to handle either case. Additionally, the answer fails to provide a working TrustManager. </p>\n\n<p>I've written a couple more flexible classes, CompositeX509KeyManager and CompositeX509TrustManager, which add support for any number of keystores in an arbitrary order.</p>\n\n<h3>CompositeX509KeyManager</h3>\n\n<pre><code>package com.mycompany.ssl;\n\nimport java.net.Socket;\nimport java.security.Principal;\nimport java.security.PrivateKey;\nimport java.security.cert.X509Certificate;\nimport java.util.List;\n\nimport javax.annotation.Nullable;\nimport javax.net.ssl.X509KeyManager;\n\nimport com.google.common.collect.ImmutableList;\nimport com.google.common.collect.Iterables;\n\n/**\n * Represents an ordered list of {@link X509KeyManager}s with most-preferred managers first.\n *\n * This is necessary because of the fine-print on {@link SSLContext#init}:\n *     Only the first instance of a particular key and/or trust manager implementation type in the\n *     array is used. (For example, only the first javax.net.ssl.X509KeyManager in the array will be used.)\n *\n * @author codyaray\n * @since 4/22/2013\n * @see http://stackoverflow.com/questions/1793979/registering-multiple-keystores-in-jvm\n */\npublic class CompositeX509KeyManager implements X509KeyManager {\n\n  private final List keyManagers;\n\n  /**\n   * Creates a new {@link CompositeX509KeyManager}.\n   *\n   * @param keyManagers the X509 key managers, ordered with the most-preferred managers first.\n   */\n  public CompositeX509KeyManager(List keyManagers) {\n    this.keyManagers = ImmutableList.copyOf(keyManagers);\n  }\n\n  /**\n   * Chooses the first non-null client alias returned from the delegate\n   * {@link X509TrustManagers}, or {@code null} if there are no matches.\n   */\n  @Override\n  public @Nullable String chooseClientAlias(String[] keyType, Principal[] issuers, Socket socket) {\n    for (X509KeyManager keyManager : keyManagers) {\n      String alias = keyManager.chooseClientAlias(keyType, issuers, socket);\n      if (alias != null) {\n        return alias;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Chooses the first non-null server alias returned from the delegate\n   * {@link X509TrustManagers}, or {@code null} if there are no matches.\n   */\n  @Override\n  public @Nullable String chooseServerAlias(String keyType, Principal[] issuers, Socket socket) {\n    for (X509KeyManager keyManager : keyManagers) {\n      String alias = keyManager.chooseServerAlias(keyType, issuers, socket);\n      if (alias != null) {\n        return alias;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Returns the first non-null private key associated with the\n   * given alias, or {@code null} if the alias can't be found.\n   */\n  @Override\n  public @Nullable PrivateKey getPrivateKey(String alias) {\n    for (X509KeyManager keyManager : keyManagers) {\n      PrivateKey privateKey = keyManager.getPrivateKey(alias);\n      if (privateKey != null) {\n        return privateKey;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Returns the first non-null certificate chain associated with the\n   * given alias, or {@code null} if the alias can't be found.\n   */\n  @Override\n  public @Nullable X509Certificate[] getCertificateChain(String alias) {\n    for (X509KeyManager keyManager : keyManagers) {\n      X509Certificate[] chain = keyManager.getCertificateChain(alias);\n      if (chain != null &amp;&amp; chain.length &gt; 0) {\n        return chain;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Get all matching aliases for authenticating the client side of a\n   * secure socket, or {@code null} if there are no matches.\n   */\n  @Override\n  public @Nullable String[] getClientAliases(String keyType, Principal[] issuers) {\n    ImmutableList.Builder aliases = ImmutableList.builder();\n    for (X509KeyManager keyManager : keyManagers) {\n      aliases.add(keyManager.getClientAliases(keyType, issuers));\n    }\n    return emptyToNull(Iterables.toArray(aliases.build(), String.class));\n  }\n\n  /**\n   * Get all matching aliases for authenticating the server side of a\n   * secure socket, or {@code null} if there are no matches.\n   */\n  @Override\n  public @Nullable String[] getServerAliases(String keyType, Principal[] issuers) {\n    ImmutableList.Builder aliases = ImmutableList.builder();\n    for (X509KeyManager keyManager : keyManagers) {\n      aliases.add(keyManager.getServerAliases(keyType, issuers));\n    }\n    return emptyToNull(Iterables.toArray(aliases.build(), String.class));\n  }\n\n  @Nullable\n  private static &lt;T&gt; T[] emptyToNull(T[] arr) {\n    return (arr.length == 0) ? null : arr;\n  }\n\n}\n</code></pre>\n\n<h3>CompositeX509TrustManager</h3>\n\n<pre><code>package com.mycompany.ssl;\n\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\nimport java.util.List;\n\nimport javax.net.ssl.X509TrustManager;\n\nimport com.google.common.collect.ImmutableList;\nimport com.google.common.collect.Iterables;\n\n/**\n * Represents an ordered list of {@link X509TrustManager}s with additive trust. If any one of the\n * composed managers trusts a certificate chain, then it is trusted by the composite manager.\n *\n * This is necessary because of the fine-print on {@link SSLContext#init}:\n *     Only the first instance of a particular key and/or trust manager implementation type in the\n *     array is used. (For example, only the first javax.net.ssl.X509KeyManager in the array will be used.)\n *\n * @author codyaray\n * @since 4/22/2013\n * @see http://stackoverflow.com/questions/1793979/registering-multiple-keystores-in-jvm\n */\npublic class CompositeX509TrustManager implements X509TrustManager {\n\n  private final List trustManagers;\n\n  public CompositeX509TrustManager(List trustManagers) {\n    this.trustManagers = ImmutableList.copyOf(trustManagers);\n  }\n\n  @Override\n  public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n    for (X509TrustManager trustManager : trustManagers) {\n      try {\n        trustManager.checkClientTrusted(chain, authType);\n        return; // someone trusts them. success!\n      } catch (CertificateException e) {\n        // maybe someone else will trust them\n      }\n    }\n    throw new CertificateException(\"None of the TrustManagers trust this certificate chain\");\n  }\n\n  @Override\n  public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n    for (X509TrustManager trustManager : trustManagers) {\n      try {\n        trustManager.checkServerTrusted(chain, authType);\n        return; // someone trusts them. success!\n      } catch (CertificateException e) {\n        // maybe someone else will trust them\n      }\n    }\n    throw new CertificateException(\"None of the TrustManagers trust this certificate chain\");\n  }\n\n  @Override\n  public X509Certificate[] getAcceptedIssuers() {\n    ImmutableList.Builder certificates = ImmutableList.builder();\n    for (X509TrustManager trustManager : trustManagers) {\n      certificates.add(trustManager.getAcceptedIssuers());\n    }\n    return Iterables.toArray(certificates.build(), X509Certificate.class);\n  }\n\n}\n</code></pre>\n\n<h3>Usage</h3>\n\n<p>For the standard case of one keystore + jvm keystore, you can wire it up like this. I’m using Guava again, but in a Guicey wrapper this time:</p>\n\n<pre><code>@Provides @Singleton\nSSLContext provideSSLContext(KeyStore keystore, char[] password) {\n  String defaultAlgorithm = KeyManagerFactory.getDefaultAlgorithm();\n  X509KeyManager customKeyManager = getKeyManager(\"SunX509\", keystore, password);\n  X509KeyManager jvmKeyManager = getKeyManager(defaultAlgorithm, null, null);\n  X509TrustManager customTrustManager = getTrustManager(\"SunX509\", keystore);\n  X509TrustManager jvmTrustManager = getTrustManager(defaultAlgorithm, null);\n\n  KeyManager[] keyManagers = { new CompositeX509KeyManager(ImmutableList.of(jvmKeyManager, customKeyManager)) };\n  TrustManager[] trustManagers = { new CompositeX509TrustManager(ImmutableList.of(jvmTrustManager, customTrustManager)) };\n\n  SSLContext context = SSLContext.getInstance(\"SSL\");\n  context.init(keyManagers, trustManagers, null);\n  return context;\n}\n\nprivate X509KeyManager getKeyManager(String algorithm, KeyStore keystore, char[] password) {\n  KeyManagerFactory factory = KeyManagerFactory.getInstance(algorithm);\n  factory.init(keystore, password);\n  return Iterables.getFirst(Iterables.filter(\n      Arrays.asList(factory.getKeyManagers()), X509KeyManager.class), null);\n}\n\nprivate X509TrustManager getTrustManager(String algorithm, KeyStore keystore) {\n  TrustManagerFactory factory = TrustManagerFactory.getInstance(algorithm);\n  factory.init(keystore);\n  return Iterables.getFirst(Iterables.filter(\n      Arrays.asList(factory.getTrustManagers()), X509TrustManager.class), null); \n}\n</code></pre>\n\n<p>I extracted this from <a href=\"http://codyaray.com/2013/04/java-ssl-with-multiple-keystores\" rel=\"noreferrer\">my blog post</a> about this problem which has a bit more detail, motivation, etc. All the code is there though, so its standalone. :)</p>\n"},{"comments":[{"owner":{"account_id":10059120,"reputation":123,"user_id":7451870,"display_name":"Леонид Дубравский"},"score":0,"creation_date":1615977320,"post_id":62723075,"comment_id":117856682,"body_markdown":"nl.altindag.ssl.exception.GenericKeyStoreException: KeyStore is not present for the giving input","body":"nl.altindag.ssl.exception.GenericKeyStoreException: KeyStore is not present for the giving input"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1615980019,"post_id":62723075,"comment_id":117857942,"body_markdown":"Hi @ЛеонидДубравский The code example uses the method to load the keystore for the given input from the classpath. It throws a runtime exception because it could not find it on the classpath, can you verify if it is actual present on the classpath and if the given path is correct?","body":"Hi @ЛеонидДубравский The code example uses the method to load the keystore for the given input from the classpath. It throws a runtime exception because it could not find it on the classpath, can you verify if it is actual present on the classpath and if the given path is correct?"},{"owner":{"account_id":10059120,"reputation":123,"user_id":7451870,"display_name":"Леонид Дубравский"},"score":0,"creation_date":1615983856,"post_id":62723075,"comment_id":117859639,"body_markdown":"the repository should be in the project directory? I can not specify the path? :SSLFactory sslFactory = SSLFactory.builder()\n                    .withIdentityMaterial(&quot;/home/efficeon/cert.jks&quot;, keyPass.toCharArray(), &quot;JKS&quot;)","body":"the repository should be in the project directory? I can not specify the path? :SSLFactory sslFactory = SSLFactory.builder()                     .withIdentityMaterial(&quot;/home/efficeon/cert.jks&quot;, keyPass.toCharArray(), &quot;JKS&quot;)"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1615984052,"post_id":62723075,"comment_id":117859741,"body_markdown":"Yes, you actually can! The library expects different kind of input when it is not from the classpath. It uses the Java Non blocking Input Output aka NIO api. Can you retry with the following code snippet and share your result here: `SSLFactory.builder() .withIdentityMaterial(Paths.get(&quot;/home/efficeon/cert.jks&quot;), keyPass.toCharArray(), &quot;JKS&quot;).build()`","body":"Yes, you actually can! The library expects different kind of input when it is not from the classpath. It uses the Java Non blocking Input Output aka NIO api. Can you retry with the following code snippet and share your result here: <code>SSLFactory.builder() .withIdentityMaterial(Paths.get(&quot;&#47;home&#47;efficeon&#47;cert.jks&quot;), keyPass.toCharArray(), &quot;JKS&quot;).build()</code>"},{"owner":{"account_id":10059120,"reputation":123,"user_id":7451870,"display_name":"Леонид Дубравский"},"score":0,"creation_date":1615984931,"post_id":62723075,"comment_id":117860177,"body_markdown":"Paths.get() helped me, thanks. But I am using SNIMatcher matcher = SNIHostName.createSNIMatcher (&quot;local-print. (work | ua)&quot;) and when accessing local-print.work or local-print.ua, the browser only gets the first certificate from the first store.","body":"Paths.get() helped me, thanks. But I am using SNIMatcher matcher = SNIHostName.createSNIMatcher (&quot;local-print. (work | ua)&quot;) and when accessing local-print.work or local-print.ua, the browser only gets the first certificate from the first store."},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1615995086,"post_id":62723075,"comment_id":117865569,"body_markdown":"That option is missing in the Factory builder, but I think I can add it","body":"That option is missing in the Factory builder, but I think I can add it"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1615996087,"post_id":62723075,"comment_id":117866157,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/230039/discussion-between-hakan54-and--).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/230039/discussion-between-hakan54-and--\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690364152,"creation_date":1593813021,"answer_id":62723075,"question_id":1793979,"body_markdown":"Maybe I am 10 years too late to answer this question, but it could be maybe helpful for other developers too. I also ran into the same challenge of loading multiple keystores as keymaterial/trustmaterial. I discovered this page and the answer which Cody A. Ray has provided. After using the same snippet for multiple projects, I thought it would be handy to create a library and also make it publicly available to contribute back to the community. Please have a look here: [Github - SSLContext-Kickstart](https://github.com/Hakky54/sslcontext-kickstart) The code snippet of Cody A. Ray for the CompositeKeyManager and CompositeTrustManager are both included.\r\n\r\nUsage:\r\n```java\r\nimport nl.altindag.ssl.SSLFactory;\r\n\r\nimport javax.net.ssl.SSLContext;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        Path keyStorePathOne = ...;\r\n        Path keyStorePathTwo = ...;\r\n        Path trustStorePathOne = ...;\r\n        Path trustStorePathTwo = ...;\r\n        char[] password = &quot;password&quot;.toCharArray();\r\n\r\n        SSLFactory sslFactory = SSLFactory.builder()\r\n                .withDefaultTrustMaterial() // JDK trusted CA&#39;s\r\n                .withSystemTrustMaterial()  // OS trusted CA&#39;s\r\n                .withIdentityMaterial(keyStorePathOne, password)\r\n                .withIdentityMaterial(keyStorePathTwo, password)\r\n                .withTrustMaterial(trustStorePathOne, password)\r\n                .withTrustMaterial(trustStorePathTwo, password)\r\n                .build();\r\n\r\n        SSLContext sslContext = sslFactory.getSslContext();\r\n        List&lt;X509Certificate&gt; trustedCertificates = sslFactory.getTrustedCertificates();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI wasn&#39;t quite sure if I should post this here, because it could also be seen as a way to promote &quot;my library&quot; but I thought it could be helpful for developers.\r\n\r\nYou can add the dependency with the following snippet:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\r\n    &lt;version&gt;8.1.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Registering multiple keystores in JVM","body":"<p>Maybe I am 10 years too late to answer this question, but it could be maybe helpful for other developers too. I also ran into the same challenge of loading multiple keystores as keymaterial/trustmaterial. I discovered this page and the answer which Cody A. Ray has provided. After using the same snippet for multiple projects, I thought it would be handy to create a library and also make it publicly available to contribute back to the community. Please have a look here: <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">Github - SSLContext-Kickstart</a> The code snippet of Cody A. Ray for the CompositeKeyManager and CompositeTrustManager are both included.</p>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.altindag.ssl.SSLFactory;\n\nimport javax.net.ssl.SSLContext;\n\npublic class App {\n\n    public static void main(String[] args) {\n        Path keyStorePathOne = ...;\n        Path keyStorePathTwo = ...;\n        Path trustStorePathOne = ...;\n        Path trustStorePathTwo = ...;\n        char[] password = &quot;password&quot;.toCharArray();\n\n        SSLFactory sslFactory = SSLFactory.builder()\n                .withDefaultTrustMaterial() // JDK trusted CA's\n                .withSystemTrustMaterial()  // OS trusted CA's\n                .withIdentityMaterial(keyStorePathOne, password)\n                .withIdentityMaterial(keyStorePathTwo, password)\n                .withTrustMaterial(trustStorePathOne, password)\n                .withTrustMaterial(trustStorePathTwo, password)\n                .build();\n\n        SSLContext sslContext = sslFactory.getSslContext();\n        List&lt;X509Certificate&gt; trustedCertificates = sslFactory.getTrustedCertificates();\n    }\n\n}\n</code></pre>\n<p>I wasn't quite sure if I should post this here, because it could also be seen as a way to promote &quot;my library&quot; but I thought it could be helpful for developers.</p>\n<p>You can add the dependency with the following snippet:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\n    &lt;version&gt;8.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":39698,"reputation":860,"user_id":114601,"display_name":"Raz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84206,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"closed_date":1656520985,"accepted_answer_id":1801362,"answer_count":4,"score":57,"last_activity_date":1690364152,"creation_date":1259109960,"question_id":1793979,"body_markdown":"I have two applications running in the same java virtual machine, and both use different keystores and truststores.\r\n\r\nA viable option would be use a single keystore and import all the other ones into the shared keystore (e.g. keytool -import), but it would really help my requirements if I could use separate keystores for separate applications running in the same jvm.\r\n\r\nI could set the keystore and truststores to be used as jvm parameters or system properties as follows:\r\n\r\n    java -Djavax.net.ssl.keyStore=serverKeys \r\n    -Djavax.net.ssl.keyStorePassword=password \r\n    -Djavax.net.ssl.trustStore=serverTrust \r\n    -Djavax.net.ssl.trustStorePassword=password SSLApplication\r\n\r\nor\r\n\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;,&quot;serverKeys&quot;)\r\n\r\n\r\nBut the problem with this approach is that it specifies the keystore/truststore to be used at a JVM level, thus all applications running in the same JVM gets the same keystore/truststore.\r\n\r\nI have also tried creating a custom SSLContext and setting it as the default, but it also sets the context for all applications running in the same JVM.\r\n\r\n    SSLContext context = SSLContext.getInstance(&quot;SSL&quot;);\r\n    context.init(kms, tms, null);\r\n    SSLContext.setDefault(context);\r\n\r\nI want to be able use different keystores/truststores without modifying individual application codes. \r\n\r\n**A solution that can *dynamically register multiple key stores* in addition to the default keystore/certs in jre into jvm would be great.**\r\n\r\n    \r\n The solution will work in this way: \r\n    \r\n - When JVM boots, it loads all the default certs/keystores \r\n    from jre/certs folder (default java behaviour when no keystores specified).\r\n - When App 1 loads it registers its keystores, \r\n - then when App 2 loads it registers its keystores...\r\n\r\n\r\nPlease let me know your ideas or solutions.\r\nThanks in advance!","title":"Registering multiple keystores in JVM","body":"<p>I have two applications running in the same java virtual machine, and both use different keystores and truststores.</p>\n\n<p>A viable option would be use a single keystore and import all the other ones into the shared keystore (e.g. keytool -import), but it would really help my requirements if I could use separate keystores for separate applications running in the same jvm.</p>\n\n<p>I could set the keystore and truststores to be used as jvm parameters or system properties as follows:</p>\n\n<pre><code>java -Djavax.net.ssl.keyStore=serverKeys \n-Djavax.net.ssl.keyStorePassword=password \n-Djavax.net.ssl.trustStore=serverTrust \n-Djavax.net.ssl.trustStorePassword=password SSLApplication\n</code></pre>\n\n<p>or</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.keyStore\",\"serverKeys\")\n</code></pre>\n\n<p>But the problem with this approach is that it specifies the keystore/truststore to be used at a JVM level, thus all applications running in the same JVM gets the same keystore/truststore.</p>\n\n<p>I have also tried creating a custom SSLContext and setting it as the default, but it also sets the context for all applications running in the same JVM.</p>\n\n<pre><code>SSLContext context = SSLContext.getInstance(\"SSL\");\ncontext.init(kms, tms, null);\nSSLContext.setDefault(context);\n</code></pre>\n\n<p>I want to be able use different keystores/truststores without modifying individual application codes. </p>\n\n<p><strong>A solution that can <em>dynamically register multiple key stores</em> in addition to the default keystore/certs in jre into jvm would be great.</strong></p>\n\n<p>The solution will work in this way: </p>\n\n<ul>\n<li>When JVM boots, it loads all the default certs/keystores \nfrom jre/certs folder (default java behaviour when no keystores specified).</li>\n<li>When App 1 loads it registers its keystores, </li>\n<li>then when App 2 loads it registers its keystores...</li>\n</ul>\n\n<p>Please let me know your ideas or solutions.\nThanks in advance!</p>\n"},{"tags":["java","swing","calculator","actionlistener","actionevent"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1690148362,"post_id":76750352,"comment_id":135309272,"body_markdown":"Can you provide a pseudo-code rendering of how the process works?  How is the data stored as the user enters the values, i.e., the _operation_ array, and the _result_ array.","body":"Can you provide a pseudo-code rendering of how the process works?  How is the data stored as the user enters the values, i.e., the <i>operation</i> array, and the <i>result</i> array."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1690148723,"post_id":76750352,"comment_id":135309295,"body_markdown":"To me, this sounds like you need to remove the UI from the equation and debug your algorithm","body":"To me, this sounds like you need to remove the UI from the equation and debug your algorithm"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690148981,"post_id":76750352,"comment_id":135309315,"body_markdown":"It would help if you could edit your question to show a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"It would help if you could edit your question to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690152909,"post_id":76750352,"comment_id":135309599,"body_markdown":"I don&#39;t understand why you re-create the `result` array on each operation (`result=new float[10];`), this seems like a bad idea.  Personally, I&#39;d use a `StringBuilder` and `append` each value/operand and then, when required, convert that to a `char` array (or simply pop each char off the `StringBuilder`, which ever makes sense for you)","body":"I don&#39;t understand why you re-create the <code>result</code> array on each operation (<code>result=new float[10];</code>), this seems like a bad idea.  Personally, I&#39;d use a <code>StringBuilder</code> and <code>append</code> each value/operand and then, when required, convert that to a <code>char</code> array (or simply pop each char off the <code>StringBuilder</code>, which ever makes sense for you)"},{"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"score":0,"creation_date":1690199793,"post_id":76750352,"comment_id":135315591,"body_markdown":"@MadProgrammer can you give an algoritham to fix it!?","body":"@MadProgrammer can you give an algoritham to fix it!?"},{"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"score":0,"creation_date":1690200671,"post_id":76750352,"comment_id":135315783,"body_markdown":"I get the idea of String builder class. But how do make it possible on this situation","body":"I get the idea of String builder class. But how do make it possible on this situation"}],"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690363551,"creation_date":1690146845,"question_id":76750352,"body_markdown":"I created a calculator using **Java swing**.Frame creation and button arrangements were all set.I used **ActionListener interface**.And the program were execute successfully,when i performed a single operation along with two operands(eg:5+2). Working is success so far.But when I try to do multiple operations at same time with more than two operands(eg:10+2-5),it gives me 0.0 as output everytime.But I need my calculator to perform multiple operations at the same time .And should also follow the BODMAS rule.\r\n\r\nI declared a **float array** named result and a **char array** named operation,as global variables.\r\n\r\n    public Calculator implements ActionListener{\r\n    float[] result=new float[10];\r\n    char[] operation=new char[10];\r\n    int i=0;\r\n    isOperationClicked=false;\r\n\r\nHere is one example of operation button(like +,-,/,*) ,defined inside the **actionPerformed** function along with else if ladder.\r\n\r\n    else if(e.getSource()==plusbutton) {\r\n    \t\t\tisOperationClicked=true;\r\n    \t\t\tString oldValue=displaylabel.getText();\r\n    \t\t\tresult=new float[10];\r\n    \t\t\tresult[i]=Float.parseFloat(oldValue);\r\n    \t\t\toperation=new char[10];\r\n    \t\t\toperation[i]= &#39;+&#39;;\r\n    \t\t\ti++;\r\n    \t\t\t}\r\nAlso **equaltobotton** is defined inside the **actionPerformed**  function.Checking each operation symbols with ‘if’ on a ‘while loop’.Here i put one example.\r\n\r\n    else if(e.getSource()==equaltobutton) {\r\n    \t\t\tint m=0;\r\n    \t\t\tString finalvalue=displaylabel.getText();\r\n    \t\t\tfloat finalvalueF=Float.parseFloat(finalvalue);\r\n    \t\t    result[i]=finalvalueF;\r\n    \t\t\twhile(m&lt;i) {\r\n    \t\t\t\tif(operation[m]==&#39;/&#39;) {\r\n    \t\t\t\t\tfloat res=result[m]/result[m+1];\r\n    \t\t\t\t\tresult=removeArrayF(result,m);\r\n    \t\t\t\t\tresult[m]=res;\r\n    \t\t\t\t\toperation=removeArrayC(operation,m);\r\n    \t\t\t\t\ti--;m--;\r\n    \t\t\t\t}\r\n    \t\t\t\tm++;\r\n    \t\t\t}\r\nFor display the result\r\n\r\n    displaylabel.setText(result[0]+&quot;&quot;);\r\nThis **setText** function is also include on the last line of **equaltobutton**&#39;s action\r\n\r\nThe **removearrayF** and the **removearrayC** are two methods defined to remove one element from the array.\r\nThis is what i do .what are the changes i need to do for the proper output for multiple operations at same time?","title":"Multiple operations at same time gives 0.0 as output.Calculator using swing","body":"<p>I created a calculator using <strong>Java swing</strong>.Frame creation and button arrangements were all set.I used <strong>ActionListener interface</strong>.And the program were execute successfully,when i performed a single operation along with two operands(eg:5+2). Working is success so far.But when I try to do multiple operations at same time with more than two operands(eg:10+2-5),it gives me 0.0 as output everytime.But I need my calculator to perform multiple operations at the same time .And should also follow the BODMAS rule.</p>\n<p>I declared a <strong>float array</strong> named result and a <strong>char array</strong> named operation,as global variables.</p>\n<pre><code>public Calculator implements ActionListener{\nfloat[] result=new float[10];\nchar[] operation=new char[10];\nint i=0;\nisOperationClicked=false;\n</code></pre>\n<p>Here is one example of operation button(like +,-,/,*) ,defined inside the <strong>actionPerformed</strong> function along with else if ladder.</p>\n<pre><code>else if(e.getSource()==plusbutton) {\n            isOperationClicked=true;\n            String oldValue=displaylabel.getText();\n            result=new float[10];\n            result[i]=Float.parseFloat(oldValue);\n            operation=new char[10];\n            operation[i]= '+';\n            i++;\n            }\n</code></pre>\n<p>Also <strong>equaltobotton</strong> is defined inside the <strong>actionPerformed</strong>  function.Checking each operation symbols with ‘if’ on a ‘while loop’.Here i put one example.</p>\n<pre><code>else if(e.getSource()==equaltobutton) {\n            int m=0;\n            String finalvalue=displaylabel.getText();\n            float finalvalueF=Float.parseFloat(finalvalue);\n            result[i]=finalvalueF;\n            while(m&lt;i) {\n                if(operation[m]=='/') {\n                    float res=result[m]/result[m+1];\n                    result=removeArrayF(result,m);\n                    result[m]=res;\n                    operation=removeArrayC(operation,m);\n                    i--;m--;\n                }\n                m++;\n            }\n</code></pre>\n<p>For display the result</p>\n<pre><code>displaylabel.setText(result[0]+&quot;&quot;);\n</code></pre>\n<p>This <strong>setText</strong> function is also include on the last line of <strong>equaltobutton</strong>'s action</p>\n<p>The <strong>removearrayF</strong> and the <strong>removearrayC</strong> are two methods defined to remove one element from the array.\nThis is what i do .what are the changes i need to do for the proper output for multiple operations at same time?</p>\n"},{"tags":["java","spring","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":11898165,"reputation":82,"user_id":8706905,"display_name":"SteveHu"},"score":0,"creation_date":1690363100,"post_id":76769475,"comment_id":135341646,"body_markdown":"Why not just use `departmentRepository.save(department);` to execute this function in other controllers?","body":"Why not just use <code>departmentRepository.save(department);</code> to execute this function in other controllers?"},{"owner":{"account_id":26831031,"reputation":101,"user_id":20418991,"display_name":"Byb"},"score":0,"creation_date":1690363583,"post_id":76769475,"comment_id":135341760,"body_markdown":"I have a `department-add` form where the user enters information and then clicks `submit` to submit and save this information. The form has a `th:action`, it must have some kind of address, where the completed `th:object` will be sent next. In my case, I make this address on `department-save`. It calls the repository method and redirects to the list of all departments. Where else can I call the repository method to save the newly added department?","body":"I have a <code>department-add</code> form where the user enters information and then clicks <code>submit</code> to submit and save this information. The form has a <code>th:action</code>, it must have some kind of address, where the completed <code>th:object</code> will be sent next. In my case, I make this address on <code>department-save</code>. It calls the repository method and redirects to the list of all departments. Where else can I call the repository method to save the newly added department?"}],"answers":[{"comments":[{"owner":{"account_id":26831031,"reputation":101,"user_id":20418991,"display_name":"Byb"},"score":0,"creation_date":1690389294,"post_id":76769704,"comment_id":135347756,"body_markdown":"Can you explain in more detail how using another controller can help in this? For example, in `th:action`, in the form of adding a department, I will still write some URL, and it doesn&#39;t matter which controller it will relate to. Such a URL will still be available to the user when typing directly in the address bar.","body":"Can you explain in more detail how using another controller can help in this? For example, in <code>th:action</code>, in the form of adding a department, I will still write some URL, and it doesn&#39;t matter which controller it will relate to. Such a URL will still be available to the user when typing directly in the address bar."}],"tags":[],"owner":{"account_id":10362317,"reputation":106,"user_id":7642429,"display_name":"Amin Nemati"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690363171,"creation_date":1690363171,"answer_id":76769704,"question_id":76769475,"body_markdown":"option 1 : you can use [JWT security setting][1] for forbidding user to call routes\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-security-oauth-jwt\r\n\r\noption 2: you can user user roles or complete other controller for this operation,\r\ni user WebUserController and PanelUserController and add or remove some of the method to prevent others to access or see all routes","title":"How to hide URL in controller methods from user, but allow it for methods of other controllers","body":"<p>option 1 : you can use <a href=\"https://www.baeldung.com/spring-security-oauth-jwt\" rel=\"nofollow noreferrer\">JWT security setting</a> for forbidding user to call routes</p>\n<p>option 2: you can user user roles or complete other controller for this operation,\ni user WebUserController and PanelUserController and add or remove some of the method to prevent others to access or see all routes</p>\n"}],"owner":{"account_id":26831031,"reputation":101,"user_id":20418991,"display_name":"Byb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690363171,"creation_date":1690361315,"question_id":76769475,"body_markdown":"I am writing a Spring MVC application. I&#39;m using Spring 6. I have some controllers that, in addition to giving the user an html page or redirecting to another method, do some intermediate work. For example:\r\n```\r\n@RequestMapping(&quot;/department-save&quot;)\r\npublic String redirectDepartmentsAfterSavingDepartment(Department department) {\r\n    departmentRepository.save(department);\r\n    return &quot;redirect:/departments&quot;;\r\n}\r\n```\r\n\r\nThis method is called after the user clicks the &quot;add&quot; button in the form of adding a department.\r\n\r\nThus, if the user directly types this URL in the address bar, then we will get a completely incorrect operation.\r\n\r\nIs there a way to make the URL inaccessible to the user (regardless of his role in Spring Security), but accessible to other controllers? For example, if you try to access the URL from the browser, there will be a 404 error, but other controllers will be able to use this URL.\r\n\r\nFor example:\r\n```\r\n@RequestMapping(&quot;/department-save&quot;)\r\n@AllowOnlyForControllers\r\npublic String redirectDepartmentsAfterSavingDepartment(Department department) {\r\n    departmentRepository.save(department);\r\n    return &quot;redirect:/departments&quot;;\r\n}\r\n```","title":"How to hide URL in controller methods from user, but allow it for methods of other controllers","body":"<p>I am writing a Spring MVC application. I'm using Spring 6. I have some controllers that, in addition to giving the user an html page or redirecting to another method, do some intermediate work. For example:</p>\n<pre><code>@RequestMapping(&quot;/department-save&quot;)\npublic String redirectDepartmentsAfterSavingDepartment(Department department) {\n    departmentRepository.save(department);\n    return &quot;redirect:/departments&quot;;\n}\n</code></pre>\n<p>This method is called after the user clicks the &quot;add&quot; button in the form of adding a department.</p>\n<p>Thus, if the user directly types this URL in the address bar, then we will get a completely incorrect operation.</p>\n<p>Is there a way to make the URL inaccessible to the user (regardless of his role in Spring Security), but accessible to other controllers? For example, if you try to access the URL from the browser, there will be a 404 error, but other controllers will be able to use this URL.</p>\n<p>For example:</p>\n<pre><code>@RequestMapping(&quot;/department-save&quot;)\n@AllowOnlyForControllers\npublic String redirectDepartmentsAfterSavingDepartment(Department department) {\n    departmentRepository.save(department);\n    return &quot;redirect:/departments&quot;;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1690378663,"post_id":76765387,"comment_id":135345214,"body_markdown":"All foreign keys are 1:M mappings from the other side. The tool is likely looking at the FK only, treating your primary key constraint (and its uniqueness requirement) separate from the mapping multiplicity calculation. PS you can&#39;t have both MapsId AND mark that same ID as a generated value in the ProductDetail class. It needs to be set from either the relationship, or the database assign it a value, but you can&#39;t mark it as set using both. And also remove the @PrimaryKeyJoinColumn from Product&#39;s detail - it only confuses things.","body":"All foreign keys are 1:M mappings from the other side. The tool is likely looking at the FK only, treating your primary key constraint (and its uniqueness requirement) separate from the mapping multiplicity calculation. PS you can&#39;t have both MapsId AND mark that same ID as a generated value in the ProductDetail class. It needs to be set from either the relationship, or the database assign it a value, but you can&#39;t mark it as set using both. And also remove the @PrimaryKeyJoinColumn from Product&#39;s detail - it only confuses things."}],"answers":[{"tags":[],"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690362674,"creation_date":1690362674,"answer_id":76769636,"question_id":76765387,"body_markdown":"The problem is maybe MySQL reverse engineering. \r\n\r\nbut try removing `@GeneratedValue(strategy = GenerationType.IDENTITY)` from the Product Details class.When you use product PK as shared primary key you don&#39;t need to generate an id in Product Details again.","title":"Difficulty building a one-to-one relationship in Jpa","body":"<p>The problem is maybe MySQL reverse engineering.</p>\n<p>but try removing <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> from the Product Details class.When you use product PK as shared primary key you don't need to generate an id in Product Details again.</p>\n"}],"owner":{"account_id":20586928,"reputation":19,"user_id":15111586,"display_name":"Amirreza Andishmand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690362674,"creation_date":1690307878,"question_id":76765387,"body_markdown":"I have 2 entity with names product and productDetails \r\nAnd there is a one-to-one relationship between them.\r\n\r\nBut when I open my mysql it shows me that they have a one to many relationship?\r\n\r\nWhy is there such a problem?\r\n\r\n\r\n *ProductDetails class*\r\n\r\n```\r\n    @Getter\r\n    \r\n    @Setter\r\n    \r\n    @Entity\r\n    public class ProductDetail {\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;product_id&quot;)\r\n        private Integer id;\r\n        private String description;\r\n        private float weight;\r\n        private float length;\r\n        private float height;\r\n        private float width;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;product_id&quot;)\r\n        @MapsId\r\n        private product product;\r\n    }\r\n```\r\n\r\n *Product class*\r\n\r\n```\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    public class product {\r\n    \r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        private String name;\r\n        private float price;\r\n    \r\n        @OneToOne(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\r\n        @PrimaryKeyJoinColumn\r\n        private ProductDetail detail;\r\n    \r\n        public product() { }\r\n    \r\n        public product(String name, float price) {\r\n            super();\r\n            this.name = name;\r\n            this.price = price;\r\n        }\r\n```\r\n\r\n&gt; Reverse Enginer in mysql\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/VOKe8.png\r\n\r\n","title":"Difficulty building a one-to-one relationship in Jpa","body":"<p>I have 2 entity with names product and productDetails\nAnd there is a one-to-one relationship between them.</p>\n<p>But when I open my mysql it shows me that they have a one to many relationship?</p>\n<p>Why is there such a problem?</p>\n<p><em>ProductDetails class</em></p>\n<pre><code>    @Getter\n    \n    @Setter\n    \n    @Entity\n    public class ProductDetail {\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;product_id&quot;)\n        private Integer id;\n        private String description;\n        private float weight;\n        private float length;\n        private float height;\n        private float width;\n    \n        @OneToOne\n        @JoinColumn(name = &quot;product_id&quot;)\n        @MapsId\n        private product product;\n    }\n</code></pre>\n<p><em>Product class</em></p>\n<pre><code>    @Getter\n    @Setter\n    @Entity\n    public class product {\n    \n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Integer id;\n    \n        private String name;\n        private float price;\n    \n        @OneToOne(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\n        @PrimaryKeyJoinColumn\n        private ProductDetail detail;\n    \n        public product() { }\n    \n        public product(String name, float price) {\n            super();\n            this.name = name;\n            this.price = price;\n        }\n</code></pre>\n<blockquote>\n<p>Reverse Enginer in mysql</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/VOKe8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VOKe8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1690154104,"post_id":76750473,"comment_id":135309699,"body_markdown":"Does `.label { -fx-background-color: inherit; }` work in your case (assuming your label&#39;s parent has a background color)?","body":"Does <code>.label { -fx-background-color: inherit; }</code> work in your case (assuming your label&#39;s parent has a background color)?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1690158589,"post_id":76750473,"comment_id":135309973,"body_markdown":"There is a duplicate to this question out there somewhere. I could not find it.","body":"There is a duplicate to this question out there somewhere. I could not find it."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690164188,"post_id":76750473,"comment_id":135310378,"body_markdown":"@Slaw good shot, but my parent do not has this css property (and I can&#39;t add it since it will mess up with my application styling )","body":"@Slaw good shot, but my parent do not has this css property (and I can&#39;t add it since it will mess up with my application styling )"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1690172609,"post_id":76750473,"comment_id":135310971,"body_markdown":"I found it! https://stackoverflow.com/questions/14860960/groupbox-titledborder-in-javafx-2","body":"I found it! <a href=\"https://stackoverflow.com/questions/14860960/groupbox-titledborder-in-javafx-2\" title=\"groupbox titledborder in javafx 2\">stackoverflow.com/questions/14860960/&hellip;</a>"},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690205883,"post_id":76750473,"comment_id":135317000,"body_markdown":"@SedJ601 unbelievable how WEAK stack overflow is. I question myself every single week how there&#39;s nothing better than it. Your suggested post is just a hack to achieve what I was looking for, which is nothing else than a very poor workaround (titled pane? border pane? I have thousands of nodes which needs that styling, adding a huge parent node to it is crazy bad). I invite you to read my post again as your suggested &quot;answer&quot; does not meets what I asked for. And please unmark my post as duplicate. It is not.","body":"@SedJ601 unbelievable how WEAK stack overflow is. I question myself every single week how there&#39;s nothing better than it. Your suggested post is just a hack to achieve what I was looking for, which is nothing else than a very poor workaround (titled pane? border pane? I have thousands of nodes which needs that styling, adding a huge parent node to it is crazy bad). I invite you to read my post again as your suggested &quot;answer&quot; does not meets what I asked for. And please unmark my post as duplicate. It is not."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1690206668,"post_id":76750473,"comment_id":135317183,"body_markdown":"@FARS, I did not close this as a duplicate, even though I still believe it&#39;s a duplicate. I am not sure how you got &quot;hack&quot; out of that. Lol, you have a choice. You can use `TitledPane` or do what @jewelsea suggested. You can literally create your own custom node using @jewelsea&#39;s ideas. You can then use your custom node to produce your 1000+ nodes for your project.","body":"@FARS, I did not close this as a duplicate, even though I still believe it&#39;s a duplicate. I am not sure how you got &quot;hack&quot; out of that. Lol, you have a choice. You can use <code>TitledPane</code> or do what @jewelsea suggested. You can literally create your own custom node using @jewelsea&#39;s ideas. You can then use your custom node to produce your 1000+ nodes for your project."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690207165,"post_id":76750473,"comment_id":135317308,"body_markdown":"@SedJ601 sure, what supports this idea is that all computers has infinite ram to store all these nodes and infinite cpu to load it all very quickly. And yes, indeed it is a hack because ideally you should not add extra logic and java code for very basic visual changes, unless strictly necessary which clearly is not our case here.","body":"@SedJ601 sure, what supports this idea is that all computers has infinite ram to store all these nodes and infinite cpu to load it all very quickly. And yes, indeed it is a hack because ideally you should not add extra logic and java code for very basic visual changes, unless strictly necessary which clearly is not our case here."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690207270,"post_id":76750473,"comment_id":135317336,"body_markdown":"@SedJ601 just a hint that points out that almost for sure it is possible to achieve the same effect using css only:\n\nhttps://jojorabbitjavafxblog.wordpress.com/2011/07/11/javafx-2-0-css-styling-part-1/","body":"@SedJ601 just a hint that points out that almost for sure it is possible to achieve the same effect using css only:  <a href=\"https://jojorabbitjavafxblog.wordpress.com/2011/07/11/javafx-2-0-css-styling-part-1/\" rel=\"nofollow noreferrer\">jojorabbitjavafxblog.wordpress.com/2011/07/11/&hellip;</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1690207411,"post_id":76750473,"comment_id":135317368,"body_markdown":"In @jewelsea&#39;s answer, he uses three nodes to create `BorderedTitledPane`. I haven&#39;t looked at the code, but I am willing to be `TitledPane` uses at least three nodes too. I am not sure what the issue is here. ????","body":"In @jewelsea&#39;s answer, he uses three nodes to create <code>BorderedTitledPane</code>. I haven&#39;t looked at the code, but I am willing to be <code>TitledPane</code> uses at least three nodes too. I am not sure what the issue is here. ????"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1690207473,"post_id":76750473,"comment_id":135317384,"body_markdown":"Hey, you seem to be the expert here. Good luck!","body":"Hey, you seem to be the expert here. Good luck!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1690209064,"post_id":76750473,"comment_id":135317709,"body_markdown":"Also, How are you going to display 1000+ of these nodes at once? It sounds like you will need a `TableView`, `ListView`, or `GridView`. Using one of these nodes will help your app be light on memory and loading.","body":"Also, How are you going to display 1000+ of these nodes at once? It sounds like you will need a <code>TableView</code>, <code>ListView</code>, or <code>GridView</code>. Using one of these nodes will help your app be light on memory and loading."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690209616,"post_id":76750473,"comment_id":135317829,"body_markdown":"@SedJ601 sure, that&#39;s correct. Although it does improve performance, it impacts memory. The &quot;unloaded&quot; nodes -nodes out of the scroll- in these Pane extension nodes you mentioned stores all its nodes in memory, but only request to render then in the graphics context if showing inside the current scroll selection, that&#39;s where it saves memory. I&#39;m more concerned with the unloaded nodes, BorderPane and TitledPane are one of the most heaviest Pane nodes memory wise. Please collaborate improving JFX community by unsetting this question as duplicate. It would greatly benefit if answered.","body":"@SedJ601 sure, that&#39;s correct. Although it does improve performance, it impacts memory. The &quot;unloaded&quot; nodes -nodes out of the scroll- in these Pane extension nodes you mentioned stores all its nodes in memory, but only request to render then in the graphics context if showing inside the current scroll selection, that&#39;s where it saves memory. I&#39;m more concerned with the unloaded nodes, BorderPane and TitledPane are one of the most heaviest Pane nodes memory wise. Please collaborate improving JFX community by unsetting this question as duplicate. It would greatly benefit if answered."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":4,"creation_date":1690225062,"post_id":76750473,"comment_id":135320733,"body_markdown":"@FARS, You are incorrect. If you use one of the views I listed above, memory will only be allocated for the nodes that show on the screen. Those views use [`VirtualFlow`](https://openjfx.io/javadoc/12/javafx.controls/javafx/scene/control/skin/VirtualFlow.html). That&#39;s assuming that you are using the views correctly.","body":"@FARS, You are incorrect. If you use one of the views I listed above, memory will only be allocated for the nodes that show on the screen. Those views use <a href=\"https://openjfx.io/javadoc/12/javafx.controls/javafx/scene/control/skin/VirtualFlow.html\" rel=\"nofollow noreferrer\"><code>VirtualFlow</code></a>. That&#39;s assuming that you are using the views correctly."},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":3,"creation_date":1690242420,"post_id":76750473,"comment_id":135323116,"body_markdown":"@FARS, If you are really more specific with the implementation, at least show us how your code will look like. I mean you can provide a simple [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) with the structure you are expecting. This will help others to save their time by not providing answers which are not suitable for you.","body":"@FARS, If you are really more specific with the implementation, at least show us how your code will look like. I mean you can provide a simple <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a> with the structure you are expecting. This will help others to save their time by not providing answers which are not suitable for you."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690289365,"post_id":76750473,"comment_id":135330038,"body_markdown":"@SaiDandem &quot;at least show us how your code will look like.&quot; neither I do, how would I? Besides that, I made it very clear - No costy nodes, only CSS and at the very least, less java code as possible.. sry if that confuses someone, but I really think MRE is not necessary here. Thinking of it, I wonder what MRE I can even place in here. FXML file (a hbox under a label.. which is like 1 minute in Scene Builder)?","body":"@SaiDandem &quot;at least show us how your code will look like.&quot; neither I do, how would I? Besides that, I made it very clear - No costy nodes, only CSS and at the very least, less java code as possible.. sry if that confuses someone, but I really think MRE is not necessary here. Thinking of it, I wonder what MRE I can even place in here. FXML file (a hbox under a label.. which is like 1 minute in Scene Builder)?"},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690289637,"post_id":76750473,"comment_id":135330119,"body_markdown":"@SedJ601 It has to be something more than that, try populating a tableView with 10.000 rows, all columns with some cellFactory logic. I guarantee you the nodes showing in the tableView are not the only ones consuming memory. The ones that don&#39;t show up definitely do consumes memory as well, but much less. Any profiler can tell you that","body":"@SedJ601 It has to be something more than that, try populating a tableView with 10.000 rows, all columns with some cellFactory logic. I guarantee you the nodes showing in the tableView are not the only ones consuming memory. The ones that don&#39;t show up definitely do consumes memory as well, but much less. Any profiler can tell you that"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1690298501,"post_id":76750473,"comment_id":135332305,"body_markdown":"That simply means you are not using `setCellFactory` correctly. It could also mean you are confused about what&#39;s going on behind the scene. Your `TableView&#39;s` model should only contain data. You should not be passing any nodes to the `TableView&#39;s` cell factory.","body":"That simply means you are not using <code>setCellFactory</code> correctly. It could also mean you are confused about what&#39;s going on behind the scene. Your <code>TableView&#39;s</code> model should only contain data. You should not be passing any nodes to the <code>TableView&#39;s</code> cell factory."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690298935,"post_id":76750473,"comment_id":135332403,"body_markdown":"@SedJ601 sure, how then would I access TableView cells setGraphic()? Also, you&#39;re pretending table cells don&#39;t has any images and/or buttons whatsoever? Your comment just don&#39;t make any sense","body":"@SedJ601 sure, how then would I access TableView cells setGraphic()? Also, you&#39;re pretending table cells don&#39;t has any images and/or buttons whatsoever? Your comment just don&#39;t make any sense"},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":4,"creation_date":1690309930,"post_id":76750473,"comment_id":135334710,"body_markdown":"@FARS you are absolutely misunderstanding/misusing table cells if your profiler is showing thousands of cell nodes.  VirtualFlow instantiates only enough cells to fill the ViewPort plus a couple extra.  Then the cells are reused with new content via your custom setItem() method.  In a properly built TableView, if you put some sort of println() statement in the cell constructor, you should only see slightly more output lines than rows in the viewport.  If you see thousands, then you&#39;re doing it wrong.","body":"@FARS you are absolutely misunderstanding/misusing table cells if your profiler is showing thousands of cell nodes.  VirtualFlow instantiates only enough cells to fill the ViewPort plus a couple extra.  Then the cells are reused with new content via your custom setItem() method.  In a properly built TableView, if you put some sort of println() statement in the cell constructor, you should only see slightly more output lines than rows in the viewport.  If you see thousands, then you&#39;re doing it wrong."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1690310575,"post_id":76750473,"comment_id":135334820,"body_markdown":"I&#39;m struggling to find a way to do this without at least three Nodes.  You need the container (with the border), the Label (or at least a Text), and you need the content.  That&#39;s three.","body":"I&#39;m struggling to find a way to do this without at least three Nodes.  You need the container (with the border), the Label (or at least a Text), and you need the content.  That&#39;s three."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":2,"creation_date":1690310624,"post_id":76750473,"comment_id":135334826,"body_markdown":"And what&#39;s with the &quot;in my case it&#39;s not a possibility&quot; to set the background colour of the label the same as the background colour of the container???","body":"And what&#39;s with the &quot;in my case it&#39;s not a possibility&quot; to set the background colour of the label the same as the background colour of the container???"},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690322368,"post_id":76750473,"comment_id":135336787,"body_markdown":"@DaveB somehow I might be failing in communication. Let&#39;s clear up things. &quot;misunderstanding/misusing table cells if your profiler is showing thousands of cell nodes.&quot; it is not, I never said so. I have thousands of nodes is a ListView, tableView was mentioned as an example of how nodes behave when they&#39;re not showing up in scene graph. My profiler is showing thousands of nodes from the ListView, which is correct as my entity class has thousands of entries, so that totally makes sense. No problem here. Second in next comment","body":"@DaveB somehow I might be failing in communication. Let&#39;s clear up things. &quot;misunderstanding/misusing table cells if your profiler is showing thousands of cell nodes.&quot; it is not, I never said so. I have thousands of nodes is a ListView, tableView was mentioned as an example of how nodes behave when they&#39;re not showing up in scene graph. My profiler is showing thousands of nodes from the ListView, which is correct as my entity class has thousands of entries, so that totally makes sense. No problem here. Second in next comment"},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690322545,"post_id":76750473,"comment_id":135336799,"body_markdown":"@DaveB second, I haven&#39;t mentioned anywhere I have a node limit (like 3 nodes), I do have mentioned that it is a necessity to avoid costy nodes. And finally, I just can&#39;t set a background color to my label because the background of my app is an animated css gradient. That&#39;s why setting my label a background color is just not possible. Let me know if I can clarify anything else","body":"@DaveB second, I haven&#39;t mentioned anywhere I have a node limit (like 3 nodes), I do have mentioned that it is a necessity to avoid costy nodes. And finally, I just can&#39;t set a background color to my label because the background of my app is an animated css gradient. That&#39;s why setting my label a background color is just not possible. Let me know if I can clarify anything else"},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":2,"creation_date":1690324299,"post_id":76750473,"comment_id":135336982,"body_markdown":"@FARS It doesn&#39;t matter how minimal the code is. What it matters is, what is your exact use case. If in first place, you created a minimal example with gradient background, and shown the basic layout (your so called `a hbox under a label`) or what you are trying, I believe half of this discussion would not even existed.","body":"@FARS It doesn&#39;t matter how minimal the code is. What it matters is, what is your exact use case. If in first place, you created a minimal example with gradient background, and shown the basic layout (your so called <code>a hbox under a label</code>) or what you are trying, I believe half of this discussion would not even existed."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690328513,"post_id":76750473,"comment_id":135337399,"body_markdown":"@SaiDandem sorry I might be misunderstanding something this time. I though I made it very clear - setting a background color to my label is not an option. Wasn&#39;t that enough? Also you could literally just have asked why, and *that* is pretty much be the reason for our discussion have ever existed. Btw, you would have found another way to point out something wrong in my question instead of trying to do some coding anyways (as most of the people in this platform do nowadays, I don&#39;t blame you - it&#39;s stack overflow fault)","body":"@SaiDandem sorry I might be misunderstanding something this time. I though I made it very clear - setting a background color to my label is not an option. Wasn&#39;t that enough? Also you could literally just have asked why, and <i>that</i> is pretty much be the reason for our discussion have ever existed. Btw, you would have found another way to point out something wrong in my question instead of trying to do some coding anyways (as most of the people in this platform do nowadays, I don&#39;t blame you - it&#39;s stack overflow fault)"},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":2,"creation_date":1690330323,"post_id":76750473,"comment_id":135337546,"body_markdown":"`setting a background color to my label is not an option. Wasn&#39;t that enough?` Yeah definitely not enough. You are seeking help in this platform and you need to provide as much information as possible in first case. So that there will be minimal to and fros.","body":"<code>setting a background color to my label is not an option. Wasn&#39;t that enough?</code> Yeah definitely not enough. You are seeking help in this platform and you need to provide as much information as possible in first case. So that there will be minimal to and fros."},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1690330659,"post_id":76750473,"comment_id":135337580,"body_markdown":"And BTW, no question is asked without attempting. I believe no one is that brilliant to ask you by just seeing a screenshot and three lines of css code.","body":"And BTW, no question is asked without attempting. I believe no one is that brilliant to ask you by just seeing a screenshot and three lines of css code."},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1690332141,"post_id":76750473,"comment_id":135337687,"body_markdown":"As mentioned, this is my [output](https://i.stack.imgur.com/hQeLH.png) I am so far at. Everytime you provide an info, the approach is changed.. so far I have 3 different approaches for this solution. The one in this screenshot is done with 4 nodes and using clipping effect.","body":"As mentioned, this is my <a href=\"https://i.stack.imgur.com/hQeLH.png\" rel=\"nofollow noreferrer\">output</a> I am so far at. Everytime you provide an info, the approach is changed.. so far I have 3 different approaches for this solution. The one in this screenshot is done with 4 nodes and using clipping effect."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1690337343,"post_id":76750473,"comment_id":135338073,"body_markdown":"&quot;_I have thousands of nodes is a ListView_&quot; -- If that means you have a `ListView&lt;SomeNodeType&gt;`, then that is the wrong way to use a `ListView`. You should have a _model_, and then use a custom cell factory to create the view. However, if you&#39;re instead saying your model is so complex that **each _individual_ cell** requires dozens to hundreds of nodes to render it, well... that&#39;s a different issue.","body":"&quot;<i>I have thousands of nodes is a ListView</i>&quot; -- If that means you have a <code>ListView&lt;SomeNodeType&gt;</code>, then that is the wrong way to use a <code>ListView</code>. You should have a <i>model</i>, and then use a custom cell factory to create the view. However, if you&#39;re instead saying your model is so complex that <b>each <i>individual</i> cell</b> requires dozens to hundreds of nodes to render it, well... that&#39;s a different issue."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1690413190,"post_id":76750473,"comment_id":135351991,"body_markdown":"@FARS TableView or ListView, it&#39;s the same thing. If your viewport has, say, 10 rows you should have no more than about 12 cells instantiated.  They get recycled as you scroll.","body":"@FARS TableView or ListView, it&#39;s the same thing. If your viewport has, say, 10 rows you should have no more than about 12 cells instantiated.  They get recycled as you scroll."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":1,"creation_date":1690413497,"post_id":76750473,"comment_id":135352020,"body_markdown":"The animated gradient bit changes everything. Now the problem is how to make the border disappear while keeping the background visible. To do that you&#39;ll need to have a container without a border, but with the background. Another the same size, but just the border, and then use another black box the same size and location as the label to use as an opacity mask on the border.","body":"The animated gradient bit changes everything. Now the problem is how to make the border disappear while keeping the background visible. To do that you&#39;ll need to have a container without a border, but with the background. Another the same size, but just the border, and then use another black box the same size and location as the label to use as an opacity mask on the border."}],"answers":[{"comments":[{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690378392,"post_id":76767627,"comment_id":135345149,"body_markdown":"Thank you a lot for your input. I&#39;m not taking it for the problem I have right now (overkill), but it would definitely help me with some other stuff.","body":"Thank you a lot for your input. I&#39;m not taking it for the problem I have right now (overkill), but it would definitely help me with some other stuff."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690338749,"creation_date":1690338373,"answer_id":76767627,"question_id":76750473,"body_markdown":"This is just a code dump of stuff you can choose to study or ignore.  I may or may not provide additional explanation or answer further questions about it.\r\n\r\n    import javafx.scene.Group;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.LineTo;\r\n    import javafx.scene.shape.MoveTo;\r\n    import javafx.scene.shape.Path;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.scene.text.Font;\r\n    import javafx.scene.text.FontWeight;\r\n    import javafx.scene.text.Text;\r\n    \r\n    public class CustomLabel extends Group {\r\n        public static final double\r\n                LABEL_WIDTH = 200,\r\n                LABEL_HEIGHT = 60;\r\n    \r\n        private static final double\r\n                FONT_SIZE = 15,\r\n                TEXT_BASELINE_LEFT_X = 15,\r\n                TEXT_BASELINE_LEFT_Y = 15,\r\n                BORDER_INSETS = 9,\r\n                BORDER_WIDTH = 2;\r\n    \r\n        private static final Font font = Font.font(\r\n                &quot;monospace&quot;,\r\n                FontWeight.BOLD,\r\n                FONT_SIZE\r\n        );\r\n    \r\n        public CustomLabel(String labelText) {\r\n            Text text = createText(\r\n                    labelText\r\n            );\r\n            final double textWidth = text.getLayoutBounds().getWidth();\r\n    \r\n            Path border = createBorder(\r\n                    textWidth\r\n            );\r\n    \r\n            Rectangle background = new Rectangle(\r\n                    LABEL_WIDTH,\r\n                    LABEL_HEIGHT\r\n            );\r\n            background.setFill(Color.TRANSPARENT);\r\n    \r\n            getChildren().addAll(\r\n                    background,\r\n                    border,\r\n                    text\r\n            );\r\n        }\r\n    \r\n        private static Path createBorder(double textWidth) {\r\n            Path border = new Path(\r\n                    new MoveTo(BORDER_INSETS, BORDER_INSETS),\r\n                    new LineTo(TEXT_BASELINE_LEFT_X, BORDER_INSETS),\r\n                    new MoveTo(TEXT_BASELINE_LEFT_X + textWidth, BORDER_INSETS),\r\n                    new LineTo(LABEL_WIDTH - BORDER_INSETS, BORDER_INSETS),\r\n                    new LineTo(LABEL_WIDTH - BORDER_INSETS, LABEL_HEIGHT - BORDER_INSETS),\r\n                    new LineTo(BORDER_INSETS, LABEL_HEIGHT - BORDER_INSETS),\r\n                    new LineTo(BORDER_INSETS, BORDER_INSETS)\r\n            );\r\n            border.setStrokeWidth(BORDER_WIDTH);\r\n            return border;\r\n        }\r\n    \r\n        private static Text createText(String labelText) {\r\n            Text text = new Text(\r\n                    TEXT_BASELINE_LEFT_X,\r\n                    TEXT_BASELINE_LEFT_Y,\r\n                    &quot; &quot; + labelText + &quot; &quot;\r\n            );\r\n    \r\n            text.setFont(font);\r\n            return text;\r\n        }\r\n    }\r\n\r\n----\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class SingleLabelApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            stage.setScene(new Scene(new CustomLabel(&quot;hello, world&quot;)));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n----\r\n\r\n    import javafx.animation.Animation;\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.KeyValue;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.DoubleProperty;\r\n    import javafx.beans.property.SimpleDoubleProperty;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.Background;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.paint.CycleMethod;\r\n    import javafx.scene.paint.RadialGradient;\r\n    import javafx.scene.paint.Stop;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class SingleLabelAppWithAnimatedGradient extends Application {\r\n        private static final double GRADIENT_RADIUS = 40;\r\n        private static final Duration ANIMATION_DURATION = Duration.seconds(10);\r\n    \r\n        private DoubleProperty offset = new SimpleDoubleProperty(-GRADIENT_RADIUS);\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Pane pane = new Pane(\r\n                    new CustomLabel(&quot;hello, world&quot;)\r\n            );\r\n    \r\n            animateBackground(pane);\r\n    \r\n            stage.setScene(new Scene(pane));\r\n            stage.show();\r\n        }\r\n    \r\n        private void animateBackground(Pane pane) {\r\n            offset.addListener(o -&gt; refreshBackground(pane));\r\n    \r\n            Timeline gradientAnimator = new Timeline(\r\n                    new KeyFrame(\r\n                            Duration.seconds(0),\r\n                            new KeyValue(\r\n                                    offset,\r\n                                    - GRADIENT_RADIUS\r\n                            )\r\n                    ),\r\n                    new KeyFrame(\r\n                            ANIMATION_DURATION,\r\n                            new KeyValue(\r\n                                    offset,\r\n                                    GRADIENT_RADIUS + CustomLabel.LABEL_WIDTH\r\n                            )\r\n                    )\r\n            );\r\n            gradientAnimator.setCycleCount(Animation.INDEFINITE);\r\n    \r\n            gradientAnimator.play();\r\n        }\r\n    \r\n        private void refreshBackground(Pane pane) {\r\n            pane.setBackground(\r\n                    Background.fill(\r\n                            createGradient(\r\n                                    offset.get()\r\n                            )\r\n                    )\r\n            );\r\n        }\r\n    \r\n        private static RadialGradient createGradient(double offset) {\r\n            RadialGradient gradient = new RadialGradient(\r\n                    30,\r\n                    .2,\r\n                    offset,\r\n                    GRADIENT_RADIUS / 2,\r\n                    GRADIENT_RADIUS,\r\n                    false,\r\n                    CycleMethod.NO_CYCLE,\r\n                    new Stop(0, Color.SKYBLUE),\r\n                    new Stop(GRADIENT_RADIUS, Color.PINK)\r\n            );\r\n    \r\n            return gradient;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n----\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ManyLabelApp extends Application {\r\n        private static final int NUM_LABELS = 1_000;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Group lotsaLabels = new Group();\r\n    \r\n            for (int i = 0; i &lt; NUM_LABELS; i++) {\r\n                CustomLabel customLabel = new CustomLabel(\r\n                        &quot;Item %06d&quot;.formatted(i)\r\n                );\r\n                lotsaLabels.getChildren().add(customLabel);\r\n    \r\n                customLabel.setLayoutY(i * CustomLabel.LABEL_HEIGHT);\r\n            }\r\n    \r\n            stage.setScene(new Scene(lotsaLabels));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n-----\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ListCell;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class LabelListAppWithCreatedNodes extends Application {\r\n        private static final int NUM_LABELS = 1_000;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            List&lt;String&gt; labelStrings = new ArrayList&lt;&gt;(NUM_LABELS);\r\n            for (int i = 0; i &lt; NUM_LABELS; i++) {\r\n                labelStrings.add(&quot;Item %06d&quot;.formatted(i));\r\n            }\r\n    \r\n            ListView&lt;String&gt; labelListView = new ListView&lt;&gt;(\r\n                    FXCollections.observableList(labelStrings)\r\n            );\r\n            labelListView.setCellFactory(param -&gt; new ListCell&lt;&gt;() {\r\n                @Override\r\n                protected void updateItem(String item, boolean empty) {\r\n                    super.updateItem(item, empty);\r\n    \r\n                    if (item == null || empty) {\r\n                        setGraphic(null);\r\n                        return;\r\n                    }\r\n    \r\n                    setGraphic(new CustomLabel(item)); // &lt;- not good.\r\n                }\r\n            });\r\n    \r\n            stage.setScene(new Scene(labelListView));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n----\r\n\r\n    import javafx.scene.Group;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.LineTo;\r\n    import javafx.scene.shape.MoveTo;\r\n    import javafx.scene.shape.Path;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.scene.text.Font;\r\n    import javafx.scene.text.FontWeight;\r\n    import javafx.scene.text.Text;\r\n    \r\n    public class ChangeableCustomLabel extends Group {\r\n        public static final double\r\n                LABEL_WIDTH = 200,\r\n                LABEL_HEIGHT = 60;\r\n    \r\n        private static final double\r\n                FONT_SIZE = 15,\r\n                TEXT_BASELINE_LEFT_X = 15,\r\n                TEXT_BASELINE_LEFT_Y = 15,\r\n                BORDER_INSETS = 9,\r\n                BORDER_WIDTH = 2;\r\n    \r\n        private static final Font font = Font.font(\r\n                &quot;monospace&quot;,\r\n                FontWeight.BOLD,\r\n                FONT_SIZE\r\n        );\r\n    \r\n        private final Text text = new Text();\r\n        private final Path border = new Path();\r\n        private final MoveTo textSkipper = new MoveTo();\r\n    \r\n        private static int numCreated = 0;\r\n    \r\n        public ChangeableCustomLabel(String labelText) {\r\n            initText(\r\n                    labelText\r\n            );\r\n            final double textWidth = calculateTextWidth();\r\n    \r\n            initBorder(\r\n                    textWidth\r\n            );\r\n    \r\n            Rectangle background = new Rectangle(\r\n                    LABEL_WIDTH,\r\n                    LABEL_HEIGHT\r\n            );\r\n            background.setFill(Color.TRANSPARENT);\r\n    \r\n            getChildren().addAll(\r\n                    background,\r\n                    border,\r\n                    text\r\n            );\r\n    \r\n            System.out.println(&quot;Num custom labels created: &quot; + ++numCreated);\r\n        }\r\n    \r\n        public void setLabelText(String labelText) {\r\n            text.setText(&quot; &quot; + labelText + &quot; &quot;);\r\n            textSkipper.setX(TEXT_BASELINE_LEFT_X + calculateTextWidth());\r\n        }\r\n    \r\n        private void initBorder(double textWidth) {\r\n            textSkipper.setX(TEXT_BASELINE_LEFT_X + textWidth);\r\n            textSkipper.setY(BORDER_INSETS);\r\n    \r\n            border.getElements().addAll(\r\n                    new MoveTo(BORDER_INSETS, BORDER_INSETS),\r\n                    new LineTo(TEXT_BASELINE_LEFT_X, BORDER_INSETS),\r\n                    textSkipper,\r\n                    new LineTo(LABEL_WIDTH - BORDER_INSETS, BORDER_INSETS),\r\n                    new LineTo(LABEL_WIDTH - BORDER_INSETS, LABEL_HEIGHT - BORDER_INSETS),\r\n                    new LineTo(BORDER_INSETS, LABEL_HEIGHT - BORDER_INSETS),\r\n                    new LineTo(BORDER_INSETS, BORDER_INSETS)\r\n            );\r\n            border.setStrokeWidth(BORDER_WIDTH);\r\n        }\r\n    \r\n        private void initText(String labelText) {\r\n            text.setX(TEXT_BASELINE_LEFT_X);\r\n            text.setY(TEXT_BASELINE_LEFT_Y);\r\n            text.setText(labelText);\r\n            text.setFont(font);\r\n        }\r\n    \r\n        private double calculateTextWidth() {\r\n            return text.getLayoutBounds().getWidth();\r\n        }\r\n    }\r\n\r\n----\r\n\r\n    import javafx.application.Application;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ListCell;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class LabelListAppWithCachedNodes extends Application {\r\n        private static final int NUM_LABELS = 100_000;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            List&lt;String&gt; labelStrings = new ArrayList&lt;&gt;(NUM_LABELS);\r\n            for (int i = 0; i &lt; NUM_LABELS; i++) {\r\n                labelStrings.add(&quot;Item %06d&quot;.formatted(i));\r\n            }\r\n    \r\n            ListView&lt;String&gt; labelListView = new ListView&lt;&gt;(\r\n                    FXCollections.observableList(labelStrings)\r\n            );\r\n            labelListView.setCellFactory(param -&gt; new ListCell&lt;&gt;() {\r\n                final ChangeableCustomLabel changeableCustomLabel = new ChangeableCustomLabel(\r\n                        &quot;&quot;\r\n                );\r\n    \r\n                @Override\r\n                protected void updateItem(String item, boolean empty) {\r\n                    super.updateItem(item, empty);\r\n    \r\n                    if (item == null || empty) {\r\n                        setGraphic(null);\r\n                        return;\r\n                    }\r\n    \r\n                    changeableCustomLabel.setLabelText(item);\r\n                    setGraphic(changeableCustomLabel);\r\n                }\r\n            });\r\n    \r\n            stage.setScene(new Scene(labelListView));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"JavaFX make a node overlay parent node border color","body":"<p>This is just a code dump of stuff you can choose to study or ignore.  I may or may not provide additional explanation or answer further questions about it.</p>\n<pre><code>import javafx.scene.Group;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.LineTo;\nimport javafx.scene.shape.MoveTo;\nimport javafx.scene.shape.Path;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.FontWeight;\nimport javafx.scene.text.Text;\n\npublic class CustomLabel extends Group {\n    public static final double\n            LABEL_WIDTH = 200,\n            LABEL_HEIGHT = 60;\n\n    private static final double\n            FONT_SIZE = 15,\n            TEXT_BASELINE_LEFT_X = 15,\n            TEXT_BASELINE_LEFT_Y = 15,\n            BORDER_INSETS = 9,\n            BORDER_WIDTH = 2;\n\n    private static final Font font = Font.font(\n            &quot;monospace&quot;,\n            FontWeight.BOLD,\n            FONT_SIZE\n    );\n\n    public CustomLabel(String labelText) {\n        Text text = createText(\n                labelText\n        );\n        final double textWidth = text.getLayoutBounds().getWidth();\n\n        Path border = createBorder(\n                textWidth\n        );\n\n        Rectangle background = new Rectangle(\n                LABEL_WIDTH,\n                LABEL_HEIGHT\n        );\n        background.setFill(Color.TRANSPARENT);\n\n        getChildren().addAll(\n                background,\n                border,\n                text\n        );\n    }\n\n    private static Path createBorder(double textWidth) {\n        Path border = new Path(\n                new MoveTo(BORDER_INSETS, BORDER_INSETS),\n                new LineTo(TEXT_BASELINE_LEFT_X, BORDER_INSETS),\n                new MoveTo(TEXT_BASELINE_LEFT_X + textWidth, BORDER_INSETS),\n                new LineTo(LABEL_WIDTH - BORDER_INSETS, BORDER_INSETS),\n                new LineTo(LABEL_WIDTH - BORDER_INSETS, LABEL_HEIGHT - BORDER_INSETS),\n                new LineTo(BORDER_INSETS, LABEL_HEIGHT - BORDER_INSETS),\n                new LineTo(BORDER_INSETS, BORDER_INSETS)\n        );\n        border.setStrokeWidth(BORDER_WIDTH);\n        return border;\n    }\n\n    private static Text createText(String labelText) {\n        Text text = new Text(\n                TEXT_BASELINE_LEFT_X,\n                TEXT_BASELINE_LEFT_Y,\n                &quot; &quot; + labelText + &quot; &quot;\n        );\n\n        text.setFont(font);\n        return text;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class SingleLabelApp extends Application {\n    @Override\n    public void start(Stage stage) {\n        stage.setScene(new Scene(new CustomLabel(&quot;hello, world&quot;)));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<hr />\n<pre><code>import javafx.animation.Animation;\nimport javafx.animation.KeyFrame;\nimport javafx.animation.KeyValue;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.beans.property.DoubleProperty;\nimport javafx.beans.property.SimpleDoubleProperty;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.CycleMethod;\nimport javafx.scene.paint.RadialGradient;\nimport javafx.scene.paint.Stop;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class SingleLabelAppWithAnimatedGradient extends Application {\n    private static final double GRADIENT_RADIUS = 40;\n    private static final Duration ANIMATION_DURATION = Duration.seconds(10);\n\n    private DoubleProperty offset = new SimpleDoubleProperty(-GRADIENT_RADIUS);\n\n    @Override\n    public void start(Stage stage) {\n        Pane pane = new Pane(\n                new CustomLabel(&quot;hello, world&quot;)\n        );\n\n        animateBackground(pane);\n\n        stage.setScene(new Scene(pane));\n        stage.show();\n    }\n\n    private void animateBackground(Pane pane) {\n        offset.addListener(o -&gt; refreshBackground(pane));\n\n        Timeline gradientAnimator = new Timeline(\n                new KeyFrame(\n                        Duration.seconds(0),\n                        new KeyValue(\n                                offset,\n                                - GRADIENT_RADIUS\n                        )\n                ),\n                new KeyFrame(\n                        ANIMATION_DURATION,\n                        new KeyValue(\n                                offset,\n                                GRADIENT_RADIUS + CustomLabel.LABEL_WIDTH\n                        )\n                )\n        );\n        gradientAnimator.setCycleCount(Animation.INDEFINITE);\n\n        gradientAnimator.play();\n    }\n\n    private void refreshBackground(Pane pane) {\n        pane.setBackground(\n                Background.fill(\n                        createGradient(\n                                offset.get()\n                        )\n                )\n        );\n    }\n\n    private static RadialGradient createGradient(double offset) {\n        RadialGradient gradient = new RadialGradient(\n                30,\n                .2,\n                offset,\n                GRADIENT_RADIUS / 2,\n                GRADIENT_RADIUS,\n                false,\n                CycleMethod.NO_CYCLE,\n                new Stop(0, Color.SKYBLUE),\n                new Stop(GRADIENT_RADIUS, Color.PINK)\n        );\n\n        return gradient;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<hr />\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class ManyLabelApp extends Application {\n    private static final int NUM_LABELS = 1_000;\n\n    @Override\n    public void start(Stage stage) {\n        Group lotsaLabels = new Group();\n\n        for (int i = 0; i &lt; NUM_LABELS; i++) {\n            CustomLabel customLabel = new CustomLabel(\n                    &quot;Item %06d&quot;.formatted(i)\n            );\n            lotsaLabels.getChildren().add(customLabel);\n\n            customLabel.setLayoutY(i * CustomLabel.LABEL_HEIGHT);\n        }\n\n        stage.setScene(new Scene(lotsaLabels));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<hr />\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class LabelListAppWithCreatedNodes extends Application {\n    private static final int NUM_LABELS = 1_000;\n\n    @Override\n    public void start(Stage stage) {\n        List&lt;String&gt; labelStrings = new ArrayList&lt;&gt;(NUM_LABELS);\n        for (int i = 0; i &lt; NUM_LABELS; i++) {\n            labelStrings.add(&quot;Item %06d&quot;.formatted(i));\n        }\n\n        ListView&lt;String&gt; labelListView = new ListView&lt;&gt;(\n                FXCollections.observableList(labelStrings)\n        );\n        labelListView.setCellFactory(param -&gt; new ListCell&lt;&gt;() {\n            @Override\n            protected void updateItem(String item, boolean empty) {\n                super.updateItem(item, empty);\n\n                if (item == null || empty) {\n                    setGraphic(null);\n                    return;\n                }\n\n                setGraphic(new CustomLabel(item)); // &lt;- not good.\n            }\n        });\n\n        stage.setScene(new Scene(labelListView));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<hr />\n<pre><code>import javafx.scene.Group;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.LineTo;\nimport javafx.scene.shape.MoveTo;\nimport javafx.scene.shape.Path;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.FontWeight;\nimport javafx.scene.text.Text;\n\npublic class ChangeableCustomLabel extends Group {\n    public static final double\n            LABEL_WIDTH = 200,\n            LABEL_HEIGHT = 60;\n\n    private static final double\n            FONT_SIZE = 15,\n            TEXT_BASELINE_LEFT_X = 15,\n            TEXT_BASELINE_LEFT_Y = 15,\n            BORDER_INSETS = 9,\n            BORDER_WIDTH = 2;\n\n    private static final Font font = Font.font(\n            &quot;monospace&quot;,\n            FontWeight.BOLD,\n            FONT_SIZE\n    );\n\n    private final Text text = new Text();\n    private final Path border = new Path();\n    private final MoveTo textSkipper = new MoveTo();\n\n    private static int numCreated = 0;\n\n    public ChangeableCustomLabel(String labelText) {\n        initText(\n                labelText\n        );\n        final double textWidth = calculateTextWidth();\n\n        initBorder(\n                textWidth\n        );\n\n        Rectangle background = new Rectangle(\n                LABEL_WIDTH,\n                LABEL_HEIGHT\n        );\n        background.setFill(Color.TRANSPARENT);\n\n        getChildren().addAll(\n                background,\n                border,\n                text\n        );\n\n        System.out.println(&quot;Num custom labels created: &quot; + ++numCreated);\n    }\n\n    public void setLabelText(String labelText) {\n        text.setText(&quot; &quot; + labelText + &quot; &quot;);\n        textSkipper.setX(TEXT_BASELINE_LEFT_X + calculateTextWidth());\n    }\n\n    private void initBorder(double textWidth) {\n        textSkipper.setX(TEXT_BASELINE_LEFT_X + textWidth);\n        textSkipper.setY(BORDER_INSETS);\n\n        border.getElements().addAll(\n                new MoveTo(BORDER_INSETS, BORDER_INSETS),\n                new LineTo(TEXT_BASELINE_LEFT_X, BORDER_INSETS),\n                textSkipper,\n                new LineTo(LABEL_WIDTH - BORDER_INSETS, BORDER_INSETS),\n                new LineTo(LABEL_WIDTH - BORDER_INSETS, LABEL_HEIGHT - BORDER_INSETS),\n                new LineTo(BORDER_INSETS, LABEL_HEIGHT - BORDER_INSETS),\n                new LineTo(BORDER_INSETS, BORDER_INSETS)\n        );\n        border.setStrokeWidth(BORDER_WIDTH);\n    }\n\n    private void initText(String labelText) {\n        text.setX(TEXT_BASELINE_LEFT_X);\n        text.setY(TEXT_BASELINE_LEFT_Y);\n        text.setText(labelText);\n        text.setFont(font);\n    }\n\n    private double calculateTextWidth() {\n        return text.getLayoutBounds().getWidth();\n    }\n}\n</code></pre>\n<hr />\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class LabelListAppWithCachedNodes extends Application {\n    private static final int NUM_LABELS = 100_000;\n\n    @Override\n    public void start(Stage stage) {\n        List&lt;String&gt; labelStrings = new ArrayList&lt;&gt;(NUM_LABELS);\n        for (int i = 0; i &lt; NUM_LABELS; i++) {\n            labelStrings.add(&quot;Item %06d&quot;.formatted(i));\n        }\n\n        ListView&lt;String&gt; labelListView = new ListView&lt;&gt;(\n                FXCollections.observableList(labelStrings)\n        );\n        labelListView.setCellFactory(param -&gt; new ListCell&lt;&gt;() {\n            final ChangeableCustomLabel changeableCustomLabel = new ChangeableCustomLabel(\n                    &quot;&quot;\n            );\n\n            @Override\n            protected void updateItem(String item, boolean empty) {\n                super.updateItem(item, empty);\n\n                if (item == null || empty) {\n                    setGraphic(null);\n                    return;\n                }\n\n                changeableCustomLabel.setLabelText(item);\n                setGraphic(changeableCustomLabel);\n            }\n        });\n\n        stage.setScene(new Scene(labelListView));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690378053,"post_id":76768103,"comment_id":135345070,"body_markdown":"Outstanding. Your second approach is what I was looking for. Simple, precise, and mainly, do the trick. Thank you! (just in case you enjoyed the question, please don&#39;t forget to upvote it!).","body":"Outstanding. Your second approach is what I was looking for. Simple, precise, and mainly, do the trick. Thank you! (just in case you enjoyed the question, please don&#39;t forget to upvote it!)."},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":1,"creation_date":1690378295,"post_id":76768103,"comment_id":135345126,"body_markdown":"You mean using clip approach?","body":"You mean using clip approach?"},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690378497,"post_id":76768103,"comment_id":135345179,"body_markdown":"that&#39;s it. I do have a dynamic background but besides that, the clip approach is such a simple and out of the box solution","body":"that&#39;s it. I do have a dynamic background but besides that, the clip approach is such a simple and out of the box solution"},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1690378701,"post_id":76768103,"comment_id":135345223,"body_markdown":"Ok. I thought you will be more inclined to segment approach :) (as it involves less nodes). Anyway its a nice excersice for me.","body":"Ok. I thought you will be more inclined to segment approach :) (as it involves less nodes). Anyway its a nice excersice for me."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1690379207,"post_id":76768103,"comment_id":135345357,"body_markdown":"A stackPane and a Label sounds ideal. Also, what brings my attention to your approach is simplicity. As my application uses dozens of technologies (including full support with spring lastest versions), it`s getting increasingly bigger, barely having 1M code lines. So the less code to maintain, the better it is (ofc, not using any shortcut is important as well)!","body":"A stackPane and a Label sounds ideal. Also, what brings my attention to your approach is simplicity. As my application uses dozens of technologies (including full support with spring lastest versions), it`s getting increasingly bigger, barely having 1M code lines. So the less code to maintain, the better it is (ofc, not using any shortcut is important as well)!"}],"tags":[],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690362662,"creation_date":1690346815,"answer_id":76768103,"question_id":76750473,"body_markdown":"+1 for @jewelsea approach.\r\nMore or less I do also have a similar approach to build the border dynamically using Path (including corner radius). I also have other two approaches, one using `inverse clipping` technique and the other using `border segments` technique. \r\n\r\nI included all three approaches in the below demo. You can choose or ignore. But my main intension to provide a direction if someone is interested with this.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.shape.*;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class TitledBorderDemo extends Application {\r\n        String sampleText = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot;;\r\n    \r\n        @Override\r\n        public void start(final Stage stage) throws Exception {\r\n            VBox root = new VBox(20);\r\n            root.setStyle(&quot;-fx-background-color:linear-gradient(to bottom, pink, yellow);&quot;);\r\n            root.setAlignment(Pos.CENTER);\r\n            root.setPadding(new Insets(15));\r\n    \r\n            buildWithPath(root);\r\n            buildWithClip(root);\r\n            buildWithStyle(root);\r\n    \r\n            Scene scene = new Scene(root, 600, 600);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;titledborder.css&quot;).toExternalForm());\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Titled Border Demo&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n        private void buildWithPath(VBox root) {\r\n            Label content = new Label();\r\n            content.setWrapText(true);\r\n            content.setText(sampleText);\r\n    \r\n            TitledBorderWithPath pane = new TitledBorderWithPath();\r\n            pane.setTitle(&quot;With Path Approach&quot;);\r\n            pane.setContent(content);\r\n            root.getChildren().add(pane);\r\n        }\r\n    \r\n        private void buildWithClip(VBox root) {\r\n            Label content = new Label();\r\n            content.setWrapText(true);\r\n            content.setText(sampleText);\r\n    \r\n            TitledBorderWithClip pane = new TitledBorderWithClip();\r\n            pane.setTitle(&quot;With Clip Approach&quot;);\r\n            pane.setContent(content);\r\n            root.getChildren().add(pane);\r\n        }\r\n    \r\n        private void buildWithStyle(VBox root) {\r\n            Label content = new Label();\r\n            content.setWrapText(true);\r\n            content.setText(sampleText);\r\n    \r\n            TitledBorderWithSegment pane = new TitledBorderWithSegment();\r\n            pane.setTitle(&quot;With Segment Approach&quot;);\r\n            pane.setContent(content);\r\n            root.getChildren().add(pane);\r\n        }\r\n    \r\n        /**\r\n         * Approach by using border segment.\r\n         */\r\n        class TitledBorderWithSegment extends StackPane {\r\n            private final Label titleLabel = new Label();\r\n    \r\n            public TitledBorderWithSegment() {\r\n                getStyleClass().add(&quot;titled-border-segment&quot;);\r\n                titleLabel.getStyleClass().add(&quot;title-label&quot;);\r\n                getChildren().addAll(titleLabel);\r\n                // Position the title label on the top border\r\n                titleLabel.translateYProperty().bind(titleLabel.heightProperty().divide(2).add(titleLabel.layoutYProperty()).multiply(-1));\r\n    \r\n                titleLabel.needsLayoutProperty().addListener((obs, old, needsLayout) -&gt; {\r\n                    if (!needsLayout) {\r\n                        buildStyle();\r\n                    }\r\n                });\r\n    \r\n                widthProperty().addListener(p -&gt; buildStyle());\r\n                heightProperty().addListener(p -&gt; buildStyle());\r\n            }\r\n    \r\n            private void buildStyle() {\r\n                double buffer = 8;\r\n                double r = getBorder().getStrokes().get(0).getRadii().getTopLeftHorizontalRadius();\r\n                double arcLength = Math.round(Math.toRadians(90) * r);\r\n                double w = getWidth();\r\n                double h = getHeight();\r\n                double titleX = titleLabel.getLayoutX() + titleLabel.getTranslateX();\r\n                double titleLength = titleLabel.getWidth();\r\n                double t = (h - (2 * r)) +\r\n                        arcLength +\r\n                        (w - (2 * r)) +\r\n                        arcLength +\r\n                        (h - (2 * r)) +\r\n                        arcLength +\r\n                        (w - titleX - titleLength - r) - buffer;\r\n    \r\n                setStyle(&quot;-fx-border-style: segments(&quot; + t + &quot;, &quot; + titleLength + &quot;) line-cap round;&quot;);\r\n            }\r\n    \r\n            public void setTitle(final String title) {\r\n                this.titleLabel.setText(title);\r\n            }\r\n    \r\n            public void setContent(Node node) {\r\n                getChildren().clear();\r\n                getChildren().addAll(titleLabel, node);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Approach by using Path.\r\n         */\r\n        class TitledBorderWithPath extends StackPane {\r\n            private final Path border = new Path();\r\n            private final StackPane container = new StackPane();\r\n            private final Label titleLabel = new Label();\r\n    \r\n            // Can configure this as a CSS styleable property.\r\n            private final double borderRadius = 8;\r\n    \r\n            public TitledBorderWithPath() {\r\n                getStyleClass().add(&quot;titled-border-path&quot;);\r\n                getChildren().addAll(border, container);\r\n    \r\n                border.getStyleClass().add(&quot;border&quot;);\r\n                border.setManaged(false);\r\n    \r\n                titleLabel.getStyleClass().add(&quot;title-label&quot;);\r\n                // Position the title label on the top border\r\n                titleLabel.translateYProperty().bind(titleLabel.heightProperty().divide(2).add(titleLabel.layoutYProperty()).multiply(-1));\r\n                titleLabel.needsLayoutProperty().addListener((obs, old, needsLayout) -&gt; {\r\n                    if (!needsLayout) {\r\n                        drawBorder();\r\n                    }\r\n                });\r\n    \r\n                container.getStyleClass().add(&quot;container&quot;);\r\n                container.widthProperty().addListener(p -&gt; drawBorder());\r\n                container.heightProperty().addListener(p -&gt; drawBorder());\r\n            }\r\n    \r\n            private void drawBorder() {\r\n                double w = container.getWidth();\r\n                double h = container.getHeight();\r\n                double r = borderRadius;\r\n                double x = titleLabel.getLayoutX() + titleLabel.getTranslateX();\r\n    \r\n                border.getElements().clear();\r\n                border.getElements().addAll(new MoveTo(x, 0),\r\n                        new LineTo(r, 0),\r\n                        arc(0, r), // Top left\r\n                        new LineTo(0, h - r),\r\n                        arc(r, h),  // Bottom left\r\n                        new LineTo(w - r, h),\r\n                        arc(w, h - r), // Bottom right\r\n                        new LineTo(w, r),\r\n                        arc(w - r, 0), // Top right\r\n                        new LineTo(x + titleLabel.getWidth(), 0));\r\n            }\r\n    \r\n            private ArcTo arc(double x, double y) {\r\n                return new ArcTo(borderRadius, borderRadius, 0, x, y, false, false);\r\n            }\r\n    \r\n            public void setTitle(final String title) {\r\n                this.titleLabel.setText(title);\r\n            }\r\n    \r\n            public void setContent(Node node) {\r\n                container.getChildren().clear();\r\n                container.getChildren().addAll(titleLabel, node);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Approach by using clipping.\r\n         */\r\n        class TitledBorderWithClip extends StackPane {\r\n            private Label titleLabel;\r\n    \r\n            final Rectangle clip = new Rectangle();\r\n            final Rectangle inverse = new Rectangle();\r\n    \r\n            final Pane border = new Pane();\r\n            final StackPane container = new StackPane();\r\n    \r\n            public TitledBorderWithClip() {\r\n                getStyleClass().add(&quot;titled-border-clip&quot;);\r\n                titleLabel = new Label();\r\n                titleLabel.getStyleClass().add(&quot;title-label&quot;);\r\n    \r\n                container.getChildren().add(titleLabel);\r\n                container.getStyleClass().add(&quot;container&quot;);\r\n    \r\n                border.getStyleClass().add(&quot;border&quot;);\r\n    \r\n                getChildren().addAll(border, container);\r\n    \r\n    \r\n                border.widthProperty().addListener(p -&gt; setInverseClip(border, clip));\r\n                border.heightProperty().addListener(p -&gt; setInverseClip(border, clip));\r\n    \r\n                // Position the title label on the top border\r\n                titleLabel.translateYProperty().bind(titleLabel.heightProperty().divide(2).add(titleLabel.layoutYProperty()).multiply(-1));\r\n                titleLabel.needsLayoutProperty().addListener((obs, old, needsLayout) -&gt; {\r\n                    if (!needsLayout) {\r\n                        setInverseClip(border, clip);\r\n                    }\r\n                });\r\n            }\r\n    \r\n            public void setTitle(final String title) {\r\n                this.titleLabel.setText(title);\r\n            }\r\n    \r\n            public void setContent(Node node) {\r\n                container.getChildren().clear();\r\n                container.getChildren().addAll(titleLabel, node);\r\n            }\r\n    \r\n            private void setInverseClip(final Pane node, final Rectangle clip) {\r\n                clip.setWidth(titleLabel.getWidth());\r\n                clip.setHeight(titleLabel.getHeight());\r\n                clip.setX(titleLabel.getLayoutX() + titleLabel.getTranslateX());\r\n                clip.setY(titleLabel.getLayoutY() + titleLabel.getTranslateY());\r\n    \r\n                inverse.setWidth(node.getWidth());\r\n                inverse.setHeight(node.getHeight());\r\n                node.setClip(Shape.subtract(inverse, clip));\r\n            }\r\n        }\r\n    }\r\n\r\n*titledborder.css*\r\n\r\n    .title-label{\r\n        -fx-padding: 0px 5px 0px 5px;\r\n        -fx-font-weight: bold;\r\n        -fx-font-size: 14px;\r\n        -fx-translate-x: 5px; /* To adjust the title placement horizontally */\r\n    }\r\n    \r\n    /* With Clip Approach */\r\n    .titled-border-clip {\r\n        -fx-alignment: TOP_LEFT;\r\n    }\r\n    \r\n    .titled-border-clip &gt; .container{\r\n        -fx-padding:10px 5px 5px 5px;\r\n        -fx-alignment: TOP_LEFT;\r\n    }\r\n    \r\n    .titled-border-clip &gt; .border{\r\n        -fx-border-color:red;\r\n        -fx-border-width: 2px;\r\n        -fx-border-radius: 5px;\r\n    }\r\n    \r\n    /* With Path Approach */\r\n    .titled-border-path {\r\n        -fx-alignment: TOP_LEFT;\r\n    }\r\n    \r\n    .titled-border-path &gt; .container{\r\n        -fx-padding:10px 5px 5px 5px;\r\n        -fx-alignment: TOP_LEFT;\r\n    }\r\n    \r\n    .titled-border-path &gt; .border{\r\n        -fx-stroke:red;\r\n        -fx-stroke-width:2px;\r\n    }\r\n    \r\n    /* With Simple Approach */\r\n    .titled-border-simple{\r\n        -fx-background-color:inherit;\r\n        -fx-border-color:red;\r\n        -fx-border-width: 2px;\r\n        -fx-border-radius: 5px;\r\n        -fx-padding:10px 5px 5px 5px;\r\n        -fx-alignment: TOP_LEFT;\r\n    }\r\n    \r\n    .titled-border-simple &gt; .title-label{\r\n        -fx-background-color:inherit;\r\n        -fx-border-color:inherit;\r\n        -fx-border-width:inherit;\r\n        -fx-border-radius:inherit;\r\n    }\r\n    \r\n    /* With Segment Approach */\r\n    .titled-border-segment{\r\n        -fx-border-color:red;\r\n        -fx-border-width: 2px;\r\n        -fx-border-radius: 10px;\r\n        -fx-padding:10px 5px 5px 5px;\r\n        -fx-alignment: TOP_LEFT;\r\n    }\r\n\r\n**For Simple layouts** \r\n\r\nOk, the above approaches may be an overkill for the layouts which **doesn&#39;t** have a dynamic background (like gradients, images.. etc). For simple layouts, as @Slaw mentioned in the first comment, setting `-fx-background-color: inherit;` on both the parent and label should do the trick.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    class SimpleTitledBorder extends StackPane {\r\n            private final Label titleLabel = new Label();\r\n    \r\n            public SimpleTitledBorder() {\r\n                getStyleClass().add(&quot;titled-border-simple&quot;);\r\n                titleLabel.getStyleClass().add(&quot;title-label&quot;);\r\n                getChildren().addAll(titleLabel);\r\n                // Position the title label on the top border\r\n                titleLabel.translateYProperty().bind(titleLabel.heightProperty().divide(2).add(titleLabel.layoutYProperty()).multiply(-1));\r\n            }\r\n            public void setTitle(final String title) {\r\n                this.titleLabel.setText(title);\r\n            }\r\n    \r\n            public void setContent(Node node) {\r\n                getChildren().clear();\r\n                getChildren().addAll(titleLabel, node);\r\n            }\r\n        }\r\n\r\nCSS Code:\r\n\r\n    /* With Simple Approach */\r\n    .title-label{\r\n        -fx-padding: 0px 5px 0px 5px;\r\n        -fx-font-weight: bold;\r\n        -fx-font-size: 14px;\r\n        -fx-translate-x: 5px; /* To adjust the title placement horizontally */\r\n    }\r\n    .titled-border-simple{\r\n        -fx-background-color:inherit;\r\n        -fx-border-color:red;\r\n        -fx-border-width: 2px;\r\n        -fx-border-radius: 5px;\r\n        -fx-padding:10px 5px 5px 5px;\r\n        -fx-alignment: TOP_LEFT;\r\n    }\r\n    \r\n    .titled-border-simple &gt; .title-label{\r\n        -fx-background-color:inherit;\r\n    }\r\n\r\nAnd inheriting the border properties to label, gives another look to the layout :)\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    .titled-border-simple &gt; .title-label{\r\n        -fx-background-color:inherit;\r\n        -fx-border-color:inherit;\r\n        -fx-border-width:inherit;\r\n        -fx-border-radius:inherit;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SnY6u.gif\r\n  [2]: https://i.stack.imgur.com/8TZfk.gif\r\n  [3]: https://i.stack.imgur.com/lqt97.png","title":"JavaFX make a node overlay parent node border color","body":"<p>+1 for @jewelsea approach.\nMore or less I do also have a similar approach to build the border dynamically using Path (including corner radius). I also have other two approaches, one using <code>inverse clipping</code> technique and the other using <code>border segments</code> technique.</p>\n<p>I included all three approaches in the below demo. You can choose or ignore. But my main intension to provide a direction if someone is interested with this.</p>\n<p><a href=\"https://i.stack.imgur.com/SnY6u.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SnY6u.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.*;\nimport javafx.scene.shape.*;\nimport javafx.stage.Stage;\n\npublic class TitledBorderDemo extends Application {\n    String sampleText = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot;;\n\n    @Override\n    public void start(final Stage stage) throws Exception {\n        VBox root = new VBox(20);\n        root.setStyle(&quot;-fx-background-color:linear-gradient(to bottom, pink, yellow);&quot;);\n        root.setAlignment(Pos.CENTER);\n        root.setPadding(new Insets(15));\n\n        buildWithPath(root);\n        buildWithClip(root);\n        buildWithStyle(root);\n\n        Scene scene = new Scene(root, 600, 600);\n        scene.getStylesheets().add(getClass().getResource(&quot;titledborder.css&quot;).toExternalForm());\n        stage.setScene(scene);\n        stage.setTitle(&quot;Titled Border Demo&quot;);\n        stage.show();\n    }\n\n    private void buildWithPath(VBox root) {\n        Label content = new Label();\n        content.setWrapText(true);\n        content.setText(sampleText);\n\n        TitledBorderWithPath pane = new TitledBorderWithPath();\n        pane.setTitle(&quot;With Path Approach&quot;);\n        pane.setContent(content);\n        root.getChildren().add(pane);\n    }\n\n    private void buildWithClip(VBox root) {\n        Label content = new Label();\n        content.setWrapText(true);\n        content.setText(sampleText);\n\n        TitledBorderWithClip pane = new TitledBorderWithClip();\n        pane.setTitle(&quot;With Clip Approach&quot;);\n        pane.setContent(content);\n        root.getChildren().add(pane);\n    }\n\n    private void buildWithStyle(VBox root) {\n        Label content = new Label();\n        content.setWrapText(true);\n        content.setText(sampleText);\n\n        TitledBorderWithSegment pane = new TitledBorderWithSegment();\n        pane.setTitle(&quot;With Segment Approach&quot;);\n        pane.setContent(content);\n        root.getChildren().add(pane);\n    }\n\n    /**\n     * Approach by using border segment.\n     */\n    class TitledBorderWithSegment extends StackPane {\n        private final Label titleLabel = new Label();\n\n        public TitledBorderWithSegment() {\n            getStyleClass().add(&quot;titled-border-segment&quot;);\n            titleLabel.getStyleClass().add(&quot;title-label&quot;);\n            getChildren().addAll(titleLabel);\n            // Position the title label on the top border\n            titleLabel.translateYProperty().bind(titleLabel.heightProperty().divide(2).add(titleLabel.layoutYProperty()).multiply(-1));\n\n            titleLabel.needsLayoutProperty().addListener((obs, old, needsLayout) -&gt; {\n                if (!needsLayout) {\n                    buildStyle();\n                }\n            });\n\n            widthProperty().addListener(p -&gt; buildStyle());\n            heightProperty().addListener(p -&gt; buildStyle());\n        }\n\n        private void buildStyle() {\n            double buffer = 8;\n            double r = getBorder().getStrokes().get(0).getRadii().getTopLeftHorizontalRadius();\n            double arcLength = Math.round(Math.toRadians(90) * r);\n            double w = getWidth();\n            double h = getHeight();\n            double titleX = titleLabel.getLayoutX() + titleLabel.getTranslateX();\n            double titleLength = titleLabel.getWidth();\n            double t = (h - (2 * r)) +\n                    arcLength +\n                    (w - (2 * r)) +\n                    arcLength +\n                    (h - (2 * r)) +\n                    arcLength +\n                    (w - titleX - titleLength - r) - buffer;\n\n            setStyle(&quot;-fx-border-style: segments(&quot; + t + &quot;, &quot; + titleLength + &quot;) line-cap round;&quot;);\n        }\n\n        public void setTitle(final String title) {\n            this.titleLabel.setText(title);\n        }\n\n        public void setContent(Node node) {\n            getChildren().clear();\n            getChildren().addAll(titleLabel, node);\n        }\n    }\n\n    /**\n     * Approach by using Path.\n     */\n    class TitledBorderWithPath extends StackPane {\n        private final Path border = new Path();\n        private final StackPane container = new StackPane();\n        private final Label titleLabel = new Label();\n\n        // Can configure this as a CSS styleable property.\n        private final double borderRadius = 8;\n\n        public TitledBorderWithPath() {\n            getStyleClass().add(&quot;titled-border-path&quot;);\n            getChildren().addAll(border, container);\n\n            border.getStyleClass().add(&quot;border&quot;);\n            border.setManaged(false);\n\n            titleLabel.getStyleClass().add(&quot;title-label&quot;);\n            // Position the title label on the top border\n            titleLabel.translateYProperty().bind(titleLabel.heightProperty().divide(2).add(titleLabel.layoutYProperty()).multiply(-1));\n            titleLabel.needsLayoutProperty().addListener((obs, old, needsLayout) -&gt; {\n                if (!needsLayout) {\n                    drawBorder();\n                }\n            });\n\n            container.getStyleClass().add(&quot;container&quot;);\n            container.widthProperty().addListener(p -&gt; drawBorder());\n            container.heightProperty().addListener(p -&gt; drawBorder());\n        }\n\n        private void drawBorder() {\n            double w = container.getWidth();\n            double h = container.getHeight();\n            double r = borderRadius;\n            double x = titleLabel.getLayoutX() + titleLabel.getTranslateX();\n\n            border.getElements().clear();\n            border.getElements().addAll(new MoveTo(x, 0),\n                    new LineTo(r, 0),\n                    arc(0, r), // Top left\n                    new LineTo(0, h - r),\n                    arc(r, h),  // Bottom left\n                    new LineTo(w - r, h),\n                    arc(w, h - r), // Bottom right\n                    new LineTo(w, r),\n                    arc(w - r, 0), // Top right\n                    new LineTo(x + titleLabel.getWidth(), 0));\n        }\n\n        private ArcTo arc(double x, double y) {\n            return new ArcTo(borderRadius, borderRadius, 0, x, y, false, false);\n        }\n\n        public void setTitle(final String title) {\n            this.titleLabel.setText(title);\n        }\n\n        public void setContent(Node node) {\n            container.getChildren().clear();\n            container.getChildren().addAll(titleLabel, node);\n        }\n    }\n\n    /**\n     * Approach by using clipping.\n     */\n    class TitledBorderWithClip extends StackPane {\n        private Label titleLabel;\n\n        final Rectangle clip = new Rectangle();\n        final Rectangle inverse = new Rectangle();\n\n        final Pane border = new Pane();\n        final StackPane container = new StackPane();\n\n        public TitledBorderWithClip() {\n            getStyleClass().add(&quot;titled-border-clip&quot;);\n            titleLabel = new Label();\n            titleLabel.getStyleClass().add(&quot;title-label&quot;);\n\n            container.getChildren().add(titleLabel);\n            container.getStyleClass().add(&quot;container&quot;);\n\n            border.getStyleClass().add(&quot;border&quot;);\n\n            getChildren().addAll(border, container);\n\n\n            border.widthProperty().addListener(p -&gt; setInverseClip(border, clip));\n            border.heightProperty().addListener(p -&gt; setInverseClip(border, clip));\n\n            // Position the title label on the top border\n            titleLabel.translateYProperty().bind(titleLabel.heightProperty().divide(2).add(titleLabel.layoutYProperty()).multiply(-1));\n            titleLabel.needsLayoutProperty().addListener((obs, old, needsLayout) -&gt; {\n                if (!needsLayout) {\n                    setInverseClip(border, clip);\n                }\n            });\n        }\n\n        public void setTitle(final String title) {\n            this.titleLabel.setText(title);\n        }\n\n        public void setContent(Node node) {\n            container.getChildren().clear();\n            container.getChildren().addAll(titleLabel, node);\n        }\n\n        private void setInverseClip(final Pane node, final Rectangle clip) {\n            clip.setWidth(titleLabel.getWidth());\n            clip.setHeight(titleLabel.getHeight());\n            clip.setX(titleLabel.getLayoutX() + titleLabel.getTranslateX());\n            clip.setY(titleLabel.getLayoutY() + titleLabel.getTranslateY());\n\n            inverse.setWidth(node.getWidth());\n            inverse.setHeight(node.getHeight());\n            node.setClip(Shape.subtract(inverse, clip));\n        }\n    }\n}\n</code></pre>\n<p><em>titledborder.css</em></p>\n<pre><code>.title-label{\n    -fx-padding: 0px 5px 0px 5px;\n    -fx-font-weight: bold;\n    -fx-font-size: 14px;\n    -fx-translate-x: 5px; /* To adjust the title placement horizontally */\n}\n\n/* With Clip Approach */\n.titled-border-clip {\n    -fx-alignment: TOP_LEFT;\n}\n\n.titled-border-clip &gt; .container{\n    -fx-padding:10px 5px 5px 5px;\n    -fx-alignment: TOP_LEFT;\n}\n\n.titled-border-clip &gt; .border{\n    -fx-border-color:red;\n    -fx-border-width: 2px;\n    -fx-border-radius: 5px;\n}\n\n/* With Path Approach */\n.titled-border-path {\n    -fx-alignment: TOP_LEFT;\n}\n\n.titled-border-path &gt; .container{\n    -fx-padding:10px 5px 5px 5px;\n    -fx-alignment: TOP_LEFT;\n}\n\n.titled-border-path &gt; .border{\n    -fx-stroke:red;\n    -fx-stroke-width:2px;\n}\n\n/* With Simple Approach */\n.titled-border-simple{\n    -fx-background-color:inherit;\n    -fx-border-color:red;\n    -fx-border-width: 2px;\n    -fx-border-radius: 5px;\n    -fx-padding:10px 5px 5px 5px;\n    -fx-alignment: TOP_LEFT;\n}\n\n.titled-border-simple &gt; .title-label{\n    -fx-background-color:inherit;\n    -fx-border-color:inherit;\n    -fx-border-width:inherit;\n    -fx-border-radius:inherit;\n}\n\n/* With Segment Approach */\n.titled-border-segment{\n    -fx-border-color:red;\n    -fx-border-width: 2px;\n    -fx-border-radius: 10px;\n    -fx-padding:10px 5px 5px 5px;\n    -fx-alignment: TOP_LEFT;\n}\n</code></pre>\n<p><strong>For Simple layouts</strong></p>\n<p>Ok, the above approaches may be an overkill for the layouts which <strong>doesn't</strong> have a dynamic background (like gradients, images.. etc). For simple layouts, as @Slaw mentioned in the first comment, setting <code>-fx-background-color: inherit;</code> on both the parent and label should do the trick.</p>\n<p><a href=\"https://i.stack.imgur.com/8TZfk.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8TZfk.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>class SimpleTitledBorder extends StackPane {\n        private final Label titleLabel = new Label();\n\n        public SimpleTitledBorder() {\n            getStyleClass().add(&quot;titled-border-simple&quot;);\n            titleLabel.getStyleClass().add(&quot;title-label&quot;);\n            getChildren().addAll(titleLabel);\n            // Position the title label on the top border\n            titleLabel.translateYProperty().bind(titleLabel.heightProperty().divide(2).add(titleLabel.layoutYProperty()).multiply(-1));\n        }\n        public void setTitle(final String title) {\n            this.titleLabel.setText(title);\n        }\n\n        public void setContent(Node node) {\n            getChildren().clear();\n            getChildren().addAll(titleLabel, node);\n        }\n    }\n</code></pre>\n<p>CSS Code:</p>\n<pre><code>/* With Simple Approach */\n.title-label{\n    -fx-padding: 0px 5px 0px 5px;\n    -fx-font-weight: bold;\n    -fx-font-size: 14px;\n    -fx-translate-x: 5px; /* To adjust the title placement horizontally */\n}\n.titled-border-simple{\n    -fx-background-color:inherit;\n    -fx-border-color:red;\n    -fx-border-width: 2px;\n    -fx-border-radius: 5px;\n    -fx-padding:10px 5px 5px 5px;\n    -fx-alignment: TOP_LEFT;\n}\n\n.titled-border-simple &gt; .title-label{\n    -fx-background-color:inherit;\n}\n</code></pre>\n<p>And inheriting the border properties to label, gives another look to the layout :)</p>\n<p><a href=\"https://i.stack.imgur.com/lqt97.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqt97.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>.titled-border-simple &gt; .title-label{\n    -fx-background-color:inherit;\n    -fx-border-color:inherit;\n    -fx-border-width:inherit;\n    -fx-border-radius:inherit;\n}\n</code></pre>\n"}],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"comment_count":31,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76768103,"answer_count":2,"score":2,"last_activity_date":1690362662,"creation_date":1690149736,"question_id":76750473,"body_markdown":"I have a node which looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oVok7.png\r\n\r\nUsing only css, I want the label to overlay its parent border color, so the portion of the border color under the label gets invisible.\r\n\r\nCss code I used to make this border:\r\n\r\n    -fx-border-color: black;\r\n    -fx-border-width: 3;\r\n    -fx-border-radius: 8;\r\n\r\n**Additional info:** \r\n\r\n**1 -&gt;** It&#39;s possible to achieve the same effect by placing -background-color: white to the label, although in my case it&#39;s not a possibility.\r\n\r\n**2 -&gt;** For performance/arch reasons, it&#39;s not possible to achieve this effect through styled BorderPane or TitledPane nodes as suggested in the commends. Hence the importance of only using CSS or at least the less java code as possible.\r\n\r\n","title":"JavaFX make a node overlay parent node border color","body":"<p>I have a node which looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/oVok7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oVok7.png\" alt=\"enter image description here\" /></a></p>\n<p>Using only css, I want the label to overlay its parent border color, so the portion of the border color under the label gets invisible.</p>\n<p>Css code I used to make this border:</p>\n<pre><code>-fx-border-color: black;\n-fx-border-width: 3;\n-fx-border-radius: 8;\n</code></pre>\n<p><strong>Additional info:</strong></p>\n<p><strong>1 -&gt;</strong> It's possible to achieve the same effect by placing -background-color: white to the label, although in my case it's not a possibility.</p>\n<p><strong>2 -&gt;</strong> For performance/arch reasons, it's not possible to achieve this effect through styled BorderPane or TitledPane nodes as suggested in the commends. Hence the importance of only using CSS or at least the less java code as possible.</p>\n"},{"tags":["java","json","jackson","deserialization","record"],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684165896,"creation_date":1684165896,"answer_id":76255854,"question_id":76255022,"body_markdown":"The value parameter in your `JsonSetter`s needs to match the field name in the JSON. I assume Jackson recognises that the type is a record and is able to call the constructor if the ctor parameter names line up with the JSON field names.\r\n\r\nI.e., f you change the `JsonSetter` annotations like this:\r\n\r\n     public record Doc(String id,\r\n                      @JsonGetter(&quot;content_t&quot;) @JsonSetter(&quot;content_t&quot;) String content,\r\n                      @JsonGetter(&quot;title_t&quot;) @JsonSetter(&quot;title_t&quot;) String title,\r\n                      @JsonGetter(&quot;media_links_txt&quot;) @JsonSetter(&quot;media_links_txt&quot;) List&lt;String&gt; mediaLinks) {\r\n    }\r\n\r\nthen it seems to work, at least it does for me. This can be further simplified by replacing the `JsonGetter`/`JsonSetter` pairs with a single `JsonProperty` annotation:\r\n\r\n    public record Doc(String id,\r\n                      @JsonProperty(&quot;content_t&quot;) String content,\r\n                      @JsonProperty(&quot;title_t&quot;) String title,\r\n                      @JsonProperty(&quot;media_links_txt&quot;) List&lt;String&gt; mediaLinks) {\r\n    }","title":"Jackson deserialization into Record with List runs into SetterlessProperty issue","body":"<p>The value parameter in your <code>JsonSetter</code>s needs to match the field name in the JSON. I assume Jackson recognises that the type is a record and is able to call the constructor if the ctor parameter names line up with the JSON field names.</p>\n<p>I.e., f you change the <code>JsonSetter</code> annotations like this:</p>\n<pre><code> public record Doc(String id,\n                  @JsonGetter(&quot;content_t&quot;) @JsonSetter(&quot;content_t&quot;) String content,\n                  @JsonGetter(&quot;title_t&quot;) @JsonSetter(&quot;title_t&quot;) String title,\n                  @JsonGetter(&quot;media_links_txt&quot;) @JsonSetter(&quot;media_links_txt&quot;) List&lt;String&gt; mediaLinks) {\n}\n</code></pre>\n<p>then it seems to work, at least it does for me. This can be further simplified by replacing the <code>JsonGetter</code>/<code>JsonSetter</code> pairs with a single <code>JsonProperty</code> annotation:</p>\n<pre><code>public record Doc(String id,\n                  @JsonProperty(&quot;content_t&quot;) String content,\n                  @JsonProperty(&quot;title_t&quot;) String title,\n                  @JsonProperty(&quot;media_links_txt&quot;) List&lt;String&gt; mediaLinks) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9650010,"reputation":11,"user_id":7161459,"display_name":"Cuizhanming"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690362130,"creation_date":1690109111,"answer_id":76747813,"question_id":76255022,"body_markdown":"Configuring this annotation on the record should make it work:\r\n\r\n    @JsonAutoDetect(fieldVisibility = ANY, getterVisibility = ANY, setterVisibility = ANY, creatorVisibility = ANY)","title":"Jackson deserialization into Record with List runs into SetterlessProperty issue","body":"<p>Configuring this annotation on the record should make it work:</p>\n<pre><code>@JsonAutoDetect(fieldVisibility = ANY, getterVisibility = ANY, setterVisibility = ANY, creatorVisibility = ANY)\n</code></pre>\n"}],"owner":{"account_id":9784898,"reputation":95,"user_id":7251522,"display_name":"MarcelTon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690362130,"creation_date":1684160229,"question_id":76255022,"body_markdown":"**QUESTION**: How do I capture the (optional) List field `media_links_txt` from the received JSON as either null or its actual value with concise/idiomatic modern Java?\r\n\r\nFunctional wishes are:\r\n\r\n - Some properties have explicit `@JsonGetter` and `@JsonSetter` fieldnames since the Record is used both as deserialization target and response model (API clients demand different field names as incoming JSON)\r\n - The `optionalStuff` field is ... well optionally present in deserialization flow\r\n\r\nCode is as follows:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.*;\r\nimport org.springframework.lang.NonNull;\r\n\r\nimport java.util.List;\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic record TestResponse(@NonNull Response response) {\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public record Response(@NonNull List&lt;Doc&gt; docs,\r\n                           @NonNull Integer numFound,\r\n                           @NonNull Integer start) {\r\n\r\n        public record Doc(@NonNull String id,\r\n                              @NonNull @JsonGetter(&quot;content_t&quot;) @JsonSetter(&quot;content&quot;) String content,\r\n                              @NonNull @JsonGetter(&quot;title_t&quot;) @JsonSetter(&quot;title&quot;) String title,\r\n                              @JsonGetter(&quot;media_links_txt&quot;) @JsonSetter(&quot;mediaLinks&quot;) List&lt;String&gt; mediaLinks) {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen this code receives JSON that looks like this:\r\n```\r\n{\r\n  &quot;response&quot; : {\r\n    &quot;docs&quot; : [ {\r\n      &quot;content_t&quot; : &quot;Test content 1&quot;,\r\n      &quot;title_t&quot; : &quot;Test title 1&quot;,\r\n      &quot;media_links_txt&quot; : [ &quot;d7810883-42de-4280-a286-5bb14e517ce3&quot;, &quot;fa60db0a-0e28-4c9c-8092-4eafe57251cd&quot; ],\r\n      &quot;id&quot; : &quot;54870dc265c855c516bcd0a2f93f2267&quot;\r\n    }, {\r\n      &quot;content_t&quot; : &quot;Test content 2&quot;,\r\n      &quot;title_t&quot; : &quot;Test content 2&quot;,\r\n      &quot;id&quot; : &quot;a4a38aa64427d63aab0c4412eb659586&quot;\r\n    } ],\r\n    &quot;numFound&quot; : 2,\r\n    &quot;start&quot; : 0\r\n}\r\n```\r\n\r\nIt errs with the following message:\r\n`Should never call set() on setterless property` and points towards `media_links_txt`. This confuses me ...\r\n\r\n - Records don&#39;t have setters to begin with so it tries to use the constructor, which I am currently thinking is fine and desired (it can be assigned a `null` value for `mediaLinks` is what I think I have written)\r\n - But it can construct the `docs` field (also a List) without problem?\r\n\r\nSo I tried to trick it with the following code (maybe it required a non-default type)\r\n\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.*;\r\nimport org.springframework.lang.NonNull;\r\n\r\nimport java.util.List;\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic record TestResponse(@NonNull Response response) {\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public record Response(@NonNull List&lt;Doc&gt; docs,\r\n                           @NonNull Integer numFound,\r\n                           @NonNull Integer start) {\r\n\r\n        public record Doc(@NonNull String id,\r\n                              @NonNull @JsonGetter(&quot;content_t&quot;) @JsonSetter(&quot;content&quot;) String content,\r\n                              @NonNull @JsonGetter(&quot;title_t&quot;) @JsonSetter(&quot;title&quot;) String title,\r\n                              @JsonGetter(&quot;media_links_txt&quot;) @JsonSetter(&quot;mediaLinks&quot;) List&lt;StringClone&gt; mediaLinks) {\r\n\r\n            public record StringClone(@NonNull String mediaLinksRetry) {\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhich throws:\r\n`Cannot construct instance of StringClone (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;d7810883-42de-4280-a286-5bb14e517ce3&#39;)`\r\n\r\n - Wait ... there is no String-argument constructor on a String-only Record? I am fairly sure there should be, but I might be missing something and would like to learn so! \r\n\r\n**QUESTION**: How do I capture the (optional) List field `media_links_txt` from the received JSON as either null or its actual value with concise/idiomatic modern Java?\r\n\r\nUsed versions are:\r\n - jackson-databind 2.13.5\r\n - spring framework 5.3.27 (via spring boot starter 2.7.11)\r\n\r\nI think https://github.com/FasterXML/jackson-databind/issues/2692 might describe the issue, but no proper workaround as of yet.","title":"Jackson deserialization into Record with List runs into SetterlessProperty issue","body":"<p><strong>QUESTION</strong>: How do I capture the (optional) List field <code>media_links_txt</code> from the received JSON as either null or its actual value with concise/idiomatic modern Java?</p>\n<p>Functional wishes are:</p>\n<ul>\n<li>Some properties have explicit <code>@JsonGetter</code> and <code>@JsonSetter</code> fieldnames since the Record is used both as deserialization target and response model (API clients demand different field names as incoming JSON)</li>\n<li>The <code>optionalStuff</code> field is ... well optionally present in deserialization flow</li>\n</ul>\n<p>Code is as follows:</p>\n<pre><code>import com.fasterxml.jackson.annotation.*;\nimport org.springframework.lang.NonNull;\n\nimport java.util.List;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic record TestResponse(@NonNull Response response) {\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public record Response(@NonNull List&lt;Doc&gt; docs,\n                           @NonNull Integer numFound,\n                           @NonNull Integer start) {\n\n        public record Doc(@NonNull String id,\n                              @NonNull @JsonGetter(&quot;content_t&quot;) @JsonSetter(&quot;content&quot;) String content,\n                              @NonNull @JsonGetter(&quot;title_t&quot;) @JsonSetter(&quot;title&quot;) String title,\n                              @JsonGetter(&quot;media_links_txt&quot;) @JsonSetter(&quot;mediaLinks&quot;) List&lt;String&gt; mediaLinks) {\n        }\n    }\n}\n</code></pre>\n<p>When this code receives JSON that looks like this:</p>\n<pre><code>{\n  &quot;response&quot; : {\n    &quot;docs&quot; : [ {\n      &quot;content_t&quot; : &quot;Test content 1&quot;,\n      &quot;title_t&quot; : &quot;Test title 1&quot;,\n      &quot;media_links_txt&quot; : [ &quot;d7810883-42de-4280-a286-5bb14e517ce3&quot;, &quot;fa60db0a-0e28-4c9c-8092-4eafe57251cd&quot; ],\n      &quot;id&quot; : &quot;54870dc265c855c516bcd0a2f93f2267&quot;\n    }, {\n      &quot;content_t&quot; : &quot;Test content 2&quot;,\n      &quot;title_t&quot; : &quot;Test content 2&quot;,\n      &quot;id&quot; : &quot;a4a38aa64427d63aab0c4412eb659586&quot;\n    } ],\n    &quot;numFound&quot; : 2,\n    &quot;start&quot; : 0\n}\n</code></pre>\n<p>It errs with the following message:\n<code>Should never call set() on setterless property</code> and points towards <code>media_links_txt</code>. This confuses me ...</p>\n<ul>\n<li>Records don't have setters to begin with so it tries to use the constructor, which I am currently thinking is fine and desired (it can be assigned a <code>null</code> value for <code>mediaLinks</code> is what I think I have written)</li>\n<li>But it can construct the <code>docs</code> field (also a List) without problem?</li>\n</ul>\n<p>So I tried to trick it with the following code (maybe it required a non-default type)</p>\n<pre><code>import com.fasterxml.jackson.annotation.*;\nimport org.springframework.lang.NonNull;\n\nimport java.util.List;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic record TestResponse(@NonNull Response response) {\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public record Response(@NonNull List&lt;Doc&gt; docs,\n                           @NonNull Integer numFound,\n                           @NonNull Integer start) {\n\n        public record Doc(@NonNull String id,\n                              @NonNull @JsonGetter(&quot;content_t&quot;) @JsonSetter(&quot;content&quot;) String content,\n                              @NonNull @JsonGetter(&quot;title_t&quot;) @JsonSetter(&quot;title&quot;) String title,\n                              @JsonGetter(&quot;media_links_txt&quot;) @JsonSetter(&quot;mediaLinks&quot;) List&lt;StringClone&gt; mediaLinks) {\n\n            public record StringClone(@NonNull String mediaLinksRetry) {\n            }\n        }\n    }\n}\n</code></pre>\n<p>Which throws:\n<code>Cannot construct instance of StringClone (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('d7810883-42de-4280-a286-5bb14e517ce3')</code></p>\n<ul>\n<li>Wait ... there is no String-argument constructor on a String-only Record? I am fairly sure there should be, but I might be missing something and would like to learn so!</li>\n</ul>\n<p><strong>QUESTION</strong>: How do I capture the (optional) List field <code>media_links_txt</code> from the received JSON as either null or its actual value with concise/idiomatic modern Java?</p>\n<p>Used versions are:</p>\n<ul>\n<li>jackson-databind 2.13.5</li>\n<li>spring framework 5.3.27 (via spring boot starter 2.7.11)</li>\n</ul>\n<p>I think <a href=\"https://github.com/FasterXML/jackson-databind/issues/2692\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/2692</a> might describe the issue, but no proper workaround as of yet.</p>\n"},{"tags":["java","memory","types","final"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":2,"creation_date":1690050119,"post_id":76745215,"comment_id":135300150,"body_markdown":"Yes, different types use different amount of memory: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","body":"Yes, different types use different amount of memory: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"},{"owner":{"account_id":25830887,"reputation":41,"user_id":19568102,"display_name":"Jan Hrubec"},"score":0,"creation_date":1690105536,"post_id":76745215,"comment_id":135304257,"body_markdown":"@UnholySheep so here I should use byte? Isn&#39;t there any option that would use only half a byte?","body":"@UnholySheep so here I should use byte? Isn&#39;t there any option that would use only half a byte?"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1690106603,"post_id":76745215,"comment_id":135304377,"body_markdown":"Not in Java, no. Also that type of thing sounds like a pre-mature optimization (which would quite likely turn into a pessimization, as reading and writing unaligned/non-byte sized integers is not natively supported on many CPU architectures, requiring a lot of extra instructions to be used)","body":"Not in Java, no. Also that type of thing sounds like a pre-mature optimization (which would quite likely turn into a pessimization, as reading and writing unaligned/non-byte sized integers is not natively supported on many CPU architectures, requiring a lot of extra instructions to be used)"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690135563,"post_id":76745215,"comment_id":135307884,"body_markdown":"Not even C or assembly let you do that, as the CPU eventually works with (multiples of) bytes. You can cram more than one variable in one e.g. byte and then use bitwise operations to pull out the 0parts you want, but this will make your code much more complicated for no good reason. The only exception is when you talk to certain hardware or network protocols that require certain memory layouts. Also: before trying to optimize, use a profiler. Citing Knuth: Premature optimization is the root of all evil.","body":"Not even C or assembly let you do that, as the CPU eventually works with (multiples of) bytes. You can cram more than one variable in one e.g. byte and then use bitwise operations to pull out the 0parts you want, but this will make your code much more complicated for no good reason. The only exception is when you talk to certain hardware or network protocols that require certain memory layouts. Also: before trying to optimize, use a profiler. Citing Knuth: Premature optimization is the root of all evil."},{"owner":{"account_id":25830887,"reputation":41,"user_id":19568102,"display_name":"Jan Hrubec"},"score":0,"creation_date":1690189936,"post_id":76745215,"comment_id":135313537,"body_markdown":"@UnholySheep so am I understanding this right that any type uses the amount of memory in the documentation and just fills the unused bits with zeroes? So therefore the closer I can get to the actual size of my variable the more memory I&#39;ll save? So here I should use byte instead of int?","body":"@UnholySheep so am I understanding this right that any type uses the amount of memory in the documentation and just fills the unused bits with zeroes? So therefore the closer I can get to the actual size of my variable the more memory I&#39;ll save? So here I should use byte instead of int?"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1690190131,"post_id":76745215,"comment_id":135313576,"body_markdown":"Maybe? It depends entirely on how and where you use these variables. And also whether this tiny memory saving actually benefits the code in any way (as mentioned above, you should always be profiling first).","body":"Maybe? It depends entirely on how and where you use these variables. And also whether this tiny memory saving actually benefits the code in any way (as mentioned above, you should always be profiling first)."},{"owner":{"account_id":25830887,"reputation":41,"user_id":19568102,"display_name":"Jan Hrubec"},"score":0,"creation_date":1690190604,"post_id":76745215,"comment_id":135313692,"body_markdown":"@UnholySheep I need to store about a thousand variables in an array so I guess you&#39;re probably right I wouldn&#39;t save all that much space. Thanks for your help.","body":"@UnholySheep I need to store about a thousand variables in an array so I guess you&#39;re probably right I wouldn&#39;t save all that much space. Thanks for your help."},{"owner":{"account_id":25830887,"reputation":41,"user_id":19568102,"display_name":"Jan Hrubec"},"score":0,"creation_date":1690191017,"post_id":76745215,"comment_id":135313796,"body_markdown":"@UnholySheep Also, could you please write your first comment into an answer so I can accept it. And could you also include that the final keyword doesn&#39;t effect anything?","body":"@UnholySheep Also, could you please write your first comment into an answer so I can accept it. And could you also include that the final keyword doesn&#39;t effect anything?"}],"answers":[{"comments":[{"owner":{"account_id":25830887,"reputation":41,"user_id":19568102,"display_name":"Jan Hrubec"},"score":0,"creation_date":1690105483,"post_id":76745335,"comment_id":135304251,"body_markdown":"I know, but since the final keyword doesn&#39;t allow me to change the variable I thought that maybe it would only use the amount of space needed, since there will never be more necessary.","body":"I know, but since the final keyword doesn&#39;t allow me to change the variable I thought that maybe it would only use the amount of space needed, since there will never be more necessary."},{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":1,"creation_date":1690358515,"post_id":76745335,"comment_id":135340692,"body_markdown":"Exactly, small final numbers will most often be baked into the code itself rather than the heap or stack.","body":"Exactly, small final numbers will most often be baked into the code itself rather than the heap or stack."}],"tags":[],"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690051658,"creation_date":1690051658,"answer_id":76745335,"question_id":76745215,"body_markdown":"Actually you got the wrong impression of the usage of  the final keyword . \r\n\r\nEach data type is allocated a fixed memory when it is declared and this memory is not permanent It is taken back into ram when the variable is no more used hence saving space.This kind of memory is known as stack.\r\n. \r\n\r\nAnd for the final keyword it stops the user from changing the value of the variable . \r\n\r\nWhen a variable is declared with final keywork say : \r\n\r\n    final int i = 0; \r\n    // Then if I try to give this another value say:\r\n    i = 12;\r\n    // I will get an error on line 3 because I am trying to change the \r\n    // value of a final variable which is not legal\r\n\r\nI will get an error it basically converts a variable into a constant value. \r\n\r\nThis types of variables are widely used in the industry for giving the names to specific values or defining an identity variable which is not meant to be changed","title":"Do datatypes influence how much memory is used? Does the final keyword change it?","body":"<p>Actually you got the wrong impression of the usage of  the final keyword .</p>\n<p>Each data type is allocated a fixed memory when it is declared and this memory is not permanent It is taken back into ram when the variable is no more used hence saving space.This kind of memory is known as stack.\n.</p>\n<p>And for the final keyword it stops the user from changing the value of the variable .</p>\n<p>When a variable is declared with final keywork say :</p>\n<pre><code>final int i = 0; \n// Then if I try to give this another value say:\ni = 12;\n// I will get an error on line 3 because I am trying to change the \n// value of a final variable which is not legal\n</code></pre>\n<p>I will get an error it basically converts a variable into a constant value.</p>\n<p>This types of variables are widely used in the industry for giving the names to specific values or defining an identity variable which is not meant to be changed</p>\n"},{"tags":[],"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690199907,"creation_date":1690199907,"answer_id":76754269,"question_id":76745215,"body_markdown":"Primitive data types use different amounts of memory, as explained in e.g.: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\r\n\r\nHowever, having any object in memory take less than 1 byte would not be helpful, since the hardware cannot work with anything smaller than that, therefore it is not supported. (There are ways of storing multiple different values in any single integer by using bit shifting/masking, but that is a different technique)\r\n\r\nIt is also important to note that before trying to optimize such memory use you need to profile first to see whether there would be any benefit to such an optimization.\r\n\r\nThe `final` keyword also has no effect on how large the memory for a variable will be, since those still have to follow the general rules of the language.","title":"Do datatypes influence how much memory is used? Does the final keyword change it?","body":"<p>Primitive data types use different amounts of memory, as explained in e.g.: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></p>\n<p>However, having any object in memory take less than 1 byte would not be helpful, since the hardware cannot work with anything smaller than that, therefore it is not supported. (There are ways of storing multiple different values in any single integer by using bit shifting/masking, but that is a different technique)</p>\n<p>It is also important to note that before trying to optimize such memory use you need to profile first to see whether there would be any benefit to such an optimization.</p>\n<p>The <code>final</code> keyword also has no effect on how large the memory for a variable will be, since those still have to follow the general rules of the language.</p>\n"},{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690361982,"creation_date":1690361637,"answer_id":76769518,"question_id":76745215,"body_markdown":"**Limiting the datatype may indeed limit the space needed to store it.** But your example of 5 bits will still occupy at least 8 bits in memory, it will be rounded up. \r\n\r\nAs a variable (constant or not) in an object, **it will probably be zero padded** so that each property starts on an even &quot;word&quot; address. A word is the preferred integer size, typically 64 bits on a desktop computer or smaller for embedded or iot devices. So 5 properties of 1 byte each will occupy 5x64 bits on a 64 bit computer.\r\n\r\nBut **an array of bytes** (byte = 8 bits) will however only allocate one byte per element (and possibly zero pad at the end of the entire array to become an even word size), so here it will definitely matter when it comes to storage size.\r\n\r\n**constants (static final) will occupy less space** because they are only stored once in metaspace, the static class memory. As you instantiate new objects of your class, constant values are not copied to the object space on the heap. Instead, each time the value is read, it&#39;s just read from the class definition in metaspace.\r\n\r\nWhen it comes to performance, **an array of bytes will also occupy less space in caches** (more data will fit) and that will increase performance. If you are working with a GPU, or the CPU (and compiler) supports [SIMD][1] instructions, you can gain a lot of performance using 8, 16 or 32 bits integers on a 64-bit computer.\r\n\r\nSmall constants, like 2147483000 (31 bits), can actually work a bit if luck outperform a bigger number like 8589934000 (33 bits)! But this is not something that you should define your program architecture at all, but seen more as **fun fact**. &#128578; Reason for the possible extra performance is that in can be embedded directly as a constant in some assembler instructions. The entire instruction must fit in 64 bits. This includes the actual instruction, the result register, and the constant. Example [LDR rd, =const][2]. The const will not fit if its 64 bits, but a 31 bit const will!\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Single_instruction,_multiple_data\r\n  [2]: https://developer.arm.com/documentation/dui0204/j/writing-arm-assembly-language/loading-constants-into-registers/loading-with-ldr-rd---const?lang=en","title":"Do datatypes influence how much memory is used? Does the final keyword change it?","body":"<p><strong>Limiting the datatype may indeed limit the space needed to store it.</strong> But your example of 5 bits will still occupy at least 8 bits in memory, it will be rounded up.</p>\n<p>As a variable (constant or not) in an object, <strong>it will probably be zero padded</strong> so that each property starts on an even &quot;word&quot; address. A word is the preferred integer size, typically 64 bits on a desktop computer or smaller for embedded or iot devices. So 5 properties of 1 byte each will occupy 5x64 bits on a 64 bit computer.</p>\n<p>But <strong>an array of bytes</strong> (byte = 8 bits) will however only allocate one byte per element (and possibly zero pad at the end of the entire array to become an even word size), so here it will definitely matter when it comes to storage size.</p>\n<p><strong>constants (static final) will occupy less space</strong> because they are only stored once in metaspace, the static class memory. As you instantiate new objects of your class, constant values are not copied to the object space on the heap. Instead, each time the value is read, it's just read from the class definition in metaspace.</p>\n<p>When it comes to performance, <strong>an array of bytes will also occupy less space in caches</strong> (more data will fit) and that will increase performance. If you are working with a GPU, or the CPU (and compiler) supports <a href=\"https://en.m.wikipedia.org/wiki/Single_instruction,_multiple_data\" rel=\"nofollow noreferrer\">SIMD</a> instructions, you can gain a lot of performance using 8, 16 or 32 bits integers on a 64-bit computer.</p>\n<p>Small constants, like 2147483000 (31 bits), can actually work a bit if luck outperform a bigger number like 8589934000 (33 bits)! But this is not something that you should define your program architecture at all, but seen more as <strong>fun fact</strong>. 🙂 Reason for the possible extra performance is that in can be embedded directly as a constant in some assembler instructions. The entire instruction must fit in 64 bits. This includes the actual instruction, the result register, and the constant. Example <a href=\"https://developer.arm.com/documentation/dui0204/j/writing-arm-assembly-language/loading-constants-into-registers/loading-with-ldr-rd---const?lang=en\" rel=\"nofollow noreferrer\">LDR rd, =const</a>. The const will not fit if its 64 bits, but a 31 bit const will!</p>\n"}],"owner":{"account_id":25830887,"reputation":41,"user_id":19568102,"display_name":"Jan Hrubec"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76769518,"answer_count":3,"score":1,"last_activity_date":1690361982,"creation_date":1690049731,"question_id":76745215,"body_markdown":"I don&#39;t know much about how memory actually works, but I wanted to know if storing the number 28 (5 bits) takes up different amounts of memory when it&#39;s stored as an int, long, short or byte? Does the final keyword limit the memory usage to only the number of bits required?\r\n\r\nI couldn&#39;t think of a way to test this nor did I find anything about this online.","title":"Do datatypes influence how much memory is used? Does the final keyword change it?","body":"<p>I don't know much about how memory actually works, but I wanted to know if storing the number 28 (5 bits) takes up different amounts of memory when it's stored as an int, long, short or byte? Does the final keyword limit the memory usage to only the number of bits required?</p>\n<p>I couldn't think of a way to test this nor did I find anything about this online.</p>\n"},{"tags":["java","android","reactjs","react-native"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690435380,"post_id":76440339,"comment_id":135354008,"body_markdown":"Usually a question that someone posts on this website contains a single question only (and not four questions, as you have done).","body":"Usually a question that someone posts on this website contains a single question only (and not four questions, as you have done)."}],"owner":{"account_id":28772656,"reputation":1,"user_id":22036063,"display_name":"Travoozy Tech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690361822,"creation_date":1686314366,"question_id":76440339,"body_markdown":"How do i integrate the ccavenues payment gateway in react native.\r\n\r\n1. How do encrypt the request using RSA Algorithms?\r\n2. How do decrypt cipher text using AES 128 Algorithms\r\n3. How do  access web services of ccavenue \r\n4. How do integrate it in react native.\r\n\r\nIntegration CCavenue payment gateway in react native","title":"Integration CCavenue PAyment Gateway In React Native","body":"<p>How do i integrate the ccavenues payment gateway in react native.</p>\n<ol>\n<li>How do encrypt the request using RSA Algorithms?</li>\n<li>How do decrypt cipher text using AES 128 Algorithms</li>\n<li>How do  access web services of ccavenue</li>\n<li>How do integrate it in react native.</li>\n</ol>\n<p>Integration CCavenue payment gateway in react native</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":1,"creation_date":1690360380,"post_id":76769137,"comment_id":135341040,"body_markdown":"Please emphasize what the problem is.","body":"Please emphasize what the problem is."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690360831,"creation_date":1690360831,"answer_id":76769417,"question_id":76769137,"body_markdown":"SharedPreferences are designed to persist data between app executions. However, it doesn&#39;t persist app uninstalls. That means that if a user uninstalls and reinstalls the app, the data is lost. So in your case, SharedPreferences might not sound like the best solution. If you want to know if a user clicked at most 2 times in each level regardless if the app is uninstalled then you should save this information in the database.\r\n\r\nIn my opinion, the best option that you have is to save the number of clicks inside the database. Then you can perform a check each time the user clicks on the &quot;Show Answer&quot; option. If the number of clicks is less than two, then you should display the option, otherwise you can hide it, or display a message.\r\n\r\nSo in a Realtime Database, a structure like this will do the trick:\r\n\r\n    db\r\n    |\r\n    --- $uid\r\n         |\r\n         --- $levelId: 1\r\n\r\nWhere the `levelId` is the ID of a level and `1` is the number of clicks.","title":"Save int with SharedPreferences","body":"<p>SharedPreferences are designed to persist data between app executions. However, it doesn't persist app uninstalls. That means that if a user uninstalls and reinstalls the app, the data is lost. So in your case, SharedPreferences might not sound like the best solution. If you want to know if a user clicked at most 2 times in each level regardless if the app is uninstalled then you should save this information in the database.</p>\n<p>In my opinion, the best option that you have is to save the number of clicks inside the database. Then you can perform a check each time the user clicks on the &quot;Show Answer&quot; option. If the number of clicks is less than two, then you should display the option, otherwise you can hide it, or display a message.</p>\n<p>So in a Realtime Database, a structure like this will do the trick:</p>\n<pre><code>db\n|\n--- $uid\n     |\n     --- $levelId: 1\n</code></pre>\n<p>Where the <code>levelId</code> is the ID of a level and <code>1</code> is the number of clicks.</p>\n"}],"owner":{"account_id":28900230,"reputation":23,"user_id":22135379,"display_name":"Twitch Arşivim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76769417,"answer_count":1,"score":-1,"last_activity_date":1690361339,"creation_date":1690358447,"question_id":76769137,"body_markdown":"I want users to be able to use the &quot;Show Reply&quot; feature at most 2 times per level when they purchase the &quot;Remove Ads&quot; item, and to continue this feature with &quot;SharedPreferensces&quot; when the app is closed and back on.\r\n\r\nIn the game, I ensured that &quot;Show Answer&quot; can be clicked at most 2 times in each level, but when you exit the level and enter back or when the game is closed and opened, this disappears and can be pressed 2 times again.\r\n\r\n```\r\npublic class MainActivity extends Activity implements View.OnClickListener {\r\n    \r\n    SharedPreferences preferences;\r\n    Button revealButton, askButton, doneButton;\r\n    SharedPreferences.Editor editor;\r\n    public static final String SHARED_PREFS = &quot;sharedPrefs&quot;;\r\n    private int clicks;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        preferences = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);\r\n        editor = preferences.edit();\r\n        CurrentQuestion = preferences.getInt(&quot;CurrentQuestion&quot; + code, 0);\r\n        currentLevelQuestion = preferences.getInt(&quot;currentLevelQuestion&quot; + code + &quot;_&quot; + branch, 1);\r\n\r\n        //AdMob Ads\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n            }\r\n        });\r\n        //=======Designed for children==========//\r\n        RequestConfiguration requestConfiguration = MobileAds.getRequestConfiguration()\r\n                .toBuilder().setTagForChildDirectedTreatment(TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE)\r\n                .setMaxAdContentRating(MAX_AD_CONTENT_RATING_G)\r\n                .build();\r\n        MobileAds.setRequestConfiguration(requestConfiguration);\r\n//=======================================//\r\n\r\n        mAdView = findViewById(R.id.adView);\r\n        String purchasedItem = preferences.getString(&quot;purchased&quot;, null);\r\n        if (purchasedItem == null) {\r\n            AdRequest adRequest = new AdRequest.Builder()\r\n                    .build();\r\n            mAdView.loadAd(adRequest);\r\n        } else {\r\n            mAdView.setVisibility(View.GONE);\r\n        }\r\n\r\n        loadRewardedAd();\r\n        progressBar = findViewById(R.id.progressBar);\r\n\r\n        //Initialize views\r\n        questionNumberTV = findViewById(R.id.questionNumber);\r\n        scoreTV = findViewById(R.id.score);\r\n        questionTV = findViewById(R.id.questionText);\r\n        LevelNumberTV = findViewById(R.id.level_number);\r\n        revealButton = findViewById(R.id.reveal);\r\n        askButton = findViewById(R.id.ask);\r\n        resetButton = findViewById(R.id.reset);\r\n        skipButton = findViewById(R.id.skip);\r\n        doneButton = findViewById(R.id.done);\r\n        questionImage = findViewById(R.id.questionImage);\r\n        voiceImage = findViewById(R.id.voiceImage);\r\n        answerGridview = findViewById(R.id.answerGridview);\r\n        choicesGridview = findViewById(R.id.choicesGridview);\r\n\r\n        //Scroll textView\r\n        questionTV.setMovementMethod(new ScrollingMovementMethod());\r\n        //Initialize the new question\r\n//        LevelNumberTV.setText(getString(R.string.level) + &quot; &quot; + code);\r\n        retrieveQuestionTile();\r\n        retrieveData();\r\n    }\r\n\r\ncase R.id.reveal:\r\n//                NextQuestion();\r\n                clicks++;\r\n                Log.e(&quot;Click+1&quot;, Integer.toString(clicks));\r\n                Log.e(&quot;Test&quot;, &quot;Click test break&quot;);\r\n                if (isRunning == true) {\r\n                    countDownTimer.cancel();\r\n                    if (tickPlayer != null &amp;&amp; tickPlayer.isPlaying()) {\r\n                        tickPlayer.stop();\r\n                    }\r\n                }if (purchasedItem != null &amp;&amp; clicks &gt;= 2){\r\n                    SharedPreferences prefs = getSharedPreferences(SHARED_PREFS, Context.MODE_PRIVATE);\r\n                    SharedPreferences.Editor editor = prefs.edit();\r\n                    editor.putInt(&quot;clicks&quot;, clicks);\r\n                    editor.apply();\r\n                    revealButton.setEnabled(false);\r\n                    Toast.makeText(this, getString(R.string.purchased_warning), Toast.LENGTH_LONG).show();\r\n                }\r\n                if (purchasedItem == null) {\r\n                    Reveal_Answer_Dialog();\r\n                } else {\r\n                    currentLetter = 0;\r\n                    for (int i = 0; i &lt; answer.length; i++) {\r\n                        String Letter = String.valueOf(answer[i]);\r\n                        char compare = Letter.charAt(0);\r\n                        user_submit_answer[currentLetter] = compare;\r\n                        if (currentLetter + 1 &lt; answer.length) {\r\n                            currentLetter = currentLetter + 1;\r\n                        }\r\n\r\n                        //Update UI\r\n                        recyclerAnswersAdapter = new RecyclerAnswersAdapter(user_submit_answer, this);\r\n                        answerGridview.setAdapter(recyclerAnswersAdapter);\r\n                        recyclerAnswersAdapter.notifyDataSetChanged();\r\n                    }\r\n\r\n                }\r\n                break;\r\npublic void Failed_Level_Dialog() {\r\n    wrongPlayer = MediaPlayer.create(MainActivity.this, R.raw.wrong);\r\n}\r\n\r\n    clicks = 0;\r\npublic void Finish_Level_Dialog() {\r\n    editor.putString(&quot;done&quot; + &quot;_&quot; + code + &quot;_&quot; + branch, &quot;yes&quot;);\r\n    editor.apply();\r\n\r\n    clicks = 0;\r\n}\r\n```\r\n\r\n1. I saved the data as int with SharedPreferences, then I read the data in case: by following the click with ++.\r\n\r\n2. I managed to inactivate the button when the button is pressed after 2 in each level, but this resets when the game comes to the homepage or when the game is closed and opened.","title":"Save int with SharedPreferences","body":"<p>I want users to be able to use the &quot;Show Reply&quot; feature at most 2 times per level when they purchase the &quot;Remove Ads&quot; item, and to continue this feature with &quot;SharedPreferensces&quot; when the app is closed and back on.</p>\n<p>In the game, I ensured that &quot;Show Answer&quot; can be clicked at most 2 times in each level, but when you exit the level and enter back or when the game is closed and opened, this disappears and can be pressed 2 times again.</p>\n<pre><code>public class MainActivity extends Activity implements View.OnClickListener {\n    \n    SharedPreferences preferences;\n    Button revealButton, askButton, doneButton;\n    SharedPreferences.Editor editor;\n    public static final String SHARED_PREFS = &quot;sharedPrefs&quot;;\n    private int clicks;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        preferences = PreferenceManager.getDefaultSharedPreferences(MainActivity.this);\n        editor = preferences.edit();\n        CurrentQuestion = preferences.getInt(&quot;CurrentQuestion&quot; + code, 0);\n        currentLevelQuestion = preferences.getInt(&quot;currentLevelQuestion&quot; + code + &quot;_&quot; + branch, 1);\n\n        //AdMob Ads\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\n            }\n        });\n        //=======Designed for children==========//\n        RequestConfiguration requestConfiguration = MobileAds.getRequestConfiguration()\n                .toBuilder().setTagForChildDirectedTreatment(TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE)\n                .setMaxAdContentRating(MAX_AD_CONTENT_RATING_G)\n                .build();\n        MobileAds.setRequestConfiguration(requestConfiguration);\n//=======================================//\n\n        mAdView = findViewById(R.id.adView);\n        String purchasedItem = preferences.getString(&quot;purchased&quot;, null);\n        if (purchasedItem == null) {\n            AdRequest adRequest = new AdRequest.Builder()\n                    .build();\n            mAdView.loadAd(adRequest);\n        } else {\n            mAdView.setVisibility(View.GONE);\n        }\n\n        loadRewardedAd();\n        progressBar = findViewById(R.id.progressBar);\n\n        //Initialize views\n        questionNumberTV = findViewById(R.id.questionNumber);\n        scoreTV = findViewById(R.id.score);\n        questionTV = findViewById(R.id.questionText);\n        LevelNumberTV = findViewById(R.id.level_number);\n        revealButton = findViewById(R.id.reveal);\n        askButton = findViewById(R.id.ask);\n        resetButton = findViewById(R.id.reset);\n        skipButton = findViewById(R.id.skip);\n        doneButton = findViewById(R.id.done);\n        questionImage = findViewById(R.id.questionImage);\n        voiceImage = findViewById(R.id.voiceImage);\n        answerGridview = findViewById(R.id.answerGridview);\n        choicesGridview = findViewById(R.id.choicesGridview);\n\n        //Scroll textView\n        questionTV.setMovementMethod(new ScrollingMovementMethod());\n        //Initialize the new question\n//        LevelNumberTV.setText(getString(R.string.level) + &quot; &quot; + code);\n        retrieveQuestionTile();\n        retrieveData();\n    }\n\ncase R.id.reveal:\n//                NextQuestion();\n                clicks++;\n                Log.e(&quot;Click+1&quot;, Integer.toString(clicks));\n                Log.e(&quot;Test&quot;, &quot;Click test break&quot;);\n                if (isRunning == true) {\n                    countDownTimer.cancel();\n                    if (tickPlayer != null &amp;&amp; tickPlayer.isPlaying()) {\n                        tickPlayer.stop();\n                    }\n                }if (purchasedItem != null &amp;&amp; clicks &gt;= 2){\n                    SharedPreferences prefs = getSharedPreferences(SHARED_PREFS, Context.MODE_PRIVATE);\n                    SharedPreferences.Editor editor = prefs.edit();\n                    editor.putInt(&quot;clicks&quot;, clicks);\n                    editor.apply();\n                    revealButton.setEnabled(false);\n                    Toast.makeText(this, getString(R.string.purchased_warning), Toast.LENGTH_LONG).show();\n                }\n                if (purchasedItem == null) {\n                    Reveal_Answer_Dialog();\n                } else {\n                    currentLetter = 0;\n                    for (int i = 0; i &lt; answer.length; i++) {\n                        String Letter = String.valueOf(answer[i]);\n                        char compare = Letter.charAt(0);\n                        user_submit_answer[currentLetter] = compare;\n                        if (currentLetter + 1 &lt; answer.length) {\n                            currentLetter = currentLetter + 1;\n                        }\n\n                        //Update UI\n                        recyclerAnswersAdapter = new RecyclerAnswersAdapter(user_submit_answer, this);\n                        answerGridview.setAdapter(recyclerAnswersAdapter);\n                        recyclerAnswersAdapter.notifyDataSetChanged();\n                    }\n\n                }\n                break;\npublic void Failed_Level_Dialog() {\n    wrongPlayer = MediaPlayer.create(MainActivity.this, R.raw.wrong);\n}\n\n    clicks = 0;\npublic void Finish_Level_Dialog() {\n    editor.putString(&quot;done&quot; + &quot;_&quot; + code + &quot;_&quot; + branch, &quot;yes&quot;);\n    editor.apply();\n\n    clicks = 0;\n}\n</code></pre>\n<ol>\n<li><p>I saved the data as int with SharedPreferences, then I read the data in case: by following the click with ++.</p>\n</li>\n<li><p>I managed to inactivate the button when the button is pressed after 2 in each level, but this resets when the game comes to the homepage or when the game is closed and opened.</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690297192,"post_id":76763373,"comment_id":135332010,"body_markdown":"Switch to POST request. Kidding aside, shouldn&#39;t you just register a new tag provider for prometheus instead o trying to filter the parameters, as that will also obfuscate/hide them for controllers etc. Could you add an example of the prometheus output you want to cleanup?","body":"Switch to POST request. Kidding aside, shouldn&#39;t you just register a new tag provider for prometheus instead o trying to filter the parameters, as that will also obfuscate/hide them for controllers etc. Could you add an example of the prometheus output you want to cleanup?"},{"owner":{"account_id":13611409,"reputation":11,"user_id":9818776,"display_name":"Valentin Kohler"},"score":0,"creation_date":1690354686,"post_id":76763373,"comment_id":135339943,"body_markdown":"Thanks, I forgot to add the desired output.. I edited the first post about this. I will check tag provider but we work with the default values of actuator usually!","body":"Thanks, I forgot to add the desired output.. I edited the first post about this. I will check tag provider but we work with the default values of actuator usually!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690368158,"post_id":76763373,"comment_id":135342756,"body_markdown":"I think you might want to have a dedicated one for the web, which only does the `uri` without the parameters **or** which obfuscates the values you want. I think the one without parameters in the `uri` is the easiest.","body":"I think you might want to have a dedicated one for the web, which only does the <code>uri</code> without the parameters <b>or</b> which obfuscates the values you want. I think the one without parameters in the <code>uri</code> is the easiest."}],"owner":{"account_id":13611409,"reputation":11,"user_id":9818776,"display_name":"Valentin Kohler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690361089,"creation_date":1690292738,"question_id":76763373,"body_markdown":"I don&#39;t write here often but I am facing a fun issue.\r\nWe have a spring project 2.5.x with actuator/prometheus enabled.\r\nThere are some get queries that use data we wish to hide(only a subset of the query parameters of a query, not all of them) in /actuator/prometheus as any get request is by default logged with the query parameters (which makes sense). Now I know that all that trouble could be avoided by switching to post but we cannot for the moment.\r\n\r\nHere is what I have right now : \r\n```http_client_requests_seconds_sum{client_name=&quot;client&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test?query=1234&amp;field1=value2&amp;field2=value3&quot;,} 0.050652838```\r\nAnd here is what I would like to obtain: \r\n```http_client_requests_seconds_sum{client_name=&quot;client&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test?query=****&amp;field1=value2&amp;field2=value3&quot;,} 0.050652838```\r\n\r\nThe piece I want to hide is always called query.\r\n\r\nWhat I have tried so far : \r\n - Creating a filter that should filter out the query in the logs : this works but actuator still registers the normal query\r\n\r\n```java\r\n@Component\r\n@Order(1)\r\npublic class QueryParameterSanitizationFilter implements Filter {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n            throws IOException, ServletException {\r\n        if (request instanceof HttpServletRequest) {\r\n            HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n            String requestURI = httpServletRequest.getRequestURI();\r\n\r\n            // List of URIs that require query parameter sanitization\r\n            String[] endpointsToSanitize = {&quot;endpoint1&quot;, &quot;/endpoint2&quot;};\r\n\r\n            if (requiresSanitization(requestURI, endpointsToSanitize)) {\r\n                SanitizedRequestWrapper wrappedRequest = new SanitizedRequestWrapper(httpServletRequest);\r\n                chain.doFilter(wrappedRequest, response);\r\n            } else {\r\n                chain.doFilter(request, response);\r\n            }\r\n        } else {\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\n    // Implement a method to check if the URI requires query parameter sanitization\r\n    private boolean requiresSanitization(String requestURI, String[] endpointsToSanitize) {\r\n        for (String endpoint : endpointsToSanitize) {\r\n            if (requestURI.startsWith(endpoint)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // Custom wrapper to capture the request and modify query parameters\r\n    private static class SanitizedRequestWrapper extends HttpServletRequestWrapper {\r\n        private String sanitizedQueryString;\r\n\r\n        public SanitizedRequestWrapper(HttpServletRequest request) {\r\n            super(request);\r\n            this.sanitizedQueryString = sanitizeQueryParameters(request.getQueryString());\r\n        }\r\n\r\n        @Override\r\n        public String getQueryString() {\r\n            return sanitizedQueryString;\r\n        }\r\n\r\n        private String sanitizeQueryParameters(String queryString) {\r\n            if (queryString != null) {\r\n                String[] params = queryString.split(&quot;&amp;&quot;);\r\n                for (int i = 0; i &lt; params.length; i++) {\r\n                    String param = params[i];\r\n                    if (param.startsWith(&quot;param=&quot;)) {\r\n                        // If it does, replace the value with &quot;***&quot;\r\n                        params[i] = &quot;param=***&quot;;\r\n                    }\r\n                }\r\n                // Reconstruct the sanitized query string\r\n                return String.join(&quot;&amp;&quot;, params);\r\n            }\r\n            return queryString;\r\n        }\r\n    }\r\n}\r\n```\r\nCreating a custom `HttpServletWrapper`, `HandlerInterceptor` and `HandlerInterceptorAdapter`\r\n\r\n\r\n```java    \r\n\r\npublic class QueryParameterSanitizationInterceptor implements HandlerInterceptor {\r\n\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n            throws Exception {\r\n        String requestURI = request.getRequestURI();\r\n\r\n        String[] endpointsToSanitize = {&quot;/endpoint1&quot;,&quot;endpoint2&quot;};\r\n\r\n        if (requiresSanitization(requestURI, endpointsToSanitize)) {\r\n            SanitizedRequestWrapper wrappedRequest = new SanitizedRequestWrapper(request);\r\n            request = wrappedRequest;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private boolean requiresSanitization(String requestURI, String[] endpointsToSanitize) {\r\n        for (String endpoint : endpointsToSanitize) {\r\n            if (requestURI.startsWith(endpoint)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n    \r\n```java    \r\npublic class QueryParameterSanitizationInterceptorAdapter extends HandlerInterceptorAdapter {\r\n\r\n    private final QueryParameterSanitizationInterceptor interceptor;\r\n\r\n    public QueryParameterSanitizationInterceptorAdapter(QueryParameterSanitizationInterceptor interceptor) {\r\n        this.interceptor = interceptor;\r\n    }\r\n\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n            throws Exception {\r\n        return interceptor.preHandle(request, response, handler);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java    \r\npublic class SanitizedRequestWrapper extends HttpServletRequestWrapper {\r\n\r\n    private final String sanitizedQueryString;\r\n\r\n    public SanitizedRequestWrapper(HttpServletRequest request) {\r\n        super(request);\r\n        this.sanitizedQueryString = sanitizeQueryParameters(request.getQueryString());\r\n    }\r\n\r\n    @Override\r\n    public String getQueryString() {\r\n        return sanitizedQueryString;\r\n    }\r\n\r\n    private String sanitizeQueryParameters(String queryString) {\r\n        if (queryString != null) {\r\n            // Split the query string into individual parameter-value pairs\r\n            String[] params = queryString.split(&quot;&amp;&quot;);\r\n            for (int i = 0; i &lt; params.length; i++) {\r\n                String param = params[i];\r\n                // Check if the parameter starts with &quot;query=&quot;\r\n                if (param.startsWith(&quot;query=&quot;)) {\r\n                    // If it does, replace the value with &quot;***&quot;\r\n                    params[i] = &quot;query=***&quot;;\r\n                }\r\n            }\r\n            // Reconstruct the sanitized query string\r\n            return String.join(&quot;&amp;&quot;, params);\r\n        }\r\n        return queryString;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis doesn&#39;t work so well.\r\nAgain I know that everything could be solved if we switched to post requests but for the time being it is not possible.\r\nAnyone has any extra idea?\r\n\r\nThanks in advance\r\n\r\nEdit: \r\n\r\nI fixed the issue by creating a new meterfilter that applies the desired transformation.\r\n","title":"How to override query parameters in actuator/prometheus to hide their values","body":"<p>I don't write here often but I am facing a fun issue.\nWe have a spring project 2.5.x with actuator/prometheus enabled.\nThere are some get queries that use data we wish to hide(only a subset of the query parameters of a query, not all of them) in /actuator/prometheus as any get request is by default logged with the query parameters (which makes sense). Now I know that all that trouble could be avoided by switching to post but we cannot for the moment.</p>\n<p>Here is what I have right now :\n<code>http_client_requests_seconds_sum{client_name=&quot;client&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test?query=1234&amp;field1=value2&amp;field2=value3&quot;,} 0.050652838</code>\nAnd here is what I would like to obtain:\n<code>http_client_requests_seconds_sum{client_name=&quot;client&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test?query=****&amp;field1=value2&amp;field2=value3&quot;,} 0.050652838</code></p>\n<p>The piece I want to hide is always called query.</p>\n<p>What I have tried so far :</p>\n<ul>\n<li>Creating a filter that should filter out the query in the logs : this works but actuator still registers the normal query</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Order(1)\npublic class QueryParameterSanitizationFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        if (request instanceof HttpServletRequest) {\n            HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n            String requestURI = httpServletRequest.getRequestURI();\n\n            // List of URIs that require query parameter sanitization\n            String[] endpointsToSanitize = {&quot;endpoint1&quot;, &quot;/endpoint2&quot;};\n\n            if (requiresSanitization(requestURI, endpointsToSanitize)) {\n                SanitizedRequestWrapper wrappedRequest = new SanitizedRequestWrapper(httpServletRequest);\n                chain.doFilter(wrappedRequest, response);\n            } else {\n                chain.doFilter(request, response);\n            }\n        } else {\n            chain.doFilter(request, response);\n        }\n    }\n\n    // Implement a method to check if the URI requires query parameter sanitization\n    private boolean requiresSanitization(String requestURI, String[] endpointsToSanitize) {\n        for (String endpoint : endpointsToSanitize) {\n            if (requestURI.startsWith(endpoint)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    // Custom wrapper to capture the request and modify query parameters\n    private static class SanitizedRequestWrapper extends HttpServletRequestWrapper {\n        private String sanitizedQueryString;\n\n        public SanitizedRequestWrapper(HttpServletRequest request) {\n            super(request);\n            this.sanitizedQueryString = sanitizeQueryParameters(request.getQueryString());\n        }\n\n        @Override\n        public String getQueryString() {\n            return sanitizedQueryString;\n        }\n\n        private String sanitizeQueryParameters(String queryString) {\n            if (queryString != null) {\n                String[] params = queryString.split(&quot;&amp;&quot;);\n                for (int i = 0; i &lt; params.length; i++) {\n                    String param = params[i];\n                    if (param.startsWith(&quot;param=&quot;)) {\n                        // If it does, replace the value with &quot;***&quot;\n                        params[i] = &quot;param=***&quot;;\n                    }\n                }\n                // Reconstruct the sanitized query string\n                return String.join(&quot;&amp;&quot;, params);\n            }\n            return queryString;\n        }\n    }\n}\n</code></pre>\n<p>Creating a custom <code>HttpServletWrapper</code>, <code>HandlerInterceptor</code> and <code>HandlerInterceptorAdapter</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class QueryParameterSanitizationInterceptor implements HandlerInterceptor {\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception {\n        String requestURI = request.getRequestURI();\n\n        String[] endpointsToSanitize = {&quot;/endpoint1&quot;,&quot;endpoint2&quot;};\n\n        if (requiresSanitization(requestURI, endpointsToSanitize)) {\n            SanitizedRequestWrapper wrappedRequest = new SanitizedRequestWrapper(request);\n            request = wrappedRequest;\n        }\n\n        return true;\n    }\n\n    private boolean requiresSanitization(String requestURI, String[] endpointsToSanitize) {\n        for (String endpoint : endpointsToSanitize) {\n            if (requestURI.startsWith(endpoint)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class QueryParameterSanitizationInterceptorAdapter extends HandlerInterceptorAdapter {\n\n    private final QueryParameterSanitizationInterceptor interceptor;\n\n    public QueryParameterSanitizationInterceptorAdapter(QueryParameterSanitizationInterceptor interceptor) {\n        this.interceptor = interceptor;\n    }\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception {\n        return interceptor.preHandle(request, response, handler);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SanitizedRequestWrapper extends HttpServletRequestWrapper {\n\n    private final String sanitizedQueryString;\n\n    public SanitizedRequestWrapper(HttpServletRequest request) {\n        super(request);\n        this.sanitizedQueryString = sanitizeQueryParameters(request.getQueryString());\n    }\n\n    @Override\n    public String getQueryString() {\n        return sanitizedQueryString;\n    }\n\n    private String sanitizeQueryParameters(String queryString) {\n        if (queryString != null) {\n            // Split the query string into individual parameter-value pairs\n            String[] params = queryString.split(&quot;&amp;&quot;);\n            for (int i = 0; i &lt; params.length; i++) {\n                String param = params[i];\n                // Check if the parameter starts with &quot;query=&quot;\n                if (param.startsWith(&quot;query=&quot;)) {\n                    // If it does, replace the value with &quot;***&quot;\n                    params[i] = &quot;query=***&quot;;\n                }\n            }\n            // Reconstruct the sanitized query string\n            return String.join(&quot;&amp;&quot;, params);\n        }\n        return queryString;\n    }\n}\n</code></pre>\n<p>This doesn't work so well.\nAgain I know that everything could be solved if we switched to post requests but for the time being it is not possible.\nAnyone has any extra idea?</p>\n<p>Thanks in advance</p>\n<p>Edit:</p>\n<p>I fixed the issue by creating a new meterfilter that applies the desired transformation.</p>\n"},{"tags":["java","android","mtp"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1690374973,"post_id":76769441,"comment_id":135344245,"body_markdown":"The service that acts as USB-MTP client is part of the Android system and to my knowledge there is no API to communicate with this service or change it&#39;s behavior. Therefore on an unrooted device I don&#39;t think this is possible, unless you create temporary files or something else the MTP client recognizes.","body":"The service that acts as USB-MTP client is part of the Android system and to my knowledge there is no API to communicate with this service or change it&#39;s behavior. Therefore on an unrooted device I don&#39;t think this is possible, unless you create temporary files or something else the MTP client recognizes."}],"owner":{"account_id":3471187,"reputation":743,"user_id":2926815,"accept_rate":83,"display_name":"Charles Lohr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690361016,"creation_date":1690361016,"question_id":76769441,"body_markdown":"I understand that MTPDevice is used when I want to talk to a downstream device, while the local Android system operates as a host.  But, I am trying to do the opposite.  Are there any facilities to allow devices running on an android device to communicate to a host over MTP?  I.e. with MTPEvents, etc. \r\n\r\nMostly, I am looking for a way to communicate data to a host PC (via libusb, etc.) while the Android device remains in MTP mode.  I am trying to avoid reliance on USB Accessory mode because it is not supported on all Android devices, while MTP support is virtually universal.","title":"Android MTP Device mode communciate with host?","body":"<p>I understand that MTPDevice is used when I want to talk to a downstream device, while the local Android system operates as a host.  But, I am trying to do the opposite.  Are there any facilities to allow devices running on an android device to communicate to a host over MTP?  I.e. with MTPEvents, etc.</p>\n<p>Mostly, I am looking for a way to communicate data to a host PC (via libusb, etc.) while the Android device remains in MTP mode.  I am trying to avoid reliance on USB Accessory mode because it is not supported on all Android devices, while MTP support is virtually universal.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":957801,"reputation":3469,"user_id":982786,"accept_rate":89,"display_name":"Nefariis"},"score":2,"creation_date":1454101205,"post_id":35093819,"comment_id":57909734,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":2578349,"reputation":6772,"user_id":2235567,"accept_rate":90,"display_name":"Aseem Bansal"},"score":0,"creation_date":1454105410,"post_id":35093819,"comment_id":57911705,"body_markdown":"http://stackoverflow.com/help/how-to-ask","body":"<a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":1132070,"reputation":3595,"user_id":1117934,"accept_rate":85,"display_name":"DominicEU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454101302,"creation_date":1454101302,"answer_id":35093998,"question_id":35093819,"body_markdown":"There are a number of issues with this piece of code, including the fact that it does not even compile. You&#39;ve got a good number of syntax issues that are causing this.\r\n\r\nFor example, your local variable declarations inside method ```getConverted(double Metricconvert)``` are broken. I&#39;m not sure exactly what the calculation you wanted should look like, however a more correct method definition would look like this (This is of course based off of the fact you have fields ```Ht``` and ```Wt```, and that they should be class variables.\r\n\r\n    public static void getConverted(double Metricconvert) {\r\n        Ht = Metricconvert * kg;\r\n        Wt = Metricconvert * feet;\r\n    }\r\n\r\nAnother example of a syntactic error is an issue with one of your ```String``` return values (This one: ```A BMI below the range 18.5 to 24.9 is considered  underweight```). You&#39;ve ended that return statement with a closing bracket, and it should be closed with a quotation mark ```&quot;```. \r\n\r\nYou should first fix the syntactical errors in this piece of code, and then work on the other issues, such as incorrect output.\r\n","title":"Writing java bmi and bmr calculator use metric conversion","body":"<p>There are a number of issues with this piece of code, including the fact that it does not even compile. You've got a good number of syntax issues that are causing this.</p>\n\n<p>For example, your local variable declarations inside method <code>getConverted(double Metricconvert)</code> are broken. I'm not sure exactly what the calculation you wanted should look like, however a more correct method definition would look like this (This is of course based off of the fact you have fields <code>Ht</code> and <code>Wt</code>, and that they should be class variables.</p>\n\n<pre><code>public static void getConverted(double Metricconvert) {\n    Ht = Metricconvert * kg;\n    Wt = Metricconvert * feet;\n}\n</code></pre>\n\n<p>Another example of a syntactic error is an issue with one of your <code>String</code> return values (This one: <code>A BMI below the range 18.5 to 24.9 is considered  underweight</code>). You've ended that return statement with a closing bracket, and it should be closed with a quotation mark <code>\"</code>. </p>\n\n<p>You should first fix the syntactical errors in this piece of code, and then work on the other issues, such as incorrect output.</p>\n"}],"owner":{"account_id":7633305,"reputation":1,"user_id":5787628,"display_name":"Ryan M Vidler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1741,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690360370,"creation_date":1454100637,"question_id":35093819,"body_markdown":"I seem to have gotten my self lost in my own programing. directly below is what the outcome is suppose to look like. I am desperately needing help as am new to java coding and becoming quickly aware I am not very good at. Please fill free to correct the code as needed. I learn better when i know what the mistake is. Thank you for any help you can provide.\r\n\r\nThis program implements a Health Assistance Calculator\r\n\r\nGiven a weight, height, and age, it will compute:\r\n\r\n BMI - body mass index\r\n\r\n Calories needed per day to maintain weight\r\n\r\nPlease enter your weight in pounds: 150\r\n\r\nPlease enter your height in inches: 66\r\n\r\nPlease enter your age in years: 30\r\n\r\nYour BMI is 24.3\r\n\r\nA BMI in the range of 18.5 to 24.9 is considered normal\r\n\r\nTo maintain your current weight:\r\n\r\n Men need 2249 calories per day\r\n\r\n Women need 2018 calories per day\r\n\r\nMethod 1: A method to display an explanation of what the program will do to the user.\r\no This method will not have any parameters or return values.\r\nMethod 2: A method to compute a person’s BMI. This method must:\r\no Have 2 parameters: weight in kgs and height in meters\r\no Use the pow method from in the java.Math class to square the height\r\no Return a double value: the calculated BMI\r\nMethods 3 &amp; 4: Two methods to compute the caloric requirements, one for a man and one for a\r\nwoman. Each of these methods must:\r\no Have 3 parameters: weight in kgs, height in meters, and age\r\no Convert the height to centimeters.\r\no Compute the caloric requirements.\r\no Use one of the rounding methods in the java.Math class to round the answer to a whole\r\nnumber before returning it. Note that you may need to use casting to convert the value\r\nreturned from the java.Math method to an integer.\r\no Return an integer value: the daily calories required to maintain current weight\r\nMethod 5: A method to display the results, with no return value. This method must:\r\no Have 3 parameters: a person’s BMI, men’s calories, and women’s calories\r\no Display a description and the BMI, rounded to one decimal place using the printf method\r\nfrom the System.out class\r\no Display the daily calories required to maintain current weight for men\r\no Display the daily calories required to maintain current weight for women\r\n\r\n\r\n    enter code here\r\n\r\n\r\n    package healthy;\r\n    import java.util.*;\r\n    import java.lang.Math;\r\n    public class Healthy {\r\n\r\n    public static void main(String[] args) {\r\n    Scanner console = new Scanner(System.in);\r\n    printIntroduction(); \r\n    double kg = .453592;\r\n    double feet = .3048;        \r\n    double bmi = BMIinput(console);\r\n    double age = InputAge(console);\r\n    double Wt = InputWeight(console);\r\n    double Ht = InputHeight(console);\r\n    double MetricConvert = Metric();\r\n    String status = getStatus(bmi);\r\n    String converted = getConverted(MetricConvert);\r\n    \r\n    }\r\n    //Prints program description\r\n    public static void printIntroduction(){\r\n    System.out.println(&quot;This program Implements a Health Assistance Calculator&quot;)\r\n    System.out.println(&quot;Given a Weight, Height, and age, it will compute: &quot;);\r\n    System.out.println(&quot;    BMI - body mass index&quot;);\r\n    System.out.println(&quot;    Calories needed per day to maintain weight&quot;);\r\n    System.out.println(&quot;&quot;);\r\n    \r\n    } \r\n    //Prompts user to input weight, height and age.\r\n    public static double BMIinput(Scanner console){\r\n        System.out.println(&quot;Please enter your weight in pounds: &quot;);\r\n        double Inputweight = console.nextDouble();\r\n        System.out.println(&quot;please enter your height in inches: &quot;);\r\n        double Inputheight = console.nextDouble();\r\n        System.out.println(&quot;please enter your age in years: &quot;);\r\n        double InputAge = console.nextDouble();\r\n                return BMIto(weight, height);\r\n    }  \r\n    // Calculates BMI based on user inputs\r\n    public static double BMIto(double weight, double height){\r\n        return weight / Math.pow(height, 2);\r\n    }\r\n    // convert input height and weight to metric\r\n    public static String getConverted(double Metricconvert){\r\n        double Ht * kg;\r\n        double Wt * feet;\r\n        return getConverted;\r\n    }\r\n    // displays Users Health status based off of bmi\r\n    public static String getStatus(double bmi) {\r\n\t\tif (bmi &lt; 18.5) {\r\n\t\treturn &quot;A BMI below the range 18.5 to 24.9 is considered  underweight}\r\n\t\t} else if (bmi &lt; 25) {\r\n\t\t\treturn &quot;A BMI in the range of 18.5 to 24.9 is considered normal&quot;;\r\n\t\t} else if (bmi &lt; 30) {\r\n\t\t\treturn &quot;A BMI above range of 18.5 to 24.9 is considered overweight&quot;;\r\n\t\t} else {\r\n\t\t\treturn &quot;A BMI over 30 is obese&quot;;\r\n\t\t}\t\r\n\t}\r\n    } \r\n    public static double round(double value, int digits) {\r\n\treturn Math.round(value * Math.pow(10, digits)) / Math.pow(10, digits);\r\n    }\r\n\r\n    }\r\n","title":"Writing java bmi and bmr calculator use metric conversion","body":"<p>I seem to have gotten my self lost in my own programing. directly below is what the outcome is suppose to look like. I am desperately needing help as am new to java coding and becoming quickly aware I am not very good at. Please fill free to correct the code as needed. I learn better when i know what the mistake is. Thank you for any help you can provide.</p>\n\n<p>This program implements a Health Assistance Calculator</p>\n\n<p>Given a weight, height, and age, it will compute:</p>\n\n<p>BMI - body mass index</p>\n\n<p>Calories needed per day to maintain weight</p>\n\n<p>Please enter your weight in pounds: 150</p>\n\n<p>Please enter your height in inches: 66</p>\n\n<p>Please enter your age in years: 30</p>\n\n<p>Your BMI is 24.3</p>\n\n<p>A BMI in the range of 18.5 to 24.9 is considered normal</p>\n\n<p>To maintain your current weight:</p>\n\n<p>Men need 2249 calories per day</p>\n\n<p>Women need 2018 calories per day</p>\n\n<p>Method 1: A method to display an explanation of what the program will do to the user.\no This method will not have any parameters or return values.\nMethod 2: A method to compute a person’s BMI. This method must:\no Have 2 parameters: weight in kgs and height in meters\no Use the pow method from in the java.Math class to square the height\no Return a double value: the calculated BMI\nMethods 3 &amp; 4: Two methods to compute the caloric requirements, one for a man and one for a\nwoman. Each of these methods must:\no Have 3 parameters: weight in kgs, height in meters, and age\no Convert the height to centimeters.\no Compute the caloric requirements.\no Use one of the rounding methods in the java.Math class to round the answer to a whole\nnumber before returning it. Note that you may need to use casting to convert the value\nreturned from the java.Math method to an integer.\no Return an integer value: the daily calories required to maintain current weight\nMethod 5: A method to display the results, with no return value. This method must:\no Have 3 parameters: a person’s BMI, men’s calories, and women’s calories\no Display a description and the BMI, rounded to one decimal place using the printf method\nfrom the System.out class\no Display the daily calories required to maintain current weight for men\no Display the daily calories required to maintain current weight for women</p>\n\n<pre><code>enter code here\n\n\npackage healthy;\nimport java.util.*;\nimport java.lang.Math;\npublic class Healthy {\n\npublic static void main(String[] args) {\nScanner console = new Scanner(System.in);\nprintIntroduction(); \ndouble kg = .453592;\ndouble feet = .3048;        \ndouble bmi = BMIinput(console);\ndouble age = InputAge(console);\ndouble Wt = InputWeight(console);\ndouble Ht = InputHeight(console);\ndouble MetricConvert = Metric();\nString status = getStatus(bmi);\nString converted = getConverted(MetricConvert);\n\n}\n//Prints program description\npublic static void printIntroduction(){\nSystem.out.println(\"This program Implements a Health Assistance Calculator\")\nSystem.out.println(\"Given a Weight, Height, and age, it will compute: \");\nSystem.out.println(\"    BMI - body mass index\");\nSystem.out.println(\"    Calories needed per day to maintain weight\");\nSystem.out.println(\"\");\n\n} \n//Prompts user to input weight, height and age.\npublic static double BMIinput(Scanner console){\n    System.out.println(\"Please enter your weight in pounds: \");\n    double Inputweight = console.nextDouble();\n    System.out.println(\"please enter your height in inches: \");\n    double Inputheight = console.nextDouble();\n    System.out.println(\"please enter your age in years: \");\n    double InputAge = console.nextDouble();\n            return BMIto(weight, height);\n}  \n// Calculates BMI based on user inputs\npublic static double BMIto(double weight, double height){\n    return weight / Math.pow(height, 2);\n}\n// convert input height and weight to metric\npublic static String getConverted(double Metricconvert){\n    double Ht * kg;\n    double Wt * feet;\n    return getConverted;\n}\n// displays Users Health status based off of bmi\npublic static String getStatus(double bmi) {\n    if (bmi &lt; 18.5) {\n    return \"A BMI below the range 18.5 to 24.9 is considered  underweight}\n    } else if (bmi &lt; 25) {\n        return \"A BMI in the range of 18.5 to 24.9 is considered normal\";\n    } else if (bmi &lt; 30) {\n        return \"A BMI above range of 18.5 to 24.9 is considered overweight\";\n    } else {\n        return \"A BMI over 30 is obese\";\n    }   \n}\n} \npublic static double round(double value, int digits) {\nreturn Math.round(value * Math.pow(10, digits)) / Math.pow(10, digits);\n}\n\n}\n</code></pre>\n"},{"tags":["java","android","java-native-interface"],"comments":[{"owner":{"account_id":3471187,"reputation":743,"user_id":2926815,"accept_rate":83,"display_name":"Charles Lohr"},"score":0,"creation_date":1689633968,"post_id":76700211,"comment_id":135238661,"body_markdown":"For anyone else wondering - you can sort of get a little closer by calling `Looper.loop()` on your thread with the ALooper.    Still not quite there but much closer.","body":"For anyone else wondering - you can sort of get a little closer by calling <code>Looper.loop()</code> on your thread with the ALooper.    Still not quite there but much closer."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1689775702,"post_id":76700211,"comment_id":135261514,"body_markdown":"Why dont you want to use jni interface?","body":"Why dont you want to use jni interface?"},{"owner":{"account_id":3471187,"reputation":743,"user_id":2926815,"accept_rate":83,"display_name":"Charles Lohr"},"score":0,"creation_date":1689973533,"post_id":76700211,"comment_id":135293521,"body_markdown":"Because the JNI ALooper_* interface can&#39;t get messages from Java handlers.  (unless I&#39;m missing something)","body":"Because the JNI ALooper_* interface can&#39;t get messages from Java handlers.  (unless I&#39;m missing something)"}],"answers":[{"tags":[],"owner":{"account_id":3471187,"reputation":743,"user_id":2926815,"accept_rate":83,"display_name":"Charles Lohr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690360179,"creation_date":1690306041,"answer_id":76765198,"question_id":76700211,"body_markdown":"This can be done by manually iterating through the messages, by calling `next` on the looper&#39;s `MessageQueue`.  That way you receive the Java objects and callback yourself that would ordinarily be executed.\r\n\r\nFrom there you can extract the payload and do what you wish without calling a null callback, which would cause everything to break.\r\n\r\nInterpreting the MessagePayload is tricker. In some versions of Android, you can access the b for String and c for byte[] fields of MessagePayload and for others yet, you have to back out one more step and you can access the byte array for the MessagePayload Object.\r\n\r\nI have an example of this here:\r\nhttps://github.com/cnlohr/rawdrawandroid/blob/a77293aadb95f59cb3c2e8987bc976c06bee5a65/test.c#L317-L418\r\n\r\n```c\r\n\tjclass LooperClass = env-&gt;FindClass(envptr, &quot;android/os/Looper&quot;);\r\n\tjmethodID myLooperMethod = env-&gt;GetStaticMethodID(envptr, LooperClass, &quot;myLooper&quot;, &quot;()Landroid/os/Looper;&quot;);\r\n\tjobject thisLooper = env-&gt;CallStaticObjectMethod( envptr, LooperClass, myLooperMethod );\r\n\tif( !thisLooper )\r\n\t{\r\n\t\tjmethodID prepareMethod = env-&gt;GetStaticMethodID(envptr, LooperClass, &quot;prepare&quot;, &quot;()V&quot;);\r\n\t\tenv-&gt;CallStaticVoidMethod( envptr, LooperClass, prepareMethod );\r\n\t\tthisLooper = env-&gt;CallStaticObjectMethod( envptr, LooperClass, myLooperMethod );\r\n\t\tg_attachLooper = env-&gt;NewGlobalRef(envptr, thisLooper);\r\n\t}\r\n\r\n\tjmethodID getQueueMethod = env-&gt;GetMethodID( envptr, LooperClass, &quot;getQueue&quot;, &quot;()Landroid/os/MessageQueue;&quot; );\r\n\tjobject   lque = env-&gt;CallObjectMethod( envptr, g_attachLooper, getQueueMethod );\r\n\r\n\tjclass MessageQueueClass = env-&gt;FindClass(envptr, &quot;android/os/MessageQueue&quot;);\r\n\tjmethodID nextMethod = env-&gt;GetMethodID( envptr, MessageQueueClass, &quot;next&quot;, &quot;()Landroid/os/Message;&quot; );\r\n\t\r\n\tjclass MessageClass = env-&gt;FindClass(envptr, &quot;android/os/Message&quot;);\r\n\tjfieldID objid = env-&gt;GetFieldID( envptr, MessageClass, &quot;obj&quot;, &quot;Ljava/lang/Object;&quot; );\r\n\tjclass PairClass = env-&gt;FindClass(envptr, &quot;android/util/Pair&quot;);\r\n\tjfieldID pairfirst  = env-&gt;GetFieldID( envptr, PairClass, &quot;first&quot;, &quot;Ljava/lang/Object;&quot; );\r\n\r\n\twhile(1)\r\n\t{\r\n\t\t// Instead of using Looper::loop(), we just call next on the looper object.\r\n\t\tjobject msg = env-&gt;CallObjectMethod( envptr, lque, nextMethod );\r\n\t\tjobject innerObj = env-&gt;GetObjectField( envptr, msg, objid );\r\n\t\tconst char * name;\r\n\t\tjstring strObj;\r\n\t\tjclass innerClass;\r\n\t\t\r\n\t\t// Check Object Type\r\n\t\t{\r\n\t\t\tinnerClass = env-&gt;GetObjectClass( envptr, innerObj );\r\n\t\t\tjmethodID mid = env-&gt;GetMethodID( envptr, innerClass, &quot;getClass&quot;, &quot;()Ljava/lang/Class;&quot;);\r\n\t\t\tjobject clsObj = env-&gt;CallObjectMethod( envptr, innerObj, mid );\r\n\t\t\tjclass clazzz = env-&gt;GetObjectClass( envptr, clsObj );\r\n\t\t\tmid = env-&gt;GetMethodID(envptr, clazzz, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\r\n\t\t\tstrObj = (jstring)env-&gt;CallObjectMethod( envptr, clsObj, mid);\r\n\t\t\tname = env-&gt;GetStringUTFChars( envptr, strObj, 0);\r\n\t\t\tenv-&gt;DeleteLocalRef( envptr, clsObj );\r\n\t\t\tenv-&gt;DeleteLocalRef( envptr, clazzz );\r\n\t\t}\r\n\r\n\t\tif( strcmp( name, &quot;z5&quot; ) == 0 )\r\n\t\t{\r\n\t\t\t// Special, Some Androids (notably Meta Quest) use a different private message type.\r\n\t\t\tjfieldID mstrf  = env-&gt;GetFieldID( envptr, innerClass, &quot;a&quot;, &quot;[B&quot; );\r\n\t\t\tjbyteArray jba = (jstring)env-&gt;GetObjectField(envptr, innerObj, mstrf );\r\n\t\t\tint len = env-&gt;GetArrayLength( envptr, jba );\r\n\t\t\tjboolean isCopy = 0;\r\n\t\t\tjbyte * bufferPtr = env-&gt;GetByteArrayElements(envptr, jba, &amp;isCopy);\r\n\r\n\t\t\tif( len &gt;= 6 )\r\n\t\t\t{\r\n\t\t\t\tconst char *descr = (const char*)bufferPtr + 6;\r\n\t\t\t\tchar tcpy[len-5];\r\n\t\t\t\tmemcpy( tcpy, descr, len-6 );\r\n\t\t\t\ttcpy[len-6] = 0;\r\n\t\t\t\tsnprintf( fromJSBuffer, sizeof( fromJSBuffer)-1, &quot;WebMessage: %s\\n&quot;, tcpy );\r\n\r\n\t\t\t\tenv-&gt;DeleteLocalRef( envptr, jba );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tjobject MessagePayload = env-&gt;GetObjectField( envptr, innerObj, pairfirst );\r\n\t\t\t// MessagePayload is a org.chromium.content_public.browser.MessagePayload\r\n\r\n\t\t\tjclass mpclass = env-&gt;GetObjectClass( envptr, MessagePayload );\r\n\r\n\t\t\t// Get field &quot;b&quot; which is the web message payload.\r\n\t\t\t// If you are using binary sockets, it will be in `c` and be a byte array.\r\n\t\t\tjfieldID mstrf  = env-&gt;GetFieldID( envptr, mpclass, &quot;b&quot;, &quot;Ljava/lang/String;&quot; );\r\n\t\t\tjstring strObjDescr = (jstring)env-&gt;GetObjectField(envptr, MessagePayload, mstrf );\r\n\r\n\t\t\tconst char *descr = env-&gt;GetStringUTFChars( envptr, strObjDescr, 0);\r\n\t\t\tsnprintf( fromJSBuffer, sizeof( fromJSBuffer)-1, &quot;WebMessage: %s\\n&quot;, descr );\r\n\r\n\t\t\tenv-&gt;ReleaseStringUTFChars(envptr, strObjDescr, descr);\r\n\t\t\tenv-&gt;DeleteLocalRef( envptr, strObjDescr );\r\n\t\t\tenv-&gt;DeleteLocalRef( envptr, MessagePayload );\r\n\t\t\tenv-&gt;DeleteLocalRef( envptr, mpclass );\r\n\t\t}\r\n\t\tenv-&gt;ReleaseStringUTFChars(envptr, strObj, name);\r\n\t\tenv-&gt;DeleteLocalRef( envptr, strObj );\r\n\t\tenv-&gt;DeleteLocalRef( envptr, msg );\r\n\t\tenv-&gt;DeleteLocalRef( envptr, innerObj );\r\n\t\tenv-&gt;DeleteLocalRef( envptr, innerClass );\r\n\t}\r\n}\r\n```\r\n","title":"Android NativeActivity receiving android/os/Handler","body":"<p>This can be done by manually iterating through the messages, by calling <code>next</code> on the looper's <code>MessageQueue</code>.  That way you receive the Java objects and callback yourself that would ordinarily be executed.</p>\n<p>From there you can extract the payload and do what you wish without calling a null callback, which would cause everything to break.</p>\n<p>Interpreting the MessagePayload is tricker. In some versions of Android, you can access the b for String and c for byte[] fields of MessagePayload and for others yet, you have to back out one more step and you can access the byte array for the MessagePayload Object.</p>\n<p>I have an example of this here:\n<a href=\"https://github.com/cnlohr/rawdrawandroid/blob/a77293aadb95f59cb3c2e8987bc976c06bee5a65/test.c#L317-L418\" rel=\"nofollow noreferrer\">https://github.com/cnlohr/rawdrawandroid/blob/a77293aadb95f59cb3c2e8987bc976c06bee5a65/test.c#L317-L418</a></p>\n<pre class=\"lang-c prettyprint-override\"><code>    jclass LooperClass = env-&gt;FindClass(envptr, &quot;android/os/Looper&quot;);\n    jmethodID myLooperMethod = env-&gt;GetStaticMethodID(envptr, LooperClass, &quot;myLooper&quot;, &quot;()Landroid/os/Looper;&quot;);\n    jobject thisLooper = env-&gt;CallStaticObjectMethod( envptr, LooperClass, myLooperMethod );\n    if( !thisLooper )\n    {\n        jmethodID prepareMethod = env-&gt;GetStaticMethodID(envptr, LooperClass, &quot;prepare&quot;, &quot;()V&quot;);\n        env-&gt;CallStaticVoidMethod( envptr, LooperClass, prepareMethod );\n        thisLooper = env-&gt;CallStaticObjectMethod( envptr, LooperClass, myLooperMethod );\n        g_attachLooper = env-&gt;NewGlobalRef(envptr, thisLooper);\n    }\n\n    jmethodID getQueueMethod = env-&gt;GetMethodID( envptr, LooperClass, &quot;getQueue&quot;, &quot;()Landroid/os/MessageQueue;&quot; );\n    jobject   lque = env-&gt;CallObjectMethod( envptr, g_attachLooper, getQueueMethod );\n\n    jclass MessageQueueClass = env-&gt;FindClass(envptr, &quot;android/os/MessageQueue&quot;);\n    jmethodID nextMethod = env-&gt;GetMethodID( envptr, MessageQueueClass, &quot;next&quot;, &quot;()Landroid/os/Message;&quot; );\n    \n    jclass MessageClass = env-&gt;FindClass(envptr, &quot;android/os/Message&quot;);\n    jfieldID objid = env-&gt;GetFieldID( envptr, MessageClass, &quot;obj&quot;, &quot;Ljava/lang/Object;&quot; );\n    jclass PairClass = env-&gt;FindClass(envptr, &quot;android/util/Pair&quot;);\n    jfieldID pairfirst  = env-&gt;GetFieldID( envptr, PairClass, &quot;first&quot;, &quot;Ljava/lang/Object;&quot; );\n\n    while(1)\n    {\n        // Instead of using Looper::loop(), we just call next on the looper object.\n        jobject msg = env-&gt;CallObjectMethod( envptr, lque, nextMethod );\n        jobject innerObj = env-&gt;GetObjectField( envptr, msg, objid );\n        const char * name;\n        jstring strObj;\n        jclass innerClass;\n        \n        // Check Object Type\n        {\n            innerClass = env-&gt;GetObjectClass( envptr, innerObj );\n            jmethodID mid = env-&gt;GetMethodID( envptr, innerClass, &quot;getClass&quot;, &quot;()Ljava/lang/Class;&quot;);\n            jobject clsObj = env-&gt;CallObjectMethod( envptr, innerObj, mid );\n            jclass clazzz = env-&gt;GetObjectClass( envptr, clsObj );\n            mid = env-&gt;GetMethodID(envptr, clazzz, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\n            strObj = (jstring)env-&gt;CallObjectMethod( envptr, clsObj, mid);\n            name = env-&gt;GetStringUTFChars( envptr, strObj, 0);\n            env-&gt;DeleteLocalRef( envptr, clsObj );\n            env-&gt;DeleteLocalRef( envptr, clazzz );\n        }\n\n        if( strcmp( name, &quot;z5&quot; ) == 0 )\n        {\n            // Special, Some Androids (notably Meta Quest) use a different private message type.\n            jfieldID mstrf  = env-&gt;GetFieldID( envptr, innerClass, &quot;a&quot;, &quot;[B&quot; );\n            jbyteArray jba = (jstring)env-&gt;GetObjectField(envptr, innerObj, mstrf );\n            int len = env-&gt;GetArrayLength( envptr, jba );\n            jboolean isCopy = 0;\n            jbyte * bufferPtr = env-&gt;GetByteArrayElements(envptr, jba, &amp;isCopy);\n\n            if( len &gt;= 6 )\n            {\n                const char *descr = (const char*)bufferPtr + 6;\n                char tcpy[len-5];\n                memcpy( tcpy, descr, len-6 );\n                tcpy[len-6] = 0;\n                snprintf( fromJSBuffer, sizeof( fromJSBuffer)-1, &quot;WebMessage: %s\\n&quot;, tcpy );\n\n                env-&gt;DeleteLocalRef( envptr, jba );\n            }\n        }\n        else\n        {\n            jobject MessagePayload = env-&gt;GetObjectField( envptr, innerObj, pairfirst );\n            // MessagePayload is a org.chromium.content_public.browser.MessagePayload\n\n            jclass mpclass = env-&gt;GetObjectClass( envptr, MessagePayload );\n\n            // Get field &quot;b&quot; which is the web message payload.\n            // If you are using binary sockets, it will be in `c` and be a byte array.\n            jfieldID mstrf  = env-&gt;GetFieldID( envptr, mpclass, &quot;b&quot;, &quot;Ljava/lang/String;&quot; );\n            jstring strObjDescr = (jstring)env-&gt;GetObjectField(envptr, MessagePayload, mstrf );\n\n            const char *descr = env-&gt;GetStringUTFChars( envptr, strObjDescr, 0);\n            snprintf( fromJSBuffer, sizeof( fromJSBuffer)-1, &quot;WebMessage: %s\\n&quot;, descr );\n\n            env-&gt;ReleaseStringUTFChars(envptr, strObjDescr, descr);\n            env-&gt;DeleteLocalRef( envptr, strObjDescr );\n            env-&gt;DeleteLocalRef( envptr, MessagePayload );\n            env-&gt;DeleteLocalRef( envptr, mpclass );\n        }\n        env-&gt;ReleaseStringUTFChars(envptr, strObj, name);\n        env-&gt;DeleteLocalRef( envptr, strObj );\n        env-&gt;DeleteLocalRef( envptr, msg );\n        env-&gt;DeleteLocalRef( envptr, innerObj );\n        env-&gt;DeleteLocalRef( envptr, innerClass );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3471187,"reputation":743,"user_id":2926815,"accept_rate":83,"display_name":"Charles Lohr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76765198,"answer_count":1,"score":0,"last_activity_date":1690360179,"creation_date":1689537891,"question_id":76700211,"body_markdown":"My goal is to receive a message via `WebMessagePort.setWebMessageCallback( 0, MyHandler )` in JNI land.\r\n\r\nLike a similar mechanism to running code on the UI thread, I am hoping to use `ALooper_addFd` - except - that I don&#39;t see any clear mechanism to get the raw event that is called back on the looper, even when I entangle the ALooper and the thread&#39;s current looper (By creating a Looper object first, then calling `ALooper_forThread()`.\r\n\r\nI am able to create a handler that is attached to the Looper I&#39;ve created in this way, but, I do not seem to be able to have any way to receive the raw `Handler` object in my NativeActivity C code.  \r\n\r\nIt seems strange that you can entangle ALooper&#39;s with Loopers, for instance so you can run codeon the UI thread, but that they remain eerily distant from one another.\r\n\r\nIs there some mechanism to getting the Java side of the Looper to notify the C code of an event&#39;s execution, preferably through the file IO pipes or other activity events? I.e. via the NativeActivity&#39;s callbacks?","title":"Android NativeActivity receiving android/os/Handler","body":"<p>My goal is to receive a message via <code>WebMessagePort.setWebMessageCallback( 0, MyHandler )</code> in JNI land.</p>\n<p>Like a similar mechanism to running code on the UI thread, I am hoping to use <code>ALooper_addFd</code> - except - that I don't see any clear mechanism to get the raw event that is called back on the looper, even when I entangle the ALooper and the thread's current looper (By creating a Looper object first, then calling <code>ALooper_forThread()</code>.</p>\n<p>I am able to create a handler that is attached to the Looper I've created in this way, but, I do not seem to be able to have any way to receive the raw <code>Handler</code> object in my NativeActivity C code.</p>\n<p>It seems strange that you can entangle ALooper's with Loopers, for instance so you can run codeon the UI thread, but that they remain eerily distant from one another.</p>\n<p>Is there some mechanism to getting the Java side of the Looper to notify the C code of an event's execution, preferably through the file IO pipes or other activity events? I.e. via the NativeActivity's callbacks?</p>\n"},{"tags":["java","image","swing","icons"],"comments":[{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1392576388,"post_id":21815271,"comment_id":33015302,"body_markdown":"Please have a look at how to [add images to your Project in Java Swing](http://stackoverflow.com/a/9866659/1057230). Hope it might be able to help you in some way :-)","body":"Please have a look at how to <a href=\"http://stackoverflow.com/a/9866659/1057230\">add images to your Project in Java Swing</a>. Hope it might be able to help you in some way :-)"}],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1392575549,"post_id":21815503,"comment_id":33014959,"body_markdown":"+1, but a link to the tutorial is always nice so the OP can understand why the code should work. See [How to Use Icons](http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html) from the Swing tutorial for more information why the above might work. Note, the tutorial doesn&#39;t use the leading &quot;/&quot; for the file path.","body":"+1, but a link to the tutorial is always nice so the OP can understand why the code should work. See <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html\" rel=\"nofollow noreferrer\">How to Use Icons</a> from the Swing tutorial for more information why the above might work. Note, the tutorial doesn&#39;t use the leading &quot;/&quot; for the file path."}],"tags":[],"owner":{"account_id":3971442,"reputation":265,"user_id":3275953,"display_name":"Ahmed.ess"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392575205,"creation_date":1392575151,"answer_id":21815503,"question_id":21815271,"body_markdown":"try this ;)  \r\n\r\n    JLabel lim= new JLabel();\r\n    lim.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/image/images.jpg&quot;)));\r\n\r\n","title":"Pictures are not shown in JLabel in running time","body":"<p>try this ;)  </p>\n\n<pre><code>JLabel lim= new JLabel();\nlim.setIcon(new javax.swing.ImageIcon(getClass().getResource(\"/image/images.jpg\")));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3350900"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393326491,"creation_date":1393326491,"answer_id":22012353,"question_id":21815271,"body_markdown":"\r\npublic class Decompress {\r\n    public static void main(String[] args) throws FileNotFoundException, IOException {\r\n      \r\n     FileOutputStream fout=new FileOutputStream(&quot;D://qq.txt&quot;);\r\n        FileInputStream fin=new FileInputStream(&quot;D://kk.txt&quot;);\r\n        InflaterInputStream in=new InflaterInputStream(fin);\r\n        int i;\r\n        while((i=in.read())!=-1)\r\n        {\r\n            fout.write((byte)i);\r\n            fout.flush();\r\n            \r\n        }\r\n        fout.close();\r\n        fin.close();\r\n        in.close();\r\n    }\r\n    \r\n}\r\n","title":"Pictures are not shown in JLabel in running time","body":"<p>public class Decompress {\n    public static void main(String[] args) throws FileNotFoundException, IOException {</p>\n\n<pre><code> FileOutputStream fout=new FileOutputStream(\"D://qq.txt\");\n    FileInputStream fin=new FileInputStream(\"D://kk.txt\");\n    InflaterInputStream in=new InflaterInputStream(fin);\n    int i;\n    while((i=in.read())!=-1)\n    {\n        fout.write((byte)i);\n        fout.flush();\n\n    }\n    fout.close();\n    fin.close();\n    in.close();\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":4023525,"reputation":13,"user_id":3312825,"display_name":"Rakan 210"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690360015,"creation_date":1392574047,"question_id":21815271,"body_markdown":"Welcome to you all\r\n\r\nI have a slight problem with adding pictures ta JFrame , I&#39;m trying to add a picture to a JLable. It works fine in the simulater, when I&#39;m using Swing Packet in Eclipcs program. However, when I try to run the program, the image disappear completely?!!\r\n\r\nsee the pic here : http://im33.gulfup.com/yf7PH.jpg \r\n\r\nHere is part of my code :\r\n\r\n    JLabel Pic1 = new JLabel(&quot;&quot;);\r\n\t\tPic1.setIcon(new ImageIcon(&quot;C:\\\\Users\\\\Al- Yamani\\\\Downloads\\\\DSC_0243.bmp&quot;));\r\n\t\tPic1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tPic1.setBounds(290, 11, 75, 42);\r\n\t\tcontentPane.add(Pic1);\r\n\r\n \r\n\r\nI do not know what is the problem?! \r\n\r\nAlso, when I try to add an icon on the title bar, it did not show as well!\r\n\r\n    setIconImage(Toolkit.getDefaultToolkit().getImage(&quot;C:\\\\Users\\\\user\\\\Pictures\\\\gifts-icon.png&quot;));\r\n\r\n^^ Both codes are in my constracter body:  `public JFrameName(){.....}`\r\n\r\n\r\n ","title":"Pictures are not shown in JLabel in running time","body":"<p>Welcome to you all</p>\n\n<p>I have a slight problem with adding pictures ta JFrame , I'm trying to add a picture to a JLable. It works fine in the simulater, when I'm using Swing Packet in Eclipcs program. However, when I try to run the program, the image disappear completely?!!</p>\n\n<p>see the pic here : <a href=\"http://im33.gulfup.com/yf7PH.jpg\" rel=\"nofollow\">http://im33.gulfup.com/yf7PH.jpg</a> </p>\n\n<p>Here is part of my code :</p>\n\n<pre><code>JLabel Pic1 = new JLabel(\"\");\n    Pic1.setIcon(new ImageIcon(\"C:\\\\Users\\\\Al- Yamani\\\\Downloads\\\\DSC_0243.bmp\"));\n    Pic1.setHorizontalAlignment(SwingConstants.CENTER);\n    Pic1.setBounds(290, 11, 75, 42);\n    contentPane.add(Pic1);\n</code></pre>\n\n<p>I do not know what is the problem?! </p>\n\n<p>Also, when I try to add an icon on the title bar, it did not show as well!</p>\n\n<pre><code>setIconImage(Toolkit.getDefaultToolkit().getImage(\"C:\\\\Users\\\\user\\\\Pictures\\\\gifts-icon.png\"));\n</code></pre>\n\n<p>^^ Both codes are in my constracter body:  <code>public JFrameName(){.....}</code></p>\n"},{"tags":["java","spring-boot","automated-tests","junit5","junit-jupiter"],"answers":[{"comments":[{"owner":{"account_id":2636809,"reputation":393,"user_id":2281246,"accept_rate":40,"display_name":"dnWick"},"score":0,"creation_date":1690496859,"post_id":76769271,"comment_id":135366116,"body_markdown":"Thanks @johanneslink for the comment. Ya that is what I have done to pass a object with simple data. For other one time objects like http client object etc I used a static container to provide them for now.","body":"Thanks @johanneslink for the comment. Ya that is what I have done to pass a object with simple data. For other one time objects like http client object etc I used a static container to provide them for now."}],"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690359532,"creation_date":1690359532,"answer_id":76769271,"question_id":76767749,"body_markdown":"The JUnit API only allows String values as configuration parameters in the launcher. The reason is that discovering and launching tests potentially runs in a different JVM and process than test engine execution. All IDEs I&#39;m aware of do that for instance. \r\n\r\nPassing objects would therefore require some kind of (de-)serialization mechanism in order to transport them from one JVM to another. Sadly, Java has no reliable, generic and safe serialization mechanism.\r\n\r\nWhat you could do:\r\n- Serialize your complex object yourself into a String and use it as configuration parameter.\r\n- Unserialize it in your parameter resolver implementation.\r\n","title":"JUnit 5 when using JUnit Platform Launcher API how to pass a custom object to running test method which is annotated with @TestFactory","body":"<p>The JUnit API only allows String values as configuration parameters in the launcher. The reason is that discovering and launching tests potentially runs in a different JVM and process than test engine execution. All IDEs I'm aware of do that for instance.</p>\n<p>Passing objects would therefore require some kind of (de-)serialization mechanism in order to transport them from one JVM to another. Sadly, Java has no reliable, generic and safe serialization mechanism.</p>\n<p>What you could do:</p>\n<ul>\n<li>Serialize your complex object yourself into a String and use it as configuration parameter.</li>\n<li>Unserialize it in your parameter resolver implementation.</li>\n</ul>\n"}],"owner":{"account_id":2636809,"reputation":393,"user_id":2281246,"accept_rate":40,"display_name":"dnWick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690359532,"creation_date":1690340369,"question_id":76767749,"body_markdown":"I&#39;m trying to run a series of tests dynamically. Imagine a scenario from main class I will be creating a launcher as below,\r\n\r\n        Launcher launcher = LauncherFactory.create();\r\n        \r\n        LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request().\r\n                                configurationParameter(META_TEST_INFORMATION_KEY, serializedString).\r\n    selectors(selectPackage(&quot;my.package&quot;)).build();\r\n\r\nAs you can see in the configurationParameter(META_TEST_INFORMATION_KEY, serializedString) section right now I have serialize a whole object and sent as it only supports String. But I need to pass a complex object like a FeignClient , JdbcClient etc (Which cannot be serialized) to the test class method below,\r\n\r\n    @ExtendWith(CustomParameterResolver.class)\r\n    public class JUnitTestRunner {\r\n    \r\n        private static final Logger log = LogManager.getLogger(JUnitTestRunner.class);\r\n    \r\n        @TestFactory\r\n        Collection&lt;DynamicTest&gt; dynamicTestCollection(String data) throws TestFrameworkException {\r\n            TestMetaData metaData = deserializeObject(data);\r\n            List&lt;DynamicTest&gt; testList = new ArrayList&lt;&gt;();\r\n    \r\n            for (int i = 0; i &lt; metaData.getGroupedOrderedTestCases().size(); i++) {\r\n    \r\n                TestCaseMetaInfo testCaseMetaInfo = metaData.getMapOfNumberedTestCaseMetaInfo().\r\n                        get(metaData.getGroupedOrderedTestCases().get(i));\r\n                testList.add(DynamicTest.dynamicTest(\r\n                        testCaseMetaInfo.getName(),\r\n                        () -&gt; {\r\n                            log.info(&quot;Running TEST Number &quot; + testCaseMetaInfo.getCaseNumber());\r\n    \r\n                        }));\r\n            }\r\n            return testList;\r\n        }\r\n    \r\n    }\r\n\r\nBelow is my CustomParameterResolver,\r\n\r\n    public class CustomParameterResolver implements ParameterResolver {\r\n    \r\n        private static final Logger log = LogManager.getLogger(CustomParameterResolver.class);\r\n        @Override\r\n        public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) {\r\n            return parameterContext.getParameter().getType() == String.class;\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\r\n                throws ParameterResolutionException {\r\n            return extensionContext.getConfigurationParameter(META_TEST_INFORMATION_KEY).orElse(&quot;&quot;);\r\n        }\r\n    }\r\n\r\nIm not sure whether my approach is wrong but right now I only saw how to pass a string. Not a complex object. My ultimate goal is run series of tests using provided http client and a database client without creating them every time for each series of tests. Can you please help me with this.","title":"JUnit 5 when using JUnit Platform Launcher API how to pass a custom object to running test method which is annotated with @TestFactory","body":"<p>I'm trying to run a series of tests dynamically. Imagine a scenario from main class I will be creating a launcher as below,</p>\n<pre><code>    Launcher launcher = LauncherFactory.create();\n    \n    LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request().\n                            configurationParameter(META_TEST_INFORMATION_KEY, serializedString).\nselectors(selectPackage(&quot;my.package&quot;)).build();\n</code></pre>\n<p>As you can see in the configurationParameter(META_TEST_INFORMATION_KEY, serializedString) section right now I have serialize a whole object and sent as it only supports String. But I need to pass a complex object like a FeignClient , JdbcClient etc (Which cannot be serialized) to the test class method below,</p>\n<pre><code>@ExtendWith(CustomParameterResolver.class)\npublic class JUnitTestRunner {\n\n    private static final Logger log = LogManager.getLogger(JUnitTestRunner.class);\n\n    @TestFactory\n    Collection&lt;DynamicTest&gt; dynamicTestCollection(String data) throws TestFrameworkException {\n        TestMetaData metaData = deserializeObject(data);\n        List&lt;DynamicTest&gt; testList = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; metaData.getGroupedOrderedTestCases().size(); i++) {\n\n            TestCaseMetaInfo testCaseMetaInfo = metaData.getMapOfNumberedTestCaseMetaInfo().\n                    get(metaData.getGroupedOrderedTestCases().get(i));\n            testList.add(DynamicTest.dynamicTest(\n                    testCaseMetaInfo.getName(),\n                    () -&gt; {\n                        log.info(&quot;Running TEST Number &quot; + testCaseMetaInfo.getCaseNumber());\n\n                    }));\n        }\n        return testList;\n    }\n\n}\n</code></pre>\n<p>Below is my CustomParameterResolver,</p>\n<pre><code>public class CustomParameterResolver implements ParameterResolver {\n\n    private static final Logger log = LogManager.getLogger(CustomParameterResolver.class);\n    @Override\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) {\n        return parameterContext.getParameter().getType() == String.class;\n    }\n\n    @Override\n    public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\n            throws ParameterResolutionException {\n        return extensionContext.getConfigurationParameter(META_TEST_INFORMATION_KEY).orElse(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>Im not sure whether my approach is wrong but right now I only saw how to pass a string. Not a complex object. My ultimate goal is run series of tests using provided http client and a database client without creating them every time for each series of tests. Can you please help me with this.</p>\n"},{"tags":["java","timer","scheduling","scheduledexecutorservice"],"comments":[{"owner":{"account_id":2892776,"reputation":3221,"user_id":2481153,"display_name":"HungNM2"},"score":0,"creation_date":1652492309,"post_id":48956511,"comment_id":127626312,"body_markdown":"Timer is an implement Class.  ScheduledExecutorService is an interface without implementation. So we should compare Timer vs ScheduledThreadPoolExecutor which is an implementation class of ScheduledExecutorService interface","body":"Timer is an implement Class.  ScheduledExecutorService is an interface without implementation. So we should compare Timer vs ScheduledThreadPoolExecutor which is an implementation class of ScheduledExecutorService interface"}],"answers":[{"comments":[{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":1,"creation_date":1519423130,"post_id":48956564,"comment_id":84920503,"body_markdown":"Yes, so it seems, but it is not directly mentioned in any comparative discussion I have found, hence the question. Thanks. :-)","body":"Yes, so it seems, but it is not directly mentioned in any comparative discussion I have found, hence the question. Thanks. :-)"}],"tags":[],"owner":{"account_id":10555285,"reputation":1221,"user_id":7776688,"display_name":"IEE1394"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690359443,"creation_date":1519421886,"answer_id":48956564,"question_id":48956511,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\r\n\r\n&gt; Creates and executes a periodic action that becomes enabled first\r\n&gt; after the given initial delay, and subsequently with the given delay\r\n&gt; between the termination of one execution and the commencement of the\r\n&gt; next.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Timer.html#schedule(java.util.TimerTask,%20long,%20long)\r\n\r\n&gt; Schedules the specified task for repeated fixed-delay execution,\r\n&gt; beginning after the specified delay. Subsequent executions take place\r\n&gt; at approximately regular intervals separated by the specified period.\r\n\r\nI would say - Yes ;-)","title":"Timer vs. ScheduledExecutorService scheduling","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit)</a></p>\n<blockquote>\n<p>Creates and executes a periodic action that becomes enabled first\nafter the given initial delay, and subsequently with the given delay\nbetween the termination of one execution and the commencement of the\nnext.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html#schedule(java.util.TimerTask,%20long,%20long)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html#schedule(java.util.TimerTask,%20long,%20long)</a></p>\n<blockquote>\n<p>Schedules the specified task for repeated fixed-delay execution,\nbeginning after the specified delay. Subsequent executions take place\nat approximately regular intervals separated by the specified period.</p>\n</blockquote>\n<p>I would say - Yes ;-)</p>\n"},{"tags":[],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649409354,"creation_date":1649409354,"answer_id":71794510,"question_id":48956511,"body_markdown":"[`Timer#schedule(TimerTask, long, long)`][1] has no counterpart in [`ScheduledExecutorService`][2] or its implementation [`ScheduledThreadPoolExecutor`][3]. Although this method is documented as\r\n\r\n&gt; repeated fixed-delay execution,\r\n\r\nit bahaves fundamentally different than [`ScheduledThreadPoolExecutor#scheduleWithFixedDelay(...)`][4] and let alone [`ScheduledThreadPoolExecutor#scheduleAtFixedRate(...)`][5]. I have explained the difference between all these methods more detailed as part of [this answer][6].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Timer.html#schedule(java.util.TimerTask,long,long)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\r\n  [3]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html\r\n  [4]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\r\n  [5]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\r\n  [6]: https://stackoverflow.com/a/71761712/3882565","title":"Timer vs. ScheduledExecutorService scheduling","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Timer.html#schedule(java.util.TimerTask,long,long)\" rel=\"nofollow noreferrer\"><code>Timer#schedule(TimerTask, long, long)</code></a> has no counterpart in <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a> or its implementation <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ScheduledThreadPoolExecutor</code></a>. Although this method is documented as</p>\n<blockquote>\n<p>repeated fixed-delay execution,</p>\n</blockquote>\n<p>it bahaves fundamentally different than <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>ScheduledThreadPoolExecutor#scheduleWithFixedDelay(...)</code></a> and let alone <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>ScheduledThreadPoolExecutor#scheduleAtFixedRate(...)</code></a>. I have explained the difference between all these methods more detailed as part of <a href=\"https://stackoverflow.com/a/71761712/3882565\">this answer</a>.</p>\n"}],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5366,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1690359443,"creation_date":1519421555,"question_id":48956511,"body_markdown":"One of the recommended uses of the [ScheduledExecutorService][1] is as a direct replacement for the [Timer][2] class, as discussed in numerous `StackOverflow` topics already:\r\n\r\n - [Java Timer vs ExecutorService?][3]\r\n - [Difference between TimerTask and Executors.newScheduledThreadPool(1)][3]\r\n - [What is the difference between schedule and scheduleAtFixedRate?][4]\r\n - [Android Timer schedule vs scheduleAtFixedRate][5]\r\n\r\nHowever, the naming conventions of the methods supported by `ScheduledExecutorService` and `Timer`, are not identical. For example, whereas they both have a `scheduleAtFixedRate()` method, the Timer method\r\n\r\n - schedule​(TimerTask task, long delay, long period)\r\n\r\ndoes not have a namesake counterpart.\r\n\r\nIs the `ScheduledExecutorService` method\r\n\r\n - scheduleWithFixedDelay​(Runnable command, long initialDelay, long delay, TimeUnit unit)\r\n\r\nthe one to use instead?\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/Timer.html\r\n  [3]: https://stackoverflow.com/questions/409932/java-timer-vs-executorservice\r\n  [4]: https://stackoverflow.com/questions/22486997/what-is-the-difference-between-schedule-and-scheduleatfixedrate\r\n  [5]: https://stackoverflow.com/questions/12684604/android-timer-schedule-vs-scheduleatfixedrate","title":"Timer vs. ScheduledExecutorService scheduling","body":"<p>One of the recommended uses of the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a> is as a direct replacement for the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Timer.html\" rel=\"nofollow noreferrer\">Timer</a> class, as discussed in numerous <code>StackOverflow</code> topics already:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/409932/java-timer-vs-executorservice\">Java Timer vs ExecutorService?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/409932/java-timer-vs-executorservice\">Difference between TimerTask and Executors.newScheduledThreadPool(1)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/22486997/what-is-the-difference-between-schedule-and-scheduleatfixedrate\">What is the difference between schedule and scheduleAtFixedRate?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12684604/android-timer-schedule-vs-scheduleatfixedrate\">Android Timer schedule vs scheduleAtFixedRate</a></li>\n</ul>\n\n<p>However, the naming conventions of the methods supported by <code>ScheduledExecutorService</code> and <code>Timer</code>, are not identical. For example, whereas they both have a <code>scheduleAtFixedRate()</code> method, the Timer method</p>\n\n<ul>\n<li>schedule​(TimerTask task, long delay, long period)</li>\n</ul>\n\n<p>does not have a namesake counterpart.</p>\n\n<p>Is the <code>ScheduledExecutorService</code> method</p>\n\n<ul>\n<li>scheduleWithFixedDelay​(Runnable command, long initialDelay, long delay, TimeUnit unit)</li>\n</ul>\n\n<p>the one to use instead?</p>\n"},{"tags":["java","spring-boot","gradle","environment-variables","jetbrains-fleet"],"answers":[{"tags":[],"owner":{"account_id":6307621,"reputation":309,"user_id":4900235,"display_name":"Jadson Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666140280,"creation_date":1666140280,"answer_id":74118779,"question_id":74118778,"body_markdown":"\r\nAfter try a lot, I found a solution:\r\n\r\n - Run -&gt;  Create a run configuration in run.json ...\r\n - Add a &quot;configurations&quot;, then type &quot;gradle&quot; (to Fleet autocomplete it).\r\n - In &quot;tasks&quot; list, type &quot;bootRun&quot;.\r\n - And, at last, incluse the environment object with your variables values.\r\n\r\nThe final run.json file should stay like this:\r\n\r\n```\r\n{\r\n  &quot;configurations&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;run app&quot;,\r\n      &quot;type&quot;: &quot;gradle&quot;,\r\n      &quot;tasks&quot;: [\r\n        &quot;bootRun&quot;\r\n      ],\r\n      &quot;environment&quot;: {\r\n        &quot;DATABASE_URL&quot; : &quot;jdbc:postgresql://localhost:5432/test&quot;,\r\n        &quot;DATABASE_USER&quot; : &quot;Postgres&quot;,\r\n        &quot;DATABASE_PASSWORD&quot; : &quot;Postgres&quot;\r\n      },\r\n    }\r\n  ],\r\n\r\n}\r\n```\r\n\r\n - Now, go to &quot;Run&quot; again and will appear a option &quot;run app&quot; to execute your application using environment variable.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uBLly.png","title":"Run Spring Boot Application in JetBrain Fleet with Environment Variables","body":"<p>After try a lot, I found a solution:</p>\n<ul>\n<li>Run -&gt;  Create a run configuration in run.json ...</li>\n<li>Add a &quot;configurations&quot;, then type &quot;gradle&quot; (to Fleet autocomplete it).</li>\n<li>In &quot;tasks&quot; list, type &quot;bootRun&quot;.</li>\n<li>And, at last, incluse the environment object with your variables values.</li>\n</ul>\n<p>The final run.json file should stay like this:</p>\n<pre><code>{\n  &quot;configurations&quot;: [\n    {\n      &quot;name&quot;: &quot;run app&quot;,\n      &quot;type&quot;: &quot;gradle&quot;,\n      &quot;tasks&quot;: [\n        &quot;bootRun&quot;\n      ],\n      &quot;environment&quot;: {\n        &quot;DATABASE_URL&quot; : &quot;jdbc:postgresql://localhost:5432/test&quot;,\n        &quot;DATABASE_USER&quot; : &quot;Postgres&quot;,\n        &quot;DATABASE_PASSWORD&quot; : &quot;Postgres&quot;\n      },\n    }\n  ],\n\n}\n</code></pre>\n<ul>\n<li>Now, go to &quot;Run&quot; again and will appear a option &quot;run app&quot; to execute your application using environment variable.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/uBLly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uBLly.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6307621,"reputation":309,"user_id":4900235,"display_name":"Jadson Santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74118779,"answer_count":1,"score":0,"last_activity_date":1690359014,"creation_date":1666140280,"question_id":74118778,"body_markdown":"I am trying to run my spring boot application on new JetBrain Fleet IDE, but I could not find easily a way to do that.\r\n\r\nIn the [documentation page][1] , the JetBrain said:\r\n\r\n&gt;An object that specifies custom environment variables. To define an environment variable, add a property, where the key is the variable name and the value is the value of the variable, for example:\r\n\r\n```\r\n&quot;environment&quot;: {\r\n    &quot;TEMP_DIR&quot;: &quot;/home/user/temp&quot;,\r\n    &quot;GENERATE_RANDOM_PASSWORD&quot;: &quot;true&quot;\r\n} \r\n``` \r\n\r\nBut, they do not show where this &quot;environment&quot; object goes.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/fleet/run-configs.html#reference","title":"Run Spring Boot Application in JetBrain Fleet with Environment Variables","body":"<p>I am trying to run my spring boot application on new JetBrain Fleet IDE, but I could not find easily a way to do that.</p>\n<p>In the <a href=\"https://www.jetbrains.com/help/fleet/run-configs.html#reference\" rel=\"nofollow noreferrer\">documentation page</a> , the JetBrain said:</p>\n<blockquote>\n<p>An object that specifies custom environment variables. To define an environment variable, add a property, where the key is the variable name and the value is the value of the variable, for example:</p>\n</blockquote>\n<pre><code>&quot;environment&quot;: {\n    &quot;TEMP_DIR&quot;: &quot;/home/user/temp&quot;,\n    &quot;GENERATE_RANDOM_PASSWORD&quot;: &quot;true&quot;\n} \n</code></pre>\n<p>But, they do not show where this &quot;environment&quot; object goes.</p>\n"},{"tags":["java","spring-boot","upload","large-files","embedded-jetty"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1690354570,"post_id":76768662,"comment_id":135339921,"body_markdown":"hello, Any additional information in the stacktrace? Maybe you could paste it also in your question?","body":"hello, Any additional information in the stacktrace? Maybe you could paste it also in your question?"},{"owner":{"account_id":11382249,"reputation":1662,"user_id":8344860,"display_name":"Anshita Singh"},"score":0,"creation_date":1690356251,"post_id":76768662,"comment_id":135340249,"body_markdown":"I have added a stack trace. Nothing much is showing in the logs. Only `out of memory` is coming and then the app is crashing.","body":"I have added a stack trace. Nothing much is showing in the logs. Only <code>out of memory</code> is coming and then the app is crashing."}],"answers":[{"comments":[{"owner":{"account_id":11382249,"reputation":1662,"user_id":8344860,"display_name":"Anshita Singh"},"score":0,"creation_date":1690359541,"post_id":76769194,"comment_id":135340878,"body_markdown":"I don&#39;t think so it&#39;s saying the Java heap out of memory. But anyway Increasing memory is a workaround. Since my question is why the `out of memory` issue is coming since I am not storing stream in memory and even setting the spring properties also.  And why I am saying setting higher memory is just a workaround since if multiple large files of 5GB will be hit to the app then 5GB memory also will be less for the app.","body":"I don&#39;t think so it&#39;s saying the Java heap out of memory. But anyway Increasing memory is a workaround. Since my question is why the <code>out of memory</code> issue is coming since I am not storing stream in memory and even setting the spring properties also.  And why I am saying setting higher memory is just a workaround since if multiple large files of 5GB will be hit to the app then 5GB memory also will be less for the app."},{"owner":{"account_id":4257006,"reputation":694,"user_id":3482424,"accept_rate":80,"display_name":"Morten"},"score":0,"creation_date":1690485715,"post_id":76769194,"comment_id":135364355,"body_markdown":"The aim is to stream the data through with a more or less constant memory footprint no matter how large the files are, so this is not the correct solution to this problem.","body":"The aim is to stream the data through with a more or less constant memory footprint no matter how large the files are, so this is not the correct solution to this problem."}],"tags":[],"owner":{"account_id":28581631,"reputation":3,"user_id":21882498,"display_name":"Abolfazl Eijadi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690359009,"creation_date":1690359009,"answer_id":76769194,"question_id":76768662,"body_markdown":"I think you have to increase the size of the Heap. \r\n\r\n    1GB as initial heap size [-Xms1024M ]\r\n\r\n    5GB as maximum heap size [-Xmx5120M ]","title":"Springboot large file upload throw &quot;Out Of Memory&quot;","body":"<p>I think you have to increase the size of the Heap.</p>\n<pre><code>1GB as initial heap size [-Xms1024M ]\n\n5GB as maximum heap size [-Xmx5120M ]\n</code></pre>\n"}],"owner":{"account_id":11382249,"reputation":1662,"user_id":8344860,"display_name":"Anshita Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690359009,"creation_date":1690354296,"question_id":76768662,"body_markdown":"I am using **Springboot (2.x) with Jetty Server** and trying to **upload MULTIPLE large files(~2.2GB) PARALLEL** to S3 via direct Streaming, still getting `Out Of Memory` Issue. So, my question is `Is SpringBoot loads InputStream in memory?` Since I am not loading InputStream in memory.\r\n\r\n**Controller Class:**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/v1/{customerId}/{uniqueDocId}/files&quot;)\r\n    \r\n    public class FileController {\r\n    \r\n        @Autowired\r\n        private FileService fileService;\r\n    \r\n        @PostMapping(produces = &quot;application/json&quot;)\r\n        public ResponseEntity&lt;UploadFileResponse&gt; uploadFile(\r\n        @RequestParam InputStream file,\r\n        @RequestHeader(HttpHeaders.CONTENT_LENGTH) final long contentLength) throws IOException {\r\n\r\n        FileUploadInput input =\r\n                FileUploadInput.builder().file(file).contentLength(contentLength).build();\r\n            try{\r\n                return ResponseEntity.ok(fileService.uploadFile(input));\r\n            } finally {\r\n                if(input.getFile() != null) {\r\n                    input.getFile().close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**Service Class:**\r\n\r\n    @Servive\r\n    public class FileServiceImpl implements FileService {\r\n    \r\n      @Autowired\r\n      private AmazonS3 s3Client;\r\n    \r\n      @Override\r\n      public void uploadFile(FileUploadInput input) {\r\n        try {\r\n          ObjectMetadata objMetadata = new ObjectMetadata();\r\n          objMetadata.setContentLength(input.getContentLength());\r\n          PutObjectRequest putObjectRequest =\r\n              new PutObjectRequest(bucketName, s3Key, input.getFile(), objMetadata);\r\n          s3Client.putObject(putObjectRequest);\r\n        }\r\n      }\r\n    }\r\n\r\n**application.properties file:**\r\n\r\n    spring.servlet.multipart.max-file-size: 5GB\r\n    spring.servlet.multipart.max-request-size: 5GB\r\n\r\n**Below Hardware Details where I am running my SpringBoot Application:**\r\n\r\n    Memory:3G\r\n    Disk:5G\r\n\r\n**Question:** Even I am directly Streaming from the client to the SpringBoot app to S3. Then Why SpringBoot is throwing `out of memory` even though I have set server multipart properties?\r\n\r\n**I have also tried to change InputStream to Multipart. Still, I am getting the same problem.**\r\n\r\n**Stack Trace:** Only the below logs are visible in the console then the app crashes.\r\n\r\n    2023-07-26T12:51:26.988+05:30 [APP/PROC/WEB/0] [OUT] Exit status 137 (out of memory)\r\n    2023-07-26T12:51:26.990+05:30 [CELL/SSHD/0] [OUT] Exit status 0","title":"Springboot large file upload throw &quot;Out Of Memory&quot;","body":"<p>I am using <strong>Springboot (2.x) with Jetty Server</strong> and trying to <strong>upload MULTIPLE large files(~2.2GB) PARALLEL</strong> to S3 via direct Streaming, still getting <code>Out Of Memory</code> Issue. So, my question is <code>Is SpringBoot loads InputStream in memory?</code> Since I am not loading InputStream in memory.</p>\n<p><strong>Controller Class:</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v1/{customerId}/{uniqueDocId}/files&quot;)\n\npublic class FileController {\n\n    @Autowired\n    private FileService fileService;\n\n    @PostMapping(produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;UploadFileResponse&gt; uploadFile(\n    @RequestParam InputStream file,\n    @RequestHeader(HttpHeaders.CONTENT_LENGTH) final long contentLength) throws IOException {\n\n    FileUploadInput input =\n            FileUploadInput.builder().file(file).contentLength(contentLength).build();\n        try{\n            return ResponseEntity.ok(fileService.uploadFile(input));\n        } finally {\n            if(input.getFile() != null) {\n                input.getFile().close();\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Service Class:</strong></p>\n<pre><code>@Servive\npublic class FileServiceImpl implements FileService {\n\n  @Autowired\n  private AmazonS3 s3Client;\n\n  @Override\n  public void uploadFile(FileUploadInput input) {\n    try {\n      ObjectMetadata objMetadata = new ObjectMetadata();\n      objMetadata.setContentLength(input.getContentLength());\n      PutObjectRequest putObjectRequest =\n          new PutObjectRequest(bucketName, s3Key, input.getFile(), objMetadata);\n      s3Client.putObject(putObjectRequest);\n    }\n  }\n}\n</code></pre>\n<p><strong>application.properties file:</strong></p>\n<pre><code>spring.servlet.multipart.max-file-size: 5GB\nspring.servlet.multipart.max-request-size: 5GB\n</code></pre>\n<p><strong>Below Hardware Details where I am running my SpringBoot Application:</strong></p>\n<pre><code>Memory:3G\nDisk:5G\n</code></pre>\n<p><strong>Question:</strong> Even I am directly Streaming from the client to the SpringBoot app to S3. Then Why SpringBoot is throwing <code>out of memory</code> even though I have set server multipart properties?</p>\n<p><strong>I have also tried to change InputStream to Multipart. Still, I am getting the same problem.</strong></p>\n<p><strong>Stack Trace:</strong> Only the below logs are visible in the console then the app crashes.</p>\n<pre><code>2023-07-26T12:51:26.988+05:30 [APP/PROC/WEB/0] [OUT] Exit status 137 (out of memory)\n2023-07-26T12:51:26.990+05:30 [CELL/SSHD/0] [OUT] Exit status 0\n</code></pre>\n"},{"tags":["java","pcm","mu-law"],"owner":{"account_id":27437875,"reputation":1,"user_id":20933357,"display_name":"SummerBoot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690358572,"creation_date":1690358572,"question_id":76769151,"body_markdown":"Created code to change the PCM file encoded in java to ulaw to Linear PCM in a normal way.\r\nBecause it&#39;s a test code, it&#39;s simple to configure, and when you run it, the ulaw PCM is converted to a specific folder as Linear PCM.\r\nSo I got the file and ran it on a program called Ocean Audio, and the noise gets mixed up too much.\r\nI converted it, but as a result, I couldn&#39;t get the song I wanted.\r\nThere seems to be no problem with Buffered InputStream, making Buffer, converting it to ByteArray\r\nWhy did this happen?\r\n\r\nThe code I tried is as follows.\r\n```\r\npublic static void main(String args[]) throws IOException {\r\n\r\n\t\tString fileName = &quot;ulaw.pcm&quot;;\r\n\t\tFile file = new File(&quot;/home/user/&quot; + fileName);\r\n\t\tFileInputStream fis = new FileInputStream(file);\r\n\t\tint read = 0;\r\n\t\tbyte[] buff = new byte[3200];\r\n\t\tbyte[] audioBytes;\r\n\t\tbyte[] cvtAudioBytes;\r\n\t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\t\tBufferedInputStream in = new BufferedInputStream(fis);\r\n\t\twhile ((read = in.read(buff)) &gt; 0) {\r\n\t\t\tout.write(buff, 0, read);\r\n\t\t}\r\n\r\n\t\taudioBytes = out.toByteArray();\r\n\t\tcvtAudioBytes = Converter.ulaw2Linear(audioBytes);\r\n\t\t\r\n\t\tPath path = Paths.get(&quot;/home/user/convert.pcm&quot;);\r\n\r\n\t\tFiles.write(path, cvtAudioBytes);\r\n\r\n\t\tout.close();\r\n\t\tin.close();\r\n\r\n}\r\n```\r\n\r\nBelow is Converter Class.\r\n```\r\npublic class Converter {\r\n\tpublic static byte[] ulaw2Linear(byte[] ulawBuffer) {\r\n\t\tint ulawSampleSize = ulawBuffer.length;\r\n\t\tint linearSampleSize = ulawSampleSize * 2;\r\n\t\tSystem.out.println(&quot;ulawSampleSize : &quot; + ulawSampleSize);\r\n\t\tSystem.out.println(&quot;linearSampleSize : &quot; + linearSampleSize);\r\n\r\n\t\tbyte[] linearBuffer = new byte[linearSampleSize];\r\n\r\n\t\tfor (int i = 0; i &lt; ulawSampleSize; i++) {\r\n\t\t\tshort sampleValue = ulaw2LinearSample(ulawBuffer[i]);\r\n\t\t\t//System.out.println(sampleValue);\r\n\t\t\tlinearBuffer[i * 2] = (byte) (sampleValue &amp; 0xFF);\r\n\t\t\tlinearBuffer[i * 2 + 1] = (byte) ((sampleValue &gt;&gt; 8) &amp; 0xFF);\r\n\t\t}\r\n\r\n\t\tfor(int i=0; i&lt;linearBuffer.length; i++) {\r\n\t\t\tSystem.out.println(linearBuffer[i]);\r\n\t\t}\r\n\t\treturn linearBuffer;\r\n\t}\r\n\r\n\tprivate static short ulaw2LinearSample(byte ulawSample) {\r\n\t\tint ulawValue = ulawSample &amp; 0xFF;\r\n\t\tulawValue = ulawValue ^ 0xFF; \r\n\t\tint sign = (ulawValue &amp; 0x80) == 0 ? 1 : -1;\r\n\t\tint exponent = (ulawValue &gt;&gt; 4) &amp; 0x07;\r\n\t\tint mantissa = ulawValue &amp; 0x0F;\r\n\t\tint sampleValue = ((1 &lt;&lt; exponent) | (mantissa &lt;&lt; (exponent - 4)) | (1 &lt;&lt; (exponent - 3))) - 33;\r\n\t\treturn (short) (sampleValue * sign);\r\n\t}\r\n\r\n}\r\n```\r\nThe Converter class does not feel wrong because it is a universally converted code. However, the problem with the code used for the main is that\r\nI couldn&#39;t find it. Is there anything lacking in the code?\r\n\r\nThank you.","title":"I&#39;m trying to convert ulaw PCM to Linear PCM in Java","body":"<p>Created code to change the PCM file encoded in java to ulaw to Linear PCM in a normal way.\nBecause it's a test code, it's simple to configure, and when you run it, the ulaw PCM is converted to a specific folder as Linear PCM.\nSo I got the file and ran it on a program called Ocean Audio, and the noise gets mixed up too much.\nI converted it, but as a result, I couldn't get the song I wanted.\nThere seems to be no problem with Buffered InputStream, making Buffer, converting it to ByteArray\nWhy did this happen?</p>\n<p>The code I tried is as follows.</p>\n<pre><code>public static void main(String args[]) throws IOException {\n\n        String fileName = &quot;ulaw.pcm&quot;;\n        File file = new File(&quot;/home/user/&quot; + fileName);\n        FileInputStream fis = new FileInputStream(file);\n        int read = 0;\n        byte[] buff = new byte[3200];\n        byte[] audioBytes;\n        byte[] cvtAudioBytes;\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        BufferedInputStream in = new BufferedInputStream(fis);\n        while ((read = in.read(buff)) &gt; 0) {\n            out.write(buff, 0, read);\n        }\n\n        audioBytes = out.toByteArray();\n        cvtAudioBytes = Converter.ulaw2Linear(audioBytes);\n        \n        Path path = Paths.get(&quot;/home/user/convert.pcm&quot;);\n\n        Files.write(path, cvtAudioBytes);\n\n        out.close();\n        in.close();\n\n}\n</code></pre>\n<p>Below is Converter Class.</p>\n<pre><code>public class Converter {\n    public static byte[] ulaw2Linear(byte[] ulawBuffer) {\n        int ulawSampleSize = ulawBuffer.length;\n        int linearSampleSize = ulawSampleSize * 2;\n        System.out.println(&quot;ulawSampleSize : &quot; + ulawSampleSize);\n        System.out.println(&quot;linearSampleSize : &quot; + linearSampleSize);\n\n        byte[] linearBuffer = new byte[linearSampleSize];\n\n        for (int i = 0; i &lt; ulawSampleSize; i++) {\n            short sampleValue = ulaw2LinearSample(ulawBuffer[i]);\n            //System.out.println(sampleValue);\n            linearBuffer[i * 2] = (byte) (sampleValue &amp; 0xFF);\n            linearBuffer[i * 2 + 1] = (byte) ((sampleValue &gt;&gt; 8) &amp; 0xFF);\n        }\n\n        for(int i=0; i&lt;linearBuffer.length; i++) {\n            System.out.println(linearBuffer[i]);\n        }\n        return linearBuffer;\n    }\n\n    private static short ulaw2LinearSample(byte ulawSample) {\n        int ulawValue = ulawSample &amp; 0xFF;\n        ulawValue = ulawValue ^ 0xFF; \n        int sign = (ulawValue &amp; 0x80) == 0 ? 1 : -1;\n        int exponent = (ulawValue &gt;&gt; 4) &amp; 0x07;\n        int mantissa = ulawValue &amp; 0x0F;\n        int sampleValue = ((1 &lt;&lt; exponent) | (mantissa &lt;&lt; (exponent - 4)) | (1 &lt;&lt; (exponent - 3))) - 33;\n        return (short) (sampleValue * sign);\n    }\n\n}\n</code></pre>\n<p>The Converter class does not feel wrong because it is a universally converted code. However, the problem with the code used for the main is that\nI couldn't find it. Is there anything lacking in the code?</p>\n<p>Thank you.</p>\n"},{"tags":["java","postgresql","hibernate","spring-boot","java-8"],"comments":[{"owner":{"account_id":4271910,"reputation":233,"user_id":3493538,"display_name":"Naveen Kulkarni"},"score":0,"creation_date":1541506824,"post_id":53171685,"comment_id":93233130,"body_markdown":"Why do you want to struggle with this. Just add 2 Fields for you POJO creation date time and updated Date time. It will solve your problem","body":"Why do you want to struggle with this. Just add 2 Fields for you POJO creation date time and updated Date time. It will solve your problem"}],"answers":[{"comments":[{"owner":{"account_id":7426112,"reputation":1113,"user_id":5648526,"display_name":"Vinaya Nayak"},"score":4,"creation_date":1612807057,"post_id":53172430,"comment_id":116876577,"body_markdown":"I am using Hibernate 5.4.14.Final version and I still have the same problem","body":"I am using Hibernate 5.4.14.Final version and I still have the same problem"},{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1637597660,"post_id":53172430,"comment_id":123862854,"body_markdown":"@VinayaNayak : make sure you don&#39;t have another annotation overriding the type of your column.","body":"@VinayaNayak : make sure you don&#39;t have another annotation overriding the type of your column."}],"tags":[],"owner":{"account_id":5342445,"reputation":4817,"user_id":4259032,"accept_rate":56,"display_name":"Alain Cruz"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1541509241,"creation_date":1541509241,"answer_id":53172430,"question_id":53171685,"body_markdown":"Your problem is your Hibernate version. You need to upgrade it to version 5.2.3 in order to use `@CreationTimestamp` and `@UpdateTimestamp` with `LocalDateTime`. For more information, you can check this [blog][1]. Just upgrade your Hibernate and everything should work as expected.\r\n\r\nIf you don&#39;t want to update your Hibernate version, you can change your field types to one of the following.\r\n\r\n- java.util.Date\r\n- java.util.Calendar\r\n- java.sql.Date\r\n- java.sql.Time\r\n- java.sql.Timestamp\r\n\r\n\r\n  [1]: https://www.thoughts-on-java.org/persist-creation-update-timestamps-hibernate/","title":"@CreationTimestamp and @UpdateTimestamp is not working with LocalDateTime","body":"<p>Your problem is your Hibernate version. You need to upgrade it to version 5.2.3 in order to use <code>@CreationTimestamp</code> and <code>@UpdateTimestamp</code> with <code>LocalDateTime</code>. For more information, you can check this <a href=\"https://www.thoughts-on-java.org/persist-creation-update-timestamps-hibernate/\" rel=\"noreferrer\">blog</a>. Just upgrade your Hibernate and everything should work as expected.</p>\n\n<p>If you don't want to update your Hibernate version, you can change your field types to one of the following.</p>\n\n<ul>\n<li>java.util.Date</li>\n<li>java.util.Calendar</li>\n<li>java.sql.Date</li>\n<li>java.sql.Time</li>\n<li>java.sql.Timestamp</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690915148,"post_id":76769127,"comment_id":135418648,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76769127/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22560311,"reputation":1,"user_id":16748038,"display_name":"Vidhi"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690358349,"creation_date":1690358349,"answer_id":76769127,"question_id":53171685,"body_markdown":"In my case, I was using some other Date import instead of java.utils","title":"@CreationTimestamp and @UpdateTimestamp is not working with LocalDateTime","body":"<p>In my case, I was using some other Date import instead of java.utils</p>\n"}],"owner":{"account_id":6413483,"reputation":1053,"user_id":4972367,"display_name":"Hardik Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20247,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":53172430,"answer_count":2,"score":12,"last_activity_date":1690358349,"creation_date":1541506434,"question_id":53171685,"body_markdown":"I am trying to use `@CreationTimestamp` and `@UpdateTimestamp` with `LocalDateTime` type, but it is giving me `org.hibernate.HibernateException:` Unsupported property type for generator annotation `@CreationTimestamp` exception.\r\n\r\nI am using 5.0.12.hibernate version with java 8 `LocalDataTime`, \r\n\r\nIs there any way to use `@UpdateTimestamp` and `@CreationTimestamp` with Java 8 `LocalDateTime` ?\r\n\r\n\r\n     org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Unsupported property type for generator annotation @CreationTimestamp\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1080)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\r\n    \tat com.godigit.MotorDataService.main(MotorDataService.java:35)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n    Caused by: org.hibernate.HibernateException: Unsupported property type for generator annotation @CreationTimestamp\r\n    \tat org.hibernate.tuple.CreationTimestampGeneration.initialize(CreationTimestampGeneration.java:44)\r\n    \tat org.hibernate.tuple.CreationTimestampGeneration.initialize(CreationTimestampGeneration.java:22)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.instantiateAndInitializeValueGeneration(PropertyBinder.java:415)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.getValueGenerationFromAnnotation(PropertyBinder.java:383)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.getValueGenerationFromAnnotations(PropertyBinder.java:348)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.determineValueGenerationStrategy(PropertyBinder.java:323)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.makeProperty(PropertyBinder.java:269)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.makePropertyAndValue(PropertyBinder.java:189)\r\n    \tat org.hibernate.cfg.annotations.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:199)\r\n    \tat org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2225)\r\n    \tat org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:911)\r\n    \tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:738)\r\n    \tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:245)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:222)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:265)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:847)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:874)\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:382)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:371)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:336)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\r\n    \t... 21 common frames omitted","title":"@CreationTimestamp and @UpdateTimestamp is not working with LocalDateTime","body":"<p>I am trying to use <code>@CreationTimestamp</code> and <code>@UpdateTimestamp</code> with <code>LocalDateTime</code> type, but it is giving me <code>org.hibernate.HibernateException:</code> Unsupported property type for generator annotation <code>@CreationTimestamp</code> exception.</p>\n\n<p>I am using 5.0.12.hibernate version with java 8 <code>LocalDataTime</code>, </p>\n\n<p>Is there any way to use <code>@UpdateTimestamp</code> and <code>@CreationTimestamp</code> with Java 8 <code>LocalDateTime</code> ?</p>\n\n<pre><code> org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Unsupported property type for generator annotation @CreationTimestamp\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1080)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\n    at com.godigit.MotorDataService.main(MotorDataService.java:35)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.hibernate.HibernateException: Unsupported property type for generator annotation @CreationTimestamp\n    at org.hibernate.tuple.CreationTimestampGeneration.initialize(CreationTimestampGeneration.java:44)\n    at org.hibernate.tuple.CreationTimestampGeneration.initialize(CreationTimestampGeneration.java:22)\n    at org.hibernate.cfg.annotations.PropertyBinder.instantiateAndInitializeValueGeneration(PropertyBinder.java:415)\n    at org.hibernate.cfg.annotations.PropertyBinder.getValueGenerationFromAnnotation(PropertyBinder.java:383)\n    at org.hibernate.cfg.annotations.PropertyBinder.getValueGenerationFromAnnotations(PropertyBinder.java:348)\n    at org.hibernate.cfg.annotations.PropertyBinder.determineValueGenerationStrategy(PropertyBinder.java:323)\n    at org.hibernate.cfg.annotations.PropertyBinder.makeProperty(PropertyBinder.java:269)\n    at org.hibernate.cfg.annotations.PropertyBinder.makePropertyAndValue(PropertyBinder.java:189)\n    at org.hibernate.cfg.annotations.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:199)\n    at org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2225)\n    at org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:911)\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:738)\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:245)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:222)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:265)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:847)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:874)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:382)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:371)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\n    ... 21 common frames omitted\n</code></pre>\n"},{"tags":["java","integration-testing","spring-restcontroller"],"comments":[{"owner":{"account_id":17126499,"reputation":646,"user_id":12393574,"display_name":"jeffrey.d.m"},"score":2,"creation_date":1636372263,"post_id":69882479,"comment_id":123530355,"body_markdown":"This is a highly open ended question without one good answer. If you google &quot;Spring Boot Writing Integration Tests&quot; you&#39;ll find lots of articles that talk about best practices and such. That would be a good place to start.","body":"This is a highly open ended question without one good answer. If you google &quot;Spring Boot Writing Integration Tests&quot; you&#39;ll find lots of articles that talk about best practices and such. That would be a good place to start."}],"answers":[{"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1636375065,"post_id":69883475,"comment_id":123531477,"body_markdown":"ok so far...now: 1. prepare an `AddOrderResult` object (which your mocked service pretends to return) 2. instruct your mock (`when(service.addOrder(...)...`) to return addorderresult (form 1.) 3. add a `.body(enter)` to your `mockMvc.perform()...` 4. (optional) verify the result matches 1.","body":"ok so far...now: 1. prepare an <code>AddOrderResult</code> object (which your mocked service pretends to return) 2. instruct your mock (<code>when(service.addOrder(...)...</code>) to return addorderresult (form 1.) 3. add a <code>.body(enter)</code> to your <code>mockMvc.perform()...</code> 4. (optional) verify the result matches 1."},{"owner":{"account_id":23031986,"reputation":9,"user_id":17151321,"display_name":"ced_d0llars"},"score":0,"creation_date":1636376101,"post_id":69883475,"comment_id":123531933,"body_markdown":"thanks. i get this error now when i run my test : java.lang.IllegalStateException: Failed to load ApplicationContext","body":"thanks. i get this error now when i run my test : java.lang.IllegalStateException: Failed to load ApplicationContext"}],"tags":[],"owner":{"account_id":23031986,"reputation":9,"user_id":17151321,"display_name":"ced_d0llars"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636374553,"creation_date":1636374553,"answer_id":69883475,"question_id":69882479,"body_markdown":"What i&#39;ve done is below:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebMvcTest(controllers = OrderControllerTest.class)\r\n    \r\n    class OrderControllerTest {\r\n    \r\n        @MockBean\r\n        private OrderService service;\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n    \r\n        @Test\r\n        void shouldAddNewOrder() throws Exception {\r\n            AddUpdateOrderEnter enter =  new OrderBuilder()\r\n                    .orderId(1L)\r\n                    .orderType(1)\r\n                    .productId(2L)\r\n                    .paymentTypeId(&quot;STRIPE&quot;)\r\n                    .build();\r\n    \r\n            mockMvc.perform(post(&quot;/order/add&quot;)\r\n                    .contentType(&quot;application/json&quot;))\r\n                    .andExpect(status().isOk());\r\n            ArgumentCaptor&lt;AddUpdateOrderEnter&gt; orderCaptor = ArgumentCaptor.forClass(AddUpdateOrderEnter.class);\r\n            verify(service, times(1)).addOrder(orderCaptor.capture());\r\n            assertThat(orderCaptor.getValue().getOrderId()).isEqualTo(1L);\r\n            assertThat(orderCaptor.getValue().getOrderType()).isEqualTo(1);\r\n    \r\n        }","title":"How to write an integration test in JAVA","body":"<p>What i've done is below:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebMvcTest(controllers = OrderControllerTest.class)\n\nclass OrderControllerTest {\n\n    @MockBean\n    private OrderService service;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n\n    @Test\n    void shouldAddNewOrder() throws Exception {\n        AddUpdateOrderEnter enter =  new OrderBuilder()\n                .orderId(1L)\n                .orderType(1)\n                .productId(2L)\n                .paymentTypeId(&quot;STRIPE&quot;)\n                .build();\n\n        mockMvc.perform(post(&quot;/order/add&quot;)\n                .contentType(&quot;application/json&quot;))\n                .andExpect(status().isOk());\n        ArgumentCaptor&lt;AddUpdateOrderEnter&gt; orderCaptor = ArgumentCaptor.forClass(AddUpdateOrderEnter.class);\n        verify(service, times(1)).addOrder(orderCaptor.capture());\n        assertThat(orderCaptor.getValue().getOrderId()).isEqualTo(1L);\n        assertThat(orderCaptor.getValue().getOrderType()).isEqualTo(1);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19186844,"reputation":1,"user_id":14017454,"display_name":"Asep Saputra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690358097,"creation_date":1690358097,"answer_id":76769102,"question_id":69882479,"body_markdown":"```java\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class OrderControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private OrderService orderService;\r\n\r\n    @Test\r\n    public void testAddOrder() throws Exception {\r\n        AddUpdateOrderEnter enter = new AddUpdateOrderEnter();\r\n        AddOrderResult expectedResult = new AddOrderResult();\r\n    \twhen(orderService.addOrder(any(AddUpdateOrderEnter.class))).thenReturn(expectedResult);\r\n\r\n        MvcResult result = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/add&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content())\r\n                .andReturn();\r\n\r\n        assertEquals(200, result.getResponse().getStatus());\r\n    }\r\n\r\n}\r\n```","title":"How to write an integration test in JAVA","body":"<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class OrderControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private OrderService orderService;\n\n    @Test\n    public void testAddOrder() throws Exception {\n        AddUpdateOrderEnter enter = new AddUpdateOrderEnter();\n        AddOrderResult expectedResult = new AddOrderResult();\n        when(orderService.addOrder(any(AddUpdateOrderEnter.class))).thenReturn(expectedResult);\n\n        MvcResult result = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/add&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content())\n                .andReturn();\n\n        assertEquals(200, result.getResponse().getStatus());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23031986,"reputation":9,"user_id":17151321,"display_name":"ced_d0llars"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690358097,"creation_date":1636369548,"question_id":69882479,"body_markdown":"i&#39;m learning yet testing in java and i&#39;m trying to write an integration test for controller below: \r\n\r\n        public class OrderController {\r\n    \r\n        @Autowired\r\n        private OrderService orderService;\r\n    \r\n    \r\n        public OrderController(OrderService service) {\r\n            this.orderService = service;\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/add&quot;)\r\n        @ApiOperation(value = &quot;Add&quot;, response = AddOrderResult.class)\r\n        public Response&lt;AddOrderResult&gt; add(@ModelAttribute AddUpdateOrderEnter enter) {\r\n            return new Response&lt;&gt;(orderService.addOrder(enter));\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/addOrderParts&quot;)\r\n        @ApiOperation(value = &quot;AddOrderParts&quot;, response = GeneralResult.class)\r\n        public Response&lt;GeneralResult&gt; AddOrderParts(@ModelAttribute @ApiParam(&quot;请求参数&quot;) AddOrderPartsEnter enter) {\r\n            return new Response&lt;&gt;(orderService.AddOrderParts(enter));\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/list&quot;)\r\n        @ApiOperation(value = &quot;Order List&quot;, response = OrderDetailsResult.class)\r\n        public Response&lt;List&lt;OrderDetailsResult&gt;&gt; list(@ModelAttribute @ApiParam(&quot;请求参数&quot;) GeneralEnter enter) {\r\n            return new Response&lt;&gt;(orderService.getOrderList(enter));\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/details&quot;)\r\n        @ApiOperation(value = &quot;Order Details&quot;, response = OrderDetailsResult.class)\r\n        public Response&lt;OrderDetailsResult&gt; details(@ModelAttribute @ApiParam(&quot;请求参数&quot;) IdEnter enter) {\r\n            return new Response&lt;&gt;(orderService.getOrderDetails(enter));\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/delete&quot;)\r\n        @ApiOperation(value = &quot;delete&quot;, response = GeneralResult.class)\r\n        public Response&lt;GeneralResult&gt; delete(@ModelAttribute IdEnter enter) {\r\n            return new Response&lt;&gt;(orderService.deleteOrder(enter));\r\n        }\r\n    }\r\n\r\nMy test file which i&#39;m stuck:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    class OrderControllerTest {\r\n    \r\n        @Autowired\r\n        private OrderService service;\r\n    \r\n    \r\n        private MockMvc mockMvc;\r\n    \r\n    \r\n        @Test\r\n        void shouldAddNewOrder() throws Exception {\r\n        \r\n        }\r\n\r\nSo i want to have some example to how to test my controller in integration way. Thnks for helps :) \r\n","title":"How to write an integration test in JAVA","body":"<p>i'm learning yet testing in java and i'm trying to write an integration test for controller below:</p>\n<pre><code>    public class OrderController {\n\n    @Autowired\n    private OrderService orderService;\n\n\n    public OrderController(OrderService service) {\n        this.orderService = service;\n    }\n\n    @PostMapping(value = &quot;/add&quot;)\n    @ApiOperation(value = &quot;Add&quot;, response = AddOrderResult.class)\n    public Response&lt;AddOrderResult&gt; add(@ModelAttribute AddUpdateOrderEnter enter) {\n        return new Response&lt;&gt;(orderService.addOrder(enter));\n    }\n\n    @PostMapping(value = &quot;/addOrderParts&quot;)\n    @ApiOperation(value = &quot;AddOrderParts&quot;, response = GeneralResult.class)\n    public Response&lt;GeneralResult&gt; AddOrderParts(@ModelAttribute @ApiParam(&quot;请求参数&quot;) AddOrderPartsEnter enter) {\n        return new Response&lt;&gt;(orderService.AddOrderParts(enter));\n    }\n\n    @GetMapping(value = &quot;/list&quot;)\n    @ApiOperation(value = &quot;Order List&quot;, response = OrderDetailsResult.class)\n    public Response&lt;List&lt;OrderDetailsResult&gt;&gt; list(@ModelAttribute @ApiParam(&quot;请求参数&quot;) GeneralEnter enter) {\n        return new Response&lt;&gt;(orderService.getOrderList(enter));\n    }\n\n    @GetMapping(value = &quot;/details&quot;)\n    @ApiOperation(value = &quot;Order Details&quot;, response = OrderDetailsResult.class)\n    public Response&lt;OrderDetailsResult&gt; details(@ModelAttribute @ApiParam(&quot;请求参数&quot;) IdEnter enter) {\n        return new Response&lt;&gt;(orderService.getOrderDetails(enter));\n    }\n\n    @PostMapping(value = &quot;/delete&quot;)\n    @ApiOperation(value = &quot;delete&quot;, response = GeneralResult.class)\n    public Response&lt;GeneralResult&gt; delete(@ModelAttribute IdEnter enter) {\n        return new Response&lt;&gt;(orderService.deleteOrder(enter));\n    }\n}\n</code></pre>\n<p>My test file which i'm stuck:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\nclass OrderControllerTest {\n\n    @Autowired\n    private OrderService service;\n\n\n    private MockMvc mockMvc;\n\n\n    @Test\n    void shouldAddNewOrder() throws Exception {\n    \n    }\n</code></pre>\n<p>So i want to have some example to how to test my controller in integration way. Thnks for helps :)</p>\n"},{"tags":["java","class"],"answers":[{"comments":[{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1690371461,"post_id":76768982,"comment_id":135343401,"body_markdown":"Thank you for a detailed and precise answer! Just to make sure, can I presume this way of defining things is wrong (design wise)? I&#39;m working on a code that has a similar structure. It&#39;s better to refactor it then?","body":"Thank you for a detailed and precise answer! Just to make sure, can I presume this way of defining things is wrong (design wise)? I&#39;m working on a code that has a similar structure. It&#39;s better to refactor it then?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690371731,"post_id":76768982,"comment_id":135343477,"body_markdown":"@ParSal Yeah, I would not write code like this. Just have *one* field, and write static getters to get that field.","body":"@ParSal Yeah, I would not write code like this. Just have <i>one</i> field, and write static getters to get that field."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690357773,"creation_date":1690357094,"answer_id":76768982,"question_id":76768747,"body_markdown":"This is specified in the JLS ([&#167;9.3.1][1], [&#167;12.4.1][2]):\r\n\r\n&gt; **Initialization of Fields in Interfaces**\r\n&gt;\r\n&gt; At run time, the initializer is evaluated and the field assignment performed exactly once, when the interface is initialized.\r\n\r\n&gt; **When Initialization Occurs**\r\n&gt;\r\n&gt; When a class is initialized, its superclasses are initialized (if they have not been previously initialized), as well as any superinterfaces that declare any `default` methods (if they have not been previously initialized).\r\n\r\nIt specifically says &quot;superinterfaces that declare any `default` methods&quot; because those `default` methods can be called from the instance constructor:\r\n\r\n```\r\nclass Class implements Interface {\r\n    public static final Class INSTANCE = new Class();\r\n    Class() {\r\n        func(); // this default method could use the interface&#39;s static fields!\r\n    }\r\n}\r\n```\r\n\r\nAccording to the Detailed Initialisation Procedures found in the [next section][3], the interfaces are actually initialised before the field initialisers in the class are executed (See step 7 and step 9). \r\n\r\n&gt; 7. Next, if C is a class rather than an interface, then let SC be its superclass and let SI1, ..., SIn be all superinterfaces of C that\r\n&gt; declare at least one default method.\r\n&gt; \r\n&gt;     For each S in the list [ SC, SI1, ..., SIn ], if S has not yet been initialized, then recursively perform this entire procedure for S\r\n\r\n&gt; 9. Next, execute either the class variable initializers and static initializers of the class, or the field initializers of the interface,\r\n&gt; in textual order, as though they were a single block.\r\n\r\nFurthermore, if the class is in the middle of being initialised, nothing should be done (see step 3).\r\n\r\n&gt; 3. If the Class object for C indicates that initialization is in progress for C by the current thread, then this must be a recursive request for initialization. Release LC and complete normally.\r\n\r\nSo when you first access `Class.INSTANCE`, `Class` is initialised. In this process, `Interface` is first fully initialised (because it has a default method). At this point `Class.INSTANCE` is not initialised yet, hence assigning `null` to `INSTANCE`. Then, the field initialisers in `Class` gets executed.\r\n\r\nIf you first access `Interface.INSTANCE`, `Interface` gets initialised and its field initialisers run. The field initialiser for `Interface.INSTANCE` accesses `Class.INSTANCE` *for the first time*, and so causes the initialisation of `Class`. This causes `Class.INSTANCE` to be assigned a non-null value. Remember that we are still running the field initialisers of `Interface`! After the full initialisation of `Class`, `Interface.INSTANCE` gets the non-null value.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.3.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.4.1\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.4.2","title":"Strange Java Behavior Regarding Interfaces and Class Circular Dependency","body":"<p>This is specified in the JLS (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-9.html#jls-9.3.1\" rel=\"nofollow noreferrer\">§9.3.1</a>, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.4.1\" rel=\"nofollow noreferrer\">§12.4.1</a>):</p>\n<blockquote>\n<p><strong>Initialization of Fields in Interfaces</strong></p>\n<p>At run time, the initializer is evaluated and the field assignment performed exactly once, when the interface is initialized.</p>\n</blockquote>\n<blockquote>\n<p><strong>When Initialization Occurs</strong></p>\n<p>When a class is initialized, its superclasses are initialized (if they have not been previously initialized), as well as any superinterfaces that declare any <code>default</code> methods (if they have not been previously initialized).</p>\n</blockquote>\n<p>It specifically says &quot;superinterfaces that declare any <code>default</code> methods&quot; because those <code>default</code> methods can be called from the instance constructor:</p>\n<pre><code>class Class implements Interface {\n    public static final Class INSTANCE = new Class();\n    Class() {\n        func(); // this default method could use the interface's static fields!\n    }\n}\n</code></pre>\n<p>According to the Detailed Initialisation Procedures found in the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.4.2\" rel=\"nofollow noreferrer\">next section</a>, the interfaces are actually initialised before the field initialisers in the class are executed (See step 7 and step 9).</p>\n<blockquote>\n<ol start=\"7\">\n<li><p>Next, if C is a class rather than an interface, then let SC be its superclass and let SI1, ..., SIn be all superinterfaces of C that\ndeclare at least one default method.</p>\n<p>For each S in the list [ SC, SI1, ..., SIn ], if S has not yet been initialized, then recursively perform this entire procedure for S</p>\n</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"9\">\n<li>Next, execute either the class variable initializers and static initializers of the class, or the field initializers of the interface,\nin textual order, as though they were a single block.</li>\n</ol>\n</blockquote>\n<p>Furthermore, if the class is in the middle of being initialised, nothing should be done (see step 3).</p>\n<blockquote>\n<ol start=\"3\">\n<li>If the Class object for C indicates that initialization is in progress for C by the current thread, then this must be a recursive request for initialization. Release LC and complete normally.</li>\n</ol>\n</blockquote>\n<p>So when you first access <code>Class.INSTANCE</code>, <code>Class</code> is initialised. In this process, <code>Interface</code> is first fully initialised (because it has a default method). At this point <code>Class.INSTANCE</code> is not initialised yet, hence assigning <code>null</code> to <code>INSTANCE</code>. Then, the field initialisers in <code>Class</code> gets executed.</p>\n<p>If you first access <code>Interface.INSTANCE</code>, <code>Interface</code> gets initialised and its field initialisers run. The field initialiser for <code>Interface.INSTANCE</code> accesses <code>Class.INSTANCE</code> <em>for the first time</em>, and so causes the initialisation of <code>Class</code>. This causes <code>Class.INSTANCE</code> to be assigned a non-null value. Remember that we are still running the field initialisers of <code>Interface</code>! After the full initialisation of <code>Class</code>, <code>Interface.INSTANCE</code> gets the non-null value.</p>\n"}],"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76768982,"answer_count":1,"score":3,"last_activity_date":1690357773,"creation_date":1690355038,"question_id":76768747,"body_markdown":"I have the following code:\r\n```java\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Class.INSTANCE = &quot; + Class.INSTANCE);\r\n\t\tSystem.out.println(&quot;Interface.INSTANCE = &quot; + Interface.INSTANCE);\r\n\t}\r\n}\r\n\r\ninterface Interface {\r\n\tInterface INSTANCE = Class.INSTANCE;\r\n\r\n\tdefault void func() { }\r\n}\r\n\r\nclass Class implements Interface {\r\n\tpublic static final Class INSTANCE = new Class();\r\n}\r\n```\r\n\r\nI run it using Java 17.0.7, `java Main.java` I get:\r\n```\r\nClass.INSTANCE = Class@5579bb86\r\nInterface.INSTANCE = null\r\n```\r\nIt looks like the `Interface.INSTANCE` is not initialized properly.\r\nIf I swap two printlns, I get the expected result:\r\n```\r\nInterface.INSTANCE = Class@5579bb86\r\nClass.INSTANCE = Class@5579bb86\r\n```\r\nAlso If I remove the default method in `Interface` (from the first code snippet) everything works fine as well and no null is printed.\r\n\r\nWhat is happening here? More specifically I have three questions:\r\n\r\n1. Why does the first code snippet prints null?\r\n2. Why don&#39;t the second and third code snippet print null?\r\n\r\nI know it probably has something to do with circular dependencies, but I want to know what happens exactly at the JVM level.\r\n\r\nP.S. Question title suggestions are welcome","title":"Strange Java Behavior Regarding Interfaces and Class Circular Dependency","body":"<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Class.INSTANCE = &quot; + Class.INSTANCE);\n        System.out.println(&quot;Interface.INSTANCE = &quot; + Interface.INSTANCE);\n    }\n}\n\ninterface Interface {\n    Interface INSTANCE = Class.INSTANCE;\n\n    default void func() { }\n}\n\nclass Class implements Interface {\n    public static final Class INSTANCE = new Class();\n}\n</code></pre>\n<p>I run it using Java 17.0.7, <code>java Main.java</code> I get:</p>\n<pre><code>Class.INSTANCE = Class@5579bb86\nInterface.INSTANCE = null\n</code></pre>\n<p>It looks like the <code>Interface.INSTANCE</code> is not initialized properly.\nIf I swap two printlns, I get the expected result:</p>\n<pre><code>Interface.INSTANCE = Class@5579bb86\nClass.INSTANCE = Class@5579bb86\n</code></pre>\n<p>Also If I remove the default method in <code>Interface</code> (from the first code snippet) everything works fine as well and no null is printed.</p>\n<p>What is happening here? More specifically I have three questions:</p>\n<ol>\n<li>Why does the first code snippet prints null?</li>\n<li>Why don't the second and third code snippet print null?</li>\n</ol>\n<p>I know it probably has something to do with circular dependencies, but I want to know what happens exactly at the JVM level.</p>\n<p>P.S. Question title suggestions are welcome</p>\n"},{"tags":["java","jackson","spring-cloud-feign","feign","openfeign"],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690357289,"creation_date":1690132905,"question_id":76749504,"body_markdown":"I&#39;m looking to find a way to retrieve the original response caused by an Exception that has been thrown inside a microservice called as a RemoteService through FeignClient.\r\n\r\nIn the microservice &quot;Maps&quot; I expose an API to find a location by id:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/location&quot;)\r\n    public class LocationRestController {\r\n    \r\n    \tprivate final LocationService locationService;\r\n    \r\n    \t@GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody LocationDto findById(@PathVariable Long id) throws FunctionalException {\r\n    \t\treturn locationService.findByIdToDto(id);\r\n    \t}\r\n    \r\n    }\r\n\r\nThe API will return a LocationDto if found, otherwise, it will throw a FunctionalException that it will be handled by the RestControllerAdvice in order to return an ExceptionResponse :\r\n\r\n    @RestControllerAdvice\r\n    public class ExceptionRestController {\r\n    \r\n    \t@ResponseBody\r\n    \t@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    \t@ExceptionHandler(value = { FunctionalException.class })\r\n    \tpublic ExceptionResponse handleFunctionalException(FunctionalException exception) {\r\n    \t\treturn new ExceptionResponse(exception, Map.of(&quot;uniqueIdentifier&quot;, exception.getUniqueIdentifier()));\r\n    \t}\r\n    \r\n    \t@ResponseBody\r\n    \t@ExceptionHandler(Exception.class)\r\n    \t@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    \tpublic ExceptionResponse handleAllUncaughtException(Exception exception) {\r\n    \t\treturn new ExceptionResponse(exception);\r\n    \t}\r\n    \r\n    }\r\n\r\nThe ExceptionResponse is:\r\n\r\n    @Log4j2\r\n    @Data\r\n    public class ExceptionResponse {\r\n    \r\n\t    @JsonProperty\r\n\t    @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n\t    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n\t    private final LocalDateTime timestamp;\r\n\r\n\t    @JsonProperty\r\n\t    private final String status;\r\n\r\n\t    @JsonProperty\r\n\t    private final String error;\r\n\r\n\t    @JsonProperty\r\n\t    private String uniqueIdentifier = &quot;&quot;;\r\n\t\r\n\t    @JsonProperty\r\n\t    private final String message;\r\n\r\n\t    @JsonProperty\r\n\t    private final String stackTrace;\r\n    \t\r\n    \tpublic ExceptionResponse(Exception exception) {\r\n    \t\ttimestamp = LocalDateTime.now();\r\n    \t\tstatus = String.valueOf(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n    \t\terror = HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase();\r\n    \t\tmessage = exception.getMessage();\r\n    \t\tstackTrace = ExceptionUtils.getStackTrace(exception);\r\n    \t\tlog.error(stackTrace);\r\n    \t}\r\n    \t\r\n    \tpublic ExceptionResponse(Exception exception, Map&lt;String, String&gt; fieldValue) {\r\n    \t\ttimestamp = LocalDateTime.now();\r\n    \t\tstatus = fieldValue.getOrDefault(&quot;status&quot;, String.valueOf(HttpStatus.INTERNAL_SERVER_ERROR.value()));\r\n    \t\terror = fieldValue.getOrDefault(&quot;error&quot;, HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase());\r\n    \t\tuniqueIdentifier = fieldValue.getOrDefault(&quot;uniqueIdentifier&quot;, &quot;&quot;);\r\n    \t\tmessage = fieldValue.getOrDefault(&quot;message&quot;, exception.getMessage());\r\n    \t\tstackTrace = ExceptionUtils.getStackTrace(exception);\r\n    \t\tlog.error(stackTrace);\r\n    \t}\r\n\r\n\t    @JsonCreator\r\n\t    public ExceptionResponse(LocalDateTime timestamp, String status, String error, String uniqueIdentifier,\r\n\t\t\t    String message, String stackTrace) {\r\n\t\t    this.timestamp = timestamp;\r\n\t\t    this.status = status;\r\n\t\t    this.error = error;\r\n\t\t    this.uniqueIdentifier = uniqueIdentifier;\r\n\t\t    this.message = message;\r\n\t\t    this.stackTrace = stackTrace;\r\n\t    }\r\n    \r\n    }\r\n\r\nIn the microservice &quot;Supermarket&quot; I have to call the exposed API of microservice &quot;Maps&quot; using OpenFeign:\r\n\r\n\r\n    @FeignClient(name = &quot;mapsClient&quot;, url = &quot;http://localhost:9888&quot;, configuration = ClientConfiguration.class)\r\n    public interface MapsRemoteService {\r\n    \r\n    \t@GetMapping(value = &quot;/api/location/{id}&quot;)\r\n    \tLocationDto findLocationById(@PathVariable(&quot;id&quot;) Long id);\r\n    \r\n    }\r\n\r\nNow, when calling this MapsRemoteService.findLocationById(id) with an id not present in DB, I would like to retrieve the ExceptionResponse\r\n\r\nSo I tried by creating an ErrorDecoder:\r\n\r\nClientConfiguration:\r\n\r\n    @Configuration\r\n    public class ClientConfiguration {\r\n    \r\n    \t@Bean\r\n    \tpublic OkHttpClient client() {\r\n    \t\treturn new OkHttpClient();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tLogger.Level feignLoggerLevel() {\r\n    \t\treturn Logger.Level.FULL;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic ErrorDecoder errorDecoder() {\r\n    \t    return new ClientErrorDecoder();\r\n    \t}\r\n    \r\n    }\r\n\r\nErrorDecoder: \r\n\r\n    public class ClientErrorDecoder implements ErrorDecoder {\r\n    \r\n        @Override\r\n        public Exception decode(String methodKey, Response response) {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            RemoteServiceException remoteServiceException = null;\r\n            \r\n            // Attempt 1\r\n            try (InputStream inputStream = response.body().asInputStream())  {\r\n            \tExceptionResponse exceptionResponse = mapper.readValue(inputStream, ExceptionResponse.class);\r\n            \tremoteServiceException = buildRemoteServiceException(exceptionResponse);\r\n            } catch (IOException e) {\r\n\r\n    \t\t}\r\n            \r\n            // Attempt 2\r\n            try (Reader reader = response.body().asReader())  {\r\n            \tExceptionResponse exceptionResponse = mapper.readValue(reader, ExceptionResponse.class);\r\n            \tremoteServiceException = buildRemoteServiceException(exceptionResponse);\r\n            } catch (IOException e) {\r\n\r\n    \t\t}\r\n            \r\n            // Attempt 3\r\n            try {\r\n            \tString body = response.body().toString();\r\n            \tExceptionResponse exceptionResponse = mapper.readValue(body, ExceptionResponse.class);\r\n            \tremoteServiceException = buildRemoteServiceException(exceptionResponse);\r\n            } catch (IOException e) {\r\n\r\n    \t\t}\r\n            \r\n            if(remoteServiceException == null){\r\n                return new ErrorDecoder.Default().decode(methodKey, response);\r\n            }\r\n\r\n            return remoteServiceException;\r\n        }\r\n        \r\n        private static RemoteServiceException buildRemoteServiceException(ExceptionResponse exceptionResponse) {\r\n        \treturn new RemoteServiceException(exceptionResponse.getMessage(), exceptionResponse.getUniqueIdentifier());\r\n        }\r\n    \r\n    }\r\n\r\nI tried everything I found on the internet, but nothing works.\r\n\r\nThe strange thing is that I saved the inputStream as a temporaryFile into the resource folder. and it is correct.\r\n\r\nI used this code to write the file:\r\n\r\n    try (InputStream inputStream = response.body().asInputStream())  {\r\n        File targetFile = new File(&quot;src/main/resources/targetFile.tmp&quot;);\r\n    \r\n        java.nio.file.Files.copy(\r\n                  inputStream, \r\n                  targetFile.toPath(), \r\n                  StandardCopyOption.REPLACE_EXISTING);\r\n    \r\n        IOUtils.closeQuietly(inputStream);\r\n    } catch (IOException e) {\r\n        // return new ErrorDecoder.Default().decode(methodKey, response);\r\n    }\r\n\r\nand this is the content of the file:\r\n\r\n    {\r\n    \t&quot;timestamp&quot;:&quot;2023-07-25T22:38:48.530815&quot;,\r\n    \t&quot;status&quot;:&quot;500&quot;,\r\n    \t&quot;error&quot;:&quot;Internal Server Error&quot;,\r\n    \t&quot;uniqueIdentifier&quot;:&quot;bc4bd3ae-2d40-4863-9e9f-6b10ecece27d&quot;,\r\n    \t&quot;message&quot;:&quot;No Location found with the id: 10&quot;,\r\n    \t&quot;stackTrace&quot;:&quot;7711 characters avoided for readability&quot;\r\n    }\r\n\r\nand it represents perfectly the class ExceptionResponse with the 6 fields.\r\n\r\nSo it seems there is an issue while using &lt;br&gt;\r\n\r\n    mapper.readValue(inputStream, ExceptionResponse.class);","title":"Openfeign ErrorDecoder how to retrieve the original message?","body":"<p>I'm looking to find a way to retrieve the original response caused by an Exception that has been thrown inside a microservice called as a RemoteService through FeignClient.</p>\n<p>In the microservice &quot;Maps&quot; I expose an API to find a location by id:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/location&quot;)\npublic class LocationRestController {\n\n    private final LocationService locationService;\n\n    @GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody LocationDto findById(@PathVariable Long id) throws FunctionalException {\n        return locationService.findByIdToDto(id);\n    }\n\n}\n</code></pre>\n<p>The API will return a LocationDto if found, otherwise, it will throw a FunctionalException that it will be handled by the RestControllerAdvice in order to return an ExceptionResponse :</p>\n<pre><code>@RestControllerAdvice\npublic class ExceptionRestController {\n\n    @ResponseBody\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @ExceptionHandler(value = { FunctionalException.class })\n    public ExceptionResponse handleFunctionalException(FunctionalException exception) {\n        return new ExceptionResponse(exception, Map.of(&quot;uniqueIdentifier&quot;, exception.getUniqueIdentifier()));\n    }\n\n    @ResponseBody\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public ExceptionResponse handleAllUncaughtException(Exception exception) {\n        return new ExceptionResponse(exception);\n    }\n\n}\n</code></pre>\n<p>The ExceptionResponse is:</p>\n<pre><code>@Log4j2\n@Data\npublic class ExceptionResponse {\n\n    @JsonProperty\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    private final LocalDateTime timestamp;\n\n    @JsonProperty\n    private final String status;\n\n    @JsonProperty\n    private final String error;\n\n    @JsonProperty\n    private String uniqueIdentifier = &quot;&quot;;\n\n    @JsonProperty\n    private final String message;\n\n    @JsonProperty\n    private final String stackTrace;\n    \n    public ExceptionResponse(Exception exception) {\n        timestamp = LocalDateTime.now();\n        status = String.valueOf(HttpStatus.INTERNAL_SERVER_ERROR.value());\n        error = HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase();\n        message = exception.getMessage();\n        stackTrace = ExceptionUtils.getStackTrace(exception);\n        log.error(stackTrace);\n    }\n    \n    public ExceptionResponse(Exception exception, Map&lt;String, String&gt; fieldValue) {\n        timestamp = LocalDateTime.now();\n        status = fieldValue.getOrDefault(&quot;status&quot;, String.valueOf(HttpStatus.INTERNAL_SERVER_ERROR.value()));\n        error = fieldValue.getOrDefault(&quot;error&quot;, HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase());\n        uniqueIdentifier = fieldValue.getOrDefault(&quot;uniqueIdentifier&quot;, &quot;&quot;);\n        message = fieldValue.getOrDefault(&quot;message&quot;, exception.getMessage());\n        stackTrace = ExceptionUtils.getStackTrace(exception);\n        log.error(stackTrace);\n    }\n\n    @JsonCreator\n    public ExceptionResponse(LocalDateTime timestamp, String status, String error, String uniqueIdentifier,\n            String message, String stackTrace) {\n        this.timestamp = timestamp;\n        this.status = status;\n        this.error = error;\n        this.uniqueIdentifier = uniqueIdentifier;\n        this.message = message;\n        this.stackTrace = stackTrace;\n    }\n\n}\n</code></pre>\n<p>In the microservice &quot;Supermarket&quot; I have to call the exposed API of microservice &quot;Maps&quot; using OpenFeign:</p>\n<pre><code>@FeignClient(name = &quot;mapsClient&quot;, url = &quot;http://localhost:9888&quot;, configuration = ClientConfiguration.class)\npublic interface MapsRemoteService {\n\n    @GetMapping(value = &quot;/api/location/{id}&quot;)\n    LocationDto findLocationById(@PathVariable(&quot;id&quot;) Long id);\n\n}\n</code></pre>\n<p>Now, when calling this MapsRemoteService.findLocationById(id) with an id not present in DB, I would like to retrieve the ExceptionResponse</p>\n<p>So I tried by creating an ErrorDecoder:</p>\n<p>ClientConfiguration:</p>\n<pre><code>@Configuration\npublic class ClientConfiguration {\n\n    @Bean\n    public OkHttpClient client() {\n        return new OkHttpClient();\n    }\n\n    @Bean\n    Logger.Level feignLoggerLevel() {\n        return Logger.Level.FULL;\n    }\n    \n    @Bean\n    public ErrorDecoder errorDecoder() {\n        return new ClientErrorDecoder();\n    }\n\n}\n</code></pre>\n<p>ErrorDecoder:</p>\n<pre><code>public class ClientErrorDecoder implements ErrorDecoder {\n\n    @Override\n    public Exception decode(String methodKey, Response response) {\n        ObjectMapper mapper = new ObjectMapper();\n        RemoteServiceException remoteServiceException = null;\n        \n        // Attempt 1\n        try (InputStream inputStream = response.body().asInputStream())  {\n            ExceptionResponse exceptionResponse = mapper.readValue(inputStream, ExceptionResponse.class);\n            remoteServiceException = buildRemoteServiceException(exceptionResponse);\n        } catch (IOException e) {\n\n        }\n        \n        // Attempt 2\n        try (Reader reader = response.body().asReader())  {\n            ExceptionResponse exceptionResponse = mapper.readValue(reader, ExceptionResponse.class);\n            remoteServiceException = buildRemoteServiceException(exceptionResponse);\n        } catch (IOException e) {\n\n        }\n        \n        // Attempt 3\n        try {\n            String body = response.body().toString();\n            ExceptionResponse exceptionResponse = mapper.readValue(body, ExceptionResponse.class);\n            remoteServiceException = buildRemoteServiceException(exceptionResponse);\n        } catch (IOException e) {\n\n        }\n        \n        if(remoteServiceException == null){\n            return new ErrorDecoder.Default().decode(methodKey, response);\n        }\n\n        return remoteServiceException;\n    }\n    \n    private static RemoteServiceException buildRemoteServiceException(ExceptionResponse exceptionResponse) {\n        return new RemoteServiceException(exceptionResponse.getMessage(), exceptionResponse.getUniqueIdentifier());\n    }\n\n}\n</code></pre>\n<p>I tried everything I found on the internet, but nothing works.</p>\n<p>The strange thing is that I saved the inputStream as a temporaryFile into the resource folder. and it is correct.</p>\n<p>I used this code to write the file:</p>\n<pre><code>try (InputStream inputStream = response.body().asInputStream())  {\n    File targetFile = new File(&quot;src/main/resources/targetFile.tmp&quot;);\n\n    java.nio.file.Files.copy(\n              inputStream, \n              targetFile.toPath(), \n              StandardCopyOption.REPLACE_EXISTING);\n\n    IOUtils.closeQuietly(inputStream);\n} catch (IOException e) {\n    // return new ErrorDecoder.Default().decode(methodKey, response);\n}\n</code></pre>\n<p>and this is the content of the file:</p>\n<pre><code>{\n    &quot;timestamp&quot;:&quot;2023-07-25T22:38:48.530815&quot;,\n    &quot;status&quot;:&quot;500&quot;,\n    &quot;error&quot;:&quot;Internal Server Error&quot;,\n    &quot;uniqueIdentifier&quot;:&quot;bc4bd3ae-2d40-4863-9e9f-6b10ecece27d&quot;,\n    &quot;message&quot;:&quot;No Location found with the id: 10&quot;,\n    &quot;stackTrace&quot;:&quot;7711 characters avoided for readability&quot;\n}\n</code></pre>\n<p>and it represents perfectly the class ExceptionResponse with the 6 fields.</p>\n<p>So it seems there is an issue while using <br></p>\n<pre><code>mapper.readValue(inputStream, ExceptionResponse.class);\n</code></pre>\n"},{"tags":["java","db2","apache-kafka-connect","debezium","change-data-capture"],"owner":{"account_id":29092965,"reputation":11,"user_id":22286389,"display_name":"George Bernard Tan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690356783,"creation_date":1690356783,"question_id":76768945,"body_markdown":"I have a local instance of a kafka connect cluster. I am trying to replicate data from a DB2(v11.5.8.0) database. I am using debezium connector(v2.2.1) to capture a table in DB2 that contains a column with an XML data type. Based on the [documentation](https://debezium.io/documentation/reference/2.3/connectors/db2.html#db2-basic-types), if I am correct, xml data type of db2 should be automatically changed into a string data type. However once I start my connector, during the initial snapshot phase, I get this logs:\r\n\r\n&gt; kafka-connect    | \\[2023-07-26 02:40:06,642\\] WARN Unexpected JDBC type &#39;1111&#39; for column &#39;DATA&#39; that will be ignored (io.debezium.relational.TableSchemaBuilder)\r\n&gt;\r\n&gt; kafka-connect    | \\[2023-07-26 02:40:06,643\\] WARN No converter found for column DB2INST1.TEST_XML.DATA of type XML. The column will not be part of change events for that table. (io.debezium.relational.TableSchemaBuilder)\r\n\r\nI have tried to use custom converters, with the following code:\r\n\r\n```\r\npublic class XmlConverter implements CustomConverter&lt;SchemaBuilder, RelationalColumn&gt; {\r\n\r\n    private SchemaBuilder xmlSchema;\r\n\r\n    @Override\r\n    public void configure(Properties props) {\r\n        xmlSchema = SchemaBuilder.string().name(props.getProperty(&quot;schema.name&quot;));\r\n    }\r\n\r\n    @Override\r\n    public void converterFor(RelationalColumn column,\r\n        ConverterRegistration&lt;SchemaBuilder&gt; registration) {\r\n\r\n        if (&quot;xml&quot;.equalsIgnoreCase(column.typeName())) {\r\n            registration.register(xmlSchema, x -&gt; x.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThere are no warning logs anymore however, the data that I am getting is this &quot;com.ibm.db2.jcc.am.dc@413116b6&quot;. Which is if I am correct, is a string representation of an object in java. I don&#39;t know why it is like that but I think It should have been the xml data instead.","title":"Kafka Connect&#39;s Debezium Connector for DB2 not capturing column with XML data type","body":"<p>I have a local instance of a kafka connect cluster. I am trying to replicate data from a DB2(v11.5.8.0) database. I am using debezium connector(v2.2.1) to capture a table in DB2 that contains a column with an XML data type. Based on the <a href=\"https://debezium.io/documentation/reference/2.3/connectors/db2.html#db2-basic-types\" rel=\"nofollow noreferrer\">documentation</a>, if I am correct, xml data type of db2 should be automatically changed into a string data type. However once I start my connector, during the initial snapshot phase, I get this logs:</p>\n<blockquote>\n<p>kafka-connect    | [2023-07-26 02:40:06,642] WARN Unexpected JDBC type '1111' for column 'DATA' that will be ignored (io.debezium.relational.TableSchemaBuilder)</p>\n<p>kafka-connect    | [2023-07-26 02:40:06,643] WARN No converter found for column DB2INST1.TEST_XML.DATA of type XML. The column will not be part of change events for that table. (io.debezium.relational.TableSchemaBuilder)</p>\n</blockquote>\n<p>I have tried to use custom converters, with the following code:</p>\n<pre><code>public class XmlConverter implements CustomConverter&lt;SchemaBuilder, RelationalColumn&gt; {\n\n    private SchemaBuilder xmlSchema;\n\n    @Override\n    public void configure(Properties props) {\n        xmlSchema = SchemaBuilder.string().name(props.getProperty(&quot;schema.name&quot;));\n    }\n\n    @Override\n    public void converterFor(RelationalColumn column,\n        ConverterRegistration&lt;SchemaBuilder&gt; registration) {\n\n        if (&quot;xml&quot;.equalsIgnoreCase(column.typeName())) {\n            registration.register(xmlSchema, x -&gt; x.toString());\n        }\n    }\n}\n</code></pre>\n<p>There are no warning logs anymore however, the data that I am getting is this &quot;com.ibm.db2.jcc.am.dc@413116b6&quot;. Which is if I am correct, is a string representation of an object in java. I don't know why it is like that but I think It should have been the xml data instead.</p>\n"},{"tags":["java","selenium-webdriver","playwright","playwright-java"],"answers":[{"comments":[{"owner":{"account_id":14407711,"reputation":91,"user_id":10407342,"display_name":"goney225"},"score":0,"creation_date":1690199231,"post_id":76753106,"comment_id":135315461,"body_markdown":"I implemented this. Page with /home is now closed but the same issue when I tried to close context\n&#39;Error: Target page, context or browser has been closed","body":"I implemented this. Page with /home is now closed but the same issue when I tried to close context &#39;Error: Target page, context or browser has been closed"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1690201075,"post_id":76753106,"comment_id":135315873,"body_markdown":"@goney225 Added second block of code to close context (closing context should also close all related pages to context).\n\nPlease, check","body":"@goney225 Added second block of code to close context (closing context should also close all related pages to context).  Please, check"},{"owner":{"account_id":14407711,"reputation":91,"user_id":10407342,"display_name":"goney225"},"score":0,"creation_date":1690268553,"post_id":76753106,"comment_id":135325602,"body_markdown":"Unfortunately still first browser is closed too. I want to close only this browser context which has &quot;/home&quot; in url. I see that this url is closed but first too and error target page, context or browser has been closed is displayed","body":"Unfortunately still first browser is closed too. I want to close only this browser context which has &quot;/home&quot; in url. I see that this url is closed but first too and error target page, context or browser has been closed is displayed"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1690270997,"post_id":76753106,"comment_id":135326059,"body_markdown":"@goney225 are you sure that first url doesn&#39;t contain /home? Cause I tested this code with example.com and dou.ua by condition .ua and it closed second context and hadn&#39;t closed first.","body":"@goney225 are you sure that first url doesn&#39;t contain /home? Cause I tested this code with example.com and dou.ua by condition .ua and it closed second context and hadn&#39;t closed first."},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1690271151,"post_id":76753106,"comment_id":135326091,"body_markdown":"Can you provide me your resource? Or you can debug expression and print urls in console","body":"Can you provide me your resource? Or you can debug expression and print urls in console"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1690271874,"post_id":76753106,"comment_id":135326247,"body_markdown":"@goney225 added third example of code (not so nice) that also works for me. \nAlso, you can easily debug it if you need","body":"@goney225 added third example of code (not so nice) that also works for me.  Also, you can easily debug it if you need"},{"owner":{"account_id":14407711,"reputation":91,"user_id":10407342,"display_name":"goney225"},"score":0,"creation_date":1690276304,"post_id":76753106,"comment_id":135327232,"body_markdown":"After debugging this part of code with stream is working because browser with /home in url is closed. I was wondering now why remaining part of code is not executed. I have one line code with method on click on button. It looks like this exist browser lost focus and returned &quot;target page, context or browser has been closed&quot;","body":"After debugging this part of code with stream is working because browser with /home in url is closed. I was wondering now why remaining part of code is not executed. I have one line code with method on click on button. It looks like this exist browser lost focus and returned &quot;target page, context or browser has been closed&quot;"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1690277354,"post_id":76753106,"comment_id":135327451,"body_markdown":"@goney225 be sure that you execute button.click() in context that is alive. for example, try to get button from `Page page = browser.contexts()[0].pages()[0]`. \n`page.waitForSelector` ...","body":"@goney225 be sure that you execute button.click() in context that is alive. for example, try to get button from <code>Page page = browser.contexts()[0].pages()[0]</code>.  <code>page.waitForSelector</code> ..."},{"owner":{"account_id":14407711,"reputation":91,"user_id":10407342,"display_name":"goney225"},"score":0,"creation_date":1690281180,"post_id":76753106,"comment_id":135328251,"body_markdown":"I used this and error about target page, context or browser has been closed\n`Page page = browser.contexts().get(0).pages().get(0);`","body":"I used this and error about target page, context or browser has been closed <code>Page page = browser.contexts().get(0).pages().get(0);</code>"},{"owner":{"account_id":14407711,"reputation":91,"user_id":10407342,"display_name":"goney225"},"score":0,"creation_date":1690367664,"post_id":76753106,"comment_id":135342654,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254675/discussion-between-goney225-and-yaroslavm).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254675/discussion-between-goney225-and-yaroslavm\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690356399,"creation_date":1690191013,"answer_id":76753106,"question_id":76751953,"body_markdown":"You need to go into browser contexts, extract list of pages (joining into one list) and find a page, which containing url.\r\n\r\nFor example, this code do something like this\r\n\r\n\r\n    List&lt;Page&gt; result = new ArrayList&lt;&gt;();\r\n    browser.contexts().stream()\r\n                        .map(BrowserContext::pages)\r\n                        .forEach(result::addAll);\r\n    result.stream()\r\n          .filter(p -&gt; p.url().contains(&quot;/home&quot;))\r\n          .findFirst()\r\n          .ifPresent(Page::close);\r\n\r\nExample how to close page and context\r\n\r\n    public Optional&lt;Page&gt; containsUrl(List&lt;Page&gt; pages, String urlPart) {\r\n            return pages.stream().filter(p -&gt; p.url().contains(urlPart)).findFirst();\r\n    }\r\n\r\n    ...\r\n\r\n    browser.contexts().stream().filter(browserContext -&gt; containsUrl(browserContext.pages(), &quot;/home&quot;).isPresent())\r\n                            .findAny().ifPresent(BrowserContext::close);\r\n\r\n\r\nor less nice solution\r\n\r\n    //in test\r\n    withoutContext(browser, &quot;/home&quot;);\r\n\r\n    // somewhere in TestRunner or BaseTest\r\n    public void withoutContext(Browser browser, String urlPart) {\r\n     for (BrowserContext context: browser.contexts()) {\r\n      for(Page contextPage: context.pages()) {\r\n        if (contextPage.url().contains(urlPart)) {\r\n            context.close();\r\n            break;\r\n        }\r\n      }\r\n     }\r\n    }\r\n","title":"close browser context","body":"<p>You need to go into browser contexts, extract list of pages (joining into one list) and find a page, which containing url.</p>\n<p>For example, this code do something like this</p>\n<pre><code>List&lt;Page&gt; result = new ArrayList&lt;&gt;();\nbrowser.contexts().stream()\n                    .map(BrowserContext::pages)\n                    .forEach(result::addAll);\nresult.stream()\n      .filter(p -&gt; p.url().contains(&quot;/home&quot;))\n      .findFirst()\n      .ifPresent(Page::close);\n</code></pre>\n<p>Example how to close page and context</p>\n<pre><code>public Optional&lt;Page&gt; containsUrl(List&lt;Page&gt; pages, String urlPart) {\n        return pages.stream().filter(p -&gt; p.url().contains(urlPart)).findFirst();\n}\n\n...\n\nbrowser.contexts().stream().filter(browserContext -&gt; containsUrl(browserContext.pages(), &quot;/home&quot;).isPresent())\n                        .findAny().ifPresent(BrowserContext::close);\n</code></pre>\n<p>or less nice solution</p>\n<pre><code>//in test\nwithoutContext(browser, &quot;/home&quot;);\n\n// somewhere in TestRunner or BaseTest\npublic void withoutContext(Browser browser, String urlPart) {\n for (BrowserContext context: browser.contexts()) {\n  for(Page contextPage: context.pages()) {\n    if (contextPage.url().contains(urlPart)) {\n        context.close();\n        break;\n    }\n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":14407711,"reputation":91,"user_id":10407342,"display_name":"goney225"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690356399,"creation_date":1690180703,"question_id":76751953,"body_markdown":"I am using playwright and Java. On test level I have\r\n\r\n    List&lt;BrowserContext&gt; browserContexts = browser.contexts();\r\n    browserContexts.get(1).close();\r\nIn debug mode I have two browsers context with a difference at the url name. Now I want to prepare a method which returns int for particular url which I need to used in this test. So this method I can put in \r\n\r\n    browserContexts.get(nameOfThisMethod).close();\r\nUrl name which I want to close has &quot;/home&quot; in name. I don&#39;t know how to write this method which will include steps to identify url which contains /home. Can someone help?","title":"close browser context","body":"<p>I am using playwright and Java. On test level I have</p>\n<pre><code>List&lt;BrowserContext&gt; browserContexts = browser.contexts();\nbrowserContexts.get(1).close();\n</code></pre>\n<p>In debug mode I have two browsers context with a difference at the url name. Now I want to prepare a method which returns int for particular url which I need to used in this test. So this method I can put in</p>\n<pre><code>browserContexts.get(nameOfThisMethod).close();\n</code></pre>\n<p>Url name which I want to close has &quot;/home&quot; in name. I don't know how to write this method which will include steps to identify url which contains /home. Can someone help?</p>\n"},{"tags":["java","exception","unhandled"],"answers":[{"comments":[{"owner":{"account_id":5334520,"reputation":527,"user_id":4254033,"accept_rate":63,"display_name":"skulpt"},"score":0,"creation_date":1421001699,"post_id":27890631,"comment_id":44182214,"body_markdown":"Thanks a lot! It seems I didn&#39;t really understand the purpose of try-catch blocks until now.","body":"Thanks a lot! It seems I didn&#39;t really understand the purpose of try-catch blocks until now."}],"tags":[],"owner":{"account_id":1650142,"reputation":9010,"user_id":1520907,"accept_rate":100,"display_name":"user123"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1421001632,"creation_date":1421001309,"answer_id":27890631,"question_id":27890597,"body_markdown":"What do you mean &quot;return&quot; an exception? When an exception is thrown, it bubbles up the call stack.\r\n\r\nYou are not handling it in this case. It reaches `main` and thus you have an unhandled exception.\r\n\r\nIf you want to handle an exception, you&#39;d use a `try-catch` block. Preferably surrounding `main` in this case.\r\n\r\n    try {\r\n        // Code that might throw\r\n        // an exception.\r\n    } catch (Exception e) {\r\n        // Handle it.\r\n    }\r\n\r\nAnother solution would be to specify that `main` throws a &quot;`RandomWeirdException`&quot;, and not `catch` it in the first place.\r\n\r\n    public static void main(String[] args) throws RandomWeirdException { ... }\r\n\r\nIt&#39;s preferable to just let functions `throw`, unless you can reasonably handle the exceptional case.\r\nIf you just `catch` for the sake of catching without doing anything meaningful in an exceptional case, it&#39;s the equivalent of hiding an error sometimes.","title":"Unhandled Exception in Java","body":"<p>What do you mean \"return\" an exception? When an exception is thrown, it bubbles up the call stack.</p>\n\n<p>You are not handling it in this case. It reaches <code>main</code> and thus you have an unhandled exception.</p>\n\n<p>If you want to handle an exception, you'd use a <code>try-catch</code> block. Preferably surrounding <code>main</code> in this case.</p>\n\n<pre><code>try {\n    // Code that might throw\n    // an exception.\n} catch (Exception e) {\n    // Handle it.\n}\n</code></pre>\n\n<p>Another solution would be to specify that <code>main</code> throws a \"<code>RandomWeirdException</code>\", and not <code>catch</code> it in the first place.</p>\n\n<pre><code>public static void main(String[] args) throws RandomWeirdException { ... }\n</code></pre>\n\n<p>It's preferable to just let functions <code>throw</code>, unless you can reasonably handle the exceptional case.\nIf you just <code>catch</code> for the sake of catching without doing anything meaningful in an exceptional case, it's the equivalent of hiding an error sometimes.</p>\n"},{"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421001495,"creation_date":1421001495,"answer_id":27890658,"question_id":27890597,"body_markdown":"You are using the `execute` method, without creating a try-catch block for the `RandomWiredException` which it declares that it is throwing. Java required all checked exceptions (that extend `Exception`) to be properly handled by the caller - either with a try-catch block, or by adding `throws` to the calling method (in this case, it is `main`, though, so it shouldn&#39;t have a `throws` clause).\r\n\r\nSo the proper way to do it is like:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            double x=Math.random();\r\n            operation op=new operation();\r\n            try {\r\n                op.execute(x);\r\n            } catch ( RandomWiredException e ) {\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n        }\r\n    }\r\n\r\nThe actual code in the catch clause is up to your application&#39;s requirements, of course.\r\n\r\nNote: use uppercase initial letter when you name classes. This is one of the Java styling conventions that will improve your code readability.","title":"Unhandled Exception in Java","body":"<p>You are using the <code>execute</code> method, without creating a try-catch block for the <code>RandomWiredException</code> which it declares that it is throwing. Java required all checked exceptions (that extend <code>Exception</code>) to be properly handled by the caller - either with a try-catch block, or by adding <code>throws</code> to the calling method (in this case, it is <code>main</code>, though, so it shouldn't have a <code>throws</code> clause).</p>\n\n<p>So the proper way to do it is like:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        double x=Math.random();\n        operation op=new operation();\n        try {\n            op.execute(x);\n        } catch ( RandomWiredException e ) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n}\n</code></pre>\n\n<p>The actual code in the catch clause is up to your application's requirements, of course.</p>\n\n<p>Note: use uppercase initial letter when you name classes. This is one of the Java styling conventions that will improve your code readability.</p>\n"},{"tags":[],"owner":{"account_id":28942884,"reputation":1,"user_id":22169096,"display_name":"Ayush Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690356372,"creation_date":1690356372,"answer_id":76768892,"question_id":27890597,"body_markdown":"Write **throws Exception** after public static void main(String[] args), then it will work well.\r\n\r\n    public class Main {\r\n      public static void main(String[] args) throws Exception {\r\n        //Your code here\r\n      }\r\n    }","title":"Unhandled Exception in Java","body":"<p>Write <strong>throws Exception</strong> after public static void main(String[] args), then it will work well.</p>\n<pre><code>public class Main {\n  public static void main(String[] args) throws Exception {\n    //Your code here\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5334520,"reputation":527,"user_id":4254033,"accept_rate":63,"display_name":"skulpt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73131,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":27890631,"answer_count":3,"score":8,"last_activity_date":1690356372,"creation_date":1421001124,"question_id":27890597,"body_markdown":"I&#39;m currently in the process of learning how to properly do custom exception and I stumbled upon a problem. Whenever I try to utilize an object of a class that throws this custom exception, my IDE&#39;s debugger (I&#39;m using IntelliJ idea) says &quot;Unhandled Exception: InsertExceptionName()&quot;. The code, in a simplified manner, looks something like this. In this case, it should return an exception if the randomly generated number is &lt;0.5, and return a number otherwise, but it won&#39;t do that.\r\nWhat am I missing?\r\n\r\n\r\n\r\n\r\n    public class main {\r\n        public static void main(String[] args) {\r\n            double x=Math.random();\r\n            operation op=new operation();\r\n            op.execute(x);\r\n       }\r\n    }\r\n\r\n-\r\n\r\n    public class operation {\r\n        public operation() {\r\n        }\r\n\r\n        public double execute(double x) throws RandomWeirdException {\r\n            if(x&lt;0.5) {\r\n                throw new RandomWeirdException(&quot;&lt;0.5&quot;);\r\n            }\r\n            return x;\r\n        }\r\n    }\r\n\r\n-\r\n\r\n    public class RandomWeirdException extends Exception{\r\n        public RandomWeirdException() {\r\n            super();\r\n        }\r\n        public RandomWeirdException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n","title":"Unhandled Exception in Java","body":"<p>I'm currently in the process of learning how to properly do custom exception and I stumbled upon a problem. Whenever I try to utilize an object of a class that throws this custom exception, my IDE's debugger (I'm using IntelliJ idea) says \"Unhandled Exception: InsertExceptionName()\". The code, in a simplified manner, looks something like this. In this case, it should return an exception if the randomly generated number is &lt;0.5, and return a number otherwise, but it won't do that.\nWhat am I missing?</p>\n\n<pre><code>public class main {\n    public static void main(String[] args) {\n        double x=Math.random();\n        operation op=new operation();\n        op.execute(x);\n   }\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>public class operation {\n    public operation() {\n    }\n\n    public double execute(double x) throws RandomWeirdException {\n        if(x&lt;0.5) {\n            throw new RandomWeirdException(\"&lt;0.5\");\n        }\n        return x;\n    }\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>public class RandomWeirdException extends Exception{\n    public RandomWeirdException() {\n        super();\n    }\n    public RandomWeirdException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle"],"owner":{"account_id":29093161,"reputation":1,"user_id":22286551,"display_name":"Ravikumar Jayanthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690356256,"creation_date":1690356256,"question_id":76768876,"body_markdown":"while opening a form in the Oracle-EBS application in the edge browser ,it is always prompting for jnlp frmservlet either for download or open the file. So how i can do this automatic without such prompting it should open the respective form.\r\nI already done some settings in edge browser(edge) like Registry policy Appwed urls,allowed files,etc and also done settings in java configure application prompting for jnlp file---give allow all.\r\nSo even though done the above settings it is still prompting. Can you suggest what need to do further.Please hep me on this  \r\n\r\nit should not ask for download/open file ,automatically the file has to be open when we try to open it in Oracle EBS apllication .","title":"how to automatically open the oracle form without prompting for jnlp frmservlet in edge browser","body":"<p>while opening a form in the Oracle-EBS application in the edge browser ,it is always prompting for jnlp frmservlet either for download or open the file. So how i can do this automatic without such prompting it should open the respective form.\nI already done some settings in edge browser(edge) like Registry policy Appwed urls,allowed files,etc and also done settings in java configure application prompting for jnlp file---give allow all.\nSo even though done the above settings it is still prompting. Can you suggest what need to do further.Please hep me on this</p>\n<p>it should not ask for download/open file ,automatically the file has to be open when we try to open it in Oracle EBS apllication .</p>\n"},{"tags":["java","mysql","while-loop","logical-operators"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690260295,"post_id":76759510,"comment_id":135324578,"body_markdown":"Before the `while` loop: `boolean exists = false;`. Change condition to `rs.next() &amp;&amp; !exists`. Make sure to set `exists` to `true` when appropriate. At least, that seems to be what you want from your description. But I&#39;m not sure the code does what you think it does (I&#39;d need more context to be sure).","body":"Before the <code>while</code> loop: <code>boolean exists = false;</code>. Change condition to <code>rs.next() &amp;&amp; !exists</code>. Make sure to set <code>exists</code> to <code>true</code> when appropriate. At least, that seems to be what you want from your description. But I&#39;m not sure the code does what you think it does (I&#39;d need more context to be sure)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690260567,"post_id":76759510,"comment_id":135324603,"body_markdown":"As an aside, you&#39;re creating `valChecker` wrong. Have it use `committe_name = ?`, and then use a `PreparedStatement` to set the parameter. Never use string concatenation to set parameters of SQL queries.","body":"As an aside, you&#39;re creating <code>valChecker</code> wrong. Have it use <code>committe_name = ?</code>, and then use a <code>PreparedStatement</code> to set the parameter. Never use string concatenation to set parameters of SQL queries."},{"owner":{"account_id":3398436,"reputation":1,"user_id":2851358,"display_name":"janet"},"score":0,"creation_date":1690261369,"post_id":76759510,"comment_id":135324663,"body_markdown":"String valChecker = &quot;SELECT * FROM `committee_memba` where (Rank= &#39;Chairperson&#39; or Rank=&#39;Vice-Chair&#39;) and committee_name=?&quot;; \n                pst.setString(1, jComboBox1.getSelectedItem().toString());\n\nI get the error: \njava.sql.SQLException: No value specified for parameter 1","body":"String valChecker = &quot;SELECT * FROM <code>committee_memba</code> where (Rank= &#39;Chairperson&#39; or Rank=&#39;Vice-Chair&#39;) and committee_name=?&quot;;                  pst.setString(1, jComboBox1.getSelectedItem().toString());  I get the error:  java.sql.SQLException: No value specified for parameter 1"},{"owner":{"account_id":3398436,"reputation":1,"user_id":2851358,"display_name":"janet"},"score":0,"creation_date":1690263313,"post_id":76759510,"comment_id":135324872,"body_markdown":"using if(rs.next()&amp;&amp;!exists){} will only fulfil one condition, eg Check chairperson and will add many vice-chairs or if it checks for vice-chair, add many Chairperson","body":"using if(rs.next()&amp;&amp;!exists){} will only fulfil one condition, eg Check chairperson and will add many vice-chairs or if it checks for vice-chair, add many Chairperson"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690266142,"post_id":76759510,"comment_id":135325197,"body_markdown":"Are you saying that your code first displays the `JOptionPane` with the message _Your Rank already Exist_ and then performs the [database] insert?","body":"Are you saying that your code first displays the <code>JOptionPane</code> with the message <i>Your Rank already Exist</i> and then performs the [database] insert?"}],"answers":[{"tags":[],"owner":{"account_id":20606083,"reputation":15,"user_id":15126306,"display_name":"deft artisan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690261694,"creation_date":1690260993,"answer_id":76759561,"question_id":76759510,"body_markdown":"If you do not wish to utilize a flag, abstract into a boolean method, and use the return statement to exit from the first condition.\r\n\r\nAlternatively, you could use `JOptionPane.showConfirmMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;, JOptionPane.YES_NO_CANCEL_OPTION)` which will interrupt.","title":"How to check for a condition within a while loop java","body":"<p>If you do not wish to utilize a flag, abstract into a boolean method, and use the return statement to exit from the first condition.</p>\n<p>Alternatively, you could use <code>JOptionPane.showConfirmMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;, JOptionPane.YES_NO_CANCEL_OPTION)</code> which will interrupt.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690267661,"creation_date":1690267661,"answer_id":76760076,"question_id":76759510,"body_markdown":"First of all, use a parameterized query instead of hard-conding your parameters in your SQL:\r\n\r\n    String valChecker = &quot;SELECT * FROM `committee_memba` where Rank= ? and \r\n     committee_name=?&quot;;\r\n    PreparedStatement stmt = conn.prepareStatement(valChecker);\r\n    stmt.setString(1, rank);\r\n    stmt.setString(2, jComboBox1.getSelectedItem().toString());\r\n    rs = stmt.executeQuery();\r\n\r\nNow if you just want to test if a rank is already in the table before you add it, you just need to check:\r\n\r\n\r\n    boolean exists = rs.next();\r\n    stmt.close();\r\n    \r\n    if (exists) {\r\n        JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;);\r\n    } else {\r\n        pst.setString(3, rank);\r\n        pst.execute();\r\n        JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);}\r\n    }\r\n\r\n","title":"How to check for a condition within a while loop java","body":"<p>First of all, use a parameterized query instead of hard-conding your parameters in your SQL:</p>\n<pre><code>String valChecker = &quot;SELECT * FROM `committee_memba` where Rank= ? and \n committee_name=?&quot;;\nPreparedStatement stmt = conn.prepareStatement(valChecker);\nstmt.setString(1, rank);\nstmt.setString(2, jComboBox1.getSelectedItem().toString());\nrs = stmt.executeQuery();\n</code></pre>\n<p>Now if you just want to test if a rank is already in the table before you add it, you just need to check:</p>\n<pre><code>boolean exists = rs.next();\nstmt.close();\n\nif (exists) {\n    JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;);\n} else {\n    pst.setString(3, rank);\n    pst.execute();\n    JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398436,"reputation":1,"user_id":2851358,"display_name":"janet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690356185,"creation_date":1690356185,"answer_id":76768871,"question_id":76759510,"body_markdown":"If someone had the problem I had, am happy to share assistance I got outside this forum, perhaps it could save someone\r\n\r\n\r\n     String valChecker = &quot;SELECT * FROM `committee_memba` where Rank= &#39;&quot;+rank+&quot;&#39;  and committee_name=&#39;&quot;+ jComboBox1.getSelectedItem().toString() + &quot;&#39;&quot;;\r\n               \r\n                PreparedStatement stmt = conn.prepareStatement(valChecker);\r\n                rs = stmt.executeQuery();\r\n                 \r\n                \r\n                    \r\n                        \r\n                        if (rs.next() &amp;&amp; (rank.equals(&quot;Chairperson&quot;) || rank.equals(&quot;Vice-Chair&quot;))) {\r\n                            \r\n                            JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot; + rank + &quot; before adding another&quot;);\r\n                        } else {\r\n                            pst.setString(3, rank);\r\n                            pst.execute();\r\n                            JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);\r\n                        }","title":"How to check for a condition within a while loop java","body":"<p>If someone had the problem I had, am happy to share assistance I got outside this forum, perhaps it could save someone</p>\n<pre><code> String valChecker = &quot;SELECT * FROM `committee_memba` where Rank= '&quot;+rank+&quot;'  and committee_name='&quot;+ jComboBox1.getSelectedItem().toString() + &quot;'&quot;;\n           \n            PreparedStatement stmt = conn.prepareStatement(valChecker);\n            rs = stmt.executeQuery();\n             \n            \n                \n                    \n                    if (rs.next() &amp;&amp; (rank.equals(&quot;Chairperson&quot;) || rank.equals(&quot;Vice-Chair&quot;))) {\n                        \n                        JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot; + rank + &quot; before adding another&quot;);\n                    } else {\n                        pst.setString(3, rank);\n                        pst.execute();\n                        JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);\n                    }\n</code></pre>\n"}],"owner":{"account_id":3398436,"reputation":1,"user_id":2851358,"display_name":"janet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690356185,"creation_date":1690260154,"question_id":76759510,"body_markdown":"```java\r\nString valChecker = &quot;SELECT * FROM `committee_memba` where (Rank= &#39;Chairperson&#39; or Rank=&#39;Vice-Chair&#39;) and committee_name=&#39;&quot; + jComboBox1.getSelectedItem().toString() + &quot;&#39;&quot;;\r\nSystem.out.println(valChecker);\r\nPreparedStatement stmt = conn.prepareStatement(valChecker);\r\nrs = stmt.executeQuery();\r\nwhile (rs.next()){\r\n    String rnk = rs.getString(&quot;Rank&quot;);\r\n    System.err.println(rnk);\r\n    if ((rnk.equals(&quot;Chairperson&quot;) &amp;&amp; rank.equals(&quot;Chairperson&quot;)) || (rnk.equals(&quot;Vice-Chair&quot;) &amp;&amp; rank.equals(&quot;Vice-Chair&quot;))) {\r\n        JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;);\r\n    else {\r\n        pst.setString(3, rank);\r\n        pst.execute();\r\n        JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);\r\n    }\r\n```\r\nThe Select query checks for existing rank of **chairperson** and **vice-chair** and it works well.\r\n\r\nI want to save a new record with a chairperson or vice-chair if and only if the candidates with the said title does not exist, that is you can only have one chair or vice-chair, but my `JOPtionpane` is reporting well but the **pst.execute()** for inserting is still working, despite the `JOptionpane` giving the error message.\r\n","title":"How to check for a condition within a while loop java","body":"<pre class=\"lang-java prettyprint-override\"><code>String valChecker = &quot;SELECT * FROM `committee_memba` where (Rank= 'Chairperson' or Rank='Vice-Chair') and committee_name='&quot; + jComboBox1.getSelectedItem().toString() + &quot;'&quot;;\nSystem.out.println(valChecker);\nPreparedStatement stmt = conn.prepareStatement(valChecker);\nrs = stmt.executeQuery();\nwhile (rs.next()){\n    String rnk = rs.getString(&quot;Rank&quot;);\n    System.err.println(rnk);\n    if ((rnk.equals(&quot;Chairperson&quot;) &amp;&amp; rank.equals(&quot;Chairperson&quot;)) || (rnk.equals(&quot;Vice-Chair&quot;) &amp;&amp; rank.equals(&quot;Vice-Chair&quot;))) {\n        JOptionPane.showMessageDialog(rootPane, &quot;Your Rank, &quot; + rank + &quot; already Exist, please review your membership or remove &quot;+rank+&quot; before adding another&quot;);\n    else {\n        pst.setString(3, rank);\n        pst.execute();\n        JOptionPane.showMessageDialog(this, &quot;Saved, OK&quot;);\n    }\n</code></pre>\n<p>The Select query checks for existing rank of <strong>chairperson</strong> and <strong>vice-chair</strong> and it works well.</p>\n<p>I want to save a new record with a chairperson or vice-chair if and only if the candidates with the said title does not exist, that is you can only have one chair or vice-chair, but my <code>JOPtionpane</code> is reporting well but the <strong>pst.execute()</strong> for inserting is still working, despite the <code>JOptionpane</code> giving the error message.</p>\n"},{"tags":["java","spring","openapi","code-first","openapi-generator"],"owner":{"account_id":1745534,"reputation":147,"user_id":1595867,"accept_rate":50,"display_name":"beagle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690356111,"creation_date":1689864929,"question_id":76731162,"body_markdown":"Ok, lets step in of what we have and the issues we are currently facing....\r\n\r\nWe have a data model, pretty close to that what is available in other examples.\r\n(all code here in github: https://github.com/straube-jens/swagger)\r\n\r\nWe have a Basis DTO Class *RsvXO* (shitty Name, I know…) which has a List of Class *Pet* inside. *Pet* is an abstract Class and is implemented by *Cat* and *Dog* Class. Service Endpoint is delivering the basis class *RsvXO*. We put the Json Annotations for referencing the Classes *Cat* and *Dog* out of *Pet*. \r\n\r\nWe add the spring swagger-ui dependency to the pom and ran all that, to get the openapi description out of “swagger” generated.\r\n \r\nSure, there is documentation that writes that polymorphic is not covered by openapi which is actually not true for this example, but we will see later.\r\n\r\nThe generated description looks like the following example:\r\n\r\n    {\r\n    \t&quot;openapi&quot;: &quot;3.0.1&quot;,\r\n    \t&quot;info&quot;: {\r\n    \t\t&quot;title&quot;: &quot;OpenAPI definition&quot;,\r\n    \t\t&quot;version&quot;: &quot;v0&quot;\r\n    \t},\r\n    \t&quot;servers&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;url&quot;: &quot;http://127.0.0.1:8080&quot;,\r\n    \t\t\t&quot;description&quot;: &quot;Generated server url&quot;\r\n    \t\t}\r\n    \t],\r\n    \t&quot;paths&quot;: {\r\n    \t\t&quot;/vehicleDecision&quot;: {\r\n    \t\t\t&quot;post&quot;: {\r\n    \t\t\t\t&quot;tags&quot;: [\r\n    \t\t\t\t\t&quot;rest-service&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;operationId&quot;: &quot;createRiskDecission&quot;,\r\n    \t\t\t\t&quot;parameters&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;name&quot;: &quot;rsvXO&quot;,\r\n    \t\t\t\t\t\t&quot;in&quot;: &quot;query&quot;,\r\n    \t\t\t\t\t\t&quot;required&quot;: true,\r\n    \t\t\t\t\t\t&quot;schema&quot;: {\r\n    \t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;responses&quot;: {\r\n    \t\t\t\t\t&quot;200&quot;: {\r\n    \t\t\t\t\t\t&quot;description&quot;: &quot;OK&quot;,\r\n    \t\t\t\t\t\t&quot;content&quot;: {\r\n    \t\t\t\t\t\t\t&quot;*/*&quot;: {\r\n    \t\t\t\t\t\t\t\t&quot;schema&quot;: {\r\n    \t\t\t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t},\r\n    \t&quot;components&quot;: {\r\n    \t\t&quot;schemas&quot;: {\r\n    \t\t\t&quot;Cat&quot;: {\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;allOf&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t\t\t&quot;preferredGardenToPeeIn&quot;: {\r\n    \t\t\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t]\r\n    \t\t\t},\r\n    \t\t\t&quot;Dog&quot;: {\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;allOf&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t\t\t&quot;preferredPostman&quot;: {\r\n    \t\t\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t]\r\n    \t\t\t},\r\n    \t\t\t&quot;Pet&quot;: {\r\n    \t\t\t\t&quot;required&quot;: [\r\n    \t\t\t\t\t&quot;petType&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;name&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;petType&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t},\r\n    \t\t\t\t&quot;discriminator&quot;: {\r\n    \t\t\t\t\t&quot;propertyName&quot;: &quot;petType&quot;\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;RsvXO&quot;: {\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;name&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;pet&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;array&quot;,\r\n    \t\t\t\t\t\t&quot;items&quot;: {\r\n    \t\t\t\t\t\t\t&quot;oneOf&quot;: [\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Cat&quot;\r\n    \t\t\t\t\t\t\t\t},\r\n    \t\t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Dog&quot;\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t]\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;aenderDatum&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n    \t\t\t\t\t\t&quot;format&quot;: &quot;date-time&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIf we use the description on the client side to generate the data model, we get some wired implementation then. The generator is creating the *Pet*, the *Dog* and the *Cat* Classes as needed, that’s fine.\r\n\r\nBut is generates the for the Pet-relation in *RsvXO* another Class called *RsvXOPetInner* Class which is an exact copy of *Pet*. It sets the attribute inside the *RsvXO* to the type of *RsvXOPetInner* Class. \r\nBut there is no relation to *Pet* Class in *RsvXO* or *RsvXOPetInner*.\r\n \r\nSo, it is technically not possible to set a *Dog* or a *Cat* instance inside the List in *RsvXO*, because the type of the Classes does not fit.\r\n\r\n**BUT** \r\n\r\nWe changed the description json which was generated by the Server by hand. Available in the next post:\r\n\r\n    {\r\n    \t&quot;openapi&quot;: &quot;3.0.1&quot;,\r\n    \t&quot;info&quot;: {\r\n    \t\t&quot;title&quot;: &quot;OpenAPI definition&quot;,\r\n    \t\t&quot;version&quot;: &quot;v0&quot;\r\n    \t},\r\n    \t&quot;servers&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;url&quot;: &quot;http://127.0.0.1:8080&quot;,\r\n    \t\t\t&quot;description&quot;: &quot;Generated server url&quot;\r\n    \t\t}\r\n    \t],\r\n    \t&quot;paths&quot;: {\r\n    \t\t&quot;/vehicleDecision&quot;: {\r\n    \t\t\t&quot;post&quot;: {\r\n    \t\t\t\t&quot;tags&quot;: [\r\n    \t\t\t\t\t&quot;rest-service&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;operationId&quot;: &quot;createRiskDecission&quot;,\r\n    \t\t\t\t&quot;parameters&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;name&quot;: &quot;rsvXO&quot;,\r\n    \t\t\t\t\t\t&quot;in&quot;: &quot;query&quot;,\r\n    \t\t\t\t\t\t&quot;required&quot;: true,\r\n    \t\t\t\t\t\t&quot;schema&quot;: {\r\n    \t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;responses&quot;: {\r\n    \t\t\t\t\t&quot;200&quot;: {\r\n    \t\t\t\t\t\t&quot;description&quot;: &quot;OK&quot;,\r\n    \t\t\t\t\t\t&quot;content&quot;: {\r\n    \t\t\t\t\t\t\t&quot;*/*&quot;: {\r\n    \t\t\t\t\t\t\t\t&quot;schema&quot;: {\r\n    \t\t\t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t},\r\n    \t&quot;components&quot;: {\r\n    \t\t&quot;schemas&quot;: {\r\n    \t\t\t&quot;Cat&quot;: {\r\n    \t\t\t\t&quot;required&quot;: [\r\n    \t\t\t\t\t&quot;petType&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;allOf&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;preferredGardenToPeeIn&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;Dog&quot;: {\r\n    \t\t\t\t&quot;required&quot;: [\r\n    \t\t\t\t\t&quot;petType&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;allOf&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;preferredPostman&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;Pet&quot;: {\r\n    \t\t\t\t&quot;oneOf&quot;: [\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Cat&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Dog&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;required&quot;: [\r\n    \t\t\t\t\t&quot;petType&quot;\r\n    \t\t\t\t],\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;name&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;petType&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t},\r\n    \t\t\t\t&quot;discriminator&quot;: {\r\n    \t\t\t\t\t&quot;propertyName&quot;: &quot;petType&quot;\r\n    \t\t\t\t}\r\n    \t\t\t},\r\n    \t\t\t&quot;RsvXO&quot;: {\r\n    \t\t\t\t&quot;type&quot;: &quot;object&quot;,\r\n    \t\t\t\t&quot;properties&quot;: {\r\n    \t\t\t\t\t&quot;name&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;pet&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;array&quot;,\r\n    \t\t\t\t\t\t&quot;items&quot;: {\r\n    \t\t\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t},\r\n    \t\t\t\t\t&quot;aenderDatum&quot;: {\r\n    \t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n    \t\t\t\t\t\t&quot;format&quot;: &quot;date-time&quot;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIf the client generator works over that json, the generated model looks perfect. \r\nSo, there should actually be an option to build polymorphic data model structures with openapi, right?\r\n \r\nSure there is a ArraySchema and Schema Annotation from swagger, that we used as well, but the documentation (https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations) \r\nfor that annotations does not cover our case. \r\n\r\nWe did the last 3 days a lot of try and error and decide now to ask the community for help.\r\n \r\nSo please check out the test-project from github (https://github.com/straube-jens/swagger) and hopefully you will have a solution or another hint for us.\r\n\r\n\r\nGreetings and thanks a lot, Katrin and Jens \r\n","title":"Swagger with abstract Class hierarchy, should work","body":"<p>Ok, lets step in of what we have and the issues we are currently facing....</p>\n<p>We have a data model, pretty close to that what is available in other examples.\n(all code here in github: <a href=\"https://github.com/straube-jens/swagger\" rel=\"nofollow noreferrer\">https://github.com/straube-jens/swagger</a>)</p>\n<p>We have a Basis DTO Class <em>RsvXO</em> (shitty Name, I know…) which has a List of Class <em>Pet</em> inside. <em>Pet</em> is an abstract Class and is implemented by <em>Cat</em> and <em>Dog</em> Class. Service Endpoint is delivering the basis class <em>RsvXO</em>. We put the Json Annotations for referencing the Classes <em>Cat</em> and <em>Dog</em> out of <em>Pet</em>.</p>\n<p>We add the spring swagger-ui dependency to the pom and ran all that, to get the openapi description out of “swagger” generated.</p>\n<p>Sure, there is documentation that writes that polymorphic is not covered by openapi which is actually not true for this example, but we will see later.</p>\n<p>The generated description looks like the following example:</p>\n<pre><code>{\n    &quot;openapi&quot;: &quot;3.0.1&quot;,\n    &quot;info&quot;: {\n        &quot;title&quot;: &quot;OpenAPI definition&quot;,\n        &quot;version&quot;: &quot;v0&quot;\n    },\n    &quot;servers&quot;: [\n        {\n            &quot;url&quot;: &quot;http://127.0.0.1:8080&quot;,\n            &quot;description&quot;: &quot;Generated server url&quot;\n        }\n    ],\n    &quot;paths&quot;: {\n        &quot;/vehicleDecision&quot;: {\n            &quot;post&quot;: {\n                &quot;tags&quot;: [\n                    &quot;rest-service&quot;\n                ],\n                &quot;operationId&quot;: &quot;createRiskDecission&quot;,\n                &quot;parameters&quot;: [\n                    {\n                        &quot;name&quot;: &quot;rsvXO&quot;,\n                        &quot;in&quot;: &quot;query&quot;,\n                        &quot;required&quot;: true,\n                        &quot;schema&quot;: {\n                            &quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\n                        }\n                    }\n                ],\n                &quot;responses&quot;: {\n                    &quot;200&quot;: {\n                        &quot;description&quot;: &quot;OK&quot;,\n                        &quot;content&quot;: {\n                            &quot;*/*&quot;: {\n                                &quot;schema&quot;: {\n                                    &quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    },\n    &quot;components&quot;: {\n        &quot;schemas&quot;: {\n            &quot;Cat&quot;: {\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;allOf&quot;: [\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\n                    },\n                    {\n                        &quot;type&quot;: &quot;object&quot;,\n                        &quot;properties&quot;: {\n                            &quot;preferredGardenToPeeIn&quot;: {\n                                &quot;type&quot;: &quot;string&quot;\n                            }\n                        }\n                    }\n                ]\n            },\n            &quot;Dog&quot;: {\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;allOf&quot;: [\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\n                    },\n                    {\n                        &quot;type&quot;: &quot;object&quot;,\n                        &quot;properties&quot;: {\n                            &quot;preferredPostman&quot;: {\n                                &quot;type&quot;: &quot;string&quot;\n                            }\n                        }\n                    }\n                ]\n            },\n            &quot;Pet&quot;: {\n                &quot;required&quot;: [\n                    &quot;petType&quot;\n                ],\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;name&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;petType&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    }\n                },\n                &quot;discriminator&quot;: {\n                    &quot;propertyName&quot;: &quot;petType&quot;\n                }\n            },\n            &quot;RsvXO&quot;: {\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;name&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;pet&quot;: {\n                        &quot;type&quot;: &quot;array&quot;,\n                        &quot;items&quot;: {\n                            &quot;oneOf&quot;: [\n                                {\n                                    &quot;$ref&quot;: &quot;#/components/schemas/Cat&quot;\n                                },\n                                {\n                                    &quot;$ref&quot;: &quot;#/components/schemas/Dog&quot;\n                                }\n                            ]\n                        }\n                    },\n                    &quot;aenderDatum&quot;: {\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;format&quot;: &quot;date-time&quot;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>If we use the description on the client side to generate the data model, we get some wired implementation then. The generator is creating the <em>Pet</em>, the <em>Dog</em> and the <em>Cat</em> Classes as needed, that’s fine.</p>\n<p>But is generates the for the Pet-relation in <em>RsvXO</em> another Class called <em>RsvXOPetInner</em> Class which is an exact copy of <em>Pet</em>. It sets the attribute inside the <em>RsvXO</em> to the type of <em>RsvXOPetInner</em> Class.\nBut there is no relation to <em>Pet</em> Class in <em>RsvXO</em> or <em>RsvXOPetInner</em>.</p>\n<p>So, it is technically not possible to set a <em>Dog</em> or a <em>Cat</em> instance inside the List in <em>RsvXO</em>, because the type of the Classes does not fit.</p>\n<p><strong>BUT</strong></p>\n<p>We changed the description json which was generated by the Server by hand. Available in the next post:</p>\n<pre><code>{\n    &quot;openapi&quot;: &quot;3.0.1&quot;,\n    &quot;info&quot;: {\n        &quot;title&quot;: &quot;OpenAPI definition&quot;,\n        &quot;version&quot;: &quot;v0&quot;\n    },\n    &quot;servers&quot;: [\n        {\n            &quot;url&quot;: &quot;http://127.0.0.1:8080&quot;,\n            &quot;description&quot;: &quot;Generated server url&quot;\n        }\n    ],\n    &quot;paths&quot;: {\n        &quot;/vehicleDecision&quot;: {\n            &quot;post&quot;: {\n                &quot;tags&quot;: [\n                    &quot;rest-service&quot;\n                ],\n                &quot;operationId&quot;: &quot;createRiskDecission&quot;,\n                &quot;parameters&quot;: [\n                    {\n                        &quot;name&quot;: &quot;rsvXO&quot;,\n                        &quot;in&quot;: &quot;query&quot;,\n                        &quot;required&quot;: true,\n                        &quot;schema&quot;: {\n                            &quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\n                        }\n                    }\n                ],\n                &quot;responses&quot;: {\n                    &quot;200&quot;: {\n                        &quot;description&quot;: &quot;OK&quot;,\n                        &quot;content&quot;: {\n                            &quot;*/*&quot;: {\n                                &quot;schema&quot;: {\n                                    &quot;$ref&quot;: &quot;#/components/schemas/RsvXO&quot;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    },\n    &quot;components&quot;: {\n        &quot;schemas&quot;: {\n            &quot;Cat&quot;: {\n                &quot;required&quot;: [\n                    &quot;petType&quot;\n                ],\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;allOf&quot;: [\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\n                    }\n                ],\n                &quot;properties&quot;: {\n                    &quot;preferredGardenToPeeIn&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    }\n                }\n            },\n            &quot;Dog&quot;: {\n                &quot;required&quot;: [\n                    &quot;petType&quot;\n                ],\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;allOf&quot;: [\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\n                    }\n                ],\n                &quot;properties&quot;: {\n                    &quot;preferredPostman&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    }\n                }\n            },\n            &quot;Pet&quot;: {\n                &quot;oneOf&quot;: [\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Cat&quot;\n                    },\n                    {\n                        &quot;$ref&quot;: &quot;#/components/schemas/Dog&quot;\n                    }\n                ],\n                &quot;required&quot;: [\n                    &quot;petType&quot;\n                ],\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;name&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;petType&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    }\n                },\n                &quot;discriminator&quot;: {\n                    &quot;propertyName&quot;: &quot;petType&quot;\n                }\n            },\n            &quot;RsvXO&quot;: {\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;name&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;pet&quot;: {\n                        &quot;type&quot;: &quot;array&quot;,\n                        &quot;items&quot;: {\n                            &quot;$ref&quot;: &quot;#/components/schemas/Pet&quot;\n                        }\n                    },\n                    &quot;aenderDatum&quot;: {\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;format&quot;: &quot;date-time&quot;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>If the client generator works over that json, the generated model looks perfect.\nSo, there should actually be an option to build polymorphic data model structures with openapi, right?</p>\n<p>Sure there is a ArraySchema and Schema Annotation from swagger, that we used as well, but the documentation (<a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations</a>)\nfor that annotations does not cover our case.</p>\n<p>We did the last 3 days a lot of try and error and decide now to ask the community for help.</p>\n<p>So please check out the test-project from github (<a href=\"https://github.com/straube-jens/swagger\" rel=\"nofollow noreferrer\">https://github.com/straube-jens/swagger</a>) and hopefully you will have a solution or another hint for us.</p>\n<p>Greetings and thanks a lot, Katrin and Jens</p>\n"},{"tags":["java","spring-boot","spring-cloud","netflix-zuul"],"comments":[{"owner":{"account_id":27967515,"reputation":1,"user_id":21358036,"display_name":"Yauheni Vozny"},"score":0,"creation_date":1690356621,"post_id":76768793,"comment_id":135340314,"body_markdown":"Or maybe how to replace Zuul? I can&#39;t replace it with Api Gateway, cause it requires webflux","body":"Or maybe how to replace Zuul? I can&#39;t replace it with Api Gateway, cause it requires webflux"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1690386270,"post_id":76768793,"comment_id":135347044,"body_markdown":"An MVC compatible gateway we be available later this year","body":"An MVC compatible gateway we be available later this year"},{"owner":{"account_id":2017309,"reputation":325,"user_id":1804291,"display_name":"Brad Giaccio"},"score":0,"creation_date":1691695253,"post_id":76768793,"comment_id":135530024,"body_markdown":"@spencergibb do you have a link or repo where we could track MVC compatible gateway?","body":"@spencergibb do you have a link or repo where we could track MVC compatible gateway?"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1691702697,"post_id":76768793,"comment_id":135531248,"body_markdown":"https://github.com/spring-cloud/spring-cloud-gateway/pull/2949","body":"<a href=\"https://github.com/spring-cloud/spring-cloud-gateway/pull/2949\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-gateway/pull/2949</a>"}],"owner":{"account_id":27967515,"reputation":1,"user_id":21358036,"display_name":"Yauheni Vozny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690355592,"creation_date":1690355471,"question_id":76768793,"body_markdown":"I migrated from spring boot 2.7 to 3.1.1, before I have redirection with Zuul and it can&#39;t find bean for RouteLocator and ZuulController:\r\n\r\n```\r\nimport org.springframework.beans.BeansException;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.config.BeanPostProcessor;\r\nimport org.springframework.boot.web.servlet.error.ErrorController;\r\nimport org.springframework.cglib.proxy.*;\r\nimport org.springframework.cloud.netflix.zuul.filters.RouteLocator;\r\nimport org.springframework.cloud.netflix.zuul.web.ZuulController;\r\nimport org.springframework.cloud.netflix.zuul.web.ZuulHandlerMapping;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\n\r\nimport java.lang.reflect.Constructor;\r\nimport java.lang.reflect.Method;\r\n\r\n/** Zuul configuration. */\r\n@Configuration\r\npublic class ZuulConfiguration {\r\n\r\n    /**\r\n     * Constructs a new bean post-processor for Zuul.\r\n     *\r\n     * @param routeLocator\r\n     *            the route locator.\r\n     * @param zuulController\r\n     *            the Zuul controller.\r\n     * @param errorController\r\n     *            the error controller.\r\n     * @return the new bean post-processor.\r\n     */\r\n    @Bean\r\n    @Primary\r\n    public ZuulPostProcessor zuulPostProcessor(@Autowired RouteLocator routeLocator,\r\n                                               @Autowired ZuulController zuulController,\r\n                                               @Autowired ErrorController errorController) {\r\n        return new ZuulPostProcessor(routeLocator, zuulController, errorController);\r\n    }\r\n\r\n    private static final class ZuulPostProcessor implements BeanPostProcessor {\r\n\r\n        private final RouteLocator routeLocator;\r\n\r\n        private final ZuulController zuulController;\r\n\r\n        private final boolean hasErrorController;\r\n\r\n        ZuulPostProcessor(RouteLocator routeLocator, ZuulController zuulController, ErrorController errorController) {\r\n            this.routeLocator = routeLocator;\r\n            this.zuulController = zuulController;\r\n            this.hasErrorController = (errorController != null);\r\n        }\r\n\r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n            if (hasErrorController &amp;&amp; (bean instanceof ZuulHandlerMapping)) {\r\n                Enhancer enhancer = new Enhancer();\r\n                enhancer.setSuperclass(ZuulHandlerMapping.class);\r\n                enhancer.setCallbackFilter(LookupHandlerCallbackFilter.INSTANCE); // only for lookupHandler\r\n                enhancer.setCallbacks(new Callback[] { LookupHandlerMethodInterceptor.INSTANCE, NoOp.INSTANCE });\r\n                Constructor&lt;?&gt; ctor = ZuulHandlerMapping.class.getConstructors()[0];\r\n                return enhancer.create(ctor.getParameterTypes(), new Object[] { routeLocator, zuulController });\r\n            }\r\n            return bean;\r\n        }\r\n\r\n    }\r\n\r\n    private enum LookupHandlerCallbackFilter implements CallbackFilter {\r\n\r\n        INSTANCE;\r\n\r\n        @Override\r\n        public int accept(Method method) {\r\n            if (&quot;lookupHandler&quot;.equals(method.getName())) {\r\n                return 0;\r\n            }\r\n            return 1;\r\n        }\r\n\r\n    }\r\n\r\n    private enum LookupHandlerMethodInterceptor implements MethodInterceptor {\r\n\r\n        INSTANCE;\r\n\r\n        @Override\r\n        public Object intercept(Object target, Method method, Object[] args, MethodProxy methodProxy) throws Throwable {\r\n            if (&quot;/error&quot;.equals(args[0])) {\r\n\r\n                /* by entering this branch we avoid the ZuulHandlerMapping.lookupHandler method to trigger the NoSuchMethodError */\r\n                return null;\r\n            }\r\n            return methodProxy.invokeSuper(target, args);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n[Zuul not autowired dependencies](https://i.stack.imgur.com/wlRy5.png)\r\n\r\nI can&#39;t migrate to api-gateway, cause we use spring-web-dependency (I read that webflux is needed)\r\n\r\nIf you know any another ways how to redirect /report page to kibana in elastic (main idea of task) let me know, but better to keep old Zuul Configuration and add some dependencies\r\n\r\nI see that it not works cause of usage javax servlet, in spring boot 3.1.1 - jakarta\r\n\r\nPlease help me :)","title":"Zuul compatability with Spring boot 3","body":"<p>I migrated from spring boot 2.7 to 3.1.1, before I have redirection with Zuul and it can't find bean for RouteLocator and ZuulController:</p>\n<pre><code>import org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.config.BeanPostProcessor;\nimport org.springframework.boot.web.servlet.error.ErrorController;\nimport org.springframework.cglib.proxy.*;\nimport org.springframework.cloud.netflix.zuul.filters.RouteLocator;\nimport org.springframework.cloud.netflix.zuul.web.ZuulController;\nimport org.springframework.cloud.netflix.zuul.web.ZuulHandlerMapping;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\n\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.Method;\n\n/** Zuul configuration. */\n@Configuration\npublic class ZuulConfiguration {\n\n    /**\n     * Constructs a new bean post-processor for Zuul.\n     *\n     * @param routeLocator\n     *            the route locator.\n     * @param zuulController\n     *            the Zuul controller.\n     * @param errorController\n     *            the error controller.\n     * @return the new bean post-processor.\n     */\n    @Bean\n    @Primary\n    public ZuulPostProcessor zuulPostProcessor(@Autowired RouteLocator routeLocator,\n                                               @Autowired ZuulController zuulController,\n                                               @Autowired ErrorController errorController) {\n        return new ZuulPostProcessor(routeLocator, zuulController, errorController);\n    }\n\n    private static final class ZuulPostProcessor implements BeanPostProcessor {\n\n        private final RouteLocator routeLocator;\n\n        private final ZuulController zuulController;\n\n        private final boolean hasErrorController;\n\n        ZuulPostProcessor(RouteLocator routeLocator, ZuulController zuulController, ErrorController errorController) {\n            this.routeLocator = routeLocator;\n            this.zuulController = zuulController;\n            this.hasErrorController = (errorController != null);\n        }\n\n        @Override\n        public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n            if (hasErrorController &amp;&amp; (bean instanceof ZuulHandlerMapping)) {\n                Enhancer enhancer = new Enhancer();\n                enhancer.setSuperclass(ZuulHandlerMapping.class);\n                enhancer.setCallbackFilter(LookupHandlerCallbackFilter.INSTANCE); // only for lookupHandler\n                enhancer.setCallbacks(new Callback[] { LookupHandlerMethodInterceptor.INSTANCE, NoOp.INSTANCE });\n                Constructor&lt;?&gt; ctor = ZuulHandlerMapping.class.getConstructors()[0];\n                return enhancer.create(ctor.getParameterTypes(), new Object[] { routeLocator, zuulController });\n            }\n            return bean;\n        }\n\n    }\n\n    private enum LookupHandlerCallbackFilter implements CallbackFilter {\n\n        INSTANCE;\n\n        @Override\n        public int accept(Method method) {\n            if (&quot;lookupHandler&quot;.equals(method.getName())) {\n                return 0;\n            }\n            return 1;\n        }\n\n    }\n\n    private enum LookupHandlerMethodInterceptor implements MethodInterceptor {\n\n        INSTANCE;\n\n        @Override\n        public Object intercept(Object target, Method method, Object[] args, MethodProxy methodProxy) throws Throwable {\n            if (&quot;/error&quot;.equals(args[0])) {\n\n                /* by entering this branch we avoid the ZuulHandlerMapping.lookupHandler method to trigger the NoSuchMethodError */\n                return null;\n            }\n            return methodProxy.invokeSuper(target, args);\n        }\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wlRy5.png\" rel=\"nofollow noreferrer\">Zuul not autowired dependencies</a></p>\n<p>I can't migrate to api-gateway, cause we use spring-web-dependency (I read that webflux is needed)</p>\n<p>If you know any another ways how to redirect /report page to kibana in elastic (main idea of task) let me know, but better to keep old Zuul Configuration and add some dependencies</p>\n<p>I see that it not works cause of usage javax servlet, in spring boot 3.1.1 - jakarta</p>\n<p>Please help me :)</p>\n"},{"tags":["java","android","google-cloud-platform","google-cloud-firestore","android-recyclerview"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1572828491,"post_id":58685503,"comment_id":103670792,"body_markdown":"Please only use the `android-studio` tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the `android` tag.","body":"Please only use the <code>android-studio</code> tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the <code>android</code> tag."},{"owner":{"account_id":6802000,"reputation":6032,"user_id":5235032,"accept_rate":75,"display_name":"Jayanth"},"score":0,"creation_date":1572834199,"post_id":58685503,"comment_id":103671789,"body_markdown":"what does logcat say when the app crashes","body":"what does logcat say when the app crashes"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1572853201,"post_id":58685503,"comment_id":103675955,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please also respond with @AlexMamo","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please also respond with @AlexMamo"},{"owner":{"account_id":16986840,"reputation":49,"user_id":12287406,"display_name":"Salma Eng"},"score":0,"creation_date":1572859590,"post_id":58685503,"comment_id":103678563,"body_markdown":"@AlexMamo this is part of logcat, thanks in advance..","body":"@AlexMamo this is part of logcat, thanks in advance.."}],"answers":[{"comments":[{"owner":{"account_id":19223398,"reputation":200,"user_id":14046751,"display_name":"android dev"},"score":0,"creation_date":1690543299,"post_id":58690531,"comment_id":135372079,"body_markdown":"hi could you help me out here -&gt; https://stackoverflow.com/questions/76786965/facing-issue-while-validating-amongst-the-edittexts-in-recyclerview","body":"hi could you help me out here -&gt; <a href=\"https://stackoverflow.com/questions/76786965/facing-issue-while-validating-amongst-the-edittexts-in-recyclerview\" title=\"facing issue while validating amongst the edittexts in recyclerview\">stackoverflow.com/questions/76786965/&hellip;</a>"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572859987,"creation_date":1572859987,"answer_id":58690531,"question_id":58685503,"body_markdown":"You are getting the following error:\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.exercise, PID: 29966 java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.exercise/com.example.exercise.TeacherActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.example.exercise.TeacherAdapter.setOnItemClickListener(com.example.exercise.TeacherAdapter$OnItemClickListener)&#39; on a null object reference\r\n\r\nBecause you are calling `.setOnItemClickListener()` on your `teacherAdapter` object which is `null` at that point in time. To solve this, you should simply move the following block of code:\r\n\r\n    teacherAdapter.setOnItemClickListener(new TeacherAdapter.OnItemClickListener() {\r\n        @Override\r\n        public void onItemClick(DocumentSnapshot documentSnapshot, int position) {\r\n\r\n            String path = documentSnapshot.getReference().getPath();\r\n            Intent intent = new Intent(TeacherActivity.this, SecondActivity.class);\r\n            intent.putExtra(EXTRA_PATH, path);\r\n            startActivity(intent);\r\n\r\n        }\r\n    });\r\n\r\nRight after the declaration of your adapter:\r\n\r\n    teacherAdapter = new TeacherAdapter(options);\r\n\r\nIn your `setUpRecyclerView()` method and your problem will be solved.","title":"Problem in making the items in RecyclerView clickable","body":"<p>You are getting the following error:</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.exercise, PID: 29966 java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.exercise/com.example.exercise.TeacherActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.example.exercise.TeacherAdapter.setOnItemClickListener(com.example.exercise.TeacherAdapter$OnItemClickListener)' on a null object reference</p>\n</blockquote>\n\n<p>Because you are calling <code>.setOnItemClickListener()</code> on your <code>teacherAdapter</code> object which is <code>null</code> at that point in time. To solve this, you should simply move the following block of code:</p>\n\n<pre><code>teacherAdapter.setOnItemClickListener(new TeacherAdapter.OnItemClickListener() {\n    @Override\n    public void onItemClick(DocumentSnapshot documentSnapshot, int position) {\n\n        String path = documentSnapshot.getReference().getPath();\n        Intent intent = new Intent(TeacherActivity.this, SecondActivity.class);\n        intent.putExtra(EXTRA_PATH, path);\n        startActivity(intent);\n\n    }\n});\n</code></pre>\n\n<p>Right after the declaration of your adapter:</p>\n\n<pre><code>teacherAdapter = new TeacherAdapter(options);\n</code></pre>\n\n<p>In your <code>setUpRecyclerView()</code> method and your problem will be solved.</p>\n"}],"owner":{"account_id":16986840,"reputation":49,"user_id":12287406,"display_name":"Salma Eng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58690531,"answer_count":1,"score":0,"last_activity_date":1690354962,"creation_date":1572823359,"question_id":58685503,"body_markdown":"I know there are questions like this, but non solving mine..\r\n\r\nI&#39;m trying to make &#39;OnItemClickListener&#39; of &#39;RecyclerView&#39; , but when I run the app it stops..\r\n\r\ncan you tell me where is the error??\r\n\r\nHere is the code: (Note the error is in making the item clickable)\r\n\r\n    public class TeacherActivity extends AppCompatActivity {\r\n    private FirebaseAuth mAuth=FirebaseAuth.getInstance();\r\n    private FirebaseUser currentUser= mAuth.getCurrentUser();;\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private String UserId =currentUser.getUid();\r\n    private static String city;\r\n    private TeacherAdapter teacherAdapter;\r\n    public static final String EXTRA_PATH = &quot;com.example.exercise.EXTRA_PATH&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_teacher);\r\n\r\n          \r\n        setUpRecyclerView();\r\n              \r\n\r\n      teacherAdapter.setOnItemClickListener(new TeacherAdapter.OnItemClickListener() {\r\n      @Override\r\n      public void onItemClick(DocumentSnapshot documentSnapshot, int position) {\r\n\r\n        String path = documentSnapshot.getReference().getPath();\r\n        Intent intent = new Intent(TeacherActivity.this, SecondActivity.class);\r\n        intent.putExtra(EXTRA_PATH, path);\r\n        startActivity(intent);\r\n\r\n        }\r\n        });\r\n\r\n    }// end of onCreate\r\n\r\n\r\n    private void setUpRecyclerView(){\r\n        Query query =   db.collection(&quot;Teachers&quot;);\r\n\r\n        FirestoreRecyclerOptions &lt; Teacher &gt; options = new \r\n        FirestoreRecyclerOptions.Builder&lt;Teacher&gt;()\r\n                                .setQuery(query, Teacher.class)\r\n                                .build();\r\n\r\n        teacherAdapter = new TeacherAdapter(options);\r\n\r\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);    //for performane reasons\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(teacherAdapter);\r\n        teacherAdapter.startListening();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        teacherAdapter.stopListening();\r\n    }\r\n   \r\n    }// end of class\r\n\r\n\r\nAnd this is the &#39;adapter&#39; of &#39;RecyclerView&#39;:\r\n\r\n    public class TeacherAdapter extends FirestoreRecyclerAdapter&lt;Teacher, \r\n    TeacherAdapter.TeacherHolder&gt; {\r\n    private OnItemClickListener listener;\r\n    public TeacherAdapter(@NonNull FirestoreRecyclerOptions&lt;Teacher&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull TeacherHolder holder, int i, @NonNull Teacher \r\n    teacher) {\r\n        holder.tv_teacher_name.setText(teacher.getName());\r\n        holder.tv_cv.setText(teacher.getCv());\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public TeacherHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.teacher_item, parent, false);\r\n        return new TeacherHolder(v);\r\n    }\r\n\r\n    class TeacherHolder extends RecyclerView.ViewHolder {\r\n        TextView tv_teacher_name;\r\n        TextView tv_cv;\r\n\r\n\r\n     public TeacherHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tv_teacher_name = itemView.findViewById(R.id.teacher_name);\r\n            tv_cv = itemView.findViewById(R.id.tv_cv);\r\n\r\n            itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    int position = getAdapterPosition();\r\n                    if (position != RecyclerView.NO_POSITION &amp;&amp; listener != null){\r\n                        listener.onItemClick(getSnapshots().getSnapshot(position), position);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    public interface OnItemClickListener{\r\n        void onItemClick(DocumentSnapshot documentSnapshot, int position);\r\n    }\r\n    public void setOnItemClickListener(OnItemClickListener listener){\r\n        this.listener = listener;\r\n    }\r\n    }\r\n\r\n\r\nPart of logcat:\r\n\r\n\r\n&gt;E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.exercise, PID: 29966\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.exercise/com.example.exercise.TeacherActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.example.exercise.TeacherAdapter.setOnItemClickListener(com.example.exercise.TeacherAdapter$OnItemClickListener)&#39; on a null object reference\r\n\r\n","title":"Problem in making the items in RecyclerView clickable","body":"<p>I know there are questions like this, but non solving mine..</p>\n\n<p>I'm trying to make 'OnItemClickListener' of 'RecyclerView' , but when I run the app it stops..</p>\n\n<p>can you tell me where is the error??</p>\n\n<p>Here is the code: (Note the error is in making the item clickable)</p>\n\n<pre><code>public class TeacherActivity extends AppCompatActivity {\nprivate FirebaseAuth mAuth=FirebaseAuth.getInstance();\nprivate FirebaseUser currentUser= mAuth.getCurrentUser();;\nprivate FirebaseFirestore db = FirebaseFirestore.getInstance();\nprivate String UserId =currentUser.getUid();\nprivate static String city;\nprivate TeacherAdapter teacherAdapter;\npublic static final String EXTRA_PATH = \"com.example.exercise.EXTRA_PATH\";\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_teacher);\n\n\n    setUpRecyclerView();\n\n\n  teacherAdapter.setOnItemClickListener(new TeacherAdapter.OnItemClickListener() {\n  @Override\n  public void onItemClick(DocumentSnapshot documentSnapshot, int position) {\n\n    String path = documentSnapshot.getReference().getPath();\n    Intent intent = new Intent(TeacherActivity.this, SecondActivity.class);\n    intent.putExtra(EXTRA_PATH, path);\n    startActivity(intent);\n\n    }\n    });\n\n}// end of onCreate\n\n\nprivate void setUpRecyclerView(){\n    Query query =   db.collection(\"Teachers\");\n\n    FirestoreRecyclerOptions &lt; Teacher &gt; options = new \n    FirestoreRecyclerOptions.Builder&lt;Teacher&gt;()\n                            .setQuery(query, Teacher.class)\n                            .build();\n\n    teacherAdapter = new TeacherAdapter(options);\n\n    RecyclerView recyclerView = findViewById(R.id.recycler_view);\n    recyclerView.setHasFixedSize(true);    //for performane reasons\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setAdapter(teacherAdapter);\n    teacherAdapter.startListening();\n\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    teacherAdapter.stopListening();\n}\n\n}// end of class\n</code></pre>\n\n<p>And this is the 'adapter' of 'RecyclerView':</p>\n\n<pre><code>public class TeacherAdapter extends FirestoreRecyclerAdapter&lt;Teacher, \nTeacherAdapter.TeacherHolder&gt; {\nprivate OnItemClickListener listener;\npublic TeacherAdapter(@NonNull FirestoreRecyclerOptions&lt;Teacher&gt; options) {\n    super(options);\n}\n\n@Override\nprotected void onBindViewHolder(@NonNull TeacherHolder holder, int i, @NonNull Teacher \nteacher) {\n    holder.tv_teacher_name.setText(teacher.getName());\n    holder.tv_cv.setText(teacher.getCv());\n}\n\n@NonNull\n@Override\npublic TeacherHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.teacher_item, parent, false);\n    return new TeacherHolder(v);\n}\n\nclass TeacherHolder extends RecyclerView.ViewHolder {\n    TextView tv_teacher_name;\n    TextView tv_cv;\n\n\n public TeacherHolder(@NonNull View itemView) {\n        super(itemView);\n        tv_teacher_name = itemView.findViewById(R.id.teacher_name);\n        tv_cv = itemView.findViewById(R.id.tv_cv);\n\n        itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int position = getAdapterPosition();\n                if (position != RecyclerView.NO_POSITION &amp;&amp; listener != null){\n                    listener.onItemClick(getSnapshots().getSnapshot(position), position);\n                }\n            }\n        });\n    }\n}\npublic interface OnItemClickListener{\n    void onItemClick(DocumentSnapshot documentSnapshot, int position);\n}\npublic void setOnItemClickListener(OnItemClickListener listener){\n    this.listener = listener;\n}\n}\n</code></pre>\n\n<p>Part of logcat:</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main\n      Process: com.example.exercise, PID: 29966\n      java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.exercise/com.example.exercise.TeacherActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.example.exercise.TeacherAdapter.setOnItemClickListener(com.example.exercise.TeacherAdapter$OnItemClickListener)' on a null object reference</p>\n</blockquote>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1572849817,"post_id":58687174,"comment_id":103674875,"body_markdown":"It looks like you&#39;re trying to perform a simple Cloud Firestore query.  The documentation is the best place to start learning about how that works.  https://firebase.google.com/docs/firestore/query-data/queries","body":"It looks like you&#39;re trying to perform a simple Cloud Firestore query.  The documentation is the best place to start learning about how that works.  <a href=\"https://firebase.google.com/docs/firestore/query-data/queries\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/query-data/queries</a>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1572854107,"post_id":58687174,"comment_id":103676277,"body_markdown":"What is the exact value that you need to increment, `productQuantity`? Please also respond with @AlexMamo","body":"What is the exact value that you need to increment, <code>productQuantity</code>? Please also respond with @AlexMamo"},{"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"score":0,"creation_date":1572858695,"post_id":58687174,"comment_id":103678191,"body_markdown":"yap i want when barcode is existing in firestore then productQuantity to increment @AlexMamo","body":"yap i want when barcode is existing in firestore then productQuantity to increment @AlexMamo"}],"answers":[{"tags":[],"owner":{"account_id":109969,"reputation":14798,"user_id":291180,"accept_rate":80,"display_name":"Travis Webb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572843342,"creation_date":1572843342,"answer_id":58687385,"question_id":58687174,"body_markdown":"This will figure out if the barcode exists. You can fill in the commented `TODO` with a [Transaction][1] to update the quantity value.\r\n\r\n```java\r\npublic void handleResult(Result result) {\r\n  String scanResult = result.getText();\r\n  // ...\r\n\r\n  collectionReference\r\n    .whereEqualTo(&quot;barCode&quot;, scanResult)\r\n    .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n      @Override\r\n      public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n        if (task.isSuccessful() &amp;&amp; task.getResult().size() &gt; 0) {\r\n          // TODO barcode exists; increase qty\r\n        }\r\n        else {\r\n          // barcode not found, new Intent\r\n        }\r\n      }\r\n    });\r\n}\r\n```\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/transactions","title":"Increment value from Firestore","body":"<p>This will figure out if the barcode exists. You can fill in the commented <code>TODO</code> with a <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions\" rel=\"nofollow noreferrer\">Transaction</a> to update the quantity value.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void handleResult(Result result) {\n  String scanResult = result.getText();\n  // ...\n\n  collectionReference\n    .whereEqualTo(\"barCode\", scanResult)\n    .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n      @Override\n      public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful() &amp;&amp; task.getResult().size() &gt; 0) {\n          // TODO barcode exists; increase qty\n        }\n        else {\n          // barcode not found, new Intent\n        }\n      }\n    });\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"score":0,"creation_date":1572872128,"post_id":58690418,"comment_id":103684594,"body_markdown":"without whereEqualTo? Like this, collectionReference.whereEqualTo(&quot;barCode&quot;, scanResult).addOnCompleteListener......","body":"without whereEqualTo? Like this, collectionReference.whereEqualTo(&quot;barCode&quot;, scanResult).addOnCompleteListener......"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1572872243,"post_id":58690418,"comment_id":103684641,"body_markdown":"Yes, without. There is no need for a query and whereEqual call, you can simply check the existents of a property. If it exists, simply increment it. Have you tried the code above?","body":"Yes, without. There is no need for a query and whereEqual call, you can simply check the existents of a property. If it exists, simply increment it. Have you tried the code above?"},{"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"score":0,"creation_date":1572872354,"post_id":58690418,"comment_id":103684703,"body_markdown":"i set onClick button, button cannot be clicked. i&#39;ll share my code in my question, wait...","body":"i set onClick button, button cannot be clicked. i&#39;ll share my code in my question, wait..."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1572872821,"post_id":58690418,"comment_id":103684928,"body_markdown":"It sounds like you should ask another question that explains what isn&#39;t working the way you expect in case of `onClick`. Please note that this question is not related with the initial one. so please post another fresh question using its own [MCVE](https://stackoverflow.com/help/mcve), so me and other Firebase developers can help you.","body":"It sounds like you should ask another question that explains what isn&#39;t working the way you expect in case of <code>onClick</code>. Please note that this question is not related with the initial one. so please post another fresh question using its own <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, so me and other Firebase developers can help you."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1572872910,"post_id":58690418,"comment_id":103684969,"body_markdown":"I also rolled back your edit since the data that you added made this question to be a new one.","body":"I also rolled back your edit since the data that you added made this question to be a new one."},{"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"score":0,"creation_date":1572879607,"post_id":58690418,"comment_id":103688449,"body_markdown":"i confuse with productsRef, what is that? can u explain? is it same with collectionReference?","body":"i confuse with productsRef, what is that? can u explain? is it same with collectionReference?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1572880214,"post_id":58690418,"comment_id":103688776,"body_markdown":"Sorry my mistake, it was a typo. Just updated my answer, where it should be `collectionReference` instead of `productsRef`. Does it work now?","body":"Sorry my mistake, it was a typo. Just updated my answer, where it should be <code>collectionReference</code> instead of <code>productsRef</code>. Does it work now?"},{"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"score":0,"creation_date":1572880456,"post_id":58690418,"comment_id":103688901,"body_markdown":"still not work, can i change Fieldvalue.increment(1).toString? because i set productQuantity in pojo is String or should i change to Long?","body":"still not work, can i change Fieldvalue.increment(1).toString? because i set productQuantity in pojo is String or should i change to Long?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1572881374,"post_id":58690418,"comment_id":103689387,"body_markdown":"Oh, I see now. Yes, you should definitely **change** the type of the productQuantity property to be **long**. It does solve the problem, right?","body":"Oh, I see now. Yes, you should definitely <b>change</b> the type of the productQuantity property to be <b>long</b>. It does solve the problem, right?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1572883475,"post_id":58690418,"comment_id":103690489,"body_markdown":"**&quot;still not working&quot;** doesn&#39;t help me, help you solve the issue. What the behaviour, do you have an error? I have personally tested that code and worked fine.","body":"<b>&quot;still not working&quot;</b> doesn&#39;t help me, help you solve the issue. What the behaviour, do you have an error? I have personally tested that code and worked fine."},{"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"score":0,"creation_date":1572927646,"post_id":58690418,"comment_id":103703958,"body_markdown":"i changed the code that you can see above, where is my mistake?","body":"i changed the code that you can see above, where is my mistake?"},{"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"score":0,"creation_date":1572938150,"post_id":58690418,"comment_id":103706921,"body_markdown":"Alex, i&#39;m so sorry the code is working. evidently, condition &quot;else&quot; for intent to another activity is not working","body":"Alex, i&#39;m so sorry the code is working. evidently, condition &quot;else&quot; for intent to another activity is not working"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":12,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1572962277,"creation_date":1572859614,"answer_id":58690418,"question_id":58687174,"body_markdown":"To increment the value of your `productQuantity` property based on the existence of the `barCode` property, please try the following lines of code:\r\n\r\n    collectionReference.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                for (QueryDocumentSnapshot document : task.getResult()) {\r\n                    if (document.getString(&quot;barCode&quot;) != null) {\r\n                        collectionReference.document(document.getId()).update(\r\n                            &quot;productQuantity&quot;, FieldValue.increment(1)\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });","title":"Increment value from Firestore","body":"<p>To increment the value of your <code>productQuantity</code> property based on the existence of the <code>barCode</code> property, please try the following lines of code:</p>\n\n<pre><code>collectionReference.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (QueryDocumentSnapshot document : task.getResult()) {\n                if (document.getString(\"barCode\") != null) {\n                    collectionReference.document(document.getId()).update(\n                        \"productQuantity\", FieldValue.increment(1)\n                    );\n                }\n            }\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58690418,"answer_count":2,"score":0,"last_activity_date":1690354952,"creation_date":1572841529,"question_id":58687174,"body_markdown":"I have entries that look like this:\r\n\r\n![1][1]\r\n\r\nBefore the data is inputted, the barcode must be filled using a barcode scanner. When a barcode is existing in Firestore, I want product quantity is increase. And when the barcode is not available in Firestore, Intent to another class.\r\n\r\nCode :\r\n\r\n    @Override\r\n    public void handleResult(Result result) {\r\n        final String scanResult = result.getText();\r\n\r\n        ToneGenerator toneNotification = new ToneGenerator(AudioManager.STREAM_NOTIFICATION, 100);\r\n        toneNotification.startTone(ToneGenerator.TONE_PROP_BEEP, 150);\r\n\r\n        collectionReference.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    for (QueryDocumentSnapshot queryDocumentSnapshot : task.getResult()) {\r\n                        // if barcode is existing, then product quantity to increment\r\n                        if (queryDocumentSnapshot.getString(&quot;barCode&quot;) != null) {\r\n                            collectionReference.document(queryDocumentSnapshot.getId()).update(&quot;productQuantity&quot;, FieldValue.increment(1));\r\n                            Intent moveView = new Intent(ScannersActivity.this, ViewData.class);\r\n                            moveView.putExtra(&quot;documentID&quot;, documentID);\r\n                            startActivity(moveView);\r\n                            finish();\r\n                        } else { // If barcode is not available in firestore, then intent to another class\r\n                            Intent moveCode = new Intent(ScannersActivity.this, AddItems.class);\r\n                            moveCode.putExtra(&quot;sendDocumentID&quot;, documentID);\r\n                            moveCode.putExtra(&quot;ScanResult&quot;, scanResult);\r\n                            startActivity(moveCode);\r\n                            finish();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/jWrFZ.png","title":"Increment value from Firestore","body":"<p>I have entries that look like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jWrFZ.png\" alt=\"1\"></p>\n\n<p>Before the data is inputted, the barcode must be filled using a barcode scanner. When a barcode is existing in Firestore, I want product quantity is increase. And when the barcode is not available in Firestore, Intent to another class.</p>\n\n<p>Code :</p>\n\n<pre><code>@Override\npublic void handleResult(Result result) {\n    final String scanResult = result.getText();\n\n    ToneGenerator toneNotification = new ToneGenerator(AudioManager.STREAM_NOTIFICATION, 100);\n    toneNotification.startTone(ToneGenerator.TONE_PROP_BEEP, 150);\n\n    collectionReference.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                for (QueryDocumentSnapshot queryDocumentSnapshot : task.getResult()) {\n                    // if barcode is existing, then product quantity to increment\n                    if (queryDocumentSnapshot.getString(\"barCode\") != null) {\n                        collectionReference.document(queryDocumentSnapshot.getId()).update(\"productQuantity\", FieldValue.increment(1));\n                        Intent moveView = new Intent(ScannersActivity.this, ViewData.class);\n                        moveView.putExtra(\"documentID\", documentID);\n                        startActivity(moveView);\n                        finish();\n                    } else { // If barcode is not available in firestore, then intent to another class\n                        Intent moveCode = new Intent(ScannersActivity.this, AddItems.class);\n                        moveCode.putExtra(\"sendDocumentID\", documentID);\n                        moveCode.putExtra(\"ScanResult\", scanResult);\n                        startActivity(moveCode);\n                        finish();\n                    }\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":5161890,"reputation":5598,"user_id":4133301,"accept_rate":57,"display_name":"GensaGames"},"score":0,"creation_date":1572499793,"post_id":58637211,"comment_id":103581061,"body_markdown":"Above statement works, you just have wrong order. Right?","body":"Above statement works, you just have wrong order. Right?"},{"owner":{"account_id":14493209,"reputation":297,"user_id":10468712,"display_name":"Mr. Baks"},"score":0,"creation_date":1572500004,"post_id":58637211,"comment_id":103581089,"body_markdown":"It works when i removed the orderby. What is the correct order sir?","body":"It works when i removed the orderby. What is the correct order sir?"},{"owner":{"account_id":5161890,"reputation":5598,"user_id":4133301,"accept_rate":57,"display_name":"GensaGames"},"score":0,"creation_date":1572500187,"post_id":58637211,"comment_id":103581127,"body_markdown":"What you mean by `index` it&#39;s name of the column? Because you could try to replace with primary key, field with name `_id`.","body":"What you mean by <code>index</code> it&#39;s name of the column? Because you could try to replace with primary key, field with name <code>_id</code>."},{"owner":{"account_id":14493209,"reputation":297,"user_id":10468712,"display_name":"Mr. Baks"},"score":0,"creation_date":1572500691,"post_id":58637211,"comment_id":103581242,"body_markdown":"`index` is the total count of the stores then added by 1 which was you can call their key but not. Because these indexes will only represent their orders. Another thing that will prove that this is not their `id` because this will change every day or these `id`s will be jumbled. Basically this is their key so the buyer will saw different stores every day.","body":"<code>index</code> is the total count of the stores then added by 1 which was you can call their key but not. Because these indexes will only represent their orders. Another thing that will prove that this is not their <code>id</code> because this will change every day or these <code>id</code>s will be jumbled. Basically this is their key so the buyer will saw different stores every day."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572515131,"creation_date":1572515131,"answer_id":58640533,"question_id":58637211,"body_markdown":"&gt; It is not working and I don&#39;t know why is this happening.\r\n\r\nWhen you try to query a collection using both `whereEqualTo()` and `orderBy()` methods on different fields, please note that your query will **not** work unless you create an [index](https://firebase.google.com/docs/firestore/query-data/indexing) for it. This can be done, by creating it manually in your [Firebase Console](https://console.firebase.google.com/) or if you are using Android Studio, you&#39;ll find in your logcat a message that sounds like this:\r\n\r\n    FAILED_PRECONDITION: The query requires an index. You can create it here: ...\r\n\r\nYou can simply click on that link or copy and paste the url into a web broswer and you index will be created automatically.","title":"How to sort or Orderby in firstore android studio?","body":"<blockquote>\n  <p>It is not working and I don't know why is this happening.</p>\n</blockquote>\n\n<p>When you try to query a collection using both <code>whereEqualTo()</code> and <code>orderBy()</code> methods on different fields, please note that your query will <strong>not</strong> work unless you create an <a href=\"https://firebase.google.com/docs/firestore/query-data/indexing\" rel=\"nofollow noreferrer\">index</a> for it. This can be done, by creating it manually in your <a href=\"https://console.firebase.google.com/\" rel=\"nofollow noreferrer\">Firebase Console</a> or if you are using Android Studio, you'll find in your logcat a message that sounds like this:</p>\n\n<pre><code>FAILED_PRECONDITION: The query requires an index. You can create it here: ...\n</code></pre>\n\n<p>You can simply click on that link or copy and paste the url into a web broswer and you index will be created automatically.</p>\n"}],"owner":{"account_id":14493209,"reputation":297,"user_id":10468712,"display_name":"Mr. Baks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58640533,"answer_count":1,"score":0,"last_activity_date":1690354926,"creation_date":1572498680,"question_id":58637211,"body_markdown":"I am trying to make a sorter for stores where they have an `index` which will indicate their position. But when I tried:\r\n\r\n    Query storeQuery = db.collection(&quot;Stores&quot;)\r\n        .whereEqualTo(&quot;online&quot;, true).orderBy(&quot;index&quot;, Query.Direction.ASCENDING);\r\n\r\nIt is not working and I don&#39;t know why is this happening.","title":"How to sort or Orderby in firstore android studio?","body":"<p>I am trying to make a sorter for stores where they have an <code>index</code> which will indicate their position. But when I tried:</p>\n\n<pre><code>Query storeQuery = db.collection(\"Stores\")\n    .whereEqualTo(\"online\", true).orderBy(\"index\", Query.Direction.ASCENDING);\n</code></pre>\n\n<p>It is not working and I don't know why is this happening.</p>\n"},{"tags":["java","android","google-cloud-platform","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"score":1,"creation_date":1571909584,"post_id":58538313,"comment_id":103398884,"body_markdown":"Thanks alex its work, I saw your tutorial on YouTube.","body":"Thanks alex its work, I saw your tutorial on YouTube."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1571909846,"post_id":58538313,"comment_id":103399034,"body_markdown":"Good to hear that you watched my tutorial on YouTube :-) And you&#39;re very welcome, cheers!","body":"Good to hear that you watched my tutorial on YouTube :-) And you&#39;re very welcome, cheers!"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1571909367,"creation_date":1571909367,"answer_id":58538313,"question_id":58538187,"body_markdown":"You have that behaviour because when you perform the second query to get those three new items, you clear your `documentsList` using the following line of code:\r\n\r\n    documentsList.clear();\r\n\r\nTo solve this, simply remove it from the second query because you need to add more data and to the list not to remove the initial one. I have answered a similar question **[here](https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android)**.","title":"Cannot load more data pagination using Recycler view android","body":"<p>You have that behaviour because when you perform the second query to get those three new items, you clear your <code>documentsList</code> using the following line of code:</p>\n\n<pre><code>documentsList.clear();\n</code></pre>\n\n<p>To solve this, simply remove it from the second query because you need to add more data and to the list not to remove the initial one. I have answered a similar question <strong><a href=\"https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android\">here</a></strong>.</p>\n"}],"owner":{"account_id":16601959,"reputation":451,"user_id":11997362,"display_name":"Muhammad Rafi Bahrur Rizki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58538313,"answer_count":1,"score":1,"last_activity_date":1690354883,"creation_date":1571908960,"question_id":58538187,"body_markdown":"I have added pagination feature to my application, but data cannot load more. When i set a limit of 20 data, then i add 23 data and load more, 20 data is invisible and 3 data is visible. Can anyone help me to fix this error?\r\n\r\nScreenshot of the first 20 data sets :\r\n\r\n![1][1]\r\n\r\nScreenshot of when i scroll :\r\n\r\n![2][2]\r\n\r\nCode :\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n        collectionReference.limit(20).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    if(!task.getResult().isEmpty()) {\r\n                        documentsList.clear();\r\n\r\n                        for (DocumentSnapshot documentSnapshot : task.getResult()) {\r\n                            Documents documents = documentSnapshot.toObject(Documents.class);\r\n                            documentsList.add(documents);\r\n                            documentListAdapter.notifyDataSetChanged();\r\n                            lastVisible = task.getResult().getDocuments().get(task.getResult().size() - 1);\r\n                        }\r\n\r\n                        RecyclerView.OnScrollListener onScrollListener = new RecyclerView.OnScrollListener() {\r\n                            @Override\r\n                            public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\r\n                                super.onScrollStateChanged(recyclerView, newState);\r\n\r\n                                if (newState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {\r\n                                    isScrolling = true;\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\r\n                                super.onScrolled(recyclerView, dx, dy);\r\n\r\n                                int firstVisibleDocument = layoutManager.findFirstVisibleItemPosition();\r\n                                int visibleDocumentCount = layoutManager.getChildCount();\r\n                                int totalDocumentCount = layoutManager.getItemCount();\r\n\r\n                                if (isScrolling &amp;&amp; (firstVisibleDocument + visibleDocumentCount == totalDocumentCount) &amp;&amp; !isLastItemReached) {\r\n                                    isScrolling = false;\r\n\r\n                                    collectionReferences.startAfter(lastVisible).limit(20).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                                            if (task.isSuccessful()) {\r\n                                                documentsList.clear();\r\n\r\n                                                for (DocumentSnapshot documentSnapshot : task.getResult()) {\r\n                                                    Documents documents = documentSnapshot.toObject(Documents.class);\r\n                                                    documentsList.add(documents);\r\n                                                    documentListAdapter.notifyDataSetChanged();\r\n                                                    lastVisible = task.getResult().getDocuments().get(task.getResult().size() - 1);\r\n                                                }\r\n\r\n                                                if (task.getResult().size() &lt; 20) {\r\n                                                    isLastItemReached = true;\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                }\r\n                            }\r\n                        };\r\n\r\n                        recyclerViewDocument.addOnScrollListener(onScrollListener);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mu7Ix.png\r\n  [2]: https://i.stack.imgur.com/aNN2p.png","title":"Cannot load more data pagination using Recycler view android","body":"<p>I have added pagination feature to my application, but data cannot load more. When i set a limit of 20 data, then i add 23 data and load more, 20 data is invisible and 3 data is visible. Can anyone help me to fix this error?</p>\n\n<p>Screenshot of the first 20 data sets :</p>\n\n<p><img src=\"https://i.stack.imgur.com/mu7Ix.png\" alt=\"1\"></p>\n\n<p>Screenshot of when i scroll :</p>\n\n<p><img src=\"https://i.stack.imgur.com/aNN2p.png\" alt=\"2\"></p>\n\n<p>Code :</p>\n\n<pre><code>@Override\nprotected void onStart() {\n    super.onStart();\n\n    collectionReference.limit(20).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                if(!task.getResult().isEmpty()) {\n                    documentsList.clear();\n\n                    for (DocumentSnapshot documentSnapshot : task.getResult()) {\n                        Documents documents = documentSnapshot.toObject(Documents.class);\n                        documentsList.add(documents);\n                        documentListAdapter.notifyDataSetChanged();\n                        lastVisible = task.getResult().getDocuments().get(task.getResult().size() - 1);\n                    }\n\n                    RecyclerView.OnScrollListener onScrollListener = new RecyclerView.OnScrollListener() {\n                        @Override\n                        public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\n                            super.onScrollStateChanged(recyclerView, newState);\n\n                            if (newState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL) {\n                                isScrolling = true;\n                            }\n                        }\n\n                        @Override\n                        public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\n                            super.onScrolled(recyclerView, dx, dy);\n\n                            int firstVisibleDocument = layoutManager.findFirstVisibleItemPosition();\n                            int visibleDocumentCount = layoutManager.getChildCount();\n                            int totalDocumentCount = layoutManager.getItemCount();\n\n                            if (isScrolling &amp;&amp; (firstVisibleDocument + visibleDocumentCount == totalDocumentCount) &amp;&amp; !isLastItemReached) {\n                                isScrolling = false;\n\n                                collectionReferences.startAfter(lastVisible).limit(20).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                                        if (task.isSuccessful()) {\n                                            documentsList.clear();\n\n                                            for (DocumentSnapshot documentSnapshot : task.getResult()) {\n                                                Documents documents = documentSnapshot.toObject(Documents.class);\n                                                documentsList.add(documents);\n                                                documentListAdapter.notifyDataSetChanged();\n                                                lastVisible = task.getResult().getDocuments().get(task.getResult().size() - 1);\n                                            }\n\n                                            if (task.getResult().size() &lt; 20) {\n                                                isLastItemReached = true;\n                                            }\n                                        }\n                                    }\n                                });\n                            }\n                        }\n                    };\n\n                    recyclerViewDocument.addOnScrollListener(onScrollListener);\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":7559749,"reputation":525,"user_id":6159314,"accept_rate":33,"display_name":"Kulwinder Singh Rahal"},"score":0,"creation_date":1571819283,"post_id":58518512,"comment_id":103363120,"body_markdown":"Yes, currently looks like this is the only workaround, i&#39;m also planing to add two fields for `day` and `month` inside user document.","body":"Yes, currently looks like this is the only workaround, i&#39;m also planing to add two fields for <code>day</code> and <code>month</code> inside user document."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1571819375,"post_id":58518512,"comment_id":103363167,"body_markdown":"Yes, that&#39;s a quite common solution. I don&#39;t think it&#39;s necessary to add two properties since only one will to do the job ;)","body":"Yes, that&#39;s a quite common solution. I don&#39;t think it&#39;s necessary to add two properties since only one will to do the job ;)"},{"owner":{"account_id":7559749,"reputation":525,"user_id":6159314,"accept_rate":33,"display_name":"Kulwinder Singh Rahal"},"score":0,"creation_date":1571819463,"post_id":58518512,"comment_id":103363212,"body_markdown":"hmm, i also think i have to create one because for two i guess i have to create indexes(not sure)","body":"hmm, i also think i have to create one because for two i guess i have to create indexes(not sure)"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1571819630,"post_id":58518512,"comment_id":103363297,"body_markdown":"If you&#39;ll use two properties, you&#39;ll need an index only if you sort the restuls, otherwise there is no need for an index. But to keep things simple, it&#39;s better to use only one property.","body":"If you&#39;ll use two properties, you&#39;ll need an index only if you sort the restuls, otherwise there is no need for an index. But to keep things simple, it&#39;s better to use only one property."},{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1571822155,"post_id":58518512,"comment_id":103364607,"body_markdown":"Please note that not every language uses &quot;Jun&quot; as an abbreviation for June.  It would be better to use a number.","body":"Please note that not every language uses &quot;Jun&quot; as an abbreviation for June.  It would be better to use a number."},{"owner":{"account_id":7559749,"reputation":525,"user_id":6159314,"accept_rate":33,"display_name":"Kulwinder Singh Rahal"},"score":1,"creation_date":1571831810,"post_id":58518512,"comment_id":103369761,"body_markdown":"thanks @DougStevenson and Alex, i have already used numbers for month and  date.","body":"thanks @DougStevenson and Alex, i have already used numbers for month and  date."},{"owner":{"account_id":5848874,"reputation":354,"user_id":4608157,"display_name":"beedrill"},"score":0,"creation_date":1590363174,"post_id":58518512,"comment_id":109645351,"body_markdown":"As a related update, anyone has some good library for date string formatting?","body":"As a related update, anyone has some good library for date string formatting?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1571822645,"creation_date":1571818920,"answer_id":58518512,"question_id":58518315,"body_markdown":"Since passing a `Date` object as the second argument to the following query:\r\n\r\n    firestore.collection(&quot;user&quot;).whereEqualTo(&quot;birhtday&quot;, todaysDate);\r\n\r\nReturn all users that have the birthday today, the addition of a new property is required. In this new property you can simply store the date as day and month in a String format:\r\n\r\n    shortBirhtday: &quot;09-Jun&quot;\r\n\r\nAnd then query the database using:\r\n\r\n    firestore.collection(&quot;user&quot;).whereEqualTo(&quot;shortBirhtday&quot;, &quot;09-Jun&quot;);\r\n\r\nThis query ill return all users that have the birthday on 9 June, no matter of year.\r\n\r\n**Edit:**\r\n\r\nAccording to @DougStevenson comment, a more appropriate way of storing the Date should be:\r\n\r\n    09-06\r\n\r\nWhere `09` stands for the day and `06` stands for the month. And this is the corresponding query:\r\n\r\n    firestore.collection(&quot;user&quot;).whereEqualTo(&quot;shortBirhtday&quot;, &quot;09-06&quot;);","title":"Firestore query documents by birthday date, like only query by day and month exclude year?","body":"<p>Since passing a <code>Date</code> object as the second argument to the following query:</p>\n\n<pre><code>firestore.collection(\"user\").whereEqualTo(\"birhtday\", todaysDate);\n</code></pre>\n\n<p>Return all users that have the birthday today, the addition of a new property is required. In this new property you can simply store the date as day and month in a String format:</p>\n\n<pre><code>shortBirhtday: \"09-Jun\"\n</code></pre>\n\n<p>And then query the database using:</p>\n\n<pre><code>firestore.collection(\"user\").whereEqualTo(\"shortBirhtday\", \"09-Jun\");\n</code></pre>\n\n<p>This query ill return all users that have the birthday on 9 June, no matter of year.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>According to @DougStevenson comment, a more appropriate way of storing the Date should be:</p>\n\n<pre><code>09-06\n</code></pre>\n\n<p>Where <code>09</code> stands for the day and <code>06</code> stands for the month. And this is the corresponding query:</p>\n\n<pre><code>firestore.collection(\"user\").whereEqualTo(\"shortBirhtday\", \"09-06\");\n</code></pre>\n"}],"owner":{"account_id":7559749,"reputation":525,"user_id":6159314,"accept_rate":33,"display_name":"Kulwinder Singh Rahal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58518512,"answer_count":1,"score":0,"last_activity_date":1690354876,"creation_date":1571818126,"question_id":58518315,"body_markdown":"I have users collection where each user contains its `birthday` filed as `Timestamp`, so now I want to query users whose birthday is **today**, so how can I query only for `day` and `month` because in this case `year` does not matter.   \r\n[![enter image description here][1]][1]   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mNC57.png\r\n\r\nSo what I know is that we can only search by date like this  `firestore.collection(&quot;user&quot;).whereEqualTo(&quot;birhtday&quot;, todaysDate)`, but as we know it&#39;s not going to return anything because it will also going to match `year`\r\n\r\nSo what would be best solution here?","title":"Firestore query documents by birthday date, like only query by day and month exclude year?","body":"<p>I have users collection where each user contains its <code>birthday</code> filed as <code>Timestamp</code>, so now I want to query users whose birthday is <strong>today</strong>, so how can I query only for <code>day</code> and <code>month</code> because in this case <code>year</code> does not matter.<br>\n<a href=\"https://i.stack.imgur.com/mNC57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mNC57.png\" alt=\"enter image description here\"></a>   </p>\n\n<p>So what I know is that we can only search by date like this  <code>firestore.collection(\"user\").whereEqualTo(\"birhtday\", todaysDate)</code>, but as we know it's not going to return anything because it will also going to match <code>year</code></p>\n\n<p>So what would be best solution here?</p>\n"},{"tags":["java","spring-boot","exception"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657901476,"creation_date":1657901476,"answer_id":72996855,"question_id":72994239,"body_markdown":"Your classpath contains incompatible dependencies. Specifically, the version of Spring Framework&#39;s `spring-context` jar that you are using is not compatible with the version of Spring Boot&#39;s `spring-boot` jar. Using Spring Boot&#39;s dependency management and allowing it to control the versions of your application&#39;s dependencies is the recommended way to avoid this problem.","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException Caused by: java.lang.AbstractMethodError:","body":"<p>Your classpath contains incompatible dependencies. Specifically, the version of Spring Framework's <code>spring-context</code> jar that you are using is not compatible with the version of Spring Boot's <code>spring-boot</code> jar. Using Spring Boot's dependency management and allowing it to control the versions of your application's dependencies is the recommended way to avoid this problem.</p>\n"},{"tags":[],"owner":{"account_id":18616430,"reputation":37,"user_id":14728619,"display_name":"Eufr&#225;nio Diogo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690354695,"creation_date":1690354695,"answer_id":76768706,"question_id":72994239,"body_markdown":"Try to delete target folder, and build again the application in my case, the IDE set Java 18, but my application uses Java 11 I changed it and deleted the target folder.","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException Caused by: java.lang.AbstractMethodError:","body":"<p>Try to delete target folder, and build again the application in my case, the IDE set Java 18, but my application uses Java 11 I changed it and deleted the target folder.</p>\n"}],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1544,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1690354695,"creation_date":1657889264,"question_id":72994239,"body_markdown":"Tried exploring multiple articles for the same but didn&#39;t help ! \r\n\r\nCan someone throw some light what could be possibly wrong here ? \r\n\r\n    &quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_241\\bin\\java.exe&quot; -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\lib\\idea_rt.jar=56127:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\lib\\idea_rt.jar&quot; com.intellij.rt.execution.CommandLineWrapper C:\\Users\\x01373661\\AppData\\Local\\Temp\\1\\idea_classpath132405151 com.CONFIDENTIAL.svc.event.Application\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:63)\r\n    Caused by: java.lang.AbstractMethodError: org.springframework.boot.context.config.ConfigFileApplicationListener.supportsSourceType(Ljava/lang/Class;)Z\r\n    \tat org.springframework.context.event.GenericApplicationListenerAdapter.supportsSourceType(GenericApplicationListenerAdapter.java:79)\r\n    \tat org.springframework.context.event.AbstractApplicationEventMulticaster.supportsEvent(AbstractApplicationEventMulticaster.java:289)\r\n    \tat org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:221)\r\n    \tat org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:192)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:128)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:122)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \tat com.barclaycardus.svc.event.Application.main(Application.java:66)\r\n    \t... 5 more\r\n    \r\n    Process finished with exit code 1","title":"Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException Caused by: java.lang.AbstractMethodError:","body":"<p>Tried exploring multiple articles for the same but didn't help !</p>\n<p>Can someone throw some light what could be possibly wrong here ?</p>\n<pre><code>&quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_241\\bin\\java.exe&quot; -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\lib\\idea_rt.jar=56127:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.2\\lib\\idea_rt.jar&quot; com.intellij.rt.execution.CommandLineWrapper C:\\Users\\x01373661\\AppData\\Local\\Temp\\1\\idea_classpath132405151 com.CONFIDENTIAL.svc.event.Application\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.CommandLineWrapper.main(CommandLineWrapper.java:63)\nCaused by: java.lang.AbstractMethodError: org.springframework.boot.context.config.ConfigFileApplicationListener.supportsSourceType(Ljava/lang/Class;)Z\n    at org.springframework.context.event.GenericApplicationListenerAdapter.supportsSourceType(GenericApplicationListenerAdapter.java:79)\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.supportsEvent(AbstractApplicationEventMulticaster.java:289)\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:221)\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:192)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:128)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:122)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at com.barclaycardus.svc.event.Application.main(Application.java:66)\n    ... 5 more\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","spring","circuit-breaker","resilience4j","resilience4j-retry"],"comments":[{"owner":{"account_id":20695267,"reputation":23,"user_id":15195616,"display_name":"Julio Vargas"},"score":0,"creation_date":1690299777,"post_id":76764378,"comment_id":135332608,"body_markdown":"Not even fallbacks are getting executed because of the same issue (not identifying any &quot;desired&quot; exception).","body":"Not even fallbacks are getting executed because of the same issue (not identifying any &quot;desired&quot; exception)."},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1691050657,"post_id":76764378,"comment_id":135439793,"body_markdown":"Did you try to annotate an endpoint with the CB and retry where you don&#39;t have a custom exception handler? Does that setup work as expected?","body":"Did you try to annotate an endpoint with the CB and retry where you don&#39;t have a custom exception handler? Does that setup work as expected?"}],"owner":{"account_id":20695267,"reputation":23,"user_id":15195616,"display_name":"Julio Vargas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690354329,"creation_date":1690299698,"question_id":76764378,"body_markdown":"I was asked to implement both `@CircuitBreaker` and `@Retry` patterns in a project where a `CustomExceptionHandler` (`@ControllerAdvice`) is used to perform interceptions.\r\n\r\nAs custom outputs (based on custom models) are being returned instead of default exceptions, none of them are being executed.\r\n\r\nBoth `@CircuitBreaker` and `@Retry` patterns have some parameters to trigger themselves when specific exceptions occur, but the application is not having exceptions, but custom response entities.\r\n\r\nIs there any idea to fix this conflict? Resilience4j&#39;s documentation doesn&#39;t include anything similar.","title":"Resilience4j&#39;s patterns are not being executed due to CustomExceptionHandler","body":"<p>I was asked to implement both <code>@CircuitBreaker</code> and <code>@Retry</code> patterns in a project where a <code>CustomExceptionHandler</code> (<code>@ControllerAdvice</code>) is used to perform interceptions.</p>\n<p>As custom outputs (based on custom models) are being returned instead of default exceptions, none of them are being executed.</p>\n<p>Both <code>@CircuitBreaker</code> and <code>@Retry</code> patterns have some parameters to trigger themselves when specific exceptions occur, but the application is not having exceptions, but custom response entities.</p>\n<p>Is there any idea to fix this conflict? Resilience4j's documentation doesn't include anything similar.</p>\n"},{"tags":["java","amazon-iam","opensearch","amazon-opensearch"],"comments":[{"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"score":0,"creation_date":1680159689,"post_id":75870670,"comment_id":133851317,"body_markdown":"hi Taras , Im also facing the same issue , if you find any solution kindly keep it updated here.","body":"hi Taras , Im also facing the same issue , if you find any solution kindly keep it updated here."}],"answers":[{"tags":[],"owner":{"account_id":16559864,"reputation":23,"user_id":11966025,"display_name":"HB HONG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680484405,"creation_date":1680246172,"answer_id":75895727,"question_id":75870670,"body_markdown":"I&#39;ve got a same error.\r\nThere are a few things you can check:\r\n\r\n1. **Credentials**: Make sure that the `access key` and `secret key` in your Java application are correct and match the credentials in your `AWS profile`.\r\n2. **Region**: Make sure that your Java application is using the same region as your OpenSearch domain.\r\n3. **Permissions**: Make sure that the `IAM user/role` associated with your credentials has the necessary permissions to interact with your OpenSearch domain.\r\n4. **Endpoint**: Make sure that your Java application is using the correct endpoint URL which excludes `https://`.\r\n5. **Version**: Make sure that your Java application implemented correct version of the OpenSearchClient for the version of OpenSearch you are using.\r\n\r\nIn my case, in fact, my infrastructure manager set OpenSearch to only allow ID/PW access. Therefore, it is recommended to check the **OpenSearch security configuration**, too.","title":"AWS OpenSearch Service. Request failed: [security_exception] authentication/authorization failure","body":"<p>I've got a same error.\nThere are a few things you can check:</p>\n<ol>\n<li><strong>Credentials</strong>: Make sure that the <code>access key</code> and <code>secret key</code> in your Java application are correct and match the credentials in your <code>AWS profile</code>.</li>\n<li><strong>Region</strong>: Make sure that your Java application is using the same region as your OpenSearch domain.</li>\n<li><strong>Permissions</strong>: Make sure that the <code>IAM user/role</code> associated with your credentials has the necessary permissions to interact with your OpenSearch domain.</li>\n<li><strong>Endpoint</strong>: Make sure that your Java application is using the correct endpoint URL which excludes <code>https://</code>.</li>\n<li><strong>Version</strong>: Make sure that your Java application implemented correct version of the OpenSearchClient for the version of OpenSearch you are using.</li>\n</ol>\n<p>In my case, in fact, my infrastructure manager set OpenSearch to only allow ID/PW access. Therefore, it is recommended to check the <strong>OpenSearch security configuration</strong>, too.</p>\n"},{"tags":[],"owner":{"account_id":17325126,"reputation":11,"user_id":12549523,"display_name":"wals"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690353395,"creation_date":1690353164,"answer_id":76768580,"question_id":75870670,"body_markdown":"You may have enabled Fine-grained access control with master user when you created your cluster. If that&#39;s the case, the request is not authorized when processed with IAM user (in the case you are running your code on your IAM user profile). You have two options: \r\n\r\n1. Go to your Domain in console -&gt; Security configuration -&gt; Fine-grained access control and set IAM ARN as master user.\r\n\r\n2. Update domain level access policy to allow your IAM user access. \r\nResource to help on this point - https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ac.html","title":"AWS OpenSearch Service. Request failed: [security_exception] authentication/authorization failure","body":"<p>You may have enabled Fine-grained access control with master user when you created your cluster. If that's the case, the request is not authorized when processed with IAM user (in the case you are running your code on your IAM user profile). You have two options:</p>\n<ol>\n<li><p>Go to your Domain in console -&gt; Security configuration -&gt; Fine-grained access control and set IAM ARN as master user.</p>\n</li>\n<li><p>Update domain level access policy to allow your IAM user access.\nResource to help on this point - <a href=\"https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ac.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/opensearch-service/latest/developerguide/ac.html</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":12811038,"reputation":31,"user_id":9269248,"display_name":"Taras Vovk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690353395,"creation_date":1680034384,"question_id":75870670,"body_markdown":"I&#39;m trying to use OpenSearch to connect to my OpenSearch domain on AWS. I set env for AWS. However, I&#39;m encountering an authentication/authorization failure. Here&#39;s my code:\r\n\r\n```\r\npublic class Example {\r\n\r\n  public static void main(final String[] args) throws IOException {\r\n    SdkHttpClient httpClient = ApacheHttpClient.builder().build();\r\n    try {\r\n      OpenSearchClient client =\r\n          new OpenSearchClient(\r\n              new AwsSdk2Transport(\r\n                  httpClient,\r\n                  &quot;search-*****-3ovub4o4gncugluu6t2tquptnu.eu-central-1.es.amazonaws.com&quot;,\r\n                  Region.EU_CENTRAL_1,\r\n                  AwsSdk2TransportOptions.builder().build()));\r\n\r\n      InfoResponse info = client.info();\r\n      System.out.println(info.version().distribution() + &quot;: &quot; + info.version().number());\r\n    } finally {\r\n      httpClient.close();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nWhen I run this code, I get the following exception:\r\n\r\n```\r\nException in thread &quot;main&quot; org.opensearch.client.opensearch._types.OpenSearchException: Request failed: [security_exception] authentication/authorization failureat org.opensearch.client.transport.aws.AwsSdk2Transport.parseResponse(AwsSdk2Transport.java:47)at org.opensearch.client.transport.aws.AwsSdk2Transport.executeSync(AwsSdk2Transport.java:393)at org.opensearch.client.transport.aws.AwsSdk2Transport.performRequest(AwsSdk2Transport.java:191)at org.opensearch.client.opensearch.OpenSearchClient.info(OpenSearchClient.java:790)at Example.main(Example.java:25)\r\n```\r\n\r\nI believe I have the correct permissions set up for my IAM user, and I&#39;m using the correct access key and secret key. However, I still can&#39;t seem to resolve this issue. What am I missing or doing wrong? Any help or guidance would be appreciated.\r\n\r\nthis is my aws config [pic_1][1] [pic_2][2] [pic_3][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ho0pD.png\r\n  [2]: https://i.stack.imgur.com/JfSI4.png\r\n  [3]: https://i.stack.imgur.com/iA9Dk.png","title":"AWS OpenSearch Service. Request failed: [security_exception] authentication/authorization failure","body":"<p>I'm trying to use OpenSearch to connect to my OpenSearch domain on AWS. I set env for AWS. However, I'm encountering an authentication/authorization failure. Here's my code:</p>\n<pre><code>public class Example {\n\n  public static void main(final String[] args) throws IOException {\n    SdkHttpClient httpClient = ApacheHttpClient.builder().build();\n    try {\n      OpenSearchClient client =\n          new OpenSearchClient(\n              new AwsSdk2Transport(\n                  httpClient,\n                  &quot;search-*****-3ovub4o4gncugluu6t2tquptnu.eu-central-1.es.amazonaws.com&quot;,\n                  Region.EU_CENTRAL_1,\n                  AwsSdk2TransportOptions.builder().build()));\n\n      InfoResponse info = client.info();\n      System.out.println(info.version().distribution() + &quot;: &quot; + info.version().number());\n    } finally {\n      httpClient.close();\n    }\n  }\n}\n</code></pre>\n<p>When I run this code, I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; org.opensearch.client.opensearch._types.OpenSearchException: Request failed: [security_exception] authentication/authorization failureat org.opensearch.client.transport.aws.AwsSdk2Transport.parseResponse(AwsSdk2Transport.java:47)at org.opensearch.client.transport.aws.AwsSdk2Transport.executeSync(AwsSdk2Transport.java:393)at org.opensearch.client.transport.aws.AwsSdk2Transport.performRequest(AwsSdk2Transport.java:191)at org.opensearch.client.opensearch.OpenSearchClient.info(OpenSearchClient.java:790)at Example.main(Example.java:25)\n</code></pre>\n<p>I believe I have the correct permissions set up for my IAM user, and I'm using the correct access key and secret key. However, I still can't seem to resolve this issue. What am I missing or doing wrong? Any help or guidance would be appreciated.</p>\n<p>this is my aws config <a href=\"https://i.stack.imgur.com/Ho0pD.png\" rel=\"nofollow noreferrer\">pic_1</a> <a href=\"https://i.stack.imgur.com/JfSI4.png\" rel=\"nofollow noreferrer\">pic_2</a> <a href=\"https://i.stack.imgur.com/iA9Dk.png\" rel=\"nofollow noreferrer\">pic_3</a></p>\n"},{"tags":["java","openapi-generator","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"score":0,"creation_date":1679915360,"post_id":74593513,"comment_id":133800583,"body_markdown":"The generator documentation page (https://openapi-generator.tech/docs/generators) is always the first goto in these cases. OpenAPI tech  is well adapted and chances are, the community has already hit the issue and delivered the fix","body":"The generator documentation page (<a href=\"https://openapi-generator.tech/docs/generators\" rel=\"nofollow noreferrer\">openapi-generator.tech/docs/generators</a>) is always the first goto in these cases. OpenAPI tech  is well adapted and chances are, the community has already hit the issue and delivered the fix"},{"owner":{"account_id":399864,"reputation":71,"user_id":4317999,"display_name":"SANJAY GAUTAM"},"score":0,"creation_date":1689211546,"post_id":74593513,"comment_id":135182497,"body_markdown":"can you share where they fixed the issues ?","body":"can you share where they fixed the issues ?"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":4,"creation_date":1689239921,"post_id":74593513,"comment_id":135186304,"body_markdown":"@SANJAYGAUTAM see sashok_bg&#39;s answer https://stackoverflow.com/a/75743432/2886891 - it works with `&lt;configOptions&gt; &lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt; &lt;/configOptions&gt;` since some version. I am using it and I can confirm that it works. In my opinion this should be the accepted answer. The `useSpringBoot3` answer with the most votes works only for server-side generator `spring`.","body":"@SANJAYGAUTAM see sashok_bg&#39;s answer <a href=\"https://stackoverflow.com/a/75743432/2886891\">stackoverflow.com/a/75743432/2886891</a> - it works with <code>&lt;configOptions&gt; &lt;useJakartaEe&gt;true&lt;&#47;useJakartaEe&gt; &lt;&#47;configOptions&gt;</code> since some version. I am using it and I can confirm that it works. In my opinion this should be the accepted answer. The <code>useSpringBoot3</code> answer with the most votes works only for server-side generator <code>spring</code>."},{"owner":{"account_id":21375952,"reputation":593,"user_id":15742673,"display_name":"meldevep"},"score":1,"creation_date":1701271826,"post_id":74593513,"comment_id":136755573,"body_markdown":"@HonzaZidek To avoid any further confusion, I have accepted SANJAYGAUTAM`s  answer as the correct one","body":"@HonzaZidek To avoid any further confusion, I have accepted SANJAYGAUTAM`s  answer as the correct one"}],"answers":[{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1669654112,"post_id":74601642,"comment_id":131686112,"body_markdown":"For some weird reason, this option works only for the SPRING generator https://openapi-generator.tech/docs/generators/spring/, which generates the server.","body":"For some weird reason, this option works only for the SPRING generator <a href=\"https://openapi-generator.tech/docs/generators/spring/\" rel=\"nofollow noreferrer\">openapi-generator.tech/docs/generators/spring</a>, which generates the server."},{"owner":{"account_id":21375952,"reputation":593,"user_id":15742673,"display_name":"meldevep"},"score":1,"creation_date":1670323846,"post_id":74601642,"comment_id":131844836,"body_markdown":"just to confirm that this solution doesn&#39;t work. at least for me","body":"just to confirm that this solution doesn&#39;t work. at least for me"},{"owner":{"account_id":15883660,"reputation":1271,"user_id":11460723,"display_name":"Amrut Prabhu"},"score":3,"creation_date":1670675500,"post_id":74601642,"comment_id":131930666,"body_markdown":"The top option only works for the `Spring` generator. \n\nIf you are generating code for the client like `Java` generator, this option is not available. Currently I don&#39;t see any option to allow Jakarta migration.","body":"The top option only works for the <code>Spring</code> generator.   If you are generating code for the client like <code>Java</code> generator, this option is not available. Currently I don&#39;t see any option to allow Jakarta migration."},{"owner":{"account_id":15883660,"reputation":1271,"user_id":11460723,"display_name":"Amrut Prabhu"},"score":1,"creation_date":1670676693,"post_id":74601642,"comment_id":131930906,"body_markdown":"Its still an open issue : https://github.com/OpenAPITools/openapi-generator/issues/13124","body":"Its still an open issue : <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/13124\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/13124</a>"},{"owner":{"account_id":1150215,"reputation":2323,"user_id":1132101,"accept_rate":45,"display_name":"skagedal"},"score":8,"creation_date":1678022181,"post_id":74601642,"comment_id":133448732,"body_markdown":"It seems that setting `useJakartaEe: &#39;true&#39;` should work in the `java` generator since openapi-generator 6.3.0, but apparently some configurations are not working well, and thus the issue is still open.\n\nIt works well for me using the `native` library!","body":"It seems that setting <code>useJakartaEe: &#39;true&#39;</code> should work in the <code>java</code> generator since openapi-generator 6.3.0, but apparently some configurations are not working well, and thus the issue is still open.  It works well for me using the <code>native</code> library!"}],"tags":[],"owner":{"account_id":27073942,"reputation":377,"user_id":20624205,"display_name":"Shaki"},"comment_count":5,"down_vote_count":2,"up_vote_count":38,"is_accepted":false,"score":36,"last_activity_date":1669643637,"creation_date":1669643637,"answer_id":74601642,"question_id":74593513,"body_markdown":"Yes, you can use useSpringBoot3: &quot;true&quot; in your configoptions of the generator.\r\nExample in gradle:\r\n\r\n            configOptions = [\r\n                useSpringBoot3: &quot;true&quot;\r\n            ]","title":"Is there a way to configure openapi-generator to use jakarta package during generation","body":"<p>Yes, you can use useSpringBoot3: &quot;true&quot; in your configoptions of the generator.\nExample in gradle:</p>\n<pre><code>        configOptions = [\n            useSpringBoot3: &quot;true&quot;\n        ]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":1,"creation_date":1690973014,"post_id":75743432,"comment_id":135426523,"body_markdown":"using the setting ```&lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt;``` gives me the error ```package jakarta.annotation does not exist```. What am I doing wrong? Here is the pom snippet: https://pastebin.com/KGvwFauv","body":"using the setting <code>&lt;useJakartaEe&gt;true&lt;&#47;useJakartaEe&gt;</code> gives me the error <code>package jakarta.annotation does not exist</code>. What am I doing wrong? Here is the pom snippet: <a href=\"https://pastebin.com/KGvwFauv\" rel=\"nofollow noreferrer\">pastebin.com/KGvwFauv</a>"},{"owner":{"account_id":271156,"reputation":1299,"user_id":561543,"display_name":"Don Ho"},"score":0,"creation_date":1692106953,"post_id":75743432,"comment_id":135577492,"body_markdown":"@ArthurEirich do you have the correct Jakarta dependency versions? I had a similar error, it turned out I forgot to include jakarta.annotation-api in a version which actually uses the new jakarta.annotation package name &#129318;","body":"@ArthurEirich do you have the correct Jakarta dependency versions? I had a similar error, it turned out I forgot to include jakarta.annotation-api in a version which actually uses the new jakarta.annotation package name 🤦"},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1692168174,"post_id":75743432,"comment_id":135585476,"body_markdown":"I had all the needed dependencies. My problem was the option `&lt;globalProperties&lt;skipFormModel&gt;false&lt;/skipFormModel&gt;&lt;/globalProperties&gt;` not being set. After I scrolled trhough the log I saw a warning that a model class wasnt generated. Googled the log message for it and found a github bug","body":"I had all the needed dependencies. My problem was the option <code>&lt;globalProperties&lt;skipFormModel&gt;false&lt;&#47;skipFormModel&gt;&lt;&#47;globa&zwnj;&#8203;lProperties&gt;</code> not being set. After I scrolled trhough the log I saw a warning that a model class wasnt generated. Googled the log message for it and found a github bug"},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1692168363,"post_id":75743432,"comment_id":135585498,"body_markdown":"@DonHo https://github.com/OpenAPITools/openapi-generator/issues/10415 and https://github.com/OpenAPITools/openapi-generator/issues/12036 are those bugs where I found out about the option","body":"@DonHo <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/10415\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/10415</a> and <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/12036\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues/12036</a> are those bugs where I found out about the option"}],"tags":[],"owner":{"account_id":3068449,"reputation":2571,"user_id":2599657,"accept_rate":60,"display_name":"sashok_bg"},"comment_count":4,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1678876547,"creation_date":1678876019,"answer_id":75743432,"question_id":74593513,"body_markdown":"You should follow the documentation whenever possible.\r\n\r\nThe property that you need is either &quot;useSpringBoot3&quot; or &quot;useJakartaEe&quot; \r\n\r\n1) Go to https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\r\n\r\n2) At the end of the table you see &quot;configHelp&quot; property which will give you configs for the current generator &quot;spring&quot; in my case\r\n\r\n3) Rerun &quot;mvn clean install&quot; - this will give you a list of available &quot;configOptions&quot;.\r\n\r\n4) Read the list and found a property\r\n\r\n    useJakartaEe:\r\n    \t    whether to use Jakarta EE namespace instead of javax (Default: false)\r\n\r\nMy final pom:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;6.4.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configHelp&gt;false&lt;/configHelp&gt;\r\n                    &lt;configOptions&gt;\r\n                        &lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt;\r\n                    &lt;/configOptions&gt;\r\n                    &lt;inputSpec&gt;\r\n                        ${project.basedir}/src/main/resources/api.openapi.yaml\r\n                    &lt;/inputSpec&gt;\r\n                    &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                    &lt;apiPackage&gt;some.package&lt;/apiPackage&gt;\r\n                    &lt;modelPackage&gt;some.package.model&lt;/modelPackage&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nCheers\r\n","title":"Is there a way to configure openapi-generator to use jakarta package during generation","body":"<p>You should follow the documentation whenever possible.</p>\n<p>The property that you need is either &quot;useSpringBoot3&quot; or &quot;useJakartaEe&quot;</p>\n<ol>\n<li><p>Go to <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\" rel=\"noreferrer\">https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin</a></p>\n</li>\n<li><p>At the end of the table you see &quot;configHelp&quot; property which will give you configs for the current generator &quot;spring&quot; in my case</p>\n</li>\n<li><p>Rerun &quot;mvn clean install&quot; - this will give you a list of available &quot;configOptions&quot;.</p>\n</li>\n<li><p>Read the list and found a property</p>\n<p>useJakartaEe:\nwhether to use Jakarta EE namespace instead of javax (Default: false)</p>\n</li>\n</ol>\n<p>My final pom:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;6.4.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;configHelp&gt;false&lt;/configHelp&gt;\n                &lt;configOptions&gt;\n                    &lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt;\n                &lt;/configOptions&gt;\n                &lt;inputSpec&gt;\n                    ${project.basedir}/src/main/resources/api.openapi.yaml\n                &lt;/inputSpec&gt;\n                &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                &lt;apiPackage&gt;some.package&lt;/apiPackage&gt;\n                &lt;modelPackage&gt;some.package.model&lt;/modelPackage&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Cheers</p>\n"},{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1701272693,"post_id":76768560,"comment_id":136755747,"body_markdown":"This is virtually the same, and **has the same issues** as Shaki&#39;s answer from 28.11.2022: it only works for the *server-side* Spring generator. If you are generating code for the *client-side* Java generator, you need to use `useJakartaEe=true` as in the sashok_bg&#39;s now-accepted answer.","body":"This is virtually the same, and <b>has the same issues</b> as Shaki&#39;s answer from 28.11.2022: it only works for the <i>server-side</i> Spring generator. If you are generating code for the <i>client-side</i> Java generator, you need to use <code>useJakartaEe=true</code> as in the sashok_bg&#39;s now-accepted answer."}],"tags":[],"owner":{"account_id":29061885,"reputation":39,"user_id":22262333,"display_name":"Ikomyon"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1690353004,"creation_date":1690353004,"answer_id":76768560,"question_id":74593513,"body_markdown":"I use `openapi-generator generate` command and adding options that\r\n\r\n    --additional-properties=useSpringBoot3=true\r\n\r\nalso worked.\r\nHere is the reference: https://openapi-generator.tech/docs/generators/spring/\r\n","title":"Is there a way to configure openapi-generator to use jakarta package during generation","body":"<p>I use <code>openapi-generator generate</code> command and adding options that</p>\n<pre><code>--additional-properties=useSpringBoot3=true\n</code></pre>\n<p>also worked.\nHere is the reference: <a href=\"https://openapi-generator.tech/docs/generators/spring/\" rel=\"nofollow noreferrer\">https://openapi-generator.tech/docs/generators/spring/</a></p>\n"}],"owner":{"account_id":21375952,"reputation":593,"user_id":15742673,"display_name":"meldevep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21802,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":75743432,"answer_count":3,"score":48,"last_activity_date":1690353004,"creation_date":1669580243,"question_id":74593513,"body_markdown":"I&#39;ve recently upgraded my project to use spring-boot 3.0.0. So I don&#39;t have `javax.*` modules in the project anymore. But the Open API generator keeps trying to import `javax` modules. Especially, it uses `javax.annotation.Generated` for the `@Generated` annotation which is not present in the project anymore. Is there a way to reconfigure it somehow? ","title":"Is there a way to configure openapi-generator to use jakarta package during generation","body":"<p>I've recently upgraded my project to use spring-boot 3.0.0. So I don't have <code>javax.*</code> modules in the project anymore. But the Open API generator keeps trying to import <code>javax</code> modules. Especially, it uses <code>javax.annotation.Generated</code> for the <code>@Generated</code> annotation which is not present in the project anymore. Is there a way to reconfigure it somehow?</p>\n"},{"tags":["java","azure","azure-blob-storage"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1690330227,"post_id":76766861,"comment_id":135337542,"body_markdown":"From the typos in your post (`serviceCLient` vs `blobServiceClient` for example) it&#39;s clear you retyped the code.  DON&#39;T DO THAT -- copy/paste from the real source code.  We can&#39;t trust that what we see is what you are actually running, so all bets are off.","body":"From the typos in your post (<code>serviceCLient</code> vs <code>blobServiceClient</code> for example) it&#39;s clear you retyped the code.  DON&#39;T DO THAT -- copy/paste from the real source code.  We can&#39;t trust that what we see is what you are actually running, so all bets are off."},{"owner":{"account_id":3537420,"reputation":400,"user_id":2955337,"display_name":"sleepyhead"},"score":0,"creation_date":1690347225,"post_id":76766861,"comment_id":135338887,"body_markdown":"List&lt;BlobClient&gt; but you said it contained the blob names. If you put cookies in a cookie jar you have cookies. But if you put them in a meat grinder, you don&#39;t have cookies","body":"List&lt;BlobClient&gt; but you said it contained the blob names. If you put cookies in a cookie jar you have cookies. But if you put them in a meat grinder, you don&#39;t have cookies"}],"answers":[{"comments":[{"owner":{"account_id":1798570,"reputation":1339,"user_id":1637422,"accept_rate":64,"display_name":"Depressio"},"score":0,"creation_date":1690385220,"post_id":76768554,"comment_id":135346834,"body_markdown":"This was the tip I needed. The folder I was listing contained more folders, and each one of those had a file in it. I wanted to delete the folders, but couldn&#39;t do so until I deleted the underlying file inside. So, I listed the files inside first (using a flat listing), deleted those, and then I could delete the folders that had contained them.","body":"This was the tip I needed. The folder I was listing contained more folders, and each one of those had a file in it. I wanted to delete the folders, but couldn&#39;t do so until I deleted the underlying file inside. So, I listed the files inside first (using a flat listing), deleted those, and then I could delete the folders that had contained them."}],"tags":[],"owner":{"account_id":63568,"reputation":129767,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690352991,"creation_date":1690352991,"answer_id":76768554,"question_id":76766861,"body_markdown":"When you list blobs using [`listBlobsByHierarchy`][1], it will return both blobs and virtual folders. My guess is that the first item in your list is a virtual folder and since it is not an actual blob, the delete operation is failing with `404 (NotFound)` error.\r\n\r\nYou can either filter your list by checking if the blob returned is an actual blob by checking [`isPrefix()`][2] or you can simply return the list of blobs (and no virtual folders) by using [`flat listing`][3].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-list-java#use-a-hierarchical-listing\r\n  [2]: https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.models.blobitem?view=azure-java-stable#com-azure-storage-blob-models-blobitem-isprefix()\r\n  [3]: https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-list-java#use-a-flat-listing","title":"Deleting blobs from a sub-folder within a container","body":"<p>When you list blobs using <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-list-java#use-a-hierarchical-listing\" rel=\"nofollow noreferrer\"><code>listBlobsByHierarchy</code></a>, it will return both blobs and virtual folders. My guess is that the first item in your list is a virtual folder and since it is not an actual blob, the delete operation is failing with <code>404 (NotFound)</code> error.</p>\n<p>You can either filter your list by checking if the blob returned is an actual blob by checking <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.models.blobitem?view=azure-java-stable#com-azure-storage-blob-models-blobitem-isprefix()\" rel=\"nofollow noreferrer\"><code>isPrefix()</code></a> or you can simply return the list of blobs (and no virtual folders) by using <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blobs-list-java#use-a-flat-listing\" rel=\"nofollow noreferrer\"><code>flat listing</code></a>.</p>\n"}],"owner":{"account_id":1798570,"reputation":1339,"user_id":1637422,"accept_rate":64,"display_name":"Depressio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76768554,"answer_count":1,"score":-1,"last_activity_date":1690352991,"creation_date":1690323751,"question_id":76766861,"body_markdown":"I am attempting to delete some blobs from blob storage, but I don&#39;t initially know which blobs to delete. Basically, I want to list the blobs and figure out the most recent one and delete that one. My code looks something like this:\r\n```\r\nprivate void deleteLatestBlob(String sasUrl, String container)\r\n{\r\n    BlobServiceClient serviceClient = new BlobServiceClientBuilder().endpoint(sasUrl).buildClient();\r\n    BlobContainerClient container = serviceClient.getBlobContainerClient(container);\r\n    List&lt;BlobClient&gt; clients = container.listBlobsByHierarchy(&quot;foo/bar/&quot;)\r\n        .stream()\r\n        .map(item -&gt; container.getBlobClient(item.getName()))\r\n        .sorted((client1, client2) -&gt;\r\n            client2.getProperties().getLastModified()\r\n                .compareTo(client1.getProperties().getLastModified()))\r\n        .collect(Collectors.toList());\r\n\r\n    if (!clients.isEmpty())\r\n    {\r\n        clients.get(clients.size() - 1).delete(); // Exception happens here\r\n    }\r\n}\r\n```\r\nThe goal here is to delete the most recent blob inside of `foo/bar/`. However, I get an exception with message &quot;The requested URI does not represent any resource on the server.&quot;. To avoid spam, a snippet from the stack trace:\r\n```\r\ncom.azure.storage.blob.models.BlobStorageException: Status code 400, &quot;?&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;InvalidUri&lt;/Code&gt;&lt;Message&gt;The requested URI does not represent any resource on the server.\r\nRequestId:300025de-001e-006e-7644-bfb34b000000\r\nTime:2023-07-25T22:09:35.6134376Z&lt;/Message&gt;&lt;/Error&gt;&quot;\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        at com.azure.core.http.rest.RestProxy.instantiateUnexpectedException(RestProxy.java:370)\r\n        at com.azure.core.http.rest.RestProxy.lambda$ensureExpectedStatus$7(RestProxy.java:425)\r\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\r\n... snip...\r\n        Suppressed: java.lang.Exception: #block terminated with an error\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1706)\r\n                at com.azure.storage.common.implementation.StorageImplUtils.blockWithOptionalTimeout(StorageImplUtils.java:128)\r\n                at com.azure.storage.blob.specialized.BlobClientBase.deleteWithResponse(BlobClientBase.java:973)\r\n                at com.azure.storage.blob.specialized.BlobClientBase.delete(BlobClientBase.java:944)\r\n```\r\nGiven that I&#39;m using the blob name directly from the `BlobItem` I just got from listing, how could the resource be missing?\r\n```","title":"Deleting blobs from a sub-folder within a container","body":"<p>I am attempting to delete some blobs from blob storage, but I don't initially know which blobs to delete. Basically, I want to list the blobs and figure out the most recent one and delete that one. My code looks something like this:</p>\n<pre><code>private void deleteLatestBlob(String sasUrl, String container)\n{\n    BlobServiceClient serviceClient = new BlobServiceClientBuilder().endpoint(sasUrl).buildClient();\n    BlobContainerClient container = serviceClient.getBlobContainerClient(container);\n    List&lt;BlobClient&gt; clients = container.listBlobsByHierarchy(&quot;foo/bar/&quot;)\n        .stream()\n        .map(item -&gt; container.getBlobClient(item.getName()))\n        .sorted((client1, client2) -&gt;\n            client2.getProperties().getLastModified()\n                .compareTo(client1.getProperties().getLastModified()))\n        .collect(Collectors.toList());\n\n    if (!clients.isEmpty())\n    {\n        clients.get(clients.size() - 1).delete(); // Exception happens here\n    }\n}\n</code></pre>\n<p>The goal here is to delete the most recent blob inside of <code>foo/bar/</code>. However, I get an exception with message &quot;The requested URI does not represent any resource on the server.&quot;. To avoid spam, a snippet from the stack trace:</p>\n<pre><code>com.azure.storage.blob.models.BlobStorageException: Status code 400, &quot;?&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;InvalidUri&lt;/Code&gt;&lt;Message&gt;The requested URI does not represent any resource on the server.\nRequestId:300025de-001e-006e-7644-bfb34b000000\nTime:2023-07-25T22:09:35.6134376Z&lt;/Message&gt;&lt;/Error&gt;&quot;\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at com.azure.core.http.rest.RestProxy.instantiateUnexpectedException(RestProxy.java:370)\n        at com.azure.core.http.rest.RestProxy.lambda$ensureExpectedStatus$7(RestProxy.java:425)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\n... snip...\n        Suppressed: java.lang.Exception: #block terminated with an error\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                at reactor.core.publisher.Mono.block(Mono.java:1706)\n                at com.azure.storage.common.implementation.StorageImplUtils.blockWithOptionalTimeout(StorageImplUtils.java:128)\n                at com.azure.storage.blob.specialized.BlobClientBase.deleteWithResponse(BlobClientBase.java:973)\n                at com.azure.storage.blob.specialized.BlobClientBase.delete(BlobClientBase.java:944)\n</code></pre>\n<p>Given that I'm using the blob name directly from the <code>BlobItem</code> I just got from listing, how could the resource be missing?</p>\n<pre><code></code></pre>\n"},{"tags":["java","json","spring-boot","jackson","objectmapper"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690352891,"post_id":76768520,"comment_id":135339595,"body_markdown":"Does this answer your question? [Convert JSON String to Pretty Print JSON output using Jackson](https://stackoverflow.com/questions/14515994/convert-json-string-to-pretty-print-json-output-using-jackson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14515994/convert-json-string-to-pretty-print-json-output-using-jackson\">Convert JSON String to Pretty Print JSON output using Jackson</a>"},{"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"score":0,"creation_date":1690353215,"post_id":76768520,"comment_id":135339648,"body_markdown":"@tgdavies both top 2 answers given in your suggested link gives - &quot;{\\n  \\&quot;apiRequestType\\&quot; : \\&quot;add\\&quot;,\\n  \\&quot;noOfTIDsRequired\\&quot; : \\&quot;1\\&quot;,\\n  \\&quot;applicationId\\&quot; : \\&quot;dxvfdv\\&quot;,\\n  \\&quot;posId\\&quot; : \\&quot;1140475\\&quot;,\\n  \\&quot;midTidDetails\\&quot; : null\\n}&quot;\n\nthere is an extra \\n with every key-value pair. Which is not what i was looking for.","body":"@tgdavies both top 2 answers given in your suggested link gives - &quot;{\\n  \\&quot;apiRequestType\\&quot; : \\&quot;add\\&quot;,\\n  \\&quot;noOfTIDsRequired\\&quot; : \\&quot;1\\&quot;,\\n  \\&quot;applicationId\\&quot; : \\&quot;dxvfdv\\&quot;,\\n  \\&quot;posId\\&quot; : \\&quot;1140475\\&quot;,\\n  \\&quot;midTidDetails\\&quot; : null\\n}&quot;  there is an extra \\n with every key-value pair. Which is not what i was looking for."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690353341,"post_id":76768520,"comment_id":135339670,"body_markdown":"Why do you want indents but not newlines? I assumed you were trying to make the JSON more human readable.","body":"Why do you want indents but not newlines? I assumed you were trying to make the JSON more human readable."},{"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"score":0,"creation_date":1690355248,"post_id":76768520,"comment_id":135340059,"body_markdown":"bro, if Newlines is what I have wanted, then I won&#39;t have put up a new question here on StackOverflow. Google search already suggested to me the link you shared. I exactly want what I have mentioned in the question.","body":"bro, if Newlines is what I have wanted, then I won&#39;t have put up a new question here on StackOverflow. Google search already suggested to me the link you shared. I exactly want what I have mentioned in the question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690355691,"post_id":76768520,"comment_id":135340142,"body_markdown":"Just remove the newlines from the string.","body":"Just remove the newlines from the string."},{"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"score":0,"creation_date":1690359698,"post_id":76768520,"comment_id":135340908,"body_markdown":"That is also not easy. in-between &#39;\\n&#39; characters need to be replaced with &#39;  &#39; but ending &#39;\\n&#39; characters need to be replaced with &#39;&#39;. And I do not want to customize  encryptino-decryption logic this much.","body":"That is also not easy. in-between &#39;\\n&#39; characters need to be replaced with &#39;  &#39; but ending &#39;\\n&#39; characters need to be replaced with &#39;&#39;. And I do not want to customize  encryptino-decryption logic this much."}],"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690352595,"creation_date":1690352595,"question_id":76768520,"body_markdown":"for the given object -\r\n\r\n    {\r\n        &quot;apiRequestType&quot;: &quot;add&quot;,\r\n        &quot;noOfTIDsRequired&quot;: &quot;1&quot;,\r\n        &quot;applicationId&quot;: &quot;dxvfdv&quot;,\r\n        &quot;posId&quot;: &quot;1140475&quot;,\r\n        &quot;midTidDetails&quot;: null\r\n    }\r\n\r\ni get this -\r\n\r\n    &quot;{\\&quot;apiRequestType\\&quot;:\\&quot;add\\&quot;,\\&quot;noOfTIDsRequired\\&quot;:\\&quot;1\\&quot;,\\&quot;applicationId\\&quot;:\\&quot;dxvfdv\\&quot;,\\&quot;posId\\&quot;:\\&quot;1140475\\&quot;,\\&quot;midTidDetails\\&quot;:null}&quot;\r\n\r\nfrom -\r\n\r\n    objectMapper.writeValueAsString(inputMap))\r\n\r\nbut i want this -\r\n\r\n    &quot;{    \\&quot;apiRequestType\\&quot;: \\&quot;add\\&quot;,    \\&quot;noOfTIDsRequired\\&quot;: \\&quot;1\\&quot;,    \\&quot;applicationId\\&quot;: \\&quot;dxvfdv\\&quot;,    \\&quot;posId\\&quot;: \\&quot;1140475\\&quot;,    \\&quot;midTidDetails\\&quot;: null}&quot;\r\n\r\ncan anyone suggest me how can I achieve my expected output using Jackson ObjectMapper.\r\nOr if any other library can be used then please suggest.\r\n","title":"need indented spacing in JSON converted string from objectMapper","body":"<p>for the given object -</p>\n<pre><code>{\n    &quot;apiRequestType&quot;: &quot;add&quot;,\n    &quot;noOfTIDsRequired&quot;: &quot;1&quot;,\n    &quot;applicationId&quot;: &quot;dxvfdv&quot;,\n    &quot;posId&quot;: &quot;1140475&quot;,\n    &quot;midTidDetails&quot;: null\n}\n</code></pre>\n<p>i get this -</p>\n<pre><code>&quot;{\\&quot;apiRequestType\\&quot;:\\&quot;add\\&quot;,\\&quot;noOfTIDsRequired\\&quot;:\\&quot;1\\&quot;,\\&quot;applicationId\\&quot;:\\&quot;dxvfdv\\&quot;,\\&quot;posId\\&quot;:\\&quot;1140475\\&quot;,\\&quot;midTidDetails\\&quot;:null}&quot;\n</code></pre>\n<p>from -</p>\n<pre><code>objectMapper.writeValueAsString(inputMap))\n</code></pre>\n<p>but i want this -</p>\n<pre><code>&quot;{    \\&quot;apiRequestType\\&quot;: \\&quot;add\\&quot;,    \\&quot;noOfTIDsRequired\\&quot;: \\&quot;1\\&quot;,    \\&quot;applicationId\\&quot;: \\&quot;dxvfdv\\&quot;,    \\&quot;posId\\&quot;: \\&quot;1140475\\&quot;,    \\&quot;midTidDetails\\&quot;: null}&quot;\n</code></pre>\n<p>can anyone suggest me how can I achieve my expected output using Jackson ObjectMapper.\nOr if any other library can be used then please suggest.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690353505,"post_id":76768517,"comment_id":135339706,"body_markdown":"Disabling basic and form login have nothing to do with generating a user. You don&#39;t have a `UserDetailsService` and Spring Boot will automatically create an in memory one with a generated user.","body":"Disabling basic and form login have nothing to do with generating a user. You don&#39;t have a <code>UserDetailsService</code> and Spring Boot will automatically create an in memory one with a generated user."}],"owner":{"account_id":23540670,"reputation":11,"user_id":17584913,"display_name":"lulzeR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690352558,"creation_date":1690352558,"question_id":76768517,"body_markdown":"Here is my Security config where I disable HttpBasic and FormLogin but yet I get generated password..How Can I disable it and following up the logic?\r\n\r\ncould be a problem that my dependencies wrong?\r\n```\r\n@RequiredArgsConstructor\r\n@Configuration\r\n@ComponentScan\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private final UserAuthenticationEntryPoint userAuthenticationEntryPoint;\r\n    private final UserAuthenticationProvider userAuthenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.exceptionHandling((exceptionalHandling) -&gt; exceptionalHandling.accessDeniedPage(&quot;/errors/access-denied&quot;))\r\n                .authenticationProvider((AuthenticationProvider) userAuthenticationEntryPoint)\r\n                .addFilterBefore(new JwtAuthFilter(userAuthenticationProvider), BasicAuthenticationFilter.class)\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .cors(AbstractHttpConfigurer::disable)\r\n                .sessionManagement((sessionManagement) -&gt; sessionManagement.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(HttpMethod.POST, &quot;/login&quot;, &quot;/register&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/message&quot;).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .formLogin(AbstractHttpConfigurer::disable)\r\n                .httpBasic(AbstractHttpConfigurer::disable);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nand this is the entryPoint Auth\r\n\r\n```\r\n@Component\r\npublic class UserAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n\r\n    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\n\r\n    @Override\r\n    public void commence(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            AuthenticationException authException) throws IOException, ServletException {\r\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n        response.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n        OBJECT_MAPPER.writeValue(response.getOutputStream(), new ErrorDto(&quot;Unauthorized path&quot;));\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere is the AuthProvider\r\n```\r\n@RequiredArgsConstructor\r\n@Component\r\n\r\npublic class UserAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    @Value(&quot;${security.jwt.token.secret-key:secret-key}&quot;)\r\n    private String secretKey;\r\n\r\n    private final UserService userService;\r\n\r\n    @PostConstruct\r\n    protected void init() {\r\n        // this is to avoid having the raw secret key available in the JVM\r\n        secretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\r\n    }\r\n\r\n    public String createToken(String login) {\r\n        Date now = new Date();\r\n        Date validity = new Date(now.getTime() + 3600000); // 1 hour\r\n\r\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\r\n        return JWT.create()\r\n                .withIssuer(login)\r\n                .withIssuedAt(now)\r\n                .withExpiresAt(validity)\r\n                .sign(algorithm);\r\n    }\r\n\r\n    public Authentication validateToken(String token) {\r\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\r\n\r\n        JWTVerifier verifier = JWT.require(algorithm)\r\n                .build();\r\n\r\n        DecodedJWT decoded = verifier.verify(token);\r\n\r\n        UserDto user = userService.findByLogin(decoded.getIssuer());\r\n\r\n        return new UsernamePasswordAuthenticationToken(user, null, Collections.emptyList());\r\n    }\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.entur.jwt-rs:jwt-spring-auth0:1.1.16&#39;\r\n    implementation &#39;org.projectlombok:lombok:1.18.26&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n    implementation &#39;org.mapstruct:mapstruct:1.5.5.Final&#39;\r\n    implementation group: &#39;javax.validation&#39;, name: &#39;validation-api&#39;, version: &#39;2.0.1.Final&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.5.5.Final&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n\r\nand here is my application properties\r\n\r\n```\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\nserver.port=8080\r\nsecurity.basic.enable=false\r\n```\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@RestController\r\n\r\npublic class AuthController {\r\n\r\n    private final UserService userService;\r\n    private final UserAuthenticationProvider userAuthProvider;\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; login (@RequestBody CredentialsDto credentialsDto) {\r\n        UserDto user = userService.login(credentialsDto);\r\n        user.setToken(userAuthProvider.createToken(user.getLogin()));\r\n        return ResponseEntity.ok(user);\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; register(@RequestBody SignUpDto signUpDto) {\r\n        UserDto user = userService.register(signUpDto);\r\n        user.setToken(userAuthProvider.createToken(user.getLogin()));\r\n        return ResponseEntity.created(URI.create(&quot;/users/&quot; + user.getId()))\r\n                .body(user);\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo I want remove HttpBasic and auth by jwt","title":"getting HttpBasic form even though I disabled it","body":"<p>Here is my Security config where I disable HttpBasic and FormLogin but yet I get generated password..How Can I disable it and following up the logic?</p>\n<p>could be a problem that my dependencies wrong?</p>\n<pre><code>@RequiredArgsConstructor\n@Configuration\n@ComponentScan\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private final UserAuthenticationEntryPoint userAuthenticationEntryPoint;\n    private final UserAuthenticationProvider userAuthenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.exceptionHandling((exceptionalHandling) -&gt; exceptionalHandling.accessDeniedPage(&quot;/errors/access-denied&quot;))\n                .authenticationProvider((AuthenticationProvider) userAuthenticationEntryPoint)\n                .addFilterBefore(new JwtAuthFilter(userAuthenticationProvider), BasicAuthenticationFilter.class)\n                .csrf(AbstractHttpConfigurer::disable)\n                .cors(AbstractHttpConfigurer::disable)\n                .sessionManagement((sessionManagement) -&gt; sessionManagement.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(HttpMethod.POST, &quot;/login&quot;, &quot;/register&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET, &quot;/message&quot;).permitAll()\n                        .anyRequest().authenticated())\n                .formLogin(AbstractHttpConfigurer::disable)\n                .httpBasic(AbstractHttpConfigurer::disable);\n\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>and this is the entryPoint Auth</p>\n<pre><code>@Component\npublic class UserAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n\n    @Override\n    public void commence(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            AuthenticationException authException) throws IOException, ServletException {\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        response.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n        OBJECT_MAPPER.writeValue(response.getOutputStream(), new ErrorDto(&quot;Unauthorized path&quot;));\n    }\n}\n</code></pre>\n<p>Here is the AuthProvider</p>\n<pre><code>@RequiredArgsConstructor\n@Component\n\npublic class UserAuthenticationProvider implements AuthenticationProvider {\n\n    @Value(&quot;${security.jwt.token.secret-key:secret-key}&quot;)\n    private String secretKey;\n\n    private final UserService userService;\n\n    @PostConstruct\n    protected void init() {\n        // this is to avoid having the raw secret key available in the JVM\n        secretKey = Base64.getEncoder().encodeToString(secretKey.getBytes());\n    }\n\n    public String createToken(String login) {\n        Date now = new Date();\n        Date validity = new Date(now.getTime() + 3600000); // 1 hour\n\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\n        return JWT.create()\n                .withIssuer(login)\n                .withIssuedAt(now)\n                .withExpiresAt(validity)\n                .sign(algorithm);\n    }\n\n    public Authentication validateToken(String token) {\n        Algorithm algorithm = Algorithm.HMAC256(secretKey);\n\n        JWTVerifier verifier = JWT.require(algorithm)\n                .build();\n\n        DecodedJWT decoded = verifier.verify(token);\n\n        UserDto user = userService.findByLogin(decoded.getIssuer());\n\n        return new UsernamePasswordAuthenticationToken(user, null, Collections.emptyList());\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        return null;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return false;\n    }\n}\n</code></pre>\n<pre><code>\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.entur.jwt-rs:jwt-spring-auth0:1.1.16'\n    implementation 'org.projectlombok:lombok:1.18.26'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'org.postgresql:postgresql'\n    implementation 'org.mapstruct:mapstruct:1.5.5.Final'\n    implementation group: 'javax.validation', name: 'validation-api', version: '2.0.1.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.5.5.Final'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>and here is my application properties</p>\n<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=none\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=password\nserver.port=8080\nsecurity.basic.enable=false\n</code></pre>\n<pre><code>@RequiredArgsConstructor\n@RestController\n\npublic class AuthController {\n\n    private final UserService userService;\n    private final UserAuthenticationProvider userAuthProvider;\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;UserDto&gt; login (@RequestBody CredentialsDto credentialsDto) {\n        UserDto user = userService.login(credentialsDto);\n        user.setToken(userAuthProvider.createToken(user.getLogin()));\n        return ResponseEntity.ok(user);\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;UserDto&gt; register(@RequestBody SignUpDto signUpDto) {\n        UserDto user = userService.register(signUpDto);\n        user.setToken(userAuthProvider.createToken(user.getLogin()));\n        return ResponseEntity.created(URI.create(&quot;/users/&quot; + user.getId()))\n                .body(user);\n    }\n}\n\n</code></pre>\n<p>So I want remove HttpBasic and auth by jwt</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1682000521,"creation_date":1682000521,"answer_id":76065186,"question_id":76064893,"body_markdown":"You&#39;ve selected a [Jetpack Compose][1] project template, and [Jetpack Compose can only be used with Kotlin][2].\r\n\r\nSpecifically, you&#39;ve selected the &quot;Empty Activity&quot; template shown below that has the Jetpack Compose logo on it:\r\n\r\n[![&quot;New Project&quot; wizard with &quot;Empty Activity&quot; selected.  The image above &quot;Empty Activity&quot; displays the Jetpack Compose logo.][3]][3]\r\n\r\nTo solve this, select any template with &quot;Views&quot; in the name, or select the &quot;No Activity&quot; template.  You&#39;ll be given the &quot;Language&quot; dropdown in any of those templates and will be able to select Java there:\r\n\r\n[![New project wizard showing the configuration for an &quot;Empty Views Activity&quot; project.  A &quot;Language&quot; dropdown with &quot;Java&quot; and &quot;Kotlin&quot; options is present.][4]][4]\r\n\r\nThat said, [Android development is becoming increasingly Kotlin-first][5]; you may wish to consider trying Kotlin.\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/compose\r\n  [2]: https://stackoverflow.com/a/66433621/208273\r\n  [3]: https://i.stack.imgur.com/2NHiU.png\r\n  [4]: https://i.stack.imgur.com/oqang.png\r\n  [5]: https://developer.android.com/kotlin/first","title":"Not showing language option after selecting project template in Android Studio","body":"<p>You've selected a <a href=\"https://developer.android.com/jetpack/compose\" rel=\"noreferrer\">Jetpack Compose</a> project template, and <a href=\"https://stackoverflow.com/a/66433621/208273\">Jetpack Compose can only be used with Kotlin</a>.</p>\n<p>Specifically, you've selected the &quot;Empty Activity&quot; template shown below that has the Jetpack Compose logo on it:</p>\n<p><a href=\"https://i.stack.imgur.com/2NHiU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2NHiU.png\" alt=\"&quot;New Project&quot; wizard with &quot;Empty Activity&quot; selected.  The image above &quot;Empty Activity&quot; displays the Jetpack Compose logo.\" /></a></p>\n<p>To solve this, select any template with &quot;Views&quot; in the name, or select the &quot;No Activity&quot; template.  You'll be given the &quot;Language&quot; dropdown in any of those templates and will be able to select Java there:</p>\n<p><a href=\"https://i.stack.imgur.com/oqang.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oqang.png\" alt=\"New project wizard showing the configuration for an &quot;Empty Views Activity&quot; project.  A &quot;Language&quot; dropdown with &quot;Java&quot; and &quot;Kotlin&quot; options is present.\" /></a></p>\n<p>That said, <a href=\"https://developer.android.com/kotlin/first\" rel=\"noreferrer\">Android development is becoming increasingly Kotlin-first</a>; you may wish to consider trying Kotlin.</p>\n"},{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683403084,"creation_date":1683403084,"answer_id":76190857,"question_id":76064893,"body_markdown":"I&#39;m using `Android Studio Flamingo | 2022.2.1 Patch 1`\r\n\r\nExcept for the selected activity, you can select and use the Java language for other Activities.\r\n\r\nThis Selected Activity is Jetpack Compose Activity. Jetpack Compose supports only Kotlin language. \r\n\r\nFor more details: https://developer.android.com/jetpack/compose\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PlCWq.png","title":"Not showing language option after selecting project template in Android Studio","body":"<p>I'm using <code>Android Studio Flamingo | 2022.2.1 Patch 1</code></p>\n<p>Except for the selected activity, you can select and use the Java language for other Activities.</p>\n<p>This Selected Activity is Jetpack Compose Activity. Jetpack Compose supports only Kotlin language.</p>\n<p>For more details: <a href=\"https://developer.android.com/jetpack/compose\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/compose</a></p>\n<p><a href=\"https://i.stack.imgur.com/PlCWq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PlCWq.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":2568291,"reputation":69680,"user_id":2227743,"accept_rate":100,"display_name":"Eric Aya"},"score":2,"creation_date":1690357180,"post_id":76768498,"comment_id":135340405,"body_markdown":"Using ChatGPT to post answers is not allowed. See https://meta.stackoverflow.com/questions/421831/temporary-policy-chatgpt-is-banned","body":"Using ChatGPT to post answers is not allowed. See <a href=\"https://meta.stackoverflow.com/questions/421831/temporary-policy-chatgpt-is-banned\" title=\"temporary policy chatgpt is banned\">meta.stackoverflow.com/questions/421831/&hellip;</a>"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":1,"creation_date":1691334901,"post_id":76768498,"comment_id":135474718,"body_markdown":"As mentioned, AI-generated and/or assisted answers are not allowed here.  If you used an AI tool to assist with any answer, I would encourage you to delete it.\n\nWe do hope you&#39;ll be a part of our community and contribute with *your own*, quality posts in the future. Thanks!","body":"As mentioned, AI-generated and/or assisted answers are not allowed here.  If you used an AI tool to assist with any answer, I would encourage you to delete it.  We do hope you&#39;ll be a part of our community and contribute with <i>your own</i>, quality posts in the future. Thanks!"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":1,"creation_date":1691334903,"post_id":76768498,"comment_id":135474719,"body_markdown":"**Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.** If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly.","body":"<b>Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.</b> If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly."}],"tags":[],"owner":{"account_id":28904797,"reputation":1,"user_id":22138992,"display_name":"kripal singh"},"comment_count":3,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1690352365,"creation_date":1690352365,"answer_id":76768498,"question_id":76064893,"body_markdown":"If you want to change the language for an existing Android Studio project from Kotlin to Java, you can follow these steps:\r\n\r\nOpen your existing Kotlin project in Android Studio.\r\n\r\nIn the Project view (usually located on the left side of the Android Studio window), right-click on your project&#39;s module (usually named &quot;app&quot;).\r\n\r\nFrom the context menu, navigate to &quot;New&quot; &gt; &quot;Other&quot; &gt; &quot;Empty Activity.&quot;\r\n\r\nIn the &quot;Configure Activity&quot; dialog that appears, set the &quot;Language&quot; dropdown to &quot;Java.&quot;\r\n\r\nClick &quot;Finish&quot; to create the new Java Activity.\r\n\r\nOnce the new Java Activity is created, you can safely delete the existing Kotlin Activity. Right-click on the Kotlin Activity file (e.g., MainActivity.kt) and choose &quot;Delete.&quot;\r\n\r\nWhen prompted, select &quot;Move to Recycle Bin&quot; or &quot;Delete Permanently&quot; (make sure to have a backup if needed).\r\n\r\nFinally, you should also rename the new Java Activity (e.g., from MainActivity.java to MainActivity) to ensure that it becomes the main entry point for your application.\r\n\r\nAfter these steps, your project will be in Java instead of Kotlin. Remember to also update any references to the Kotlin Activity or Kotlin-specific code in your project to use Java code instead.\r\n\r\nKeep in mind that changing the language may require adapting any Kotlin-specific features and syntax to Java equivalents, so some code modifications may be needed depending on the complexity of your project.\r\n\r\n------------------------------------------------------------------------------------\r\n\r\nYou will need to make some updates in the AndroidManifest.xml file after converting your project from Kotlin to Java:\r\n\r\nOpen the AndroidManifest.xml file in the &quot;app&quot; module.\r\n\r\nIn the &lt;activity&gt; tag for your main activity (previously MainActivity.kt), change the android:name attribute from the Kotlin class reference to the Java class reference. For example:\r\n\r\nFrom:\r\n           android:name=&quot;.MainActivityKt&quot;  \r\nTo: \r\n           android:name=&quot;.MainActivity&quot;\r\n\r\n\r\nIf you have manually renamed the new Java activity (from MainActivity.java to MainActivity), ensure that the android:name attribute in the manifest matches the new name.\r\n\r\nIf you have any other Kotlin activities in your project that you&#39;ve converted to Java, update their android:name attributes accordingly.\r\n\r\nIf there are any other references to Kotlin-specific features or libraries in your manifest, you may need to update or remove them based on the changes you made in the code.\r\n\r\nOther than these changes, there should be no major adjustments required in the manifest if you&#39;ve converted your project from Kotlin to Java. Make sure to thoroughly test your app after the conversion to ensure everything works as expected.","title":"Not showing language option after selecting project template in Android Studio","body":"<p>If you want to change the language for an existing Android Studio project from Kotlin to Java, you can follow these steps:</p>\n<p>Open your existing Kotlin project in Android Studio.</p>\n<p>In the Project view (usually located on the left side of the Android Studio window), right-click on your project's module (usually named &quot;app&quot;).</p>\n<p>From the context menu, navigate to &quot;New&quot; &gt; &quot;Other&quot; &gt; &quot;Empty Activity.&quot;</p>\n<p>In the &quot;Configure Activity&quot; dialog that appears, set the &quot;Language&quot; dropdown to &quot;Java.&quot;</p>\n<p>Click &quot;Finish&quot; to create the new Java Activity.</p>\n<p>Once the new Java Activity is created, you can safely delete the existing Kotlin Activity. Right-click on the Kotlin Activity file (e.g., MainActivity.kt) and choose &quot;Delete.&quot;</p>\n<p>When prompted, select &quot;Move to Recycle Bin&quot; or &quot;Delete Permanently&quot; (make sure to have a backup if needed).</p>\n<p>Finally, you should also rename the new Java Activity (e.g., from MainActivity.java to MainActivity) to ensure that it becomes the main entry point for your application.</p>\n<p>After these steps, your project will be in Java instead of Kotlin. Remember to also update any references to the Kotlin Activity or Kotlin-specific code in your project to use Java code instead.</p>\n<p>Keep in mind that changing the language may require adapting any Kotlin-specific features and syntax to Java equivalents, so some code modifications may be needed depending on the complexity of your project.</p>\n<hr />\n<p>You will need to make some updates in the AndroidManifest.xml file after converting your project from Kotlin to Java:</p>\n<p>Open the AndroidManifest.xml file in the &quot;app&quot; module.</p>\n<p>In the  tag for your main activity (previously MainActivity.kt), change the android:name attribute from the Kotlin class reference to the Java class reference. For example:</p>\n<p>From:\nandroid:name=&quot;.MainActivityKt&quot;<br />\nTo:\nandroid:name=&quot;.MainActivity&quot;</p>\n<p>If you have manually renamed the new Java activity (from MainActivity.java to MainActivity), ensure that the android:name attribute in the manifest matches the new name.</p>\n<p>If you have any other Kotlin activities in your project that you've converted to Java, update their android:name attributes accordingly.</p>\n<p>If there are any other references to Kotlin-specific features or libraries in your manifest, you may need to update or remove them based on the changes you made in the code.</p>\n<p>Other than these changes, there should be no major adjustments required in the manifest if you've converted your project from Kotlin to Java. Make sure to thoroughly test your app after the conversion to ensure everything works as expected.</p>\n"}],"owner":{"account_id":28344434,"reputation":91,"user_id":21676869,"display_name":"Bisal Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7051,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":3,"score":8,"last_activity_date":1690352365,"creation_date":1681998809,"question_id":76064893,"body_markdown":"The &quot;New Project&quot; wizard in Android Studio is not showing the &quot;Language&quot; option. I want to use Java, but it&#39;s forcing me to use Kotlin.\r\n\r\n![Language option is missing.](https://i.stack.imgur.com/R5IVD.png)\r\n\r\nI am expecting to use Java for Android development.  How can I make a Java project?","title":"Not showing language option after selecting project template in Android Studio","body":"<p>The &quot;New Project&quot; wizard in Android Studio is not showing the &quot;Language&quot; option. I want to use Java, but it's forcing me to use Kotlin.</p>\n<p><img src=\"https://i.stack.imgur.com/R5IVD.png\" alt=\"Language option is missing.\" /></p>\n<p>I am expecting to use Java for Android development.  How can I make a Java project?</p>\n"},{"tags":["java","google-developer-tools","androidpublisher"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690263533,"post_id":76759549,"comment_id":135324903,"body_markdown":"Please don&#39;t post images of text.","body":"Please don&#39;t post images of text."}],"owner":{"account_id":23682269,"reputation":1,"user_id":17707681,"display_name":"harry li"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690352248,"creation_date":1690260802,"question_id":76759549,"body_markdown":"This is my maven dependent libraries.\t\r\n```\r\n&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-androidpublisher&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;v3-rev20230615-2.0.0&lt;/version&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.43.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nThis is code:\r\n\r\n```\r\n`InputStream purchaseToken = GoogleChannel.class.getClassLoader().getResourceAsStream(&quot;xxxxx.json&quot;);\r\n            assert purchaseToken != null;\r\n            GoogleCredentials credentials = GoogleCredentials.fromStream(purchaseToken)\r\n                    .createScoped(Sets.newHashSet(AndroidPublisherScopes.ANDROIDPUBLISHER));\r\n            androidPublisher = new AndroidPublisher.Builder(\r\n                    GoogleNetHttpTransport.newTrustedTransport(),\r\n                    GsonFactory.getDefaultInstance(),\r\n                    new HttpCredentialsAdapter(credentials)).build();\r\n```\r\n\r\nbut the error appears in the dependent library.\r\n[enter image description here](https://i.stack.imgur.com/GT0t1.jpg)\r\n\r\nLooking for a lot of methods, still reporting errors，I don&#39;t know what to do with it, please\r\n\r\nReplaced different dependency versions, ended up using the latest version, but still got the error.","title":"use GoogleNetHttpTransport.newTrustedTransport() func, return a error! java.lang.ExceptionInInitializerError","body":"<p>This is my maven dependent libraries.</p>\n<pre><code>&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-androidpublisher&lt;/artifactId&gt;\n        &lt;version&gt;v3-rev20230615-2.0.0&lt;/version&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n            &lt;version&gt;1.43.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This is code:</p>\n<pre><code>`InputStream purchaseToken = GoogleChannel.class.getClassLoader().getResourceAsStream(&quot;xxxxx.json&quot;);\n            assert purchaseToken != null;\n            GoogleCredentials credentials = GoogleCredentials.fromStream(purchaseToken)\n                    .createScoped(Sets.newHashSet(AndroidPublisherScopes.ANDROIDPUBLISHER));\n            androidPublisher = new AndroidPublisher.Builder(\n                    GoogleNetHttpTransport.newTrustedTransport(),\n                    GsonFactory.getDefaultInstance(),\n                    new HttpCredentialsAdapter(credentials)).build();\n</code></pre>\n<p>but the error appears in the dependent library.\n<a href=\"https://i.stack.imgur.com/GT0t1.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Looking for a lot of methods, still reporting errors，I don't know what to do with it, please</p>\n<p>Replaced different dependency versions, ended up using the latest version, but still got the error.</p>\n"},{"tags":["java","bigdecimal"],"answers":[{"comments":[{"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"score":15,"creation_date":1476387524,"post_id":12850784,"comment_id":67336266,"body_markdown":"As for &quot;properly formatted&quot;...  `2.105,88` is in fact entirely properly formatted in a bunch of locales... And in those locales, `2105.88` is not proper at all. What this whole ordeal would need is a Locale argument for the BigDecimal constructor...","body":"As for &quot;properly formatted&quot;...  <code>2.105,88</code> is in fact entirely properly formatted in a bunch of locales... And in those locales, <code>2105.88</code> is not proper at all. What this whole ordeal would need is a Locale argument for the BigDecimal constructor..."},{"owner":{"account_id":91814,"reputation":893,"user_id":251930,"display_name":"Nathan Crause"},"score":0,"creation_date":1672439810,"post_id":12850784,"comment_id":132291860,"body_markdown":"@ppeterka you&#39;re confusing presentation vs. logic when referring to &quot;properly formatted&quot;. &quot;2.105,88&quot; isn&#39;t computer notation in any fashion. That&#39;s a presentation issue. It wouldn&#39;t make sense to make every conceivable mechanism for dealing with numbers require having a locale parameter purely to handle presentation.","body":"@ppeterka you&#39;re confusing presentation vs. logic when referring to &quot;properly formatted&quot;. &quot;2.105,88&quot; isn&#39;t computer notation in any fashion. That&#39;s a presentation issue. It wouldn&#39;t make sense to make every conceivable mechanism for dealing with numbers require having a locale parameter purely to handle presentation."},{"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"score":0,"creation_date":1672541966,"post_id":12850784,"comment_id":132304587,"body_markdown":"@NathanCrause I disagree. Converting something from and to a String always should require proper locale. You might not have encountered the issues that stem from the decimal character being different in various locals but it can break stuff in spectacular ways if not accounted for.","body":"@NathanCrause I disagree. Converting something from and to a String always should require proper locale. You might not have encountered the issues that stem from the decimal character being different in various locals but it can break stuff in spectacular ways if not accounted for."},{"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"score":0,"creation_date":1672542497,"post_id":12850784,"comment_id":132304614,"body_markdown":"@NathanCrause also curious: how would you solve the issue then, what should be the default locale?","body":"@NathanCrause also curious: how would you solve the issue then, what should be the default locale?"},{"owner":{"account_id":1622277,"reputation":6199,"user_id":1498586,"accept_rate":66,"display_name":"Mahdi"},"score":0,"creation_date":1690350624,"post_id":12850784,"comment_id":135339268,"body_markdown":"This way is not good, so if you pass &quot;0.001&quot; result will be 1","body":"This way is not good, so if you pass &quot;0.001&quot; result will be 1"}],"tags":[],"owner":{"account_id":1482474,"reputation":7545,"user_id":1652451,"display_name":"PbxMan"},"comment_count":5,"down_vote_count":2,"up_vote_count":47,"is_accepted":true,"score":45,"last_activity_date":1619307179,"creation_date":1350003297,"answer_id":12850784,"question_id":12836647,"body_markdown":"It seems like there is no other way since `java.Lang.Number` doesn&#39;t have a method which returns a `BigDecimal` type. Anyway it makes sense because `BigDecimal` only accepts strings which are properly formatted not like `&quot;2.105,88&quot;` but like `&quot;2105.88&quot;`.\r\n \r\nLet me show your my code:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.text.DecimalFormat;\r\n    import java.text.NumberFormat;\r\n    import java.text.ParseException;\r\n    import java.util.Locale;\r\n    public class JavaMain {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString numberString = &quot;2.105,88&quot;;\r\n    \t\t//using casting\r\n    \t\ttry {\r\n    \t\t\tDecimalFormat df = (DecimalFormat) NumberFormat.getInstance(Locale.GERMAN);\r\n    \t\t\tdf.setParseBigDecimal(true);\r\n    \t\t\tBigDecimal bd = (BigDecimal) df.parseObject(numberString);\r\n    \t\t\tSystem.out.println(bd.toString());\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t//your way short version\r\n    \t    NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\r\n    \t    try {\r\n    \t        BigDecimal bd1 = new BigDecimal(nf.parse(numberString).toString());\r\n    \t        System.out.println(bd1.toString());\r\n    \t    } catch (ParseException e) {\r\n    \t        e.printStackTrace();\r\n    \t    }\r\n    \t\tString numberStringFixed = &quot;2105.88&quot;;\r\n    \t    //direct string formatted\r\n    \t    System.out.println(new BigDecimal(numberStringFixed));;\t    \r\n    \t    //direct but erroneous way if the string is not formatted\r\n    \t    System.out.println(new BigDecimal(numberString));;\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nI hope this helps!","title":"Best way to convert Locale specific String to BigDecimal","body":"<p>It seems like there is no other way since <code>java.Lang.Number</code> doesn't have a method which returns a <code>BigDecimal</code> type. Anyway it makes sense because <code>BigDecimal</code> only accepts strings which are properly formatted not like <code>&quot;2.105,88&quot;</code> but like <code>&quot;2105.88&quot;</code>.</p>\n<p>Let me show your my code:</p>\n<pre><code>import java.math.BigDecimal;\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.text.ParseException;\nimport java.util.Locale;\npublic class JavaMain {\n    public static void main(String[] args) {\n        String numberString = &quot;2.105,88&quot;;\n        //using casting\n        try {\n            DecimalFormat df = (DecimalFormat) NumberFormat.getInstance(Locale.GERMAN);\n            df.setParseBigDecimal(true);\n            BigDecimal bd = (BigDecimal) df.parseObject(numberString);\n            System.out.println(bd.toString());\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        //your way short version\n        NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\n        try {\n            BigDecimal bd1 = new BigDecimal(nf.parse(numberString).toString());\n            System.out.println(bd1.toString());\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        String numberStringFixed = &quot;2105.88&quot;;\n        //direct string formatted\n        System.out.println(new BigDecimal(numberStringFixed));;     \n        //direct but erroneous way if the string is not formatted\n        System.out.println(new BigDecimal(numberString));;\n        \n    }\n}\n</code></pre>\n<p>I hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"score":1,"creation_date":1480009020,"post_id":16796038,"comment_id":68806403,"body_markdown":"@JarettMillard In truth `DecimalFormat`  have, `NumberFormat` have not this method","body":"@JarettMillard In truth <code>DecimalFormat</code>  have, <code>NumberFormat</code> have not this method"},{"owner":{"account_id":8733,"reputation":5830,"user_id":15882,"accept_rate":100,"display_name":"Jarett Millard"},"score":0,"creation_date":1480433691,"post_id":16796038,"comment_id":68954973,"body_markdown":"@deFreitas `NumberFormat` is an abstract class. The docs for `DecimalFormat` explicitly tell you to create instances of it with `NumberFormat.getInstance()`.","body":"@deFreitas <code>NumberFormat</code> is an abstract class. The docs for <code>DecimalFormat</code> explicitly tell you to create instances of it with <code>NumberFormat.getInstance()</code>."},{"owner":{"account_id":5225992,"reputation":1799,"user_id":4178025,"display_name":"Diego"},"score":2,"creation_date":1481152464,"post_id":16796038,"comment_id":69265653,"body_markdown":"&quot;NumberFormat is an abstract class&quot; which doesn&#39;t have such method, meaning you have to cast back to DecimalFormat the result of the factory method.","body":"&quot;NumberFormat is an abstract class&quot; which doesn&#39;t have such method, meaning you have to cast back to DecimalFormat the result of the factory method."}],"tags":[],"owner":{"account_id":8733,"reputation":5830,"user_id":15882,"accept_rate":100,"display_name":"Jarett Millard"},"comment_count":3,"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1588151916,"creation_date":1369755405,"answer_id":16796038,"question_id":12836647,"body_markdown":"`DecimalFormat` has a method called [`setParseBigDecimal`][1] that causes `parse()` to return a `BigDecimal`. You just need to cast the returned `Number`.\r\n\r\n\t\tString numberString = &quot;2.105,88&quot;;\r\n\r\n\t    NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\r\n\t    if (nf instanceof DecimalFormat) {\r\n\t    \tDecimalFormat df = (DecimalFormat) nf;\r\n\t    \tdf.setParseBigDecimal(true);\r\n\t    \tBigDecimal parsed = (BigDecimal) df.parse(numberString);\r\n\t    \t\r\n\t    \tSystem.out.println(parsed);\r\n\t\t}\r\n\r\nOutput:\r\n\r\n&gt; 2105.88\r\n\r\n`setParseBigDecimal` was introduced in Java 1.5.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html#setParseBigDecimal%28boolean%29\r\n","title":"Best way to convert Locale specific String to BigDecimal","body":"<p><code>DecimalFormat</code> has a method called <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html#setParseBigDecimal%28boolean%29\" rel=\"noreferrer\"><code>setParseBigDecimal</code></a> that causes <code>parse()</code> to return a <code>BigDecimal</code>. You just need to cast the returned <code>Number</code>.</p>\n\n<pre><code>    String numberString = \"2.105,88\";\n\n    NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\n    if (nf instanceof DecimalFormat) {\n        DecimalFormat df = (DecimalFormat) nf;\n        df.setParseBigDecimal(true);\n        BigDecimal parsed = (BigDecimal) df.parse(numberString);\n\n        System.out.println(parsed);\n    }\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>2105.88</p>\n</blockquote>\n\n<p><code>setParseBigDecimal</code> was introduced in Java 1.5.</p>\n"}],"owner":{"account_id":1147310,"reputation":2661,"user_id":1129781,"display_name":"Gijs Overvliet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41978,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":12850784,"answer_count":2,"score":45,"last_activity_date":1690351812,"creation_date":1349948518,"question_id":12836647,"body_markdown":"I have to convert a German locale formatted `String` to a `BigDecimal`. However, I&#39;m struggling with the best solution.\r\n\r\nThe following code shows my problem:\r\n\r\n   \t\tString numberString = &quot;2.105,88&quot;;\r\n\t\t\r\n\t\tNumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\r\n\t\ttry {\r\n\t\t\tNumber parsed = nf.parse(numberString);\r\n\t\t\tBigDecimal bd1 = new BigDecimal(parsed.toString());\r\n\t\t\tSystem.out.println(bd1.toString());\r\n\t\t\t\r\n\t\t\tBigDecimal bd2 = new BigDecimal(parsed.doubleValue());\r\n\t\t\tSystem.out.println(bd2);\r\n\t\t\t\r\n\t\t\tBigDecimal bd3 = new BigDecimal(numberString);\r\n\t\t\tSystem.out.println(bd3);\r\n\t\t\t\r\n\t\t} catch (ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nThe outpout of this is\r\n\r\n&gt; 2105.88\r\n\r\n&gt; 2105.8800000000001091393642127513885498046875\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NumberFormatException\r\n\tat java.math.BigDecimal.&lt;init&gt;(Unknown Source)\r\n\tat java.math.BigDecimal.&lt;init&gt;(Unknown Source)\r\n\tat test.BigDecimalTest.main(BigDecimalTest.java:22)\r\n\r\nThe first output is correct, but it doesn&#39;t really make sense to convert a `String` to a `Number` (`Double` to be precise), then back to a `String` again and then into a specific type of `Number`, `BigDecimal`.\r\n\r\nThe second output is incorrect, but could be solved by setting the scale of the `BigDecimal`. However, the amount of digits is not always known.\r\n\r\nThe third output is obviously not what I&#39;m looking for.\r\n\r\nMy question: What would be the best way? Are there better ways to do this?","title":"Best way to convert Locale specific String to BigDecimal","body":"<p>I have to convert a German locale formatted <code>String</code> to a <code>BigDecimal</code>. However, I'm struggling with the best solution.</p>\n\n<p>The following code shows my problem:</p>\n\n<pre><code>    String numberString = \"2.105,88\";\n\n    NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);\n    try {\n        Number parsed = nf.parse(numberString);\n        BigDecimal bd1 = new BigDecimal(parsed.toString());\n        System.out.println(bd1.toString());\n\n        BigDecimal bd2 = new BigDecimal(parsed.doubleValue());\n        System.out.println(bd2);\n\n        BigDecimal bd3 = new BigDecimal(numberString);\n        System.out.println(bd3);\n\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>The outpout of this is</p>\n\n<blockquote>\n  <p>2105.88</p>\n  \n  <p>2105.8800000000001091393642127513885498046875</p>\n  \n  <p>Exception in thread \"main\" java.lang.NumberFormatException\n      at java.math.BigDecimal.(Unknown Source)\n      at java.math.BigDecimal.(Unknown Source)\n      at test.BigDecimalTest.main(BigDecimalTest.java:22)</p>\n</blockquote>\n\n<p>The first output is correct, but it doesn't really make sense to convert a <code>String</code> to a <code>Number</code> (<code>Double</code> to be precise), then back to a <code>String</code> again and then into a specific type of <code>Number</code>, <code>BigDecimal</code>.</p>\n\n<p>The second output is incorrect, but could be solved by setting the scale of the <code>BigDecimal</code>. However, the amount of digits is not always known.</p>\n\n<p>The third output is obviously not what I'm looking for.</p>\n\n<p>My question: What would be the best way? Are there better ways to do this?</p>\n"},{"tags":["java","arrays","json","jackson"],"comments":[{"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"score":1,"creation_date":1689731419,"post_id":76717443,"comment_id":135253716,"body_markdown":"`[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]`  is a standard json, but `[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]\n[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]` is not , Show your complete input.","body":"<code>[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000}, {&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]</code>  is a standard json, but <code>[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000}, {&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}] [{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000}, {&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]</code> is not , Show your complete input."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1689731786,"post_id":76717443,"comment_id":135253753,"body_markdown":"Maybe you  need to split your input into multiple Strings first.  Can use regex.","body":"Maybe you  need to split your input into multiple Strings first.  Can use regex."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689735342,"post_id":76717443,"comment_id":135254039,"body_markdown":"https://cowtowncoder.medium.com/line-delimited-json-with-jackson-69c9e4cb6c00","body":"<a href=\"https://cowtowncoder.medium.com/line-delimited-json-with-jackson-69c9e4cb6c00\" rel=\"nofollow noreferrer\">cowtowncoder.medium.com/&hellip;</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1689735745,"post_id":76717443,"comment_id":135254080,"body_markdown":"Great question; parsing malformed data is an important programming skill to master.","body":"Great question; parsing malformed data is an important programming skill to master."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1689739645,"post_id":76717443,"comment_id":135254371,"body_markdown":"`.split(&quot;(?&lt;=\\\\])(?=\\\\[)&quot;)` and for loop to process","body":"<code>.split(&quot;(?&lt;=\\\\])(?=\\\\[)&quot;)</code> and for loop to process"},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1689946582,"post_id":76717443,"comment_id":135288937,"body_markdown":"Its not a typo, voting to reopen.","body":"Its not a typo, voting to reopen."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689735836,"creation_date":1689735303,"answer_id":76717677,"question_id":76717443,"body_markdown":"&gt; _&quot;I&#39;m receiving an input of one or more Json arrays ..._  \r\n&gt; _... How can I read multiple arrays from a Json String in Java? ...&quot;_\r\n\r\nYou could evaluate the characters to determine when a complete array has been reached.\r\n\r\nIn this example, I&#39;m ignoring the fact that a the brackets may occur within a text value.  \r\nThis doesn&#39;t appear to be the case with your data, so I&#39;ve left out the check.\r\n\r\n```java\r\nString string =\r\n    &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\r\n    &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 5000}]\\n&quot; +\r\n    &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\r\n    &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 5000}]&quot;;\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nint index = 0, offset = 0, count = 0;\r\nfor (char character : string.toCharArray()) {\r\n    switch (character) {\r\n        case &#39;[&#39; -&gt; count++;\r\n        case &#39;]&#39; -&gt; {\r\n            count--;\r\n            if (count == 0) {\r\n                list.add(string.substring(offset, index + 1).strip());\r\n                offset = index + 1;\r\n            }\r\n        }\r\n    }\r\n    index++;\r\n}\r\n```\r\n\r\nOutput, for _list_.\r\n\r\n```none\r\n0 = &#39;[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\r\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]&#39;\r\n1 = &#39;[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000},\r\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]&#39;\r\n```\r\n\r\nI then used _[Gson](https://en.wikipedia.org/wiki/Gson)_ to parse the data.  \r\nI&#39;m using the _SerializedName_ annotation here to conform the hyphenated name.  \r\nAdditionally, I added a _toString_ override to debug the output.\r\n\r\n```java\r\nclass Data {\r\n    String operation;\r\n    @SerializedName(&quot;unit-cost&quot;) float unitCost;\r\n    float quantity;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;{operation= &#39;%s&#39;, &quot;.formatted(operation)\r\n            + &quot;unitCost= %s, &quot;.formatted(unitCost)\r\n            + &quot;quantity= %s}&quot;.formatted(quantity);\r\n    }\r\n}\r\n```\r\n\r\nHere is a basic parse and output.\r\n\r\n```java\r\nGson gson = new Gson();\r\nList&lt;Data[]&gt; data = new ArrayList&lt;&gt;();\r\nfor (String value : list)\r\n    data.add(gson.fromJson(value, Data[].class));\r\n\r\nfor (Data[] datum : data)\r\n    System.out.println(Arrays.toString(datum));\r\n```\r\n\r\n```none\r\n[{operation= &#39;buy&#39;, unitCost= 10.0, quantity= 10000.0}, {operation= &#39;sell&#39;, unitCost= 20.0, quantity= 5000.0}]\r\n[{operation= &#39;buy&#39;, unitCost= 20.0, quantity= 10000.0}, {operation= &#39;sell&#39;, unitCost= 10.0, quantity= 5000.0}]\r\n```","title":"How to read several Json arrays from input and convert them to Java array or List","body":"<blockquote>\n<p><em>&quot;I'm receiving an input of one or more Json arrays ...</em><br />\n<em>... How can I read multiple arrays from a Json String in Java? ...&quot;</em></p>\n</blockquote>\n<p>You could evaluate the characters to determine when a complete array has been reached.</p>\n<p>In this example, I'm ignoring the fact that a the brackets may occur within a text value.<br />\nThis doesn't appear to be the case with your data, so I've left out the check.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string =\n    &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\n    &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 5000}]\\n&quot; +\n    &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\n    &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 5000}]&quot;;\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\nint index = 0, offset = 0, count = 0;\nfor (char character : string.toCharArray()) {\n    switch (character) {\n        case '[' -&gt; count++;\n        case ']' -&gt; {\n            count--;\n            if (count == 0) {\n                list.add(string.substring(offset, index + 1).strip());\n                offset = index + 1;\n            }\n        }\n    }\n    index++;\n}\n</code></pre>\n<p>Output, for <em>list</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>0 = '[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]'\n1 = '[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]'\n</code></pre>\n<p>I then used <em><a href=\"https://en.wikipedia.org/wiki/Gson\" rel=\"nofollow noreferrer\">Gson</a></em> to parse the data.<br />\nI'm using the <em>SerializedName</em> annotation here to conform the hyphenated name.<br />\nAdditionally, I added a <em>toString</em> override to debug the output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Data {\n    String operation;\n    @SerializedName(&quot;unit-cost&quot;) float unitCost;\n    float quantity;\n\n    @Override\n    public String toString() {\n        return &quot;{operation= '%s', &quot;.formatted(operation)\n            + &quot;unitCost= %s, &quot;.formatted(unitCost)\n            + &quot;quantity= %s}&quot;.formatted(quantity);\n    }\n}\n</code></pre>\n<p>Here is a basic parse and output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new Gson();\nList&lt;Data[]&gt; data = new ArrayList&lt;&gt;();\nfor (String value : list)\n    data.add(gson.fromJson(value, Data[].class));\n\nfor (Data[] datum : data)\n    System.out.println(Arrays.toString(datum));\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>[{operation= 'buy', unitCost= 10.0, quantity= 10000.0}, {operation= 'sell', unitCost= 20.0, quantity= 5000.0}]\n[{operation= 'buy', unitCost= 20.0, quantity= 10000.0}, {operation= 'sell', unitCost= 10.0, quantity= 5000.0}]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14533878,"reputation":21,"user_id":10504212,"display_name":"Edder Javier Pe&#241;a Barranco"},"score":0,"creation_date":1690460721,"post_id":76717859,"comment_id":135358884,"body_markdown":"Thank you. This worked for me. It was a necessity to split the input, but I have the doubt if there was a way to do it with a json library or something. However, I did the Json parsing with JsonMapper.","body":"Thank you. This worked for me. It was a necessity to split the input, but I have the doubt if there was a way to do it with a json library or something. However, I did the Json parsing with JsonMapper."}],"tags":[],"owner":{"account_id":2871364,"reputation":203,"user_id":2464647,"display_name":"mlim1972"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689738332,"creation_date":1689738332,"answer_id":76717859,"question_id":76717443,"body_markdown":"There is no automatic way to read it since the object is an appended array of objects. You&#39;ll have to parse it yourself programmatically. Here is a possible way:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport org.json.*;\r\n\r\npublic class JsonTest {\r\n\r\n    public static final void main(String... args){\r\n        String str = &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\r\n                        &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 5000}]\\n&quot; +\r\n                        &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\r\n                        &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 5000}]&quot;;\r\n\r\n        // store all the arrays in a list\r\n        ArrayList&lt;JSONArray&gt; jsonArrays = new ArrayList&lt;&gt;();\r\n        \r\n        int last, beg = last = 0;\r\n        while(true){\r\n            // substring up to ] and treat it as a json array\r\n            last = str.indexOf(&quot;]&quot;, beg);\r\n            if(last == -1) break;\r\n            JSONArray arr = new JSONArray(str.substring(beg, last+1));\r\n            jsonArrays.add(arr);\r\n            beg = last+1;\r\n        }\r\n        \r\n        // print all the json objects in the array list\r\n        for(JSONArray arr : jsonArrays){\r\n            for(int i = 0; i &lt; arr.length(); i++){\r\n                JSONObject obj = arr.getJSONObject(i);\r\n                System.out.println(obj.toString());\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"How to read several Json arrays from input and convert them to Java array or List","body":"<p>There is no automatic way to read it since the object is an appended array of objects. You'll have to parse it yourself programmatically. Here is a possible way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport org.json.*;\n\npublic class JsonTest {\n\n    public static final void main(String... args){\n        String str = &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\n                        &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 5000}]\\n&quot; +\n                        &quot;[{\\&quot;operation\\&quot;:\\&quot;buy\\&quot;, \\&quot;unit-cost\\&quot;:20.00, \\&quot;quantity\\&quot;: 10000},\\n&quot; +\n                        &quot;{\\&quot;operation\\&quot;:\\&quot;sell\\&quot;, \\&quot;unit-cost\\&quot;:10.00, \\&quot;quantity\\&quot;: 5000}]&quot;;\n\n        // store all the arrays in a list\n        ArrayList&lt;JSONArray&gt; jsonArrays = new ArrayList&lt;&gt;();\n        \n        int last, beg = last = 0;\n        while(true){\n            // substring up to ] and treat it as a json array\n            last = str.indexOf(&quot;]&quot;, beg);\n            if(last == -1) break;\n            JSONArray arr = new JSONArray(str.substring(beg, last+1));\n            jsonArrays.add(arr);\n            beg = last+1;\n        }\n        \n        // print all the json objects in the array list\n        for(JSONArray arr : jsonArrays){\n            for(int i = 0; i &lt; arr.length(); i++){\n                JSONObject obj = arr.getJSONObject(i);\n                System.out.println(obj.toString());\n            }\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14533878,"reputation":21,"user_id":10504212,"display_name":"Edder Javier Pe&#241;a Barranco"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1690351626,"creation_date":1689731079,"question_id":76717443,"body_markdown":"I&#39;m receiving an input of one or more Json arrays like \r\n\r\n\r\n```\r\n[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\r\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]\r\n[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000},\r\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]\r\n```\r\nI tried to read the array using JSON-Java in this way:\r\n\r\n\r\n```\r\nJSONArray array = new JSONArray(json)\r\n```\r\nBut this only reads the first array and ignores the second one.\r\n\r\nHow can I read multiple arrays from a Json String in Java?\r\n\r\nI already tried with JSON-java and Jackson but I haven&#39;t found the way to get the expected result.","title":"How to read several Json arrays from input and convert them to Java array or List","body":"<p>I'm receiving an input of one or more Json arrays like</p>\n<pre><code>[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 5000}]\n[{&quot;operation&quot;:&quot;buy&quot;, &quot;unit-cost&quot;:20.00, &quot;quantity&quot;: 10000},\n{&quot;operation&quot;:&quot;sell&quot;, &quot;unit-cost&quot;:10.00, &quot;quantity&quot;: 5000}]\n</code></pre>\n<p>I tried to read the array using JSON-Java in this way:</p>\n<pre><code>JSONArray array = new JSONArray(json)\n</code></pre>\n<p>But this only reads the first array and ignores the second one.</p>\n<p>How can I read multiple arrays from a Json String in Java?</p>\n<p>I already tried with JSON-java and Jackson but I haven't found the way to get the expected result.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","keep-alive"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1578693321,"post_id":59689386,"comment_id":105535606,"body_markdown":"There is, indeed, no concrete timespan after which the VM gets destroyed. In some tests I made about a year ago, the VM was destroyed after ~15 minutes (AWS, you can verify this by printing something out in a static inttializer block). If you want to reuse database connection, use static initializers (I cave an example in [this blog post](https://labs.consol.de/development/2019/02/04/aws_lambda_getting_started.html)).","body":"There is, indeed, no concrete timespan after which the VM gets destroyed. In some tests I made about a year ago, the VM was destroyed after ~15 minutes (AWS, you can verify this by printing something out in a static inttializer block). If you want to reuse database connection, use static initializers (I cave an example in <a href=\"https://labs.consol.de/development/2019/02/04/aws_lambda_getting_started.html\" rel=\"nofollow noreferrer\">this blog post</a>)."},{"owner":{"account_id":12290607,"reputation":747,"user_id":8968137,"accept_rate":25,"display_name":"Raj"},"score":0,"creation_date":1578694102,"post_id":59689386,"comment_id":105535863,"body_markdown":"https://stackoverflow.com/questions/51074990/","body":"<a href=\"https://stackoverflow.com/questions/51074990/\">stackoverflow.com/questions/51074990</a>"},{"owner":{"account_id":12290607,"reputation":747,"user_id":8968137,"accept_rate":25,"display_name":"Raj"},"score":0,"creation_date":1578694418,"post_id":59689386,"comment_id":105535954,"body_markdown":"https://aws.amazon.com/blogs/compute/container-reuse-in-lambda/ does not help","body":"<a href=\"https://aws.amazon.com/blogs/compute/container-reuse-in-lambda/\" rel=\"nofollow noreferrer\">aws.amazon.com/blogs/compute/container-reuse-in-lambda</a> does not help"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1578694646,"post_id":59689386,"comment_id":105536023,"body_markdown":"Does [Aron Gupta&#39;s example](https://github.com/arun-gupta/lambda-rds-mysql) help?","body":"Does <a href=\"https://github.com/arun-gupta/lambda-rds-mysql\" rel=\"nofollow noreferrer\">Aron Gupta&#39;s example</a> help?"},{"owner":{"account_id":60348,"reputation":3362,"user_id":180309,"accept_rate":87,"display_name":"Tofig Hasanov"},"score":0,"creation_date":1690351880,"post_id":59689386,"comment_id":135339423,"body_markdown":"Have you looked at the relatively new Lambda DB Proxy feature? https://aws.amazon.com/blogs/compute/using-amazon-rds-proxy-with-aws-lambda/","body":"Have you looked at the relatively new Lambda DB Proxy feature? <a href=\"https://aws.amazon.com/blogs/compute/using-amazon-rds-proxy-with-aws-lambda/\" rel=\"nofollow noreferrer\">aws.amazon.com/blogs/compute/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578693054,"creation_date":1578693054,"answer_id":59689474,"question_id":59689386,"body_markdown":"There&#39;s no documented time that I&#39;m aware of. It will vary, depending on the needs of the Lambda service. Are you sure that the Lambda wasn&#39;t warm-started within that hour? One hour seems like a long time.\r\n\r\nAlso, look at [Lambda Provisioned Concurrency][1], RDS Proxy (in preview) and Aurora Serverless Data API (if you&#39;re using Aurora Serverless). They are all relevant to database connections from Lambda.\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/compute/new-for-aws-lambda-predictable-start-up-times-with-provisioned-concurrency/","title":"How long does AWS Lambda keep your idle functions around?","body":"<p>There's no documented time that I'm aware of. It will vary, depending on the needs of the Lambda service. Are you sure that the Lambda wasn't warm-started within that hour? One hour seems like a long time.</p>\n\n<p>Also, look at <a href=\"https://aws.amazon.com/blogs/compute/new-for-aws-lambda-predictable-start-up-times-with-provisioned-concurrency/\" rel=\"nofollow noreferrer\">Lambda Provisioned Concurrency</a>, RDS Proxy (in preview) and Aurora Serverless Data API (if you're using Aurora Serverless). They are all relevant to database connections from Lambda.</p>\n"},{"tags":[],"owner":{"account_id":5153935,"reputation":17,"user_id":20097628,"display_name":"Jagvir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690351555,"creation_date":1690351555,"answer_id":76768431,"question_id":59689386,"body_markdown":"The latest Code start official Duration is :-  100 ms to over 1 second. You can find it [here][1] \r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/compute/operating-lambda-performance-optimization-part-1/","title":"How long does AWS Lambda keep your idle functions around?","body":"<p>The latest Code start official Duration is :-  100 ms to over 1 second. You can find it <a href=\"https://aws.amazon.com/blogs/compute/operating-lambda-performance-optimization-part-1/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":12290607,"reputation":747,"user_id":8968137,"accept_rate":25,"display_name":"Raj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690351555,"creation_date":1578692491,"question_id":59689386,"body_markdown":"I looked at [AWS documentation][1] and also on google and its [result][2], but could not find the duration before that the AWS Lambda will be cold started.\r\n\r\nMy aim is to [reuse database connections][3], I leave the function unused for 1+ hours and I can still see that the code is still in memory.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/limits.html\r\n  [2]: https://read.acloud.guru/how-long-does-aws-lambda-keep-your-idle-functions-around-before-a-cold-start-bf715d3b810\r\n  [3]: https://www.jeremydaly.com/reuse-database-connections-aws-lambda/","title":"How long does AWS Lambda keep your idle functions around?","body":"<p>I looked at <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/limits.html\" rel=\"nofollow noreferrer\">AWS documentation</a> and also on google and its <a href=\"https://read.acloud.guru/how-long-does-aws-lambda-keep-your-idle-functions-around-before-a-cold-start-bf715d3b810\" rel=\"nofollow noreferrer\">result</a>, but could not find the duration before that the AWS Lambda will be cold started.</p>\n\n<p>My aim is to <a href=\"https://www.jeremydaly.com/reuse-database-connections-aws-lambda/\" rel=\"nofollow noreferrer\">reuse database connections</a>, I leave the function unused for 1+ hours and I can still see that the code is still in memory.</p>\n"},{"tags":["java","list","collections","arraylist","duplicates"],"answers":[{"comments":[{"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"score":291,"creation_date":1260391117,"post_id":203992,"comment_id":1775789,"body_markdown":"See also LinkedHashSet, if you wish to retain the order.","body":"See also LinkedHashSet, if you wish to retain the order."},{"owner":{"account_id":373120,"reputation":1141,"user_id":722556,"accept_rate":46,"display_name":"Chetan"},"score":0,"creation_date":1333050212,"post_id":203992,"comment_id":12679403,"body_markdown":"But this will just create the set without duplicates , I want to know which number was duplicate in O(n) time","body":"But this will just create the set without duplicates , I want to know which number was duplicate in O(n) time"},{"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"score":0,"creation_date":1336048695,"post_id":203992,"comment_id":13463287,"body_markdown":"Chetan, finding the items in O(n) is possible if the set of possible values is small (think Byte or Short); a BitSet or similar can then be used to store and look up already encountered values in O(1) time. But then again - with such a small value set, doing it in O(n log n) might not be a problem anyway since n is low. (This comment is not applicable to original poster, who needs to do this with String.)","body":"Chetan, finding the items in O(n) is possible if the set of possible values is small (think Byte or Short); a BitSet or similar can then be used to store and look up already encountered values in O(1) time. But then again - with such a small value set, doing it in O(n log n) might not be a problem anyway since n is low. (This comment is not applicable to original poster, who needs to do this with String.)"},{"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"score":3,"creation_date":1340193977,"post_id":203992,"comment_id":14567963,"body_markdown":"@Chetan finding all duplicates from ArrayList in O(n), its important to have correctly defined equals method on objects which you have in the list (no problem for numbers):\n\n`public Set&lt;Object&gt; findDuplicates(List&lt;Object&gt; list)  \n    {  \n        Set&lt;Object&gt; items = new HashSet&lt;Object&gt;();  \n        Set&lt;Object&gt; duplicates = new HashSet&lt;Object&gt;();  \n        for (Object item : list) {  \n            if (items.contains(item)) {  \n                duplicates.add(item);  \n            } else {  \n                items.add(item);  \n            }  \n        }  \n        return duplicates;  \n    }`","body":"@Chetan finding all duplicates from ArrayList in O(n), its important to have correctly defined equals method on objects which you have in the list (no problem for numbers):  <code>public Set&lt;Object&gt; findDuplicates(List&lt;Object&gt; list)       {           Set&lt;Object&gt; items = new HashSet&lt;Object&gt;();           Set&lt;Object&gt; duplicates = new HashSet&lt;Object&gt;();           for (Object item : list) {               if (items.contains(item)) {                   duplicates.add(item);               } else {                   items.add(item);               }           }           return duplicates;       }</code>"},{"owner":{"account_id":1838201,"reputation":9211,"user_id":1668148,"accept_rate":93,"display_name":"Kevik"},"score":0,"creation_date":1374577669,"post_id":203992,"comment_id":25984041,"body_markdown":"this is great, and it gets even better if you change HashSet to LinkedHashSet","body":"this is great, and it gets even better if you change HashSet to LinkedHashSet"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":6,"creation_date":1377761220,"post_id":203992,"comment_id":27207372,"body_markdown":"A good practice would be to define variables using the interface types `List` and `Set` (instead of implementation types `ArrayList` and `HashSet` as in your example).","body":"A good practice would be to define variables using the interface types <code>List</code> and <code>Set</code> (instead of implementation types <code>ArrayList</code> and <code>HashSet</code> as in your example)."},{"owner":{"account_id":73135,"reputation":9955,"user_id":210780,"accept_rate":82,"display_name":"ashes999"},"score":35,"creation_date":1388061886,"post_id":203992,"comment_id":31156069,"body_markdown":"You can clean this up by using `new HashSet(al)` instead of initializing it to empty and calling `addAll`.","body":"You can clean this up by using <code>new HashSet(al)</code> instead of initializing it to empty and calling <code>addAll</code>."},{"owner":{"account_id":3031419,"reputation":4125,"user_id":2570350,"accept_rate":68,"display_name":"jean d&#39;arme"},"score":1,"creation_date":1439890326,"post_id":203992,"comment_id":52034280,"body_markdown":"can I add rules for setting what&#39;s duplicate to me? For example: when my `Object` has several values if two of them repeat I consider them as duplicate (other values can be different) and use `Set`?","body":"can I add rules for setting what&#39;s duplicate to me? For example: when my <code>Object</code> has several values if two of them repeat I consider them as duplicate (other values can be different) and use <code>Set</code>?"},{"owner":{"account_id":3711000,"reputation":31801,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"score":0,"creation_date":1447503954,"post_id":203992,"comment_id":55188348,"body_markdown":"@jonathan-stafford nice and useful peace of code. voteup","body":"@jonathan-stafford nice and useful peace of code. voteup"},{"owner":{"account_id":1741826,"reputation":1818,"user_id":1593007,"accept_rate":76,"display_name":"nww04"},"score":0,"creation_date":1470210314,"post_id":203992,"comment_id":64849586,"body_markdown":"One reason that I am force to use collection instead of set is due to HTTP API calls. The API returns a POJO of certain objects, I need to act data on it so I really need it not to be duplicated. For some reason, it wasn&#39;t part of the API, to return to me a list of non-duplicated data, I cannot wait until it is developed so I must find a way to present a list with no duplicates.","body":"One reason that I am force to use collection instead of set is due to HTTP API calls. The API returns a POJO of certain objects, I need to act data on it so I really need it not to be duplicated. For some reason, it wasn&#39;t part of the API, to return to me a list of non-duplicated data, I cannot wait until it is developed so I must find a way to present a list with no duplicates."},{"owner":{"account_id":2908583,"reputation":808,"user_id":2493341,"display_name":"r00tandy"},"score":0,"creation_date":1472297126,"post_id":203992,"comment_id":65702570,"body_markdown":"And the OneLiner would be: `myArrayList = new ArrayList(new HashSet(myArrayList));` (But just do it if you really need the ArrayList before AND after this line!)","body":"And the OneLiner would be: <code>myArrayList = new ArrayList(new HashSet(myArrayList));</code> (But just do it if you really need the ArrayList before AND after this line!)"},{"owner":{"account_id":5334700,"reputation":322,"user_id":4254145,"display_name":"Jarred Allen"},"score":2,"creation_date":1472334505,"post_id":203992,"comment_id":65713370,"body_markdown":"@jeand&#39;arme If you use a TreeSet instead of a HashSet, you can define your own Comparator to use, and the TreeSet will consider two items to be duplicates if the Comparators .compare(e1, e2) returns 0. Note that this will destroy the existing order of the arraylist.","body":"@jeand&#39;arme If you use a TreeSet instead of a HashSet, you can define your own Comparator to use, and the TreeSet will consider two items to be duplicates if the Comparators .compare(e1, e2) returns 0. Note that this will destroy the existing order of the arraylist."},{"owner":{"account_id":12391635,"reputation":551,"user_id":9033426,"display_name":"Giacomo"},"score":0,"creation_date":1542210762,"post_id":203992,"comment_id":93488919,"body_markdown":"what is the time complexity ?","body":"what is the time complexity ?"},{"owner":{"account_id":8294291,"reputation":951,"user_id":6234961,"accept_rate":0,"display_name":"Ajay Mistry"},"score":1,"creation_date":1582719360,"post_id":203992,"comment_id":106872597,"body_markdown":"not working with ArrayList having model instead of string .","body":"not working with ArrayList having model instead of string ."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1591256556,"post_id":203992,"comment_id":109987647,"body_markdown":"Alternative: `Set&lt;Object&gt; set = new HashSet&lt;&gt;(); yourList.removeIf(x -&gt; !set.add(x));` The advantage is that this alternative allows you to decide what to use in the `set.add(…)` expression, for your particular notion of “duplicate”. It’s also independent of the list’s actual elements type. It also retains the order, regardless of whether the set maintains the order or not. Also usable with a `TreeSet` (e.g. with custom comparator) instead of `HashSet`.","body":"Alternative: <code>Set&lt;Object&gt; set = new HashSet&lt;&gt;(); yourList.removeIf(x -&gt; !set.add(x));</code> The advantage is that this alternative allows you to decide what to use in the <code>set.add(…)</code> expression, for your particular notion of “duplicate”. It’s also independent of the list’s actual elements type. It also retains the order, regardless of whether the set maintains the order or not. Also usable with a <code>TreeSet</code> (e.g. with custom comparator) instead of <code>HashSet</code>."},{"owner":{"account_id":16813238,"reputation":525,"user_id":12155745,"display_name":"Jwala Kumar"},"score":0,"creation_date":1649568610,"post_id":203992,"comment_id":126905868,"body_markdown":"For those, who have problem in understanding\nArrayList&lt;Integer&gt; arrList3 = new ArrayList&lt;Integer&gt;(Arrays.asList(1, 23, 1, 3, 3, 2, 3, 2, 12, 67, 23, 12, 34, 9));\nCollection&lt;Integer&gt; set = new HashSet&lt;&gt;(arrList3);\narrList3.clear();\narrList3.addAll(set);\nSystem.out.println(set);","body":"For those, who have problem in understanding ArrayList&lt;Integer&gt; arrList3 = new ArrayList&lt;Integer&gt;(Arrays.asList(1, 23, 1, 3, 3, 2, 3, 2, 12, 67, 23, 12, 34, 9)); Collection&lt;Integer&gt; set = new HashSet&lt;&gt;(arrList3); arrList3.clear(); arrList3.addAll(set); System.out.println(set);"}],"tags":[],"owner":{"account_id":13665,"reputation":11657,"user_id":27587,"display_name":"jonathan-stafford"},"comment_count":16,"down_vote_count":12,"up_vote_count":1106,"is_accepted":true,"score":1094,"last_activity_date":1544793547,"creation_date":1224058287,"answer_id":203992,"question_id":203984,"body_markdown":"If you don&#39;t want duplicates in a `Collection`, you should consider why you&#39;re using a `Collection` that allows duplicates. The easiest way to remove repeated elements is to add the contents to a `Set` (which will not allow duplicates) and then add the `Set` back to the `ArrayList`:\r\n\r\n    Set&lt;String&gt; set = new HashSet&lt;&gt;(yourList);\r\n    yourList.clear();\r\n    yourList.addAll(set);\r\n\r\n\r\nOf course, this destroys the ordering of the elements in the `ArrayList`.","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you don't want duplicates in a <code>Collection</code>, you should consider why you're using a <code>Collection</code> that allows duplicates. The easiest way to remove repeated elements is to add the contents to a <code>Set</code> (which will not allow duplicates) and then add the <code>Set</code> back to the <code>ArrayList</code>:</p>\n\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;&gt;(yourList);\nyourList.clear();\nyourList.addAll(set);\n</code></pre>\n\n<p>Of course, this destroys the ordering of the elements in the <code>ArrayList</code>.</p>\n"},{"comments":[{"owner":{"account_id":4710541,"reputation":4438,"user_id":3811162,"accept_rate":20,"display_name":"Muhammad Adil"},"score":0,"creation_date":1477405015,"post_id":203997,"comment_id":67746864,"body_markdown":"Similarly at the bottom of the thread, I have given an answer where I am using Set for Custom Object. In a case if anyone have custom object like &quot;Contact&quot; or &quot;Student&quot; can use that answer that works fine for me.","body":"Similarly at the bottom of the thread, I have given an answer where I am using Set for Custom Object. In a case if anyone have custom object like &quot;Contact&quot; or &quot;Student&quot; can use that answer that works fine for me."},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1554444789,"post_id":203997,"comment_id":97761932,"body_markdown":"The problem comes when you have to specifically access an element. For instance when binding an object to a list item view in Android, you are given its index. So `Set` cannot be used here.","body":"The problem comes when you have to specifically access an element. For instance when binding an object to a list item view in Android, you are given its index. So <code>Set</code> cannot be used here."},{"owner":{"account_id":15322365,"reputation":783,"user_id":11054439,"display_name":"jvargas"},"score":0,"creation_date":1584390009,"post_id":203997,"comment_id":107417782,"body_markdown":"How can I aproach this when the list is an object list","body":"How can I aproach this when the list is an object list"}],"tags":[],"owner":{"account_id":2553,"reputation":15453,"user_id":3565,"accept_rate":70,"display_name":"Benno Richters"},"comment_count":3,"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1224058428,"creation_date":1224058428,"answer_id":203997,"question_id":203984,"body_markdown":"If you don&#39;t want duplicates, use a [Set][1] instead of a `List`. To convert a `List` to a `Set` you can use the following code:\r\n\r\n    // list is some List of Strings\r\n    Set&lt;String&gt; s = new HashSet&lt;String&gt;(list);\r\n\r\nIf really necessary you can use the same construction to convert a `Set` back into a `List`.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Set.html\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you don't want duplicates, use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\">Set</a> instead of a <code>List</code>. To convert a <code>List</code> to a <code>Set</code> you can use the following code:</p>\n\n<pre><code>// list is some List of Strings\nSet&lt;String&gt; s = new HashSet&lt;String&gt;(list);\n</code></pre>\n\n<p>If really necessary you can use the same construction to convert a <code>Set</code> back into a <code>List</code>.</p>\n"},{"comments":[{"owner":{"account_id":116622,"reputation":1064,"user_id":305736,"display_name":"Matt Brian&#231;on"},"score":12,"creation_date":1304216423,"post_id":204004,"comment_id":6714661,"body_markdown":"Does LinkedHashSet make any guarantees as to which of several duplicates are kept from the list?  For instance, if position 1, 3, and 5 are duplicates in the original list, can we assume that this process will remove 3 and 5?  Or maybe remove 1 and 3?  Thanks.","body":"Does LinkedHashSet make any guarantees as to which of several duplicates are kept from the list?  For instance, if position 1, 3, and 5 are duplicates in the original list, can we assume that this process will remove 3 and 5?  Or maybe remove 1 and 3?  Thanks."},{"owner":{"account_id":13653,"reputation":13400,"user_id":27565,"accept_rate":100,"display_name":"abahgat"},"score":18,"creation_date":1304326858,"post_id":204004,"comment_id":6727886,"body_markdown":"@Matt: yes, it does guarantee that. The [docs](http://download.oracle.com/javase/6/docs/api/java/util/LinkedHashSet.html) say: &quot;This linked list defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order). Note that insertion order is not affected if an element is re-inserted into the set.&quot;","body":"@Matt: yes, it does guarantee that. The <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\">docs</a> say: &quot;This linked list defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order). Note that insertion order is not affected if an element is re-inserted into the set.&quot;"},{"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"score":0,"creation_date":1334590044,"post_id":204004,"comment_id":13059427,"body_markdown":"Very interesting. I have a different situation here. I am not trying to sort String but another object called AwardYearSource. This class has an int attribute called year. So I want to remove duplicates based on the year. i.e if there is year 2010 mentioned more than once, I want to remove that AwardYearSource object. How can I do that?","body":"Very interesting. I have a different situation here. I am not trying to sort String but another object called AwardYearSource. This class has an int attribute called year. So I want to remove duplicates based on the year. i.e if there is year 2010 mentioned more than once, I want to remove that AwardYearSource object. How can I do that?"},{"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"score":0,"creation_date":1340194766,"post_id":204004,"comment_id":14568322,"body_markdown":"@WowBow For example you can define Wrapper object which holds AwardYearSource. And define this Wrapper objects equals method based on AwardYearSources year field. Then you can use Set with these Wrapper objects.","body":"@WowBow For example you can define Wrapper object which holds AwardYearSource. And define this Wrapper objects equals method based on AwardYearSources year field. Then you can use Set with these Wrapper objects."},{"owner":{"account_id":98263,"reputation":7066,"user_id":266103,"accept_rate":87,"display_name":"shrini1000"},"score":0,"creation_date":1357880960,"post_id":204004,"comment_id":19813078,"body_markdown":"@WowBow or implement Comparable/Comparator","body":"@WowBow or implement Comparable/Comparator"}],"tags":[],"owner":{"account_id":13653,"reputation":13400,"user_id":27565,"accept_rate":100,"display_name":"abahgat"},"comment_count":5,"down_vote_count":0,"up_vote_count":320,"is_accepted":false,"score":320,"last_activity_date":1441752460,"creation_date":1224058699,"answer_id":204004,"question_id":203984,"body_markdown":"Although converting the `ArrayList` to a `HashSet` effectively removes duplicates, if you need to preserve insertion order, I&#39;d rather suggest you to use this variant\r\n\r\n    // list is some List of Strings\r\n    Set&lt;String&gt; s = new LinkedHashSet&lt;&gt;(list);\r\n\r\nThen, if you need to get back a `List` reference, you can use again the conversion constructor.","title":"How do I remove repeated elements from ArrayList?","body":"<p>Although converting the <code>ArrayList</code> to a <code>HashSet</code> effectively removes duplicates, if you need to preserve insertion order, I'd rather suggest you to use this variant</p>\n\n<pre><code>// list is some List of Strings\nSet&lt;String&gt; s = new LinkedHashSet&lt;&gt;(list);\n</code></pre>\n\n<p>Then, if you need to get back a <code>List</code> reference, you can use again the conversion constructor.</p>\n"},{"tags":[],"owner":{"account_id":13392,"reputation":2549,"user_id":26859,"accept_rate":91,"display_name":"Vinze"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1532982115,"creation_date":1224078510,"answer_id":204766,"question_id":203984,"body_markdown":"As said before, you should use a class implementing the Set interface instead of List to be sure of the unicity of elements. If you have to keep the order of elements, the SortedSet interface can then be used; the TreeSet class implements that interface.","title":"How do I remove repeated elements from ArrayList?","body":"<p>As said before, you should use a class implementing the Set interface instead of List to be sure of the unicity of elements. If you have to keep the order of elements, the SortedSet interface can then be used; the TreeSet class implements that interface.</p>\n"},{"comments":[{"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"score":1,"creation_date":1258041287,"post_id":215212,"comment_id":1601599,"body_markdown":"Why use ArrayList in parameter? Why not just List? Will that not work?","body":"Why use ArrayList in parameter? Why not just List? Will that not work?"},{"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"score":0,"creation_date":1260391027,"post_id":215212,"comment_id":1775769,"body_markdown":"A List will absolutely _work_ as in-parameter for the first method listed. The method is however _optimized_ for use with a random access list such as ArrayList, so if a LinkedList is passed instead you will get poor performance. For example, setting the n:th element in a LinkedList takes O(n) time, whereas setting the n:th element in a random access list (such as ArrayList) takes O(1) time. Again, though, this is probably overkill... If you need this kind of specialized code it will hopefully be in an isolated situation.","body":"A List will absolutely <i>work</i> as in-parameter for the first method listed. The method is however <i>optimized</i> for use with a random access list such as ArrayList, so if a LinkedList is passed instead you will get poor performance. For example, setting the n:th element in a LinkedList takes O(n) time, whereas setting the n:th element in a random access list (such as ArrayList) takes O(1) time. Again, though, this is probably overkill... If you need this kind of specialized code it will hopefully be in an isolated situation."}],"tags":[],"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1224346595,"creation_date":1224346295,"answer_id":215212,"question_id":203984,"body_markdown":"Probably a bit overkill, but I enjoy this kind of isolated problem. :)\r\n\r\nThis code uses a temporary Set (for the uniqueness check) but removes elements directly inside the original list. Since element removal inside an ArrayList can induce a huge amount of array copying, the remove(int)-method is avoided.\r\n\r\n    public static &lt;T&gt; void removeDuplicates(ArrayList&lt;T&gt; list) {\r\n        int size = list.size();\r\n        int out = 0;\r\n        {\r\n            final Set&lt;T&gt; encountered = new HashSet&lt;T&gt;();\r\n            for (int in = 0; in &lt; size; in++) {\r\n                final T t = list.get(in);\r\n                final boolean first = encountered.add(t);\r\n                if (first) {\r\n                    list.set(out++, t);\r\n                }\r\n            }\r\n        }\r\n        while (out &lt; size) {\r\n            list.remove(--size);\r\n        }\r\n    }\r\n\r\nWhile we&#39;re at it, here&#39;s a version for LinkedList (a lot nicer!):\r\n\r\n    public static &lt;T&gt; void removeDuplicates(LinkedList&lt;T&gt; list) {\r\n        final Set&lt;T&gt; encountered = new HashSet&lt;T&gt;();\r\n        for (Iterator&lt;T&gt; iter = list.iterator(); iter.hasNext(); ) {\r\n            final T t = iter.next();\r\n            final boolean first = encountered.add(t);\r\n            if (!first) {\r\n                iter.remove();\r\n            }\r\n        }\r\n    }\r\n\r\nUse the marker interface to present a unified solution for List:\r\n\r\n    public static &lt;T&gt; void removeDuplicates(List&lt;T&gt; list) {\r\n        if (list instanceof RandomAccess) {\r\n            // use first version here\r\n        } else {\r\n            // use other version here\r\n        }\r\n    }\r\n\r\nEDIT: I guess the generics-stuff doesn&#39;t really add any value here.. Oh well. :)\r\n\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>Probably a bit overkill, but I enjoy this kind of isolated problem. :)</p>\n\n<p>This code uses a temporary Set (for the uniqueness check) but removes elements directly inside the original list. Since element removal inside an ArrayList can induce a huge amount of array copying, the remove(int)-method is avoided.</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicates(ArrayList&lt;T&gt; list) {\n    int size = list.size();\n    int out = 0;\n    {\n        final Set&lt;T&gt; encountered = new HashSet&lt;T&gt;();\n        for (int in = 0; in &lt; size; in++) {\n            final T t = list.get(in);\n            final boolean first = encountered.add(t);\n            if (first) {\n                list.set(out++, t);\n            }\n        }\n    }\n    while (out &lt; size) {\n        list.remove(--size);\n    }\n}\n</code></pre>\n\n<p>While we're at it, here's a version for LinkedList (a lot nicer!):</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicates(LinkedList&lt;T&gt; list) {\n    final Set&lt;T&gt; encountered = new HashSet&lt;T&gt;();\n    for (Iterator&lt;T&gt; iter = list.iterator(); iter.hasNext(); ) {\n        final T t = iter.next();\n        final boolean first = encountered.add(t);\n        if (!first) {\n            iter.remove();\n        }\n    }\n}\n</code></pre>\n\n<p>Use the marker interface to present a unified solution for List:</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicates(List&lt;T&gt; list) {\n    if (list instanceof RandomAccess) {\n        // use first version here\n    } else {\n        // use other version here\n    }\n}\n</code></pre>\n\n<p>EDIT: I guess the generics-stuff doesn't really add any value here.. Oh well. :)</p>\n"},{"comments":[{"owner":{"account_id":5303874,"reputation":5062,"user_id":4464702,"accept_rate":96,"display_name":"randers"},"score":1,"creation_date":1449505360,"post_id":4547382,"comment_id":56024369,"body_markdown":"This answer lacks two things: 1) It does not use generics, but raw types (`ArrayList&lt;T&gt;` should be used instead of `ArrayList`) 2) The explicit iterator creating can be avoided by using a `for (T current : l1) { ... }`. Even if you wanted to use an `Iterator` explicitly, `iterador` is misspelled.","body":"This answer lacks two things: 1) It does not use generics, but raw types (<code>ArrayList&lt;T&gt;</code> should be used instead of <code>ArrayList</code>) 2) The explicit iterator creating can be avoided by using a <code>for (T current : l1) { ... }</code>. Even if you wanted to use an <code>Iterator</code> explicitly, <code>iterador</code> is misspelled."},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":9,"creation_date":1468253364,"post_id":4547382,"comment_id":64039697,"body_markdown":"And this implementation runs in quadratic time, compared to the linked hash set implementation running in linear time. (i.e. this takes 10 times longer on a list with 10 elements, 10,000 times longer on a list with 10,000 elements. JDK 6 implementation for [ArrayList.contains](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/util/ArrayList.java#ArrayList.indexOf%28java.lang.Object%29), JDK8 impl is the same.)","body":"And this implementation runs in quadratic time, compared to the linked hash set implementation running in linear time. (i.e. this takes 10 times longer on a list with 10 elements, 10,000 times longer on a list with 10,000 elements. JDK 6 implementation for <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/util/ArrayList.java#ArrayList.indexOf%28java.lang.Object%29\" rel=\"nofollow noreferrer\">ArrayList.contains</a>, JDK8 impl is the same.)"}],"tags":[],"owner":{"account_id":266731,"reputation":425,"user_id":554467,"display_name":"stbn"},"comment_count":2,"down_vote_count":3,"up_vote_count":33,"is_accepted":false,"score":30,"last_activity_date":1556265846,"creation_date":1293552430,"answer_id":4547382,"question_id":203984,"body_markdown":"Here&#39;s a way that doesn&#39;t affect your list ordering:\r\n\r\n    ArrayList l1 = new ArrayList();\r\n    ArrayList l2 = new ArrayList();\r\n    \r\n    Iterator iterator = l1.iterator();\r\n    \r\n    while (iterator.hasNext()) {\r\n        YourClass o = (YourClass) iterator.next();\r\n        if(!l2.contains(o)) l2.add(o);\r\n    }\r\n\r\nl1 is the original list, and l2 is the list without repeated items\r\n(Make sure YourClass has the equals method according to what you want to stand for equality)","title":"How do I remove repeated elements from ArrayList?","body":"<p>Here's a way that doesn't affect your list ordering:</p>\n\n<pre><code>ArrayList l1 = new ArrayList();\nArrayList l2 = new ArrayList();\n\nIterator iterator = l1.iterator();\n\nwhile (iterator.hasNext()) {\n    YourClass o = (YourClass) iterator.next();\n    if(!l2.contains(o)) l2.add(o);\n}\n</code></pre>\n\n<p>l1 is the original list, and l2 is the list without repeated items\n(Make sure YourClass has the equals method according to what you want to stand for equality)</p>\n"},{"tags":[],"owner":{"account_id":360018,"reputation":113,"user_id":701779,"display_name":"HarpyWar"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1343238428,"creation_date":1302509858,"answer_id":5618571,"question_id":203984,"body_markdown":"When you are filling the ArrayList, use a condition for each element. For example:\r\n\r\n\t\tArrayList&lt; Integer &gt; al = new ArrayList&lt; Integer &gt;(); \r\n\t\t \r\n\t\t// fill 1 \r\n\t\tfor ( int i = 0; i &lt;= 5; i++ ) \r\n\t\t    if ( !al.contains( i ) ) \r\n\t\t        al.add( i ); \r\n\t\t \r\n\t\t// fill 2 \r\n\t\tfor (int i = 0; i &lt;= 10; i++ ) \r\n\t\t    if ( !al.contains( i ) ) \r\n\t\t        al.add( i ); \r\n\r\n\t\tfor( Integer i: al )\r\n\t\t{\r\n\t\t\tSystem.out.print( i + &quot; &quot;);\t\t\r\n\t\t}\r\nWe will get an array {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10}\r\n\r\n\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>When you are filling the ArrayList, use a condition for each element. For example:</p>\n\n<pre><code>    ArrayList&lt; Integer &gt; al = new ArrayList&lt; Integer &gt;(); \n\n    // fill 1 \n    for ( int i = 0; i &lt;= 5; i++ ) \n        if ( !al.contains( i ) ) \n            al.add( i ); \n\n    // fill 2 \n    for (int i = 0; i &lt;= 10; i++ ) \n        if ( !al.contains( i ) ) \n            al.add( i ); \n\n    for( Integer i: al )\n    {\n        System.out.print( i + \" \");     \n    }\n</code></pre>\n\n<p>We will get an array {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10}</p>\n"},{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1509132315,"post_id":8452741,"comment_id":80911620,"body_markdown":"Note that there is an `ImmutableSet.asList()` method, returning an `ImmutableList`, if you need it back as a `List`.","body":"Note that there is an <code>ImmutableSet.asList()</code> method, returning an <code>ImmutableList</code>, if you need it back as a <code>List</code>."}],"tags":[],"owner":{"account_id":102066,"reputation":5017,"user_id":274205,"accept_rate":75,"display_name":"Timofey Gorshkov"},"comment_count":1,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1449510003,"creation_date":1323471349,"answer_id":8452741,"question_id":203984,"body_markdown":"There is also [`ImmutableSet`][1] from [Guava][2] as an option ([here][3] is the documentation):\r\n\r\n    ImmutableSet.copyOf(list);\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableSet.html\r\n  [2]: https://github.com/google/guava\r\n  [3]: https://github.com/google/guava/wiki/ImmutableCollectionsExplained","title":"How do I remove repeated elements from ArrayList?","body":"<p>There is also <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableSet.html\" rel=\"noreferrer\"><code>ImmutableSet</code></a> from <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> as an option (<a href=\"https://github.com/google/guava/wiki/ImmutableCollectionsExplained\" rel=\"noreferrer\">here</a> is the documentation):</p>\n\n<pre><code>ImmutableSet.copyOf(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1190715,"reputation":31,"user_id":1163576,"display_name":"Ghyour"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1327245798,"creation_date":1327245798,"answer_id":8962127,"question_id":203984,"body_markdown":"    for(int a=0;a&lt;myArray.size();a++){\r\n        \tfor(int b=a+1;b&lt;myArray.size();b++){\r\n        \t\tif(myArray.get(a).equalsIgnoreCase(myArray.get(b))){\r\n        \t\t\tmyArray.remove(b); \r\n                    dups++;\r\n        \t\t\tb--;\r\n        \t\t}\r\n        \t}\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>for(int a=0;a&lt;myArray.size();a++){\n        for(int b=a+1;b&lt;myArray.size();b++){\n            if(myArray.get(a).equalsIgnoreCase(myArray.get(b))){\n                myArray.remove(b); \n                dups++;\n                b--;\n            }\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1892809,"reputation":1,"user_id":1710433,"display_name":"reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349044541,"creation_date":1349041541,"answer_id":12665409,"question_id":203984,"body_markdown":"    import java.util.*;\r\n    class RemoveDupFrmString\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            \r\n            String s=&quot;appsc&quot;;\r\n            \r\n            Set&lt;Character&gt; unique = new LinkedHashSet&lt;Character&gt; ();\r\n            \r\n            for(char c : s.toCharArray()) {\r\n                \r\n                System.out.println(unique.add(c));\r\n            }\r\n            for(char dis:unique){\r\n                System.out.println(dis);\r\n            }\r\n            \r\n            \r\n        }\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>import java.util.*;\nclass RemoveDupFrmString\n{\n    public static void main(String[] args)\n    {\n\n        String s=\"appsc\";\n\n        Set&lt;Character&gt; unique = new LinkedHashSet&lt;Character&gt; ();\n\n        for(char c : s.toCharArray()) {\n\n            System.out.println(unique.add(c));\n        }\n        for(char dis:unique){\n            System.out.println(dis);\n        }\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2157517,"reputation":369,"user_id":1912383,"accept_rate":0,"display_name":"user1912383"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357146401,"creation_date":1357146401,"answer_id":14126093,"question_id":203984,"body_markdown":"LinkedHashSet will do the trick.\r\n\r\n    String[] arr2 = {&quot;5&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;3&quot;,&quot;4&quot;,&quot;1&quot;,&quot;2&quot;};\r\n    Set&lt;String&gt; set = new LinkedHashSet&lt;String&gt;(Arrays.asList(arr2));\r\n    for(String s1 : set)\r\n        System.out.println(s1);\r\n\r\n    System.out.println( &quot;------------------------&quot; );\r\n    String[] arr3 = set.toArray(new String[0]);\r\n    for(int i = 0; i &lt; arr3.length; i++)\r\n         System.out.println(arr3[i].toString());\r\n\r\n//output: 5,1,2,3,4","title":"How do I remove repeated elements from ArrayList?","body":"<p>LinkedHashSet will do the trick.</p>\n\n<pre><code>String[] arr2 = {\"5\",\"1\",\"2\",\"3\",\"3\",\"4\",\"1\",\"2\"};\nSet&lt;String&gt; set = new LinkedHashSet&lt;String&gt;(Arrays.asList(arr2));\nfor(String s1 : set)\n    System.out.println(s1);\n\nSystem.out.println( \"------------------------\" );\nString[] arr3 = set.toArray(new String[0]);\nfor(int i = 0; i &lt; arr3.length; i++)\n     System.out.println(arr3[i].toString());\n</code></pre>\n\n<p>//output: 5,1,2,3,4</p>\n"},{"tags":[],"owner":{"account_id":3205723,"reputation":49,"user_id":2706817,"display_name":"Harsha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377760869,"creation_date":1377760869,"answer_id":18504616,"question_id":203984,"body_markdown":"    public Set&lt;Object&gt; findDuplicates(List&lt;Object&gt; list) {\r\n\t\t\tSet&lt;Object&gt; items = new HashSet&lt;Object&gt;();\r\n\t\t\tSet&lt;Object&gt; duplicates = new HashSet&lt;Object&gt;();\r\n\t\t\tfor (Object item : list) {\r\n\t\t\t\tif (items.contains(item)) {\r\n\t\t\t\t\tduplicates.add(item);\r\n\t\t\t\t\t} else { \r\n\t\t\t\t\t\titems.add(item);\r\n\t\t\t\t\t\t} \r\n\t\t\t\t} \r\n\t\t\treturn duplicates;\r\n\t\t\t}","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>public Set&lt;Object&gt; findDuplicates(List&lt;Object&gt; list) {\n        Set&lt;Object&gt; items = new HashSet&lt;Object&gt;();\n        Set&lt;Object&gt; duplicates = new HashSet&lt;Object&gt;();\n        for (Object item : list) {\n            if (items.contains(item)) {\n                duplicates.add(item);\n                } else { \n                    items.add(item);\n                    } \n            } \n        return duplicates;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3421134,"reputation":279,"user_id":2868724,"display_name":"user2868724"},"comment_count":0,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1556265982,"creation_date":1381436686,"answer_id":19305534,"question_id":203984,"body_markdown":"this can solve the problem:\r\n\r\n    private List&lt;SomeClass&gt; clearListFromDuplicateFirstName(List&lt;SomeClass&gt; list1) {\r\n    \r\n         Map&lt;String, SomeClass&gt; cleanMap = new LinkedHashMap&lt;String, SomeClass&gt;();\r\n         for (int i = 0; i &lt; list1.size(); i++) {\r\n             cleanMap.put(list1.get(i).getFirstName(), list1.get(i));\r\n         }\r\n         List&lt;SomeClass&gt; list = new ArrayList&lt;SomeClass&gt;(cleanMap.values());\r\n         return list;\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<p>this can solve the problem:</p>\n\n<pre><code>private List&lt;SomeClass&gt; clearListFromDuplicateFirstName(List&lt;SomeClass&gt; list1) {\n\n     Map&lt;String, SomeClass&gt; cleanMap = new LinkedHashMap&lt;String, SomeClass&gt;();\n     for (int i = 0; i &lt; list1.size(); i++) {\n         cleanMap.put(list1.get(i).getFirstName(), list1.get(i));\n     }\n     List&lt;SomeClass&gt; list = new ArrayList&lt;SomeClass&gt;(cleanMap.values());\n     return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366287,"reputation":159,"user_id":2071911,"accept_rate":25,"display_name":"ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381583690,"creation_date":1381582261,"answer_id":19334383,"question_id":203984,"body_markdown":"If you want to preserve your Order then it is best to use **LinkedHashSet**.\r\nBecause if you want to pass this List to an Insert Query by Iterating it, the order would be preserved.\r\n\r\nTry this\r\n\r\n\r\n    LinkedHashSet link=new LinkedHashSet();\r\n    List listOfValues=new ArrayList();\r\n    listOfValues.add(link);\r\n\r\nThis conversion will be very helpful when you want to return a List but not a Set.\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you want to preserve your Order then it is best to use <strong>LinkedHashSet</strong>.\nBecause if you want to pass this List to an Insert Query by Iterating it, the order would be preserved.</p>\n\n<p>Try this</p>\n\n<pre><code>LinkedHashSet link=new LinkedHashSet();\nList listOfValues=new ArrayList();\nlistOfValues.add(link);\n</code></pre>\n\n<p>This conversion will be very helpful when you want to return a List but not a Set.</p>\n"},{"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1382089181,"post_id":19434592,"comment_id":28833455,"body_markdown":"It&#39;s slow and you might get a ConcurrentModificationException.","body":"It&#39;s slow and you might get a ConcurrentModificationException."},{"owner":{"account_id":153644,"reputation":727,"user_id":369035,"accept_rate":53,"display_name":"CarlJohn"},"score":0,"creation_date":1382092528,"post_id":19434592,"comment_id":28835203,"body_markdown":"@maaartinus Have you tried that code ?. It won&#39;t produce any exceptions.Also it is pretty fast. I tried the code before posting.","body":"@maaartinus Have you tried that code ?. It won&#39;t produce any exceptions.Also it is pretty fast. I tried the code before posting."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":5,"creation_date":1382093373,"post_id":19434592,"comment_id":28835623,"body_markdown":"You&#39;re right, it doesn&#39;t as you iterate the array instead of the list. However, it&#39;s slow like hell. Try it with a few millions elements. Compare it to `ImmutableSet.copyOf(lst).toList()`.","body":"You&#39;re right, it doesn&#39;t as you iterate the array instead of the list. However, it&#39;s slow like hell. Try it with a few millions elements. Compare it to <code>ImmutableSet.copyOf(lst).toList()</code>."},{"owner":{"account_id":8223972,"reputation":233,"user_id":6186797,"display_name":"Aniket Paul"},"score":0,"creation_date":1462439447,"post_id":19434592,"comment_id":61641279,"body_markdown":"answers the question I was asked in the interview .. How to remove repeated values from an ArrayList without using Sets. Thanx","body":"answers the question I was asked in the interview .. How to remove repeated values from an ArrayList without using Sets. Thanx"},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":0,"creation_date":1468258359,"post_id":19434592,"comment_id":64042233,"body_markdown":"Internally, `indexOf` iterates the `lst` using a for loop.","body":"Internally, <code>indexOf</code> iterates the <code>lst</code> using a for loop."},{"owner":{"account_id":19879191,"reputation":582,"user_id":14563565,"display_name":"Szymon Kowaliński"},"score":0,"creation_date":1687239670,"post_id":19434592,"comment_id":134904675,"body_markdown":"Yeah the time complexity here would be extremely and unnecessarily massive","body":"Yeah the time complexity here would be extremely and unnecessarily massive"}],"tags":[],"owner":{"account_id":153644,"reputation":727,"user_id":369035,"accept_rate":53,"display_name":"CarlJohn"},"comment_count":6,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1382035094,"creation_date":1382035094,"answer_id":19434592,"question_id":203984,"body_markdown":"It is possible to remove duplicates from arraylist without using **HashSet** or **one more arraylist**. \r\n\r\nTry this code..\r\n\r\n\r\n  \r\n\r\n        ArrayList&lt;String&gt; lst = new ArrayList&lt;String&gt;();\r\n        lst.add(&quot;ABC&quot;);\r\n        lst.add(&quot;ABC&quot;);\r\n        lst.add(&quot;ABCD&quot;);\r\n        lst.add(&quot;ABCD&quot;);\r\n        lst.add(&quot;ABCE&quot;);\r\n    \r\n        System.out.println(&quot;Duplicates List &quot;+lst);\r\n    \r\n        Object[] st = lst.toArray();\r\n          for (Object s : st) {\r\n            if (lst.indexOf(s) != lst.lastIndexOf(s)) {\r\n                lst.remove(lst.lastIndexOf(s));\r\n             }\r\n          }\r\n       \r\n        System.out.println(&quot;Distinct List &quot;+lst);\r\n\r\nOutput is\r\n\r\n \r\n\r\n    Duplicates List [ABC, ABC, ABCD, ABCD, ABCE]\r\n    Distinct List [ABC, ABCD, ABCE]","title":"How do I remove repeated elements from ArrayList?","body":"<p>It is possible to remove duplicates from arraylist without using <strong>HashSet</strong> or <strong>one more arraylist</strong>. </p>\n\n<p>Try this code..</p>\n\n<pre><code>    ArrayList&lt;String&gt; lst = new ArrayList&lt;String&gt;();\n    lst.add(\"ABC\");\n    lst.add(\"ABC\");\n    lst.add(\"ABCD\");\n    lst.add(\"ABCD\");\n    lst.add(\"ABCE\");\n\n    System.out.println(\"Duplicates List \"+lst);\n\n    Object[] st = lst.toArray();\n      for (Object s : st) {\n        if (lst.indexOf(s) != lst.lastIndexOf(s)) {\n            lst.remove(lst.lastIndexOf(s));\n         }\n      }\n\n    System.out.println(\"Distinct List \"+lst);\n</code></pre>\n\n<p>Output is</p>\n\n<pre><code>Duplicates List [ABC, ABC, ABCD, ABCD, ABCE]\nDistinct List [ABC, ABCD, ABCE]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"score":1,"creation_date":1473797073,"post_id":23177411,"comment_id":66275539,"body_markdown":"How do i do this for case insensitive distinct ?","body":"How do i do this for case insensitive distinct ?"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1509751694,"post_id":23177411,"comment_id":81162138,"body_markdown":"@StackFlowed If you don&#39;t need to preserve the order of the list you can `addAll` to `new TreeSet&lt;String&gt;(String.CASE_INSENSITIVE_ORDER)`.  The first element added will remain in the set so if your list contains &quot;Dog&quot; and &quot;dog&quot; (in that order) the `TreeSet` will contain &quot;Dog&quot;. If order must be preserved then before the line in the answer put `list.replaceAll(String::toUpperCase);`.","body":"@StackFlowed If you don&#39;t need to preserve the order of the list you can <code>addAll</code> to <code>new TreeSet&lt;String&gt;(String.CASE_INSENSITIVE_ORDER)</code>.  The first element added will remain in the set so if your list contains &quot;Dog&quot; and &quot;dog&quot; (in that order) the <code>TreeSet</code> will contain &quot;Dog&quot;. If order must be preserved then before the line in the answer put <code>list.replaceAll(String::toUpperCase);</code>."},{"owner":{"account_id":5601993,"reputation":6752,"user_id":4437941,"accept_rate":70,"display_name":"Samir"},"score":1,"creation_date":1522852471,"post_id":23177411,"comment_id":86316160,"body_markdown":"I am getting this error :incompatible types: List&lt;Object&gt; cannot be converted to List&lt;String&gt;","body":"I am getting this error :incompatible types: List&lt;Object&gt; cannot be converted to List&lt;String&gt;"},{"owner":{"account_id":17371165,"reputation":253,"user_id":12585276,"display_name":"Laser Infinite"},"score":0,"creation_date":1579810405,"post_id":23177411,"comment_id":105901507,"body_markdown":"This is a simple solution in general but how do you remove the duplicates from an Arraylist of int[]?","body":"This is a simple solution in general but how do you remove the duplicates from an Arraylist of int[]?"}],"tags":[],"owner":{"account_id":108817,"reputation":111656,"user_id":288671,"display_name":"Vitalii Fedorenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":175,"is_accepted":false,"score":175,"last_activity_date":1397956998,"creation_date":1397956998,"answer_id":23177411,"question_id":203984,"body_markdown":"In Java 8:\r\n\r\n    List&lt;String&gt; deduped = list.stream().distinct().collect(Collectors.toList());\r\n\r\nPlease note that the [hashCode-equals][1] contract for list members should be respected for the filtering to work properly.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java","title":"How do I remove repeated elements from ArrayList?","body":"<p>In Java 8:</p>\n\n<pre><code>List&lt;String&gt; deduped = list.stream().distinct().collect(Collectors.toList());\n</code></pre>\n\n<p>Please note that the <a href=\"https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java\">hashCode-equals</a> contract for list members should be respected for the filtering to work properly.</p>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402663899,"creation_date":1402663899,"answer_id":24205781,"question_id":203984,"body_markdown":"        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        HashSet&lt;String&gt; unique = new LinkedHashSet&lt;String&gt;();\r\n        HashSet&lt;String&gt; dup = new LinkedHashSet&lt;String&gt;();\r\n        boolean b = false;\r\n        list.add(&quot;Hello&quot;);\r\n        list.add(&quot;Hello&quot;);\r\n        list.add(&quot;how&quot;);\r\n        list.add(&quot;are&quot;);\r\n        list.add(&quot;u&quot;);\r\n        list.add(&quot;u&quot;);\r\n\r\n        for(Iterator iterator= list.iterator();iterator.hasNext();)\r\n        {\r\n            String value = (String)iterator.next();\r\n            System.out.println(value);\r\n\r\n            if(b==unique.add(value))\r\n                dup.add(value);\r\n            else\r\n                unique.add(value);\r\n\r\n\r\n        }\r\n        System.out.println(unique);\r\n        System.out.println(dup);","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    HashSet&lt;String&gt; unique = new LinkedHashSet&lt;String&gt;();\n    HashSet&lt;String&gt; dup = new LinkedHashSet&lt;String&gt;();\n    boolean b = false;\n    list.add(\"Hello\");\n    list.add(\"Hello\");\n    list.add(\"how\");\n    list.add(\"are\");\n    list.add(\"u\");\n    list.add(\"u\");\n\n    for(Iterator iterator= list.iterator();iterator.hasNext();)\n    {\n        String value = (String)iterator.next();\n        System.out.println(value);\n\n        if(b==unique.add(value))\n            dup.add(value);\n        else\n            unique.add(value);\n\n\n    }\n    System.out.println(unique);\n    System.out.println(dup);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":808621,"reputation":357064,"user_id":908494,"accept_rate":25,"display_name":"abarnert"},"score":1,"creation_date":1410421208,"post_id":25780946,"comment_id":40321736,"body_markdown":"Why would you post a quadratic solution to a question that already has 2-year-old linear and log-linear solutions, that are also simpler?","body":"Why would you post a quadratic solution to a question that already has 2-year-old linear and log-linear solutions, that are also simpler?"}],"tags":[],"owner":{"account_id":5014583,"reputation":77,"user_id":4029759,"display_name":"Thananjayan N"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410518038,"creation_date":1410418376,"answer_id":25780946,"question_id":203984,"body_markdown":" If you want to remove duplicates from ArrayList means find the below logic,\r\n\r\n    public static Object[] removeDuplicate(Object[] inputArray)\r\n\t{\r\n\t\tlong startTime = System.nanoTime();\r\n\t\tint totalSize = inputArray.length;\r\n\t\tObject[] resultArray = new Object[totalSize];\r\n\t\tint newSize = 0;\r\n\t\tfor(int i=0; i&lt;totalSize; i++)\r\n\t\t{\r\n\t\t\tObject value = inputArray[i];\r\n\t\t\tif(value == null)\r\n\t\t\t{\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor(int j=i+1; j&lt;totalSize; j++)\r\n\t\t\t{\r\n\t\t\t\tif(value.equals(inputArray[j]))\r\n\t\t\t\t{\r\n\t\t\t\t\tinputArray[j] = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresultArray[newSize++] = value;\r\n\t\t}\r\n\t\t\r\n\t\tlong endTime = System.nanoTime()-startTime;\r\n\t\tSystem.out.println(&quot;Total Time-B:&quot;+endTime);\r\n\t\treturn resultArray;\r\n\t}","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you want to remove duplicates from ArrayList means find the below logic,</p>\n\n<pre><code>public static Object[] removeDuplicate(Object[] inputArray)\n{\n    long startTime = System.nanoTime();\n    int totalSize = inputArray.length;\n    Object[] resultArray = new Object[totalSize];\n    int newSize = 0;\n    for(int i=0; i&lt;totalSize; i++)\n    {\n        Object value = inputArray[i];\n        if(value == null)\n        {\n            continue;\n        }\n\n        for(int j=i+1; j&lt;totalSize; j++)\n        {\n            if(value.equals(inputArray[j]))\n            {\n                inputArray[j] = null;\n            }\n        }\n        resultArray[newSize++] = value;\n    }\n\n    long endTime = System.nanoTime()-startTime;\n    System.out.println(\"Total Time-B:\"+endTime);\n    return resultArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1644869,"reputation":216,"user_id":1516571,"display_name":"M Kaweepatt Churcharoen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1418036259,"creation_date":1418036259,"answer_id":27356461,"question_id":203984,"body_markdown":"This three lines of code can remove the duplicated element from ArrayList or any collection.\r\n\r\n    List&lt;Entity&gt; entities = repository.findByUserId(userId);\r\n    \r\n    Set&lt;Entity&gt; s = new LinkedHashSet&lt;Entity&gt;(entities);\r\n    entities.clear();\r\n    entities.addAll(s);\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>This three lines of code can remove the duplicated element from ArrayList or any collection.</p>\n\n<pre><code>List&lt;Entity&gt; entities = repository.findByUserId(userId);\n\nSet&lt;Entity&gt; s = new LinkedHashSet&lt;Entity&gt;(entities);\nentities.clear();\nentities.addAll(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5599169,"reputation":111,"user_id":4435902,"display_name":"sambhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433899975,"creation_date":1426078051,"answer_id":28987005,"question_id":203984,"body_markdown":"**Code:**\r\n\r\n    List&lt;String&gt; duplicatList = new ArrayList&lt;String&gt;();\r\n    duplicatList = Arrays.asList(&quot;AA&quot;,&quot;BB&quot;,&quot;CC&quot;,&quot;DD&quot;,&quot;DD&quot;,&quot;EE&quot;,&quot;AA&quot;,&quot;FF&quot;);\r\n    //above AA and DD are duplicate\r\n    Set&lt;String&gt; uniqueList = new HashSet&lt;String&gt;(duplicatList);\r\n    duplicatList = new ArrayList&lt;String&gt;(uniqueList); //let GC will doing free memory\r\n    System.out.println(&quot;Removed Duplicate : &quot;+duplicatList);\r\n\r\n\r\n \r\n**Note:** Definitely, there will be memory overhead.","title":"How do I remove repeated elements from ArrayList?","body":"<p><strong>Code:</strong></p>\n\n<pre><code>List&lt;String&gt; duplicatList = new ArrayList&lt;String&gt;();\nduplicatList = Arrays.asList(\"AA\",\"BB\",\"CC\",\"DD\",\"DD\",\"EE\",\"AA\",\"FF\");\n//above AA and DD are duplicate\nSet&lt;String&gt; uniqueList = new HashSet&lt;String&gt;(duplicatList);\nduplicatList = new ArrayList&lt;String&gt;(uniqueList); //let GC will doing free memory\nSystem.out.println(\"Removed Duplicate : \"+duplicatList);\n</code></pre>\n\n<p><strong>Note:</strong> Definitely, there will be memory overhead.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1562234330,"post_id":31160570,"comment_id":100318049,"body_markdown":"When you use `T element = iter.next();`, you don’t need the unchecked type casts. Or you use `for(T element: list) …` instead of dealing with an `Iterator` manually.","body":"When you use <code>T element = iter.next();</code>, you don’t need the unchecked type casts. Or you use <code>for(T element: list) …</code> instead of dealing with an <code>Iterator</code> manually."}],"tags":[],"owner":{"account_id":1430809,"reputation":2970,"user_id":1353274,"accept_rate":97,"display_name":"sharkbait"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435751685,"creation_date":1435751685,"answer_id":31160570,"question_id":203984,"body_markdown":"The @jonathan-stafford solution is OK. But this don&#39;t preserve the list order.\r\n\r\nIf you want preserve the list order you have to use this:\r\n\r\n    public static &lt;T&gt; void removeDuplicate(List &lt;T&gt; list) {\r\n    Set &lt;T&gt; set = new HashSet &lt;T&gt;();\r\n    List &lt;T&gt; newList = new ArrayList &lt;T&gt;();\r\n    for (Iterator &lt;T&gt;iter = list.iterator();    iter.hasNext(); ) {\r\n       Object element = iter.next();\r\n       if (set.add((T) element))\r\n          newList.add((T) element);\r\n       }\r\n       list.clear();\r\n       list.addAll(newList);\r\n    }\r\n\r\nIt&#39;s only to complete the answer. Very good!","title":"How do I remove repeated elements from ArrayList?","body":"<p>The @jonathan-stafford solution is OK. But this don't preserve the list order.</p>\n\n<p>If you want preserve the list order you have to use this:</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicate(List &lt;T&gt; list) {\nSet &lt;T&gt; set = new HashSet &lt;T&gt;();\nList &lt;T&gt; newList = new ArrayList &lt;T&gt;();\nfor (Iterator &lt;T&gt;iter = list.iterator();    iter.hasNext(); ) {\n   Object element = iter.next();\n   if (set.add((T) element))\n      newList.add((T) element);\n   }\n   list.clear();\n   list.addAll(newList);\n}\n</code></pre>\n\n<p>It's only to complete the answer. Very good!</p>\n"},{"tags":[],"owner":{"account_id":6723483,"reputation":11,"user_id":5182491,"display_name":"siva"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438509243,"creation_date":1438509243,"answer_id":31770675,"question_id":203984,"body_markdown":"            List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n    \t\tSet&lt;String&gt; set = new LinkedHashSet&lt;String&gt;();\r\n    \t\tString s = &quot;ravi is a good!boy. But ravi is very nasty fellow.&quot;;\r\n    \t\tStringTokenizer st = new StringTokenizer(s, &quot; ,. ,!&quot;);\r\n    \t\twhile (st.hasMoreTokens()) {\r\n    \t\t\tresult.add(st.nextToken());\r\n    \t\t}\r\n             System.out.println(result);\r\n             set.addAll(result);\r\n    \t\tresult.clear();\r\n    \t\tresult.addAll(set);\r\n            System.out.println(result);\r\n    \r\n    output:\r\n    [ravi, is, a, good, boy, But, ravi, is, very, nasty, fellow]\r\n    [ravi, is, a, good, boy, But, very, nasty, fellow]","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n        Set&lt;String&gt; set = new LinkedHashSet&lt;String&gt;();\n        String s = \"ravi is a good!boy. But ravi is very nasty fellow.\";\n        StringTokenizer st = new StringTokenizer(s, \" ,. ,!\");\n        while (st.hasMoreTokens()) {\n            result.add(st.nextToken());\n        }\n         System.out.println(result);\n         set.addAll(result);\n        result.clear();\n        result.addAll(set);\n        System.out.println(result);\n\noutput:\n[ravi, is, a, good, boy, But, ravi, is, very, nasty, fellow]\n[ravi, is, a, good, boy, But, very, nasty, fellow]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6236104,"reputation":681,"user_id":4851359,"display_name":"infoj"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1439400638,"creation_date":1439400638,"answer_id":31971798,"question_id":203984,"body_markdown":"Java 8 streams provide a very simple way to remove duplicate elements from a list. Using the distinct method.\r\nIf we have a list of cities and we want to remove duplicates from that list it can be done in a single line - \r\n\r\n     List&lt;String&gt; cityList = new ArrayList&lt;&gt;();\r\n     cityList.add(&quot;Delhi&quot;);\r\n     cityList.add(&quot;Mumbai&quot;);\r\n     cityList.add(&quot;Bangalore&quot;);\r\n     cityList.add(&quot;Chennai&quot;);\r\n     cityList.add(&quot;Kolkata&quot;);\r\n     cityList.add(&quot;Mumbai&quot;);\r\n            \r\n     cityList = cityList.stream().distinct().collect(Collectors.toList());\r\n\r\n[How to remove duplicate elements from an arraylist][1]\r\n\r\n\r\n  [1]: http://netjs.blogspot.com/2015/08/how-to-remove-duplicate-elements-from-arraylist-java.html","title":"How do I remove repeated elements from ArrayList?","body":"<p>Java 8 streams provide a very simple way to remove duplicate elements from a list. Using the distinct method.\nIf we have a list of cities and we want to remove duplicates from that list it can be done in a single line - </p>\n\n<pre><code> List&lt;String&gt; cityList = new ArrayList&lt;&gt;();\n cityList.add(\"Delhi\");\n cityList.add(\"Mumbai\");\n cityList.add(\"Bangalore\");\n cityList.add(\"Chennai\");\n cityList.add(\"Kolkata\");\n cityList.add(\"Mumbai\");\n\n cityList = cityList.stream().distinct().collect(Collectors.toList());\n</code></pre>\n\n<p><a href=\"http://netjs.blogspot.com/2015/08/how-to-remove-duplicate-elements-from-arraylist-java.html\" rel=\"noreferrer\">How to remove duplicate elements from an arraylist</a></p>\n"},{"comments":[{"owner":{"account_id":2250200,"reputation":654,"user_id":1982580,"display_name":"neo7"},"score":0,"creation_date":1443000551,"post_id":32680600,"comment_id":53312351,"body_markdown":"This implementation return no element in the list because of the last j--","body":"This implementation return no element in the list because of the last j--"},{"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"score":1,"creation_date":1443100444,"post_id":32680600,"comment_id":53363666,"body_markdown":"This implementation work&#39;s very fine.there is no issue behind this and for this task i am only use one arraylist.so this answer is completely good.before giving negative feedback you shold also add testcase also so that every one can understand the result.Thanks Manash","body":"This implementation work&#39;s very fine.there is no issue behind this and for this task i am only use one arraylist.so this answer is completely good.before giving negative feedback you shold also add testcase also so that every one can understand the result.Thanks Manash"}],"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1442760116,"creation_date":1442760116,"answer_id":32680600,"question_id":203984,"body_markdown":"\tpublic static void main(String[] args){\r\n\t\tArrayList&lt;Object&gt; al = new ArrayList&lt;Object&gt;();\r\n\t\tal.add(&quot;abc&quot;);\r\n\t\tal.add(&#39;a&#39;);\r\n\t\tal.add(&#39;b&#39;);\r\n\t\tal.add(&#39;a&#39;);\r\n\t\tal.add(&quot;abc&quot;);\r\n\t\tal.add(10.3);\r\n\t\tal.add(&#39;c&#39;);\r\n\t\tal.add(10);\r\n\t\tal.add(&quot;abc&quot;);\r\n\t\tal.add(10);\r\n\t\tSystem.out.println(&quot;Before Duplicate Remove:&quot;+al);\r\n\t\tfor(int i=0;i&lt;al.size();i++){\r\n\t\t\tfor(int j=i+1;j&lt;al.size();j++){\r\n\t\t\t\tif(al.get(i).equals(al.get(j))){\r\n\t\t\t\t\tal.remove(j);\r\n\t\t\t\t\tj--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;After Removing duplicate:&quot;+al);\r\n\t}","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>public static void main(String[] args){\n    ArrayList&lt;Object&gt; al = new ArrayList&lt;Object&gt;();\n    al.add(\"abc\");\n    al.add('a');\n    al.add('b');\n    al.add('a');\n    al.add(\"abc\");\n    al.add(10.3);\n    al.add('c');\n    al.add(10);\n    al.add(\"abc\");\n    al.add(10);\n    System.out.println(\"Before Duplicate Remove:\"+al);\n    for(int i=0;i&lt;al.size();i++){\n        for(int j=i+1;j&lt;al.size();j++){\n            if(al.get(i).equals(al.get(j))){\n                al.remove(j);\n                j--;\n            }\n        }\n    }\n    System.out.println(\"After Removing duplicate:\"+al);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1562234398,"post_id":32735976,"comment_id":100318094,"body_markdown":"“without using any other data structure”, except another `ArrayList`. Which will be very inefficient for larger lists.","body":"“without using any other data structure”, except another <code>ArrayList</code>. Which will be very inefficient for larger lists."}],"tags":[],"owner":{"account_id":2250200,"reputation":654,"user_id":1982580,"display_name":"neo7"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443000962,"creation_date":1443000962,"answer_id":32735976,"question_id":203984,"body_markdown":"Here is my answer without using any other data structure like set or hashmap etc.\r\n\r\n    public static &lt;T&gt; ArrayList&lt;T&gt; uniquefy(ArrayList&lt;T&gt; myList) {\r\n\t\t\r\n\t\tArrayList &lt;T&gt; uniqueArrayList = new ArrayList&lt;T&gt;();\r\n\t\tfor (int i = 0; i &lt; myList.size(); i++){\r\n\t\t\tif (!uniqueArrayList.contains(myList.get(i))){\r\n\t\t\t\tuniqueArrayList.add(myList.get(i));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn uniqueArrayList;\r\n\t}","title":"How do I remove repeated elements from ArrayList?","body":"<p>Here is my answer without using any other data structure like set or hashmap etc.</p>\n\n<pre><code>public static &lt;T&gt; ArrayList&lt;T&gt; uniquefy(ArrayList&lt;T&gt; myList) {\n\n    ArrayList &lt;T&gt; uniqueArrayList = new ArrayList&lt;T&gt;();\n    for (int i = 0; i &lt; myList.size(); i++){\n        if (!uniqueArrayList.contains(myList.get(i))){\n            uniqueArrayList.add(myList.get(i));\n        }\n    }\n\n    return uniqueArrayList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6871153,"reputation":1591,"user_id":5281441,"display_name":"satish"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1612451528,"creation_date":1447745199,"answer_id":33751322,"question_id":203984,"body_markdown":"In Java, List permits ordered access of their elements. They can have duplicates because their lookup key is the position not some hash code, every element can be modified while they remain in the list where as Set represents a collection of unique elements and while elements are in set, they must not be modified.While there is no restriction preventing you from modifying elements in a set, if an element is modified, then it could become forever lost in the set.\r\n\r\n \r\n\r\n    public static void main(String[] args) {\r\n           List&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\n           l.add(&quot;A&quot;);\r\n           l.add(&quot;B&quot;);\r\n           l.add(&quot;C&quot;);\r\n           l.add(&quot;A&quot;);\r\n           System.out.println(&quot;Before removing duplicates: &quot;);\r\n           for (String s : l) {\r\n                System.out.println(s);\r\n           }\r\n           Set&lt;String&gt; set = new HashSet&lt;String&gt;(l);\r\n           List&lt;String&gt; newlist = new ArrayList&lt;String&gt;(set);\r\n           System.out.println(&quot;after removing duplicates: &quot;);\r\n           for (String s : newlist) {\r\n                System.out.println(s);\r\n           }\r\n      }\r\n\r\nfor reference, refer this link [How to remove duplicates from ArrayList][1] \r\n\r\n\r\n  [1]: http://techno-terminal.blogspot.in/2015/11/how-to-remove-duplicates-from-arraylist.html","title":"How do I remove repeated elements from ArrayList?","body":"<p>In Java, List permits ordered access of their elements. They can have duplicates because their lookup key is the position not some hash code, every element can be modified while they remain in the list where as Set represents a collection of unique elements and while elements are in set, they must not be modified.While there is no restriction preventing you from modifying elements in a set, if an element is modified, then it could become forever lost in the set.</p>\n<pre><code>public static void main(String[] args) {\n       List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n       l.add(&quot;A&quot;);\n       l.add(&quot;B&quot;);\n       l.add(&quot;C&quot;);\n       l.add(&quot;A&quot;);\n       System.out.println(&quot;Before removing duplicates: &quot;);\n       for (String s : l) {\n            System.out.println(s);\n       }\n       Set&lt;String&gt; set = new HashSet&lt;String&gt;(l);\n       List&lt;String&gt; newlist = new ArrayList&lt;String&gt;(set);\n       System.out.println(&quot;after removing duplicates: &quot;);\n       for (String s : newlist) {\n            System.out.println(s);\n       }\n  }\n</code></pre>\n<p>for reference, refer this link <a href=\"http://techno-terminal.blogspot.in/2015/11/how-to-remove-duplicates-from-arraylist.html\" rel=\"nofollow noreferrer\">How to remove duplicates from ArrayList</a></p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1562234543,"post_id":34033817,"comment_id":100318180,"body_markdown":"“…and also not be quadratic in run time” *Of course*, this *is* quadratic in run time. It’s even worse than other quadratic solutions.","body":"“…and also not be quadratic in run time” <i>Of course</i>, this <i>is</i> quadratic in run time. It’s even worse than other quadratic solutions."}],"tags":[],"owner":{"account_id":7396615,"reputation":1,"user_id":5628310,"display_name":"Ravi Vital"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612451455,"creation_date":1449023001,"answer_id":34033817,"question_id":203984,"body_markdown":"Would something like this work better ? \r\n\r\n    public static void removeDuplicates(ArrayList&lt;String&gt; list) {\r\n        Arraylist&lt;Object&gt; ar     = new Arraylist&lt;Object&gt;();\r\n        Arraylist&lt;Object&gt; tempAR = new Arraylist&lt;Object&gt;();\r\n        while (list.size()&gt;0){\r\n            ar.add(list(0));\r\n            list.removeall(Collections.singleton(list(0)));\r\n        }\r\n        list.addAll(ar);\r\n    }\r\n\r\nThat should maintain the order and also not be quadratic in run time.","title":"How do I remove repeated elements from ArrayList?","body":"<p>Would something like this work better ?</p>\n<pre><code>public static void removeDuplicates(ArrayList&lt;String&gt; list) {\n    Arraylist&lt;Object&gt; ar     = new Arraylist&lt;Object&gt;();\n    Arraylist&lt;Object&gt; tempAR = new Arraylist&lt;Object&gt;();\n    while (list.size()&gt;0){\n        ar.add(list(0));\n        list.removeall(Collections.singleton(list(0)));\n    }\n    list.addAll(ar);\n}\n</code></pre>\n<p>That should maintain the order and also not be quadratic in run time.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1475102742,"creation_date":1449758818,"answer_id":34204842,"question_id":203984,"body_markdown":"If you&#39;re willing to use a third-party library, you can use the method `distinct()` in [Eclipse Collections][1] (formerly GS Collections).\r\n\r\n    ListIterable&lt;Integer&gt; integers = FastList.newListWith(1, 3, 1, 2, 2, 1);\r\n    Assert.assertEquals(\r\n        FastList.newListWith(1, 3, 2),\r\n        integers.distinct());\r\n\r\nThe advantage of using `distinct()` instead of converting to a Set and then back to a List is that `distinct()` preserves the order of the original List, retaining the first occurrence of each element. It&#39;s implemented by using both a Set and a List.\r\n\r\n    MutableSet&lt;T&gt; seenSoFar = UnifiedSet.newSet();\r\n    int size = list.size();\r\n    for (int i = 0; i &lt; size; i++)\r\n    {\r\n        T item = list.get(i);\r\n        if (seenSoFar.add(item))\r\n        {\r\n            targetCollection.add(item);\r\n        }\r\n    }\r\n    return targetCollection;\r\n\r\nIf you cannot convert your original List into an Eclipse Collections type, you can use ListAdapter to get the same API.\r\n\r\n    MutableList&lt;Integer&gt; distinct = ListAdapter.adapt(integers).distinct();\r\n\r\n\r\n**Note:** I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you're willing to use a third-party library, you can use the method <code>distinct()</code> in <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a> (formerly GS Collections).</p>\n\n<pre><code>ListIterable&lt;Integer&gt; integers = FastList.newListWith(1, 3, 1, 2, 2, 1);\nAssert.assertEquals(\n    FastList.newListWith(1, 3, 2),\n    integers.distinct());\n</code></pre>\n\n<p>The advantage of using <code>distinct()</code> instead of converting to a Set and then back to a List is that <code>distinct()</code> preserves the order of the original List, retaining the first occurrence of each element. It's implemented by using both a Set and a List.</p>\n\n<pre><code>MutableSet&lt;T&gt; seenSoFar = UnifiedSet.newSet();\nint size = list.size();\nfor (int i = 0; i &lt; size; i++)\n{\n    T item = list.get(i);\n    if (seenSoFar.add(item))\n    {\n        targetCollection.add(item);\n    }\n}\nreturn targetCollection;\n</code></pre>\n\n<p>If you cannot convert your original List into an Eclipse Collections type, you can use ListAdapter to get the same API.</p>\n\n<pre><code>MutableList&lt;Integer&gt; distinct = ListAdapter.adapt(integers).distinct();\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":5862240,"reputation":360,"user_id":5018911,"display_name":"Hardip"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458989484,"creation_date":1458987210,"answer_id":36234085,"question_id":203984,"body_markdown":"    ArrayList&lt;String&gt; city=new ArrayList&lt;String&gt;();\r\n    city.add(&quot;rajkot&quot;);\r\n    city.add(&quot;gondal&quot;);\r\n    city.add(&quot;rajkot&quot;);\r\n    city.add(&quot;gova&quot;);\r\n    city.add(&quot;baroda&quot;);\r\n    city.add(&quot;morbi&quot;);\r\n    city.add(&quot;gova&quot;);\r\n    \r\n    HashSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;();\r\n    hashSet.addAll(city);\r\n    city.clear();\r\n    city.addAll(hashSet);\r\n    Toast.makeText(getActivity(),&quot;&quot; + city.toString(),Toast.LENGTH_SHORT).show();","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>ArrayList&lt;String&gt; city=new ArrayList&lt;String&gt;();\ncity.add(\"rajkot\");\ncity.add(\"gondal\");\ncity.add(\"rajkot\");\ncity.add(\"gova\");\ncity.add(\"baroda\");\ncity.add(\"morbi\");\ncity.add(\"gova\");\n\nHashSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;();\nhashSet.addAll(city);\ncity.clear();\ncity.addAll(hashSet);\nToast.makeText(getActivity(),\"\" + city.toString(),Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1765312,"reputation":463,"user_id":2335486,"accept_rate":29,"display_name":"Diablo"},"score":0,"creation_date":1533897129,"post_id":37405769,"comment_id":90526040,"body_markdown":"Yah, When i typed my previous comments, I was in a impression that `parallel streams` will give better performance always. But it&#39;s a myth. I later learned that there are certain scenarios where parallel streams should be used. In this scenario parallel streams will not give any better performance. and yes parallel streams might not give desired results some cases. `List&lt;String&gt; deDupStringList3 = stringList.stream().map(String::toLowerCase).distinct().collect(Collectors.toList());` should be the suitable solution in this case","body":"Yah, When i typed my previous comments, I was in a impression that <code>parallel streams</code> will give better performance always. But it&#39;s a myth. I later learned that there are certain scenarios where parallel streams should be used. In this scenario parallel streams will not give any better performance. and yes parallel streams might not give desired results some cases. <code>List&lt;String&gt; deDupStringList3 = stringList.stream().map(String::toLowerCase).distinct().coll&zwnj;&#8203;ect(Collectors.toLis&zwnj;&#8203;t());</code> should be the suitable solution in this case"}],"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":1,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1690351343,"creation_date":1464070677,"answer_id":37405769,"question_id":203984,"body_markdown":"Suppose we have a list of `String` like:\r\n\r\n    List&lt;String&gt; strList = new ArrayList&lt;&gt;(5);\r\n    // insert up to five items to list.        \r\n\r\nThen we can remove duplicate elements in multiple ways.\r\n\r\nPrior to Java 8\r\n---------------\r\n\r\n    List&lt;String&gt; deDupStringList = new ArrayList&lt;&gt;(new HashSet&lt;&gt;(strList));\r\n\r\n**Note:** If we want to maintain the insertion order then we need to use `LinkedHashSet` in place of `HashSet`\r\n\r\nUsing Guava\r\n-----------\r\n\r\n    List&lt;String&gt; deDupStringList2 = Lists.newArrayList(Sets.newHashSet(strList));\r\n\r\nUsing Java 8\r\n------------\r\n\r\n    List&lt;String&gt; deDupStringList3 = strList.stream().distinct().collect(Collectors.toList());\r\n\r\n**Note:**  In case we want to collect the result in a **specific list implementation** e.g. `LinkedList` then we can modify the above example as:\r\n\r\n    List&lt;String&gt; deDupStringList3 = strList.stream().distinct()\r\n                     .collect(Collectors.toCollection(LinkedList::new));\r\n\r\nWe can use `parallelStream` also in the above code but it may not always give expected performance benefits. Check this [question][1] for more.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53645037/will-parallel-stream-work-fine-with-distinct-operation","title":"How do I remove repeated elements from ArrayList?","body":"<p>Suppose we have a list of <code>String</code> like:</p>\n<pre><code>List&lt;String&gt; strList = new ArrayList&lt;&gt;(5);\n// insert up to five items to list.        \n</code></pre>\n<p>Then we can remove duplicate elements in multiple ways.</p>\n<h2>Prior to Java 8</h2>\n<pre><code>List&lt;String&gt; deDupStringList = new ArrayList&lt;&gt;(new HashSet&lt;&gt;(strList));\n</code></pre>\n<p><strong>Note:</strong> If we want to maintain the insertion order then we need to use <code>LinkedHashSet</code> in place of <code>HashSet</code></p>\n<h2>Using Guava</h2>\n<pre><code>List&lt;String&gt; deDupStringList2 = Lists.newArrayList(Sets.newHashSet(strList));\n</code></pre>\n<h2>Using Java 8</h2>\n<pre><code>List&lt;String&gt; deDupStringList3 = strList.stream().distinct().collect(Collectors.toList());\n</code></pre>\n<p><strong>Note:</strong>  In case we want to collect the result in a <strong>specific list implementation</strong> e.g. <code>LinkedList</code> then we can modify the above example as:</p>\n<pre><code>List&lt;String&gt; deDupStringList3 = strList.stream().distinct()\n                 .collect(Collectors.toCollection(LinkedList::new));\n</code></pre>\n<p>We can use <code>parallelStream</code> also in the above code but it may not always give expected performance benefits. Check this <a href=\"https://stackoverflow.com/questions/53645037/will-parallel-stream-work-fine-with-distinct-operation\">question</a> for more.</p>\n"},{"comments":[{"owner":{"account_id":9504187,"reputation":395,"user_id":7064270,"display_name":"ByWaleed"},"score":0,"creation_date":1552471178,"post_id":40419515,"comment_id":97018364,"body_markdown":"I think this is the best way of removing duplicated in an ArrayList. Definitely recommended. Thank you @Nenad for the answer.","body":"I think this is the best way of removing duplicated in an ArrayList. Definitely recommended. Thank you @Nenad for the answer."}],"tags":[],"owner":{"account_id":1185299,"reputation":7276,"user_id":1159404,"accept_rate":75,"display_name":"Nenad Bulatović"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1481304883,"creation_date":1478252830,"answer_id":40419515,"question_id":203984,"body_markdown":"You can also do it this way, and preserve order:\r\n\r\n    // delete duplicates (if any) from &#39;myArrayList&#39;\r\n    myArrayList = new ArrayList&lt;String&gt;(new LinkedHashSet&lt;String&gt;(myArrayList));","title":"How do I remove repeated elements from ArrayList?","body":"<p>You can also do it this way, and preserve order:</p>\n\n<pre><code>// delete duplicates (if any) from 'myArrayList'\nmyArrayList = new ArrayList&lt;String&gt;(new LinkedHashSet&lt;String&gt;(myArrayList));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8137775,"reputation":87,"user_id":6128908,"display_name":"Gujjula Ramesh Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490509153,"creation_date":1490509153,"answer_id":43025730,"question_id":203984,"body_markdown":"This is used for your Custom Objects list \r\n                                                                                                                               \r\n       public List&lt;Contact&gt; removeDuplicates(List&lt;Contact&gt; list) {\r\n        // Set set1 = new LinkedHashSet(list);\r\n        Set set = new TreeSet(new Comparator() {\r\n\r\n            @Override\r\n            public int compare(Object o1, Object o2) {\r\n                if (((Contact) o1).getId().equalsIgnoreCase(((Contact) o2).getId()) /*&amp;&amp;\r\n                        ((Contact)o1).getName().equalsIgnoreCase(((Contact)o2).getName())*/) {\r\n                    return 0;\r\n                }\r\n                return 1;\r\n            }\r\n        });\r\n        set.addAll(list);\r\n\r\n        final List newList = new ArrayList(set);\r\n        return newList;\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<p>This is used for your Custom Objects list </p>\n\n<pre><code>   public List&lt;Contact&gt; removeDuplicates(List&lt;Contact&gt; list) {\n    // Set set1 = new LinkedHashSet(list);\n    Set set = new TreeSet(new Comparator() {\n\n        @Override\n        public int compare(Object o1, Object o2) {\n            if (((Contact) o1).getId().equalsIgnoreCase(((Contact) o2).getId()) /*&amp;&amp;\n                    ((Contact)o1).getName().equalsIgnoreCase(((Contact)o2).getName())*/) {\n                return 0;\n            }\n            return 1;\n        }\n    });\n    set.addAll(list);\n\n    final List newList = new ArrayList(set);\n    return newList;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3477457,"reputation":675,"user_id":2910319,"accept_rate":20,"display_name":"kfir"},"score":0,"creation_date":1629699936,"post_id":47580485,"comment_id":121745720,"body_markdown":"Perfect - just missing &quot;repeated = false;&quot; in the internal loop after the &quot;if(!repeated) l2.add(c1);&quot; otherwise it return a short list","body":"Perfect - just missing &quot;repeated = false;&quot; in the internal loop after the &quot;if(!repeated) l2.add(c1);&quot; otherwise it return a short list"}],"tags":[],"owner":{"account_id":401160,"reputation":1776,"user_id":767555,"display_name":"HamidReza"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512067258,"creation_date":1512067258,"answer_id":47580485,"question_id":203984,"body_markdown":"you can use nested loop in follow :\r\n\r\n    ArrayList&lt;Class1&gt; l1 = new ArrayList&lt;Class1&gt;();\r\n    ArrayList&lt;Class1&gt; l2 = new ArrayList&lt;Class1&gt;();\r\n    \r\n            Iterator iterator1 = l1.iterator();\r\n            boolean repeated = false;\r\n    \r\n            while (iterator1.hasNext())\r\n            {\r\n                Class1 c1 = (Class1) iterator1.next();\r\n                for (Class1 _c: l2) {\r\n                    if(_c.getId() == c1.getId())\r\n                        repeated = true;\r\n                }\r\n                if(!repeated)\r\n                    l2.add(c1);\r\n            }","title":"How do I remove repeated elements from ArrayList?","body":"<p>you can use nested loop in follow :</p>\n\n<pre><code>ArrayList&lt;Class1&gt; l1 = new ArrayList&lt;Class1&gt;();\nArrayList&lt;Class1&gt; l2 = new ArrayList&lt;Class1&gt;();\n\n        Iterator iterator1 = l1.iterator();\n        boolean repeated = false;\n\n        while (iterator1.hasNext())\n        {\n            Class1 c1 = (Class1) iterator1.next();\n            for (Class1 _c: l2) {\n                if(_c.getId() == c1.getId())\n                    repeated = true;\n            }\n            if(!repeated)\n                l2.add(c1);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2536309,"reputation":320,"user_id":2203337,"display_name":"Dr. Failov"},"score":0,"creation_date":1694184559,"post_id":50253949,"comment_id":135862313,"body_markdown":"Thank you! I&#39;m wondering why others keep using additional data structures when it&#39;s not necessary","body":"Thank you! I&#39;m wondering why others keep using additional data structures when it&#39;s not necessary"}],"tags":[],"owner":{"account_id":4999870,"reputation":1555,"user_id":4019233,"display_name":"Saurabh Gaddelpalliwar"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1565071451,"creation_date":1525870486,"answer_id":50253949,"question_id":203984,"body_markdown":"\t\r\n##If you are using model type List&lt; T&gt;/ArrayList&lt; T&gt; . Hope,it&#39;s help you.##\r\n\r\n**Here is my code without using any other data structure like set or hashmap**\r\n\r\n    for (int i = 0; i &lt; Models.size(); i++){\r\n    for (int j = i + 1; j &lt; Models.size(); j++) {       \r\n     if (Models.get(i).getName().equals(Models.get(j).getName())) {    \r\n     Models.remove(j);\r\n       j--;\r\n      }\r\n     }\r\n    }\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<h2>If you are using model type List&lt; T>/ArrayList&lt; T> . Hope,it's help you.</h2>\n\n<p><strong>Here is my code without using any other data structure like set or hashmap</strong></p>\n\n<pre><code>for (int i = 0; i &lt; Models.size(); i++){\nfor (int j = i + 1; j &lt; Models.size(); j++) {       \n if (Models.get(i).getName().equals(Models.get(j).getName())) {    \n Models.remove(j);\n   j--;\n  }\n }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1562234628,"post_id":50382676,"comment_id":100318232,"body_markdown":"Calling `indexOf` on an `ArrayList` within a `forEach` is O(n&#178;).","body":"Calling <code>indexOf</code> on an <code>ArrayList</code> within a <code>forEach</code> is O(n&#178;)."}],"tags":[],"owner":{"account_id":9475267,"reputation":115,"user_id":7044810,"display_name":"Sameer Shrestha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529461271,"creation_date":1526525585,"answer_id":50382676,"question_id":203984,"body_markdown":"Time Complexity : O(n) : Without Set\r\n        \r\n    private static void removeDup(ArrayList&lt;String&gt; listWithDuplicateElements) {\r\n\t\tSystem.out.println(&quot; Original Duplicate List :&quot; + listWithDuplicateElements);\r\n\t\tList&lt;String&gt; listWithoutDuplicateElements = new ArrayList&lt;&gt;(listWithDuplicateElements.size());\r\n\r\n        listWithDuplicateElements.stream().forEach(str -&gt; {\r\n\t\t\tif (listWithoutDuplicateElements.indexOf(str) == -1) {\r\n\t\t\t\tlistWithoutDuplicateElements.add(str);\r\n\t\t\t}\r\n\t\t});\t\t\r\n\r\n\t\tSystem.out.println(&quot; Without Duplicate List :&quot; + listWithoutDuplicateElements);\r\n\t}","title":"How do I remove repeated elements from ArrayList?","body":"<p>Time Complexity : O(n) : Without Set</p>\n\n<pre><code>private static void removeDup(ArrayList&lt;String&gt; listWithDuplicateElements) {\n    System.out.println(\" Original Duplicate List :\" + listWithDuplicateElements);\n    List&lt;String&gt; listWithoutDuplicateElements = new ArrayList&lt;&gt;(listWithDuplicateElements.size());\n\n    listWithDuplicateElements.stream().forEach(str -&gt; {\n        if (listWithoutDuplicateElements.indexOf(str) == -1) {\n            listWithoutDuplicateElements.add(str);\n        }\n    });     \n\n    System.out.println(\" Without Duplicate List :\" + listWithoutDuplicateElements);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1562243696,"post_id":51181971,"comment_id":100323095,"body_markdown":"“if you are concerned about the overhead of HashSet” and are ignorant towards the overhead of `Collectiors.sort`…","body":"“if you are concerned about the overhead of HashSet” and are ignorant towards the overhead of <code>Collectiors.sort</code>…"}],"tags":[],"owner":{"account_id":8822894,"reputation":4923,"user_id":6592058,"accept_rate":86,"display_name":"seekingStillness"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530836864,"creation_date":1530749657,"answer_id":51181971,"question_id":203984,"body_markdown":"This is the right one (if you are concerned about the overhead of HashSet.\r\n\r\n     public static ArrayList&lt;String&gt; removeDuplicates (ArrayList&lt;String&gt; arrayList){\r\n        if (arrayList.isEmpty()) return null;  //return what makes sense for your app\r\n        Collections.sort(arrayList, String.CASE_INSENSITIVE_ORDER);\r\n        //remove duplicates\r\n        ArrayList &lt;String&gt; arrayList_mod = new ArrayList&lt;&gt;();\r\n        arrayList_mod.add(arrayList.get(0));\r\n        for (int i=1; i&lt;arrayList.size(); i++){\r\n            if (!arrayList.get(i).equals(arrayList.get(i-1))) arrayList_mod.add(arrayList.get(i));\r\n        }\r\n        return arrayList_mod;\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<p>This is the right one (if you are concerned about the overhead of HashSet.</p>\n\n<pre><code> public static ArrayList&lt;String&gt; removeDuplicates (ArrayList&lt;String&gt; arrayList){\n    if (arrayList.isEmpty()) return null;  //return what makes sense for your app\n    Collections.sort(arrayList, String.CASE_INSENSITIVE_ORDER);\n    //remove duplicates\n    ArrayList &lt;String&gt; arrayList_mod = new ArrayList&lt;&gt;();\n    arrayList_mod.add(arrayList.get(0));\n    for (int i=1; i&lt;arrayList.size(); i++){\n        if (!arrayList.get(i).equals(arrayList.get(i-1))) arrayList_mod.add(arrayList.get(i));\n    }\n    return arrayList_mod;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1562243734,"post_id":54595465,"comment_id":100323121,"body_markdown":"Not easier than `Set&lt;String&gt; strSet = new HashSet&lt;&gt;(strList);`","body":"Not easier than <code>Set&lt;String&gt; strSet = new HashSet&lt;&gt;(strList);</code>"}],"tags":[],"owner":{"account_id":9719109,"reputation":1190,"user_id":7208392,"display_name":"saif"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549639231,"creation_date":1549639231,"answer_id":54595465,"question_id":203984,"body_markdown":"```\r\nSet&lt;String&gt; strSet = strList.stream().collect(Collectors.toSet());\r\n```\r\n\r\nIs the easiest way to remove your duplicates.","title":"How do I remove repeated elements from ArrayList?","body":"<pre><code>Set&lt;String&gt; strSet = strList.stream().collect(Collectors.toSet());\n</code></pre>\n\n<p>Is the easiest way to remove your duplicates.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1562244111,"post_id":55073204,"comment_id":100323342,"body_markdown":"Try `ListIterator&lt;String&gt; i = hashList.listIterator(); i.add(&quot;hello&quot;); i.add(&quot;hello&quot;);`. Alternatively, you can use `hashList.add(&quot;a&quot;); hashList.add(&quot;b&quot;); hashList.replaceAll(x -&gt; &quot;hello&quot;);`. And there might be more ways to counteract this approach in the future. The takeaway is that you shouldn’t try to enforce new contracts via subclassing with classes not designed for that. You will find more about this topic when you search for the “*Prefer composition over inheritance*” OOP rule.","body":"Try <code>ListIterator&lt;String&gt; i = hashList.listIterator(); i.add(&quot;hello&quot;); i.add(&quot;hello&quot;);</code>. Alternatively, you can use <code>hashList.add(&quot;a&quot;); hashList.add(&quot;b&quot;); hashList.replaceAll(x -&gt; &quot;hello&quot;);</code>. And there might be more ways to counteract this approach in the future. The takeaway is that you shouldn’t try to enforce new contracts via subclassing with classes not designed for that. You will find more about this topic when you search for the “<i>Prefer composition over inheritance</i>” OOP rule."},{"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"score":0,"creation_date":1601217957,"post_id":55073204,"comment_id":113331387,"body_markdown":"that makes a lot of sense","body":"that makes a lot of sense"}],"tags":[],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552096284,"creation_date":1552095877,"answer_id":55073204,"question_id":203984,"body_markdown":"If you want your list to automatically ignore duplicates and preserve its order, you could create a **HashList**(a HashMap embedded List).\r\n\r\n    public static class HashList&lt;T&gt; extends ArrayList&lt;T&gt;{\r\n            private HashMap &lt;T,T&gt; hashMap;\r\n            public HashList(){\r\n                hashMap=new HashMap&lt;&gt;();\r\n            }\r\n    \r\n            @Override\r\n            public boolean add(T t){\r\n                if(hashMap.get(t)==null){\r\n                    hashMap.put(t,t);\r\n                    return super.add(t);\r\n                }else return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean addAll(Collection&lt;? extends T&gt; c){\r\n                HashList&lt;T&gt; addup=(HashList&lt;T&gt;)c;\r\n                for(int i=0;i&lt;addup.size();i++){\r\n                    add(addup.get(i));\r\n                }return true;\r\n            }\r\n            \r\n        }\r\n\r\n**`Usage Example:`**\r\n\r\n    HashList&lt;String&gt; hashlist=new HashList&lt;&gt;();\r\n    hashList.add(&quot;hello&quot;);\r\n    hashList.add(&quot;hello&quot;);\r\n    System.out.println(&quot; HashList: &quot;+hashlist);","title":"How do I remove repeated elements from ArrayList?","body":"<p>If you want your list to automatically ignore duplicates and preserve its order, you could create a <strong>HashList</strong>(a HashMap embedded List).</p>\n\n<pre><code>public static class HashList&lt;T&gt; extends ArrayList&lt;T&gt;{\n        private HashMap &lt;T,T&gt; hashMap;\n        public HashList(){\n            hashMap=new HashMap&lt;&gt;();\n        }\n\n        @Override\n        public boolean add(T t){\n            if(hashMap.get(t)==null){\n                hashMap.put(t,t);\n                return super.add(t);\n            }else return false;\n        }\n\n        @Override\n        public boolean addAll(Collection&lt;? extends T&gt; c){\n            HashList&lt;T&gt; addup=(HashList&lt;T&gt;)c;\n            for(int i=0;i&lt;addup.size();i++){\n                add(addup.get(i));\n            }return true;\n        }\n\n    }\n</code></pre>\n\n<p><strong><code>Usage Example:</code></strong></p>\n\n<pre><code>HashList&lt;String&gt; hashlist=new HashList&lt;&gt;();\nhashList.add(\"hello\");\nhashList.add(\"hello\");\nSystem.out.println(\" HashList: \"+hashlist);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":472023,"reputation":3798,"user_id":880223,"display_name":"Gil SH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633715960,"creation_date":1633715960,"answer_id":69499989,"question_id":203984,"body_markdown":"Here is a solution that works with any object:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; clearDuplicates(List&lt;T&gt; messages,Comparator&lt;T&gt; comparator) {\r\n        List&lt;T&gt; results = new ArrayList&lt;T&gt;();\r\n        for (T m1 : messages) {\r\n            boolean found = false;\r\n            for (T m2 : results) {\r\n                if (comparator.compare(m1,m2)==0) {\r\n                    found=true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) {\r\n                results.add(m1);\r\n            }\r\n        }\r\n        return results;\r\n    }","title":"How do I remove repeated elements from ArrayList?","body":"<p>Here is a solution that works with any object:</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; clearDuplicates(List&lt;T&gt; messages,Comparator&lt;T&gt; comparator) {\n    List&lt;T&gt; results = new ArrayList&lt;T&gt;();\n    for (T m1 : messages) {\n        boolean found = false;\n        for (T m2 : results) {\n            if (comparator.compare(m1,m2)==0) {\n                found=true;\n                break;\n            }\n        }\n        if (!found) {\n            results.add(m1);\n        }\n    }\n    return results;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11779404,"reputation":764,"user_id":8619606,"display_name":"Kirguduck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648390923,"creation_date":1648390923,"answer_id":71637149,"question_id":203984,"body_markdown":"Kotlin\r\n\r\n    val list = listOf(&#39;a&#39;, &#39;A&#39;, &#39;b&#39;, &#39;B&#39;, &#39;A&#39;, &#39;a&#39;)\r\n    println(list.distinct()) // [a, A, b, B]\r\n    println(list.distinctBy { it.uppercaseChar() }) // [a, b]\r\n\r\nfrom here [kotlinlang][1]\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct-by.html","title":"How do I remove repeated elements from ArrayList?","body":"<p>Kotlin</p>\n<pre><code>val list = listOf('a', 'A', 'b', 'B', 'A', 'a')\nprintln(list.distinct()) // [a, A, b, B]\nprintln(list.distinctBy { it.uppercaseChar() }) // [a, b]\n</code></pre>\n<p>from here <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct-by.html\" rel=\"nofollow noreferrer\">kotlinlang</a></p>\n"}],"owner":{"account_id":12956,"reputation":5911,"user_id":25778,"accept_rate":38,"display_name":"user25778"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003145,"favorite_count":0,"down_vote_count":1,"up_vote_count":575,"accepted_answer_id":203992,"answer_count":40,"score":574,"last_activity_date":1690351343,"creation_date":1224057926,"question_id":203984,"body_markdown":"I have an `ArrayList&lt;String&gt;`, and I want to remove repeated strings from it. How can I do this?\r\n","title":"How do I remove repeated elements from ArrayList?","body":"<p>I have an <code>ArrayList&lt;String&gt;</code>, and I want to remove repeated strings from it. How can I do this?</p>\n"},{"tags":["java","android","paypal","paypal-sandbox"],"owner":{"account_id":8321718,"reputation":1,"user_id":6253160,"display_name":"Asim Afzal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690350861,"creation_date":1690317802,"question_id":76766393,"body_markdown":"`I am integrating the PayPal Checkout SDK (version 0.8.1) into my Android app to process payments. The SDK is initializing correctly, and I&#39;m able to add the email address for payment. However, when I tap on &quot;Complete Purchase,&quot; the SDK navigates to a WebView showing the PayPal payment screen. After completing the payment in the WebView, it gets stuck at the message &quot;Thank you for using PayPal&quot; and doesn&#39;t return back to my app.\r\n\r\n\r\nAfter completing the payment in the PayPal WebView, the SDK doesn&#39;t return to my app. Instead, it gets stuck on a page displaying &quot;Thank you for using PayPal.&quot;\r\n\r\nExpected Behavior:\r\nAfter the payment is successfully completed in the PayPal WebView, I expect the SDK to return to my app and trigger the approval callback in the registerCallbacks method.\r\n\r\n```\r\nPayPalCheckout.setConfig(new CheckoutConfig(this, clientId, Environment.SANDBOX,\r\n    CurrencyCode.EUR,UserAction.PAY_NOW));\r\n\r\nPayPalCheckout.registerCallbacks(\r\n    approval -\\&gt; { // Order is approved\r\n        Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n        // navigateToThankYouPage(payment);\r\n    },\r\n    () -\\&gt; {\r\n        Toast.makeText(getApplicationContext(), &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\r\n        // Optional callback for when a buyer cancels the order\r\n    },\r\n    errorInfo -\\&gt; { // Optional error callback\r\n        Toast.makeText(getApplicationContext(), &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n);\r\n\r\nPayPalCheckout.startCheckout(\r\n    createOrderActions -\\&gt; {\r\n        ArrayList\\&lt;PurchaseUnit\\&gt; purchaseUnits = new ArrayList\\&lt;\\&gt;();\r\n        purchaseUnits.add(\r\n            new PurchaseUnit.Builder().amount(\r\n                new Amount.Builder()\r\n                .currencyCode(CurrencyCode.EUR)\r\n                .value((String)grandTotalTv.getTag())\r\n                .build()\r\n            ).build()\r\n        );\r\n        Order order = new Order(OrderIntent.CAPTURE,\r\n            new AppContext.Builder()\r\n            .userAction(UserAction.PAY_NOW)\r\n            .build(), purchaseUnits);\r\n        createOrderActions.create(order, orderId -\\&gt; {});\r\n    }\r\n);\r\n```\r\nAfter the payment is successfully completed in the PayPal WebView, I expect the SDK to return to my app and trigger the approval callback in the registerCallbacks method.","title":"Android - Paypal checkout got stuck in webview thankyou page","body":"<p>`I am integrating the PayPal Checkout SDK (version 0.8.1) into my Android app to process payments. The SDK is initializing correctly, and I'm able to add the email address for payment. However, when I tap on &quot;Complete Purchase,&quot; the SDK navigates to a WebView showing the PayPal payment screen. After completing the payment in the WebView, it gets stuck at the message &quot;Thank you for using PayPal&quot; and doesn't return back to my app.</p>\n<p>After completing the payment in the PayPal WebView, the SDK doesn't return to my app. Instead, it gets stuck on a page displaying &quot;Thank you for using PayPal.&quot;</p>\n<p>Expected Behavior:\nAfter the payment is successfully completed in the PayPal WebView, I expect the SDK to return to my app and trigger the approval callback in the registerCallbacks method.</p>\n<pre><code>PayPalCheckout.setConfig(new CheckoutConfig(this, clientId, Environment.SANDBOX,\n    CurrencyCode.EUR,UserAction.PAY_NOW));\n\nPayPalCheckout.registerCallbacks(\n    approval -\\&gt; { // Order is approved\n        Toast.makeText(getApplicationContext(), &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n        // navigateToThankYouPage(payment);\n    },\n    () -\\&gt; {\n        Toast.makeText(getApplicationContext(), &quot;Cancelled&quot;, Toast.LENGTH_SHORT).show();\n        // Optional callback for when a buyer cancels the order\n    },\n    errorInfo -\\&gt; { // Optional error callback\n        Toast.makeText(getApplicationContext(), &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n    }\n);\n\nPayPalCheckout.startCheckout(\n    createOrderActions -\\&gt; {\n        ArrayList\\&lt;PurchaseUnit\\&gt; purchaseUnits = new ArrayList\\&lt;\\&gt;();\n        purchaseUnits.add(\n            new PurchaseUnit.Builder().amount(\n                new Amount.Builder()\n                .currencyCode(CurrencyCode.EUR)\n                .value((String)grandTotalTv.getTag())\n                .build()\n            ).build()\n        );\n        Order order = new Order(OrderIntent.CAPTURE,\n            new AppContext.Builder()\n            .userAction(UserAction.PAY_NOW)\n            .build(), purchaseUnits);\n        createOrderActions.create(order, orderId -\\&gt; {});\n    }\n);\n</code></pre>\n<p>After the payment is successfully completed in the PayPal WebView, I expect the SDK to return to my app and trigger the approval callback in the registerCallbacks method.</p>\n"},{"tags":["javascript","java","jnlp"],"answers":[{"tags":[],"owner":{"account_id":102134,"reputation":18322,"user_id":274354,"accept_rate":68,"display_name":"mydoghasworms"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690350467,"creation_date":1690347862,"answer_id":76768162,"question_id":44175367,"body_markdown":"Unless I have misunderstood your question, according to the Oracle documentation, you should be setting the attribute `check` to `&quot;background&quot;`.\r\n\r\nBy setting it to `&quot;always&quot;`, it forces an update before the user starts the application.\r\n\r\n(However, I am still struggling with this, because OpenWebStart seems to be ignoring that option and downloading in the foreground anyway - this may be dependent on the WebStart implementation; OpenWebStart is a community project).\r\n\r\n```\r\ncheck attribute: The check attribute indicates the preference for when the JNLP Client should check for updates, and can have one of the three values: &quot;always&quot;, &quot;timeout&quot;, and &quot;background&quot;\r\n\r\nA value of &quot;always&quot; means to always check for updates before launching the application.\r\n\r\nA value of &quot;timeout&quot; (default) means to check for updates until timeout before launching the application. If the update check is not completed before the timeout, the application is launched, and the update check will continue in the background.\r\n\r\nA value of &quot;background&quot; means to launch the application while checking for updates in the background.\r\n```\r\n\r\n(See https://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html#update).\r\n\r\nYou may also want to refer to this standard document (Avoiding Unnecessary Update Checks):\r\n\r\nhttps://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/avoidingUnnecessaryUpdateChecks.html","title":"jnlp is updating itself even i have define policy prompt-update","body":"<p>Unless I have misunderstood your question, according to the Oracle documentation, you should be setting the attribute <code>check</code> to <code>&quot;background&quot;</code>.</p>\n<p>By setting it to <code>&quot;always&quot;</code>, it forces an update before the user starts the application.</p>\n<p>(However, I am still struggling with this, because OpenWebStart seems to be ignoring that option and downloading in the foreground anyway - this may be dependent on the WebStart implementation; OpenWebStart is a community project).</p>\n<pre><code>check attribute: The check attribute indicates the preference for when the JNLP Client should check for updates, and can have one of the three values: &quot;always&quot;, &quot;timeout&quot;, and &quot;background&quot;\n\nA value of &quot;always&quot; means to always check for updates before launching the application.\n\nA value of &quot;timeout&quot; (default) means to check for updates until timeout before launching the application. If the update check is not completed before the timeout, the application is launched, and the update check will continue in the background.\n\nA value of &quot;background&quot; means to launch the application while checking for updates in the background.\n</code></pre>\n<p>(See <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html#update\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html#update</a>).</p>\n<p>You may also want to refer to this standard document (Avoiding Unnecessary Update Checks):</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/avoidingUnnecessaryUpdateChecks.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/avoidingUnnecessaryUpdateChecks.html</a></p>\n"}],"owner":{"account_id":4852395,"reputation":31,"user_id":3914359,"display_name":"user3914359"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690350467,"creation_date":1495699284,"question_id":44175367,"body_markdown":"I want update popup become on screen If user run existing application, Update prompt should be visible to user. User will confirm then application should be update. But now if i change the jar version, application auto updated without any prompt even i have define policy=&#39;prompt-update&#39;.\r\n\r\nI am using below jnlp file\r\n\r\n**\r\n\r\n    &lt;jnlp spec=&quot;1.0+&quot; codebase=&quot;http://192.168.2.40/New&quot; href=&quot;index.jnlp&quot;&gt;\r\n     &lt;information&gt;\r\n            &lt;title&gt;Safety&lt;/title&gt;\r\n            &lt;homepage href=&quot;/Safety&quot; /&gt;\r\n            \r\n            &lt;Application-Name&gt;Safety&lt;/Application-Name&gt;\r\n            &lt;icon href=&quot;Safety.gif&quot;/&gt;\r\n            &lt;icon kind=&quot;shortcut&quot; href=&quot;Safety.jpeg&quot; width=&quot;32&quot; height=&quot;32&quot;/&gt;\r\n            &lt;icon kind=&quot;shortcut&quot; href=&quot;Safety.jpeg&quot; width=&quot;48&quot; height=&quot;48&quot;/&gt;\r\n            &lt;icon kind=&quot;splash&quot; href=&quot;index.jpeg&quot;/&gt;\r\n            &lt;offline-allowed/&gt;\r\n            &lt;shortcut online=&quot;true&quot;&gt;\r\n                    &lt;desktop/&gt;\r\n                    &lt;menu submenu=&quot;Safety Home&quot;/&gt;\r\n            &lt;/shortcut&gt;\r\n     &lt;/information&gt;\r\n      &lt;update check=&quot;always&quot; policy=&quot;prompt-update&quot;/&gt;\r\n      &lt;security&gt;\r\n        &lt;all-permissions/&gt;\r\n      &lt;/security&gt;\r\n         &lt;resources os=&quot;Windows&quot; arch=&quot;x86_64 amd64&quot;&gt;\r\n            &lt;j2se version=&quot;1.6+&quot; max-heap-size=&quot;2000m&quot;/&gt;\r\n         &lt;/resources&gt;\r\n         &lt;resources os=&quot;Linux&quot; arch=&quot;x86_64 amd64&quot;&gt;\r\n            &lt;j2se version=&quot;1.6+&quot; max-heap-size=&quot;2000m&quot;/&gt;\r\n         &lt;/resources&gt;\r\n         &lt;resources&gt;\r\n              &lt;j2se version=&quot;1.6+&quot;/&gt;\r\n              &lt;jar href=&quot;Safety-maven-1.0.13.jar&quot; /&gt;\r\n         &lt;/resources&gt;\r\n         &lt;application-desc main-class=&quot;in.NewFrame&quot; /&gt;\r\n    &lt;/jnlp&gt;\r\n\r\n**","title":"jnlp is updating itself even i have define policy prompt-update","body":"<p>I want update popup become on screen If user run existing application, Update prompt should be visible to user. User will confirm then application should be update. But now if i change the jar version, application auto updated without any prompt even i have define policy='prompt-update'.</p>\n\n<p>I am using below jnlp file</p>\n\n<p>**</p>\n\n<pre><code>&lt;jnlp spec=\"1.0+\" codebase=\"http://192.168.2.40/New\" href=\"index.jnlp\"&gt;\n &lt;information&gt;\n        &lt;title&gt;Safety&lt;/title&gt;\n        &lt;homepage href=\"/Safety\" /&gt;\n\n        &lt;Application-Name&gt;Safety&lt;/Application-Name&gt;\n        &lt;icon href=\"Safety.gif\"/&gt;\n        &lt;icon kind=\"shortcut\" href=\"Safety.jpeg\" width=\"32\" height=\"32\"/&gt;\n        &lt;icon kind=\"shortcut\" href=\"Safety.jpeg\" width=\"48\" height=\"48\"/&gt;\n        &lt;icon kind=\"splash\" href=\"index.jpeg\"/&gt;\n        &lt;offline-allowed/&gt;\n        &lt;shortcut online=\"true\"&gt;\n                &lt;desktop/&gt;\n                &lt;menu submenu=\"Safety Home\"/&gt;\n        &lt;/shortcut&gt;\n &lt;/information&gt;\n  &lt;update check=\"always\" policy=\"prompt-update\"/&gt;\n  &lt;security&gt;\n    &lt;all-permissions/&gt;\n  &lt;/security&gt;\n     &lt;resources os=\"Windows\" arch=\"x86_64 amd64\"&gt;\n        &lt;j2se version=\"1.6+\" max-heap-size=\"2000m\"/&gt;\n     &lt;/resources&gt;\n     &lt;resources os=\"Linux\" arch=\"x86_64 amd64\"&gt;\n        &lt;j2se version=\"1.6+\" max-heap-size=\"2000m\"/&gt;\n     &lt;/resources&gt;\n     &lt;resources&gt;\n          &lt;j2se version=\"1.6+\"/&gt;\n          &lt;jar href=\"Safety-maven-1.0.13.jar\" /&gt;\n     &lt;/resources&gt;\n     &lt;application-desc main-class=\"in.NewFrame\" /&gt;\n&lt;/jnlp&gt;\n</code></pre>\n\n<p>**</p>\n"},{"tags":["java","security","java-11","pbkdf2","secretkeyfactory"],"comments":[{"owner":{"account_id":8023785,"reputation":3013,"user_id":6051596,"display_name":"Soumen Mukherjee"},"score":0,"creation_date":1690384204,"post_id":76768270,"comment_id":135346599,"body_markdown":"While some changes were done around this https://www.oracle.com/java/technologies/javase/11all-relnotes.html#R11_0_17 , but that should not be the case .. can you elaborate the use case a little bit more ..","body":"While some changes were done around this <a href=\"https://www.oracle.com/java/technologies/javase/11all-relnotes.html#R11_0_17\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/&hellip;</a> , but that should not be the case .. can you elaborate the use case a little bit more .."},{"owner":{"account_id":12794692,"reputation":11,"user_id":9258090,"display_name":"Kaushik LV"},"score":0,"creation_date":1690439711,"post_id":76768270,"comment_id":135354590,"body_markdown":"So basically we are trying to generatePBKDFKey with this algorithm, and using this call we get a SecretKeyFactory instance. Using this instance we can then generate the SecretKey by employing the generateSecret() method. \nThis method was working so far, but since we performed the java upgrade it is failing with the above mentioned exception. We are also facing the same issue with JDK17 as well.","body":"So basically we are trying to generatePBKDFKey with this algorithm, and using this call we get a SecretKeyFactory instance. Using this instance we can then generate the SecretKey by employing the generateSecret() method.  This method was working so far, but since we performed the java upgrade it is failing with the above mentioned exception. We are also facing the same issue with JDK17 as well."}],"owner":{"account_id":12794692,"reputation":11,"user_id":9258090,"display_name":"Kaushik LV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690349560,"creation_date":1690349560,"question_id":76768270,"body_markdown":"We have recently upgraded to JDK 11.0.17 and when I try to call -\r\n\r\n`SecretKeyFactory.getInstance(&quot;PBKDF2WithSHA512-256&quot;);`\r\n\r\nI am getting the following exception -\r\n\r\n`java.security.NoSuchAlgorithmException: PBKDF2WithSHA512-256 SecretKeyFactory not available\r\n`\r\n\r\nThe same code is working when I use JDK 11.0.1.\r\nHas the behaviour changed with the JDK upgrade? \r\nIf so, can anyone suggest a workaround for this?","title":"PBKDF2WithSHA512-256 SecretKeyFactory not available error while using JDK11.0.17","body":"<p>We have recently upgraded to JDK 11.0.17 and when I try to call -</p>\n<p><code>SecretKeyFactory.getInstance(&quot;PBKDF2WithSHA512-256&quot;);</code></p>\n<p>I am getting the following exception -</p>\n<p><code>java.security.NoSuchAlgorithmException: PBKDF2WithSHA512-256 SecretKeyFactory not available </code></p>\n<p>The same code is working when I use JDK 11.0.1.\nHas the behaviour changed with the JDK upgrade?\nIf so, can anyone suggest a workaround for this?</p>\n"},{"tags":["java","android","menu"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1690297413,"post_id":76763866,"comment_id":135332061,"body_markdown":"Your fragment&#39;s `MenuProvider` implementation lacks `onPrepareMenu` callback implementation.","body":"Your fragment&#39;s <code>MenuProvider</code> implementation lacks <code>onPrepareMenu</code> callback implementation."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1690297752,"post_id":76763866,"comment_id":135332133,"body_markdown":"Hello @Kozmotronik , thanks for the answer, added right now the onPrepareMenu copying the same code from MainActivity and seems working but still I see like double menu due of `inflater.inflate` and `menuinflater` as you can see in the code in post..... I thought it could be passed directly `MainActivity` &#39;s `MenuProvider` to fragment to avoid double code and avoid double inflate....","body":"Hello @Kozmotronik , thanks for the answer, added right now the onPrepareMenu copying the same code from MainActivity and seems working but still I see like double menu due of <code>inflater.inflate</code> and <code>menuinflater</code> as you can see in the code in post..... I thought it could be passed directly <code>MainActivity</code> &#39;s <code>MenuProvider</code> to fragment to avoid double code and avoid double inflate...."},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1690307898,"post_id":76763866,"comment_id":135334317,"body_markdown":"If you add a MenuProvider at the Activity level, those menu items will be available no matter what fragment you are on (and no matter if that fragment _also_ adds menu items via its own MenuProvider) - that&#39;s what adding at the activity level means. Is that what you are experiencing? What was your expectation?","body":"If you add a MenuProvider at the Activity level, those menu items will be available no matter what fragment you are on (and no matter if that fragment <i>also</i> adds menu items via its own MenuProvider) - that&#39;s what adding at the activity level means. Is that what you are experiencing? What was your expectation?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1690309937,"post_id":76763866,"comment_id":135334711,"body_markdown":"Could you add a screenshot that shows the problem? Also another screenshot that shows your expectation would be great.","body":"Could you add a screenshot that shows the problem? Also another screenshot that shows your expectation would be great."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1690310591,"post_id":76763866,"comment_id":135334821,"body_markdown":"@ianhanniballake , in fact I don&#39;t need to add more menu items from fragment... just I need to reach menu items in activity.... does that mean then I just have to use `setHasOptionsMenu(true);` inside `onCreateView` &#39;s event in fragments to reach MainActivity &#39;s MenuProvider?.... or how I could reach Activity &#39;s menu items from fragment?","body":"@ianhanniballake , in fact I don&#39;t need to add more menu items from fragment... just I need to reach menu items in activity.... does that mean then I just have to use <code>setHasOptionsMenu(true);</code> inside <code>onCreateView</code> &#39;s event in fragments to reach MainActivity &#39;s MenuProvider?.... or how I could reach Activity &#39;s menu items from fragment?"},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1690315911,"post_id":76763866,"comment_id":135335822,"body_markdown":"The only thing that should be interacting with the activity&#39;s menu items is the activity. Your fragment shouldn&#39;t be involved at all. `setHasOptionsMenu` has no interaction at all with MenuProvider. Please take a step back and update your question with what you are trying to do to avoid an [XY problem](https://en.wikipedia.org/wiki/XY_problem).","body":"The only thing that should be interacting with the activity&#39;s menu items is the activity. Your fragment shouldn&#39;t be involved at all. <code>setHasOptionsMenu</code> has no interaction at all with MenuProvider. Please take a step back and update your question with what you are trying to do to avoid an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>."}],"answers":[{"comments":[{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1690354818,"post_id":76766449,"comment_id":135339967,"body_markdown":"Hello @Patrick  , in fact I tried also your solution but when I call `getActivity().invalidateOptionsMenu();` even if I have correctly settled icon selectors true/false as you can see in `onPrepareMenu` event in the post , if I call `getActivity().invalidateOptionsMenu();` right after I change menuItem icons state as expected, it doesn&#39;t redraw icons that are svg .xml selectors and I&#39;m stuck on it...even if I debugged on menuItems and they are correctly evaluated as they are...","body":"Hello @Patrick  , in fact I tried also your solution but when I call <code>getActivity().invalidateOptionsMenu();</code> even if I have correctly settled icon selectors true/false as you can see in <code>onPrepareMenu</code> event in the post , if I call <code>getActivity().invalidateOptionsMenu();</code> right after I change menuItem icons state as expected, it doesn&#39;t redraw icons that are svg .xml selectors and I&#39;m stuck on it...even if I debugged on menuItems and they are correctly evaluated as they are..."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1690360966,"post_id":76766449,"comment_id":135341157,"body_markdown":"Hello again @Patrick , after some fighting and debugging I figured out to call redraw + `invalidateOptionsMenu()` from inside `onPrepareMenu` event so in this way it would redraw correctly the menu... thanks again!","body":"Hello again @Patrick , after some fighting and debugging I figured out to call redraw + <code>invalidateOptionsMenu()</code> from inside <code>onPrepareMenu</code> event so in this way it would redraw correctly the menu... thanks again!"},{"owner":{"account_id":15835153,"reputation":164,"user_id":11425232,"display_name":"Patrick"},"score":0,"creation_date":1690369913,"post_id":76766449,"comment_id":135343066,"body_markdown":"Great to hear that it&#39;s working now @Luigino !","body":"Great to hear that it&#39;s working now @Luigino !"}],"tags":[],"owner":{"account_id":15835153,"reputation":164,"user_id":11425232,"display_name":"Patrick"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690348808,"creation_date":1690318419,"answer_id":76766449,"question_id":76763866,"body_markdown":"**@Luigino**\r\n\r\nI&#39;ve a similar or even the same requirements as you:\r\n1) One main menu (defined in `R.menu.menu_main` and inflated in `MainActivity`) that contains all required menu entries used in all fragments.\r\n2) Several fragments whereas I need to execute specific code in each fragment when the user clicks on a particular icon. For example, you&#39;re using a menu icon &quot;Save&quot; across all fragments but you want to save data shown in each fragment. \r\n\r\nI&#39;ve solved it as shown below, i.e. in each fragment in the according `onCreateMenu` I don&#39;t inflate the menu once again. That prevents the menu entries from duplicating.\r\n\r\nSee also https://developer.android.com/jetpack/androidx/releases/activity#1.4.0-alpha01 for additional information.\r\n\r\nHope that helps!\r\n\r\n**MainActivity:**\r\n\r\n    private void setupMenu() {\r\n    \tMenuProvider menuProvider = new MenuProvider() {\r\n    \t\t@Override\r\n    \t\tpublic void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\r\n    \t\t\tmenuInflater.inflate(R.menu.menu_main, menu);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\r\n    \t\t\tint id = menuItem.getItemId();\r\n    \t\t\tif (id == R.id.menu_action_about) {\r\n    \t\t\t\t/* show about dialog */\r\n    \t\t\t\treturn true;\r\n    \t\t\t} else if (id == R.id.menu_action_settings) {\r\n    \t\t\t\t/* show settings dialog */\r\n    \t\t\t\treturn true;\r\n    \t\t\t} \r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t};\r\n    \r\n    \taddMenuProvider(menuProvider);\r\n    }\r\n\r\n**Fragment 1:**\r\n\r\n    private void setupMenu() {\r\n        MenuProvider menuProvider = new MenuProvider() {\r\n            @Override\r\n            public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\r\n                /* do not inflate the menu again */\r\n            }\r\n    \r\n            @Override\r\n            public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\r\n                int id = menuItem.getItemId();\r\n                if (id == R.id.menu_action_save) {\r\n                    /* execute specific code,\r\n                       e.g. save data shown in fragment one */\r\n                    return true;\r\n                } \r\n                return false;\r\n            }\r\n        };\r\n    \r\n        requireActivity().addMenuProvider(menuProvider, getViewLifecycleOwner(), Lifecycle.State.RESUMED);\r\n    }","title":"Android Studio - MenuProvider in MainActivity and also in Fragments?","body":"<p><strong>@Luigino</strong></p>\n<p>I've a similar or even the same requirements as you:</p>\n<ol>\n<li>One main menu (defined in <code>R.menu.menu_main</code> and inflated in <code>MainActivity</code>) that contains all required menu entries used in all fragments.</li>\n<li>Several fragments whereas I need to execute specific code in each fragment when the user clicks on a particular icon. For example, you're using a menu icon &quot;Save&quot; across all fragments but you want to save data shown in each fragment.</li>\n</ol>\n<p>I've solved it as shown below, i.e. in each fragment in the according <code>onCreateMenu</code> I don't inflate the menu once again. That prevents the menu entries from duplicating.</p>\n<p>See also <a href=\"https://developer.android.com/jetpack/androidx/releases/activity#1.4.0-alpha01\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/activity#1.4.0-alpha01</a> for additional information.</p>\n<p>Hope that helps!</p>\n<p><strong>MainActivity:</strong></p>\n<pre><code>private void setupMenu() {\n    MenuProvider menuProvider = new MenuProvider() {\n        @Override\n        public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\n            menuInflater.inflate(R.menu.menu_main, menu);\n        }\n\n        @Override\n        public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\n            int id = menuItem.getItemId();\n            if (id == R.id.menu_action_about) {\n                /* show about dialog */\n                return true;\n            } else if (id == R.id.menu_action_settings) {\n                /* show settings dialog */\n                return true;\n            } \n            return false;\n        }\n    };\n\n    addMenuProvider(menuProvider);\n}\n</code></pre>\n<p><strong>Fragment 1:</strong></p>\n<pre><code>private void setupMenu() {\n    MenuProvider menuProvider = new MenuProvider() {\n        @Override\n        public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\n            /* do not inflate the menu again */\n        }\n\n        @Override\n        public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\n            int id = menuItem.getItemId();\n            if (id == R.id.menu_action_save) {\n                /* execute specific code,\n                   e.g. save data shown in fragment one */\n                return true;\n            } \n            return false;\n        }\n    };\n\n    requireActivity().addMenuProvider(menuProvider, getViewLifecycleOwner(), Lifecycle.State.RESUMED);\n}\n</code></pre>\n"}],"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76766449,"answer_count":1,"score":0,"last_activity_date":1690348808,"creation_date":1690296311,"question_id":76763866,"body_markdown":"I migrated from normal menus to MenuProvider so I added in MainActivity:\r\n\r\n    private void setMenuProvider() {\r\n    \taddMenuProvider(new MenuProvider() {\r\n    \t\t@Override\r\n    \t\tpublic void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\r\n    \t\t\tmenuInflater.inflate(R.menu.menu_action, menu);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onPrepareMenu(@NonNull Menu menu) {\r\n    \t\t\tMenuItem itemIcon1 = menu.findItem(R.id.menu_icon1);\r\n    \t\t\tDrawable resIcon1 = getResources().getDrawable(R.drawable.icon_32x32_icon1_green);\r\n    \t\t\tif (statusForIcon1 == false)\r\n    \t\t\t\tresIcon1.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\r\n    \t\t\titemIcon1.setEnabled(statusForIcon1);\r\n    \t\t\titemIcon1.setIcon(resIcon1);\r\n    \r\n    \t\t\tMenuItem itemIcon2 = menu.findItem(R.id.menu_icon2);\r\n    \t\t\tDrawable resIcon2 = getResources().getDrawable(R.drawable.icon_32x32_icon2_green);\r\n    \t\t\tif (statusForIcon2 == false)\r\n    \t\t\t\tresIcon2.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\r\n    \t\t\titemIcon2.setEnabled(statusForIcon2);\r\n    \t\t\titemIcon2.setIcon(resIcon2);\r\n    \t\t\t\r\n    \t\t\tMenuItem itemIcon3 = menu.findItem(R.id.menu_icon3);\r\n    \t\t\tDrawable resIcon3 = getResources().getDrawable(R.drawable.icon_32x32_icon3_green);\r\n    \t\t\tif (statusForIcon3 == false)\r\n    \t\t\t\tresIcon3.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\r\n    \t\t\titemIcon3.setEnabled(statusForIcon3);\r\n    \t\t\titemIcon3.setIcon(resIcon3);\r\n    \r\n    \t\t\tMenuProvider.super.onPrepareMenu(menu);\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\nand I have two fragment tabs where I added there too:\r\n\r\n    public void setFragmentOneMenuProvider( LifecycleOwner lcFragmentOne) {\r\n    \tgetActivity().addMenuProvider(new MenuProvider() {\r\n    \t\t@Override\r\n    \t\tpublic void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\r\n    \t\t\tmenuInflater.inflate(R.menu.menu_action, menu);\r\n    \r\n    \t\t\tif (myClassObject == null)\r\n    \t\t\t\tmyClassObject = new ClassObject(getActivity(), getContext(), menu);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}, lcFragmentOne , Lifecycle.State.RESUMED);\r\n    }\r\n\r\nwhere I have also :\r\n\r\n    ublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n    \t\t\t\t\t\t Bundle savedInstanceState) {\r\n    \t// Inflate the layout for this fragment\r\n    \tView viewFragmentOne = inflater.inflate(R.layout.fragment_fragmentone, container, true);\r\n    \t\r\n    \tsetFragmentOneMenuProvider( getViewLifecycleOwner() );\r\n    \t\r\n    \treturn viewFragmentOne;\r\n    }\r\n\r\nbut in this way with both :\r\n\r\n    View viewFragmentOne = inflater.inflate(R.layout.fragment_fragmentone, container, true);\r\n\r\nand \r\n\r\n    menuInflater.inflate(R.menu.menu_action, menu);  // this one inside the MenuProvider code\r\n\r\nI see like double menus ...does that mean if I add `MenuProvider` on MainActivity then in fragments then I shall just use: \r\n\r\n    setHasOptionsMenu(true);\r\n\r\nin the way to inform the system that my app bar fragment is participating in the population of the options menu or maybe I have just to modify the `MenuProvider` in my fragments?\r\nIn fact , if I click on fab button I added next to refresh status of icons where I call:\r\n\r\n    getActivity().invalidateMenu();\r\n\r\nor \r\n\r\n    getActivity().invalidateOptionsMenu();\r\n\r\nsupposing it should refresh the menu inflated by `MenuProvider` , it doesn&#39;t refresh anything....so I tried to comment the fragment&#39;s MenuProvider code keeping the `inflater.inflate` but it didn&#39;t changed at all about refreshing when it should refresh...maybe I missed something?... \r\n\r\nThanks in advance to all !! Cheers!! ","title":"Android Studio - MenuProvider in MainActivity and also in Fragments?","body":"<p>I migrated from normal menus to MenuProvider so I added in MainActivity:</p>\n<pre><code>private void setMenuProvider() {\n    addMenuProvider(new MenuProvider() {\n        @Override\n        public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\n            menuInflater.inflate(R.menu.menu_action, menu);\n        }\n\n        @Override\n        public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\n            return false;\n        }\n\n        @Override\n        public void onPrepareMenu(@NonNull Menu menu) {\n            MenuItem itemIcon1 = menu.findItem(R.id.menu_icon1);\n            Drawable resIcon1 = getResources().getDrawable(R.drawable.icon_32x32_icon1_green);\n            if (statusForIcon1 == false)\n                resIcon1.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\n            itemIcon1.setEnabled(statusForIcon1);\n            itemIcon1.setIcon(resIcon1);\n\n            MenuItem itemIcon2 = menu.findItem(R.id.menu_icon2);\n            Drawable resIcon2 = getResources().getDrawable(R.drawable.icon_32x32_icon2_green);\n            if (statusForIcon2 == false)\n                resIcon2.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\n            itemIcon2.setEnabled(statusForIcon2);\n            itemIcon2.setIcon(resIcon2);\n            \n            MenuItem itemIcon3 = menu.findItem(R.id.menu_icon3);\n            Drawable resIcon3 = getResources().getDrawable(R.drawable.icon_32x32_icon3_green);\n            if (statusForIcon3 == false)\n                resIcon3.mutate().setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\n            itemIcon3.setEnabled(statusForIcon3);\n            itemIcon3.setIcon(resIcon3);\n\n            MenuProvider.super.onPrepareMenu(menu);\n        }\n    });\n}\n</code></pre>\n<p>and I have two fragment tabs where I added there too:</p>\n<pre><code>public void setFragmentOneMenuProvider( LifecycleOwner lcFragmentOne) {\n    getActivity().addMenuProvider(new MenuProvider() {\n        @Override\n        public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\n            menuInflater.inflate(R.menu.menu_action, menu);\n\n            if (myClassObject == null)\n                myClassObject = new ClassObject(getActivity(), getContext(), menu);\n        }\n\n        @Override\n        public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\n            return false;\n        }\n    }, lcFragmentOne , Lifecycle.State.RESUMED);\n}\n</code></pre>\n<p>where I have also :</p>\n<pre><code>ublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View viewFragmentOne = inflater.inflate(R.layout.fragment_fragmentone, container, true);\n    \n    setFragmentOneMenuProvider( getViewLifecycleOwner() );\n    \n    return viewFragmentOne;\n}\n</code></pre>\n<p>but in this way with both :</p>\n<pre><code>View viewFragmentOne = inflater.inflate(R.layout.fragment_fragmentone, container, true);\n</code></pre>\n<p>and</p>\n<pre><code>menuInflater.inflate(R.menu.menu_action, menu);  // this one inside the MenuProvider code\n</code></pre>\n<p>I see like double menus ...does that mean if I add <code>MenuProvider</code> on MainActivity then in fragments then I shall just use:</p>\n<pre><code>setHasOptionsMenu(true);\n</code></pre>\n<p>in the way to inform the system that my app bar fragment is participating in the population of the options menu or maybe I have just to modify the <code>MenuProvider</code> in my fragments?\nIn fact , if I click on fab button I added next to refresh status of icons where I call:</p>\n<pre><code>getActivity().invalidateMenu();\n</code></pre>\n<p>or</p>\n<pre><code>getActivity().invalidateOptionsMenu();\n</code></pre>\n<p>supposing it should refresh the menu inflated by <code>MenuProvider</code> , it doesn't refresh anything....so I tried to comment the fragment's MenuProvider code keeping the <code>inflater.inflate</code> but it didn't changed at all about refreshing when it should refresh...maybe I missed something?...</p>\n<p>Thanks in advance to all !! Cheers!!</p>\n"},{"tags":["java","android","android-download-manager"],"answers":[{"comments":[{"owner":{"account_id":12340467,"reputation":426,"user_id":9003851,"accept_rate":75,"display_name":"moumenShobakey"},"score":0,"creation_date":1686168968,"post_id":46387639,"comment_id":134763991,"body_markdown":"Do you have any idea why i can&#39;t read this directory, when i use canRead it tells me no while i have granted ReadPermission","body":"Do you have any idea why i can&#39;t read this directory, when i use canRead it tells me no while i have granted ReadPermission"}],"tags":[],"owner":{"account_id":1412386,"reputation":1060,"user_id":1338728,"display_name":"Moien.Dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1506237887,"creation_date":1506237887,"answer_id":46387639,"question_id":46387441,"body_markdown":"simply use \r\n\r\n    request.setDestinationInExternalPublicDir(&quot;/Path&quot;, &quot;test.mp4&quot;);","title":"Set Destination Path for DownloadManager","body":"<p>simply use </p>\n\n<pre><code>request.setDestinationInExternalPublicDir(\"/Path\", \"test.mp4\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1690287115,"post_id":76754288,"comment_id":135329453,"body_markdown":"Answer needs supporting information\nYour answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Answer needs supporting information Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76754288/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19447718,"reputation":111,"user_id":14224828,"display_name":"Rakibul Islam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690348682,"creation_date":1690200001,"answer_id":76754288,"question_id":46387441,"body_markdown":"This is how I solve my problem \r\n\r\n&lt;pre&gt;request.setDestinationInExternalFilesDir(context, &quot;/path/&quot;, &quot;MyFile.txt&quot;);&lt;/pre&gt;","title":"Set Destination Path for DownloadManager","body":"<p>This is how I solve my problem</p>\n<pre>request.setDestinationInExternalFilesDir(context, \"/path/\", \"MyFile.txt\");</pre>\n"}],"owner":{"account_id":9834469,"reputation":1711,"user_id":7285283,"accept_rate":56,"display_name":"Panache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46387639,"answer_count":2,"score":1,"last_activity_date":1690348682,"creation_date":1506236246,"question_id":46387441,"body_markdown":"I m using below code, but do not know where files are being downloaded. None of file stored at given path. What correction is required in code. Code is creating folder in beginning.\r\n\r\n      String path = Environment.getExternalStorageDirectory().getPath() + &quot;/Myapp/Videos&quot;;\r\n            System.out.println(path);\r\n            File folder = new File(path);\r\n            if (folder.canExecute()) {\r\n                System.out.println(&quot;Video  Folder Found&quot;);\r\n    \r\n            } else {\r\n                folder.mkdirs();\r\n            }\r\n    \r\n            DownloadManager.Request request = new DownloadManager.Request(uri);\r\n            request.setDescription(&quot;Selected Video is being downloaded&quot;);\r\n            request.allowScanningByMediaScanner();\r\n            request.setTitle(&quot;Downloading Video&quot;);\r\n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n            request.setDestinationInExternalFilesDir(mContext, null, title + &quot;.mp4&quot;);\r\n            DownloadManager manager = (DownloadManager) mContext.getSystemService(Context.DOWNLOAD_SERVICE);\r\n            manager.enqueue(request);\r\n    \r\n            return null;","title":"Set Destination Path for DownloadManager","body":"<p>I m using below code, but do not know where files are being downloaded. None of file stored at given path. What correction is required in code. Code is creating folder in beginning.</p>\n\n<pre><code>  String path = Environment.getExternalStorageDirectory().getPath() + \"/Myapp/Videos\";\n        System.out.println(path);\n        File folder = new File(path);\n        if (folder.canExecute()) {\n            System.out.println(\"Video  Folder Found\");\n\n        } else {\n            folder.mkdirs();\n        }\n\n        DownloadManager.Request request = new DownloadManager.Request(uri);\n        request.setDescription(\"Selected Video is being downloaded\");\n        request.allowScanningByMediaScanner();\n        request.setTitle(\"Downloading Video\");\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n        request.setDestinationInExternalFilesDir(mContext, null, title + \".mp4\");\n        DownloadManager manager = (DownloadManager) mContext.getSystemService(Context.DOWNLOAD_SERVICE);\n        manager.enqueue(request);\n\n        return null;\n</code></pre>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1690342579,"post_id":76767769,"comment_id":135338522,"body_markdown":"It&#39;s unclear which `@Query` annotation you are using, but the problem is surely that neither `&quot;?1&quot;` nor `&quot;$1&quot;` is a valid query in PSQL or any other relevant query language I know.  It&#39;s as if the entire body of this present question were just &quot;42&quot;.  What would that mean?  How could we respond, other than with some variation on &quot;that doesn&#39;t make sense&quot;?","body":"It&#39;s unclear which <code>@Query</code> annotation you are using, but the problem is surely that neither <code>&quot;?1&quot;</code> nor <code>&quot;$1&quot;</code> is a valid query in PSQL or any other relevant query language I know.  It&#39;s as if the entire body of this present question were just &quot;42&quot;.  What would that mean?  How could we respond, other than with some variation on &quot;that doesn&#39;t make sense&quot;?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690344970,"post_id":76767769,"comment_id":135338693,"body_markdown":"@John It&#39;s JPA.","body":"@John It&#39;s JPA."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690345061,"post_id":76767769,"comment_id":135338703,"body_markdown":"Try something like `@Query(&quot;select t from my_table t where t.some_column = ?1&quot;)`","body":"Try something like <code>@Query(&quot;select t from my_table t where t.some_column = ?1&quot;)</code>"},{"owner":{"account_id":27952306,"reputation":3,"user_id":21345844,"display_name":"Caroline"},"score":0,"creation_date":1690345628,"post_id":76767769,"comment_id":135338753,"body_markdown":"@Bohemian I am able to get that to work, but the reason I am trying to just use&quot;?1&quot; as the query is because depending on the request, there could be a different number of columns to filter by. So the query could look like  `@Query(&quot;select t from my_table t where t.some_column = ?1&quot;)` or `@Query(&quot;select t from my_table t where t.some_column = ?1 and t.some_column = ?2&quot;)`. So I am building the entire query out in a function and passing it into `@Query`","body":"@Bohemian I am able to get that to work, but the reason I am trying to just use&quot;?1&quot; as the query is because depending on the request, there could be a different number of columns to filter by. So the query could look like  <code>@Query(&quot;select t from my_table t where t.some_column = ?1&quot;)</code> or <code>@Query(&quot;select t from my_table t where t.some_column = ?1 and t.some_column = ?2&quot;)</code>. So I am building the entire query out in a function and passing it into <code>@Query</code>"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690345961,"post_id":76767769,"comment_id":135338784,"body_markdown":"@Bohemian, JPA has an ordinary interface named `Query`, but no `@Query` annotation.  If I had to guess, I would go with Spring, but I should not have to guess.","body":"@Bohemian, JPA has an ordinary interface named <code>Query</code>, but no <code>@Query</code> annotation.  If I had to guess, I would go with Spring, but I should not have to guess."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690346647,"post_id":76767769,"comment_id":135338840,"body_markdown":"@Caroline It doesn&#39;t work like that. If you want to build the whole query, down shift to using a `PreparedStatement`, or if the options are not too varied, create several Queries and decide which one to call within a public wrapper method.","body":"@Caroline It doesn&#39;t work like that. If you want to build the whole query, down shift to using a <code>PreparedStatement</code>, or if the options are not too varied, create several Queries and decide which one to call within a public wrapper method."}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690348428,"creation_date":1690348428,"answer_id":76768195,"question_id":76767769,"body_markdown":"The only thing you can pass as a query parameter is a constant value like `42`, `&#39;string&#39;` or `&#39;2023-07-26&#39;`. You cannot pass table or column names or bigger parts of an SQL statement like a `WHERE` clause or the complete statement.\r\n\r\nYou can construct the query string (avoid SQL injection!), then create a `java.sql.Statement`.","title":"Java: PSQL Exception: syntax error at or near &quot;$1&quot;","body":"<p>The only thing you can pass as a query parameter is a constant value like <code>42</code>, <code>'string'</code> or <code>'2023-07-26'</code>. You cannot pass table or column names or bigger parts of an SQL statement like a <code>WHERE</code> clause or the complete statement.</p>\n<p>You can construct the query string (avoid SQL injection!), then create a <code>java.sql.Statement</code>.</p>\n"}],"owner":{"account_id":27952306,"reputation":3,"user_id":21345844,"display_name":"Caroline"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76768195,"answer_count":1,"score":0,"last_activity_date":1690348428,"creation_date":1690340732,"question_id":76767769,"body_markdown":"I am building a query string &quot;filters&quot; and then calling it using the @Query annotation.\r\n\r\nI am getting a `PSQLException: syntax error at or near &quot;$1&quot;` when trying to execute the query\r\n\r\nMy current code is:\r\n\r\n```\r\nString QUERY = &quot;?1&quot;;\r\n@Query(value=QUERY, nativeQuery = true)\r\nList&lt;CustomData&gt; findAllByFilters(String filter);\r\n```\r\n\r\nI&#39;ve tried switching &quot;?1&quot; to &quot;$1&quot;, and I&#39;ve tried without quotations.","title":"Java: PSQL Exception: syntax error at or near &quot;$1&quot;","body":"<p>I am building a query string &quot;filters&quot; and then calling it using the @Query annotation.</p>\n<p>I am getting a <code>PSQLException: syntax error at or near &quot;$1&quot;</code> when trying to execute the query</p>\n<p>My current code is:</p>\n<pre><code>String QUERY = &quot;?1&quot;;\n@Query(value=QUERY, nativeQuery = true)\nList&lt;CustomData&gt; findAllByFilters(String filter);\n</code></pre>\n<p>I've tried switching &quot;?1&quot; to &quot;$1&quot;, and I've tried without quotations.</p>\n"},{"tags":["java","redis","jedis","redisclient"],"owner":{"account_id":8581069,"reputation":233,"user_id":6428642,"display_name":"Dattatray Satpute"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690348082,"creation_date":1690278594,"question_id":76761478,"body_markdown":"I am using ConnectionPoolConfig + UnifiedJedis + Transaction. I am new for the redis using redis.clients 4.4.0-rc1, i have two questions\r\n\r\n1 - can i use ConnectionPoolConfig in this way?\r\n\r\n2 - Whats is the use of poolConfig.setMaxTotal()? in the code i have set poolConfig.setMaxTotal(250) but when i had increased load(set i &lt; 500 in run method for loop) then i seen it uses 500+ clients (seen in RedisInsight UI)\r\n\r\n    import java.time.Duration;\r\n    import java.util.Date;\r\n    \r\n    import redis.clients.jedis.ConnectionPoolConfig;\r\n    import redis.clients.jedis.JedisPooled;\r\n    import redis.clients.jedis.Transaction;\r\n    import redis.clients.jedis.UnifiedJedis;\r\n    \r\n    class MultithreadingDemo extends Thread {\r\n    \tprivate static final ConnectionPoolConfig connectionPoolConfig=buildConfigPool();\r\n    \tprivate static final UnifiedJedis jedis = new JedisPooled(connectionPoolConfig, &quot;localhost&quot;, 6379);\r\n    \t\r\n    \t private static ConnectionPoolConfig  buildConfigPool()\r\n    \t {\r\n    \t\t final ConnectionPoolConfig  poolConfig ;\r\n    \t\t       poolConfig = new ConnectionPoolConfig();\r\n    \t\t      \r\n    \t\t      poolConfig.setMaxTotal(250);\r\n    \t\t      poolConfig.setMaxIdle(50);\r\n    \t\t      poolConfig.setMinIdle(50);\r\n    \t\t      poolConfig.setTestOnBorrow(true);\r\n    \t\t      poolConfig.setTestOnReturn(true);\r\n    \t\t      poolConfig.setTestWhileIdle(true);\r\n    \t\t      poolConfig.setMinEvictableIdleTime(Duration.ofSeconds(60)); \r\n    \t\t      poolConfig.setTimeBetweenEvictionRuns(Duration.ofSeconds(30));\r\n    \t\t      poolConfig.setNumTestsPerEvictionRun(3);\r\n    \t\t      poolConfig.setBlockWhenExhausted(true);\t\t     \r\n    \t\t      return poolConfig;\r\n    \t }\r\n    \t\t\r\n    \t\tpublic void run() {\r\n    \t\t\tSystem.out.println(&quot; Start - &quot; + Thread.currentThread().getId() + &quot; - &quot; + new Date());\t\t\t\r\n    \t\t\t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\t\t\tTransaction tr = jedis.multi();\r\n    \t\t\t\t\ttr.jsonSetLegacy(System.currentTimeMillis() + &quot; - &quot; + Thread.currentThread().getId() + &quot;ABC&quot;,&quot;Value&quot;);\r\n    \t\t\t\t\ttr.exec();\r\n    \t\t\t\t}\r\n    \t\t\tSystem.out.println(&quot; End - &quot; + Thread.currentThread().getId() + &quot; - &quot; + new Date());\r\n    \r\n    \t\t}\r\n    \t\t \r\n    }\r\n     \r\n    // Main Class\r\n    public class Multithread {\r\n    \t\r\n        public static void main(String[] args)\r\n        {\r\n            int n = 5; // Number of threads\r\n            for (int i = 0; i &lt; n; i++) {\r\n            \tMultithreadingDemo  object\r\n                    = new MultithreadingDemo();\r\n                object.start();\r\n            }\r\n        }\r\n    }","title":"How to use ConnectionPoolConfig + UnifiedJedis + Transaction","body":"<p>I am using ConnectionPoolConfig + UnifiedJedis + Transaction. I am new for the redis using redis.clients 4.4.0-rc1, i have two questions</p>\n<p>1 - can i use ConnectionPoolConfig in this way?</p>\n<p>2 - Whats is the use of poolConfig.setMaxTotal()? in the code i have set poolConfig.setMaxTotal(250) but when i had increased load(set i &lt; 500 in run method for loop) then i seen it uses 500+ clients (seen in RedisInsight UI)</p>\n<pre><code>import java.time.Duration;\nimport java.util.Date;\n\nimport redis.clients.jedis.ConnectionPoolConfig;\nimport redis.clients.jedis.JedisPooled;\nimport redis.clients.jedis.Transaction;\nimport redis.clients.jedis.UnifiedJedis;\n\nclass MultithreadingDemo extends Thread {\n    private static final ConnectionPoolConfig connectionPoolConfig=buildConfigPool();\n    private static final UnifiedJedis jedis = new JedisPooled(connectionPoolConfig, &quot;localhost&quot;, 6379);\n    \n     private static ConnectionPoolConfig  buildConfigPool()\n     {\n         final ConnectionPoolConfig  poolConfig ;\n               poolConfig = new ConnectionPoolConfig();\n              \n              poolConfig.setMaxTotal(250);\n              poolConfig.setMaxIdle(50);\n              poolConfig.setMinIdle(50);\n              poolConfig.setTestOnBorrow(true);\n              poolConfig.setTestOnReturn(true);\n              poolConfig.setTestWhileIdle(true);\n              poolConfig.setMinEvictableIdleTime(Duration.ofSeconds(60)); \n              poolConfig.setTimeBetweenEvictionRuns(Duration.ofSeconds(30));\n              poolConfig.setNumTestsPerEvictionRun(3);\n              poolConfig.setBlockWhenExhausted(true);            \n              return poolConfig;\n     }\n        \n        public void run() {\n            System.out.println(&quot; Start - &quot; + Thread.currentThread().getId() + &quot; - &quot; + new Date());          \n                for (int i = 0; i &lt; 10; i++) {\n                    Transaction tr = jedis.multi();\n                    tr.jsonSetLegacy(System.currentTimeMillis() + &quot; - &quot; + Thread.currentThread().getId() + &quot;ABC&quot;,&quot;Value&quot;);\n                    tr.exec();\n                }\n            System.out.println(&quot; End - &quot; + Thread.currentThread().getId() + &quot; - &quot; + new Date());\n\n        }\n         \n}\n \n// Main Class\npublic class Multithread {\n    \n    public static void main(String[] args)\n    {\n        int n = 5; // Number of threads\n        for (int i = 0; i &lt; n; i++) {\n            MultithreadingDemo  object\n                = new MultithreadingDemo();\n            object.start();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","togglz"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690353625,"post_id":76768153,"comment_id":135339741,"body_markdown":"Spring Boot 3.x is for JakartaEE, the togglz version you are using is for Javaee and thus not compatible. Either wait for a compatible version of find another library that does feature toggles. Please add your dependencies as looking at the 4.0 documentation that should be compatible","body":"Spring Boot 3.x is for JakartaEE, the togglz version you are using is for Javaee and thus not compatible. Either wait for a compatible version of find another library that does feature toggles. Please add your dependencies as looking at the 4.0 documentation that should be compatible"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690365987,"post_id":76768153,"comment_id":135342298,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":4267570,"reputation":1,"user_id":3490316,"display_name":"maruti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690347725,"creation_date":1690347725,"question_id":76768153,"body_markdown":"java.lang.ClassCastException: class org.togglz.servlet.TogglzFilter cannot be cast to class javax.servlet.Filter (org.togglz.servlet.TogglzFilter is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @3feb2e2b; javax.servlet.Filter is in unnamed module of loader java.net.URLClassLoader @42eca56e)\r\n\r\nSpringBoot version - 3.1.2\r\nTogglz version - 4.0.0\r\n\r\ntried below versions\r\nSpringBoot version - 3.1.2\r\nTogglz version - 4.0.0-M4","title":"Togglz not getting started with SpringBoot 3.x","body":"<p>java.lang.ClassCastException: class org.togglz.servlet.TogglzFilter cannot be cast to class javax.servlet.Filter (org.togglz.servlet.TogglzFilter is in unnamed module of loader org.apache.catalina.loader.ParallelWebappClassLoader @3feb2e2b; javax.servlet.Filter is in unnamed module of loader java.net.URLClassLoader @42eca56e)</p>\n<p>SpringBoot version - 3.1.2\nTogglz version - 4.0.0</p>\n<p>tried below versions\nSpringBoot version - 3.1.2\nTogglz version - 4.0.0-M4</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","google-cloud-pubsub"],"comments":[{"owner":{"account_id":27897431,"reputation":372,"user_id":21302428,"display_name":"Arpita Shrivastava"},"score":0,"creation_date":1690459271,"post_id":76768129,"comment_id":135358528,"body_markdown":"Can you share more details on your issue and share your code ?","body":"Can you share more details on your issue and share your code ?"}],"owner":{"account_id":7827128,"reputation":88,"user_id":5918319,"display_name":"Garvit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690347279,"creation_date":1690347279,"question_id":76768129,"body_markdown":"I am using Java dataflow.\r\nI am trying to read data from one pubsub and converting it into PCollectionView of Map&lt;String, String&gt;, So that i can use it in another pubsub&#39;s input as a sideInput.\r\n\r\nThe combiner is not producing any output.\r\n\r\nIs it correct approach ?\r\n\r\nUsed Window in lookup pubsub and then combined it globally to form a Map&lt;String, String&gt;and finally converted it to singletonView()","title":"Use output of one pubsub as a lookup in another pub sub input in dataflow","body":"<p>I am using Java dataflow.\nI am trying to read data from one pubsub and converting it into PCollectionView of Map&lt;String, String&gt;, So that i can use it in another pubsub's input as a sideInput.</p>\n<p>The combiner is not producing any output.</p>\n<p>Is it correct approach ?</p>\n<p>Used Window in lookup pubsub and then combined it globally to form a Map&lt;String, String&gt;and finally converted it to singletonView()</p>\n"},{"tags":["java","spring","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1690386961,"post_id":76765917,"comment_id":135347208,"body_markdown":"Look at k8s startupProbe, readinessProbe and livenessProbe and Spring Actuators. Here you can check the resource (your servlet) and also the database connection. These should be standard checks before registering your container with the service.","body":"Look at k8s startupProbe, readinessProbe and livenessProbe and Spring Actuators. Here you can check the resource (your servlet) and also the database connection. These should be standard checks before registering your container with the service."},{"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"score":0,"creation_date":1690394234,"post_id":76765917,"comment_id":135348912,"body_markdown":"Thank you, that&#39;s a good suggestion!#","body":"Thank you, that&#39;s a good suggestion!#"}],"answers":[{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690325128,"creation_date":1690325128,"answer_id":76766957,"question_id":76765917,"body_markdown":"If you need to achieve small memory footprint and super fast startup times - I would recommend you to take a loot at [GraalVM Spring project][1].\r\n\r\nYour program will use AOT compilation, which means that your compilation\\build time will be increased, but your startup time will be decreased drastically. \r\nSmall screenshot from comparison of 2 different aproaches\r\n[![enter image description here][2]][2]\r\n\r\n\r\n----------\r\nBut also you have to understand that removing JIT will remove code warmups that is done periodically. \r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html\r\n  [2]: https://i.stack.imgur.com/Rx201.png","title":"Spring Boot Kubernetes startup speed","body":"<p>If you need to achieve small memory footprint and super fast startup times - I would recommend you to take a loot at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html\" rel=\"nofollow noreferrer\">GraalVM Spring project</a>.</p>\n<p>Your program will use AOT compilation, which means that your compilation\\build time will be increased, but your startup time will be decreased drastically.\nSmall screenshot from comparison of 2 different aproaches\n<a href=\"https://i.stack.imgur.com/Rx201.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rx201.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>But also you have to understand that removing JIT will remove code warmups that is done periodically.</p>\n"},{"comments":[{"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"score":0,"creation_date":1690390544,"post_id":76768077,"comment_id":135348064,"body_markdown":"This was a big help thank you","body":"This was a big help thank you"}],"tags":[],"owner":{"account_id":1137891,"reputation":345,"user_id":1122559,"accept_rate":47,"display_name":"Mandar K"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690346462,"creation_date":1690346462,"answer_id":76768077,"question_id":76765917,"body_markdown":"Refer to, [Spring Boot Common Properties] https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.web]\r\n\r\nspring.mvc.servlet.load-on-startup = 1\r\n\r\n","title":"Spring Boot Kubernetes startup speed","body":"<p>Refer to, [Spring Boot Common Properties] <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.web%5D\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.web]</a></p>\n<p>spring.mvc.servlet.load-on-startup = 1</p>\n"}],"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690346462,"creation_date":1690312972,"question_id":76765917,"body_markdown":"Looking for recommendations on improving Spring Boot startup speeds on Kubernetes. We&#39;re running a REST API built on Spring Boot on a relatively low amount of resources (obviously I&#39;m aware I can throw more compute at the problem, but I want to optimise other aspects first). \r\n\r\nOne of the major sticking points is the fact that dispatcherServlet only initialises after the first HTTP request is received. Can this be started up before this.\r\n\r\nAdditionally, how can I eagerly establish the connection to our JPA Datasource (in this circumstance, a MySQL server)\r\n\r\nLastly, we use JobRunr as a background job processor. Can this be abstracted to a different container within the pod, or a different pod altogether?\r\n\r\nThis is our Dockerfile:\r\n```\r\nFROM alpine\r\nRUN apk update\r\nRUN apk upgrade --available\r\nRUN apk --no-cache add openjdk17-jre-headless\r\nRUN mkdir /opt/app\r\nCOPY target/app.jar /opt/app\r\nCMD [&quot;java&quot;, &quot;-Xmx400m&quot;, &quot;-jar&quot;, &quot;/opt/app/app.jar&quot;]\r\n```\r\n\r\nTips/Tricks/Suggestions welcomed.","title":"Spring Boot Kubernetes startup speed","body":"<p>Looking for recommendations on improving Spring Boot startup speeds on Kubernetes. We're running a REST API built on Spring Boot on a relatively low amount of resources (obviously I'm aware I can throw more compute at the problem, but I want to optimise other aspects first).</p>\n<p>One of the major sticking points is the fact that dispatcherServlet only initialises after the first HTTP request is received. Can this be started up before this.</p>\n<p>Additionally, how can I eagerly establish the connection to our JPA Datasource (in this circumstance, a MySQL server)</p>\n<p>Lastly, we use JobRunr as a background job processor. Can this be abstracted to a different container within the pod, or a different pod altogether?</p>\n<p>This is our Dockerfile:</p>\n<pre><code>FROM alpine\nRUN apk update\nRUN apk upgrade --available\nRUN apk --no-cache add openjdk17-jre-headless\nRUN mkdir /opt/app\nCOPY target/app.jar /opt/app\nCMD [&quot;java&quot;, &quot;-Xmx400m&quot;, &quot;-jar&quot;, &quot;/opt/app/app.jar&quot;]\n</code></pre>\n<p>Tips/Tricks/Suggestions welcomed.</p>\n"},{"tags":["java","spring","spring-boot","sockets","interactive-brokers"],"comments":[{"owner":{"account_id":13548231,"reputation":631,"user_id":9773847,"display_name":"Nyamkhuu Buyanjargal"},"score":0,"creation_date":1690346358,"post_id":76768067,"comment_id":135338807,"body_markdown":"I already config my trader workstation. that is working fine","body":"I already config my trader workstation. that is working fine"}],"owner":{"account_id":13548231,"reputation":631,"user_id":9773847,"display_name":"Nyamkhuu Buyanjargal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690346202,"creation_date":1690346202,"question_id":76768067,"body_markdown":"I am little confused about the Spring boot application runtime lifecycle. The thing is I have a plain java project that is just running fine connect into Interactive Brokers Socket server (TWS workstation). But I want to migrate into a new Spring boot application. Because I think this is more safe and easy to maintenance. Because every time, I upgrade Jar libraries in plain java project that is so much work to do to me. Otherwise, Spring boot application is so much easy to upgrade dependencies and eager to add new features.\r\n\r\nSo here is example code in plain java project. Of course I already added TWS.jar (Interactive brokers SDK):\r\n\r\n            ...\r\n            EWrapperImpl wrapper = new EWrapperImpl();\r\n    \r\n            final EClientSocket m_client = wrapper.getClient();\r\n            final EReaderSignal m_signal = wrapper.getSignal();\r\n            //! [connect]\r\n            System.out.println(&quot;working....&quot;);\r\n            m_client.eConnect(&quot;127.0.0.1&quot;, 7497, 2);\r\n            System.out.println(&quot;client connected!&quot;);\r\n            //! [connect]\r\n            //! [ereader]\r\n            final EReader reader = new EReader(m_client, m_signal);\r\n    \r\n            reader.start();\r\n            //An additional thread is created in this program design to empty the messaging queue\r\n            new Thread(() -&gt; {\r\n                while (m_client.isConnected()) {\r\n                    m_signal.waitForSignal();\r\n                    try {\r\n                        reader.processMsgs();\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;Exception: &quot;+e.getMessage());\r\n                    }\r\n                }\r\n            }).start();\r\n            ...\r\n\r\nThis code working absolutely fine. It can create active a client connection to TWS\r\n\r\nBut in the Spring boot project I created this Component class:\r\n\r\n    @Log4j2\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class Tester {\r\n    \r\n        private final IBCache cache;\r\n    \r\n        @PostConstruct\r\n        void initialize() {\r\n            Contract contract = new Contract();\r\n            contract.secType(&quot;NEWS&quot;);\r\n            contract.exchange(&quot;BRF&quot;);\r\n    \r\n            EJavaSignal signal = new EJavaSignal();\r\n            IBReceiver receiver = new IBReceiver();\r\n            log.info(&quot;Receiver initialized&quot;);\r\n    \r\n            EClientSocket socket = new EClientSocket(receiver, signal);\r\n    \r\n            log.info(&quot;TWS info: {}, {}, {}&quot;, this.cache.getHostname(), this.cache.getPort(), this.cache.getClientId());\r\n            socket.eConnect(cache.getHostname(), cache.getPort(), cache.getClientId());\r\n            log.info(&quot;Socket connecting...&quot;);\r\n            EReader reader = new EReader(socket, signal);\r\n            reader.start();\r\n    //        Reader worker = new Reader(reader);\r\n    //        Reader worker = new Reader(reader);\r\n    //        worker.run();\r\n            socket.reqContractDetails(Integer.parseInt(String.valueOf(Math.random() + 1)), contract);\r\n        }\r\n    }\r\n\r\nIn this class, IBCache provide connection info:\r\n\r\n 1. Hostname -&gt; 127.0.0.1\r\n 2. Port -&gt; 7497\r\n 3. clientId -&gt; 2\r\n\r\nBut when I run spring boot application, that application throw exception all the time. Message:\r\n\r\n&gt; ErrorCode: 502\r\n&gt;\r\n&gt; ErrorMessage: Couldn&#39;t connect to TWS. Confirm that\r\n&gt; &quot;Enable ActiveX and Socket Clients&quot; is enabled and connection port is\r\n&gt; the same as &quot;Socket Port&quot; on the TWS &quot;Edit-&gt;Global\r\n&gt; Configuration...-&gt;API-&gt;Settings&quot; menu. Live Trading ports: TWS: 7496;\r\n&gt; IB Gateway: 4001. Simulated Trading ports for new installations of\r\n&gt; version 954.1 or newer: TWS: 7497; IB Gateway: 4002\r\n\r\nWhat should I do?","title":"Plain java project vs Spring boot project (Interactive brokers integration)","body":"<p>I am little confused about the Spring boot application runtime lifecycle. The thing is I have a plain java project that is just running fine connect into Interactive Brokers Socket server (TWS workstation). But I want to migrate into a new Spring boot application. Because I think this is more safe and easy to maintenance. Because every time, I upgrade Jar libraries in plain java project that is so much work to do to me. Otherwise, Spring boot application is so much easy to upgrade dependencies and eager to add new features.</p>\n<p>So here is example code in plain java project. Of course I already added TWS.jar (Interactive brokers SDK):</p>\n<pre><code>        ...\n        EWrapperImpl wrapper = new EWrapperImpl();\n\n        final EClientSocket m_client = wrapper.getClient();\n        final EReaderSignal m_signal = wrapper.getSignal();\n        //! [connect]\n        System.out.println(&quot;working....&quot;);\n        m_client.eConnect(&quot;127.0.0.1&quot;, 7497, 2);\n        System.out.println(&quot;client connected!&quot;);\n        //! [connect]\n        //! [ereader]\n        final EReader reader = new EReader(m_client, m_signal);\n\n        reader.start();\n        //An additional thread is created in this program design to empty the messaging queue\n        new Thread(() -&gt; {\n            while (m_client.isConnected()) {\n                m_signal.waitForSignal();\n                try {\n                    reader.processMsgs();\n                } catch (Exception e) {\n                    System.out.println(&quot;Exception: &quot;+e.getMessage());\n                }\n            }\n        }).start();\n        ...\n</code></pre>\n<p>This code working absolutely fine. It can create active a client connection to TWS</p>\n<p>But in the Spring boot project I created this Component class:</p>\n<pre><code>@Log4j2\n@Component\n@RequiredArgsConstructor\npublic class Tester {\n\n    private final IBCache cache;\n\n    @PostConstruct\n    void initialize() {\n        Contract contract = new Contract();\n        contract.secType(&quot;NEWS&quot;);\n        contract.exchange(&quot;BRF&quot;);\n\n        EJavaSignal signal = new EJavaSignal();\n        IBReceiver receiver = new IBReceiver();\n        log.info(&quot;Receiver initialized&quot;);\n\n        EClientSocket socket = new EClientSocket(receiver, signal);\n\n        log.info(&quot;TWS info: {}, {}, {}&quot;, this.cache.getHostname(), this.cache.getPort(), this.cache.getClientId());\n        socket.eConnect(cache.getHostname(), cache.getPort(), cache.getClientId());\n        log.info(&quot;Socket connecting...&quot;);\n        EReader reader = new EReader(socket, signal);\n        reader.start();\n//        Reader worker = new Reader(reader);\n//        Reader worker = new Reader(reader);\n//        worker.run();\n        socket.reqContractDetails(Integer.parseInt(String.valueOf(Math.random() + 1)), contract);\n    }\n}\n</code></pre>\n<p>In this class, IBCache provide connection info:</p>\n<ol>\n<li>Hostname -&gt; 127.0.0.1</li>\n<li>Port -&gt; 7497</li>\n<li>clientId -&gt; 2</li>\n</ol>\n<p>But when I run spring boot application, that application throw exception all the time. Message:</p>\n<blockquote>\n<p>ErrorCode: 502</p>\n<p>ErrorMessage: Couldn't connect to TWS. Confirm that\n&quot;Enable ActiveX and Socket Clients&quot; is enabled and connection port is\nthe same as &quot;Socket Port&quot; on the TWS &quot;Edit-&gt;Global\nConfiguration...-&gt;API-&gt;Settings&quot; menu. Live Trading ports: TWS: 7496;\nIB Gateway: 4001. Simulated Trading ports for new installations of\nversion 954.1 or newer: TWS: 7497; IB Gateway: 4002</p>\n</blockquote>\n<p>What should I do?</p>\n"},{"tags":["java","ldap","websphere"],"owner":{"account_id":25189247,"reputation":25,"user_id":19029638,"display_name":"Qwerty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690345575,"creation_date":1690344181,"question_id":76767961,"body_markdown":"We have a Java web API deployed in IBM WebSphere Application Server. We also have a Poller Job that runs at 10-minute intervals. The job&#39;s purpose is to check entries in LDAP that have UnassignedUsers and remove those entries. &lt;br&gt;\r\nBelow is the code for the Poller Job:\r\n```\r\npublic void updateUser(final String username) {\r\n\tDistinguishedName distinguishedName = new DistinguishedName();\r\n\tdistinguishedName.add(&quot;-ou&quot;, &quot;-Roles&quot;);\r\n\tdistinguishedName.add(&quot;-cn&quot;, &quot;-UnassignedUsers&quot;);\r\n\r\n\tModificationItem[] modificationItems = new ModificationItem[1];\r\n\tmodificationItems[0] = new ModificationItem(DirContext.REMOVE_ATTRIBUTE,new BasicAttribute(&quot;member&quot;, &quot;cn=&quot;+ userName+&quot;,ou=ExternalUsers,OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=FD,DC=FG&quot;));\r\n\r\n\ttry {\r\n\t\tldapTemplate.modifyAttributes(distinguishedName, modificationItems);\r\n\t} catch(Exception e) {\r\n\t\t//...\r\n\t}\r\n}\r\n```\r\n\r\nFollowing is the LDAP configuration on server\r\n```\r\njava.naming.factory.initial = com.sun.jndi.ldap.LdapCtxFactory\r\njava.naming.security.principal = CN=SD-FINAL-ADSvc,OU=DOR,OU=ServiceAccounts,OU=AA,DC=FINALDEV,DC=dev,DC=FD,DC=FG\r\njava.naming.ldap.version = 3\r\njava.naming.ldap.derefAliases = never\r\njava.naming.provider.url = ldaps://finaldev.dev.fd.fg:636/ou=FINAL-DEV,ou=People,dc=FINALDEV,dc=dev,dc=fd,dc=fg\r\njava.naming.factory.url.pkgs = com.ibm.ws.naming:com.ibm.osgi.jndi.fep:com.ibm.ws.runtime:com.ibm.wps.jndi:com.ibm.ws.naming\r\njava.naming.factory.object = org.springframework.ldap.core.support.DefaultDirObjectFactory\r\ncom.sun.jndi.ldap.connect.pool = true\r\norg.springframework.ldap.base.path = ou=FINAL-DEV, ou=People, dc=FINALDEV, dc=dev, dc=fd, dc=fg\r\n```\r\n\r\nThe code ```ldapTemplate.modifyAttributes(distinguishedName, modificationItems);``` giving following error\r\n\r\n```\r\nLDAP: error code 32 - 0000208D: NameErr: DSID-0310028D, problem 2001 (NO_OBJECT), data 0, best match of:\t&#39;OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=fd,DC=fg&#39; ]; \r\nnested exception is javax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-0310028D, problem 2001 (NO_OBJECT), data 0, \r\nbest match of:\t&#39;OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=fd,DC=fg&#39; ]; remaining name &#39;cn=UnassignedUsers, ou=Roles&#39;\r\n```\r\n\r\nI tried searching online, but did not find any solution. Any pointers to the problem or possible problems are really appreciated.","title":"LDAP Modification Error in Java Web API Poller Job","body":"<p>We have a Java web API deployed in IBM WebSphere Application Server. We also have a Poller Job that runs at 10-minute intervals. The job's purpose is to check entries in LDAP that have UnassignedUsers and remove those entries. <br>\nBelow is the code for the Poller Job:</p>\n<pre><code>public void updateUser(final String username) {\n    DistinguishedName distinguishedName = new DistinguishedName();\n    distinguishedName.add(&quot;-ou&quot;, &quot;-Roles&quot;);\n    distinguishedName.add(&quot;-cn&quot;, &quot;-UnassignedUsers&quot;);\n\n    ModificationItem[] modificationItems = new ModificationItem[1];\n    modificationItems[0] = new ModificationItem(DirContext.REMOVE_ATTRIBUTE,new BasicAttribute(&quot;member&quot;, &quot;cn=&quot;+ userName+&quot;,ou=ExternalUsers,OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=FD,DC=FG&quot;));\n\n    try {\n        ldapTemplate.modifyAttributes(distinguishedName, modificationItems);\n    } catch(Exception e) {\n        //...\n    }\n}\n</code></pre>\n<p>Following is the LDAP configuration on server</p>\n<pre><code>java.naming.factory.initial = com.sun.jndi.ldap.LdapCtxFactory\njava.naming.security.principal = CN=SD-FINAL-ADSvc,OU=DOR,OU=ServiceAccounts,OU=AA,DC=FINALDEV,DC=dev,DC=FD,DC=FG\njava.naming.ldap.version = 3\njava.naming.ldap.derefAliases = never\njava.naming.provider.url = ldaps://finaldev.dev.fd.fg:636/ou=FINAL-DEV,ou=People,dc=FINALDEV,dc=dev,dc=fd,dc=fg\njava.naming.factory.url.pkgs = com.ibm.ws.naming:com.ibm.osgi.jndi.fep:com.ibm.ws.runtime:com.ibm.wps.jndi:com.ibm.ws.naming\njava.naming.factory.object = org.springframework.ldap.core.support.DefaultDirObjectFactory\ncom.sun.jndi.ldap.connect.pool = true\norg.springframework.ldap.base.path = ou=FINAL-DEV, ou=People, dc=FINALDEV, dc=dev, dc=fd, dc=fg\n</code></pre>\n<p>The code <code>ldapTemplate.modifyAttributes(distinguishedName, modificationItems);</code> giving following error</p>\n<pre><code>LDAP: error code 32 - 0000208D: NameErr: DSID-0310028D, problem 2001 (NO_OBJECT), data 0, best match of:    'OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=fd,DC=fg' ]; \nnested exception is javax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-0310028D, problem 2001 (NO_OBJECT), data 0, \nbest match of:  'OU=FINAL-DEV,OU=People,DC=FINALDEV,DC=dev,DC=fd,DC=fg' ]; remaining name 'cn=UnassignedUsers, ou=Roles'\n</code></pre>\n<p>I tried searching online, but did not find any solution. Any pointers to the problem or possible problems are really appreciated.</p>\n"},{"tags":["java","appium"],"answers":[{"comments":[{"owner":{"account_id":2050353,"reputation":4625,"user_id":1829500,"accept_rate":57,"display_name":"Mrunal Gosar"},"score":1,"creation_date":1484460523,"post_id":41658206,"comment_id":70515335,"body_markdown":"Ok..well it seems Xiaomi Redmi Note 3 sucks (Big Time)..I tried my stuff onto samsung mobile as is and it worked, would you know if we need to do anything special for Xiaomi phones. NOTE: I was able to launch native application with my code but not able to perform any operation on it","body":"Ok..well it seems Xiaomi Redmi Note 3 sucks (Big Time)..I tried my stuff onto samsung mobile as is and it worked, would you know if we need to do anything special for Xiaomi phones. NOTE: I was able to launch native application with my code but not able to perform any operation on it"},{"owner":{"account_id":3293544,"reputation":387,"user_id":2771287,"display_name":"Pradap Pandian"},"score":0,"creation_date":1484463291,"post_id":41658206,"comment_id":70515889,"body_markdown":"May be the problem with the MIUI I guess","body":"May be the problem with the MIUI I guess"},{"owner":{"account_id":2821942,"reputation":2370,"user_id":2425513,"accept_rate":76,"display_name":"Chetan"},"score":1,"creation_date":1484737628,"post_id":41658206,"comment_id":70630163,"body_markdown":"@Mrunal Gosar same issues i have facing with redmi note 3.","body":"@Mrunal Gosar same issues i have facing with redmi note 3."}],"tags":[],"owner":{"account_id":3293544,"reputation":387,"user_id":2771287,"display_name":"Pradap Pandian"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484459029,"creation_date":1484459029,"answer_id":41658206,"question_id":41654828,"body_markdown":"Try this it will work.&lt;br&gt;\r\n ` static AndroidDriver&lt;WebElement&gt; ds; \r\n File appDir = new File(&quot;Folder_Path&quot;);                                                       \r\n File app = new File(appDir,&quot;App_Name&quot;);                                                   \r\n DesiredCapabilities capabilities = new DesiredCapabilities();                               \r\n capabilities.setCapability(&quot;deviceName&quot;,&quot;device_name&quot;);                                     \r\n capabilities.setCapability(&quot;platformVersion&quot;, &quot;device_version&quot;);                            \r\n capabilities.setCapability(&quot;app&quot;, app.getAbsolutePath());                                   \r\n capabilities.setCapability(&quot;appPackage&quot;, &quot;package_name&quot;);                                   \r\n capabilities.setCapability(&quot;appActivity&quot;, &quot;app_Activity&quot;);                                  \r\n capabilities.setCapability(&quot;noReset&quot;,&quot;true&quot;);                                               \r\n ds = new AndroidDriver&lt;WebElement&gt;(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;), capabilities);  `\r\n&lt;br&gt;\r\nDo your operation.","title":"Unable to perform any operation on real device using appium for native app automation","body":"<p>Try this it will work.<br>\n <code>static AndroidDriver&lt;WebElement&gt; ds; \n File appDir = new File(\"Folder_Path\");<br>\n File app = new File(appDir,\"App_Name\");<br>\n DesiredCapabilities capabilities = new DesiredCapabilities();<br>\n capabilities.setCapability(\"deviceName\",\"device_name\");<br>\n capabilities.setCapability(\"platformVersion\", \"device_version\");<br>\n capabilities.setCapability(\"app\", app.getAbsolutePath());<br>\n capabilities.setCapability(\"appPackage\", \"package_name\");<br>\n capabilities.setCapability(\"appActivity\", \"app_Activity\");<br>\n capabilities.setCapability(\"noReset\",\"true\");<br>\n ds = new AndroidDriver&lt;WebElement&gt;(new URL(\"http://127.0.0.1:4723/wd/hub\"), capabilities);</code>\n<br>\nDo your operation.</p>\n"},{"tags":[],"owner":{"account_id":5565193,"reputation":71,"user_id":4412773,"display_name":"Abdul Malik"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1596502424,"creation_date":1491498123,"answer_id":43261538,"question_id":41654828,"body_markdown":"I too encountered the same problem and found the solution, Redmi note 3 has an extra level of security in the developer options only after enabling that will the actions then work, i tried and is working for me. Try:\r\n\r\n1. Go to developer options\r\n2. Here, below usb Debugging(Which you have already enabled) you will find another option &#39;USB Debugging (Security Settings)&#39;\r\n3. Enable this, it will throw few warning pop ups, keep allowing and it will then be enabled, now all actions can be performed. You can disable this once your testing is done.\r\n\r\n\r\n  ![](https://i.stack.imgur.com/J6tP6.png)","title":"Unable to perform any operation on real device using appium for native app automation","body":"<p>I too encountered the same problem and found the solution, Redmi note 3 has an extra level of security in the developer options only after enabling that will the actions then work, i tried and is working for me. Try:</p>\n<ol>\n<li>Go to developer options</li>\n<li>Here, below usb Debugging(Which you have already enabled) you will find another option 'USB Debugging (Security Settings)'</li>\n<li>Enable this, it will throw few warning pop ups, keep allowing and it will then be enabled, now all actions can be performed. You can disable this once your testing is done.</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/J6tP6.png\" alt=\"\" /></p>\n"},{"tags":[],"owner":{"account_id":7832428,"reputation":225,"user_id":5921879,"accept_rate":50,"display_name":"Hendrione"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645108036,"creation_date":1645108036,"answer_id":71159986,"question_id":41654828,"body_markdown":"Just turn on &quot;Install via USB&quot; options. it works on me","title":"Unable to perform any operation on real device using appium for native app automation","body":"<p>Just turn on &quot;Install via USB&quot; options. it works on me</p>\n"},{"tags":[],"owner":{"account_id":15052215,"reputation":572,"user_id":10863605,"display_name":"ilies Ould menouer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690343254,"creation_date":1690343254,"answer_id":76767915,"question_id":41654828,"body_markdown":"The **only solution** worked for me is as follows:\r\n\r\n \r\n 1. **Install** [appium settings apk][1] manually on my device\r\n 2. Go to settings and **allow** all **permissions** for appium settings app\r\n 3. **Keep** the app open than **run** the testing scripts and that solved the problem successfully.\r\n\r\nGood luck.\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/appium/io.appium.settings/releases/tag/v5.0.5","title":"Unable to perform any operation on real device using appium for native app automation","body":"<p>The <strong>only solution</strong> worked for me is as follows:</p>\n<ol>\n<li><strong>Install</strong> <a href=\"https://github.com/appium/io.appium.settings/releases/tag/v5.0.5\" rel=\"nofollow noreferrer\">appium settings apk</a> manually on my device</li>\n<li>Go to settings and <strong>allow</strong> all <strong>permissions</strong> for appium settings app</li>\n<li><strong>Keep</strong> the app open than <strong>run</strong> the testing scripts and that solved the problem successfully.</li>\n</ol>\n<p>Good luck.</p>\n"}],"owner":{"account_id":2050353,"reputation":4625,"user_id":1829500,"accept_rate":57,"display_name":"Mrunal Gosar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4006,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1690343254,"creation_date":1484426765,"question_id":41654828,"body_markdown":"I am trying to use Appium for testing calculator app (Just for knowledge purpose). But I am not able to perform any operation. Below is the details: &lt;br&gt;\r\nReal Mobile: Xiaomi Redmi Note 3 &lt;br&gt;\r\nAndroid version: 6.0.1 &lt;br&gt;\r\nMIUI: 8.1 &lt;br&gt;\r\nAppium version: 1.4.16 &lt;br&gt;\r\nAndroid SDK version: 24.4.1 &lt;br&gt;\r\nappium java-client: 4.1.2 &lt;br&gt;\r\nCode:\r\n\r\n    package unittest;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.util.Properties;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    import io.appium.java_client.MobileElement;\r\n    import io.appium.java_client.android.AndroidDriver;\r\n    import io.appium.java_client.remote.MobileCapabilityType;\r\n    \r\n    public class LaunchWardRobe {\r\n    \r\n    \t@Test\r\n    \tpublic void swipeTest() throws IOException {\r\n    \t\tString propFileName = &quot;wardrobe.properties&quot;;\r\n    \t\tInputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(propFileName);\r\n    \t\tProperties prop = new Properties();\r\n    \t\tprop.load(inputStream);\r\n    \t\tDesiredCapabilities cap = new DesiredCapabilities();\r\n    \t\tcap.setCapability(MobileCapabilityType.PLATFORM_VERSION, prop.getProperty(&quot;cap.platform.version&quot;));\r\n    \t\tcap.setCapability(MobileCapabilityType.PLATFORM_NAME, prop.getProperty(&quot;cap.platform.name&quot;));\r\n    \t\tcap.setCapability(MobileCapabilityType.DEVICE_NAME, prop.getProperty(&quot;cap.device.name&quot;));\r\n    \t\tcap.setCapability(&quot;appPackage&quot;, prop.getProperty(&quot;cap.app.package&quot;));\r\n    \t\tcap.setCapability(&quot;appActivity&quot;, prop.getProperty(&quot;cap.app.activity&quot;));\r\n    \t\tcap.setCapability(MobileCapabilityType.BROWSER_NAME, &quot;&quot;);\r\n    \t\tcap.setCapability(MobileCapabilityType.AUTOMATION_NAME, &quot;Appium&quot;);\r\n    \t\tAndroidDriver&lt;MobileElement&gt; browser = new AndroidDriver&lt;MobileElement&gt;(\r\n    \t\t\t\tnew URL(prop.getProperty(&quot;cap.hub.url&quot;)), cap);\r\n    \t\tMobileElement dig5 = browser.findElement(By.id(&quot;com.miui.calculator:id/btn_5&quot;));\r\n    \t\tdig5.tap(1, 3);\r\n    \t\tdig5.click();\r\n    \t\tbrowser.closeApp();\r\n    \t}\r\n    }\r\n\r\nProperties File:\r\n\r\n    cap.platform.version=6.0.1\r\n    cap.platform.name=Android\r\n    cap.device.name=Redmi\r\n    cap.app.package=com.miui.calculator\r\n    cap.app.activity=com.miui.calculator.cal.CalculatorActivity\r\n    cap.hub.url=http://127.0.0.1:4723/wd/hub\r\n\r\nException or stacktrace on the Eclipse Console IDE: \r\n\r\n    org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 410 milliseconds\r\n    Build info: version: &#39;2.53.1&#39;, revision: &#39;a36b8b1cd5757287168e54b817830adce9b0158d&#39;, time: &#39;2016-06-30 19:26:09&#39;\r\n    System info: host: &#39;mrunal-laptop&#39;, ip: &#39;192.168.56.1&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_111&#39;\r\n    Driver info: io.appium.java_client.android.AndroidDriver\r\n    Capabilities [{appPackage=com.miui.calculator, networkConnectionEnabled=true, warnings={}, databaseEnabled=false, deviceName=80b83390, platform=LINUX, appActivity=com.miui.calculator.cal.CalculatorActivity, desired={appPackage=com.miui.calculator, appActivity=com.miui.calculator.cal.CalculatorActivity, platformVersion=6.0.1, automationName=Appium, browserName=, platformName=Android, deviceName=Redmi}, platformVersion=6.0.1, webStorageEnabled=false, locationContextEnabled=false, automationName=Appium, browserName=, takesScreenshot=true, javascriptEnabled=true, platformName=Android}]\r\n    Session ID: caa419ad-6146-47e0-a1b1-ef700d6645e6\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:206)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:158)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:678)\r\n    \tat io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:40)\r\n    \tat io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\r\n    \tat io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\r\n    \tat io.appium.java_client.AppiumDriver.performTouchAction(AppiumDriver.java:336)\r\n    \tat io.appium.java_client.MultiTouchAction.perform(MultiTouchAction.java:71)\r\n    \tat io.appium.java_client.AppiumDriver.tap(AppiumDriver.java:361)\r\n    \tat io.appium.java_client.MobileElement.tap(MobileElement.java:50)\r\n    \tat unittest.LaunchWardRobe.swipeTest(LaunchWardRobe.java:33)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n\r\n\r\nAppium Logs:\r\n\r\n\r\n    info: [debug] Appium session started with sessionId caa419ad-6146-47e0-a1b1-ef700d6645e6 info: &lt;-- POST /wd/hub/session 303 10720.889 ms - 74  info: --&gt; GET /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6 {} info: [debug] Responding to client with success: {&quot;status&quot;:0,&quot;value&quot;:{&quot;platform&quot;:&quot;LINUX&quot;,&quot;browserName&quot;:&quot;&quot;,&quot;platformVersion&quot;:&quot;6.0.1&quot;,&quot;webStorageEnabled&quot;:false,&quot;takesScreenshot&quot;:true,&quot;javascriptEnabled&quot;:true,&quot;databaseEnabled&quot;:false,&quot;networkConnectionEnabled&quot;:true,&quot;locationContextEnabled&quot;:false,&quot;warnings&quot;:{},&quot;desired&quot;:{&quot;appPackage&quot;:&quot;com.miui.calculator&quot;,&quot;appActivity&quot;:&quot;com.miui.calculator.cal.CalculatorActivity&quot;,&quot;platformVersion&quot;:&quot;6.0.1&quot;,&quot;automationName&quot;:&quot;Appium&quot;,&quot;browserName&quot;:&quot;&quot;,&quot;platformName&quot;:&quot;Android&quot;,&quot;deviceName&quot;:&quot;Redmi&quot;},&quot;appPackage&quot;:&quot;com.miui.calculator&quot;,&quot;appActivity&quot;:&quot;com.miui.calculator.cal.CalculatorActivity&quot;,&quot;automationName&quot;:&quot;Appium&quot;,&quot;platformName&quot;:&quot;Android&quot;,&quot;deviceName&quot;:&quot;80b83390&quot;},&quot;sessionId&quot;:&quot;caa419ad-6146-47e0-a1b1-ef700d6645e6&quot;} info: &lt;-- GET /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6 200 1.228 ms - 700 {&quot;status&quot;:0,&quot;value&quot;:{&quot;platform&quot;:&quot;LINUX&quot;,&quot;browserName&quot;:&quot;&quot;,&quot;platformVersion&quot;:&quot;6.0.1&quot;,&quot;webStorageEnabled&quot;:false,&quot;takesScreenshot&quot;:true,&quot;javascriptEnabled&quot;:true,&quot;databaseEnabled&quot;:false,&quot;networkConnectionEnabled&quot;:true,&quot;locationContextEnabled&quot;:false,&quot;warnings&quot;:{},&quot;desired&quot;:{&quot;appPackage&quot;:&quot;com.miui.calculator&quot;,&quot;appActivity&quot;:&quot;com.miui.calculator.cal.CalculatorActivity&quot;,&quot;platformVersion&quot;:&quot;6.0.1&quot;,&quot;automationName&quot;:&quot;Appium&quot;,&quot;browserName&quot;:&quot;&quot;,&quot;platformName&quot;:&quot;Android&quot;,&quot;deviceName&quot;:&quot;Redmi&quot;},&quot;appPackage&quot;:&quot;com.miui.calculator&quot;,&quot;appActivity&quot;:&quot;com.miui.calculator.cal.CalculatorActivity&quot;,&quot;automationName&quot;:&quot;Appium&quot;,&quot;platformName&quot;:&quot;Android&quot;,&quot;deviceName&quot;:&quot;80b83390&quot;},&quot;sessionId&quot;:&quot;caa419ad-6146-47e0-a1b1-ef700d6645e6&quot;} info: --&gt; POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/element {&quot;using&quot;:&quot;id&quot;,&quot;value&quot;:&quot;com.miui.calculator:id/btn_5&quot;} info: [debug] Waiting up to 0ms for condition info: [debug] Pushing command to appium work queue: [&quot;find&quot;,{&quot;strategy&quot;:&quot;id&quot;,&quot;selector&quot;:&quot;com.miui.calculator:id/btn_5&quot;,&quot;context&quot;:&quot;&quot;,&quot;multiple&quot;:false}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;find&quot;,&quot;params&quot;:{&quot;strategy&quot;:&quot;id&quot;,&quot;selector&quot;:&quot;com.miui.calculator:id/btn_5&quot;,&quot;context&quot;:&quot;&quot;,&quot;multiple&quot;:false}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: find info: [debug] [BOOTSTRAP] [debug] Finding com.miui.calculator:id/btn_5 using ID with the contextId:  multiple: false info: [debug] [BOOTSTRAP] [debug] Using: UiSelector[INSTANCE=0, RESOURCE_ID=com.miui.calculator:id/btn_5] info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:0,&quot;value&quot;:{&quot;ELEMENT&quot;:&quot;1&quot;}} info: [debug] Responding to client with success: {&quot;status&quot;:0,&quot;value&quot;:{&quot;ELEMENT&quot;:&quot;1&quot;},&quot;sessionId&quot;:&quot;caa419ad-6146-47e0-a1b1-ef700d6645e6&quot;} info: &lt;-- POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/element 200 82.020 ms - 87 {&quot;status&quot;:0,&quot;value&quot;:{&quot;ELEMENT&quot;:&quot;1&quot;},&quot;sessionId&quot;:&quot;caa419ad-6146-47e0-a1b1-ef700d6645e6&quot;} info: --&gt; POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/touch/perform {&quot;actions&quot;:[{&quot;action&quot;:&quot;press&quot;,&quot;options&quot;:{&quot;element&quot;:&quot;1&quot;}},{&quot;action&quot;:&quot;wait&quot;,&quot;options&quot;:{&quot;ms&quot;:3}},{&quot;action&quot;:&quot;release&quot;,&quot;options&quot;:{}}]} info: [debug] Pushing command to appium work queue: [&quot;element:getLocation&quot;,{&quot;elementId&quot;:&quot;1&quot;}] info: [debug] Pushing command to appium work queue: [&quot;element:getSize&quot;,{&quot;elementId&quot;:&quot;1&quot;}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;element:getLocation&quot;,&quot;params&quot;:{&quot;elementId&quot;:&quot;1&quot;}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getLocation info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:0,&quot;value&quot;:{&quot;x&quot;:270,&quot;y&quot;:1317}} info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;element:getSize&quot;,&quot;params&quot;:{&quot;elementId&quot;:&quot;1&quot;}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getSize info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:0,&quot;value&quot;:{&quot;width&quot;:270,&quot;height&quot;:201}} info: [debug] Pushing command to appium work queue: [&quot;element:getLocation&quot;,{&quot;elementId&quot;:&quot;1&quot;}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;element:getLocation&quot;,&quot;params&quot;:{&quot;elementId&quot;:&quot;1&quot;}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getLocation info: [debug] Pushing command to appium work queue: [&quot;element:getSize&quot;,{&quot;elementId&quot;:&quot;1&quot;}] info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:0,&quot;value&quot;:{&quot;x&quot;:270,&quot;y&quot;:1317}} info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;element:getSize&quot;,&quot;params&quot;:{&quot;elementId&quot;:&quot;1&quot;}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getSize info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:0,&quot;value&quot;:{&quot;width&quot;:270,&quot;height&quot;:201}} info: [debug] Pushing command to appium work queue: [&quot;element:touchDown&quot;,{&quot;elementId&quot;:&quot;1&quot;,&quot;x&quot;:405,&quot;y&quot;:1417.5}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {&quot;cmd&quot;:&quot;action&quot;,&quot;action&quot;:&quot;element:touchDown&quot;,&quot;params&quot;:{&quot;elementId&quot;:&quot;1&quot;,&quot;x&quot;:405,&quot;y&quot;:1417.5}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: touchDown info: [debug] [BOOTSTRAP] [debug] Performing TouchDown using element? true x: 405, y: 1417 info: [debug] [BOOTSTRAP] [error] error while invoking method private boolean com.android.uiautomator.core.InteractionController.touchDown(int,int) on object com.android.uiautomator.core.InteractionController@358f4be with parameters [405, 1417] null info: [debug] [BOOTSTRAP] [debug] Problem invoking touchDown: java.lang.RuntimeException: error while invoking method private boolean com.android.uiautomator.core.InteractionController.touchDown(int,int) on object com.android.uiautomator.core.InteractionController@358f4be with parameters [405, 1417] info: [debug] Responding to client with error: {&quot;status&quot;:13,&quot;value&quot;:{&quot;message&quot;:&quot;An unknown server-side error occurred while processing the command.&quot;,&quot;origValue&quot;:&quot;Failed to execute touch event&quot;},&quot;sessionId&quot;:&quot;caa419ad-6146-47e0-a1b1-ef700d6645e6&quot;} info: &lt;-- POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/touch/perform 500 358.523 ms - 198  info: [debug] [BOOTSTRAP] [debug] Returning result: {&quot;status&quot;:13,&quot;value&quot;:&quot;Failed to execute touch event&quot;}","title":"Unable to perform any operation on real device using appium for native app automation","body":"<p>I am trying to use Appium for testing calculator app (Just for knowledge purpose). But I am not able to perform any operation. Below is the details: <br>\nReal Mobile: Xiaomi Redmi Note 3 <br>\nAndroid version: 6.0.1 <br>\nMIUI: 8.1 <br>\nAppium version: 1.4.16 <br>\nAndroid SDK version: 24.4.1 <br>\nappium java-client: 4.1.2 <br>\nCode:</p>\n\n<pre><code>package unittest;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.util.Properties;\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport io.appium.java_client.MobileElement;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.remote.MobileCapabilityType;\n\npublic class LaunchWardRobe {\n\n    @Test\n    public void swipeTest() throws IOException {\n        String propFileName = \"wardrobe.properties\";\n        InputStream inputStream = this.getClass().getClassLoader().getResourceAsStream(propFileName);\n        Properties prop = new Properties();\n        prop.load(inputStream);\n        DesiredCapabilities cap = new DesiredCapabilities();\n        cap.setCapability(MobileCapabilityType.PLATFORM_VERSION, prop.getProperty(\"cap.platform.version\"));\n        cap.setCapability(MobileCapabilityType.PLATFORM_NAME, prop.getProperty(\"cap.platform.name\"));\n        cap.setCapability(MobileCapabilityType.DEVICE_NAME, prop.getProperty(\"cap.device.name\"));\n        cap.setCapability(\"appPackage\", prop.getProperty(\"cap.app.package\"));\n        cap.setCapability(\"appActivity\", prop.getProperty(\"cap.app.activity\"));\n        cap.setCapability(MobileCapabilityType.BROWSER_NAME, \"\");\n        cap.setCapability(MobileCapabilityType.AUTOMATION_NAME, \"Appium\");\n        AndroidDriver&lt;MobileElement&gt; browser = new AndroidDriver&lt;MobileElement&gt;(\n                new URL(prop.getProperty(\"cap.hub.url\")), cap);\n        MobileElement dig5 = browser.findElement(By.id(\"com.miui.calculator:id/btn_5\"));\n        dig5.tap(1, 3);\n        dig5.click();\n        browser.closeApp();\n    }\n}\n</code></pre>\n\n<p>Properties File:</p>\n\n<pre><code>cap.platform.version=6.0.1\ncap.platform.name=Android\ncap.device.name=Redmi\ncap.app.package=com.miui.calculator\ncap.app.activity=com.miui.calculator.cal.CalculatorActivity\ncap.hub.url=http://127.0.0.1:4723/wd/hub\n</code></pre>\n\n<p>Exception or stacktrace on the Eclipse Console IDE: </p>\n\n<pre><code>org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 410 milliseconds\nBuild info: version: '2.53.1', revision: 'a36b8b1cd5757287168e54b817830adce9b0158d', time: '2016-06-30 19:26:09'\nSystem info: host: 'mrunal-laptop', ip: '192.168.56.1', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_111'\nDriver info: io.appium.java_client.android.AndroidDriver\nCapabilities [{appPackage=com.miui.calculator, networkConnectionEnabled=true, warnings={}, databaseEnabled=false, deviceName=80b83390, platform=LINUX, appActivity=com.miui.calculator.cal.CalculatorActivity, desired={appPackage=com.miui.calculator, appActivity=com.miui.calculator.cal.CalculatorActivity, platformVersion=6.0.1, automationName=Appium, browserName=, platformName=Android, deviceName=Redmi}, platformVersion=6.0.1, webStorageEnabled=false, locationContextEnabled=false, automationName=Appium, browserName=, takesScreenshot=true, javascriptEnabled=true, platformName=Android}]\nSession ID: caa419ad-6146-47e0-a1b1-ef700d6645e6\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:206)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:678)\n    at io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:40)\n    at io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\n    at io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\n    at io.appium.java_client.AppiumDriver.performTouchAction(AppiumDriver.java:336)\n    at io.appium.java_client.MultiTouchAction.perform(MultiTouchAction.java:71)\n    at io.appium.java_client.AppiumDriver.tap(AppiumDriver.java:361)\n    at io.appium.java_client.MobileElement.tap(MobileElement.java:50)\n    at unittest.LaunchWardRobe.swipeTest(LaunchWardRobe.java:33)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\n</code></pre>\n\n<p>Appium Logs:</p>\n\n<pre><code>info: [debug] Appium session started with sessionId caa419ad-6146-47e0-a1b1-ef700d6645e6 info: &lt;-- POST /wd/hub/session 303 10720.889 ms - 74  info: --&gt; GET /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6 {} info: [debug] Responding to client with success: {\"status\":0,\"value\":{\"platform\":\"LINUX\",\"browserName\":\"\",\"platformVersion\":\"6.0.1\",\"webStorageEnabled\":false,\"takesScreenshot\":true,\"javascriptEnabled\":true,\"databaseEnabled\":false,\"networkConnectionEnabled\":true,\"locationContextEnabled\":false,\"warnings\":{},\"desired\":{\"appPackage\":\"com.miui.calculator\",\"appActivity\":\"com.miui.calculator.cal.CalculatorActivity\",\"platformVersion\":\"6.0.1\",\"automationName\":\"Appium\",\"browserName\":\"\",\"platformName\":\"Android\",\"deviceName\":\"Redmi\"},\"appPackage\":\"com.miui.calculator\",\"appActivity\":\"com.miui.calculator.cal.CalculatorActivity\",\"automationName\":\"Appium\",\"platformName\":\"Android\",\"deviceName\":\"80b83390\"},\"sessionId\":\"caa419ad-6146-47e0-a1b1-ef700d6645e6\"} info: &lt;-- GET /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6 200 1.228 ms - 700 {\"status\":0,\"value\":{\"platform\":\"LINUX\",\"browserName\":\"\",\"platformVersion\":\"6.0.1\",\"webStorageEnabled\":false,\"takesScreenshot\":true,\"javascriptEnabled\":true,\"databaseEnabled\":false,\"networkConnectionEnabled\":true,\"locationContextEnabled\":false,\"warnings\":{},\"desired\":{\"appPackage\":\"com.miui.calculator\",\"appActivity\":\"com.miui.calculator.cal.CalculatorActivity\",\"platformVersion\":\"6.0.1\",\"automationName\":\"Appium\",\"browserName\":\"\",\"platformName\":\"Android\",\"deviceName\":\"Redmi\"},\"appPackage\":\"com.miui.calculator\",\"appActivity\":\"com.miui.calculator.cal.CalculatorActivity\",\"automationName\":\"Appium\",\"platformName\":\"Android\",\"deviceName\":\"80b83390\"},\"sessionId\":\"caa419ad-6146-47e0-a1b1-ef700d6645e6\"} info: --&gt; POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/element {\"using\":\"id\",\"value\":\"com.miui.calculator:id/btn_5\"} info: [debug] Waiting up to 0ms for condition info: [debug] Pushing command to appium work queue: [\"find\",{\"strategy\":\"id\",\"selector\":\"com.miui.calculator:id/btn_5\",\"context\":\"\",\"multiple\":false}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"find\",\"params\":{\"strategy\":\"id\",\"selector\":\"com.miui.calculator:id/btn_5\",\"context\":\"\",\"multiple\":false}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: find info: [debug] [BOOTSTRAP] [debug] Finding com.miui.calculator:id/btn_5 using ID with the contextId:  multiple: false info: [debug] [BOOTSTRAP] [debug] Using: UiSelector[INSTANCE=0, RESOURCE_ID=com.miui.calculator:id/btn_5] info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":0,\"value\":{\"ELEMENT\":\"1\"}} info: [debug] Responding to client with success: {\"status\":0,\"value\":{\"ELEMENT\":\"1\"},\"sessionId\":\"caa419ad-6146-47e0-a1b1-ef700d6645e6\"} info: &lt;-- POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/element 200 82.020 ms - 87 {\"status\":0,\"value\":{\"ELEMENT\":\"1\"},\"sessionId\":\"caa419ad-6146-47e0-a1b1-ef700d6645e6\"} info: --&gt; POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/touch/perform {\"actions\":[{\"action\":\"press\",\"options\":{\"element\":\"1\"}},{\"action\":\"wait\",\"options\":{\"ms\":3}},{\"action\":\"release\",\"options\":{}}]} info: [debug] Pushing command to appium work queue: [\"element:getLocation\",{\"elementId\":\"1\"}] info: [debug] Pushing command to appium work queue: [\"element:getSize\",{\"elementId\":\"1\"}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"element:getLocation\",\"params\":{\"elementId\":\"1\"}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getLocation info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":0,\"value\":{\"x\":270,\"y\":1317}} info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"element:getSize\",\"params\":{\"elementId\":\"1\"}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getSize info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":0,\"value\":{\"width\":270,\"height\":201}} info: [debug] Pushing command to appium work queue: [\"element:getLocation\",{\"elementId\":\"1\"}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"element:getLocation\",\"params\":{\"elementId\":\"1\"}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getLocation info: [debug] Pushing command to appium work queue: [\"element:getSize\",{\"elementId\":\"1\"}] info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":0,\"value\":{\"x\":270,\"y\":1317}} info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"element:getSize\",\"params\":{\"elementId\":\"1\"}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: getSize info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":0,\"value\":{\"width\":270,\"height\":201}} info: [debug] Pushing command to appium work queue: [\"element:touchDown\",{\"elementId\":\"1\",\"x\":405,\"y\":1417.5}] info: [debug] [BOOTSTRAP] [debug] Got data from client: {\"cmd\":\"action\",\"action\":\"element:touchDown\",\"params\":{\"elementId\":\"1\",\"x\":405,\"y\":1417.5}} info: [debug] [BOOTSTRAP] [debug] Got command of type ACTION info: [debug] [BOOTSTRAP] [debug] Got command action: touchDown info: [debug] [BOOTSTRAP] [debug] Performing TouchDown using element? true x: 405, y: 1417 info: [debug] [BOOTSTRAP] [error] error while invoking method private boolean com.android.uiautomator.core.InteractionController.touchDown(int,int) on object com.android.uiautomator.core.InteractionController@358f4be with parameters [405, 1417] null info: [debug] [BOOTSTRAP] [debug] Problem invoking touchDown: java.lang.RuntimeException: error while invoking method private boolean com.android.uiautomator.core.InteractionController.touchDown(int,int) on object com.android.uiautomator.core.InteractionController@358f4be with parameters [405, 1417] info: [debug] Responding to client with error: {\"status\":13,\"value\":{\"message\":\"An unknown server-side error occurred while processing the command.\",\"origValue\":\"Failed to execute touch event\"},\"sessionId\":\"caa419ad-6146-47e0-a1b1-ef700d6645e6\"} info: &lt;-- POST /wd/hub/session/caa419ad-6146-47e0-a1b1-ef700d6645e6/touch/perform 500 358.523 ms - 198  info: [debug] [BOOTSTRAP] [debug] Returning result: {\"status\":13,\"value\":\"Failed to execute touch event\"}\n</code></pre>\n"},{"tags":["java","spring","eclipse","sts"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1690351914,"post_id":76767884,"comment_id":135339427,"body_markdown":"The STS and Java versions must both be for Intel or both for Apple Chips - you can&#39;t mix them. I don&#39;t think there is a version of STS 3 for Apple so you need the x86_64 Java","body":"The STS and Java versions must both be for Intel or both for Apple Chips - you can&#39;t mix them. I don&#39;t think there is a version of STS 3 for Apple so you need the x86_64 Java"}],"owner":{"account_id":22312217,"reputation":1,"user_id":16536054,"display_name":"Nirsa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690342705,"creation_date":1690342705,"question_id":76767884,"body_markdown":"I am getting JNI_CreateJavaVM symbol error in STS 3.\r\n\r\nMy environment is MAC OS M2, Apple Chip, Java-11, STS 3.9.18 version.\r\n\r\nand what i did\r\n\r\n1. Set &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home/bin/java&lt;/string&gt; in Info.plist of STS3 file\r\n2. export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home in ~/.zshrc\r\nSet export PATH=$JAVA_HOME/bin:$PATH\r\n3. Reinstall STS3\r\n4. Reinstall Java11\r\n5. Reinstall MAC OS\r\n\r\nIs there any other way to solve the JNI_CreateJavaVM symbol error?","title":"No way to resolve &#39;JNI_CreateJavaVM&#39; error","body":"<p>I am getting JNI_CreateJavaVM symbol error in STS 3.</p>\n<p>My environment is MAC OS M2, Apple Chip, Java-11, STS 3.9.18 version.</p>\n<p>and what i did</p>\n<ol>\n<li>Set -vm/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home/bin/java in Info.plist of STS3 file</li>\n<li>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home in ~/.zshrc\nSet export PATH=$JAVA_HOME/bin:$PATH</li>\n<li>Reinstall STS3</li>\n<li>Reinstall Java11</li>\n<li>Reinstall MAC OS</li>\n</ol>\n<p>Is there any other way to solve the JNI_CreateJavaVM symbol error?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8841788,"reputation":78,"user_id":6604016,"display_name":"Nav"},"score":0,"creation_date":1637022724,"post_id":69982453,"comment_id":123709191,"body_markdown":"RemoveAll method https://howtodoinjava.com/java/collections/arraylist/arraylist-removeall/ might be helpful","body":"RemoveAll method <a href=\"https://howtodoinjava.com/java/collections/arraylist/arraylist-removeall/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java/collections/arraylist/&hellip;</a> might be helpful"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637022765,"post_id":69982453,"comment_id":123709195,"body_markdown":"See the old fashioned way https://stackoverflow.com/a/8892090/2310289","body":"See the old fashioned way <a href=\"https://stackoverflow.com/a/8892090/2310289\">stackoverflow.com/a/8892090/2310289</a>"}],"answers":[{"tags":[],"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1672510179,"creation_date":1637022597,"answer_id":69982488,"question_id":69982453,"body_markdown":"You can use Java 8 method [`Collection.removeIf()`][removeIf], expecting a `Predicate`, to do so and make your code waaaaay simpler.\r\n\r\nTo perform a delete operation in a list based on a certain condition, just do:\r\n\r\n```\r\nfriendsList.removeIf(p -&gt; p.getFirstName().equalsIgnoreCase(firstName));\r\n```\r\nHere is a bit of more on it: [Operating and Removing an Item - Collection.removeIf][baeldung]\r\n\r\n\r\n\r\n   [removeIf]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\r\n\r\n   [baeldung]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)","title":"How can I make this for loop repeatedly go through a list of arrays until a condition is reached?","body":"<p>You can use Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Collection.removeIf()</code></a>, expecting a <code>Predicate</code>, to do so and make your code waaaaay simpler.</p>\n<p>To perform a delete operation in a list based on a certain condition, just do:</p>\n<pre><code>friendsList.removeIf(p -&gt; p.getFirstName().equalsIgnoreCase(firstName));\n</code></pre>\n<p>Here is a bit of more on it: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">Operating and Removing an Item - Collection.removeIf</a></p>\n"},{"tags":[],"owner":{"account_id":14438836,"reputation":75,"user_id":10565192,"display_name":"Adrian Patterson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637022853,"creation_date":1637022853,"answer_id":69982514,"question_id":69982453,"body_markdown":"One way to do this would be to iterate over the friends list using indexing like so:\r\n\r\n```java\r\nint index = 0;\r\nfor(int i = 0; i &lt; friendsList.length; i++) {\r\n    if(!friendsList[i].getFirstName().equalsIgnoreCase(firstName)) {\r\n        friendsList[index++] = friendsList[i];\r\n    }\r\n}\r\n\r\nreturn Arrays.copyOf(friendsList, index);\r\n```\r\n\r\nAs seen in this [Geeks for Geeks](https://www.geeksforgeeks.org/remove-all-occurrences-of-an-element-from-array-in-java/) page. Check it out for other options, like filtering your list (which is much simpler &amp; quicker).","title":"How can I make this for loop repeatedly go through a list of arrays until a condition is reached?","body":"<p>One way to do this would be to iterate over the friends list using indexing like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int index = 0;\nfor(int i = 0; i &lt; friendsList.length; i++) {\n    if(!friendsList[i].getFirstName().equalsIgnoreCase(firstName)) {\n        friendsList[index++] = friendsList[i];\n    }\n}\n\nreturn Arrays.copyOf(friendsList, index);\n</code></pre>\n<p>As seen in this <a href=\"https://www.geeksforgeeks.org/remove-all-occurrences-of-an-element-from-array-in-java/\" rel=\"nofollow noreferrer\">Geeks for Geeks</a> page. Check it out for other options, like filtering your list (which is much simpler &amp; quicker).</p>\n"}],"owner":{"account_id":23328593,"reputation":43,"user_id":17405358,"display_name":"cruella devil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69982488,"answer_count":2,"score":0,"last_activity_date":1690342668,"creation_date":1637022213,"question_id":69982453,"body_markdown":"I have this method that searches a list of arrays of type Person and deletes a specific one based on the first name. \r\n\r\nIt works fine. \r\n\r\nBut it only deletes one person and then stops. \r\n \r\n```\r\n        public void deleteFriend(String firstName){\r\n                Person friendToDelete = null;\r\n                for(Person f : friendsList){\r\n                    if(f.getFirstName().equalsIgnoreCase(firstName)){\r\n                        friendToDelete = f;\r\n                    }\r\n                }\r\n                if(friendToDelete != null){\r\n                    friendsList.remove(friendToDelete);\r\n                    System.out.println(&quot;Friend deleted.&quot;);\r\n                }\r\n        }\r\n```\r\n\r\nSay my list `friendsList` has two people with the first name `Shane`. I want my method to delete ***all** Shanes*.\r\n\r\n\r\n************************************************************\r\nI have tried the following:\r\n\r\n```\r\n    public void deleteFriend(String firstName){\r\n        //Person friendToDelete = null;\r\n        for(Person f : friendsList){\r\n            if(f.getFirstName().equalsIgnoreCase(firstName)){\r\n                friendsList.remove(f);\r\n                continue; \r\n            }\r\n        }\r\n    }\r\n\r\n```\r\nIn the above example, I tried some variations of the `if` loop. First, I tried `break;` instead of `continue;`. I also tried removing that line altogether.\r\n\r\n```\r\nif(f.getFirstName().equalsIgnoreCase(firstName))\r\n                friendsList.remove(f);\r\n```\r\nIt still **only deleted the first** Shane.\r\n\r\nI tried to make a condition to check if there are instances of `Person` with the first name `Shane` and while that is true, go through the list with `for(Person f : friendsList)` and remove it. And then check if there still is a Shane, and do it again. \r\n\r\nBut I can tell that what I have isn&#39;t going to work:\r\n\r\n```\r\n        public void deleteFriend(String firstName){\r\n                //Person friendToDelete = null;\r\n                for(Person f : friendsList){\r\n                    int cond = 0;\r\n                    while(cond == 0){\r\n                        if(f.getFirstName().equalsIgnoreCase(firstName)){\r\n                            friendsList.remove(f);\r\n                        }\r\n                        else{\r\n                            // ??? cond = 1?\r\n                        }\r\n                    }\r\n                }\r\n        }\r\n```\r\n\r\nCan someone help me with what I&#39;m trying to do or point me in the right direction?","title":"How can I make this for loop repeatedly go through a list of arrays until a condition is reached?","body":"<p>I have this method that searches a list of arrays of type Person and deletes a specific one based on the first name.</p>\n<p>It works fine.</p>\n<p>But it only deletes one person and then stops.</p>\n<pre><code>        public void deleteFriend(String firstName){\n                Person friendToDelete = null;\n                for(Person f : friendsList){\n                    if(f.getFirstName().equalsIgnoreCase(firstName)){\n                        friendToDelete = f;\n                    }\n                }\n                if(friendToDelete != null){\n                    friendsList.remove(friendToDelete);\n                    System.out.println(&quot;Friend deleted.&quot;);\n                }\n        }\n</code></pre>\n<p>Say my list <code>friendsList</code> has two people with the first name <code>Shane</code>. I want my method to delete <em><strong>all</strong> Shanes</em>.</p>\n<hr />\n<p>I have tried the following:</p>\n<pre><code>    public void deleteFriend(String firstName){\n        //Person friendToDelete = null;\n        for(Person f : friendsList){\n            if(f.getFirstName().equalsIgnoreCase(firstName)){\n                friendsList.remove(f);\n                continue; \n            }\n        }\n    }\n\n</code></pre>\n<p>In the above example, I tried some variations of the <code>if</code> loop. First, I tried <code>break;</code> instead of <code>continue;</code>. I also tried removing that line altogether.</p>\n<pre><code>if(f.getFirstName().equalsIgnoreCase(firstName))\n                friendsList.remove(f);\n</code></pre>\n<p>It still <strong>only deleted the first</strong> Shane.</p>\n<p>I tried to make a condition to check if there are instances of <code>Person</code> with the first name <code>Shane</code> and while that is true, go through the list with <code>for(Person f : friendsList)</code> and remove it. And then check if there still is a Shane, and do it again.</p>\n<p>But I can tell that what I have isn't going to work:</p>\n<pre><code>        public void deleteFriend(String firstName){\n                //Person friendToDelete = null;\n                for(Person f : friendsList){\n                    int cond = 0;\n                    while(cond == 0){\n                        if(f.getFirstName().equalsIgnoreCase(firstName)){\n                            friendsList.remove(f);\n                        }\n                        else{\n                            // ??? cond = 1?\n                        }\n                    }\n                }\n        }\n</code></pre>\n<p>Can someone help me with what I'm trying to do or point me in the right direction?</p>\n"},{"tags":["java","hibernate","spring-data-jpa","dao"],"comments":[{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1692078771,"post_id":76767869,"comment_id":135572712,"body_markdown":"After getting the list returned by `findAll()` function, perhaps you can create `ArrayLists` of all months you need to count, loop through the list checking months of `createdOn` and add  records to arraylists eg if date is July add that record to July&#39;s arraylist. After looping then you check sizes of arraylists  which will be equal to number of accounts created that month","body":"After getting the list returned by <code>findAll()</code> function, perhaps you can create <code>ArrayLists</code> of all months you need to count, loop through the list checking months of <code>createdOn</code> and add  records to arraylists eg if date is July add that record to July&#39;s arraylist. After looping then you check sizes of arraylists  which will be equal to number of accounts created that month"}],"owner":{"account_id":10046033,"reputation":672,"user_id":7427398,"accept_rate":32,"display_name":"ksernow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690342529,"creation_date":1690342529,"question_id":76767869,"body_markdown":"I am new to spring boot and hibernate. I was able to build simple API to get all records using FindAll and similarly was able to add few filters as well like findAllByName. However, now I am stuck because I have a need for more complex data.\r\n\r\n\r\nUser.java\r\n```\r\nimport java.util.Date;\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\nprivate long id;\r\n\r\nprivate String name;\r\n\t\r\nprivate int age;\r\n\r\n@CreationTimestamp\r\nprivate Date createdOn;\r\n\r\n}\r\n\r\n```\r\n\r\nDatabase Example\r\n```\r\nTable 1 - User\r\nName   Age Created On\r\nMike   23  2023-07-10 22:55:25.787000\r\nAkshay 53  2023-06-25 21:15:25.787000\r\nBheem  43  2023-07-07 08:25:25.787000\r\nRahul  33  2023-06-11 12:55:25.787000\r\nGin    33  2023-05-10 01:55:25.787000\r\n```\r\n\r\nI have two users who got created in July, two in June, and 1 in May. I need to create a hibernate dao query to find number of records for each month. In this example I should get - July =2, June =2 and May = 1. How do I do that?","title":"Hibernate - Getting count of all records a in given month","body":"<p>I am new to spring boot and hibernate. I was able to build simple API to get all records using FindAll and similarly was able to add few filters as well like findAllByName. However, now I am stuck because I have a need for more complex data.</p>\n<p>User.java</p>\n<pre><code>import java.util.Date;\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\nprivate long id;\n\nprivate String name;\n    \nprivate int age;\n\n@CreationTimestamp\nprivate Date createdOn;\n\n}\n\n</code></pre>\n<p>Database Example</p>\n<pre><code>Table 1 - User\nName   Age Created On\nMike   23  2023-07-10 22:55:25.787000\nAkshay 53  2023-06-25 21:15:25.787000\nBheem  43  2023-07-07 08:25:25.787000\nRahul  33  2023-06-11 12:55:25.787000\nGin    33  2023-05-10 01:55:25.787000\n</code></pre>\n<p>I have two users who got created in July, two in June, and 1 in May. I need to create a hibernate dao query to find number of records for each month. In this example I should get - July =2, June =2 and May = 1. How do I do that?</p>\n"},{"tags":["java","codenameone","java-audio"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690235898,"post_id":76758192,"comment_id":135322439,"body_markdown":"This question [looks familiar](https://stackoverflow.com/q/76757514).","body":"This question <a href=\"https://stackoverflow.com/q/76757514\">looks familiar</a>."},{"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"score":0,"creation_date":1690245094,"post_id":76758192,"comment_id":135323372,"body_markdown":"I reposted because I made a mistake in the post","body":"I reposted because I made a mistake in the post"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":1,"creation_date":1690253173,"post_id":76758192,"comment_id":135324009,"body_markdown":"FYI you can edit the questions as much as you want with the edit button on the bottom.","body":"FYI you can edit the questions as much as you want with the edit button on the bottom."}],"answers":[{"comments":[{"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"score":0,"creation_date":1690314534,"post_id":76759176,"comment_id":135335540,"body_markdown":"Thank you so much for the reply. I understand FileSystemStorage and resources better now. It&#39;s just I&#39;m running into this error now: \nWarning: com.example.audio.AudioPlayer: can&#39;t find referenced method &#39;java.io.InputStream getResourceAsStream(java.lang.String)&#39; in library class java.lang.Class\nSorry if the answer is obvious, but how do I get around this? I downloaded the recommended JDK from the manual (OpenJDK 17.0.8) because I thought that may be causing it but it did not fix.","body":"Thank you so much for the reply. I understand FileSystemStorage and resources better now. It&#39;s just I&#39;m running into this error now:  Warning: com.example.audio.AudioPlayer: can&#39;t find referenced method &#39;java.io.InputStream getResourceAsStream(java.lang.String)&#39; in library class java.lang.Class Sorry if the answer is obvious, but how do I get around this? I downloaded the recommended JDK from the manual (OpenJDK 17.0.8) because I thought that may be causing it but it did not fix."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":1,"creation_date":1690340248,"post_id":76759176,"comment_id":135338321,"body_markdown":"Sorry that probably broke with the maven migration. Changed it in the code to `CN.getResourceAsStream(fileName);` which should work.","body":"Sorry that probably broke with the maven migration. Changed it in the code to <code>CN.getResourceAsStream(fileName);</code> which should work."},{"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"score":0,"creation_date":1690401955,"post_id":76759176,"comment_id":135350325,"body_markdown":"Hey Shai, i can confirm this worked because I changed my code to load all my images by using the instructions you gave me when you responded to my question. Now, however, I am running into an error regarding the createMedia method\n\nat com.codename1.impl.javase.JavaSEPort.createMedia(JavaSEPort.java:9535)\n        at com.codename1.ui.Display.createMedia(Display.java:3705)\n        at com.codename1.media.MediaManager.createMedia(MediaManager.java:306)\nSorry to bother but would you know how to get past this? Thanks for all the help already.","body":"Hey Shai, i can confirm this worked because I changed my code to load all my images by using the instructions you gave me when you responded to my question. Now, however, I am running into an error regarding the createMedia method  at com.codename1.impl.javase.JavaSEPort.createMedia(JavaSEPort.&zwnj;&#8203;java:9535)         at com.codename1.ui.Display.createMedia(Display.java:3705)         at com.codename1.media.MediaManager.createMedia(MediaManager.ja&zwnj;&#8203;va:306) Sorry to bother but would you know how to get past this? Thanks for all the help already."},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1690431767,"post_id":76759176,"comment_id":135353634,"body_markdown":"That&#39;s a [wrapper exception](https://github.com/codenameone/CodenameOne/blob/master/Ports/JavaSE/src/com/codename1/impl/javase/JavaSEPort.java#L9535C1-L9535C42) if you scroll up you will see the actual error that triggered it and ideally it should have a better error message. Ideally open a new question so you can have space to include the full details.","body":"That&#39;s a <a href=\"https://github.com/codenameone/CodenameOne/blob/master/Ports/JavaSE/src/com/codename1/impl/javase/JavaSEPort.java#L9535C1-L9535C42\" rel=\"nofollow noreferrer\">wrapper exception</a> if you scroll up you will see the actual error that triggered it and ideally it should have a better error message. Ideally open a new question so you can have space to include the full details."}],"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690340217,"creation_date":1690253711,"answer_id":76759176,"question_id":76758192,"body_markdown":"It seems you&#39;re confusing `FileSystemStorage` with resources. Those are separate concepts. Resources like your sounds, get packaged into your application as part of the final bundle (e.g. jar) and are available to you on the device using an API to fetch the resources. \r\n\r\n`FileSystemStorage` accesses the file system available on the device. Here you first need to write or create the file in some way in order for it to be available for you. \r\n\r\nThere are additional problems:\r\n\r\n* Your resources are in a hierarchy. This isn&#39;t supported by Codename One since some packaging systems (iOS) behave somewhat differently. So you can&#39;t nest the files and need to put them all in one directory.\r\n\r\n* You named the directory `res` instead of `resources`.\r\n\r\n* It needs to be under `main` next to the `java` and `css` directory\r\n\r\nTo clarify, the file `fluffingADuck.wav` must be in `common/src/main/resources/fluffingADuck.wav` for the following code to work.\r\n\r\n\r\nNow you need to fix the code to use resources which is actually pretty simple:\r\n\r\n    audioPlayer.playAudio(&quot;/fluffingADuck.wav&quot;);\r\n\r\n\r\nNotice the `/` in the beginning. It&#39;s intentional.\r\n\r\nThen all you need to do is change the `InputStream` line to:\r\n\r\n    InputStream is = CN.getResourceAsStream(fileName);","title":"Making audio player in Codename One","body":"<p>It seems you're confusing <code>FileSystemStorage</code> with resources. Those are separate concepts. Resources like your sounds, get packaged into your application as part of the final bundle (e.g. jar) and are available to you on the device using an API to fetch the resources.</p>\n<p><code>FileSystemStorage</code> accesses the file system available on the device. Here you first need to write or create the file in some way in order for it to be available for you.</p>\n<p>There are additional problems:</p>\n<ul>\n<li><p>Your resources are in a hierarchy. This isn't supported by Codename One since some packaging systems (iOS) behave somewhat differently. So you can't nest the files and need to put them all in one directory.</p>\n</li>\n<li><p>You named the directory <code>res</code> instead of <code>resources</code>.</p>\n</li>\n<li><p>It needs to be under <code>main</code> next to the <code>java</code> and <code>css</code> directory</p>\n</li>\n</ul>\n<p>To clarify, the file <code>fluffingADuck.wav</code> must be in <code>common/src/main/resources/fluffingADuck.wav</code> for the following code to work.</p>\n<p>Now you need to fix the code to use resources which is actually pretty simple:</p>\n<pre><code>audioPlayer.playAudio(&quot;/fluffingADuck.wav&quot;);\n</code></pre>\n<p>Notice the <code>/</code> in the beginning. It's intentional.</p>\n<p>Then all you need to do is change the <code>InputStream</code> line to:</p>\n<pre><code>InputStream is = CN.getResourceAsStream(fileName);\n</code></pre>\n"}],"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690340217,"creation_date":1690234978,"question_id":76758192,"body_markdown":"I am porting a java game to mobile using Codename One, and have been trying to make an audio player with the framework using code from another thread. I&#39;m running into lots of trouble doing so, mainly with using the MediaManager. Here is the code:\r\n\r\n    package com.example.audio;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    import com.codename1.io.FileSystemStorage;\r\n    import com.codename1.media.Media;\r\n    import com.codename1.media.MediaManager;\r\n    import com.codename1.ui.Display;\r\n    \r\n    public class AudioPlayer {\r\n        private Media MEDIA = null;\r\n        public void playAudio(String fileName) {\r\n            try {\r\n                if (MEDIA == null) {\r\n                    InputStream is = FileSystemStorage.getInstance().openInputStream(fileName);\r\n                    MEDIA = MediaManager.createMedia(is, &quot;audio/mp3&quot;, new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            MEDIA = null;\r\n                        }\r\n                    });\r\n                }\r\n                if (MEDIA != null &amp;&amp; MEDIA.isPlaying() == false) {\r\n                    MEDIA.setVolume(100);\r\n                    MEDIA.play();\r\n                }\r\n            } catch (IOException ioe) {\r\n                ioe.printStackTrace();\r\n            }\r\n        }\r\n    }\r\nClass where AudioPlayer is instantiated: \r\n\r\n    public AudioPlayer audioPlayer = new AudioPlayer(); //audio player \r\n    \r\n    public Game() {\r\n        changeState(sceneNum);\r\n        audioPlayer.playAudio(FileSystemStorage.getInstance().getAppHomePath() + &quot;res/Sounds/fluffingADuck.wav&quot;);\r\n    ...\r\nThis is what the stack trace gives me \r\n\r\n    java.io.IOException\r\n        at com.codename1.impl.javase.JavaSEPort.createMedia(JavaSEPort.java:9535)\r\n        at com.codename1.ui.Display.createMedia(Display.java:3705)\r\n        at com.codename1.media.MediaManager.createMedia(MediaManager.java:306)\r\n        at com.example.audio.AudioPlayer.playAudio(AudioPlayer.java:16)\r\n        at com.example.myapp.Game.&lt;init&gt;(Game.java:32)\r\n        at com.example.myapp.Game.getGame(Game.java:41)\r\n        at com.example.myapp.MyApp.runApp(MyApp.java:14)\r\n        at com.codename1.system.Lifecycle.start(Lifecycle.java:129)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at com.codename1.impl.javase.Executor$3$2.run(Executor.java:340)\r\n        at com.codename1.ui.Display.executeSerialCall(Display.java:1395)\r\n        at com.codename1.ui.Display.processSerialCalls(Display.java:1379)\r\n        at com.codename1.ui.Display.mainEDTLoop(Display.java:1166)\r\n        at com.codename1.ui.RunnableWrapper.run(RunnableWrapper.java:120)\r\n        at com.codename1.impl.CodenameOneThread.run(CodenameOneThread.java:176)\r\n\r\nHere is what the folder that holds the sounds looks like: [My folder set up][1]\r\n\r\n\r\nI converted one of the sounds to mp3 because I thought maybe wav wasn&#39;t recognized by CN1 but that did not fix the issue either. I use pretty much the same method to retrieve images for the game and that works fine. Not sure what to do, if someone could point me in the right direction or give any assistance it would mean a lot. I&#39;m still a bit of a noob at programming. Here is the github repo if anyone would want to take a look as well: [https://github.com/stefancohn/DuckWorldMobile][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YaxL6.png\r\n  [2]: https://github.com/stefancohn/DuckWorldMobile","title":"Making audio player in Codename One","body":"<p>I am porting a java game to mobile using Codename One, and have been trying to make an audio player with the framework using code from another thread. I'm running into lots of trouble doing so, mainly with using the MediaManager. Here is the code:</p>\n<pre><code>package com.example.audio;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport com.codename1.io.FileSystemStorage;\nimport com.codename1.media.Media;\nimport com.codename1.media.MediaManager;\nimport com.codename1.ui.Display;\n\npublic class AudioPlayer {\n    private Media MEDIA = null;\n    public void playAudio(String fileName) {\n        try {\n            if (MEDIA == null) {\n                InputStream is = FileSystemStorage.getInstance().openInputStream(fileName);\n                MEDIA = MediaManager.createMedia(is, &quot;audio/mp3&quot;, new Runnable() {\n                    @Override\n                    public void run() {\n                        MEDIA = null;\n                    }\n                });\n            }\n            if (MEDIA != null &amp;&amp; MEDIA.isPlaying() == false) {\n                MEDIA.setVolume(100);\n                MEDIA.play();\n            }\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Class where AudioPlayer is instantiated:</p>\n<pre><code>public AudioPlayer audioPlayer = new AudioPlayer(); //audio player \n\npublic Game() {\n    changeState(sceneNum);\n    audioPlayer.playAudio(FileSystemStorage.getInstance().getAppHomePath() + &quot;res/Sounds/fluffingADuck.wav&quot;);\n...\n</code></pre>\n<p>This is what the stack trace gives me</p>\n<pre><code>java.io.IOException\n    at com.codename1.impl.javase.JavaSEPort.createMedia(JavaSEPort.java:9535)\n    at com.codename1.ui.Display.createMedia(Display.java:3705)\n    at com.codename1.media.MediaManager.createMedia(MediaManager.java:306)\n    at com.example.audio.AudioPlayer.playAudio(AudioPlayer.java:16)\n    at com.example.myapp.Game.&lt;init&gt;(Game.java:32)\n    at com.example.myapp.Game.getGame(Game.java:41)\n    at com.example.myapp.MyApp.runApp(MyApp.java:14)\n    at com.codename1.system.Lifecycle.start(Lifecycle.java:129)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.codename1.impl.javase.Executor$3$2.run(Executor.java:340)\n    at com.codename1.ui.Display.executeSerialCall(Display.java:1395)\n    at com.codename1.ui.Display.processSerialCalls(Display.java:1379)\n    at com.codename1.ui.Display.mainEDTLoop(Display.java:1166)\n    at com.codename1.ui.RunnableWrapper.run(RunnableWrapper.java:120)\n    at com.codename1.impl.CodenameOneThread.run(CodenameOneThread.java:176)\n</code></pre>\n<p>Here is what the folder that holds the sounds looks like: <a href=\"https://i.stack.imgur.com/YaxL6.png\" rel=\"nofollow noreferrer\">My folder set up</a></p>\n<p>I converted one of the sounds to mp3 because I thought maybe wav wasn't recognized by CN1 but that did not fix the issue either. I use pretty much the same method to retrieve images for the game and that works fine. Not sure what to do, if someone could point me in the right direction or give any assistance it would mean a lot. I'm still a bit of a noob at programming. Here is the github repo if anyone would want to take a look as well: <a href=\"https://github.com/stefancohn/DuckWorldMobile\" rel=\"nofollow noreferrer\">https://github.com/stefancohn/DuckWorldMobile</a></p>\n"},{"tags":["java","flutter","dart"],"answers":[{"comments":[{"owner":{"account_id":16634020,"reputation":531,"user_id":12021185,"display_name":"MrObscure"},"score":0,"creation_date":1690391532,"post_id":76767732,"comment_id":135348294,"body_markdown":"nothing changed got the same exception","body":"nothing changed got the same exception"}],"tags":[],"owner":{"account_id":11251034,"reputation":875,"user_id":8252138,"display_name":"Eric Su"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690339992,"creation_date":1690339992,"answer_id":76767732,"question_id":76766203,"body_markdown":"Replace\r\n```dart\r\npolylines[id] = polyline;\r\n```\r\nwith\r\n```dart\r\npolylines.update(id, (value) =&gt; polyline, ifAbsent: () =&gt; polyline);\r\n```\r\n","title":"Excpetion _TypeError (type &#39;_Map&lt;Object?, Object?&gt;&#39; is not a subtype of type &#39;Map&lt;String, dynamic&gt;&#39; in type cast)","body":"<p>Replace</p>\n<pre class=\"lang-dart prettyprint-override\"><code>polylines[id] = polyline;\n</code></pre>\n<p>with</p>\n<pre class=\"lang-dart prettyprint-override\"><code>polylines.update(id, (value) =&gt; polyline, ifAbsent: () =&gt; polyline);\n</code></pre>\n"}],"owner":{"account_id":16634020,"reputation":531,"user_id":12021185,"display_name":"MrObscure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690339992,"creation_date":1690315800,"question_id":76766203,"body_markdown":"hello I&#39;m getting this exception from the code below\r\nthis application is running with those packages:-\r\n\r\n\r\n`Location:^5.0.1`\r\n\r\n`google_maps_flutter:^2.3.1`\r\n\r\n`flutter_polyline_points:^1.0.0`\r\n\r\n`location: ^5.0.1`\r\n\r\nexception (`method_channel_location.dart`):-\r\n\r\n&gt; Exception has occurred.\r\n\r\n&gt;_TypeError (type &#39;_Map&lt;Object?, Object?&gt;&#39; is not a subtype of type &#39;Map&lt;String, dynamic&gt;&#39; in type cast)\r\n\r\ncode(the function below is responsible on navigation):-\r\n\r\n```\r\n  getNavigation() async {\r\n    bool _serviceEnabled;\r\n    PermissionStatus _permissionGranted;\r\n    final GoogleMapController? controller = await _controller.future;\r\n    location.changeSettings(accuracy: loc.LocationAccuracy.high);\r\n    _serviceEnabled = await location.serviceEnabled();\r\n\r\n    if (!_serviceEnabled) {\r\n      _serviceEnabled = await location.requestService();\r\n      if (!_serviceEnabled) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    _permissionGranted = await location.hasPermission();\r\n    if (_permissionGranted == PermissionStatus.denied) {\r\n      _permissionGranted = await location.requestPermission();\r\n      if (_permissionGranted != PermissionStatus.granted) {\r\n        return;\r\n      }\r\n    }\r\n    if (_permissionGranted == loc.PermissionStatus.granted) {\r\n      _currentPosition = await location.getLocation();\r\n      curLocation =\r\n          LatLng(_currentPosition!.latitude!, _currentPosition!.longitude!);\r\n      locationSubscription =\r\n          location.onLocationChanged.listen((LocationData currentLocation) {\r\n        controller?.animateCamera(CameraUpdate.newCameraPosition(CameraPosition(\r\n          target: LatLng(currentLocation.latitude!, currentLocation.longitude!),\r\n          zoom: 16,\r\n        )));\r\n        if (mounted) {\r\n          controller\r\n              ?.showMarkerInfoWindow(MarkerId(sourcePosition!.markerId.value));\r\n          setState(() {\r\n            curLocation =\r\n                LatLng(currentLocation.latitude!, currentLocation.longitude!);\r\n            sourcePosition = Marker(\r\n              markerId: MarkerId(currentLocation.toString()),\r\n              icon: BitmapDescriptor.defaultMarkerWithHue(\r\n                  BitmapDescriptor.hueBlue),\r\n              position:\r\n                  LatLng(currentLocation.latitude!, currentLocation.longitude!),\r\n              infoWindow: InfoWindow(\r\n                  title:\r\n                      &#39;${double.parse((getDistance(LatLng(widget.lat, widget.lang)).toStringAsFixed(2)))} km&#39;),\r\n              onTap: () {\r\n                print(&#39;market tapped&#39;);\r\n              },\r\n            );\r\n          });\r\n          getDirections(LatLng(widget.lat, widget.lang));\r\n        }\r\n      });\r\n    }\r\n  }\r\n```\r\nEven though the full code is:-\r\n\r\n```\r\nimport &#39;dart:async&#39;;\r\nimport &#39;package:applicationservice/main.dart&#39;;\r\nimport &#39;package:flutter/gestures.dart&#39;;\r\nimport &#39;package:flutter/material.dart&#39;;\r\nimport &#39;package:flutter/cupertino.dart&#39;;\r\nimport &#39;package:flutter_polyline_points/flutter_polyline_points.dart&#39;;\r\nimport &#39;package:google_maps_flutter/google_maps_flutter.dart&#39;;\r\nimport &#39;package:location/location.dart&#39;;\r\nimport &#39;package:location/location.dart&#39; as loc;\r\nimport &#39;dart:math&#39; show cos, sqrt, asin;\r\nimport &#39;package:url_launcher/url_launcher.dart&#39;;\r\n\r\nclass MainScreen extends StatefulWidget {\r\n  final double lat;\r\n  final double lang;\r\n  // const MainScreen({super.key, required this.lat, required this.lang});\r\n  MainScreen(this.lat, this.lang);\r\n\r\n  @override\r\n  State&lt;MainScreen&gt; createState() =&gt; _MainScreenState();\r\n}\r\n\r\nconst String google_api_key = &quot;AIzaSyAnpCS9K.......kabKsMAZzsQ&quot;;\r\n\r\nclass _MainScreenState extends State&lt;MainScreen&gt; {\r\n  final Completer&lt;GoogleMapController&gt; _controller = Completer();\r\n  Map&lt;PolylineId, Polyline&gt; polylines = {};\r\n  PolylinePoints polylinePoints = PolylinePoints();\r\n  Location location = Location();\r\n  Marker? sourcePosition, destinationPosition;\r\n  loc.LocationData? _currentPosition;\r\n  LatLng curLocation = LatLng(32.8945, 13.1807);\r\n  StreamSubscription&lt;loc.LocationData&gt;? locationSubscription;\r\n// تحديث الموقع\r\n\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n    addMarker();\r\n    getNavigation();\r\n  }\r\n\r\n  @override\r\n  void dispose() {\r\n    locationSubscription?.cancel();\r\n    super.dispose();\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Scaffold(\r\n        body: sourcePosition == null\r\n            ? Center(child: CircularProgressIndicator())\r\n            : Stack(\r\n                children: [\r\n                  GoogleMap(\r\n                    zoomControlsEnabled: false,\r\n                    polylines: Set&lt;Polyline&gt;.of(polylines.values),\r\n                    initialCameraPosition: CameraPosition(\r\n                      target: curLocation,\r\n                      zoom: 16,\r\n                    ),\r\n                    markers: {sourcePosition!, destinationPosition!},\r\n                    onTap: (latLng) {\r\n                      print(latLng);\r\n                    },\r\n                    onMapCreated: (GoogleMapController controller) {\r\n                      _controller.complete(controller);\r\n                    },\r\n                  ),\r\n                  Positioned(\r\n                    top: 30,\r\n                    left: 15,\r\n                    child: GestureDetector(\r\n                      onTap: () {\r\n                        Navigator.of(context).pushAndRemoveUntil(\r\n                            MaterialPageRoute(builder: (context) =&gt; MyApp()),\r\n                            (route) =&gt; false);\r\n                      },\r\n                      child: Icon(Icons.arrow_back),\r\n                    ),\r\n                  ),\r\n                  Positioned(\r\n                    bottom: 10,\r\n                    right: 10,\r\n                    child: Container(\r\n                      width: 50,\r\n                      height: 50,\r\n                      decoration: BoxDecoration(\r\n                          shape: BoxShape.circle, color: Colors.blue),\r\n                      child: Center(\r\n                          child: IconButton(\r\n                        icon: Icon(\r\n                          Icons.navigation_outlined,\r\n                          color: Colors.white,\r\n                        ),\r\n                        onPressed: () async {\r\n                          await launchUrl(Uri.parse(\r\n                              &#39;google.navigation:q=${widget.lat},${widget.lang}&amp;key=AIzaSyAnpCS9K8F......pZNb_kabKsMAZzsQ&#39;));\r\n                        },\r\n                      )),\r\n                    ),\r\n                  )\r\n                ],\r\n              ));\r\n  }\r\n\r\n  getNavigation() async {\r\n    bool _serviceEnabled;\r\n    PermissionStatus _permissionGranted;\r\n    final GoogleMapController? controller = await _controller.future;\r\n    location.changeSettings(accuracy: loc.LocationAccuracy.high);\r\n    _serviceEnabled = await location.serviceEnabled();\r\n\r\n    if (!_serviceEnabled) {\r\n      _serviceEnabled = await location.requestService();\r\n      if (!_serviceEnabled) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    _permissionGranted = await location.hasPermission();\r\n    if (_permissionGranted == PermissionStatus.denied) {\r\n      _permissionGranted = await location.requestPermission();\r\n      if (_permissionGranted != PermissionStatus.granted) {\r\n        return;\r\n      }\r\n    }\r\n    if (_permissionGranted == loc.PermissionStatus.granted) {\r\n      _currentPosition = await location.getLocation();\r\n      curLocation =\r\n          LatLng(_currentPosition!.latitude!, _currentPosition!.longitude!);\r\n      locationSubscription =\r\n          location.onLocationChanged.listen((LocationData currentLocation) {\r\n        controller?.animateCamera(CameraUpdate.newCameraPosition(CameraPosition(\r\n          target: LatLng(currentLocation.latitude!, currentLocation.longitude!),\r\n          zoom: 16,\r\n        )));\r\n        if (mounted) {\r\n          controller\r\n              ?.showMarkerInfoWindow(MarkerId(sourcePosition!.markerId.value));\r\n          setState(() {\r\n            curLocation =\r\n                LatLng(currentLocation.latitude!, currentLocation.longitude!);\r\n            sourcePosition = Marker(\r\n              markerId: MarkerId(currentLocation.toString()),\r\n              icon: BitmapDescriptor.defaultMarkerWithHue(\r\n                  BitmapDescriptor.hueBlue),\r\n              position:\r\n                  LatLng(currentLocation.latitude!, currentLocation.longitude!),\r\n              infoWindow: InfoWindow(\r\n                  title:\r\n                      &#39;${double.parse((getDistance(LatLng(widget.lat, widget.lang)).toStringAsFixed(2)))} km&#39;),\r\n              onTap: () {\r\n                print(&#39;market tapped&#39;);\r\n              },\r\n            );\r\n          });\r\n          getDirections(LatLng(widget.lat, widget.lang));\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  getDirections(LatLng dst) async {\r\n    List&lt;LatLng&gt; polylineCoordinates = [];\r\n    List&lt;dynamic&gt; points = [];\r\n    PolylineResult result = await polylinePoints.getRouteBetweenCoordinates(\r\n        google_api_key,\r\n        PointLatLng(curLocation.latitude, curLocation.longitude),\r\n        PointLatLng(dst.latitude, dst.longitude),\r\n        travelMode: TravelMode.driving);\r\n    if (result.points.isNotEmpty) {\r\n      result.points.forEach((PointLatLng point) {\r\n        polylineCoordinates.add(LatLng(point.latitude, point.longitude));\r\n        points.add({&#39;lat&#39;: point.latitude, &#39;lng&#39;: point.longitude});\r\n      });\r\n    } else {\r\n      print(result.errorMessage);\r\n    }\r\n    addPolyLine(polylineCoordinates);\r\n  }\r\n\r\n  addPolyLine(List&lt;LatLng&gt; polylineCoordinates) {\r\n    PolylineId id = PolylineId(&#39;poly&#39;);\r\n    Polyline polyline = Polyline(\r\n      polylineId: id,\r\n      color: Colors.blue,\r\n      points: polylineCoordinates,\r\n      width: 5,\r\n    );\r\n    polylines[id] = polyline;\r\n    setState(() {});\r\n  }\r\n\r\n  double calculateDistance(lat1, lon1, lat2, lon2) {\r\n    var p = 0.017453292519943295;\r\n    var c = cos;\r\n    var a = 0.5 -\r\n        c((lat2 - lat1) * p) / 2 +\r\n        c(lat1 * p) * c(lat2 * p) * (1 - c((lon2 - lon1) * p)) / 2;\r\n    return 12742 * asin(sqrt(a));\r\n  }\r\n\r\n  double getDistance(LatLng destposition) {\r\n    return calculateDistance(curLocation.latitude, curLocation.longitude,\r\n        destposition.latitude, destposition.longitude);\r\n  }\r\n\r\n  addMarker() {\r\n    setState(() {\r\n      sourcePosition = Marker(\r\n        markerId: MarkerId(&#39;source&#39;),\r\n        position: curLocation,\r\n        icon: BitmapDescriptor.defaultMarkerWithHue(BitmapDescriptor.hueAzure),\r\n      );\r\n      destinationPosition = Marker(\r\n        markerId: MarkerId(&#39;destination&#39;),\r\n        position: LatLng(widget.lat, widget.lang),\r\n        icon: BitmapDescriptor.defaultMarkerWithHue(BitmapDescriptor.hueCyan),\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\n```\r\nyour help is very appreciated, thanks.","title":"Excpetion _TypeError (type &#39;_Map&lt;Object?, Object?&gt;&#39; is not a subtype of type &#39;Map&lt;String, dynamic&gt;&#39; in type cast)","body":"<p>hello I'm getting this exception from the code below\nthis application is running with those packages:-</p>\n<p><code>Location:^5.0.1</code></p>\n<p><code>google_maps_flutter:^2.3.1</code></p>\n<p><code>flutter_polyline_points:^1.0.0</code></p>\n<p><code>location: ^5.0.1</code></p>\n<p>exception (<code>method_channel_location.dart</code>):-</p>\n<blockquote>\n<p>Exception has occurred.</p>\n</blockquote>\n<blockquote>\n<p>_TypeError (type '_Map&lt;Object?, Object?&gt;' is not a subtype of type 'Map&lt;String, dynamic&gt;' in type cast)</p>\n</blockquote>\n<p>code(the function below is responsible on navigation):-</p>\n<pre><code>  getNavigation() async {\n    bool _serviceEnabled;\n    PermissionStatus _permissionGranted;\n    final GoogleMapController? controller = await _controller.future;\n    location.changeSettings(accuracy: loc.LocationAccuracy.high);\n    _serviceEnabled = await location.serviceEnabled();\n\n    if (!_serviceEnabled) {\n      _serviceEnabled = await location.requestService();\n      if (!_serviceEnabled) {\n        return;\n      }\n    }\n\n    _permissionGranted = await location.hasPermission();\n    if (_permissionGranted == PermissionStatus.denied) {\n      _permissionGranted = await location.requestPermission();\n      if (_permissionGranted != PermissionStatus.granted) {\n        return;\n      }\n    }\n    if (_permissionGranted == loc.PermissionStatus.granted) {\n      _currentPosition = await location.getLocation();\n      curLocation =\n          LatLng(_currentPosition!.latitude!, _currentPosition!.longitude!);\n      locationSubscription =\n          location.onLocationChanged.listen((LocationData currentLocation) {\n        controller?.animateCamera(CameraUpdate.newCameraPosition(CameraPosition(\n          target: LatLng(currentLocation.latitude!, currentLocation.longitude!),\n          zoom: 16,\n        )));\n        if (mounted) {\n          controller\n              ?.showMarkerInfoWindow(MarkerId(sourcePosition!.markerId.value));\n          setState(() {\n            curLocation =\n                LatLng(currentLocation.latitude!, currentLocation.longitude!);\n            sourcePosition = Marker(\n              markerId: MarkerId(currentLocation.toString()),\n              icon: BitmapDescriptor.defaultMarkerWithHue(\n                  BitmapDescriptor.hueBlue),\n              position:\n                  LatLng(currentLocation.latitude!, currentLocation.longitude!),\n              infoWindow: InfoWindow(\n                  title:\n                      '${double.parse((getDistance(LatLng(widget.lat, widget.lang)).toStringAsFixed(2)))} km'),\n              onTap: () {\n                print('market tapped');\n              },\n            );\n          });\n          getDirections(LatLng(widget.lat, widget.lang));\n        }\n      });\n    }\n  }\n</code></pre>\n<p>Even though the full code is:-</p>\n<pre><code>import 'dart:async';\nimport 'package:applicationservice/main.dart';\nimport 'package:flutter/gestures.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter_polyline_points/flutter_polyline_points.dart';\nimport 'package:google_maps_flutter/google_maps_flutter.dart';\nimport 'package:location/location.dart';\nimport 'package:location/location.dart' as loc;\nimport 'dart:math' show cos, sqrt, asin;\nimport 'package:url_launcher/url_launcher.dart';\n\nclass MainScreen extends StatefulWidget {\n  final double lat;\n  final double lang;\n  // const MainScreen({super.key, required this.lat, required this.lang});\n  MainScreen(this.lat, this.lang);\n\n  @override\n  State&lt;MainScreen&gt; createState() =&gt; _MainScreenState();\n}\n\nconst String google_api_key = &quot;AIzaSyAnpCS9K.......kabKsMAZzsQ&quot;;\n\nclass _MainScreenState extends State&lt;MainScreen&gt; {\n  final Completer&lt;GoogleMapController&gt; _controller = Completer();\n  Map&lt;PolylineId, Polyline&gt; polylines = {};\n  PolylinePoints polylinePoints = PolylinePoints();\n  Location location = Location();\n  Marker? sourcePosition, destinationPosition;\n  loc.LocationData? _currentPosition;\n  LatLng curLocation = LatLng(32.8945, 13.1807);\n  StreamSubscription&lt;loc.LocationData&gt;? locationSubscription;\n// تحديث الموقع\n\n  @override\n  void initState() {\n    super.initState();\n    addMarker();\n    getNavigation();\n  }\n\n  @override\n  void dispose() {\n    locationSubscription?.cancel();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        body: sourcePosition == null\n            ? Center(child: CircularProgressIndicator())\n            : Stack(\n                children: [\n                  GoogleMap(\n                    zoomControlsEnabled: false,\n                    polylines: Set&lt;Polyline&gt;.of(polylines.values),\n                    initialCameraPosition: CameraPosition(\n                      target: curLocation,\n                      zoom: 16,\n                    ),\n                    markers: {sourcePosition!, destinationPosition!},\n                    onTap: (latLng) {\n                      print(latLng);\n                    },\n                    onMapCreated: (GoogleMapController controller) {\n                      _controller.complete(controller);\n                    },\n                  ),\n                  Positioned(\n                    top: 30,\n                    left: 15,\n                    child: GestureDetector(\n                      onTap: () {\n                        Navigator.of(context).pushAndRemoveUntil(\n                            MaterialPageRoute(builder: (context) =&gt; MyApp()),\n                            (route) =&gt; false);\n                      },\n                      child: Icon(Icons.arrow_back),\n                    ),\n                  ),\n                  Positioned(\n                    bottom: 10,\n                    right: 10,\n                    child: Container(\n                      width: 50,\n                      height: 50,\n                      decoration: BoxDecoration(\n                          shape: BoxShape.circle, color: Colors.blue),\n                      child: Center(\n                          child: IconButton(\n                        icon: Icon(\n                          Icons.navigation_outlined,\n                          color: Colors.white,\n                        ),\n                        onPressed: () async {\n                          await launchUrl(Uri.parse(\n                              'google.navigation:q=${widget.lat},${widget.lang}&amp;key=AIzaSyAnpCS9K8F......pZNb_kabKsMAZzsQ'));\n                        },\n                      )),\n                    ),\n                  )\n                ],\n              ));\n  }\n\n  getNavigation() async {\n    bool _serviceEnabled;\n    PermissionStatus _permissionGranted;\n    final GoogleMapController? controller = await _controller.future;\n    location.changeSettings(accuracy: loc.LocationAccuracy.high);\n    _serviceEnabled = await location.serviceEnabled();\n\n    if (!_serviceEnabled) {\n      _serviceEnabled = await location.requestService();\n      if (!_serviceEnabled) {\n        return;\n      }\n    }\n\n    _permissionGranted = await location.hasPermission();\n    if (_permissionGranted == PermissionStatus.denied) {\n      _permissionGranted = await location.requestPermission();\n      if (_permissionGranted != PermissionStatus.granted) {\n        return;\n      }\n    }\n    if (_permissionGranted == loc.PermissionStatus.granted) {\n      _currentPosition = await location.getLocation();\n      curLocation =\n          LatLng(_currentPosition!.latitude!, _currentPosition!.longitude!);\n      locationSubscription =\n          location.onLocationChanged.listen((LocationData currentLocation) {\n        controller?.animateCamera(CameraUpdate.newCameraPosition(CameraPosition(\n          target: LatLng(currentLocation.latitude!, currentLocation.longitude!),\n          zoom: 16,\n        )));\n        if (mounted) {\n          controller\n              ?.showMarkerInfoWindow(MarkerId(sourcePosition!.markerId.value));\n          setState(() {\n            curLocation =\n                LatLng(currentLocation.latitude!, currentLocation.longitude!);\n            sourcePosition = Marker(\n              markerId: MarkerId(currentLocation.toString()),\n              icon: BitmapDescriptor.defaultMarkerWithHue(\n                  BitmapDescriptor.hueBlue),\n              position:\n                  LatLng(currentLocation.latitude!, currentLocation.longitude!),\n              infoWindow: InfoWindow(\n                  title:\n                      '${double.parse((getDistance(LatLng(widget.lat, widget.lang)).toStringAsFixed(2)))} km'),\n              onTap: () {\n                print('market tapped');\n              },\n            );\n          });\n          getDirections(LatLng(widget.lat, widget.lang));\n        }\n      });\n    }\n  }\n\n  getDirections(LatLng dst) async {\n    List&lt;LatLng&gt; polylineCoordinates = [];\n    List&lt;dynamic&gt; points = [];\n    PolylineResult result = await polylinePoints.getRouteBetweenCoordinates(\n        google_api_key,\n        PointLatLng(curLocation.latitude, curLocation.longitude),\n        PointLatLng(dst.latitude, dst.longitude),\n        travelMode: TravelMode.driving);\n    if (result.points.isNotEmpty) {\n      result.points.forEach((PointLatLng point) {\n        polylineCoordinates.add(LatLng(point.latitude, point.longitude));\n        points.add({'lat': point.latitude, 'lng': point.longitude});\n      });\n    } else {\n      print(result.errorMessage);\n    }\n    addPolyLine(polylineCoordinates);\n  }\n\n  addPolyLine(List&lt;LatLng&gt; polylineCoordinates) {\n    PolylineId id = PolylineId('poly');\n    Polyline polyline = Polyline(\n      polylineId: id,\n      color: Colors.blue,\n      points: polylineCoordinates,\n      width: 5,\n    );\n    polylines[id] = polyline;\n    setState(() {});\n  }\n\n  double calculateDistance(lat1, lon1, lat2, lon2) {\n    var p = 0.017453292519943295;\n    var c = cos;\n    var a = 0.5 -\n        c((lat2 - lat1) * p) / 2 +\n        c(lat1 * p) * c(lat2 * p) * (1 - c((lon2 - lon1) * p)) / 2;\n    return 12742 * asin(sqrt(a));\n  }\n\n  double getDistance(LatLng destposition) {\n    return calculateDistance(curLocation.latitude, curLocation.longitude,\n        destposition.latitude, destposition.longitude);\n  }\n\n  addMarker() {\n    setState(() {\n      sourcePosition = Marker(\n        markerId: MarkerId('source'),\n        position: curLocation,\n        icon: BitmapDescriptor.defaultMarkerWithHue(BitmapDescriptor.hueAzure),\n      );\n      destinationPosition = Marker(\n        markerId: MarkerId('destination'),\n        position: LatLng(widget.lat, widget.lang),\n        icon: BitmapDescriptor.defaultMarkerWithHue(BitmapDescriptor.hueCyan),\n      );\n    });\n  }\n}\n\n</code></pre>\n<p>your help is very appreciated, thanks.</p>\n"},{"tags":["java","google-cloud-platform"],"answers":[{"comments":[{"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"score":0,"creation_date":1536830566,"post_id":52310468,"comment_id":91568115,"body_markdown":"Yes, I already saw this page but could not find how to do that in java API.","body":"Yes, I already saw this page but could not find how to do that in java API."},{"owner":{"account_id":8838439,"reputation":728,"user_id":6601645,"accept_rate":100,"display_name":"Lee"},"score":0,"creation_date":1536832349,"post_id":52310468,"comment_id":91569237,"body_markdown":"@DmitryGorkovets Can you be more specific on why you could not find how to do that in java API? Don&#39;t know how to use Java API calls?","body":"@DmitryGorkovets Can you be more specific on why you could not find how to do that in java API? Don&#39;t know how to use Java API calls?"},{"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"score":0,"creation_date":1536910680,"post_id":52310468,"comment_id":91601113,"body_markdown":"Thanks! I took Java sample from https://cloud.google.com/resource-manager/reference/rest/v1/projects/list. Note that it is accessible in &quot;v1&quot; version. &quot;v2&quot; version does not have such functionality in CloudResourceManager.","body":"Thanks! I took Java sample from <a href=\"https://cloud.google.com/resource-manager/reference/rest/v1/projects/list\" rel=\"nofollow noreferrer\">cloud.google.com/resource-manager/reference/rest/v1/projects&zwnj;&#8203;/&hellip;</a>. Note that it is accessible in &quot;v1&quot; version. &quot;v2&quot; version does not have such functionality in CloudResourceManager."}],"tags":[],"owner":{"account_id":8838439,"reputation":728,"user_id":6601645,"accept_rate":100,"display_name":"Lee"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1536830145,"creation_date":1536830145,"answer_id":52310468,"question_id":52307471,"body_markdown":"I think GCP did not provide an API to map a project ID to a project number. But they did provide a [project list API][1], after you get the list of the projects. You can map the project number by yourself.\r\n\r\n\r\n  [1]: https://cloud.google.com/resource-manager/docs/creating-managing-projects#listing_projects","title":"Get Google Cloud Project Number using its Id","body":"<p>I think GCP did not provide an API to map a project ID to a project number. But they did provide a <a href=\"https://cloud.google.com/resource-manager/docs/creating-managing-projects#listing_projects\" rel=\"noreferrer\">project list API</a>, after you get the list of the projects. You can map the project number by yourself.</p>\n"},{"comments":[{"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"score":0,"creation_date":1550125767,"post_id":54657449,"comment_id":96157073,"body_markdown":"I had to do that programmatically from Java. Anyway I solved this issue, see my comment above.","body":"I had to do that programmatically from Java. Anyway I solved this issue, see my comment above."},{"owner":{"account_id":20213,"reputation":190030,"user_id":48082,"accept_rate":96,"display_name":"Cheeso"},"score":3,"creation_date":1602608983,"post_id":54657449,"comment_id":113772487,"body_markdown":"I know the OP wanted a Java API for this, but... in case other searchers come here looking for the way to map a project_id to a project number using gcloud, this is not the best way to do it (not in October 2020 anyway).  Try this: `gcloud projects describe $PROJECT_ID --format=&quot;value(projectNumber)&quot;` See the documentation: https://cloud.google.com/sdk/gcloud/reference/projects/describe","body":"I know the OP wanted a Java API for this, but... in case other searchers come here looking for the way to map a project_id to a project number using gcloud, this is not the best way to do it (not in October 2020 anyway).  Try this: <code>gcloud projects describe $PROJECT_ID --format=&quot;value(projectNumber)&quot;</code> See the documentation: <a href=\"https://cloud.google.com/sdk/gcloud/reference/projects/describe\" rel=\"nofollow noreferrer\">cloud.google.com/sdk/gcloud/reference/projects/describe</a>"}],"tags":[],"owner":{"account_id":15320004,"reputation":371,"user_id":11052778,"display_name":"erkolson"},"comment_count":2,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1633015047,"creation_date":1549999997,"answer_id":54657449,"question_id":52307471,"body_markdown":"Not sure why they don&#39;t expose it directly, but you can do this (assuming your current configuration project corresponds to the desired project number):\r\n\r\n```console\r\ngcloud projects list \\\r\n--filter=&quot;$(gcloud config get-value project)&quot; \\\r\n--format=&quot;value(PROJECT_NUMBER)&quot;\r\n```","title":"Get Google Cloud Project Number using its Id","body":"<p>Not sure why they don't expose it directly, but you can do this (assuming your current configuration project corresponds to the desired project number):</p>\n<pre><code>gcloud projects list \\\n--filter=&quot;$(gcloud config get-value project)&quot; \\\n--format=&quot;value(PROJECT_NUMBER)&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4574545,"reputation":347,"user_id":3713336,"accept_rate":70,"display_name":"lisa_rao007"},"score":0,"creation_date":1666311973,"post_id":62822411,"comment_id":130913079,"body_markdown":"can we get project name instead of number and instead of java, can we do it with python","body":"can we get project name instead of number and instead of java, can we do it with python"},{"owner":{"account_id":1118152,"reputation":1791,"user_id":1107013,"accept_rate":50,"display_name":"Gavin Haynes"},"score":0,"creation_date":1666372655,"post_id":62822411,"comment_id":130929645,"body_markdown":"@user3713336 yeah I&#39;ve added a python example at the end of my answer. The name will be `project[&#39;name&#39;]`","body":"@user3713336 yeah I&#39;ve added a python example at the end of my answer. The name will be <code>project[&#39;name&#39;]</code>"},{"owner":{"account_id":4574545,"reputation":347,"user_id":3713336,"accept_rate":70,"display_name":"lisa_rao007"},"score":0,"creation_date":1666377385,"post_id":62822411,"comment_id":130930948,"body_markdown":"It gives the entire name- what if i just want the display name. Just want to print the display name","body":"It gives the entire name- what if i just want the display name. Just want to print the display name"},{"owner":{"account_id":1118152,"reputation":1791,"user_id":1107013,"accept_rate":50,"display_name":"Gavin Haynes"},"score":0,"creation_date":1666542587,"post_id":62822411,"comment_id":130956878,"body_markdown":"what? That&#39;s all the info. project[&#39;name&#39;] is the display name isn&#39;t it name. what else do you want?","body":"what? That&#39;s all the info. project[&#39;name&#39;] is the display name isn&#39;t it name. what else do you want?"},{"owner":{"account_id":4574545,"reputation":347,"user_id":3713336,"accept_rate":70,"display_name":"lisa_rao007"},"score":0,"creation_date":1667441756,"post_id":62822411,"comment_id":131170081,"body_markdown":"anyone is able to help me with this one - https://devops.stackexchange.com/questions/16829/how-can-i-force-an-immediate-run-of-a-job-trigger","body":"anyone is able to help me with this one - <a href=\"https://devops.stackexchange.com/questions/16829/how-can-i-force-an-immediate-run-of-a-job-trigger\" title=\"how can i force an immediate run of a job trigger\">devops.stackexchange.com/questions/16829/&hellip;</a>"}],"tags":[],"owner":{"account_id":1118152,"reputation":1791,"user_id":1107013,"accept_rate":50,"display_name":"Gavin Haynes"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666372599,"creation_date":1594323378,"answer_id":62822411,"question_id":52307471,"body_markdown":"There is an API now.\r\n\r\nThe jar version of the cloudresourcemanager java library supports it directly, as in the example here https://cloud.google.com/resource-manager/reference/rest/v1/projects/get\r\n\r\nWith maven dependencies, you can do\r\n\r\npom.xml\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/com.google.apis/google-api-services-cloudresourcemanager --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-api-services-cloudresourcemanager&lt;/artifactId&gt;\r\n    &lt;version&gt;v2-rev20200617-1.30.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nCloudResourceManagerExample.java (adapted from the example by Google)\r\n```\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.http.HttpTransport;\r\nimport com.google.api.client.json.JsonFactory;\r\nimport com.google.api.client.json.jackson2.JacksonFactory;\r\nimport com.google.api.services.cloudresourcemanager.CloudResourceManager;\r\nimport com.google.api.services.cloudresourcemanager.model.Project;\r\nimport java.io.IOException;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.Arrays;\r\n\r\nimport org.apache.commons.io.IOUtils\r\nimport com.google.api.client.http.GenericUrl;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class CloudResourceManagerExample {\r\n  public static void main(String args[]) throws IOException, GeneralSecurityException {\r\n    // The Project ID (for example, `my-project-123`).\r\n    // Required.\r\n    String projectId = &quot;my-project-id&quot;; // TODO: Update placeholder value.\r\n\r\n    CloudResourceManager cloudResourceManagerService = createCloudResourceManagerService();\r\n\r\n    String response = IOUtils.toString(cloudResourceManagerService.getRequestFactory().buildGetRequest(new GenericUrl(&quot;https://cloudresourcemanager.googleapis.com/v1/projects/&quot; + projectId)).execute().getContent(), StandardCharsets.UTF_8);\r\n\r\n    // TODO: Change code below to process the `response` object:\r\n    System.out.println(response);\r\n  }\r\n\r\n  public static CloudResourceManager createCloudResourceManagerService()\r\n      throws IOException, GeneralSecurityException {\r\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n    JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\r\n\r\n    GoogleCredential credential = GoogleCredential.getApplicationDefault();\r\n    if (credential.createScopedRequired()) {\r\n      credential =\r\n          credential.createScoped(Arrays.asList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\r\n    }\r\n\r\n    return new CloudResourceManager.Builder(httpTransport, jsonFactory, credential)\r\n        .setApplicationName(&quot;Google-CloudResourceManagerSample/0.1&quot;)\r\n        .build();\r\n  }\r\n}\r\n```\r\n\r\n`response` will be something like `{&quot;projectNumber&quot;: &quot;123456&quot;, ...}`\r\n\r\nIn python you can do\r\n\r\n```\r\n# python3 -m pip install google.auth google-api-python-client\r\n# from https://github.com/GoogleCloudPlatform/python-docs-samples/blob/main/iam/api-client/quickstart.py\r\nimport google.auth\r\nimport googleapiclient.discovery\r\ndef initialize_service():\r\n    &quot;&quot;&quot;Initializes a Cloud Resource Manager service.&quot;&quot;&quot;\r\n\r\n    credentials, _ = google.auth.default(\r\n        scopes=[&quot;https://www.googleapis.com/auth/cloud-platform&quot;]\r\n    )\r\n    crm_service = googleapiclient.discovery.build(\r\n        &quot;cloudresourcemanager&quot;, &quot;v1&quot;, credentials=credentials\r\n    )\r\n    return crm_service\r\n\r\ncrm_service = initialize_service()\r\nproject = r.get(projectId=MY_PROJECT_ID).execute()\r\n```","title":"Get Google Cloud Project Number using its Id","body":"<p>There is an API now.</p>\n<p>The jar version of the cloudresourcemanager java library supports it directly, as in the example here <a href=\"https://cloud.google.com/resource-manager/reference/rest/v1/projects/get\" rel=\"nofollow noreferrer\">https://cloud.google.com/resource-manager/reference/rest/v1/projects/get</a></p>\n<p>With maven dependencies, you can do</p>\n<p>pom.xml</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.apis/google-api-services-cloudresourcemanager --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-services-cloudresourcemanager&lt;/artifactId&gt;\n    &lt;version&gt;v2-rev20200617-1.30.9&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.7&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>CloudResourceManagerExample.java (adapted from the example by Google)</p>\n<pre><code>import com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.services.cloudresourcemanager.CloudResourceManager;\nimport com.google.api.services.cloudresourcemanager.model.Project;\nimport java.io.IOException;\nimport java.security.GeneralSecurityException;\nimport java.util.Arrays;\n\nimport org.apache.commons.io.IOUtils\nimport com.google.api.client.http.GenericUrl;\nimport java.nio.charset.StandardCharsets;\n\npublic class CloudResourceManagerExample {\n  public static void main(String args[]) throws IOException, GeneralSecurityException {\n    // The Project ID (for example, `my-project-123`).\n    // Required.\n    String projectId = &quot;my-project-id&quot;; // TODO: Update placeholder value.\n\n    CloudResourceManager cloudResourceManagerService = createCloudResourceManagerService();\n\n    String response = IOUtils.toString(cloudResourceManagerService.getRequestFactory().buildGetRequest(new GenericUrl(&quot;https://cloudresourcemanager.googleapis.com/v1/projects/&quot; + projectId)).execute().getContent(), StandardCharsets.UTF_8);\n\n    // TODO: Change code below to process the `response` object:\n    System.out.println(response);\n  }\n\n  public static CloudResourceManager createCloudResourceManagerService()\n      throws IOException, GeneralSecurityException {\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n    JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\n\n    GoogleCredential credential = GoogleCredential.getApplicationDefault();\n    if (credential.createScopedRequired()) {\n      credential =\n          credential.createScoped(Arrays.asList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\n    }\n\n    return new CloudResourceManager.Builder(httpTransport, jsonFactory, credential)\n        .setApplicationName(&quot;Google-CloudResourceManagerSample/0.1&quot;)\n        .build();\n  }\n}\n</code></pre>\n<p><code>response</code> will be something like <code>{&quot;projectNumber&quot;: &quot;123456&quot;, ...}</code></p>\n<p>In python you can do</p>\n<pre><code># python3 -m pip install google.auth google-api-python-client\n# from https://github.com/GoogleCloudPlatform/python-docs-samples/blob/main/iam/api-client/quickstart.py\nimport google.auth\nimport googleapiclient.discovery\ndef initialize_service():\n    &quot;&quot;&quot;Initializes a Cloud Resource Manager service.&quot;&quot;&quot;\n\n    credentials, _ = google.auth.default(\n        scopes=[&quot;https://www.googleapis.com/auth/cloud-platform&quot;]\n    )\n    crm_service = googleapiclient.discovery.build(\n        &quot;cloudresourcemanager&quot;, &quot;v1&quot;, credentials=credentials\n    )\n    return crm_service\n\ncrm_service = initialize_service()\nproject = r.get(projectId=MY_PROJECT_ID).execute()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4574545,"reputation":347,"user_id":3713336,"accept_rate":70,"display_name":"lisa_rao007"},"score":0,"creation_date":1666312001,"post_id":63301790,"comment_id":130913082,"body_markdown":"can we get project name instead of number and instead of java, can we do it with python","body":"can we get project name instead of number and instead of java, can we do it with python"}],"tags":[],"owner":{"account_id":973980,"reputation":53295,"user_id":995862,"accept_rate":89,"display_name":"Kurt Peek"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596802933,"creation_date":1596802933,"answer_id":63301790,"question_id":52307471,"body_markdown":"Although this question is for Java, for those who might find it useful, here is a program to obtain a Google Project number from its ID in Go as well:\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t&quot;context&quot;\r\n\t&quot;flag&quot;\r\n\t&quot;fmt&quot;\r\n\t&quot;log&quot;\r\n\r\n\t&quot;google.golang.org/api/cloudresourcemanager/v1&quot;\r\n)\r\n\r\nvar projectID string\r\n\r\nfunc main() {\r\n\tflag.StringVar(&amp;projectID, &quot;projectID&quot;, &quot;&quot;, &quot;Google Cloud Project ID&quot;)\r\n\tflag.Parse()\r\n\r\n\tcloudresourcemanagerService, err := cloudresourcemanager.NewService(context.Background())\r\n\tif err != nil {\r\n\t\tlog.Fatalf(&quot;NewService: %v&quot;, err)\r\n\t}\r\n\r\n\tproject, err := cloudresourcemanagerService.Projects.Get(projectID).Do()\r\n\tif err != nil {\r\n\t\tlog.Fatalf(&quot;Get project: %v&quot;, err)\r\n\t}\r\n\r\n\tfmt.Printf(&quot;Project number for project %s: %d\\n&quot;, projectID, project.ProjectNumber)\r\n}\r\n```\r\n\r\nYou can run it like so:\r\n\r\n```\r\n&gt; go run main.go --projectID=&quot;my-project&quot;\r\nProject number for project my-project: 123456789817\r\n```\r\n\r\n(Note that this example uses Google Application Default Credentials (cf. https://godoc.org/google.golang.org/api/cloudresourcemanager/v1#hdr-Creating_a_client)).","title":"Get Google Cloud Project Number using its Id","body":"<p>Although this question is for Java, for those who might find it useful, here is a program to obtain a Google Project number from its ID in Go as well:</p>\n<pre class=\"lang-golang prettyprint-override\"><code>package main\n\nimport (\n    &quot;context&quot;\n    &quot;flag&quot;\n    &quot;fmt&quot;\n    &quot;log&quot;\n\n    &quot;google.golang.org/api/cloudresourcemanager/v1&quot;\n)\n\nvar projectID string\n\nfunc main() {\n    flag.StringVar(&amp;projectID, &quot;projectID&quot;, &quot;&quot;, &quot;Google Cloud Project ID&quot;)\n    flag.Parse()\n\n    cloudresourcemanagerService, err := cloudresourcemanager.NewService(context.Background())\n    if err != nil {\n        log.Fatalf(&quot;NewService: %v&quot;, err)\n    }\n\n    project, err := cloudresourcemanagerService.Projects.Get(projectID).Do()\n    if err != nil {\n        log.Fatalf(&quot;Get project: %v&quot;, err)\n    }\n\n    fmt.Printf(&quot;Project number for project %s: %d\\n&quot;, projectID, project.ProjectNumber)\n}\n</code></pre>\n<p>You can run it like so:</p>\n<pre><code>&gt; go run main.go --projectID=&quot;my-project&quot;\nProject number for project my-project: 123456789817\n</code></pre>\n<p>(Note that this example uses Google Application Default Credentials (cf. <a href=\"https://godoc.org/google.golang.org/api/cloudresourcemanager/v1#hdr-Creating_a_client\" rel=\"nofollow noreferrer\">https://godoc.org/google.golang.org/api/cloudresourcemanager/v1#hdr-Creating_a_client</a>)).</p>\n"},{"tags":[],"owner":{"account_id":7127475,"reputation":3882,"user_id":5449925,"display_name":"houtanb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605211557,"creation_date":1605211557,"answer_id":64811009,"question_id":52307471,"body_markdown":"You can just use `gcloud projects describe &lt;&lt;project_id&gt;&gt;` ([documentation][1])\r\n```\r\n$ gcloud projects describe XXX\r\ncreateTime: ...\r\nlifecycleState: ...\r\nname: ...\r\nparent:\r\n  id: ...\r\n  type: ...\r\nprojectId: XXX\r\nprojectNumber: &#39;YYY&#39;\r\n```\r\n\r\n\r\n  [1]: https://cloud.google.com/sdk/gcloud/reference/projects/describe","title":"Get Google Cloud Project Number using its Id","body":"<p>You can just use <code>gcloud projects describe &lt;&lt;project_id&gt;&gt;</code> (<a href=\"https://cloud.google.com/sdk/gcloud/reference/projects/describe\" rel=\"nofollow noreferrer\">documentation</a>)</p>\n<pre><code>$ gcloud projects describe XXX\ncreateTime: ...\nlifecycleState: ...\nname: ...\nparent:\n  id: ...\n  type: ...\nprojectId: XXX\nprojectNumber: 'YYY'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7004951,"reputation":2471,"user_id":5369706,"display_name":"Jason R Stevens CFA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615662067,"creation_date":1615662067,"answer_id":66617449,"question_id":52307471,"body_markdown":"My answer doesn&#39;t do anything in Java but should work in many environments, i.e. `bash` or `zsh`, using tools most have access to during development or within containerized environments.\r\n\r\nAssuming you&#39;re using some type of build process, you could trivially:\r\n1. throw the following command into a docker container, \r\n2. output the result (the project number) in a build step, and \r\n3. store that in an environment variable for use in additional steps. \r\n\r\n### Using `gcloud`, `grep` , and `awk`\r\n&gt; _This assumes you have the string project name set in the `PROJECT_NAME` environment variable._\r\n\r\nThis is a super simple solution using the Google Cloud SDK and the commonly available CLI tools `grep` and `awk`:\r\n\r\n```sh\r\ngcloud projects list | grep &#39;${PROJECT_NAME} &#39; | awk &#39;{print $3}&#39;\r\n```\r\n\r\n&gt; _Note: I suspect very big accounts with many projects may not want to query the entire list each time an individual project number is required. For those cases [@erkolson&#39;s answer](https://stackoverflow.com/a/54657449) is likely the best solution._","title":"Get Google Cloud Project Number using its Id","body":"<p>My answer doesn't do anything in Java but should work in many environments, i.e. <code>bash</code> or <code>zsh</code>, using tools most have access to during development or within containerized environments.</p>\n<p>Assuming you're using some type of build process, you could trivially:</p>\n<ol>\n<li>throw the following command into a docker container,</li>\n<li>output the result (the project number) in a build step, and</li>\n<li>store that in an environment variable for use in additional steps.</li>\n</ol>\n<h3>Using <code>gcloud</code>, <code>grep</code> , and <code>awk</code></h3>\n<blockquote>\n<p><em>This assumes you have the string project name set in the <code>PROJECT_NAME</code> environment variable.</em></p>\n</blockquote>\n<p>This is a super simple solution using the Google Cloud SDK and the commonly available CLI tools <code>grep</code> and <code>awk</code>:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>gcloud projects list | grep '${PROJECT_NAME} ' | awk '{print $3}'\n</code></pre>\n<blockquote>\n<p><em>Note: I suspect very big accounts with many projects may not want to query the entire list each time an individual project number is required. For those cases <a href=\"https://stackoverflow.com/a/54657449\">@erkolson's answer</a> is likely the best solution.</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637667257,"creation_date":1637667257,"answer_id":70080157,"question_id":52307471,"body_markdown":"there are a list of api&#39;s that can provide it, from the command line would be:\r\n\r\n\r\n    gcloud projects list --filter=&quot;$(gcloud config get-value project)&quot; --format=&quot;value(PROJECT_NUMBER)&quot;\r\n\r\nit is possible to get also the project id : \r\n\r\n    gcloud projects list --filter=&quot;$(gcloud config get-value project)&quot; --format=&quot;value(PROJECT_ID)&quot;","title":"Get Google Cloud Project Number using its Id","body":"<p>there are a list of api's that can provide it, from the command line would be:</p>\n<pre><code>gcloud projects list --filter=&quot;$(gcloud config get-value project)&quot; --format=&quot;value(PROJECT_NUMBER)&quot;\n</code></pre>\n<p>it is possible to get also the project id :</p>\n<pre><code>gcloud projects list --filter=&quot;$(gcloud config get-value project)&quot; --format=&quot;value(PROJECT_ID)&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25577404,"reputation":91,"user_id":19356577,"display_name":"Ben K"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1655444517,"creation_date":1655444517,"answer_id":72654784,"question_id":52307471,"body_markdown":"This gcloud command will return the project number: \r\n \r\n\r\n    gcloud projects describe $PROJECT_ID --format=&quot;value(projectNumber)&quot;\r\n\r\nYou can then use this in a command to grant access such as:\r\n\r\n    gcloud projects add-iam-policy-binding $PROJECT_ID  --member=serviceAccount:$(gcloud projects describe $PROJECT_ID --format=&quot;value(projectNumber)&quot;)@@storage-transfer-service.iam.gserviceaccount.com --role=roles/storage.legacyBucketWriter\r\n\r\n\r\n","title":"Get Google Cloud Project Number using its Id","body":"<p>This gcloud command will return the project number:</p>\n<pre><code>gcloud projects describe $PROJECT_ID --format=&quot;value(projectNumber)&quot;\n</code></pre>\n<p>You can then use this in a command to grant access such as:</p>\n<pre><code>gcloud projects add-iam-policy-binding $PROJECT_ID  --member=serviceAccount:$(gcloud projects describe $PROJECT_ID --format=&quot;value(projectNumber)&quot;)@@storage-transfer-service.iam.gserviceaccount.com --role=roles/storage.legacyBucketWriter\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9215343,"reputation":928,"user_id":6846706,"display_name":"tidakdiinginkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690338635,"creation_date":1690338635,"answer_id":76767644,"question_id":52307471,"body_markdown":"Ensure you install the following package:\r\n```\r\npip install google-cloud-resource-manager\r\n```\r\n\r\nSource code:\r\n```\r\nfrom google.cloud import resourcemanager_v3\r\n\r\ndef get_project_number(project_id):\r\n    client = resourcemanager_v3.ProjectsClient()\r\n    project = client.get_project(name=f&quot;projects/{project_id}&quot;).name\r\n    return project.split(&#39;/&#39;)[-1]\r\n\r\nproject_id = &#39;myprojectid&#39;\r\nproject_number = get_project_number(project_id)\r\nprint(f&quot;The project number for project {project_id} is: {project_number}&quot;)\r\n```","title":"Get Google Cloud Project Number using its Id","body":"<p>Ensure you install the following package:</p>\n<pre><code>pip install google-cloud-resource-manager\n</code></pre>\n<p>Source code:</p>\n<pre><code>from google.cloud import resourcemanager_v3\n\ndef get_project_number(project_id):\n    client = resourcemanager_v3.ProjectsClient()\n    project = client.get_project(name=f&quot;projects/{project_id}&quot;).name\n    return project.split('/')[-1]\n\nproject_id = 'myprojectid'\nproject_number = get_project_number(project_id)\nprint(f&quot;The project number for project {project_id} is: {project_number}&quot;)\n</code></pre>\n"}],"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28983,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":52310468,"answer_count":9,"score":23,"last_activity_date":1690338635,"creation_date":1536818312,"question_id":52307471,"body_markdown":"I have Google Cloud Service account and projectId and want to get projectNumber programmatically from Java.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow can I get it?\r\n\r\n\r\nBasically I have Service Account and want to use it for granting role &quot;roles/storage.legacyBucketWriter&quot; for the account &quot;project-XXXXXXX@storage-transfer-service.iam.gserviceaccount.com&quot; in the Google Cloud Storage Bucket.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V8aQt.png","title":"Get Google Cloud Project Number using its Id","body":"<p>I have Google Cloud Service account and projectId and want to get projectNumber programmatically from Java.</p>\n\n<p><a href=\"https://i.stack.imgur.com/V8aQt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/V8aQt.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I get it?</p>\n\n<p>Basically I have Service Account and want to use it for granting role \"roles/storage.legacyBucketWriter\" for the account \"project-XXXXXXX@storage-transfer-service.iam.gserviceaccount.com\" in the Google Cloud Storage Bucket.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","converters"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1502888458,"post_id":45714200,"comment_id":78386613,"body_markdown":"JPA 2.2 allows injecting properties into `AttributeConverters` using CDI, so if you are using an implementation that supports that you could give a converter some state. Other than that, no.","body":"JPA 2.2 allows injecting properties into <code>AttributeConverters</code> using CDI, so if you are using an implementation that supports that you could give a converter some state. Other than that, no."},{"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"score":0,"creation_date":1502892667,"post_id":45714200,"comment_id":78389733,"body_markdown":"i feel design misconception, such conversion is possible, but I&#39;m not sure best at entity level","body":"i feel design misconception, such conversion is possible, but I&#39;m not sure best at entity level"},{"owner":{"account_id":7020942,"reputation":28624,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1502893183,"post_id":45714200,"comment_id":78390170,"body_markdown":"Maybe this post will be useful https://stackoverflow.com/a/45628612","body":"Maybe this post will be useful <a href=\"https://stackoverflow.com/a/45628612\">stackoverflow.com/a/45628612</a>"}],"answers":[{"tags":[],"owner":{"account_id":7146992,"reputation":3381,"user_id":5462372,"accept_rate":64,"display_name":"MSS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690338582,"creation_date":1507451083,"answer_id":46629012,"question_id":45714200,"body_markdown":"You can achieve this by writing an abstract class `SomeAbstractClass` for your entity with `equal` and `hashcode` methods implemented. It can also have a property to store the state. Now your concrete implementation `SomeClass1` can implement this abstract class and add further details.\r\n\r\n```java\r\npublic SomeClass1 extends SomeAbstractClass {\r\n}\r\n\r\npublic SomeClass2 extends SomeAbstractClass {\r\n}\r\n```\r\n\r\nNow for [Converter](https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/Converter.html) class (implementing [AttributeConverter](https://docs.oracle.com/javaee/7/api/javax/persistence/AttributeConverter.html):\r\n\r\n```java\r\n@Converter(autoApply = true)\r\npublic class JsonListConverter implements AttributeConverter&lt;SomeAbstractClass, String&gt; {\r\n    \r\n    @override\r\n    public String convertToDatabaseColumn (SomeAbstractClass sac) {\r\n        // Your implementation goes here\r\n    }\r\n\r\n    @override\r\n    public SomeAbstractClass convertToEntityAttribute (String s) {\r\n        //check to find if s can be SomeClass1\r\n        if (checkSomeClass1(s)) { \r\n            // return an instance of SomeClass1\r\n        } else {\r\n            // return an instance of SomeClass2\r\n        }\r\n    }\r\n}\r\n```","title":"Specify particular instance of converter to use in JPA entity instead of class","body":"<p>You can achieve this by writing an abstract class <code>SomeAbstractClass</code> for your entity with <code>equal</code> and <code>hashcode</code> methods implemented. It can also have a property to store the state. Now your concrete implementation <code>SomeClass1</code> can implement this abstract class and add further details.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SomeClass1 extends SomeAbstractClass {\n}\n\npublic SomeClass2 extends SomeAbstractClass {\n}\n</code></pre>\n<p>Now for <a href=\"https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/Converter.html\" rel=\"nofollow noreferrer\">Converter</a> class (implementing <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/AttributeConverter.html\" rel=\"nofollow noreferrer\">AttributeConverter</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter(autoApply = true)\npublic class JsonListConverter implements AttributeConverter&lt;SomeAbstractClass, String&gt; {\n    \n    @override\n    public String convertToDatabaseColumn (SomeAbstractClass sac) {\n        // Your implementation goes here\n    }\n\n    @override\n    public SomeAbstractClass convertToEntityAttribute (String s) {\n        //check to find if s can be SomeClass1\n        if (checkSomeClass1(s)) { \n            // return an instance of SomeClass1\n        } else {\n            // return an instance of SomeClass2\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5412293,"reputation":2188,"user_id":4308639,"accept_rate":73,"display_name":"Ruslan Akhundov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46629012,"answer_count":1,"score":0,"last_activity_date":1690338582,"creation_date":1502888312,"question_id":45714200,"body_markdown":"I have some jpa entity I store in database and it has a field which contains some data in json for example.\r\n\r\n    @Convert(converter = JsonConverter.class)\r\n    public SomeClass entities;\r\n\r\nand `JsonConverter` is smth like:\r\n\r\n    @Converter(autoApply = true)\r\n    public class JsonListConverter implements AttributeConverter&lt;T, String&gt; {\r\n    \r\n    }\r\n\r\nWhat I want to do is to add some constructor to this converter, initialize it with some type(and may be state), and then use it for jpa converting.\r\n\r\nSo is it possible to specify some particular instance of converter using `@Convert` annotation(or some other annotation) instead of specifying class?\r\n\r\nI want to be able to do this because in different entities I can have different json fields, like array of entities or set, or smth else, so I don&#39;t want to write separate converters to cover all cases, because code is the same for all of them, they differ only in generic type and some fields that should be initialized inside before converting.","title":"Specify particular instance of converter to use in JPA entity instead of class","body":"<p>I have some jpa entity I store in database and it has a field which contains some data in json for example.</p>\n\n<pre><code>@Convert(converter = JsonConverter.class)\npublic SomeClass entities;\n</code></pre>\n\n<p>and <code>JsonConverter</code> is smth like:</p>\n\n<pre><code>@Converter(autoApply = true)\npublic class JsonListConverter implements AttributeConverter&lt;T, String&gt; {\n\n}\n</code></pre>\n\n<p>What I want to do is to add some constructor to this converter, initialize it with some type(and may be state), and then use it for jpa converting.</p>\n\n<p>So is it possible to specify some particular instance of converter using <code>@Convert</code> annotation(or some other annotation) instead of specifying class?</p>\n\n<p>I want to be able to do this because in different entities I can have different json fields, like array of entities or set, or smth else, so I don't want to write separate converters to cover all cases, because code is the same for all of them, they differ only in generic type and some fields that should be initialized inside before converting.</p>\n"},{"tags":["java","string","variables","printing","println"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":3,"creation_date":1381877896,"post_id":19392481,"comment_id":28742856,"body_markdown":"try simple: `System.out.println(&quot;randomtext&quot; + var);` - this will automatically call toString method of var object","body":"try simple: <code>System.out.println(&quot;randomtext&quot; + var);</code> - this will automatically call toString method of var object"}],"answers":[{"comments":[{"owner":{"account_id":19603469,"reputation":6906,"user_id":14347717,"display_name":"Chris Perry"},"score":2,"creation_date":1633818558,"post_id":19392488,"comment_id":122863014,"body_markdown":"Alternatively: `System.out.printf(&quot;randomtext %s%n&quot;, var)`","body":"Alternatively: <code>System.out.printf(&quot;randomtext %s%n&quot;, var)</code>"}],"tags":[],"owner":{"account_id":1897099,"reputation":1685,"user_id":1713801,"display_name":"alterfox"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1633949561,"creation_date":1381877801,"answer_id":19392488,"question_id":19392481,"body_markdown":"    System.out.println(String.format(&quot;randomtext %s&quot;, var));","title":"How to println a string and variable within the same parameters","body":"<pre><code>System.out.println(String.format(&quot;randomtext %s&quot;, var));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1381877900,"creation_date":1381877900,"answer_id":19392510,"question_id":19392481,"body_markdown":"You can concatenate the two strings together; the overloaded [`println` methods][1] take at most one parameter.\r\n\r\n    System.out.println(&quot;randomtext&quot; + var);\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html#println()","title":"How to println a string and variable within the same parameters","body":"<p>You can concatenate the two strings together; the overloaded <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html#println%28%29\" rel=\"nofollow\"><code>println</code> methods</a> take at most one parameter.</p>\n\n<pre><code>System.out.println(\"randomtext\" + var);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1381878485,"post_id":19392512,"comment_id":28743039,"body_markdown":"There&#39;s never really any reason to use `System.out.println(String.format(...))` when you can use `System.out.printf`.","body":"There&#39;s never really any reason to use <code>System.out.println(String.format(...))</code> when you can use <code>System.out.printf</code>."}],"tags":[],"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1381878762,"creation_date":1381877913,"answer_id":19392512,"question_id":19392481,"body_markdown":"You either need to use + to concatenate, or use String.format to format a string or similar.\r\n\r\nThe easiest is to do concatenation:\r\n\r\n    System.out.println(&quot;randomtext&quot; + var);\r\n\r\nSome people often use `System.out.printf` which works the same way as `String.format` if you have a big messy string you want to concatenate:\r\n\r\n    System.out.printf(&quot;This is %s lot of information about %d and %s&quot;, var, integer, stringVar);\r\n\r\nWhen using String.format the most important formatters you need to know is `%s` for Strings, `%f` for floating-point numbers, `%d` for integers.\r\n\r\nMore information about how to use String.format can be found in the [documentation about Formatter][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax","title":"How to println a string and variable within the same parameters","body":"<p>You either need to use + to concatenate, or use String.format to format a string or similar.</p>\n\n<p>The easiest is to do concatenation:</p>\n\n<pre><code>System.out.println(\"randomtext\" + var);\n</code></pre>\n\n<p>Some people often use <code>System.out.printf</code> which works the same way as <code>String.format</code> if you have a big messy string you want to concatenate:</p>\n\n<pre><code>System.out.printf(\"This is %s lot of information about %d and %s\", var, integer, stringVar);\n</code></pre>\n\n<p>When using String.format the most important formatters you need to know is <code>%s</code> for Strings, <code>%f</code> for floating-point numbers, <code>%d</code> for integers.</p>\n\n<p>More information about how to use String.format can be found in the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax\" rel=\"noreferrer\">documentation about Formatter</a>.</p>\n"},{"comments":[{"owner":{"account_id":21867978,"reputation":1657,"user_id":16157878,"display_name":"soundflix"},"score":1,"creation_date":1690664543,"post_id":76767594,"comment_id":135385972,"body_markdown":"Welcome to StackOverflow! Please add some explanation to your answer. Especially since you are answering to a very old question that already has answers, tell us what is different or new about it.","body":"Welcome to StackOverflow! Please add some explanation to your answer. Especially since you are answering to a very old question that already has answers, tell us what is different or new about it."}],"tags":[],"owner":{"account_id":29091531,"reputation":1,"user_id":22285241,"display_name":"Chiranjeet Sarkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690337723,"creation_date":1690337723,"answer_id":76767594,"question_id":19392481,"body_markdown":"System.out.print(&quot;The sum of two number would be: &quot;+(num1+num2));","title":"How to println a string and variable within the same parameters","body":"<p>System.out.print(&quot;The sum of two number would be: &quot;+(num1+num2));</p>\n"}],"owner":{"account_id":3442915,"reputation":41,"user_id":2884410,"display_name":"Parker Moore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30393,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1690337723,"creation_date":1381877761,"question_id":19392481,"body_markdown":"I am writing some code right now and I haven&#39;t done this in a while, how would I use the println function to write both a string and a variable?\r\n\r\nI tried the following:\r\n\r\n    System.out.println(&quot;randomtext&quot;var);\r\n\r\nand \r\n\r\n    System.out.println(&quot;randomtext&quot;,var);\r\n\r\nNeither of those seemed to work, what am I doing wrong? How do I do this?","title":"How to println a string and variable within the same parameters","body":"<p>I am writing some code right now and I haven't done this in a while, how would I use the println function to write both a string and a variable?</p>\n\n<p>I tried the following:</p>\n\n<pre><code>System.out.println(\"randomtext\"var);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>System.out.println(\"randomtext\",var);\n</code></pre>\n\n<p>Neither of those seemed to work, what am I doing wrong? How do I do this?</p>\n"},{"tags":["java","oop","dependencies","uml","composition"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1389275459,"post_id":21022012,"comment_id":31598544,"body_markdown":"The quality of those definitions is quite poor. Example: &quot;...dependency between those two classes&quot; &quot;It need not be the same vice-versa&quot; But &quot;between&quot; is an undirected relationship---it is the same vice-versa *by definition of the term **between***.","body":"The quality of those definitions is quite poor. Example: &quot;...dependency between those two classes&quot; &quot;It need not be the same vice-versa&quot; But &quot;between&quot; is an undirected relationship---it is the same vice-versa <i>by definition of the term <b>between</i></b>."},{"owner":{"account_id":3552373,"reputation":1171,"user_id":2966951,"accept_rate":81,"display_name":"danihodovic"},"score":1,"creation_date":1389275513,"post_id":21022012,"comment_id":31598584,"body_markdown":"Can you give me an example in code please :)","body":"Can you give me an example in code please :)"},{"owner":{"account_id":3552373,"reputation":1171,"user_id":2966951,"accept_rate":81,"display_name":"danihodovic"},"score":0,"creation_date":1389275638,"post_id":21022012,"comment_id":31598687,"body_markdown":"@MarkoTopolnik An example of dependecy and composition where I can clearly understand the differance. In code if possible","body":"@MarkoTopolnik An example of dependecy and composition where I can clearly understand the differance. In code if possible"}],"answers":[{"comments":[{"owner":{"account_id":3552373,"reputation":1171,"user_id":2966951,"accept_rate":81,"display_name":"danihodovic"},"score":0,"creation_date":1389275786,"post_id":21022154,"comment_id":31598796,"body_markdown":"So you are saying a composition is a subset of a dependency?","body":"So you are saying a composition is a subset of a dependency?"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":1,"creation_date":1389275851,"post_id":21022154,"comment_id":31598831,"body_markdown":"Yes... Dependency is a general term.. Composition/aggregation/inheritance lead to dependency. Though I think association is a better term to use instead of dependency.","body":"Yes... Dependency is a general term.. Composition/aggregation/inheritance lead to dependency. Though I think association is a better term to use instead of dependency."},{"owner":{"account_id":3552373,"reputation":1171,"user_id":2966951,"accept_rate":81,"display_name":"danihodovic"},"score":0,"creation_date":1389275933,"post_id":21022154,"comment_id":31598889,"body_markdown":"Can you show me the source of this? Because the two answers I&#39;ve got contradict each other. Also, they appear differently in UML, which one should be used in class diagrams for instance?","body":"Can you show me the source of this? Because the two answers I&#39;ve got contradict each other. Also, they appear differently in UML, which one should be used in class diagrams for instance?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1389276017,"post_id":21022154,"comment_id":31598941,"body_markdown":"If the definition of dependency is &quot;a change in structure/behavior influences a class&quot;, then there has to be no aggregation or any other type of relationship between the classes. They may both, for example, access the same *third object*, and must agree on the ways they are using that object. Typical example: the Producer/Consumer pattern.","body":"If the definition of dependency is &quot;a change in structure/behavior influences a class&quot;, then there has to be no aggregation or any other type of relationship between the classes. They may both, for example, access the same <i>third object</i>, and must agree on the ways they are using that object. Typical example: the Producer/Consumer pattern."},{"owner":{"account_id":3552373,"reputation":1171,"user_id":2966951,"accept_rate":81,"display_name":"danihodovic"},"score":0,"creation_date":1389276286,"post_id":21022154,"comment_id":31599164,"body_markdown":"@TheLostMind I ctrl+f&#39;d that document and there is no mention of dependency being a general form of aggregation/composition/association?","body":"@TheLostMind I ctrl+f&#39;d that document and there is no mention of dependency being a general form of aggregation/composition/association?"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1389276357,"post_id":21022154,"comment_id":31599217,"body_markdown":"@dani-h - See... Whenever a class A uses another class or interface B, then A depends on B. A cannot carry out it&#39;s work without B, and A cannot be reused without also reusing B. In such a situation the class A is called the &quot;dependant&quot; and the class or interface B is called the &quot;dependency&quot;. A dependant depends on its dependencies.","body":"@dani-h - See... Whenever a class A uses another class or interface B, then A depends on B. A cannot carry out it&#39;s work without B, and A cannot be reused without also reusing B. In such a situation the class A is called the &quot;dependant&quot; and the class or interface B is called the &quot;dependency&quot;. A dependant depends on its dependencies."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1389276549,"post_id":21022154,"comment_id":31599346,"body_markdown":"@MarkoTopolnik - Am I wrong in considering composition/aggregation/association as dependencies??","body":"@MarkoTopolnik - Am I wrong in considering composition/aggregation/association as dependencies??"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1389276849,"post_id":21022154,"comment_id":31599578,"body_markdown":"@TheLostMind Surely each of those creates a dependency, but the existence of any of them is not a prerequisite for the existence of a dependency.","body":"@TheLostMind Surely each of those creates a dependency, but the existence of any of them is not a prerequisite for the existence of a dependency."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1389276914,"post_id":21022154,"comment_id":31599632,"body_markdown":"@MarkoTopolnik - I thought. The fuel injection system is a dependency for the car as without it, the car cannot exist.","body":"@MarkoTopolnik - I thought. The fuel injection system is a dependency for the car as without it, the car cannot exist."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1389277005,"post_id":21022154,"comment_id":31599711,"body_markdown":"@TheLostMind Maybe you misunderstand me? Dependency *as a relation* may exist without there being any aggregation, composition, or association relation.","body":"@TheLostMind Maybe you misunderstand me? Dependency <i>as a relation</i> may exist without there being any aggregation, composition, or association relation."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1389277122,"post_id":21022154,"comment_id":31599774,"body_markdown":"@MarkoTopolnik :  How can 2 classes/objects be dependent if they dont have any relation?. Or how can a dependency exist without relations?","body":"@MarkoTopolnik :  How can 2 classes/objects be dependent if they dont have any relation?. Or how can a dependency exist without relations?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1389277334,"post_id":21022154,"comment_id":31599961,"body_markdown":"Quoting myself from the above comment: *Typical example: the Producer/Consumer pattern*. Both producer and consumer aggregate a *Queue* object, but otherwise are completely decoupled and don&#39;t *know* about each other. However, changing the behaviour of the Producer will influence (and possibly break) the behaviour of the Consumer.","body":"Quoting myself from the above comment: <i>Typical example: the Producer/Consumer pattern</i>. Both producer and consumer aggregate a <i>Queue</i> object, but otherwise are completely decoupled and don&#39;t <i>know</i> about each other. However, changing the behaviour of the Producer will influence (and possibly break) the behaviour of the Consumer."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1389277383,"post_id":21022154,"comment_id":31599997,"body_markdown":"@MarkoTopolnik - This makes perfect sense.. Thanks :)","body":"@MarkoTopolnik - This makes perfect sense.. Thanks :)"},{"owner":{"account_id":2727238,"reputation":1563,"user_id":2351948,"accept_rate":65,"display_name":"kiwicomb123"},"score":0,"creation_date":1518375131,"post_id":21022154,"comment_id":84469526,"body_markdown":"There is a lot of contradictory documentation out there about this.  As long as you find ways to define these terms such that they have different levels of dependency, and you remain consistent with those definitions, you&#39;ll be okay.","body":"There is a lot of contradictory documentation out there about this.  As long as you find ways to define these terms such that they have different levels of dependency, and you remain consistent with those definitions, you&#39;ll be okay."}],"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":14,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1389277612,"creation_date":1389275646,"answer_id":21022154,"question_id":21022012,"body_markdown":"Simply put :\r\n\r\nThanks to `Marko Topolnik` for this...\r\n\r\n   1. `Dependency` occurs when one object &quot;is dependent&quot; on another. It can occur with or without a relation between the 2 objects. Actually, one object might not even be knowing that another exists, yet they might be dependent.\r\nExample : The Producer-Consumer problem. The producer need not know that the consumer exists, yet it has to do wait() and notify(). So, &quot;NO&quot; , dependency is not a subset of association.\r\n\r\n   2. `Composition` : Is a type of association in which the &quot;child&quot; object cannot exist without the parent class. i.e, if the child object exists, then it MUST BE IN THE parent Object and nowhere else.\r\n    \r\n   EG: A Car(Parent) has Fuel injection system(child). Now, it makes no sense to have a Fuel Injection system outside a car (it will be of no use). i.e, Fuel injection system cannot exist without the car.\r\n\r\n   3. `Aggregation` : Here, the child object can exist outside the parent object.\r\n    A Car has a Driver. The Driver CAN Exist outside the car. ","title":"Difference between dependency and composition?","body":"<p>Simply put :</p>\n\n<p>Thanks to <code>Marko Topolnik</code> for this...</p>\n\n<ol>\n<li><p><code>Dependency</code> occurs when one object \"is dependent\" on another. It can occur with or without a relation between the 2 objects. Actually, one object might not even be knowing that another exists, yet they might be dependent.\nExample : The Producer-Consumer problem. The producer need not know that the consumer exists, yet it has to do wait() and notify(). So, \"NO\" , dependency is not a subset of association.</p></li>\n<li><p><code>Composition</code> : Is a type of association in which the \"child\" object cannot exist without the parent class. i.e, if the child object exists, then it MUST BE IN THE parent Object and nowhere else.</p>\n\n<p>EG: A Car(Parent) has Fuel injection system(child). Now, it makes no sense to have a Fuel Injection system outside a car (it will be of no use). i.e, Fuel injection system cannot exist without the car.</p></li>\n<li><p><code>Aggregation</code> : Here, the child object can exist outside the parent object.\nA Car has a Driver. The Driver CAN Exist outside the car. </p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3552373,"reputation":1171,"user_id":2966951,"accept_rate":81,"display_name":"danihodovic"},"score":3,"creation_date":1389279871,"post_id":21022162,"comment_id":31601915,"body_markdown":"So dependency == aggregation? http://stackoverflow.com/questions/11881552/implementation-difference-between-aggregation-and-composition-in-java/12431359#12431359","body":"So dependency == aggregation? <a href=\"http://stackoverflow.com/questions/11881552/implementation-difference-between-aggregation-and-composition-in-java/12431359#12431359\" title=\"implementation difference between aggregation and composition in java\">stackoverflow.com/questions/11881552/&hellip;</a>"},{"owner":{"account_id":2234135,"reputation":22159,"user_id":1971013,"accept_rate":71,"display_name":"meaning-matters"},"score":1,"creation_date":1389283943,"post_id":21022162,"comment_id":31604868,"body_markdown":"@dani-h No, `aggregation` and `composition` describe how things are build/structured, while `dependency` is more a property of a certain structure.  See @TheLostMind&#39;s great answer.","body":"@dani-h No, <code>aggregation</code> and <code>composition</code> describe how things are build/structured, while <code>dependency</code> is more a property of a certain structure.  See @TheLostMind&#39;s great answer."}],"tags":[],"owner":{"account_id":2234135,"reputation":22159,"user_id":1971013,"accept_rate":71,"display_name":"meaning-matters"},"comment_count":2,"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1389275665,"creation_date":1389275665,"answer_id":21022162,"question_id":21022012,"body_markdown":"The difference can be seen in the two constructors:\r\n\r\n* **Dependency**: The `Address` object comes from **outside**, it&#39;s allocated somewhere else.  This means that the `Address` and `Employee` objects exists separately, and only **depend** on each other.\r\n\r\n* **Composition**: Here you see that a new `Engine` is created **inside** `Car`.  The `Engine` object is part of the `Car`.  This means that a `Car` is **composed** of an `Engine`.","title":"Difference between dependency and composition?","body":"<p>The difference can be seen in the two constructors:</p>\n\n<ul>\n<li><p><strong>Dependency</strong>: The <code>Address</code> object comes from <strong>outside</strong>, it's allocated somewhere else.  This means that the <code>Address</code> and <code>Employee</code> objects exists separately, and only <strong>depend</strong> on each other.</p></li>\n<li><p><strong>Composition</strong>: Here you see that a new <code>Engine</code> is created <strong>inside</strong> <code>Car</code>.  The <code>Engine</code> object is part of the <code>Car</code>.  This means that a <code>Car</code> is <strong>composed</strong> of an <code>Engine</code>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2727238,"reputation":1563,"user_id":2351948,"accept_rate":65,"display_name":"kiwicomb123"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569983835,"creation_date":1518374985,"answer_id":48735131,"question_id":21022012,"body_markdown":"Dependency refers to usage of objects only within a functions scope.  In other words, instances of the class only exist within the functions (or methods) of the containing class, and are destroyed after functions exit.  \r\n\r\nThe example you gave for Dependency **is not** a Dependency because the Employee class contains an instance of an Address, this is called an Aggregation.  An aggregation is like a Composition except the object can also exist outside of the class which is using it. (It can be located outside the classes scope).\r\nIn your example you are passing a copy of an Address to the Employee constructor. But since it is created outside of the Employee object, the Address may also exist else where in the program.  \r\n\r\nJust as with Aggregation, Composition is where the component object is available to the entire composite object.  This means that all the  methods/functions of the composite object can access the component object. The only difference between Aggregation and Composition is that in Composition the component object only exists inside the composite object and no where else in  the program.  So when the composite object is destroyed, the given component object is also destroyed, and can not exist anywhere else.  In your example, The Car is a composite object and the Engine is a component because that instance of the Engine only exists in that particular Car and no where else.","title":"Difference between dependency and composition?","body":"<p>Dependency refers to usage of objects only within a functions scope.  In other words, instances of the class only exist within the functions (or methods) of the containing class, and are destroyed after functions exit.  </p>\n\n<p>The example you gave for Dependency <strong>is not</strong> a Dependency because the Employee class contains an instance of an Address, this is called an Aggregation.  An aggregation is like a Composition except the object can also exist outside of the class which is using it. (It can be located outside the classes scope).\nIn your example you are passing a copy of an Address to the Employee constructor. But since it is created outside of the Employee object, the Address may also exist else where in the program.  </p>\n\n<p>Just as with Aggregation, Composition is where the component object is available to the entire composite object.  This means that all the  methods/functions of the composite object can access the component object. The only difference between Aggregation and Composition is that in Composition the component object only exists inside the composite object and no where else in  the program.  So when the composite object is destroyed, the given component object is also destroyed, and can not exist anywhere else.  In your example, The Car is a composite object and the Engine is a component because that instance of the Engine only exists in that particular Car and no where else.</p>\n"},{"tags":[],"owner":{"account_id":3532787,"reputation":10557,"user_id":2951835,"accept_rate":80,"display_name":"ahnbizcad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690337669,"creation_date":1690335759,"answer_id":76767482,"question_id":21022012,"body_markdown":"Composition will necessarily, always utilize dependency injection.\r\n\r\nHowever, it is possible to do dependency injection without it constituting composition.\r\n\r\nPractically speaking, if you get to concrete code, whether composition occurs or not is determined by whether your save the argument passed via dependency injection as a member variable in the instantiated object when instantiating or not. If you do, it&#39;s composition. If you don&#39;t, it&#39;s not.\r\n\r\n----\r\n# Definitions\r\nDependency injection in simplified terms is adding a parameter to an capsulating chunk block of code (e.g. class, function, block, etc.), as opposed to using the literal procedural code that would be used without the parameter.\r\n\r\nComposition is when you use a dependency injected parameter/argument upon instantiating the object being composed\r\n\r\n------\r\n\r\n## Dependency injection with composition\r\n\r\nThe Syringe class is composed of Drug, since Syringe saves drug as a member variable. \r\n\r\nAside: `Syringe` could conceivably be composed of multiple dependencies, not just the single drug dependency (pun alert!), but even this degenerate case of a single-dependency composition constitutes composition nonetheless. If it helps, imagine if you had to compose a Syringe object from a `Drug` object as well as a `Needle` object, the needle object having a specific value among many possible gauges and lengths as well.\r\n\r\n```ruby\r\nClass Drug\r\n  def __init__(name)\r\n    @name = name\r\n  end\r\n\r\n  def contents\r\n    return @name\r\n  end\r\nend\r\n\r\nClass Syringe\r\n  def __init__(drug)\r\n    @drug = drug\r\n  end\r\n\r\n  def inject()\r\n    return @drug.name\r\n  end\r\nend\r\n\r\namoxicillin = Drug.new(&#39;amoxicillin&#39;)\r\n#these two lines are the key difference. compare them with the &#39;same&#39; lines in the other other example\r\nsyringe = Syringe.new(amoxicillin) \r\nsyringe.inject() \r\n```\r\n\r\n\r\n## Dependency injection without composition\r\n\r\nThis next example is not composition because it does not save &#39;drug&#39; when instantiating &#39;syringe&#39;.\r\n\r\nInstead, &#39;drug&#39; is used directly in a member function.\r\n\r\n```ruby\r\nClass Drug\r\n  def __init__(name)\r\n    @name = name\r\n  end\r\n\r\n  def contents\r\n    return @name \r\n  end\r\nend\r\n\r\nClass Syringe\r\n  def inject(drug)\r\n    return drug.contents\r\n  end\r\nend\r\n\r\namoxicillin = Drug.new(&#39;amoxicillin&#39;)\r\n#these two lines are the key difference. compare them with the &#39;same&#39; lines in the other other example\r\nsyringe = Syringe.new()\r\nsyringe.inject(amoxicillin)\r\n```\r\n\r\n","title":"Difference between dependency and composition?","body":"<p>Composition will necessarily, always utilize dependency injection.</p>\n<p>However, it is possible to do dependency injection without it constituting composition.</p>\n<p>Practically speaking, if you get to concrete code, whether composition occurs or not is determined by whether your save the argument passed via dependency injection as a member variable in the instantiated object when instantiating or not. If you do, it's composition. If you don't, it's not.</p>\n<hr />\n<h1>Definitions</h1>\n<p>Dependency injection in simplified terms is adding a parameter to an capsulating chunk block of code (e.g. class, function, block, etc.), as opposed to using the literal procedural code that would be used without the parameter.</p>\n<p>Composition is when you use a dependency injected parameter/argument upon instantiating the object being composed</p>\n<hr />\n<h2>Dependency injection with composition</h2>\n<p>The Syringe class is composed of Drug, since Syringe saves drug as a member variable.</p>\n<p>Aside: <code>Syringe</code> could conceivably be composed of multiple dependencies, not just the single drug dependency (pun alert!), but even this degenerate case of a single-dependency composition constitutes composition nonetheless. If it helps, imagine if you had to compose a Syringe object from a <code>Drug</code> object as well as a <code>Needle</code> object, the needle object having a specific value among many possible gauges and lengths as well.</p>\n<pre class=\"lang-rb prettyprint-override\"><code>Class Drug\n  def __init__(name)\n    @name = name\n  end\n\n  def contents\n    return @name\n  end\nend\n\nClass Syringe\n  def __init__(drug)\n    @drug = drug\n  end\n\n  def inject()\n    return @drug.name\n  end\nend\n\namoxicillin = Drug.new('amoxicillin')\n#these two lines are the key difference. compare them with the 'same' lines in the other other example\nsyringe = Syringe.new(amoxicillin) \nsyringe.inject() \n</code></pre>\n<h2>Dependency injection without composition</h2>\n<p>This next example is not composition because it does not save 'drug' when instantiating 'syringe'.</p>\n<p>Instead, 'drug' is used directly in a member function.</p>\n<pre class=\"lang-rb prettyprint-override\"><code>Class Drug\n  def __init__(name)\n    @name = name\n  end\n\n  def contents\n    return @name \n  end\nend\n\nClass Syringe\n  def inject(drug)\n    return drug.contents\n  end\nend\n\namoxicillin = Drug.new('amoxicillin')\n#these two lines are the key difference. compare them with the 'same' lines in the other other example\nsyringe = Syringe.new()\nsyringe.inject(amoxicillin)\n</code></pre>\n"}],"owner":{"account_id":3552373,"reputation":1171,"user_id":2966951,"accept_rate":81,"display_name":"danihodovic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20674,"favorite_count":0,"down_vote_count":1,"up_vote_count":33,"accepted_answer_id":21022162,"answer_count":4,"score":32,"last_activity_date":1690337669,"creation_date":1389275247,"question_id":21022012,"body_markdown":"[Definitions taken from here][1]\r\n\r\nDependency\r\n\r\n&gt; Change in structure or behaviour of a class affects the other related\r\n&gt; class, then there is a dependency between those two classes. It need\r\n&gt; not be the same vice-versa. When one class **contains the other** class it\r\n&gt; this happens.\r\n\r\nComposition\r\n\r\n&gt; Composition is a special case of aggregation. In a more specific\r\n&gt; manner, a restricted aggregation is called composition. When an object\r\n&gt; **contains the other** object, if the contained object cannot exist\r\n&gt; without the existence of container object, then it is called\r\n&gt; composition.\r\n\r\n\r\nConcrete examples in Java from [here][2] and [here][3]\r\n\r\nDependency\r\n\r\n    class Employee {\r\n        private Address address;\r\n    \r\n        // constructor \r\n        public Employee( Address newAddress ) {\r\n            this.address = newAddress;\r\n        }\r\n    \r\n        public Address getAddress() {\r\n        return this.address;\r\n        }\r\n        public void setAddress( Address newAddress ) {\r\n            this.address = newAddress;\r\n        }\r\n    }\r\n\r\nComposition\r\n\r\n    final class Car {\r\n    \r\n      private final Engine engine;\r\n    \r\n      Car(EngineSpecs specs) {\r\n        engine = new Engine(specs);\r\n      }\r\n    \r\n      void move() {\r\n        engine.work();\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://javapapers.com/oops/association-aggregation-composition-abstraction-generalization-realization-dependency/\r\n  [2]: https://stackoverflow.com/questions/11881552/implementation-difference-between-aggregation-and-composition-in-java/12431359#12431359\r\n  [3]: https://stackoverflow.com/questions/1638919/how-to-explain-dependency-injection-to-a-5-year-old","title":"Difference between dependency and composition?","body":"<p><a href=\"http://javapapers.com/oops/association-aggregation-composition-abstraction-generalization-realization-dependency/\" rel=\"noreferrer\">Definitions taken from here</a></p>\n\n<p>Dependency</p>\n\n<blockquote>\n  <p>Change in structure or behaviour of a class affects the other related\n  class, then there is a dependency between those two classes. It need\n  not be the same vice-versa. When one class <strong>contains the other</strong> class it\n  this happens.</p>\n</blockquote>\n\n<p>Composition</p>\n\n<blockquote>\n  <p>Composition is a special case of aggregation. In a more specific\n  manner, a restricted aggregation is called composition. When an object\n  <strong>contains the other</strong> object, if the contained object cannot exist\n  without the existence of container object, then it is called\n  composition.</p>\n</blockquote>\n\n<p>Concrete examples in Java from <a href=\"https://stackoverflow.com/questions/11881552/implementation-difference-between-aggregation-and-composition-in-java/12431359#12431359\">here</a> and <a href=\"https://stackoverflow.com/questions/1638919/how-to-explain-dependency-injection-to-a-5-year-old\">here</a></p>\n\n<p>Dependency</p>\n\n<pre><code>class Employee {\n    private Address address;\n\n    // constructor \n    public Employee( Address newAddress ) {\n        this.address = newAddress;\n    }\n\n    public Address getAddress() {\n    return this.address;\n    }\n    public void setAddress( Address newAddress ) {\n        this.address = newAddress;\n    }\n}\n</code></pre>\n\n<p>Composition</p>\n\n<pre><code>final class Car {\n\n  private final Engine engine;\n\n  Car(EngineSpecs specs) {\n    engine = new Engine(specs);\n  }\n\n  void move() {\n    engine.work();\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690322878,"post_id":76766525,"comment_id":135336842,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2128094,"reputation":101,"user_id":12816390,"display_name":"user18896654353"},"score":0,"creation_date":1691507398,"post_id":76766525,"comment_id":135499502,"body_markdown":"I have decided its too difficult to get information on spring supports basic things like this, so putting spring on back burner","body":"I have decided its too difficult to get information on spring supports basic things like this, so putting spring on back burner"}],"owner":{"account_id":2128094,"reputation":101,"user_id":12816390,"display_name":"user18896654353"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690336986,"creation_date":1690319368,"question_id":76766525,"body_markdown":"I am trying to get multiple datasources working with spring boot 3, tried hundred changes and can&#39;t find way for it to not give this error\r\n\r\n\r\n```\r\nCaused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set &#39;javax.persistence.jdbc.url&#39;, &#39;hibernate.connection.url&#39;, or &#39;hibernate.dialect&#39;)\r\n```\r\n\r\nhere are the properties\r\n\r\n\r\n```\r\nlogging.level.=TRACE\r\nserver.error.include-stacktrace=always\r\nspring.main.banner-mode=off\r\nspring.output.ansi.enabled=always\r\nspring.thymeleaf.enabled=true\r\nspring.thymeleaf.mode=HTML5\r\nspring.thymeleaf.prefix=classpath:/templates/\r\nspring.thymeleaf.suffix=.html\r\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\r\nserver.port=8080\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=none\r\ndatabaseA.datasource.platform=mysql\r\ndatabaseA.datasource.username=myusername\r\ndatabaseA.datasource.password=mypassword\r\ndatabaseA.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\ndatabaseA.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\ndatabaseA.datasource.jdbc-url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseA.datasource.url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseA.datasource.hibernate.connection-url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseA.datasource.hibernate.connection.url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseA.datasource.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\ndatabaseA.datasource.hibernate.jdbc.batch_size=490\r\ndatabaseA.datasource.hibernate.jdbc.fetch_size=490\t\t\t          \r\ndatabaseA.datasource.hibernate.hbm2ddl.auto=none\r\ndatabaseA.datasource.hibernate.show_sql=false\r\ndatabaseA.datasource.hibernate.ddl-auto=none\r\ndatabaseA.datasource.jakarta.persistence.query.timeout=9000\r\ndatabaseB.datasource.platform=mysql\r\ndatabaseB.datasource.username=myusername\r\ndatabaseB.datasource.password=mypassword\r\ndatabaseB.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\ndatabaseB.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\ndatabaseB.datasource.jdbc-url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseB.datasource.url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseB.datasource.hibernate.connection-url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseB.datasource.hibernate.connection.url=jdbc:mysql://127.0.0.1:3306\r\ndatabaseB.datasource.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\ndatabaseB.datasource.hibernate.jdbc.batch_size=490\r\ndatabaseB.datasource.hibernate.jdbc.fetch_size=490\t\t\t          \r\ndatabaseB.datasource.hibernate.hbm2ddl.auto=none\r\ndatabaseB.datasource.hibernate.show_sql=false\r\ndatabaseB.datasource.hibernate.ddl-auto=none\r\ndatabaseB.datasource.jakarta.persistence.query.timeout=9000\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.myproject.spring.database;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.jdbc.DataSourceBuilder;\r\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\nimport jakarta.persistence.EntityManagerFactory;\r\n\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n\t\tentityManagerFactoryRef = &quot;databaseBEntityManagerFactory&quot;,\r\n\t\ttransactionManagerRef = &quot;databaseBTransactionManager&quot;,\r\n\t\tbasePackages = {&quot;com.myproject.spring.repository.databaseB&quot;})\r\npublic class DatabaseBDatasourceConfiguration {\r\n\r\n\t   private final static Logger LOG = LoggerFactory.getLogger(DatabaseBDatasourceConfiguration.class);\t\r\n\t\t\t   \r\n\t   @Bean(name=&quot;databaseBDataSourceProperties&quot;)\t   \r\n\t   @ConfigurationProperties(&quot;databaseB.datasource&quot;) \r\n\t   public DataSourceProperties databaseBDataSourceProperties() {\r\n\t\t   DataSourceProperties props = new DataSourceProperties();\r\n\t\t   LOG.debug(&quot;databaseBDataSourceProperties : 200 : props = &quot;+props);\r\n\t\t   return props;\r\n\t   }\r\n\t\t\r\n\r\n\t\t@Bean(name=&quot;databaseBDataSource&quot;) \r\n\t\t@ConfigurationProperties(&quot;databaseB.datasource&quot;)\t\t\r\n\t\tpublic DataSource databaseBDataSource( ) { \r\n\t\t\treturn DataSourceBuilder.create().build();\r\n\t\t}\t\r\n\t\t\r\n\t\t\r\n\t\t@Bean(name=&quot;databaseBJdbcTemplate&quot;) \r\n\t\tpublic JdbcTemplate databaseBJdbcTemplate(\r\n\t\t\t\t@Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource ) {\r\n\t\t\treturn new JdbcTemplate(dataSource);\r\n\t\t}\t\t\r\n\t\t\r\n\t\t\r\n\t\t@Bean(name=&quot;databaseBEntityManagerFactory&quot;)\r\n\t\tpublic LocalContainerEntityManagerFactoryBean databaseBEntityManagerFactory(\r\n\t\t\t\tEntityManagerFactoryBuilder builder ,\r\n\t\t\t\t@Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource\r\n\t\t\t\t) {\r\n\t\t\treturn builder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseB&quot;).persistenceUnit(&quot;databaseB&quot;).build();\r\n\t\t}\r\n\t\t\r\n\t\t@Bean(name=&quot;databaseBTransactionManager&quot;)\r\n\t\tpublic PlatformTransactionManager databaseBTransactionManager(\r\n\t\t\t\t@Qualifier(&quot;databaseBEntityManagerFactory&quot;) EntityManagerFactory emf) {\r\n\t\t\treturn new JpaTransactionManager(emf);\r\n\t\t}\t\r\n\t\t\r\n\t\t@Bean(name=&quot;databaseBDataSourceTransactionManager&quot;)\r\n\t\t@Autowired\r\n\t\tDataSourceTransactionManager databaseBDataSourceTransactionManager(@Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource) { \r\n\t\t\treturn new DataSourceTransactionManager(dataSource);\r\n\t\t}\r\n}\r\n```\r\n\r\n```\r\npackage com.myproject.spring.database;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.jdbc.DataSourceBuilder;\r\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\nimport jakarta.persistence.EntityManagerFactory;\r\n\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n\t\tentityManagerFactoryRef = &quot;databaseAEntityManagerFactory&quot;,\r\n\t\ttransactionManagerRef = &quot;databaseATransactionManager&quot;,\r\n\t\tbasePackages = {&quot;com.myproject.spring.repository.databaseA&quot;})\r\npublic class DatabaseADatasourceConfiguration {\r\n\r\n\t    private final static Logger LOG = LoggerFactory.getLogger(DatabaseADatasourceConfiguration.class);\t\t\r\n\r\n\t\t@Bean(name=&quot;databaseADataSourceProperties&quot;)\r\n\t    @Primary\t\t\r\n\t\t@ConfigurationProperties(&quot;databaseA.datasource&quot;)\t\r\n\t\tpublic DataSourceProperties databaseADataSourceProperties() {\r\n\t\t\tDataSourceProperties props = new DataSourceProperties();\t\t\t\r\n\t\t\tLOG.debug(&quot;databaseADataSourceProperties : 200 : props = &quot;+props);\r\n\t\t\treturn props;\r\n\t\t}\r\n\r\n\t\t@Bean(name=&quot;databaseADataSource&quot;) \r\n\t\t@Primary\r\n\t\t@ConfigurationProperties(&quot;databaseA.datasource&quot;)\t\t\r\n\t\tpublic DataSource databaseADataSource( ) { \r\n\t\t\treturn DataSourceBuilder.create().build();\t\t\r\n\t\t}\r\n\t\t\r\n\t\t@Primary\r\n\t\t@Bean(name=&quot;databaseAJdbcTemplate&quot;) \r\n\t\tpublic JdbcTemplate databaseAJdbcTemplate(\r\n\t\t\t\t@Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource ) {\r\n\t\t\treturn new JdbcTemplate(dataSource);\r\n\t\t}\r\n\t\t\r\n\t\t@Primary\r\n\t\t@Bean(name=&quot;databaseAEntityManagerFactory&quot;)\r\n\t\tpublic LocalContainerEntityManagerFactoryBean databaseAEntityManagerFactory(\r\n\t\t\t\tEntityManagerFactoryBuilder builder ,\r\n\t\t\t\t@Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource\r\n\t\t\t\t) {\r\n\t\t\treturn builder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseA&quot;).persistenceUnit(&quot;databaseA&quot;).build();\r\n\t\t\t//return emfBuilder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseA&quot;).build();\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t@Primary\r\n\t\t@Bean(name=&quot;databaseATransactionManager&quot;)\r\n\t\tpublic PlatformTransactionManager databaseATransactionManager(\r\n\t\t\t\t@Qualifier(&quot;databaseAEntityManagerFactory&quot;) EntityManagerFactory emf) {\r\n\t\t\treturn new JpaTransactionManager(emf);\r\n\t\t}\r\n\t\t\r\n\t\t@Primary\r\n\t\t@Bean(name=&quot;databaseADataSourceTransactionManager&quot;)\r\n\t\t@Autowired\r\n\t\tDataSourceTransactionManager databaseBDataSourceTransactionManager(@Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource) { \r\n\t\t\treturn new DataSourceTransactionManager(dataSource);\r\n\t\t}\t\t\t\t\r\n\r\n}\r\n\r\n```\r\n\r\nI am expecting no errors when spring starts up, its able to auto configure 2 different datasources. In this case both mysql but future one can be oracle or postgres. There shouldn&#39;t be any general properties that don&#39;t map to one datasource or the other","title":"Spring Boot can&#39;t find database settings using multiple datasources","body":"<p>I am trying to get multiple datasources working with spring boot 3, tried hundred changes and can't find way for it to not give this error</p>\n<pre><code>Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'javax.persistence.jdbc.url', 'hibernate.connection.url', or 'hibernate.dialect')\n</code></pre>\n<p>here are the properties</p>\n<pre><code>logging.level.=TRACE\nserver.error.include-stacktrace=always\nspring.main.banner-mode=off\nspring.output.ansi.enabled=always\nspring.thymeleaf.enabled=true\nspring.thymeleaf.mode=HTML5\nspring.thymeleaf.prefix=classpath:/templates/\nspring.thymeleaf.suffix=.html\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\nserver.port=8080\n\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=none\ndatabaseA.datasource.platform=mysql\ndatabaseA.datasource.username=myusername\ndatabaseA.datasource.password=mypassword\ndatabaseA.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\ndatabaseA.datasource.driverClassName=com.mysql.cj.jdbc.Driver\ndatabaseA.datasource.jdbc-url=jdbc:mysql://127.0.0.1:3306\ndatabaseA.datasource.url=jdbc:mysql://127.0.0.1:3306\ndatabaseA.datasource.hibernate.connection-url=jdbc:mysql://127.0.0.1:3306\ndatabaseA.datasource.hibernate.connection.url=jdbc:mysql://127.0.0.1:3306\ndatabaseA.datasource.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\ndatabaseA.datasource.hibernate.jdbc.batch_size=490\ndatabaseA.datasource.hibernate.jdbc.fetch_size=490                    \ndatabaseA.datasource.hibernate.hbm2ddl.auto=none\ndatabaseA.datasource.hibernate.show_sql=false\ndatabaseA.datasource.hibernate.ddl-auto=none\ndatabaseA.datasource.jakarta.persistence.query.timeout=9000\ndatabaseB.datasource.platform=mysql\ndatabaseB.datasource.username=myusername\ndatabaseB.datasource.password=mypassword\ndatabaseB.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\ndatabaseB.datasource.driverClassName=com.mysql.cj.jdbc.Driver\ndatabaseB.datasource.jdbc-url=jdbc:mysql://127.0.0.1:3306\ndatabaseB.datasource.url=jdbc:mysql://127.0.0.1:3306\ndatabaseB.datasource.hibernate.connection-url=jdbc:mysql://127.0.0.1:3306\ndatabaseB.datasource.hibernate.connection.url=jdbc:mysql://127.0.0.1:3306\ndatabaseB.datasource.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\ndatabaseB.datasource.hibernate.jdbc.batch_size=490\ndatabaseB.datasource.hibernate.jdbc.fetch_size=490                    \ndatabaseB.datasource.hibernate.hbm2ddl.auto=none\ndatabaseB.datasource.hibernate.show_sql=false\ndatabaseB.datasource.hibernate.ddl-auto=none\ndatabaseB.datasource.jakarta.persistence.query.timeout=9000\n</code></pre>\n<pre><code>package com.myproject.spring.database;\n\nimport javax.sql.DataSource;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport jakarta.persistence.EntityManagerFactory;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;databaseBEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;databaseBTransactionManager&quot;,\n        basePackages = {&quot;com.myproject.spring.repository.databaseB&quot;})\npublic class DatabaseBDatasourceConfiguration {\n\n       private final static Logger LOG = LoggerFactory.getLogger(DatabaseBDatasourceConfiguration.class);   \n               \n       @Bean(name=&quot;databaseBDataSourceProperties&quot;)     \n       @ConfigurationProperties(&quot;databaseB.datasource&quot;) \n       public DataSourceProperties databaseBDataSourceProperties() {\n           DataSourceProperties props = new DataSourceProperties();\n           LOG.debug(&quot;databaseBDataSourceProperties : 200 : props = &quot;+props);\n           return props;\n       }\n        \n\n        @Bean(name=&quot;databaseBDataSource&quot;) \n        @ConfigurationProperties(&quot;databaseB.datasource&quot;)        \n        public DataSource databaseBDataSource( ) { \n            return DataSourceBuilder.create().build();\n        }   \n        \n        \n        @Bean(name=&quot;databaseBJdbcTemplate&quot;) \n        public JdbcTemplate databaseBJdbcTemplate(\n                @Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource ) {\n            return new JdbcTemplate(dataSource);\n        }       \n        \n        \n        @Bean(name=&quot;databaseBEntityManagerFactory&quot;)\n        public LocalContainerEntityManagerFactoryBean databaseBEntityManagerFactory(\n                EntityManagerFactoryBuilder builder ,\n                @Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource\n                ) {\n            return builder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseB&quot;).persistenceUnit(&quot;databaseB&quot;).build();\n        }\n        \n        @Bean(name=&quot;databaseBTransactionManager&quot;)\n        public PlatformTransactionManager databaseBTransactionManager(\n                @Qualifier(&quot;databaseBEntityManagerFactory&quot;) EntityManagerFactory emf) {\n            return new JpaTransactionManager(emf);\n        }   \n        \n        @Bean(name=&quot;databaseBDataSourceTransactionManager&quot;)\n        @Autowired\n        DataSourceTransactionManager databaseBDataSourceTransactionManager(@Qualifier(&quot;databaseBDataSource&quot;) DataSource dataSource) { \n            return new DataSourceTransactionManager(dataSource);\n        }\n}\n</code></pre>\n<pre><code>package com.myproject.spring.database;\n\nimport javax.sql.DataSource;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport jakarta.persistence.EntityManagerFactory;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;databaseAEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;databaseATransactionManager&quot;,\n        basePackages = {&quot;com.myproject.spring.repository.databaseA&quot;})\npublic class DatabaseADatasourceConfiguration {\n\n        private final static Logger LOG = LoggerFactory.getLogger(DatabaseADatasourceConfiguration.class);      \n\n        @Bean(name=&quot;databaseADataSourceProperties&quot;)\n        @Primary        \n        @ConfigurationProperties(&quot;databaseA.datasource&quot;)    \n        public DataSourceProperties databaseADataSourceProperties() {\n            DataSourceProperties props = new DataSourceProperties();            \n            LOG.debug(&quot;databaseADataSourceProperties : 200 : props = &quot;+props);\n            return props;\n        }\n\n        @Bean(name=&quot;databaseADataSource&quot;) \n        @Primary\n        @ConfigurationProperties(&quot;databaseA.datasource&quot;)        \n        public DataSource databaseADataSource( ) { \n            return DataSourceBuilder.create().build();      \n        }\n        \n        @Primary\n        @Bean(name=&quot;databaseAJdbcTemplate&quot;) \n        public JdbcTemplate databaseAJdbcTemplate(\n                @Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource ) {\n            return new JdbcTemplate(dataSource);\n        }\n        \n        @Primary\n        @Bean(name=&quot;databaseAEntityManagerFactory&quot;)\n        public LocalContainerEntityManagerFactoryBean databaseAEntityManagerFactory(\n                EntityManagerFactoryBuilder builder ,\n                @Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource\n                ) {\n            return builder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseA&quot;).persistenceUnit(&quot;databaseA&quot;).build();\n            //return emfBuilder.dataSource(dataSource).packages(&quot;com.myproject.spring.model.databaseA&quot;).build();            \n        }\n        \n        @Primary\n        @Bean(name=&quot;databaseATransactionManager&quot;)\n        public PlatformTransactionManager databaseATransactionManager(\n                @Qualifier(&quot;databaseAEntityManagerFactory&quot;) EntityManagerFactory emf) {\n            return new JpaTransactionManager(emf);\n        }\n        \n        @Primary\n        @Bean(name=&quot;databaseADataSourceTransactionManager&quot;)\n        @Autowired\n        DataSourceTransactionManager databaseBDataSourceTransactionManager(@Qualifier(&quot;databaseADataSource&quot;) DataSource dataSource) { \n            return new DataSourceTransactionManager(dataSource);\n        }               \n\n}\n\n</code></pre>\n<p>I am expecting no errors when spring starts up, its able to auto configure 2 different datasources. In this case both mysql but future one can be oracle or postgres. There shouldn't be any general properties that don't map to one datasource or the other</p>\n"},{"tags":["java","android","libgdx","blur"],"comments":[{"owner":{"account_id":950085,"reputation":2784,"user_id":1356124,"accept_rate":54,"display_name":"Igor Kostenko"},"score":2,"creation_date":1383909902,"post_id":19085126,"comment_id":29534408,"body_markdown":"How do you make Gaussian blur on image?","body":"How do you make Gaussian blur on image?"}],"answers":[{"comments":[{"owner":{"account_id":12868846,"reputation":400,"user_id":9308068,"display_name":"BlakkM9"},"score":0,"creation_date":1560568134,"post_id":20960512,"comment_id":99789880,"body_markdown":"no idea how i get this working with libgdx for me it just changes colors","body":"no idea how i get this working with libgdx for me it just changes colors"},{"owner":{"account_id":357505,"reputation":1096,"user_id":697711,"display_name":"SpacePrez"},"score":0,"creation_date":1560704152,"post_id":20960512,"comment_id":99814645,"body_markdown":"@BlakkM9 check which shader programs you&#39;re running then, your pixel shader must be wrong","body":"@BlakkM9 check which shader programs you&#39;re running then, your pixel shader must be wrong"},{"owner":{"account_id":12868846,"reputation":400,"user_id":9308068,"display_name":"BlakkM9"},"score":0,"creation_date":1560742832,"post_id":20960512,"comment_id":99821379,"body_markdown":"Copy pasted the the fragment shader and it was using the fragment shader aswell because changing things in the shader changes what was rendered. Anyways I found a workaround by doing the blur with BlurUtils (even if it is propably less performant)","body":"Copy pasted the the fragment shader and it was using the fragment shader aswell because changing things in the shader changes what was rendered. Anyways I found a workaround by doing the blur with BlurUtils (even if it is propably less performant)"},{"owner":{"account_id":12405210,"reputation":388,"user_id":9040498,"display_name":"Jay N"},"score":0,"creation_date":1580713839,"post_id":20960512,"comment_id":106173330,"body_markdown":"@BlakkM9 Hi. In the BlurUtils it says width and height must be square, by any chance you know how to use it on rectanglular textures?","body":"@BlakkM9 Hi. In the BlurUtils it says width and height must be square, by any chance you know how to use it on rectanglular textures?"},{"owner":{"account_id":12868846,"reputation":400,"user_id":9308068,"display_name":"BlakkM9"},"score":0,"creation_date":1580716682,"post_id":20960512,"comment_id":106174324,"body_markdown":"@JayN where did you read that it needs to be square? for clearification i&#39;m using [this](https://gist.github.com/mattdesl/4383372) for blurring my image. currently i&#39;m using it on a resolution of 480x271 and it works fine for me.","body":"@JayN where did you read that it needs to be square? for clearification i&#39;m using <a href=\"https://gist.github.com/mattdesl/4383372\" rel=\"nofollow noreferrer\">this</a> for blurring my image. currently i&#39;m using it on a resolution of 480x271 and it works fine for me."},{"owner":{"account_id":12405210,"reputation":388,"user_id":9040498,"display_name":"Jay N"},"score":0,"creation_date":1580804228,"post_id":20960512,"comment_id":106208295,"body_markdown":"@BlakkM9 I&#39;m using the generateBlurredMipmaps() function, in that function there&#39;s a line that if width != height then it simply returns, and if I comment out that line, it just draws blank white screen for me.","body":"@BlakkM9 I&#39;m using the generateBlurredMipmaps() function, in that function there&#39;s a line that if width != height then it simply returns, and if I comment out that line, it just draws blank white screen for me."},{"owner":{"account_id":12868846,"reputation":400,"user_id":9308068,"display_name":"BlakkM9"},"score":0,"creation_date":1580805708,"post_id":20960512,"comment_id":106208881,"body_markdown":"@JayN as far as i know textures for mip mapping always needs to be square because the smallest image in the mip map is 1x1 or 2x2. maybe using the normal blur function fits better for your purpose.","body":"@JayN as far as i know textures for mip mapping always needs to be square because the smallest image in the mip map is 1x1 or 2x2. maybe using the normal blur function fits better for your purpose."},{"owner":{"account_id":12405210,"reputation":388,"user_id":9040498,"display_name":"Jay N"},"score":0,"creation_date":1580806693,"post_id":20960512,"comment_id":106209348,"body_markdown":"@BlakkM9 I&#39;ve tried the normal one too, but I can&#39;t find a way to do the transition from normal image to a blurred one with that method.","body":"@BlakkM9 I&#39;ve tried the normal one too, but I can&#39;t find a way to do the transition from normal image to a blurred one with that method."}],"tags":[],"owner":{"account_id":357505,"reputation":1096,"user_id":697711,"display_name":"SpacePrez"},"comment_count":8,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1389047344,"creation_date":1389047344,"answer_id":20960512,"question_id":19085126,"body_markdown":"I&#39;m late to the party but this is EXACTLY what you&#39;re looking for:\r\n\r\nhttps://github.com/mattdesl/lwjgl-basics/wiki/ShaderLesson5\r\n\r\nRender to a field buffer object using a shader to create the blur, then draw it from the frame buffer onto the screen.","title":"Blur the screen in LibGDX","body":"<p>I'm late to the party but this is EXACTLY what you're looking for:</p>\n\n<p><a href=\"https://github.com/mattdesl/lwjgl-basics/wiki/ShaderLesson5\">https://github.com/mattdesl/lwjgl-basics/wiki/ShaderLesson5</a></p>\n\n<p>Render to a field buffer object using a shader to create the blur, then draw it from the frame buffer onto the screen.</p>\n"},{"tags":[],"owner":{"account_id":29091572,"reputation":1,"user_id":22285269,"display_name":"pfx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690336717,"creation_date":1690336717,"answer_id":76767540,"question_id":19085126,"body_markdown":"I have created my own implementation of gaussian blur for libgdx. Maybe it will be useful for someone. Just add the following class to your project:\r\n```\r\npackage com.mygdx.game;\r\n\r\nimport com.badlogic.gdx.graphics.Pixmap;\r\nimport com.badlogic.gdx.graphics.Pixmap.Format;\r\nimport com.badlogic.gdx.graphics.Color;\r\nimport java.lang.Math;\r\n\r\nclass Blur {\r\n    private static double matrix [];\r\n    private static int radius;\r\n\r\n    public static void setMatrix(int radius, double sigma) {\r\n        Blur.matrix = new double[radius+1];\r\n        Blur.radius = radius;\r\n        for(int i=0; i&lt;=radius; i++)\r\n            matrix[i] = gauss((double)i, sigma);\r\n        double sum = 0;\r\n        for(int i=-radius; i&lt;=radius; i++)\r\n            sum += matrix[Math.abs(i)];\r\n        for(int i=0; i&lt;=radius; i++)\r\n            matrix[i]/=sum;\r\n    }\r\n\r\n    private static double gauss(double x, double sigma) {\r\n        return 1/(sigma*Math.sqrt(2*Math.PI))*Math.exp(-(x*x)/(2*sigma*sigma));\r\n    }\r\n\r\n    public static Pixmap blur(Pixmap pixmap, boolean vertical) {\r\n        int width = pixmap.getWidth();\r\n        int height = pixmap.getHeight();\r\n        Pixmap result = new Pixmap(width,height,Format.RGBA8888);\r\n\r\n        for(int y=0; y&lt;height; y++)\r\n            for(int x=0; x&lt;width; x++){\r\n                float r=0,g=0,b=0,a=0;\r\n                for(int i=-radius; i&lt;=radius; i++) {\r\n                    int px=x, py=y;\r\n                    if(vertical)\r\n                        py=mirrorTheEdge(py+i,height);\r\n                    else \r\n                        px=mirrorTheEdge(px+i,width);\r\n                    Color color = new Color(pixmap.getPixel(px,py));\r\n                    float weight = (float)matrix[Math.abs(i)];\r\n                    r+=color.r*weight;\r\n                    g+=color.g*weight;\r\n                    b+=color.b*weight;\r\n                    a+=color.a*weight;\r\n                }\r\n                result.setColor(new Color(r,g,b,a));\r\n                result.drawPixel(x,y);\r\n            }\r\n\r\n        return result;\r\n    }\r\n\r\n    private static int mirrorTheEdge(int p, int limit) {\r\n        if(p&lt;0) \r\n            p=p*-1-1;\r\n        if(p&gt;=limit) \r\n            p=limit*2-p+1;\r\n        return p;\r\n    }\r\n}\r\n``` \r\nAnd here is an example of use:\r\n```\r\npackage com.mygdx.game;\r\n\r\nimport com.badlogic.gdx.ApplicationAdapter;\r\nimport com.badlogic.gdx.graphics.Texture;\r\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\nimport com.badlogic.gdx.utils.ScreenUtils;\r\nimport com.badlogic.gdx.graphics.Pixmap;\r\nimport com.badlogic.gdx.files.FileHandle;\r\n\r\npublic class MyGdxGame extends ApplicationAdapter {\r\n\tSpriteBatch batch;\r\n\tTexture img;\r\n\t\r\n\t@Override\r\n\tpublic void create () {\r\n\t\tbatch = new SpriteBatch();\r\n\r\n\t\tPixmap pixmap = new Pixmap(new FileHandle(&quot;badlogic.jpg&quot;)); // Creating pixmap from file\r\n\t\tBlur.setMatrix(15,7.5); // Setting the blur strength\r\n\t\tpixmap = Blur.blur(pixmap,false); // Blurring the pixmap horizontally\r\n\t\tpixmap = Blur.blur(pixmap,true); // Blurring the pixmap vertically\r\n\t\t//pixmap = Blur.blur(Blur.blur(pixmap,false),true); // same in one line\r\n\r\n\t\timg = new Texture(pixmap);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void render () {\r\n\t\tScreenUtils.clear(1, 0, 0, 1);\r\n\t\tbatch.begin();\r\n\t\tbatch.draw(img, 0, 0);\r\n\t\tbatch.end();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void dispose () {\r\n\t\tbatch.dispose();\r\n\t\timg.dispose();\r\n\t}\r\n}\r\n```\r\nBasically, anything that can be transformed into a pixmap can be blurred. To set the strength of the blur, use Blur.setMatrix(radius,sigma). I don&#39;t understand it very well, but the higher these two values are, the blurrier the image. If you want to optimize this, remember that the lower the radius, the better. That&#39;s all.","title":"Blur the screen in LibGDX","body":"<p>I have created my own implementation of gaussian blur for libgdx. Maybe it will be useful for someone. Just add the following class to your project:</p>\n<pre><code>package com.mygdx.game;\n\nimport com.badlogic.gdx.graphics.Pixmap;\nimport com.badlogic.gdx.graphics.Pixmap.Format;\nimport com.badlogic.gdx.graphics.Color;\nimport java.lang.Math;\n\nclass Blur {\n    private static double matrix [];\n    private static int radius;\n\n    public static void setMatrix(int radius, double sigma) {\n        Blur.matrix = new double[radius+1];\n        Blur.radius = radius;\n        for(int i=0; i&lt;=radius; i++)\n            matrix[i] = gauss((double)i, sigma);\n        double sum = 0;\n        for(int i=-radius; i&lt;=radius; i++)\n            sum += matrix[Math.abs(i)];\n        for(int i=0; i&lt;=radius; i++)\n            matrix[i]/=sum;\n    }\n\n    private static double gauss(double x, double sigma) {\n        return 1/(sigma*Math.sqrt(2*Math.PI))*Math.exp(-(x*x)/(2*sigma*sigma));\n    }\n\n    public static Pixmap blur(Pixmap pixmap, boolean vertical) {\n        int width = pixmap.getWidth();\n        int height = pixmap.getHeight();\n        Pixmap result = new Pixmap(width,height,Format.RGBA8888);\n\n        for(int y=0; y&lt;height; y++)\n            for(int x=0; x&lt;width; x++){\n                float r=0,g=0,b=0,a=0;\n                for(int i=-radius; i&lt;=radius; i++) {\n                    int px=x, py=y;\n                    if(vertical)\n                        py=mirrorTheEdge(py+i,height);\n                    else \n                        px=mirrorTheEdge(px+i,width);\n                    Color color = new Color(pixmap.getPixel(px,py));\n                    float weight = (float)matrix[Math.abs(i)];\n                    r+=color.r*weight;\n                    g+=color.g*weight;\n                    b+=color.b*weight;\n                    a+=color.a*weight;\n                }\n                result.setColor(new Color(r,g,b,a));\n                result.drawPixel(x,y);\n            }\n\n        return result;\n    }\n\n    private static int mirrorTheEdge(int p, int limit) {\n        if(p&lt;0) \n            p=p*-1-1;\n        if(p&gt;=limit) \n            p=limit*2-p+1;\n        return p;\n    }\n}\n</code></pre>\n<p>And here is an example of use:</p>\n<pre><code>package com.mygdx.game;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.utils.ScreenUtils;\nimport com.badlogic.gdx.graphics.Pixmap;\nimport com.badlogic.gdx.files.FileHandle;\n\npublic class MyGdxGame extends ApplicationAdapter {\n    SpriteBatch batch;\n    Texture img;\n    \n    @Override\n    public void create () {\n        batch = new SpriteBatch();\n\n        Pixmap pixmap = new Pixmap(new FileHandle(&quot;badlogic.jpg&quot;)); // Creating pixmap from file\n        Blur.setMatrix(15,7.5); // Setting the blur strength\n        pixmap = Blur.blur(pixmap,false); // Blurring the pixmap horizontally\n        pixmap = Blur.blur(pixmap,true); // Blurring the pixmap vertically\n        //pixmap = Blur.blur(Blur.blur(pixmap,false),true); // same in one line\n\n        img = new Texture(pixmap);\n    }\n\n    @Override\n    public void render () {\n        ScreenUtils.clear(1, 0, 0, 1);\n        batch.begin();\n        batch.draw(img, 0, 0);\n        batch.end();\n    }\n    \n    @Override\n    public void dispose () {\n        batch.dispose();\n        img.dispose();\n    }\n}\n</code></pre>\n<p>Basically, anything that can be transformed into a pixmap can be blurred. To set the strength of the blur, use Blur.setMatrix(radius,sigma). I don't understand it very well, but the higher these two values are, the blurrier the image. If you want to optimize this, remember that the lower the radius, the better. That's all.</p>\n"}],"owner":{"account_id":2713466,"reputation":2435,"user_id":2341336,"accept_rate":81,"display_name":"Chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10441,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":20960512,"answer_count":2,"score":14,"last_activity_date":1690336717,"creation_date":1380503641,"question_id":19085126,"body_markdown":"Im trying to create a background effect [like this][2] for my pause menu. My current idea is to take a screenshot on pause, save it, open it, Gaussian blur it, then render it to the screen and render the menu ontop. The only problem is I don&#39;t know how to save the screenshot effectively. \r\n\r\nI&#39;ve tried using `batch.setColor(0,0,0,0.7f);` to render a faded image ontop on the background but it didn&#39;t give me the blur effect i was looking for, rather just a tint as I assumed it would. \r\n\r\nExamples/documentation greatly appreciated.\r\n\r\nEDIT: found this code \r\n\r\n    package com.me.mygdxgame;\r\n    \r\n    import java.awt.Point;\r\n    import java.awt.color.ColorSpace;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.image.ColorModel;\r\n    import java.awt.image.ComponentColorModel;\r\n    import java.awt.image.DataBuffer;\r\n    import java.awt.image.DataBufferByte;\r\n    import java.awt.image.PixelInterleavedSampleModel;\r\n    import java.awt.image.Raster;\r\n    import java.awt.image.WritableRaster;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    import com.badlogic.gdx.Application.ApplicationType;\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.utils.ScreenUtils;\r\n    \r\n    public class ScreenShot {\r\n    \r\n    \tprivate static final int[] RGBA_OFFSETS = { 0, 1, 2, 3 };\r\n    \tprivate static final int[] RGB_OFFSETS = { 0, 1, 2 };\r\n    \r\n    \tpublic static void saveScreenshot(String baseName) throws IOException {\r\n    \t\tFile createTempFile = File.createTempFile(baseName, &quot;.png&quot;);\r\n    \t\tsaveScreenshot(createTempFile);\r\n    \t}\r\n    \r\n    \tpublic static void saveScreenshot(File file) throws IOException {\r\n    \t\tsaveScreenshot(file, false);\r\n    \t}\r\n    \r\n    \tpublic static void saveScreenshot(File file, boolean hasAlpha) throws IOException {\r\n    \t\tif (Gdx.app.getType() == ApplicationType.Android)\r\n    \t\t\treturn;\r\n    \r\n    \t\tbyte[] screenshotPixels = ScreenUtils.getFrameBufferPixels(true);\r\n    \r\n    \t\tint width = Gdx.graphics.getWidth();\r\n    \t\tint height = Gdx.graphics.getHeight();\r\n    \r\n    \t\tsaveScreenshot(file, screenshotPixels, width, height, hasAlpha);\r\n    \t}\r\n    \r\n    \tpublic static void saveScreenshot(File file, byte[] pixels, int width, int height, boolean hasAlpha) throws IOException {\r\n    \t\tDataBufferByte dataBuffer = new DataBufferByte(pixels, pixels.length);\r\n    \r\n    \t\tPixelInterleavedSampleModel sampleModel = new PixelInterleavedSampleModel(DataBuffer.TYPE_BYTE, width, height, 4, 4 * width, getOffsets(hasAlpha));\r\n    \r\n    \t\tWritableRaster raster = Raster.createWritableRaster(sampleModel, dataBuffer, new Point(0, 0));\r\n    \r\n    \t\tBufferedImage img = new BufferedImage(getColorModel(hasAlpha), raster, false, null);\r\n    \r\n    \t\tImageIO.write(img, &quot;png&quot;, file);\r\n    \t}\r\n    \r\n    \tprivate static ColorModel getColorModel(boolean alpha) {\r\n    \t\tif (alpha)\r\n    \t\t\treturn new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_sRGB), new int[] { 8, 8, 8, 8 }, true, false, ComponentColorModel.TRANSLUCENT, DataBuffer.TYPE_BYTE);\r\n    \t\treturn new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_sRGB), new int[] { 8, 8, 8 }, false, false, ComponentColorModel.OPAQUE, DataBuffer.TYPE_BYTE);\r\n    \t}\r\n    \r\n    \tprivate static int[] getOffsets(boolean alpha) {\r\n    \t\tif (alpha)\r\n    \t\t\treturn RGBA_OFFSETS;\r\n    \t\treturn RGB_OFFSETS;\r\n    \t}\r\n    \r\n    }\r\n\r\nbut it gives me this error when I try `saveScreenshot(&quot;output&quot;);`(runnign desktop version, if that makes a difference. Haven&#39;t tested on an android)\r\n\r\n    Exception in thread &quot;LWJGL Application&quot; com.badlogic.gdx.utils.GdxRuntimeException: java.awt.image.RasterFormatException: Incorrect scanline stride: 3200\r\n    \tat com.badlogic.gdx.backends.lwjgl.LwjglApplication$1.run(LwjglApplication.java:111)\r\n    Caused by: java.awt.image.RasterFormatException: Incorrect scanline stride: 3200\r\n\r\nerror line:\r\n\t\t`ImageIO.write(img, &quot;png&quot;, file);`\r\n\r\n\r\n  [1]: https://code.google.com/p/libgdx-users/wiki/Screenshots\r\n  [2]: http://prntscr.com/1ubci5","title":"Blur the screen in LibGDX","body":"<p>Im trying to create a background effect <a href=\"http://prntscr.com/1ubci5\" rel=\"noreferrer\">like this</a> for my pause menu. My current idea is to take a screenshot on pause, save it, open it, Gaussian blur it, then render it to the screen and render the menu ontop. The only problem is I don't know how to save the screenshot effectively. </p>\n\n<p>I've tried using <code>batch.setColor(0,0,0,0.7f);</code> to render a faded image ontop on the background but it didn't give me the blur effect i was looking for, rather just a tint as I assumed it would. </p>\n\n<p>Examples/documentation greatly appreciated.</p>\n\n<p>EDIT: found this code </p>\n\n<pre><code>package com.me.mygdxgame;\n\nimport java.awt.Point;\nimport java.awt.color.ColorSpace;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.ColorModel;\nimport java.awt.image.ComponentColorModel;\nimport java.awt.image.DataBuffer;\nimport java.awt.image.DataBufferByte;\nimport java.awt.image.PixelInterleavedSampleModel;\nimport java.awt.image.Raster;\nimport java.awt.image.WritableRaster;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\nimport com.badlogic.gdx.Application.ApplicationType;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.utils.ScreenUtils;\n\npublic class ScreenShot {\n\n    private static final int[] RGBA_OFFSETS = { 0, 1, 2, 3 };\n    private static final int[] RGB_OFFSETS = { 0, 1, 2 };\n\n    public static void saveScreenshot(String baseName) throws IOException {\n        File createTempFile = File.createTempFile(baseName, \".png\");\n        saveScreenshot(createTempFile);\n    }\n\n    public static void saveScreenshot(File file) throws IOException {\n        saveScreenshot(file, false);\n    }\n\n    public static void saveScreenshot(File file, boolean hasAlpha) throws IOException {\n        if (Gdx.app.getType() == ApplicationType.Android)\n            return;\n\n        byte[] screenshotPixels = ScreenUtils.getFrameBufferPixels(true);\n\n        int width = Gdx.graphics.getWidth();\n        int height = Gdx.graphics.getHeight();\n\n        saveScreenshot(file, screenshotPixels, width, height, hasAlpha);\n    }\n\n    public static void saveScreenshot(File file, byte[] pixels, int width, int height, boolean hasAlpha) throws IOException {\n        DataBufferByte dataBuffer = new DataBufferByte(pixels, pixels.length);\n\n        PixelInterleavedSampleModel sampleModel = new PixelInterleavedSampleModel(DataBuffer.TYPE_BYTE, width, height, 4, 4 * width, getOffsets(hasAlpha));\n\n        WritableRaster raster = Raster.createWritableRaster(sampleModel, dataBuffer, new Point(0, 0));\n\n        BufferedImage img = new BufferedImage(getColorModel(hasAlpha), raster, false, null);\n\n        ImageIO.write(img, \"png\", file);\n    }\n\n    private static ColorModel getColorModel(boolean alpha) {\n        if (alpha)\n            return new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_sRGB), new int[] { 8, 8, 8, 8 }, true, false, ComponentColorModel.TRANSLUCENT, DataBuffer.TYPE_BYTE);\n        return new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_sRGB), new int[] { 8, 8, 8 }, false, false, ComponentColorModel.OPAQUE, DataBuffer.TYPE_BYTE);\n    }\n\n    private static int[] getOffsets(boolean alpha) {\n        if (alpha)\n            return RGBA_OFFSETS;\n        return RGB_OFFSETS;\n    }\n\n}\n</code></pre>\n\n<p>but it gives me this error when I try <code>saveScreenshot(\"output\");</code>(runnign desktop version, if that makes a difference. Haven't tested on an android)</p>\n\n<pre><code>Exception in thread \"LWJGL Application\" com.badlogic.gdx.utils.GdxRuntimeException: java.awt.image.RasterFormatException: Incorrect scanline stride: 3200\n    at com.badlogic.gdx.backends.lwjgl.LwjglApplication$1.run(LwjglApplication.java:111)\nCaused by: java.awt.image.RasterFormatException: Incorrect scanline stride: 3200\n</code></pre>\n\n<p>error line:\n        <code>ImageIO.write(img, \"png\", file);</code></p>\n"},{"tags":["java","lambda","java-8","functional-programming","runnable"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":9,"creation_date":1561801680,"post_id":56816550,"comment_id":100186568,"body_markdown":"`Runnable` is a functional interface by itself, isn&#39;t it? There is no need for an equivalent for it in `java.util.function`.","body":"<code>Runnable</code> is a functional interface by itself, isn&#39;t it? There is no need for an equivalent for it in <code>java.util.function</code>."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1561801791,"post_id":56816550,"comment_id":100186582,"body_markdown":"@Sweeper this is not the point of the question.Of course it is.","body":"@Sweeper this is not the point of the question.Of course it is."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":5,"creation_date":1561801818,"post_id":56816550,"comment_id":100186587,"body_markdown":"What is the point then? What exactly are you asking?","body":"What is the point then? What exactly are you asking?"},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1561801939,"post_id":56816550,"comment_id":100186603,"body_markdown":"@Sweeper it is a question of semantics. I can use napkins as baby napkins or as kitchen paper. But even if the material is the same, they come with different names and flavors.","body":"@Sweeper it is a question of semantics. I can use napkins as baby napkins or as kitchen paper. But even if the material is the same, they come with different names and flavors."},{"owner":{"account_id":1887647,"reputation":5271,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"score":2,"creation_date":1561801967,"post_id":56816550,"comment_id":100186612,"body_markdown":"@AlexandarPetrov more of Supplier&lt;Void&gt;","body":"@AlexandarPetrov more of Supplier&lt;Void&gt;"},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1561802040,"post_id":56816550,"comment_id":100186625,"body_markdown":"@DanielTaub ah thanks!!!! My question was wrong :)","body":"@DanielTaub ah thanks!!!! My question was wrong :)"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1561802050,"post_id":56816550,"comment_id":100186626,"body_markdown":"I would argue it is simply `Function&lt;Void, Void&gt;`. @DanielTaub","body":"I would argue it is simply <code>Function&lt;Void, Void&gt;</code>. @DanielTaub"},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1561802209,"post_id":56816550,"comment_id":100186658,"body_markdown":"I edited the question I was meaning Supplier not Consumer.  So Why it is not supplier or function?","body":"I edited the question I was meaning Supplier not Consumer.  So Why it is not supplier or function?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":5,"creation_date":1561803335,"post_id":56816550,"comment_id":100186852,"body_markdown":"`Runnable` is much older than the functions, and was not retrofitted into the new framework. You are overthinking this.","body":"<code>Runnable</code> is much older than the functions, and was not retrofitted into the new framework. You are overthinking this."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1561807367,"post_id":56816550,"comment_id":100187565,"body_markdown":"@AlexandarPetrov I think `Runnable` is a semantically fine name for the context in which it would be used. It is a functional interface which neither produces something or consume something, so one could say that the method is free of any context, essentially being a block of code to run. I cannot think of any scenario where this name is actually inaccurate.","body":"@AlexandarPetrov I think <code>Runnable</code> is a semantically fine name for the context in which it would be used. It is a functional interface which neither produces something or consume something, so one could say that the method is free of any context, essentially being a block of code to run. I cannot think of any scenario where this name is actually inaccurate."}],"answers":[{"comments":[{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1561805829,"post_id":56816912,"comment_id":100187337,"body_markdown":"Thanks for the answer. Just curios if Runnable was positioned in the j.l.function what would it be named still Runnable ?","body":"Thanks for the answer. Just curios if Runnable was positioned in the j.l.function what would it be named still Runnable ?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1561818416,"post_id":56816912,"comment_id":100189777,"body_markdown":"Runnable, perhaps Executable (which, interestingly enough, is a pre-1.8 interface matching Supplier, but that one WAS re-imagined as Supplier. There are reasons for this (Executable is not in java.lang, and throws, which doesn&#39;t mesh with what all the j.l.function interfaces do).","body":"Runnable, perhaps Executable (which, interestingly enough, is a pre-1.8 interface matching Supplier, but that one WAS re-imagined as Supplier. There are reasons for this (Executable is not in java.lang, and throws, which doesn&#39;t mesh with what all the j.l.function interfaces do)."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1561835375,"post_id":56816912,"comment_id":100193299,"body_markdown":"It&#39;s actually `java.util.function` instead of `j.l.function`.","body":"It&#39;s actually <code>java.util.function</code> instead of <code>j.l.function</code>."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1604505460,"post_id":56816912,"comment_id":114368674,"body_markdown":"Gracias for spotting that and fixing it, @MCEmperor :)","body":"Gracias for spotting that and fixing it, @MCEmperor :)"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1561836920,"creation_date":1561805250,"answer_id":56816912,"question_id":56816550,"body_markdown":"`Runnable` is it. There was an intentional choice (see [Brian Goetz here][1]) not to add a functional interface to the `java.util.function` package that is effectively equivalent to `Runnable`. One of the major ideas behind Java&#39;s implementation of lambdas (the idea that all uses of it must be where some functional interface is required, and that the lambda then becomes an implementation of that functional interface) is intended to ensure that Java post-lambda is more or less compatible with APIs designed pre-lambda, without any real need to release an incompatible &#39;v2&#39; edition with a more Java8+ style API for the majority of existing APIs out there.\r\n\r\nIntroducing a variant of `Runnable` solely for it to exist in the `java.util.function` package would run counter to that idea.\r\n\r\nNote that `Runnable` and `Supplier&lt;Void&gt;` and `Function&lt;Void, Void&gt;` might feel very similar but are utterly incompatible in javaland. `Void` isn&#39;t special; it&#39;s just a type, same as any other. For example, if you are making a `Supplier&lt;Void&gt;` lambda, you need to actually return something, and you can only return `null`; there is no non-hacky way to make instances of the `Void` type. Whereas for `void`, you don&#39;t have to (and can&#39;t).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27973294/function-with-no-args-and-no-return-type-void-in-java-8?lq=1#comment44339647_27973294","title":"What is the Runnable representation in java.util.function?","body":"<p><code>Runnable</code> is it. There was an intentional choice (see <a href=\"https://stackoverflow.com/questions/27973294/function-with-no-args-and-no-return-type-void-in-java-8?lq=1#comment44339647_27973294\">Brian Goetz here</a>) not to add a functional interface to the <code>java.util.function</code> package that is effectively equivalent to <code>Runnable</code>. One of the major ideas behind Java's implementation of lambdas (the idea that all uses of it must be where some functional interface is required, and that the lambda then becomes an implementation of that functional interface) is intended to ensure that Java post-lambda is more or less compatible with APIs designed pre-lambda, without any real need to release an incompatible 'v2' edition with a more Java8+ style API for the majority of existing APIs out there.</p>\n\n<p>Introducing a variant of <code>Runnable</code> solely for it to exist in the <code>java.util.function</code> package would run counter to that idea.</p>\n\n<p>Note that <code>Runnable</code> and <code>Supplier&lt;Void&gt;</code> and <code>Function&lt;Void, Void&gt;</code> might feel very similar but are utterly incompatible in javaland. <code>Void</code> isn't special; it's just a type, same as any other. For example, if you are making a <code>Supplier&lt;Void&gt;</code> lambda, you need to actually return something, and you can only return <code>null</code>; there is no non-hacky way to make instances of the <code>Void</code> type. Whereas for <code>void</code>, you don't have to (and can't).</p>\n"}],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2924,"favorite_count":0,"down_vote_count":3,"up_vote_count":13,"accepted_answer_id":56816912,"answer_count":1,"score":10,"last_activity_date":1690336197,"creation_date":1561801545,"question_id":56816550,"body_markdown":"I was wondering recently as Runnable is very often used in a functional context. At the same time according to javadoc its semantical meaning is very close to multithreading while it is not aways used in such context:\r\n\r\n&gt; The Runnable interface should be implemented by any class whose\r\n&gt; instances are intended to be executed by a thread. The class must\r\n&gt; define a method of no arguments called run. This interface is designed\r\n&gt; to provide a common protocol for objects that wish to execute code\r\n&gt; while they are active. For example, Runnable is implemented by class\r\n&gt; Thread. Being active simply means that a thread has been started and\r\n&gt; has not yet been stopped.\r\n\r\n**Is `Runnable` equivalent to `Supplier&lt;Void&gt;` ? Or is `Runnable` equivalent to `Function&lt;Void,Void&gt;` and why is it not Supplier then ?** How does Runnable align with `java.util.function` package&#39;s already present functional interfaces.","title":"What is the Runnable representation in java.util.function?","body":"<p>I was wondering recently as Runnable is very often used in a functional context. At the same time according to javadoc its semantical meaning is very close to multithreading while it is not aways used in such context:</p>\n<blockquote>\n<p>The Runnable interface should be implemented by any class whose\ninstances are intended to be executed by a thread. The class must\ndefine a method of no arguments called run. This interface is designed\nto provide a common protocol for objects that wish to execute code\nwhile they are active. For example, Runnable is implemented by class\nThread. Being active simply means that a thread has been started and\nhas not yet been stopped.</p>\n</blockquote>\n<p><strong>Is <code>Runnable</code> equivalent to <code>Supplier&lt;Void&gt;</code> ? Or is <code>Runnable</code> equivalent to <code>Function&lt;Void,Void&gt;</code> and why is it not Supplier then ?</strong> How does Runnable align with <code>java.util.function</code> package's already present functional interfaces.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1660267559,"post_id":73323156,"comment_id":129498213,"body_markdown":"Is the &#39;auto-build&#39; turned off in your eclipse?","body":"Is the &#39;auto-build&#39; turned off in your eclipse?"},{"owner":{"account_id":18659314,"reputation":173,"user_id":13600920,"display_name":"infochip"},"score":0,"creation_date":1660290436,"post_id":73323156,"comment_id":129502332,"body_markdown":"No, it&#39;s turned on.","body":"No, it&#39;s turned on."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":1,"creation_date":1660617909,"post_id":73323156,"comment_id":129568695,"body_markdown":"**Ctrl+Shift+P** Open the command palette and select `Java:Clean Java Language Server Workspace`. If the problem persists, try reinstalling vscode.","body":"<b>Ctrl+Shift+P</b> Open the command palette and select <code>Java:Clean Java Language Server Workspace</code>. If the problem persists, try reinstalling vscode."},{"owner":{"account_id":18659314,"reputation":173,"user_id":13600920,"display_name":"infochip"},"score":1,"creation_date":1660723709,"post_id":73323156,"comment_id":129597289,"body_markdown":"That only restarts the process of importing Java projects which is performed on each startup of VScode and takes very long for multiple large projects. I am curious why VSCode is so inefficient on a restart, when both Eclipse and IntelliJ are much more efficient in that regard (for Java projects at least).","body":"That only restarts the process of importing Java projects which is performed on each startup of VScode and takes very long for multiple large projects. I am curious why VSCode is so inefficient on a restart, when both Eclipse and IntelliJ are much more efficient in that regard (for Java projects at least)."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":1,"creation_date":1661304556,"post_id":73323156,"comment_id":129738217,"body_markdown":"@infochip. I&#39;ve opened an [issue](https://github.com/redhat-developer/vscode-java/issues/2643) on GitHub, hope it&#39;s useful to you.","body":"@infochip. I&#39;ve opened an <a href=\"https://github.com/redhat-developer/vscode-java/issues/2643\" rel=\"nofollow noreferrer\">issue</a> on GitHub, hope it&#39;s useful to you."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1681280162,"post_id":73323156,"comment_id":134028928,"body_markdown":"I face the same problem. Any update?","body":"I face the same problem. Any update?"}],"answers":[{"tags":[],"owner":{"account_id":788349,"reputation":3495,"user_id":862382,"display_name":"Droid Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690335435,"creation_date":1690335435,"answer_id":76767469,"question_id":73323156,"body_markdown":"You probably have this Java Red Hat plugin. Switch to pre-release version. It fixes this issue:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/68frW.png","title":"VSCode reloads Java projects on each startup which takes a very long time","body":"<p>You probably have this Java Red Hat plugin. Switch to pre-release version. It fixes this issue:</p>\n<p><a href=\"https://i.stack.imgur.com/68frW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/68frW.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18659314,"reputation":173,"user_id":13600920,"display_name":"infochip"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4853,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1690335435,"creation_date":1660231132,"question_id":73323156,"body_markdown":"I am in the process of switching from Eclipse to VSCode for Java Development - so far, I have been able to setup a workspace folder with all my Java projects in it and all works fine.\r\n\r\nHowever, every time I restart VSCode, all projects are rebuilding (showing me &quot;Opening Java Projects: check details&quot;) which takes a very long time (about 5 minutes) - in comparision, when I am re-opening my Eclipse workspace with the same amount of projects, it only takes ~30 seconds for everything to be ready. Is there something I am doing wrong or can&#39;t VSCode &quot;remember&quot; Java projects as good as Eclipse?","title":"VSCode reloads Java projects on each startup which takes a very long time","body":"<p>I am in the process of switching from Eclipse to VSCode for Java Development - so far, I have been able to setup a workspace folder with all my Java projects in it and all works fine.</p>\n<p>However, every time I restart VSCode, all projects are rebuilding (showing me &quot;Opening Java Projects: check details&quot;) which takes a very long time (about 5 minutes) - in comparision, when I am re-opening my Eclipse workspace with the same amount of projects, it only takes ~30 seconds for everything to be ready. Is there something I am doing wrong or can't VSCode &quot;remember&quot; Java projects as good as Eclipse?</p>\n"},{"tags":["java","groovy","nextflow"],"comments":[{"owner":{"account_id":2824173,"reputation":339,"user_id":2427138,"display_name":"mribeirodantas"},"score":1,"creation_date":1690313761,"post_id":76765334,"comment_id":135335400,"body_markdown":"The correct place is indeed in the script block, but it&#39;s awkward that the `dna` variable is not working. Can you provide a minimal reproducible example?","body":"The correct place is indeed in the script block, but it&#39;s awkward that the <code>dna</code> variable is not working. Can you provide a minimal reproducible example?"}],"answers":[{"tags":[],"owner":{"account_id":391289,"reputation":52114,"user_id":751863,"accept_rate":100,"display_name":"Steve"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690335147,"creation_date":1690335147,"answer_id":76767451,"question_id":76765334,"body_markdown":"The correct place to define the variable is in the [`script`](https://www.nextflow.io/docs/latest/process.html#script) block. If you only need a local variable (i.e. it is _not_ required in the `output` declaration for example), you can use the `def` keyword like in the example below. Note that with the `-params-file` option, `params.VC` will actually return a `ConfigMap` (a `LinkedHashMap` subclass) object. One way would be to use Groovy&#39;s null-safe operator (?.) to get the label value and the elvis operator (?:) to provide a default if it doesn&#39;t exist:\r\n\r\n```\r\nparams.bams = &#39;/path/to/bams/*.bam{,.bai}&#39;\r\n\r\n\r\nprocess VariantCall {\r\n\r\n    input:\r\n    tuple val(meta), path(bam), path(bai)\r\n    val(dna)\r\n\r\n    output:\r\n    tuple val(meta), path(&#39;out.vcf&#39;)\r\n\r\n    script:\r\n    def g_label = params?.VC?.get(dna)?.general?.label ?: &quot;none&quot;\r\n\r\n    &quot;&quot;&quot;\r\n    the_variant_caller \\\\\r\n        -l &quot;${g_label}&quot; \\\\\r\n        -o out.vcf\r\n    &quot;&quot;&quot;\r\n}\r\n\r\n\r\nworkflow {\r\n    \r\n    bams = Channel.fromFilePairs( params.bams, flat: true )\r\n\r\n    VariantCall( bams, &#39;mtDNA&#39; )\r\n}\r\n```\r\n\r\nRun using:\r\n\r\n```\r\nnextflow run main.nf -params-file params.json\r\n```\r\n","title":"How to create a new variable by merging together input and parameters in nextflow?","body":"<p>The correct place to define the variable is in the <a href=\"https://www.nextflow.io/docs/latest/process.html#script\" rel=\"nofollow noreferrer\"><code>script</code></a> block. If you only need a local variable (i.e. it is <em>not</em> required in the <code>output</code> declaration for example), you can use the <code>def</code> keyword like in the example below. Note that with the <code>-params-file</code> option, <code>params.VC</code> will actually return a <code>ConfigMap</code> (a <code>LinkedHashMap</code> subclass) object. One way would be to use Groovy's null-safe operator (?.) to get the label value and the elvis operator (?:) to provide a default if it doesn't exist:</p>\n<pre><code>params.bams = '/path/to/bams/*.bam{,.bai}'\n\n\nprocess VariantCall {\n\n    input:\n    tuple val(meta), path(bam), path(bai)\n    val(dna)\n\n    output:\n    tuple val(meta), path('out.vcf')\n\n    script:\n    def g_label = params?.VC?.get(dna)?.general?.label ?: &quot;none&quot;\n\n    &quot;&quot;&quot;\n    the_variant_caller \\\\\n        -l &quot;${g_label}&quot; \\\\\n        -o out.vcf\n    &quot;&quot;&quot;\n}\n\n\nworkflow {\n    \n    bams = Channel.fromFilePairs( params.bams, flat: true )\n\n    VariantCall( bams, 'mtDNA' )\n}\n</code></pre>\n<p>Run using:</p>\n<pre><code>nextflow run main.nf -params-file params.json\n</code></pre>\n"}],"owner":{"account_id":25427494,"reputation":39,"user_id":19232471,"display_name":"Ulf90"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690335147,"creation_date":1690307336,"question_id":76765334,"body_markdown":"I am having the following issue:\r\nI am trying to create new variable within a process that actually would take items from the input section, from the parameter section and create new variables to be used in the script section:\r\nHere is how the process looks like in a meaningful semplification:\r\n\r\n```\r\nnextflow.enable.dsl=2\r\n\r\nprocess VariantCall {\r\ncontainer &#39;the_container&#39;\r\n\r\n    input:\r\n        val(dna)\r\n        tuple val(meta), path(in_bam), path(in_bam_bai)\r\n\r\n    output:\r\n        tuple val(meta), path(&#39;out.vcf&#39;)\r\n\r\n    publishDir &quot;${params.publish_dir}/VariantCalling/${meta}/${dna}&quot;, mode: &#39;copy&#39;, pattern: &#39;*.vcf&#39;\r\n    \r\n    g_label = &quot;${params.VC}.${dna}.general.label&quot;\r\n\r\n    script:\r\n        &quot;&quot;&quot;\r\n    the_variant_caller \\\r\n    -l ${g_label}\r\n    -o out.vcf\r\n        &quot;&quot;&quot;\r\n\r\n```\r\nThe params.json looks like this:\r\n```\r\n{\r\n&quot;VC&quot;:{\r\n        &quot;nDNA&quot;:{\r\n            &quot;general&quot;: {\r\n                &quot;label&quot;: &quot;&quot;,\r\n                &quot;cov_thresh&quot;: 0\r\n            }\r\n        &quot;mtDNA&quot;:{\r\n            &quot;general&quot;: {\r\n                &quot;label&quot;: &quot;MT&quot;,\r\n                &quot;cov_thresh&quot;: 0\r\n            }\r\n}\r\n```\r\nSo my goal is to have a g_label variable to feed into the script, that is the composition of the backbone of params.json and the input i am giving (dna). \r\nThen, i run the workflow like this:\r\n```\r\nworkflow VariantCall_Module {\r\n    take:\r\n        dna\r\n        in_bam\r\n\r\n\r\n    main:\r\n        VariantCall(\r\n            dna,\r\n            in_bam\r\n\r\n        )\r\n\r\n    emit:\r\n        vcf = VariantCall.out\r\n}\r\n```\r\n\r\nhowever, no matter how i phrase g_label i always get:\r\n```\r\nERROR ~ Error executing process &gt; &#39;TheModule:VariantCalling_nDNA (1)&#39;\r\n\r\nCaused by:\r\n  No such variable: g_label -- Check script &#39;././modules/variant-calling-ndna/../variant-call-utils/processes.nf&#39; at line: 21\r\n``` \r\nI also tried:\r\n-  to have g_label inside the script block\r\n-  to have the g_label under `def g_label = &quot;${params.VC}.${dna}.general.label&quot;`\r\nBut same results, with the difference that when i phrase it inside the script block i get as error:\r\n`No such variable: dna`\r\nSo it looks to me i have a problem with the syntax but also that the dna variable although is in the input (and it&#39;s taken without problem in the publishDir statement), it doesn&#39;t get passed into a new variable.\r\nDo you have any ideas? \r\ncheers!\r\n","title":"How to create a new variable by merging together input and parameters in nextflow?","body":"<p>I am having the following issue:\nI am trying to create new variable within a process that actually would take items from the input section, from the parameter section and create new variables to be used in the script section:\nHere is how the process looks like in a meaningful semplification:</p>\n<pre><code>nextflow.enable.dsl=2\n\nprocess VariantCall {\ncontainer 'the_container'\n\n    input:\n        val(dna)\n        tuple val(meta), path(in_bam), path(in_bam_bai)\n\n    output:\n        tuple val(meta), path('out.vcf')\n\n    publishDir &quot;${params.publish_dir}/VariantCalling/${meta}/${dna}&quot;, mode: 'copy', pattern: '*.vcf'\n    \n    g_label = &quot;${params.VC}.${dna}.general.label&quot;\n\n    script:\n        &quot;&quot;&quot;\n    the_variant_caller \\\n    -l ${g_label}\n    -o out.vcf\n        &quot;&quot;&quot;\n\n</code></pre>\n<p>The params.json looks like this:</p>\n<pre><code>{\n&quot;VC&quot;:{\n        &quot;nDNA&quot;:{\n            &quot;general&quot;: {\n                &quot;label&quot;: &quot;&quot;,\n                &quot;cov_thresh&quot;: 0\n            }\n        &quot;mtDNA&quot;:{\n            &quot;general&quot;: {\n                &quot;label&quot;: &quot;MT&quot;,\n                &quot;cov_thresh&quot;: 0\n            }\n}\n</code></pre>\n<p>So my goal is to have a g_label variable to feed into the script, that is the composition of the backbone of params.json and the input i am giving (dna).\nThen, i run the workflow like this:</p>\n<pre><code>workflow VariantCall_Module {\n    take:\n        dna\n        in_bam\n\n\n    main:\n        VariantCall(\n            dna,\n            in_bam\n\n        )\n\n    emit:\n        vcf = VariantCall.out\n}\n</code></pre>\n<p>however, no matter how i phrase g_label i always get:</p>\n<pre><code>ERROR ~ Error executing process &gt; 'TheModule:VariantCalling_nDNA (1)'\n\nCaused by:\n  No such variable: g_label -- Check script '././modules/variant-calling-ndna/../variant-call-utils/processes.nf' at line: 21\n</code></pre>\n<p>I also tried:</p>\n<ul>\n<li>to have g_label inside the script block</li>\n<li>to have the g_label under <code>def g_label = &quot;${params.VC}.${dna}.general.label&quot;</code>\nBut same results, with the difference that when i phrase it inside the script block i get as error:\n<code>No such variable: dna</code>\nSo it looks to me i have a problem with the syntax but also that the dna variable although is in the input (and it's taken without problem in the publishDir statement), it doesn't get passed into a new variable.\nDo you have any ideas?\ncheers!</li>\n</ul>\n"},{"tags":["java","arrays","algorithm","frameworks"],"comments":[{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":11,"creation_date":1426232378,"post_id":1484347,"comment_id":46295847,"body_markdown":"Array of primitive to array of containers would help: http://stackoverflow.com/questions/3770289/converting-array-of-primitives-to-array-of-containers-in-java followed by `Collections.max(Arrays.asList())`.","body":"Array of primitive to array of containers would help: <a href=\"http://stackoverflow.com/questions/3770289/converting-array-of-primitives-to-array-of-containers-in-java\" title=\"converting array of primitives to array of containers in java\">stackoverflow.com/questions/3770289/&hellip;</a> followed by <code>Collections.max(Arrays.asList())</code>."},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":5,"creation_date":1593186568,"post_id":1484347,"comment_id":110701138,"body_markdown":"I just love how dumb the Java is","body":"I just love how dumb the Java is"},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":0,"creation_date":1650226586,"post_id":1484347,"comment_id":127061616,"body_markdown":"Arrays.asList won&#39;t work on an array of a primitive type\\.","body":"Arrays.asList won&#39;t work on an array of a primitive type\\."}],"answers":[{"comments":[{"owner":{"account_id":48455,"reputation":57218,"user_id":143972,"accept_rate":100,"display_name":"Zed"},"score":1,"creation_date":1254083621,"post_id":1484352,"comment_id":1335751,"body_markdown":"Collections.min(myCollection); If you want to use it for arrays, you can do it like Collections.min(Arrays.asList(myArray));","body":"Collections.min(myCollection); If you want to use it for arrays, you can do it like Collections.min(Arrays.asList(myArray));"},{"owner":{"account_id":20189,"reputation":166057,"user_id":48015,"accept_rate":80,"display_name":"Christoph"},"score":3,"creation_date":1254083630,"post_id":1484352,"comment_id":1335752,"body_markdown":"converting a `char []` to a `Character []` only to determine the maximum is quite inefficient - better create a utility class with static methods for each primitive type similar to `java.util.Arrays`: http://java.sun.com/javase/6/docs/api/java/util/Arrays.html","body":"converting a <code>char []</code> to a <code>Character []</code> only to determine the maximum is quite inefficient - better create a utility class with static methods for each primitive type similar to <code>java.util.Arrays</code>: <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/util/Arrays.html</a>"},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1254084070,"post_id":1484352,"comment_id":1335774,"body_markdown":"@Christoph: yes, if the size of the array is large, I would agree. Simply stating it is &quot;inefficient&quot; does not make sense if the application in question makes many database calls and/or I/O operations and the size of the array is (relative) small.","body":"@Christoph: yes, if the size of the array is large, I would agree. Simply stating it is &quot;inefficient&quot; does not make sense if the application in question makes many database calls and/or I/O operations and the size of the array is (relative) small."},{"owner":{"account_id":20189,"reputation":166057,"user_id":48015,"accept_rate":80,"display_name":"Christoph"},"score":0,"creation_date":1254084317,"post_id":1484352,"comment_id":1335790,"body_markdown":"you should use `Character.valueOf(chars[i])` instead of `new Character(chars[i])` for performance reasons: http://java.sun.com/javase/6/docs/api/java/lang/Character.html#valueOf%28char%29","body":"you should use <code>Character.valueOf(chars[i])</code> instead of <code>new Character(chars[i])</code> for performance reasons: <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Character.html#valueOf%28char%29\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":0,"creation_date":1365026642,"post_id":1484352,"comment_id":22466348,"body_markdown":"@Christoph Christoph is right, it is inefficient and stupid to transform an array to an Collection, for min max search.","body":"@Christoph Christoph is right, it is inefficient and stupid to transform an array to an Collection, for min max search."}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":5,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1254084517,"creation_date":1254082215,"answer_id":1484352,"question_id":1484347,"body_markdown":"Yes, it&#39;s done in the [Collections][1] class. Note that you will need to convert your primitive char array to a Character[] manually.\r\n\r\nA short demo:\r\n\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n        \r\n        public static Character[] convert(char[] chars) {\r\n            Character[] copy = new Character[chars.length];\r\n            for(int i = 0; i &lt; copy.length; i++) {\r\n                copy[i] = Character.valueOf(chars[i]);\r\n            }\r\n            return copy;\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            char[] a = {&#39;3&#39;, &#39;5&#39;, &#39;1&#39;, &#39;4&#39;, &#39;2&#39;};\r\n            Character[] b = convert(a);\r\n            System.out.println(Collections.max(Arrays.asList(b)));\r\n        }\r\n    }\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#min(java.util.Collection)","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Yes, it's done in the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#min(java.util.Collection)\" rel=\"noreferrer\">Collections</a> class. Note that you will need to convert your primitive char array to a Character[] manually.</p>\n\n<p>A short demo:</p>\n\n<pre><code>import java.util.*;\n\npublic class Main {\n\n    public static Character[] convert(char[] chars) {\n        Character[] copy = new Character[chars.length];\n        for(int i = 0; i &lt; copy.length; i++) {\n            copy[i] = Character.valueOf(chars[i]);\n        }\n        return copy;\n    }\n\n    public static void main(String[] args) {\n        char[] a = {'3', '5', '1', '4', '2'};\n        Character[] b = convert(a);\n        System.out.println(Collections.max(Arrays.asList(b)));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20189,"reputation":166057,"user_id":48015,"accept_rate":80,"display_name":"Christoph"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1595941183,"creation_date":1254085935,"answer_id":1484494,"question_id":1484347,"body_markdown":"Here&#39;s a utility class providing `min/max` methods for primitive types: [Primitives.java](http://pastebin.com/f57ae8d47)\r\n\r\n    int [] numbers= {10,1,8,7,6,5,2};\r\n\t\tint a=Integer.MAX_VALUE;\r\n\t\tfor(int c:numbers) {\r\n\t\t\ta=c&lt;a?c:a;\r\n\t\t\t}\r\n\t\t\t\r\n\t\tSystem.out.println(&quot;Lowest value is&quot;+a);","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Here's a utility class providing <code>min/max</code> methods for primitive types: <a href=\"http://pastebin.com/f57ae8d47\" rel=\"nofollow noreferrer\">Primitives.java</a></p>\n<pre><code>int [] numbers= {10,1,8,7,6,5,2};\n    int a=Integer.MAX_VALUE;\n    for(int c:numbers) {\n        a=c&lt;a?c:a;\n        }\n        \n    System.out.println(&quot;Lowest value is&quot;+a);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"score":11,"creation_date":1463596770,"post_id":1486010,"comment_id":62136641,"body_markdown":"what is `ArrayUtils`","body":"what is <code>ArrayUtils</code>"},{"owner":{"account_id":23239,"reputation":4528,"user_id":58100,"accept_rate":67,"display_name":"E.M."},"score":4,"creation_date":1477159714,"post_id":1486010,"comment_id":67656637,"body_markdown":"`Arrays.asList()` should be fine, but `ArrayUtils.toObject()` will copy each element of `a` to a new array of `Character`.","body":"<code>Arrays.asList()</code> should be fine, but <code>ArrayUtils.toObject()</code> will copy each element of <code>a</code> to a new array of <code>Character</code>."},{"owner":{"account_id":2623942,"reputation":1814,"user_id":2271388,"display_name":"nessa.gp"},"score":8,"creation_date":1487222341,"post_id":1486010,"comment_id":71687824,"body_markdown":"`Arrays.asList(a)` doesn&#39;t work. You can&#39;t make a list of primitives (`List&lt;char&gt;` in this case). First you need to convert the primitive values to objects and that&#39;s why `ArrayUtils.toObject` is used.","body":"<code>Arrays.asList(a)</code> doesn&#39;t work. You can&#39;t make a list of primitives (<code>List&lt;char&gt;</code> in this case). First you need to convert the primitive values to objects and that&#39;s why <code>ArrayUtils.toObject</code> is used."}],"tags":[],"owner":{"account_id":15843,"reputation":13885,"user_id":33889,"accept_rate":82,"display_name":"Michael Rutherfurd"},"comment_count":3,"down_vote_count":1,"up_vote_count":201,"is_accepted":true,"score":200,"last_activity_date":1384610315,"creation_date":1254127392,"answer_id":1486010,"question_id":1484347,"body_markdown":"Using Commons Lang (to convert) + Collections (to min/max)\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    \r\n    import org.apache.commons.lang.ArrayUtils;\r\n    \r\n    public class MinMaxValue {\r\n    \r\n        public static void main(String[] args) {\r\n            char[] a = {&#39;3&#39;, &#39;5&#39;, &#39;1&#39;, &#39;4&#39;, &#39;2&#39;};\r\n            \r\n            List b = Arrays.asList(ArrayUtils.toObject(a));\r\n        \r\n            System.out.println(Collections.min(b));\r\n            System.out.println(Collections.max(b));\r\n       }\r\n    }\r\n\r\nNote that `Arrays.asList()` wraps the underlying array, so it should not be too memory intensive and it should not perform a copy on the elements of the array.","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Using Commons Lang (to convert) + Collections (to min/max)</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\n\nimport org.apache.commons.lang.ArrayUtils;\n\npublic class MinMaxValue {\n\n    public static void main(String[] args) {\n        char[] a = {'3', '5', '1', '4', '2'};\n\n        List b = Arrays.asList(ArrayUtils.toObject(a));\n\n        System.out.println(Collections.min(b));\n        System.out.println(Collections.max(b));\n   }\n}\n</code></pre>\n\n<p>Note that <code>Arrays.asList()</code> wraps the underlying array, so it should not be too memory intensive and it should not perform a copy on the elements of the array.</p>\n"},{"comments":[{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":5,"creation_date":1260477910,"post_id":1658144,"comment_id":1784031,"body_markdown":"It&#39;s implemented more or less like in the question except it throws an IllegalArgumentException for an array of length 0. (http://code.google.com/p/guava-libraries/source/browse/trunk/src/com/google/common/primitives/Chars.java)","body":"It&#39;s implemented more or less like in the question except it throws an IllegalArgumentException for an array of length 0. (<a href=\"http://code.google.com/p/guava-libraries/source/browse/trunk/src/com/google/common/primitives/Chars.java\" rel=\"nofollow noreferrer\">code.google.com/p/guava-libraries/source/browse/trunk/src/c&zwnj;&#8203;om/&hellip;</a>)"},{"owner":{"account_id":88318,"reputation":8934,"user_id":244360,"accept_rate":78,"display_name":"Kong"},"score":3,"creation_date":1401058978,"post_id":1658144,"comment_id":36724747,"body_markdown":"This is the best solution of everything here. Avoids all that java.util.Arrays#asList varargs confusion.","body":"This is the best solution of everything here. Avoids all that java.util.Arrays#asList varargs confusion."}],"tags":[],"owner":{"account_id":21620,"reputation":2451,"user_id":52687,"accept_rate":80,"display_name":"Andrew McKinlay"},"comment_count":2,"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1257105016,"creation_date":1257105016,"answer_id":1658144,"question_id":1484347,"body_markdown":"The [Google Guava library][1] has min and max methods in its Chars, Ints, Longs, etc. classes.\r\n\r\nSo you can simply use:\r\n\r\n    Chars.min(myarray)\r\n\r\nNo conversions are required and presumably it&#39;s efficiently implemented.\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/","title":"Finding the max/min value in an array of primitives using Java","body":"<p>The <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava library</a> has min and max methods in its Chars, Ints, Longs, etc. classes.</p>\n\n<p>So you can simply use:</p>\n\n<pre><code>Chars.min(myarray)\n</code></pre>\n\n<p>No conversions are required and presumably it's efficiently implemented.</p>\n"},{"tags":[],"owner":{"account_id":3377913,"reputation":31,"user_id":2835693,"display_name":"hightower"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1380646400,"creation_date":1380644944,"answer_id":19121381,"question_id":1484347,"body_markdown":"    import java.util.Random;\r\n    \r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n       int a[] = new int [100];\r\n       Random rnd = new Random ();\r\n\r\n        for (int i = 0; i&lt; a.length; i++) {\r\n            a[i] = rnd.nextInt(99-0)+0;\r\n            System.out.println(a[i]);\r\n        }\r\n\r\n        int max = 0;          \r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            a[i] = max;\r\n            \r\n\r\n            for (int j = i+1; j&lt;a.length; j++) {\r\n                if (a[j] &gt; max) {\r\n                   max = a[j];\r\n                }\r\n\r\n            }\r\n        }\r\n     \r\n        System.out.println(&quot;Max element: &quot; + max);\r\n    }\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<pre><code>import java.util.Random;\n\npublic class Main {\n\npublic static void main(String[] args) {\n   int a[] = new int [100];\n   Random rnd = new Random ();\n\n    for (int i = 0; i&lt; a.length; i++) {\n        a[i] = rnd.nextInt(99-0)+0;\n        System.out.println(a[i]);\n    }\n\n    int max = 0;          \n\n    for (int i = 0; i &lt; a.length; i++) {\n        a[i] = max;\n\n\n        for (int j = i+1; j&lt;a.length; j++) {\n            if (a[j] &gt; max) {\n               max = a[j];\n            }\n\n        }\n    }\n\n    System.out.println(\"Max element: \" + max);\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14810,"reputation":38725,"user_id":30773,"accept_rate":60,"display_name":"davidsheldon"},"score":3,"creation_date":1472552068,"post_id":19921300,"comment_id":65786903,"body_markdown":"It&#39;s probably worth noting that a) this modifies the array, and b) for large arrays it&#39;s a more expensive solution O(nlog n) rather than O(n)","body":"It&#39;s probably worth noting that a) this modifies the array, and b) for large arrays it&#39;s a more expensive solution O(nlog n) rather than O(n)"}],"tags":[],"owner":{"account_id":3571654,"reputation":27,"user_id":2981816,"display_name":"whoduexpect"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1384234042,"creation_date":1384232894,"answer_id":19921300,"question_id":1484347,"body_markdown":"Pass the array to a method that sorts it with `Arrays.sort()` so it only sorts the array the method is using then sets *min* to `array[0]` and *max* to `array[array.length-1]`.","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Pass the array to a method that sorts it with <code>Arrays.sort()</code> so it only sorts the array the method is using then sets <em>min</em> to <code>array[0]</code> and <em>max</em> to <code>array[array.length-1]</code>.</p>\n"},{"comments":[{"owner":{"account_id":222159,"reputation":396,"user_id":480579,"display_name":"Jeff"},"score":3,"creation_date":1409174455,"post_id":23169726,"comment_id":39871785,"body_markdown":"I think what this means to say is that if you sort the array (in ascending order), by definition, the minimum value will always be at the first position, a[0], and the maximum value will always be at the last position, [a.length-1].","body":"I think what this means to say is that if you sort the array (in ascending order), by definition, the minimum value will always be at the first position, a[0], and the maximum value will always be at the last position, [a.length-1]."},{"owner":{"account_id":1706372,"reputation":972,"user_id":1565344,"accept_rate":60,"display_name":"Alex"},"score":1,"creation_date":1415043276,"post_id":23169726,"comment_id":42033149,"body_markdown":"This is a legitimate and useful way of solving the problem. What&#39;s the disadvantage of using it compared to the other ones?","body":"This is a legitimate and useful way of solving the problem. What&#39;s the disadvantage of using it compared to the other ones?"},{"owner":{"account_id":392232,"reputation":516,"user_id":753379,"accept_rate":53,"display_name":"jajdoo"},"score":14,"creation_date":1420896856,"post_id":23169726,"comment_id":44154962,"body_markdown":"@alex time complexity - sorting is at best an O(nlogn) affair, while Michael Rutherfurd approach is O(n).","body":"@alex time complexity - sorting is at best an O(nlogn) affair, while Michael Rutherfurd approach is O(n)."},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":6,"creation_date":1424671172,"post_id":23169726,"comment_id":45629799,"body_markdown":"We dont need sort as single iteration over list is enough to find min and max.","body":"We dont need sort as single iteration over list is enough to find min and max."},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":0,"creation_date":1616546062,"post_id":23169726,"comment_id":118035206,"body_markdown":"@akhil_mittal but this requires more code than a sort, because there is no Java standard method to do this iteration","body":"@akhil_mittal but this requires more code than a sort, because there is no Java standard method to do this iteration"}],"tags":[],"owner":{"account_id":4331554,"reputation":349,"user_id":3536936,"display_name":"Lubna_Nsour"},"comment_count":5,"down_vote_count":11,"up_vote_count":37,"is_accepted":false,"score":26,"last_activity_date":1611316727,"creation_date":1397908437,"answer_id":23169726,"question_id":1484347,"body_markdown":"By sorting the array, you get the first and last values for min / max. \r\n\r\n    import java.util.Arrays;\r\n\r\n    public class apples {\r\n\r\n      public static void main(String[] args) {\r\n    \tint a[] = {2,5,3,7,8};\r\n    \tArrays.sort(a);\r\n\r\n    \tint min =a[0];\r\n    \tSystem.out.println(min);\r\n\r\n    \tint max= a[a.length-1];\r\n    \tSystem.out.println(max);\r\n      }\r\n    \t\r\n    }\r\n\r\nAlthough the sorting operation is more expensive than simply finding min/max values with a simple loop. But when performance is not a concern (e.g. small arrays, or your the cost is irrelevant for your application), it is a quite simple solution.\r\n\r\nNote: the array also gets modified after this.","title":"Finding the max/min value in an array of primitives using Java","body":"<p>By sorting the array, you get the first and last values for min / max.</p>\n<pre><code>import java.util.Arrays;\n\npublic class apples {\n\n  public static void main(String[] args) {\n    int a[] = {2,5,3,7,8};\n    Arrays.sort(a);\n\n    int min =a[0];\n    System.out.println(min);\n\n    int max= a[a.length-1];\n    System.out.println(max);\n  }\n    \n}\n</code></pre>\n<p>Although the sorting operation is more expensive than simply finding min/max values with a simple loop. But when performance is not a concern (e.g. small arrays, or your the cost is irrelevant for your application), it is a quite simple solution.</p>\n<p>Note: the array also gets modified after this.</p>\n"},{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":0,"down_vote_count":0,"up_vote_count":167,"is_accepted":false,"score":167,"last_activity_date":1489064675,"creation_date":1433672794,"answer_id":30692454,"question_id":1484347,"body_markdown":"You can simply use the new Java 8 [`Stream`s](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) but you have to work with `int`.\r\n\r\nThe [`stream`](http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-) method of the utility class [`Arrays`](http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html) gives you an [`IntStream`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html) on which you can use the [`min`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#min--) method. You can also do [`max`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#max--), [`sum`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#sum--), [`average`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--),...\r\n\r\nThe [`getAsInt`](http://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html#getAsInt--) method is used to get the value from the [`OptionalInt`](http://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html)\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args){\r\n            int[] tab = {12, 1, 21, 8};\r\n            int min = Arrays.stream(tab).min().getAsInt();\r\n            int max = Arrays.stream(tab).max().getAsInt();\r\n            System.out.println(&quot;Min = &quot; + min);\r\n            System.out.println(&quot;Max = &quot; + max)\r\n        }\r\n        \r\n    }\r\n\r\n**==UPDATE==**\r\n\r\nIf execution time is important and you want to go through the data only once you can use the [`summaryStatistics()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--) method like this\r\n\r\n    import java.util.Arrays;\r\n    import java.util.IntSummaryStatistics;\r\n    \r\n    public class SOTest {\r\n        public static void main(String[] args){\r\n            int[] tab = {12, 1, 21, 8};\r\n            IntSummaryStatistics stat = Arrays.stream(tab).summaryStatistics();\r\n            int min = stat.getMin();\r\n            int max = stat.getMax();\r\n            System.out.println(&quot;Min = &quot; + min);\r\n            System.out.println(&quot;Max = &quot; + max);\r\n        }\r\n    }\r\n\r\nThis approach can give better performance than classical loop because the [`summaryStatistics`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--) method is a [reduction operation](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction) and it allows parallelization.","title":"Finding the max/min value in an array of primitives using Java","body":"<p>You can simply use the new Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream</code>s</a> but you have to work with <code>int</code>.</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#stream-int:A-\" rel=\"noreferrer\"><code>stream</code></a> method of the utility class <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"noreferrer\"><code>Arrays</code></a> gives you an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\"><code>IntStream</code></a> on which you can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#min--\" rel=\"noreferrer\"><code>min</code></a> method. You can also do <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#max--\" rel=\"noreferrer\"><code>max</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#sum--\" rel=\"noreferrer\"><code>sum</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--\" rel=\"noreferrer\"><code>average</code></a>,...</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html#getAsInt--\" rel=\"noreferrer\"><code>getAsInt</code></a> method is used to get the value from the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html\" rel=\"noreferrer\"><code>OptionalInt</code></a></p>\n\n<pre><code>import java.util.Arrays;\n\npublic class Test {\n    public static void main(String[] args){\n        int[] tab = {12, 1, 21, 8};\n        int min = Arrays.stream(tab).min().getAsInt();\n        int max = Arrays.stream(tab).max().getAsInt();\n        System.out.println(\"Min = \" + min);\n        System.out.println(\"Max = \" + max)\n    }\n\n}\n</code></pre>\n\n<p><strong>==UPDATE==</strong></p>\n\n<p>If execution time is important and you want to go through the data only once you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--\" rel=\"noreferrer\"><code>summaryStatistics()</code></a> method like this</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.IntSummaryStatistics;\n\npublic class SOTest {\n    public static void main(String[] args){\n        int[] tab = {12, 1, 21, 8};\n        IntSummaryStatistics stat = Arrays.stream(tab).summaryStatistics();\n        int min = stat.getMin();\n        int max = stat.getMax();\n        System.out.println(\"Min = \" + min);\n        System.out.println(\"Max = \" + max);\n    }\n}\n</code></pre>\n\n<p>This approach can give better performance than classical loop because the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--\" rel=\"noreferrer\"><code>summaryStatistics</code></a> method is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction\" rel=\"noreferrer\">reduction operation</a> and it allows parallelization.</p>\n"},{"comments":[{"owner":{"account_id":2707424,"reputation":4360,"user_id":2336725,"display_name":"Teepeemm"},"score":2,"creation_date":1434715990,"post_id":30911587,"comment_id":49910453,"body_markdown":"The problem with sorting is that it has an O(n log n) overhead for a O(n) problem.  But this is better than the other three &quot;sort the array&quot; answers already given.","body":"The problem with sorting is that it has an O(n log n) overhead for a O(n) problem.  But this is better than the other three &quot;sort the array&quot; answers already given."}],"tags":[],"owner":{"account_id":5386756,"reputation":851,"user_id":4290390,"display_name":"Kim G."},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1434672367,"creation_date":1434619827,"answer_id":30911587,"question_id":1484347,"body_markdown":"The basic way to get the min/max value of an Array. If you need the unsorted array, you may create a copy or pass it to a method that returns the min or max. If not, sorted array is better since it performs faster in some cases.\r\n\r\n    public class MinMaxValueOfArray {\r\n        public static void main(String[] args) {\r\n            int[] A = {2, 4, 3, 5, 5};\r\n            Arrays.sort(A);\r\n            int min = A[0];\r\n            int max = A[A.length -1];\r\n            System.out.println(&quot;Min Value = &quot; + min);        \r\n            System.out.println(&quot;Max Value = &quot; + max);\r\n        }\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<p>The basic way to get the min/max value of an Array. If you need the unsorted array, you may create a copy or pass it to a method that returns the min or max. If not, sorted array is better since it performs faster in some cases.</p>\n\n<pre><code>public class MinMaxValueOfArray {\n    public static void main(String[] args) {\n        int[] A = {2, 4, 3, 5, 5};\n        Arrays.sort(A);\n        int min = A[0];\n        int max = A[A.length -1];\n        System.out.println(\"Min Value = \" + min);        \n        System.out.println(\"Max Value = \" + max);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4226501,"reputation":13504,"user_id":3459910,"accept_rate":73,"display_name":"winklerrr"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1440602975,"creation_date":1440602975,"answer_id":32230758,"question_id":1484347,"body_markdown":"You could easily do it with an `IntStream` and the `max()` method.\r\n\r\n### Example\r\n\r\n    public static int maxValue(final int[] intArray) {\r\n      return IntStream.range(0, intArray.length).map(i -&gt; intArray[i]).max().getAsInt();\r\n    }\r\n\r\n### Explanation \r\n\r\n1. `range(0, intArray.length)` - To get a stream with as many elements as present in the `intArray`.\r\n\r\n2. `map(i -&gt; intArray[i])` - Map every element of the stream to an actual element of the `intArray`.\r\n\r\n3. `max()` - Get the maximum element of this stream as `OptionalInt`.\r\n\r\n4. `getAsInt()` - Unwrap the `OptionalInt`. (You could also use here: `orElse(0)`, just in case the `OptionalInt` is empty.)","title":"Finding the max/min value in an array of primitives using Java","body":"<p>You could easily do it with an <code>IntStream</code> and the <code>max()</code> method.</p>\n\n<h3>Example</h3>\n\n<pre><code>public static int maxValue(final int[] intArray) {\n  return IntStream.range(0, intArray.length).map(i -&gt; intArray[i]).max().getAsInt();\n}\n</code></pre>\n\n<h3>Explanation</h3>\n\n<ol>\n<li><p><code>range(0, intArray.length)</code> - To get a stream with as many elements as present in the <code>intArray</code>.</p></li>\n<li><p><code>map(i -&gt; intArray[i])</code> - Map every element of the stream to an actual element of the <code>intArray</code>.</p></li>\n<li><p><code>max()</code> - Get the maximum element of this stream as <code>OptionalInt</code>.</p></li>\n<li><p><code>getAsInt()</code> - Unwrap the <code>OptionalInt</code>. (You could also use here: <code>orElse(0)</code>, just in case the <code>OptionalInt</code> is empty.)</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2509230,"reputation":1396,"user_id":4576274,"display_name":"Pramod"},"score":0,"creation_date":1536401945,"post_id":37762644,"comment_id":91417309,"body_markdown":"While your solution will work, but it will increase the time complexity to O(nlogn) while min can be found easily in O(n) by using other answers.","body":"While your solution will work, but it will increase the time complexity to O(nlogn) while min can be found easily in O(n) by using other answers."},{"owner":{"account_id":2042397,"reputation":10132,"user_id":1834057,"accept_rate":51,"display_name":"Nicholas Hamilton"},"score":0,"creation_date":1552207542,"post_id":37762644,"comment_id":96917018,"body_markdown":"simply crazy to use a sort in this situation.","body":"simply crazy to use a sort in this situation."},{"owner":{"account_id":95476,"reputation":14534,"user_id":260007,"accept_rate":100,"display_name":"biziclop"},"score":0,"creation_date":1553937613,"post_id":37762644,"comment_id":97577903,"body_markdown":"It can be useful when the first n&gt;1 smallest/largest value is needed, with some repairs.","body":"It can be useful when the first n&gt;1 smallest/largest value is needed, with some repairs."}],"tags":[],"owner":{"account_id":2376705,"reputation":37064,"user_id":2079831,"accept_rate":100,"display_name":"Andrew"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465640911,"creation_date":1465640911,"answer_id":37762644,"question_id":1484347,"body_markdown":"Example with float:\r\n\r\n    public static float getMaxFloat(float[] data) {\r\n\r\n        float[] copy = Arrays.copyOf(data, data.length);\r\n        Arrays.sort(copy);\r\n        return copy[data.length - 1];\r\n    }\r\n\r\n    public static float getMinFloat(float[] data) {\r\n\r\n        float[] copy = Arrays.copyOf(data, data.length);\r\n        Arrays.sort(copy);\r\n        return copy[0];\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Example with float:</p>\n\n<pre><code>public static float getMaxFloat(float[] data) {\n\n    float[] copy = Arrays.copyOf(data, data.length);\n    Arrays.sort(copy);\n    return copy[data.length - 1];\n}\n\npublic static float getMinFloat(float[] data) {\n\n    float[] copy = Arrays.copyOf(data, data.length);\n    Arrays.sort(copy);\n    return copy[0];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2085185,"reputation":779,"user_id":1856342,"accept_rate":71,"display_name":"krems"},"score":1,"creation_date":1497553011,"post_id":40031337,"comment_id":76138727,"body_markdown":"You should use \ndouble max = Double.NEGATIVE_INFINITY;\ninstead of \ndouble max = Double.MIN_VALUE;\nAs MIN_VALUE for double is positive","body":"You should use  double max = Double.NEGATIVE_INFINITY; instead of  double max = Double.MIN_VALUE; As MIN_VALUE for double is positive"},{"owner":{"account_id":2042397,"reputation":10132,"user_id":1834057,"accept_rate":51,"display_name":"Nicholas Hamilton"},"score":2,"creation_date":1520333229,"post_id":40031337,"comment_id":85262299,"body_markdown":"... or you could set max to the first item in the array, and iterate from the 2nd item, see my answer.","body":"... or you could set max to the first item in the array, and iterate from the 2nd item, see my answer."}],"tags":[],"owner":{"account_id":435850,"reputation":1429,"user_id":822664,"accept_rate":60,"display_name":"Sauer"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1499691882,"creation_date":1476394235,"answer_id":40031337,"question_id":1484347,"body_markdown":"I have a little helper class in all of my applications with methods like:\r\n\r\n    public static double arrayMax(double[] arr) {\r\n    \tdouble max = Double.NEGATIVE_INFINITY;\r\n    \t\r\n    \tfor(double cur: arr)\r\n    \t\tmax = Math.max(max, cur);\r\n    \t\r\n    \treturn max;\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<p>I have a little helper class in all of my applications with methods like:</p>\n\n<pre><code>public static double arrayMax(double[] arr) {\n    double max = Double.NEGATIVE_INFINITY;\n\n    for(double cur: arr)\n        max = Math.max(max, cur);\n\n    return max;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3377694,"reputation":4854,"user_id":2835520,"accept_rate":100,"display_name":"IgniteCoders"},"score":0,"creation_date":1520342330,"post_id":49128983,"comment_id":85268213,"body_markdown":"This is for numbers `int` but the question is asking for primitive values `int, long, char, byte....`","body":"This is for numbers <code>int</code> but the question is asking for primitive values <code>int, long, char, byte....</code>"}],"tags":[],"owner":{"account_id":2042397,"reputation":10132,"user_id":1834057,"accept_rate":51,"display_name":"Nicholas Hamilton"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520333349,"creation_date":1520333349,"answer_id":49128983,"question_id":1484347,"body_markdown":"        public int getMin(int[] values){\r\n            int ret = values[0];\r\n            for(int i = 1; i &lt; values.length; i++)\r\n                ret = Math.min(ret,values[i]);\r\n            return ret;\r\n        }","title":"Finding the max/min value in an array of primitives using Java","body":"<pre><code>    public int getMin(int[] values){\n        int ret = values[0];\n        for(int i = 1; i &lt; values.length; i++)\n            ret = Math.min(ret,values[i]);\n        return ret;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1544236705,"post_id":53119572,"comment_id":94215895,"body_markdown":";-) That’s “Not completely serious” alright. Hesitating to upvote…","body":";-) That’s “Not completely serious” alright. Hesitating to upvote…"}],"tags":[],"owner":{"account_id":6348404,"reputation":372,"user_id":4928212,"accept_rate":100,"display_name":"mnzl"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1541166578,"creation_date":1541165656,"answer_id":53119572,"question_id":1484347,"body_markdown":"Here is a solution to get the max value in about 99% of runs (change the 0.01 to get a better result):\r\n\r\n    public static double getMax(double[] vals){\r\n        final double[] max = {Double.NEGATIVE_INFINITY};\r\n\r\n        IntStream.of(new Random().ints((int) Math.ceil(Math.log(0.01) / Math.log(1.0 - (1.0/vals.length))),0,vals.length).toArray())\r\n                .forEach(r -&gt; max[0] = (max[0] &lt; vals[r])? vals[r]: max[0]);\r\n\r\n        return max[0];\r\n    }\r\n(Not completely serious)","title":"Finding the max/min value in an array of primitives using Java","body":"<p>Here is a solution to get the max value in about 99% of runs (change the 0.01 to get a better result):</p>\n\n<pre><code>public static double getMax(double[] vals){\n    final double[] max = {Double.NEGATIVE_INFINITY};\n\n    IntStream.of(new Random().ints((int) Math.ceil(Math.log(0.01) / Math.log(1.0 - (1.0/vals.length))),0,vals.length).toArray())\n            .forEach(r -&gt; max[0] = (max[0] &lt; vals[r])? vals[r]: max[0]);\n\n    return max[0];\n}\n</code></pre>\n\n<p>(Not completely serious)</p>\n"},{"tags":[],"owner":{"account_id":14423849,"reputation":598,"user_id":10419204,"display_name":"Simon Z."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554207950,"creation_date":1551161009,"answer_id":54879301,"question_id":1484347,"body_markdown":"A solution with `reduce()`:\r\n\r\n    int[] array = {23, 3, 56, 97, 42};\r\n    // directly print out\r\n    Arrays.stream(array).reduce((x, y) -&gt; x &gt; y ? x : y).ifPresent(System.out::println);\r\n\r\n    // get the result as an int\r\n    int res = Arrays.stream(array).reduce((x, y) -&gt; x &gt; y ? x : y).getAsInt();\r\n    System.out.println(res);\r\n    &gt;&gt;\r\n    97\r\n    97\r\n\r\nIn the code above, `reduce()` returns data in `Optional` format, which you can convert to `int` by `getAsInt()`. \r\n \r\nIf we want to compare the max value with a certain number, we can set a start value in `reduce()`:\r\n\r\n    int[] array = {23, 3, 56, 97, 42};\r\n    // e.g., compare with 100\r\n    int max = Arrays.stream(array).reduce(100, (x, y) -&gt; x &gt; y ? x : y);\r\n    System.out.println(max);\r\n    &gt;&gt;\r\n    100\r\n\r\nIn the code above, when `reduce()` with an identity (start value) as the first parameter, it returns data in the same format with the identity. With this property, we can apply this solution to other arrays:\r\n\r\n    double[] array = {23.1, 3, 56.6, 97, 42};\r\n    double max = Arrays.stream(array).reduce(array[0], (x, y) -&gt; x &gt; y ? x : y);\r\n    System.out.println(max);\r\n    &gt;&gt;\r\n    97.0","title":"Finding the max/min value in an array of primitives using Java","body":"<p>A solution with <code>reduce()</code>:</p>\n\n<pre><code>int[] array = {23, 3, 56, 97, 42};\n// directly print out\nArrays.stream(array).reduce((x, y) -&gt; x &gt; y ? x : y).ifPresent(System.out::println);\n\n// get the result as an int\nint res = Arrays.stream(array).reduce((x, y) -&gt; x &gt; y ? x : y).getAsInt();\nSystem.out.println(res);\n&gt;&gt;\n97\n97\n</code></pre>\n\n<p>In the code above, <code>reduce()</code> returns data in <code>Optional</code> format, which you can convert to <code>int</code> by <code>getAsInt()</code>. </p>\n\n<p>If we want to compare the max value with a certain number, we can set a start value in <code>reduce()</code>:</p>\n\n<pre><code>int[] array = {23, 3, 56, 97, 42};\n// e.g., compare with 100\nint max = Arrays.stream(array).reduce(100, (x, y) -&gt; x &gt; y ? x : y);\nSystem.out.println(max);\n&gt;&gt;\n100\n</code></pre>\n\n<p>In the code above, when <code>reduce()</code> with an identity (start value) as the first parameter, it returns data in the same format with the identity. With this property, we can apply this solution to other arrays:</p>\n\n<pre><code>double[] array = {23.1, 3, 56.6, 97, 42};\ndouble max = Arrays.stream(array).reduce(array[0], (x, y) -&gt; x &gt; y ? x : y);\nSystem.out.println(max);\n&gt;&gt;\n97.0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1690349974,"post_id":65800230,"comment_id":135339194,"body_markdown":"What question does this answer, and how?","body":"What question does this answer, and how?"}],"tags":[],"owner":{"account_id":8984705,"reputation":42,"user_id":6698628,"display_name":"Balu Abraham"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611094078,"creation_date":1611094078,"answer_id":65800230,"question_id":1484347,"body_markdown":"        int[] arr = {1, 2, 3};\r\n\r\n        List&lt;Integer&gt; list = Arrays.stream(arr).boxed().collect(Collectors.toList());\r\n        int max_ = Collections.max(list);\r\n        int i;\r\n        if (max_ &gt; 0) {\r\n            for (i = 1; i &lt; Collections.max(list); i++) {\r\n                if (!list.contains(i)) {\r\n                    System.out.println(i);\r\n                    break;\r\n                }\r\n            }\r\n            if(i==max_){\r\n                System.out.println(i+1);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;1&quot;);\r\n        }\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<pre><code>    int[] arr = {1, 2, 3};\n\n    List&lt;Integer&gt; list = Arrays.stream(arr).boxed().collect(Collectors.toList());\n    int max_ = Collections.max(list);\n    int i;\n    if (max_ &gt; 0) {\n        for (i = 1; i &lt; Collections.max(list); i++) {\n            if (!list.contains(i)) {\n                System.out.println(i);\n                break;\n            }\n        }\n        if(i==max_){\n            System.out.println(i+1);\n        }\n    } else {\n        System.out.println(&quot;1&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690334070,"creation_date":1690334070,"answer_id":76767410,"question_id":1484347,"body_markdown":"     IntStream.of(a).max().getAsInt()\r\n\r\nExample:\r\n    \r\n    import java.util.stream.IntStream;\r\n    public class Solution {\r\n    \tpublic static void main(String[] args) {\r\n            int[] a = {3, 7, 5, 2};\r\n            int max = IntStream.of(a).max().getAsInt();\r\n    \t\tSystem.out.println(max);\r\n    \t}\r\n    }","title":"Finding the max/min value in an array of primitives using Java","body":"<pre><code> IntStream.of(a).max().getAsInt()\n</code></pre>\n<p>Example:</p>\n<pre><code>import java.util.stream.IntStream;\npublic class Solution {\n    public static void main(String[] args) {\n        int[] a = {3, 7, 5, 2};\n        int max = IntStream.of(a).max().getAsInt();\n        System.out.println(max);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":49568,"reputation":119894,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820302,"favorite_count":0,"down_vote_count":0,"up_vote_count":245,"accepted_answer_id":1486010,"answer_count":17,"score":245,"last_activity_date":1690334070,"creation_date":1254082076,"question_id":1484347,"body_markdown":"It&#39;s trivial to write a function to determine the min/max value in an array, such as:\r\n\r\n\t/**\r\n\t * \r\n\t * @param chars\r\n\t * @return the max value in the array of chars\r\n\t */\r\n\tprivate static int maxValue(char[] chars) {\r\n\t\tint max = chars[0];\r\n\t\tfor (int ktr = 0; ktr &lt; chars.length; ktr++) {\r\n\t\t\tif (chars[ktr] &gt; max) {\r\n\t\t\t\tmax = chars[ktr];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\r\nbut isn&#39;t this already done somewhere?","title":"Finding the max/min value in an array of primitives using Java","body":"<p>It's trivial to write a function to determine the min/max value in an array, such as:</p>\n\n<pre><code>/**\n * \n * @param chars\n * @return the max value in the array of chars\n */\nprivate static int maxValue(char[] chars) {\n    int max = chars[0];\n    for (int ktr = 0; ktr &lt; chars.length; ktr++) {\n        if (chars[ktr] &gt; max) {\n            max = chars[ktr];\n        }\n    }\n    return max;\n}\n</code></pre>\n\n<p>but isn't this already done somewhere?</p>\n"},{"tags":["java","android","hprof","eclipse-memory-analyzer"],"comments":[{"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"score":1,"creation_date":1365789583,"post_id":15977723,"comment_id":22776462,"body_markdown":"Isn&#39;t that what [ParseHeapDump.sh](http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ) does ?","body":"Isn&#39;t that what <a href=\"http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ\" rel=\"nofollow noreferrer\">ParseHeapDump.sh</a> does ?"},{"owner":{"account_id":410135,"reputation":1759,"user_id":781794,"accept_rate":68,"display_name":"Abhishek"},"score":0,"creation_date":1365794158,"post_id":15977723,"comment_id":22778823,"body_markdown":"Yup, thanks for that. Did not know about it. Have a follow up question, How do you parse the index file that is generated? Want to run some custom analysis on it.","body":"Yup, thanks for that. Did not know about it. Have a follow up question, How do you parse the index file that is generated? Want to run some custom analysis on it."},{"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"score":0,"creation_date":1365846409,"post_id":15977723,"comment_id":22791555,"body_markdown":"I&#39;ll move my comment to the answer&#39;s section since that was what you were looking for. If you elaborate on the custom analysis you&#39;re after, may be we can help.","body":"I&#39;ll move my comment to the answer&#39;s section since that was what you were looking for. If you elaborate on the custom analysis you&#39;re after, may be we can help."},{"owner":{"account_id":4258989,"reputation":738,"user_id":3483824,"display_name":"bitsabhi"},"score":1,"creation_date":1537342195,"post_id":15977723,"comment_id":91744754,"body_markdown":"jhat -port 7401 -J-Xmx4G &lt;file&gt;","body":"jhat -port 7401 -J-Xmx4G &lt;file&gt;"}],"answers":[{"comments":[{"owner":{"account_id":410135,"reputation":1759,"user_id":781794,"accept_rate":68,"display_name":"Abhishek"},"score":0,"creation_date":1365877807,"post_id":15986464,"comment_id":22799873,"body_markdown":"Here is the custom analysis I want, By packagename heap utilisation, in a format which can be stored to a db or saved as a csv.","body":"Here is the custom analysis I want, By packagename heap utilisation, in a format which can be stored to a db or saved as a csv."},{"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"score":0,"creation_date":1365919181,"post_id":15986464,"comment_id":22808633,"body_markdown":"There is an export option on the dominator tree window that will allow you to export to `HTML` / `CSV` / `TXT`. I know that is not a direct answer to your question, but it is the best I have. The files can indeed be parsed on a command line to do what you&#39;re asking, but I do not know the technical path that will achieve that.","body":"There is an export option on the dominator tree window that will allow you to export to <code>HTML</code> / <code>CSV</code> / <code>TXT</code>. I know that is not a direct answer to your question, but it is the best I have. The files can indeed be parsed on a command line to do what you&#39;re asking, but I do not know the technical path that will achieve that."},{"owner":{"account_id":4482195,"reputation":828,"user_id":3645968,"display_name":"Charles Roth"},"score":0,"creation_date":1460749154,"post_id":15986464,"comment_id":60904288,"body_markdown":"Tried ParseHeapDump.sh (ssh&#39;d to big linux server), fails immediately with &quot;Unable to initialize GTK+&quot;, looks like it thinks it&#39;s talking to a UI(??)","body":"Tried ParseHeapDump.sh (ssh&#39;d to big linux server), fails immediately with &quot;Unable to initialize GTK+&quot;, looks like it thinks it&#39;s talking to a UI(??)"}],"tags":[],"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1366126787,"creation_date":1365846435,"answer_id":15986464,"question_id":15977723,"body_markdown":"[ParseHeapDump.sh][1] does what you&#39;re looking for. As for the follow up question I&#39;m not sure what format the index files are stored in.\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ","title":"analyse a HPROF memory dump file from command line programmatically","body":"<p><a href=\"http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ\" rel=\"nofollow\">ParseHeapDump.sh</a> does what you're looking for. As for the follow up question I'm not sure what format the index files are stored in.</p>\n"},{"comments":[{"owner":{"account_id":485331,"reputation":3633,"user_id":901597,"display_name":"Joe Bowbeer"},"score":0,"creation_date":1380272844,"post_id":16907654,"comment_id":28147933,"body_markdown":"Fixed: andromat link is still among the living, but was mistyped.","body":"Fixed: andromat link is still among the living, but was mistyped."}],"tags":[],"owner":{"account_id":485331,"reputation":3633,"user_id":901597,"display_name":"Joe Bowbeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690333117,"creation_date":1370303505,"answer_id":16907654,"question_id":15977723,"body_markdown":"See [github.com/joebowbeer/andromat](https://github.com/joebowbeer/andromat), which is adapted from [bitbucket.org/ekabanov/mat](https://bitbucket.org/ekabanov/mat), which is a stripped-down command line version of [Eclipse Memory Analyzer](http://www.eclipse.org/mat/).","title":"analyse a HPROF memory dump file from command line programmatically","body":"<p>See <a href=\"https://github.com/joebowbeer/andromat\" rel=\"nofollow noreferrer\">github.com/joebowbeer/andromat</a>, which is adapted from <a href=\"https://bitbucket.org/ekabanov/mat\" rel=\"nofollow noreferrer\">bitbucket.org/ekabanov/mat</a>, which is a stripped-down command line version of <a href=\"http://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">Eclipse Memory Analyzer</a>.</p>\n"}],"owner":{"account_id":410135,"reputation":1759,"user_id":781794,"accept_rate":68,"display_name":"Abhishek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16025,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":15986464,"answer_count":2,"score":13,"last_activity_date":1690333117,"creation_date":1365788808,"question_id":15977723,"body_markdown":"I was investigation with analyzing a HPROF file using Eclipse&#39;s Memory Analyser (MAT).\r\nThe dominator tree, reports and the OQL interface look really useful. But all this has to be done manually from the MAT software.\r\n\r\nIs there a commandline interface so I can programmatically parse the HPROF and automatically generate custom reports.\r\n\r\nThis would be useful to integrate this a test infrastructure to do a automatic memory analysis.\r\n\r\nBtw, the heapsize is will be between 10-60MB.","title":"analyse a HPROF memory dump file from command line programmatically","body":"<p>I was investigation with analyzing a HPROF file using Eclipse's Memory Analyser (MAT).\nThe dominator tree, reports and the OQL interface look really useful. But all this has to be done manually from the MAT software.</p>\n\n<p>Is there a commandline interface so I can programmatically parse the HPROF and automatically generate custom reports.</p>\n\n<p>This would be useful to integrate this a test infrastructure to do a automatic memory analysis.</p>\n\n<p>Btw, the heapsize is will be between 10-60MB.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-test","spring-test-mvc"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690332948,"creation_date":1690311937,"answer_id":76765804,"question_id":76764123,"body_markdown":"If `MockMvc#perform()` throws exception , it implies you do not configure spring-mvc to handle this exception.(i.e `ConstraintViolationException` in your case). \r\n\r\nIn reality, the exception will be propagated back to the servlet container to let it handle (e.g decide what HTTP response will be returned etc).But now as you are using `MockMvc` , you can think that it is a mocked version of servlet container which its implementation is just throw the exception for any exception  propagated to it.\r\n\r\nSo the answer is to configure spring-mvc to handle  `ConstraintViolationException` , for example by declaring a `@ControllerAdvice` for it :\r\n\r\n``` java\r\n@ControllerAdvice\r\npublic class ApiExceptionHandler {\r\n\r\n\t@ExceptionHandler(ConstraintViolationException.class)\r\n\t@ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n\tpublic void handleConstraintViolationException(final ConstraintViolationException ex) {\r\n\t    log.info(&quot;handle ConstraintViolationException blabla&quot;,ex);\r\n\t}\r\n}\r\n```\r\n\r\nNote : See more how to handle exception in spring-mvc at [this][1]\r\n\r\n\r\n  [1]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#recent-updates","title":"Spring Test with mockMVC throws ServletException","body":"<p>If <code>MockMvc#perform()</code> throws exception , it implies you do not configure spring-mvc to handle this exception.(i.e <code>ConstraintViolationException</code> in your case).</p>\n<p>In reality, the exception will be propagated back to the servlet container to let it handle (e.g decide what HTTP response will be returned etc).But now as you are using <code>MockMvc</code> , you can think that it is a mocked version of servlet container which its implementation is just throw the exception for any exception  propagated to it.</p>\n<p>So the answer is to configure spring-mvc to handle  <code>ConstraintViolationException</code> , for example by declaring a <code>@ControllerAdvice</code> for it :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ApiExceptionHandler {\n\n    @ExceptionHandler(ConstraintViolationException.class)\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    public void handleConstraintViolationException(final ConstraintViolationException ex) {\n        log.info(&quot;handle ConstraintViolationException blabla&quot;,ex);\n    }\n}\n</code></pre>\n<p>Note : See more how to handle exception in spring-mvc at <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#recent-updates\" rel=\"nofollow noreferrer\">this</a></p>\n"}],"owner":{"account_id":15860278,"reputation":319,"user_id":11443551,"display_name":"iiiiiiiiiiiiiiiiiiii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690332948,"creation_date":1690298037,"question_id":76764123,"body_markdown":"I have the following Spring test class:\r\n\r\n\r\n```java\r\n\r\n@AutoConfigureMockMvc\r\n@Testcontainers\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class FormTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    \r\n\r\n    @Test\r\n    public void givenInvalidForm_whenSubmitted_returns400() throws Exception {\r\n\r\n        FormUploadDTO dto = .. generate DTO\r\n        MvcResult mvcResult =  mockMvc.perform(post(BaseApi.BASE_API + &quot;/forms&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON.getMediaType())\r\n                        .content(asJsonString(new ArrayList&lt;&gt;(Collections.singleton(dto)){}))\r\n                        .andDo(print())\r\n                        .andReturn();\r\n        assertEquals(400, mvcResult.getResponse().getStatus());\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nhowever, instead of spring-application container returning bad-request (for `@NotNull` annotated fields), it throws the following error:\r\n\r\n```\r\njakarta.servlet.ServletException: Request processing failed: jakarta.validation.ConstraintViolationException: submitForm.dtos[0].client: must not be null, submitForm.dtos[0].priceType: must not be null, submitForm.dtos[0].price: must not be null, submitForm.dtos[0].materialType: must not be null, submitForm.dtos[0].dateTo: must not be null, submitForm.dtos[0].client: must not be blank, submitForm.dtos[0].dateFrom: must not be null\r\n\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter ....\r\n\r\n\r\nCaused by: jakarta.validation.ConstraintViolationException: submitForm.dtos[0].client: must not be null, submitForm.dtos[0].priceType: must not be null, submitForm.dtos[0].price: must not be null, submitForm.dtos[0].materialType: must not be null, submitForm.dtos[0].dateTo: must not be null, submitForm.dtos[0].client: must not be blank, submitForm.dtos[0].dateFrom: must not be null\r\n\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:138)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\r\n```\r\n    \r\n\r\nany idea how this can be fixed?\r\n\r\n","title":"Spring Test with mockMVC throws ServletException","body":"<p>I have the following Spring test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@AutoConfigureMockMvc\n@Testcontainers\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\npublic class FormTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n    \n\n    @Test\n    public void givenInvalidForm_whenSubmitted_returns400() throws Exception {\n\n        FormUploadDTO dto = .. generate DTO\n        MvcResult mvcResult =  mockMvc.perform(post(BaseApi.BASE_API + &quot;/forms&quot;)\n                        .contentType(MediaType.APPLICATION_JSON.getMediaType())\n                        .content(asJsonString(new ArrayList&lt;&gt;(Collections.singleton(dto)){}))\n                        .andDo(print())\n                        .andReturn();\n        assertEquals(400, mvcResult.getResponse().getStatus());\n\n\n    }\n\n}\n</code></pre>\n<p>however, instead of spring-application container returning bad-request (for <code>@NotNull</code> annotated fields), it throws the following error:</p>\n<pre><code>jakarta.servlet.ServletException: Request processing failed: jakarta.validation.ConstraintViolationException: submitForm.dtos[0].client: must not be null, submitForm.dtos[0].priceType: must not be null, submitForm.dtos[0].price: must not be null, submitForm.dtos[0].materialType: must not be null, submitForm.dtos[0].dateTo: must not be null, submitForm.dtos[0].client: must not be blank, submitForm.dtos[0].dateFrom: must not be null\n\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter ....\n\n\nCaused by: jakarta.validation.ConstraintViolationException: submitForm.dtos[0].client: must not be null, submitForm.dtos[0].priceType: must not be null, submitForm.dtos[0].price: must not be null, submitForm.dtos[0].materialType: must not be null, submitForm.dtos[0].dateTo: must not be null, submitForm.dtos[0].client: must not be blank, submitForm.dtos[0].dateFrom: must not be null\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:138)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\n</code></pre>\n<p>any idea how this can be fixed?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7881,"page":287,"page_size":100}
