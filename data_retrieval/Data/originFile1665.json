{"items":[{"tags":["java","rmi","jmx"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1643017969,"post_id":70783930,"comment_id":125219315,"body_markdown":"What exactly do you mean by &#39;RMI is running in any other port&#39;? RMI just consists of remote objects listening at, and possibly sharing, TCP ports. You can tell whether a TCP port is listening but you can&#39;t tell *what* is listening other than by trying to use it.","body":"What exactly do you mean by &#39;RMI is running in any other port&#39;? RMI just consists of remote objects listening at, and possibly sharing, TCP ports. You can tell whether a TCP port is listening but you can&#39;t tell <i>what</i> is listening other than by trying to use it."},{"owner":{"account_id":4301027,"reputation":3755,"user_id":3514736,"accept_rate":42,"display_name":"Rahman"},"score":0,"creation_date":1643383749,"post_id":70783930,"comment_id":125332797,"body_markdown":"@user207421 By that I meant &quot;is there any way to check in which port rmiregistry is listening&quot;. Actually I found that its not listening to any port. \nIt will be helpful if you can provide the answer for https://stackoverflow.com/questions/70892696/not-able-to-disable-port-1099. Could you please have a look ?","body":"@user207421 By that I meant &quot;is there any way to check in which port rmiregistry is listening&quot;. Actually I found that its not listening to any port.  It will be helpful if you can provide the answer for <a href=\"https://stackoverflow.com/questions/70892696/not-able-to-disable-port-1099\" title=\"not able to disable port 1099\">stackoverflow.com/questions/70892696/&hellip;</a>. Could you please have a look ?"}],"owner":{"account_id":4301027,"reputation":3755,"user_id":3514736,"accept_rate":42,"display_name":"Rahman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642672284,"creation_date":1642671816,"question_id":70783930,"body_markdown":"I have couple of questions related to RMI. In our application there are multiple services and all these services having JMX configuration.We are using Jmanage as client. JMX port is configured in setenv.sh of each service.\r\n\r\n`CATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.port`\r\n\r\nBut we havnt configured RMI port and that is why RMI is running in port 1099 by default. I confirmed the same by running lsof -i :1099 command in all services. I have got output saying rmiregistry is running on this port in all services except one. In that particular service I didnt get any output which means RMI is not running in that port. However, Jmanage runs in that service\r\n\r\nNow my questions are :\r\n\r\n1. Is there any way to check if RMI is running in any other port ? If so, how ?\r\n2. As I said earlier that we are using JMX to run Jmanage. So, is `com.sun.management.jmxremote.port` enough to run and use Jmanage ? dont we need RMI connector/port for it ? Wondering how Jmanange is working if RMI is disabled (if at all)\r\n\r\nCould you please help ?\r\n\r\nTomcat Version : 8.0.30\r\n\r\nJDK Version : 1.8\r\n\r\n","title":"How to check if RMI is running in any port or not?","body":"<p>I have couple of questions related to RMI. In our application there are multiple services and all these services having JMX configuration.We are using Jmanage as client. JMX port is configured in setenv.sh of each service.</p>\n<p><code>CATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote.port</code></p>\n<p>But we havnt configured RMI port and that is why RMI is running in port 1099 by default. I confirmed the same by running lsof -i :1099 command in all services. I have got output saying rmiregistry is running on this port in all services except one. In that particular service I didnt get any output which means RMI is not running in that port. However, Jmanage runs in that service</p>\n<p>Now my questions are :</p>\n<ol>\n<li>Is there any way to check if RMI is running in any other port ? If so, how ?</li>\n<li>As I said earlier that we are using JMX to run Jmanage. So, is <code>com.sun.management.jmxremote.port</code> enough to run and use Jmanage ? dont we need RMI connector/port for it ? Wondering how Jmanange is working if RMI is disabled (if at all)</li>\n</ol>\n<p>Could you please help ?</p>\n<p>Tomcat Version : 8.0.30</p>\n<p>JDK Version : 1.8</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1642602677,"post_id":70772408,"comment_id":125114585,"body_markdown":"It can&#39;t sort the stream without checking the value of every element. But it can find one element just by getting the value of one element.","body":"It can&#39;t sort the stream without checking the value of every element. But it can find one element just by getting the value of one element."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1642602723,"post_id":70772408,"comment_id":125114603,"body_markdown":"See https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps","body":"See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"},{"owner":{"display_name":"user11451972"},"score":0,"creation_date":1642603005,"post_id":70772408,"comment_id":125114769,"body_markdown":"But why doesn&#39;t it know it doesn&#39;t need to sort the stream? It only has to pull one element","body":"But why doesn&#39;t it know it doesn&#39;t need to sort the stream? It only has to pull one element"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1642604089,"post_id":70772408,"comment_id":125115358,"body_markdown":"Presumably the implementers didn&#39;t foresee a use case of someone explicitly specifying that the stream would be sorted before using `findAny()` and not wanting the stream to be sorted. You are trying to get something from the output of `sorted`; and in order to allow that, everything up to the `sorted()` must be executed, which requires evaluating every element.","body":"Presumably the implementers didn&#39;t foresee a use case of someone explicitly specifying that the stream would be sorted before using <code>findAny()</code> and not wanting the stream to be sorted. You are trying to get something from the output of <code>sorted</code>; and in order to allow that, everything up to the <code>sorted()</code> must be executed, which requires evaluating every element."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1642604501,"post_id":70772408,"comment_id":125115576,"body_markdown":"Even if you use `findAny`, it does not mean that you do not want to sort *all* elements before. Imagine you just want to find the smallest element that matches a condition.","body":"Even if you use <code>findAny</code>, it does not mean that you do not want to sort <i>all</i> elements before. Imagine you just want to find the smallest element that matches a condition."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1642606091,"post_id":70772408,"comment_id":125116375,"body_markdown":"[From the Javadocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html) of the `java.util.stream` package: *&quot;Stateful operations may need to process the entire input before producing a result.&quot;*","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">From the Javadocs</a> of the <code>java.util.stream</code> package: <i>&quot;Stateful operations may need to process the entire input before producing a result.&quot;</i>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1642606307,"post_id":70772408,"comment_id":125116479,"body_markdown":"@ArnaudDenoyelle you should use `findFirst()` for that use case. I agree whith khelwood though: the implementers didn’t care to optimize for the case where you ask for sorting but don’t care about the sorting result.","body":"@ArnaudDenoyelle you should use <code>findFirst()</code> for that use case. I agree whith khelwood though: the implementers didn’t care to optimize for the case where you ask for sorting but don’t care about the sorting result."},{"owner":{"display_name":"user11451972"},"score":0,"creation_date":1642609505,"post_id":70772408,"comment_id":125118048,"body_markdown":"I suppose what bothers me about this is I imagine the computation going upward from the terminal operation to the stream above it, and going up again as needed. Evidently, that is not what happens, and it strikes me as anti-intuitive. But I grant that my thinking on this may not be entirely clear. That&#39;s why I asked the question in the first place. Thanks.","body":"I suppose what bothers me about this is I imagine the computation going upward from the terminal operation to the stream above it, and going up again as needed. Evidently, that is not what happens, and it strikes me as anti-intuitive. But I grant that my thinking on this may not be entirely clear. That&#39;s why I asked the question in the first place. Thanks."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1642623291,"post_id":70772408,"comment_id":125123410,"body_markdown":"The rule is you should use pure functions with streams, so that it doesn&#39;t matter which of your functions are called in what order - because the stream API generally doesn&#39;t make guarantees about that.","body":"The rule is you should use pure functions with streams, so that it doesn&#39;t matter which of your functions are called in what order - because the stream API generally doesn&#39;t make guarantees about that."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":3,"creation_date":1642625803,"post_id":70772408,"comment_id":125124266,"body_markdown":"@Adam, that is in fact a pretty good description of what happens.  `findAny()` asks for one element from its source stream.  To get that, the source stream (produced by `map()`) has to get one from its own source stream, which is the result of `sorted()`.  That stream doesn&#39;t provide *any* elements until  it has sorted its whole source stream. None of the streams know anything about the context of any downstream request.","body":"@Adam, that is in fact a pretty good description of what happens.  <code>findAny()</code> asks for one element from its source stream.  To get that, the source stream (produced by <code>map()</code>) has to get one from its own source stream, which is the result of <code>sorted()</code>.  That stream doesn&#39;t provide <i>any</i> elements until  it has sorted its whole source stream. None of the streams know anything about the context of any downstream request."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1642626094,"post_id":70772408,"comment_id":125124364,"body_markdown":"In particular, the non-terminal operations are not modifying a single stream in-place.  Rather, they each produce a new stream.","body":"In particular, the non-terminal operations are not modifying a single stream in-place.  Rather, they each produce a new stream."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1642672194,"post_id":70772408,"comment_id":125135110,"body_markdown":"@Adam you imagine correctly. It goes “upward from the terminal operation”, the question is, how much information does it carry upwards and to what degree do the operations above react on it. That’s just implementation specific. I hope [my answer](https://stackoverflow.com/a/70783950/2711488) makes it clear, especially the point that the implementation may change.","body":"@Adam you imagine correctly. It goes “upward from the terminal operation”, the question is, how much information does it carry upwards and to what degree do the operations above react on it. That’s just implementation specific. I hope <a href=\"https://stackoverflow.com/a/70783950/2711488\">my answer</a> makes it clear, especially the point that the implementation may change."},{"owner":{"display_name":"user11451972"},"score":0,"creation_date":1642692060,"post_id":70772408,"comment_id":125143682,"body_markdown":"@JohnBollinger That helps a lot actually. Thank you for commenting.","body":"@JohnBollinger That helps a lot actually. Thank you for commenting."},{"owner":{"display_name":"user11451972"},"score":0,"creation_date":1642693868,"post_id":70772408,"comment_id":125144554,"body_markdown":"I found both answers useful to me, but since I could only choose one I chose the one that made the most sense to me.","body":"I found both answers useful to me, but since I could only choose one I chose the one that made the most sense to me."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642625088,"creation_date":1642604138,"answer_id":70772813,"question_id":70772408,"body_markdown":"That happens because streams are processing elements from the source lazily one at a time. \r\n\r\nEach operation occurs only when it&#39;s needed.\r\n\r\nIn the case of sorting, stream dumps all the data from the source to memory because there&#39;s no way to sort elements peeking then one by one.\r\n\r\n    map --&gt; sorted --&gt; map --&gt; findAny\r\n\r\nThe First-time **map** operation gets applied to all elements because it precedes the **sorting** operation. \r\n\r\nAfter **sorting** is done, elements will be processed one at a time. \r\n\r\nTerminal operation **findAny** is a *short-circuit* operation. And hence only the very first of all the elements will be peeked by the terminal operation, the second **map** operation needs to be applied only once.\r\n\r\n___________________________________________________\r\n\r\n&gt; Why is Java smart enough to know it doesn&#39;t need to call the second\r\n&gt; map on every element of the stream but not smart enough to know that\r\n&gt; findAny at the end doesn&#39;t require it to actually sort anything\r\n\r\nWell, I guess because until now **findAny()** in the case of single-threaded execution still behaves exactly like **findFirst()**, which will require to do sorting in order to find the correct result. \r\n\r\nYou may try to play with sequential streams and find out that **findAny()** and **findFirst()** yield the same result.\r\n\r\nI can&#39;t give you the answer to why it behaves in such away. \r\n\r\nJava-doc says with caution about **findAny()**\r\n\r\n&gt; The behavior of this operation is explicitly nondeterministic\r\n\r\nOnly if stream is being processed in parallel behavior of **findAny()** differs from **findFirst()**. \r\n\r\n**findAny()** could return an element that is peeked by any thread, while **findFirst()** guarantees to respect the initial order while providing the result.\r\n\r\n\r\n___________________________________________________\r\n\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html","title":"When does a Java intermediate operation hit every element?","body":"<p>That happens because streams are processing elements from the source lazily one at a time.</p>\n<p>Each operation occurs only when it's needed.</p>\n<p>In the case of sorting, stream dumps all the data from the source to memory because there's no way to sort elements peeking then one by one.</p>\n<pre><code>map --&gt; sorted --&gt; map --&gt; findAny\n</code></pre>\n<p>The First-time <strong>map</strong> operation gets applied to all elements because it precedes the <strong>sorting</strong> operation.</p>\n<p>After <strong>sorting</strong> is done, elements will be processed one at a time.</p>\n<p>Terminal operation <strong>findAny</strong> is a <em>short-circuit</em> operation. And hence only the very first of all the elements will be peeked by the terminal operation, the second <strong>map</strong> operation needs to be applied only once.</p>\n<hr />\n<blockquote>\n<p>Why is Java smart enough to know it doesn't need to call the second\nmap on every element of the stream but not smart enough to know that\nfindAny at the end doesn't require it to actually sort anything</p>\n</blockquote>\n<p>Well, I guess because until now <strong>findAny()</strong> in the case of single-threaded execution still behaves exactly like <strong>findFirst()</strong>, which will require to do sorting in order to find the correct result.</p>\n<p>You may try to play with sequential streams and find out that <strong>findAny()</strong> and <strong>findFirst()</strong> yield the same result.</p>\n<p>I can't give you the answer to why it behaves in such away.</p>\n<p>Java-doc says with caution about <strong>findAny()</strong></p>\n<blockquote>\n<p>The behavior of this operation is explicitly nondeterministic</p>\n</blockquote>\n<p>Only if stream is being processed in parallel behavior of <strong>findAny()</strong> differs from <strong>findFirst()</strong>.</p>\n<p><strong>findAny()</strong> could return an element that is peeked by any thread, while <strong>findFirst()</strong> guarantees to respect the initial order while providing the result.</p>\n<hr />\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html</a></p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642671900,"creation_date":1642671900,"answer_id":70783950,"question_id":70772408,"body_markdown":"This is indeed not obvious because the actual reason is rather historical. The first release version of Java&#160;8 had a Stream implementation which did consider the unordered nature of `findAny`, at least in some cases.\r\n\r\nNot in the case of a skippable `sorted` but in more cases than correct. This has been discussed in\r\n\r\n - https://stackoverflow.com/q/28259636/2711488 and\r\n - https://stackoverflow.com/q/30843279/2711488\r\n\r\nIn the latter Q&amp;A we find a [comment from Brian Goetz], one of the architects:\r\n\r\n&gt; After some analysis we chose to back out back-propagation entirely. The only place where this pays off is optimizing away a sort; if you have a pipeline that sorts into an unordered terminal op, that&#39;s probably a user error anyway.\r\n\r\nSo the current state of the reference implementation is that the unordered nature of the terminal operation is not used for optimizing preceding intermediate operations.\r\n\r\nThis doesn’t imply that such optimization wouldn’t be valid; the example of skipping a `sort` when the subsequent operations do not care about the order is explicitly mentioned as valid, though Brian Goetz suggests that such a scenario might be a mistake on the developer’s side anyway.\r\n\r\nI have a slightly different point of view, as I think it would be a useful scenario if you have Stream returning method, which may return a sorted Stream, while operations chained by the caller determine whether this sorting is relevant for the final result or not.\r\n\r\nBut whether such an optimization happens or not does not affect the correctness of the result. Note that this does not only apply to unordered operations.\r\n\r\nWhen you have\r\n\r\n```java\r\nOptional&lt;Integer&gt; res = IntStream.rangeClosed(1, 10)\r\n    .mapToObj(x -&gt; {\r\n        System.out.println(&quot;first map: &quot; + x);\r\n        return 2*x;\r\n    })\r\n    .sorted((a,b)-&gt; {\r\n        System.out.println(&quot;sorting &quot; + a + &quot; : &quot; + b);\r\n        return Integer.compare(a, b);\r\n    })\r\n    .map(x -&gt; {\r\n        System.out.println(&quot;second map: &quot; +  x);\r\n        return 2*x;\r\n    })\r\n    .findFirst();\r\n```\r\nit would be perfectly valid to transform the operation to (the equivalent of)\r\n```java\r\nOptional&lt;Integer&gt; res = IntStream.rangeClosed(1, 10)\r\n    .mapToObj(x -&gt; {\r\n        System.out.println(&quot;first map: &quot; + x);\r\n        return 2*x;\r\n    })\r\n    .min((a,b)-&gt; {\r\n        System.out.println(&quot;sorting &quot; + a + &quot; : &quot; + b);\r\n        return Integer.compare(a, b);\r\n    })\r\n    .map(x -&gt; {\r\n        System.out.println(&quot;second map: &quot; +  x);\r\n        return 2*x;\r\n    });\r\n```\r\nwhich would be more efficient and still return the correct result for the terminal operation while the evaluation order of the first mapping function and the comparator is different.\r\n\r\nBut the correct result is all that matters. You should never assume a specific evaluation order at all. You don’t find a specification of the evaluation order in the manual, because it has been left out intentionally. The presence or absence of optimizations can change at any time. If you want a dramatic example, replace your `findAny()` with `count()` and compare your example’s behavior in Java&#160;8 and Java&#160;9 (or newer).\r\n\r\n```java\r\n// run with Java&#160;8 and Java&#160;9+ and compare...\r\nlong count = IntStream.rangeClosed(1, 10)\r\n    .mapToObj(x -&gt; {\r\n        System.out.println(&quot;first map: &quot; + x);\r\n        return 2*x;\r\n    })\r\n    .sorted((a,b)-&gt; {\r\n        System.out.println(&quot;sorting &quot; + a + &quot; : &quot; + b);\r\n        return Integer.compare(a, b);\r\n    })\r\n    .map(x -&gt; {\r\n        System.out.println(&quot;second map: &quot; +  x);\r\n        return 2*x;\r\n    })\r\n    .count();\r\nSystem.out.println(&quot;found &quot; + count + &quot; elements&quot;);\r\n```\r\n\r\n[comment from Brian Goetz]: https://stackoverflow.com/questions/30843279/30916033#comment49971789_30916033","title":"When does a Java intermediate operation hit every element?","body":"<p>This is indeed not obvious because the actual reason is rather historical. The first release version of Java 8 had a Stream implementation which did consider the unordered nature of <code>findAny</code>, at least in some cases.</p>\n<p>Not in the case of a skippable <code>sorted</code> but in more cases than correct. This has been discussed in</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/28259636/2711488\">Is this a bug in Files.lines(), or am I misunderstanding something about parallel streams?</a> and</li>\n<li><a href=\"https://stackoverflow.com/q/30843279/2711488\">Stream.skip behavior with unordered terminal operation</a></li>\n</ul>\n<p>In the latter Q&amp;A we find a <a href=\"https://stackoverflow.com/questions/30843279/30916033#comment49971789_30916033\">comment from Brian Goetz</a>, one of the architects:</p>\n<blockquote>\n<p>After some analysis we chose to back out back-propagation entirely. The only place where this pays off is optimizing away a sort; if you have a pipeline that sorts into an unordered terminal op, that's probably a user error anyway.</p>\n</blockquote>\n<p>So the current state of the reference implementation is that the unordered nature of the terminal operation is not used for optimizing preceding intermediate operations.</p>\n<p>This doesn’t imply that such optimization wouldn’t be valid; the example of skipping a <code>sort</code> when the subsequent operations do not care about the order is explicitly mentioned as valid, though Brian Goetz suggests that such a scenario might be a mistake on the developer’s side anyway.</p>\n<p>I have a slightly different point of view, as I think it would be a useful scenario if you have Stream returning method, which may return a sorted Stream, while operations chained by the caller determine whether this sorting is relevant for the final result or not.</p>\n<p>But whether such an optimization happens or not does not affect the correctness of the result. Note that this does not only apply to unordered operations.</p>\n<p>When you have</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Integer&gt; res = IntStream.rangeClosed(1, 10)\n    .mapToObj(x -&gt; {\n        System.out.println(&quot;first map: &quot; + x);\n        return 2*x;\n    })\n    .sorted((a,b)-&gt; {\n        System.out.println(&quot;sorting &quot; + a + &quot; : &quot; + b);\n        return Integer.compare(a, b);\n    })\n    .map(x -&gt; {\n        System.out.println(&quot;second map: &quot; +  x);\n        return 2*x;\n    })\n    .findFirst();\n</code></pre>\n<p>it would be perfectly valid to transform the operation to (the equivalent of)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Integer&gt; res = IntStream.rangeClosed(1, 10)\n    .mapToObj(x -&gt; {\n        System.out.println(&quot;first map: &quot; + x);\n        return 2*x;\n    })\n    .min((a,b)-&gt; {\n        System.out.println(&quot;sorting &quot; + a + &quot; : &quot; + b);\n        return Integer.compare(a, b);\n    })\n    .map(x -&gt; {\n        System.out.println(&quot;second map: &quot; +  x);\n        return 2*x;\n    });\n</code></pre>\n<p>which would be more efficient and still return the correct result for the terminal operation while the evaluation order of the first mapping function and the comparator is different.</p>\n<p>But the correct result is all that matters. You should never assume a specific evaluation order at all. You don’t find a specification of the evaluation order in the manual, because it has been left out intentionally. The presence or absence of optimizations can change at any time. If you want a dramatic example, replace your <code>findAny()</code> with <code>count()</code> and compare your example’s behavior in Java 8 and Java 9 (or newer).</p>\n<pre class=\"lang-java prettyprint-override\"><code>// run with Java 8 and Java 9+ and compare...\nlong count = IntStream.rangeClosed(1, 10)\n    .mapToObj(x -&gt; {\n        System.out.println(&quot;first map: &quot; + x);\n        return 2*x;\n    })\n    .sorted((a,b)-&gt; {\n        System.out.println(&quot;sorting &quot; + a + &quot; : &quot; + b);\n        return Integer.compare(a, b);\n    })\n    .map(x -&gt; {\n        System.out.println(&quot;second map: &quot; +  x);\n        return 2*x;\n    })\n    .count();\nSystem.out.println(&quot;found &quot; + count + &quot; elements&quot;);\n</code></pre>\n"}],"owner":{"display_name":"user11451972"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70783950,"answer_count":2,"score":4,"last_activity_date":1642671900,"creation_date":1642602541,"question_id":70772408,"body_markdown":"I&#39;m confused by the way Java streams work, particularly as regard to short-circuiting. For an example of what confuses me, I cooked up the following example:\r\n\r\n```    \r\nList&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5,6,7,8,9,10);\r\nOptional&lt;Integer&gt; res = list.stream()\r\n        .map(x -&gt; {\r\n            System.out.println(&quot;first map: &quot; + x);\r\n            return 2*x;\r\n        })\r\n        .sorted((a,b)-&gt; {\r\n            System.out.println(&quot;sorting &quot; + a + &quot; : &quot; + b);\r\n            return a - b;\r\n        })\r\n        .map(x -&gt; {\r\n            System.out.println(&quot;second map: &quot; +  x);\r\n            return 2*x;\r\n        })\r\n        .findAny();\r\nSystem.out.println(&quot;found &quot; + res.get());\r\n```\r\n\r\nwith output\r\n\r\n```\r\nfirst map: 1\r\nfirst map: 2\r\nfirst map: 3\r\nfirst map: 4\r\nfirst map: 5\r\nfirst map: 6\r\nfirst map: 7\r\nfirst map: 8\r\nfirst map: 9\r\nfirst map: 10\r\nsorting 4 : 2\r\nsorting 6 : 4\r\nsorting 8 : 6\r\nsorting 10 : 8\r\nsorting 12 : 10\r\nsorting 14 : 12\r\nsorting 16 : 14\r\nsorting 18 : 16\r\nsorting 20 : 18\r\nsecond map: 2\r\nfound 4\r\n```\r\n \r\nWhen executed, this code demonstrates that calling `sorted` in the middle forces the first map to apply to every element in the stream. However, the second map does not get applied to every element in the stream since `findAny` short-circuits it.\r\n\r\nSo basically my question is: what are the rules here? Why is Java smart enough to know it doesn&#39;t need to call the second map on every element of the stream but not smart enough to know that `findAny` at the end doesn&#39;t require it to actually sort anything.\r\n\r\nI tried &quot;reading the manual&quot; on this, and it just isn&#39;t clear to me.","title":"When does a Java intermediate operation hit every element?","body":"<p>I'm confused by the way Java streams work, particularly as regard to short-circuiting. For an example of what confuses me, I cooked up the following example:</p>\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5,6,7,8,9,10);\nOptional&lt;Integer&gt; res = list.stream()\n        .map(x -&gt; {\n            System.out.println(&quot;first map: &quot; + x);\n            return 2*x;\n        })\n        .sorted((a,b)-&gt; {\n            System.out.println(&quot;sorting &quot; + a + &quot; : &quot; + b);\n            return a - b;\n        })\n        .map(x -&gt; {\n            System.out.println(&quot;second map: &quot; +  x);\n            return 2*x;\n        })\n        .findAny();\nSystem.out.println(&quot;found &quot; + res.get());\n</code></pre>\n<p>with output</p>\n<pre><code>first map: 1\nfirst map: 2\nfirst map: 3\nfirst map: 4\nfirst map: 5\nfirst map: 6\nfirst map: 7\nfirst map: 8\nfirst map: 9\nfirst map: 10\nsorting 4 : 2\nsorting 6 : 4\nsorting 8 : 6\nsorting 10 : 8\nsorting 12 : 10\nsorting 14 : 12\nsorting 16 : 14\nsorting 18 : 16\nsorting 20 : 18\nsecond map: 2\nfound 4\n</code></pre>\n<p>When executed, this code demonstrates that calling <code>sorted</code> in the middle forces the first map to apply to every element in the stream. However, the second map does not get applied to every element in the stream since <code>findAny</code> short-circuits it.</p>\n<p>So basically my question is: what are the rules here? Why is Java smart enough to know it doesn't need to call the second map on every element of the stream but not smart enough to know that <code>findAny</code> at the end doesn't require it to actually sort anything.</p>\n<p>I tried &quot;reading the manual&quot; on this, and it just isn't clear to me.</p>\n"},{"tags":["java","memory-leaks","java-memory-leaks"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1642668329,"post_id":70783091,"comment_id":125133645,"body_markdown":"No memory leak in sight.","body":"No memory leak in sight."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1642668969,"post_id":70783091,"comment_id":125133891,"body_markdown":"&quot;does the object [...] gets freed by the Java Garbage Collector?&quot; yes","body":"&quot;does the object [...] gets freed by the Java Garbage Collector?&quot; yes"}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642671733,"creation_date":1642671733,"answer_id":70783910,"question_id":70783091,"body_markdown":"As the commentors already answered, there is no memory leak in code like\r\n\r\n    public static void makeNewObjectAndDoTask() {\r\n        new SomeClass().doYourTask();\r\n    }\r\n\r\nat least in itself, assuming that the `SomeClass()` constructor and the `doYourTask()` methods don&#39;t create memory leaks.\r\n\r\nDefinitely, the garbage collector will clean up the SomeClass instance at some time in the future.\r\n\r\nHow does it work?\r\n\r\n - Instances that are no longer accessible from program code will be garbage collected. Accessibility means being referenced in a variable, field, array element, method argument and so on.\r\n- As soon as the `new SomeClass().doYourTask();` statement has finished, there is no way to access this individual `SomeClass` instance any more. So, it fulfills the garbage collection criteria.\r\n- The next time the garbage collector runs, it can reclaim the memory occupied by the instance (and its fields, recursively, as long as they aren&#39;t referenced elsewhere).\r\n\r\nThe alternative code\r\n\r\n    public static void makeNewObjectAndDoTask() {\r\n        SomeClass obj = new SomeClass().doYourTask();\r\n        obj = null;\r\n    }\r\n\r\nonly delays the garbage collection opportunity, as it stores a reference in `obj`, thus making the instance accessible for at least a tiny additional period of time, until you assign `obj = null;`.\r\n\r\nManually calling the garbage collector as in `System.gc();` rarely is a good idea. It forces the GC to run (and to spend execution time on cleaning up memory), instead of relying on the JVM&#39;s highly optimized GC scheduling strategies. Don&#39;t do it unless you have a thorough understanding of the garbage collector, which led you to the conclusion that the GC strategy fails in your case.\r\n\r\nWe don&#39;t want OutOfMemoryErrors, and we don&#39;t want excessive time wasted for garbage collection, and the standard GC system does a very good job in both aspects.","title":"Does not storing a newly declared object cause a memory leak?","body":"<p>As the commentors already answered, there is no memory leak in code like</p>\n<pre><code>public static void makeNewObjectAndDoTask() {\n    new SomeClass().doYourTask();\n}\n</code></pre>\n<p>at least in itself, assuming that the <code>SomeClass()</code> constructor and the <code>doYourTask()</code> methods don't create memory leaks.</p>\n<p>Definitely, the garbage collector will clean up the SomeClass instance at some time in the future.</p>\n<p>How does it work?</p>\n<ul>\n<li>Instances that are no longer accessible from program code will be garbage collected. Accessibility means being referenced in a variable, field, array element, method argument and so on.</li>\n<li>As soon as the <code>new SomeClass().doYourTask();</code> statement has finished, there is no way to access this individual <code>SomeClass</code> instance any more. So, it fulfills the garbage collection criteria.</li>\n<li>The next time the garbage collector runs, it can reclaim the memory occupied by the instance (and its fields, recursively, as long as they aren't referenced elsewhere).</li>\n</ul>\n<p>The alternative code</p>\n<pre><code>public static void makeNewObjectAndDoTask() {\n    SomeClass obj = new SomeClass().doYourTask();\n    obj = null;\n}\n</code></pre>\n<p>only delays the garbage collection opportunity, as it stores a reference in <code>obj</code>, thus making the instance accessible for at least a tiny additional period of time, until you assign <code>obj = null;</code>.</p>\n<p>Manually calling the garbage collector as in <code>System.gc();</code> rarely is a good idea. It forces the GC to run (and to spend execution time on cleaning up memory), instead of relying on the JVM's highly optimized GC scheduling strategies. Don't do it unless you have a thorough understanding of the garbage collector, which led you to the conclusion that the GC strategy fails in your case.</p>\n<p>We don't want OutOfMemoryErrors, and we don't want excessive time wasted for garbage collection, and the standard GC system does a very good job in both aspects.</p>\n"}],"owner":{"account_id":19103895,"reputation":19,"user_id":13951505,"display_name":"Brahvim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70783910,"answer_count":1,"score":0,"last_activity_date":1642671733,"creation_date":1642668230,"question_id":70783091,"body_markdown":"What I mean to say through the post title is - doing this:\r\n```java \r\npublic static void makeNewObjectAndDoTask() {\r\n    new SomeClass().doYourTask();\r\n}\r\n```\r\n\r\nI have myself written such code in languages such Java and JavaScript - declaring a new object without storing it in a variable, JUST to call one of its methods. Does this cause memory leaks? ..or does the object get cleared at the end of the method-stack / gets freed by the Java Garbage Collector?\r\n\r\nShould I just be doing this instead - for safety?:\r\n\r\n```java \r\npublic static void makeNewObjectAndDoTask() {\r\n    SomeClass obj = new SomeClass().doYourTask();\r\n    obj = null;\r\n    //System.gc(); // Perhaps also call the collector manually?\r\n}\r\n```","title":"Does not storing a newly declared object cause a memory leak?","body":"<p>What I mean to say through the post title is - doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void makeNewObjectAndDoTask() {\n    new SomeClass().doYourTask();\n}\n</code></pre>\n<p>I have myself written such code in languages such Java and JavaScript - declaring a new object without storing it in a variable, JUST to call one of its methods. Does this cause memory leaks? ..or does the object get cleared at the end of the method-stack / gets freed by the Java Garbage Collector?</p>\n<p>Should I just be doing this instead - for safety?:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void makeNewObjectAndDoTask() {\n    SomeClass obj = new SomeClass().doYourTask();\n    obj = null;\n    //System.gc(); // Perhaps also call the collector manually?\n}\n</code></pre>\n"},{"tags":["java","dl4j"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642671621,"creation_date":1642671621,"answer_id":70783888,"question_id":70783590,"body_markdown":"That looks like an old example. Where did you get it from? Note that the project does not endorse or support random examples people pull from. If this is from the book, please note those examples are a few years old at this point and should not  be used.\r\n\r\nThis should be the latest one:\r\nhttps://github.com/eclipse/deeplearning4j-examples/blob/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/quickstart/modeling/feedforward/classification/ModelXOR.java\r\n\r\n\r\nThis configuration  suffers from what I like to call the &quot;toy problem syndrome&quot;. Dl4j assumes minibatches by default and therefore clips the learning by default relative to the minibatch size of the input examples. This is how 99% of problems are setup if you do anything in the real world.\r\n\r\n This means that each step the net takes is actually not the full step it would take if you do a toy problem with the whole set in memory. Our latest example handles this by turning minibatch off for this:\r\n```java\r\n      MultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\r\n            .updater(new Sgd(0.1))\r\n            .seed(seed)\r\n            .biasInit(0) // init the bias with 0 - empirical value, too\r\n            // The networks can process the input more quickly and more accurately by ingesting\r\n            // minibatches 5-10 elements at a time in parallel.\r\n            // This example runs better without, because the dataset is smaller than the mini batch size\r\n            .miniBatch(false)\r\n            .list()\r\n            .layer(new DenseLayer.Builder()\r\n                .nIn(2)\r\n                .nOut(4)\r\n                .activation(Activation.SIGMOID)\r\n                // random initialize weights with values between 0 and 1\r\n                .weightInit(new UniformDistribution(0, 1))\r\n                .build())\r\n            .layer(new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD)\r\n                .nOut(2)\r\n                .activation(Activation.SOFTMAX)\r\n                .weightInit(new UniformDistribution(0, 1))\r\n                .build())\r\n            .build();\r\n```\r\n\r\nNote the minibatch(false) in the configuration.","title":"The XOR neural network written in DL4J does not work","body":"<p>That looks like an old example. Where did you get it from? Note that the project does not endorse or support random examples people pull from. If this is from the book, please note those examples are a few years old at this point and should not  be used.</p>\n<p>This should be the latest one:\n<a href=\"https://github.com/eclipse/deeplearning4j-examples/blob/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/quickstart/modeling/feedforward/classification/ModelXOR.java\" rel=\"nofollow noreferrer\">https://github.com/eclipse/deeplearning4j-examples/blob/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/quickstart/modeling/feedforward/classification/ModelXOR.java</a></p>\n<p>This configuration  suffers from what I like to call the &quot;toy problem syndrome&quot;. Dl4j assumes minibatches by default and therefore clips the learning by default relative to the minibatch size of the input examples. This is how 99% of problems are setup if you do anything in the real world.</p>\n<p>This means that each step the net takes is actually not the full step it would take if you do a toy problem with the whole set in memory. Our latest example handles this by turning minibatch off for this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      MultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\n            .updater(new Sgd(0.1))\n            .seed(seed)\n            .biasInit(0) // init the bias with 0 - empirical value, too\n            // The networks can process the input more quickly and more accurately by ingesting\n            // minibatches 5-10 elements at a time in parallel.\n            // This example runs better without, because the dataset is smaller than the mini batch size\n            .miniBatch(false)\n            .list()\n            .layer(new DenseLayer.Builder()\n                .nIn(2)\n                .nOut(4)\n                .activation(Activation.SIGMOID)\n                // random initialize weights with values between 0 and 1\n                .weightInit(new UniformDistribution(0, 1))\n                .build())\n            .layer(new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD)\n                .nOut(2)\n                .activation(Activation.SOFTMAX)\n                .weightInit(new UniformDistribution(0, 1))\n                .build())\n            .build();\n</code></pre>\n<p>Note the minibatch(false) in the configuration.</p>\n"}],"owner":{"account_id":11544519,"reputation":123,"user_id":10296951,"display_name":"Amos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70783888,"answer_count":1,"score":0,"last_activity_date":1642671621,"creation_date":1642670374,"question_id":70783590,"body_markdown":"I&#39;m starting to study the neural network together with the DL4j framework and start with XOR training. But no matter what I do, I get the wrong results.\r\n\r\n    MultiLayerConfiguration networkConfiguration = new NeuralNetConfiguration.Builder()\r\n                .weightInit(WeightInit.SIGMOID_UNIFORM)\r\n                .list()\r\n                .layer(new DenseLayer.Builder()\r\n                        .nIn(2).nOut(2)\r\n                        .activation(Activation.SIGMOID)\r\n                        .build())\r\n                .layer( new DenseLayer.Builder()\r\n                        .nIn(2).nOut(2)\r\n                        .activation(Activation.SIGMOID)\r\n                        .build())\r\n                .layer( new OutputLayer.Builder()\r\n                        .nIn(2).nOut(1)\r\n                        .activation(Activation.SIGMOID)\r\n                        .lossFunction(LossFunctions.LossFunction.XENT)\r\n                        .build())\r\n                .build();\r\n\r\n        MultiLayerNetwork network = new MultiLayerNetwork(networkConfiguration);\r\n        network.setListeners(new ScoreIterationListener(1));\r\n        network.init();\r\n\r\n\r\n        INDArray input = Nd4j.createFromArray(new double[][]{{0,1},{0,0},{1,0},{1,1}});\r\n\r\n        INDArray output = Nd4j.createFromArray(new double[][]{{0^1},{0^0},{1^0},{1^1}});\r\n        //   INDArray output = Nd4j.createFromArray(new double[]{0^1,0^0,1^1,1^0});\r\n        //DataSet dataSet = new org.nd4j.linalg.dataset.DataSet(input,output);\r\n\r\n        for (int i = 0; i &lt; 10000; i++) {\r\n            network.fit(input,output);\r\n        }\r\n\r\n\r\n        INDArray res = network.output(input,false);\r\n\r\n        System.out.print(res);\r\n\r\n\r\n\r\n\r\n\r\nlearning result:\r\n\r\n    [[0.5748], \r\n     [0.5568], \r\n     [0.4497], \r\n     [0.4533]]\r\n\r\n","title":"The XOR neural network written in DL4J does not work","body":"<p>I'm starting to study the neural network together with the DL4j framework and start with XOR training. But no matter what I do, I get the wrong results.</p>\n<pre><code>MultiLayerConfiguration networkConfiguration = new NeuralNetConfiguration.Builder()\n            .weightInit(WeightInit.SIGMOID_UNIFORM)\n            .list()\n            .layer(new DenseLayer.Builder()\n                    .nIn(2).nOut(2)\n                    .activation(Activation.SIGMOID)\n                    .build())\n            .layer( new DenseLayer.Builder()\n                    .nIn(2).nOut(2)\n                    .activation(Activation.SIGMOID)\n                    .build())\n            .layer( new OutputLayer.Builder()\n                    .nIn(2).nOut(1)\n                    .activation(Activation.SIGMOID)\n                    .lossFunction(LossFunctions.LossFunction.XENT)\n                    .build())\n            .build();\n\n    MultiLayerNetwork network = new MultiLayerNetwork(networkConfiguration);\n    network.setListeners(new ScoreIterationListener(1));\n    network.init();\n\n\n    INDArray input = Nd4j.createFromArray(new double[][]{{0,1},{0,0},{1,0},{1,1}});\n\n    INDArray output = Nd4j.createFromArray(new double[][]{{0^1},{0^0},{1^0},{1^1}});\n    //   INDArray output = Nd4j.createFromArray(new double[]{0^1,0^0,1^1,1^0});\n    //DataSet dataSet = new org.nd4j.linalg.dataset.DataSet(input,output);\n\n    for (int i = 0; i &lt; 10000; i++) {\n        network.fit(input,output);\n    }\n\n\n    INDArray res = network.output(input,false);\n\n    System.out.print(res);\n</code></pre>\n<p>learning result:</p>\n<pre><code>[[0.5748], \n [0.5568], \n [0.4497], \n [0.4533]]\n</code></pre>\n"},{"tags":["java","yaml","swagger","swagger-ui","springfox"],"comments":[{"owner":{"account_id":13228579,"reputation":511,"user_id":9821034,"display_name":"lmngn23"},"score":0,"creation_date":1597767946,"post_id":55112759,"comment_id":112239341,"body_markdown":"Is there anyway that I can do this in Springdoc/OpenAPI?","body":"Is there anyway that I can do this in Springdoc/OpenAPI?"}],"answers":[{"tags":[],"owner":{"account_id":2454384,"reputation":2563,"user_id":2139934,"display_name":"Stefan Repcek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580752712,"creation_date":1580752712,"answer_id":60044693,"question_id":55112759,"body_markdown":"You need to inject your YAML definition via `SwaggerResourceProvider`.\r\n\r\nIf you need to preserve annotation-based swagger:\r\n\r\n  \r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n    \r\n    \r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.any())\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n        @Primary\r\n        @Bean\r\n        public SwaggerResourcesProvider swaggerResourcesProvider(InMemorySwaggerResourcesProvider defaultResourcesProvider) {\r\n            return () -&gt; {\r\n                SwaggerResource wsResource = new SwaggerResource();\r\n                wsResource.setName(&quot;Documentation&quot;);\r\n                wsResource.setSwaggerVersion(&quot;2.0&quot;);\r\n                wsResource.setLocation(&quot;/swagger.yaml&quot;);\r\n    \r\n                List&lt;SwaggerResource&gt; resources = new ArrayList&lt;&gt;(defaultResourcesProvider.get());\r\n                resources.add(wsResource);\r\n                return resources;\r\n            };\r\n        }\r\n    }\r\n    \r\n\r\nif you want to use just swagger based on YAML:\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n    \r\n        @Primary\r\n        @Bean\r\n        public SwaggerResourcesProvider swaggerResourcesProvider() {\r\n            return () -&gt; {\r\n                SwaggerResource wsResource = new SwaggerResource();\r\n                wsResource.setName(&quot;Documentation&quot;);\r\n                wsResource.setSwaggerVersion(&quot;2.0&quot;);\r\n                wsResource.setLocation(&quot;/swagger.yaml&quot;);\r\n    \r\n                List&lt;SwaggerResource&gt; resources = List.of(wsResource);\r\n                return resources;\r\n            };\r\n        }\r\n    }\r\n\r\nyou need to put your YAML file to `src/main/resource/static`\r\n","title":"How do I make Swagger-UI use a YAML/JSON rather than having to put annotations on my REST controller?","body":"<p>You need to inject your YAML definition via <code>SwaggerResourceProvider</code>.</p>\n\n<p>If you need to preserve annotation-based swagger:</p>\n\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    @Primary\n    @Bean\n    public SwaggerResourcesProvider swaggerResourcesProvider(InMemorySwaggerResourcesProvider defaultResourcesProvider) {\n        return () -&gt; {\n            SwaggerResource wsResource = new SwaggerResource();\n            wsResource.setName(\"Documentation\");\n            wsResource.setSwaggerVersion(\"2.0\");\n            wsResource.setLocation(\"/swagger.yaml\");\n\n            List&lt;SwaggerResource&gt; resources = new ArrayList&lt;&gt;(defaultResourcesProvider.get());\n            resources.add(wsResource);\n            return resources;\n        };\n    }\n}\n</code></pre>\n\n<p>if you want to use just swagger based on YAML:</p>\n\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    @Primary\n    @Bean\n    public SwaggerResourcesProvider swaggerResourcesProvider() {\n        return () -&gt; {\n            SwaggerResource wsResource = new SwaggerResource();\n            wsResource.setName(\"Documentation\");\n            wsResource.setSwaggerVersion(\"2.0\");\n            wsResource.setLocation(\"/swagger.yaml\");\n\n            List&lt;SwaggerResource&gt; resources = List.of(wsResource);\n            return resources;\n        };\n    }\n}\n</code></pre>\n\n<p>you need to put your YAML file to <code>src/main/resource/static</code></p>\n"}],"owner":{"account_id":5327927,"reputation":1418,"user_id":4249424,"accept_rate":71,"display_name":"buratino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8421,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1642671078,"creation_date":1552353702,"question_id":55112759,"body_markdown":"I am used to adding annotations on my REST controllers for Swagger-UI to use.  However, I would prefer to point Swagger-UI at a YAML file which describes my REST controller.  An example of what I want to do is shown below. (Springfox/Swagger2)\r\n\r\n**DemoApplication.java**\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }\r\n    \r\n**SwaggerConfig.java**\r\n\r\nNote that I am trying to tell Swagger to build a Docket based on a YAML file rather than a REST controller.\r\n\r\n    import com.google.common.base.Predicate;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    \r\n    import static springfox.documentation.builders.PathSelectors.regex;\r\n    \r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n    \r\n        @Bean\r\n        public Docket productApi() {\r\n            return new Docket(DocumentationType.SWAGGER_2).useDefaultResponseMessages(false)\r\n                    .select()\r\n                    .paths(paths())\r\n                    .build();\r\n        }\r\n        \r\n        private Predicate&lt;String&gt; paths() {\r\n            return regex(&quot;/swagger.yml&quot;);\r\n        }\r\n    }\r\n\r\n**swagger.yml**\r\n\r\nThis is a sample YAML file describing what my REST controller looks like, and this is what I want Swagger-UI to use.\r\n\r\n    swagger: &quot;2.0&quot;\r\n\r\n    paths:\r\n      /animals:\r\n          post:\r\n            summary: Creates an animal.\r\n            responses:\r\n              &#39;201&#39;:\r\n                description: Created.\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.1.3.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \t\r\n    \timplementation group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version: &#39;2.8.0&#39;\r\n        implementation group: &#39;io.springfox&#39;, name: &#39;springfox-swagger-ui&#39;, version: &#39;2.8.0&#39;\r\n    }\r\n\r\nIf this is not possible with a YAML file but it is possible using some other format (like JSON), feel free to answer with that solution instead.\r\n","title":"How do I make Swagger-UI use a YAML/JSON rather than having to put annotations on my REST controller?","body":"<p>I am used to adding annotations on my REST controllers for Swagger-UI to use.  However, I would prefer to point Swagger-UI at a YAML file which describes my REST controller.  An example of what I want to do is shown below. (Springfox/Swagger2)</p>\n\n<p><strong>DemoApplication.java</strong></p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>SwaggerConfig.java</strong></p>\n\n<p>Note that I am trying to tell Swagger to build a Docket based on a YAML file rather than a REST controller.</p>\n\n<pre><code>import com.google.common.base.Predicate;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\nimport static springfox.documentation.builders.PathSelectors.regex;\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket productApi() {\n        return new Docket(DocumentationType.SWAGGER_2).useDefaultResponseMessages(false)\n                .select()\n                .paths(paths())\n                .build();\n    }\n\n    private Predicate&lt;String&gt; paths() {\n        return regex(\"/swagger.yml\");\n    }\n}\n</code></pre>\n\n<p><strong>swagger.yml</strong></p>\n\n<p>This is a sample YAML file describing what my REST controller looks like, and this is what I want Swagger-UI to use.</p>\n\n<pre><code>swagger: \"2.0\"\n\npaths:\n  /animals:\n      post:\n        summary: Creates an animal.\n        responses:\n          '201':\n            description: Created.\n</code></pre>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.3.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n\n    implementation group: 'io.springfox', name: 'springfox-swagger2', version: '2.8.0'\n    implementation group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.8.0'\n}\n</code></pre>\n\n<p>If this is not possible with a YAML file but it is possible using some other format (like JSON), feel free to answer with that solution instead.</p>\n"},{"tags":["java","android","delphi","jar","sample"],"comments":[{"owner":{"account_id":4469560,"reputation":7462,"user_id":3636228,"display_name":"SilverWarior"},"score":2,"creation_date":1642679302,"post_id":70783652,"comment_id":125137903,"body_markdown":"Have you tried readin [Documentation](https://docwiki.embarcadero.com/RADStudio/Sydney/en/Adding_A_Java_Library_to_Your_Application_Using_the_Project_Manager) on this matter?","body":"Have you tried readin <a href=\"https://docwiki.embarcadero.com/RADStudio/Sydney/en/Adding_A_Java_Library_to_Your_Application_Using_the_Project_Manager\" rel=\"nofollow noreferrer\">Documentation</a> on this matter?"},{"owner":{"account_id":23997288,"reputation":1,"user_id":17982658,"display_name":"Chee Haw Kerk"},"score":0,"creation_date":1642735749,"post_id":70783652,"comment_id":125156814,"body_markdown":"ya, i had tried. but just don&#39;t know how to start coding with it.","body":"ya, i had tried. but just don&#39;t know how to start coding with it."},{"owner":{"account_id":4469560,"reputation":7462,"user_id":3636228,"display_name":"SilverWarior"},"score":0,"creation_date":1642750579,"post_id":70783652,"comment_id":125159757,"body_markdown":"To be honest I don&#39;t know how to start coding to make use of JAVA files either since I never needed this. I just know that the possibility for this exists and thus I have made a quick search of Delphi documentation about this topic for you.","body":"To be honest I don&#39;t know how to start coding to make use of JAVA files either since I never needed this. I just know that the possibility for this exists and thus I have made a quick search of Delphi documentation about this topic for you."},{"owner":{"account_id":23997288,"reputation":1,"user_id":17982658,"display_name":"Chee Haw Kerk"},"score":0,"creation_date":1642760387,"post_id":70783652,"comment_id":125163031,"body_markdown":"i see. it&#39;s ok, hope someone else can help out! anyway, thanks for your comments.","body":"i see. it&#39;s ok, hope someone else can help out! anyway, thanks for your comments."}],"owner":{"account_id":23997288,"reputation":1,"user_id":17982658,"display_name":"Chee Haw Kerk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642670679,"creation_date":1642670679,"question_id":70783652,"body_markdown":"My project:\r\n\r\nMy task is it to built an Android/IOS Application that can connect with Bluetooth Printer and print receipt.\r\n\r\nMy JAR file:\r\n\r\nI had download it from the manufacturer website with the filename iminPrinterSDK.jar and the guide provided.\r\n\r\nNow I want use it in Delphi but I don&#39;t know how I don&#39;t know how to start it.\r\n\r\nMy Question:\r\n\r\nHow I can import the .jar file into my project and calling the standard function from the .jar file.","title":"How Delphi Sydney 10.4 connect to a third-party build-in bluetooth printer with JAR SDK","body":"<p>My project:</p>\n<p>My task is it to built an Android/IOS Application that can connect with Bluetooth Printer and print receipt.</p>\n<p>My JAR file:</p>\n<p>I had download it from the manufacturer website with the filename iminPrinterSDK.jar and the guide provided.</p>\n<p>Now I want use it in Delphi but I don't know how I don't know how to start it.</p>\n<p>My Question:</p>\n<p>How I can import the .jar file into my project and calling the standard function from the .jar file.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1410009448,"post_id":25700652,"comment_id":40171670,"body_markdown":"does the filename-indicator in your small screenshot EVER change?","body":"does the filename-indicator in your small screenshot EVER change?"},{"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"score":0,"creation_date":1410009524,"post_id":25700652,"comment_id":40171690,"body_markdown":"@specializt I hope u are talking about the first screenshot. Its progress bar keeps on moving left and right. And nothing changes there.Its stuck at jackson-databind-2.2.2.jar","body":"@specializt I hope u are talking about the first screenshot. Its progress bar keeps on moving left and right. And nothing changes there.Its stuck at jackson-databind-2.2.2.jar"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":1,"creation_date":1410009677,"post_id":25700652,"comment_id":40171752,"body_markdown":"Are you behind a proxy?","body":"Are you behind a proxy?"},{"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"score":0,"creation_date":1410009733,"post_id":25700652,"comment_id":40171769,"body_markdown":"@EdwinDalorzo nopes.","body":"@EdwinDalorzo nopes."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":2,"creation_date":1410009902,"post_id":25700652,"comment_id":40171809,"body_markdown":"And if you run maven from the command line, does it work fine? or does it freeze too? I think it&#39;s worth knowing if this is an IntelliJ-related issue or just a maven-related issue.","body":"And if you run maven from the command line, does it work fine? or does it freeze too? I think it&#39;s worth knowing if this is an IntelliJ-related issue or just a maven-related issue."},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1410010023,"post_id":25700652,"comment_id":40171837,"body_markdown":"maven-repositories DO have issues from time to time but your connection simply drops after a while, producing an exception in your caller ... im guessing that woul&#39;ve been visualized. Since that apparently isnt happening i think its quite assured that his IDE is at fault .... which is also my general experience with java-IDEs other than eclipse (most of them miss even the most basic features AND are buggy)","body":"maven-repositories DO have issues from time to time but your connection simply drops after a while, producing an exception in your caller ... im guessing that woul&#39;ve been visualized. Since that apparently isnt happening i think its quite assured that his IDE is at fault .... which is also my general experience with java-IDEs other than eclipse (most of them miss even the most basic features AND are buggy)"},{"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"score":0,"creation_date":1410010216,"post_id":25700652,"comment_id":40171878,"body_markdown":"@EdwinDalorzo maven does not work from my command line. Does it have to? I mean do we have to have it in path so that it works in intellij idea?","body":"@EdwinDalorzo maven does not work from my command line. Does it have to? I mean do we have to have it in path so that it works in intellij idea?"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1410010516,"post_id":25700652,"comment_id":40171963,"body_markdown":"@rahulserver Not necessarily. But if you follow the [installation instructions](http://maven.apache.org/download.cgi) in the download page you could make it work from the command line.","body":"@rahulserver Not necessarily. But if you follow the <a href=\"http://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">installation instructions</a> in the download page you could make it work from the command line."},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1410010838,"post_id":25700652,"comment_id":40172058,"body_markdown":"that doesnt make any sense. Apparently your&#39;re mistaking SO for some internet forum - i think you need to switch communities.","body":"that doesnt make any sense. Apparently your&#39;re mistaking SO for some internet forum - i think you need to switch communities."},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1410013276,"post_id":25700652,"comment_id":40172686,"body_markdown":"i was talking to Edwin, of course.\n\nWell i tried to clone that project but apparently something is wrong with github today, neither am i able to download it as zip anywhere nor does the github-app clone it. Are you able to compress the whole project and put it somewhere else?","body":"i was talking to Edwin, of course.  Well i tried to clone that project but apparently something is wrong with github today, neither am i able to download it as zip anywhere nor does the github-app clone it. Are you able to compress the whole project and put it somewhere else?"},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1410013680,"post_id":25700652,"comment_id":40172784,"body_markdown":"nevermind, got it running now ... im currently trying to compile, please wait","body":"nevermind, got it running now ... im currently trying to compile, please wait"},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1410013760,"post_id":25700652,"comment_id":40172804,"body_markdown":"okay, it compiles perfectly with eclipse mars - im guessing luna will also work. I can provide my JAR if you only need the results ...","body":"okay, it compiles perfectly with eclipse mars - im guessing luna will also work. I can provide my JAR if you only need the results ..."},{"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"score":0,"creation_date":1410014861,"post_id":25700652,"comment_id":40173070,"body_markdown":"@specializt well thank you so much for compiling and running. Now its proved that its an IDE issue rather than with the pom.xml","body":"@specializt well thank you so much for compiling and running. Now its proved that its an IDE issue rather than with the pom.xml"},{"owner":{"account_id":8097,"reputation":6544,"user_id":14379,"display_name":"seanf"},"score":0,"creation_date":1457423017,"post_id":25700652,"comment_id":59387543,"body_markdown":"I had a very similar problem in IntelliJ, and this answer seems to be working: http://stackoverflow.com/a/32706984/14379","body":"I had a very similar problem in IntelliJ, and this answer seems to be working: <a href=\"http://stackoverflow.com/a/32706984/14379\">stackoverflow.com/a/32706984/14379</a>"},{"owner":{"account_id":2229294,"reputation":1,"user_id":1967321,"display_name":"baggio"},"score":0,"creation_date":1470979657,"post_id":25700652,"comment_id":65178738,"body_markdown":"http://stackoverflow.com/questions/29279859/intellij-14-1-is-too-slow-when-i-import-a-maven-project","body":"<a href=\"http://stackoverflow.com/questions/29279859/intellij-14-1-is-too-slow-when-i-import-a-maven-project\" title=\"intellij 14 1 is too slow when i import a maven project\">stackoverflow.com/questions/29279859/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2657731,"reputation":542,"user_id":2298063,"display_name":"rhozet"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1502960913,"creation_date":1502960913,"answer_id":45730921,"question_id":25700652,"body_markdown":"If this is an issue very specific to intellij, I would suggest do the following steps \r\nYou can try running mvn clean install.(Depending on your network speed it will pull every dependency)\r\n\r\nChange intellij settings in\r\nPreferences-&gt;build,execution,deployment-&gt;maven-&gt;Maven home directory-&gt;{now change this to point to your mvn home rather than bundled mvn}\r\n\r\nmvn -v in command line should give you the maven home path.\r\nNow it won&#39;t try to download dependencies again. ","title":"Intellij Idea taking forever to resolve maven dependencies","body":"<p>If this is an issue very specific to intellij, I would suggest do the following steps \nYou can try running mvn clean install.(Depending on your network speed it will pull every dependency)</p>\n\n<p>Change intellij settings in\nPreferences->build,execution,deployment->maven->Maven home directory->{now change this to point to your mvn home rather than bundled mvn}</p>\n\n<p>mvn -v in command line should give you the maven home path.\nNow it won't try to download dependencies again. </p>\n"},{"tags":[],"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1620670045,"creation_date":1549058606,"answer_id":54487733,"question_id":25700652,"body_markdown":"&gt; File | Settings | Build, Execution, Deployment | Build Tools | Maven |\r\n&gt; Threads (-T option) | 8 (or however many threads you want to try)\r\n&gt; \r\n&gt; \r\n&gt; \r\n\r\n    mvn compile -T 8\r\nI had the same issue. Maven was taking an hour in IntelliJ and also running from the command line. Using the -T parameter you can tell Maven to use more threads to download artifacts simultaneously. Takes only about 15 minutes now. \r\n\r\nDon&#39;t use bundled mvn. Point &quot;Maven home directory&quot; to the path on your file system.\r\n\r\nAfter you&#39;re done building. Check &quot;Work offline&quot;. This stops mvn from searching remote websites each time you build. Uncheck when you update your POM file so it can search for the changes.\r\n\r\nYou can also skip tests. This is evertyhing from the command line. \r\n\r\n    mvn clean install -T 8 -o -DskipTests ","title":"Intellij Idea taking forever to resolve maven dependencies","body":"<blockquote>\n<p>File | Settings | Build, Execution, Deployment | Build Tools | Maven |\nThreads (-T option) | 8 (or however many threads you want to try)</p>\n</blockquote>\n<pre><code>mvn compile -T 8\n</code></pre>\n<p>I had the same issue. Maven was taking an hour in IntelliJ and also running from the command line. Using the -T parameter you can tell Maven to use more threads to download artifacts simultaneously. Takes only about 15 minutes now.</p>\n<p>Don't use bundled mvn. Point &quot;Maven home directory&quot; to the path on your file system.</p>\n<p>After you're done building. Check &quot;Work offline&quot;. This stops mvn from searching remote websites each time you build. Uncheck when you update your POM file so it can search for the changes.</p>\n<p>You can also skip tests. This is evertyhing from the command line.</p>\n<pre><code>mvn clean install -T 8 -o -DskipTests \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4397821,"reputation":37,"user_id":3584333,"display_name":"sarshalom"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1627412101,"creation_date":1627399741,"answer_id":68547715,"question_id":25700652,"body_markdown":"Select File, Settings, then set VM options for Maven importing to `\r\n -Xms1024m -Xmx2048m`.\r\n\r\n\r\nVisit &lt;https://www.programmersought.com/article/56414660398/&gt;","title":"Intellij Idea taking forever to resolve maven dependencies","body":"<p>Select File, Settings, then set VM options for Maven importing to <code> -Xms1024m -Xmx2048m</code>.</p>\n<p>Visit <a href=\"https://www.programmersought.com/article/56414660398/\" rel=\"nofollow noreferrer\">https://www.programmersought.com/article/56414660398/</a></p>\n"},{"tags":[],"owner":{"account_id":2014596,"reputation":69,"user_id":1802197,"display_name":"Jitendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642670620,"creation_date":1642670620,"answer_id":70783636,"question_id":25700652,"body_markdown":"For me, issue was related to https://repo.maven.apache.org/maven2 and it was not responding.\r\nI added another mirror(maven-central.storage.googleapis.com) in settings.xml","title":"Intellij Idea taking forever to resolve maven dependencies","body":"<p>For me, issue was related to <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> and it was not responding.\nI added another mirror(maven-central.storage.googleapis.com) in settings.xml</p>\n"}],"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36641,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":4,"score":28,"last_activity_date":1642670620,"creation_date":1410009269,"question_id":25700652,"body_markdown":"I am using intellij idea ultimate version 12.1.4 and trying to use maven with a project. Here is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;com.fasterxml&lt;/groupId&gt;\r\n        &lt;artifactId&gt;oss-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;10&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.2&lt;/version&gt;\r\n    \r\n      &lt;name&gt;jackson-databind&lt;/name&gt;\r\n      &lt;description&gt;General data-binding functionality for Jackson: works on core streaming API&lt;/description&gt;\r\n      &lt;url&gt;http://wiki.fasterxml.com/JacksonHome&lt;/url&gt;\r\n    \r\n      &lt;scm&gt;\r\n        &lt;connection&gt;scm:git:git@github.com:FasterXML/jackson-databind.git&lt;/connection&gt;\r\n        &lt;developerConnection&gt;scm:git:git@github.com:FasterXML/jackson-databind.git&lt;/developerConnection&gt;\r\n        &lt;url&gt;http://github.com/FasterXML/jackson-databind&lt;/url&gt;\r\n        &lt;tag&gt;jackson-databind-2.2.2&lt;/tag&gt;\r\n      &lt;/scm&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;osgi.export&gt;\r\n    com.fasterxml.jackson.databind,\r\n    com.fasterxml.jackson.databind.annotation,\r\n    com.fasterxml.jackson.databind.cfg,\r\n    com.fasterxml.jackson.databind.deser,\r\n    com.fasterxml.jackson.databind.deser.impl,\r\n    com.fasterxml.jackson.databind.deser.std,\r\n    com.fasterxml.jackson.databind.exc,\r\n    com.fasterxml.jackson.databind.ext,\r\n    com.fasterxml.jackson.databind.introspect,\r\n    com.fasterxml.jackson.databind.jsonschema,\r\n    com.fasterxml.jackson.databind.jsonFormatVisitors,\r\n    com.fasterxml.jackson.databind.jsontype,\r\n    com.fasterxml.jackson.databind.jsontype.impl,\r\n    com.fasterxml.jackson.databind.module,\r\n    com.fasterxml.jackson.databind.node,\r\n    com.fasterxml.jackson.databind.ser,\r\n    com.fasterxml.jackson.databind.ser.impl,\r\n    com.fasterxml.jackson.databind.ser.std,\r\n    com.fasterxml.jackson.databind.type,\r\n    com.fasterxml.jackson.databind.util\r\n        &lt;/osgi.export&gt;\r\n        &lt;osgi.import&gt;\r\n    com.fasterxml.jackson.annotation,\r\n    com.fasterxml.jackson.core,\r\n    com.fasterxml.jackson.core.base,\r\n    com.fasterxml.jackson.core.format,\r\n    com.fasterxml.jackson.core.json,\r\n    com.fasterxml.jackson.core.io,\r\n    com.fasterxml.jackson.core.util,\r\n    com.fasterxml.jackson.core.type,\r\n    org.xml.sax,org.w3c.dom, org.w3c.dom.bootstrap, org.w3c.dom.ls,\r\n    javax.xml.datatype, javax.xml.namespace, javax.xml.parsers\r\n    &lt;/osgi.import&gt;\r\n    \r\n        &lt;!-- Generate PackageVersion.java into this directory. --&gt;\r\n        &lt;packageVersion.dir&gt;com/fasterxml/jackson/databind/cfg&lt;/packageVersion.dir&gt;\r\n        &lt;packageVersion.package&gt;com.fasterxml.jackson.databind.cfg&lt;/packageVersion.package&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- Builds on core streaming API; also needs core annotations --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- and for testing, JUnit is needed, as well as quite a few\r\n             libs for which we use reflection for code, but direct dep for testing\r\n          --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.10&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.2&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n          &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n          &lt;version&gt;1.7.9&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt; &lt;!--  from core we just test for repackaged cglib, not hibernate proper --&gt;\r\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-cglib-repack&lt;/artifactId&gt;\r\n          &lt;version&gt;2.1_3&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${surefire.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;excludes&gt;\r\n                &lt;exclude&gt;com/fasterxml/jackson/failing/*.java&lt;/exclude&gt;\r\n              &lt;/excludes&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${javadoc.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;links&gt;\r\n                &lt;link&gt;http://docs.oracle.com/javase/6/docs/api/&lt;/link&gt;\r\n                &lt;link&gt;http://fasterxml.github.com/jackson-annotations/javadoc/2.1.1/&lt;/link&gt;\r\n                &lt;link&gt;http://fasterxml.github.com/jackson-core/javadoc/2.1.1/&lt;/link&gt;\r\n              &lt;/links&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;!-- Inherited from oss-base. Generate PackageVersion.java.--&gt;\r\n            &lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;replacer&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;process-packageVersion&lt;/id&gt;\r\n                &lt;phase&gt;process-sources&lt;/phase&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;release&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n            &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nWhen I do a maven dependency resolution, its taking forever to get it through and this is what I get:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nAnd it sticks here forever. \r\n\r\nHere are my maven settings:\r\n\r\n![enter image description here][2]\r\n\r\nI followed steps given in [this][3] SO answer.\r\n\r\nPlease let me know where am I doing wrong and how do I get rid of it.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/QSqFI.png\r\n  [2]: http://i.stack.imgur.com/AhDcj.png\r\n  [3]: https://stackoverflow.com/a/18064247/1291122\r\n\r\n**EDIT**\r\n\r\nIf this should help, I am trying to run this code: https://github.com/hmkcode/Android/tree/master/java-post-gcm\r\n\r\nI am not sure whether its an issue with the pom.xml itself. Perhaps if someone is able to have it working on his IDE, it may be concluded that its an issue with my specific IDE config.","title":"Intellij Idea taking forever to resolve maven dependencies","body":"<p>I am using intellij idea ultimate version 12.1.4 and trying to use maven with a project. Here is my pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;com.fasterxml&lt;/groupId&gt;\n    &lt;artifactId&gt;oss-parent&lt;/artifactId&gt;\n    &lt;version&gt;10&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n  &lt;version&gt;2.2.2&lt;/version&gt;\n\n  &lt;name&gt;jackson-databind&lt;/name&gt;\n  &lt;description&gt;General data-binding functionality for Jackson: works on core streaming API&lt;/description&gt;\n  &lt;url&gt;http://wiki.fasterxml.com/JacksonHome&lt;/url&gt;\n\n  &lt;scm&gt;\n    &lt;connection&gt;scm:git:git@github.com:FasterXML/jackson-databind.git&lt;/connection&gt;\n    &lt;developerConnection&gt;scm:git:git@github.com:FasterXML/jackson-databind.git&lt;/developerConnection&gt;\n    &lt;url&gt;http://github.com/FasterXML/jackson-databind&lt;/url&gt;\n    &lt;tag&gt;jackson-databind-2.2.2&lt;/tag&gt;\n  &lt;/scm&gt;\n\n  &lt;properties&gt;\n    &lt;osgi.export&gt;\ncom.fasterxml.jackson.databind,\ncom.fasterxml.jackson.databind.annotation,\ncom.fasterxml.jackson.databind.cfg,\ncom.fasterxml.jackson.databind.deser,\ncom.fasterxml.jackson.databind.deser.impl,\ncom.fasterxml.jackson.databind.deser.std,\ncom.fasterxml.jackson.databind.exc,\ncom.fasterxml.jackson.databind.ext,\ncom.fasterxml.jackson.databind.introspect,\ncom.fasterxml.jackson.databind.jsonschema,\ncom.fasterxml.jackson.databind.jsonFormatVisitors,\ncom.fasterxml.jackson.databind.jsontype,\ncom.fasterxml.jackson.databind.jsontype.impl,\ncom.fasterxml.jackson.databind.module,\ncom.fasterxml.jackson.databind.node,\ncom.fasterxml.jackson.databind.ser,\ncom.fasterxml.jackson.databind.ser.impl,\ncom.fasterxml.jackson.databind.ser.std,\ncom.fasterxml.jackson.databind.type,\ncom.fasterxml.jackson.databind.util\n    &lt;/osgi.export&gt;\n    &lt;osgi.import&gt;\ncom.fasterxml.jackson.annotation,\ncom.fasterxml.jackson.core,\ncom.fasterxml.jackson.core.base,\ncom.fasterxml.jackson.core.format,\ncom.fasterxml.jackson.core.json,\ncom.fasterxml.jackson.core.io,\ncom.fasterxml.jackson.core.util,\ncom.fasterxml.jackson.core.type,\norg.xml.sax,org.w3c.dom, org.w3c.dom.bootstrap, org.w3c.dom.ls,\njavax.xml.datatype, javax.xml.namespace, javax.xml.parsers\n&lt;/osgi.import&gt;\n\n    &lt;!-- Generate PackageVersion.java into this directory. --&gt;\n    &lt;packageVersion.dir&gt;com/fasterxml/jackson/databind/cfg&lt;/packageVersion.dir&gt;\n    &lt;packageVersion.package&gt;com.fasterxml.jackson.databind.cfg&lt;/packageVersion.package&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Builds on core streaming API; also needs core annotations --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n      &lt;version&gt;2.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n      &lt;version&gt;2.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- and for testing, JUnit is needed, as well as quite a few\n         libs for which we use reflection for code, but direct dep for testing\n      --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.10&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;cglib&lt;/groupId&gt;\n      &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n      &lt;version&gt;2.2.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n      &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n      &lt;version&gt;1.7.9&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; &lt;!--  from core we just test for repackaged cglib, not hibernate proper --&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-cglib-repack&lt;/artifactId&gt;\n      &lt;version&gt;2.1_3&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;com/fasterxml/jackson/failing/*.java&lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${javadoc.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;links&gt;\n            &lt;link&gt;http://docs.oracle.com/javase/6/docs/api/&lt;/link&gt;\n            &lt;link&gt;http://fasterxml.github.com/jackson-annotations/javadoc/2.1.1/&lt;/link&gt;\n            &lt;link&gt;http://fasterxml.github.com/jackson-core/javadoc/2.1.1/&lt;/link&gt;\n          &lt;/links&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;!-- Inherited from oss-base. Generate PackageVersion.java.--&gt;\n        &lt;groupId&gt;com.google.code.maven-replacer-plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;replacer&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;process-packageVersion&lt;/id&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;release&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n        &lt;skipTests&gt;true&lt;/skipTests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>When I do a maven dependency resolution, its taking forever to get it through and this is what I get:</p>\n\n<p><img src=\"https://i.stack.imgur.com/QSqFI.png\" alt=\"enter image description here\"></p>\n\n<p>And it sticks here forever. </p>\n\n<p>Here are my maven settings:</p>\n\n<p><img src=\"https://i.stack.imgur.com/AhDcj.png\" alt=\"enter image description here\"></p>\n\n<p>I followed steps given in <a href=\"https://stackoverflow.com/a/18064247/1291122\">this</a> SO answer.</p>\n\n<p>Please let me know where am I doing wrong and how do I get rid of it.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>If this should help, I am trying to run this code: <a href=\"https://github.com/hmkcode/Android/tree/master/java-post-gcm\" rel=\"noreferrer\">https://github.com/hmkcode/Android/tree/master/java-post-gcm</a></p>\n\n<p>I am not sure whether its an issue with the pom.xml itself. Perhaps if someone is able to have it working on his IDE, it may be concluded that its an issue with my specific IDE config.</p>\n"},{"tags":["java","eclipse","swing","nullpointerexception","embedded-resource"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1642666209,"post_id":70782514,"comment_id":125132860,"body_markdown":"The result of `ClassLoader.getSystemResource(&quot;/second.png&quot;)` is returning a `null`, indicating that the resource does not exist.  I might encourage the use of `Class#getResource` instead, but I can&#39;t say if that would generate a different result. I don&#39;t use eclipse, so I&#39;m not familiar with how resources should be setup so that they are embedded properly during the building/development phases","body":"The result of <code>ClassLoader.getSystemResource(&quot;&#47;second.png&quot;)</code> is returning a <code>null</code>, indicating that the resource does not exist.  I might encourage the use of <code>Class#getResource</code> instead, but I can&#39;t say if that would generate a different result. I don&#39;t use eclipse, so I&#39;m not familiar with how resources should be setup so that they are embedded properly during the building/development phases"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1642670295,"post_id":70782514,"comment_id":125134389,"body_markdown":"@MadProgrammer *&quot;but I can&#39;t say if that would generate a different result&quot;* The method the OP is using was never intended for *application* resources. While I cannot guarantee it would have a different result, I&#39;d never call it within my own code.","body":"@MadProgrammer <i>&quot;but I can&#39;t say if that would generate a different result&quot;</i> The method the OP is using was never intended for <i>application</i> resources. While I cannot guarantee it would have a different result, I&#39;d never call it within my own code."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1642670404,"post_id":70782514,"comment_id":125134421,"body_markdown":"BTW OP: Don&#39;t post images of code or exceptions. Instead copy/paste the text and use code formatting (select the text and click the little `{}` button above the question [edit] area).","body":"BTW OP: Don&#39;t post images of code or exceptions. Instead copy/paste the text and use code formatting (select the text and click the little <code>{}</code> button above the question <a href=\"https://stackoverflow.com/posts/70782514/edit\">edit</a> area)."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643453381,"post_id":70782514,"comment_id":125346605,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":22147047,"reputation":1,"user_id":16396123,"display_name":"Sourabh Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642670307,"creation_date":1642665379,"question_id":70782514,"body_markdown":"I have tried many ways but the error still persists. This error is shown because the location of the image is null but I think there are some more issues that causes this error\r\n\r\nI am attaching my code where I got this error [ Code where I got the error ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VGS7r.png","title":"Getting the error &quot;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null","body":"<p>I have tried many ways but the error still persists. This error is shown because the location of the image is null but I think there are some more issues that causes this error</p>\n<p>I am attaching my code where I got this error <a href=\"https://i.stack.imgur.com/VGS7r.png\" rel=\"nofollow noreferrer\"> Code where I got the error </a></p>\n"},{"tags":["java","selenium","testing","testng"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642670161,"creation_date":1642665312,"answer_id":70782496,"question_id":70776459,"body_markdown":"TestNG has already implemented &quot;dependsOnMethods&quot;, &quot;dependsOnGroups&quot; options.\r\n\r\nBut your request is to have some kind of class level dependencies.\r\n\r\nIf you&#39;re trying to find a solution that will change the order of the tests while the tests are running, this won&#39;t work.\r\n\r\nTestNG determines the specific order of the tests and keeps it within the whole execution. If the test turn comes, then you can simply wait for some conditions, but not take a new test instead of the current one.\r\n\r\nSo my suggestions will keep that assumption.\r\n\r\n**_Option 1 - use separate testng xml configurations_**\r\n\r\nIt looks like you are already using this.\r\n\r\nMoving all the tests that can&#39;t run safely in parallel into a separate testng xml with a non-parallel configuration and keeping the other tests running in parallel and then merging them into a single xml to run is a common solution that is easy to implement and maintain.\r\n\r\nFor most cases, it&#39;s nice enough compared to other existing alternatives because it&#39;s simple and straightforward.\r\n \r\nHere is an example of how it might look like:\r\n\r\nhttps://stackoverflow.com/a/70753897/5226491\r\n\r\n**_Option 2 - implement your own synchronization_**\r\n\r\nAs I mentioned, there are no ready-made options.\r\n\r\nYou should:\r\n\r\n- determine which class depends on a list of other classes\r\n- track all the running classes\r\n- resolve dependencies: check if the test method belongs to some class that must wait for other blocking classes to finish their work\r\n\r\nYou must implement this with all the necessary synchronizations to make sure it doesn&#39;t cause problems, deadlocks, etc.\r\n\r\nYou can start by implementing an `ITestListener` that will add all running test classes to a thread-safe collection when the test starts and delete it when it finishes.\r\n\r\nhttps://www.javadoc.io/doc/org.testng/testng/7.4.0/org/testng/ITestListener.html\r\n\r\nhttps://www.javadoc.io/doc/org.testng/testng/7.4.0/org/testng/ITestResult.html#getTestClass--\r\n\r\nI think option 2 takes time to implement and test (not to mention good programming experience) and there must be a really good reason for choosing it.","title":"Forbid TestNG to execute specific test classes in same time","body":"<p>TestNG has already implemented &quot;dependsOnMethods&quot;, &quot;dependsOnGroups&quot; options.</p>\n<p>But your request is to have some kind of class level dependencies.</p>\n<p>If you're trying to find a solution that will change the order of the tests while the tests are running, this won't work.</p>\n<p>TestNG determines the specific order of the tests and keeps it within the whole execution. If the test turn comes, then you can simply wait for some conditions, but not take a new test instead of the current one.</p>\n<p>So my suggestions will keep that assumption.</p>\n<p><strong><em>Option 1 - use separate testng xml configurations</em></strong></p>\n<p>It looks like you are already using this.</p>\n<p>Moving all the tests that can't run safely in parallel into a separate testng xml with a non-parallel configuration and keeping the other tests running in parallel and then merging them into a single xml to run is a common solution that is easy to implement and maintain.</p>\n<p>For most cases, it's nice enough compared to other existing alternatives because it's simple and straightforward.</p>\n<p>Here is an example of how it might look like:</p>\n<p><a href=\"https://stackoverflow.com/a/70753897/5226491\">https://stackoverflow.com/a/70753897/5226491</a></p>\n<p><strong><em>Option 2 - implement your own synchronization</em></strong></p>\n<p>As I mentioned, there are no ready-made options.</p>\n<p>You should:</p>\n<ul>\n<li>determine which class depends on a list of other classes</li>\n<li>track all the running classes</li>\n<li>resolve dependencies: check if the test method belongs to some class that must wait for other blocking classes to finish their work</li>\n</ul>\n<p>You must implement this with all the necessary synchronizations to make sure it doesn't cause problems, deadlocks, etc.</p>\n<p>You can start by implementing an <code>ITestListener</code> that will add all running test classes to a thread-safe collection when the test starts and delete it when it finishes.</p>\n<p><a href=\"https://www.javadoc.io/doc/org.testng/testng/7.4.0/org/testng/ITestListener.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.testng/testng/7.4.0/org/testng/ITestListener.html</a></p>\n<p><a href=\"https://www.javadoc.io/doc/org.testng/testng/7.4.0/org/testng/ITestResult.html#getTestClass--\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.testng/testng/7.4.0/org/testng/ITestResult.html#getTestClass--</a></p>\n<p>I think option 2 takes time to implement and test (not to mention good programming experience) and there must be a really good reason for choosing it.</p>\n"}],"owner":{"account_id":15395572,"reputation":337,"user_id":11233636,"display_name":"Keker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70782496,"answer_count":1,"score":1,"last_activity_date":1642670161,"creation_date":1642619462,"question_id":70776459,"body_markdown":"Is there any nice solution to prevent testng from running tests from a specific class if tests from another specific class are currently being executed?\r\n\r\nI have next suite:\r\n\r\n    &lt;suite name=&quot;Name&quot; parallel=&quot;classes&quot; thread-count=&quot;5&quot;&gt;\r\n       &lt;test name=&quot;TestName&quot;&gt;\r\n          &lt;packages&gt;\r\n             &lt;package name=&quot;test.folder.*&quot; /&gt;\r\n          &lt;/packages&gt;\r\n       &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nInside &quot;folder&quot; it has a lot of another folders with test classes which are executed in parallel by this suite.\r\n\r\nBut I need to specify somehow if, for example, test.folder.a1.A1Tests is running, test ng should wait until its finished, to run class test.folder.b1.B1Tests and choose some another class which is not in &#39;ban&#39; list of specified class.\r\n\r\nLet we explain one more time what I want.\r\n 1. Free thread appeared\r\n 2. TestNG want to run b1.B1Tests in it\r\n 3. TestNG check if there a1.A1Tests currently running(or another classes from ban list)\r\n 4. If so, it postpone b1.B1Tests class and search another one\r\n\r\nThe point is I have tests, which affect each other and I want save parallelism but don&#39;t want to execute them at the same time.\r\n\r\nThe only way that I found for now, its add to current suite one more test, to execute all affectable tests in single thread, and then execute another tests in same way as now.\r\n\r\nBut I hope you have more prettier solution.","title":"Forbid TestNG to execute specific test classes in same time","body":"<p>Is there any nice solution to prevent testng from running tests from a specific class if tests from another specific class are currently being executed?</p>\n<p>I have next suite:</p>\n<pre><code>&lt;suite name=&quot;Name&quot; parallel=&quot;classes&quot; thread-count=&quot;5&quot;&gt;\n   &lt;test name=&quot;TestName&quot;&gt;\n      &lt;packages&gt;\n         &lt;package name=&quot;test.folder.*&quot; /&gt;\n      &lt;/packages&gt;\n   &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>Inside &quot;folder&quot; it has a lot of another folders with test classes which are executed in parallel by this suite.</p>\n<p>But I need to specify somehow if, for example, test.folder.a1.A1Tests is running, test ng should wait until its finished, to run class test.folder.b1.B1Tests and choose some another class which is not in 'ban' list of specified class.</p>\n<p>Let we explain one more time what I want.</p>\n<ol>\n<li>Free thread appeared</li>\n<li>TestNG want to run b1.B1Tests in it</li>\n<li>TestNG check if there a1.A1Tests currently running(or another classes from ban list)</li>\n<li>If so, it postpone b1.B1Tests class and search another one</li>\n</ol>\n<p>The point is I have tests, which affect each other and I want save parallelism but don't want to execute them at the same time.</p>\n<p>The only way that I found for now, its add to current suite one more test, to execute all affectable tests in single thread, and then execute another tests in same way as now.</p>\n<p>But I hope you have more prettier solution.</p>\n"},{"tags":["java","spring","jar","classpath","properties-file"],"answers":[{"tags":[],"owner":{"account_id":5885116,"reputation":114,"user_id":4633361,"display_name":"Iob"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1430922027,"creation_date":1430922027,"answer_id":30079488,"question_id":30079255,"body_markdown":"try giving the full path of the file:\r\n\r\n    @PropertySource(&#39;file:c:/.../stc.properties&#39;)","title":"@PropertySource in a Jar for an external file on the classpath","body":"<p>try giving the full path of the file:</p>\n\n<pre><code>@PropertySource('file:c:/.../stc.properties')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3177630,"reputation":1,"user_id":2685092,"display_name":"Tomas Briza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430922377,"creation_date":1430922377,"answer_id":30079623,"question_id":30079255,"body_markdown":"you could use --spring.config.location=file:/somepath parameter when running jar, where you specify path to config file (could be relative).\r\n\r\nMore info [in docs](http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html)","title":"@PropertySource in a Jar for an external file on the classpath","body":"<p>you could use --spring.config.location=file:/somepath parameter when running jar, where you specify path to config file (could be relative).</p>\n\n<p>More info <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow\">in docs</a></p>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1519230783,"creation_date":1458664714,"answer_id":36160203,"question_id":30079255,"body_markdown":"Assuming you have two files, one for local one for production \r\n\r\n    @PropertySources({\r\n    \t\t@PropertySource(&quot;classpath:application.properties&quot;),\r\n    \t\t@PropertySource(value = &quot;${ws.properties}&quot;, ignoreResourceNotFound = true)\r\n    \r\n    })\r\n\r\nAnd in tomcat or your jar file , pass on this parameter\r\n\r\n    -Dws.properties=file:/path-to.properties\r\n\r\nI added this in setenv.sh \r\n\r\nAPPLICATION_OPTS=&quot;-Dlog4j.configurationFile=file:$PATH/log4j2.xml -Dlog4j.debug=true -Dapplication.properties=file:$PATH/application.properties \r\n\r\n\r\nThis is possible with Spring 4 only ","title":"@PropertySource in a Jar for an external file on the classpath","body":"<p>Assuming you have two files, one for local one for production </p>\n\n<pre><code>@PropertySources({\n        @PropertySource(\"classpath:application.properties\"),\n        @PropertySource(value = \"${ws.properties}\", ignoreResourceNotFound = true)\n\n})\n</code></pre>\n\n<p>And in tomcat or your jar file , pass on this parameter</p>\n\n<pre><code>-Dws.properties=file:/path-to.properties\n</code></pre>\n\n<p>I added this in setenv.sh </p>\n\n<p>APPLICATION_OPTS=\"-Dlog4j.configurationFile=file:$PATH/log4j2.xml -Dlog4j.debug=true -Dapplication.properties=file:$PATH/application.properties </p>\n\n<p>This is possible with Spring 4 only </p>\n"},{"tags":[],"owner":{"account_id":1639431,"reputation":5035,"user_id":1512175,"accept_rate":57,"display_name":"Ithar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486126024,"creation_date":1486126024,"answer_id":42024685,"question_id":30079255,"body_markdown":"My environment was:\r\n\r\n*OS: Windows | Container: Tomcat | Java: 7 | Spring: 4.2.4 | Springboot 1.3.1 | Maven*\r\n\r\n**Step 1 a (war)**: \r\n\r\nAdd the file externalised properties file to JVM system properties. \r\n\r\nAs am running this off tomcat; I done this by creating **setenv.bat** in `&lt;TOMCAT_HOME&gt;/bin/setenv.bat` \r\n\r\n    set CATALINA_OPTS=%CATALINA_OPTS% -Dexternal.app.properties=file:&lt;PATH_TO_EXTERNAL_FILE&gt;\\application-prod.properties\r\n\r\n**Step 1 b (jar)**:\r\n\r\nAlternative if you are running from a jar use:\r\n\r\n`-Dexternal.app.properties=file:&lt;PATH_TO_EXTERNAL_FILE&gt;\\application-prod.properties`\r\n\r\nNote the use of **file:** at the start on the line.\r\n\r\n**Step 2**: In my application startup class I used annotation `@PropertySource` to load the specific environment application properties.\r\n\r\n    @SpringBootApplication\r\n    @PropertySources({\r\n            @PropertySource(value = &quot;${external.app.properties.file}&quot;, ignoreResourceNotFound = true),\r\n            @PropertySource(value = &quot;classpath:application.properties&quot;)\r\n    })\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Application.class);\r\n        }\r\n    \r\n    }\r\n\r\n**Step 3**:\r\n\r\nUsing externalised properties in project\r\n\r\n*external/file/path/application-prod.properties* \r\n \r\nspring.datasource.url.ext=&lt; PRODUCTION_DATASOURCE &gt;\r\n\r\n*&lt;PRODJECT&gt;/src/main/resources/application.properties*\r\n\r\nspring.datasource.url=${spring.datasource.url.ext}\r\n\r\nHope this helps other having the same problem.","title":"@PropertySource in a Jar for an external file on the classpath","body":"<p>My environment was:</p>\n\n<p><em>OS: Windows | Container: Tomcat | Java: 7 | Spring: 4.2.4 | Springboot 1.3.1 | Maven</em></p>\n\n<p><strong>Step 1 a (war)</strong>: </p>\n\n<p>Add the file externalised properties file to JVM system properties. </p>\n\n<p>As am running this off tomcat; I done this by creating <strong>setenv.bat</strong> in <code>&lt;TOMCAT_HOME&gt;/bin/setenv.bat</code> </p>\n\n<pre><code>set CATALINA_OPTS=%CATALINA_OPTS% -Dexternal.app.properties=file:&lt;PATH_TO_EXTERNAL_FILE&gt;\\application-prod.properties\n</code></pre>\n\n<p><strong>Step 1 b (jar)</strong>:</p>\n\n<p>Alternative if you are running from a jar use:</p>\n\n<p><code>-Dexternal.app.properties=file:&lt;PATH_TO_EXTERNAL_FILE&gt;\\application-prod.properties</code></p>\n\n<p>Note the use of <strong>file:</strong> at the start on the line.</p>\n\n<p><strong>Step 2</strong>: In my application startup class I used annotation <code>@PropertySource</code> to load the specific environment application properties.</p>\n\n<pre><code>@SpringBootApplication\n@PropertySources({\n        @PropertySource(value = \"${external.app.properties.file}\", ignoreResourceNotFound = true),\n        @PropertySource(value = \"classpath:application.properties\")\n})\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n\n}\n</code></pre>\n\n<p><strong>Step 3</strong>:</p>\n\n<p>Using externalised properties in project</p>\n\n<p><em>external/file/path/application-prod.properties</em> </p>\n\n<p>spring.datasource.url.ext=&lt; PRODUCTION_DATASOURCE ></p>\n\n<p><em>/src/main/resources/application.properties</em></p>\n\n<p>spring.datasource.url=${spring.datasource.url.ext}</p>\n\n<p>Hope this helps other having the same problem.</p>\n"},{"tags":[],"owner":{"account_id":1679362,"reputation":495,"user_id":1544034,"accept_rate":75,"display_name":"Hammad Dar"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1523627581,"creation_date":1523627581,"answer_id":49818638,"question_id":30079255,"body_markdown":"Use a variable (System or Environment) to have the value of the file and you could refer your file like this:\r\n\r\n    @PropertySource(&quot;file:${MY_PATH}/application.properties&quot;)\r\n","title":"@PropertySource in a Jar for an external file on the classpath","body":"<p>Use a variable (System or Environment) to have the value of the file and you could refer your file like this:</p>\n\n<pre><code>@PropertySource(\"file:${MY_PATH}/application.properties\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642670069,"creation_date":1642670069,"answer_id":70783523,"question_id":30079255,"body_markdown":"Let&#39;s say you have a jar with a default main and some default `stc.properties` inside the classpath.\r\n\r\nAn option would be that if there is a configuration file with that name next to the jar (actually in the execution directory) the properties that are set inside that config are merged with the ones of default config. \r\n\r\nIf the user decides not to use the external config, no error occurs.\r\n\r\nFor the above scenario you need:\r\n\r\n```java\r\n@PropertySources({\r\n        @PropertySource(&quot;classpath:stc.properties&quot;),\r\n        @PropertySource(value = &quot;file:./stc.properties&quot;, ignoreResourceNotFound = true)\r\n\r\n})\r\n```\r\n\r\ne.g. let&#39;s say the default `stc.properties` (inside the jar) content is:\r\n\r\n    propA=valueA\r\n    propB=valueB\r\n\r\nNow if I add a file with the same name next to the jar containing:\r\n\r\n    propB=updatedValueB\r\n    propC=valueC\r\n\r\nThe effective loaded properties when executing `java -jar stc.jar` are:\r\n\r\n    propA=valueA\r\n    propB=updatedValueB\r\n    propC=valueC\r\n","title":"@PropertySource in a Jar for an external file on the classpath","body":"<p>Let's say you have a jar with a default main and some default <code>stc.properties</code> inside the classpath.</p>\n<p>An option would be that if there is a configuration file with that name next to the jar (actually in the execution directory) the properties that are set inside that config are merged with the ones of default config.</p>\n<p>If the user decides not to use the external config, no error occurs.</p>\n<p>For the above scenario you need:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySources({\n        @PropertySource(&quot;classpath:stc.properties&quot;),\n        @PropertySource(value = &quot;file:./stc.properties&quot;, ignoreResourceNotFound = true)\n\n})\n</code></pre>\n<p>e.g. let's say the default <code>stc.properties</code> (inside the jar) content is:</p>\n<pre><code>propA=valueA\npropB=valueB\n</code></pre>\n<p>Now if I add a file with the same name next to the jar containing:</p>\n<pre><code>propB=updatedValueB\npropC=valueC\n</code></pre>\n<p>The effective loaded properties when executing <code>java -jar stc.jar</code> are:</p>\n<pre><code>propA=valueA\npropB=updatedValueB\npropC=valueC\n</code></pre>\n"}],"owner":{"account_id":1161721,"reputation":9621,"user_id":1141093,"accept_rate":87,"display_name":"brianmearns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40693,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":6,"score":14,"last_activity_date":1642670069,"creation_date":1430921475,"question_id":30079255,"body_markdown":"I&#39;m trying to use the Spring framework&#39;s `@PropertySource` annotation in a Jar to load a properties file from outside the jar, but it&#39;s not finding the file.\r\n\r\nI need the properties file to be external to the Jar so it can be edited. I don&#39;t know the exact location where the file will be, I figured I could just have it anywhere on the classpath.\r\n\r\nI&#39;m using the following annotation on my `Config` class.\r\n\r\n    @PropertySource(&#39;classpath:stc.properties&#39;)\r\n\r\nAnd placed `stc.properties` in the same directory as the created Jar file. I tried specifying the classpath explicitly in the `java` command, but it still cannot find the file:\r\n\r\n    java -cp . -jar stc.jar\r\n    Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to load bean class: com.example.stc.Config; nested exception is java.io.FileNotFoundException: class path resource [stc.properties] cannot be opened because it does not exist\r\n            at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:162)\r\n            at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:299)\r\n            at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243)\r\n            at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:254)\r\n            at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:94)\r\n            at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:609)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n    [...]\r\n\r\nEtc.\r\n\r\nI&#39;ve also tried using `./` as the classpath, and tried specifying the classpath (with both variants) in the `Class-Path` attribute of the jar&#39;s manifest, but it always gives the same results.\r\n","title":"@PropertySource in a Jar for an external file on the classpath","body":"<p>I'm trying to use the Spring framework's <code>@PropertySource</code> annotation in a Jar to load a properties file from outside the jar, but it's not finding the file.</p>\n\n<p>I need the properties file to be external to the Jar so it can be edited. I don't know the exact location where the file will be, I figured I could just have it anywhere on the classpath.</p>\n\n<p>I'm using the following annotation on my <code>Config</code> class.</p>\n\n<pre><code>@PropertySource('classpath:stc.properties')\n</code></pre>\n\n<p>And placed <code>stc.properties</code> in the same directory as the created Jar file. I tried specifying the classpath explicitly in the <code>java</code> command, but it still cannot find the file:</p>\n\n<pre><code>java -cp . -jar stc.jar\nException in thread \"main\" org.springframework.beans.factory.BeanDefinitionStoreException: Failed to load bean class: com.example.stc.Config; nested exception is java.io.FileNotFoundException: class path resource [stc.properties] cannot be opened because it does not exist\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:162)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:299)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:254)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:94)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:609)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n[...]\n</code></pre>\n\n<p>Etc.</p>\n\n<p>I've also tried using <code>./</code> as the classpath, and tried specifying the classpath (with both variants) in the <code>Class-Path</code> attribute of the jar's manifest, but it always gives the same results.</p>\n"},{"tags":["java","excel","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":10933061,"reputation":6811,"user_id":8035582,"accept_rate":100,"display_name":"burki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633953269,"creation_date":1633953269,"answer_id":69525787,"question_id":69402007,"body_markdown":"I usually use **XSL transformations** to create Excel files in the [**Microsoft Office XML format**][1].\r\n\r\nYou can find an example XML for an Excel spreadsheet on the linked Wikipedia page. \r\n\r\nHowever, I usually create a simple **Excel file that represents what I want** and then I **save it as &quot;XML Spreadsheet 2003&quot;**. \r\n\r\nThe result is the **XML file structure that I need to generate** with an XSL stylesheet. \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Microsoft_Office_XML_formats","title":"How to create an Excel (.xlsx) file in Apache Camel?","body":"<p>I usually use <strong>XSL transformations</strong> to create Excel files in the <a href=\"https://en.wikipedia.org/wiki/Microsoft_Office_XML_formats\" rel=\"nofollow noreferrer\"><strong>Microsoft Office XML format</strong></a>.</p>\n<p>You can find an example XML for an Excel spreadsheet on the linked Wikipedia page.</p>\n<p>However, I usually create a simple <strong>Excel file that represents what I want</strong> and then I <strong>save it as &quot;XML Spreadsheet 2003&quot;</strong>.</p>\n<p>The result is the <strong>XML file structure that I need to generate</strong> with an XSL stylesheet.</p>\n"},{"tags":[],"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642669926,"creation_date":1642669926,"answer_id":70783499,"question_id":69402007,"body_markdown":"Posting here for future users who need help with the same topic.\r\nI was able to convert the Java Object to a working excel file by using the [Apache POI][1] library.\r\n\r\nI created a service and inside it a method that converts an object to a file, which I called from my Camel route. This is well explained [here][2].\r\n\r\nHere is the code:\r\n\r\n\r\n      // Create a blank Workbook\r\n      try (Workbook workbook = new XSSFWorkbook()) {\r\n\r\n      // Create a blank Sheet\r\n      Sheet sheet = workbook.createSheet(&quot;IexPersons&quot;);\r\n\r\n      // column names\r\n      List &lt;String&gt; columns = new ArrayList&lt;&gt;();\r\n      columns.add(&quot;Person Name&quot;);\r\n      columns.add(&quot;Gender&quot;);\r\n\r\n      Row headerRow = sheet.createRow(0);\r\n\r\n      // Create columns/first row in a file\r\n      for (int i = 0; i &lt; columns.size(); i++) {\r\n        Cell cell = headerRow.createCell(i);\r\n        cell.setCellValue(columns.get(i));\r\n      }\r\n\r\n      int rowNum = 1;\r\n\r\n      // iterate over the list of persons and for each person write its values to the excel row\r\n      for (IexPerson iexPerson : getListOfPersons()) {\r\n        Row row = sheet.createRow(rowNum++);\r\n\r\n        // populate file with the values for each column\r\n        row.createCell(0).setCellValue(iexPerson.getName());\r\n        row.createCell(1).setCellValue(iexPerson.getGender());\r\n      }\r\n\r\n      // create file\r\n      FileOutputStream out = new FileOutputStream(new File(&quot;iexpersons.xlsx&quot;));\r\n\r\n      // write data to file\r\n      workbook.write(out);\r\n\r\n      // close the output stream\r\n      out.close();\r\n\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\n\r\n  [1]: https://poi.apache.org/\r\n  [2]: https://alegrucoding.com/read-and-write-excel-files-in-java/","title":"How to create an Excel (.xlsx) file in Apache Camel?","body":"<p>Posting here for future users who need help with the same topic.\nI was able to convert the Java Object to a working excel file by using the <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a> library.</p>\n<p>I created a service and inside it a method that converts an object to a file, which I called from my Camel route. This is well explained <a href=\"https://alegrucoding.com/read-and-write-excel-files-in-java/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here is the code:</p>\n<pre><code>  // Create a blank Workbook\n  try (Workbook workbook = new XSSFWorkbook()) {\n\n  // Create a blank Sheet\n  Sheet sheet = workbook.createSheet(&quot;IexPersons&quot;);\n\n  // column names\n  List &lt;String&gt; columns = new ArrayList&lt;&gt;();\n  columns.add(&quot;Person Name&quot;);\n  columns.add(&quot;Gender&quot;);\n\n  Row headerRow = sheet.createRow(0);\n\n  // Create columns/first row in a file\n  for (int i = 0; i &lt; columns.size(); i++) {\n    Cell cell = headerRow.createCell(i);\n    cell.setCellValue(columns.get(i));\n  }\n\n  int rowNum = 1;\n\n  // iterate over the list of persons and for each person write its values to the excel row\n  for (IexPerson iexPerson : getListOfPersons()) {\n    Row row = sheet.createRow(rowNum++);\n\n    // populate file with the values for each column\n    row.createCell(0).setCellValue(iexPerson.getName());\n    row.createCell(1).setCellValue(iexPerson.getGender());\n  }\n\n  // create file\n  FileOutputStream out = new FileOutputStream(new File(&quot;iexpersons.xlsx&quot;));\n\n  // write data to file\n  workbook.write(out);\n\n  // close the output stream\n  out.close();\n\n} catch (IOException e) {\n  e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70783499,"answer_count":2,"score":1,"last_activity_date":1642669926,"creation_date":1633072969,"question_id":69402007,"body_markdown":"I am trying to create an Excel file and send it to the SFTP location using the Apache Camel. I can create a PSV from a Java object like this:\r\n\r\nJava POJO:\r\n\r\n```\r\n @CsvRecord(separator = &quot;,&quot;, skipFirstLine = true, generateHeaderColumns = true)\r\npublic class IexPerson implements Serializable {\r\n\r\n   private static final long serialVersionUID = 1234069326527342909L;\r\n\r\n\t@DataField(pos = 1, columnName = &quot;Person Name&quot;)\r\n \tprivate String personName;\r\n\t@DataField(pos = 2, columnName = &quot;Gender&quot;)\r\n\tprivate String gender;\r\n\r\n  // other fields ...\r\n```\r\n\r\nand then I convert a list of IexPersons in the route:\r\n\r\n```\r\nDataFormat iexPersonFormat = new BindyCsvDataFormat(IexPerson.class);\r\n\r\nfrom(&quot;direct-get-list-of-persons&quot;)\r\n   .setHeader(Exchange.FILE_NAME).simple(&quot;Persons_${date:now:yyyyMMdd-HHmmssSSS}_${random(1000,10000000)}.csv&quot;)\r\n   .marshal(iexPersonFormat)\r\n   .to(&quot;file:///tmp?fileName=${header.CamelFileName}&quot;);\r\n```\r\nThis is working fine, but now I need to create an Excel file from the same list and send it to another location. I didn&#39;t manage to get it to work. \r\nI didn&#39;t find anything on the internet that would help me.\r\n\r\n","title":"How to create an Excel (.xlsx) file in Apache Camel?","body":"<p>I am trying to create an Excel file and send it to the SFTP location using the Apache Camel. I can create a PSV from a Java object like this:</p>\n<p>Java POJO:</p>\n<pre><code> @CsvRecord(separator = &quot;,&quot;, skipFirstLine = true, generateHeaderColumns = true)\npublic class IexPerson implements Serializable {\n\n   private static final long serialVersionUID = 1234069326527342909L;\n\n    @DataField(pos = 1, columnName = &quot;Person Name&quot;)\n    private String personName;\n    @DataField(pos = 2, columnName = &quot;Gender&quot;)\n    private String gender;\n\n  // other fields ...\n</code></pre>\n<p>and then I convert a list of IexPersons in the route:</p>\n<pre><code>DataFormat iexPersonFormat = new BindyCsvDataFormat(IexPerson.class);\n\nfrom(&quot;direct-get-list-of-persons&quot;)\n   .setHeader(Exchange.FILE_NAME).simple(&quot;Persons_${date:now:yyyyMMdd-HHmmssSSS}_${random(1000,10000000)}.csv&quot;)\n   .marshal(iexPersonFormat)\n   .to(&quot;file:///tmp?fileName=${header.CamelFileName}&quot;);\n</code></pre>\n<p>This is working fine, but now I need to create an Excel file from the same list and send it to another location. I didn't manage to get it to work.\nI didn't find anything on the internet that would help me.</p>\n"},{"tags":["java","android","uri","media-player","mediastore"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1642665844,"post_id":70782480,"comment_id":125132734,"body_markdown":"`Log.e(&quot;Path :&quot; + path, &quot; Artist :&quot; + artist)`. Please tell what is printed.","body":"<code>Log.e(&quot;Path :&quot; + path, &quot; Artist :&quot; + artist)</code>. Please tell what is printed."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1642666032,"post_id":70782480,"comment_id":125132809,"body_markdown":"In your while loop add following code: `if (!newFile(path).exists() ) continue; if ( ! new File(path).canRead()) continue;` Put it before you add your model to the list.","body":"In your while loop add following code: <code>if (!newFile(path).exists() ) continue; if ( ! new File(path).canRead()) continue;</code> Put it before you add your model to the list."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642671830,"post_id":70782480,"comment_id":125134962,"body_markdown":"Please remove  Android Studio from the subject of your post.","body":"Please remove  Android Studio from the subject of your post."}],"owner":{"account_id":23814913,"reputation":11,"user_id":17823305,"display_name":"Dominik Zagrušovcem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642669897,"creation_date":1642665175,"question_id":70782480,"body_markdown":"I am making an app in android studio that requires playing music from the phone&#39;s storage\r\n    the music is within this class:\r\n    public class AudioModel {\r\n    \r\n            String aPath;\r\n            String aName;\r\n            String aAlbum;\r\n            String aArtist;\r\n    \r\n            public String getaPath() {\r\n                return aPath;\r\n            }\r\n            public void setaPath(String aPath) {\r\n                this.aPath = aPath;\r\n            }\r\n            public String getaName() {\r\n                return aName;\r\n            }\r\n            public void setaName(String aName) {\r\n                this.aName = aName;\r\n            }\r\n            public String getaAlbum() {\r\n                return aAlbum;\r\n            }\r\n            public void setaAlbum(String aAlbum) {\r\n                this.aAlbum = aAlbum;\r\n            }\r\n            public String getaArtist() {\r\n                return aArtist;\r\n            }\r\n            public void setaArtist(String aArtist) {\r\n                this.aArtist = aArtist;\r\n            }\r\n        }  ```\r\n    \r\n    \r\nand I get it from this method:\r\n\r\n    public List&lt;AudioModel&gt; getAllAudioFromDevice(final Context context) {\r\n            final List&lt;AudioModel&gt; tempAudioList = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n            Uri uri = android.provider.MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n            String[] projection = {MediaStore.Audio.AudioColumns.DATA, MediaStore.Audio.AudioColumns.TITLE, MediaStore.Audio.AudioColumns.ALBUM, MediaStore.Audio.ArtistColumns.ARTIST,};\r\n            Cursor c = context.getContentResolver().query(uri,\r\n                    projection,\r\n                    null,\r\n                    null,\r\n                    null);\r\n    \r\n            if (c != null) {\r\n                while (c.moveToNext()) {\r\n                    AudioModel audioModel = new AudioModel();\r\n                    String path = c.getString(0);\r\n                    String name = c.getString(1);\r\n                    String album = c.getString(2);\r\n                    String artist = c.getString(3);\r\n    \r\n                    audioModel.setaName(name);\r\n                    audioModel.setaAlbum(album);\r\n                    audioModel.setaArtist(artist);\r\n                    audioModel.setaPath(path);\r\n    \r\n                    Log.e(&quot;Name :&quot; + name, &quot; Album :&quot; + album);\r\n                    Log.e(&quot;Path :&quot; + path, &quot; Artist :&quot; + artist);\r\n    \r\n                    tempAudioList.add(audioModel);\r\n                }\r\n                c.close();\r\n            }\r\n    \r\n            return tempAudioList;\r\n        } ```\r\n    **//and that is used to get the path to the song like this**\r\n    ``` @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            TextView fileView = (TextView)findViewById(R.id.work);\r\n    \r\n            play=(Button)findViewById(R.id.play);\r\n    \r\n            Uri myUri = Uri.parse(getAllAudioFromDevice(this).get(2).aPath);\r\n    \r\n            fileView.setText(getAllAudioFromDevice(this).get(2).aPath);\r\n    \r\n            play.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    MediaPlayer mp=new MediaPlayer();\r\n    \r\n                    try{\r\n                        mp.setDataSource(MainActivity.this,myUri);\r\n                        mp.prepare();\r\n                        mp.start();\r\n                        mp.setVolume(0.5f,0.5f);\r\n    \r\n                    }catch(Exception e){e.printStackTrace();\r\n                        Toast.makeText(getApplicationContext(), &quot;wrong address&quot;, Toast.LENGTH_SHORT).show();}\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        } ``\r\nwhen the program is executed gets the address of the song and displays it but when the play button is clicked it does not register as a valid path\r\nI know that the should be valid because it&#39;s displayed on the text view and matches up with the one I know exists on the phone\r\n\r\n**I have tried many things including:**\r\n\r\nconverting the URI to a string, \r\n\r\nconverting the URI into a string and adding&quot;file:///&quot;or&quot;file://&quot; to the beginning,\r\n\r\nattempting to set the media player in a separate thread,\r\n\r\nsearching and finding the address manually and inputting it into the code as a string,\r\n\r\n\r\n\r\nI think that the problem is somewhere in the &quot;getAllAudioFromDevice()&quot; method \r\n\r\nI am desperate please help!\r\n\r\n","title":"media store gets the path to a song but the media player is unable to play it(Android studio)","body":"<p>I am making an app in android studio that requires playing music from the phone's storage\nthe music is within this class:\npublic class AudioModel {</p>\n<pre><code>        String aPath;\n        String aName;\n        String aAlbum;\n        String aArtist;\n\n        public String getaPath() {\n            return aPath;\n        }\n        public void setaPath(String aPath) {\n            this.aPath = aPath;\n        }\n        public String getaName() {\n            return aName;\n        }\n        public void setaName(String aName) {\n            this.aName = aName;\n        }\n        public String getaAlbum() {\n            return aAlbum;\n        }\n        public void setaAlbum(String aAlbum) {\n            this.aAlbum = aAlbum;\n        }\n        public String getaArtist() {\n            return aArtist;\n        }\n        public void setaArtist(String aArtist) {\n            this.aArtist = aArtist;\n        }\n    }  ```\n</code></pre>\n<p>and I get it from this method:</p>\n<pre><code>public List&lt;AudioModel&gt; getAllAudioFromDevice(final Context context) {\n        final List&lt;AudioModel&gt; tempAudioList = new ArrayList&lt;&gt;();\n\n\n        Uri uri = android.provider.MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n        String[] projection = {MediaStore.Audio.AudioColumns.DATA, MediaStore.Audio.AudioColumns.TITLE, MediaStore.Audio.AudioColumns.ALBUM, MediaStore.Audio.ArtistColumns.ARTIST,};\n        Cursor c = context.getContentResolver().query(uri,\n                projection,\n                null,\n                null,\n                null);\n\n        if (c != null) {\n            while (c.moveToNext()) {\n                AudioModel audioModel = new AudioModel();\n                String path = c.getString(0);\n                String name = c.getString(1);\n                String album = c.getString(2);\n                String artist = c.getString(3);\n\n                audioModel.setaName(name);\n                audioModel.setaAlbum(album);\n                audioModel.setaArtist(artist);\n                audioModel.setaPath(path);\n\n                Log.e(&quot;Name :&quot; + name, &quot; Album :&quot; + album);\n                Log.e(&quot;Path :&quot; + path, &quot; Artist :&quot; + artist);\n\n                tempAudioList.add(audioModel);\n            }\n            c.close();\n        }\n\n        return tempAudioList;\n    } ```\n**//and that is used to get the path to the song like this**\n``` @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        TextView fileView = (TextView)findViewById(R.id.work);\n\n        play=(Button)findViewById(R.id.play);\n\n        Uri myUri = Uri.parse(getAllAudioFromDevice(this).get(2).aPath);\n\n        fileView.setText(getAllAudioFromDevice(this).get(2).aPath);\n\n        play.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                MediaPlayer mp=new MediaPlayer();\n\n                try{\n                    mp.setDataSource(MainActivity.this,myUri);\n                    mp.prepare();\n                    mp.start();\n                    mp.setVolume(0.5f,0.5f);\n\n                }catch(Exception e){e.printStackTrace();\n                    Toast.makeText(getApplicationContext(), &quot;wrong address&quot;, Toast.LENGTH_SHORT).show();}\n\n            }\n        });\n\n\n\n    } ``\n</code></pre>\n<p>when the program is executed gets the address of the song and displays it but when the play button is clicked it does not register as a valid path\nI know that the should be valid because it's displayed on the text view and matches up with the one I know exists on the phone</p>\n<p><strong>I have tried many things including:</strong></p>\n<p>converting the URI to a string,</p>\n<p>converting the URI into a string and adding&quot;file:///&quot;or&quot;file://&quot; to the beginning,</p>\n<p>attempting to set the media player in a separate thread,</p>\n<p>searching and finding the address manually and inputting it into the code as a string,</p>\n<p>I think that the problem is somewhere in the &quot;getAllAudioFromDevice()&quot; method</p>\n<p>I am desperate please help!</p>\n"},{"tags":["java","swagger","openapi-generator"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1642668390,"post_id":70782408,"comment_id":125133674,"body_markdown":"`pattern`, `minLength` and `maxLength` are string-specific keywords. They don&#39;t apply to numbers. Numbers only have [`minimum` and `maximum`](https://swagger.io/docs/specification/data-models/data-types/#range).","body":"<code>pattern</code>, <code>minLength</code> and <code>maxLength</code> are string-specific keywords. They don&#39;t apply to numbers. Numbers only have <a href=\"https://swagger.io/docs/specification/data-models/data-types/#range\" rel=\"nofollow noreferrer\"><code>minimum</code> and <code>maximum</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642669815,"creation_date":1642667779,"answer_id":70782976,"question_id":70782408,"body_markdown":"**The pattern keyword lets you define a regular expression template for\r\nthe string value**\r\n\r\nIt does not support Integer/Long\r\n\r\n\r\n----------\r\nhttps://swagger.io/docs/specification/data-models/data-types/#pattern\r\n\r\nThe documentation states:\r\n\r\n&gt; The pattern keyword lets you define a regular expression template for\r\n&gt; the string value. Only the values that match this template will be\r\n&gt; accepted. The regular expression syntax used is from JavaScript (more\r\n&gt; specifically, ECMA 262). Regular expressions are case-sensitive, that\r\n&gt; is, [a-z] and [A-Z] are different expressions. For example, the\r\n&gt; following pattern matches a Social Security Number (SSN) in the\r\n&gt; 123-45-6789 format:\r\n\r\n    ssn:\r\n      type: string\r\n      pattern: &#39;^\\d{3}-\\d{2}-\\d{4}$&#39;\r\n\r\n&gt; Note that the regular expression is enclosed in the ^…$ tokens, where\r\n&gt; ^ means the beginning of the string, and $ means the end of the\r\n&gt; string. Without ^…$, pattern works as a partial match, that is,\r\n&gt; matches any string that contains the specified regular expression. For\r\n&gt; example, pattern: pet matches pet, petstore and carpet. The ^…$ token\r\n&gt; forces an exact match.\r\n\r\n\r\nFor the datatype integer, it will look like:\r\n\r\n        type: integer\r\n        format: int64\r\n        minimum: -86400\r\n        maximum: 86400\r\n\r\n**To clarify minimum/maximum:**\r\n\r\nMinimum and Maximum\r\nUse the minimum and maximum keywords to specify the range of possible values:\r\n\r\n    type: integer\r\n    minimum: 1\r\n    maximum: 20\r\n\r\nBy default, the minimum and maximum values are included in the range, that is:\r\n\r\n    minimum ≤ value ≤ maximum\r\n\r\n&gt; To exclude the boundary values, specify exclusiveMinimum: true and\r\n&gt; exclusiveMaximum: true. For example, you can define a floating-point\r\n&gt; number range as 0–50 and exclude the 0 value:\r\n\r\n    type: number\r\n    minimum: 0\r\n    exclusiveMinimum: true\r\n    maximum: 50\r\n\r\n&gt; The word “exclusive” in exclusiveMinimum and exclusiveMaximum means\r\n&gt; the corresponding boundary is excluded: Keyword \tDescription\r\n&gt; exclusiveMinimum: false or not included \tvalue ≥ minimum\r\n&gt; exclusiveMinimum: true \tvalue &gt; minimum exclusiveMaximum: false or not\r\n&gt; included \tvalue ≤ maximum exclusiveMaximum: true \tvalue &lt; maximum\r\n\r\n","title":"pattern annotation doesn&#39;t generate on int64 swagger using open api generator","body":"<p><strong>The pattern keyword lets you define a regular expression template for\nthe string value</strong></p>\n<p>It does not support Integer/Long</p>\n<hr />\n<p><a href=\"https://swagger.io/docs/specification/data-models/data-types/#pattern\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/data-models/data-types/#pattern</a></p>\n<p>The documentation states:</p>\n<blockquote>\n<p>The pattern keyword lets you define a regular expression template for\nthe string value. Only the values that match this template will be\naccepted. The regular expression syntax used is from JavaScript (more\nspecifically, ECMA 262). Regular expressions are case-sensitive, that\nis, [a-z] and [A-Z] are different expressions. For example, the\nfollowing pattern matches a Social Security Number (SSN) in the\n123-45-6789 format:</p>\n</blockquote>\n<pre><code>ssn:\n  type: string\n  pattern: '^\\d{3}-\\d{2}-\\d{4}$'\n</code></pre>\n<blockquote>\n<p>Note that the regular expression is enclosed in the ^…$ tokens, where\n^ means the beginning of the string, and $ means the end of the\nstring. Without ^…$, pattern works as a partial match, that is,\nmatches any string that contains the specified regular expression. For\nexample, pattern: pet matches pet, petstore and carpet. The ^…$ token\nforces an exact match.</p>\n</blockquote>\n<p>For the datatype integer, it will look like:</p>\n<pre><code>    type: integer\n    format: int64\n    minimum: -86400\n    maximum: 86400\n</code></pre>\n<p><strong>To clarify minimum/maximum:</strong></p>\n<p>Minimum and Maximum\nUse the minimum and maximum keywords to specify the range of possible values:</p>\n<pre><code>type: integer\nminimum: 1\nmaximum: 20\n</code></pre>\n<p>By default, the minimum and maximum values are included in the range, that is:</p>\n<pre><code>minimum ≤ value ≤ maximum\n</code></pre>\n<blockquote>\n<p>To exclude the boundary values, specify exclusiveMinimum: true and\nexclusiveMaximum: true. For example, you can define a floating-point\nnumber range as 0–50 and exclude the 0 value:</p>\n</blockquote>\n<pre><code>type: number\nminimum: 0\nexclusiveMinimum: true\nmaximum: 50\n</code></pre>\n<blockquote>\n<p>The word “exclusive” in exclusiveMinimum and exclusiveMaximum means\nthe corresponding boundary is excluded: Keyword   Description\nexclusiveMinimum: false or not included   value ≥ minimum\nexclusiveMinimum: true    value &gt; minimum exclusiveMaximum: false or not\nincluded  value ≤ maximum exclusiveMaximum: true  value &lt; maximum</p>\n</blockquote>\n"}],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1926,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70782976,"answer_count":1,"score":1,"last_activity_date":1642669815,"creation_date":1642664797,"question_id":70782408,"body_markdown":"I&#39;m using swagger 2 and open api 5.3.1 generator to generate some classes. Currently, it does not seem to be generating a pattern annotation on Long(defined as int64 in swagger). How can I do this?\r\n\r\nswagger:\r\n\r\n    id:\r\n     type: integer\r\n     format: int64\r\n     pattern: &#39;^\\d{16,19}$&#39;\r\n     minLength: 16\r\n     maxLength: 19\r\n\r\ncode generated\r\n\r\n      @javax.annotation.Nonnull\r\n      @NotNull\r\n      @ApiModelProperty( required = true, )\r\n      @JsonProperty(JSON_PROPERTY_ID)\r\n      @JsonInclude(value = JsonInclude.Include.ALWAYS)\r\n    \r\n      public Long getId() {\r\n        return id;\r\n      }\r\n\r\n","title":"pattern annotation doesn&#39;t generate on int64 swagger using open api generator","body":"<p>I'm using swagger 2 and open api 5.3.1 generator to generate some classes. Currently, it does not seem to be generating a pattern annotation on Long(defined as int64 in swagger). How can I do this?</p>\n<p>swagger:</p>\n<pre><code>id:\n type: integer\n format: int64\n pattern: '^\\d{16,19}$'\n minLength: 16\n maxLength: 19\n</code></pre>\n<p>code generated</p>\n<pre><code>  @javax.annotation.Nonnull\n  @NotNull\n  @ApiModelProperty( required = true, )\n  @JsonProperty(JSON_PROPERTY_ID)\n  @JsonInclude(value = JsonInclude.Include.ALWAYS)\n\n  public Long getId() {\n    return id;\n  }\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642669720,"creation_date":1642669720,"answer_id":70783455,"question_id":70783072,"body_markdown":"By passing `this` you are actually passing the object of `MainActivity.java` which is implementing `GreenAdapter.ListItemClickListener` interface. Now when your user clicks on item you can let your activity know what item in the list was clicked by the user the rest of Business logic will then be written in the `onListItemClick()` method of `MainActivity`.","title":"Passing a listener to a recycler adapter","body":"<p>By passing <code>this</code> you are actually passing the object of <code>MainActivity.java</code> which is implementing <code>GreenAdapter.ListItemClickListener</code> interface. Now when your user clicks on item you can let your activity know what item in the list was clicked by the user the rest of Business logic will then be written in the <code>onListItemClick()</code> method of <code>MainActivity</code>.</p>\n"}],"owner":{"account_id":13802078,"reputation":9,"user_id":16803372,"display_name":"code_noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642669720,"creation_date":1642668158,"question_id":70783072,"body_markdown":"I already know how a recycler viewer works and a good understanding of interface listeners but I&#39;m wondering why is it that we need to pass a listener to my recycler adapter called `mAdapter = new GreenAdapter`. In my `MainActivity.java` I have something like this\r\n\r\n    public class MainActivity extends AppCompatActivity implements GreenAdapter.ListItemClickListener {\r\n\r\n    private static final int NUM_LIST_ITEMS = 100;\r\n\r\n    private GreenAdapter mAdapter;\r\n    private RecyclerView mNumbersList;\r\n    private Toast mToast;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mAdapter = new GreenAdapter(NUM_LIST_ITEMS, this);\r\n        mNumbersList.setAdapter(mAdapter);\r\n    }\r\n\r\n    @Override\r\n    public void onListItemClick(int clickedItemIndex) {\r\n        String toastMessage = &quot;Item #&quot; + clickedItemIndex + &quot;clicked.&quot;;\r\n        mToast = Toast.makeText(this, toastMessage, Toast.LENGTH_LONG);\r\n        mToast.show();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\nIn my `GreenAdapter.java` I understand that my Viewholder constructor will invoke my custom interface called `ListItemClickedListener` passing in the position of the clicked view and from there I can implement the code for what will happen when the user clicks it through my `onListItemClick` abstract method\r\n\r\n    public class GreenAdapter extends RecyclerView.Adapter&lt;GreenAdapter.NumberViewHolder&gt; {\r\n\r\n    private static final String TAG = GreenAdapter.class.getSimpleName();\r\n\r\n    private int mNumberItems;\r\n    final private ListItemClickListener mOnClickListener;\r\n\r\n    public interface ListItemClickListener{\r\n        void onListItemClick(int clickedItemIndex);\r\n\r\n    }\r\n\r\n\r\n    public GreenAdapter(int numberOfItems, ListItemClickListener listener) {\r\n        mNumberItems = numberOfItems;\r\n        mOnClickListener = listener;\r\n    }\r\n\r\n    \r\n    @Override\r\n    public NumberViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n\r\n        Context context = viewGroup.getContext();\r\n        int layoutIdForListItem = R.layout.number_list_item;\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        boolean shouldAttachToParentImmediately = false;\r\n        View view = inflater.inflate(layoutIdForListItem, viewGroup, shouldAttachToParentImmediately);\r\n        NumberViewHolder viewHolder = new NumberViewHolder(view);\r\n\r\n        return viewHolder;\r\n    }\r\n\r\n   \r\n    @Override\r\n    public void onBindViewHolder(NumberViewHolder holder, int position) {\r\n        Log.d(TAG, &quot;#&quot; + position);\r\n        holder.bind(position);\r\n    }\r\n\r\n   \r\n    @Override\r\n    public int getItemCount() {\r\n        return mNumberItems;\r\n    }\r\n\r\n\r\n    class NumberViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n\r\n       \r\n        TextView listItemNumberView;\r\n\r\n      \r\n        public NumberViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            listItemNumberView = (TextView) itemView.findViewById(R.id.tv_item_number);\r\n            itemView.setOnClickListener(this);\r\n        }\r\n\r\n        void bind(int listIndex) {\r\n            listItemNumberView.setText(String.valueOf(listIndex));\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            int clickedPosition = getAdapterPosition();\r\n            mOnClickListener.onListItemClick(clickedPosition);\r\n        }\r\n    }\r\n\r\n\r\n\r\nI&#39;m just confuse why we need to pass `this` in my recycler adapter\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \r\n\r\n\r\n\r\n\r\n       ","title":"Passing a listener to a recycler adapter","body":"<p>I already know how a recycler viewer works and a good understanding of interface listeners but I'm wondering why is it that we need to pass a listener to my recycler adapter called <code>mAdapter = new GreenAdapter</code>. In my <code>MainActivity.java</code> I have something like this</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements GreenAdapter.ListItemClickListener {\n\nprivate static final int NUM_LIST_ITEMS = 100;\n\nprivate GreenAdapter mAdapter;\nprivate RecyclerView mNumbersList;\nprivate Toast mToast;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mAdapter = new GreenAdapter(NUM_LIST_ITEMS, this);\n    mNumbersList.setAdapter(mAdapter);\n}\n\n@Override\npublic void onListItemClick(int clickedItemIndex) {\n    String toastMessage = &quot;Item #&quot; + clickedItemIndex + &quot;clicked.&quot;;\n    mToast = Toast.makeText(this, toastMessage, Toast.LENGTH_LONG);\n    mToast.show();\n\n}\n</code></pre>\n<p>In my <code>GreenAdapter.java</code> I understand that my Viewholder constructor will invoke my custom interface called <code>ListItemClickedListener</code> passing in the position of the clicked view and from there I can implement the code for what will happen when the user clicks it through my <code>onListItemClick</code> abstract method</p>\n<pre><code>public class GreenAdapter extends RecyclerView.Adapter&lt;GreenAdapter.NumberViewHolder&gt; {\n\nprivate static final String TAG = GreenAdapter.class.getSimpleName();\n\nprivate int mNumberItems;\nfinal private ListItemClickListener mOnClickListener;\n\npublic interface ListItemClickListener{\n    void onListItemClick(int clickedItemIndex);\n\n}\n\n\npublic GreenAdapter(int numberOfItems, ListItemClickListener listener) {\n    mNumberItems = numberOfItems;\n    mOnClickListener = listener;\n}\n\n\n@Override\npublic NumberViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n\n    Context context = viewGroup.getContext();\n    int layoutIdForListItem = R.layout.number_list_item;\n    LayoutInflater inflater = LayoutInflater.from(context);\n    boolean shouldAttachToParentImmediately = false;\n    View view = inflater.inflate(layoutIdForListItem, viewGroup, shouldAttachToParentImmediately);\n    NumberViewHolder viewHolder = new NumberViewHolder(view);\n\n    return viewHolder;\n}\n\n\n@Override\npublic void onBindViewHolder(NumberViewHolder holder, int position) {\n    Log.d(TAG, &quot;#&quot; + position);\n    holder.bind(position);\n}\n\n\n@Override\npublic int getItemCount() {\n    return mNumberItems;\n}\n\n\nclass NumberViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n   \n    TextView listItemNumberView;\n\n  \n    public NumberViewHolder(View itemView) {\n        super(itemView);\n\n        listItemNumberView = (TextView) itemView.findViewById(R.id.tv_item_number);\n        itemView.setOnClickListener(this);\n    }\n\n    void bind(int listIndex) {\n        listItemNumberView.setText(String.valueOf(listIndex));\n    }\n\n    @Override\n    public void onClick(View view) {\n        int clickedPosition = getAdapterPosition();\n        mOnClickListener.onListItemClick(clickedPosition);\n    }\n}\n</code></pre>\n<p>I'm just confuse why we need to pass <code>this</code> in my recycler adapter</p>\n"},{"tags":["java","android","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1642413132,"post_id":70738792,"comment_id":125055204,"body_markdown":"Can you share the PDF in question? Looks like an issue with transparency...","body":"Can you share the PDF in question? Looks like an issue with transparency..."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1642425972,"post_id":70738792,"comment_id":125060218,"body_markdown":"Oh, I realize this is PDFBox for Android. That one is somewhat behind the desktop project. It would still be interesting to get the PDF to check that it works on the desktop project.","body":"Oh, I realize this is PDFBox for Android. That one is somewhat behind the desktop project. It would still be interesting to get the PDF to check that it works on the desktop project."},{"owner":{"account_id":22498071,"reputation":1,"user_id":16694761,"display_name":"dawenwhen"},"score":0,"creation_date":1642669522,"post_id":70738792,"comment_id":125134087,"body_markdown":"@mkl  i don&#39;t know how to upload a file to stackoverflow, so i put the file in my git: https://github.com/yingbabywhen/yingbabywhen","body":"@mkl  i don&#39;t know how to upload a file to stackoverflow, so i put the file in my git: <a href=\"https://github.com/yingbabywhen/yingbabywhen\" rel=\"nofollow noreferrer\">github.com/yingbabywhen/yingbabywhen</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1642674856,"post_id":70738792,"comment_id":125136219,"body_markdown":"*&quot;i don&#39;t know how to upload a file to stackoverflow, so i put the file in my git&quot;* - stack overflow does not include a file attachment mechanism, one has to use external file sharing options like one&#39;s git repos, so that&#39;s ok.","body":"<i>&quot;i don&#39;t know how to upload a file to stackoverflow, so i put the file in my git&quot;</i> - stack overflow does not include a file attachment mechanism, one has to use external file sharing options like one&#39;s git repos, so that&#39;s ok."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1642675413,"post_id":70738792,"comment_id":125136428,"body_markdown":"One observation first: Your PDF is not completely valid, its cross reference section has gaps which is forbidden for single-revision PDFs. This usually does not immediately cause issues; if your PDFs eventually get digitally signed, though, and then incrementally updated, Adobe Acrobat will start complaining and claim changes invalidating the signature.","body":"One observation first: Your PDF is not completely valid, its cross reference section has gaps which is forbidden for single-revision PDFs. This usually does not immediately cause issues; if your PDFs eventually get digitally signed, though, and then incrementally updated, Adobe Acrobat will start complaining and claim changes invalidating the signature."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1642686631,"post_id":70738792,"comment_id":125140889,"body_markdown":"PDFBox for desktop displays it correctly.","body":"PDFBox for desktop displays it correctly."},{"owner":{"account_id":22498071,"reputation":1,"user_id":16694761,"display_name":"dawenwhen"},"score":0,"creation_date":1643278657,"post_id":70738792,"comment_id":125299125,"body_markdown":"@TilmanHausherr you are right, but i am using android-pdfbox ...(•_•)","body":"@TilmanHausherr you are right, but i am using android-pdfbox ...(•_•)"},{"owner":{"account_id":22498071,"reputation":1,"user_id":16694761,"display_name":"dawenwhen"},"score":0,"creation_date":1643278939,"post_id":70738792,"comment_id":125299228,"body_markdown":"@mkl THS, so it means that i  have no way to solve this problem by using PDFBOX？Unless I parse the PDF file structure myself？","body":"@mkl THS, so it means that i  have no way to solve this problem by using PDFBOX？Unless I parse the PDF file structure myself？"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1643286841,"post_id":70738792,"comment_id":125302284,"body_markdown":"I&#39;m afraid I&#39;m not really knowledgeable about the android-pdfbox version of PDFBox. What I mentioned as a side note most likely is not the cause of the issue here, merely a possible issue in a completely different use case.","body":"I&#39;m afraid I&#39;m not really knowledgeable about the android-pdfbox version of PDFBox. What I mentioned as a side note most likely is not the cause of the issue here, merely a possible issue in a completely different use case."}],"owner":{"account_id":22498071,"reputation":1,"user_id":16694761,"display_name":"dawenwhen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642669711,"creation_date":1642410160,"question_id":70738792,"body_markdown":"Using PDFBox change PDF file to Bitmap, but meet some highlight part, so i got a poor conversion...\r\n\r\nthis is the wrong file page preview:\r\n\r\n[![the wrong file page preview][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1jamq.png\r\n\r\nand my code :\r\n\r\n```lang-java\r\nPDDocument document = PDDocument.load(assetManager.open(&quot;XXX.pdf&quot;));\r\nPDFRenderer renderer = new PDFRenderer(document);\r\npageImage = renderer.renderImage(0, 1, ImageType.ARGB);\r\n\r\n// Save the render result to an image\r\nString path = root.getAbsolutePath() + &quot;/render.png&quot;;\r\nFile renderFile = new File(path);\r\nFileOutputStream fileOut = new FileOutputStream(renderFile);\r\npageImage.compress(Bitmap.CompressFormat.PNG, 100, fileOut);\r\nfileOut.close();\r\n```\r\n\r\nAnd then I got this result Image：\r\n\r\n[![got this result Image, a poor conversion][2]][2]\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/Pcqum.png\r\n\r\ncan anybody help me? thanks a lot!\r\n\r\nHere is the wrong file&#39;s link : &lt;https://github.com/yingbabywhen/yingbabywhen&gt;","title":"Using PDFBox change PDF file to Bitmap, but meet some highlight part, so i got a poor conversion","body":"<p>Using PDFBox change PDF file to Bitmap, but meet some highlight part, so i got a poor conversion...</p>\n<p>this is the wrong file page preview:</p>\n<p><a href=\"https://i.stack.imgur.com/1jamq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1jamq.png\" alt=\"the wrong file page preview\" /></a></p>\n<p>and my code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>PDDocument document = PDDocument.load(assetManager.open(&quot;XXX.pdf&quot;));\nPDFRenderer renderer = new PDFRenderer(document);\npageImage = renderer.renderImage(0, 1, ImageType.ARGB);\n\n// Save the render result to an image\nString path = root.getAbsolutePath() + &quot;/render.png&quot;;\nFile renderFile = new File(path);\nFileOutputStream fileOut = new FileOutputStream(renderFile);\npageImage.compress(Bitmap.CompressFormat.PNG, 100, fileOut);\nfileOut.close();\n</code></pre>\n<p>And then I got this result Image：</p>\n<p><a href=\"https://i.stack.imgur.com/Pcqum.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pcqum.png\" alt=\"got this result Image, a poor conversion\" /></a></p>\n<p>can anybody help me? thanks a lot!</p>\n<p>Here is the wrong file's link : <a href=\"https://github.com/yingbabywhen/yingbabywhen\" rel=\"nofollow noreferrer\">https://github.com/yingbabywhen/yingbabywhen</a></p>\n"},{"tags":["java","encryption","raspberry-pi"],"comments":[{"owner":{"account_id":23938771,"reputation":60,"user_id":17932189,"display_name":"Andre"},"score":1,"creation_date":1642667684,"post_id":70782911,"comment_id":125133420,"body_markdown":"Can you describe de current design of your authentication process? which algorithms are you using at the moment?","body":"Can you describe de current design of your authentication process? which algorithms are you using at the moment?"},{"owner":{"account_id":1670747,"reputation":1545,"user_id":1537246,"accept_rate":26,"display_name":"OlliP"},"score":0,"creation_date":1642668102,"post_id":70782911,"comment_id":125133562,"body_markdown":"We use class SecretKeyFactory from javax.crypto with PBE encryption (e.g. PBEKeySpec). The salt is created with SecureRandom.","body":"We use class SecretKeyFactory from javax.crypto with PBE encryption (e.g. PBEKeySpec). The salt is created with SecureRandom."},{"owner":{"account_id":23938771,"reputation":60,"user_id":17932189,"display_name":"Andre"},"score":0,"creation_date":1642668558,"post_id":70782911,"comment_id":125133736,"body_markdown":"Right, you are looking for an alternative to PBE encryption as you noticed, it is not that fast on IoT devices like a raspeberry pi. I was reading this https://crypto.stackexchange.com/questions/48671/how-much-faster-in-symmetric-cryptography-compared-to-asymmetric-cryptography , it might be interesting reading for you. Meanwhile I will investigate this!","body":"Right, you are looking for an alternative to PBE encryption as you noticed, it is not that fast on IoT devices like a raspeberry pi. I was reading this <a href=\"https://crypto.stackexchange.com/questions/48671/how-much-faster-in-symmetric-cryptography-compared-to-asymmetric-cryptography\" title=\"how much faster in symmetric cryptography compared to asymmetric cryptography\">crypto.stackexchange.com/questions/48671/&hellip;</a> , it might be interesting reading for you. Meanwhile I will investigate this!"},{"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"score":0,"creation_date":1642669109,"post_id":70782911,"comment_id":125133934,"body_markdown":"Maybe Java Cryptographic helps you. E.g. https://howtodoinjava.com/java/java-security/how-to-generate-secure-password-hash-md5-sha-pbkdf2-bcrypt-examples/","body":"Maybe Java Cryptographic helps you. E.g. <a href=\"https://howtodoinjava.com/java/java-security/how-to-generate-secure-password-hash-md5-sha-pbkdf2-bcrypt-examples/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java/java-security/&hellip;</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1642675764,"post_id":70782911,"comment_id":125136574,"body_markdown":"The preferred way of hashing passwords is currently Argon2. bcrypt or scrypt are also fine. Unfortunately Java is in this case also a negative factor. Native implementations are a lot faster for high iterations than every Java implementation. If your execution platform is always a Raspberry with Linux you may consider to us a library that implements the password hashing algo as native .so library.","body":"The preferred way of hashing passwords is currently Argon2. bcrypt or scrypt are also fine. Unfortunately Java is in this case also a negative factor. Native implementations are a lot faster for high iterations than every Java implementation. If your execution platform is always a Raspberry with Linux you may consider to us a library that implements the password hashing algo as native .so library."},{"owner":{"account_id":1670747,"reputation":1545,"user_id":1537246,"accept_rate":26,"display_name":"OlliP"},"score":0,"creation_date":1642677104,"post_id":70782911,"comment_id":125137085,"body_markdown":"In production it is always PI running Linux. So calling into some C programm to do the encryption efficiently as can be would be a good idea.","body":"In production it is always PI running Linux. So calling into some C programm to do the encryption efficiently as can be would be a good idea."},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1642677511,"post_id":70782911,"comment_id":125137265,"body_markdown":"@Robert `native implementations are a lot faster for high iterations than every Java implementation` this is off topic, anyway I&#39;d say that was true 10 years ago. When JIT catches up, it&#39;s almost native speed","body":"@Robert <code>native implementations are a lot faster for high iterations than every Java implementation</code> this is off topic, anyway I&#39;d say that was true 10 years ago. When JIT catches up, it&#39;s almost native speed"}],"answers":[{"tags":[],"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642669595,"creation_date":1642669595,"answer_id":70783420,"question_id":70782911,"body_markdown":"&gt; However, we have a problem that for storing the user&#39;s login password on disk generating a secret\r\n\r\nI hope you mean hashing (non-reversible mangle) the password\r\n\r\n\r\n&gt;  with something like 50.000 iterations to be reasonably safe &lt;br/&gt;\r\n&gt; 50.000 iterations have to be executed again which takes minutes on the Pi\r\n\r\nI&#39;m not sure where/how did you get to the 50k number, but in this case it&#39;s important to understand the context/reason. The iterations are intended, if the database is leaked, as a way to slow down options for dictionary or brute-force attacks to find passwords, which tends to be weak (short, simple, reused, known).\r\n\r\nEffectively you don&#39;t need any iteration if you could ensure the user passwords are secure (long, random)  enough.\r\n\r\nIndeed on the IoT devices this iteration is tricky, as you cannot compete with hashing farms and tolerable delay (100-300ms) on default servers comes to prohibiting times on low-end devices.\r\n\r\n&gt; My question is whether anyone has an idea how ... given a CPU with little processing power.\r\n\r\nI see two options \r\n\r\n - Make the number of iteration reasonable. Yes, it lowers the security margin for brute/dictionary attacks, but you can make up to the level using the strong user passwords\r\n - If the password is intended for authentication to a web application, you could delegate the authentication to a 3rd party service (Azure AD, AWS Cognito, IBM AppId, OAuth0, Okta, ... ), there are plenty of free or not-so-free services. ","title":"How to generate secret with sufficient iterations on device with little CPU power","body":"<blockquote>\n<p>However, we have a problem that for storing the user's login password on disk generating a secret</p>\n</blockquote>\n<p>I hope you mean hashing (non-reversible mangle) the password</p>\n<blockquote>\n<p>with something like 50.000 iterations to be reasonably safe <br/>\n50.000 iterations have to be executed again which takes minutes on the Pi</p>\n</blockquote>\n<p>I'm not sure where/how did you get to the 50k number, but in this case it's important to understand the context/reason. The iterations are intended, if the database is leaked, as a way to slow down options for dictionary or brute-force attacks to find passwords, which tends to be weak (short, simple, reused, known).</p>\n<p>Effectively you don't need any iteration if you could ensure the user passwords are secure (long, random)  enough.</p>\n<p>Indeed on the IoT devices this iteration is tricky, as you cannot compete with hashing farms and tolerable delay (100-300ms) on default servers comes to prohibiting times on low-end devices.</p>\n<blockquote>\n<p>My question is whether anyone has an idea how ... given a CPU with little processing power.</p>\n</blockquote>\n<p>I see two options</p>\n<ul>\n<li>Make the number of iteration reasonable. Yes, it lowers the security margin for brute/dictionary attacks, but you can make up to the level using the strong user passwords</li>\n<li>If the password is intended for authentication to a web application, you could delegate the authentication to a 3rd party service (Azure AD, AWS Cognito, IBM AppId, OAuth0, Okta, ... ), there are plenty of free or not-so-free services.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14151199,"reputation":81,"user_id":10223057,"display_name":"Roman01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642669665,"creation_date":1642669665,"answer_id":70783435,"question_id":70782911,"body_markdown":"Haveged will do the job in this case. Just let it run for a while and it will generate enough entropy.","title":"How to generate secret with sufficient iterations on device with little CPU power","body":"<p>Haveged will do the job in this case. Just let it run for a while and it will generate enough entropy.</p>\n"}],"owner":{"account_id":1670747,"reputation":1545,"user_id":1537246,"accept_rate":26,"display_name":"OlliP"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1642669665,"creation_date":1642667410,"question_id":70782911,"body_markdown":"Our application runs on a Raspberry Pi and is installed on many places on customer sites. The Pi is cheap and good enough for our purposes. However, we have a problenm that for storing the user&#39;s login password on disk generating a secret with something like 50.000 iterations to be reasonably safe takes way too much time on the slow Pi. When the user logs in the password has to be decrypted and those 50.000 iterations have to be executed again which takes minutes on the Pi. The web frontend gets a timeout and the user won&#39;t wait for minutes to log in anyway.\r\n\r\nMy question is whether anyone has an idea how to encrypt and decrypt passwords in a safe way on disk given a CPU with little processing power.","title":"How to generate secret with sufficient iterations on device with little CPU power","body":"<p>Our application runs on a Raspberry Pi and is installed on many places on customer sites. The Pi is cheap and good enough for our purposes. However, we have a problenm that for storing the user's login password on disk generating a secret with something like 50.000 iterations to be reasonably safe takes way too much time on the slow Pi. When the user logs in the password has to be decrypted and those 50.000 iterations have to be executed again which takes minutes on the Pi. The web frontend gets a timeout and the user won't wait for minutes to log in anyway.</p>\n<p>My question is whether anyone has an idea how to encrypt and decrypt passwords in a safe way on disk given a CPU with little processing power.</p>\n"},{"tags":["java","hibernate","inheritance","discriminator"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1642499840,"post_id":70753131,"comment_id":125080875,"body_markdown":"Maybe you can show your HQL query?","body":"Maybe you can show your HQL query?"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1642603794,"post_id":70753131,"comment_id":125115205,"body_markdown":"Why can&#39;t you just use `from Child1`?","body":"Why can&#39;t you just use <code>from Child1</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642669567,"creation_date":1642669567,"answer_id":70783412,"question_id":70753131,"body_markdown":"A projection seems to work:\r\n\r\n```sql\r\nSELECT new fully.qualified.name.of.Child1(p.id, p.name, p.child1Property)\r\n  FROM Parent p\r\n WHERE TYPE(p) = &#39;child1&#39;\r\n```\r\n\r\nproduces\r\n\r\n```sql\r\n    select\r\n        parent0_.id as col_0_0_,\r\n        parent0_.name as col_1_0_,\r\n        parent0_.child1_property as col_2_0_ \r\n    from\r\n        parent parent0_ \r\n    where\r\n        parent0_.type=&#39;child1&#39;\r\n```\r\n\r\nHibernate User Guide [excerpt](https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#hql-select-clause):\r\n\r\n&gt; There is a particular expression type that is only valid in the select clause. Hibernate calls this &quot;*dynamic instantiation*&quot;. JPQL supports some of that feature and calls it a &quot;*constructor expression*&quot;.\r\n&gt;\r\n&gt; So rather than dealing with the Object[] (again, see Hibernate Query API) here, we are wrapping the values in a type-safe Java object that will be returned as the results of the query.\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; **The projection class must be fully qualified in the entity query, and it must define a matching constructor.**\r\n&gt;\r\n&gt; The class here need not be mapped. It can be a DTO class.\r\n&gt;\r\n&gt; If it does represent an entity, the resulting instances are returned in the NEW state (not managed!).\r\n\r\nHowever, I&#39;d just `SELECT c FROM Child1 c`. I was actually surprised that Hibernate didn&#39;t complain about the attribute `child1Property` missing for the entity `Parent`.","title":"Limit the set of selected fields to those of the target subclass","body":"<p>A projection seems to work:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT new fully.qualified.name.of.Child1(p.id, p.name, p.child1Property)\n  FROM Parent p\n WHERE TYPE(p) = 'child1'\n</code></pre>\n<p>produces</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    select\n        parent0_.id as col_0_0_,\n        parent0_.name as col_1_0_,\n        parent0_.child1_property as col_2_0_ \n    from\n        parent parent0_ \n    where\n        parent0_.type='child1'\n</code></pre>\n<p>Hibernate User Guide <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#hql-select-clause\" rel=\"nofollow noreferrer\">excerpt</a>:</p>\n<blockquote>\n<p>There is a particular expression type that is only valid in the select clause. Hibernate calls this &quot;<em>dynamic instantiation</em>&quot;. JPQL supports some of that feature and calls it a &quot;<em>constructor expression</em>&quot;.</p>\n<p>So rather than dealing with the Object[] (again, see Hibernate Query API) here, we are wrapping the values in a type-safe Java object that will be returned as the results of the query.</p>\n<p>...</p>\n<p><strong>The projection class must be fully qualified in the entity query, and it must define a matching constructor.</strong></p>\n<p>The class here need not be mapped. It can be a DTO class.</p>\n<p>If it does represent an entity, the resulting instances are returned in the NEW state (not managed!).</p>\n</blockquote>\n<p>However, I'd just <code>SELECT c FROM Child1 c</code>. I was actually surprised that Hibernate didn't complain about the attribute <code>child1Property</code> missing for the entity <code>Parent</code>.</p>\n"}],"owner":{"account_id":1308063,"reputation":1336,"user_id":2806801,"accept_rate":71,"display_name":"Radu Dumbrăveanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70783412,"answer_count":1,"score":3,"last_activity_date":1642669567,"creation_date":1642497865,"question_id":70753131,"body_markdown":"I&#39;m using single table inheritance, one parent entity:\r\n```\r\n@Entity\r\n@Table(name = &quot;parent&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;type&quot;)\r\npublic class Parent {\r\n  // ...\r\n}\r\n```\r\nand two child entities:\r\n```\r\n@Entity\r\n@DiscriminatorValue(&quot;child1&quot;)\r\npublic class Child1 extends Parent {\r\n  @Column(name = &quot;child1_property&quot;)\r\n  private Integer child1Property;\r\n  // ...\r\n}\r\n```\r\n```\r\n@Entity\r\n@DiscriminatorValue(&quot;child2&quot;)\r\npublic class Child2 extends Parent {\r\n  @Column(name = &quot;child2_property&quot;)\r\n  private Integer child2Property;\r\n  // ...\r\n}\r\n```\r\n\r\nNow, if I query (HQL) directly from `Child1` entity:\r\n```\r\nfrom Child1\r\n```\r\nit will generate an SQL that selects only the columns from `Parent` entity plus `Child1` entity. If I select from `Parent` entity using a `where type=&#39;child1&#39;` \r\n```\r\nfrom Parent p where type(p)=&#39;child1&#39;\r\n```\r\nit will return only `Child1` entities but the SQL query selects all columns from `Parent`, `Child1` and `Child2`. Is there a possibility to query from `Parent` entity use the discriminator column (i.e. limit only to `Child1` entities) and get a specific SQL query, i.e. that will select only columns from `Parent` and `Child1`. ","title":"Limit the set of selected fields to those of the target subclass","body":"<p>I'm using single table inheritance, one parent entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;parent&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;type&quot;)\npublic class Parent {\n  // ...\n}\n</code></pre>\n<p>and two child entities:</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;child1&quot;)\npublic class Child1 extends Parent {\n  @Column(name = &quot;child1_property&quot;)\n  private Integer child1Property;\n  // ...\n}\n</code></pre>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;child2&quot;)\npublic class Child2 extends Parent {\n  @Column(name = &quot;child2_property&quot;)\n  private Integer child2Property;\n  // ...\n}\n</code></pre>\n<p>Now, if I query (HQL) directly from <code>Child1</code> entity:</p>\n<pre><code>from Child1\n</code></pre>\n<p>it will generate an SQL that selects only the columns from <code>Parent</code> entity plus <code>Child1</code> entity. If I select from <code>Parent</code> entity using a <code>where type='child1'</code></p>\n<pre><code>from Parent p where type(p)='child1'\n</code></pre>\n<p>it will return only <code>Child1</code> entities but the SQL query selects all columns from <code>Parent</code>, <code>Child1</code> and <code>Child2</code>. Is there a possibility to query from <code>Parent</code> entity use the discriminator column (i.e. limit only to <code>Child1</code> entities) and get a specific SQL query, i.e. that will select only columns from <code>Parent</code> and <code>Child1</code>.</p>\n"},{"tags":["java","generics","functional-interface"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":1,"creation_date":1642670378,"post_id":70783308,"comment_id":125134414,"body_markdown":"Your code seems a bit overcomplicated. Why exactly is `DoubleIt` a class when you could just write `Function&lt;Integer, Long&gt; doubleIt = i -&gt; i * 2L`?","body":"Your code seems a bit overcomplicated. Why exactly is <code>DoubleIt</code> a class when you could just write <code>Function&lt;Integer, Long&gt; doubleIt = i -&gt; i * 2L</code>?"},{"owner":{"account_id":9066455,"reputation":726,"user_id":6751083,"display_name":"Mohammad Reza Khahani"},"score":0,"creation_date":1642671184,"post_id":70783308,"comment_id":125134712,"body_markdown":"I want to override the `andThen` method and figure out how to work with it. However, your example is worth it if I have only the `apply` method. Thanks.","body":"I want to override the <code>andThen</code> method and figure out how to work with it. However, your example is worth it if I have only the <code>apply</code> method. Thanks."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1644596533,"post_id":70783308,"comment_id":125656442,"body_markdown":"Don’t create fake type parameters. Declare the correct type `class DoubleIt implements Function&lt;Integer, Long&gt; { @Override public Long apply(Integer t) { return t * 2L; } }` and you don’t need any `@SuppressWarnings(&quot;unchecked&quot;)`.","body":"Don’t create fake type parameters. Declare the correct type <code>class DoubleIt implements Function&lt;Integer, Long&gt; { @Override public Long apply(Integer t) { return t * 2L; } }</code> and you don’t need any <code>@SuppressWarnings(&quot;unchecked&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642669542,"creation_date":1642669542,"answer_id":70783407,"question_id":70783308,"body_markdown":"The first one passes a `DoubleIt` instance, the other one passes a method to construct a `DoubleIt` instance, the two have very different signatures. Why would you expect them to be interchangeable? \r\n\r\nThe first can consume an `Integer` and return a `Long`, the second one can consume nothing and return a `DoubleIt`. They do very different things and therefore you cannot use one in place of the other.","title":"java cast generic type without unchecked cast warning","body":"<p>The first one passes a <code>DoubleIt</code> instance, the other one passes a method to construct a <code>DoubleIt</code> instance, the two have very different signatures. Why would you expect them to be interchangeable?</p>\n<p>The first can consume an <code>Integer</code> and return a <code>Long</code>, the second one can consume nothing and return a <code>DoubleIt</code>. They do very different things and therefore you cannot use one in place of the other.</p>\n"}],"owner":{"account_id":9066455,"reputation":726,"user_id":6751083,"display_name":"Mohammad Reza Khahani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70783407,"answer_count":1,"score":-1,"last_activity_date":1642669542,"creation_date":1642669155,"question_id":70783308,"body_markdown":"I&#39;m trying to understand how to use the `Function&lt;T,R&gt;` interface, defined in java libraries. \r\nWhy passing an instance of `DoubleIt` to `map` works, but passing a constructor reference get the compiler error below, and is there any way to do that:\r\n\r\n[![compiler error][1]][1]\r\n\r\n\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class C {\r\n        public static void main(String[] args) {\r\n            final Stream&lt;Integer&gt; stream = Arrays.stream(new Integer[]{2, Integer.MAX_VALUE});\r\n    \r\n            DoubleIt&lt;Integer, Long&gt; doubleIt = new DoubleIt&lt;&gt;(); \r\n            stream.map(doubleIt)                     // OK      instance\r\n                    .forEach(System.out::println);\r\n    \r\n            stream.map(DoubleIt&lt;Integer, Long&gt;::new) // error   constructor reference\r\n                    .forEach(System.out::println);\r\n        }\r\n    }\r\n    \r\n    class DoubleIt&lt;T extends Integer, R extends Long&gt; implements Function&lt;T, R&gt; {\r\n    \r\n        @Override\r\n        public R apply(T t) {\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            final R r = (R) Long.valueOf(t.intValue() * 2L);\r\n            return r;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MQymo.png","title":"java cast generic type without unchecked cast warning","body":"<p>I'm trying to understand how to use the <code>Function&lt;T,R&gt;</code> interface, defined in java libraries.\nWhy passing an instance of <code>DoubleIt</code> to <code>map</code> works, but passing a constructor reference get the compiler error below, and is there any way to do that:</p>\n<p><a href=\"https://i.stack.imgur.com/MQymo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MQymo.png\" alt=\"compiler error\" /></a></p>\n<pre><code>import java.util.Arrays;\nimport java.util.function.Function;\nimport java.util.stream.Stream;\n\npublic class C {\n    public static void main(String[] args) {\n        final Stream&lt;Integer&gt; stream = Arrays.stream(new Integer[]{2, Integer.MAX_VALUE});\n\n        DoubleIt&lt;Integer, Long&gt; doubleIt = new DoubleIt&lt;&gt;(); \n        stream.map(doubleIt)                     // OK      instance\n                .forEach(System.out::println);\n\n        stream.map(DoubleIt&lt;Integer, Long&gt;::new) // error   constructor reference\n                .forEach(System.out::println);\n    }\n}\n\nclass DoubleIt&lt;T extends Integer, R extends Long&gt; implements Function&lt;T, R&gt; {\n\n    @Override\n    public R apply(T t) {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        final R r = (R) Long.valueOf(t.intValue() * 2L);\n        return r;\n    }\n}\n</code></pre>\n"},{"tags":["java","jsoup","basic-authentication"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1642669263,"creation_date":1317932947,"answer_id":7680083,"question_id":7679916,"body_markdown":"With [HTTP basic access authentication][1] you need to send the `Authorization` header along with a value of `&quot;Basic &quot; + base64encode(&quot;username:password&quot;)`.\r\n\r\nE.g.\r\n\r\n    String username = &quot;foo&quot;;\r\n    String password = &quot;bar&quot;;\r\n    String login = username + &quot;:&quot; + password;\r\n    String base64login = Base64.getEncoder().encodeToString(login.getBytes());\r\n\r\n    Document document = Jsoup\r\n        .connect(&quot;http://example.com&quot;)\r\n        .header(&quot;Authorization&quot;, &quot;Basic &quot; + base64login)\r\n        .get();\r\n\r\n    // ...\r\n\r\n*(explicit specification of character encoding in `getBytes()` is omitted for brevity as login name and pass is often plain `US-ASCII` anyway; besides, Base64 always generates `US-ASCII` bytes)*\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Basic_access_authentication\r\n  [2]: http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Base64.html","title":"Jsoup connection with basic access authentication","body":"<p>With <a href=\"http://en.wikipedia.org/wiki/Basic_access_authentication\" rel=\"nofollow noreferrer\">HTTP basic access authentication</a> you need to send the <code>Authorization</code> header along with a value of <code>&quot;Basic &quot; + base64encode(&quot;username:password&quot;)</code>.</p>\n<p>E.g.</p>\n<pre><code>String username = &quot;foo&quot;;\nString password = &quot;bar&quot;;\nString login = username + &quot;:&quot; + password;\nString base64login = Base64.getEncoder().encodeToString(login.getBytes());\n\nDocument document = Jsoup\n    .connect(&quot;http://example.com&quot;)\n    .header(&quot;Authorization&quot;, &quot;Basic &quot; + base64login)\n    .get();\n\n// ...\n</code></pre>\n<p><em>(explicit specification of character encoding in <code>getBytes()</code> is omitted for brevity as login name and pass is often plain <code>US-ASCII</code> anyway; besides, Base64 always generates <code>US-ASCII</code> bytes)</em></p>\n"},{"tags":[],"owner":{"account_id":1440771,"reputation":1195,"user_id":1361000,"accept_rate":50,"display_name":"Igor Brusamolin Lobo Santos"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1342442830,"creation_date":1337617878,"answer_id":10689004,"question_id":7679916,"body_markdown":"    //Log in\r\n    Response res = Jsoup\r\n        .connect(&quot;url&quot;)\r\n        .data(&quot;loginField&quot;, &quot;login&quot;)\r\n        .data(&quot;passwordField&quot;, &quot;password&quot;)\r\n        .method(Method.POST)\r\n        .execute();\r\n\r\n    Document doc = res.parse();\r\n\r\n\r\n    //Keep logged in\r\n    Map&lt;String, String&gt; cookies = res.cookies();\r\n    \r\n    Document doc2 = Jsoup\r\n        .connect(&quot;url&quot;)\r\n        .cookies(cookies)\r\n        .get();","title":"Jsoup connection with basic access authentication","body":"<pre><code>//Log in\nResponse res = Jsoup\n    .connect(\"url\")\n    .data(\"loginField\", \"login\")\n    .data(\"passwordField\", \"password\")\n    .method(Method.POST)\n    .execute();\n\nDocument doc = res.parse();\n\n\n//Keep logged in\nMap&lt;String, String&gt; cookies = res.cookies();\n\nDocument doc2 = Jsoup\n    .connect(\"url\")\n    .cookies(cookies)\n    .get();\n</code></pre>\n"}],"owner":{"account_id":957978,"reputation":233,"user_id":982940,"display_name":"user982940"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29193,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":7680083,"answer_count":2,"score":23,"last_activity_date":1642669263,"creation_date":1317931945,"question_id":7679916,"body_markdown":"Is there a way in Jsoup to load a document from a website with basic access authentication?","title":"Jsoup connection with basic access authentication","body":"<p>Is there a way in Jsoup to load a document from a website with basic access authentication?</p>\n"},{"tags":["java","scala","maven","sbt"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":4,"creation_date":1642669142,"post_id":70783245,"comment_id":125133946,"body_markdown":"If you have to comment out something there is in general a problem without a full example it&#39;s hard to say...","body":"If you have to comment out something there is in general a problem without a full example it&#39;s hard to say..."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":2,"creation_date":1642669154,"post_id":70783245,"comment_id":125133949,"body_markdown":"What do you mean by &quot;locally, I don&#39;t have it?&quot; I do not know the details but it looks like it would be better to adjust your local testing environment (by adding the required dependencies) than editing the POM.","body":"What do you mean by &quot;locally, I don&#39;t have it?&quot; I do not know the details but it looks like it would be better to adjust your local testing environment (by adding the required dependencies) than editing the POM."},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1642681989,"post_id":70783245,"comment_id":125138961,"body_markdown":"just install the missing dependencies locally","body":"just install the missing dependencies locally"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1642707603,"post_id":70783245,"comment_id":125150249,"body_markdown":"What do you mean by &quot;locally&quot;? If you run tests from your IDE or Maven for instance, provided dependencies will be available, no need to comment the scope.","body":"What do you mean by &quot;locally&quot;? If you run tests from your IDE or Maven for instance, provided dependencies will be available, no need to comment the scope."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1642707661,"post_id":70783245,"comment_id":125150276,"body_markdown":"Also you mention SBT, maven, which one is it?","body":"Also you mention SBT, maven, which one is it?"},{"owner":{"account_id":14790822,"reputation":1718,"user_id":10681828,"display_name":"pavel_orekhov"},"score":0,"creation_date":1642721597,"post_id":70783245,"comment_id":125154476,"body_markdown":"@Ga&#235;lJ it is both, both maven and sbt have provided dependencies. And provided dependencies are not available.","body":"@Ga&#235;lJ it is both, both maven and sbt have provided dependencies. And provided dependencies are not available."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642746583,"post_id":70783245,"comment_id":125158734,"body_markdown":"&quot;provided dependencies are not available&quot; *when*? What command are you running at that point?","body":"&quot;provided dependencies are not available&quot; <i>when</i>? What command are you running at that point?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642746643,"post_id":70783245,"comment_id":125158748,"body_markdown":"And when you say &quot;server&quot;, do you mean a servlet container like Tomcat, or a machine you are running on?","body":"And when you say &quot;server&quot;, do you mean a servlet container like Tomcat, or a machine you are running on?"},{"owner":{"account_id":14790822,"reputation":1718,"user_id":10681828,"display_name":"pavel_orekhov"},"score":0,"creation_date":1642762766,"post_id":70783245,"comment_id":125163913,"body_markdown":"@tgdavies machine that i run on, i develop spark applications. and they&#39;re not available when i run tests, for example","body":"@tgdavies machine that i run on, i develop spark applications. and they&#39;re not available when i run tests, for example"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642766543,"post_id":70783245,"comment_id":125165180,"body_markdown":"What command are you running at that point? You need to run your tests using maven, so that it can set up your classpath correctly.","body":"What command are you running at that point? You need to run your tests using maven, so that it can set up your classpath correctly."}],"owner":{"account_id":14790822,"reputation":1718,"user_id":10681828,"display_name":"pavel_orekhov"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642669242,"creation_date":1642668897,"question_id":70783245,"body_markdown":"I&#39;ve seen this problem many times that I work on a java/scala project and there&#39;s a provided dependency that is on the classpath of the server (so, there&#39;s no need to include it inside the uber jar), but locally I don&#39;t have it and I have to constantly comment out the `&lt;scope&gt;provided&lt;/scope&gt;` setting in pom.xml to make my project work properly.\r\n\r\nIs there a way to simplify this somehow, so that I don&#39;t have to constantly comment out the `&lt;scope&gt;provided&lt;/scope&gt;` thing?","title":"How to simplify working with provided dependencies?","body":"<p>I've seen this problem many times that I work on a java/scala project and there's a provided dependency that is on the classpath of the server (so, there's no need to include it inside the uber jar), but locally I don't have it and I have to constantly comment out the <code>&lt;scope&gt;provided&lt;/scope&gt;</code> setting in pom.xml to make my project work properly.</p>\n<p>Is there a way to simplify this somehow, so that I don't have to constantly comment out the <code>&lt;scope&gt;provided&lt;/scope&gt;</code> thing?</p>\n"},{"tags":["java","rest","pagination"],"comments":[{"owner":{"account_id":23673691,"reputation":308,"user_id":17700155,"display_name":"stersym"},"score":0,"creation_date":1642680301,"post_id":70783302,"comment_id":125138346,"body_markdown":"Check out Offset and Limit for pagination.","body":"Check out Offset and Limit for pagination."}],"owner":{"account_id":21590296,"reputation":388,"user_id":15920030,"display_name":"vanderwaal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642669127,"creation_date":1642669127,"question_id":70783302,"body_markdown":"I am trying to create a program in Java that makes ```http request``` to ```newsapi.org```, my task is to search for news by some criteria(country, keywords, category), which is something I am ok with.\r\nMy problem is that I have to use ```pagination```, I mean I have some restrictions like every page must contain no more than 10 news. \r\nMy idea is to create a first request, I specify that I want the first page. When I get it, it conatins information about the number of total results that match my search.\r\nAnd maybe later in a loop I should get all the other pages consindering I have the number of results.\r\nI am not sure if this is ok. Can someone give me advice how to deal with that.","title":"How to get all pages from REST API newsapi.org?","body":"<p>I am trying to create a program in Java that makes <code>http request</code> to <code>newsapi.org</code>, my task is to search for news by some criteria(country, keywords, category), which is something I am ok with.\nMy problem is that I have to use <code>pagination</code>, I mean I have some restrictions like every page must contain no more than 10 news.\nMy idea is to create a first request, I specify that I want the first page. When I get it, it conatins information about the number of total results that match my search.\nAnd maybe later in a loop I should get all the other pages consindering I have the number of results.\nI am not sure if this is ok. Can someone give me advice how to deal with that.</p>\n"},{"tags":["java","arrays","algorithm","sorting"],"comments":[{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":0,"creation_date":1642607898,"post_id":70773456,"comment_id":125117329,"body_markdown":"Some example input would be helpful.","body":"Some example input would be helpful."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1642609595,"post_id":70773456,"comment_id":125118096,"body_markdown":"... you&#39;re only asking for algorithm idea and not the whole code, are you?...","body":"... you&#39;re only asking for algorithm idea and not the whole code, are you?..."},{"owner":{"account_id":23537074,"reputation":21,"user_id":17581878,"display_name":"joelC913"},"score":0,"creation_date":1642610031,"post_id":70773456,"comment_id":125118305,"body_markdown":"@user202729 yes","body":"@user202729 yes"},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":1,"creation_date":1642610755,"post_id":70773456,"comment_id":125118633,"body_markdown":"Given that you already have two sorted sub-arrays then merge sort is the obvious way to go.  You just need to keep careful track of your indexes since the two sub-arrays are interleaved.","body":"Given that you already have two sorted sub-arrays then merge sort is the obvious way to go.  You just need to keep careful track of your indexes since the two sub-arrays are interleaved."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1642610776,"post_id":70773456,"comment_id":125118647,"body_markdown":"@rossum That uses more than O(1) extra memory.","body":"@rossum That uses more than O(1) extra memory."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1642611001,"post_id":70773456,"comment_id":125118755,"body_markdown":"Looks like [c++ - Is it possible to do an inplace merge without temporary storage? - Stack Overflow](https://stackoverflow.com/questions/4373307/is-it-possible-to-do-an-inplace-merge-without-temporary-storage?noredirect=1&amp;lq=1) . Although I&#39;m not sure what the complexity of the linked paper in the answer is.","body":"Looks like <a href=\"https://stackoverflow.com/questions/4373307/is-it-possible-to-do-an-inplace-merge-without-temporary-storage?noredirect=1&amp;lq=1\">c++ - Is it possible to do an inplace merge without temporary storage? - Stack Overflow</a> . Although I&#39;m not sure what the complexity of the linked paper in the answer is."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1642611213,"post_id":70773456,"comment_id":125118841,"body_markdown":"Does this answer your question? [Is it possible to do an inplace merge without temporary storage?](https://stackoverflow.com/questions/4373307/is-it-possible-to-do-an-inplace-merge-without-temporary-storage)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4373307/is-it-possible-to-do-an-inplace-merge-without-temporary-storage\">Is it possible to do an inplace merge without temporary storage?</a>"},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1642611230,"post_id":70773456,"comment_id":125118850,"body_markdown":"Okay, I checked out the paper, it&#39;s O(n)/O(1), definitely satisfied. Flag as duplicate.","body":"Okay, I checked out the paper, it&#39;s O(n)/O(1), definitely satisfied. Flag as duplicate."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1642611939,"post_id":70773456,"comment_id":125119209,"body_markdown":"Actually, I forgot that the order is a bit different; still, I think you should be able to use something from that. If you can shuffle them to the &quot;normal&quot; order (should be possible) then just use the algorithm.","body":"Actually, I forgot that the order is a bit different; still, I think you should be able to use something from that. If you can shuffle them to the &quot;normal&quot; order (should be possible) then just use the algorithm."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1642681539,"post_id":70773456,"comment_id":125138774,"body_markdown":"@user202729: `O(n)[time]/O(1)[space]` How do you arrive at/Where did you find O(1) space? I see O(√2) - o(n), but not O(1).","body":"@user202729: <code>O(n)[time]&#47;O(1)[space]</code> How do you arrive at/Where did you find O(1) space? I see O(√2) - o(n), but not O(1)."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1642685260,"post_id":70773456,"comment_id":125140228,"body_markdown":"@greybeard &quot;Wepresent a novel, yet straightfotward\n**linear-time algorithm** for merging two sorted lists in a **fixed\namount of additional space**. &quot;","body":"@greybeard &quot;Wepresent a novel, yet straightfotward <b>linear-time algorithm</b> for merging two sorted lists in a <b>fixed amount of additional space</b>. &quot;"}],"answers":[{"tags":[],"owner":{"account_id":23111180,"reputation":1,"user_id":17219109,"display_name":"Richard Schmidt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642668929,"creation_date":1642610371,"answer_id":70774422,"question_id":70773456,"body_markdown":"If you want to achieve this in O(n) time and O(1) space, you&#39;re searching for a mergesort, which only uses O(1) space. Just split in odd and even indexes to divide your values in half.\r\n\r\nYou can read read about why the common implementation of mergesort needs at least O(n) space in this question:\r\nhttps://stackoverflow.com/questions/10342890/merge-sort-time-and-space-complexity\r\n\r\nThank to user202729 for giving me a second look on that topic.\r\nWhile your given implementation can reach O(1) space, you dont have a time complexity of O(n log n) anymore, it is O(n&#178;)\r\n\r\nBut if you repacing the merge part with 2 pointers, climbing both the indexes of the arrays that need to be merged and do a swaping it should be possible to have O(n log n) again","title":"an even and odd placed sorted array","body":"<p>If you want to achieve this in O(n) time and O(1) space, you're searching for a mergesort, which only uses O(1) space. Just split in odd and even indexes to divide your values in half.</p>\n<p>You can read read about why the common implementation of mergesort needs at least O(n) space in this question:\n<a href=\"https://stackoverflow.com/questions/10342890/merge-sort-time-and-space-complexity\">Merge sort time and space complexity</a></p>\n<p>Thank to user202729 for giving me a second look on that topic.\nWhile your given implementation can reach O(1) space, you dont have a time complexity of O(n log n) anymore, it is O(n²)</p>\n<p>But if you repacing the merge part with 2 pointers, climbing both the indexes of the arrays that need to be merged and do a swaping it should be possible to have O(n log n) again</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642621828,"creation_date":1642621828,"answer_id":70776890,"question_id":70773456,"body_markdown":"I think that the best performance you can get is `O(1) - space` and `O(n log n) - time`. This is **in-place merge sort**.\r\n\r\n```java\r\npublic final class InPlaceMergeSort {\r\n\r\n    public static void sortAsc(int[] arr) {\r\n        sortAsc(arr, 0, arr.length - 1);\r\n    }\r\n\r\n    private static void sortAsc(int[] arr, int lo, int hi) {\r\n        if (hi &gt; lo) {\r\n            int mid = lo + (hi - lo) / 2;\r\n            sortAsc(arr, lo, mid);\r\n            sortAsc(arr, mid + 1, hi);\r\n            merge(arr, lo, mid, hi);\r\n        }\r\n    }\r\n\r\n    private static void merge(int[] arr, int lo, int mid, int hi) {\r\n        if (arr[mid] &gt; arr[mid + 1]) {\r\n            for (int i = lo, j = mid, k = mid + 1; i &lt;= j &amp;&amp; k &lt;= hi; i++) {\r\n                if (arr[i] &gt; arr[k]) {\r\n                    rotateRight(arr, i, k++);\r\n                    j++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void rotateRight(int[] arr, int lo, int hi) {\r\n        int tmp = arr[hi];\r\n\r\n        if (hi - lo &gt;= 0)\r\n            System.arraycopy(arr, lo, arr, lo + 1, hi - lo);\r\n\r\n        arr[lo] = tmp;\r\n    }\r\n\r\n}\r\n```","title":"an even and odd placed sorted array","body":"<p>I think that the best performance you can get is <code>O(1) - space</code> and <code>O(n log n) - time</code>. This is <strong>in-place merge sort</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class InPlaceMergeSort {\n\n    public static void sortAsc(int[] arr) {\n        sortAsc(arr, 0, arr.length - 1);\n    }\n\n    private static void sortAsc(int[] arr, int lo, int hi) {\n        if (hi &gt; lo) {\n            int mid = lo + (hi - lo) / 2;\n            sortAsc(arr, lo, mid);\n            sortAsc(arr, mid + 1, hi);\n            merge(arr, lo, mid, hi);\n        }\n    }\n\n    private static void merge(int[] arr, int lo, int mid, int hi) {\n        if (arr[mid] &gt; arr[mid + 1]) {\n            for (int i = lo, j = mid, k = mid + 1; i &lt;= j &amp;&amp; k &lt;= hi; i++) {\n                if (arr[i] &gt; arr[k]) {\n                    rotateRight(arr, i, k++);\n                    j++;\n                }\n            }\n        }\n    }\n\n    private static void rotateRight(int[] arr, int lo, int hi) {\n        int tmp = arr[hi];\n\n        if (hi - lo &gt;= 0)\n            System.arraycopy(arr, lo, arr, lo + 1, hi - lo);\n\n        arr[lo] = tmp;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23537074,"reputation":21,"user_id":17581878,"display_name":"joelC913"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642668929,"creation_date":1642606795,"question_id":70773456,"body_markdown":"We have an array that is even placed sorted and oddly placed sorted, meaning that the sub-array with even indexes is sorted and the sub-array with odd indexes is sorted.\r\n\r\nfor example - `{1,4,2,7,4,18,5,19,20}` the two sorted subarray are `{1,2,4,5,20}` and `{4,7,18,19}` - one group with the even indexes and the other with odd indexes.\r\n\r\nIs there a way to sort this uniquely sorted array with `O(1)` space complexity and `O(n)` time? (meaning to rearrange it to be normally sorted)","title":"an even and odd placed sorted array","body":"<p>We have an array that is even placed sorted and oddly placed sorted, meaning that the sub-array with even indexes is sorted and the sub-array with odd indexes is sorted.</p>\n<p>for example - <code>{1,4,2,7,4,18,5,19,20}</code> the two sorted subarray are <code>{1,2,4,5,20}</code> and <code>{4,7,18,19}</code> - one group with the even indexes and the other with odd indexes.</p>\n<p>Is there a way to sort this uniquely sorted array with <code>O(1)</code> space complexity and <code>O(n)</code> time? (meaning to rearrange it to be normally sorted)</p>\n"},{"tags":["java","android","xml","android-layout","calendar"],"answers":[{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642668573,"creation_date":1642668573,"answer_id":70783173,"question_id":70782574,"body_markdown":"In your **onCreateView()** try replacing **getSystemService()** with **getLayoutInflator()**","title":"Binary XML file line #18: Binary XML file line #18: Error inflating class com.qdocs.smartschool.utils.CustomCalendar","body":"<p>In your <strong>onCreateView()</strong> try replacing <strong>getSystemService()</strong> with <strong>getLayoutInflator()</strong></p>\n"}],"owner":{"account_id":9939143,"reputation":89,"user_id":7356369,"display_name":"vickey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642668573,"creation_date":1642665661,"question_id":70782574,"body_markdown":"I have a smart school app. I have built a custom calendar in this, but the app crashed while the app call fragment in which the custom calendar exists in XML. I am trying to do this using the XML file but I get the Error inflating class. Can anyone help me, please? Thanks in advance\r\n\r\nxml class is:\r\n\r\n\r\n     &lt;LinearLayout\r\n            android:id=&quot;@+id/attendance_mainLay&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/lightGrey&quot;&gt;\r\n    \r\n    \r\n            &lt;com.qdocs.smartschool.utils.CustomCalendar\r\n                xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                android:id=&quot;@+id/robotoCalendarPicker&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                 /&gt;\r\n            &lt;!--android:background=&quot;@android:color/transparent&quot;--&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\nand the logcat said:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.qdocs.smartschool, PID: 18617\r\n        android.view.InflateException: Binary XML file line #18: Binary XML file line #18: Error inflating class com.qdocs.smartschool.utils.CustomCalendar\r\n        Caused by: android.view.InflateException: Binary XML file line #18: Error inflating class com.qdocs.smartschool.utils.CustomCalendar\r\n        Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:658)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:801)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:741)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:874)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:835)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:877)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:835)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n            at com.qdocs.smartschool.fragments.DashboardCalender.onCreateView(DashboardCalender.java:72)\r\n\r\nCustom Calendar code:\r\n\r\n\r\n    public class CustomCalendar extends LinearLayout {\r\n    \r\n        private Context context;\r\n        private TextView dateTitle;\r\n        private ImageView leftButton;\r\n        private ImageView rightButton;\r\n        private View rootView;\r\n        public String startweek;\r\n        private ViewGroup robotoCalendarMonthLayout;\r\n        String dateText;\r\n        private RobotoCalendarListener robotoCalendarListener;\r\n        private Calendar currentCalendar;\r\n        private Calendar lastSelectedDayCalendar;\r\n        private static final String DAY_OF_THE_WEEK_TEXT = &quot;dayOfTheWeekText&quot;;\r\n        private static final String DAY_OF_THE_WEEK_LAYOUT = &quot;dayOfTheWeekLayout&quot;;\r\n        private static final String DAY_OF_THE_MONTH_LAYOUT = &quot;dayOfTheMonthLayout&quot;;\r\n        private static final String DAY_OF_THE_MONTH_TEXT = &quot;dayOfTheMonthText&quot;;\r\n        private static final String DAY_OF_THE_MONTH_BACKGROUND = &quot;dayOfTheMonthBackground&quot;;\r\n        private static final String DAY_OF_THE_MONTH_CIRCLE_IMAGE_1 = &quot;dayOfTheMonthCircleImage1&quot;;\r\n        private static final String DAY_OF_THE_MONTH_CIRCLE_IMAGE_2 = &quot;dayOfTheMonthCircleImage2&quot;;\r\n        private static final String DAY_OF_THE_MONTH_CIRCLE_IMAGE_3 = &quot;dayOfTheMonthCircleImage3&quot;;\r\n        private static final String DAY_OF_THE_MONTH_CIRCLE_IMAGE_4 = &quot;dayOfTheMonthCircleImage4&quot;;\r\n        private static final String DAY_OF_THE_MONTH_CIRCLE_IMAGE_5 = &quot;dayOfTheMonthCircleImage5&quot;;\r\n        private boolean shortWeekDays = false;\r\n        String[] weekDaysArray;\r\n    \r\n        // ************************************************************************************************************************************************************************\r\n        // * Initialization methods\r\n        // ************************************************************************************************************************************************************************\r\n    \r\n        public CustomCalendar(Context context) {\r\n            super(context);\r\n            this.context = context;\r\n            onCreateView();\r\n        }\r\n    \r\n        public CustomCalendar(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            this.context = context;\r\n            if (isInEditMode()) {\r\n                return;\r\n            }\r\n            onCreateView();\r\n        }\r\n    \r\n        private View onCreateView() {\r\n            LayoutInflater inflate = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            rootView = inflate.inflate(R.layout.roboto_calendar_picker_layout, this, true);\r\n            findViewsById(rootView);\r\n            setUpEventListeners();\r\n    \r\n            Calendar currentCalendar = Calendar.getInstance();\r\n            setCalendar(currentCalendar);\r\n    \r\n            return rootView;\r\n        }\r\n    \r\n        private void findViewsById(View view) {\r\n    \r\n            robotoCalendarMonthLayout = (ViewGroup) view.findViewById(R.id.robotoCalendarDateTitleContainer);\r\n            leftButton = (ImageView) view.findViewById(R.id.leftButton);\r\n            rightButton = (ImageView) view.findViewById(R.id.rightButton);\r\n            dateTitle = (TextView) view.findViewById(R.id.monthText);\r\n    \r\n            robotoCalendarMonthLayout.setBackgroundColor(Color.parseColor(Utility.getSharedPreferences(context.getApplicationContext(), Constants.secondaryColour)));\r\n    \r\n            for (int i = 0; i &lt; 42; i++) {\r\n    \r\n                LayoutInflater inflate = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                int weekIndex = (i % 7) + 1;\r\n                ViewGroup dayOfTheWeekLayout = (ViewGroup) view.findViewWithTag(DAY_OF_THE_WEEK_LAYOUT + weekIndex);\r\n    \r\n                // Create day of the month\r\n                View dayOfTheMonthLayout = inflate.inflate(R.layout.roboto_calendar_day_of_the_month_layout, null);\r\n                View dayOfTheMonthText = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_TEXT);\r\n                View dayOfTheMonthBackground = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_BACKGROUND);\r\n                View dayOfTheMonthCircleImage1 = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_1);\r\n                View dayOfTheMonthCircleImage2 = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_2);\r\n                View dayOfTheMonthCircleImage3 = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_3);\r\n                View dayOfTheMonthCircleImage4 = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_4);\r\n                View dayOfTheMonthCircleImage5 = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_5);\r\n    \r\n                // Set tags to identify them\r\n                int viewIndex = i + 1;\r\n                dayOfTheMonthLayout.setTag(DAY_OF_THE_MONTH_LAYOUT + viewIndex);\r\n                dayOfTheMonthText.setTag(DAY_OF_THE_MONTH_TEXT + viewIndex);\r\n                dayOfTheMonthBackground.setTag(DAY_OF_THE_MONTH_BACKGROUND + viewIndex);\r\n                dayOfTheMonthCircleImage1.setTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_1 + viewIndex);\r\n                dayOfTheMonthCircleImage2.setTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_2 + viewIndex);\r\n                dayOfTheMonthCircleImage3.setTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_3 + viewIndex);\r\n                dayOfTheMonthCircleImage4.setTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_4 + viewIndex);\r\n                dayOfTheMonthCircleImage5.setTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_5 + viewIndex);\r\n                dayOfTheWeekLayout.addView(dayOfTheMonthLayout);\r\n    //            Log.e(&quot;circle iv tag&quot;, dayOfTheMonthCircleImage1.getTag().toString()+&quot;..&quot;);\r\n    \r\n            }\r\n        }\r\n    \r\n        private void setUpEventListeners() {\r\n    \r\n            leftButton.setOnClickListener(new OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (robotoCalendarListener == null) {\r\n                        throw new IllegalStateException(&quot;You must assign a valid RobotoCalendarListener first!&quot;);\r\n                    }\r\n    \r\n                    // Decrease month\r\n                    currentCalendar.add(Calendar.MONTH, -1);\r\n                    Log.e(&quot;currentMonthvv&quot;,currentCalendar.toString());\r\n                    lastSelectedDayCalendar = null;\r\n                    updateView();\r\n                    robotoCalendarListener.onLeftButtonClick();\r\n                }\r\n            });\r\n    \r\n            rightButton.setOnClickListener(new OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (robotoCalendarListener == null) {\r\n                        throw new IllegalStateException(&quot;You must assign a valid RobotoCalendarListener first!&quot;);\r\n                    }\r\n    \r\n                    // Increase month\r\n                    currentCalendar.add(Calendar.MONTH, 1);\r\n                    lastSelectedDayCalendar = null;\r\n                    updateView();\r\n                    robotoCalendarListener.onRightButtonClick();\r\n                }\r\n            });\r\n        }\r\n    \r\n        // ************************************************************************************************************************************************************************\r\n        // * Auxiliary UI methods\r\n        // ************************************************************************************************************************************************************************\r\n    \r\n        private void setUpMonthLayout() {\r\n            dateText = new DateFormatSymbols(Locale.getDefault()).getMonths()[currentCalendar.get(Calendar.MONTH)];\r\n            dateText = dateText.substring(0, 1).toUpperCase() + dateText.subSequence(1, dateText.length());\r\n            Calendar calendar = Calendar.getInstance();\r\n            if (currentCalendar.get(Calendar.YEAR) == calendar.get(Calendar.YEAR)) {\r\n                dateTitle.setText(dateText);\r\n            } else {\r\n                dateTitle.setText(String.format(&quot;%s %s&quot;, dateText, currentCalendar.get(Calendar.YEAR)));\r\n            }\r\n        }\r\n    \r\n        private void setUpWeekDaysLayout() {\r\n            TextView dayOfWeek;\r\n            String dayOfTheWeekString;\r\n            startweek = Utility.getSharedPreferences(context.getApplicationContext(), &quot;startWeek&quot;);\r\n            if(startweek.equals(&quot;Sunday&quot;)){\r\n                weekDaysArray = new DateFormatSymbols(Locale.getDefault()).getWeekdays();\r\n            }else if(startweek.equals(&quot;Monday&quot;)){\r\n                weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.monday), context.getApplicationContext().getString(R.string.tuesday), context.getApplicationContext().getString(R.string.wednesday), context.getApplicationContext().getString(R.string.thursday), context.getApplicationContext().getString(R.string.friday), context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday) };\r\n            }else if(startweek.equals(&quot;Tuesday&quot;)){\r\n                weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.tuesday), context.getApplicationContext().getString(R.string.wednesday), context.getApplicationContext().getString(R.string.thursday), context.getApplicationContext().getString(R.string.friday), context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday), context.getApplicationContext().getString(R.string.monday) };\r\n            }else if(startweek.equals(&quot;Wednesday&quot;)){\r\n                weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.wednesday), context.getApplicationContext().getString(R.string.thursday), context.getApplicationContext().getString(R.string.friday), context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday), context.getApplicationContext().getString(R.string.monday), context.getApplicationContext().getString(R.string.tuesday) };\r\n            }else if(startweek.equals(&quot;Thursday&quot;)){\r\n                weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.thursday), context.getApplicationContext().getString(R.string.friday), context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday), context.getApplicationContext().getString(R.string.monday), context.getApplicationContext().getString(R.string.tuesday), context.getApplicationContext().getString(R.string.wednesday) };\r\n            }else if(startweek.equals(&quot;Friday&quot;)){\r\n                weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.friday), context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday), context.getApplicationContext().getString(R.string.monday), context.getApplicationContext().getString(R.string.tuesday), context.getApplicationContext().getString(R.string.wednesday), context.getApplicationContext().getString(R.string.thursday) };\r\n            }else if(startweek.equals(&quot;Saturday&quot;)){\r\n                weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday), context.getApplicationContext().getString(R.string.monday), context.getApplicationContext().getString(R.string.tuesday), context.getApplicationContext().getString(R.string.wednesday), context.getApplicationContext().getString(R.string.thursday), context.getApplicationContext().getString(R.string.friday) };\r\n            }else if(startweek.equals(&quot;&quot;)){\r\n                weekDaysArray = new DateFormatSymbols(Locale.getDefault()).getWeekdays();\r\n            }\r\n    \r\n            for (int i = 1; i &lt; weekDaysArray.length; i++) {\r\n    \r\n                    dayOfWeek = (TextView) rootView.findViewWithTag(DAY_OF_THE_WEEK_TEXT + getWeekIndex(i, currentCalendar));\r\n                    dayOfTheWeekString = weekDaysArray[i];\r\n                System.out.println(&quot;weekDaysArray[&quot;+i+&quot;]&quot;+dayOfTheWeekString);\r\n                    if (shortWeekDays) {\r\n                        dayOfTheWeekString = checkSpecificLocales(dayOfTheWeekString, i);\r\n    \r\n                    } else {\r\n                       dayOfTheWeekString = dayOfTheWeekString.substring(0, 1).toUpperCase() + dayOfTheWeekString.substring(1, 3);\r\n                        System.out.println(&quot;dayOfTheWeekString==&quot; + dayOfTheWeekString);\r\n                    }\r\n                   dayOfWeek.setText(dayOfTheWeekString);\r\n    \r\n            }\r\n        }\r\n    \r\n        private void setUpDaysOfMonthLayout() {\r\n    \r\n            TextView dayOfTheMonthText;\r\n            View circleImage1;\r\n            View circleImage2;\r\n            View circleImage3;\r\n            View circleImage4;\r\n            View circleImage5;\r\n            ViewGroup dayOfTheMonthContainer;\r\n            ViewGroup dayOfTheMonthBackground;\r\n    \r\n            for (int i = 1; i &lt; 43; i++) {\r\n    \r\n                dayOfTheMonthContainer = (ViewGroup) rootView.findViewWithTag(DAY_OF_THE_MONTH_LAYOUT + i);\r\n                dayOfTheMonthBackground = (ViewGroup) rootView.findViewWithTag(DAY_OF_THE_MONTH_BACKGROUND + i);\r\n                dayOfTheMonthText = (TextView) rootView.findViewWithTag(DAY_OF_THE_MONTH_TEXT + i);\r\n                circleImage1 = rootView.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_1 + i);\r\n                circleImage2 = rootView.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_2 + i);\r\n                circleImage3 = rootView.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_3 + i);\r\n                circleImage4 = rootView.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_4 + i);\r\n                circleImage5 = rootView.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_5 + i);\r\n    \r\n                dayOfTheMonthText.setVisibility(View.INVISIBLE);\r\n                circleImage1.setVisibility(View.GONE);\r\n                circleImage2.setVisibility(View.GONE);\r\n                circleImage3.setVisibility(View.GONE);\r\n                circleImage4.setVisibility(View.GONE);\r\n                circleImage5.setVisibility(View.GONE);\r\n    \r\n                // Apply styles\r\n                dayOfTheMonthText.setBackgroundResource(android.R.color.transparent);\r\n                dayOfTheMonthText.setTypeface(null, Typeface.NORMAL);\r\n                dayOfTheMonthText.setTextColor(ContextCompat.getColor(context, R.color.roboto_calendar_day_of_the_month_font));\r\n                dayOfTheMonthContainer.setBackgroundResource(android.R.color.transparent);\r\n                dayOfTheMonthContainer.setOnClickListener(null);\r\n                dayOfTheMonthBackground.setBackgroundResource(android.R.color.transparent);\r\n            }\r\n        }\r\n    \r\n        private void setUpDaysInCalendar() {\r\n    \r\n            Calendar auxCalendar = Calendar.getInstance(Locale.getDefault());\r\n            auxCalendar.setTime(currentCalendar.getTime());\r\n            auxCalendar.set(Calendar.DAY_OF_MONTH, 1);\r\n           // int firstDayOfMonth = auxCalendar.get(Calendar.DAY_OF_WEEK);\r\n    \r\n            int firstDayOfMonth = auxCalendar.get(Calendar.DAY_OF_WEEK);\r\n    \r\n            if(startweek.equals(&quot;Sunday&quot;)){\r\n                firstDayOfMonth=firstDayOfMonth;\r\n            }else if(startweek.equals(&quot;Monday&quot;)){\r\n                if(firstDayOfMonth==1){\r\n                    firstDayOfMonth=firstDayOfMonth+6;\r\n                }else{\r\n                    firstDayOfMonth=firstDayOfMonth-1;\r\n                }\r\n            }else if(startweek.equals(&quot;Tuesday&quot;)){\r\n                if(firstDayOfMonth==1){\r\n                    firstDayOfMonth=firstDayOfMonth+5;\r\n                }else if(firstDayOfMonth==2){\r\n                    firstDayOfMonth=firstDayOfMonth+5;\r\n                }else{\r\n                    firstDayOfMonth=firstDayOfMonth-2;\r\n                }\r\n            }else if(startweek.equals(&quot;Wednesday&quot;)){\r\n                if(firstDayOfMonth==1){\r\n                    firstDayOfMonth=firstDayOfMonth+4;\r\n                }else if(firstDayOfMonth==2){\r\n                    firstDayOfMonth=firstDayOfMonth+4;\r\n                }else if(firstDayOfMonth==3){\r\n                    firstDayOfMonth=firstDayOfMonth+4;\r\n                }else{\r\n                    firstDayOfMonth=firstDayOfMonth-3;\r\n                }\r\n            }else if(startweek.equals(&quot;Thursday&quot;)){\r\n                firstDayOfMonth=firstDayOfMonth+3;\r\n            }else if(startweek.equals(&quot;Friday&quot;)){\r\n                firstDayOfMonth=firstDayOfMonth+2;\r\n            }else if(startweek.equals(&quot;Saturday&quot;)){\r\n                firstDayOfMonth=firstDayOfMonth+1;\r\n            }\r\n    \r\n            TextView dayOfTheMonthText;\r\n            ViewGroup dayOfTheMonthContainer;\r\n            ViewGroup dayOfTheMonthLayout;\r\n    \r\n            // Calculate dayOfTheMonthIndex\r\n            int dayOfTheMonthIndex = getWeekIndex(firstDayOfMonth, auxCalendar);\r\n    \r\n            for (int i = 1; i &lt;= auxCalendar.getActualMaximum(Calendar.DAY_OF_MONTH); i++, dayOfTheMonthIndex++) {\r\n                dayOfTheMonthContainer = (ViewGroup) rootView.findViewWithTag(DAY_OF_THE_MONTH_LAYOUT + dayOfTheMonthIndex);\r\n                dayOfTheMonthText = (TextView) rootView.findViewWithTag(DAY_OF_THE_MONTH_TEXT + dayOfTheMonthIndex);\r\n                if (dayOfTheMonthText == null) {\r\n                    break;\r\n                }\r\n                dayOfTheMonthContainer.setOnClickListener(onDayOfMonthClickListener);\r\n                dayOfTheMonthContainer.setOnLongClickListener(onDayOfMonthLongClickListener);\r\n                dayOfTheMonthText.setVisibility(View.VISIBLE);\r\n                dayOfTheMonthText.setText(String.valueOf(i));\r\n    \r\n            }\r\n    \r\n            for (int i = 36; i &lt; 43; i++) {\r\n                dayOfTheMonthText = (TextView) rootView.findViewWithTag(DAY_OF_THE_MONTH_TEXT + i);\r\n                dayOfTheMonthLayout = (ViewGroup) rootView.findViewWithTag(DAY_OF_THE_MONTH_LAYOUT + i);\r\n                if (dayOfTheMonthText.getVisibility() == INVISIBLE) {\r\n                    dayOfTheMonthLayout.setVisibility(GONE);\r\n                } else {\r\n                    dayOfTheMonthLayout.setVisibility(VISIBLE);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void markDayAsCurrentDay() {\r\n            // If it&#39;s the current month, mark current day\r\n            Calendar nowCalendar = Calendar.getInstance();\r\n            if (nowCalendar.get(Calendar.YEAR) == currentCalendar.get(Calendar.YEAR) &amp;&amp; nowCalendar.get(Calendar.MONTH) == currentCalendar.get(Calendar.MONTH)) {\r\n                Calendar currentCalendar = Calendar.getInstance();\r\n    \r\n                currentCalendar.setTime(nowCalendar.getTime());\r\n    \r\n                ViewGroup dayOfTheMonthBackground = getDayOfMonthBackground(currentCalendar);\r\n    \r\n               dayOfTheMonthBackground.setBackgroundResource(R.drawable.ring);\r\n            }\r\n        }\r\n    \r\n        private void markDayAsSelectedDay(Calendar calendar) {\r\n    \r\n            // Clear previous current day mark\r\n            clearSelectedDay(lastSelectedDayCalendar);\r\n    \r\n            // Store current values as last values\r\n            lastSelectedDayCalendar = calendar;\r\n    \r\n            // Mark current day as selected\r\n            ViewGroup dayOfTheMonthBackground = getDayOfMonthBackground(calendar);\r\n            dayOfTheMonthBackground.setBackgroundResource(R.drawable.circle_blue);\r\n    \r\n            TextView dayOfTheMonth = getDayOfMonthText(calendar);\r\n            dayOfTheMonth.setTextColor(ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\r\n    \r\n            ImageView circleImage1 = getCircleImage1(calendar);\r\n            ImageView circleImage2 = getCircleImage2(calendar);\r\n            ImageView circleImage3 = getCircleImage3(calendar);\r\n            ImageView circleImage4 = getCircleImage3(calendar);\r\n            ImageView circleImage5 = getCircleImage3(calendar);\r\n    \r\n    \r\n            if (circleImage1.getVisibility() == VISIBLE) {\r\n                DrawableCompat.setTint(circleImage1.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\r\n            }\r\n    \r\n            if (circleImage2.getVisibility() == VISIBLE) {\r\n                DrawableCompat.setTint(circleImage2.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\r\n            }\r\n    \r\n            if (circleImage3.getVisibility() == VISIBLE) {\r\n                DrawableCompat.setTint(circleImage3.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\r\n            }\r\n    \r\n            if (circleImage4.getVisibility() == VISIBLE) {\r\n                DrawableCompat.setTint(circleImage4.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\r\n            }\r\n    \r\n            if (circleImage5.getVisibility() == VISIBLE) {\r\n                DrawableCompat.setTint(circleImage5.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\r\n            }\r\n        }\r\n    \r\n        private void clearSelectedDay(Calendar calendar) {\r\n            if (calendar != null) {\r\n    \r\n                ViewGroup dayOfTheMonthBackground = getDayOfMonthBackground(calendar);\r\n                // If it&#39;s today, keep the current day style\r\n                Calendar nowCalendar = Calendar.getInstance();\r\n                if (nowCalendar.get(Calendar.YEAR) == lastSelectedDayCalendar.get(Calendar.YEAR) &amp;&amp; nowCalendar.get(Calendar.DAY_OF_YEAR) == lastSelectedDayCalendar.get(Calendar.DAY_OF_YEAR)) {\r\n                    dayOfTheMonthBackground.setBackgroundResource(R.drawable.ring);\r\n                } else {\r\n                    dayOfTheMonthBackground.setBackgroundResource(android.R.color.transparent);\r\n                }\r\n    \r\n                TextView dayOfTheMonth = getDayOfMonthText(calendar);\r\n                dayOfTheMonth.setTextColor(ContextCompat.getColor(context, R.color.roboto_calendar_day_of_the_month_font));\r\n    \r\n                ImageView circleImage1 = getCircleImage1(calendar);\r\n                ImageView circleImage2 = getCircleImage2(calendar);\r\n                ImageView circleImage3 = getCircleImage3(calendar);\r\n                ImageView circleImage4 = getCircleImage3(calendar);\r\n                ImageView circleImage5 = getCircleImage3(calendar);\r\n    \r\n                if (circleImage1.getVisibility() == VISIBLE) {\r\n                    DrawableCompat.setTint(circleImage1.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_1));\r\n                }\r\n    \r\n                if (circleImage2.getVisibility() == VISIBLE) {\r\n                    DrawableCompat.setTint(circleImage2.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_2));\r\n                }\r\n    \r\n                if (circleImage3.getVisibility() == VISIBLE) {\r\n                    DrawableCompat.setTint(circleImage3.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_3));\r\n                }\r\n    \r\n                if (circleImage4.getVisibility() == VISIBLE) {\r\n                    DrawableCompat.setTint(circleImage4.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_4));\r\n                }\r\n    \r\n                if (circleImage5.getVisibility() == VISIBLE) {\r\n                    DrawableCompat.setTint(circleImage5.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_5));\r\n                }\r\n            }\r\n        }\r\n    \r\n        private String checkSpecificLocales(String dayOfTheWeekString, int i) {\r\n            // Set Wednesday as &quot;X&quot; in Spanish Locale.getDefault()\r\n            if (i == 4 &amp;&amp; Locale.getDefault().getCountry().equals(&quot;ES&quot;)) {\r\n                dayOfTheWeekString = &quot;X&quot;;\r\n            } else {\r\n                dayOfTheWeekString = dayOfTheWeekString.substring(0, 1).toUpperCase();\r\n            }\r\n            return dayOfTheWeekString;\r\n        }\r\n    \r\n        // ************************************************************************************************************************************************************************\r\n        // * Public calendar methods\r\n        // ************************************************************************************************************************************************************************\r\n    \r\n        /**\r\n         * Set an specific calendar to the view\r\n         *\r\n         * @param calendar\r\n         */\r\n        public void setCalendar(Calendar calendar) {\r\n            this.currentCalendar = calendar;\r\n            updateView();\r\n        }\r\n        /**\r\n         * Update the calendar view\r\n         */\r\n        public void updateView() {\r\n            setUpMonthLayout();\r\n            setUpWeekDaysLayout();\r\n            setUpDaysOfMonthLayout();\r\n            setUpDaysInCalendar();\r\n            markDayAsCurrentDay();\r\n        }\r\n    \r\n        public void setShortWeekDays(boolean shortWeekDays) {\r\n            this.shortWeekDays = shortWeekDays;\r\n        }\r\n        /**\r\n         * Clear the view of marks and selections\r\n         */\r\n        public void clearCalendar() {\r\n            updateView();\r\n        }\r\n    \r\n        public void markCircleImage1(Calendar calendar) {\r\n            ImageView circleImage1 = getCircleImage1(calendar);\r\n            circleImage1.setVisibility(View.VISIBLE);\r\n            DrawableCompat.setTint(circleImage1.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_1));\r\n            ViewGroup dayOfTheMonthBackground = getDayOfMonthBackground(calendar);\r\n    //        dayOfTheMonthBackground.setBackgroundResource(R.drawable.circle_blue);\r\n        }\r\n    \r\n      \r\n      \r\n    }\r\n\r\n\r\n","title":"Binary XML file line #18: Binary XML file line #18: Error inflating class com.qdocs.smartschool.utils.CustomCalendar","body":"<p>I have a smart school app. I have built a custom calendar in this, but the app crashed while the app call fragment in which the custom calendar exists in XML. I am trying to do this using the XML file but I get the Error inflating class. Can anyone help me, please? Thanks in advance</p>\n<p>xml class is:</p>\n<pre><code> &lt;LinearLayout\n        android:id=&quot;@+id/attendance_mainLay&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@color/lightGrey&quot;&gt;\n\n\n        &lt;com.qdocs.smartschool.utils.CustomCalendar\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n            android:id=&quot;@+id/robotoCalendarPicker&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n             /&gt;\n        &lt;!--android:background=&quot;@android:color/transparent&quot;--&gt;\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>and the logcat said:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.qdocs.smartschool, PID: 18617\n    android.view.InflateException: Binary XML file line #18: Binary XML file line #18: Error inflating class com.qdocs.smartschool.utils.CustomCalendar\n    Caused by: android.view.InflateException: Binary XML file line #18: Error inflating class com.qdocs.smartschool.utils.CustomCalendar\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:658)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:801)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:741)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:874)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:835)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:877)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:835)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at com.qdocs.smartschool.fragments.DashboardCalender.onCreateView(DashboardCalender.java:72)\n</code></pre>\n<p>Custom Calendar code:</p>\n<pre><code>public class CustomCalendar extends LinearLayout {\n\n    private Context context;\n    private TextView dateTitle;\n    private ImageView leftButton;\n    private ImageView rightButton;\n    private View rootView;\n    public String startweek;\n    private ViewGroup robotoCalendarMonthLayout;\n    String dateText;\n    private RobotoCalendarListener robotoCalendarListener;\n    private Calendar currentCalendar;\n    private Calendar lastSelectedDayCalendar;\n    private static final String DAY_OF_THE_WEEK_TEXT = &quot;dayOfTheWeekText&quot;;\n    private static final String DAY_OF_THE_WEEK_LAYOUT = &quot;dayOfTheWeekLayout&quot;;\n    private static final String DAY_OF_THE_MONTH_LAYOUT = &quot;dayOfTheMonthLayout&quot;;\n    private static final String DAY_OF_THE_MONTH_TEXT = &quot;dayOfTheMonthText&quot;;\n    private static final String DAY_OF_THE_MONTH_BACKGROUND = &quot;dayOfTheMonthBackground&quot;;\n    private static final String DAY_OF_THE_MONTH_CIRCLE_IMAGE_1 = &quot;dayOfTheMonthCircleImage1&quot;;\n    private static final String DAY_OF_THE_MONTH_CIRCLE_IMAGE_2 = &quot;dayOfTheMonthCircleImage2&quot;;\n    private static final String DAY_OF_THE_MONTH_CIRCLE_IMAGE_3 = &quot;dayOfTheMonthCircleImage3&quot;;\n    private static final String DAY_OF_THE_MONTH_CIRCLE_IMAGE_4 = &quot;dayOfTheMonthCircleImage4&quot;;\n    private static final String DAY_OF_THE_MONTH_CIRCLE_IMAGE_5 = &quot;dayOfTheMonthCircleImage5&quot;;\n    private boolean shortWeekDays = false;\n    String[] weekDaysArray;\n\n    // ************************************************************************************************************************************************************************\n    // * Initialization methods\n    // ************************************************************************************************************************************************************************\n\n    public CustomCalendar(Context context) {\n        super(context);\n        this.context = context;\n        onCreateView();\n    }\n\n    public CustomCalendar(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        this.context = context;\n        if (isInEditMode()) {\n            return;\n        }\n        onCreateView();\n    }\n\n    private View onCreateView() {\n        LayoutInflater inflate = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        rootView = inflate.inflate(R.layout.roboto_calendar_picker_layout, this, true);\n        findViewsById(rootView);\n        setUpEventListeners();\n\n        Calendar currentCalendar = Calendar.getInstance();\n        setCalendar(currentCalendar);\n\n        return rootView;\n    }\n\n    private void findViewsById(View view) {\n\n        robotoCalendarMonthLayout = (ViewGroup) view.findViewById(R.id.robotoCalendarDateTitleContainer);\n        leftButton = (ImageView) view.findViewById(R.id.leftButton);\n        rightButton = (ImageView) view.findViewById(R.id.rightButton);\n        dateTitle = (TextView) view.findViewById(R.id.monthText);\n\n        robotoCalendarMonthLayout.setBackgroundColor(Color.parseColor(Utility.getSharedPreferences(context.getApplicationContext(), Constants.secondaryColour)));\n\n        for (int i = 0; i &lt; 42; i++) {\n\n            LayoutInflater inflate = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            int weekIndex = (i % 7) + 1;\n            ViewGroup dayOfTheWeekLayout = (ViewGroup) view.findViewWithTag(DAY_OF_THE_WEEK_LAYOUT + weekIndex);\n\n            // Create day of the month\n            View dayOfTheMonthLayout = inflate.inflate(R.layout.roboto_calendar_day_of_the_month_layout, null);\n            View dayOfTheMonthText = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_TEXT);\n            View dayOfTheMonthBackground = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_BACKGROUND);\n            View dayOfTheMonthCircleImage1 = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_1);\n            View dayOfTheMonthCircleImage2 = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_2);\n            View dayOfTheMonthCircleImage3 = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_3);\n            View dayOfTheMonthCircleImage4 = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_4);\n            View dayOfTheMonthCircleImage5 = dayOfTheMonthLayout.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_5);\n\n            // Set tags to identify them\n            int viewIndex = i + 1;\n            dayOfTheMonthLayout.setTag(DAY_OF_THE_MONTH_LAYOUT + viewIndex);\n            dayOfTheMonthText.setTag(DAY_OF_THE_MONTH_TEXT + viewIndex);\n            dayOfTheMonthBackground.setTag(DAY_OF_THE_MONTH_BACKGROUND + viewIndex);\n            dayOfTheMonthCircleImage1.setTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_1 + viewIndex);\n            dayOfTheMonthCircleImage2.setTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_2 + viewIndex);\n            dayOfTheMonthCircleImage3.setTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_3 + viewIndex);\n            dayOfTheMonthCircleImage4.setTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_4 + viewIndex);\n            dayOfTheMonthCircleImage5.setTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_5 + viewIndex);\n            dayOfTheWeekLayout.addView(dayOfTheMonthLayout);\n//            Log.e(&quot;circle iv tag&quot;, dayOfTheMonthCircleImage1.getTag().toString()+&quot;..&quot;);\n\n        }\n    }\n\n    private void setUpEventListeners() {\n\n        leftButton.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (robotoCalendarListener == null) {\n                    throw new IllegalStateException(&quot;You must assign a valid RobotoCalendarListener first!&quot;);\n                }\n\n                // Decrease month\n                currentCalendar.add(Calendar.MONTH, -1);\n                Log.e(&quot;currentMonthvv&quot;,currentCalendar.toString());\n                lastSelectedDayCalendar = null;\n                updateView();\n                robotoCalendarListener.onLeftButtonClick();\n            }\n        });\n\n        rightButton.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (robotoCalendarListener == null) {\n                    throw new IllegalStateException(&quot;You must assign a valid RobotoCalendarListener first!&quot;);\n                }\n\n                // Increase month\n                currentCalendar.add(Calendar.MONTH, 1);\n                lastSelectedDayCalendar = null;\n                updateView();\n                robotoCalendarListener.onRightButtonClick();\n            }\n        });\n    }\n\n    // ************************************************************************************************************************************************************************\n    // * Auxiliary UI methods\n    // ************************************************************************************************************************************************************************\n\n    private void setUpMonthLayout() {\n        dateText = new DateFormatSymbols(Locale.getDefault()).getMonths()[currentCalendar.get(Calendar.MONTH)];\n        dateText = dateText.substring(0, 1).toUpperCase() + dateText.subSequence(1, dateText.length());\n        Calendar calendar = Calendar.getInstance();\n        if (currentCalendar.get(Calendar.YEAR) == calendar.get(Calendar.YEAR)) {\n            dateTitle.setText(dateText);\n        } else {\n            dateTitle.setText(String.format(&quot;%s %s&quot;, dateText, currentCalendar.get(Calendar.YEAR)));\n        }\n    }\n\n    private void setUpWeekDaysLayout() {\n        TextView dayOfWeek;\n        String dayOfTheWeekString;\n        startweek = Utility.getSharedPreferences(context.getApplicationContext(), &quot;startWeek&quot;);\n        if(startweek.equals(&quot;Sunday&quot;)){\n            weekDaysArray = new DateFormatSymbols(Locale.getDefault()).getWeekdays();\n        }else if(startweek.equals(&quot;Monday&quot;)){\n            weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.monday), context.getApplicationContext().getString(R.string.tuesday), context.getApplicationContext().getString(R.string.wednesday), context.getApplicationContext().getString(R.string.thursday), context.getApplicationContext().getString(R.string.friday), context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday) };\n        }else if(startweek.equals(&quot;Tuesday&quot;)){\n            weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.tuesday), context.getApplicationContext().getString(R.string.wednesday), context.getApplicationContext().getString(R.string.thursday), context.getApplicationContext().getString(R.string.friday), context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday), context.getApplicationContext().getString(R.string.monday) };\n        }else if(startweek.equals(&quot;Wednesday&quot;)){\n            weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.wednesday), context.getApplicationContext().getString(R.string.thursday), context.getApplicationContext().getString(R.string.friday), context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday), context.getApplicationContext().getString(R.string.monday), context.getApplicationContext().getString(R.string.tuesday) };\n        }else if(startweek.equals(&quot;Thursday&quot;)){\n            weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.thursday), context.getApplicationContext().getString(R.string.friday), context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday), context.getApplicationContext().getString(R.string.monday), context.getApplicationContext().getString(R.string.tuesday), context.getApplicationContext().getString(R.string.wednesday) };\n        }else if(startweek.equals(&quot;Friday&quot;)){\n            weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.friday), context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday), context.getApplicationContext().getString(R.string.monday), context.getApplicationContext().getString(R.string.tuesday), context.getApplicationContext().getString(R.string.wednesday), context.getApplicationContext().getString(R.string.thursday) };\n        }else if(startweek.equals(&quot;Saturday&quot;)){\n            weekDaysArray = new String[] {&quot;&quot;, context.getApplicationContext().getString(R.string.saturday), context.getApplicationContext().getString(R.string.sunday), context.getApplicationContext().getString(R.string.monday), context.getApplicationContext().getString(R.string.tuesday), context.getApplicationContext().getString(R.string.wednesday), context.getApplicationContext().getString(R.string.thursday), context.getApplicationContext().getString(R.string.friday) };\n        }else if(startweek.equals(&quot;&quot;)){\n            weekDaysArray = new DateFormatSymbols(Locale.getDefault()).getWeekdays();\n        }\n\n        for (int i = 1; i &lt; weekDaysArray.length; i++) {\n\n                dayOfWeek = (TextView) rootView.findViewWithTag(DAY_OF_THE_WEEK_TEXT + getWeekIndex(i, currentCalendar));\n                dayOfTheWeekString = weekDaysArray[i];\n            System.out.println(&quot;weekDaysArray[&quot;+i+&quot;]&quot;+dayOfTheWeekString);\n                if (shortWeekDays) {\n                    dayOfTheWeekString = checkSpecificLocales(dayOfTheWeekString, i);\n\n                } else {\n                   dayOfTheWeekString = dayOfTheWeekString.substring(0, 1).toUpperCase() + dayOfTheWeekString.substring(1, 3);\n                    System.out.println(&quot;dayOfTheWeekString==&quot; + dayOfTheWeekString);\n                }\n               dayOfWeek.setText(dayOfTheWeekString);\n\n        }\n    }\n\n    private void setUpDaysOfMonthLayout() {\n\n        TextView dayOfTheMonthText;\n        View circleImage1;\n        View circleImage2;\n        View circleImage3;\n        View circleImage4;\n        View circleImage5;\n        ViewGroup dayOfTheMonthContainer;\n        ViewGroup dayOfTheMonthBackground;\n\n        for (int i = 1; i &lt; 43; i++) {\n\n            dayOfTheMonthContainer = (ViewGroup) rootView.findViewWithTag(DAY_OF_THE_MONTH_LAYOUT + i);\n            dayOfTheMonthBackground = (ViewGroup) rootView.findViewWithTag(DAY_OF_THE_MONTH_BACKGROUND + i);\n            dayOfTheMonthText = (TextView) rootView.findViewWithTag(DAY_OF_THE_MONTH_TEXT + i);\n            circleImage1 = rootView.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_1 + i);\n            circleImage2 = rootView.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_2 + i);\n            circleImage3 = rootView.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_3 + i);\n            circleImage4 = rootView.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_4 + i);\n            circleImage5 = rootView.findViewWithTag(DAY_OF_THE_MONTH_CIRCLE_IMAGE_5 + i);\n\n            dayOfTheMonthText.setVisibility(View.INVISIBLE);\n            circleImage1.setVisibility(View.GONE);\n            circleImage2.setVisibility(View.GONE);\n            circleImage3.setVisibility(View.GONE);\n            circleImage4.setVisibility(View.GONE);\n            circleImage5.setVisibility(View.GONE);\n\n            // Apply styles\n            dayOfTheMonthText.setBackgroundResource(android.R.color.transparent);\n            dayOfTheMonthText.setTypeface(null, Typeface.NORMAL);\n            dayOfTheMonthText.setTextColor(ContextCompat.getColor(context, R.color.roboto_calendar_day_of_the_month_font));\n            dayOfTheMonthContainer.setBackgroundResource(android.R.color.transparent);\n            dayOfTheMonthContainer.setOnClickListener(null);\n            dayOfTheMonthBackground.setBackgroundResource(android.R.color.transparent);\n        }\n    }\n\n    private void setUpDaysInCalendar() {\n\n        Calendar auxCalendar = Calendar.getInstance(Locale.getDefault());\n        auxCalendar.setTime(currentCalendar.getTime());\n        auxCalendar.set(Calendar.DAY_OF_MONTH, 1);\n       // int firstDayOfMonth = auxCalendar.get(Calendar.DAY_OF_WEEK);\n\n        int firstDayOfMonth = auxCalendar.get(Calendar.DAY_OF_WEEK);\n\n        if(startweek.equals(&quot;Sunday&quot;)){\n            firstDayOfMonth=firstDayOfMonth;\n        }else if(startweek.equals(&quot;Monday&quot;)){\n            if(firstDayOfMonth==1){\n                firstDayOfMonth=firstDayOfMonth+6;\n            }else{\n                firstDayOfMonth=firstDayOfMonth-1;\n            }\n        }else if(startweek.equals(&quot;Tuesday&quot;)){\n            if(firstDayOfMonth==1){\n                firstDayOfMonth=firstDayOfMonth+5;\n            }else if(firstDayOfMonth==2){\n                firstDayOfMonth=firstDayOfMonth+5;\n            }else{\n                firstDayOfMonth=firstDayOfMonth-2;\n            }\n        }else if(startweek.equals(&quot;Wednesday&quot;)){\n            if(firstDayOfMonth==1){\n                firstDayOfMonth=firstDayOfMonth+4;\n            }else if(firstDayOfMonth==2){\n                firstDayOfMonth=firstDayOfMonth+4;\n            }else if(firstDayOfMonth==3){\n                firstDayOfMonth=firstDayOfMonth+4;\n            }else{\n                firstDayOfMonth=firstDayOfMonth-3;\n            }\n        }else if(startweek.equals(&quot;Thursday&quot;)){\n            firstDayOfMonth=firstDayOfMonth+3;\n        }else if(startweek.equals(&quot;Friday&quot;)){\n            firstDayOfMonth=firstDayOfMonth+2;\n        }else if(startweek.equals(&quot;Saturday&quot;)){\n            firstDayOfMonth=firstDayOfMonth+1;\n        }\n\n        TextView dayOfTheMonthText;\n        ViewGroup dayOfTheMonthContainer;\n        ViewGroup dayOfTheMonthLayout;\n\n        // Calculate dayOfTheMonthIndex\n        int dayOfTheMonthIndex = getWeekIndex(firstDayOfMonth, auxCalendar);\n\n        for (int i = 1; i &lt;= auxCalendar.getActualMaximum(Calendar.DAY_OF_MONTH); i++, dayOfTheMonthIndex++) {\n            dayOfTheMonthContainer = (ViewGroup) rootView.findViewWithTag(DAY_OF_THE_MONTH_LAYOUT + dayOfTheMonthIndex);\n            dayOfTheMonthText = (TextView) rootView.findViewWithTag(DAY_OF_THE_MONTH_TEXT + dayOfTheMonthIndex);\n            if (dayOfTheMonthText == null) {\n                break;\n            }\n            dayOfTheMonthContainer.setOnClickListener(onDayOfMonthClickListener);\n            dayOfTheMonthContainer.setOnLongClickListener(onDayOfMonthLongClickListener);\n            dayOfTheMonthText.setVisibility(View.VISIBLE);\n            dayOfTheMonthText.setText(String.valueOf(i));\n\n        }\n\n        for (int i = 36; i &lt; 43; i++) {\n            dayOfTheMonthText = (TextView) rootView.findViewWithTag(DAY_OF_THE_MONTH_TEXT + i);\n            dayOfTheMonthLayout = (ViewGroup) rootView.findViewWithTag(DAY_OF_THE_MONTH_LAYOUT + i);\n            if (dayOfTheMonthText.getVisibility() == INVISIBLE) {\n                dayOfTheMonthLayout.setVisibility(GONE);\n            } else {\n                dayOfTheMonthLayout.setVisibility(VISIBLE);\n            }\n        }\n    }\n\n    private void markDayAsCurrentDay() {\n        // If it's the current month, mark current day\n        Calendar nowCalendar = Calendar.getInstance();\n        if (nowCalendar.get(Calendar.YEAR) == currentCalendar.get(Calendar.YEAR) &amp;&amp; nowCalendar.get(Calendar.MONTH) == currentCalendar.get(Calendar.MONTH)) {\n            Calendar currentCalendar = Calendar.getInstance();\n\n            currentCalendar.setTime(nowCalendar.getTime());\n\n            ViewGroup dayOfTheMonthBackground = getDayOfMonthBackground(currentCalendar);\n\n           dayOfTheMonthBackground.setBackgroundResource(R.drawable.ring);\n        }\n    }\n\n    private void markDayAsSelectedDay(Calendar calendar) {\n\n        // Clear previous current day mark\n        clearSelectedDay(lastSelectedDayCalendar);\n\n        // Store current values as last values\n        lastSelectedDayCalendar = calendar;\n\n        // Mark current day as selected\n        ViewGroup dayOfTheMonthBackground = getDayOfMonthBackground(calendar);\n        dayOfTheMonthBackground.setBackgroundResource(R.drawable.circle_blue);\n\n        TextView dayOfTheMonth = getDayOfMonthText(calendar);\n        dayOfTheMonth.setTextColor(ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\n\n        ImageView circleImage1 = getCircleImage1(calendar);\n        ImageView circleImage2 = getCircleImage2(calendar);\n        ImageView circleImage3 = getCircleImage3(calendar);\n        ImageView circleImage4 = getCircleImage3(calendar);\n        ImageView circleImage5 = getCircleImage3(calendar);\n\n\n        if (circleImage1.getVisibility() == VISIBLE) {\n            DrawableCompat.setTint(circleImage1.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\n        }\n\n        if (circleImage2.getVisibility() == VISIBLE) {\n            DrawableCompat.setTint(circleImage2.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\n        }\n\n        if (circleImage3.getVisibility() == VISIBLE) {\n            DrawableCompat.setTint(circleImage3.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\n        }\n\n        if (circleImage4.getVisibility() == VISIBLE) {\n            DrawableCompat.setTint(circleImage4.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\n        }\n\n        if (circleImage5.getVisibility() == VISIBLE) {\n            DrawableCompat.setTint(circleImage5.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_selected_day_font));\n        }\n    }\n\n    private void clearSelectedDay(Calendar calendar) {\n        if (calendar != null) {\n\n            ViewGroup dayOfTheMonthBackground = getDayOfMonthBackground(calendar);\n            // If it's today, keep the current day style\n            Calendar nowCalendar = Calendar.getInstance();\n            if (nowCalendar.get(Calendar.YEAR) == lastSelectedDayCalendar.get(Calendar.YEAR) &amp;&amp; nowCalendar.get(Calendar.DAY_OF_YEAR) == lastSelectedDayCalendar.get(Calendar.DAY_OF_YEAR)) {\n                dayOfTheMonthBackground.setBackgroundResource(R.drawable.ring);\n            } else {\n                dayOfTheMonthBackground.setBackgroundResource(android.R.color.transparent);\n            }\n\n            TextView dayOfTheMonth = getDayOfMonthText(calendar);\n            dayOfTheMonth.setTextColor(ContextCompat.getColor(context, R.color.roboto_calendar_day_of_the_month_font));\n\n            ImageView circleImage1 = getCircleImage1(calendar);\n            ImageView circleImage2 = getCircleImage2(calendar);\n            ImageView circleImage3 = getCircleImage3(calendar);\n            ImageView circleImage4 = getCircleImage3(calendar);\n            ImageView circleImage5 = getCircleImage3(calendar);\n\n            if (circleImage1.getVisibility() == VISIBLE) {\n                DrawableCompat.setTint(circleImage1.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_1));\n            }\n\n            if (circleImage2.getVisibility() == VISIBLE) {\n                DrawableCompat.setTint(circleImage2.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_2));\n            }\n\n            if (circleImage3.getVisibility() == VISIBLE) {\n                DrawableCompat.setTint(circleImage3.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_3));\n            }\n\n            if (circleImage4.getVisibility() == VISIBLE) {\n                DrawableCompat.setTint(circleImage4.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_4));\n            }\n\n            if (circleImage5.getVisibility() == VISIBLE) {\n                DrawableCompat.setTint(circleImage5.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_5));\n            }\n        }\n    }\n\n    private String checkSpecificLocales(String dayOfTheWeekString, int i) {\n        // Set Wednesday as &quot;X&quot; in Spanish Locale.getDefault()\n        if (i == 4 &amp;&amp; Locale.getDefault().getCountry().equals(&quot;ES&quot;)) {\n            dayOfTheWeekString = &quot;X&quot;;\n        } else {\n            dayOfTheWeekString = dayOfTheWeekString.substring(0, 1).toUpperCase();\n        }\n        return dayOfTheWeekString;\n    }\n\n    // ************************************************************************************************************************************************************************\n    // * Public calendar methods\n    // ************************************************************************************************************************************************************************\n\n    /**\n     * Set an specific calendar to the view\n     *\n     * @param calendar\n     */\n    public void setCalendar(Calendar calendar) {\n        this.currentCalendar = calendar;\n        updateView();\n    }\n    /**\n     * Update the calendar view\n     */\n    public void updateView() {\n        setUpMonthLayout();\n        setUpWeekDaysLayout();\n        setUpDaysOfMonthLayout();\n        setUpDaysInCalendar();\n        markDayAsCurrentDay();\n    }\n\n    public void setShortWeekDays(boolean shortWeekDays) {\n        this.shortWeekDays = shortWeekDays;\n    }\n    /**\n     * Clear the view of marks and selections\n     */\n    public void clearCalendar() {\n        updateView();\n    }\n\n    public void markCircleImage1(Calendar calendar) {\n        ImageView circleImage1 = getCircleImage1(calendar);\n        circleImage1.setVisibility(View.VISIBLE);\n        DrawableCompat.setTint(circleImage1.getDrawable(), ContextCompat.getColor(context, R.color.roboto_calendar_circle_1));\n        ViewGroup dayOfTheMonthBackground = getDayOfMonthBackground(calendar);\n//        dayOfTheMonthBackground.setBackgroundResource(R.drawable.circle_blue);\n    }\n\n  \n  \n}\n</code></pre>\n"},{"tags":["java","artificial-intelligence","robotics"],"comments":[{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":1,"creation_date":1642670188,"post_id":70783165,"comment_id":125134352,"body_markdown":"Your question very much sounds like a &quot;programming novice&quot; one, and the task you chose is a bit advanced, so maybe a good Java or Python course would turn out more helpful than Stackoverflow questions.","body":"Your question very much sounds like a &quot;programming novice&quot; one, and the task you chose is a bit advanced, so maybe a good Java or Python course would turn out more helpful than Stackoverflow questions."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643453446,"post_id":70783165,"comment_id":125346620,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23371189,"reputation":1,"user_id":17442005,"display_name":"si fu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642668534,"creation_date":1642668534,"question_id":70783165,"body_markdown":"Hi I want to implement grassfire algorithm using Java or Python . I would like to make a GUI application using Java Swing or Applet class. I am facing a problem and how to make a 2-D grid and then placing obstacles on the 2D grid pattern . Also I need to mark the starting and the ending cells. How should I implement it? Any naive ideas to implement it will be welcomed \r\n\r\nThanks ","title":"Drawing a grid for grass fire algorithm using jswing","body":"<p>Hi I want to implement grassfire algorithm using Java or Python . I would like to make a GUI application using Java Swing or Applet class. I am facing a problem and how to make a 2-D grid and then placing obstacles on the 2D grid pattern . Also I need to mark the starting and the ending cells. How should I implement it? Any naive ideas to implement it will be welcomed</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","interceptor"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1445772891,"post_id":33328887,"comment_id":54455297,"body_markdown":"Which config? the `business-config.xml` or the `mvc-dispatcher-servlet.xml`?","body":"Which config? the <code>business-config.xml</code> or the <code>mvc-dispatcher-servlet.xml</code>?"},{"owner":{"account_id":1853438,"reputation":1447,"user_id":1679484,"accept_rate":20,"display_name":"Amit Parashar"},"score":0,"creation_date":1445773725,"post_id":33328887,"comment_id":54455515,"body_markdown":"Is logger level set to log INFO level ?","body":"Is logger level set to log INFO level ?"},{"owner":{"account_id":7182092,"reputation":21,"user_id":5485610,"display_name":"Peter Javorka"},"score":0,"creation_date":1445794452,"post_id":33328887,"comment_id":54462400,"body_markdown":"@M.Deinum It&#39;s a business-config.xml.","body":"@M.Deinum It&#39;s a business-config.xml."},{"owner":{"account_id":7182092,"reputation":21,"user_id":5485610,"display_name":"Peter Javorka"},"score":0,"creation_date":1445794737,"post_id":33328887,"comment_id":54462495,"body_markdown":"@AmitParashar Logger is properly set. I had a breakpoint there too -&gt; Interceptor is not invoked.","body":"@AmitParashar Logger is properly set. I had a breakpoint there too -&gt; Interceptor is not invoked."},{"owner":{"account_id":1853438,"reputation":1447,"user_id":1679484,"accept_rate":20,"display_name":"Amit Parashar"},"score":0,"creation_date":1445796186,"post_id":33328887,"comment_id":54462997,"body_markdown":"ok. Please try  &lt;mvc:mapping path=&quot;/**&quot;/&gt; and let me know.","body":"ok. Please try  &lt;mvc:mapping path=&quot;/**&quot;/&gt; and let me know."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1445797513,"post_id":33328887,"comment_id":54463484,"body_markdown":"Move all mvc related stuff to the configuration loaded by the `DispatcherServlet` else it won&#39;t work.","body":"Move all mvc related stuff to the configuration loaded by the <code>DispatcherServlet</code> else it won&#39;t work."},{"owner":{"account_id":7182092,"reputation":21,"user_id":5485610,"display_name":"Peter Javorka"},"score":0,"creation_date":1445805309,"post_id":33328887,"comment_id":54466209,"body_markdown":"I tried both but nothing helped. I am not very familiar with Spring so maybe I&#39;m something missing.","body":"I tried both but nothing helped. I am not very familiar with Spring so maybe I&#39;m something missing."},{"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"score":0,"creation_date":1642670085,"post_id":33328887,"comment_id":125134309,"body_markdown":"This may help: https://stackoverflow.com/questions/46593062/read-jax-rs-body-inputstream-twice","body":"This may help: <a href=\"https://stackoverflow.com/questions/46593062/read-jax-rs-body-inputstream-twice\" title=\"read jax rs body inputstream twice\">stackoverflow.com/questions/46593062/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7696474,"reputation":76,"user_id":5830798,"display_name":"Samrun0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498204811,"creation_date":1498156143,"answer_id":44706934,"question_id":33328887,"body_markdown":"Old but Gold question, I had same problem with interceptors in spring MVC, they just weren&#39;t being called.\r\nfound the solution, you should just check several things. first of all make sure you are putting `&lt;mvc:interceptors&gt;` into dispatcher-servlet.xml (not applicationContext.xml). your interceptor class that is extending `HandlerInterceptorAdapter` doesn&#39;t need any Bean like annotations like @Component (because you&#39;re doing this in xml config).\r\n\r\n**one important thing** is to check this :\r\n`xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;`\r\n\r\nit shouldn&#39;t be `/schema/c` or `/schema/p` that are added auto by Intellij or sth!\r\n\r\n\r\nthese are my codes in order to check everything :\r\n\r\n    \r\n    public class MyCustomInterceptor extends HandlerInterceptorAdapter {\r\n\r\n\r\n    @Autowired\r\n    private IpClientService ipClientService;\r\n\r\n\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, \r\n    HttpServletResponse response, Object handler) throws Exception {\r\n\r\n        // ------ your code here --------\r\n\r\n        String reqUri = request.getRequestURI();\r\n        String serviceName = reqUri.substring(reqUri.lastIndexOf(&quot;/&quot;) +1, reqUri.length());\r\n\r\n        ......\r\n\r\n\r\n\r\n        return super.preHandle(request, response, handler);\r\n    }\r\n\r\n    @Override\r\n    public void postHandle(HttpServletRequest request,\r\n                           HttpServletResponse response, Object handler,\r\n                           ModelAndView modelAndView) throws Exception {\r\n\r\n        super.postHandle(request, response, handler, modelAndView);\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\nmy dispatcher-servlet.xml :\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n           xmlns:task=&quot;http://www.springframework.org/schema/task&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd  http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd&quot;&gt;\r\n    \r\n    \r\n        &lt;mvc:interceptors&gt;\r\n            &lt;bean class=&quot;...MyCustomInterceptor&quot;/&gt;\r\n        &lt;/mvc:interceptors&gt;\r\n    \r\n    \r\n        &lt;context:component-scan base-package=&quot;... main package&quot;/&gt;\r\n    \r\n        &lt;!--this will say we are using annotations--&gt;\r\n        &lt;mvc:annotation-driven/&gt;\r\n    \r\n        &lt;!--this will add the ability to use @Transactional--&gt;\r\n        &lt;tx:annotation-driven/&gt;\r\n    \r\n        &lt;!--scheduling tasks--&gt;\r\n        &lt;task:annotation-driven/&gt;\r\n    \r\n    \r\n        &lt;!--adding resource directory--&gt;\r\n        &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/WEB-INF/resources/&quot;/&gt;\r\n    \r\n    \r\n    \r\n        &lt;!--in here we specify the view resolver and where it should look for views and what it should add\r\n        as suffix to returning value in @RequestMapping (like index.jsp)--&gt;\r\n        &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\r\n            &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    \r\n    \r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nmy web.xml :\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n             version=&quot;3.1&quot;&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/applicationContext.xml,\r\n                        /WEB-INF/dispatcher-servlet.xml\r\n            &lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n    \r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n    \r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    &lt;/web-app&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring interceptor not called","body":"<p>Old but Gold question, I had same problem with interceptors in spring MVC, they just weren't being called.\nfound the solution, you should just check several things. first of all make sure you are putting <code>&lt;mvc:interceptors&gt;</code> into dispatcher-servlet.xml (not applicationContext.xml). your interceptor class that is extending <code>HandlerInterceptorAdapter</code> doesn't need any Bean like annotations like @Component (because you're doing this in xml config).</p>\n\n<p><strong>one important thing</strong> is to check this :\n<code>xmlns:mvc=\"http://www.springframework.org/schema/mvc\"</code></p>\n\n<p>it shouldn't be <code>/schema/c</code> or <code>/schema/p</code> that are added auto by Intellij or sth!</p>\n\n<p>these are my codes in order to check everything :</p>\n\n<pre><code>public class MyCustomInterceptor extends HandlerInterceptorAdapter {\n\n\n@Autowired\nprivate IpClientService ipClientService;\n\n\n@Override\npublic boolean preHandle(HttpServletRequest request, \nHttpServletResponse response, Object handler) throws Exception {\n\n    // ------ your code here --------\n\n    String reqUri = request.getRequestURI();\n    String serviceName = reqUri.substring(reqUri.lastIndexOf(\"/\") +1, reqUri.length());\n\n    ......\n\n\n\n    return super.preHandle(request, response, handler);\n}\n\n@Override\npublic void postHandle(HttpServletRequest request,\n                       HttpServletResponse response, Object handler,\n                       ModelAndView modelAndView) throws Exception {\n\n    super.postHandle(request, response, handler, modelAndView);\n}\n}\n</code></pre>\n\n<p>my dispatcher-servlet.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xmlns:task=\"http://www.springframework.org/schema/task\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd  http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd\"&gt;\n\n\n    &lt;mvc:interceptors&gt;\n        &lt;bean class=\"...MyCustomInterceptor\"/&gt;\n    &lt;/mvc:interceptors&gt;\n\n\n    &lt;context:component-scan base-package=\"... main package\"/&gt;\n\n    &lt;!--this will say we are using annotations--&gt;\n    &lt;mvc:annotation-driven/&gt;\n\n    &lt;!--this will add the ability to use @Transactional--&gt;\n    &lt;tx:annotation-driven/&gt;\n\n    &lt;!--scheduling tasks--&gt;\n    &lt;task:annotation-driven/&gt;\n\n\n    &lt;!--adding resource directory--&gt;\n    &lt;mvc:resources mapping=\"/resources/**\" location=\"/WEB-INF/resources/\"/&gt;\n\n\n\n    &lt;!--in here we specify the view resolver and where it should look for views and what it should add\n    as suffix to returning value in @RequestMapping (like index.jsp)--&gt;\n    &lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/views/\"/&gt;\n        &lt;property name=\"suffix\" value=\".jsp\"/&gt;\n    &lt;/bean&gt;\n\n\n\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>my web.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n         version=\"3.1\"&gt;\n\n\n\n\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/applicationContext.xml,\n                    /WEB-INF/dispatcher-servlet.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n\n\n\n\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297410,"reputation":10125,"user_id":602928,"accept_rate":86,"display_name":"Michael Laffargue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642668520,"creation_date":1642668520,"answer_id":70783160,"question_id":33328887,"body_markdown":"Using XML configuration, ensure you defined the interceptors in the correct context.\r\nMoving config from servlet context(*-servlet.xml) to main context (web.xml) made it work.","title":"Spring interceptor not called","body":"<p>Using XML configuration, ensure you defined the interceptors in the correct context.\nMoving config from servlet context(*-servlet.xml) to main context (web.xml) made it work.</p>\n"}],"owner":{"account_id":7182092,"reputation":21,"user_id":5485610,"display_name":"Peter Javorka"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6367,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1642668520,"creation_date":1445770709,"question_id":33328887,"body_markdown":"I am trying to build a Spring application and I want to log all requests/responses. I found some examples, but none of them helped. Am trying to create interceptor that will log all informations I need, but interceptor is never called.&lt;br&gt;\r\nCan someone explain why my interceptor in not working?&lt;br&gt;&lt;br&gt;\r\nMy web.xml file\r\n\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;\r\n            http://java.sun.com/xml/ns/javaee\r\n            http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n    \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;classpath:spring/business-config.xml&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nThis is my config.\r\n\r\n        &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n           xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/mvc\r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n            http://www.springframework.org/schema/context\r\n            http://www.springframework.org/schema/context/spring-context.xsd\r\n            http://www.springframework.org/schema/tx\r\n            http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\r\n    \r\n    \r\n        &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n            ...\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n            ...enter code here\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;mvc:annotation-driven/&gt;\r\n        &lt;mvc:interceptors&gt;\r\n            &lt;mvc:interceptor&gt;\r\n                &lt;mvc:mapping path=&quot;/*&quot;/&gt;\r\n                &lt;bean class=&quot;ltp.core.security.RequestProcessingInterceptor&quot;/&gt;\r\n            &lt;/mvc:interceptor&gt;\r\n        &lt;/mvc:interceptors&gt;\r\n    \r\n        &lt;tx:annotation-driven/&gt;\r\n    \r\n        &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;/&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;ltp.core.services.impl&quot;/&gt;\r\n        &lt;context:component-scan base-package=&quot;ltp.core.security&quot;/&gt;\r\n        &lt;context:component-scan base-package=&quot;ltp.core.repositories.jpa&quot;/&gt;\r\n        &lt;context:component-scan base-package=&quot;ltp.core.utils&quot;/&gt;\r\n    &lt;/beans&gt;\r\nAnd my interceptor:\r\n\r\n    public class RequestProcessingInterceptor extends HandlerInterceptorAdapter      {\r\n    \r\n        private final Logger logger = Logger.getLogger(RequestProcessingInterceptor.class);\r\n    \r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n            logger.info(&quot;TRALALALLALAL&quot;);\r\n            return super.preHandle(request, response, handler);\r\n        }\r\n    \r\n        @Override\r\n        public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {\r\n            logger.info(&quot;[&quot; + LocalDateTime.now().toString() + &quot;] URL: &quot; + request.getRequestURL().toString() + &quot; Send to handler &quot; + handler.toString());\r\n            request.setAttribute(&quot;startTime&quot;, System.currentTimeMillis());\r\n            super.postHandle(request, response, handler, modelAndView);\r\n        }\r\n    \r\n        @Override\r\n        public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\r\n            logger.info(&quot;[&quot; + LocalDateTime.now().toString() + &quot;] Completed in &quot; + (System.currentTimeMillis() - (Long) request.getAttribute(&quot;startTime&quot;)) + &quot;ms &quot;);\r\n            super.afterCompletion(request, response, handler, ex);\r\n        }\r\n    }\r\n&lt;b&gt;EDIT:&lt;/b&gt;&lt;br&gt;\r\nI created `mvc-dispatcher-servlet.xml` by moving all mvc related stuff in it. But without `&lt;mvc:default-servlet-handler/&gt;` it wasn&#39;t working and interceptor is still a problem.&lt;br&gt;\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/mvc\r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n    \r\n        &lt;mvc:default-servlet-handler/&gt;\r\n        &lt;mvc:annotation-driven/&gt;\r\n        &lt;mvc:interceptors&gt;\r\n            &lt;mvc:interceptor&gt;\r\n                &lt;mvc:mapping path=&quot;/*&quot;/&gt;\r\n                &lt;bean class=&quot;ltp.core.security.RequestProcessingInterceptor&quot;/&gt;\r\n            &lt;/mvc:interceptor&gt;\r\n        &lt;/mvc:interceptors&gt;\r\n    &lt;/beans&gt;","title":"Spring interceptor not called","body":"<p>I am trying to build a Spring application and I want to log all requests/responses. I found some examples, but none of them helped. Am trying to create interceptor that will log all informations I need, but interceptor is never called.<br>\nCan someone explain why my interceptor in not working?<br><br>\nMy web.xml file</p>\n\n<pre><code>&lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"\n        http://java.sun.com/xml/ns/javaee\n        http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n         version=\"3.0\"&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:spring/business-config.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>This is my config.</p>\n\n<pre><code>    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/tx\n        http://www.springframework.org/schema/tx/spring-tx.xsd\"&gt;\n\n\n    &lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        ...\n    &lt;/bean&gt;\n\n    &lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n        ...enter code here\n    &lt;/bean&gt;\n\n    &lt;mvc:annotation-driven/&gt;\n    &lt;mvc:interceptors&gt;\n        &lt;mvc:interceptor&gt;\n            &lt;mvc:mapping path=\"/*\"/&gt;\n            &lt;bean class=\"ltp.core.security.RequestProcessingInterceptor\"/&gt;\n        &lt;/mvc:interceptor&gt;\n    &lt;/mvc:interceptors&gt;\n\n    &lt;tx:annotation-driven/&gt;\n\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"/&gt;\n\n    &lt;context:component-scan base-package=\"ltp.core.services.impl\"/&gt;\n    &lt;context:component-scan base-package=\"ltp.core.security\"/&gt;\n    &lt;context:component-scan base-package=\"ltp.core.repositories.jpa\"/&gt;\n    &lt;context:component-scan base-package=\"ltp.core.utils\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>And my interceptor:</p>\n\n<pre><code>public class RequestProcessingInterceptor extends HandlerInterceptorAdapter      {\n\n    private final Logger logger = Logger.getLogger(RequestProcessingInterceptor.class);\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        logger.info(\"TRALALALLALAL\");\n        return super.preHandle(request, response, handler);\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {\n        logger.info(\"[\" + LocalDateTime.now().toString() + \"] URL: \" + request.getRequestURL().toString() + \" Send to handler \" + handler.toString());\n        request.setAttribute(\"startTime\", System.currentTimeMillis());\n        super.postHandle(request, response, handler, modelAndView);\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\n        logger.info(\"[\" + LocalDateTime.now().toString() + \"] Completed in \" + (System.currentTimeMillis() - (Long) request.getAttribute(\"startTime\")) + \"ms \");\n        super.afterCompletion(request, response, handler, ex);\n    }\n}\n</code></pre>\n\n<p><b>EDIT:</b><br>\nI created <code>mvc-dispatcher-servlet.xml</code> by moving all mvc related stuff in it. But without <code>&lt;mvc:default-servlet-handler/&gt;</code> it wasn't working and interceptor is still a problem.<br></p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\"&gt;\n\n    &lt;mvc:default-servlet-handler/&gt;\n    &lt;mvc:annotation-driven/&gt;\n    &lt;mvc:interceptors&gt;\n        &lt;mvc:interceptor&gt;\n            &lt;mvc:mapping path=\"/*\"/&gt;\n            &lt;bean class=\"ltp.core.security.RequestProcessingInterceptor\"/&gt;\n        &lt;/mvc:interceptor&gt;\n    &lt;/mvc:interceptors&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1642671981,"post_id":70783158,"comment_id":125135025,"body_markdown":"In this case I think REST will require way too much boilerplate, have a look into GraphQL,\nhttps://www.baeldung.com/spring-graphql","body":"In this case I think REST will require way too much boilerplate, have a look into GraphQL, <a href=\"https://www.baeldung.com/spring-graphql\" rel=\"nofollow noreferrer\">baeldung.com/spring-graphql</a>"}],"owner":{"account_id":9924033,"reputation":1,"user_id":7346274,"display_name":"Dishu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642668510,"creation_date":1642668510,"question_id":70783158,"body_markdown":"I am trying to develop a REST API using Java and Spring boot. I have an entity class User.\r\n\r\n    public class User implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;mobile_number&quot;)\r\n        private String mobileNumber;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n    \r\n        @Column(name = &quot;created_date&quot;)\r\n        private Date createdDate;\r\n    }\r\n\r\nMy requirement is to select some specific fields from this entity. These fields can be specified \r\ndynamically in REST API url like\r\nhttp://localhost:8080/getUserDetails?start=2021-01-01&amp;end=2021-05-05&amp;fields=firstName\r\nhttp://localhost:8080/getUserDetails?start=2021-01-01&amp;end=2021-05-05&amp;fields=firstName,lastName\r\n\r\nWhen fields=firstName , I want to return only firstName in JSON. \r\nSimilary, firstName and lastName in JSON when fields = firstName,lastName.\r\n \r\nIf i use criteria query `query.select(root.get(&quot;firstName&quot;),root.get(&quot;lastName&quot;))` \r\nthan i have to create constructors in Entity / POJO class.\r\nThere can only be one constructor with 2 String parameters. So this approach will fail when i need to select mobileNumber and email.\r\n\r\nIf i use spring Projections than i am not able to get how to select dynamic fields in Projections without adding projections = &quot;some value&quot; in rest endpoint url. Also if i use interface or class projections i will have to define required fields there. Fields should be dynamic in my case.\r\n\r\nAlso i am trying to avoid fetching of all columns and than filtering it out based on requested fields as it is inefficient.\r\n\r\nSo can anyone please help me out?\r\n","title":"How to select specific columns dynamically in a REST API?","body":"<p>I am trying to develop a REST API using Java and Spring boot. I have an entity class User.</p>\n<pre><code>public class User implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    @Column(name = &quot;mobile_number&quot;)\n    private String mobileNumber;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;created_date&quot;)\n    private Date createdDate;\n}\n</code></pre>\n<p>My requirement is to select some specific fields from this entity. These fields can be specified\ndynamically in REST API url like\nhttp://localhost:8080/getUserDetails?start=2021-01-01&amp;end=2021-05-05&amp;fields=firstName\nhttp://localhost:8080/getUserDetails?start=2021-01-01&amp;end=2021-05-05&amp;fields=firstName,lastName</p>\n<p>When fields=firstName , I want to return only firstName in JSON.\nSimilary, firstName and lastName in JSON when fields = firstName,lastName.</p>\n<p>If i use criteria query <code>query.select(root.get(&quot;firstName&quot;),root.get(&quot;lastName&quot;))</code>\nthan i have to create constructors in Entity / POJO class.\nThere can only be one constructor with 2 String parameters. So this approach will fail when i need to select mobileNumber and email.</p>\n<p>If i use spring Projections than i am not able to get how to select dynamic fields in Projections without adding projections = &quot;some value&quot; in rest endpoint url. Also if i use interface or class projections i will have to define required fields there. Fields should be dynamic in my case.</p>\n<p>Also i am trying to avoid fetching of all columns and than filtering it out based on requested fields as it is inefficient.</p>\n<p>So can anyone please help me out?</p>\n"},{"tags":["java","spring","spring-mvc","interceptor"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395758532,"post_id":22633800,"comment_id":34476472,"body_markdown":"Put a log statement in `addInterceptors`. Is it logged?","body":"Put a log statement in <code>addInterceptors</code>. Is it logged?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395758898,"post_id":22633800,"comment_id":34476788,"body_markdown":"Also, your intercept won&#39;t currently compile. Show us what you actually have.","body":"Also, your intercept won&#39;t currently compile. Show us what you actually have."},{"owner":{"account_id":1006314,"reputation":669,"user_id":1019997,"accept_rate":46,"display_name":"r.rodriguez"},"score":0,"creation_date":1395832376,"post_id":22633800,"comment_id":34514071,"body_markdown":"Yes, if I put a log statement in addInterceptors it is logged, but the log statement in the preHandle method is never logged.","body":"Yes, if I put a log statement in addInterceptors it is logged, but the log statement in the preHandle method is never logged."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395833306,"post_id":22633800,"comment_id":34514686,"body_markdown":"You don&#39;t seem to have registered a path for the interceptor.","body":"You don&#39;t seem to have registered a path for the interceptor."},{"owner":{"account_id":1006314,"reputation":669,"user_id":1019997,"accept_rate":46,"display_name":"r.rodriguez"},"score":1,"creation_date":1395833704,"post_id":22633800,"comment_id":34514927,"body_markdown":"I tried with:\n    **registry.addInterceptor(securityHandlerInterceptor()).addPathPatterns(&quot;/* *&quot;);** , \n**registry.addInterceptor(securityHandlerInterceptor()).addPathPatterns(&quot;/account&quot;);** and \n**registry.addInterceptor(securityHandlerInterceptor());** and it did not worked","body":"I tried with:     <b>registry.addInterceptor(securityHandlerInterceptor()).addPat&zwnj;&#8203;hPatterns(&quot;/* *&quot;);</b> ,  <b>registry.addInterceptor(securityHandlerInterceptor()).addPat&zwnj;&#8203;hPatterns(&quot;/account&quot;&zwnj;&#8203;);</b> and  <b>registry.addInterceptor(securityHandlerInterceptor());</b> and it did not worked"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395833763,"post_id":22633800,"comment_id":34514975,"body_markdown":"Ok, what URL are you sending your requests to?","body":"Ok, what URL are you sending your requests to?"},{"owner":{"account_id":1006314,"reputation":669,"user_id":1019997,"accept_rate":46,"display_name":"r.rodriguez"},"score":0,"creation_date":1395833941,"post_id":22633800,"comment_id":34515089,"body_markdown":"To http://localhost:8080/myapp/account","body":"To <a href=\"http://localhost:8080/myapp/account\" rel=\"nofollow noreferrer\">localhost:8080/myapp/account</a>"},{"owner":{"account_id":494041,"reputation":3115,"user_id":1418694,"accept_rate":38,"display_name":"Joseph"},"score":0,"creation_date":1436883088,"post_id":22633800,"comment_id":50791528,"body_markdown":"How did you managed to solve it? i have the same problem now?","body":"How did you managed to solve it? i have the same problem now?"}],"answers":[{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1395749110,"creation_date":1395749110,"answer_id":22634079,"question_id":22633800,"body_markdown":"Interceptor classes must be declared in *spring context xml* configuration file within the tag `&lt;mvc:interceptors&gt;`. Did you do that?\r\n\r\nFrom the Documentation\r\n\r\n*An example of registering an interceptor applied to all URL paths:*\r\n\r\n    &lt;mvc:interceptors&gt;\r\n        &lt;bean class=&quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&quot; /&gt;\r\n    &lt;/mvc:interceptors&gt;\r\n\t\t\r\n*An example of registering an interceptor limited to a specific URL path:*\r\n\r\n    &lt;mvc:interceptors&gt;\r\n        &lt;mvc:interceptor&gt;\r\n            &lt;mapping path=&quot;/secure/*&quot;/&gt;\r\n            &lt;bean class=&quot;org.example.SecurityInterceptor&quot; /&gt;\r\n        &lt;/mvc:interceptor&gt;\r\n    &lt;/mvc:interceptors&gt;\r\n\r\nSo, you would need to configure `MyInterceptor` class in the *spring context xml* file","title":"Spring MVC - Interceptor never called","body":"<p>Interceptor classes must be declared in <em>spring context xml</em> configuration file within the tag <code>&lt;mvc:interceptors&gt;</code>. Did you do that?</p>\n\n<p>From the Documentation</p>\n\n<p><em>An example of registering an interceptor applied to all URL paths:</em></p>\n\n<pre><code>&lt;mvc:interceptors&gt;\n    &lt;bean class=\"org.springframework.web.servlet.i18n.LocaleChangeInterceptor\" /&gt;\n&lt;/mvc:interceptors&gt;\n</code></pre>\n\n<p><em>An example of registering an interceptor limited to a specific URL path:</em></p>\n\n<pre><code>&lt;mvc:interceptors&gt;\n    &lt;mvc:interceptor&gt;\n        &lt;mapping path=\"/secure/*\"/&gt;\n        &lt;bean class=\"org.example.SecurityInterceptor\" /&gt;\n    &lt;/mvc:interceptor&gt;\n&lt;/mvc:interceptors&gt;\n</code></pre>\n\n<p>So, you would need to configure <code>MyInterceptor</code> class in the <em>spring context xml</em> file</p>\n"},{"tags":[],"owner":{"account_id":8023840,"reputation":499,"user_id":6051625,"display_name":"Theo"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1457725846,"creation_date":1457725846,"answer_id":35948730,"question_id":22633800,"body_markdown":"I&#39;m using Spring Boot and was having the same problem where `addInterceptors()` was being called to register the interceptor, but the interceptor never fired during a request.  Yet XML configuration worked no problem.\r\n\r\nBasically, you don&#39;t need the `WebMvcConfigurerAdapter` class.  You just need to declare an `@Bean` of type `MappedInterceptor`:\r\n\r\n    @Bean\r\n    public MappedInterceptor myInterceptor()\r\n    {\r\n        return new MappedInterceptor(null, new MyInterceptor());\r\n    }","title":"Spring MVC - Interceptor never called","body":"<p>I'm using Spring Boot and was having the same problem where <code>addInterceptors()</code> was being called to register the interceptor, but the interceptor never fired during a request.  Yet XML configuration worked no problem.</p>\n\n<p>Basically, you don't need the <code>WebMvcConfigurerAdapter</code> class.  You just need to declare an <code>@Bean</code> of type <code>MappedInterceptor</code>:</p>\n\n<pre><code>@Bean\npublic MappedInterceptor myInterceptor()\n{\n    return new MappedInterceptor(null, new MyInterceptor());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":161392,"reputation":1160,"user_id":4147392,"display_name":"Luis Costa"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1474973095,"creation_date":1474973095,"answer_id":39722617,"question_id":22633800,"body_markdown":"If it&#180;s possible. Use this approach:\r\n\r\n    public class Application extends WebMvcConfigurerAdapter{\r\n    ...\r\n    @Bean\r\n\tpublic MyInterceptor myInterceptor() {\r\n\t    return new MyInterceptor();\r\n\t}\r\n\r\n\tpublic @Override void addInterceptors(InterceptorRegistry registry) {\r\n\t    registry.addInterceptor(myInterceptor());\r\n\t}\r\n    }\r\n\r\ninstead of:\r\n\r\n    @Bean\r\n    public MappedInterceptor myInterceptor()\r\n    {\r\n        return new MappedInterceptor(null, new MyInterceptor());\r\n    }\r\n\r\nbecause with the first you can use injection features (like @Autowired, etc...)","title":"Spring MVC - Interceptor never called","body":"<p>If it´s possible. Use this approach:</p>\n\n<pre><code>public class Application extends WebMvcConfigurerAdapter{\n...\n@Bean\npublic MyInterceptor myInterceptor() {\n    return new MyInterceptor();\n}\n\npublic @Override void addInterceptors(InterceptorRegistry registry) {\n    registry.addInterceptor(myInterceptor());\n}\n}\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>@Bean\npublic MappedInterceptor myInterceptor()\n{\n    return new MappedInterceptor(null, new MyInterceptor());\n}\n</code></pre>\n\n<p>because with the first you can use injection features (like @Autowired, etc...)</p>\n"},{"tags":[],"owner":{"account_id":12352162,"reputation":53,"user_id":9010171,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539354479,"creation_date":1539354479,"answer_id":52781681,"question_id":22633800,"body_markdown":"Can someone please mark Theos answer as the correct one? I had the situation of a perfectly working Spring Boot app using i18n and Thymeleaf (with a layout interceptor) as long as the app was running localhost with the following config:\r\n\r\n\t@Override\r\n\tpublic void addInterceptors(InterceptorRegistry registry) {\r\n\t    registry.addInterceptor(localeChangeInterceptor());\r\n\t\tregistry.addInterceptor(thymeleafLayoutInterceptor());\r\n\t}\r\n\r\nAs soon as I deployed the app to an Elasticbeanstalk instance, both interceptors were not fired anymore. Although added once. When I changed the setting to\r\n\r\n\t@Bean\r\n\tpublic MappedInterceptor localeInterceptor() {\r\n\t\treturn new MappedInterceptor(null, localeChangeInterceptor());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic MappedInterceptor thymeleafInterceptor() {\r\n\t\treturn new MappedInterceptor(null, thymeleafLayoutInterceptor());\r\n\t}\r\n\r\neverything was working fine on all environments. There must be an issue with firing interceptors added with addInterceptor, it might depend on the URL that is used to invoke the request - I don&#39;t know.\r\n\r\nThanks for your answer, Theo, I just wanted to add this here if some else stumbles upon this nice feature.\r\n","title":"Spring MVC - Interceptor never called","body":"<p>Can someone please mark Theos answer as the correct one? I had the situation of a perfectly working Spring Boot app using i18n and Thymeleaf (with a layout interceptor) as long as the app was running localhost with the following config:</p>\n\n<pre><code>@Override\npublic void addInterceptors(InterceptorRegistry registry) {\n    registry.addInterceptor(localeChangeInterceptor());\n    registry.addInterceptor(thymeleafLayoutInterceptor());\n}\n</code></pre>\n\n<p>As soon as I deployed the app to an Elasticbeanstalk instance, both interceptors were not fired anymore. Although added once. When I changed the setting to</p>\n\n<pre><code>@Bean\npublic MappedInterceptor localeInterceptor() {\n    return new MappedInterceptor(null, localeChangeInterceptor());\n}\n\n@Bean\npublic MappedInterceptor thymeleafInterceptor() {\n    return new MappedInterceptor(null, thymeleafLayoutInterceptor());\n}\n</code></pre>\n\n<p>everything was working fine on all environments. There must be an issue with firing interceptors added with addInterceptor, it might depend on the URL that is used to invoke the request - I don't know.</p>\n\n<p>Thanks for your answer, Theo, I just wanted to add this here if some else stumbles upon this nice feature.</p>\n"},{"tags":[],"owner":{"account_id":7427970,"reputation":1,"user_id":5649878,"display_name":"abhineet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575969118,"creation_date":1575969118,"answer_id":59263706,"question_id":22633800,"body_markdown":"Maybe you should add componentscan annotation in the file where the main class is present.\r\n\r\n    @ComponentScan(&quot;package where the interceptor is placed.&quot;)\r\n\r\n\r\nWorked for me.","title":"Spring MVC - Interceptor never called","body":"<p>Maybe you should add componentscan annotation in the file where the main class is present.</p>\n\n<pre><code>@ComponentScan(\"package where the interceptor is placed.\")\n</code></pre>\n\n<p>Worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3245618,"reputation":372,"user_id":2737303,"display_name":"jsmin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612723768,"creation_date":1612723768,"answer_id":66091813,"question_id":22633800,"body_markdown":"This approach worked with me \r\n\r\n```\r\n\r\n@Configuration\r\npublic class WebConfiguration extends WebMvcConfigurerAdapter {\r\n  @Override\r\n  public void addInterceptors(InterceptorRegistry registry) {\r\n    registry.addInterceptor(new MyInterceptor());\r\n  }\r\n}\r\n\r\n```","title":"Spring MVC - Interceptor never called","body":"<p>This approach worked with me</p>\n<pre><code>\n@Configuration\npublic class WebConfiguration extends WebMvcConfigurerAdapter {\n  @Override\n  public void addInterceptors(InterceptorRegistry registry) {\n    registry.addInterceptor(new MyInterceptor());\n  }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297410,"reputation":10125,"user_id":602928,"accept_rate":86,"display_name":"Michael Laffargue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642668458,"creation_date":1642668458,"answer_id":70783146,"question_id":22633800,"body_markdown":"Using XML configuration, ensure you defined the interceptors in the correct context.\r\nMoving config from servlet context(*-servlet) to main context (web.xml) made it work.\r\n\r\nEven if the URL was a call to the servlet.","title":"Spring MVC - Interceptor never called","body":"<p>Using XML configuration, ensure you defined the interceptors in the correct context.\nMoving config from servlet context(*-servlet) to main context (web.xml) made it work.</p>\n<p>Even if the URL was a call to the servlet.</p>\n"}],"owner":{"account_id":1006314,"reputation":669,"user_id":1019997,"accept_rate":46,"display_name":"r.rodriguez"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17380,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":7,"score":14,"last_activity_date":1642668458,"creation_date":1395748388,"question_id":22633800,"body_markdown":"I am trying to configure an interceptor in my application and I am not being able to make it work.\r\n\r\nIn my application configuration class, I have configured in the following way:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class AppContextConfiguration extends WebMvcConfigurerAdapter {\r\n        ...\r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(new MyInterceptor());\r\n        }\r\n        ...\r\n    }\r\n\r\nAnd the interceptor:\r\n\r\n    public class MyInterceptor extends HandlerInterceptorAdapter{\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(MyInterceptor.class);\r\n\r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, \r\n            Object handler) throws Exception {\r\n\r\n            logger.debug(&quot;MyInterceptor - PREHANDLE&quot;);\r\n        }\r\n    }\r\n\r\nDoes anybody know why is not being invoked?","title":"Spring MVC - Interceptor never called","body":"<p>I am trying to configure an interceptor in my application and I am not being able to make it work.</p>\n\n<p>In my application configuration class, I have configured in the following way:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class AppContextConfiguration extends WebMvcConfigurerAdapter {\n    ...\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new MyInterceptor());\n    }\n    ...\n}\n</code></pre>\n\n<p>And the interceptor:</p>\n\n<pre><code>public class MyInterceptor extends HandlerInterceptorAdapter{\n\n    private static final Logger logger = LoggerFactory.getLogger(MyInterceptor.class);\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, \n        Object handler) throws Exception {\n\n        logger.debug(\"MyInterceptor - PREHANDLE\");\n    }\n}\n</code></pre>\n\n<p>Does anybody know why is not being invoked?</p>\n"},{"tags":["java","exception","try-with-resources"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1319200605,"post_id":7849416,"comment_id":9572104,"body_markdown":"I see no mention of it in the &quot;Java Programming Language Enhancements&quot; description http://download.oracle.com/javase/7/docs/technotes/guides/language/enhancements.html#javase7","body":"I see no mention of it in the &quot;Java Programming Language Enhancements&quot; description <a href=\"http://download.oracle.com/javase/7/docs/technotes/guides/language/enhancements.html#javase7\" rel=\"nofollow noreferrer\">download.oracle.com/javase/7/docs/technotes/guides/language/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":31227,"reputation":13705,"user_id":85615,"accept_rate":83,"display_name":"daniel kullmann"},"score":21,"creation_date":1319201231,"post_id":7849416,"comment_id":9572296,"body_markdown":"ARM means Automatic Resource Management, e.g. http://www.infoq.com/news/2010/08/arm-blocks","body":"ARM means Automatic Resource Management, e.g. <a href=\"http://www.infoq.com/news/2010/08/arm-blocks\" rel=\"nofollow noreferrer\">infoq.com/news/2010/08/arm-blocks</a>"},{"owner":{"account_id":50932,"reputation":6550,"user_id":152061,"accept_rate":80,"display_name":"Brad Cupit"},"score":7,"creation_date":1492611912,"post_id":7849416,"comment_id":74051312,"body_markdown":"ARM, in this context, is is the old name for try-with-resources. They stopped using ARM and started using try-with-resources sometime before Java 7 shipped. And @danielkullmann is right in what ARM stands for","body":"ARM, in this context, is is the old name for try-with-resources. They stopped using ARM and started using try-with-resources sometime before Java 7 shipped. And @danielkullmann is right in what ARM stands for"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":59,"is_accepted":true,"score":58,"last_activity_date":1319200440,"creation_date":1319200440,"answer_id":7849446,"question_id":7849416,"body_markdown":"I believe the commenter is referring to is an exception which is semi-ignored when it&#39;s thrown within the implicit `finally` block of a [try-with-resources][1] block, in the context of an existing exception being thrown from the `try` block:\r\n\r\n&gt; An exception can be thrown from the block of code associated with the try-with-resources statement. In the example writeToFileZipFileContents, an exception can be thrown from the try block, and up to two exceptions can be thrown from the try-with-resources statement when it tries to close the ZipFile and BufferedWriter objects. If an exception is thrown from the try block and one or more exceptions are thrown from the try-with-resources statement, then those exceptions thrown from the try-with-resources statement are suppressed, and the exception thrown by the block is the one that is thrown by the writeToFileZipFileContents method. You can retrieve these suppressed exceptions by calling the Throwable.getSuppressed method from the exception thrown by the try block.\r\n\r\n(That&#39;s quoting a section called &quot;Suppressed Exceptions&quot; from the linked page.)\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"What is a suppressed exception?","body":"<p>I believe the commenter is referring to is an exception which is semi-ignored when it's thrown within the implicit <code>finally</code> block of a <a href=\"http://download.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources</a> block, in the context of an existing exception being thrown from the <code>try</code> block:</p>\n\n<blockquote>\n  <p>An exception can be thrown from the block of code associated with the try-with-resources statement. In the example writeToFileZipFileContents, an exception can be thrown from the try block, and up to two exceptions can be thrown from the try-with-resources statement when it tries to close the ZipFile and BufferedWriter objects. If an exception is thrown from the try block and one or more exceptions are thrown from the try-with-resources statement, then those exceptions thrown from the try-with-resources statement are suppressed, and the exception thrown by the block is the one that is thrown by the writeToFileZipFileContents method. You can retrieve these suppressed exceptions by calling the Throwable.getSuppressed method from the exception thrown by the try block.</p>\n</blockquote>\n\n<p>(That's quoting a section called \"Suppressed Exceptions\" from the linked page.)</p>\n"},{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1518114774,"creation_date":1319200875,"answer_id":7849524,"question_id":7849416,"body_markdown":"To clarify the quote in Jon&#39;s answer, only one exception can be thrown by a method (per execution) but it is possible, in the case of a `try-with-resources`, for multiple exceptions to be thrown. For instance one might be thrown in the block and another might be thrown from the implicit `finally` provided by the `try-with-resources`.\r\n\r\nThe compiler has to determine which of these to &quot;really&quot; throw. It chooses to throw the exception raised in the explicit code (the code in the `try` block) rather than the one thrown by the implicit code (the `finally` block). Therefore the exception(s) thrown in the implicit block are suppressed (ignored). This only occurs in the case of multiple exceptions.","title":"What is a suppressed exception?","body":"<p>To clarify the quote in Jon's answer, only one exception can be thrown by a method (per execution) but it is possible, in the case of a <code>try-with-resources</code>, for multiple exceptions to be thrown. For instance one might be thrown in the block and another might be thrown from the implicit <code>finally</code> provided by the <code>try-with-resources</code>.</p>\n\n<p>The compiler has to determine which of these to \"really\" throw. It chooses to throw the exception raised in the explicit code (the code in the <code>try</code> block) rather than the one thrown by the implicit code (the <code>finally</code> block). Therefore the exception(s) thrown in the implicit block are suppressed (ignored). This only occurs in the case of multiple exceptions.</p>\n"},{"tags":[],"owner":{"account_id":327461,"reputation":15242,"user_id":649852,"display_name":"Go Dan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1319203670,"creation_date":1319203670,"answer_id":7850080,"question_id":7849416,"body_markdown":"[Suppressed exceptions](http://download.oracle.com/javase/7/docs/api/java/lang/Throwable.html#addSuppressed(java.lang.Throwable)) are additional exceptions that occur within a try-with-resources statement ([introduced in Java 7](http://download.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)) when [`AutoCloseable`](http://download.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html) resources are closed. Because multiple exceptions may occur while closing `AutoCloseable` resources, additional exceptions are attached to a [primary exception as suppressed exceptions](http://www.oracle.com/technetwork/articles/java/trywithresources-401775.html#nb2).\r\n\r\nLooking at the bytecode of a piece of try-with-resources sample code, standard [JVM exception handlers](https://java.sun.com/docs/books/jvms/second_edition/html/Overview.doc.html#15494) are used to accommodate the try-with-resources semantics.","title":"What is a suppressed exception?","body":"<p><a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/Throwable.html#addSuppressed(java.lang.Throwable)\" rel=\"noreferrer\">Suppressed exceptions</a> are additional exceptions that occur within a try-with-resources statement (<a href=\"http://download.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">introduced in Java 7</a>) when <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html\" rel=\"noreferrer\"><code>AutoCloseable</code></a> resources are closed. Because multiple exceptions may occur while closing <code>AutoCloseable</code> resources, additional exceptions are attached to a <a href=\"http://www.oracle.com/technetwork/articles/java/trywithresources-401775.html#nb2\" rel=\"noreferrer\">primary exception as suppressed exceptions</a>.</p>\n\n<p>Looking at the bytecode of a piece of try-with-resources sample code, standard <a href=\"https://java.sun.com/docs/books/jvms/second_edition/html/Overview.doc.html#15494\" rel=\"noreferrer\">JVM exception handlers</a> are used to accommodate the try-with-resources semantics.</p>\n"},{"tags":[],"owner":{"account_id":2544239,"reputation":9,"user_id":2209394,"display_name":"Jean-Simon LaRochelle"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1364249799,"creation_date":1364248443,"answer_id":15625526,"question_id":7849416,"body_markdown":"I think this has to do with the &quot;chained exception facility&quot;. It will affect how an exception is handled by this facility as the stack trace evolves. Over time exceptions that are part of a group of chained exception can be suppressed. Look at [the Throwable documentation][1] for more details.\r\n\r\n[1]:http://download.java.net/jdk8/docs/api/java/lang/Throwable.html","title":"What is a suppressed exception?","body":"<p>I think this has to do with the \"chained exception facility\". It will affect how an exception is handled by this facility as the stack trace evolves. Over time exceptions that are part of a group of chained exception can be suppressed. Look at <a href=\"http://download.java.net/jdk8/docs/api/java/lang/Throwable.html\" rel=\"nofollow\">the Throwable documentation</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1419610348,"creation_date":1382011915,"answer_id":19426420,"question_id":7849416,"body_markdown":"**ARM - Automatic Resource Management(Introduced since Java 7)**\r\n\r\nTake a very simple example\r\n\r\n    static String readFirstLineFromFileWithFinallyBlock(String path)\r\n                                                         throws IOException {\r\n        BufferedReader br = new BufferedReader(new FileReader(path));\r\n        try {\r\n            return br.readLine();\r\n        } finally {\r\n            if (br != null) br.close();\r\n        }\r\n    }\r\n\r\nNow if `readLine()` function throws Exception and then even `close()` function [in finally block] throws exception then the later is given more priority and is thrown back to the calling function. In this case the `Exception thrown by the readLine() method is ignored/suppressed`. You can chain the  causing exception in your exception and rethrow your exception from finally block.\r\n\r\nSince `java 7` functionality has been provided to retrieve suppressed Exceptions. You can call `public final java.lang.Throwable[] getSuppressed()` function on the catched throwable object to view the suppressed Exceptions.\r\n\r\nFor Eg.\r\n\r\n\tstatic String readFirstLineFromFileWithFinallyBlock(String path)\r\n\t\t\tthrows Exception {\r\n\t\ttry (BufferedReader br = new BufferedReader(new FileReader(path));) {\r\n\t\t\treturn br.readLine();\r\n\t\t}\r\n\t}\r\n\r\nNow if `br.readLine();` line throws `Exception1` and then lets say `Exception2` is thrown while closing the resource [Imagine this happening in an implicit finally block that try-with-resource statement creates] then Exception1 suppresses Exception2.\r\n\r\nFew points to note here - \r\n\r\n 1. If try-with-resource block throws exception i.e while resource instantiation then try block will not execute and the same exception will be thrown.\r\n 2. If instantiation of resource is successful, try block throws an exception and exception is thrown while closing the resource then the exception thrown while closing resource is suppressed by the exception thrown from try block.\r\n 3. If you provide explicit finally block and exception is thrown from that block it will suppress all other exception. (This explicit finally block executes after resources are closed)\r\n\r\nI have compiled most of the possible scenarios with code snippets and output in following post. \r\n\r\n[Suppressed exceptions in java 7][1]\r\n\r\nHope that helps.\r\n  \r\n\r\n\r\n  [1]: http://opensourceforgeeks.blogspot.in/2014/12/suppressed-exceptions-in-java-7.html","title":"What is a suppressed exception?","body":"<p><strong>ARM - Automatic Resource Management(Introduced since Java 7)</strong></p>\n\n<p>Take a very simple example</p>\n\n<pre><code>static String readFirstLineFromFileWithFinallyBlock(String path)\n                                                     throws IOException {\n    BufferedReader br = new BufferedReader(new FileReader(path));\n    try {\n        return br.readLine();\n    } finally {\n        if (br != null) br.close();\n    }\n}\n</code></pre>\n\n<p>Now if <code>readLine()</code> function throws Exception and then even <code>close()</code> function [in finally block] throws exception then the later is given more priority and is thrown back to the calling function. In this case the <code>Exception thrown by the readLine() method is ignored/suppressed</code>. You can chain the  causing exception in your exception and rethrow your exception from finally block.</p>\n\n<p>Since <code>java 7</code> functionality has been provided to retrieve suppressed Exceptions. You can call <code>public final java.lang.Throwable[] getSuppressed()</code> function on the catched throwable object to view the suppressed Exceptions.</p>\n\n<p>For Eg.</p>\n\n<pre><code>static String readFirstLineFromFileWithFinallyBlock(String path)\n        throws Exception {\n    try (BufferedReader br = new BufferedReader(new FileReader(path));) {\n        return br.readLine();\n    }\n}\n</code></pre>\n\n<p>Now if <code>br.readLine();</code> line throws <code>Exception1</code> and then lets say <code>Exception2</code> is thrown while closing the resource [Imagine this happening in an implicit finally block that try-with-resource statement creates] then Exception1 suppresses Exception2.</p>\n\n<p>Few points to note here - </p>\n\n<ol>\n<li>If try-with-resource block throws exception i.e while resource instantiation then try block will not execute and the same exception will be thrown.</li>\n<li>If instantiation of resource is successful, try block throws an exception and exception is thrown while closing the resource then the exception thrown while closing resource is suppressed by the exception thrown from try block.</li>\n<li>If you provide explicit finally block and exception is thrown from that block it will suppress all other exception. (This explicit finally block executes after resources are closed)</li>\n</ol>\n\n<p>I have compiled most of the possible scenarios with code snippets and output in following post. </p>\n\n<p><a href=\"http://opensourceforgeeks.blogspot.in/2014/12/suppressed-exceptions-in-java-7.html\" rel=\"nofollow\">Suppressed exceptions in java 7</a></p>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":2506033,"reputation":513,"user_id":2179737,"display_name":"user2179737"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410194079,"creation_date":1402496990,"answer_id":24165577,"question_id":7849416,"body_markdown":"You can suppress Exceptions in Java 6 as well (a little trickery involved),\r\n\r\nI created a utility that transparently handles suppressing exception in Java 1.6 and Java 1.7. You can find the implementation [here][1]\r\n\r\nAll you need is to call:\r\n\r\n    public static &lt;T extends Throwable&gt; T suppress(final T t, final Throwable suppressed) \r\n\r\nto supress a exception, and \r\n\r\n    public static Throwable [] getSuppressed(final Throwable t) {\r\n\r\nto get the suppressed exceptions of a Exception, in case anybody still uses Java 1.6\r\n\r\n  [1]: https://code.google.com/p/spf4j/source/browse/trunk/spf4j-core/src/main/java/org/spf4j/base/Throwables.java","title":"What is a suppressed exception?","body":"<p>You can suppress Exceptions in Java 6 as well (a little trickery involved),</p>\n\n<p>I created a utility that transparently handles suppressing exception in Java 1.6 and Java 1.7. You can find the implementation <a href=\"https://code.google.com/p/spf4j/source/browse/trunk/spf4j-core/src/main/java/org/spf4j/base/Throwables.java\" rel=\"nofollow\">here</a></p>\n\n<p>All you need is to call:</p>\n\n<pre><code>public static &lt;T extends Throwable&gt; T suppress(final T t, final Throwable suppressed) \n</code></pre>\n\n<p>to supress a exception, and </p>\n\n<pre><code>public static Throwable [] getSuppressed(final Throwable t) {\n</code></pre>\n\n<p>to get the suppressed exceptions of a Exception, in case anybody still uses Java 1.6</p>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1416468500,"creation_date":1416465776,"answer_id":27033358,"question_id":7849416,"body_markdown":"Before Java7; There are exceptions thrown in the code but were ignored somehow.\r\n\r\ne.g.)\r\n\r\n    public class SuppressedExceptions {\r\n\t  public static void main(String[] args) throws Exception {\r\n\t\ttry {\r\n\t\t\tcallTryFinallyBlock();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace(); **//Only Finally Exception is Caught**\r\n\t\t}\r\n\t  }\r\n\r\n\t  private static void callTryFinallyBlock() throws Exception {\r\n\t\ttry \r\n\t\t{\r\n\t\t\tthrow new TryException(); **//This is lost**\r\n\t\t}\r\n\t\tfinally\r\n\t\t{\r\n\t\t\tFinallyException fEx = new FinallyException();\r\n\t\t\tthrow fEx;\r\n\t\t}\r\n  \t  }\r\n    }\r\n    \r\n    class TryException extends Exception {\r\n    }\r\n    \r\n    class FinallyException extends Exception {\r\n    }\r\n\r\nA new constructor and two new methods were added to the Throwable class in JDK 7. \r\nThese are as below:\r\n\r\n    Throwable.getSupressed(); // Returns Throwable[]\r\n    Throwable.addSupressed(aThrowable);\r\n\r\nwith this new approach, we can handle those suppressed exception as well. \r\n\r\n    public class SuppressedExceptions {\r\n\t  public static void main(String[] args) throws Exception {\r\n\t\ttry {\r\n\t\t\tcallTryFinallyBlock();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tfor(Throwable t: e.getSuppressed())\r\n\t\t\t{\r\n\t\t\t\tt.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t  }\r\n\r\n\t  private static void callTryFinallyBlock() throws Exception {\r\n\t\tThrowable t = null;\r\n\t\ttry \r\n\t\t{\r\n\t\t\tthrow new TryException();\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tt = e;\r\n\t\t}\r\n\t\tfinally\r\n\t\t{\r\n\t\t\tFinallyException fEx = new FinallyException();\r\n\t\t\tif(t != null)fEx.addSuppressed(t);\r\n\t\t\tthrow fEx;\r\n\t\t}\r\n\t  }\r\n    }\r\n    \r\n    class TryException extends Exception {\r\n    }\r\n    \r\n    class FinallyException extends Exception {\r\n    }\r\n\r\n&gt; In Java7 try-with-resources; the exception at AutoCloseable::close()\r\n&gt; is added as suppressed exception by default along with try exception.\r\n\r\nAlso aware that this is different from [chained exceptions][1] (were introduced with JDK 1.4 and were intended to make it possible to easily track causal relationships between exceptions.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/chained.html","title":"What is a suppressed exception?","body":"<p>Before Java7; There are exceptions thrown in the code but were ignored somehow.</p>\n\n<p>e.g.)</p>\n\n<pre><code>public class SuppressedExceptions {\n  public static void main(String[] args) throws Exception {\n    try {\n        callTryFinallyBlock();\n    } catch (Exception e) {\n        e.printStackTrace(); **//Only Finally Exception is Caught**\n    }\n  }\n\n  private static void callTryFinallyBlock() throws Exception {\n    try \n    {\n        throw new TryException(); **//This is lost**\n    }\n    finally\n    {\n        FinallyException fEx = new FinallyException();\n        throw fEx;\n    }\n  }\n}\n\nclass TryException extends Exception {\n}\n\nclass FinallyException extends Exception {\n}\n</code></pre>\n\n<p>A new constructor and two new methods were added to the Throwable class in JDK 7. \nThese are as below:</p>\n\n<pre><code>Throwable.getSupressed(); // Returns Throwable[]\nThrowable.addSupressed(aThrowable);\n</code></pre>\n\n<p>with this new approach, we can handle those suppressed exception as well. </p>\n\n<pre><code>public class SuppressedExceptions {\n  public static void main(String[] args) throws Exception {\n    try {\n        callTryFinallyBlock();\n    } catch (Exception e) {\n        e.printStackTrace();\n        for(Throwable t: e.getSuppressed())\n        {\n            t.printStackTrace();\n        }\n    }\n  }\n\n  private static void callTryFinallyBlock() throws Exception {\n    Throwable t = null;\n    try \n    {\n        throw new TryException();\n    }\n    catch (Exception e) {\n        t = e;\n    }\n    finally\n    {\n        FinallyException fEx = new FinallyException();\n        if(t != null)fEx.addSuppressed(t);\n        throw fEx;\n    }\n  }\n}\n\nclass TryException extends Exception {\n}\n\nclass FinallyException extends Exception {\n}\n</code></pre>\n\n<blockquote>\n  <p>In Java7 try-with-resources; the exception at AutoCloseable::close()\n  is added as suppressed exception by default along with try exception.</p>\n</blockquote>\n\n<p>Also aware that this is different from <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/chained.html\">chained exceptions</a> (were introduced with JDK 1.4 and were intended to make it possible to easily track causal relationships between exceptions.)</p>\n"},{"tags":[],"owner":{"account_id":1294805,"reputation":4533,"user_id":1246145,"accept_rate":87,"display_name":"Adil"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1463132526,"creation_date":1463132526,"answer_id":37206580,"question_id":7849416,"body_markdown":"Concedering the code below:\r\n\r\n    public class MultipleExceptionsExample {\r\n\r\n\t   static class IOManip implements Closeable{\r\n\t\t   @Override\r\n\t\t   public void close() {\r\n\t\t\t   throw new RuntimeException(&quot;from IOManip.close&quot;);\r\n\t\t   }\r\n\t   }\r\n\t\r\n\t   public static void main(String[] args) {\r\n\t\t   try(IOManip ioManip = new IOManip()){\r\n\t\t\t   throw new RuntimeException(&quot;from try!&quot;);\r\n\t\t   }catch(Exception e){\r\n\t\t\t   throw new RuntimeException(&quot;from catch!&quot;);\r\n\t\t   }finally{\r\n\t\t\t   throw new RuntimeException(&quot;from finally!&quot;);\r\n\t\t   }\r\n\t   }\r\n    }\r\n\r\nWith all lines you will get: `java.lang.RuntimeException: from finally!`\r\n\r\nRemoving `finally` block you will get: `java.lang.RuntimeException: from catch!`\r\n\r\nRemoving `catch` block you will get:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: from try!\r\n    \tSuppressed: java.lang.RuntimeException: from IOManip.close\r\n\r\n","title":"What is a suppressed exception?","body":"<p>Concedering the code below:</p>\n\n<pre><code>public class MultipleExceptionsExample {\n\n   static class IOManip implements Closeable{\n       @Override\n       public void close() {\n           throw new RuntimeException(\"from IOManip.close\");\n       }\n   }\n\n   public static void main(String[] args) {\n       try(IOManip ioManip = new IOManip()){\n           throw new RuntimeException(\"from try!\");\n       }catch(Exception e){\n           throw new RuntimeException(\"from catch!\");\n       }finally{\n           throw new RuntimeException(\"from finally!\");\n       }\n   }\n}\n</code></pre>\n\n<p>With all lines you will get: <code>java.lang.RuntimeException: from finally!</code></p>\n\n<p>Removing <code>finally</code> block you will get: <code>java.lang.RuntimeException: from catch!</code></p>\n\n<p>Removing <code>catch</code> block you will get:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.RuntimeException: from try!\n    Suppressed: java.lang.RuntimeException: from IOManip.close\n</code></pre>\n"}],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71015,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":7849446,"answer_count":8,"score":92,"last_activity_date":1642668220,"creation_date":1319200271,"question_id":7849416,"body_markdown":"A comment (by user [soc][1]) on an [answer][2] to [a question about tail call optimisation][3] mentioned that Java 7 has a new feature called &quot;suppressed exceptions&quot;, because of &quot;the addition of ARM&quot; (support for ARM CPUs?).\r\n\r\nWhat is a &quot;suppressed exception&quot; in this context? In other contexts a &quot;suppressed exception&quot; would be an exception that was caught and then ignored (rarely a good idea); this is clearly something different.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/297776/soc\r\n  [2]: https://stackoverflow.com/questions/3616483/why-does-the-jvm-still-not-support-tail-call-optimization/3659402#3659402\r\n  [3]: https://stackoverflow.com/questions/3616483/why-does-the-jvm-still-not-support-tail-call-optimization","title":"What is a suppressed exception?","body":"<p>A comment (by user <a href=\"https://stackoverflow.com/users/297776/soc\">soc</a>) on an <a href=\"https://stackoverflow.com/questions/3616483/why-does-the-jvm-still-not-support-tail-call-optimization/3659402#3659402\">answer</a> to <a href=\"https://stackoverflow.com/questions/3616483/why-does-the-jvm-still-not-support-tail-call-optimization\">a question about tail call optimisation</a> mentioned that Java 7 has a new feature called \"suppressed exceptions\", because of \"the addition of ARM\" (support for ARM CPUs?).</p>\n\n<p>What is a \"suppressed exception\" in this context? In other contexts a \"suppressed exception\" would be an exception that was caught and then ignored (rarely a good idea); this is clearly something different.</p>\n"},{"tags":["java","postgresql","windows-services"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1418994926,"post_id":27566859,"comment_id":43558770,"body_markdown":"Using default postgres installer, it should be installed as a service in automatic start mode. Have you tried to reinstall postgres?","body":"Using default postgres installer, it should be installed as a service in automatic start mode. Have you tried to reinstall postgres?"},{"owner":{"account_id":5218307,"reputation":6554,"user_id":4172500,"accept_rate":70,"display_name":"chalitha geekiyanage"},"score":0,"creation_date":1418995189,"post_id":27566859,"comment_id":43558917,"body_markdown":"I tried it on another computer but I&#39;m getting the same error.\nCan you please tell me how to uninstall postgreqsl binaries.","body":"I tried it on another computer but I&#39;m getting the same error. Can you please tell me how to uninstall postgreqsl binaries."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1418995401,"post_id":27566859,"comment_id":43559013,"body_markdown":"go to your postgres install directory and run &quot;uninstall-postgresql.exe&quot;","body":"go to your postgres install directory and run &quot;uninstall-postgresql.exe&quot;"},{"owner":{"account_id":5218307,"reputation":6554,"user_id":4172500,"accept_rate":70,"display_name":"chalitha geekiyanage"},"score":0,"creation_date":1418995926,"post_id":27566859,"comment_id":43559308,"body_markdown":"I think some files are missing; I got some information from windows event viewer;\nI have update the question about it.","body":"I think some files are missing; I got some information from windows event viewer; I have update the question about it."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1418996311,"post_id":27566859,"comment_id":43559508,"body_markdown":"Did you install postgres on your computer or simply copy the files?","body":"Did you install postgres on your computer or simply copy the files?"},{"owner":{"account_id":5218307,"reputation":6554,"user_id":4172500,"accept_rate":70,"display_name":"chalitha geekiyanage"},"score":0,"creation_date":1418996474,"post_id":27566859,"comment_id":43559602,"body_markdown":"No I installed it according to the instructions given in [here](http://www.petrikainulainen.net/programming/tips-and-tricks/installing-postgresql-9-1-to-windows-7-from-the-binary-zip-distribution/)","body":"No I installed it according to the instructions given in <a href=\"http://www.petrikainulainen.net/programming/tips-and-tricks/installing-postgresql-9-1-to-windows-7-from-the-binary-zip-distribution/\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1418996712,"post_id":27566859,"comment_id":43559754,"body_markdown":"Try to install it using [pgAdmin](http://www.postgresql.org/ftp/pgadmin3/release/v1.20.0/win32/)","body":"Try to install it using <a href=\"http://www.postgresql.org/ftp/pgadmin3/release/v1.20.0/win32/\" rel=\"nofollow noreferrer\">pgAdmin</a>"},{"owner":{"account_id":5218307,"reputation":6554,"user_id":4172500,"accept_rate":70,"display_name":"chalitha geekiyanage"},"score":0,"creation_date":1418996897,"post_id":27566859,"comment_id":43559845,"body_markdown":"I copy and paste the pgsql folder to the system32 directory; Then I was able tho start the service successfully. But I want to run the database which is stored in the installed location.","body":"I copy and paste the pgsql folder to the system32 directory; Then I was able tho start the service successfully. But I want to run the database which is stored in the installed location."}],"answers":[{"tags":[],"owner":{"account_id":5218307,"reputation":6554,"user_id":4172500,"accept_rate":70,"display_name":"chalitha geekiyanage"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1573303700,"creation_date":1418999573,"answer_id":27568135,"question_id":27566859,"body_markdown":"Problem was solved\r\npath to the data directory was wrong in windows service file.\r\n\r\nSo I delete the service file from this method:\r\n\r\n***1)Run Regedit or Regedt32.***\r\n\r\n***2)Go to the registry entry &quot;HKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Services&quot;***\r\n\r\n***3)Look for the postgreSQL service that you want delete and delete it.***\r\n\r\n***4)reboot the computer.***\r\n\r\nAfter that open the cmd (Run as administrator) Go to the postgreSQL bin directory and run this command to create a new windows service:\r\n\r\n    pg_ctl.exe register -N &quot;PostgreSQL&quot; -U &quot;NT AUTHORITY\\NetworkService&quot; -D &quot;C:/Program Files/postgresql/pgsql/bin/pgsql/data&quot; -w\r\n\r\nThis worked for me. Hope this will help.","title":"How to run PostgreSQL as a service in windows?","body":"<p>Problem was solved\npath to the data directory was wrong in windows service file.</p>\n\n<p>So I delete the service file from this method:</p>\n\n<p><strong><em>1)Run Regedit or Regedt32.</em></strong></p>\n\n<p><strong><em>2)Go to the registry entry \"HKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Services\"</em></strong></p>\n\n<p><strong><em>3)Look for the postgreSQL service that you want delete and delete it.</em></strong></p>\n\n<p><strong><em>4)reboot the computer.</em></strong></p>\n\n<p>After that open the cmd (Run as administrator) Go to the postgreSQL bin directory and run this command to create a new windows service:</p>\n\n<pre><code>pg_ctl.exe register -N \"PostgreSQL\" -U \"NT AUTHORITY\\NetworkService\" -D \"C:/Program Files/postgresql/pgsql/bin/pgsql/data\" -w\n</code></pre>\n\n<p>This worked for me. Hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":104447,"reputation":13315,"user_id":279255,"accept_rate":34,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574777301,"creation_date":1574777301,"answer_id":59052762,"question_id":27566859,"body_markdown":"&gt; postgres cannot access the server configuration file \r\n&gt; &quot;C:/Windows/system32/pgsql/data/postgresql.conf&quot;: No such file or\r\n&gt; directory\r\n\r\nThis looks like your working directory is `C:\\Windows\\system32` and you are running postgres there and it looks for `data/postgresql.conf`.\r\n\r\nTry changing the working directory or specifying `-D C:\\path\\to\\my\\data`.","title":"How to run PostgreSQL as a service in windows?","body":"<blockquote>\n  <p>postgres cannot access the server configuration file \n  \"C:/Windows/system32/pgsql/data/postgresql.conf\": No such file or\n  directory</p>\n</blockquote>\n\n<p>This looks like your working directory is <code>C:\\Windows\\system32</code> and you are running postgres there and it looks for <code>data/postgresql.conf</code>.</p>\n\n<p>Try changing the working directory or specifying <code>-D C:\\path\\to\\my\\data</code>.</p>\n"},{"tags":[],"owner":{"account_id":2878107,"reputation":3155,"user_id":2469567,"display_name":"foxiris"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1610938823,"creation_date":1607244364,"answer_id":65166229,"question_id":27566859,"body_markdown":"This is a note for a normal user. If using an official installer it should has a build-in service,\r\n 1. &lt;kbd&gt;Win&lt;/kbd&gt;+&lt;kbd&gt;R&lt;/kbd&gt; and type `services.msc`\r\n 2. Search Postgres service based on the version installed,\r\n    e.g., &quot;postgresql-x64-13 - PostgreSQL Server 13&quot;\r\n 3. Click stop, start, or restart the service option\r\n\r\n","title":"How to run PostgreSQL as a service in windows?","body":"<p>This is a note for a normal user. If using an official installer it should has a build-in service,</p>\n<ol>\n<li><kbd>Win</kbd>+<kbd>R</kbd> and type <code>services.msc</code></li>\n<li>Search Postgres service based on the version installed,\ne.g., &quot;postgresql-x64-13 - PostgreSQL Server 13&quot;</li>\n<li>Click stop, start, or restart the service option</li>\n</ol>\n"}],"owner":{"account_id":5218307,"reputation":6554,"user_id":4172500,"accept_rate":70,"display_name":"chalitha geekiyanage"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36661,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":27568135,"answer_count":3,"score":9,"last_activity_date":1642668197,"creation_date":1418994652,"question_id":27566859,"body_markdown":"I installed postgreSQL binaries in windows 7 32bit operating system; I can start the server from cmd but **I cant run it as a windows service.**\r\n\r\n**This is the error that I&#39;m getting when I try to start the service manually:**\r\n\r\n    &quot;The postgreSQL service on local computer started and then stopped. some services stop automatically if they are not in use by other servces or programs&quot;\r\n\r\nAll I need to do is; after booting to windows when I double clicked my java application I need to run my app smoothly without any database errors. I cannot do this because postgreSQL is not running as a windows service.\r\n\r\n***I found this in windows event viewer:***\r\n\r\n    The description for Event ID 0 from source PostgreSQL cannot be found.\r\n    Either the component that raises this event is not installed on your local computer or the installation is corrupted.\r\n    You can install or repair the component on the local computer.\r\n\r\n    If the event originated on another computer, the display information had to be saved with the event.\r\n\r\n    The following information was included with the event: \r\n\r\n    postgres cannot access the server configuration file \r\n    &quot;C:/Windows/system32/pgsql/data/postgresql.conf&quot;: No such file or directory\r\n\r\n\r\nI googled about it but I was not able to find an answer.\r\n","title":"How to run PostgreSQL as a service in windows?","body":"<p>I installed postgreSQL binaries in windows 7 32bit operating system; I can start the server from cmd but <strong>I cant run it as a windows service.</strong></p>\n\n<p><strong>This is the error that I'm getting when I try to start the service manually:</strong></p>\n\n<pre><code>\"The postgreSQL service on local computer started and then stopped. some services stop automatically if they are not in use by other servces or programs\"\n</code></pre>\n\n<p>All I need to do is; after booting to windows when I double clicked my java application I need to run my app smoothly without any database errors. I cannot do this because postgreSQL is not running as a windows service.</p>\n\n<p><strong><em>I found this in windows event viewer:</em></strong></p>\n\n<pre><code>The description for Event ID 0 from source PostgreSQL cannot be found.\nEither the component that raises this event is not installed on your local computer or the installation is corrupted.\nYou can install or repair the component on the local computer.\n\nIf the event originated on another computer, the display information had to be saved with the event.\n\nThe following information was included with the event: \n\npostgres cannot access the server configuration file \n\"C:/Windows/system32/pgsql/data/postgresql.conf\": No such file or directory\n</code></pre>\n\n<p>I googled about it but I was not able to find an answer.</p>\n"},{"tags":["java","spring-boot","model-view-controller","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":23996479,"reputation":139,"user_id":17981941,"display_name":"Dhanraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642668012,"creation_date":1642668012,"answer_id":70783031,"question_id":70780828,"body_markdown":"You might have to use @RequestPart instead of @RequestBody.\r\nFor reference - \r\nhttps://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/","title":"How To accept File and object in springboot controller java","body":"<p>You might have to use @RequestPart instead of @RequestBody.\nFor reference -\n<a href=\"https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/\" rel=\"nofollow noreferrer\">https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/</a></p>\n"}],"owner":{"account_id":23994753,"reputation":3,"user_id":17980393,"display_name":"pratikpoponimb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70783031,"answer_count":1,"score":0,"last_activity_date":1642668012,"creation_date":1642653097,"question_id":70780828,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://photos.app.goo.gl/g3pNpqSMcFATNNcaA\r\n\r\nI want to accept Both file and object that will send on swagger to Spring boot controller **I will Receive request in my controller like **\r\n\r\n     @PostMapping(&quot;/document/upload&quot;)\r\n\tpublic void uploadFile(@RequestPart(&quot;file&quot;) MultipartFile file,@RequestBody FileUpload jsondata){...}\r\nIt will not work for me ----------415   Content type &#39;multipart/form-data;boundary=----WebKitFormBoundaryoOpC1bcOXKJ7ETXw;charset=UTF-8&#39; not supported]","title":"How To accept File and object in springboot controller java","body":"<p><a href=\"https://photos.app.goo.gl/g3pNpqSMcFATNNcaA\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want to accept Both file and object that will send on swagger to Spring boot controller **I will Receive request in my controller like **</p>\n<pre><code> @PostMapping(&quot;/document/upload&quot;)\npublic void uploadFile(@RequestPart(&quot;file&quot;) MultipartFile file,@RequestBody FileUpload jsondata){...}\n</code></pre>\n<p>It will not work for me ----------415   Content type 'multipart/form-data;boundary=----WebKitFormBoundaryoOpC1bcOXKJ7ETXw;charset=UTF-8' not supported]</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1642654463,"post_id":70780942,"comment_id":125129980,"body_markdown":"AsyncTask is [Deprecated](https://stackoverflow.com/questions/58767733/the-asynctask-api-is-deprecated-in-android-11-what-are-the-alternatives) and not recommended at all . Use Some Other alternative for threading .","body":"AsyncTask is <a href=\"https://stackoverflow.com/questions/58767733/the-asynctask-api-is-deprecated-in-android-11-what-are-the-alternatives\">Deprecated</a> and not recommended at all . Use Some Other alternative for threading ."}],"answers":[{"tags":[],"owner":{"account_id":17782422,"reputation":357,"user_id":12913325,"display_name":"Jay_Panchal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642667934,"creation_date":1642667934,"answer_id":70783007,"question_id":70780942,"body_markdown":"You can use this code to show progress bar when using Asynctask\r\n\r\nhttps://www.concretepage.com/android/android-asynctask-example-with-progress-bar","title":"show ProgressBar while file is uploading","body":"<p>You can use this code to show progress bar when using Asynctask</p>\n<p><a href=\"https://www.concretepage.com/android/android-asynctask-example-with-progress-bar\" rel=\"nofollow noreferrer\">https://www.concretepage.com/android/android-asynctask-example-with-progress-bar</a></p>\n"}],"owner":{"account_id":21519901,"reputation":11,"user_id":15861192,"display_name":"Javad Mahmoodi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1642667934,"creation_date":1642654226,"question_id":70780942,"body_markdown":"I wrote a code in the Android project that uploads a file with a specific name and address to the server. But ProgressBar does not work well and does not show progress and file upload percentage. But the file upload works well and is located on the server. Now I want to show the percentage of progress in the Progress bar when uploading the file to the server to determine how much of the file has been uploaded to the server.\r\nI tried to do this with AsyncTask.\r\nMy code ...\r\n\r\n\r\n```\r\nprivate class UploadTask extends AsyncTask&lt;String, Integer, String&gt; {\r\n\r\n        private final Context context;\r\n\r\n        public UploadTask(Context context) {\r\n            this.context = context;\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... sUrl) {\r\n            // take CPU lock to prevent CPU from going off if the user\r\n            // presses the power button during download\r\n            PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\r\n            PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\r\n                    getClass().getName());\r\n            wl.acquire(10 * 60 * 1000L /*10 minutes*/);\r\n\r\n            try {\r\n\r\n                String fileName = uploadFilePath + uploadFileName;\r\n\r\n                HttpURLConnection conn = null;\r\n                DataOutputStream dos = null;\r\n                String lineEnd = &quot;\\r\\n&quot;;\r\n                String twoHyphens = &quot;--&quot;;\r\n                String boundary = &quot;*****&quot;;\r\n                int bytesRead, bytesAvailable, bufferSize;\r\n                byte[] buffer;\r\n                int maxBufferSize = 1 * 1024 * 1024;\r\n                File sourceFile = new File(uploadFilePath + uploadFileName);\r\n\r\n                if (!sourceFile.isFile()) {\r\n\r\n                    dialog.dismiss();\r\n\r\n                    Log.e(&quot;uploadFile&quot;, &quot;Source File not exist :&quot;\r\n                            + uploadFilePath + &quot;&quot; + uploadFileName);\r\n\r\n                    getActivity().runOnUiThread(new Runnable() {\r\n                        @SuppressLint(&quot;SetTextI18n&quot;)\r\n                        public void run() {\r\n                            messageText.setText(&quot;Source File not exist :&quot;\r\n                                    + uploadFilePath + &quot;&quot; + uploadFileName);\r\n                        }\r\n                    });\r\n                    Sneaker.with(getActivity())\r\n                            .setTitle(&quot;Error !&quot;)\r\n                            .setMessage(&quot;Source File not exist&quot;)\r\n                            .sneakError();\r\n\r\n                } else {\r\n                    try {\r\n\r\n                        // open a URL connection to the Servlet\r\n                        FileInputStream fileInputStream = new FileInputStream(sourceFile);\r\n//                        URL url = new URL(upLoadServerUri);\r\n                        URL url = new URL(sUrl[0]);\r\n\r\n                        // Open a HTTP  connection to  the URL\r\n                        conn = (HttpURLConnection) url.openConnection();\r\n                        conn.setDoInput(true); // Allow Inputs\r\n                        conn.setDoOutput(true); // Allow Outputs\r\n                        conn.setUseCaches(false); // Don&#39;t use a Cached Copy\r\n                        conn.setRequestMethod(&quot;POST&quot;);\r\n                        conn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n                        conn.setRequestProperty(&quot;ENCTYPE&quot;, &quot;multipart/form-data&quot;);\r\n                        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data;boundary=&quot; + boundary);\r\n                        conn.setRequestProperty(&quot;uploaded_file&quot;, fileName);\r\n\r\n                        dos = new DataOutputStream(conn.getOutputStream());\r\n\r\n                        dos.writeBytes(twoHyphens + boundary + lineEnd);\r\n                        String name = key_login_userid + &quot;.JM&quot;;\r\n                        dos.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;uploaded_file\\&quot;;filename=\\&quot;&quot; + name + &quot;\\&quot;&quot; + lineEnd);\r\n\r\n                        dos.writeBytes(lineEnd);\r\n\r\n                        // create a buffer of  maximum size\r\n                        bytesAvailable = fileInputStream.available();\r\n\r\n                        bufferSize = Math.min(bytesAvailable, maxBufferSize);\r\n                        buffer = new byte[bufferSize];\r\n\r\n                        // read file and write it into form...\r\n                        bytesRead = fileInputStream.read(buffer, 0, bufferSize);\r\n                        long total = 0;\r\n                        while (bytesRead &gt; 0) {\r\n                            total++;\r\n                            dos.write(buffer, 0, bufferSize);\r\n                            bytesAvailable = fileInputStream.available();\r\n                            bufferSize = Math.min(bytesAvailable, maxBufferSize);\r\n                            bytesRead = fileInputStream.read(buffer, 0, bufferSize);\r\n                            publishProgress((int) (bufferSize * 100 / maxBufferSize));\r\n                        }\r\n\r\n                        // send multipart form data necesssary after file data...\r\n                        dos.writeBytes(lineEnd);\r\n                        dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);\r\n\r\n                        // Responses from the server (code and message)\r\n                        serverResponseCode = conn.getResponseCode();\r\n                        String serverResponseMessage = conn.getResponseMessage();\r\n\r\n                        Log.i(&quot;uploadFile&quot;, &quot;HTTP Response is : &quot;\r\n                                + serverResponseMessage + &quot;: &quot; + serverResponseCode);\r\n\r\n                        if (serverResponseCode == 200) {\r\n\r\n                            getActivity().runOnUiThread(new Runnable() {\r\n                                public void run() {\r\n\r\n                                    messageText.setText(&quot;&quot;);\r\n\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                        //close the streams //\r\n                        fileInputStream.close();\r\n                        dos.flush();\r\n                        dos.close();\r\n\r\n                    } catch (MalformedURLException ex) {\r\n\r\n                        dialog.dismiss();\r\n                        ex.printStackTrace();\r\n\r\n                        getActivity().runOnUiThread(new Runnable() {\r\n                            @SuppressLint(&quot;SetTextI18n&quot;)\r\n                            public void run() {\r\n                                messageText.setText(&quot;MalformedURLException Exception : check script url.&quot;);\r\n                                Sneaker.with(getActivity())\r\n                                        .setTitle(&quot;Error !&quot;)\r\n                                        .setMessage(&quot;MalformedURLException&quot;)\r\n                                        .sneakError();\r\n                            }\r\n                        });\r\n\r\n                        Log.e(&quot;Upload file to server&quot;, &quot;error: &quot; + ex.getMessage(), ex);\r\n                    } catch (Exception e) {\r\n\r\n                        dialog.dismiss();\r\n                        e.printStackTrace();\r\n\r\n                        getActivity().runOnUiThread(new Runnable() {\r\n                            @SuppressLint(&quot;SetTextI18n&quot;)\r\n                            public void run() {\r\n                                messageText.setText(&quot;Got Exception : see logcat &quot;);\r\n                                Sneaker.with(getActivity())\r\n                                        .setTitle(&quot;Error !&quot;)\r\n                                        .setMessage(&quot;Got Exception : see logcat&quot;)\r\n                                        .sneakError();\r\n\r\n                            }\r\n                        });\r\n                        Log.e(&quot;Upload file to server Exception&quot;, &quot;Exception : &quot;\r\n                                + e.getMessage(), e);\r\n                    }\r\n                    dialog.dismiss();\r\n\r\n                } // End else block\r\n            } finally {\r\n                wl.release();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            dialog.show();\r\n        }\r\n\r\n        @Override\r\n        protected void onProgressUpdate(Integer... progress) {\r\n            super.onProgressUpdate(progress);\r\n            // if we get here, length is known, now set indeterminate to false\r\n            dialog.setIndeterminate(false);\r\n            dialog.setMax(100);\r\n            dialog.setProgress(progress[0]);\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            dialog.dismiss();\r\n            if (result != null) {\r\n                Sneaker.with(getActivity())\r\n                        .setTitle(&quot;خطا !&quot;)\r\n                        .setMessage(&quot;خطا در ارسال اطلاعات.&quot;)\r\n                        .sneakError();\r\n            } else {\r\n                Sneaker.with(getActivity())\r\n                        .setTitle(&quot;توجه!&quot;)\r\n                        .setMessage(&quot;ارسال اطلاعات کامل شد.&quot;)\r\n                        .sneakSuccess();\r\n            }\r\n        }\r\n\r\n    }\r\n```","title":"show ProgressBar while file is uploading","body":"<p>I wrote a code in the Android project that uploads a file with a specific name and address to the server. But ProgressBar does not work well and does not show progress and file upload percentage. But the file upload works well and is located on the server. Now I want to show the percentage of progress in the Progress bar when uploading the file to the server to determine how much of the file has been uploaded to the server.\nI tried to do this with AsyncTask.\nMy code ...</p>\n<pre><code>private class UploadTask extends AsyncTask&lt;String, Integer, String&gt; {\n\n        private final Context context;\n\n        public UploadTask(Context context) {\n            this.context = context;\n        }\n\n        @Override\n        protected String doInBackground(String... sUrl) {\n            // take CPU lock to prevent CPU from going off if the user\n            // presses the power button during download\n            PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\n            PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\n                    getClass().getName());\n            wl.acquire(10 * 60 * 1000L /*10 minutes*/);\n\n            try {\n\n                String fileName = uploadFilePath + uploadFileName;\n\n                HttpURLConnection conn = null;\n                DataOutputStream dos = null;\n                String lineEnd = &quot;\\r\\n&quot;;\n                String twoHyphens = &quot;--&quot;;\n                String boundary = &quot;*****&quot;;\n                int bytesRead, bytesAvailable, bufferSize;\n                byte[] buffer;\n                int maxBufferSize = 1 * 1024 * 1024;\n                File sourceFile = new File(uploadFilePath + uploadFileName);\n\n                if (!sourceFile.isFile()) {\n\n                    dialog.dismiss();\n\n                    Log.e(&quot;uploadFile&quot;, &quot;Source File not exist :&quot;\n                            + uploadFilePath + &quot;&quot; + uploadFileName);\n\n                    getActivity().runOnUiThread(new Runnable() {\n                        @SuppressLint(&quot;SetTextI18n&quot;)\n                        public void run() {\n                            messageText.setText(&quot;Source File not exist :&quot;\n                                    + uploadFilePath + &quot;&quot; + uploadFileName);\n                        }\n                    });\n                    Sneaker.with(getActivity())\n                            .setTitle(&quot;Error !&quot;)\n                            .setMessage(&quot;Source File not exist&quot;)\n                            .sneakError();\n\n                } else {\n                    try {\n\n                        // open a URL connection to the Servlet\n                        FileInputStream fileInputStream = new FileInputStream(sourceFile);\n//                        URL url = new URL(upLoadServerUri);\n                        URL url = new URL(sUrl[0]);\n\n                        // Open a HTTP  connection to  the URL\n                        conn = (HttpURLConnection) url.openConnection();\n                        conn.setDoInput(true); // Allow Inputs\n                        conn.setDoOutput(true); // Allow Outputs\n                        conn.setUseCaches(false); // Don't use a Cached Copy\n                        conn.setRequestMethod(&quot;POST&quot;);\n                        conn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n                        conn.setRequestProperty(&quot;ENCTYPE&quot;, &quot;multipart/form-data&quot;);\n                        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data;boundary=&quot; + boundary);\n                        conn.setRequestProperty(&quot;uploaded_file&quot;, fileName);\n\n                        dos = new DataOutputStream(conn.getOutputStream());\n\n                        dos.writeBytes(twoHyphens + boundary + lineEnd);\n                        String name = key_login_userid + &quot;.JM&quot;;\n                        dos.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;uploaded_file\\&quot;;filename=\\&quot;&quot; + name + &quot;\\&quot;&quot; + lineEnd);\n\n                        dos.writeBytes(lineEnd);\n\n                        // create a buffer of  maximum size\n                        bytesAvailable = fileInputStream.available();\n\n                        bufferSize = Math.min(bytesAvailable, maxBufferSize);\n                        buffer = new byte[bufferSize];\n\n                        // read file and write it into form...\n                        bytesRead = fileInputStream.read(buffer, 0, bufferSize);\n                        long total = 0;\n                        while (bytesRead &gt; 0) {\n                            total++;\n                            dos.write(buffer, 0, bufferSize);\n                            bytesAvailable = fileInputStream.available();\n                            bufferSize = Math.min(bytesAvailable, maxBufferSize);\n                            bytesRead = fileInputStream.read(buffer, 0, bufferSize);\n                            publishProgress((int) (bufferSize * 100 / maxBufferSize));\n                        }\n\n                        // send multipart form data necesssary after file data...\n                        dos.writeBytes(lineEnd);\n                        dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);\n\n                        // Responses from the server (code and message)\n                        serverResponseCode = conn.getResponseCode();\n                        String serverResponseMessage = conn.getResponseMessage();\n\n                        Log.i(&quot;uploadFile&quot;, &quot;HTTP Response is : &quot;\n                                + serverResponseMessage + &quot;: &quot; + serverResponseCode);\n\n                        if (serverResponseCode == 200) {\n\n                            getActivity().runOnUiThread(new Runnable() {\n                                public void run() {\n\n                                    messageText.setText(&quot;&quot;);\n\n                                }\n                            });\n                        }\n\n                        //close the streams //\n                        fileInputStream.close();\n                        dos.flush();\n                        dos.close();\n\n                    } catch (MalformedURLException ex) {\n\n                        dialog.dismiss();\n                        ex.printStackTrace();\n\n                        getActivity().runOnUiThread(new Runnable() {\n                            @SuppressLint(&quot;SetTextI18n&quot;)\n                            public void run() {\n                                messageText.setText(&quot;MalformedURLException Exception : check script url.&quot;);\n                                Sneaker.with(getActivity())\n                                        .setTitle(&quot;Error !&quot;)\n                                        .setMessage(&quot;MalformedURLException&quot;)\n                                        .sneakError();\n                            }\n                        });\n\n                        Log.e(&quot;Upload file to server&quot;, &quot;error: &quot; + ex.getMessage(), ex);\n                    } catch (Exception e) {\n\n                        dialog.dismiss();\n                        e.printStackTrace();\n\n                        getActivity().runOnUiThread(new Runnable() {\n                            @SuppressLint(&quot;SetTextI18n&quot;)\n                            public void run() {\n                                messageText.setText(&quot;Got Exception : see logcat &quot;);\n                                Sneaker.with(getActivity())\n                                        .setTitle(&quot;Error !&quot;)\n                                        .setMessage(&quot;Got Exception : see logcat&quot;)\n                                        .sneakError();\n\n                            }\n                        });\n                        Log.e(&quot;Upload file to server Exception&quot;, &quot;Exception : &quot;\n                                + e.getMessage(), e);\n                    }\n                    dialog.dismiss();\n\n                } // End else block\n            } finally {\n                wl.release();\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            dialog.show();\n        }\n\n        @Override\n        protected void onProgressUpdate(Integer... progress) {\n            super.onProgressUpdate(progress);\n            // if we get here, length is known, now set indeterminate to false\n            dialog.setIndeterminate(false);\n            dialog.setMax(100);\n            dialog.setProgress(progress[0]);\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            dialog.dismiss();\n            if (result != null) {\n                Sneaker.with(getActivity())\n                        .setTitle(&quot;خطا !&quot;)\n                        .setMessage(&quot;خطا در ارسال اطلاعات.&quot;)\n                        .sneakError();\n            } else {\n                Sneaker.with(getActivity())\n                        .setTitle(&quot;توجه!&quot;)\n                        .setMessage(&quot;ارسال اطلاعات کامل شد.&quot;)\n                        .sneakSuccess();\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","algorithm","duplicates"],"comments":[{"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"score":0,"creation_date":1642665751,"post_id":70782577,"comment_id":125132708,"body_markdown":"And what is your question?","body":"And what is your question?"},{"owner":{"account_id":23996527,"reputation":21,"user_id":17981983,"display_name":"Killig"},"score":0,"creation_date":1642666663,"post_id":70782577,"comment_id":125133039,"body_markdown":"I know my code is wrong, but I don&#39;t know what is wrong.","body":"I know my code is wrong, but I don&#39;t know what is wrong."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1642667466,"post_id":70782577,"comment_id":125133347,"body_markdown":"`dateiEinlesen()` should return the `ArrayList`, which you then pass to the `inNeueDateischreiben()` method. Currently, you don&#39;t return / pass the information. You currently only print the `arr` in your `dateiEinlesen()`.","body":"<code>dateiEinlesen()</code> should return the <code>ArrayList</code>, which you then pass to the <code>inNeueDateischreiben()</code> method. Currently, you don&#39;t return / pass the information. You currently only print the <code>arr</code> in your <code>dateiEinlesen()</code>."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1642667540,"post_id":70782577,"comment_id":125133373,"body_markdown":"You most likely get a `NullPointerException` right now, since you pass `null` to `inNeueDateiSchreiben()`. But the information about _what is happening_ is something that **you** should provide, instead of expecting people to figure it out.","body":"You most likely get a <code>NullPointerException</code> right now, since you pass <code>null</code> to <code>inNeueDateiSchreiben()</code>. But the information about <i>what is happening</i> is something that <b>you</b> should provide, instead of expecting people to figure it out."},{"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"score":0,"creation_date":1642668083,"post_id":70782577,"comment_id":125133555,"body_markdown":"How do you know it is wrong? Did you get an error message? Was there unexpected output? I&#39;ve asked you four questions already now and you still haven&#39;t asked just one... :/","body":"How do you know it is wrong? Did you get an error message? Was there unexpected output? I&#39;ve asked you four questions already now and you still haven&#39;t asked just one... :/"},{"owner":{"account_id":23996527,"reputation":21,"user_id":17981983,"display_name":"Killig"},"score":0,"creation_date":1642677942,"post_id":70782577,"comment_id":125137417,"body_markdown":"I get a NullPointException. Also The file is created, but nothing is written into it. Have now virtually started again from scratch, however, not even the file is created.","body":"I get a NullPointException. Also The file is created, but nothing is written into it. Have now virtually started again from scratch, however, not even the file is created."}],"answers":[{"tags":[],"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642667919,"creation_date":1642667620,"answer_id":70782947,"question_id":70782577,"body_markdown":"Your variable namings (suche2, suche22) makes reading the code difficult.\r\n\r\nOther than that, your writing algorithm looks funny. You only compare adjacent lines while duplicate lines could be anywhere. In addition, `writer.write` only hits when you find a duplicate. Also how you call it and other things don&#39;t look right.\r\n\r\nHere are some general steps to write this correctly:\r\n\r\n 1. Open the file so you can read it line by line.\r\n 2. Create a file writer\r\n 3. Create a set or dictionary like data structure that enables you to look up items in constant time.\r\n 4. For each line that you read do the following:\r\n   - Look if the line exists in the dictionary.\r\n   - If not, write it to the new file\r\n   - If it already exists in the dictionary, skip to step 4.\r\n   - Add that line to the dictionary for later comparisons and go to step 4.\r\n 5. When the lines are exhausted close both files.\r\n\r\nI suggest, you rewrite your code completely as the current version is very difficult to amend.","title":"algorithm arraylist remove String duplicates and save to new text file","body":"<p>Your variable namings (suche2, suche22) makes reading the code difficult.</p>\n<p>Other than that, your writing algorithm looks funny. You only compare adjacent lines while duplicate lines could be anywhere. In addition, <code>writer.write</code> only hits when you find a duplicate. Also how you call it and other things don't look right.</p>\n<p>Here are some general steps to write this correctly:</p>\n<ol>\n<li>Open the file so you can read it line by line.</li>\n<li>Create a file writer</li>\n<li>Create a set or dictionary like data structure that enables you to look up items in constant time.</li>\n<li>For each line that you read do the following:</li>\n</ol>\n<ul>\n<li>Look if the line exists in the dictionary.</li>\n<li>If not, write it to the new file</li>\n<li>If it already exists in the dictionary, skip to step 4.</li>\n<li>Add that line to the dictionary for later comparisons and go to step 4.</li>\n</ul>\n<ol start=\"5\">\n<li>When the lines are exhausted close both files.</li>\n</ol>\n<p>I suggest, you rewrite your code completely as the current version is very difficult to amend.</p>\n"}],"owner":{"account_id":23996527,"reputation":21,"user_id":17981983,"display_name":"Killig"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1642667919,"creation_date":1642665665,"question_id":70782577,"body_markdown":"I am currently writing an algorithm that creates an ArrayList from a .txt file, checks it with a loop for duplicates (where the loop should look like this:\r\n Line one is written to new .txt &amp; boolean found is set to true because the string was already found.\r\nLine 2 is written to new .txt etc.\r\nBut if two strings are identical, the duplicate, i.e. the second string should just be ignored and continue with the next one).\r\n\r\n    public class test {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tString suche = &quot;88 BETRAG-MINUS VALUE &#39;M&#39;.&quot;;\r\n\t\tString suche2 = &quot;88 BETRAG-PLUS VALUE &#39;P&#39;&quot;;\r\n\t\tboolean gefunden = false;\r\n\t\tFile neueDatei = new File(&quot;C:\\\\Dev\\\\xx.txt&quot;);\r\n\t\tif (neueDatei.createNewFile()) {\r\n\t\t\tSystem.out.println(&quot;Datei wurde erstellt&quot;);\r\n\t\t}\r\n\r\n\t\tif (gefunden == false) {\r\n\t\t\tdateiEinlesen(null, gefunden);\r\n\t\t\tArrayList&lt;String&gt; arr = null;\r\n\t\t\tinNeueDateischreiben(neueDatei, gefunden, arr, suche, suche2);\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void dateiEinlesen(File neueDatei, boolean gefunden) {\r\n\r\n\t\tBufferedReader reader;\r\n\t\tString zeile = null;\r\n\r\n\t\ttry {\r\n\t\t\treader = new BufferedReader(new FileReader(&quot;C:\\\\Dev\\\\Test.txt&quot;));\r\n\t\t\tzeile = reader.readLine();\r\n\r\n\t\t\tArrayList&lt;String[]&gt; arr = new ArrayList&lt;String[]&gt;();\r\n\r\n\t\t\twhile (zeile != null) {\r\n\t\t\t\tarr.add(zeile.split(&quot; &quot;));\r\n\t\t\t\tzeile = reader.readLine();\r\n\t\t\t}\r\n\t\t\tSystem.out.println(arr);\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Error2 :&quot; + e);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static void inNeueDateischreiben(File neueDatei, boolean gefunden, ArrayList&lt;String&gt; arr, String suche2,\r\n\t\t\tString suche22) throws IOException {\r\n\t\tFileWriter writer = new FileWriter(suche22);\r\n\t\tString lastValue = null;\r\n\t\tfor (Iterator&lt;String&gt; i = arr.iterator(); i.hasNext();) {\r\n\t\t\tString currentValue = i.next();\r\n\t\t\tif (lastValue != null &amp;&amp; currentValue.equals(lastValue)) {\r\n\t\t\t\ti.remove();\r\n\t\t\t\t{\r\n\t\t\t\t\twriter.write(suche2.toString());\r\n\t\t\t\t\tgefunden = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\twriter.close();\r\n\t\t}\r\n\r\n\t}\r\n\r\n}","title":"algorithm arraylist remove String duplicates and save to new text file","body":"<p>I am currently writing an algorithm that creates an ArrayList from a .txt file, checks it with a loop for duplicates (where the loop should look like this:\nLine one is written to new .txt &amp; boolean found is set to true because the string was already found.\nLine 2 is written to new .txt etc.\nBut if two strings are identical, the duplicate, i.e. the second string should just be ignored and continue with the next one).</p>\n<pre><code>public class test {\n\npublic static void main(String[] args) throws IOException {\n    String suche = &quot;88 BETRAG-MINUS VALUE 'M'.&quot;;\n    String suche2 = &quot;88 BETRAG-PLUS VALUE 'P'&quot;;\n    boolean gefunden = false;\n    File neueDatei = new File(&quot;C:\\\\Dev\\\\xx.txt&quot;);\n    if (neueDatei.createNewFile()) {\n        System.out.println(&quot;Datei wurde erstellt&quot;);\n    }\n\n    if (gefunden == false) {\n        dateiEinlesen(null, gefunden);\n        ArrayList&lt;String&gt; arr = null;\n        inNeueDateischreiben(neueDatei, gefunden, arr, suche, suche2);\n\n    }\n}\n\npublic static void dateiEinlesen(File neueDatei, boolean gefunden) {\n\n    BufferedReader reader;\n    String zeile = null;\n\n    try {\n        reader = new BufferedReader(new FileReader(&quot;C:\\\\Dev\\\\Test.txt&quot;));\n        zeile = reader.readLine();\n\n        ArrayList&lt;String[]&gt; arr = new ArrayList&lt;String[]&gt;();\n\n        while (zeile != null) {\n            arr.add(zeile.split(&quot; &quot;));\n            zeile = reader.readLine();\n        }\n        System.out.println(arr);\n\n    } catch (IOException e) {\n        System.err.println(&quot;Error2 :&quot; + e);\n    }\n\n}\n\npublic static void inNeueDateischreiben(File neueDatei, boolean gefunden, ArrayList&lt;String&gt; arr, String suche2,\n        String suche22) throws IOException {\n    FileWriter writer = new FileWriter(suche22);\n    String lastValue = null;\n    for (Iterator&lt;String&gt; i = arr.iterator(); i.hasNext();) {\n        String currentValue = i.next();\n        if (lastValue != null &amp;&amp; currentValue.equals(lastValue)) {\n            i.remove();\n            {\n                writer.write(suche2.toString());\n                gefunden = true;\n\n            }\n\n        }\n        writer.close();\n    }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","methods","stringbuilder"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":7,"creation_date":1642604972,"post_id":70772956,"comment_id":125115816,"body_markdown":"What do their respective Javadoc entries say?","body":"What do their respective Javadoc entries say?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1642605098,"post_id":70772956,"comment_id":125115885,"body_markdown":"Possible duplicate of [what is Java API?](https://stackoverflow.com/questions/4562767/what-is-java-api)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4562767/what-is-java-api\">what is Java API?</a>"},{"owner":{"display_name":"user6073886"},"score":6,"creation_date":1642605109,"post_id":70772956,"comment_id":125115893,"body_markdown":"Your question is basically &quot;Why does the `delete(int, int)` method of `StringBuilder` behave exactly the way it is described in its official documentation&quot;. Which isn&#39;t a very good question.","body":"Your question is basically &quot;Why does the <code>delete(int, int)</code> method of <code>StringBuilder</code> behave exactly the way it is described in its official documentation&quot;. Which isn&#39;t a very good question."},{"owner":{"account_id":11858806,"reputation":101,"user_id":8678114,"display_name":"NightStorm"},"score":0,"creation_date":1642605120,"post_id":70772956,"comment_id":125115897,"body_markdown":"I&#39;m just reading it now. It takes one from the end variable, why though?","body":"I&#39;m just reading it now. It takes one from the end variable, why though?"},{"owner":{"account_id":6717294,"reputation":437,"user_id":5178726,"display_name":"Aron Hoogeveen"},"score":1,"creation_date":1642605291,"post_id":70772956,"comment_id":125115976,"body_markdown":"I believe that is so that one can write `builder.delete(0, builder.length())`. It is a custom to make the ending indexes exclusive, although you as developer could choose to make it inclusive for your own methods if you want to.","body":"I believe that is so that one can write <code>builder.delete(0, builder.length())</code>. It is a custom to make the ending indexes exclusive, although you as developer could choose to make it inclusive for your own methods if you want to."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1642606027,"post_id":70772956,"comment_id":125116341,"body_markdown":"This is the same behaviour as String.substring. It helps to read it as if you&#39;re trying to delete the string *between* the specified indexes, so 0|hello|5.","body":"This is the same behaviour as String.substring. It helps to read it as if you&#39;re trying to delete the string <i>between</i> the specified indexes, so 0|hello|5."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1642606097,"post_id":70772956,"comment_id":125116379,"body_markdown":"here&#39;s an example that might give you a hint: `builder.append(&quot;helloHello&quot;).delete(builder.indexOf(&quot;H&quot;)`.\n\nit will delete only the first &quot;hello&quot; instead of &quot;helloH&quot;. Which might be a more common usecase.","body":"here&#39;s an example that might give you a hint: <code>builder.append(&quot;helloHello&quot;).delete(builder.indexOf(&quot;H&quot;)</code>.  it will delete only the first &quot;hello&quot; instead of &quot;helloH&quot;. Which might be a more common usecase."}],"answers":[{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642606564,"creation_date":1642605003,"answer_id":70773020,"question_id":70772956,"body_markdown":"I&#39;d say this is fine. The intent is different. \r\n\r\nLets try this for example:\r\n\r\n```\r\nString builder sb = new StringBuilder();\r\nsb.append(&quot;hello&quot;).append(&quot;hello&quot;);\r\nsb.delete(0,5);\r\nsb.toString();\r\n```\r\n\r\nIt prints `&quot;hello&quot;`.\r\n\r\nHad you read the documentation, you&#39;d see that the end is non-inclusive, meaning it will delete from `start` to `end-1`, hence no IndexOutOfBounds.\r\n\r\nHowever, try this:\r\n```\r\nStringBuilder builder = new StringBuilder();\r\n\r\nbuilder.append(&quot;hello&quot;);\r\nbuilder.delete(0,7);\r\n```\r\n\r\nand you will most likely get an index out of bounds.\r\n\r\nEDIT:\r\nPersonal gripe - it&#39;s a fine balance between stopping someone from shooting themselves in the foot by throwing an exception, and just letting them do it but actually doing nothing in that case.\r\n\r\nOne example of &quot;you really can&#39;t do this, and will get an exception&quot; is e.g. calling init() twice on something important that should really be initialized only once.\r\n\r\nOne example of &quot;You shouldn&#39;t do this, but I won&#39;t crash your program if you do&quot; is e.g. calling init() twice on a logger.\r\n\r\nIn this particular case, trying to delete a character that is out of bounds, falls into the first category. So that &quot;it&#39;s **your** bug, not mine&quot; kinda thing.\r\n\r\nBut deleting a range - personally - shouldn&#39;t even throw an exception. If the range is bigger than the length of the string, it&#39;s my thing&#39;s job to delete everything (in the range you specified), and it&#39;s your bug to figure out why you deleted more than you did. \r\n\r\nAnd this is exactly the kind of thing that demonstrates why writing documentation is important.\r\n\r\nSo that if you did this:\r\n```\r\nString builder sb = new StringBuilder();\r\nsb.append(&quot;hello&quot;).append(&quot;Jello&quot;);\r\nsb.delete(0,6); //e.g. you somehow thought that hello is of length 6\r\nsb.toString();\r\n```\r\nand get a `Jello` it&#39;s your thing to figure out why. Your bug. Not mine.\r\nif you did `sb.delete(0,7);` and get a `ello`, it&#39;s your thing to figure out why. Your bug, not mine. The docs are clear on what will happen.\r\n\r\nBut it depends on what the &quot;thing&quot; is. If it&#39;s important, nope, you&#39;ll get an exception. If it&#39;s something stupid, sure, go ahead, shoot yourself in the foot, harmlessly. \r\n\r\nHowever, in this particular case, i&#39;d allow even this code to work fine:\r\n```\r\nString builder sb = new StringBuilder();\r\nsb.append(&quot;hello&quot;).append(&quot;hello&quot;);\r\nsb.delete(0,200);\r\nsb.toString();\r\n```\r\nand not throw an exception. But internally, i&#39;d only do `delete(0,10)`\r\n\r\nTL;DR - it&#39;s not inconsistent, it&#39;s working exactly like it says it works.","title":"StringBuilder delete methods","body":"<p>I'd say this is fine. The intent is different.</p>\n<p>Lets try this for example:</p>\n<pre><code>String builder sb = new StringBuilder();\nsb.append(&quot;hello&quot;).append(&quot;hello&quot;);\nsb.delete(0,5);\nsb.toString();\n</code></pre>\n<p>It prints <code>&quot;hello&quot;</code>.</p>\n<p>Had you read the documentation, you'd see that the end is non-inclusive, meaning it will delete from <code>start</code> to <code>end-1</code>, hence no IndexOutOfBounds.</p>\n<p>However, try this:</p>\n<pre><code>StringBuilder builder = new StringBuilder();\n\nbuilder.append(&quot;hello&quot;);\nbuilder.delete(0,7);\n</code></pre>\n<p>and you will most likely get an index out of bounds.</p>\n<p>EDIT:\nPersonal gripe - it's a fine balance between stopping someone from shooting themselves in the foot by throwing an exception, and just letting them do it but actually doing nothing in that case.</p>\n<p>One example of &quot;you really can't do this, and will get an exception&quot; is e.g. calling init() twice on something important that should really be initialized only once.</p>\n<p>One example of &quot;You shouldn't do this, but I won't crash your program if you do&quot; is e.g. calling init() twice on a logger.</p>\n<p>In this particular case, trying to delete a character that is out of bounds, falls into the first category. So that &quot;it's <strong>your</strong> bug, not mine&quot; kinda thing.</p>\n<p>But deleting a range - personally - shouldn't even throw an exception. If the range is bigger than the length of the string, it's my thing's job to delete everything (in the range you specified), and it's your bug to figure out why you deleted more than you did.</p>\n<p>And this is exactly the kind of thing that demonstrates why writing documentation is important.</p>\n<p>So that if you did this:</p>\n<pre><code>String builder sb = new StringBuilder();\nsb.append(&quot;hello&quot;).append(&quot;Jello&quot;);\nsb.delete(0,6); //e.g. you somehow thought that hello is of length 6\nsb.toString();\n</code></pre>\n<p>and get a <code>Jello</code> it's your thing to figure out why. Your bug. Not mine.\nif you did <code>sb.delete(0,7);</code> and get a <code>ello</code>, it's your thing to figure out why. Your bug, not mine. The docs are clear on what will happen.</p>\n<p>But it depends on what the &quot;thing&quot; is. If it's important, nope, you'll get an exception. If it's something stupid, sure, go ahead, shoot yourself in the foot, harmlessly.</p>\n<p>However, in this particular case, i'd allow even this code to work fine:</p>\n<pre><code>String builder sb = new StringBuilder();\nsb.append(&quot;hello&quot;).append(&quot;hello&quot;);\nsb.delete(0,200);\nsb.toString();\n</code></pre>\n<p>and not throw an exception. But internally, i'd only do <code>delete(0,10)</code></p>\n<p>TL;DR - it's not inconsistent, it's working exactly like it says it works.</p>\n"}],"owner":{"account_id":11858806,"reputation":101,"user_id":8678114,"display_name":"NightStorm"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":8,"up_vote_count":0,"closed_date":1642719190,"accepted_answer_id":70773020,"answer_count":1,"score":-8,"last_activity_date":1642667477,"creation_date":1642604702,"question_id":70772956,"body_markdown":"```StringBuilder builder = new StringBuilder();```\r\n\r\n```builder.append(&quot;hello&quot;);```\r\n\r\nThe length of ```builder``` is 5. \r\nSo, if I call ```builder.deleteCharAt(5)``` I rightfully get an ```IndexOutOfBoundsException```\r\nyet I can call ```builder.delete(0,5)``` and this works successfully. \r\nCan I know why?\r\n","title":"StringBuilder delete methods","body":"<p><code>StringBuilder builder = new StringBuilder();</code></p>\n<p><code>builder.append(&quot;hello&quot;);</code></p>\n<p>The length of <code>builder</code> is 5.\nSo, if I call <code>builder.deleteCharAt(5)</code> I rightfully get an <code>IndexOutOfBoundsException</code>\nyet I can call <code>builder.delete(0,5)</code> and this works successfully.\nCan I know why?</p>\n"},{"tags":["java","junit","redis"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1642603198,"post_id":70772498,"comment_id":125114878,"body_markdown":"can you try with the ip address returned from &quot;ipconfig&quot; command? Also, are you trying to connect via proxy in code level? If so, pls try disabling proxy..","body":"can you try with the ip address returned from &quot;ipconfig&quot; command? Also, are you trying to connect via proxy in code level? If so, pls try disabling proxy.."},{"owner":{"account_id":5066322,"reputation":183,"user_id":4066331,"accept_rate":25,"display_name":"pacionet"},"score":0,"creation_date":1642603652,"post_id":70772498,"comment_id":125115116,"body_markdown":"Yes, I tried all the Ips shown in ipconfig output:\n10.0.0.5, 10.223.252.108,192.168.56.1","body":"Yes, I tried all the Ips shown in ipconfig output: 10.0.0.5, 10.223.252.108,192.168.56.1"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":1,"creation_date":1642604659,"post_id":70772498,"comment_id":125115652,"body_markdown":"can you please share the output of this command  \nnetstat -aon | find /i &quot;listening&quot; |find &quot;6379&quot;","body":"can you please share the output of this command   netstat -aon | find /i &quot;listening&quot; |find &quot;6379&quot;"},{"owner":{"account_id":5066322,"reputation":183,"user_id":4066331,"accept_rate":25,"display_name":"pacionet"},"score":0,"creation_date":1642607930,"post_id":70772498,"comment_id":125117346,"body_markdown":"TCP    0.0.0.0:6379           0.0.0.0:0              LISTENING       14984","body":"TCP    0.0.0.0:6379           0.0.0.0:0              LISTENING       14984"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1642611214,"post_id":70772498,"comment_id":125118842,"body_markdown":"can you please try updating &quot;redis.conf&quot; file with &quot;protected-mode&quot; property from yes to no?","body":"can you please try updating &quot;redis.conf&quot; file with &quot;protected-mode&quot; property from yes to no?"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1642613144,"post_id":70772498,"comment_id":125119738,"body_markdown":"Running redis-cli gives me below output with hostname &amp; Port # as part of it. Can you please share what do you see in your case? Thank you!\n\n127.0.0.1:6379&gt;","body":"Running redis-cli gives me below output with hostname &amp; Port # as part of it. Can you please share what do you see in your case? Thank you!  127.0.0.1:6379&gt;"}],"answers":[{"tags":[],"owner":{"account_id":5066322,"reputation":183,"user_id":4066331,"accept_rate":25,"display_name":"pacionet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642667348,"creation_date":1642667348,"answer_id":70782904,"question_id":70772498,"body_markdown":"After some hours I found the problem:\r\n\r\n    redis.cluster.nodes:${REDIS_CLUSTER_NODES: localhost:6379;}\r\n\r\nIf I put\r\n\r\n    redis.cluster.nodes: localhost:6379;\r\n\r\nit works fine","title":"Redis - JUnit - Caused by: java.net.UnknownHostException: localhost","body":"<p>After some hours I found the problem:</p>\n<pre><code>redis.cluster.nodes:${REDIS_CLUSTER_NODES: localhost:6379;}\n</code></pre>\n<p>If I put</p>\n<pre><code>redis.cluster.nodes: localhost:6379;\n</code></pre>\n<p>it works fine</p>\n"}],"owner":{"account_id":5066322,"reputation":183,"user_id":4066331,"accept_rate":25,"display_name":"pacionet"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70782904,"answer_count":1,"score":0,"last_activity_date":1642667348,"creation_date":1642602883,"question_id":70772498,"body_markdown":"I have a SpringBoot application where I connect to Redis and it works on cloud environment:\r\n\r\n     RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\r\n\t redisStandaloneConfiguration.setHostName(&quot;localhost&quot;);\r\n\t redisStandaloneConfiguration.setPort(6379);\r\n\t redisStandaloneConfiguration.setPassword(REDIS_PASSWORD);\r\n\t LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfig);\r\n\t lettuceConnectionFactory.setValidateConnection(true);\r\n\r\nNow i started a local Redis instance on localhost and port 6379; I tried to write a Junit test that uses Redis and I got the following\r\nexception\r\n\r\n\tCaused by: io.lettuce.core.RedisConnectionException: Unable to connect to  localhost:6379\r\n\t\tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\r\n\t\tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)\r\n\t\tat io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:320)\r\n\t\tat io.lettuce.core.RedisClient.connect(RedisClient.java:211)\r\n\t\tat org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:115)\r\n\t\tat java.util.Optional.orElseGet(Optional.java:267)\r\n\t\tat org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:115)\r\n\t\tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1459)\r\n\t\t... 17 common frames omitted\r\n\tCaused by: java.net.UnknownHostException:  localhost\r\n\t\tat java.net.InetAddress.getAllByName0(InetAddress.java:1281)\r\n\t\tat java.net.InetAddress.getAllByName(InetAddress.java:1193)\r\n\t\tat java.net.InetAddress.getAllByName(InetAddress.java:1127)\r\n\t\tat java.net.InetAddress.getByName(InetAddress.java:1077)\r\n\r\nAny hints?\r\n\r\nI tried:\r\n- localhost\r\n- 127.0.0.1\r\n- put localhost 127.0.0.1 in hosts file\r\n\r\nBut got the same exception","title":"Redis - JUnit - Caused by: java.net.UnknownHostException: localhost","body":"<p>I have a SpringBoot application where I connect to Redis and it works on cloud environment:</p>\n<pre><code> RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\n redisStandaloneConfiguration.setHostName(&quot;localhost&quot;);\n redisStandaloneConfiguration.setPort(6379);\n redisStandaloneConfiguration.setPassword(REDIS_PASSWORD);\n LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfig);\n lettuceConnectionFactory.setValidateConnection(true);\n</code></pre>\n<p>Now i started a local Redis instance on localhost and port 6379; I tried to write a Junit test that uses Redis and I got the following\nexception</p>\n<pre><code>Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to  localhost:6379\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)\n    at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:320)\n    at io.lettuce.core.RedisClient.connect(RedisClient.java:211)\n    at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:115)\n    at java.util.Optional.orElseGet(Optional.java:267)\n    at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:115)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1459)\n    ... 17 common frames omitted\nCaused by: java.net.UnknownHostException:  localhost\n    at java.net.InetAddress.getAllByName0(InetAddress.java:1281)\n    at java.net.InetAddress.getAllByName(InetAddress.java:1193)\n    at java.net.InetAddress.getAllByName(InetAddress.java:1127)\n    at java.net.InetAddress.getByName(InetAddress.java:1077)\n</code></pre>\n<p>Any hints?</p>\n<p>I tried:</p>\n<ul>\n<li>localhost</li>\n<li>127.0.0.1</li>\n<li>put localhost 127.0.0.1 in hosts file</li>\n</ul>\n<p>But got the same exception</p>\n"},{"tags":["java","android","android-studio","jar","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":3087491,"reputation":43488,"user_id":2614364,"display_name":"Bertrand Martel"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1439609051,"creation_date":1439607827,"answer_id":32021094,"question_id":32021074,"body_markdown":"Open your `build.gradle` of your app (inside your app directory) and modify :\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\nwith \r\n\r\n    apply plugin: &#39;com.android.library&#39;\r\n\r\nIf you have an `applicationId` in your `build.gradle` remove it :\r\n\r\n    defaultConfig {\r\n         applicationId &quot;com.your.application.id&quot;\r\n    }\r\n\r\nthen clean your project and rebuild or just sync your gradle from Android Studio\r\n\r\nIf you have added some extra gradle properties like `applicationVariants.all` you must replace with `libraryVariants.all` and vice-versa if you convert a library to application\r\n\r\nIf you want to add a new step to your reconversion you can change the module name &quot;app&quot; created by default by Android-Studio with a name more adapted to a library module. You can rename the directory app with `&lt;your_module_name&gt;`. open `settings.gradle` file (at the root of your project) and replace app with `&lt;your_module_name&gt;`. Then Go to Menu Build &gt; Make module `&lt;your_module_name&gt;` and there you are, your module is renamed.","title":"in Android Studio, how can I change an app project to a library?","body":"<p>Open your <code>build.gradle</code> of your app (inside your app directory) and modify :</p>\n\n<pre><code>apply plugin: 'com.android.application'\n</code></pre>\n\n<p>with </p>\n\n<pre><code>apply plugin: 'com.android.library'\n</code></pre>\n\n<p>If you have an <code>applicationId</code> in your <code>build.gradle</code> remove it :</p>\n\n<pre><code>defaultConfig {\n     applicationId \"com.your.application.id\"\n}\n</code></pre>\n\n<p>then clean your project and rebuild or just sync your gradle from Android Studio</p>\n\n<p>If you have added some extra gradle properties like <code>applicationVariants.all</code> you must replace with <code>libraryVariants.all</code> and vice-versa if you convert a library to application</p>\n\n<p>If you want to add a new step to your reconversion you can change the module name \"app\" created by default by Android-Studio with a name more adapted to a library module. You can rename the directory app with <code>&lt;your_module_name&gt;</code>. open <code>settings.gradle</code> file (at the root of your project) and replace app with <code>&lt;your_module_name&gt;</code>. Then Go to Menu Build > Make module <code>&lt;your_module_name&gt;</code> and there you are, your module is renamed.</p>\n"},{"tags":[],"owner":{"account_id":14649584,"reputation":3561,"user_id":10579969,"display_name":"Navin Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642667307,"creation_date":1642667307,"answer_id":70782899,"question_id":32021074,"body_markdown":"**Changing to Library**\r\n\r\n1) Goto android project, where you need to change as Library module.\r\n\r\n2) In build.gradle(:app) file,\r\n\r\n- change this line to \r\n  \r\n\r\n      plugins {\r\n        id &#39;com.android.application&#39;\r\n        }\r\n\r\n   to\r\n\r\n      plugins {\r\n        id &#39;com.android.library&#39;\r\n        }\r\n\r\n3) Delete the line for the **applicationId** in same build.gradle(:app) file\r\n\r\n       defaultConfig {\r\n            applicationId &quot;com.project.example&quot; //remove this line\r\n            minSdk 21\r\n            targetSdk 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n4) Now Sync Project with Gradle Files.\r\n\r\n\r\n\r\n","title":"in Android Studio, how can I change an app project to a library?","body":"<p><strong>Changing to Library</strong></p>\n<ol>\n<li><p>Goto android project, where you need to change as Library module.</p>\n</li>\n<li><p>In build.gradle(:app) file,</p>\n</li>\n</ol>\n<ul>\n<li><p>change this line to</p>\n<pre><code>plugins {\n  id 'com.android.application'\n  }\n</code></pre>\n<p>to</p>\n<pre><code>plugins {\n  id 'com.android.library'\n  }\n</code></pre>\n</li>\n</ul>\n<ol start=\"3\">\n<li><p>Delete the line for the <strong>applicationId</strong> in same build.gradle(:app) file</p>\n<pre><code>defaultConfig {\n     applicationId &quot;com.project.example&quot; //remove this line\n     minSdk 21\n     targetSdk 31\n     versionCode 1\n     versionName &quot;1.0&quot;\n\n     testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n }\n</code></pre>\n</li>\n<li><p>Now Sync Project with Gradle Files.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1635375,"reputation":560,"user_id":1509031,"accept_rate":20,"display_name":"plevintampabay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5503,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":32021094,"answer_count":2,"score":9,"last_activity_date":1642667307,"creation_date":1439607589,"question_id":32021074,"body_markdown":"I&#39;m sure this is simple, but since I just started using Android Studio today, I can&#39;t find it.  I have also googled for the past hour and found no posts that specify:\r\n\r\n   how to change an existing application project to a library.\r\n\r\nEverything I found was about how to create a new library project. Not how to convert one.\r\n\r\nA sub-question, is how can I see if a project is configured as an application or a library?  I would hope that the answer to both of these questions is the same.","title":"in Android Studio, how can I change an app project to a library?","body":"<p>I'm sure this is simple, but since I just started using Android Studio today, I can't find it.  I have also googled for the past hour and found no posts that specify:</p>\n\n<p>how to change an existing application project to a library.</p>\n\n<p>Everything I found was about how to create a new library project. Not how to convert one.</p>\n\n<p>A sub-question, is how can I see if a project is configured as an application or a library?  I would hope that the answer to both of these questions is the same.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3119900,"reputation":2468,"user_id":2639886,"display_name":"andrewdleach"},"score":1,"creation_date":1632322901,"post_id":69286756,"comment_id":122462119,"body_markdown":"you have not imported `java.util.Date` and `java.text.SimpleDateFormat` into your class","body":"you have not imported <code>java.util.Date</code> and <code>java.text.SimpleDateFormat</code> into your class"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1632323061,"post_id":69286756,"comment_id":122462201,"body_markdown":"If you are using at least Java version 8, it is recommended to use class [DateTimeFormatter](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html) rather than `SimpleDateFormat` and class [LocalDateTime](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDateTime.html) rather than class `java.util.Date`.","body":"If you are using at least Java version 8, it is recommended to use class <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> rather than <code>SimpleDateFormat</code> and class <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a> rather than class <code>java.util.Date</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1632974745,"post_id":69286756,"comment_id":122639245,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":16017277,"reputation":70,"user_id":11559640,"display_name":"Arjinoodles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632323507,"creation_date":1632323507,"answer_id":69286956,"question_id":69286756,"body_markdown":"Like the comments stated, you probably didnt import \r\n``` java.util.Date ``` and ```java.text.SimpleDateFormat```","title":"Repeatedly getting &quot;Date cannot be resosolved to a type&quot; errors for this line of java code","body":"<p>Like the comments stated, you probably didnt import\n<code>java.util.Date</code> and <code>java.text.SimpleDateFormat</code></p>\n"}],"owner":{"account_id":22827527,"reputation":57,"user_id":16976562,"display_name":"Prothy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69286956,"answer_count":1,"score":0,"last_activity_date":1642666868,"creation_date":1632322705,"question_id":69286756,"body_markdown":"First of all, I&#39;m not a programmer, but a layman working with codes insofar as they relate to banking, invoicing, and similar tasks (I work as an accountant).\r\n\r\nI am trying to set up a code in Java meant to calculate a unique number sequence legally required to be printed on invoices, according to instructions on state websites. I am working on the project through Eclipse. This is the line which always has two errors no matter what I try:\r\n\r\n```String datVrij = new SimpleDateFormat( &quot;22.09.2021 12:48:34&quot; ).format( new Date() );```\r\n\r\nThe errors read:\r\n1) Date cannot be resolved to a type\r\n2) SimpleDateFormat cannot be resolved to a type\r\n\r\nHave I written something wrong? The things imported so far are only these:\r\n\r\n```import java.io.FileInputStream;```\r\n\r\n```import java.security.Key;```\r\n\r\n```import java.security.KeyStore;```\r\n\r\n```import java.security.PrivateKey;```\r\n\r\n```import java.security.Signature;```\r\n\r\n```import org.apache.commons.codec.digest.DigestUtils;```\r\n\r\nAny help is greatly appreciated, and I will gladly provide more information if that&#39;s what&#39;s needed.","title":"Repeatedly getting &quot;Date cannot be resosolved to a type&quot; errors for this line of java code","body":"<p>First of all, I'm not a programmer, but a layman working with codes insofar as they relate to banking, invoicing, and similar tasks (I work as an accountant).</p>\n<p>I am trying to set up a code in Java meant to calculate a unique number sequence legally required to be printed on invoices, according to instructions on state websites. I am working on the project through Eclipse. This is the line which always has two errors no matter what I try:</p>\n<p><code>String datVrij = new SimpleDateFormat( &quot;22.09.2021 12:48:34&quot; ).format( new Date() );</code></p>\n<p>The errors read:</p>\n<ol>\n<li>Date cannot be resolved to a type</li>\n<li>SimpleDateFormat cannot be resolved to a type</li>\n</ol>\n<p>Have I written something wrong? The things imported so far are only these:</p>\n<p><code>import java.io.FileInputStream;</code></p>\n<p><code>import java.security.Key;</code></p>\n<p><code>import java.security.KeyStore;</code></p>\n<p><code>import java.security.PrivateKey;</code></p>\n<p><code>import java.security.Signature;</code></p>\n<p><code>import org.apache.commons.codec.digest.DigestUtils;</code></p>\n<p>Any help is greatly appreciated, and I will gladly provide more information if that's what's needed.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5595350,"reputation":1123,"user_id":4433302,"accept_rate":100,"display_name":"Surender Kumar"},"score":1,"creation_date":1490695904,"post_id":43066114,"comment_id":73216904,"body_markdown":"Check this [link](http://www.androhub.com/android-download-files-save/).","body":"Check this <a href=\"http://www.androhub.com/android-download-files-save/\" rel=\"nofollow noreferrer\">link</a>."},{"owner":{"account_id":6958242,"reputation":718,"user_id":5338595,"display_name":"rohitanand"},"score":0,"creation_date":1490699850,"post_id":43066114,"comment_id":73219477,"body_markdown":"User DownloadManager Android API","body":"User DownloadManager Android API"}],"answers":[{"tags":[],"owner":{"account_id":4820581,"reputation":6264,"user_id":3891376,"accept_rate":88,"display_name":"Andrey Danilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490702392,"creation_date":1490695546,"answer_id":43066605,"question_id":43066114,"body_markdown":"It is really bad idea to download file in main thread.\r\nUse separate `Thread` for this\r\n\r\n    Thread thread = new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n             //your downloading here\r\n        }\r\n    });\r\n    thread.start();\r\n\r\nit`s better, but still not so good. There are some problems with it:\r\n\r\n1) User know nothing about downloading\r\n\r\nSo better to show additional layout which overlays screen with progress bar, probably indeterminate if you want to write less code. Then after downloading is finished you just hide your layout.\r\n\r\nYou can use `runOnUiThread` inside `run` method in thread for it.\r\n\r\n    runOnUiThread(new Runnable() {\r\n       @Override\r\n       public void run() {\r\n            //just hide some popup\r\n            //or do what you want after downloading is finished\r\n            popupLayout.serVisibility(View.GONE);\r\n       }\r\n    });\r\n\r\n2) If user will do action which re-creates activity/fragment (like changing screen orientaion) with running thread you will get memory leak and probably activity will not know about end of download.\r\n\r\nThere are few ways to solve this problem:\r\n\r\n - You can block screen orientation at this screen, at least while downloading. Probably easiest way in your case.\r\n - You can use downloading in `foreground service`. Its really good   \r\n   practice, but you will have to learn about services.\r\n - You can try to interrupt downloading by calling `thread.interrupt()`\r\n   method in `onDestroy` of your `Activity`/`Fragment`\r\n - You can use something like `rxJava`/`rxAndroid` (so you don not use threads at all, but you need some time for learn `rxJava`)\r\n\r\nUPD\r\n\r\n[About threads][1]\r\n\r\n[Not so bad tutorial about threads in android][2]\r\n\r\nYou can use `AsyncTask` instead of `Thread`, but I highly recommend to use threads especially for long operations.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/processes-and-threads.html\r\n  [2]: https://www.101apps.co.za/articles/using-threads-tutorial.html","title":"How to download a file after clicking a button (Android Studio)","body":"<p>It is really bad idea to download file in main thread.\nUse separate <code>Thread</code> for this</p>\n\n<pre><code>Thread thread = new Thread(new Runnable() {\n    @Override\n    public void run() {\n         //your downloading here\n    }\n});\nthread.start();\n</code></pre>\n\n<p>it`s better, but still not so good. There are some problems with it:</p>\n\n<p>1) User know nothing about downloading</p>\n\n<p>So better to show additional layout which overlays screen with progress bar, probably indeterminate if you want to write less code. Then after downloading is finished you just hide your layout.</p>\n\n<p>You can use <code>runOnUiThread</code> inside <code>run</code> method in thread for it.</p>\n\n<pre><code>runOnUiThread(new Runnable() {\n   @Override\n   public void run() {\n        //just hide some popup\n        //or do what you want after downloading is finished\n        popupLayout.serVisibility(View.GONE);\n   }\n});\n</code></pre>\n\n<p>2) If user will do action which re-creates activity/fragment (like changing screen orientaion) with running thread you will get memory leak and probably activity will not know about end of download.</p>\n\n<p>There are few ways to solve this problem:</p>\n\n<ul>\n<li>You can block screen orientation at this screen, at least while downloading. Probably easiest way in your case.</li>\n<li>You can use downloading in <code>foreground service</code>. Its really good<br>\npractice, but you will have to learn about services.</li>\n<li>You can try to interrupt downloading by calling <code>thread.interrupt()</code>\nmethod in <code>onDestroy</code> of your <code>Activity</code>/<code>Fragment</code></li>\n<li>You can use something like <code>rxJava</code>/<code>rxAndroid</code> (so you don not use threads at all, but you need some time for learn <code>rxJava</code>)</li>\n</ul>\n\n<p>UPD</p>\n\n<p><a href=\"https://developer.android.com/guide/components/processes-and-threads.html\" rel=\"nofollow noreferrer\">About threads</a></p>\n\n<p><a href=\"https://www.101apps.co.za/articles/using-threads-tutorial.html\" rel=\"nofollow noreferrer\">Not so bad tutorial about threads in android</a></p>\n\n<p>You can use <code>AsyncTask</code> instead of <code>Thread</code>, but I highly recommend to use threads especially for long operations.</p>\n"},{"tags":[],"owner":{"account_id":4803234,"reputation":721,"user_id":3879214,"display_name":"Anu Martin"},"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1490763873,"creation_date":1490703121,"answer_id":43069239,"question_id":43066114,"body_markdown":"**if you want resumable, speed of download ...**\r\nfollow this steps\r\n\r\ncreate a class **DownloadManager.java**     \r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class DownloadManager extends AsyncTask&lt;String,String,String&gt;{\r\n    String downloadlink,fileDestination;\r\n    public static final int ON_INIT=100,ON_ERROR=102,ON_PROGRASS=103,ON_COMPLETED=104,STATUS_DOWNLOADED=1500,STATUS_NOT_YET=1501;\r\n    private onUpdateListener onUpdateListener;\r\n    private String downloadedPath=&quot;&quot;;\r\n    private long downloaded=0;\r\n    private File file;\r\n    private String returnData=null;\r\n    private File cacheDownloadFile;\r\n    public DownloadManager(String downloadlink,String fileDestinationPath){\r\n        this.downloadlink=downloadlink;\r\n        this.fileDestination=fileDestinationPath;\r\n        file=new File(fileDestination, Tools.getFileName(downloadlink));\r\n        cacheDownloadFile=new File(AppCostants.CHACHE_PATH+Tools.getFileName(downloadlink));\r\n        try {\r\n            if(cacheDownloadFile.isFile())\r\n                downloaded=Tools.getFileSize(cacheDownloadFile);\r\n            else\r\n                downloaded=0;\r\n            Log.d(&quot;FILE_DOWNLOAD_TAG_p&quot;,downloaded+&quot; &lt;- &quot;+cacheDownloadFile.getAbsolutePath());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        fireOnUpdate(ON_INIT,&quot;init ...&quot;);\r\n\r\n    }\r\n    @Override\r\n    protected String doInBackground(String... params) {\r\n        try {\r\n            File dir=new File(fileDestination);\r\n            File chacheDir=new File(AppCostants.CHACHE_PATH);\r\n            if(!chacheDir.isDirectory())\r\n                chacheDir.mkdirs();\r\n            if(!dir.isDirectory()){\r\n                dir.mkdirs();\r\n            }\r\n\r\n            if(file.exists()) {\r\n                Log.d(&quot;FILE_DOWNLOAD_TAG&quot;,&quot;File exist return complete&quot;);\r\n                return &quot;COMPLETED&quot;;//file exist\r\n            }\r\n            if(!cacheDownloadFile.exists()){\r\n                cacheDownloadFile.createNewFile();\r\n            }\r\n            Log.d(&quot;FILE_DOWNLOAD_TAG&quot;,&quot;LINK &quot;+downloadlink);\r\n            URL url=new URL(downloadlink);\r\n            HttpURLConnection urlConnection= (HttpURLConnection) url.openConnection();\r\n            if(downloaded&gt;0)\r\n                urlConnection.setRequestProperty(&quot;Range&quot;,&quot;byte=&quot;+downloaded);\r\n            urlConnection.connect();\r\n            int status = urlConnection.getResponseCode();\r\n            InputStream inputStream=urlConnection.getInputStream();\r\n            int totalSize=urlConnection.getContentLength();\r\n            if(totalSize&lt;=downloaded){\r\n                returnData= &quot;COMPLETED&quot;;\r\n                publishProgress(&quot;File checked &quot;+Tools.getFileName(file.getAbsolutePath()));\r\n                return returnData;\r\n            }\r\n            this.downloadedPath=cacheDownloadFile.getAbsolutePath();\r\n            byte[] buffer=new byte[1024];\r\n            int bufferLength=0;\r\n            FileOutputStream fileOutput=new FileOutputStream(cacheDownloadFile);\r\n            long d=0;\r\n            long starttime=System.currentTimeMillis();\r\n            while ((bufferLength=inputStream.read(buffer))&gt;0){\r\n                fileOutput.write(buffer,0,bufferLength);\r\n                downloaded+=bufferLength;\r\n                d+=bufferLength;\r\n                //String l=&quot; &quot;+Tools.getFileName(file.getAbsolutePath())+&quot; ( &quot;+Tools.convertMemory(downloaded)+&quot; / &quot;+Tools.convertMemory(totalSize)+&quot; )&quot;;\r\n                String l=&quot;  &quot;+Tools.convertMemory(downloaded)+&quot; / &quot;+Tools.convertMemory(totalSize)+&quot; ( &quot;+getDownloadSpeed(starttime,d)+&quot; )&quot;;\r\n                publishProgress(l);\r\n                if(downloaded&gt;=totalSize){\r\n                    break;\r\n                }\r\n            }\r\n            Log.d(&quot;FILE_DOWNLOAD_TAG&quot;,&quot;DWONLOADED TO &quot;+downloadedPath+&quot; (&quot;+cacheDownloadFile.length()+&quot;)&quot;);\r\n            fileOutput.close();\r\n            if(Tools.fileCopy(file,cacheDownloadFile)){\r\n                Log.d(&quot;FILE_DOWNLOAD_TAG&quot;,&quot;file Copied, delete cache&quot;);\r\n                cacheDownloadFile.delete();\r\n            }\r\n            returnData=&quot;COMPLETED&quot;;\r\n        } catch (MalformedURLException e) {\r\n            returnData=null;\r\n            e.printStackTrace();\r\n            publishProgress(e.toString());\r\n            Log.d(&quot;###################&quot;,e+&quot;&quot;);\r\n\r\n        } catch (IOException e) {\r\n            returnData=null;\r\n            e.printStackTrace();\r\n            publishProgress(e.toString());\r\n        }\r\n\r\n        return returnData;\r\n    }\r\n\r\n    @Override\r\n    protected void onProgressUpdate(String... values) {\r\n        super.onProgressUpdate(values);\r\n        fireOnUpdate(ON_PROGRASS,values[0]);\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(String s) {\r\n        super.onPostExecute(s);\r\n        if(s!=null){\r\n            fireOnUpdate(ON_COMPLETED,downloadedPath);\r\n        }else{\r\n            fireOnUpdate(ON_ERROR,&quot;Download failed&quot;);\r\n        }\r\n    }\r\n\r\n    public interface onUpdateListener{\r\n        void onUpdate(int code,String message);\r\n    }\r\n    public void setOnUpdateListener(onUpdateListener onUpdateListener){\r\n        this.onUpdateListener=onUpdateListener;\r\n    }\r\n    private void fireOnUpdate(int code,String message){\r\n        if(onUpdateListener!=null)\r\n            onUpdateListener.onUpdate(code,message);\r\n    }\r\n\r\n    private String getDownloadSpeed(long starttime,float totalDownloaded) {\r\n        long elapsedTime = System.currentTimeMillis() - starttime;\r\n        //byte :\r\n        float speed=1000f * totalDownloaded / elapsedTime;\r\n        return convert(speed);\r\n    }\r\n    private String convert(float value){\r\n        long kb=1024\r\n                ,mb=kb*1024\r\n                ,gb=mb*1024;\r\n\r\n        if(value&lt;kb){\r\n            String speed=(value+&quot;&quot;);\r\n            speed=speed.substring(0,speed.indexOf(&#39;.&#39;)+2);\r\n            return speed+&quot; B/s&quot;;\r\n        }else if(value&lt;mb){\r\n            value=value/kb;\r\n            String speed=(value+&quot;&quot;);\r\n            speed=speed.substring(0,speed.indexOf(&#39;.&#39;));\r\n            return (speed)+&quot; KB/s&quot;;\r\n        }else if(value&lt;gb){\r\n            value=(value/mb);\r\n            String speed=(value+&quot;&quot;);\r\n            speed=speed.substring(0,speed.indexOf(&#39;.&#39;));\r\n            return speed+&quot; MB/s&quot;;\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n    }\r\n\r\n2. use this code in **onClick()**\r\n\tDownloadManager downloadManager = new DownloadManager(url,filepath);\r\n\r\n3. set event \r\n\r\n    \tdownloadManager.setOnUpdateListener(new DownloadManager.onUpdateListener() {\r\n\t\t@Override\r\n\t\tpublic void onUpdate(int code, String message) {\r\n\t\tif (code == DownloadManager.ON_COMPLETED) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(DownloadManager.ON_PROGRASS==code){}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n4. start download by \r\n\r\n    \tdownloadManager.execute();\r\n\r\n\r\n5. **lib setup**\r\n\r\n        compile &quot;commons-io:commons-io:+&quot;\r\n6. **Tools.java**\r\n\r\n    \tpublic static long getFileSize(File file) throws IOException {\r\n        FileOutputStream fileOutputStream=new FileOutputStream(file);\r\n        fileOutputStream.close();\r\n        return file.length();\r\n        }\r\n        public static boolean fileCopy(File dest,File source){\r\n        try {\r\n            FileUtils.copyFile(source,dest);\r\n            return true;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n        }\r\n\r\n","title":"How to download a file after clicking a button (Android Studio)","body":"<p><strong>if you want resumable, speed of download ...</strong>\nfollow this steps</p>\n\n<p>create a class <strong>DownloadManager.java</strong>     </p>\n\n<pre><code>public class DownloadManager extends AsyncTask&lt;String,String,String&gt;{\nString downloadlink,fileDestination;\npublic static final int ON_INIT=100,ON_ERROR=102,ON_PROGRASS=103,ON_COMPLETED=104,STATUS_DOWNLOADED=1500,STATUS_NOT_YET=1501;\nprivate onUpdateListener onUpdateListener;\nprivate String downloadedPath=\"\";\nprivate long downloaded=0;\nprivate File file;\nprivate String returnData=null;\nprivate File cacheDownloadFile;\npublic DownloadManager(String downloadlink,String fileDestinationPath){\n    this.downloadlink=downloadlink;\n    this.fileDestination=fileDestinationPath;\n    file=new File(fileDestination, Tools.getFileName(downloadlink));\n    cacheDownloadFile=new File(AppCostants.CHACHE_PATH+Tools.getFileName(downloadlink));\n    try {\n        if(cacheDownloadFile.isFile())\n            downloaded=Tools.getFileSize(cacheDownloadFile);\n        else\n            downloaded=0;\n        Log.d(\"FILE_DOWNLOAD_TAG_p\",downloaded+\" &lt;- \"+cacheDownloadFile.getAbsolutePath());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    fireOnUpdate(ON_INIT,\"init ...\");\n\n}\n@Override\nprotected String doInBackground(String... params) {\n    try {\n        File dir=new File(fileDestination);\n        File chacheDir=new File(AppCostants.CHACHE_PATH);\n        if(!chacheDir.isDirectory())\n            chacheDir.mkdirs();\n        if(!dir.isDirectory()){\n            dir.mkdirs();\n        }\n\n        if(file.exists()) {\n            Log.d(\"FILE_DOWNLOAD_TAG\",\"File exist return complete\");\n            return \"COMPLETED\";//file exist\n        }\n        if(!cacheDownloadFile.exists()){\n            cacheDownloadFile.createNewFile();\n        }\n        Log.d(\"FILE_DOWNLOAD_TAG\",\"LINK \"+downloadlink);\n        URL url=new URL(downloadlink);\n        HttpURLConnection urlConnection= (HttpURLConnection) url.openConnection();\n        if(downloaded&gt;0)\n            urlConnection.setRequestProperty(\"Range\",\"byte=\"+downloaded);\n        urlConnection.connect();\n        int status = urlConnection.getResponseCode();\n        InputStream inputStream=urlConnection.getInputStream();\n        int totalSize=urlConnection.getContentLength();\n        if(totalSize&lt;=downloaded){\n            returnData= \"COMPLETED\";\n            publishProgress(\"File checked \"+Tools.getFileName(file.getAbsolutePath()));\n            return returnData;\n        }\n        this.downloadedPath=cacheDownloadFile.getAbsolutePath();\n        byte[] buffer=new byte[1024];\n        int bufferLength=0;\n        FileOutputStream fileOutput=new FileOutputStream(cacheDownloadFile);\n        long d=0;\n        long starttime=System.currentTimeMillis();\n        while ((bufferLength=inputStream.read(buffer))&gt;0){\n            fileOutput.write(buffer,0,bufferLength);\n            downloaded+=bufferLength;\n            d+=bufferLength;\n            //String l=\" \"+Tools.getFileName(file.getAbsolutePath())+\" ( \"+Tools.convertMemory(downloaded)+\" / \"+Tools.convertMemory(totalSize)+\" )\";\n            String l=\"  \"+Tools.convertMemory(downloaded)+\" / \"+Tools.convertMemory(totalSize)+\" ( \"+getDownloadSpeed(starttime,d)+\" )\";\n            publishProgress(l);\n            if(downloaded&gt;=totalSize){\n                break;\n            }\n        }\n        Log.d(\"FILE_DOWNLOAD_TAG\",\"DWONLOADED TO \"+downloadedPath+\" (\"+cacheDownloadFile.length()+\")\");\n        fileOutput.close();\n        if(Tools.fileCopy(file,cacheDownloadFile)){\n            Log.d(\"FILE_DOWNLOAD_TAG\",\"file Copied, delete cache\");\n            cacheDownloadFile.delete();\n        }\n        returnData=\"COMPLETED\";\n    } catch (MalformedURLException e) {\n        returnData=null;\n        e.printStackTrace();\n        publishProgress(e.toString());\n        Log.d(\"###################\",e+\"\");\n\n    } catch (IOException e) {\n        returnData=null;\n        e.printStackTrace();\n        publishProgress(e.toString());\n    }\n\n    return returnData;\n}\n\n@Override\nprotected void onProgressUpdate(String... values) {\n    super.onProgressUpdate(values);\n    fireOnUpdate(ON_PROGRASS,values[0]);\n}\n\n@Override\nprotected void onPostExecute(String s) {\n    super.onPostExecute(s);\n    if(s!=null){\n        fireOnUpdate(ON_COMPLETED,downloadedPath);\n    }else{\n        fireOnUpdate(ON_ERROR,\"Download failed\");\n    }\n}\n\npublic interface onUpdateListener{\n    void onUpdate(int code,String message);\n}\npublic void setOnUpdateListener(onUpdateListener onUpdateListener){\n    this.onUpdateListener=onUpdateListener;\n}\nprivate void fireOnUpdate(int code,String message){\n    if(onUpdateListener!=null)\n        onUpdateListener.onUpdate(code,message);\n}\n\nprivate String getDownloadSpeed(long starttime,float totalDownloaded) {\n    long elapsedTime = System.currentTimeMillis() - starttime;\n    //byte :\n    float speed=1000f * totalDownloaded / elapsedTime;\n    return convert(speed);\n}\nprivate String convert(float value){\n    long kb=1024\n            ,mb=kb*1024\n            ,gb=mb*1024;\n\n    if(value&lt;kb){\n        String speed=(value+\"\");\n        speed=speed.substring(0,speed.indexOf('.')+2);\n        return speed+\" B/s\";\n    }else if(value&lt;mb){\n        value=value/kb;\n        String speed=(value+\"\");\n        speed=speed.substring(0,speed.indexOf('.'));\n        return (speed)+\" KB/s\";\n    }else if(value&lt;gb){\n        value=(value/mb);\n        String speed=(value+\"\");\n        speed=speed.substring(0,speed.indexOf('.'));\n        return speed+\" MB/s\";\n    }\n    return \"\";\n}\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><p>use this code in <strong>onClick()</strong>\nDownloadManager downloadManager = new DownloadManager(url,filepath);</p></li>\n<li><p>set event </p>\n\n<pre><code>downloadManager.setOnUpdateListener(new DownloadManager.onUpdateListener() {\n@Override\npublic void onUpdate(int code, String message) {\nif (code == DownloadManager.ON_COMPLETED) {\n\n                }\n                if(DownloadManager.ON_PROGRASS==code){}\n\n            }\n        });\n</code></pre></li>\n<li><p>start download by </p>\n\n<pre><code>downloadManager.execute();\n</code></pre></li>\n<li><p><strong>lib setup</strong></p>\n\n<pre><code>compile \"commons-io:commons-io:+\"\n</code></pre></li>\n<li><p><strong>Tools.java</strong></p>\n\n<pre><code>public static long getFileSize(File file) throws IOException {\nFileOutputStream fileOutputStream=new FileOutputStream(file);\nfileOutputStream.close();\nreturn file.length();\n}\npublic static boolean fileCopy(File dest,File source){\ntry {\n    FileUtils.copyFile(source,dest);\n    return true;\n} catch (IOException e) {\n    e.printStackTrace();\n    return false;\n}\n}\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":9422513,"reputation":287,"user_id":7008543,"accept_rate":44,"display_name":"SovietSenpai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20669,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":43069239,"answer_count":2,"score":9,"last_activity_date":1642666642,"creation_date":1490694258,"question_id":43066114,"body_markdown":"I recently created an activity in my app. Now I wanted the user to download a .pdf file when he/she wants to view the guidelines. I wanted to implement this on a button. Any idea how to do this properly?\r\n\r\nHeres my code below:\r\n\r\n    public class Exhibitor_Registration_Activity extends AppCompatActivity  {\r\n    \r\n        Button buttonDownload;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_exhibitor_registration_);\r\n    \r\n            this.setTitle(&quot;Buyer Registration&quot;);\r\n    \r\n            Toolbar myToolbar = (Toolbar) findViewById(R.id.my_toolbar);\r\n            setSupportActionBar(myToolbar);\r\n            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n            myToolbar.setNavigationIcon(R.drawable.ic_arrow_back_white_24dp);\r\n    \r\n            final Button buttonDownload = (Button) findViewById(R.id.buttonDownload);\r\n    \r\n            buttonDownload.setOnClickListener(new View.OnClickListener(){\r\n    \r\n                @Override\r\n                public void onClick(View view) {\r\n                    try {\r\n                        //this is the file you want to download from the remote server\r\n                        String path =&quot;http://www.manilafame.com/website-assets/downloads/exhibitor-application-kit/local/201704/1-Summary-of-Participation-Details-April-2017_MN_002.pdfp&quot;;\r\n                        //this is the name of the local file you will create\r\n                        String targetFileName = null;\r\n                        boolean eof = false;\r\n                        URL u = new URL(path);\r\n                        HttpURLConnection c = (HttpURLConnection) u.openConnection();\r\n                        c.setRequestMethod(&quot;GET&quot;);\r\n                        c.setDoOutput(true);\r\n                        c.connect();\r\n                        FileOutputStream f = new FileOutputStream(new File(&quot;c:\\\\junk\\\\&quot;+targetFileName));\r\n                        InputStream in = c.getInputStream();\r\n                        byte[] buffer = new byte[1024];\r\n                        int len1 = 0;\r\n                        while ( (len1 = in.read(buffer)) &gt; 0 ) {\r\n                            f.write(buffer,0, len1);\r\n                        }\r\n                        f.close();\r\n                    } catch (MalformedURLException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    } catch (ProtocolException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    } catch (FileNotFoundException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nI also got the source code from [here][1] and [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/576513/android-download-binary-file-problems\r\n  [2]: https://stackoverflow.com/questions/6368788/how-to-download-a-pdf-file-in-android","title":"How to download a file after clicking a button (Android Studio)","body":"<p>I recently created an activity in my app. Now I wanted the user to download a .pdf file when he/she wants to view the guidelines. I wanted to implement this on a button. Any idea how to do this properly?</p>\n\n<p>Heres my code below:</p>\n\n<pre><code>public class Exhibitor_Registration_Activity extends AppCompatActivity  {\n\n    Button buttonDownload;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_exhibitor_registration_);\n\n        this.setTitle(\"Buyer Registration\");\n\n        Toolbar myToolbar = (Toolbar) findViewById(R.id.my_toolbar);\n        setSupportActionBar(myToolbar);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        myToolbar.setNavigationIcon(R.drawable.ic_arrow_back_white_24dp);\n\n        final Button buttonDownload = (Button) findViewById(R.id.buttonDownload);\n\n        buttonDownload.setOnClickListener(new View.OnClickListener(){\n\n            @Override\n            public void onClick(View view) {\n                try {\n                    //this is the file you want to download from the remote server\n                    String path =\"http://www.manilafame.com/website-assets/downloads/exhibitor-application-kit/local/201704/1-Summary-of-Participation-Details-April-2017_MN_002.pdfp\";\n                    //this is the name of the local file you will create\n                    String targetFileName = null;\n                    boolean eof = false;\n                    URL u = new URL(path);\n                    HttpURLConnection c = (HttpURLConnection) u.openConnection();\n                    c.setRequestMethod(\"GET\");\n                    c.setDoOutput(true);\n                    c.connect();\n                    FileOutputStream f = new FileOutputStream(new File(\"c:\\\\junk\\\\\"+targetFileName));\n                    InputStream in = c.getInputStream();\n                    byte[] buffer = new byte[1024];\n                    int len1 = 0;\n                    while ( (len1 = in.read(buffer)) &gt; 0 ) {\n                        f.write(buffer,0, len1);\n                    }\n                    f.close();\n                } catch (MalformedURLException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                } catch (ProtocolException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                } catch (FileNotFoundException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>I also got the source code from <a href=\"https://stackoverflow.com/questions/576513/android-download-binary-file-problems\">here</a> and <a href=\"https://stackoverflow.com/questions/6368788/how-to-download-a-pdf-file-in-android\">here</a>.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":468289,"reputation":178176,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":0,"creation_date":1642668035,"post_id":70782204,"comment_id":125133539,"body_markdown":"Please [don’t post images of code, error messages, or other textual data.](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors)","body":"Please <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">don’t post images of code, error messages, or other textual data.</a>"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642666558,"creation_date":1642666558,"answer_id":70782755,"question_id":70782204,"body_markdown":"To be able to update multiple children that exist under a particular node, you have to create a query and use `updateChildren` method as seen below:\r\n\r\n\tDatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference usersRef = dbFirebaseDatabase.child(&quot;Users&quot;);\r\n    DatabaseReference productsRef = usersRef.child(shopUid).child(&quot;Products&quot;);\r\n\tDatabaseReference additionalUserInfoRef = rootRef.child(&quot;AdditionalUserInfo&quot;);\r\n\tValueEventListener valueEventListener = new ValueEventListener() {\r\n\t\t@Override\r\n\t\tpublic void onDataChange(DataSnapshot dataSnapshot) {\r\n\t\t\tfor(DataSnapshot ds : dataSnapshot.getChildren()) {\r\n                Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n                map.put(&quot;ProductStock&quot;, newValueOfTypeInt);\r\n\t\t\t\tds.getRef().updateChildren(map);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onCancelled(@NonNull DatabaseError databaseError) {\r\n\t\t\tLog.d(TAG, databaseError.getMessage()); //Don&#39;t ignore errors!\r\n\t\t}\r\n\t};\r\n\tproductsRef.addListenerForSingleValueEvent(valueEventListener);\r\n\r\nIf you want, you can also attach a listener to the `.updateChildren(map)` to see if something goes wrong.","title":"How to update multiple values in different nodes simultaneously in firebase?","body":"<p>To be able to update multiple children that exist under a particular node, you have to create a query and use <code>updateChildren</code> method as seen below:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference usersRef = dbFirebaseDatabase.child(&quot;Users&quot;);\nDatabaseReference productsRef = usersRef.child(shopUid).child(&quot;Products&quot;);\nDatabaseReference additionalUserInfoRef = rootRef.child(&quot;AdditionalUserInfo&quot;);\nValueEventListener valueEventListener = new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for(DataSnapshot ds : dataSnapshot.getChildren()) {\n            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n            map.put(&quot;ProductStock&quot;, newValueOfTypeInt);\n            ds.getRef().updateChildren(map);\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) {\n        Log.d(TAG, databaseError.getMessage()); //Don't ignore errors!\n    }\n};\nproductsRef.addListenerForSingleValueEvent(valueEventListener);\n</code></pre>\n<p>If you want, you can also attach a listener to the <code>.updateChildren(map)</code> to see if something goes wrong.</p>\n"}],"owner":{"account_id":23996198,"reputation":31,"user_id":17981674,"display_name":"e_kart shop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70782755,"answer_count":1,"score":1,"last_activity_date":1642666615,"creation_date":1642663662,"question_id":70782204,"body_markdown":"[Screenshot of my Database in firebase][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QVOTw.png\r\n\r\nHere I have a node called products. In that, I have many child nodes. All those nodes have a common value called product stock. I need to update the product stock value of all the nodes inside the product. How can I do that in android studio (Java) because I&#39;m developing a shopping application? Need help.\r\n\r\n````\r\nprivate void updateStock(String quantity, String availablestock) {\r\n\r\n        int qty = Integer.parseInt(quantity);\r\n        int stk_avl = Integer.parseInt(availablestock);\r\n\r\n        int stk = stk_avl - qty;\r\n\r\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n\r\n        hashMap.put(&quot;ProductStock&quot;, &quot;&quot;+stk);\r\n\r\n\r\n        //update to database\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n        reference.child(shopUid).child(&quot;Products&quot;).child(productId)\r\n                .updateChildren(hashMap)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        //update success\r\n                        progressDialog.dismiss();\r\n                        \r\n                        Toast.makeText(CartActivity.this, &quot;Updated...&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        progressDialog.dismiss();\r\n                        Toast.makeText(CartActivity.this, &quot;&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\n\r\n````\r\n\r\nThe flow is: \r\nThe user adds the products to the cart. In the cart, I have ordernow button. So when the user clicks order now, the products&#39; quantity in his cart should be subtracted from the product stock value which is in the products node. But when this code runs, for example, assume I have 5 products in the cart, this code is updating product stock for only 1 product (last added product in the cart). \r\nHow can I make it update all the products? ","title":"How to update multiple values in different nodes simultaneously in firebase?","body":"<p><a href=\"https://i.stack.imgur.com/QVOTw.png\" rel=\"nofollow noreferrer\">Screenshot of my Database in firebase</a></p>\n<p>Here I have a node called products. In that, I have many child nodes. All those nodes have a common value called product stock. I need to update the product stock value of all the nodes inside the product. How can I do that in android studio (Java) because I'm developing a shopping application? Need help.</p>\n<pre><code>private void updateStock(String quantity, String availablestock) {\n\n        int qty = Integer.parseInt(quantity);\n        int stk_avl = Integer.parseInt(availablestock);\n\n        int stk = stk_avl - qty;\n\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n\n        hashMap.put(&quot;ProductStock&quot;, &quot;&quot;+stk);\n\n\n        //update to database\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n        reference.child(shopUid).child(&quot;Products&quot;).child(productId)\n                .updateChildren(hashMap)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        //update success\n                        progressDialog.dismiss();\n                        \n                        Toast.makeText(CartActivity.this, &quot;Updated...&quot;, Toast.LENGTH_SHORT).show();\n\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        progressDialog.dismiss();\n                        Toast.makeText(CartActivity.this, &quot;&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n\n\n\n\n</code></pre>\n<p>The flow is:\nThe user adds the products to the cart. In the cart, I have ordernow button. So when the user clicks order now, the products' quantity in his cart should be subtracted from the product stock value which is in the products node. But when this code runs, for example, assume I have 5 products in the cart, this code is updating product stock for only 1 product (last added product in the cart).\nHow can I make it update all the products?</p>\n"},{"tags":["java","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1642651523,"post_id":70780584,"comment_id":125129526,"body_markdown":"You need to use `KafkaSink` instead, see the 1.15 release documentation: https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/kafka/#kafka-sink","body":"You need to use <code>KafkaSink</code> instead, see the 1.15 release documentation: <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/datastream/kafka/#kafka-sink\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-release-1.15/docs/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22700020,"reputation":780,"user_id":16867587,"display_name":"ChangLi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642658820,"creation_date":1642658820,"answer_id":70781511,"question_id":70780584,"body_markdown":"FlinkKafkaProducer has been deprecated\r\n\r\nFlink recommends using the new source and sink api in the latest version\r\n\r\nReference to https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kafka/\r\n\r\n    DataStream&lt;String&gt; stream = ...\r\n            \r\n    KafkaSink&lt;String&gt; sink = KafkaSink.&lt;String&gt;builder()\r\n            .setBootstrapServers(brokers)\r\n            .setRecordSerializer(KafkaRecordSerializationSchema.builder()\r\n                .setTopic(&quot;topic-name&quot;)\r\n                .setValueSerializationSchema(new SimpleStringSchema())\r\n                .build()\r\n            )\r\n            .setDeliverGuarantee(DeliveryGuarantee.AT_LEAST_ONCE)\r\n            .build();\r\n            \r\n    stream.sinkTo(sink);","title":"Successor to deprecated FlinkKafkaProducer","body":"<p>FlinkKafkaProducer has been deprecated</p>\n<p>Flink recommends using the new source and sink api in the latest version</p>\n<p>Reference to <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kafka/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/datastream/kafka/</a></p>\n<pre><code>DataStream&lt;String&gt; stream = ...\n        \nKafkaSink&lt;String&gt; sink = KafkaSink.&lt;String&gt;builder()\n        .setBootstrapServers(brokers)\n        .setRecordSerializer(KafkaRecordSerializationSchema.builder()\n            .setTopic(&quot;topic-name&quot;)\n            .setValueSerializationSchema(new SimpleStringSchema())\n            .build()\n        )\n        .setDeliverGuarantee(DeliveryGuarantee.AT_LEAST_ONCE)\n        .build();\n        \nstream.sinkTo(sink);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642666231,"creation_date":1642666231,"answer_id":70782689,"question_id":70780584,"body_markdown":"The Flink 1.14 release notes contain details about `KafkaSink`, which is the successor of `FlinkKafkaProducer`. This includes a migration guide. You can find it at https://nightlies.apache.org/flink/flink-docs-release-1.14/release-notes/flink-1.14/#port-kafkasink-to-new-unified-sink-api-flip-143","title":"Successor to deprecated FlinkKafkaProducer","body":"<p>The Flink 1.14 release notes contain details about <code>KafkaSink</code>, which is the successor of <code>FlinkKafkaProducer</code>. This includes a migration guide. You can find it at <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/release-notes/flink-1.14/#port-kafkasink-to-new-unified-sink-api-flip-143\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.14/release-notes/flink-1.14/#port-kafkasink-to-new-unified-sink-api-flip-143</a></p>\n"}],"owner":{"account_id":9588169,"reputation":1265,"user_id":7120087,"display_name":"Baiqing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70781511,"answer_count":2,"score":0,"last_activity_date":1642666231,"creation_date":1642650467,"question_id":70780584,"body_markdown":"Can someone point me to what to use for FlinkKafkaProducer in newer versions of Flink as it has been deprecated?\r\n\r\nI have some code like this:\r\n```java\r\nFlinkKafkaProducer&lt;String&gt; myKafkaProducer = new FlinkKafkaProducer&lt;String&gt;(\r\n        &quot;kafka-producer&quot;,            // target topic\r\n        new SimpleStringSchema(),    // serialization schema\r\n        properties);\r\n```\r\n\r\nHow would I swap out the deprecated methods? Thanks!","title":"Successor to deprecated FlinkKafkaProducer","body":"<p>Can someone point me to what to use for FlinkKafkaProducer in newer versions of Flink as it has been deprecated?</p>\n<p>I have some code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FlinkKafkaProducer&lt;String&gt; myKafkaProducer = new FlinkKafkaProducer&lt;String&gt;(\n        &quot;kafka-producer&quot;,            // target topic\n        new SimpleStringSchema(),    // serialization schema\n        properties);\n</code></pre>\n<p>How would I swap out the deprecated methods? Thanks!</p>\n"},{"tags":["java","mysql","mybatis"],"answers":[{"tags":[],"owner":{"account_id":299053,"reputation":3959,"user_id":605422,"display_name":"Giovanni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442576333,"creation_date":1442561574,"answer_id":32646342,"question_id":32645859,"body_markdown":"if you want to keep the % in sql you must use the $ symbol\r\n\r\n    &#39;%&#39; + &#39;${search}&#39; + &#39;%&#39;\r\n\r\nkeep in mind thant using ${} expose your query to sql injection so you must escape the search string properly in java code","title":"Concatenation of String and params in mybatis","body":"<p>if you want to keep the % in sql you must use the $ symbol</p>\n\n<pre><code>'%' + '${search}' + '%'\n</code></pre>\n\n<p>keep in mind thant using ${} expose your query to sql injection so you must escape the search string properly in java code</p>\n"},{"tags":[],"owner":{"account_id":5199863,"reputation":111,"user_id":4159673,"accept_rate":33,"display_name":"Sandeep Choudhari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491489420,"creation_date":1491489420,"answer_id":43258301,"question_id":32645859,"body_markdown":"Try this `&#39;%&#39; || #{search} || &#39;%&#39;`\r\nIt will solve your problem. \r\n","title":"Concatenation of String and params in mybatis","body":"<p>Try this <code>'%' || #{search} || '%'</code>\nIt will solve your problem. </p>\n"},{"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530705878,"creation_date":1530705878,"answer_id":51173295,"question_id":32645859,"body_markdown":"There were two properties - personId and personNickName\r\n\r\n\r\n&gt; personId javaType is java.math.BigInteger, value is eg. 123\r\n&gt; \r\n&gt; personNickName javaType is String, value is eg. &#39;MACK&#39;\r\n\r\n\r\nSo, in `mybatis` I need the concatenation in where clause of query &#39;123MACK&#39; \r\n\r\n    Select * From \r\n    From PersonTable \r\n    Where personUniqueValue = cast(#{personId} as varchar) + #{personNickName}\r\n\r\n \r\n\r\nHope it will help someone.","title":"Concatenation of String and params in mybatis","body":"<p>There were two properties - personId and personNickName</p>\n\n<blockquote>\n  <p>personId javaType is java.math.BigInteger, value is eg. 123</p>\n  \n  <p>personNickName javaType is String, value is eg. 'MACK'</p>\n</blockquote>\n\n<p>So, in <code>mybatis</code> I need the concatenation in where clause of query '123MACK' </p>\n\n<pre><code>Select * From \nFrom PersonTable \nWhere personUniqueValue = cast(#{personId} as varchar) + #{personNickName}\n</code></pre>\n\n<p>Hope it will help someone.</p>\n"},{"tags":[],"owner":{"account_id":4741166,"reputation":427,"user_id":3833858,"display_name":"boris1993"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560842749,"creation_date":1560842749,"answer_id":56643790,"question_id":32645859,"body_markdown":"Try the built-in string concatenation function in the DB, e.g.\r\n\r\n```sql\r\nLIKE CONCAT(&#39;%&#39;, #{search}, &#39;%&#39;)\r\n```\r\n\r\nFor MySQL","title":"Concatenation of String and params in mybatis","body":"<p>Try the built-in string concatenation function in the DB, e.g.</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>LIKE CONCAT('%', #{search}, '%')\n</code></pre>\n\n<p>For MySQL</p>\n"},{"tags":[],"owner":{"account_id":11332959,"reputation":11,"user_id":8309916,"display_name":"silvablack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609853041,"creation_date":1609853041,"answer_id":65579782,"question_id":32645859,"body_markdown":"    &lt;select id=&quot;selectBlogsLike&quot; resultType=&quot;Blog&quot;&gt;\r\n      &lt;bind name=&quot;pattern&quot; value=&quot;&#39;%&#39; + _parameter.getTitle() + &#39;%&#39;&quot; /&gt;\r\n      SELECT * FROM BLOG\r\n      WHERE title LIKE #{pattern}\r\n    &lt;/select&gt;\r\n\r\nDocumentation: https://mybatis.org/mybatis-3/dynamic-sql.html","title":"Concatenation of String and params in mybatis","body":"<pre><code>&lt;select id=&quot;selectBlogsLike&quot; resultType=&quot;Blog&quot;&gt;\n  &lt;bind name=&quot;pattern&quot; value=&quot;'%' + _parameter.getTitle() + '%'&quot; /&gt;\n  SELECT * FROM BLOG\n  WHERE title LIKE #{pattern}\n&lt;/select&gt;\n</code></pre>\n<p>Documentation: <a href=\"https://mybatis.org/mybatis-3/dynamic-sql.html\" rel=\"nofollow noreferrer\">https://mybatis.org/mybatis-3/dynamic-sql.html</a></p>\n"}],"owner":{"account_id":2285762,"reputation":3169,"user_id":2009750,"accept_rate":80,"display_name":"user2009750"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9891,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1642666009,"creation_date":1442559885,"question_id":32645859,"body_markdown":"I have searched for this and `+` and `$` won&#39;t work. I wan&#39;t to concatenate `%` with `#search` param in mybatis select query. I want to achieve this in mybatis XML config not service(Java)...\r\n\r\nI have this query\r\n\r\n    &lt;select id=&quot;carriersDataTable&quot; parameterType=&quot;map&quot; resultType = &quot;carrier&quot;&gt;\r\n            SELECT \r\n            carrierId\r\n            name, \r\n            prefix,\r\n            country, \r\n            status,\r\n            isdirect as direct\r\n            FROM carriers\r\n            WHERE name LIKE &#39;%&#39; + #{search} + &#39;%&#39; AND Status != -1 AND IF(&#39;&#39;=#{status}, 1, Status = #{status})\r\n            ORDER BY name\r\n            LIMIT #{startIndex}, #{fetchSize}\r\n        &lt;/select&gt;\r\n\r\nI have tried `LIKE &#39;%&#39; + #{search} + &#39;%&#39;` and `LIKE ${%#{search}%}` both won&#39;t work","title":"Concatenation of String and params in mybatis","body":"<p>I have searched for this and <code>+</code> and <code>$</code> won't work. I wan't to concatenate <code>%</code> with <code>#search</code> param in mybatis select query. I want to achieve this in mybatis XML config not service(Java)...</p>\n<p>I have this query</p>\n<pre><code>&lt;select id=&quot;carriersDataTable&quot; parameterType=&quot;map&quot; resultType = &quot;carrier&quot;&gt;\n        SELECT \n        carrierId\n        name, \n        prefix,\n        country, \n        status,\n        isdirect as direct\n        FROM carriers\n        WHERE name LIKE '%' + #{search} + '%' AND Status != -1 AND IF(''=#{status}, 1, Status = #{status})\n        ORDER BY name\n        LIMIT #{startIndex}, #{fetchSize}\n    &lt;/select&gt;\n</code></pre>\n<p>I have tried <code>LIKE '%' + #{search} + '%'</code> and <code>LIKE ${%#{search}%}</code> both won't work</p>\n"},{"tags":["java","maven","spring-boot","maven-release-plugin","jasypt"],"answers":[{"tags":[],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557306919,"creation_date":1557306919,"answer_id":56037322,"question_id":56035132,"body_markdown":"You can check [this link][1] which gives more details about the issue.\r\n\r\nBasically it states that \r\n\r\n&gt; Once you enable jasypt-spring-boot the password property is required\r\n&gt; as specified in the documentation\r\n\r\nThey have suggested multiple solutions. One of them being:\r\n\r\nAdd `jasypt.encryptor.password=dummy` to your springboot properties file.\r\n\r\nAnd another (if running from command line), run your jar with \r\n\r\n`-Djasypt.encryptor.password=*******************`\r\n\r\n  [1]: https://github.com/ulisesbocchio/jasypt-spring-boot/issues/11","title":"Not able to do maven release with jasypt encryption","body":"<p>You can check <a href=\"https://github.com/ulisesbocchio/jasypt-spring-boot/issues/11\" rel=\"nofollow noreferrer\">this link</a> which gives more details about the issue.</p>\n\n<p>Basically it states that </p>\n\n<blockquote>\n  <p>Once you enable jasypt-spring-boot the password property is required\n  as specified in the documentation</p>\n</blockquote>\n\n<p>They have suggested multiple solutions. One of them being:</p>\n\n<p>Add <code>jasypt.encryptor.password=dummy</code> to your springboot properties file.</p>\n\n<p>And another (if running from command line), run your jar with </p>\n\n<p><code>-Djasypt.encryptor.password=*******************</code></p>\n"},{"tags":[],"owner":{"account_id":4450802,"reputation":1076,"user_id":4608329,"accept_rate":38,"display_name":"pkgajulapalli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557306928,"creation_date":1557306928,"answer_id":56037323,"question_id":56035132,"body_markdown":"I got the issue solved using following command. Apparently maven release plugin takes configuration parameters in a different way.\r\n\r\n    mvn -B clean release:prepare release:perform -Darguments=&quot;-Djasypt.encryptor.password=${jasypt_password}&quot;","title":"Not able to do maven release with jasypt encryption","body":"<p>I got the issue solved using following command. Apparently maven release plugin takes configuration parameters in a different way.</p>\n\n<pre><code>mvn -B clean release:prepare release:perform -Darguments=\"-Djasypt.encryptor.password=${jasypt_password}\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18022555,"reputation":37,"user_id":13099372,"display_name":"Manoj H U"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642665827,"creation_date":1642665827,"answer_id":70782615,"question_id":56035132,"body_markdown":"If you are using Intellij,\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4qY2z.png\r\n\r\nUsing \r\n``` -Djasypt.encryptor.password=${jasypt_password} ``` as Project argument should resolve your issue.\r\n\r\n If it doesnot help then try\r\n``` --jasypt.encryptor.password=${jasypt_password} ```.\r\n\r\nLet me know if this helps.\r\n\r\nThanks,  \r\n***Manu***","title":"Not able to do maven release with jasypt encryption","body":"<p>If you are using Intellij,\n<a href=\"https://i.stack.imgur.com/4qY2z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4qY2z.png\" alt=\"enter image description here\" /></a></p>\n<p>Using\n<code>-Djasypt.encryptor.password=${jasypt_password}</code> as Project argument should resolve your issue.</p>\n<p>If it doesnot help then try\n<code>--jasypt.encryptor.password=${jasypt_password}</code>.</p>\n<p>Let me know if this helps.</p>\n<p>Thanks,<br />\n<em><strong>Manu</strong></em></p>\n"}],"owner":{"account_id":4450802,"reputation":1076,"user_id":4608329,"accept_rate":38,"display_name":"pkgajulapalli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8044,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56037323,"answer_count":3,"score":0,"last_activity_date":1642665827,"creation_date":1557298637,"question_id":56035132,"body_markdown":"I&#39;ve a Springboot project handled by maven that contains some secrets encrypted with Jasypt. When I&#39;m running the `mvn deploy` I&#39;m passing the jasypt password as:\r\n\r\n    mvn -B clean deploy -Djasypt.encryptor.password=${jasypt_password}\r\n\r\nAnd it is able to run test cases and deploy the jar file to repository. But when I&#39;m doing the same with `mvn release` the jasypt password is not properly set.\r\n\r\n    mvn -B clean release:prepare release:perform -Djasypt.encryptor.password=${jasypt_password}\r\n\r\nOr\r\n\r\n    mvn -B release:prepare -Djasypt.encryptor.password=${jasypt_password}\r\n\r\nFor both these cases, I&#39;m getting following error while running the test cases.\r\n\r\n&gt; Caused by: java.lang.IllegalStateException: Required Encryption configuration property missing: jasypt.encryptor.password\r\n\r\nThe plugin configuration I&#39;m using is:\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;localCheckout&gt;true&lt;/localCheckout&gt;\r\n            &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nHow should I set jasypt password while running the maven release?","title":"Not able to do maven release with jasypt encryption","body":"<p>I've a Springboot project handled by maven that contains some secrets encrypted with Jasypt. When I'm running the <code>mvn deploy</code> I'm passing the jasypt password as:</p>\n\n<pre><code>mvn -B clean deploy -Djasypt.encryptor.password=${jasypt_password}\n</code></pre>\n\n<p>And it is able to run test cases and deploy the jar file to repository. But when I'm doing the same with <code>mvn release</code> the jasypt password is not properly set.</p>\n\n<pre><code>mvn -B clean release:prepare release:perform -Djasypt.encryptor.password=${jasypt_password}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>mvn -B release:prepare -Djasypt.encryptor.password=${jasypt_password}\n</code></pre>\n\n<p>For both these cases, I'm getting following error while running the test cases.</p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalStateException: Required Encryption configuration property missing: jasypt.encryptor.password</p>\n</blockquote>\n\n<p>The plugin configuration I'm using is:</p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;localCheckout&gt;true&lt;/localCheckout&gt;\n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>How should I set jasypt password while running the maven release?</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":5,"creation_date":1365106839,"post_id":15820951,"comment_id":22504453,"body_markdown":"and what have you tried that is not so efficient?","body":"and what have you tried that is not so efficient?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1365106894,"post_id":15820951,"comment_id":22504487,"body_markdown":"Do you need to know which date is the earliest (i.e. tie it back to the variable), or just the value?","body":"Do you need to know which date is the earliest (i.e. tie it back to the variable), or just the value?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1365107032,"post_id":15820951,"comment_id":22504549,"body_markdown":"You could convert each Date to its millisecond representation and use a compound Math.min to determine the smallest value","body":"You could convert each Date to its millisecond representation and use a compound Math.min to determine the smallest value"},{"owner":{"account_id":126958,"reputation":3874,"user_id":323807,"accept_rate":71,"display_name":"Andre"},"score":4,"creation_date":1365107081,"post_id":15820951,"comment_id":22504571,"body_markdown":"Is null greater or smaller than any date?","body":"Is null greater or smaller than any date?"},{"owner":{"account_id":217804,"reputation":851,"user_id":473789,"accept_rate":92,"display_name":"Ace"},"score":0,"creation_date":1365109229,"post_id":15820951,"comment_id":22505605,"body_markdown":"I would want a the actual date that is earliest among a,b,c.  Any date is better than a null date.","body":"I would want a the actual date that is earliest among a,b,c.  Any date is better than a null date."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1466402735,"post_id":15820951,"comment_id":63282274,"body_markdown":"See the similar Question, [Nice general way to sort nulls to the bottom, regardless?](http://stackoverflow.com/q/1261934/642706).","body":"See the similar Question, <a href=\"http://stackoverflow.com/q/1261934/642706\">Nice general way to sort nulls to the bottom, regardless?</a>."}],"answers":[{"tags":[],"owner":{"account_id":2363604,"reputation":2859,"user_id":2069788,"accept_rate":93,"display_name":"Cristiano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365106890,"creation_date":1365106890,"answer_id":15820970,"question_id":15820951,"body_markdown":"Use the java Date object http://docs.oracle.com/javase/6/docs/api/java/util/Date.html\r\n\r\nYou can use the before() and after() functions of these objects then","title":"Find the earliest date among 3 dates","body":"<p>Use the java Date object <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Date.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/Date.html</a></p>\n\n<p>You can use the before() and after() functions of these objects then</p>\n"},{"tags":[],"owner":{"account_id":2586840,"reputation":1410,"user_id":2242355,"accept_rate":50,"display_name":"Grzegorz Olszewski"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1536947101,"creation_date":1365107372,"answer_id":15821101,"question_id":15820951,"body_markdown":"Well, &#39;efficient&#39; has some different meanings, but I don&#39;t think there will be an efficiency problem with comparing three dates. In fact, it&#39;s really cheap. You can try this approach:\r\n\r\n    SortedSet&lt;Date&gt; dates = new TreeSet&lt;Date&gt;();\r\n    dates.add(date1);\r\n    dates.add(date2);\r\n    // ...\r\n    dates.add(dateN);\r\n    Date earliest = dates.first();\r\n\r\nOr, maybe more elegant:\r\n\r\n    for (Date date : someDates) {\r\n       if (date != null) {\r\n          dates.add(date);\r\n       }\r\n    }\r\n    Date earliest = dates.first();","title":"Find the earliest date among 3 dates","body":"<p>Well, 'efficient' has some different meanings, but I don't think there will be an efficiency problem with comparing three dates. In fact, it's really cheap. You can try this approach:</p>\n\n<pre><code>SortedSet&lt;Date&gt; dates = new TreeSet&lt;Date&gt;();\ndates.add(date1);\ndates.add(date2);\n// ...\ndates.add(dateN);\nDate earliest = dates.first();\n</code></pre>\n\n<p>Or, maybe more elegant:</p>\n\n<pre><code>for (Date date : someDates) {\n   if (date != null) {\n      dates.add(date);\n   }\n}\nDate earliest = dates.first();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368650,"reputation":3742,"user_id":715592,"accept_rate":71,"display_name":"NullPointerException"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365107390,"creation_date":1365107390,"answer_id":15821106,"question_id":15820951,"body_markdown":"You can use\r\n\r\n    date1.compareTo(anotherDate)\r\n\r\nReturns:\r\n\r\nthe value 0 if the argument Date is equal to this Date; a value less than 0 if this Date is before the Date argument; and a value greater than 0 if this Date is after the Date argument.\r\n\r\nThrows:\r\n\r\n    NullPointerException - \r\n\r\nif anotherDate is null.\r\n","title":"Find the earliest date among 3 dates","body":"<p>You can use</p>\n\n<pre><code>date1.compareTo(anotherDate)\n</code></pre>\n\n<p>Returns:</p>\n\n<p>the value 0 if the argument Date is equal to this Date; a value less than 0 if this Date is before the Date argument; and a value greater than 0 if this Date is after the Date argument.</p>\n\n<p>Throws:</p>\n\n<pre><code>NullPointerException - \n</code></pre>\n\n<p>if anotherDate is null.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1365127316,"creation_date":1365107496,"answer_id":15821129,"question_id":15820951,"body_markdown":"There&#39;s no getting around null checking, but with some refactoring you can make it painless.\r\n\r\nCreate a method that safely compares two dates:\r\n\r\n    /**\r\n     * Safely compare two dates, null being considered &quot;greater&quot; than a Date\r\n     * @return the earliest of the two\r\n     */\r\n    public static Date least(Date a, Date b) {\r\n        return a == null ? b : (b == null ? a : (a.before(b) ? a : b));\r\n    }\r\n\r\nthen combine calls to that:\r\n\r\n    Date earliest = least(least(a, b), c);\r\n\r\n---\r\n\r\nActually, you can make this a generic method for any `Comparable`:\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; T least(T a, T b) {\r\n        return a == null ? b : (b == null ? a : (a.compareTo(b) &lt; 0 ? a : b));\r\n    }\r\n\r\n    ","title":"Find the earliest date among 3 dates","body":"<p>There's no getting around null checking, but with some refactoring you can make it painless.</p>\n\n<p>Create a method that safely compares two dates:</p>\n\n<pre><code>/**\n * Safely compare two dates, null being considered \"greater\" than a Date\n * @return the earliest of the two\n */\npublic static Date least(Date a, Date b) {\n    return a == null ? b : (b == null ? a : (a.before(b) ? a : b));\n}\n</code></pre>\n\n<p>then combine calls to that:</p>\n\n<pre><code>Date earliest = least(least(a, b), c);\n</code></pre>\n\n<hr>\n\n<p>Actually, you can make this a generic method for any <code>Comparable</code>:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; T least(T a, T b) {\n    return a == null ? b : (b == null ? a : (a.compareTo(b) &lt; 0 ? a : b));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2579198,"reputation":2760,"user_id":2236253,"display_name":"Vitaly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365110303,"creation_date":1365108800,"answer_id":15821492,"question_id":15820951,"body_markdown":"just another version as an idea and for fun\r\n\r\n    new Date(Math.min(a != null ? a.getTime() : Long.MAX_VALUE\r\n    , Math.min(b != null ? b.getTime() : Long.MAX_VALUE\r\n    , c != null ? c.getTime() : Long.MAX_VALUE)))\r\n\r\n","title":"Find the earliest date among 3 dates","body":"<p>just another version as an idea and for fun</p>\n\n<pre><code>new Date(Math.min(a != null ? a.getTime() : Long.MAX_VALUE\n, Math.min(b != null ? b.getTime() : Long.MAX_VALUE\n, c != null ? c.getTime() : Long.MAX_VALUE)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8773666,"reputation":3569,"user_id":6559577,"accept_rate":38,"display_name":"Mortada Jafar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496661481,"creation_date":1496661481,"answer_id":44367756,"question_id":15820951,"body_markdown":"using before and after : \r\n  \r\n\r\n      /**\r\n         * find Min Dates\r\n         * @param date1\r\n         * @param date2\r\n         * @return\r\n         */\r\n        public static Date minDate(Date date1, Date date2) {\r\n            // if date1 before date2 then return date1 else return date2\r\n            return date1.before(date2) ? date1 : date2;\r\n        }\r\n         /**\r\n         * find Max Dates\r\n         * @param date1\r\n         * @param date2\r\n         * @return\r\n         */\r\n        public static Date maxDate(Date date1, Date date2) {\r\n            // if date1 after date2 then return date1 else return date2\r\n            return date1.after(date2) ? date1 : date2;\r\n        }","title":"Find the earliest date among 3 dates","body":"<p>using before and after : </p>\n\n<pre><code>  /**\n     * find Min Dates\n     * @param date1\n     * @param date2\n     * @return\n     */\n    public static Date minDate(Date date1, Date date2) {\n        // if date1 before date2 then return date1 else return date2\n        return date1.before(date2) ? date1 : date2;\n    }\n     /**\n     * find Max Dates\n     * @param date1\n     * @param date2\n     * @return\n     */\n    public static Date maxDate(Date date1, Date date2) {\n        // if date1 after date2 then return date1 else return date2\n        return date1.after(date2) ? date1 : date2;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498463925,"creation_date":1498463925,"answer_id":44755254,"question_id":15820951,"body_markdown":"\r\n\r\nAnother way is to use [java.util.Collections.min(collection)][1]:\r\n\r\n&gt; Returns:\r\n&gt;     the minimum element of the given collection, according to the natural ordering of its elements.\r\n\r\n\t\r\n    public static Date getEarliestDate(List&lt;Date&gt; dates) {\r\n\r\n\t\tif (dates == null || dates.isEmpty())\r\n\t\t\treturn null;\r\n\r\n\t\tdates.removeIf(Objects::isNull);\r\n\r\n\t\treturn dates.isEmpty() ? null : Collections.min(dates);\r\n\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#min(java.util.Collection)","title":"Find the earliest date among 3 dates","body":"<p>Another way is to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#min(java.util.Collection)\" rel=\"nofollow noreferrer\">java.util.Collections.min(collection)</a>:</p>\n\n<blockquote>\n  <p>Returns:\n      the minimum element of the given collection, according to the natural ordering of its elements.</p>\n</blockquote>\n\n<pre><code>public static Date getEarliestDate(List&lt;Date&gt; dates) {\n\n    if (dates == null || dates.isEmpty())\n        return null;\n\n    dates.removeIf(Objects::isNull);\n\n    return dates.isEmpty() ? null : Collections.min(dates);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":293860,"reputation":7418,"user_id":597419,"accept_rate":71,"display_name":"Danny"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1525182257,"creation_date":1525181737,"answer_id":50117478,"question_id":15820951,"body_markdown":"Some Java 8 methods using streams. The first will filter nulls before comparing, the second will put them at the end of the list.\r\n\r\n    Date minDate = Arrays.asList(date1, date2, etc).stream()\r\n         .filter(Objects::nonNull).min(Date::compareTo).get()\r\n\r\nor\r\n\r\n    Date minDate = Arrays.asList(date1, date2, etc).stream()\r\n        .sorted((a, b) -&gt; {\r\n\t\t\t//some kind of custom sort.\r\n            if(a == null &amp;&amp; b == null) return 0;\r\n            if(a == null) return 1;\r\n\t\t\tif(b == null) return -1;\r\n\t\t\treturn a.compareTo(b);\r\n\t\t}).findFirst().get()","title":"Find the earliest date among 3 dates","body":"<p>Some Java 8 methods using streams. The first will filter nulls before comparing, the second will put them at the end of the list.</p>\n\n<pre><code>Date minDate = Arrays.asList(date1, date2, etc).stream()\n     .filter(Objects::nonNull).min(Date::compareTo).get()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Date minDate = Arrays.asList(date1, date2, etc).stream()\n    .sorted((a, b) -&gt; {\n        //some kind of custom sort.\n        if(a == null &amp;&amp; b == null) return 0;\n        if(a == null) return 1;\n        if(b == null) return -1;\n        return a.compareTo(b);\n    }).findFirst().get()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9056087,"reputation":766,"user_id":6744399,"display_name":"pavelety"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1576783013,"creation_date":1576783013,"answer_id":59415709,"question_id":15820951,"body_markdown":"Java 8+ oneliner. To make it safe, null check is added. Pass any number of dates.\r\n\r\n\r\n    public static Date min(Date... dates) {\r\n        return Arrays.stream(dates).filter(Objects::nonNull).min(Date::compareTo).orElse(null);\r\n    }\r\n**Not null safe**, but much shorter:\r\n\r\n    public static Date min(Date... dates) {\r\n        return Collections.min(Arrays.asList(dates));\r\n    }\r\n**Not null safe** without a new method:\r\n\r\n    Collections.min(Arrays.asList(date1, date2));\r\n\r\n\r\n","title":"Find the earliest date among 3 dates","body":"<p>Java 8+ oneliner. To make it safe, null check is added. Pass any number of dates.</p>\n\n<pre><code>public static Date min(Date... dates) {\n    return Arrays.stream(dates).filter(Objects::nonNull).min(Date::compareTo).orElse(null);\n}\n</code></pre>\n\n<p><strong>Not null safe</strong>, but much shorter:</p>\n\n<pre><code>public static Date min(Date... dates) {\n    return Collections.min(Arrays.asList(dates));\n}\n</code></pre>\n\n<p><strong>Not null safe</strong> without a new method:</p>\n\n<pre><code>Collections.min(Arrays.asList(date1, date2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588055896,"creation_date":1588055896,"answer_id":61474111,"question_id":15820951,"body_markdown":"Using stream:\r\n\r\n```\r\nDate min = Stream.of(date1, date2, etc)\r\n  .filter(Objects::nonNull)\r\n  .min(Date::compareTo)\r\n  .orElse(null);\r\n```\r\n\r\nIf your array does not contain NULL values you can use `Ordering`\r\n\r\n```\r\nOrdering.natural().min(date1, date2, etc);\r\n```","title":"Find the earliest date among 3 dates","body":"<p>Using stream:</p>\n\n<pre><code>Date min = Stream.of(date1, date2, etc)\n  .filter(Objects::nonNull)\n  .min(Date::compareTo)\n  .orElse(null);\n</code></pre>\n\n<p>If your array does not contain NULL values you can use <code>Ordering</code></p>\n\n<pre><code>Ordering.natural().min(date1, date2, etc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37456,"reputation":1077,"user_id":107085,"display_name":"n0nick"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1604354860,"creation_date":1604354860,"answer_id":64654019,"question_id":15820951,"body_markdown":"When Apache Commons is available, you might use [`ObjectUtils.min`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html#min-T...-):\r\n\r\n```java\r\nDate earliest = ObjectUtils.min(a, b, c);\r\n```","title":"Find the earliest date among 3 dates","body":"<p>When Apache Commons is available, you might use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html#min-T...-\" rel=\"noreferrer\"><code>ObjectUtils.min</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Date earliest = ObjectUtils.min(a, b, c);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1609687312,"creation_date":1609100836,"answer_id":65470135,"question_id":15820951,"body_markdown":"Meanwhile you are probably working with Java 8 LocalDate (instead of the old java.util.Date)\r\n\r\nFor Java 8 LocalDate use this method to get the earliest of a list of dates: \r\n\r\n    import java.time.LocalDate;\r\n\r\n    public static LocalDate earliestDate(LocalDate... dates) {\r\n        return\r\n            Arrays\r\n            .stream(dates)\r\n            .filter(Objects::nonNull)\r\n            .min(LocalDate::compareTo)\r\n            .orElse(null);\r\n    }","title":"Find the earliest date among 3 dates","body":"<p>Meanwhile you are probably working with Java 8 LocalDate (instead of the old java.util.Date)</p>\n<p>For Java 8 LocalDate use this method to get the earliest of a list of dates:</p>\n<pre><code>import java.time.LocalDate;\n\npublic static LocalDate earliestDate(LocalDate... dates) {\n    return\n        Arrays\n        .stream(dates)\n        .filter(Objects::nonNull)\n        .min(LocalDate::compareTo)\n        .orElse(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1809290,"reputation":473,"user_id":1645686,"accept_rate":100,"display_name":"Maksim Sirotkin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642665818,"creation_date":1642665818,"answer_id":70782614,"question_id":15820951,"body_markdown":"    List.of(date1, date2)\r\n    \t\t\t\t.stream()\r\n    \t\t\t\t.min(Date::compareTo)\r\n    \t\t\t\t.get();","title":"Find the earliest date among 3 dates","body":"<pre><code>List.of(date1, date2)\n                .stream()\n                .min(Date::compareTo)\n                .get();\n</code></pre>\n"}],"owner":{"account_id":217804,"reputation":851,"user_id":473789,"accept_rate":92,"display_name":"Ace"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53263,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"accepted_answer_id":15821129,"answer_count":13,"score":26,"last_activity_date":1642665818,"creation_date":1365106807,"question_id":15820951,"body_markdown":"I have three dates in Java: a, b, c.  Any or all of these dates may be null.  What&#39;s the most efficient way of determining the earliest date among a,b,c, without having a massive if-else block?","title":"Find the earliest date among 3 dates","body":"<p>I have three dates in Java: a, b, c.  Any or all of these dates may be null.  What's the most efficient way of determining the earliest date among a,b,c, without having a massive if-else block?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1642539405,"post_id":70752801,"comment_id":125096707,"body_markdown":"Does this answer your question? [Apache Netbeans version 11.1 building error with OpenJDK 11](https://stackoverflow.com/questions/57299145/apache-netbeans-version-11-1-building-error-with-openjdk-11)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57299145/apache-netbeans-version-11-1-building-error-with-openjdk-11\">Apache Netbeans version 11.1 building error with OpenJDK 11</a>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1642539697,"post_id":70752801,"comment_id":125096792,"body_markdown":"Also see the question [error: option -Xbootclasspath/p: not allowed with target 12 (Netbeans 11.0)](https://stackoverflow.com/q/56272364/2985643). The [answer from Ernestas Gruodis](https://stackoverflow.com/a/57292637/2985643) is simple and effective.","body":"Also see the question <a href=\"https://stackoverflow.com/q/56272364/2985643\">error: option -Xbootclasspath/p: not allowed with target 12 (Netbeans 11.0)</a>. The <a href=\"https://stackoverflow.com/a/57292637/2985643\">answer from Ernestas Gruodis</a> is simple and effective."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1642540095,"post_id":70752801,"comment_id":125096916,"body_markdown":"[1] If you are still stuck, update your question to explain why those proposed solutions did not solve your problem.  [2] Why do you have a [java-ee-6] tag for this question? Unless it is relevant, please replace that with the version of Java that you are using.","body":"[1] If you are still stuck, update your question to explain why those proposed solutions did not solve your problem.  [2] Why do you have a [java-ee-6] tag for this question? Unless it is relevant, please replace that with the version of Java that you are using."},{"owner":{"account_id":5138874,"reputation":3,"user_id":4116844,"display_name":"Ralphie"},"score":0,"creation_date":1642665770,"post_id":70752801,"comment_id":125132711,"body_markdown":"Thank you for the suggestions - I have a full-time job and this is just a hobby, so please allow me until the weekend to try the proposed solutions.","body":"Thank you for the suggestions - I have a full-time job and this is just a hobby, so please allow me until the weekend to try the proposed solutions."},{"owner":{"account_id":5138874,"reputation":3,"user_id":4116844,"display_name":"Ralphie"},"score":0,"creation_date":1643189913,"post_id":70752801,"comment_id":125271284,"body_markdown":"I tried both solutions without success, but re-installing JDK and Netbeans solved the problem.","body":"I tried both solutions without success, but re-installing JDK and Netbeans solved the problem."}],"owner":{"account_id":5138874,"reputation":3,"user_id":4116844,"display_name":"Ralphie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642665800,"creation_date":1642496334,"question_id":70752801,"body_markdown":"I recently installed netbeans (12.6) on a new computer. In a previous version (8.2) I was always able to have a main method in a class inside the web application, which I was able to run to do Sys.out to the console, specifically for testing.\r\n\r\nNow, with the new install when I try to run the main method I get the following error:\r\n\r\n-Xbootclasspath/p is no longer a supported option.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\nPlease assist.","title":"Netbeans java web application run main method","body":"<p>I recently installed netbeans (12.6) on a new computer. In a previous version (8.2) I was always able to have a main method in a class inside the web application, which I was able to run to do Sys.out to the console, specifically for testing.</p>\n<p>Now, with the new install when I try to run the main method I get the following error:</p>\n<p>-Xbootclasspath/p is no longer a supported option.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.</p>\n<p>Please assist.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","linkedhashmap"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1642587501,"post_id":70768681,"comment_id":125108101,"body_markdown":"Are you using a framework like Hibernate? Saving the data back?","body":"Are you using a framework like Hibernate? Saving the data back?"},{"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"score":0,"creation_date":1642588558,"post_id":70768681,"comment_id":125108572,"body_markdown":"@Bruno yes, I&#39;m using spring Data JPA","body":"@Bruno yes, I&#39;m using spring Data JPA"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1642589630,"post_id":70768681,"comment_id":125108968,"body_markdown":"Not clear what your `modelMapper` does, but it&#39;s possibly keeping the references to the `Map`, and then you&#39;d be saving that later, affecting the data stored in the DB.","body":"Not clear what your <code>modelMapper</code> does, but it&#39;s possibly keeping the references to the <code>Map</code>, and then you&#39;d be saving that later, affecting the data stored in the DB."},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1642589887,"post_id":70768681,"comment_id":125109077,"body_markdown":"As a side-note, your choice of class names and variable names is confusing. Firstly, you have a `key.getKey()`, so a &quot;key&quot; contains a field called &quot;key&quot; too apparently, which seems to be of type `Map&lt;String, Object&gt;`, which then conflicts with the general terminology of `Map`s (where key/values have their own meanings). Essentially, in this short code sample, it seems the word &quot;key&quot; to mean at least 3 different kind of things...","body":"As a side-note, your choice of class names and variable names is confusing. Firstly, you have a <code>key.getKey()</code>, so a &quot;key&quot; contains a field called &quot;key&quot; too apparently, which seems to be of type <code>Map&lt;String, Object&gt;</code>, which then conflicts with the general terminology of <code>Map</code>s (where key/values have their own meanings). Essentially, in this short code sample, it seems the word &quot;key&quot; to mean at least 3 different kind of things..."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1642596645,"post_id":70768681,"comment_id":125111854,"body_markdown":"If you are persisting that entity later all you have to do is make a clone of the list and modify that inside `getKeys` instead of operating on the original list.","body":"If you are persisting that entity later all you have to do is make a clone of the list and modify that inside <code>getKeys</code> instead of operating on the original list."},{"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"score":0,"creation_date":1642660690,"post_id":70768681,"comment_id":125131197,"body_markdown":"@Bruno, there are two key dto, one is DB model and another is Response model, because this is a migration project and something cannot be modified, this is one of them. Also, there is a key object within Key DTO. What I&#39;m trying to do is read the values from DB and parse it to response model using model mapper. And then , remove the &quot;d&quot; values within the key Object / Map which is inside the response (parsed) model.","body":"@Bruno, there are two key dto, one is DB model and another is Response model, because this is a migration project and something cannot be modified, this is one of them. Also, there is a key object within Key DTO. What I&#39;m trying to do is read the values from DB and parse it to response model using model mapper. And then , remove the &quot;d&quot; values within the key Object / Map which is inside the response (parsed) model."},{"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"score":0,"creation_date":1642660838,"post_id":70768681,"comment_id":125131234,"body_markdown":"@IgorFlakiewicz, I&#39;m modifying the parsed object, not the value which is red from the DB. So, how this can cause an issue at the DB level. Also, after the operation, no DB operations are done. So, how can this impact the DB?","body":"@IgorFlakiewicz, I&#39;m modifying the parsed object, not the value which is red from the DB. So, how this can cause an issue at the DB level. Also, after the operation, no DB operations are done. So, how can this impact the DB?"},{"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"score":0,"creation_date":1642665609,"post_id":70768681,"comment_id":125132667,"body_markdown":"The issue is fixed. The reson for the issue is @Transaction annotation. I did use this for fixing some previous issues and due to this, the issue arise.","body":"The issue is fixed. The reson for the issue is @Transaction annotation. I did use this for fixing some previous issues and due to this, the issue arise."},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1642668160,"post_id":70768681,"comment_id":125133590,"body_markdown":"If you can&#39;t rename the fields/getters/methods, I&#39;d suggest you make the variable names more explicit to distinguish between these types of objects.","body":"If you can&#39;t rename the fields/getters/methods, I&#39;d suggest you make the variable names more explicit to distinguish between these types of objects."}],"answers":[{"tags":[],"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642665706,"creation_date":1642665706,"answer_id":70782589,"question_id":70768681,"body_markdown":"The cause for the issue is ```@Trasactional```. when I remove this the issue removed.\r\nBut it will be nice if someone can explain how ```@Trasactional``` can cause such an issue.","title":"Map.remove(&quot;x&quot;) removes from relevant &quot;x&quot; in Postgres Json column","body":"<p>The cause for the issue is <code>@Trasactional</code>. when I remove this the issue removed.\nBut it will be nice if someone can explain how <code>@Trasactional</code> can cause such an issue.</p>\n"}],"owner":{"account_id":9637981,"reputation":37,"user_id":7153342,"display_name":"Azeem Ahamed"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70782589,"answer_count":1,"score":0,"last_activity_date":1642665706,"creation_date":1642586969,"question_id":70768681,"body_markdown":"I&#39;m reading data from Postgres DB and then I need to remove one part of JSON data from the red data. But this has an impact on the database level because this even removes data from the DB level.\r\n\r\nremove method\r\n```\r\nprivate static Map&lt;String,Object&gt; removePrivate(Object key) {\r\n        try {\r\n            Map&lt;String, Object&gt; keyMap = (Map&lt;String, Object&gt;) key;\r\n            keyMap.remove(&quot;d&quot;);\r\n            return keyMap;\r\n        } catch (Exception ex) {\r\n            log.warn(&quot;no private component &#39;d&#39; in private key&quot;,ex);\r\n            return null;\r\n        }\r\n    }\r\n```\r\nThe remove method is used here.\r\n```\r\npublic List&lt;Key&gt; getKeys(URI controller, URI url, String type, String purpose, String reference, Long limit, boolean exportPrivate) {\r\n\r\n        List&lt;Key&gt; keyList = new ArrayList&lt;&gt;();\r\n        List&lt;com.xxx.model.Key&gt; keys = keyRepository.getKeys(controller, url, type, purpose, reference, limit);\r\n        if (keys == null || keys.isEmpty()) throw new BadRequestException(&quot;No keys found for given settings&quot;);\r\n        keys.forEach(key -&gt; {\r\n            try {\r\n                Key k = modelMapper.map(key, Key.class);\r\n                keyList.add(k);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Parse exception {}&quot;, e.getMessage(),e);\r\n                throw new BadRequestException(&quot;Invalid key format&quot;,e);\r\n            }\r\n        });\r\n\r\n        if (!exportPrivate) keyList.forEach(key -&gt; key.setKey(removePrivate(key.getKey())));\r\n        return keyList;\r\n    }\r\n```\r\n\r\nIs there any clear reason why removing the property &quot;d&quot; from the map has an effect on the database level and also it removes the &quot;d&quot; component from &quot;keys&quot; List, but it should remove only from &quot;keyList&quot; List.","title":"Map.remove(&quot;x&quot;) removes from relevant &quot;x&quot; in Postgres Json column","body":"<p>I'm reading data from Postgres DB and then I need to remove one part of JSON data from the red data. But this has an impact on the database level because this even removes data from the DB level.</p>\n<p>remove method</p>\n<pre><code>private static Map&lt;String,Object&gt; removePrivate(Object key) {\n        try {\n            Map&lt;String, Object&gt; keyMap = (Map&lt;String, Object&gt;) key;\n            keyMap.remove(&quot;d&quot;);\n            return keyMap;\n        } catch (Exception ex) {\n            log.warn(&quot;no private component 'd' in private key&quot;,ex);\n            return null;\n        }\n    }\n</code></pre>\n<p>The remove method is used here.</p>\n<pre><code>public List&lt;Key&gt; getKeys(URI controller, URI url, String type, String purpose, String reference, Long limit, boolean exportPrivate) {\n\n        List&lt;Key&gt; keyList = new ArrayList&lt;&gt;();\n        List&lt;com.xxx.model.Key&gt; keys = keyRepository.getKeys(controller, url, type, purpose, reference, limit);\n        if (keys == null || keys.isEmpty()) throw new BadRequestException(&quot;No keys found for given settings&quot;);\n        keys.forEach(key -&gt; {\n            try {\n                Key k = modelMapper.map(key, Key.class);\n                keyList.add(k);\n            } catch (Exception e) {\n                log.error(&quot;Parse exception {}&quot;, e.getMessage(),e);\n                throw new BadRequestException(&quot;Invalid key format&quot;,e);\n            }\n        });\n\n        if (!exportPrivate) keyList.forEach(key -&gt; key.setKey(removePrivate(key.getKey())));\n        return keyList;\n    }\n</code></pre>\n<p>Is there any clear reason why removing the property &quot;d&quot; from the map has an effect on the database level and also it removes the &quot;d&quot; component from &quot;keys&quot; List, but it should remove only from &quot;keyList&quot; List.</p>\n"},{"tags":["java","android","java-8","gitlab-ci","java-11"],"comments":[{"owner":{"account_id":7575391,"reputation":32359,"user_id":5747944,"display_name":"sytech"},"score":0,"creation_date":1639507127,"post_id":70350933,"comment_id":124364646,"body_markdown":"I think your real question is not how to upgrade your _CI pipeline_, but how to upgrade your Java app (and build) from Java8 to Java11. Can you build your app locally (not in CI pipeline) with Java 11?","body":"I think your real question is not how to upgrade your <i>CI pipeline</i>, but how to upgrade your Java app (and build) from Java8 to Java11. Can you build your app locally (not in CI pipeline) with Java 11?"},{"owner":{"account_id":6418103,"reputation":2408,"user_id":4975634,"display_name":"Vladimir Fisher"},"score":0,"creation_date":1639507977,"post_id":70350933,"comment_id":124364953,"body_markdown":"Yes, I can build and lauch it locally","body":"Yes, I can build and lauch it locally"},{"owner":{"account_id":6418103,"reputation":2408,"user_id":4975634,"display_name":"Vladimir Fisher"},"score":0,"creation_date":1639666527,"post_id":70350933,"comment_id":124411608,"body_markdown":"I found the solution. The beginnig of &quot;yml&quot; file is: image: openjdk:11-jdk\n\nvariables:\n  ANDROID_COMPILE_SDK: &quot;31&quot;\n  ANDROID_BUILD_TOOLS: &quot;32.0.0&quot;\n  SDK_TOOLS: &quot;7583922&quot; # from https://developer.android.com/studio/#command-tools","body":"I found the solution. The beginnig of &quot;yml&quot; file is: image: openjdk:11-jdk  variables:   ANDROID_COMPILE_SDK: &quot;31&quot;   ANDROID_BUILD_TOOLS: &quot;32.0.0&quot;   SDK_TOOLS: &quot;7583922&quot; # from <a href=\"https://developer.android.com/studio/#command-tools\" rel=\"nofollow noreferrer\">developer.android.com/studio/#command-tools</a>"},{"owner":{"account_id":6418103,"reputation":2408,"user_id":4975634,"display_name":"Vladimir Fisher"},"score":0,"creation_date":1639666595,"post_id":70350933,"comment_id":124411642,"body_markdown":"before_script:\n  - wget --quiet --output-document=android-sdk.zip https://dl.google.com/android/repository/commandlinetools-linux-${SDK_TOOLS}_latest.zip\n  - unzip -q android-sdk.zip -d android-sdk-linux\n  - rm android-sdk.zip\n\n  - export ANDROID_HOME=$PWD/android-sdk-linux\n  - export PATH=$PATH:$PWD/android-sdk-linux/platform-tools/\n\n  - android-sdk-linux/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --update\n  - echo y | android-sdk-linux/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} &quot;platforms;android-${ANDROID_COMPILE_SDK}&quot; &quot;build-tools;${ANDROID_BUILD_TOOLS}&quot;","body":"before_script:   - wget --quiet --output-document=android-sdk.zip <a href=\"https://dl.google.com/android/repository/commandlinetools-linux-$\" rel=\"nofollow noreferrer\">dl.google.com/android/repository/commandlinetools-linux-$</a>{SD&zwnj;&#8203;K_TOOLS}_latest.zip   - unzip -q android-sdk.zip -d android-sdk-linux   - rm android-sdk.zip    - export ANDROID_HOME=$PWD/android-sdk-linux   - export PATH=$PATH:$PWD/android-sdk-linux/platform-tools/    - android-sdk-linux/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --update   - echo y | android-sdk-linux/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} &quot;platforms;android-${ANDROID_COMPILE_SDK}&quot; &quot;build-tools;${ANDROID_BUILD_TOOLS}&quot;"},{"owner":{"account_id":6418103,"reputation":2408,"user_id":4975634,"display_name":"Vladimir Fisher"},"score":0,"creation_date":1639666598,"post_id":70350933,"comment_id":124411643,"body_markdown":"- chmod +x ./gradlew","body":"- chmod +x ./gradlew"},{"owner":{"account_id":12226747,"reputation":684,"user_id":9673638,"display_name":"Nexus7_2012"},"score":0,"creation_date":1641574035,"post_id":70350933,"comment_id":124847594,"body_markdown":"This question is exactly the same as my question. It is not a duplicate of the question in reference and it should be re-opened. The same error occurs in my environment upgrading to Java 11 from Java 8 in gitlab and I created a pipeline with the comments above but it still fails with the same error when accepting the license agreement in the CI script.","body":"This question is exactly the same as my question. It is not a duplicate of the question in reference and it should be re-opened. The same error occurs in my environment upgrading to Java 11 from Java 8 in gitlab and I created a pipeline with the comments above but it still fails with the same error when accepting the license agreement in the CI script."}],"owner":{"account_id":6418103,"reputation":2408,"user_id":4975634,"display_name":"Vladimir Fisher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1639507783,"answer_count":0,"score":1,"last_activity_date":1642665680,"creation_date":1639493509,"question_id":70350933,"body_markdown":"Previously I had this is the beginning of my  .gitlab-ci.yml file:\r\n\r\n    image: openjdk:8-jdk\r\n\r\n    variables:\r\n     ANDROID_HOME: &quot;/androidsdk&quot;\r\n\r\n    before_script:\r\n      - chmod +x ./gradlew\r\n      - ./scripts/setup-android-sdk.sh\r\n\r\nNow I changed image to \r\n\r\n    image: openjdk:11-jdk\r\n\r\nand I have this error in ci/cd:\r\n\r\n    Running with gitlab-runner 11.9.2 (fa86510e)\r\n    on Mobile Android app GitLab CI Runners LWfCCxFM\r\n\r\n    Using Docker executor with image openjdk:11-jdk ...\r\n    Pulling docker image openjdk:11-jdk ...\r\n    Using docker image sha256:0719902862f3aa23b1e419b86666aa31c22095b5269d9633599b714718675973 for openjdk:11-jdk ...\r\n    Running on runner-LWfCCxFM-project-3359-concurrent-0 via mobileandroidgitlabci...\r\n    00:01\r\n    Reinitialized existing Git repository in /builds/android/androidclient/.git/\r\n    00:02\r\n    Clean repository\r\n    Fetching changes...\r\n    fatal: remote origin already exists.\r\n    From https://gitlab.****.tech/android/androidclient\r\n     * [new ref]               f21db547816f7f472eec299b3ec4cfdb6d9b5555 -&gt; refs/pipelines/8861554\r\n       7475181b40..f21db54781  migrate_app_to_31_target_sdk_mob_11536 -&gt; origin/migrate_app_to_31_target_sdk_mob_11536\r\n    Checking out f21db547 as migrate_app_to_31_target_sdk_mob_11536...\r\n    Skipping Git submodules setup\r\n    $ chmod +x ./gradlew\r\n    00:01\r\n    $ ./scripts/setup-android-sdk.sh\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n    \tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n    \tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n    \tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n    \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\r\n    \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 5 more\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n    \tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n    \tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n    \tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n    \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\r\n    \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 5 more\r\n\r\nMy setup-android-sdk script:\r\n\r\n    #!/usr/bin/env bash\r\n    \r\n    ANDROID_COMPILE_SDK=`egrep &#39;compileSdkVersion [0-9]*&#39; androidclient/build.gradle | awk &#39;{print $2}&#39;`\r\n    \r\n    yes | ${ANDROID_HOME}/tools/bin/sdkmanager --licenses\r\n    ${ANDROID_HOME}/tools/bin/sdkmanager &quot;platform-tools&quot; &quot;platforms;android-${ANDROID_COMPILE_SDK}&quot;\r\n\r\nI think the problem in setup-android-sdk script. How could I change it? I just don&#39;t undertand how it works. I understand, that this is because of Java 11, javax was removed. But if I removing setup-android-sdk script from yml file, there is No more errors (but no compiled apk too). Please help\r\n\r\nThis question is not duplicate! And should be reopened","title":"Update gitlab CI/CD pipeline from Java 8 to Java 11 for Android app","body":"<p>Previously I had this is the beginning of my  .gitlab-ci.yml file:</p>\n<pre><code>image: openjdk:8-jdk\n\nvariables:\n ANDROID_HOME: &quot;/androidsdk&quot;\n\nbefore_script:\n  - chmod +x ./gradlew\n  - ./scripts/setup-android-sdk.sh\n</code></pre>\n<p>Now I changed image to</p>\n<pre><code>image: openjdk:11-jdk\n</code></pre>\n<p>and I have this error in ci/cd:</p>\n<pre><code>Running with gitlab-runner 11.9.2 (fa86510e)\non Mobile Android app GitLab CI Runners LWfCCxFM\n\nUsing Docker executor with image openjdk:11-jdk ...\nPulling docker image openjdk:11-jdk ...\nUsing docker image sha256:0719902862f3aa23b1e419b86666aa31c22095b5269d9633599b714718675973 for openjdk:11-jdk ...\nRunning on runner-LWfCCxFM-project-3359-concurrent-0 via mobileandroidgitlabci...\n00:01\nReinitialized existing Git repository in /builds/android/androidclient/.git/\n00:02\nClean repository\nFetching changes...\nfatal: remote origin already exists.\nFrom https://gitlab.****.tech/android/androidclient\n * [new ref]               f21db547816f7f472eec299b3ec4cfdb6d9b5555 -&gt; refs/pipelines/8861554\n   7475181b40..f21db54781  migrate_app_to_31_target_sdk_mob_11536 -&gt; origin/migrate_app_to_31_target_sdk_mob_11536\nChecking out f21db547 as migrate_app_to_31_target_sdk_mob_11536...\nSkipping Git submodules setup\n$ chmod +x ./gradlew\n00:01\n$ ./scripts/setup-android-sdk.sh\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\n    at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 5 more\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\n    at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 5 more\n</code></pre>\n<p>My setup-android-sdk script:</p>\n<pre><code>#!/usr/bin/env bash\n\nANDROID_COMPILE_SDK=`egrep 'compileSdkVersion [0-9]*' androidclient/build.gradle | awk '{print $2}'`\n\nyes | ${ANDROID_HOME}/tools/bin/sdkmanager --licenses\n${ANDROID_HOME}/tools/bin/sdkmanager &quot;platform-tools&quot; &quot;platforms;android-${ANDROID_COMPILE_SDK}&quot;\n</code></pre>\n<p>I think the problem in setup-android-sdk script. How could I change it? I just don't undertand how it works. I understand, that this is because of Java 11, javax was removed. But if I removing setup-android-sdk script from yml file, there is No more errors (but no compiled apk too). Please help</p>\n<p>This question is not duplicate! And should be reopened</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":20871433,"reputation":81,"user_id":15331281,"display_name":"coding_stark"},"score":0,"creation_date":1642672592,"post_id":70782540,"comment_id":125135288,"body_markdown":"Give permit all to all the requests and check if it&#39;s happening again? Let me know the results","body":"Give permit all to all the requests and check if it&#39;s happening again? Let me know the results"},{"owner":{"account_id":18872755,"reputation":23,"user_id":13766909,"display_name":"hemanth kumar"},"score":0,"creation_date":1642673765,"post_id":70782540,"comment_id":125135771,"body_markdown":"if I permit all request then /authenticate and /hello works fine, but I need protect /hello","body":"if I permit all request then /authenticate and /hello works fine, but I need protect /hello"},{"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"score":1,"creation_date":1642676172,"post_id":70782540,"comment_id":125136746,"body_markdown":"The error shows the denied path was &#39;/authenticate/&#39;. Was the test done with &#39;/authenticate&#39; or &#39;/authenticate/&#39; with a slash at the end also?","body":"The error shows the denied path was &#39;/authenticate/&#39;. Was the test done with &#39;/authenticate&#39; or &#39;/authenticate/&#39; with a slash at the end also?"},{"owner":{"account_id":20871433,"reputation":81,"user_id":15331281,"display_name":"coding_stark"},"score":0,"creation_date":1642676449,"post_id":70782540,"comment_id":125136852,"body_markdown":"Try giving &#39;/authenticate/**&#39; in antMatchers","body":"Try giving &#39;/authenticate/**&#39; in antMatchers"}],"owner":{"account_id":18872755,"reputation":23,"user_id":13766909,"display_name":"hemanth kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642665494,"creation_date":1642665494,"question_id":70782540,"body_markdown":"\r\nWhen I am trying access /authenticate route it show this error in postman\r\n\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-01-20T07:50:45.532+0000&quot;,\r\n    &quot;status&quot;: 403,\r\n    &quot;error&quot;: &quot;Forbidden&quot;,\r\n    &quot;message&quot;: &quot;Access Denied&quot;,\r\n    &quot;path&quot;: &quot;/authenticate/&quot;\r\n}\r\n\r\n\r\nand /authenticate route authenticates the user and return jwt token\r\n\r\n\r\n**CODE**\r\n\r\nRest Controller\r\n\r\n```\r\n@RestController\r\nclass HelloWorldController {\r\n\r\n\t@Autowired\r\n\tprivate AuthenticationManager authenticationManager;\r\n\r\n\t@Autowired\r\n\tprivate JwtUtil jwtTokenUtil;\r\n\r\n\t@Autowired\r\n\tprivate MyUserDetailsService userDetailsService;\r\n\r\n\t@RequestMapping({ &quot;/hello&quot; })\r\n\tpublic String firstPage() {\r\n\t\treturn &quot;Hello World&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\r\n\tpublic ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws Exception {\r\n\r\n\t\ttry {\r\n\t\t\tauthenticationManager.authenticate(\r\n\t\t\t\t\tnew UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword())\r\n\t\t\t);\r\n\t\t}\r\n\t\tcatch (BadCredentialsException e) {\r\n\t\t\tthrow new Exception(&quot;Incorrect username or password&quot;, e);\r\n\t\t}\r\n\r\n\r\n\t\tfinal UserDetails userDetails = userDetailsService\r\n\t\t\t\t.loadUserByUsername(authenticationRequest.getUsername());\r\n\r\n\t\tfinal String jwt = jwtTokenUtil.generateToken(userDetails);\r\n\r\n\t\treturn ResponseEntity.ok(new AuthenticationResponse(jwt));\r\n\t}\r\n\r\n}\r\n```\r\nSpring Security configuration \r\n\r\n```\r\n@EnableWebSecurity\r\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t@Autowired\r\n\tprivate UserDetailsService myUserDetailsService;\r\n\t@Autowired\r\n\tprivate JwtRequestFilter jwtRequestFilter;\r\n\r\n\t@Autowired\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(myUserDetailsService);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn NoOpPasswordEncoder.getInstance();\r\n\t}\r\n\r\n\t@Override\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity httpSecurity) throws Exception {\r\n\t\thttpSecurity.csrf().disable()\r\n\t\t\t\t.authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll().\r\n\t\t\t\t\t\tanyRequest().authenticated().\r\n\t\t\t\t\t\tand().\r\n\t\t\t\t\t\texceptionHandling().and().sessionManagement()\r\n\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\thttpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n\t}\r\n\r\n}\r\n```","title":"Getting Unauthorized error in spring rest api , even /authenticate route is protected","body":"<p>When I am trying access /authenticate route it show this error in postman</p>\n<p>{\n&quot;timestamp&quot;: &quot;2022-01-20T07:50:45.532+0000&quot;,\n&quot;status&quot;: 403,\n&quot;error&quot;: &quot;Forbidden&quot;,\n&quot;message&quot;: &quot;Access Denied&quot;,\n&quot;path&quot;: &quot;/authenticate/&quot;\n}</p>\n<p>and /authenticate route authenticates the user and return jwt token</p>\n<p><strong>CODE</strong></p>\n<p>Rest Controller</p>\n<pre><code>@RestController\nclass HelloWorldController {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private JwtUtil jwtTokenUtil;\n\n    @Autowired\n    private MyUserDetailsService userDetailsService;\n\n    @RequestMapping({ &quot;/hello&quot; })\n    public String firstPage() {\n        return &quot;Hello World&quot;;\n    }\n\n    @RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws Exception {\n\n        try {\n            authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword())\n            );\n        }\n        catch (BadCredentialsException e) {\n            throw new Exception(&quot;Incorrect username or password&quot;, e);\n        }\n\n\n        final UserDetails userDetails = userDetailsService\n                .loadUserByUsername(authenticationRequest.getUsername());\n\n        final String jwt = jwtTokenUtil.generateToken(userDetails);\n\n        return ResponseEntity.ok(new AuthenticationResponse(jwt));\n    }\n\n}\n</code></pre>\n<p>Spring Security configuration</p>\n<pre><code>@EnableWebSecurity\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private UserDetailsService myUserDetailsService;\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(myUserDetailsService);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable()\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll().\n                        anyRequest().authenticated().\n                        and().\n                        exceptionHandling().and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc"],"answers":[{"tags":[],"owner":{"account_id":14888291,"reputation":69,"user_id":17676354,"display_name":"BugsAreEverywhere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642665405,"creation_date":1642665405,"answer_id":70782522,"question_id":70769431,"body_markdown":"Well, I figured it out myself. I will share my answer to help the community. I used `NamedParameterJdbcOperations.queryForObject` instead of `namedParameterJdbcOperations.query` and used the same ROW_MAPPER:\r\n\r\n    @Override\r\n    public ElementEntity getElement(final long id)\r\n    {\r\n        final MapSqlParameterSource paramSource = new MapSqlParameterSource();\r\n        paramSource.addValue(&quot;id&quot;, id);\r\n\r\n        try\r\n        {\r\n            return namedParameterJdbcOperations.queryForObject(SQL_RETURN_ELEMENT, paramSource, ROW_MAPPER_ELEMENT);\r\n        }\r\n        catch (EmptyResultDataAccessException e)\r\n        {\r\n            return null;\r\n        }\r\n    }\r\nIn my particular case I&#39;m interested to catch when the SQL Query attempt to find an Element that doesn&#39;t exist in the DB. For this purpose I catch and handle the `EmptyResultDataAccessException` thrown.\r\n\r\nMore info could be found here: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#queryForObject-java.lang.String-org.springframework.jdbc.core.namedparam.SqlParameterSource-org.springframework.jdbc.core.RowMapper-","title":"NamedParameterJdbcTemplate.query for returning only one element","body":"<p>Well, I figured it out myself. I will share my answer to help the community. I used <code>NamedParameterJdbcOperations.queryForObject</code> instead of <code>namedParameterJdbcOperations.query</code> and used the same ROW_MAPPER:</p>\n<pre><code>@Override\npublic ElementEntity getElement(final long id)\n{\n    final MapSqlParameterSource paramSource = new MapSqlParameterSource();\n    paramSource.addValue(&quot;id&quot;, id);\n\n    try\n    {\n        return namedParameterJdbcOperations.queryForObject(SQL_RETURN_ELEMENT, paramSource, ROW_MAPPER_ELEMENT);\n    }\n    catch (EmptyResultDataAccessException e)\n    {\n        return null;\n    }\n}\n</code></pre>\n<p>In my particular case I'm interested to catch when the SQL Query attempt to find an Element that doesn't exist in the DB. For this purpose I catch and handle the <code>EmptyResultDataAccessException</code> thrown.</p>\n<p>More info could be found here: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#queryForObject-java.lang.String-org.springframework.jdbc.core.namedparam.SqlParameterSource-org.springframework.jdbc.core.RowMapper-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html#queryForObject-java.lang.String-org.springframework.jdbc.core.namedparam.SqlParameterSource-org.springframework.jdbc.core.RowMapper-</a></p>\n"}],"owner":{"account_id":14888291,"reputation":69,"user_id":17676354,"display_name":"BugsAreEverywhere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":892,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70782522,"answer_count":1,"score":1,"last_activity_date":1642665405,"creation_date":1642590126,"question_id":70769431,"body_markdown":"I&#39;am writing a method to retrieve an element of a DB giving a Long id parameter.\r\n\r\nThis id is unique, so the method should just return one element, and I want to create a class instance with this element retrived.\r\n\r\nI&#39;ve made the following method that works perfectly fine:\r\n\r\n    @Override\r\n    public ElementEntity getElement(final long id)\r\n    {\r\n        final MapSqlParameterSource paramSource = new MapSqlParameterSource();\r\n        paramSource.addValue(&quot;element_id&quot;, id);\r\n        final List&lt;ElementEntity &gt; listOfElements =\r\n            namedParameterJdbcOperations.query(SQL_RETURN_ELEMENT_BY_ID, paramSource, ROW_MAPPER_ELEMENT);\r\n        return !listOfElements .isEmpty() ? listOfElements.get(0) : null;\r\n    }\r\nThe ROW_MAPPER is implemented this way:\r\n\r\n    private static final RowMapper&lt;ElementEntity &gt; ROW_MAPPER_INSTALLER =\r\n        (rs, RowNum) -&gt;\r\n            new ElementEntityBuilder().setElement(rs.getBytes(&quot;ELEMENT&quot;)).build();\r\n\r\nThe element is a byte array. I repeat, works perfectly. But I would like to avoid using a list and retrieving the first position and, instead, create directly the ElementEntity. So I tried the following approach:\r\n\r\n     @Override\r\n    public ElementEntity getElement(final long id)\r\n    {\r\n        final MapSqlParameterSource paramSource = new MapSqlParameterSource();\r\n        paramSource.addValue(&quot;element_id&quot;, id);\r\n\r\n        return namedParameterJdbcOperations.query(SQL_RETURN_ELEMENT_BY_ID, paramSource, (ResultSet rs) -&gt; new DesktopAppInstallerEntity(rs.getBytes(&quot;ELEMENT&quot;)));\r\n    }\r\n\r\nAlthought I have&#39;t made any more changes, it gives me the following error:`org.h2.jdbc.JdbcSQLNonTransientException: No data is available`.\r\n\r\nThat&#39;s the full error (I changed some words to avoid showing the real SQL query):\r\n\r\n    org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [SELECT SOMETHING FROM SOMEWHERE WHERE id = ?]; No data is available [2000-200]; nested exception is org.h2.jdbc.JdbcSQLNonTransientException: No data is available [2000-200]\r\n\r\nI&#39;m pretty new to all this JDBC, but it seems to me that the paramSource is not working properly when I apply this changes and I don&#39;t have the foggiest idea why is happening because I&#39;m just changing the result extractor.","title":"NamedParameterJdbcTemplate.query for returning only one element","body":"<p>I'am writing a method to retrieve an element of a DB giving a Long id parameter.</p>\n<p>This id is unique, so the method should just return one element, and I want to create a class instance with this element retrived.</p>\n<p>I've made the following method that works perfectly fine:</p>\n<pre><code>@Override\npublic ElementEntity getElement(final long id)\n{\n    final MapSqlParameterSource paramSource = new MapSqlParameterSource();\n    paramSource.addValue(&quot;element_id&quot;, id);\n    final List&lt;ElementEntity &gt; listOfElements =\n        namedParameterJdbcOperations.query(SQL_RETURN_ELEMENT_BY_ID, paramSource, ROW_MAPPER_ELEMENT);\n    return !listOfElements .isEmpty() ? listOfElements.get(0) : null;\n}\n</code></pre>\n<p>The ROW_MAPPER is implemented this way:</p>\n<pre><code>private static final RowMapper&lt;ElementEntity &gt; ROW_MAPPER_INSTALLER =\n    (rs, RowNum) -&gt;\n        new ElementEntityBuilder().setElement(rs.getBytes(&quot;ELEMENT&quot;)).build();\n</code></pre>\n<p>The element is a byte array. I repeat, works perfectly. But I would like to avoid using a list and retrieving the first position and, instead, create directly the ElementEntity. So I tried the following approach:</p>\n<pre><code> @Override\npublic ElementEntity getElement(final long id)\n{\n    final MapSqlParameterSource paramSource = new MapSqlParameterSource();\n    paramSource.addValue(&quot;element_id&quot;, id);\n\n    return namedParameterJdbcOperations.query(SQL_RETURN_ELEMENT_BY_ID, paramSource, (ResultSet rs) -&gt; new DesktopAppInstallerEntity(rs.getBytes(&quot;ELEMENT&quot;)));\n}\n</code></pre>\n<p>Althought I have't made any more changes, it gives me the following error:<code>org.h2.jdbc.JdbcSQLNonTransientException: No data is available</code>.</p>\n<p>That's the full error (I changed some words to avoid showing the real SQL query):</p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: PreparedStatementCallback; SQL [SELECT SOMETHING FROM SOMEWHERE WHERE id = ?]; No data is available [2000-200]; nested exception is org.h2.jdbc.JdbcSQLNonTransientException: No data is available [2000-200]\n</code></pre>\n<p>I'm pretty new to all this JDBC, but it seems to me that the paramSource is not working properly when I apply this changes and I don't have the foggiest idea why is happening because I'm just changing the result extractor.</p>\n"},{"tags":["java","list","nodes"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1642664868,"post_id":70782376,"comment_id":125132405,"body_markdown":"`private static RectNode _head` - have a look at that line again.","body":"<code>private static RectNode _head</code> - have a look at that line again."}],"answers":[{"tags":[],"owner":{"account_id":16542155,"reputation":1935,"user_id":11952668,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642665160,"creation_date":1642665160,"answer_id":70782476,"question_id":70782376,"body_markdown":"your `_head` variable is a `static` property of the `RectList` class . `static` members have the same value in all occurrences of the class.\r\nso when you do `rL1.addRect(r1);` `rL2` also get `r1` as it&#39;s head.\r\nthen you do `rL2.addrect(r2)` and it adds `r2` to the reference of the head, which is the same head of both objects (because the head is the static variable).\r\n\r\nyou can just remove the `static` keyword and it should do the trick.","title":"Why are all of the nodes that I add to different lists ends up in one list?","body":"<p>your <code>_head</code> variable is a <code>static</code> property of the <code>RectList</code> class . <code>static</code> members have the same value in all occurrences of the class.\nso when you do <code>rL1.addRect(r1);</code> <code>rL2</code> also get <code>r1</code> as it's head.\nthen you do <code>rL2.addrect(r2)</code> and it adds <code>r2</code> to the reference of the head, which is the same head of both objects (because the head is the static variable).</p>\n<p>you can just remove the <code>static</code> keyword and it should do the trick.</p>\n"}],"owner":{"account_id":23996112,"reputation":3,"user_id":17981603,"display_name":"Michael_fr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1642665963,"accepted_answer_id":70782476,"answer_count":1,"score":-1,"last_activity_date":1642665160,"creation_date":1642664612,"question_id":70782376,"body_markdown":"I have two classes, RectNode and RectList. The assignment is to create a list of rectangles (with another class called RectangleA). When I use the tester it seems like all of the nodes are added to the all of lists, even tho I create different lists. For example, the tester creates two lists: ```rL1``` and ```rL2```. Then it adds one rectangle to the 1st list, and one to the 2nd. The problem is that when I run the tester and prints both lists with a ```toString()``` method I created, it shows that both rectangles are in both of the lists. Can anyone help me find the problem?\r\n**When running test:** \r\n![1]\r\n\r\nrL1: The list has 2 rectangles.\r\n1. Width=5 Height=7 PointSW=(0,0)\r\n2. Width=3 Height=8 PointSW=(0,0)\r\n\r\nrL2: The list has 2 rectangles.\r\n1. Width=5 Height=7 PointSW=(0,0)\r\n2. Width=3 Height=8 PointSW=(0,0)\r\n\r\n**classes:**\r\n```\r\npublic class RectList\r\n{\r\n    private static RectNode _head;\r\n    public RectList(){\r\n        _head = null;\r\n    }\r\n    public static void addRect(RectangleA r){\r\n        if(empty()){\r\n            _head = new RectNode(r);\r\n        }else{\r\n            boolean isThereRectangle = false;\r\n            RectNode ptr = _head;\r\n            while(ptr.getNext() != null){\r\n                if(ptr.getRect().equals(r)){\r\n                    isThereRectangle = true;\r\n                }\r\n                ptr = ptr.getNext();\r\n            }\r\n            if(ptr.getRect().equals(r)){\r\n                isThereRectangle = true;\r\n            }\r\n            if(isThereRectangle == false){\r\n                ptr.setNext(new RectNode(r));\r\n            }\r\n        }\r\n    }\r\n    public String toString(){\r\n        String list = &quot;&quot;;\r\n        int counter = 0;\r\n        if(!empty()){\r\n            RectNode ptr = _head;\r\n            while(ptr != null){\r\n                counter++;\r\n                list += (counter + &quot;. &quot; + ptr.getRect().toString() + &quot;\\r\\n&quot;);\r\n                ptr = ptr.getNext();\r\n            }\r\n        }\r\n        return (&quot;The list has &quot; + counter + &quot; rectangles.&quot; + &quot;\\r\\n&quot; + list);\r\n        \r\n    }\r\n}\r\npublic class RectNode\r\n{\r\n    private RectangleA _rect;\r\n    private RectNode _next;\r\n    public RectNode(RectangleA r){\r\n        _rect = r;\r\n        _next = null;\r\n    }\r\n    public RectNode(RectangleA r, RectNode n) {\r\n        _rect = r;\r\n        _next = n;\r\n    }\r\n    public RectNode(RectNode r){\r\n        _rect = r._rect;\r\n        _next = r._next;\r\n    }\r\n    public RectangleA getRect(){\r\n        return new RectangleA(_rect);\r\n    }\r\n    public RectNode getNext(){\r\n        return _next;\r\n    }\r\n    public void setRect(RectangleA r){\r\n        _rect = new RectangleA(r);\r\n    }\r\n    public void setNext(RectNode next){\r\n        _next = next;\r\n    }\r\n}\r\n\r\npublic class test\r\n{\r\n    public static void main(String[] args) {\r\n        RectList rL1 = new RectList();\r\n        RectList rL2 = new RectList();\r\n        RectangleA r1 = new RectangleA(5, 7);\r\n        RectangleA r2 = new RectangleA(3, 8);\r\n        rL1.addRect(r1);\r\n        rL2.addRect(r2);\r\n        System.out.println(&quot;rL1: &quot; + rL1.toString() +&quot;\\nrL2: &quot; + rL2.toString());\r\n    }\r\n}\r\n```\r\n  [1]: https://i.stack.imgur.com/kJqgU.png","title":"Why are all of the nodes that I add to different lists ends up in one list?","body":"<p>I have two classes, RectNode and RectList. The assignment is to create a list of rectangles (with another class called RectangleA). When I use the tester it seems like all of the nodes are added to the all of lists, even tho I create different lists. For example, the tester creates two lists: <code>rL1</code> and <code>rL2</code>. Then it adds one rectangle to the 1st list, and one to the 2nd. The problem is that when I run the tester and prints both lists with a <code>toString()</code> method I created, it shows that both rectangles are in both of the lists. Can anyone help me find the problem?\n<strong>When running test:</strong>\n<img src=\"https://i.stack.imgur.com/kJqgU.png\" alt=\"1\" /></p>\n<p>rL1: The list has 2 rectangles.</p>\n<ol>\n<li>Width=5 Height=7 PointSW=(0,0)</li>\n<li>Width=3 Height=8 PointSW=(0,0)</li>\n</ol>\n<p>rL2: The list has 2 rectangles.</p>\n<ol>\n<li>Width=5 Height=7 PointSW=(0,0)</li>\n<li>Width=3 Height=8 PointSW=(0,0)</li>\n</ol>\n<p><strong>classes:</strong></p>\n<pre><code>public class RectList\n{\n    private static RectNode _head;\n    public RectList(){\n        _head = null;\n    }\n    public static void addRect(RectangleA r){\n        if(empty()){\n            _head = new RectNode(r);\n        }else{\n            boolean isThereRectangle = false;\n            RectNode ptr = _head;\n            while(ptr.getNext() != null){\n                if(ptr.getRect().equals(r)){\n                    isThereRectangle = true;\n                }\n                ptr = ptr.getNext();\n            }\n            if(ptr.getRect().equals(r)){\n                isThereRectangle = true;\n            }\n            if(isThereRectangle == false){\n                ptr.setNext(new RectNode(r));\n            }\n        }\n    }\n    public String toString(){\n        String list = &quot;&quot;;\n        int counter = 0;\n        if(!empty()){\n            RectNode ptr = _head;\n            while(ptr != null){\n                counter++;\n                list += (counter + &quot;. &quot; + ptr.getRect().toString() + &quot;\\r\\n&quot;);\n                ptr = ptr.getNext();\n            }\n        }\n        return (&quot;The list has &quot; + counter + &quot; rectangles.&quot; + &quot;\\r\\n&quot; + list);\n        \n    }\n}\npublic class RectNode\n{\n    private RectangleA _rect;\n    private RectNode _next;\n    public RectNode(RectangleA r){\n        _rect = r;\n        _next = null;\n    }\n    public RectNode(RectangleA r, RectNode n) {\n        _rect = r;\n        _next = n;\n    }\n    public RectNode(RectNode r){\n        _rect = r._rect;\n        _next = r._next;\n    }\n    public RectangleA getRect(){\n        return new RectangleA(_rect);\n    }\n    public RectNode getNext(){\n        return _next;\n    }\n    public void setRect(RectangleA r){\n        _rect = new RectangleA(r);\n    }\n    public void setNext(RectNode next){\n        _next = next;\n    }\n}\n\npublic class test\n{\n    public static void main(String[] args) {\n        RectList rL1 = new RectList();\n        RectList rL2 = new RectList();\n        RectangleA r1 = new RectangleA(5, 7);\n        RectangleA r2 = new RectangleA(3, 8);\n        rL1.addRect(r1);\n        rL2.addRect(r2);\n        System.out.println(&quot;rL1: &quot; + rL1.toString() +&quot;\\nrL2: &quot; + rL2.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":4294949,"reputation":2245,"user_id":3510260,"display_name":"Gregor Koukkoullis"},"down_vote_count":0,"up_vote_count":126,"is_accepted":true,"score":126,"last_activity_date":1522217531,"creation_date":1402652486,"answer_id":24202272,"question_id":24202236,"body_markdown":"You can&#39;t reference to `this` in a lambda expression. The semantic of `this` has been changed to reference the instance of the surrounding class only, from within the lambda. There is no way to reference to the lambda expression&#39;s `this` from inside the lambda.\n\n\nThe problem is that you use `this` in the `main()` method. The main method is static and there is no reference to an object that represents `this`.\n\nWhen you use `this` inside an instance of an inner class you are referencing to the instance of the inner class.\nA lambda expression is not an inner class, `this` is not referencing to the instance of the lambda expression. It is referencing to the instance of the class you define the lambda expression in. In your case it would be a instance of Main. But since your are in a static method, there is no instance.\n\nThis is what your second compilation error is telling you. You hand over an instance of Main to your method. But your method signature requires an instance of Observer.\n\n**Update:**\n\nThe [Java Language Specification 15.27.2 says][1]:\n\n&gt;Unlike code appearing in anonymous class declarations, the meaning of names and the this and super keywords appearing in a lambda body, along with the accessibility of referenced declarations, are the same as in the surrounding context (except that lambda parameters introduce new names).\n&gt;\n&gt; The transparency of *this* (both explicit and implicit) in the body of a lambda expression - that is, treating it the same as in the surrounding context - allows more flexibility for implementations, and prevents the meaning of unqualified names in the body from being dependent on overload resolution.\n&gt;\n&gt; Practically speaking, it is unusual for a lambda expression to need to talk about itself (either to call itself recursively or to invoke its other methods), while it is more common to want to use names to refer to things in the enclosing class that would otherwise be shadowed (*this, toString()*). If it is necessary for a lambda expression to refer to itself (as if via *this*), a method reference or an anonymous inner class should be used instead. \n\n\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2","title":"Lambda this reference in java","body":"<p>You can't reference to <code>this</code> in a lambda expression. The semantic of <code>this</code> has been changed to reference the instance of the surrounding class only, from within the lambda. There is no way to reference to the lambda expression's <code>this</code> from inside the lambda.</p>\n<p>The problem is that you use <code>this</code> in the <code>main()</code> method. The main method is static and there is no reference to an object that represents <code>this</code>.</p>\n<p>When you use <code>this</code> inside an instance of an inner class you are referencing to the instance of the inner class.\nA lambda expression is not an inner class, <code>this</code> is not referencing to the instance of the lambda expression. It is referencing to the instance of the class you define the lambda expression in. In your case it would be a instance of Main. But since your are in a static method, there is no instance.</p>\n<p>This is what your second compilation error is telling you. You hand over an instance of Main to your method. But your method signature requires an instance of Observer.</p>\n<p><strong>Update:</strong></p>\n<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2\" rel=\"noreferrer\">Java Language Specification 15.27.2 says</a>:</p>\n<blockquote>\n<p>Unlike code appearing in anonymous class declarations, the meaning of names and the this and super keywords appearing in a lambda body, along with the accessibility of referenced declarations, are the same as in the surrounding context (except that lambda parameters introduce new names).</p>\n<p>The transparency of <em>this</em> (both explicit and implicit) in the body of a lambda expression - that is, treating it the same as in the surrounding context - allows more flexibility for implementations, and prevents the meaning of unqualified names in the body from being dependent on overload resolution.</p>\n<p>Practically speaking, it is unusual for a lambda expression to need to talk about itself (either to call itself recursively or to invoke its other methods), while it is more common to want to use names to refer to things in the enclosing class that would otherwise be shadowed (<em>this, toString()</em>). If it is necessary for a lambda expression to refer to itself (as if via <em>this</em>), a method reference or an anonymous inner class should be used instead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503972749,"creation_date":1453834639,"answer_id":35021660,"question_id":24202236,"body_markdown":"\r\n### Workaround 1\r\nYour `change()` method throws `ConcurrentModificationException` anyway.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Observable observable = new Observable();\r\n            final Observer[] a = new Observer[1];\r\n            final Observer o = er -&gt; er.removeObserver(a[0]); // !!\r\n            a[0] = o;\r\n            observable.addObserver(o);\r\n            observable.change();\r\n        }\r\n    }\r\n    public class Observable {\r\n        private final java.util.Collection&lt;Observer&gt; n\r\n            = java.util.new ArrayList&lt;&gt;();\r\n        public void addObserver(Observer notifiable) {\r\n            n.add(notifiable);\r\n        }\r\n        public void removeObserver(Observer notifiable) {\r\n            n.add(notifiable);\r\n        }\r\n        public void change() {\r\n            for (final Observer o : n.toArray(new Observer[n.size()])) {\r\n                o.changed(this);\r\n            }\r\n        }\r\n    }\r\n    public interface Observer {\r\n        void changed(Observable notifier);\r\n    }\r\n\r\n### Workaround 2\r\nI changed the `changed(Observable)` to `changed(Observable, Observer)` so that an observer can handle itself.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Observable observable = new Observable();\r\n            final Observer o = (er, ee) -&gt; er.removeObserver(ee); // !!\r\n            observable.addObserver(o);\r\n            observable.change();\r\n        }\r\n    }\r\n    public class Observable {\r\n        private final java.util.Collection&lt;Observer&gt; n\r\n            = new java.util.ArrayList&lt;&gt;();\r\n        public void addObserver(Observer notifiable) {\r\n            n.add(notifiable);\r\n        }\r\n        public void removeObserver(Observer notifiable) {\r\n            n.add(notifiable);\r\n        }\r\n        public void change() {\r\n            for (final Observer o : n.toArray(new Observer[n.size()])) {\r\n                o.changed(this, o);\r\n            }\r\n        }\r\n    }\r\n    public interface Observer {\r\n        void changed(Observable notifier, Observer notifiee);\r\n    }","title":"Lambda this reference in java","body":"<h3>Workaround 1</h3>\n\n<p>Your <code>change()</code> method throws <code>ConcurrentModificationException</code> anyway.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        Observable observable = new Observable();\n        final Observer[] a = new Observer[1];\n        final Observer o = er -&gt; er.removeObserver(a[0]); // !!\n        a[0] = o;\n        observable.addObserver(o);\n        observable.change();\n    }\n}\npublic class Observable {\n    private final java.util.Collection&lt;Observer&gt; n\n        = java.util.new ArrayList&lt;&gt;();\n    public void addObserver(Observer notifiable) {\n        n.add(notifiable);\n    }\n    public void removeObserver(Observer notifiable) {\n        n.add(notifiable);\n    }\n    public void change() {\n        for (final Observer o : n.toArray(new Observer[n.size()])) {\n            o.changed(this);\n        }\n    }\n}\npublic interface Observer {\n    void changed(Observable notifier);\n}\n</code></pre>\n\n<h3>Workaround 2</h3>\n\n<p>I changed the <code>changed(Observable)</code> to <code>changed(Observable, Observer)</code> so that an observer can handle itself.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        Observable observable = new Observable();\n        final Observer o = (er, ee) -&gt; er.removeObserver(ee); // !!\n        observable.addObserver(o);\n        observable.change();\n    }\n}\npublic class Observable {\n    private final java.util.Collection&lt;Observer&gt; n\n        = new java.util.ArrayList&lt;&gt;();\n    public void addObserver(Observer notifiable) {\n        n.add(notifiable);\n    }\n    public void removeObserver(Observer notifiable) {\n        n.add(notifiable);\n    }\n    public void change() {\n        for (final Observer o : n.toArray(new Observer[n.size()])) {\n            o.changed(this, o);\n        }\n    }\n}\npublic interface Observer {\n    void changed(Observable notifier, Observer notifiee);\n}\n</code></pre>\n"}],"owner":{"account_id":1744405,"reputation":28860,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33318,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":24202272,"answer_count":2,"score":82,"last_activity_date":1642664932,"creation_date":1402652361,"question_id":24202236,"body_markdown":"I want to convert an anonymous class to a lambda expression. But this anonymous class uses the `this` keyword.\r\n\r\nFor example, I wrote this simple Observer/Observable pattern:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n\r\n    public static class Observable {\r\n        private final Collection&lt;Observer&gt; notifiables = new ArrayList&lt;&gt;();\r\n\r\n        public Observable() { }\r\n\r\n        public void addObserver(Observer notifiable) { notifiables.add(notifiable); }\r\n        public void removeObserver(Observer notifiable) { notifiables.add(notifiable); }\r\n\r\n        public void change() {\r\n            notifiables.forEach(notifiable -&gt; notifiable.changed(this));\r\n        }\r\n    }\r\n\r\n    public interface Observer {\r\n        void changed(Observable notifier);\r\n    }\r\n\r\nand this sample code with an anonymous class (use the this keyword):\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Observable observable = new Observable();\r\n            observable.addObserver(new Observer() {\r\n                @Override\r\n                public void changed(Observable notifier) {\r\n                    notifier.removeObserver(this);\r\n                }\r\n            });\r\n            observable.change();\r\n        }\r\n    }\r\n\r\nbut when I convert it to a lambda expression:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Observable observable = new Observable();\r\n            observable.addObserver(notifier -&gt; { notifier.removeObserver(this); });\r\n            observable.change();\r\n        }\r\n    }\r\n\r\nI get this compilation error:\r\n\r\n    Cannot use this in a static context and in a non `static` context\r\n\r\n\r\n\r\n    public class Main {\r\n        public void main(String[] args) {\r\n            method();\r\n        }\r\n\r\n        private void method() {\r\n            Observable observable = new Observable();\r\n            observable.addObserver(notifier -&gt; {\r\n                    notifier.removeObserver(this);\r\n            });\r\n            observable.change();\r\n        }\r\n    }\r\n\r\nThe compilation error is:\r\n\r\n    The method removeObserver(Main.Observer) in the type Main.Observable is not applicable for the arguments (Main)\r\n\r\nIs there a way to reference the lambda object with `this`?\r\n","title":"Lambda this reference in java","body":"<p>I want to convert an anonymous class to a lambda expression. But this anonymous class uses the <code>this</code> keyword.</p>\n<p>For example, I wrote this simple Observer/Observable pattern:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\n\npublic static class Observable {\n    private final Collection&lt;Observer&gt; notifiables = new ArrayList&lt;&gt;();\n\n    public Observable() { }\n\n    public void addObserver(Observer notifiable) { notifiables.add(notifiable); }\n    public void removeObserver(Observer notifiable) { notifiables.add(notifiable); }\n\n    public void change() {\n        notifiables.forEach(notifiable -&gt; notifiable.changed(this));\n    }\n}\n\npublic interface Observer {\n    void changed(Observable notifier);\n}\n</code></pre>\n<p>and this sample code with an anonymous class (use the this keyword):</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Observable observable = new Observable();\n        observable.addObserver(new Observer() {\n            @Override\n            public void changed(Observable notifier) {\n                notifier.removeObserver(this);\n            }\n        });\n        observable.change();\n    }\n}\n</code></pre>\n<p>but when I convert it to a lambda expression:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Observable observable = new Observable();\n        observable.addObserver(notifier -&gt; { notifier.removeObserver(this); });\n        observable.change();\n    }\n}\n</code></pre>\n<p>I get this compilation error:</p>\n<pre><code>Cannot use this in a static context and in a non `static` context\n\n\n\npublic class Main {\n    public void main(String[] args) {\n        method();\n    }\n\n    private void method() {\n        Observable observable = new Observable();\n        observable.addObserver(notifier -&gt; {\n                notifier.removeObserver(this);\n        });\n        observable.change();\n    }\n}\n</code></pre>\n<p>The compilation error is:</p>\n<pre><code>The method removeObserver(Main.Observer) in the type Main.Observable is not applicable for the arguments (Main)\n</code></pre>\n<p>Is there a way to reference the lambda object with <code>this</code>?</p>\n"},{"tags":["java","cors"],"comments":[{"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"score":0,"creation_date":1499171227,"post_id":44905898,"comment_id":76788922,"body_markdown":"Are you using spring boot ?","body":"Are you using spring boot ?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1499172007,"post_id":44905898,"comment_id":76789465,"body_markdown":"What application server are you using? This should work without requiring extra configuration.","body":"What application server are you using? This should work without requiring extra configuration."},{"owner":{"account_id":5332063,"reputation":89,"user_id":4252396,"accept_rate":33,"display_name":"Soumyajit Chatterjee"},"score":0,"creation_date":1499174121,"post_id":44905898,"comment_id":76790938,"body_markdown":"We are not using Spring boot ..  We are using netty server.","body":"We are not using Spring boot ..  We are using netty server."}],"answers":[{"tags":[],"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499171225,"creation_date":1499171225,"answer_id":44905977,"question_id":44905898,"body_markdown":"You have to enable it in your server first, check the website below to see how to configure your server (i.e., Tomcat) to enable CORS\r\n\r\nhttps://enable-cors.org/server.html","title":"How to enable CORS on server-side code in java","body":"<p>You have to enable it in your server first, check the website below to see how to configure your server (i.e., Tomcat) to enable CORS</p>\n\n<p><a href=\"https://enable-cors.org/server.html\" rel=\"nofollow noreferrer\">https://enable-cors.org/server.html</a></p>\n"},{"tags":[],"owner":{"account_id":10986923,"reputation":487,"user_id":8072314,"display_name":"D. Peter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499229622,"creation_date":1499171262,"answer_id":44905991,"question_id":44905898,"body_markdown":"As far as I&#39;m concerned the following are working\r\n\r\n    response.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    response.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, X-Requested-With, Content-Type, Accept, Authorization&quot;);\r\n    response.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n    response.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,POST,PUT,DELETE,OPTIONS,HEAD&quot;);\r\n\r\n\r\nEdit : (For spring cloud netflix and maybe others)\r\n\r\n    @Component\r\n    public class HeadersFilter implements Filter {\r\n        @Override\r\n        public void init(FilterConfig fc) throws ServletException {\r\n        }\r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain fc) throws IOException, ServletException {\r\n            if(servletResponse instanceof HttpServletResponse){\r\n                HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n                // here add the headers\r\n            }\r\n            fc.doFilter(servletRequest, servletResponse);\r\n        }\r\n        @Override\r\n        public void destroy() {\r\n        }\r\n    }","title":"How to enable CORS on server-side code in java","body":"<p>As far as I'm concerned the following are working</p>\n\n<pre><code>response.getHeaders().add(\"Access-Control-Allow-Origin\", \"*\");\nresponse.getHeaders().add(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, Authorization\");\nresponse.getHeaders().add(\"Access-Control-Allow-Credentials\", \"true\");\nresponse.getHeaders().add(\"Access-Control-Allow-Methods\", \"GET,POST,PUT,DELETE,OPTIONS,HEAD\");\n</code></pre>\n\n<p>Edit : (For spring cloud netflix and maybe others)</p>\n\n<pre><code>@Component\npublic class HeadersFilter implements Filter {\n    @Override\n    public void init(FilterConfig fc) throws ServletException {\n    }\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain fc) throws IOException, ServletException {\n        if(servletResponse instanceof HttpServletResponse){\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\n            // here add the headers\n        }\n        fc.doFilter(servletRequest, servletResponse);\n    }\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2742245,"reputation":10850,"user_id":2363517,"display_name":"mszalbach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499173115,"creation_date":1499171309,"answer_id":44906009,"question_id":44905898,"body_markdown":"For a JavaEE 7 App you need to register this class in the ResourceConfig by adding following class to your war.\r\n\r\n    @ApplicationPath( &quot;/&quot; )\r\n    public class ApplicationConfig\r\n        extends ResourceConfig {\r\n\r\n       public ApplicationConfig() {\r\n           register( new CORSFilter() );\r\n       }\r\n\r\n    }\r\n\r\nMaybe you also need to increase the priority of your Filter by adding the following class level annotation:\r\n\r\n    @Provider\r\n    @Priority( Priorities.HEADER_DECORATOR)\r\n    public class CORSFilter implements ContainerResponseFilter {\r\n    ...\r\n    }","title":"How to enable CORS on server-side code in java","body":"<p>For a JavaEE 7 App you need to register this class in the ResourceConfig by adding following class to your war.</p>\n\n<pre><code>@ApplicationPath( \"/\" )\npublic class ApplicationConfig\n    extends ResourceConfig {\n\n   public ApplicationConfig() {\n       register( new CORSFilter() );\n   }\n\n}\n</code></pre>\n\n<p>Maybe you also need to increase the priority of your Filter by adding the following class level annotation:</p>\n\n<pre><code>@Provider\n@Priority( Priorities.HEADER_DECORATOR)\npublic class CORSFilter implements ContainerResponseFilter {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7926954,"reputation":24,"user_id":5986136,"display_name":"Tanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499172685,"creation_date":1499172685,"answer_id":44906538,"question_id":44905898,"body_markdown":"In Jersey, I use the ResourceConfig class to register the CORSFilter. Like ,\r\n\r\n    import org.glassfish.jersey.jackson.JacksonFeature;\r\n    import org.glassfish.jersey.media.multipart.MultiPartFeature;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    \r\n    public class JerseyApplication extends ResourceConfig {\r\n    \tpublic JerseyApplication() {\r\n    \t\tregister(CORSFilter.class);\r\n    \t}\r\n    }\r\n\r\n`\r\n\r\nand link this in web.xml like,\r\n\r\n    &lt;init-param&gt;\r\n                &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n                &lt;param-value&gt;com.service.JerseyApplication&lt;/param-value&gt;\r\n            &lt;/init-param&gt;  \r\n\r\n\r\n","title":"How to enable CORS on server-side code in java","body":"<p>In Jersey, I use the ResourceConfig class to register the CORSFilter. Like ,</p>\n\n<pre><code>import org.glassfish.jersey.jackson.JacksonFeature;\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\nimport org.glassfish.jersey.server.ResourceConfig;\n\npublic class JerseyApplication extends ResourceConfig {\n    public JerseyApplication() {\n        register(CORSFilter.class);\n    }\n}\n</code></pre>\n\n<p>`</p>\n\n<p>and link this in web.xml like,</p>\n\n<pre><code>&lt;init-param&gt;\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n            &lt;param-value&gt;com.service.JerseyApplication&lt;/param-value&gt;\n        &lt;/init-param&gt;  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4118322,"reputation":63,"user_id":3379357,"display_name":"kubo44"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527773506,"creation_date":1527766618,"answer_id":50623381,"question_id":44905898,"body_markdown":"There are 2 things you have to do:\r\n\r\n1. If your resource is password protected, you have to allow preflight OPTIONS requests to run through without credentials, in web.xml e.g.:\r\n\r\n\r\n    \t&lt;security-constraint&gt;\r\n    \t\t\t&lt;web-resource-collection&gt;\r\n    \t\t\t&lt;web-resource-name&gt;application&lt;/web-resource-name&gt;\r\n    \t\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    \t\t\t&lt;http-method-omission&gt;OPTIONS&lt;/http-method-omission&gt;\r\n    \t\t&lt;/web-resource-collection&gt;\r\n    \t\t&lt;auth-constraint&gt;\r\n    \t\t\t&lt;role-name&gt;user&lt;/role-name&gt;\r\n    \t\t&lt;/auth-constraint&gt;\r\n    \t&lt;/security-constraint&gt;\r\n\r\n2. Use servlet filter to take care of preflight OPTIONS requests. For maven add this dependency\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cors-filter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n add filter to web.xml:\r\n\r\n\r\n    \t&lt;filter&gt;\r\n    \t    &lt;filter-name&gt;CORS&lt;/filter-name&gt;\r\n    \t    &lt;filter-class&gt;com.thetransactioncompany.cors.CORSFilter&lt;/filter-class&gt;\r\n    \t&lt;/filter&gt;\r\n    \t&lt;filter-mapping&gt;\r\n    \t    &lt;filter-name&gt;CORS&lt;/filter-name&gt;\r\n    \t    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    \t&lt;/filter-mapping&gt;","title":"How to enable CORS on server-side code in java","body":"<p>There are 2 things you have to do:</p>\n\n<ol>\n<li><p>If your resource is password protected, you have to allow preflight OPTIONS requests to run through without credentials, in web.xml e.g.:</p>\n\n<pre><code>&lt;security-constraint&gt;\n        &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;application&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;http-method-omission&gt;OPTIONS&lt;/http-method-omission&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint&gt;\n        &lt;role-name&gt;user&lt;/role-name&gt;\n    &lt;/auth-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre></li>\n<li><p>Use servlet filter to take care of preflight OPTIONS requests. For maven add this dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.thetransactioncompany&lt;/groupId&gt;\n    &lt;artifactId&gt;cors-filter&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>add filter to web.xml:</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;CORS&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.thetransactioncompany.cors.CORSFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CORS&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20916350,"reputation":73,"user_id":15365931,"display_name":"Hoomi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642664888,"creation_date":1642664888,"answer_id":70782428,"question_id":44905898,"body_markdown":"I tested the codes above but the best one that was easy and fast to use was mentioned here: [https://spring.io/blog/2015/06/08/cors-support-in-spring-framework][1]\r\nI added @CrossOrgin to my API or controller calls whenever needed and worked perfectly. \r\n\r\nExample Code:\r\n\r\n    @CrossOrigin\r\n    @GetMapping\r\n    public List&lt;Product&gt; getAllProducts(){return productService.getAllProducts();}\r\n*You can also filter the access by adding your URL in front of @CrossOrigin\r\n\r\nHope you find this useful.\r\n\r\n  [1]: https://spring.io/blog/2015/06/08/cors-support-in-spring-framework","title":"How to enable CORS on server-side code in java","body":"<p>I tested the codes above but the best one that was easy and fast to use was mentioned here: <a href=\"https://spring.io/blog/2015/06/08/cors-support-in-spring-framework\" rel=\"nofollow noreferrer\">https://spring.io/blog/2015/06/08/cors-support-in-spring-framework</a>\nI added @CrossOrgin to my API or controller calls whenever needed and worked perfectly.</p>\n<p>Example Code:</p>\n<pre><code>@CrossOrigin\n@GetMapping\npublic List&lt;Product&gt; getAllProducts(){return productService.getAllProducts();}\n</code></pre>\n<p>*You can also filter the access by adding your URL in front of @CrossOrigin</p>\n<p>Hope you find this useful.</p>\n"}],"owner":{"account_id":5332063,"reputation":89,"user_id":4252396,"accept_rate":33,"display_name":"Soumyajit Chatterjee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29468,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1642664888,"creation_date":1499170977,"question_id":44905898,"body_markdown":"We are having a situation where UI is running on one host, and it is trying to communicate with the resources which are available on another host. The problem here is that, the UI is not be able to make call to the resources because that resource lives in a different domain and cross domain requests will not work unless the server is CORS enabled .\r\n\r\nIn-order to make server CORS enabled, We have done the below changes .\r\n\r\n    import javax.ws.rs.container.ContainerRequestContext;\r\n    import javax.ws.rs.container.ContainerResponseContext;\r\n    import javax.ws.rs.container.ContainerResponseFilter;\r\n    import javax.ws.rs.ext.Provider;\r\n    import java.io.IOException;\r\n    \r\n    @Provider\r\n    public class CORSFilter implements ContainerResponseFilter {\r\n    \r\n        @Override\r\n        public void filter(ContainerRequestContext request, ContainerResponseContext response) throws IOException\r\n        {\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Headers&quot;,&quot;origin, content-type, accept, authorization&quot;);\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\r\n        }\r\n    }\r\n\r\nHowever I am not able to figure out where I need to map/configure this class,since there is no config files (web.xml).\r\nI don&#39;t have much knowledge on enabling CORS on server-side . \r\nPlease suggest how to proceed further .\r\n\r\n\r\n","title":"How to enable CORS on server-side code in java","body":"<p>We are having a situation where UI is running on one host, and it is trying to communicate with the resources which are available on another host. The problem here is that, the UI is not be able to make call to the resources because that resource lives in a different domain and cross domain requests will not work unless the server is CORS enabled .</p>\n\n<p>In-order to make server CORS enabled, We have done the below changes .</p>\n\n<pre><code>import javax.ws.rs.container.ContainerRequestContext;\nimport javax.ws.rs.container.ContainerResponseContext;\nimport javax.ws.rs.container.ContainerResponseFilter;\nimport javax.ws.rs.ext.Provider;\nimport java.io.IOException;\n\n@Provider\npublic class CORSFilter implements ContainerResponseFilter {\n\n    @Override\n    public void filter(ContainerRequestContext request, ContainerResponseContext response) throws IOException\n    {\n        response.getHeaders().add(\"Access-Control-Allow-Origin\", \"*\");\n        response.getHeaders().add(\"Access-Control-Allow-Headers\",\"origin, content-type, accept, authorization\");\n        response.getHeaders().add(\"Access-Control-Allow-Credentials\", \"true\");\n        response.getHeaders().add(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, OPTIONS, HEAD\");\n    }\n}\n</code></pre>\n\n<p>However I am not able to figure out where I need to map/configure this class,since there is no config files (web.xml).\nI don't have much knowledge on enabling CORS on server-side . \nPlease suggest how to proceed further .</p>\n"},{"tags":["java","algorithm","data-structures","backtracking"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642664683,"creation_date":1642663396,"answer_id":70782160,"question_id":70780390,"body_markdown":"The algorithm works as follows:\r\n\r\n1. The base case: when the string consists of just one character, then return a set with just that one string: it is the only possible permutation.\r\n\r\n2. Solve the problem for one character less: get all the permutations of the shorter string that lacks the original last character.\r\n\r\n3. For each permutation in the set that is returned by this recursive call, do the following:\r\n\r\n    * Choose every possible index in this this permutation at which we can insert a character, i.e. 0 to the length of the shorter string (included):\r\n\r\n        * In this permutation, at the given index: insert the excluded character, thereby constructing a permutation that has all the characters now.\r\n\r\n\r\nSo step 3 needs two nested loops: one to get each permutation of the shorter string, and another to select an index at which the excluded character is to be inserted into that permutation.\r\n\r\n### Example:\r\n\r\nInput: \r\n\r\n    &quot;abcd&quot;\r\n\r\nIn step 2 we look at the shorter string &quot;abc&quot;, and trust the function to produce the correct result for it (inductive reasoning), which is the set:\r\n\r\n    { &quot;abc&quot;, &quot;acb&quot;, &quot;bac&quot;, &quot;bca&quot;, &quot;cab&quot;, &quot;cba&quot; }\r\n\r\nNow we get to step 3. The outer loop iterates over this set. The inner loop chooses an index between 0 and 3 (included). So let&#39;s put that in a table:\r\n\r\n| shorter permutation | index at which to insert &quot;d&quot; | resulting permutation\r\n|:-------------------:|:-----:|:---------------------:\r\n| &quot;abc&quot; | 0 | &quot;dabc&quot;\r\n| &quot;abc&quot; | 1 | &quot;adbc&quot;\r\n| &quot;abc&quot; | 2 | &quot;abdc&quot;\r\n| &quot;abc&quot; | 3 | &quot;abcd&quot;\r\n|  | |\r\n| &quot;acb&quot; | 0 | &quot;dacb&quot;\r\n| &quot;acb&quot; | 1 | &quot;adcb&quot;\r\n| &quot;acb&quot; | 2 | &quot;acdb&quot;\r\n| &quot;acb&quot; | 3 | &quot;acbd&quot;\r\n|  | |\r\n| &quot;bac&quot; | 0 | &quot;dbac&quot;\r\n| &quot;bac&quot; | 1 | &quot;bdac&quot;\r\n| &quot;bac&quot; | 2 | &quot;badc&quot;\r\n| &quot;bac&quot; | 3 | &quot;bacd&quot;\r\n|  | |\r\n| &quot;bca&quot; | 0 | &quot;dbca&quot;\r\n| &quot;bca&quot; | 1 | &quot;bdca&quot;\r\n| &quot;bca&quot; | 2 | &quot;bcda&quot;\r\n| &quot;bca&quot; | 3 | &quot;bcad&quot;\r\n|  | |\r\n| &quot;cab&quot; | 0 | &quot;dcab&quot;\r\n| &quot;cab&quot; | 1 | &quot;cdab&quot;\r\n| &quot;cab&quot; | 2 | &quot;cadb&quot;\r\n| &quot;cab&quot; | 3 | &quot;cabd&quot;\r\n|  | |\r\n| &quot;cba&quot; | 0 | &quot;dcba&quot;\r\n| &quot;cba&quot; | 1 | &quot;cdba&quot;\r\n| &quot;cba&quot; | 2 | &quot;cbda&quot;\r\n| &quot;cba&quot; | 3 | &quot;cbad&quot;\r\n\r\nThis resulting set is then returned.\r\n\r\nHope this clarifies it.\r\n\r\n","title":"Backtracking with recursion. Why is the code working","body":"<p>The algorithm works as follows:</p>\n<ol>\n<li><p>The base case: when the string consists of just one character, then return a set with just that one string: it is the only possible permutation.</p>\n</li>\n<li><p>Solve the problem for one character less: get all the permutations of the shorter string that lacks the original last character.</p>\n</li>\n<li><p>For each permutation in the set that is returned by this recursive call, do the following:</p>\n<ul>\n<li><p>Choose every possible index in this this permutation at which we can insert a character, i.e. 0 to the length of the shorter string (included):</p>\n<ul>\n<li>In this permutation, at the given index: insert the excluded character, thereby constructing a permutation that has all the characters now.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>So step 3 needs two nested loops: one to get each permutation of the shorter string, and another to select an index at which the excluded character is to be inserted into that permutation.</p>\n<h3>Example:</h3>\n<p>Input:</p>\n<pre><code>&quot;abcd&quot;\n</code></pre>\n<p>In step 2 we look at the shorter string &quot;abc&quot;, and trust the function to produce the correct result for it (inductive reasoning), which is the set:</p>\n<pre><code>{ &quot;abc&quot;, &quot;acb&quot;, &quot;bac&quot;, &quot;bca&quot;, &quot;cab&quot;, &quot;cba&quot; }\n</code></pre>\n<p>Now we get to step 3. The outer loop iterates over this set. The inner loop chooses an index between 0 and 3 (included). So let's put that in a table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">shorter permutation</th>\n<th style=\"text-align: center;\">index at which to insert &quot;d&quot;</th>\n<th style=\"text-align: center;\">resulting permutation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">&quot;abc&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dabc&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;abc&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;adbc&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;abc&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;abdc&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;abc&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;abcd&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;acb&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dacb&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;acb&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;adcb&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;acb&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;acdb&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;acb&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;acbd&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bac&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dbac&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bac&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;bdac&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bac&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;badc&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bac&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;bacd&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bca&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dbca&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bca&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;bdca&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bca&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;bcda&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;bca&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;bcad&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cab&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dcab&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cab&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;cdab&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cab&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;cadb&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cab&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;cabd&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cba&quot;</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">&quot;dcba&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cba&quot;</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">&quot;cdba&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cba&quot;</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">&quot;cbda&quot;</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">&quot;cba&quot;</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">&quot;cbad&quot;</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>This resulting set is then returned.</p>\n<p>Hope this clarifies it.</p>\n"}],"owner":{"account_id":23994423,"reputation":3,"user_id":17980105,"display_name":"adssdfd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70782160,"answer_count":1,"score":0,"last_activity_date":1642664683,"creation_date":1642648276,"question_id":70780390,"body_markdown":"Could you please help me understanding the below code snippet. the note says it&#39;s doing a string permutation by back tracking but I just don&#39;t get it. I don&#39;t get what the nested for loops are doing. I tried to follow the code with &quot;Cat&quot;. Doesn&#39;t permutation set have &lt;Ca&gt; then?\r\n\r\n    public static Set&lt;String&gt; getPermutations(String inputString) {\r\n            if(inputString.length() &lt;= 1) {\r\n                return new HashSet&lt;&gt;(Collections.singletonList(inputString));\r\n            }\r\n            String allCharsExceptLast = inputString.substring(0, inputString.length()-1);\r\n            char lastChar = inputString.charAt(inputString.length()-1);\r\n    \r\n            Set&lt;String&gt; permutationsOfAllCharsExceptLast = getPermutations(allCharsExceptLast);\r\n    \r\n            Set&lt;String&gt; permutations = new HashSet&lt;&gt;();\r\n            for(String permutationOfAllCharsExceptLast: permutationsOfAllCharsExceptLast) {\r\n                for(int position = 0; position &lt;= allCharsExceptLast.length(); position++) {\r\n                    String permutation = permutationOfAllCharsExceptLast.substring(0, position) + lastChar +\r\n                            permutationOfAllCharsExceptLast.substring(position);\r\n                    permutations.add(permutation);\r\n                }\r\n            }\r\n    \r\n            return permutations;\r\n        }\r\n    \r\n    }","title":"Backtracking with recursion. Why is the code working","body":"<p>Could you please help me understanding the below code snippet. the note says it's doing a string permutation by back tracking but I just don't get it. I don't get what the nested for loops are doing. I tried to follow the code with &quot;Cat&quot;. Doesn't permutation set have  then?</p>\n<pre><code>public static Set&lt;String&gt; getPermutations(String inputString) {\n        if(inputString.length() &lt;= 1) {\n            return new HashSet&lt;&gt;(Collections.singletonList(inputString));\n        }\n        String allCharsExceptLast = inputString.substring(0, inputString.length()-1);\n        char lastChar = inputString.charAt(inputString.length()-1);\n\n        Set&lt;String&gt; permutationsOfAllCharsExceptLast = getPermutations(allCharsExceptLast);\n\n        Set&lt;String&gt; permutations = new HashSet&lt;&gt;();\n        for(String permutationOfAllCharsExceptLast: permutationsOfAllCharsExceptLast) {\n            for(int position = 0; position &lt;= allCharsExceptLast.length(); position++) {\n                String permutation = permutationOfAllCharsExceptLast.substring(0, position) + lastChar +\n                        permutationOfAllCharsExceptLast.substring(position);\n                permutations.add(permutation);\n            }\n        }\n\n        return permutations;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","jdbc"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1642663853,"post_id":70782210,"comment_id":125132072,"body_markdown":"You have a nullpointer - `Caused by: java.lang.NullPointerException\n    at org.jasypt.encryption.pbe.config.SimplePBEConfig.getPasswordCharArray(SimplePBEConfig.java:434)`. Check your `SimplePBEConfig`to see why it doesn&#39;t find property or whatever it was that caused NPE","body":"You have a nullpointer - <code>Caused by: java.lang.NullPointerException     at org.jasypt.encryption.pbe.config.SimplePBEConfig.getPassword&zwnj;&#8203;CharArray(SimplePBEC&zwnj;&#8203;onfig.java:434)</code>. Check your <code>SimplePBEConfig</code>to see why it doesn&#39;t find property or whatever it was that caused NPE"}],"answers":[{"tags":[],"owner":{"account_id":23996479,"reputation":139,"user_id":17981941,"display_name":"Dhanraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642664682,"creation_date":1642664682,"answer_id":70782388,"question_id":70782210,"body_markdown":"Looks like the password is not set and is null in SimplePBEConfig.java(line no. 434) causing NullPointerException.\r\n\r\nReference - https://github.com/jboss-fuse/jasypt/blob/master/jasypt/src/main/java/org/jasypt/encryption/pbe/config/SimplePBEConfig.java\r\n","title":"Could not open JDBC Connection for transaction even through db connection properties are correct","body":"<p>Looks like the password is not set and is null in SimplePBEConfig.java(line no. 434) causing NullPointerException.</p>\n<p>Reference - <a href=\"https://github.com/jboss-fuse/jasypt/blob/master/jasypt/src/main/java/org/jasypt/encryption/pbe/config/SimplePBEConfig.java\" rel=\"nofollow noreferrer\">https://github.com/jboss-fuse/jasypt/blob/master/jasypt/src/main/java/org/jasypt/encryption/pbe/config/SimplePBEConfig.java</a></p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70782388,"answer_count":1,"score":0,"last_activity_date":1642664682,"creation_date":1642663683,"question_id":70782210,"body_markdown":"I have a unit test, which when I run, gives this error:\r\n\r\n```\r\n[07:21:08.581]-[WARN ]-[                                    ] : Caught exception while allowing TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e38921c] to process &#39;before&#39; execution of test method [public void me.Avis.policy.tierservice.PolicyServiceTest.testGetHomePolicy()] for test instance [me.Avis.policy.tierservice.PolicyServiceTest@41005828]\r\njava.lang.NullPointerException: null\r\n\tat org.jasypt.encryption.pbe.config.SimplePBEConfig.getPasswordCharArray(SimplePBEConfig.java:434)\r\n\tat org.jasypt.encryption.pbe.StandardPBEByteEncryptor.resolveConfigurationPassword(StandardPBEByteEncryptor.java:783)\r\n\tat org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:598)\r\n\tat org.jasypt.encryption.pbe.StandardPBEStringEncryptor.initialize(StandardPBEStringEncryptor.java:553)\r\n\tat org.jasypt.encryption.pbe.StandardPBEStringEncryptor.decrypt(StandardPBEStringEncryptor.java:705)\r\n\tat org.jasypt.properties.PropertyValueEncryptionUtils.decrypt(PropertyValueEncryptionUtils.java:72)\r\n\tat org.jasypt.properties.EncryptableProperties.decode(EncryptableProperties.java:230)\r\n\tat org.jasypt.properties.EncryptableProperties.getProperty(EncryptableProperties.java:172)\r\n\tat me.Avis.policy.config.AvisTestDriverManagerDataSource.getConnectionFromDriver(AvisTestDriverManagerDataSource.java:22)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:246)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\r\n\tat org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\r\n\tat org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\r\nWrapped by: org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:289)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\r\n\tat org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\r\n\tat org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\r\n\tat org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n\tat org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)\r\n\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\r\norg.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.lang.NullPointerException\r\n\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:289)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\r\n\tat org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\r\n\tat org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\r\n\tat org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n\tat org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)\r\n\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.jasypt.encryption.pbe.config.SimplePBEConfig.getPasswordCharArray(SimplePBEConfig.java:434)\r\n\tat org.jasypt.encryption.pbe.StandardPBEByteEncryptor.resolveConfigurationPassword(StandardPBEByteEncryptor.java:783)\r\n\tat org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:598)\r\n\tat org.jasypt.encryption.pbe.StandardPBEStringEncryptor.initialize(StandardPBEStringEncryptor.java:553)\r\n\tat org.jasypt.encryption.pbe.StandardPBEStringEncryptor.decrypt(StandardPBEStringEncryptor.java:705)\r\n\tat org.jasypt.properties.PropertyValueEncryptionUtils.decrypt(PropertyValueEncryptionUtils.java:72)\r\n\tat org.jasypt.properties.EncryptableProperties.decode(EncryptableProperties.java:230)\r\n\tat org.jasypt.properties.EncryptableProperties.getProperty(EncryptableProperties.java:172)\r\n\tat me.Avis.policy.config.AvisTestDriverManagerDataSource.getConnectionFromDriver(AvisTestDriverManagerDataSource.java:22)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:246)\r\n\t... 26 more\r\n```\r\n\r\nMy db connection details are correct in the `application.properties`. What could be causing this?\r\n\r\n","title":"Could not open JDBC Connection for transaction even through db connection properties are correct","body":"<p>I have a unit test, which when I run, gives this error:</p>\n<pre><code>[07:21:08.581]-[WARN ]-[                                    ] : Caught exception while allowing TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e38921c] to process 'before' execution of test method [public void me.Avis.policy.tierservice.PolicyServiceTest.testGetHomePolicy()] for test instance [me.Avis.policy.tierservice.PolicyServiceTest@41005828]\njava.lang.NullPointerException: null\n    at org.jasypt.encryption.pbe.config.SimplePBEConfig.getPasswordCharArray(SimplePBEConfig.java:434)\n    at org.jasypt.encryption.pbe.StandardPBEByteEncryptor.resolveConfigurationPassword(StandardPBEByteEncryptor.java:783)\n    at org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:598)\n    at org.jasypt.encryption.pbe.StandardPBEStringEncryptor.initialize(StandardPBEStringEncryptor.java:553)\n    at org.jasypt.encryption.pbe.StandardPBEStringEncryptor.decrypt(StandardPBEStringEncryptor.java:705)\n    at org.jasypt.properties.PropertyValueEncryptionUtils.decrypt(PropertyValueEncryptionUtils.java:72)\n    at org.jasypt.properties.EncryptableProperties.decode(EncryptableProperties.java:230)\n    at org.jasypt.properties.EncryptableProperties.getProperty(EncryptableProperties.java:172)\n    at me.Avis.policy.config.AvisTestDriverManagerDataSource.getConnectionFromDriver(AvisTestDriverManagerDataSource.java:22)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:246)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\n    at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\nWrapped by: org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.lang.NullPointerException\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:289)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\n    at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\n    at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n\norg.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is java.lang.NullPointerException\n\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:289)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:377)\n    at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:102)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:200)\n    at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: java.lang.NullPointerException\n    at org.jasypt.encryption.pbe.config.SimplePBEConfig.getPasswordCharArray(SimplePBEConfig.java:434)\n    at org.jasypt.encryption.pbe.StandardPBEByteEncryptor.resolveConfigurationPassword(StandardPBEByteEncryptor.java:783)\n    at org.jasypt.encryption.pbe.StandardPBEByteEncryptor.initialize(StandardPBEByteEncryptor.java:598)\n    at org.jasypt.encryption.pbe.StandardPBEStringEncryptor.initialize(StandardPBEStringEncryptor.java:553)\n    at org.jasypt.encryption.pbe.StandardPBEStringEncryptor.decrypt(StandardPBEStringEncryptor.java:705)\n    at org.jasypt.properties.PropertyValueEncryptionUtils.decrypt(PropertyValueEncryptionUtils.java:72)\n    at org.jasypt.properties.EncryptableProperties.decode(EncryptableProperties.java:230)\n    at org.jasypt.properties.EncryptableProperties.getProperty(EncryptableProperties.java:172)\n    at me.Avis.policy.config.AvisTestDriverManagerDataSource.getConnectionFromDriver(AvisTestDriverManagerDataSource.java:22)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:196)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:159)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:246)\n    ... 26 more\n</code></pre>\n<p>My db connection details are correct in the <code>application.properties</code>. What could be causing this?</p>\n"},{"tags":["java","gradle","build.gradle","javac"],"comments":[{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1642664280,"post_id":70778646,"comment_id":125132203,"body_markdown":"what task is failing?","body":"what task is failing?"},{"owner":{"account_id":163467,"reputation":2905,"user_id":385637,"accept_rate":60,"display_name":"Mustafa Zengin"},"score":0,"creation_date":1642667095,"post_id":70778646,"comment_id":125133183,"body_markdown":"@George compileJava is the task that’s failing. I get the error messages from the compiler in the output, but it doesn’t list errors from all the files in the project. e.g. it shows 73 errors from a few files, if I fix some of those files, I start to see other files being added to compilation and get different number of errors. As I mentioned in the question, there is no dependency between the files, so errors I fix don’t hide the other errors in the initial attempt.","body":"@George compileJava is the task that’s failing. I get the error messages from the compiler in the output, but it doesn’t list errors from all the files in the project. e.g. it shows 73 errors from a few files, if I fix some of those files, I start to see other files being added to compilation and get different number of errors. As I mentioned in the question, there is no dependency between the files, so errors I fix don’t hide the other errors in the initial attempt."}],"owner":{"account_id":163467,"reputation":2905,"user_id":385637,"accept_rate":60,"display_name":"Mustafa Zengin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642664490,"creation_date":1642631927,"question_id":70778646,"body_markdown":"I am trying to compile a set of Java files with some external dependencies, but the build fails early without going through all the files. What I would like to achieve is to report all the compilation failures in all files after a single `gradle build` call. How can I force the compiler to continue compiling even after hitting errors?\r\n\r\nThere is no interdependency between the files I attempt to compile. The compilation failures are only with respect to types defined in external library dependencies.\r\n\r\nI tried increasing the heap memory size in `jvmargs`, that doesn&#39;t seem to be the problem. I have also tried increasing `-Xmaxerrors`, that only affects the number of errors &quot;printed&quot;, not the number of errors to hit before finishing the compilation.\r\n\r\nThe error count is also not constant for the &quot;bail out early&quot; condition, for different sets of files I get different max error count, so I don&#39;t know how the compiler decides to stop.","title":"How to prevent gradle build from failing early?","body":"<p>I am trying to compile a set of Java files with some external dependencies, but the build fails early without going through all the files. What I would like to achieve is to report all the compilation failures in all files after a single <code>gradle build</code> call. How can I force the compiler to continue compiling even after hitting errors?</p>\n<p>There is no interdependency between the files I attempt to compile. The compilation failures are only with respect to types defined in external library dependencies.</p>\n<p>I tried increasing the heap memory size in <code>jvmargs</code>, that doesn't seem to be the problem. I have also tried increasing <code>-Xmaxerrors</code>, that only affects the number of errors &quot;printed&quot;, not the number of errors to hit before finishing the compilation.</p>\n<p>The error count is also not constant for the &quot;bail out early&quot; condition, for different sets of files I get different max error count, so I don't know how the compiler decides to stop.</p>\n"},{"tags":["java","openjdk-11"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1570197133,"post_id":58236241,"comment_id":102848322,"body_markdown":"What Linux distro are you using?  What version?  How did you install OpenJDK Java 11?  How did you install the Java ATK?  What is your CLASSPATH variable set to?","body":"What Linux distro are you using?  What version?  How did you install OpenJDK Java 11?  How did you install the Java ATK?  What is your CLASSPATH variable set to?"},{"owner":{"account_id":11808821,"reputation":156,"user_id":8640698,"display_name":"RobinFood"},"score":0,"creation_date":1570202602,"post_id":58236241,"comment_id":102851030,"body_markdown":"Right, sorry. Clarified in my post - ubuntu 16.04.5, openjdk11 was intalled via apt. The CLASSPATH environment variable actually isn&#39;t set at all.","body":"Right, sorry. Clarified in my post - ubuntu 16.04.5, openjdk11 was intalled via apt. The CLASSPATH environment variable actually isn&#39;t set at all."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635862823,"creation_date":1570198010,"answer_id":58238014,"question_id":58236241,"body_markdown":"When I tried to reproduce this with OpenJDK Java 11.0.4 on Fedora 29, I got a NPE.\r\n\r\n    $ javac Main.java \r\n    $ java Main \r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat Main.main(Main.java:6)\r\n    $ java -version\r\n    openjdk version &quot;11.0.4&quot; 2019-07-16\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.4+11)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.4+11, mixed mode, sharing)\r\n    $ echo $CLASSPATH\r\n    \r\n    $\r\n\r\n\r\n\r\nThen I tried to find `java-atk-wrapper.jar`.  Not there.  So I installed it via the package manager, and then ran your program again.\r\n\r\nStill an NPE&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nHmmm.\r\n\r\nConclusion: there is something weird about the OpenJDK Java 11.0.4 you have installed, but is NOT a bug in OpenJDK itself.\r\n\r\nNote that the following OpenJDK bug report is relevant to this:\r\n\r\n  - https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8204862\r\n\r\nIt seems to be saying that the OpenJDK team doesn&#39;t support / maintain the stuff inside that JAR file.\r\n\r\n---------------\r\n\r\n**UPDATE**\r\n\r\nGiven the extra information that you added to question, the problem would appear to be a bug in the OpenJDK packages for Debian / Ubuntu.  I found this Debian bug that seems to be related:\r\n\r\n  - https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=900912\r\n\r\nI suspect that their attempts to fix the original bug (&quot;Accessibility does not get loaded&quot;) has introduced this regression.\r\n\r\nMy advice to you would be:\r\n\r\n  1.  Raise a new issue with Ubuntu / Debian.  Let them decide if this needs to be raised upstream, or whether it is their problem to fix.\r\n\r\n  2. If you want to try a hacky workaround, see what happens if you rename `java-atk-wrapper.jar` so that the launcher cannot find it.  It *might* work. \r\n\r\n  3. Alternatively (less hacky), see what Ubuntu package the JAR file comes from *on your system*.  If it makes sense, uninstall that package and whatever depends on it.\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - The NPE happens because `getResource` is returning `null` ... because the class loader cannot find a manifest resource.  That&#39;s what *should* happen.&lt;/sup&gt;\r\n\r\n\r\n","title":"OpenJDK 11.0.4 has java-atk-wrapper.jar in the classpath","body":"<p>When I tried to reproduce this with OpenJDK Java 11.0.4 on Fedora 29, I got a NPE.</p>\n<pre><code>$ javac Main.java \n$ java Main \nException in thread &quot;main&quot; java.lang.NullPointerException\n    at Main.main(Main.java:6)\n$ java -version\nopenjdk version &quot;11.0.4&quot; 2019-07-16\nOpenJDK Runtime Environment 18.9 (build 11.0.4+11)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.4+11, mixed mode, sharing)\n$ echo $CLASSPATH\n\n$\n</code></pre>\n<p>Then I tried to find <code>java-atk-wrapper.jar</code>.  Not there.  So I installed it via the package manager, and then ran your program again.</p>\n<p>Still an NPE<sup>1</sup>.</p>\n<p>Hmmm.</p>\n<p>Conclusion: there is something weird about the OpenJDK Java 11.0.4 you have installed, but is NOT a bug in OpenJDK itself.</p>\n<p>Note that the following OpenJDK bug report is relevant to this:</p>\n<ul>\n<li><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8204862\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8204862</a></li>\n</ul>\n<p>It seems to be saying that the OpenJDK team doesn't support / maintain the stuff inside that JAR file.</p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>Given the extra information that you added to question, the problem would appear to be a bug in the OpenJDK packages for Debian / Ubuntu.  I found this Debian bug that seems to be related:</p>\n<ul>\n<li><a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=900912\" rel=\"nofollow noreferrer\">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=900912</a></li>\n</ul>\n<p>I suspect that their attempts to fix the original bug (&quot;Accessibility does not get loaded&quot;) has introduced this regression.</p>\n<p>My advice to you would be:</p>\n<ol>\n<li><p>Raise a new issue with Ubuntu / Debian.  Let them decide if this needs to be raised upstream, or whether it is their problem to fix.</p>\n</li>\n<li><p>If you want to try a hacky workaround, see what happens if you rename <code>java-atk-wrapper.jar</code> so that the launcher cannot find it.  It <em>might</em> work.</p>\n</li>\n<li><p>Alternatively (less hacky), see what Ubuntu package the JAR file comes from <em>on your system</em>.  If it makes sense, uninstall that package and whatever depends on it.</p>\n</li>\n</ol>\n<hr />\n<p><sup>1 - The NPE happens because <code>getResource</code> is returning <code>null</code> ... because the class loader cannot find a manifest resource.  That's what <em>should</em> happen.</sup></p>\n"},{"tags":[],"owner":{"account_id":8428091,"reputation":1,"user_id":6324712,"display_name":"IC3Coffee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642664228,"creation_date":1642424222,"answer_id":70741743,"question_id":58236241,"body_markdown":"Same happened to me: &lt;br&gt;\r\nInstead of deleting the libatk-wrapper-java , i iterated over all URL&#39;s from getResource**s** and chose the URL with the jar-name. &lt;br&gt;\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResources-java.lang.String-\r\n\r\n    Env: \r\n    $uname -a \r\n    Linux hostname 5.11.0-46-generic #51~20.04.1-Ubuntu SMP Fri Jan 7 06:51:40 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n    $java -version\r\n    openjdk version &quot;11.0.13&quot; 2021-10-19\r\n    OpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)","title":"OpenJDK 11.0.4 has java-atk-wrapper.jar in the classpath","body":"<p>Same happened to me: <br>\nInstead of deleting the libatk-wrapper-java , i iterated over all URL's from getResource<strong>s</strong> and chose the URL with the jar-name. <br>\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResources-java.lang.String-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResources-java.lang.String-</a></p>\n<pre><code>Env: \n$uname -a \nLinux hostname 5.11.0-46-generic #51~20.04.1-Ubuntu SMP Fri Jan 7 06:51:40 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\n$java -version\nopenjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)\n</code></pre>\n"}],"owner":{"account_id":11808821,"reputation":156,"user_id":8640698,"display_name":"RobinFood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58238014,"answer_count":2,"score":2,"last_activity_date":1642664228,"creation_date":1570191333,"question_id":58236241,"body_markdown":"I noticed this issue when attempting to load the MANIFEST.MF from the .jar file of my application via `class.getResource(&quot;/META-INF/MANIFEST.MF&quot;)`.\r\n\r\nInstead of getting my own manifest, a manifest is seemingly loaded from `/usr/share/java/java-atk-wrapper.jar`. \r\nHowever, this jar is not specified as part of my application&#39;s classpath - I tried disabling the java accessibility assistive technologies ([here][1]), but this had no effect.\r\n\r\nInterestingly, this behavior is specific to OpenJDK-11.0.4. The issue does not occur when using 11.0.3.\r\nCan anyone shed some light on what might be happening here? Was there some kind of change to how java-internal jars/classes are loaded/accessed? Or could this simply be a bug introduced in 11.0.4?\r\n\r\n**Minimal working example:**\r\n\r\n    import java.net.URL;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            final URL resource = Main.class.getResource(&quot;/META-INF/MANIFEST.MF&quot;);\r\n            System.out.println(resource.getPath());\r\n        }\r\n    }\r\n\r\nThen run:\r\n\r\n    $ java --version\r\n    openjdk 11.0.4 2019-07-16\r\n    OpenJDK Runtime Environment (build 11.0.4+11-post-Ubuntu-116.04.1)\r\n    OpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-116.04.1, mixed mode, sharing)\r\n    $ javac Main.java\r\n    $ java Main\r\n    file:/usr/share/java/java-atk-wrapper.jar!/META-INF/MANIFEST.MF\r\n    $ echo $CLASSPATH\r\n    \r\n    $\r\n\r\nThe _expexted_ behavior of this code snippet would be to throw a NPE, because there is no manifest resource. Instead, the manifest is loaded from the atk-wrapper.\r\n\r\n**Environment details:**\r\n\r\nUbuntu 16.04.5 LTS\r\n\r\nOpenJDK was freshly installed via apt\r\n\r\n    add-apt-repository ppa:openjdk-r/ppa\r\n    apt install openjdk-11-jdk\r\n\r\nThe apk-wrapper was _not_ installed explicitly. I wasn&#39;t aware of its existence until this issue occurred on one of our machines - at which point I was able to reproduce it on my local machine as well.\r\n\r\n  [1]: https://stackoverflow.com/questions/47985068/bug-in-gnomes-java-atk-wrapper-how-to-disable-accessibility-for-a-swing-compo","title":"OpenJDK 11.0.4 has java-atk-wrapper.jar in the classpath","body":"<p>I noticed this issue when attempting to load the MANIFEST.MF from the .jar file of my application via <code>class.getResource(\"/META-INF/MANIFEST.MF\")</code>.</p>\n\n<p>Instead of getting my own manifest, a manifest is seemingly loaded from <code>/usr/share/java/java-atk-wrapper.jar</code>. \nHowever, this jar is not specified as part of my application's classpath - I tried disabling the java accessibility assistive technologies (<a href=\"https://stackoverflow.com/questions/47985068/bug-in-gnomes-java-atk-wrapper-how-to-disable-accessibility-for-a-swing-compo\">here</a>), but this had no effect.</p>\n\n<p>Interestingly, this behavior is specific to OpenJDK-11.0.4. The issue does not occur when using 11.0.3.\nCan anyone shed some light on what might be happening here? Was there some kind of change to how java-internal jars/classes are loaded/accessed? Or could this simply be a bug introduced in 11.0.4?</p>\n\n<p><strong>Minimal working example:</strong></p>\n\n<pre><code>import java.net.URL;\n\npublic class Main {\n    public static void main(String[] args) {\n        final URL resource = Main.class.getResource(\"/META-INF/MANIFEST.MF\");\n        System.out.println(resource.getPath());\n    }\n}\n</code></pre>\n\n<p>Then run:</p>\n\n<pre><code>$ java --version\nopenjdk 11.0.4 2019-07-16\nOpenJDK Runtime Environment (build 11.0.4+11-post-Ubuntu-116.04.1)\nOpenJDK 64-Bit Server VM (build 11.0.4+11-post-Ubuntu-116.04.1, mixed mode, sharing)\n$ javac Main.java\n$ java Main\nfile:/usr/share/java/java-atk-wrapper.jar!/META-INF/MANIFEST.MF\n$ echo $CLASSPATH\n\n$\n</code></pre>\n\n<p>The <em>expexted</em> behavior of this code snippet would be to throw a NPE, because there is no manifest resource. Instead, the manifest is loaded from the atk-wrapper.</p>\n\n<p><strong>Environment details:</strong></p>\n\n<p>Ubuntu 16.04.5 LTS</p>\n\n<p>OpenJDK was freshly installed via apt</p>\n\n<pre><code>add-apt-repository ppa:openjdk-r/ppa\napt install openjdk-11-jdk\n</code></pre>\n\n<p>The apk-wrapper was <em>not</em> installed explicitly. I wasn't aware of its existence until this issue occurred on one of our machines - at which point I was able to reproduce it on my local machine as well.</p>\n"},{"tags":["java","jdbc","weblogic12c","oracle9i"],"comments":[{"owner":{"account_id":5667261,"reputation":1536,"user_id":4483113,"display_name":"idelvall"},"score":0,"creation_date":1457302043,"post_id":35832465,"comment_id":59333336,"body_markdown":"Are the drivers the same version? If not try upgrading to the last. This may be helpful: http://stackoverflow.com/questions/17530909/java-returns-empty-string-value-for-oracle-varchar2","body":"Are the drivers the same version? If not try upgrading to the last. This may be helpful: <a href=\"http://stackoverflow.com/questions/17530909/java-returns-empty-string-value-for-oracle-varchar2\" title=\"java returns empty string value for oracle varchar2\">stackoverflow.com/questions/17530909/&hellip;</a>"},{"owner":{"account_id":2046209,"reputation":95,"user_id":1826240,"accept_rate":50,"display_name":"user1826240"},"score":0,"creation_date":1457335467,"post_id":35832465,"comment_id":59342601,"body_markdown":"First of all, thanks for the answer. I have update OJDBC7.jar  and remove all the OJDBC6.jar/OJDBC14.jar from WL. Also i add to the classpath the reference to OJDBC7.jar, but nothing change.","body":"First of all, thanks for the answer. I have update OJDBC7.jar  and remove all the OJDBC6.jar/OJDBC14.jar from WL. Also i add to the classpath the reference to OJDBC7.jar, but nothing change."}],"answers":[{"tags":[],"owner":{"account_id":23962199,"reputation":1,"user_id":17952124,"display_name":"sergio garcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642664134,"creation_date":1642399701,"answer_id":70737149,"question_id":35832465,"body_markdown":"For someone who maybe comes for the answer, just get the resultset like this:\r\n\r\n    byte[] cod = rs.getBytes(&quot;COD&quot;);\r\n    \r\n    codServ = new String(cod);","title":"Strings are empty in ResultSet (Weblogic 12c + Oracle 9i)","body":"<p>For someone who maybe comes for the answer, just get the resultset like this:</p>\n<pre><code>byte[] cod = rs.getBytes(&quot;COD&quot;);\n\ncodServ = new String(cod);\n</code></pre>\n"}],"owner":{"account_id":2046209,"reputation":95,"user_id":1826240,"accept_rate":50,"display_name":"user1826240"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642664134,"creation_date":1457297886,"question_id":35832465,"body_markdown":"I have an application working properly in WL 11 (JDK 1.6) + Oracle 9i. When I migrate to WL12 (JDK1.8), all the strings in the results are empty but the other fields are OK (int, date...)\r\n\r\nIn both server, I have a datasource with `oracle.jdbc.xa.client.OracleXADataSource` driver.\r\n\r\n&#191;Any idea? &#191;Do I have to change driver at WL console?\r\n\r\n    Statement stm = conn.createStatement();\r\n\tResultSet rst = stm.executeQuery(query);\r\n\r\nEdit: I have deploy another app in Oracle 11g DB and works properly. Could not work properly with Oracle 9i?\r\n","title":"Strings are empty in ResultSet (Weblogic 12c + Oracle 9i)","body":"<p>I have an application working properly in WL 11 (JDK 1.6) + Oracle 9i. When I migrate to WL12 (JDK1.8), all the strings in the results are empty but the other fields are OK (int, date...)</p>\n\n<p>In both server, I have a datasource with <code>oracle.jdbc.xa.client.OracleXADataSource</code> driver.</p>\n\n<p>¿Any idea? ¿Do I have to change driver at WL console?</p>\n\n<pre><code>Statement stm = conn.createStatement();\nResultSet rst = stm.executeQuery(query);\n</code></pre>\n\n<p>Edit: I have deploy another app in Oracle 11g DB and works properly. Could not work properly with Oracle 9i?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642664013,"creation_date":1642664013,"answer_id":70782253,"question_id":70774081,"body_markdown":"You are getting that behavior because you are creating a new instance of MyAdapter at each iteration of the inner loop. What you should is to get all those 4 lines of code out of the loop, as you can see below:\r\n\r\n    for (DataSnapshot ds:snapshot.getChildren()) {\r\n        for (DataSnapshot snapshot1:ds.getChildren()) {\r\n            reply data = snapshot1.getValue(reply.class);\r\n            list.add(data);\r\n        }\r\n        holder.rcv.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        myAdapter = new MyAdapter(getContext(), list);\r\n        holder.rcv.setAdapter(myAdapter);\r\n        myAdapter.notifyDataSetChanged();\r\n    }\r\n","title":"recyclerview in FirebaseRecyclerviewAdapter turn all longth but write just one","body":"<p>You are getting that behavior because you are creating a new instance of MyAdapter at each iteration of the inner loop. What you should is to get all those 4 lines of code out of the loop, as you can see below:</p>\n<pre><code>for (DataSnapshot ds:snapshot.getChildren()) {\n    for (DataSnapshot snapshot1:ds.getChildren()) {\n        reply data = snapshot1.getValue(reply.class);\n        list.add(data);\n    }\n    holder.rcv.setLayoutManager(new LinearLayoutManager(getContext()));\n    myAdapter = new MyAdapter(getContext(), list);\n    holder.rcv.setAdapter(myAdapter);\n    myAdapter.notifyDataSetChanged();\n}\n</code></pre>\n"}],"owner":{"account_id":20064492,"reputation":78,"user_id":14710443,"display_name":"samsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70782253,"answer_count":1,"score":0,"last_activity_date":1642664061,"creation_date":1642608961,"question_id":70774081,"body_markdown":"I have a regular RecyclerView in FRA I set up in onbindviewholder class. İt turns longth as you see in app there is a space for all items normally I should see there reply text but just one can see.\r\n\r\n\r\n\r\n \r\n\r\n    dbreply.child(post_key).addValueEventListener(new ValueEventListener() {\r\n                     @Override\r\n                     public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                         for (DataSnapshot ds:snapshot.getChildren()) {\r\n                             for (DataSnapshot snapshot1:ds.getChildren()) {\r\n                                 reply data = snapshot1.getValue(reply.class);\r\n                                 list.add(data);\r\n                          \r\n                                 holder.rcv.setLayoutManager(new LinearLayoutManager(getContext()));\r\n                                 myAdapter = new MyAdapter(getContext(), list);\r\n                                 holder.rcv.setAdapter(myAdapter);\r\n                                 myAdapter.notifyDataSetChanged();\r\n    \r\n                            }\r\n                         }\r\n \r\n                                 @Override\r\n                                 public void onCancelled(@NonNull DatabaseError error) { }});\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/myzLI.jpg","title":"recyclerview in FirebaseRecyclerviewAdapter turn all longth but write just one","body":"<p>I have a regular RecyclerView in FRA I set up in onbindviewholder class. İt turns longth as you see in app there is a space for all items normally I should see there reply text but just one can see.</p>\n<pre><code>dbreply.child(post_key).addValueEventListener(new ValueEventListener() {\n                 @Override\n                 public void onDataChange(@NonNull DataSnapshot snapshot) {\n                     for (DataSnapshot ds:snapshot.getChildren()) {\n                         for (DataSnapshot snapshot1:ds.getChildren()) {\n                             reply data = snapshot1.getValue(reply.class);\n                             list.add(data);\n                      \n                             holder.rcv.setLayoutManager(new LinearLayoutManager(getContext()));\n                             myAdapter = new MyAdapter(getContext(), list);\n                             holder.rcv.setAdapter(myAdapter);\n                             myAdapter.notifyDataSetChanged();\n\n                        }\n                     }\n\n                             @Override\n                             public void onCancelled(@NonNull DatabaseError error) { }});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/myzLI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/myzLI.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","authentication","jax-rs","wildfly","bearer-token"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1441813711,"post_id":32471808,"comment_id":52828931,"body_markdown":"Yeah I am not sure how it works it would work in an EE environment, even making the resource class an stateless bean. The @RolesAllowed annotation is meant to be used in an for ejbs. In which case the principal is retrieved from the servlet request (I  believe). What I would do is just implements your own authorization filter to that looksup the annotation and checks against the principal in the security context.","body":"Yeah I am not sure how it works it would work in an EE environment, even making the resource class an stateless bean. The @RolesAllowed annotation is meant to be used in an for ejbs. In which case the principal is retrieved from the servlet request (I  believe). What I would do is just implements your own authorization filter to that looksup the annotation and checks against the principal in the security context."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1441813864,"post_id":32471808,"comment_id":52829046,"body_markdown":"You can see [how Jersey implements it](https://github.com/jersey/jersey/blob/master/core-server/src/main/java/org/glassfish/jersey/server/filter/RolesAllowedDynamicFeature.java). Nothing is really Jersey specific about it except the `AnnotatedMethod` class. For that you can just do some reflection with `java.lang.reflect.Method` instead (`resourceInfo.getResourceMethod()`). Other than that, you can pretty much copy the code as is. Once you&#39;re done, just register the `RolesAllowedDynamicFeature` with the application. Or just annotate it with `@Provider` to be scanned for.","body":"You can see <a href=\"https://github.com/jersey/jersey/blob/master/core-server/src/main/java/org/glassfish/jersey/server/filter/RolesAllowedDynamicFeature.java\" rel=\"nofollow noreferrer\">how Jersey implements it</a>. Nothing is really Jersey specific about it except the <code>AnnotatedMethod</code> class. For that you can just do some reflection with <code>java.lang.reflect.Method</code> instead (<code>resourceInfo.getResourceMethod()</code>). Other than that, you can pretty much copy the code as is. Once you&#39;re done, just register the <code>RolesAllowedDynamicFeature</code> with the application. Or just annotate it with <code>@Provider</code> to be scanned for."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1441813934,"post_id":32471808,"comment_id":52829113,"body_markdown":"You will also need to make sure your filter is annotated with `@Priority(Priorities.AUTHENTICATION)` so that it is called before the authorization filter","body":"You will also need to make sure your filter is annotated with <code>@Priority(Priorities.AUTHENTICATION)</code> so that it is called before the authorization filter"},{"owner":{"account_id":3199627,"reputation":8485,"user_id":2701950,"accept_rate":74,"display_name":"Jadiel de Armas"},"score":0,"creation_date":1441814016,"post_id":32471808,"comment_id":52829165,"body_markdown":"I wish that Wildfly had a `RolesAllowedDynamic` feature like Wildfly. I will try to implement one like Jersey does it. That is exactly what I am looking for.","body":"I wish that Wildfly had a <code>RolesAllowedDynamic</code> feature like Wildfly. I will try to implement one like Jersey does it. That is exactly what I am looking for."},{"owner":{"account_id":3199627,"reputation":8485,"user_id":2701950,"accept_rate":74,"display_name":"Jadiel de Armas"},"score":0,"creation_date":1441815074,"post_id":32471808,"comment_id":52829939,"body_markdown":"@peeskillet You should write your comments as an answer. I will accept it and upvote it.","body":"@peeskillet You should write your comments as an answer. I will accept it and upvote it."}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1441857118,"creation_date":1441815493,"answer_id":32484638,"question_id":32471808,"body_markdown":"Yeah I am not sure how it would work in an EE environment, even making the resource class an stateless bean. The `@RolesAllowed` annotation is meant to be used for ejbs. In which case the principal is retrieved from the servlet request (I believe). What I would do is just implements your own authorization filter that looks up the annotation and checks against the principal in the security context.\n\nYou can see [how Jersey implements it][1]. Nothing is really Jersey specific about it except the `AnnotatedMethod` class. For that you can just do some reflection with `java.lang.reflect.Method` (resourceInfo.getResourceMethod()) instead. Other than that, you can pretty much copy the code as is. Once you&#39;re done, just register the `RolesAllowedDynamicFeature` with the application. Or just annotate it with `@Provider` to be scanned for.\n\nYou will also need to make sure your authentication filter is annotated with `@Priority(Priorities.AUTHENTICATION)` so that it is called before the authorization filter, which is annotated with `@Priority(Priorities.AUTHORIZATION)`.\n\n-----\n\n## UPDATE\n\nHere is a refactor of the the code I linked to, so It doesn&#39;t use an Jersey specific classes. The `AnnotatedMethod` is just changed to `Method`. \n\n    @Provider\n    public class RolesAllowedFeature implements DynamicFeature {\n    \n        @Override\n        public void configure(ResourceInfo resourceInfo, FeatureContext configuration) {\n            Method resourceMethod = resourceInfo.getResourceMethod();\n            \n            if (resourceMethod.isAnnotationPresent(DenyAll.class)) {\n                configuration.register(new RolesAllowedRequestFilter());\n                return;\n            }\n            \n            RolesAllowed ra = resourceMethod.getAnnotation(RolesAllowed.class);\n            if (ra != null) {\n                configuration.register(new RolesAllowedRequestFilter(ra.value()));\n                return;\n            }\n            \n            if (resourceMethod.isAnnotationPresent(PermitAll.class)) {\n                return;\n            }\n            \n            ra = resourceInfo.getResourceClass().getAnnotation(RolesAllowed.class);\n            if (ra != null) {\n                 configuration.register(new RolesAllowedRequestFilter(ra.value()));\n            }\n        }\n    \n        @Priority(Priorities.AUTHORIZATION) // authorization filter - should go after any authentication filters\n        private static class RolesAllowedRequestFilter implements ContainerRequestFilter {\n    \n            private final boolean denyAll;\n            private final String[] rolesAllowed;\n    \n            RolesAllowedRequestFilter() {\n                this.denyAll = true;\n                this.rolesAllowed = null;\n            }\n    \n            RolesAllowedRequestFilter(final String[] rolesAllowed) {\n                this.denyAll = false;\n                this.rolesAllowed = (rolesAllowed != null) ? rolesAllowed : new String[]{};\n            }\n    \n            @Override\n            public void filter(final ContainerRequestContext requestContext) throws IOException {\n                if (!denyAll) {\n                    if (rolesAllowed.length &gt; 0 &amp;&amp; !isAuthenticated(requestContext)) {\n                        throw new ForbiddenException(&quot;Not Authorized&quot;);\n                    }\n    \n                    for (final String role : rolesAllowed) {\n                        if (requestContext.getSecurityContext().isUserInRole(role)) {\n                            return;\n                        }\n                    }\n                }\n    \n                throw new ForbiddenException(&quot;Not Authorized&quot;);\n            }\n    \n            private static boolean isAuthenticated(final ContainerRequestContext requestContext) {\n                return requestContext.getSecurityContext().getUserPrincipal() != null;\n            }\n        }\n    }\n\nFirst let me explain a bit about how the `DynamicFeature` works. For that let&#39;s first change the context of discussion to your current implementation of your `AuthenticationFilter`. \n\nRight now it is a filter that is processed for every request. But let&#39;s say we introduced a custom `@Authenticated` annotation\n\n    @Target({METHOD, TYPE})\n    @Retention(RetentionPolicy.RUNTIME)\n    public @interface Authenticated{}\n\nWe could use this annotation to annotate different methods and classes. To make it so that only the methods and classes annotated are filtered by the filter, we can introduce a `DynamicFeature` that checks for the annotation, then only register the filter when the annotation is found. For example\n\n    @Provider\n    public class AuthenticationDynamicFeature implements DynamicFeature {\n    \n        @Override\n        public void configure(ResourceInfo resourceInfo, FeatureContext configuration) {\n            if (resourceInfo.getResourceMethod().isAnnotationPresent(Authenticated.class)) {\n                configuration.register(new AuthenticationFilter());\n                return;\n            }\n            \n            if (resourceInfo.getResourceClass().isAnnotationPresent(Authenticated.class)) {\n                configuration.register(new AuthenticationFilter());\n            }\n        } \n    }\n\nOnce we register this `AuthenticationDynamicFeature` class, it will make it so that only methods and classes annotated with `@Authenticated` will be filtered.\n\nAlternatively, this can even be done _within_ the filter. We can get a reference to the `ResourceInfo` from within the `AuthenticationFilter`. For example check for the annotation, if is not there, then move on.\n\n    @Provider\n    @Priority(Priorities.AUTHENTICATION)\n    public class AuthenticationFilter implements ContainerRequestFilter {\n        \n        @Context\n        private ResourceInfo resourceInfo;\n    \n        @Override\n        public void filter(ContainerRequestContext context) throws IOException {\n            \n            boolean hasAnnotation = false;\n            if (resourceInfo.getResourceMethod().isAnnotationPresent(Authenticated.class)\n                    || resourceInfo.getResourceClass().isAnnotationPresent(Authenticated.class)) {\n                hasAnnotation = true;\n            }\n            if (!hasAnnotation) return;\n            \n            // process authentication is annotation is present\n\nThis way we could completely forget about the `DynamicFeature`. It&#39;s better to just use the `DynamicFeature`, I was just giving an example for demonstration purposes. \n\nBut that being said, if we look at the first block of code with the `RolesAllowedDynamicFeature`, you can better understand what is going on. It only registers the filter for methods and classes annotated with `@RolesAllowed` and `@DenyAll`. You could even refactor it to have all the annotation logic in the filter instead of the feature. You only have the filter. Just like I did with the `AuthenticationFilter` example above. Again this would be just for example purposes.\n\nNow as far as the registration of the `DynamicFeature`, it works the same way as registering any other resource class or provider class (e.g. your authentication filter). So however you register those, just register the `RolesAllowedDynamicFeature` the same way. There is scanning, where `@Path` and `@Provider` annotations are scanned for. If this is what you are current using, then just annotating the feature class with `@Provider` should register it. For example just having an empty `Application` subclass will cause scanning to happen\n\n    @ApplicationPath(&quot;/api&quot;)\n    public class RestApplication extends Application {}\n\nThen there is explicit registration in your `Application` subclass. For example\n\n    @ApplicationPath(&quot;/api&quot;)\n    public class RestApplication extends Application {\n    \n        @Override\n        public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n            Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;&gt;();\n            classes.add(AuthenticationFilter.class);\n            classes.add(RolesAllowedFeature.class);\n            classes.add(SomeResource.class);\n            return classes;\n        }\n    }\n\nNote that when doing this, you disable any scanning that goes on.\n\nSo a couple other things to make sure after all the above is clear it still isn&#39;t working. \n\n1. Make sure your current `AuthenticationFilter` is annotated with `@Priority(Priorities.AUTHENTICATION)`. This is to ensure that your authentication filter is called before the authorization filter. This needs to happen because the authentication filter is what sets the security context, and the authorization filter checks it.\n\n2. Make sure you are creating the security context correctly. The authorization filter will call the `SecurityContext.isUserInRole(role)` passing in roles from the `@RolesAllowed` annotation. So you need to make sure to implements the `isUserInRole` correctly.\n\n\n[1]: https://github.com/jersey/jersey/blob/master/core-server/src/main/java/org/glassfish/jersey/server/filter/RolesAllowedDynamicFeature.java#L85 ","title":"Bearer only authentication in Wildfly without using Keycloak","body":"<p>Yeah I am not sure how it would work in an EE environment, even making the resource class an stateless bean. The <code>@RolesAllowed</code> annotation is meant to be used for ejbs. In which case the principal is retrieved from the servlet request (I believe). What I would do is just implements your own authorization filter that looks up the annotation and checks against the principal in the security context.</p>\n<p>You can see <a href=\"https://github.com/jersey/jersey/blob/master/core-server/src/main/java/org/glassfish/jersey/server/filter/RolesAllowedDynamicFeature.java#L85\" rel=\"nofollow noreferrer\">how Jersey implements it</a>. Nothing is really Jersey specific about it except the <code>AnnotatedMethod</code> class. For that you can just do some reflection with <code>java.lang.reflect.Method</code> (resourceInfo.getResourceMethod()) instead. Other than that, you can pretty much copy the code as is. Once you're done, just register the <code>RolesAllowedDynamicFeature</code> with the application. Or just annotate it with <code>@Provider</code> to be scanned for.</p>\n<p>You will also need to make sure your authentication filter is annotated with <code>@Priority(Priorities.AUTHENTICATION)</code> so that it is called before the authorization filter, which is annotated with <code>@Priority(Priorities.AUTHORIZATION)</code>.</p>\n<hr />\n<h2>UPDATE</h2>\n<p>Here is a refactor of the the code I linked to, so It doesn't use an Jersey specific classes. The <code>AnnotatedMethod</code> is just changed to <code>Method</code>.</p>\n<pre><code>@Provider\npublic class RolesAllowedFeature implements DynamicFeature {\n\n    @Override\n    public void configure(ResourceInfo resourceInfo, FeatureContext configuration) {\n        Method resourceMethod = resourceInfo.getResourceMethod();\n        \n        if (resourceMethod.isAnnotationPresent(DenyAll.class)) {\n            configuration.register(new RolesAllowedRequestFilter());\n            return;\n        }\n        \n        RolesAllowed ra = resourceMethod.getAnnotation(RolesAllowed.class);\n        if (ra != null) {\n            configuration.register(new RolesAllowedRequestFilter(ra.value()));\n            return;\n        }\n        \n        if (resourceMethod.isAnnotationPresent(PermitAll.class)) {\n            return;\n        }\n        \n        ra = resourceInfo.getResourceClass().getAnnotation(RolesAllowed.class);\n        if (ra != null) {\n             configuration.register(new RolesAllowedRequestFilter(ra.value()));\n        }\n    }\n\n    @Priority(Priorities.AUTHORIZATION) // authorization filter - should go after any authentication filters\n    private static class RolesAllowedRequestFilter implements ContainerRequestFilter {\n\n        private final boolean denyAll;\n        private final String[] rolesAllowed;\n\n        RolesAllowedRequestFilter() {\n            this.denyAll = true;\n            this.rolesAllowed = null;\n        }\n\n        RolesAllowedRequestFilter(final String[] rolesAllowed) {\n            this.denyAll = false;\n            this.rolesAllowed = (rolesAllowed != null) ? rolesAllowed : new String[]{};\n        }\n\n        @Override\n        public void filter(final ContainerRequestContext requestContext) throws IOException {\n            if (!denyAll) {\n                if (rolesAllowed.length &gt; 0 &amp;&amp; !isAuthenticated(requestContext)) {\n                    throw new ForbiddenException(&quot;Not Authorized&quot;);\n                }\n\n                for (final String role : rolesAllowed) {\n                    if (requestContext.getSecurityContext().isUserInRole(role)) {\n                        return;\n                    }\n                }\n            }\n\n            throw new ForbiddenException(&quot;Not Authorized&quot;);\n        }\n\n        private static boolean isAuthenticated(final ContainerRequestContext requestContext) {\n            return requestContext.getSecurityContext().getUserPrincipal() != null;\n        }\n    }\n}\n</code></pre>\n<p>First let me explain a bit about how the <code>DynamicFeature</code> works. For that let's first change the context of discussion to your current implementation of your <code>AuthenticationFilter</code>.</p>\n<p>Right now it is a filter that is processed for every request. But let's say we introduced a custom <code>@Authenticated</code> annotation</p>\n<pre><code>@Target({METHOD, TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Authenticated{}\n</code></pre>\n<p>We could use this annotation to annotate different methods and classes. To make it so that only the methods and classes annotated are filtered by the filter, we can introduce a <code>DynamicFeature</code> that checks for the annotation, then only register the filter when the annotation is found. For example</p>\n<pre><code>@Provider\npublic class AuthenticationDynamicFeature implements DynamicFeature {\n\n    @Override\n    public void configure(ResourceInfo resourceInfo, FeatureContext configuration) {\n        if (resourceInfo.getResourceMethod().isAnnotationPresent(Authenticated.class)) {\n            configuration.register(new AuthenticationFilter());\n            return;\n        }\n        \n        if (resourceInfo.getResourceClass().isAnnotationPresent(Authenticated.class)) {\n            configuration.register(new AuthenticationFilter());\n        }\n    } \n}\n</code></pre>\n<p>Once we register this <code>AuthenticationDynamicFeature</code> class, it will make it so that only methods and classes annotated with <code>@Authenticated</code> will be filtered.</p>\n<p>Alternatively, this can even be done <em>within</em> the filter. We can get a reference to the <code>ResourceInfo</code> from within the <code>AuthenticationFilter</code>. For example check for the annotation, if is not there, then move on.</p>\n<pre><code>@Provider\n@Priority(Priorities.AUTHENTICATION)\npublic class AuthenticationFilter implements ContainerRequestFilter {\n    \n    @Context\n    private ResourceInfo resourceInfo;\n\n    @Override\n    public void filter(ContainerRequestContext context) throws IOException {\n        \n        boolean hasAnnotation = false;\n        if (resourceInfo.getResourceMethod().isAnnotationPresent(Authenticated.class)\n                || resourceInfo.getResourceClass().isAnnotationPresent(Authenticated.class)) {\n            hasAnnotation = true;\n        }\n        if (!hasAnnotation) return;\n        \n        // process authentication is annotation is present\n</code></pre>\n<p>This way we could completely forget about the <code>DynamicFeature</code>. It's better to just use the <code>DynamicFeature</code>, I was just giving an example for demonstration purposes.</p>\n<p>But that being said, if we look at the first block of code with the <code>RolesAllowedDynamicFeature</code>, you can better understand what is going on. It only registers the filter for methods and classes annotated with <code>@RolesAllowed</code> and <code>@DenyAll</code>. You could even refactor it to have all the annotation logic in the filter instead of the feature. You only have the filter. Just like I did with the <code>AuthenticationFilter</code> example above. Again this would be just for example purposes.</p>\n<p>Now as far as the registration of the <code>DynamicFeature</code>, it works the same way as registering any other resource class or provider class (e.g. your authentication filter). So however you register those, just register the <code>RolesAllowedDynamicFeature</code> the same way. There is scanning, where <code>@Path</code> and <code>@Provider</code> annotations are scanned for. If this is what you are current using, then just annotating the feature class with <code>@Provider</code> should register it. For example just having an empty <code>Application</code> subclass will cause scanning to happen</p>\n<pre><code>@ApplicationPath(&quot;/api&quot;)\npublic class RestApplication extends Application {}\n</code></pre>\n<p>Then there is explicit registration in your <code>Application</code> subclass. For example</p>\n<pre><code>@ApplicationPath(&quot;/api&quot;)\npublic class RestApplication extends Application {\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;&gt;();\n        classes.add(AuthenticationFilter.class);\n        classes.add(RolesAllowedFeature.class);\n        classes.add(SomeResource.class);\n        return classes;\n    }\n}\n</code></pre>\n<p>Note that when doing this, you disable any scanning that goes on.</p>\n<p>So a couple other things to make sure after all the above is clear it still isn't working.</p>\n<ol>\n<li><p>Make sure your current <code>AuthenticationFilter</code> is annotated with <code>@Priority(Priorities.AUTHENTICATION)</code>. This is to ensure that your authentication filter is called before the authorization filter. This needs to happen because the authentication filter is what sets the security context, and the authorization filter checks it.</p>\n</li>\n<li><p>Make sure you are creating the security context correctly. The authorization filter will call the <code>SecurityContext.isUserInRole(role)</code> passing in roles from the <code>@RolesAllowed</code> annotation. So you need to make sure to implements the <code>isUserInRole</code> correctly.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3199627,"reputation":8485,"user_id":2701950,"accept_rate":74,"display_name":"Jadiel de Armas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3165,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":32484638,"answer_count":1,"score":1,"last_activity_date":1642664053,"creation_date":1441777834,"question_id":32471808,"body_markdown":"I want to do my own implementation of Bearer-only authentication in Wildfly.  In essence, I will do the following steps:\r\n\r\n1. When I receive a request, I will check if it has an Authorization header.\r\n\r\n2. I obtain the token and check against a database (in this case I will be using Redis) for the validity of it.\r\n\r\n3. I obtain the role for that user from the database.\r\n\r\n4. I want to be able to use the `@RolesAllowed` annotation on my rest services.\r\n\r\nHow do I go about it? How do I need to modify the Wildfly configuration files? What interfaces do I need to implement? How can I pass the role of the user to the security context so that Wildfly does the `@RolesAllowed` check for me?\r\n\r\nIf answering, consider that I am an experienced Java Programmer, but new to Wildfly, so you can skip details on programming logic but not on Wildfly configuration.  Also in your answer don&#39;t worry on how the token got to Redis in the first place, or how the client obtained it.\r\n\r\n**EDIT**\r\n\r\nThis is what I have done, but with no luck yet.  I have implemented an `AuthenticationFilter` that implements `ContainerRequestFilter`.  (I am including below only the main filter function that I have implemented.  Note that there are some helper functions that get the roles from the database that are not included).  Even when, at the end of the function I set the security context of the request context with the user profile (which contains the role), I cannot get to work the `@RolesAllowed` annotations on my JAX-RS rest services.  Any pointers on what should I do? \r\n\r\nNote: I have not modified any Wildfly configuration files or the web.xml file.  I know that the filter is being called for every request because I am able to LOG messages from it on every request.\r\n\r\n\t/** \r\n\t * (non-Javadoc)\r\n\t * @see javax.ws.rs.container.ContainerRequestFilter#filter(javax.ws.rs.container.ContainerRequestContext)\r\n\t */\r\n\t@Override\r\n\tpublic void filter(ContainerRequestContext requestContext) {\r\n\t\t\r\n\t\t//1. Read the JSON web token from the header\r\n\t\tString authorizationHeader = requestContext.getHeaderString(HttpHeaders.AUTHORIZATION);\r\n\t\tif (authorizationHeader == null || !authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\trequestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tString token = authorizationHeader.substring(&quot;Bearer&quot;.length()).trim();\r\n\t\t\r\n\t\ttry{\r\n\t\t\t//Note that if the token is not in the database,\r\n\t\t\t//an exception will be thrown and we abort.\r\n\t\t\r\n\t\t\tUserProfile userProfile = this.getUserProfile(token);\r\n\t\t\r\n\t\t\tif (null == userProfile){\r\n\t\t\t\tuserProfile = this.decodeToken(token);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\t\tif (null == userProfile){\r\n\t\t\t\tthrow new Exception();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\t\tString role = userProfile.getUserRole();\r\n\t\t\tif (null == role){\r\n\t\t\t\trole = this.getRoleFromMod(userProfile);\r\n\t\t\t\tif (null == role){\r\n\t\t\t\t\trole = RoleType.READ_ONLY;\r\n\t\t\t\t}\r\n\t\t\t\tuserProfile.setUserRole(role);\r\n\t\t\t\tthis.updateUserProfileForToken(token, userProfile);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t\tuserProfile.setUserRole(role);\r\n\t\t\t\t\r\n\t\t\t//5. Create a security context class that implements the crazy interface \r\n\t\t\t//and set it here.\r\n\t\t\trequestContext.setSecurityContext(new ModSecurityContext(userProfile));\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\trequestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\r\n\t\t}\r\n\t}","title":"Bearer only authentication in Wildfly without using Keycloak","body":"<p>I want to do my own implementation of Bearer-only authentication in Wildfly.  In essence, I will do the following steps:</p>\n\n<ol>\n<li><p>When I receive a request, I will check if it has an Authorization header.</p></li>\n<li><p>I obtain the token and check against a database (in this case I will be using Redis) for the validity of it.</p></li>\n<li><p>I obtain the role for that user from the database.</p></li>\n<li><p>I want to be able to use the <code>@RolesAllowed</code> annotation on my rest services.</p></li>\n</ol>\n\n<p>How do I go about it? How do I need to modify the Wildfly configuration files? What interfaces do I need to implement? How can I pass the role of the user to the security context so that Wildfly does the <code>@RolesAllowed</code> check for me?</p>\n\n<p>If answering, consider that I am an experienced Java Programmer, but new to Wildfly, so you can skip details on programming logic but not on Wildfly configuration.  Also in your answer don't worry on how the token got to Redis in the first place, or how the client obtained it.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is what I have done, but with no luck yet.  I have implemented an <code>AuthenticationFilter</code> that implements <code>ContainerRequestFilter</code>.  (I am including below only the main filter function that I have implemented.  Note that there are some helper functions that get the roles from the database that are not included).  Even when, at the end of the function I set the security context of the request context with the user profile (which contains the role), I cannot get to work the <code>@RolesAllowed</code> annotations on my JAX-RS rest services.  Any pointers on what should I do? </p>\n\n<p>Note: I have not modified any Wildfly configuration files or the web.xml file.  I know that the filter is being called for every request because I am able to LOG messages from it on every request.</p>\n\n<pre><code>/** \n * (non-Javadoc)\n * @see javax.ws.rs.container.ContainerRequestFilter#filter(javax.ws.rs.container.ContainerRequestContext)\n */\n@Override\npublic void filter(ContainerRequestContext requestContext) {\n\n    //1. Read the JSON web token from the header\n    String authorizationHeader = requestContext.getHeaderString(HttpHeaders.AUTHORIZATION);\n    if (authorizationHeader == null || !authorizationHeader.startsWith(\"Bearer \")) {\n        requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\n        return;\n    }\n\n    String token = authorizationHeader.substring(\"Bearer\".length()).trim();\n\n    try{\n        //Note that if the token is not in the database,\n        //an exception will be thrown and we abort.\n\n        UserProfile userProfile = this.getUserProfile(token);\n\n        if (null == userProfile){\n            userProfile = this.decodeToken(token);\n        }\n\n\n        if (null == userProfile){\n            throw new Exception();\n        }\n\n\n        String role = userProfile.getUserRole();\n        if (null == role){\n            role = this.getRoleFromMod(userProfile);\n            if (null == role){\n                role = RoleType.READ_ONLY;\n            }\n            userProfile.setUserRole(role);\n            this.updateUserProfileForToken(token, userProfile);\n\n        }\n\n        userProfile.setUserRole(role);\n\n        //5. Create a security context class that implements the crazy interface \n        //and set it here.\n        requestContext.setSecurityContext(new ModSecurityContext(userProfile));\n\n    }\n    catch(Exception e){\n        requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","formatter"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1639744567,"post_id":70393083,"comment_id":124433118,"body_markdown":"no, that would be not good.... (you have to do it yourself! separate the string `&quot; + &quot;` (then eclipse will format(within these bounds)) or use &quot;recent jdk features&quot;(multi-line ..but i don&#39;t have exp. how mature eclipse is with these) `&quot;&quot;&quot;`)","body":"no, that would be not good.... (you have to do it yourself! separate the string <code>&quot; + &quot;</code> (then eclipse will format(within these bounds)) or use &quot;recent jdk features&quot;(multi-line ..but i don&#39;t have exp. how mature eclipse is with these) <code>&quot;&quot;&quot;</code>)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1642664884,"post_id":70393083,"comment_id":125132414,"body_markdown":"literal strings should never be separated automatically (e.g. you search for it and would not find it), but Eclipse helps breaking the long literals, just type return inside the string, `&quot; + &quot;` and line break will be inserted - the second case should be working if  Formatter (Java Code Style -&gt; Formatter) with correct settings is used. (@xen `&quot;&quot;&quot;` would not help, it inclludes the line breaks into the literal)","body":"literal strings should never be separated automatically (e.g. you search for it and would not find it), but Eclipse helps breaking the long literals, just type return inside the string, <code>&quot; + &quot;</code> and line break will be inserted - the second case should be working if  Formatter (Java Code Style -&gt; Formatter) with correct settings is used. (@xen <code>&quot;&quot;&quot;</code> would not help, it inclludes the line breaks into the literal)"}],"owner":{"account_id":200794,"reputation":549,"user_id":446842,"display_name":"Shorty123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642663747,"creation_date":1639743652,"question_id":70393083,"body_markdown":"In my eclipse formatter i set the eclipse max line width to 140 unfortunately that does not count for  something like this where the given text width is longer than 140:\r\n\r\n```java\r\nassertThat(rte.getMessage(),\r\n                is(&quot;lorem ypsum sfdasdasd asdasdh asfpojkasgkl asdfjkhklasg asdjklhagjklhag asdjklhasdjkf asghjkahghjkag asghjkajkhag asghjkahgjkhagjkl asgjklhagjkhajkg aghjkhadgjklhalkg asdgjklhagjklhagl asdgjklhasjklhjklag asgjkhaksjhjkag&quot;));\r\n```\r\n\r\nAnother problem occurs in lines like this:\r\n\r\n```java\r\nprivate void test(final String something, final boolean something2, final Path something3, final boolean something4)throws IOException,JDOMException                                                                                                                   \r\n```                                                         \r\n\r\nIs there a possibility to let eclipse also format this?","title":"Eclipse code formatting: Line width ignored for some situations","body":"<p>In my eclipse formatter i set the eclipse max line width to 140 unfortunately that does not count for  something like this where the given text width is longer than 140:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(rte.getMessage(),\n                is(&quot;lorem ypsum sfdasdasd asdasdh asfpojkasgkl asdfjkhklasg asdjklhagjklhag asdjklhasdjkf asghjkahghjkag asghjkajkhag asghjkahgjkhagjkl asgjklhagjkhajkg aghjkhadgjklhalkg asdgjklhagjklhagl asdgjklhasjklhjklag asgjkhaksjhjkag&quot;));\n</code></pre>\n<p>Another problem occurs in lines like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void test(final String something, final boolean something2, final Path something3, final boolean something4)throws IOException,JDOMException                                                                                                                   \n</code></pre>\n<p>Is there a possibility to let eclipse also format this?</p>\n"},{"tags":["java","python","ruby","multithreading","concurrency"],"answers":[{"tags":[],"owner":{"account_id":8975,"reputation":6356,"user_id":16399,"accept_rate":92,"display_name":"sk."},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1231887083,"creation_date":1231869848,"answer_id":440086,"question_id":440036,"body_markdown":"The basic principles of concurrent programming existed before java and were summarized in those java books you&#39;re talking about. The java.util.concurrent library was similarly derived from previous code and research papers on concurrent programming.\r\n\r\nHowever, some implementation issues are specific to Java. It has a specified memory model, and the concurrent utilities in Java are tailored to the specifics of that. With some modification those can be ported to other languages/environments with different memory model characteristics.\r\n\r\nSo, you might need a book to teach you the canonical usage of the concurrency tools in other languages but it wouldn&#39;t be reinventing the wheel.","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p>The basic principles of concurrent programming existed before java and were summarized in those java books you're talking about. The java.util.concurrent library was similarly derived from previous code and research papers on concurrent programming.</p>\n\n<p>However, some implementation issues are specific to Java. It has a specified memory model, and the concurrent utilities in Java are tailored to the specifics of that. With some modification those can be ported to other languages/environments with different memory model characteristics.</p>\n\n<p>So, you might need a book to teach you the canonical usage of the concurrency tools in other languages but it wouldn't be reinventing the wheel.</p>\n"},{"tags":[],"owner":{"account_id":7495,"reputation":103710,"user_id":13055,"accept_rate":68,"display_name":"Parand"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1231921709,"creation_date":1231920765,"answer_id":442252,"question_id":440036,"body_markdown":"Keep in mind that threads are just one of several possible models for dealing with &quot;concurrency&quot;. Python, for example, has one of the most advanced asynchronous (event based) non-threaded models in [Twisted][1]. Non-blocking models are quite powerful and are used as alternatives to threads in most of the highest scaling apps out there (eg. nginx, lighttpd). \r\n\r\nYour assumption that other popular languages need threads may simply be a symptom of a java centric (and hence thread-centric) world view. Take a look at the [C10K][2] page for a slightly dated but highly informative look at several models for how to handle large volumes of concurrent requests.\r\n\r\n\r\n  [1]: http://twistedmatrix.com/trac/\r\n  [2]: http://www.kegel.com/c10k.html","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p>Keep in mind that threads are just one of several possible models for dealing with \"concurrency\". Python, for example, has one of the most advanced asynchronous (event based) non-threaded models in <a href=\"http://twistedmatrix.com/trac/\" rel=\"nofollow noreferrer\">Twisted</a>. Non-blocking models are quite powerful and are used as alternatives to threads in most of the highest scaling apps out there (eg. nginx, lighttpd). </p>\n\n<p>Your assumption that other popular languages need threads may simply be a symptom of a java centric (and hence thread-centric) world view. Take a look at the <a href=\"http://www.kegel.com/c10k.html\" rel=\"nofollow noreferrer\">C10K</a> page for a slightly dated but highly informative look at several models for how to handle large volumes of concurrent requests.</p>\n"},{"tags":[],"owner":{"account_id":15292,"reputation":22433,"user_id":32136,"accept_rate":66,"display_name":"philsquared"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1231922854,"creation_date":1231922854,"answer_id":442312,"question_id":440036,"body_markdown":"This is not flame bait, but IMHO Java has one of the simpler and more restricted models for threading and concurrency available.\r\nThat&#39;s not necessarily a bad thing, but at the level of granularity it offers it means that the perspective it gives you of what concurrency is and how to deal with it is inherently limited if you have a &quot;java centric&quot; view (as someone else put it).\r\n\r\nIf you&#39;re serious about concurrency, then it&#39;s worth exploring other languages precisely *because* different models and idioms exist.\r\n\r\nSome of the hottest areas are lock-free programming (you&#39;ll see a lot of it, but often done badly, in C++) and functional programming (which has been around for a while but arguably, is becoming increasingly relevant. A prime example in the case of concurrency is probably Erlang).","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p>This is not flame bait, but IMHO Java has one of the simpler and more restricted models for threading and concurrency available.\nThat's not necessarily a bad thing, but at the level of granularity it offers it means that the perspective it gives you of what concurrency is and how to deal with it is inherently limited if you have a \"java centric\" view (as someone else put it).</p>\n\n<p>If you're serious about concurrency, then it's worth exploring other languages precisely <em>because</em> different models and idioms exist.</p>\n\n<p>Some of the hottest areas are lock-free programming (you'll see a lot of it, but often done badly, in C++) and functional programming (which has been around for a while but arguably, is becoming increasingly relevant. A prime example in the case of concurrency is probably Erlang).</p>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1232487661,"creation_date":1232487661,"answer_id":463249,"question_id":440036,"body_markdown":"I think the answer is both yes and no.  Java arguably has the most well-defined memory model and execution semantics of the most commonly used imperative languages (Java, C++, Python, Ruby, etc).  In some sense, other languages either lack this completely or are playing catch-up (if that&#39;s even possible given the immaturity of the threading models).  \r\n\r\nC++ is probably the notable exception - it has been treading the same ground for C++0x and has possibly gone beyond the current state of the Java model from my impression.\r\n\r\nI say no because the communities are not isolated.  Many of the guys working on this stuff are involved (at least from a guidance point of view, if not from a direct hand in the specs) in more than one language.  So, there is a lot of crosstalk between guys working on JMM and guys working on C++0x specs as they are essentially solving the same problems with many of the same underlying drivers (from the hardware guys at the bottom and the users at the top).  And I&#39;m pretty sure there is cross-talk at some level between the JVM / CLR camps as well.  \r\n\r\nAs others have mentioned, there are also other models for concurrency:  actors in Erlang and Scala, agents/STM in Clojure, FP&#39;s rise in F#, Scala, Haskell, the CCR and PLINQ stuff in CLR land, etc.  It&#39;s an exciting time right now!  We can use as many concurrency experts as we can find I think.... :)\r\n","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p>I think the answer is both yes and no.  Java arguably has the most well-defined memory model and execution semantics of the most commonly used imperative languages (Java, C++, Python, Ruby, etc).  In some sense, other languages either lack this completely or are playing catch-up (if that's even possible given the immaturity of the threading models).  </p>\n\n<p>C++ is probably the notable exception - it has been treading the same ground for C++0x and has possibly gone beyond the current state of the Java model from my impression.</p>\n\n<p>I say no because the communities are not isolated.  Many of the guys working on this stuff are involved (at least from a guidance point of view, if not from a direct hand in the specs) in more than one language.  So, there is a lot of crosstalk between guys working on JMM and guys working on C++0x specs as they are essentially solving the same problems with many of the same underlying drivers (from the hardware guys at the bottom and the users at the top).  And I'm pretty sure there is cross-talk at some level between the JVM / CLR camps as well.  </p>\n\n<p>As others have mentioned, there are also other models for concurrency:  actors in Erlang and Scala, agents/STM in Clojure, FP's rise in F#, Scala, Haskell, the CCR and PLINQ stuff in CLR land, etc.  It's an exciting time right now!  We can use as many concurrency experts as we can find I think.... :)</p>\n"},{"tags":[],"owner":{"account_id":40118,"reputation":634,"user_id":116112,"display_name":"Michael Sparks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642663444,"creation_date":1264011345,"answer_id":2103804,"question_id":440036,"body_markdown":"[Kamaelia][1] is a project (which I started, and continue to work on) that has specifically the goal of making concurrency a tool you want to use, rather than a pain to use. In practical terms this means that it is primarily a shared-nothing model with message passing model (based on a world view from Occam &amp; Unix pipes).\r\n\r\nUnderlying that goal is a desire to make concurrency easy to use for the average developer, shielding them from the nastier problems caused by a number of approaches to concurrency. (There&#39;s a bunch of presentations on slideshare explaining the why &amp; how there)\r\n\r\nAdditionally it provides a simple software transactional memory model for the situations where you must share data, and uses a deliberately simple API.\r\n\r\nKamaelia&#39;s primary implementation is in python, with a toy implementation in Ruby &amp; C++. Someone else has ported the underlying approach to E and also to Java. (though the Java person has disappeared) (The toy implementations are sanity checks the ideas can work in other languages, if needing to be recast as local idioms)\r\n\r\nPerhaps your question shouldn&#39;t be &quot;what can these languages learn&quot;, but &quot;what can the Java community learn by looking elsewhere?&quot;. Many people who learn python are liguistically immigrants from elsewhere and bring their knowledge of other languages with them, and so from where I sit it looks like python already looks out to other languages for inspiration.\r\n\r\nPicking something concrete, for example, [this speak and write application][2] - which is a tool for teaching a small child to read and write, based around pen input, handwriting recognition, and speech synth - uses several dozen concurrent subsystems, runs at an acceptable speed on a single core machine, would be easily amenable to running on a many-core machine. However, the reason for the number of concurrent subsystems however has nothing to do with &quot;wanting to make the application parallel&quot;, but more to do with &quot;How can I make the application easier to write, extend and maintain?&quot;. **The fact it ends up embarassingly parallel is a secondary bonus.**\r\n\r\nThere&#39;s a full tutorial - [Pragmatic Concurrency][3] - linked from the front page. (Notes, slides, video &amp; code bundle)\r\n\r\nThe model can be improved, and suggestions are welcome - life would be very boring if we all just &quot;stopped&quot; trying to make better tools - but ignoring what already exists seems a little ... parochial. If that seems a little harsh, please look at [today&#39;s dilbert][4].\r\n\r\n  [1]: http://www.kamaelia.org/Home\r\n  [2]: http://www.kamaelia.org/SpeakAndWrite\r\n  [3]: http://www.kamaelia.org/PragmaticConcurrency\r\n  [4]: http://www.dilbert.com/fast/2010-01-20/\r\n","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p><a href=\"http://www.kamaelia.org/Home\" rel=\"nofollow noreferrer\">Kamaelia</a> is a project (which I started, and continue to work on) that has specifically the goal of making concurrency a tool you want to use, rather than a pain to use. In practical terms this means that it is primarily a shared-nothing model with message passing model (based on a world view from Occam &amp; Unix pipes).</p>\n<p>Underlying that goal is a desire to make concurrency easy to use for the average developer, shielding them from the nastier problems caused by a number of approaches to concurrency. (There's a bunch of presentations on slideshare explaining the why &amp; how there)</p>\n<p>Additionally it provides a simple software transactional memory model for the situations where you must share data, and uses a deliberately simple API.</p>\n<p>Kamaelia's primary implementation is in python, with a toy implementation in Ruby &amp; C++. Someone else has ported the underlying approach to E and also to Java. (though the Java person has disappeared) (The toy implementations are sanity checks the ideas can work in other languages, if needing to be recast as local idioms)</p>\n<p>Perhaps your question shouldn't be &quot;what can these languages learn&quot;, but &quot;what can the Java community learn by looking elsewhere?&quot;. Many people who learn python are liguistically immigrants from elsewhere and bring their knowledge of other languages with them, and so from where I sit it looks like python already looks out to other languages for inspiration.</p>\n<p>Picking something concrete, for example, <a href=\"http://www.kamaelia.org/SpeakAndWrite\" rel=\"nofollow noreferrer\">this speak and write application</a> - which is a tool for teaching a small child to read and write, based around pen input, handwriting recognition, and speech synth - uses several dozen concurrent subsystems, runs at an acceptable speed on a single core machine, would be easily amenable to running on a many-core machine. However, the reason for the number of concurrent subsystems however has nothing to do with &quot;wanting to make the application parallel&quot;, but more to do with &quot;How can I make the application easier to write, extend and maintain?&quot;. <strong>The fact it ends up embarassingly parallel is a secondary bonus.</strong></p>\n<p>There's a full tutorial - <a href=\"http://www.kamaelia.org/PragmaticConcurrency\" rel=\"nofollow noreferrer\">Pragmatic Concurrency</a> - linked from the front page. (Notes, slides, video &amp; code bundle)</p>\n<p>The model can be improved, and suggestions are welcome - life would be very boring if we all just &quot;stopped&quot; trying to make better tools - but ignoring what already exists seems a little ... parochial. If that seems a little harsh, please look at <a href=\"http://www.dilbert.com/fast/2010-01-20/\" rel=\"nofollow noreferrer\">today's dilbert</a>.</p>\n"}],"owner":{"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":5,"score":7,"last_activity_date":1642663444,"creation_date":1231869162,"question_id":440036,"body_markdown":"I am primarily a Java developer, and I&#39;ve been reading a lot of in-depth work on threads and concurrency.  Many very smart people (Doug Lea, Brian Goetz, etc) have authored books on these topics and made contributions to new concurrency libraries for Java.\r\n\r\nAs I start to learn more about Python, Ruby, and other languages, I&#39;m wondering: does all of that work have to be re-created for these languages?\r\n\r\nWill there be, or does there need to be, a &quot;Doug Lea of Python,&quot; or a &quot;Brian Goetz of Ruby,&quot; who make similarly powerful contributions to the concurrency features of those languages?  \r\n\r\n&lt;b&gt;Does all of this concurrency work done in Java have to be re-created for future languages?&lt;/b&gt;  Or will the work done in Java establish lessons and guidance for future languages?","title":"Re-creating threading and concurrency knowledge in increasingly popular languages","body":"<p>I am primarily a Java developer, and I've been reading a lot of in-depth work on threads and concurrency.  Many very smart people (Doug Lea, Brian Goetz, etc) have authored books on these topics and made contributions to new concurrency libraries for Java.</p>\n\n<p>As I start to learn more about Python, Ruby, and other languages, I'm wondering: does all of that work have to be re-created for these languages?</p>\n\n<p>Will there be, or does there need to be, a \"Doug Lea of Python,\" or a \"Brian Goetz of Ruby,\" who make similarly powerful contributions to the concurrency features of those languages?  </p>\n\n<p><b>Does all of this concurrency work done in Java have to be re-created for future languages?</b>  Or will the work done in Java establish lessons and guidance for future languages?</p>\n"},{"tags":["java","file","bufferedreader","filereader"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1642657602,"post_id":70781328,"comment_id":125130542,"body_markdown":"You need to edit your question and add the code you want help with.","body":"You need to edit your question and add the code you want help with."},{"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"score":0,"creation_date":1642658460,"post_id":70781328,"comment_id":125130723,"body_markdown":"@tgdavies Updated the question with code","body":"@tgdavies Updated the question with code"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642661135,"post_id":70781328,"comment_id":125131305,"body_markdown":"Do you mean that the file ends with two newline characters after &quot;Text: Hi&quot;? Or just one newline with nothing following it at all? If it&#39;s the latter, then this is working as expected, and your program will need to accomodate this.","body":"Do you mean that the file ends with two newline characters after &quot;Text: Hi&quot;? Or just one newline with nothing following it at all? If it&#39;s the latter, then this is working as expected, and your program will need to accomodate this."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642662469,"creation_date":1642661420,"answer_id":70781855,"question_id":70781328,"body_markdown":"The code is working the way it is supposed to. The last (empty) line is the end of file (EOF). A valid line is terminated by a carriage return and line feed. Line #3 is read because of this.  I included an image of your file showing the text and symbols (used Notepad++ for this)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I add another blank line at the end, notice how the previous blank line is now terminated.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI modified your code slightly to run this scenario\r\n\r\n```\r\n\tpublic static void main (String[] args) throws IOException {\r\n\t\tFile file = new File(&quot;emptyline.txt&quot;);\r\n\t\tFileReader fr = new FileReader(file);\r\n\t\tBufferedReader br = new BufferedReader(fr);\r\n\t\tString line;\r\n\t\tint linenum = 1;\r\n\t\twhile ( (line = br.readLine()) != null) {\r\n\t\t\tSystem.out.println(&quot;Line &quot; + (linenum++) + &quot;: &quot; + line);\r\n\t\t}\r\n\t\tbr.close();\r\n\t}\r\n```\r\nWhen I run the code with two blank lines at the end, this is the result:\r\n```\r\nLine 1: Name: John\r\nLine 2: Text: Hello\r\nLine 3: \r\nLine 4: Name: Adam\r\nLine 5: Text: Hi\r\nLine 6: \r\n```\r\nIf you have software that validates this file based on data being structured this way, I am not sure what to say. That seems a bad way to validate a file. There are more effective ways to do this, like using checksum. Maybe if you try with two empty lines at the end, the validator will accept it as a correct format.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HCudd.png\r\n  [2]: https://i.stack.imgur.com/Tx3Hc.png","title":"BufferedReader in Java is skipping the last empty line in file","body":"<p>The code is working the way it is supposed to. The last (empty) line is the end of file (EOF). A valid line is terminated by a carriage return and line feed. Line #3 is read because of this.  I included an image of your file showing the text and symbols (used Notepad++ for this)</p>\n<p><a href=\"https://i.stack.imgur.com/HCudd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HCudd.png\" alt=\"enter image description here\" /></a></p>\n<p>If I add another blank line at the end, notice how the previous blank line is now terminated.</p>\n<p><a href=\"https://i.stack.imgur.com/Tx3Hc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tx3Hc.png\" alt=\"enter image description here\" /></a></p>\n<p>I modified your code slightly to run this scenario</p>\n<pre><code>    public static void main (String[] args) throws IOException {\n        File file = new File(&quot;emptyline.txt&quot;);\n        FileReader fr = new FileReader(file);\n        BufferedReader br = new BufferedReader(fr);\n        String line;\n        int linenum = 1;\n        while ( (line = br.readLine()) != null) {\n            System.out.println(&quot;Line &quot; + (linenum++) + &quot;: &quot; + line);\n        }\n        br.close();\n    }\n</code></pre>\n<p>When I run the code with two blank lines at the end, this is the result:</p>\n<pre><code>Line 1: Name: John\nLine 2: Text: Hello\nLine 3: \nLine 4: Name: Adam\nLine 5: Text: Hi\nLine 6: \n</code></pre>\n<p>If you have software that validates this file based on data being structured this way, I am not sure what to say. That seems a bad way to validate a file. There are more effective ways to do this, like using checksum. Maybe if you try with two empty lines at the end, the validator will accept it as a correct format.</p>\n"}],"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70781855,"answer_count":1,"score":1,"last_activity_date":1642662469,"creation_date":1642657496,"question_id":70781328,"body_markdown":"I have a file in following format:\r\n\r\nName: John &lt;br&gt;\r\nText: Hello &lt;br&gt;\r\n--empty line--  Buffered Reader is reading this.&lt;br&gt;\r\nName: Adam &lt;br&gt;\r\nText: Hi &lt;br&gt;\r\n--empty line-- Buffered Reader is skipping this line.&lt;br&gt;\r\n\r\nI tried multiple ways to read the last empty line but its not working. Any suggestions?\r\nI have a program which validates that the message is in correct format or not.\r\nFor the correct format there should be three lines first with name followed by text and empty line.\r\nAs the last empty line is not read by the BufferedReader, my program always says that the message is in wrong format.\r\n\r\nSample Code I am using:\r\n```\r\nFile file = new File(absolutePath);\r\nFileReader fr = new FileReader(file);\r\nBufferedReader br = new BufferedReader(fr);\r\nString line;\r\nwhile ((line = br.readLine()) != null) {\r\n    process(line);\r\n}\r\n```","title":"BufferedReader in Java is skipping the last empty line in file","body":"<p>I have a file in following format:</p>\n<p>Name: John <br>\nText: Hello <br>\n--empty line--  Buffered Reader is reading this.<br>\nName: Adam <br>\nText: Hi <br>\n--empty line-- Buffered Reader is skipping this line.<br></p>\n<p>I tried multiple ways to read the last empty line but its not working. Any suggestions?\nI have a program which validates that the message is in correct format or not.\nFor the correct format there should be three lines first with name followed by text and empty line.\nAs the last empty line is not read by the BufferedReader, my program always says that the message is in wrong format.</p>\n<p>Sample Code I am using:</p>\n<pre><code>File file = new File(absolutePath);\nFileReader fr = new FileReader(file);\nBufferedReader br = new BufferedReader(fr);\nString line;\nwhile ((line = br.readLine()) != null) {\n    process(line);\n}\n</code></pre>\n"},{"tags":["java","xml","dom"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642663153,"post_id":70781976,"comment_id":125131855,"body_markdown":"Note that your Java code would just build the DOM tree which doesn&#39;t have any notion of &quot;line&quot; or &quot;linebreak&quot;. What you&#39;re refering to is the formatting of the DOM tree into text and you didn&#39;t show anything related to that. Also, if you notice a difference between machines then make sure that both are running the exact same version of the application and check what the differences are between the environments (e.g. different Java versions or library versions). That should provide you a starting point to find the reason for the difference in results.","body":"Note that your Java code would just build the DOM tree which doesn&#39;t have any notion of &quot;line&quot; or &quot;linebreak&quot;. What you&#39;re refering to is the formatting of the DOM tree into text and you didn&#39;t show anything related to that. Also, if you notice a difference between machines then make sure that both are running the exact same version of the application and check what the differences are between the environments (e.g. different Java versions or library versions). That should provide you a starting point to find the reason for the difference in results."},{"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"score":0,"creation_date":1642663253,"post_id":70781976,"comment_id":125131902,"body_markdown":"would you possibly let me know how to add new line in java code every time we add new tag to xml","body":"would you possibly let me know how to add new line in java code every time we add new tag to xml"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642663319,"post_id":70781976,"comment_id":125131915,"body_markdown":"As I said, your code doesn&#39;t directly change any XML _text_ and a DOM neither knows nor cares about &quot;new line&quot;. Adding new tags in text only would not be a good idea so what you need to look into is the marshalling process which converts the DOM tree to text. Look for an option to have the marshaller pretty print the XML text which should result in line breaks and nice indentation.","body":"As I said, your code doesn&#39;t directly change any XML <i>text</i> and a DOM neither knows nor cares about &quot;new line&quot;. Adding new tags in text only would not be a good idea so what you need to look into is the marshalling process which converts the DOM tree to text. Look for an option to have the marshaller pretty print the XML text which should result in line breaks and nice indentation."},{"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"score":0,"creation_date":1643101597,"post_id":70781976,"comment_id":125244196,"body_markdown":"I figured a way to resolve this. Post updating the code to have proper indentation, now the updated xml has the desired result.","body":"I figured a way to resolve this. Post updating the code to have proper indentation, now the updated xml has the desired result."}],"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642662202,"creation_date":1642662202,"question_id":70781976,"body_markdown":"I have been trying to update the existing XML file by adding new multiple tags. For ex as shown below in the snippet, it works perfectly in local server wherein the same solution doesn&#39;t yield the required result in another server. here I am trying to add TestTag3 and TestTag4 to existing xml. \r\n\r\nLocal server result: This is the expected one and it is working as expected in local\r\n\r\n    &lt;process id=&quot;test&quot;&gt;\r\n    \t\t&lt;TestTag1&gt;Value1&lt;/TestTag1&gt;\r\n    \t\t&lt;TestTag2&gt;value2&lt;/TestTag2&gt;\r\n    \t\t&lt;TestTag3&gt;YES&lt;/TestTag3&gt;\r\n    \t\t&lt;TestTag4&gt;Value4&lt;/TestTag4&gt;\r\n    &lt;/process&gt;\r\n\r\nAnother server result: it should update in new line for every added new tags\r\n\r\n    &lt;process id=&quot;test&quot;&gt;\r\n    \t\t&lt;TestTag1&gt;Value1&lt;/TestTag1&gt;\r\n    \t\t&lt;TestTag2&gt;value2&lt;/TestTag2&gt;\r\n    \t&lt;TestTag3&gt;YES&lt;/TestTag3&gt;&lt;TestTag4&gt;Value4&lt;/TestTag4&gt;&lt;/process&gt;\r\n\r\n\r\nJava code:\r\n\r\n    private boolean addNewTag(Node node, String tagName, String tagValue, Document document) {\t\r\n    \t    Element ele = document.createElement(tagName);\r\n    \t    if(tagValue!=null){\r\n    \t\t    ele.appendChild(document.createTextNode(tagValue));\r\n    \t\t    node.appendChild(ele);\r\n    \t\t    return true;\r\n    \t    }else{\r\n    \t\t    ele.appendChild(document.createTextNode(&quot;&quot;));\r\n    \t\t    node.appendChild(ele);\r\n    \t\t    return true;\r\n        \t}\r\n        }\r\n\r\n","title":"Adding new tags to existing xml file results in adding tags in single line using DOM in Java","body":"<p>I have been trying to update the existing XML file by adding new multiple tags. For ex as shown below in the snippet, it works perfectly in local server wherein the same solution doesn't yield the required result in another server. here I am trying to add TestTag3 and TestTag4 to existing xml.</p>\n<p>Local server result: This is the expected one and it is working as expected in local</p>\n<pre><code>&lt;process id=&quot;test&quot;&gt;\n        &lt;TestTag1&gt;Value1&lt;/TestTag1&gt;\n        &lt;TestTag2&gt;value2&lt;/TestTag2&gt;\n        &lt;TestTag3&gt;YES&lt;/TestTag3&gt;\n        &lt;TestTag4&gt;Value4&lt;/TestTag4&gt;\n&lt;/process&gt;\n</code></pre>\n<p>Another server result: it should update in new line for every added new tags</p>\n<pre><code>&lt;process id=&quot;test&quot;&gt;\n        &lt;TestTag1&gt;Value1&lt;/TestTag1&gt;\n        &lt;TestTag2&gt;value2&lt;/TestTag2&gt;\n    &lt;TestTag3&gt;YES&lt;/TestTag3&gt;&lt;TestTag4&gt;Value4&lt;/TestTag4&gt;&lt;/process&gt;\n</code></pre>\n<p>Java code:</p>\n<pre><code>private boolean addNewTag(Node node, String tagName, String tagValue, Document document) {  \n        Element ele = document.createElement(tagName);\n        if(tagValue!=null){\n            ele.appendChild(document.createTextNode(tagValue));\n            node.appendChild(ele);\n            return true;\n        }else{\n            ele.appendChild(document.createTextNode(&quot;&quot;));\n            node.appendChild(ele);\n            return true;\n        }\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-firefoxdriver","suppress-warnings","deprecation-warning"],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1642661166,"creation_date":1642660851,"answer_id":70781778,"question_id":70781649,"body_markdown":"Be aware there are two classes named ProfilesIni\r\n\r\n    org.openqa.selenium.firefox.ProfilesIni\r\n    org.openqa.selenium.firefox.internal.ProfilesIni\r\n\r\nYou can suppress the warning on class:\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public class YourClass {\r\n       ...\r\n    }\r\n\r\nor on method:\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public void foo() {\r\n       ...\r\n    }\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public WebDriver startGeckoDriver() {\r\n       WebDriver driver = ...;\r\n       return driver;\r\n    }\r\n\r\nor on `myProfile`:\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    ProfilesIni myProfile = new ProfilesIni();\r\n\r\nIn Eclipse you can add the annotation using the yellow warning icon:\r\n[![on class][1]][1]\r\n\r\n\r\n[![on method][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F1Gfi.png\r\n  [2]: https://i.stack.imgur.com/VwmYT.png","title":"How to fix a Deprecation Warning, Firefox ProfilesIni has been deprecated in java","body":"<p>Be aware there are two classes named ProfilesIni</p>\n<pre><code>org.openqa.selenium.firefox.ProfilesIni\norg.openqa.selenium.firefox.internal.ProfilesIni\n</code></pre>\n<p>You can suppress the warning on class:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\npublic class YourClass {\n   ...\n}\n</code></pre>\n<p>or on method:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\npublic void foo() {\n   ...\n}\n\n@SuppressWarnings(&quot;deprecation&quot;)\npublic WebDriver startGeckoDriver() {\n   WebDriver driver = ...;\n   return driver;\n}\n</code></pre>\n<p>or on <code>myProfile</code>:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\nProfilesIni myProfile = new ProfilesIni();\n</code></pre>\n<p>In Eclipse you can add the annotation using the yellow warning icon:\n<a href=\"https://i.stack.imgur.com/F1Gfi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F1Gfi.png\" alt=\"on class\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VwmYT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VwmYT.png\" alt=\"on method\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10079574,"reputation":1734,"user_id":7450414,"display_name":"AndiCover"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642661709,"creation_date":1642661709,"answer_id":70781891,"question_id":70781649,"body_markdown":"Just use the newer class as mentioned in the [javadoc][1]:\r\n\r\n&gt; Deprecated.\r\n&gt; Use org.openqa.selenium.firefox.ProfilesIni instead.\r\n\r\nInstead of \r\n`org.openqa.selenium.firefox.internal.ProfilesIni`\r\nuse \r\n`org.openqa.selenium.firefox.ProfilesIni`.\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.seleniumhq.selenium/selenium-firefox-driver/3.141.0/org/openqa/selenium/firefox/internal/ProfilesIni.html","title":"How to fix a Deprecation Warning, Firefox ProfilesIni has been deprecated in java","body":"<p>Just use the newer class as mentioned in the <a href=\"https://javadoc.io/doc/org.seleniumhq.selenium/selenium-firefox-driver/3.141.0/org/openqa/selenium/firefox/internal/ProfilesIni.html\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p>Deprecated.\nUse org.openqa.selenium.firefox.ProfilesIni instead.</p>\n</blockquote>\n<p>Instead of\n<code>org.openqa.selenium.firefox.internal.ProfilesIni</code>\nuse\n<code>org.openqa.selenium.firefox.ProfilesIni</code>.</p>\n"}],"owner":{"account_id":11808254,"reputation":37,"user_id":8640260,"display_name":"rich25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70781778,"answer_count":2,"score":2,"last_activity_date":1642661709,"creation_date":1642659902,"question_id":70781649,"body_markdown":"I want to use my custom Firefox profile and I&#39;m getting a **Deprecation Warning** on \r\n```\r\nProfilesIni myProfile = new ProfilesIni();\r\n```\r\n**@SuppressWarnings**. How do I fix this issue.\r\n```\r\nimport org.openqa.selenium.WebDriver;&#160;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.openqa.selenium.firefox.internal.ProfilesIni;\r\nimport org.openqa.selenium.firefox.FirefoxProfile;\r\n\r\n//System.setProperty(&quot;C:\\\\driver\\\\geckodriver.exe&quot;);\r\n\r\nProfilesIni myProfile = new ProfilesIni();\r\n\r\nFirefoxProfile test = myProfile.getProfile(&quot;selenium 1&quot;);\r\n\r\nWebDriver driver = new FirefoxDriver(test);\r\n\r\ndriver.manage().window().maximize();\r\n\r\ndriver.get(&quot;https://www.google.com&quot;);\r\n```","title":"How to fix a Deprecation Warning, Firefox ProfilesIni has been deprecated in java","body":"<p>I want to use my custom Firefox profile and I'm getting a <strong>Deprecation Warning</strong> on</p>\n<pre><code>ProfilesIni myProfile = new ProfilesIni();\n</code></pre>\n<p><strong>@SuppressWarnings</strong>. How do I fix this issue.</p>\n<pre><code>import org.openqa.selenium.WebDriver; \nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.firefox.internal.ProfilesIni;\nimport org.openqa.selenium.firefox.FirefoxProfile;\n\n//System.setProperty(&quot;C:\\\\driver\\\\geckodriver.exe&quot;);\n\nProfilesIni myProfile = new ProfilesIni();\n\nFirefoxProfile test = myProfile.getProfile(&quot;selenium 1&quot;);\n\nWebDriver driver = new FirefoxDriver(test);\n\ndriver.manage().window().maximize();\n\ndriver.get(&quot;https://www.google.com&quot;);\n</code></pre>\n"},{"tags":["java","jenkins","testng","jenkins-plugins"],"comments":[{"owner":{"account_id":332360,"reputation":843,"user_id":657619,"display_name":"patrungel"},"score":0,"creation_date":1369709964,"post_id":16782414,"comment_id":24183632,"body_markdown":"You are right about the plugin. How is your java project built? ant, maven, custom script? Tests normally run as a build phase. Also what are the build steps for jenkins?","body":"You are right about the plugin. How is your java project built? ant, maven, custom script? Tests normally run as a build phase. Also what are the build steps for jenkins?"},{"owner":{"account_id":262141,"reputation":3168,"user_id":546801,"accept_rate":94,"display_name":"Fuzzy Analysis"},"score":0,"creation_date":1369716691,"post_id":16782414,"comment_id":24185106,"body_markdown":"It&#39;s not built with ant, maven or scripts, it&#39;s a TestNG project from JBoss Developer Studio.  So I can run the tests from my own machine, but I want to run the same classes via Jenkins somehow.  I understand there is a way to run TestNG tests as Ant tasks, but I get classpath exceptions and am just confused in general about how to do this.","body":"It&#39;s not built with ant, maven or scripts, it&#39;s a TestNG project from JBoss Developer Studio.  So I can run the tests from my own machine, but I want to run the same classes via Jenkins somehow.  I understand there is a way to run TestNG tests as Ant tasks, but I get classpath exceptions and am just confused in general about how to do this."},{"owner":{"account_id":332360,"reputation":843,"user_id":657619,"display_name":"patrungel"},"score":0,"creation_date":1369749495,"post_id":16782414,"comment_id":24201560,"body_markdown":"Well, it&#39;s ant then and JBDS provides it with classpath setting when it runs tests, so should you, either by defining a classpath in the ant script or (better) passing it as an option. -Dtestng.test.classpath=&quot;c:/build;c:/java/classes;&quot; When you are able to run your tests with ant command, feed the same to jenkins.","body":"Well, it&#39;s ant then and JBDS provides it with classpath setting when it runs tests, so should you, either by defining a classpath in the ant script or (better) passing it as an option. -Dtestng.test.classpath=&quot;c:/build;c:/java/classes;&quot; When you are able to run your tests with ant command, feed the same to jenkins."},{"owner":{"account_id":263814,"reputation":2012,"user_id":549643,"accept_rate":96,"display_name":"Patton"},"score":0,"creation_date":1369888967,"post_id":16782414,"comment_id":24262167,"body_markdown":"@fuzzyanalysis I have never used jenkins but as it is a clone of Hudson I believe that there would be a way where you can run shell/batch/ant scripts. So as the first step in the process pls define the classpath i.e, place all your class files and necessary jars in the classpath and run the testNG tests from there.","body":"@fuzzyanalysis I have never used jenkins but as it is a clone of Hudson I believe that there would be a way where you can run shell/batch/ant scripts. So as the first step in the process pls define the classpath i.e, place all your class files and necessary jars in the classpath and run the testNG tests from there."},{"owner":{"account_id":3702943,"reputation":1484,"user_id":3082183,"accept_rate":18,"display_name":"Pankaj Kumar Katiyar"},"score":0,"creation_date":1443525027,"post_id":16782414,"comment_id":53519079,"body_markdown":"@fuzzyanalysis: I am also in a similar situation, I am able to execute my testNG tests, but not sure how to report test failures back to jenkins, in case you could do it, please let me know, any help is appreciated.","body":"@fuzzyanalysis: I am also in a similar situation, I am able to execute my testNG tests, but not sure how to report test failures back to jenkins, in case you could do it, please let me know, any help is appreciated."}],"answers":[{"tags":[],"owner":{"account_id":263814,"reputation":2012,"user_id":549643,"accept_rate":96,"display_name":"Patton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1540910775,"creation_date":1369892685,"answer_id":16828802,"question_id":16782414,"body_markdown":"As commented above, please use the following ant script to run TestNG unit tests. Please tweak the below code to meet your requirements.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;project basedir=&quot;.&quot; default=&quot;build&quot; name=&quot;Ant Play&quot;&gt;\r\n    \t&lt;property name=&quot;classes.dir&quot; value=&quot;bin&quot; /&gt;\r\n    \t&lt;property name=&quot;report.dir&quot; value=&quot;test-output&quot; /&gt;\r\n        &lt;path id=&quot;classpath&quot;&gt;\r\n            &lt;fileset dir=&quot;lib&quot;&gt;\r\n                &lt;include name=&quot;**/*.jar&quot;/&gt;\r\n             &lt;/fileset&gt;\r\n    \t\t&lt;pathelement path=&quot;${basedir}\\${classes.dir}&quot;/&gt;\r\n        &lt;/path&gt;\r\n        &lt;target name=&quot;init&quot;&gt;\r\n            &lt;mkdir dir=&quot;${classes.dir}&quot;/&gt;\r\n            &lt;copy includeemptydirs=&quot;false&quot; todir=&quot;${classes.dir}&quot;&gt;\r\n                &lt;fileset dir=&quot;src&quot;&gt;\r\n                    &lt;exclude name=&quot;**/*.java&quot;/&gt;\r\n                &lt;/fileset&gt;\r\n            &lt;/copy&gt;\r\n        &lt;/target&gt;\r\n        &lt;target name=&quot;clean&quot;&gt;\r\n            &lt;delete dir=&quot;${classes.dir}&quot;/&gt;\r\n        &lt;/target&gt;\r\n        &lt;target depends=&quot;clean&quot; name=&quot;cleanall&quot;/&gt;\r\n        &lt;target depends=&quot;build-project&quot; name=&quot;build&quot;/&gt;\r\n        &lt;target depends=&quot;init&quot; name=&quot;build-project&quot;&gt;\r\n            &lt;echo message=&quot;${ant.project.name}: ${ant.file}&quot;/&gt;\r\n            &lt;javac debug=&quot;true&quot; includeantruntime=&quot;false&quot; destdir=&quot;${classes.dir}&quot;&gt;\r\n                &lt;src path=&quot;src&quot;/&gt;\r\n                &lt;classpath refid=&quot;classpath&quot;/&gt;\r\n            &lt;/javac&gt;\r\n        &lt;/target&gt;\r\n    \t&lt;target  depends=&quot;build&quot; name=&quot;runTests&quot; description=&quot;Running tests&quot; &gt;\r\n    \t\t&lt;echo&gt;Running Tests...&lt;/echo&gt;\r\n    \t\t&lt;taskdef resource=&quot;testngtasks&quot; classpathref=&quot;classpath&quot;/&gt;\r\n    \t\t&lt;testng outputDir=&quot;${report.dir}&quot;\r\n    \t\t\thaltonfailure=&quot;true&quot;\r\n    \t\t\tuseDefaultListeners=&quot;false&quot;\r\n    \t\t\tlisteners=&quot;org.uncommons.reportng.HTMLReporter&quot;\r\n    \t\t\tclasspathref=&quot;classpath&quot;&gt;\r\n    \t\t\t&lt;xmlfileset dir=&quot;${basedir}&quot; includes=&quot;testng.xml&quot;/&gt;\r\n    \t\t\t&lt;!--&lt;classfileset dir=&quot;${classes.dir}&quot; includes=&quot;**/*.class&quot; /&gt;--&gt;\r\n    \t\t&lt;/testng&gt;\r\n    \t&lt;/target&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nLet me know if you encounter any issues. BTW, please use the Jenkins ant plugin/task to run this script","title":"How to Run TestNG Tests on Jenkins","body":"<p>As commented above, please use the following ant script to run TestNG unit tests. Please tweak the below code to meet your requirements.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;project basedir=\".\" default=\"build\" name=\"Ant Play\"&gt;\n    &lt;property name=\"classes.dir\" value=\"bin\" /&gt;\n    &lt;property name=\"report.dir\" value=\"test-output\" /&gt;\n    &lt;path id=\"classpath\"&gt;\n        &lt;fileset dir=\"lib\"&gt;\n            &lt;include name=\"**/*.jar\"/&gt;\n         &lt;/fileset&gt;\n        &lt;pathelement path=\"${basedir}\\${classes.dir}\"/&gt;\n    &lt;/path&gt;\n    &lt;target name=\"init\"&gt;\n        &lt;mkdir dir=\"${classes.dir}\"/&gt;\n        &lt;copy includeemptydirs=\"false\" todir=\"${classes.dir}\"&gt;\n            &lt;fileset dir=\"src\"&gt;\n                &lt;exclude name=\"**/*.java\"/&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n    &lt;/target&gt;\n    &lt;target name=\"clean\"&gt;\n        &lt;delete dir=\"${classes.dir}\"/&gt;\n    &lt;/target&gt;\n    &lt;target depends=\"clean\" name=\"cleanall\"/&gt;\n    &lt;target depends=\"build-project\" name=\"build\"/&gt;\n    &lt;target depends=\"init\" name=\"build-project\"&gt;\n        &lt;echo message=\"${ant.project.name}: ${ant.file}\"/&gt;\n        &lt;javac debug=\"true\" includeantruntime=\"false\" destdir=\"${classes.dir}\"&gt;\n            &lt;src path=\"src\"/&gt;\n            &lt;classpath refid=\"classpath\"/&gt;\n        &lt;/javac&gt;\n    &lt;/target&gt;\n    &lt;target  depends=\"build\" name=\"runTests\" description=\"Running tests\" &gt;\n        &lt;echo&gt;Running Tests...&lt;/echo&gt;\n        &lt;taskdef resource=\"testngtasks\" classpathref=\"classpath\"/&gt;\n        &lt;testng outputDir=\"${report.dir}\"\n            haltonfailure=\"true\"\n            useDefaultListeners=\"false\"\n            listeners=\"org.uncommons.reportng.HTMLReporter\"\n            classpathref=\"classpath\"&gt;\n            &lt;xmlfileset dir=\"${basedir}\" includes=\"testng.xml\"/&gt;\n            &lt;!--&lt;classfileset dir=\"${classes.dir}\" includes=\"**/*.class\" /&gt;--&gt;\n        &lt;/testng&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Let me know if you encounter any issues. BTW, please use the Jenkins ant plugin/task to run this script</p>\n"},{"tags":[],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1438237731,"creation_date":1438237731,"answer_id":31716581,"question_id":16782414,"body_markdown":"There are two steps to accomplished this task:-\r\n\r\nStep 1:-\r\n\r\n1. Go to localhost:8080/configure (Jenkins configure section)\r\n\r\n2. Now go to JDK section and uncheck Install automatically (If you don&#39;t uncheck that then it will download latest java every time whenever it is available, and can cause  for build failed)\r\n\r\n3. put JAVA_HOME in name section and jdk home path in JAVA_HOME section\r\n\r\n[![enter image description here][1]][1]\r\n\r\n4. Apply and save\r\n\r\nStep 2:-\r\n\r\n1. Go to Jenkins and add new Item, also select &quot;Free Style Project&quot; and click on Ok.\r\n\r\n2. Click on &quot;Advanced in &quot;Advanced Project Options&quot;\r\n\r\n3. Now check option: - &quot;Use custom workspace&quot; and specify your project absolute path in Directory section \r\n\r\n[![enter image description here][2]][2]\r\n\r\n4. Apply\r\n\r\n5. Now to go &quot;Build&quot; and select &quot;Execute windows batch command&quot;\r\n6. Here in command column give the file name of your batch file \r\n[![enter image description here][3]][3]\r\n7. Apply and save\r\n\r\n**Now go to the Jenkins and select your Jenkins project and click on Build :)**\r\n\r\n  [1]: http://i.stack.imgur.com/KLk4D.jpg\r\n  [2]: http://i.stack.imgur.com/3u0nz.jpg\r\n  [3]: http://i.stack.imgur.com/c0eSH.jpg","title":"How to Run TestNG Tests on Jenkins","body":"<p>There are two steps to accomplished this task:-</p>\n\n<p>Step 1:-</p>\n\n<ol>\n<li><p>Go to localhost:8080/configure (Jenkins configure section)</p></li>\n<li><p>Now go to JDK section and uncheck Install automatically (If you don't uncheck that then it will download latest java every time whenever it is available, and can cause  for build failed)</p></li>\n<li><p>put JAVA_HOME in name section and jdk home path in JAVA_HOME section</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/KLk4D.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KLk4D.jpg\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li>Apply and save</li>\n</ol>\n\n<p>Step 2:-</p>\n\n<ol>\n<li><p>Go to Jenkins and add new Item, also select \"Free Style Project\" and click on Ok.</p></li>\n<li><p>Click on \"Advanced in \"Advanced Project Options\"</p></li>\n<li><p>Now check option: - \"Use custom workspace\" and specify your project absolute path in Directory section </p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/3u0nz.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3u0nz.jpg\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li><p>Apply</p></li>\n<li><p>Now to go \"Build\" and select \"Execute windows batch command\"</p></li>\n<li>Here in command column give the file name of your batch file \n<a href=\"https://i.stack.imgur.com/c0eSH.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/c0eSH.jpg\" alt=\"enter image description here\"></a></li>\n<li>Apply and save</li>\n</ol>\n\n<p><strong>Now go to the Jenkins and select your Jenkins project and click on Build :)</strong></p>\n"},{"tags":[],"owner":{"account_id":1841592,"reputation":141,"user_id":1670883,"accept_rate":0,"display_name":"dassimon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464865253,"creation_date":1464865253,"answer_id":37589979,"question_id":16782414,"body_markdown":"I use gradle to run my testNG tests from Jenkins.\r\nTake a look at [the gradle docs][1].\r\n\r\n\r\nI run the testNG tests using configuration xml files. \r\nTake a look at [the testNG docs][2]. \r\n\r\nThere is quite a lot to cover so I suggest reading these sources but I&#39;ll provide some relevant pieces from one of my configurations.\r\n\r\nThe relevant parts from my build.gradle\r\n\r\n    tasks.withType(Test) {\r\n\r\n\t    useTestNG {\r\n\t\t    useDefaultListeners = true\r\n\t    }\r\n\r\n\t    options {\r\n\t\t    outputDirectory = file(&#39;test-report&#39;)\r\n\t\t    listeners &lt;&lt; &#39;org.uncommons.reportng.JUnitXMLReporter&#39;\r\n\t    }\r\n\r\n\t    testLogging.showStandardStreams = true\r\n\r\n\t    systemProperties System.getProperties()\r\n\t    systemProperty &quot;org.uncommons.reportng.escape-output&quot;, &quot;false&quot;\r\n\t    systemProperty &quot;org.uncommons.reportng.title&quot;, &quot;Test Report&quot;\r\n\r\n\t    ignoreFailures = true\r\n    }\r\n\r\n\r\n    task Smoke_Test(type: Test) {\r\n\t    description &quot;SmokeTest&quot;\r\n\t    options.suites(&quot;resources/testng-smoketest.xml&quot;)\t  \r\n\t    ignoreFailures = false\r\n    }\r\n\r\nMy testNG xml as referenced above &#39;testng-smoketest.xml&#39;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n    &lt;suite name=&quot;Smoke Tests&quot; &gt;\r\n\t    &lt;test name=&quot;BootCheck&quot; parallel=&quot;false&quot; thread-count=&quot;1&quot;&gt;\r\n\t\t    &lt;classes&gt;\r\n\t\t\t    &lt;class name=&quot;com.x.automation.y.tests.smoke.BootCheck&quot; /&gt;\r\n\t\t    &lt;/classes&gt;\r\n\t    &lt;/test&gt;\r\n    &lt;/suite&gt;  \t\r\n\r\nAnd from Jenkins, as an &#39;execute shell&#39; build step run the gradle task, I use gradle wrapper for convenience.\r\n\r\n    ./gradlew clean Smoke_Test\r\n\r\nEnsure you&#39;re in the correct directory, &#39;Smoke_Test&#39; is the name specified in the build.gradle.\r\n\r\nYou can use the testNG Jenkins plugin for saving your results.\r\n\r\nI also recommend using [reportng][3] for nice formatting of your test reports which can also be shown and saved in Jenkins using the HTML Publisher plugin.\r\n\r\nTry getting this to run from a CLI on your local machine first, trying to debug when running from Jenkins will drive you crazy.\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html\r\n  [2]: http://testng.org/doc/documentation-main.html#testng-xml\r\n  [3]: http://reportng.uncommons.org/","title":"How to Run TestNG Tests on Jenkins","body":"<p>I use gradle to run my testNG tests from Jenkins.\nTake a look at <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.Test.html\" rel=\"nofollow\">the gradle docs</a>.</p>\n\n<p>I run the testNG tests using configuration xml files. \nTake a look at <a href=\"http://testng.org/doc/documentation-main.html#testng-xml\" rel=\"nofollow\">the testNG docs</a>. </p>\n\n<p>There is quite a lot to cover so I suggest reading these sources but I'll provide some relevant pieces from one of my configurations.</p>\n\n<p>The relevant parts from my build.gradle</p>\n\n<pre><code>tasks.withType(Test) {\n\n    useTestNG {\n        useDefaultListeners = true\n    }\n\n    options {\n        outputDirectory = file('test-report')\n        listeners &lt;&lt; 'org.uncommons.reportng.JUnitXMLReporter'\n    }\n\n    testLogging.showStandardStreams = true\n\n    systemProperties System.getProperties()\n    systemProperty \"org.uncommons.reportng.escape-output\", \"false\"\n    systemProperty \"org.uncommons.reportng.title\", \"Test Report\"\n\n    ignoreFailures = true\n}\n\n\ntask Smoke_Test(type: Test) {\n    description \"SmokeTest\"\n    options.suites(\"resources/testng-smoketest.xml\")      \n    ignoreFailures = false\n}\n</code></pre>\n\n<p>My testNG xml as referenced above 'testng-smoketest.xml'</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\" &gt;\n&lt;suite name=\"Smoke Tests\" &gt;\n    &lt;test name=\"BootCheck\" parallel=\"false\" thread-count=\"1\"&gt;\n        &lt;classes&gt;\n            &lt;class name=\"com.x.automation.y.tests.smoke.BootCheck\" /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;    \n</code></pre>\n\n<p>And from Jenkins, as an 'execute shell' build step run the gradle task, I use gradle wrapper for convenience.</p>\n\n<pre><code>./gradlew clean Smoke_Test\n</code></pre>\n\n<p>Ensure you're in the correct directory, 'Smoke_Test' is the name specified in the build.gradle.</p>\n\n<p>You can use the testNG Jenkins plugin for saving your results.</p>\n\n<p>I also recommend using <a href=\"http://reportng.uncommons.org/\" rel=\"nofollow\">reportng</a> for nice formatting of your test reports which can also be shown and saved in Jenkins using the HTML Publisher plugin.</p>\n\n<p>Try getting this to run from a CLI on your local machine first, trying to debug when running from Jenkins will drive you crazy.</p>\n"}],"owner":{"account_id":262141,"reputation":3168,"user_id":546801,"accept_rate":94,"display_name":"Fuzzy Analysis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53357,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":16828802,"answer_count":3,"score":10,"last_activity_date":1642661102,"creation_date":1369703097,"question_id":16782414,"body_markdown":"I&#39;m trying to run TestNG tests (in a contained Java project) from Jenkins but having no luck.  \r\n\r\nIt appears as though the TestNG plugin for Jenkins (https://wiki.jenkins-ci.org/display/JENKINS/testng-plugin) only publishes the results of TestNG tests, but doesn&#39;t actually run test classes... or am I wrong?  \r\n\r\nIn any case, how do I actually run TestNG tests in a TestNG project with Jenkins, or is that even possible?  Do I have to use a command line statement or batch file (on Windows Server 2008), for example?\r\n\r\nAny help much appreciated.\r\n\r\n\r\n**Note** I tried entering a post-build command line in Jenkins for the project to run TestNG tests but had a hard time with class paths not being found for TestNG.  I posted an earlier question about running TestNG from the command line which I couldn&#39;t get working, so I&#39;ve given up on that route:  \r\n\r\nhttps://stackoverflow.com/questions/11896791/how-to-run-testng-from-dos-prompt","title":"How to Run TestNG Tests on Jenkins","body":"<p>I'm trying to run TestNG tests (in a contained Java project) from Jenkins but having no luck.</p>\n<p>It appears as though the TestNG plugin for Jenkins (<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/testng-plugin\" rel=\"nofollow noreferrer\">https://wiki.jenkins-ci.org/display/JENKINS/testng-plugin</a>) only publishes the results of TestNG tests, but doesn't actually run test classes... or am I wrong?</p>\n<p>In any case, how do I actually run TestNG tests in a TestNG project with Jenkins, or is that even possible?  Do I have to use a command line statement or batch file (on Windows Server 2008), for example?</p>\n<p>Any help much appreciated.</p>\n<p><strong>Note</strong> I tried entering a post-build command line in Jenkins for the project to run TestNG tests but had a hard time with class paths not being found for TestNG.  I posted an earlier question about running TestNG from the command line which I couldn't get working, so I've given up on that route:</p>\n<p><a href=\"https://stackoverflow.com/questions/11896791/how-to-run-testng-from-dos-prompt\">How to run TestNG from command line</a></p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1645788596,"post_id":70781723,"comment_id":125969232,"body_markdown":"Does this answer your question? [Please Explain Java 8 Method Reference to instance Method using class name](https://stackoverflow.com/questions/32283833/please-explain-java-8-method-reference-to-instance-method-using-class-name)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32283833/please-explain-java-8-method-reference-to-instance-method-using-class-name\">Please Explain Java 8 Method Reference to instance Method using class name</a>"}],"answers":[{"tags":[],"owner":{"account_id":15402785,"reputation":1251,"user_id":11111704,"display_name":"Giriraj"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642660432,"creation_date":1642660432,"answer_id":70781724,"question_id":70781723,"body_markdown":"Solution would be\r\n\r\n    l.forEach(this::print);","title":"How to use method referencing for a private method in same class","body":"<p>Solution would be</p>\n<pre><code>l.forEach(this::print);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642660738,"creation_date":1642660738,"answer_id":70781760,"question_id":70781723,"body_markdown":"You can call by\r\n```\r\n l.forEach(this::print);\r\n```\r\n\r\nFurthermore, explicit type argument String can be replaced with &lt;&gt;.\r\n\r\n---\r\n\r\n    List&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\nby\r\n\r\n    List&lt;String&gt; l = new ArrayList&lt;&gt;();","title":"How to use method referencing for a private method in same class","body":"<p>You can call by</p>\n<pre><code> l.forEach(this::print);\n</code></pre>\n<p>Furthermore, explicit type argument String can be replaced with &lt;&gt;.</p>\n<hr />\n<pre><code>List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n</code></pre>\n<p>by</p>\n<pre><code>List&lt;String&gt; l = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":15402785,"reputation":1251,"user_id":11111704,"display_name":"Giriraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1642660738,"creation_date":1642660432,"question_id":70781723,"body_markdown":"        public class Demo {\r\n      public static void main(String[] args) {\r\n        new Demo().pqr();\r\n      }\r\n       void pqr() {\r\n        List&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\n        l.add(&quot;abc&quot;);\r\n        l.add(&quot;jkl&quot;);\r\n        l.forEach(p -&gt; print(p));\r\n      }\r\n      private void print(String l) {\r\n        System.out.println(l);\r\n      }\r\n    }\r\n\r\n\r\n\r\nIn above code how to replace lambda expression with method referencing","title":"How to use method referencing for a private method in same class","body":"<pre><code>    public class Demo {\n  public static void main(String[] args) {\n    new Demo().pqr();\n  }\n   void pqr() {\n    List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n    l.add(&quot;abc&quot;);\n    l.add(&quot;jkl&quot;);\n    l.forEach(p -&gt; print(p));\n  }\n  private void print(String l) {\n    System.out.println(l);\n  }\n}\n</code></pre>\n<p>In above code how to replace lambda expression with method referencing</p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":13842577,"reputation":106,"user_id":9992463,"display_name":"Glare Storm"},"score":0,"creation_date":1642653003,"post_id":70780705,"comment_id":125129719,"body_markdown":"Stream&lt;String&gt; longNames = stream .filter(str -&gt; str.length() &gt; 12);","body":"Stream&lt;String&gt; longNames = stream .filter(str -&gt; str.length() &gt; 12);"},{"owner":{"account_id":12845808,"reputation":83,"user_id":9292242,"accept_rate":40,"display_name":"Cedrix Cedrix"},"score":0,"creation_date":1642653325,"post_id":70780705,"comment_id":125129776,"body_markdown":"@GlareStorm how about the regex check if it has letters in it the else if block","body":"@GlareStorm how about the regex check if it has letters in it the else if block"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1642653537,"post_id":70780705,"comment_id":125129810,"body_markdown":"Are you trying to do anything with these items other than log messages? Streams are supposed to produce an output value. If you just want to consume them, that&#39;s what `forEach()` is for.","body":"Are you trying to do anything with these items other than log messages? Streams are supposed to produce an output value. If you just want to consume them, that&#39;s what <code>forEach()</code> is for."},{"owner":{"account_id":12845808,"reputation":83,"user_id":9292242,"accept_rate":40,"display_name":"Cedrix Cedrix"},"score":0,"creation_date":1642654394,"post_id":70780705,"comment_id":125129973,"body_markdown":"@shmosel my colleague told me not to use forEach()","body":"@shmosel my colleague told me not to use forEach()"},{"owner":{"account_id":13842577,"reputation":106,"user_id":9992463,"display_name":"Glare Storm"},"score":0,"creation_date":1642659519,"post_id":70780705,"comment_id":125130929,"body_markdown":"@Cedrix Cedrix ; they might have told you not to use it because a stream() is actually takes more memory and more time than a normal for loop; because under the hood thats that is being used if your use a forEach()","body":"@Cedrix Cedrix ; they might have told you not to use it because a stream() is actually takes more memory and more time than a normal for loop; because under the hood thats that is being used if your use a forEach()"},{"owner":{"account_id":13842577,"reputation":106,"user_id":9992463,"display_name":"Glare Storm"},"score":0,"creation_date":1642660011,"post_id":70780705,"comment_id":125131045,"body_markdown":"... your message is being set to Invalid Item format, because the trigger condition is identical to the one before.... so it gets set last....","body":"... your message is being set to Invalid Item format, because the trigger condition is identical to the one before.... so it gets set last...."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642668907,"post_id":70780705,"comment_id":125133871,"body_markdown":"`filter` is not a terminal operation, so the stream of the second code example does not do anything. It always returns a new stream; nobody ever said that you can use a `null` check on the result. Generally, if your problem is not solved, don’t accept an answer that doesn’t solve the problem. Most readers will assume that the question’s problem has been solved when an answer has been accepted.","body":"<code>filter</code> is not a terminal operation, so the stream of the second code example does not do anything. It always returns a new stream; nobody ever said that you can use a <code>null</code> check on the result. Generally, if your problem is not solved, don’t accept an answer that doesn’t solve the problem. Most readers will assume that the question’s problem has been solved when an answer has been accepted."}],"answers":[{"tags":[],"owner":{"account_id":13842577,"reputation":106,"user_id":9992463,"display_name":"Glare Storm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642660381,"creation_date":1642652957,"answer_id":70780810,"question_id":70780705,"body_markdown":"Use the filter method:\r\n\r\n    Stream&lt;String&gt; stream = Files.lines(path);\r\n    Stream&lt;String&gt; filteredStream= stream .filter(str -&gt; str.length() &gt; 12);      \r\n\r\n    Stream&lt;String&gt; matching = filteredStream.filter(str -&gt; Pattern.matches(regex, str));\r\n            \t\t\t\r\n\r\nor:\r\n        \r\n\r\n    Stream&lt;String&gt; matching = filteredStream.filter(str -&gt; {\r\n          if(str.length() &gt; 12 &amp;&amp; Pattern.matches(regex, str))\r\n              return true;\r\n          return false;\r\n         });\r\n\r\n\r\nTo set error messages you prolly will have to throw an error that will return what ever message you want:\r\n\r\n    try{\r\n    Stream&lt;String&gt; matching = filteredStream.filter(str -&gt; {\r\n          if(str.length() &gt; 11 )\r\n               throw new Exception(&quot;Item must not exceed 12 numbers&quot;);\r\n          if(Pattern.matches(regex, str))\r\n              return true;\r\n          throw new Exception(&quot;Invalid Item format&quot;);         \r\n         });\r\n    }\r\n    catch(Exception e){\r\n       log.error(e);\r\n       message = e;\r\n    }\r\n\r\n","title":"simplify java stream to return an error message","body":"<p>Use the filter method:</p>\n<pre><code>Stream&lt;String&gt; stream = Files.lines(path);\nStream&lt;String&gt; filteredStream= stream .filter(str -&gt; str.length() &gt; 12);      \n\nStream&lt;String&gt; matching = filteredStream.filter(str -&gt; Pattern.matches(regex, str));\n                    \n</code></pre>\n<p>or:</p>\n<pre><code>Stream&lt;String&gt; matching = filteredStream.filter(str -&gt; {\n      if(str.length() &gt; 12 &amp;&amp; Pattern.matches(regex, str))\n          return true;\n      return false;\n     });\n</code></pre>\n<p>To set error messages you prolly will have to throw an error that will return what ever message you want:</p>\n<pre><code>try{\nStream&lt;String&gt; matching = filteredStream.filter(str -&gt; {\n      if(str.length() &gt; 11 )\n           throw new Exception(&quot;Item must not exceed 12 numbers&quot;);\n      if(Pattern.matches(regex, str))\n          return true;\n      throw new Exception(&quot;Invalid Item format&quot;);         \n     });\n}\ncatch(Exception e){\n   log.error(e);\n   message = e;\n}\n</code></pre>\n"}],"owner":{"account_id":12845808,"reputation":83,"user_id":9292242,"accept_rate":40,"display_name":"Cedrix Cedrix"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70780810,"answer_count":1,"score":1,"last_activity_date":1642660381,"creation_date":1642651873,"question_id":70780705,"body_markdown":"Hi I am new to stream in java I am trying to find which item inside a file has more than 12 of length also if that item has letters mixed in it and wanted to know if this can be simplified using stream in java without using the forEach method in java stream:\r\n\r\n    Stream&lt;String&gt; stream = Files.lines(path)\r\n\r\n    stream.forEach(item -&gt; {\r\n          Pattern pattern = Pattern.compile(REGEX);\r\n          Matcher matcher = pattern.matcher(item);\r\n          if (item.length() &gt; 12) {\r\n                 log.error(&quot;Item must not exceed 12 numbers {}&quot;, item);\r\n                 streamMessage.set(&quot;Item must not exceed 12 numbers&quot;);\r\n          }\r\n          else if (matcher.matches()) {\r\n                 log.error(&quot;Invalid Item format {}&quot;, item);\r\n                 streamMessage.set(&quot;Invalid Item format&quot;);\r\n          }\r\n    });\r\n\r\nI also need it to return the log.error messages and the stream message thank you\r\n\r\nEDIT:\r\n\r\nI have tried Glare storm&#39;s answer but the message being returned by this:\r\n\r\n    Stream&lt;String&gt; lengthStream =\r\n                        stream.filter(item -&gt; item.length() &gt; 12);\r\n\r\n    Pattern pattern = Pattern.compile(REGEX);\r\n\r\n    Stream&lt;String&gt; letterStream =\r\n                        lengthStream.filter(pattern.asPredicate());\r\n    if(lengthStream != null){\r\n           log.error(&quot;Item must not exceed 12 numbers&quot;);\r\n           message = &quot;Item must not exceed 12 numbers&quot;;\r\n    }\r\n    if(letterStream != null){\r\n           log.error(&quot;Invalid Item format&quot;);\r\n           message = &quot;Invalid Item format&quot;;\r\n    }\r\n\r\nit always return Invalid Item format even tho there are no letters inside the file and only has exceeded 12 in length","title":"simplify java stream to return an error message","body":"<p>Hi I am new to stream in java I am trying to find which item inside a file has more than 12 of length also if that item has letters mixed in it and wanted to know if this can be simplified using stream in java without using the forEach method in java stream:</p>\n<pre><code>Stream&lt;String&gt; stream = Files.lines(path)\n\nstream.forEach(item -&gt; {\n      Pattern pattern = Pattern.compile(REGEX);\n      Matcher matcher = pattern.matcher(item);\n      if (item.length() &gt; 12) {\n             log.error(&quot;Item must not exceed 12 numbers {}&quot;, item);\n             streamMessage.set(&quot;Item must not exceed 12 numbers&quot;);\n      }\n      else if (matcher.matches()) {\n             log.error(&quot;Invalid Item format {}&quot;, item);\n             streamMessage.set(&quot;Invalid Item format&quot;);\n      }\n});\n</code></pre>\n<p>I also need it to return the log.error messages and the stream message thank you</p>\n<p>EDIT:</p>\n<p>I have tried Glare storm's answer but the message being returned by this:</p>\n<pre><code>Stream&lt;String&gt; lengthStream =\n                    stream.filter(item -&gt; item.length() &gt; 12);\n\nPattern pattern = Pattern.compile(REGEX);\n\nStream&lt;String&gt; letterStream =\n                    lengthStream.filter(pattern.asPredicate());\nif(lengthStream != null){\n       log.error(&quot;Item must not exceed 12 numbers&quot;);\n       message = &quot;Item must not exceed 12 numbers&quot;;\n}\nif(letterStream != null){\n       log.error(&quot;Invalid Item format&quot;);\n       message = &quot;Invalid Item format&quot;;\n}\n</code></pre>\n<p>it always return Invalid Item format even tho there are no letters inside the file and only has exceeded 12 in length</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-restcontroller"],"comments":[{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":0,"creation_date":1642577924,"post_id":70766547,"comment_id":125104554,"body_markdown":"Are you using `@RestController`?","body":"Are you using <code>@RestController</code>?"},{"owner":{"account_id":994891,"reputation":305,"user_id":1011105,"accept_rate":0,"display_name":"dheeraj"},"score":0,"creation_date":1642580731,"post_id":70766547,"comment_id":125105440,"body_markdown":"Yes im using @RestController","body":"Yes im using @RestController"},{"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"score":0,"creation_date":1642583601,"post_id":70766547,"comment_id":125106486,"body_markdown":"what&#39;s your definition of `ResponseEntity`. It seems that `ResponseEntity` should have a constructor with string-argument.","body":"what&#39;s your definition of <code>ResponseEntity</code>. It seems that <code>ResponseEntity</code> should have a constructor with string-argument."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1642595382,"post_id":70766547,"comment_id":125111383,"body_markdown":"can you please show me your entity","body":"can you please show me your entity"},{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":0,"creation_date":1642600408,"post_id":70766547,"comment_id":125113508,"body_markdown":"When you use `@RestController`, all response objects are automatically wrapped within`ResponseEntity`","body":"When you use <code>@RestController</code>, all response objects are automatically wrapped within<code>ResponseEntity</code>"},{"owner":{"account_id":994891,"reputation":305,"user_id":1011105,"accept_rate":0,"display_name":"dheeraj"},"score":0,"creation_date":1642654842,"post_id":70766547,"comment_id":125130031,"body_markdown":"@Prashant - yes very strange this does happen in this spring boot application.. can be issue with dependency or some spring level config","body":"@Prashant - yes very strange this does happen in this spring boot application.. can be issue with dependency or some spring level config"}],"answers":[{"tags":[],"owner":{"account_id":22701229,"reputation":11,"user_id":16868620,"display_name":"mp30028"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642583296,"creation_date":1642578138,"answer_id":70766884,"question_id":70766547,"body_markdown":"Try the following:\r\n\r\n```java\r\n@PostMapping(value = &quot;/checkraw&quot;)\r\npublic String getPostResp() {\r\n    return &quot;test&quot;;\r\n}\r\n```\r\n\r\nSpring Boot should take care of marshaling back the return value into a response.\r\n\r\nInstead of @PostMapping have you tried with @GetMapping. That will most likely work.","title":"Spring-Boot Jackson Parsing Error While returning Basic Response","body":"<p>Try the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/checkraw&quot;)\npublic String getPostResp() {\n    return &quot;test&quot;;\n}\n</code></pre>\n<p>Spring Boot should take care of marshaling back the return value into a response.</p>\n<p>Instead of @PostMapping have you tried with @GetMapping. That will most likely work.</p>\n"},{"tags":[],"owner":{"account_id":994891,"reputation":305,"user_id":1011105,"accept_rate":0,"display_name":"dheeraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642659901,"creation_date":1642659901,"answer_id":70781648,"question_id":70766547,"body_markdown":"Found the issue. This code was added not sure why it was implemented but was causing the issue. Thankyou for all your support.\r\n\r\n    public class ControllerAdvice implements ResponseBodyAdvice&lt;Object&gt; {\r\n    \r\n    @Override\r\n    public boolean supports(\r\n    @NonNull MethodParameter returnType,\r\n     @NonNull Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n    return true;\r\n    }\r\n    \r\n    @Override\r\n    public Object beforeBodyWrite(\r\n    Object body,\r\n     @NonNull MethodParameter parameter,\r\n     @NonNull MediaType mediaType,\r\n     @NonNull Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType,\r\n     @NonNull ServerHttpRequest request,\r\n     @NonNull ServerHttpResponse response) {\r\n    if (body == null\r\n     || Primitives.allWrapperTypes().contains(body.getClass())\r\n    || Primitives.allPrimitiveTypes().contains(body.getClass())\r\n    || (body instanceof String &amp;&amp; ((String) body).contains(&quot;openapi&quot;))) {\r\n    return body;\r\n     }\r\n    \r\n    ObjectMapper mapper = new ObjectMapper();\r\n     Map&lt;String, Object&gt; map =\r\n    mapper.convertValue(body, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n    });\r\n    \r\n     if (map.containsKey(ERROR_CODE)\r\n    &amp;&amp; map.get(ERROR_CODE) != null\r\n     &amp;&amp; map.get(ERROR_CODE).toString().startsWith(&quot;AUTH-401&quot;)) {\r\n    List&lt;String&gt; apiKeyList = request.getHeaders().get(HttpHeaders.AUTHORIZATION);\r\n     if (!CollectionUtils.isEmpty(apiKeyList)) {\r\n    response.getHeaders().add(HttpHeaders.WWW_AUTHENTICATE, apiKeyList.get(0));\r\n     }\r\n    }\r\n    return body;\r\n    }","title":"Spring-Boot Jackson Parsing Error While returning Basic Response","body":"<p>Found the issue. This code was added not sure why it was implemented but was causing the issue. Thankyou for all your support.</p>\n<pre><code>public class ControllerAdvice implements ResponseBodyAdvice&lt;Object&gt; {\n\n@Override\npublic boolean supports(\n@NonNull MethodParameter returnType,\n @NonNull Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\nreturn true;\n}\n\n@Override\npublic Object beforeBodyWrite(\nObject body,\n @NonNull MethodParameter parameter,\n @NonNull MediaType mediaType,\n @NonNull Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType,\n @NonNull ServerHttpRequest request,\n @NonNull ServerHttpResponse response) {\nif (body == null\n || Primitives.allWrapperTypes().contains(body.getClass())\n|| Primitives.allPrimitiveTypes().contains(body.getClass())\n|| (body instanceof String &amp;&amp; ((String) body).contains(&quot;openapi&quot;))) {\nreturn body;\n }\n\nObjectMapper mapper = new ObjectMapper();\n Map&lt;String, Object&gt; map =\nmapper.convertValue(body, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n});\n\n if (map.containsKey(ERROR_CODE)\n&amp;&amp; map.get(ERROR_CODE) != null\n &amp;&amp; map.get(ERROR_CODE).toString().startsWith(&quot;AUTH-401&quot;)) {\nList&lt;String&gt; apiKeyList = request.getHeaders().get(HttpHeaders.AUTHORIZATION);\n if (!CollectionUtils.isEmpty(apiKeyList)) {\nresponse.getHeaders().add(HttpHeaders.WWW_AUTHENTICATE, apiKeyList.get(0));\n }\n}\nreturn body;\n}\n</code></pre>\n"}],"owner":{"account_id":994891,"reputation":305,"user_id":1011105,"accept_rate":0,"display_name":"dheeraj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642659901,"creation_date":1642576158,"question_id":70766547,"body_markdown":"Im trying to return only Basic ResponseEntity&lt;String&gt; in my Application Noticing Jackson Parsing Error. When i do the same in sample Spring boot application , it works fine , not able to figure out what can be causing this issue.This is existing Application.\r\n\r\n\r\n    @RequiredArgsConstructor\r\n    @RestController\r\n    @Slf4j\r\n    @Tag(name = &quot;Public Key&quot;)\r\n    public class PublicKeyController {\r\n\r\n    @PostMapping(value =&quot;/checkraw&quot;)\r\n    public ResponseEntity&lt;String&gt;  getPostResp() {\r\n        return ResponseEntity.ok(&quot;test&quot;);\r\n    }\r\n    }\r\n\r\nError : \r\n\r\n    level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;message&quot;:&quot;Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;test&#39;)\\n at [Source: UNKNOWN; line: -1, column: -1]&quot;,&quot;stack_trace&quot;:&quot;com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;test&#39;)\\n at [Source: UNKNOWN; line: -1, column: -1]\\r\\n\\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)\\r\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1455)\\r\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1081)\\r\\n\\tat com.fasterxml.jackson.databind.deser.ValueInstantiator._createFromStringFallbacks(ValueInstantiator.java:371)\\r\\n\\tat com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromString(ValueInstantiator.java:258)\\r\\n\\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:357)\\r\\n\\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4229)\\r\\n\\t... 77 common frames omitted\\r\\nWrapped by: java.lang.IllegalArgumentException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;test&#39;)\\n at [Source: UNKNOWN; line: -1, column: -1]\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4234)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4175)\\r\\n\\tat com.ocbc.ms.signature.advice.DigitalSigningControllerAdvice.beforeBodyWrite(DigitalSigningControllerAdvice.java:258)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyAdviceChain.processBody(RequestResponseBodyAdviceChain.java:141)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyAdviceChain.beforeBodyWrite(RequestResponseBodyAdviceChain.java:116)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:278)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\\r\\n\\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:123)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.AddHeaderToContextFilter.doFilter(AddHeaderToContextFilter.java:32)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.ResponseHeaderSetterFilter.doFilter(ResponseHeaderSetterFilter.java:22)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MandatoryHeaderValidationFilter.doFilter(MandatoryHeaderValidationFilter.java:71)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.InjectionSafeValidationFilter.doFilter(InjectionSafeValidationFilter.java:60)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MDCRequestFilter.doFilter(MDCRequestFilter.java:40)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MultiReadRequestFilter.doFilter(MultiReadRequestFilter.java:22)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.ExceptionHandlerFilter.doFilterInternal(ExceptionHandlerFilter.java:27)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.lang.Thread.run(Thread.java:834)\\r\\n&quot;}\r\n\r\n\r\nIf i use return custome object , it works fine as below\r\n\r\n\r\n    @PostMapping(value = &quot;/checkraw&quot;)\r\n     public DummyObject getPostResp() {\r\n         DummyObject response = new DummyObject();\r\n         return response ;\r\n     }\r\n\r\nbelow are the dependency\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- spring framework --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- cmbp core framework --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.cmbp.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ms-lib-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${ms-lib-core.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.cmbp.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ms-lib-connector-resttemplate&lt;/artifactId&gt;\r\n            &lt;version&gt;${ms-lib-connector-resttemplate.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.cmbp.ms&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ms-lib-openapi&lt;/artifactId&gt;\r\n            &lt;version&gt;${ms-lib-openapi.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- misc --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n            &lt;version&gt;${nimbus-jose-jwt.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n            &lt;version&gt;${logstash-logback-encoder.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- For OCPS Check --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;${bcpkix-jdk15on.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;${bcpkix-jdk15on.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- For OCPS Check --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lang.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-collections.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-net.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-cli.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-pool2.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- For OCPS Check --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- added after removing ms-pom-security --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;${okhttp.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- test dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-platform-launcher.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${easy-random-core.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.objenesis&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;objenesis&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"Spring-Boot Jackson Parsing Error While returning Basic Response","body":"<p>Im trying to return only Basic ResponseEntity in my Application Noticing Jackson Parsing Error. When i do the same in sample Spring boot application , it works fine , not able to figure out what can be causing this issue.This is existing Application.</p>\n<pre><code>@RequiredArgsConstructor\n@RestController\n@Slf4j\n@Tag(name = &quot;Public Key&quot;)\npublic class PublicKeyController {\n\n@PostMapping(value =&quot;/checkraw&quot;)\npublic ResponseEntity&lt;String&gt;  getPostResp() {\n    return ResponseEntity.ok(&quot;test&quot;);\n}\n}\n</code></pre>\n<p>Error :</p>\n<pre><code>level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;message&quot;:&quot;Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('test')\\n at [Source: UNKNOWN; line: -1, column: -1]&quot;,&quot;stack_trace&quot;:&quot;com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('test')\\n at [Source: UNKNOWN; line: -1, column: -1]\\r\\n\\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)\\r\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1455)\\r\\n\\tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1081)\\r\\n\\tat com.fasterxml.jackson.databind.deser.ValueInstantiator._createFromStringFallbacks(ValueInstantiator.java:371)\\r\\n\\tat com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromString(ValueInstantiator.java:258)\\r\\n\\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:357)\\r\\n\\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4229)\\r\\n\\t... 77 common frames omitted\\r\\nWrapped by: java.lang.IllegalArgumentException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('test')\\n at [Source: UNKNOWN; line: -1, column: -1]\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4234)\\r\\n\\tat com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4175)\\r\\n\\tat com.ocbc.ms.signature.advice.DigitalSigningControllerAdvice.beforeBodyWrite(DigitalSigningControllerAdvice.java:258)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyAdviceChain.processBody(RequestResponseBodyAdviceChain.java:141)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyAdviceChain.beforeBodyWrite(RequestResponseBodyAdviceChain.java:116)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:278)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\\r\\n\\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:123)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.AddHeaderToContextFilter.doFilter(AddHeaderToContextFilter.java:32)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.ResponseHeaderSetterFilter.doFilter(ResponseHeaderSetterFilter.java:22)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MandatoryHeaderValidationFilter.doFilter(MandatoryHeaderValidationFilter.java:71)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.InjectionSafeValidationFilter.doFilter(InjectionSafeValidationFilter.java:60)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MDCRequestFilter.doFilter(MDCRequestFilter.java:40)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.MultiReadRequestFilter.doFilter(MultiReadRequestFilter.java:22)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat com.ocbc.ms.core.filter.ExceptionHandlerFilter.doFilterInternal(ExceptionHandlerFilter.java:27)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\r\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.lang.Thread.run(Thread.java:834)\\r\\n&quot;}\n</code></pre>\n<p>If i use return custome object , it works fine as below</p>\n<pre><code>@PostMapping(value = &quot;/checkraw&quot;)\n public DummyObject getPostResp() {\n     DummyObject response = new DummyObject();\n     return response ;\n }\n</code></pre>\n<p>below are the dependency</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;!-- spring framework --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- cmbp core framework --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.cmbp.core&lt;/groupId&gt;\n        &lt;artifactId&gt;ms-lib-core&lt;/artifactId&gt;\n        &lt;version&gt;${ms-lib-core.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-models&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.cmbp.core&lt;/groupId&gt;\n        &lt;artifactId&gt;ms-lib-connector-resttemplate&lt;/artifactId&gt;\n        &lt;version&gt;${ms-lib-connector-resttemplate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.cmbp.ms&lt;/groupId&gt;\n        &lt;artifactId&gt;ms-lib-openapi&lt;/artifactId&gt;\n        &lt;version&gt;${ms-lib-openapi.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- misc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n        &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n        &lt;version&gt;${nimbus-jose-jwt.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n        &lt;version&gt;${logstash-logback-encoder.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- For OCPS Check --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;${bcpkix-jdk15on.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;${bcpkix-jdk15on.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- For OCPS Check --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;${commons-lang.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;${commons-collections.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-net&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n        &lt;version&gt;${commons-net.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n        &lt;version&gt;${commons-cli.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;\n        &lt;version&gt;${commons-pool2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- For OCPS Check --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- added after removing ms-pom-security --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n        &lt;version&gt;${okhttp.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- test dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n        &lt;version&gt;${junit-platform-launcher.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\n        &lt;artifactId&gt;easy-random-core&lt;/artifactId&gt;\n        &lt;version&gt;${easy-random-core.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.objenesis&lt;/groupId&gt;\n                &lt;artifactId&gt;objenesis&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","windows","gradle"],"answers":[{"tags":[],"owner":{"account_id":1948424,"reputation":12649,"user_id":1753073,"display_name":"navylover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642657751,"creation_date":1642657416,"answer_id":70781316,"question_id":70781276,"body_markdown":"The distributionUrl should be like this:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\n\r\nNote: **You will need to escape the colon**.","title":"issue with gradle andriod","body":"<p>The distributionUrl should be like this:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\n</code></pre>\n<p>Note: <strong>You will need to escape the colon</strong>.</p>\n"},{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642659553,"creation_date":1642659553,"answer_id":70781605,"question_id":70781276,"body_markdown":"Try replacing the whole content of **gradle-wrapper.properties** with this:\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\r\n    distributionPath=wrapper/dists\r\n    zipStorePath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n\r\nAnd after this, do a fresh gradle sync.\r\nAlso, check if your AGP is on latest version or not.","title":"issue with gradle andriod","body":"<p>Try replacing the whole content of <strong>gradle-wrapper.properties</strong> with this:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>And after this, do a fresh gradle sync.\nAlso, check if your AGP is on latest version or not.</p>\n"}],"owner":{"account_id":23811313,"reputation":1,"user_id":17820078,"display_name":"Dinesh Talware"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1643039495,"answer_count":2,"score":-6,"last_activity_date":1642659553,"creation_date":1642657117,"question_id":70781276,"body_markdown":"   \r\n\r\nLaunching lib\\main.dart on SM A127F in debug mode... Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not load wrapper properties from &#39;C:\\Users\\DELL\\Downloads\\Online Sports Fitness Code 31 Dec\\Online Spo rts Fitness\\android\\gradle\\wrapper\\gradle-wrapper.properties&#39;. at org.gradle.wrapper.WrapperExecutor.&lt;init&gt;(WrapperExecutor.java:64) at org.gradle.wrapper.WrapperExecutor.forWrapperPropertiesFile(WrapperExecutor.java:47) at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:60) Caused by: java.net.URISyntaxException: Illegal character in path at index 60: https://services.gradle.org/distributions/gradle-7.2-all.zip at java.base/java.net.URI$Parser.fail(URI.java:2913) at java.base/java.net.URI$Parser.checkChars(URI.java:3084) at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3166) at java.base/java.net.URI$Parser.parse(URI.java:3114) at java.base/java.net.URI.&lt;init&gt;(URI.java:600) at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java:81) at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExec at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java :81) at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExec utor.java:70) at org.gradle.wrapper.WrapperExecutor.&lt;init&gt;(WrapperExecutor.java:57) ... 2 more Running Gradle task &#39;assembleDebug&#39;... 1,478ms Exception: Gradle task assembleDebug failed with exit code 1 getting this error\r\n------------------------------------------------------------------------","title":"issue with gradle andriod","body":"<h2>Launching lib\\main.dart on SM A127F in debug mode... Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not load wrapper properties from 'C:\\Users\\DELL\\Downloads\\Online Sports Fitness Code 31 Dec\\Online Spo rts Fitness\\android\\gradle\\wrapper\\gradle-wrapper.properties'. at org.gradle.wrapper.WrapperExecutor.(WrapperExecutor.java:64) at org.gradle.wrapper.WrapperExecutor.forWrapperPropertiesFile(WrapperExecutor.java:47) at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:60) Caused by: java.net.URISyntaxException: Illegal character in path at index 60: <a href=\"https://services.gradle.org/distributions/gradle-7.2-all.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-7.2-all.zip</a> at java.base/java.net.URI$Parser.fail(URI.java:2913) at java.base/java.net.URI$Parser.checkChars(URI.java:3084) at java.base/java.net.URI$Parser.parseHierarchical(URI.java:3166) at java.base/java.net.URI$Parser.parse(URI.java:3114) at java.base/java.net.URI.(URI.java:600) at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java:81) at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExec at org.gradle.wrapper.WrapperExecutor.readDistroUrl(WrapperExecutor.java :81) at org.gradle.wrapper.WrapperExecutor.prepareDistributionUri(WrapperExec utor.java:70) at org.gradle.wrapper.WrapperExecutor.(WrapperExecutor.java:57) ... 2 more Running Gradle task 'assembleDebug'... 1,478ms Exception: Gradle task assembleDebug failed with exit code 1 getting this error</h2>\n"},{"tags":["java","insertion-sort","alphabetical"],"answers":[{"tags":[],"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642640474,"creation_date":1642640474,"answer_id":70779645,"question_id":70779559,"body_markdown":"you can sort the hole array at once using static method `Arrays.sort(arr)`\r\n\r\n    import java.util.Arrays;\r\n    ...\r\n    \r\n    String[] arrayOfStrs = {&quot;d&quot;,&quot;a&quot;,&quot;ca&quot;};\r\n\r\n    Arrays.sort(arrayOfStrs);\r\n    \r\n    // arrayOfStrs is now [&quot;a&quot;,&quot;ca&quot;,&quot;d&quot;]","title":"How could I get this Insertion Sort code in alphabetical order?","body":"<p>you can sort the hole array at once using static method <code>Arrays.sort(arr)</code></p>\n<pre><code>import java.util.Arrays;\n...\n\nString[] arrayOfStrs = {&quot;d&quot;,&quot;a&quot;,&quot;ca&quot;};\n\nArrays.sort(arrayOfStrs);\n\n// arrayOfStrs is now [&quot;a&quot;,&quot;ca&quot;,&quot;d&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642640724,"creation_date":1642640724,"answer_id":70779664,"question_id":70779559,"body_markdown":"To sort it from less to more amount of letrers create first a `Comparator` class that uses the `String` length:\r\n\r\n```java\r\npublic class StringLengthComparator implements Comparator&lt;String&gt; {\r\n  public int compare(String o1, String o2) {\r\n    return Integer.compare(o1.length(), o2.length());\r\n  }\r\n}\r\n```\r\n\r\nAnd then use it in the `Arrays.sort(...)` method:\r\n\r\n```java\r\nArrays.sort(a, new StringLengthComparator());\r\n```\r\n\r\nTo sort them alphabetically you just need this:\r\n\r\n```java\r\nArrays.sort(a);\r\n```","title":"How could I get this Insertion Sort code in alphabetical order?","body":"<p>To sort it from less to more amount of letrers create first a <code>Comparator</code> class that uses the <code>String</code> length:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringLengthComparator implements Comparator&lt;String&gt; {\n  public int compare(String o1, String o2) {\n    return Integer.compare(o1.length(), o2.length());\n  }\n}\n</code></pre>\n<p>And then use it in the <code>Arrays.sort(...)</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(a, new StringLengthComparator());\n</code></pre>\n<p>To sort them alphabetically you just need this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642643557,"creation_date":1642641156,"answer_id":70779707,"question_id":70779559,"body_markdown":"You have to change the condition inside the **insert()** method.\r\n\r\nComparison of String objects could be done using method **compareTo**.\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#compareTo(java.lang.String)\r\n\r\n&gt; Compares two strings lexicographically. The comparison is based on the\r\n&gt; Unicode value of each character in the strings.\r\n&gt; \r\n&gt; **Returns:** the value 0 if the argument string is equal to this string; a value less than 0 if this string is lexicographically less\r\n&gt; than the string argument; and a value greater than 0 if this string is\r\n&gt; lexicographically greater than the string argument.\r\n\r\nIn other words, you may visualize what the method **compareTo()** does is like a &#39;weighting&#39; of those strings using scales. \r\n\r\nIf &#39;weights&#39; are equal the  **compareTo()** returns 0, if the first string is &#39;lighter&#39; than the second (a string that is passed as an argument) a &#39;scales&#39; (**compareTo()**) will give you a negative value.\r\n\r\nThat&#39;s why the condition in the code below is written as \r\n\r\n**unsortedElement.compareTo(a[i]) &lt; 0**\r\n\r\n\r\n        public static void insert(String[] a, int marker) {\r\n            String unsortedElement = a[marker];\r\n    \r\n            // shift other elements to the right to create the correct position\r\n            int correctPosition = marker;\r\n            for (int i = marker - 1; i &gt;= 0; i--) {\r\n                if (unsortedElement.compareTo(a[i]) &lt; 0) {\r\n                    a[i + 1] = a[i];\r\n                    correctPosition--;\r\n                }\r\n                else {\r\n                    break; // stop looping\r\n                }\r\n            }\r\n            // Insert the unsorted element to the correct position\r\n            a[correctPosition] = unsortedElement;\r\n        }\r\n\r\n**OUTPUT:**\r\n\r\n    Before Sort:[Allison, Neha, Charley, Jason, Tyson, Miles, Riley]\r\n    After Sort: [Allison, Charley, Jason, Miles, Neha, Riley, Tyson]","title":"How could I get this Insertion Sort code in alphabetical order?","body":"<p>You have to change the condition inside the <strong>insert()</strong> method.</p>\n<p>Comparison of String objects could be done using method <strong>compareTo</strong>.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#compareTo(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#compareTo(java.lang.String)</a></p>\n<blockquote>\n<p>Compares two strings lexicographically. The comparison is based on the\nUnicode value of each character in the strings.</p>\n<p><strong>Returns:</strong> the value 0 if the argument string is equal to this string; a value less than 0 if this string is lexicographically less\nthan the string argument; and a value greater than 0 if this string is\nlexicographically greater than the string argument.</p>\n</blockquote>\n<p>In other words, you may visualize what the method <strong>compareTo()</strong> does is like a 'weighting' of those strings using scales.</p>\n<p>If 'weights' are equal the  <strong>compareTo()</strong> returns 0, if the first string is 'lighter' than the second (a string that is passed as an argument) a 'scales' (<strong>compareTo()</strong>) will give you a negative value.</p>\n<p>That's why the condition in the code below is written as</p>\n<p><strong>unsortedElement.compareTo(a[i]) &lt; 0</strong></p>\n<pre><code>    public static void insert(String[] a, int marker) {\n        String unsortedElement = a[marker];\n\n        // shift other elements to the right to create the correct position\n        int correctPosition = marker;\n        for (int i = marker - 1; i &gt;= 0; i--) {\n            if (unsortedElement.compareTo(a[i]) &lt; 0) {\n                a[i + 1] = a[i];\n                correctPosition--;\n            }\n            else {\n                break; // stop looping\n            }\n        }\n        // Insert the unsorted element to the correct position\n        a[correctPosition] = unsortedElement;\n    }\n</code></pre>\n<p><strong>OUTPUT:</strong></p>\n<pre><code>Before Sort:[Allison, Neha, Charley, Jason, Tyson, Miles, Riley]\nAfter Sort: [Allison, Charley, Jason, Miles, Neha, Riley, Tyson]\n</code></pre>\n"}],"owner":{"account_id":23993605,"reputation":13,"user_id":17979389,"display_name":"Jacob Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70779707,"answer_count":3,"score":1,"last_activity_date":1642659328,"creation_date":1642639699,"question_id":70779559,"body_markdown":"I am new to coding and I put my code in order going from least amount of letters to greatest amount. Please help me understand how to put the code into alphabetical order.\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String[] a = new String[] {&quot;bread&quot;, &quot;milk&quot;, &quot;cheese&quot;, &quot;spinach&quot;, &quot;apple&quot;, &quot;peanuts&quot;};\r\n        System.out.println(&quot;Before Sort:&quot; + Arrays.toString(a));\r\n        insertionSort(a);\r\n        System.out.println(&quot;After Sort: &quot; + Arrays.toString(a));\r\n\r\n        System.out.println();\r\n\r\n        a = new String[] { &quot;Allison&quot;, &quot;Neha&quot;, &quot;Charley&quot;, &quot;Jason&quot;, &quot;Tyson&quot;, &quot;Miles&quot;, &quot;Riley&quot; };\r\n        System.out.println(&quot;Before Sort:&quot; + Arrays.toString(a));\r\n        insertionSort(a);\r\n        System.out.println(&quot;After Sort: &quot; + Arrays.toString(a));\r\n\r\n\r\n    }\r\n\r\n    public static void insertionSort(String[] a) {\r\n        // Move the marker from index 1 to the last index\r\n        for (int i = 1; i &lt; a.length; i++) {\r\n            // Insert the element at the marker to the right position\r\n            insert(a, i);\r\n\r\n        }\r\n    }\r\n    public static void insert(String[] a, int marker) {\r\n        String unsortedElement = a[marker];\r\n\r\n        // shift other elements to the right to create the correct position\r\n        int correctPosition = marker;\r\n        for (int i = marker - 1; i &gt;= 0; i--) {\r\n            if (a[i].length() &gt; unsortedElement.length()) {\r\n                a[i + 1] = a[i];\r\n                correctPosition--;\r\n            }\r\n            else {\r\n                break; // stop looping\r\n            }\r\n        }\r\n        // Insert the unsorted element to the correct position\r\n        a[correctPosition] = unsortedElement;\r\n    }\r\n}\r\n```\r\n","title":"How could I get this Insertion Sort code in alphabetical order?","body":"<p>I am new to coding and I put my code in order going from least amount of letters to greatest amount. Please help me understand how to put the code into alphabetical order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        String[] a = new String[] {&quot;bread&quot;, &quot;milk&quot;, &quot;cheese&quot;, &quot;spinach&quot;, &quot;apple&quot;, &quot;peanuts&quot;};\n        System.out.println(&quot;Before Sort:&quot; + Arrays.toString(a));\n        insertionSort(a);\n        System.out.println(&quot;After Sort: &quot; + Arrays.toString(a));\n\n        System.out.println();\n\n        a = new String[] { &quot;Allison&quot;, &quot;Neha&quot;, &quot;Charley&quot;, &quot;Jason&quot;, &quot;Tyson&quot;, &quot;Miles&quot;, &quot;Riley&quot; };\n        System.out.println(&quot;Before Sort:&quot; + Arrays.toString(a));\n        insertionSort(a);\n        System.out.println(&quot;After Sort: &quot; + Arrays.toString(a));\n\n\n    }\n\n    public static void insertionSort(String[] a) {\n        // Move the marker from index 1 to the last index\n        for (int i = 1; i &lt; a.length; i++) {\n            // Insert the element at the marker to the right position\n            insert(a, i);\n\n        }\n    }\n    public static void insert(String[] a, int marker) {\n        String unsortedElement = a[marker];\n\n        // shift other elements to the right to create the correct position\n        int correctPosition = marker;\n        for (int i = marker - 1; i &gt;= 0; i--) {\n            if (a[i].length() &gt; unsortedElement.length()) {\n                a[i + 1] = a[i];\n                correctPosition--;\n            }\n            else {\n                break; // stop looping\n            }\n        }\n        // Insert the unsorted element to the correct position\n        a[correctPosition] = unsortedElement;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","tensorflow-lite","yolov5"],"comments":[{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":1,"creation_date":1642515581,"post_id":70750798,"comment_id":125087272,"body_markdown":"So what is the error in the logcat? Why do you think the android app that you used for the yolo.tflite will work out of the box?","body":"So what is the error in the logcat? Why do you think the android app that you used for the yolo.tflite will work out of the box?"},{"owner":{"account_id":23584175,"reputation":11,"user_id":17622824,"display_name":"NYProject"},"score":0,"creation_date":1642558569,"post_id":70750798,"comment_id":125100943,"body_markdown":"@Farmaker I have edited the post which includes the logcat error. I forgot to mention that I used the same model trained on my laptop using a pre-trained `SSD MobileNet V2 FPNLite 320x320` on CPU following instructions from this [youtube tutorial series](https://www.youtube.com/watch?v=ZPFcSN6SP7s&amp;t=962s) which the previous student did. I replicated the steps and was able to train the same tflite file but it crashes after conversion. When I test the `.tflite` file on `detect.py` it works, but just doesn&#39;t work on Android Studio.\n\nEdit: I apologize in advance as I have no knowledge in Java","body":"@Farmaker I have edited the post which includes the logcat error. I forgot to mention that I used the same model trained on my laptop using a pre-trained <code>SSD MobileNet V2 FPNLite 320x320</code> on CPU following instructions from this <a href=\"https://www.youtube.com/watch?v=ZPFcSN6SP7s&amp;t=962s\" rel=\"nofollow noreferrer\">youtube tutorial series</a> which the previous student did. I replicated the steps and was able to train the same tflite file but it crashes after conversion. When I test the <code>.tflite</code> file on <code>detect.py</code> it works, but just doesn&#39;t work on Android Studio.  Edit: I apologize in advance as I have no knowledge in Java"},{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":0,"creation_date":1642567570,"post_id":70750798,"comment_id":125102327,"body_markdown":"It is a classic error when using an tensorflow example project for a custom model. The error point out that you are trying to feed the model with an array of 1, 6300,6 BUT the model expects 1,10,4. I do not know how you are going to debug that if you have no knowledge of Java.","body":"It is a classic error when using an tensorflow example project for a custom model. The error point out that you are trying to feed the model with an array of 1, 6300,6 BUT the model expects 1,10,4. I do not know how you are going to debug that if you have no knowledge of Java."},{"owner":{"account_id":23584175,"reputation":11,"user_id":17622824,"display_name":"NYProject"},"score":0,"creation_date":1642573314,"post_id":70750798,"comment_id":125103379,"body_markdown":"@Farmaker So it is going to be difficult since I do not have any knowledge in Java and tedious since it involves debugging on Netron? I managed to find people who experience the same problem but they mention modifying the layers on Netron and something about detector inputs. May I know how to obtain these inputs like [this](https://stackoverflow.com/questions/65072546/cannot-copy-from-a-tensorflowlite-tensor-identity-with-shape-1-4-to-a-java)?","body":"@Farmaker So it is going to be difficult since I do not have any knowledge in Java and tedious since it involves debugging on Netron? I managed to find people who experience the same problem but they mention modifying the layers on Netron and something about detector inputs. May I know how to obtain these inputs like <a href=\"https://stackoverflow.com/questions/65072546/cannot-copy-from-a-tensorflowlite-tensor-identity-with-shape-1-4-to-a-java\">this</a>?"},{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":0,"creation_date":1642575296,"post_id":70750798,"comment_id":125103816,"body_markdown":"what does netron.app shows for your tflite file? Is it correct? Can you share a link to that .tflite model to see?","body":"what does netron.app shows for your tflite file? Is it correct? Can you share a link to that .tflite model to see?"},{"owner":{"account_id":23584175,"reputation":11,"user_id":17622824,"display_name":"NYProject"},"score":0,"creation_date":1642580292,"post_id":70750798,"comment_id":125105280,"body_markdown":"@Farmaker [Here](https://drive.google.com/file/d/1J2tuHP6W-U81cXcD-GTZRQJgJUvjDIlC/view?usp=sharing) is the tflite file. Apparently running on Netron, the first layer starts off with [1,320,320,3] and after `Concentration` there is only one output of the [YOLOV5.tflite](https://drive.google.com/file/d/1qeEo-v6w7BiomfCG7ygcNeYRuagki8JA/view?usp=sharing). However, the [model](https://shorturl.at/moBC7) the previous student used with lower confidence level has 4 outputs and hers is working. Edit: I suppose I need to get the final output to 4 arrays as seen [here](https://shorturl.at/mDEOT)?","body":"@Farmaker <a href=\"https://drive.google.com/file/d/1J2tuHP6W-U81cXcD-GTZRQJgJUvjDIlC/view?usp=sharing\" rel=\"nofollow noreferrer\">Here</a> is the tflite file. Apparently running on Netron, the first layer starts off with [1,320,320,3] and after <code>Concentration</code> there is only one output of the <a href=\"https://drive.google.com/file/d/1qeEo-v6w7BiomfCG7ygcNeYRuagki8JA/view?usp=sharing\" rel=\"nofollow noreferrer\">YOLOV5.tflite</a>. However, the <a href=\"https://shorturl.at/moBC7\" rel=\"nofollow noreferrer\">model</a> the previous student used with lower confidence level has 4 outputs and hers is working. Edit: I suppose I need to get the final output to 4 arrays as seen <a href=\"https://shorturl.at/mDEOT\" rel=\"nofollow noreferrer\">here</a>?"},{"owner":{"account_id":9584937,"reputation":2710,"user_id":7118084,"display_name":"Farmaker"},"score":0,"creation_date":1642583369,"post_id":70750798,"comment_id":125106398,"body_markdown":"Yes. I saw that file and it has one output of 1, 6300, 6...but the code expects 1.10.4 ...you need to find out what is going on with your model or with the conversion to tflite","body":"Yes. I saw that file and it has one output of 1, 6300, 6...but the code expects 1.10.4 ...you need to find out what is going on with your model or with the conversion to tflite"}],"answers":[{"tags":[],"owner":{"account_id":15178015,"reputation":540,"user_id":10952155,"display_name":"Karim Nosseir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642659034,"creation_date":1642659034,"answer_id":70781541,"question_id":70750798,"body_markdown":"Your model output has shape [1, 6300, 6] not [1, 10, 4]. You will need to know what is the output of your model means and adjust the code correctly.","title":"TensorFlow Lite model not working in Android (Java) but works on Python","body":"<p>Your model output has shape [1, 6300, 6] not [1, 10, 4]. You will need to know what is the output of your model means and adjust the code correctly.</p>\n"}],"owner":{"account_id":23584175,"reputation":11,"user_id":17622824,"display_name":"NYProject"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642660288,"answer_count":1,"score":0,"last_activity_date":1642659034,"creation_date":1642484578,"question_id":70750798,"body_markdown":"**Background**\r\n\r\nI successfully converted my YOLOV5 model from YOLOV5.pt to YOLOV5-fp16.tflite and was able to run it on python(refer to the [test video on Google Drive](https://drive.google.com/file/d/1xYB9O0IshZVlLJKSo3upcorJ1OGqK03v/view?usp=sharing)).\r\nI used the conversion method ```python export.py --include tflite```.\r\n\r\n[Google Colab where the ```weights.pt``` was trained on](https://colab.research.google.com/drive/1vgtIz90Wo54cLp1jlNVtiK4vDSTLH0jO?usp=sharing)\r\n\r\nI then used [this]() and tried to port it to Android Studio(Artic Fox), loading the model to ```assets```, adjusted the ```modelPath``` under ```PreviewImageActivity.java```. After this, the application is then exported into an APK.\r\n\r\n\r\n**Problem**\r\n\r\nWhen the application is executed it cannot get past the part after the video is processed into images for object detection and crashes. \r\n\r\nI tried searching online for solutions and it did not help as my situation seems to be different. Any help would be good since I am doing this for my school project thanks!\r\n\r\nHere is the [zip](https://drive.google.com/drive/folders/1KPQdXye1lFngedhvTC6zgxWpahfLyNE8?usp=sharing) to the application with the test video to process. The Username and Password is ```admin``` and ```password``` respectively.\r\n\r\n**Edit 1**\r\n\r\nHere is the log cat error when I run the program on my device(Samsung Tab A) via USB debugging.\r\n\r\n```2022-01-19 10:06:53.084 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d]\r\n2022-01-19 10:06:53.117 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3]\r\n2022-01-19 10:06:53.148 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579]\r\n2022-01-19 10:06:53.180 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579, android.graphics.Bitmap@33baf1f]\r\n2022-01-19 10:06:53.210 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579, android.graphics.Bitmap@33baf1f, android.graphics.Bitmap@e4d9035]\r\n2022-01-19 10:06:53.423 6044-6044/bline.detector.com.ffmpegvideoeditor D/AndroidRuntime: Shutting down VM\r\n2022-01-19 10:06:53.427 6044-6044/bline.detector.com.ffmpegvideoeditor E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: bline.detector.com.ffmpegvideoeditor, PID: 6044\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{bline.detector.com.ffmpegvideoeditor/bline.detector.com.ffmpegvideoeditor.activity.PreviewImageActivity}: java.lang.IllegalArgumentException: Cannot copy from a TensorFlowLite tensor (StatefulPartitionedCall:0) with shape [1, 6300, 6] to a Java object with shape [1, 10, 4].\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3623)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2261)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:237)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8107)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\r\n     Caused by: java.lang.IllegalArgumentException: Cannot copy from a TensorFlowLite tensor (StatefulPartitionedCall:0) with shape [1, 6300, 6] to a Java object with shape [1, 10, 4].\r\n        at org.tensorflow.lite.Tensor.throwIfDstShapeIsIncompatible(Tensor.java:482)\r\n        at org.tensorflow.lite.Tensor.copyTo(Tensor.java:252)\r\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:175)\r\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:360)\r\n        at bline.detector.com.ffmpegvideoeditor.activity.objectDetectorClass.recognizeVideo(objectDetectorClass.java:118)\r\n        at bline.detector.com.ffmpegvideoeditor.activity.PreviewImageActivity.onCreate(PreviewImageActivity.java:118)\r\n        at android.app.Activity.performCreate(Activity.java:7957)\r\n        at android.app.Activity.performCreate(Activity.java:7946)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3598)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2261)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:237)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:8107)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)&#160;```\r\n\r\n","title":"TensorFlow Lite model not working in Android (Java) but works on Python","body":"<p><strong>Background</strong></p>\n<p>I successfully converted my YOLOV5 model from YOLOV5.pt to YOLOV5-fp16.tflite and was able to run it on python(refer to the <a href=\"https://drive.google.com/file/d/1xYB9O0IshZVlLJKSo3upcorJ1OGqK03v/view?usp=sharing\" rel=\"nofollow noreferrer\">test video on Google Drive</a>).\nI used the conversion method <code>python export.py --include tflite</code>.</p>\n<p><a href=\"https://colab.research.google.com/drive/1vgtIz90Wo54cLp1jlNVtiK4vDSTLH0jO?usp=sharing\" rel=\"nofollow noreferrer\">Google Colab where the <code>weights.pt</code> was trained on</a></p>\n<p>I then used this and tried to port it to Android Studio(Artic Fox), loading the model to <code>assets</code>, adjusted the <code>modelPath</code> under <code>PreviewImageActivity.java</code>. After this, the application is then exported into an APK.</p>\n<p><strong>Problem</strong></p>\n<p>When the application is executed it cannot get past the part after the video is processed into images for object detection and crashes.</p>\n<p>I tried searching online for solutions and it did not help as my situation seems to be different. Any help would be good since I am doing this for my school project thanks!</p>\n<p>Here is the <a href=\"https://drive.google.com/drive/folders/1KPQdXye1lFngedhvTC6zgxWpahfLyNE8?usp=sharing\" rel=\"nofollow noreferrer\">zip</a> to the application with the test video to process. The Username and Password is <code>admin</code> and <code>password</code> respectively.</p>\n<p><strong>Edit 1</strong></p>\n<p>Here is the log cat error when I run the program on my device(Samsung Tab A) via USB debugging.</p>\n<pre><code>2022-01-19 10:06:53.117 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3]\n2022-01-19 10:06:53.148 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579]\n2022-01-19 10:06:53.180 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579, android.graphics.Bitmap@33baf1f]\n2022-01-19 10:06:53.210 6044-6044/bline.detector.com.ffmpegvideoeditor D/PreviewImageAdapter: bitmap: [android.graphics.Bitmap@65ea227, android.graphics.Bitmap@8e60e7d, android.graphics.Bitmap@40939c3, android.graphics.Bitmap@bca1579, android.graphics.Bitmap@33baf1f, android.graphics.Bitmap@e4d9035]\n2022-01-19 10:06:53.423 6044-6044/bline.detector.com.ffmpegvideoeditor D/AndroidRuntime: Shutting down VM\n2022-01-19 10:06:53.427 6044-6044/bline.detector.com.ffmpegvideoeditor E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: bline.detector.com.ffmpegvideoeditor, PID: 6044\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{bline.detector.com.ffmpegvideoeditor/bline.detector.com.ffmpegvideoeditor.activity.PreviewImageActivity}: java.lang.IllegalArgumentException: Cannot copy from a TensorFlowLite tensor (StatefulPartitionedCall:0) with shape [1, 6300, 6] to a Java object with shape [1, 10, 4].\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3623)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2261)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:237)\n        at android.app.ActivityThread.main(ActivityThread.java:8107)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\n     Caused by: java.lang.IllegalArgumentException: Cannot copy from a TensorFlowLite tensor (StatefulPartitionedCall:0) with shape [1, 6300, 6] to a Java object with shape [1, 10, 4].\n        at org.tensorflow.lite.Tensor.throwIfDstShapeIsIncompatible(Tensor.java:482)\n        at org.tensorflow.lite.Tensor.copyTo(Tensor.java:252)\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:175)\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:360)\n        at bline.detector.com.ffmpegvideoeditor.activity.objectDetectorClass.recognizeVideo(objectDetectorClass.java:118)\n        at bline.detector.com.ffmpegvideoeditor.activity.PreviewImageActivity.onCreate(PreviewImageActivity.java:118)\n        at android.app.Activity.performCreate(Activity.java:7957)\n        at android.app.Activity.performCreate(Activity.java:7946)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3598)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2261) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:237) \n        at android.app.ActivityThread.main(ActivityThread.java:8107) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:496) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100) ```\n\n</code></pre>\n"},{"tags":["java","swing","jcombobox"],"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":1,"creation_date":1315828344,"post_id":7387299,"comment_id":8920401,"body_markdown":"question, JComboBox could be used and in this same time is/are added new Item(s)","body":"question, JComboBox could be used and in this same time is/are added new Item(s)"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1315828644,"post_id":7387299,"comment_id":8920501,"body_markdown":"It *should* work - [here&#39;s a snippet that uses the same constructor](http://www.java2s.com/Code/JavaAPI/javax.swing/newJComboBoxVectoritems.htm)","body":"It <i>should</i> work - <a href=\"http://www.java2s.com/Code/JavaAPI/javax.swing/newJComboBoxVectoritems.htm\" rel=\"nofollow noreferrer\">here&#39;s a snippet that uses the same constructor</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1315833934,"post_id":7387299,"comment_id":8922102,"body_markdown":"you must add the items to model, not to the underlying vector - only so the required notifications are fired!","body":"you must add the items to model, not to the underlying vector - only so the required notifications are fired!"}],"answers":[{"tags":[],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1315828302,"creation_date":1315828302,"answer_id":7387381,"question_id":7387299,"body_markdown":"How about using ComboBoxModel? Something like this....\r\n\r\n        JFrame frame = new JFrame(&quot;Combo Box Demo&quot;);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(200, 200);\r\n\t\tframe.setLayout(new FlowLayout());\r\n\t\t\r\n\t\tVector comboBoxItems=new Vector();\r\n\t\tcomboBoxItems.add(&quot;A&quot;);\r\n\t\tcomboBoxItems.add(&quot;B&quot;);\r\n\t\tcomboBoxItems.add(&quot;C&quot;);\r\n\t\tcomboBoxItems.add(&quot;D&quot;);\r\n\t\tcomboBoxItems.add(&quot;E&quot;);\r\n\t\tfinal DefaultComboBoxModel model = new DefaultComboBoxModel(comboBoxItems);\r\n\t\tJComboBox comboBox = new JComboBox(model);\r\n\t\tframe.add(comboBox);\r\n\t\t\r\n\t\tJButton button = new JButton(&quot;Add new element in combo box&quot;);\r\n\t\tframe.add(button);\r\n\t\tbutton.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent ae) {\r\n\t\t\t\tmodel.addElement(&quot;F&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tframe.setVisible(true);","title":"Dynamically adding items to a JComboBox","body":"<p>How about using ComboBoxModel? Something like this....</p>\n\n<pre><code>    JFrame frame = new JFrame(\"Combo Box Demo\");\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(200, 200);\n    frame.setLayout(new FlowLayout());\n\n    Vector comboBoxItems=new Vector();\n    comboBoxItems.add(\"A\");\n    comboBoxItems.add(\"B\");\n    comboBoxItems.add(\"C\");\n    comboBoxItems.add(\"D\");\n    comboBoxItems.add(\"E\");\n    final DefaultComboBoxModel model = new DefaultComboBoxModel(comboBoxItems);\n    JComboBox comboBox = new JComboBox(model);\n    frame.add(comboBox);\n\n    JButton button = new JButton(\"Add new element in combo box\");\n    frame.add(button);\n    button.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent ae) {\n            model.addElement(\"F\");\n        }\n    });\n\n    frame.setVisible(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1315835389,"creation_date":1315835389,"answer_id":7388965,"question_id":7387299,"body_markdown":"for example:\r\n\r\n![enter image description here][1]\r\n![enter image description here][3] \r\n![enter image description here][2] \r\n\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.*;\r\n    import javax.swing.*;\r\n    \r\n    public class ComboBoxSorted extends JFrame {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private JComboBox comboBox;\r\n        private JTextField textField;\r\n    \r\n        public ComboBoxSorted() {\r\n            textField = new JTextField(15);\r\n            textField.addActionListener(new ActionListener() {\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    comboBox.addItem(textField.getText());\r\n                    textField.setText(&quot;&quot;);\r\n                    comboBox.showPopup();\r\n                }\r\n            });\r\n    \r\n            String[] items = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;};\r\n            SortedComboBoxModel model = new SortedComboBoxModel(items);\r\n            comboBox = new JComboBox(model);\r\n            comboBox.setPrototypeDisplayValue(&quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;);\r\n            JFrame frame = new JFrame(&quot;Add Item on Runtime&quot;);\r\n            frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            frame.add(comboBox, BorderLayout.SOUTH);\r\n            frame.add(textField, BorderLayout.WEST);\r\n            frame.add(new JLabel(&quot;Enter to add Item  &quot;), BorderLayout.EAST);\r\n            frame.pack();\r\n            frame.setLocation(150, 150);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        private class SortedComboBoxModel extends DefaultComboBoxModel {\r\n    \r\n            private static final long serialVersionUID = 1L;\r\n    \r\n            public SortedComboBoxModel() {\r\n                super();\r\n            }\r\n    \r\n            public SortedComboBoxModel(Object[] items) {\r\n                Arrays.sort(items);\r\n                int size = items.length;\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    super.addElement(items[i]);\r\n                }\r\n                setSelectedItem(items[0]);\r\n            }\r\n    \r\n            public SortedComboBoxModel(Vector items) {\r\n                Collections.sort(items);\r\n                int size = items.size();\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    super.addElement(items.elementAt(i));\r\n                }\r\n                setSelectedItem(items.elementAt(0));\r\n            }\r\n    \r\n            @Override\r\n            public void addElement(Object element) {\r\n                insertElementAt(element, 0);\r\n            }\r\n    \r\n            @Override\r\n            public void insertElementAt(Object element, int index) {\r\n                int size = getSize();\r\n                //  Determine where to insert element to keep model in sorted order            \r\n                for (index = 0; index &lt; size; index++) {\r\n                    Comparable c = (Comparable) getElementAt(index);\r\n                    if (c.compareTo(element) &gt; 0) {\r\n                        break;\r\n                    }\r\n                }\r\n                super.insertElementAt(element, index);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    ComboBoxSorted comboBoxSorted = new ComboBoxSorted();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/B2FiF.jpg\r\n  [2]: http://i.stack.imgur.com/EULBQ.jpg\r\n  [3]: http://i.stack.imgur.com/W9XGh.jpg","title":"Dynamically adding items to a JComboBox","body":"<p>for example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/B2FiF.jpg\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/W9XGh.jpg\" alt=\"enter image description here\"> \n<img src=\"https://i.stack.imgur.com/EULBQ.jpg\" alt=\"enter image description here\"> </p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\nimport javax.swing.*;\n\npublic class ComboBoxSorted extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n    private JComboBox comboBox;\n    private JTextField textField;\n\n    public ComboBoxSorted() {\n        textField = new JTextField(15);\n        textField.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                comboBox.addItem(textField.getText());\n                textField.setText(\"\");\n                comboBox.showPopup();\n            }\n        });\n\n        String[] items = {\"one\", \"two\", \"three\", \"four\", \"five\"};\n        SortedComboBoxModel model = new SortedComboBoxModel(items);\n        comboBox = new JComboBox(model);\n        comboBox.setPrototypeDisplayValue(\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\");\n        JFrame frame = new JFrame(\"Add Item on Runtime\");\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        frame.add(comboBox, BorderLayout.SOUTH);\n        frame.add(textField, BorderLayout.WEST);\n        frame.add(new JLabel(\"Enter to add Item  \"), BorderLayout.EAST);\n        frame.pack();\n        frame.setLocation(150, 150);\n        frame.setVisible(true);\n    }\n\n    private class SortedComboBoxModel extends DefaultComboBoxModel {\n\n        private static final long serialVersionUID = 1L;\n\n        public SortedComboBoxModel() {\n            super();\n        }\n\n        public SortedComboBoxModel(Object[] items) {\n            Arrays.sort(items);\n            int size = items.length;\n            for (int i = 0; i &lt; size; i++) {\n                super.addElement(items[i]);\n            }\n            setSelectedItem(items[0]);\n        }\n\n        public SortedComboBoxModel(Vector items) {\n            Collections.sort(items);\n            int size = items.size();\n            for (int i = 0; i &lt; size; i++) {\n                super.addElement(items.elementAt(i));\n            }\n            setSelectedItem(items.elementAt(0));\n        }\n\n        @Override\n        public void addElement(Object element) {\n            insertElementAt(element, 0);\n        }\n\n        @Override\n        public void insertElementAt(Object element, int index) {\n            int size = getSize();\n            //  Determine where to insert element to keep model in sorted order            \n            for (index = 0; index &lt; size; index++) {\n                Comparable c = (Comparable) getElementAt(index);\n                if (c.compareTo(element) &gt; 0) {\n                    break;\n                }\n            }\n            super.insertElementAt(element, index);\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                ComboBoxSorted comboBoxSorted = new ComboBoxSorted();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7786675,"reputation":610,"user_id":5891226,"accept_rate":20,"display_name":"Chetan Bhagat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471606584,"creation_date":1471605570,"answer_id":39037758,"question_id":7387299,"body_markdown":"&gt;Dynamically adding items like JComboBox,JTextField and ImageIcon\r\n\r\n[Please,Show this image on display, how many items added or Table Fields size][1]\r\n\r\n[After second images are display on Items like JComboBox,JTextField and ImageIcon][2]\r\n\r\n\r\n    for example : count=3\r\n    //Dynamically Adding Items or Component above method\r\n    public void  dya_addcomp(int count)\r\n    {\r\n    //Dynamicly Drop/Delete icon\r\n     BufferedImage Drop_Tablefield = null;\r\n     try {\r\n         Drop_Tablefield = ImageIO.read(this.getClass().getResource(&quot;/images/drop.png&quot;));\r\n     } catch (IOException ex) {\r\n         msg(&quot; Error: drop and edit icon on Table, &quot;+ex);\r\n     }\r\n     //count Items for loop executed..\r\n     for(int i=0;i&lt;count;i++)\r\n     {\r\n         //cnt++;\r\n         //lblcount.setText(&quot;Count : &quot;+cnt);\r\n         JTextField txtcolnm=new JTextField(&quot;&quot;,20);\r\n         JComboBox cmbtype=new JComboBox();\r\n         JTextField txtcolsize=new JTextField(&quot;&quot;,20);\r\n\r\n         JButton Drop_Table_Field = new JButton(new ImageIcon(Drop_Tablefield));\r\n\r\n         cmbtype.addItem(&quot;INTEGER&quot;); cmbtype.addItem(&quot;FLOAT&quot;);\r\n         cmbtype.addItem(&quot;STRING&quot;);  cmbtype.addItem(&quot;BOOLEAN&quot;);\r\n\r\n         colnamepanel.add(txtcolnm);   colnamepanel.add(cmbtype);\r\n         colnamepanel.add(txtcolsize); colnamepanel.add(Drop_Table_Field);\r\n\r\n         colnamepanel.setAutoscrolls(true);\r\n\r\n         //refresh panel\r\n         colnamepanel.revalidate();\r\n         colnamepanel.repaint();\r\n        \r\n         //set the layout on Jpanel\r\n         colnamepanel.setLayout(new FlowLayout(FlowLayout.LEFT,5,0));\r\n\r\n     }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WOyNa.jpg\r\n  [2]: https://i.stack.imgur.com/eP9Fu.jpg","title":"Dynamically adding items to a JComboBox","body":"<blockquote>\n  <p>Dynamically adding items like JComboBox,JTextField and ImageIcon</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/WOyNa.jpg\" rel=\"nofollow\">Please,Show this image on display, how many items added or Table Fields size</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/eP9Fu.jpg\" rel=\"nofollow\">After second images are display on Items like JComboBox,JTextField and ImageIcon</a></p>\n\n<pre><code>for example : count=3\n//Dynamically Adding Items or Component above method\npublic void  dya_addcomp(int count)\n{\n//Dynamicly Drop/Delete icon\n BufferedImage Drop_Tablefield = null;\n try {\n     Drop_Tablefield = ImageIO.read(this.getClass().getResource(\"/images/drop.png\"));\n } catch (IOException ex) {\n     msg(\" Error: drop and edit icon on Table, \"+ex);\n }\n //count Items for loop executed..\n for(int i=0;i&lt;count;i++)\n {\n     //cnt++;\n     //lblcount.setText(\"Count : \"+cnt);\n     JTextField txtcolnm=new JTextField(\"\",20);\n     JComboBox cmbtype=new JComboBox();\n     JTextField txtcolsize=new JTextField(\"\",20);\n\n     JButton Drop_Table_Field = new JButton(new ImageIcon(Drop_Tablefield));\n\n     cmbtype.addItem(\"INTEGER\"); cmbtype.addItem(\"FLOAT\");\n     cmbtype.addItem(\"STRING\");  cmbtype.addItem(\"BOOLEAN\");\n\n     colnamepanel.add(txtcolnm);   colnamepanel.add(cmbtype);\n     colnamepanel.add(txtcolsize); colnamepanel.add(Drop_Table_Field);\n\n     colnamepanel.setAutoscrolls(true);\n\n     //refresh panel\n     colnamepanel.revalidate();\n     colnamepanel.repaint();\n\n     //set the layout on Jpanel\n     colnamepanel.setLayout(new FlowLayout(FlowLayout.LEFT,5,0));\n\n }\n</code></pre>\n"}],"owner":{"account_id":905455,"reputation":157,"user_id":940461,"display_name":"raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97456,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":7387381,"answer_count":3,"score":16,"last_activity_date":1642658495,"creation_date":1315827781,"question_id":7387299,"body_markdown":"    Vector comboBoxItems = new Vector();\r\n    DefaultComboBoxModel model;\r\n    // ComboBox Items have gotten from Data Base initially.\r\n    model = new DefaultComboBoxModel(ComboBoxItems);\r\n    JComboBox box = new JComboBox(model);\r\n\r\nI added this combo box to a panel. If I add some items in the database directly, I want those newly added items shown in the combo box.\r\n\r\nI can see the values in `comboBoxItems` when I debug, but those values do not appear in my combo box.\r\n\r\nHow can I get those newly added values into the combo box without closing the panel?","title":"Dynamically adding items to a JComboBox","body":"<pre><code>Vector comboBoxItems = new Vector();\nDefaultComboBoxModel model;\n// ComboBox Items have gotten from Data Base initially.\nmodel = new DefaultComboBoxModel(ComboBoxItems);\nJComboBox box = new JComboBox(model);\n</code></pre>\n\n<p>I added this combo box to a panel. If I add some items in the database directly, I want those newly added items shown in the combo box.</p>\n\n<p>I can see the values in <code>comboBoxItems</code> when I debug, but those values do not appear in my combo box.</p>\n\n<p>How can I get those newly added values into the combo box without closing the panel?</p>\n"},{"tags":["c#","java","unit-testing"],"comments":[{"owner":{"account_id":115340,"reputation":14522,"user_id":302908,"accept_rate":98,"display_name":"Dustin Davis"},"score":0,"creation_date":1313527136,"post_id":7075938,"comment_id":8480118,"body_markdown":"I say no because what happens when you forget to make it private again? Consumers will use it and when you do make it private in later releases, bang! breaking changes.","body":"I say no because what happens when you forget to make it private again? Consumers will use it and when you do make it private in later releases, bang! breaking changes."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1313538959,"post_id":7075938,"comment_id":8482646,"body_markdown":"&quot;changing a system to &#39;support a support tool&#39; if you will, is blatant bad practice&quot;. Well, yes, sort of. But OTOH if your system does not work well with established tools, maybe something *is* wrong with the system.","body":"&quot;changing a system to &#39;support a support tool&#39; if you will, is blatant bad practice&quot;. Well, yes, sort of. But OTOH if your system does not work well with established tools, maybe something <i>is</i> wrong with the system."},{"owner":{"account_id":248909,"reputation":21944,"user_id":524588,"accept_rate":78,"display_name":"Sanghyun Lee"},"score":1,"creation_date":1313554040,"post_id":7075938,"comment_id":8484556,"body_markdown":"How isn&#39;t this duplicate of http://stackoverflow.com/questions/105007/do-you-test-private-method?","body":"How isn&#39;t this duplicate of <a href=\"http://stackoverflow.com/questions/105007/do-you-test-private-method\" title=\"do you test private method\">stackoverflow.com/questions/105007/do-you-test-private-metho&zwnj;&#8203;d</a>?"},{"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"score":0,"creation_date":1313556161,"post_id":7075938,"comment_id":8484872,"body_markdown":"separation of concern. Code should just do the work, not to test itself. Put the test in other file.","body":"separation of concern. Code should just do the work, not to test itself. Put the test in other file."},{"owner":{"account_id":126508,"reputation":14184,"user_id":323051,"accept_rate":70,"display_name":"jcvandan"},"score":0,"creation_date":1315487704,"post_id":7075938,"comment_id":8864861,"body_markdown":"@Sangdol - have you even read that other question? Completely different question...","body":"@Sangdol - have you even read that other question? Completely different question..."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1372718275,"post_id":7075938,"comment_id":25290706,"body_markdown":"This question appears to be off-topic because it is polling for opinions. ","body":"This question appears to be off-topic because it is polling for opinions. "},{"owner":{"account_id":2841559,"reputation":99,"user_id":2441081,"display_name":"Zano"},"score":1,"creation_date":1437978142,"post_id":7075938,"comment_id":51238496,"body_markdown":"Not an answer, but you can always access them by reflection.","body":"Not an answer, but you can always access them by reflection."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":36,"creation_date":1437978164,"post_id":7075938,"comment_id":51238504,"body_markdown":"No, you shouldn&#39;t expose them. Instead, you should test that your class **behaves** as it should do, via its public API. And if exposing internals is really the only option (which I doubt), then you should at least make the accessors package protected, so that only classes in the same package (as your test should be) can access them.","body":"No, you shouldn&#39;t expose them. Instead, you should test that your class <b>behaves</b> as it should do, via its public API. And if exposing internals is really the only option (which I doubt), then you should at least make the accessors package protected, so that only classes in the same package (as your test should be) can access them."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1437978229,"post_id":7075938,"comment_id":51238540,"body_markdown":"I don&#39;t think you should be exposing the stacks to the outside world. This is an implementation detail and you might move to a new data structure in the future. As far as unit testing is concerned, you should test all corner cases and as long as you get the desired results from the `first`, `last` etc methods, you should be good. You may be tempted to give them the default access modifier but that does not guarantee that other developers won&#39;t abuse this.","body":"I don&#39;t think you should be exposing the stacks to the outside world. This is an implementation detail and you might move to a new data structure in the future. As far as unit testing is concerned, you should test all corner cases and as long as you get the desired results from the <code>first</code>, <code>last</code> etc methods, you should be good. You may be tempted to give them the default access modifier but that does not guarantee that other developers won&#39;t abuse this."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":5,"creation_date":1437978260,"post_id":7075938,"comment_id":51238555,"body_markdown":"Yes, it is. It is perfectly acceptable to give a method package-private (default) visibility to make it accessible from unit tests. Libraries like Guava even provide an [`@VisibileForTesting`](https://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/annotations/VisibleForTesting.html) annotation to make such methods - I recommend you do this so that the reason for the method not being `private` is properly documented.","body":"Yes, it is. It is perfectly acceptable to give a method package-private (default) visibility to make it accessible from unit tests. Libraries like Guava even provide an <a href=\"https://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/annotations/VisibleForTesting.html\" rel=\"nofollow noreferrer\"><code>@VisibileForTesting</code></a> annotation to make such methods - I recommend you do this so that the reason for the method not being <code>private</code> is properly documented."},{"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"score":0,"creation_date":1438021880,"post_id":7075938,"comment_id":51265886,"body_markdown":"Make them package private.","body":"Make them package private."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1438119531,"post_id":7075938,"comment_id":51316877,"body_markdown":"You should never need to make the fields more than package local. You could add a helper class with package local getters for access if you need to.","body":"You should never need to make the fields more than package local. You could add a helper class with package local getters for access if you need to."},{"owner":{"account_id":2396133,"reputation":2128,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1688805083,"post_id":7075938,"comment_id":135125488,"body_markdown":"@Boris the Spider Your link is broken. Up to date link is here: [@VisibleForTesting annotation](https://guava.dev/releases/31.1-jre/api/docs/com/google/common/annotations/VisibleForTesting.html).","body":"@Boris the Spider Your link is broken. Up to date link is here: <a href=\"https://guava.dev/releases/31.1-jre/api/docs/com/google/common/annotations/VisibleForTesting.html\" rel=\"nofollow noreferrer\">@VisibleForTesting annotation</a>."}],"answers":[{"tags":[],"owner":{"account_id":1016,"reputation":17962,"user_id":1348,"accept_rate":88,"display_name":"blank"},"down_vote_count":1,"up_vote_count":157,"is_accepted":false,"score":156,"last_activity_date":1383902585,"creation_date":1313486042,"answer_id":7075965,"question_id":7075938,"body_markdown":"Personally, I&#39;d rather unit test using the public API and I&#39;d certainly never make the private method public *just* to make it easy to test. \r\n\r\nIf you really want to test the private method in isolation, in Java you could use [Easymock][1] / [Powermock][2] to allow you to do this.\r\n\r\nYou have to be pragmatic about it and you should also be aware of the reasons why things are difficult to test. \r\n\r\n&#39;[Listen to the tests][3]&#39; - if it&#39;s difficult to test, is that telling you something about your design? Could you refactor to where a test for this method would be trivial and easily covered by testing through the public api? \r\n\r\nHere&#39;s what Michael Feathers has to say in &#39;[Working Effectively With Legacy Code][4]&quot;\r\n\r\n&gt; &quot;Many people spend a lot of time trying ot figure out how to get around this problem ... the real answer is that if you have the urge to test a private method, the method shouldn&#39;t be private; if making the method public bothers you, chances are, it is because it is part of a separate reponsibility; it should be on another class.&quot; [*Working Effectively With Legacy Code* (2005) by M. Feathers]\r\n\r\n\r\n  [1]: http://easymock.org/\r\n  [2]: http://code.google.com/p/powermock/\r\n  [3]: http://www.mockobjects.com/search/label/listening%20to%20the%20tests\r\n  [4]: http://www.amazon.co.uk/Working-Effectively-Legacy-Robert-Martin/dp/0131177052","title":"Making a private method public to unit test it...good idea?","body":"<p>Personally, I'd rather unit test using the public API and I'd certainly never make the private method public <em>just</em> to make it easy to test. </p>\n\n<p>If you really want to test the private method in isolation, in Java you could use <a href=\"http://easymock.org/\" rel=\"noreferrer\">Easymock</a> / <a href=\"http://code.google.com/p/powermock/\" rel=\"noreferrer\">Powermock</a> to allow you to do this.</p>\n\n<p>You have to be pragmatic about it and you should also be aware of the reasons why things are difficult to test. </p>\n\n<p>'<a href=\"http://www.mockobjects.com/search/label/listening%20to%20the%20tests\" rel=\"noreferrer\">Listen to the tests</a>' - if it's difficult to test, is that telling you something about your design? Could you refactor to where a test for this method would be trivial and easily covered by testing through the public api? </p>\n\n<p>Here's what Michael Feathers has to say in '<a href=\"http://www.amazon.co.uk/Working-Effectively-Legacy-Robert-Martin/dp/0131177052\" rel=\"noreferrer\">Working Effectively With Legacy Code</a>\"</p>\n\n<blockquote>\n  <p>\"Many people spend a lot of time trying ot figure out how to get around this problem ... the real answer is that if you have the urge to test a private method, the method shouldn't be private; if making the method public bothers you, chances are, it is because it is part of a separate reponsibility; it should be on another class.\" [<em>Working Effectively With Legacy Code</em> (2005) by M. Feathers]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":28479,"reputation":4733,"user_id":76116,"accept_rate":86,"display_name":"IanR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313486231,"creation_date":1313486231,"answer_id":7075998,"question_id":7075938,"body_markdown":"I tend to agree that the bonuses of having it unit tested outweigh the problems of increasing the visibility of some of the members. A slight improvement is to make it protected and virtual, then override it in a test class to expose it.\r\n\r\nAlternatively, if it&#39;s functionality you want to test separately does it not suggest a missing object from your design?  Maybe you could put it in a separate testable class...then your existing class just delegates to an instance of this new class.","title":"Making a private method public to unit test it...good idea?","body":"<p>I tend to agree that the bonuses of having it unit tested outweigh the problems of increasing the visibility of some of the members. A slight improvement is to make it protected and virtual, then override it in a test class to expose it.</p>\n\n<p>Alternatively, if it's functionality you want to test separately does it not suggest a missing object from your design?  Maybe you could put it in a separate testable class...then your existing class just delegates to an instance of this new class.</p>\n"},{"tags":[],"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1313486310,"creation_date":1313486310,"answer_id":7076017,"question_id":7075938,"body_markdown":"I would say it is a bad idea for I am not sure whether you get any benefit and potentially problems down the line.  If you are changing the contract of a calls, just to test a private method, you&#39;re not testing the class in how it would be used, but creating an artificial scenario which you never intended to happen.\r\n\r\nFurthermore, by declaring the method as public, what&#39;s to say that in six months time (after forgetting that the only reason for making a method public is for testing) that you (or if you&#39;ve handed the project over) somebody completely different won&#39;t use it, leading to potentially unintended consequences and/or a maintenance nightmare.","title":"Making a private method public to unit test it...good idea?","body":"<p>I would say it is a bad idea for I am not sure whether you get any benefit and potentially problems down the line.  If you are changing the contract of a calls, just to test a private method, you're not testing the class in how it would be used, but creating an artificial scenario which you never intended to happen.</p>\n\n<p>Furthermore, by declaring the method as public, what's to say that in six months time (after forgetting that the only reason for making a method public is for testing) that you (or if you've handed the project over) somebody completely different won't use it, leading to potentially unintended consequences and/or a maintenance nightmare.</p>\n"},{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"down_vote_count":6,"up_vote_count":36,"is_accepted":false,"score":30,"last_activity_date":1619143488,"creation_date":1313486381,"answer_id":7076031,"question_id":7075938,"body_markdown":"A unit test should test the public contract, the only way how a class could be used in other parts of the code. A private method is implementation details, you should not test it; as far as public API works correctly, the implementation doesn&#39;t matter and could be changed without changes in test cases.","title":"Making a private method public to unit test it...good idea?","body":"<p>A unit test should test the public contract, the only way how a class could be used in other parts of the code. A private method is implementation details, you should not test it; as far as public API works correctly, the implementation doesn't matter and could be changed without changes in test cases.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1313486775,"creation_date":1313486390,"answer_id":7076032,"question_id":7075938,"body_markdown":"How about making it package private? Then your test code can see it (and other classes in your package as well), but it is still hidden from your users.\r\n\r\nBut really, you should not be testing private methods. Those are implementation details, and not part of the contract. Everything they do should be covered by calling the public methods (if they have code in there that is not exercised by the public methods, then that should go). If the private code is too complex, the class is probably doing too many things and in want of refactoring.\r\n\r\nMaking a method public is big commitment. Once you do that, people will be able to use it, and you cannot just change them anymore.","title":"Making a private method public to unit test it...good idea?","body":"<p>How about making it package private? Then your test code can see it (and other classes in your package as well), but it is still hidden from your users.</p>\n\n<p>But really, you should not be testing private methods. Those are implementation details, and not part of the contract. Everything they do should be covered by calling the public methods (if they have code in there that is not exercised by the public methods, then that should go). If the private code is too complex, the class is probably doing too many things and in want of refactoring.</p>\n\n<p>Making a method public is big commitment. Once you do that, people will be able to use it, and you cannot just change them anymore.</p>\n"},{"tags":[],"owner":{"account_id":32598,"reputation":13160,"user_id":90573,"display_name":"Tom Jefferys"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1313486441,"creation_date":1313486441,"answer_id":7076039,"question_id":7075938,"body_markdown":"In java, there&#39;s also the option of making it **package private** (ie leaving off the visibility modifier).  If your unit tests are in the same package as the class being tested it should then be able to see these methods, and is a bit safer than making the method completely public.","title":"Making a private method public to unit test it...good idea?","body":"<p>In java, there's also the option of making it <strong>package private</strong> (ie leaving off the visibility modifier).  If your unit tests are in the same package as the class being tested it should then be able to see these methods, and is a bit safer than making the method completely public.</p>\n"},{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1313486453,"creation_date":1313486453,"answer_id":7076040,"question_id":7075938,"body_markdown":"There are actually situations when you should do this (e.g. when you&#39;re implementing some complex algorithms). Just do it package-private and this will be enough. \r\nBut in most cases probably you have too complex classes which requires factoring out logic into other classes.","title":"Making a private method public to unit test it...good idea?","body":"<p>There are actually situations when you should do this (e.g. when you're implementing some complex algorithms). Just do it package-private and this will be enough. \nBut in most cases probably you have too complex classes which requires factoring out logic into other classes.</p>\n"},{"tags":[],"owner":{"account_id":174088,"reputation":4794,"user_id":403234,"accept_rate":89,"display_name":"yas4891"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313486473,"creation_date":1313486473,"answer_id":7076044,"question_id":7075938,"body_markdown":"I generally keep the test classes in the same project/assembly as the classes under test.   \r\nThis way I only need `internal` visibility to make functions/classes testable.\r\n\r\nThis somewhat complicates your building process, which needs to filter out the test classes. \r\nI achieve this by naming all my test classes `TestedClassTest` and using a regex to filter those classes.\r\n\r\nThis of course only applies to the C# / .NET part of your question","title":"Making a private method public to unit test it...good idea?","body":"<p>I generally keep the test classes in the same project/assembly as the classes under test.<br>\nThis way I only need <code>internal</code> visibility to make functions/classes testable.</p>\n\n<p>This somewhat complicates your building process, which needs to filter out the test classes. \nI achieve this by naming all my test classes <code>TestedClassTest</code> and using a regex to filter those classes.</p>\n\n<p>This of course only applies to the C# / .NET part of your question</p>\n"},{"tags":[],"owner":{"account_id":400584,"reputation":2150,"user_id":766640,"accept_rate":100,"display_name":"adamjmarkham"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1313486493,"creation_date":1313486493,"answer_id":7076047,"question_id":7075938,"body_markdown":"Private methods are usually used as &quot;helper&quot; methods. Therefore they only return basic values and never operate on specific instances of objects. \r\n\r\nYou have a couple of options if you want to test them.\r\n\r\n - Use reflection\r\n - Give the methods package access\r\n\r\nAlternatively you could create a new class with the helper method as a public method if it is a good enough candidate for a new class.\r\n\r\nThere is a very [good article here][1] on this.\r\n\r\n\r\n  [1]: http://www.artima.com/suiterunner/private2.html","title":"Making a private method public to unit test it...good idea?","body":"<p>Private methods are usually used as \"helper\" methods. Therefore they only return basic values and never operate on specific instances of objects. </p>\n\n<p>You have a couple of options if you want to test them.</p>\n\n<ul>\n<li>Use reflection</li>\n<li>Give the methods package access</li>\n</ul>\n\n<p>Alternatively you could create a new class with the helper method as a public method if it is a good enough candidate for a new class.</p>\n\n<p>There is a very <a href=\"http://www.artima.com/suiterunner/private2.html\" rel=\"noreferrer\">good article here</a> on this.</p>\n"},{"tags":[],"owner":{"account_id":302601,"reputation":1004,"user_id":611064,"accept_rate":71,"display_name":"Xoke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313487428,"creation_date":1313487428,"answer_id":7076224,"question_id":7075938,"body_markdown":"Personally, I have the same problems when testing private methods and this is because the some of the testing tools are limited.\r\nIt&#39;s not good your design to be driven by limited tools if they don&#39;t response to your need change the tool not the design.\r\nBecause your asking for C# i can&#39;t propose good testing tools, but for Java there are two powerful tools: TestNG and PowerMock, and you can find corresponding testing tools for .NET platform ","title":"Making a private method public to unit test it...good idea?","body":"<p>Personally, I have the same problems when testing private methods and this is because the some of the testing tools are limited.\nIt's not good your design to be driven by limited tools if they don't response to your need change the tool not the design.\nBecause your asking for C# i can't propose good testing tools, but for Java there are two powerful tools: TestNG and PowerMock, and you can find corresponding testing tools for .NET platform </p>\n"},{"tags":[],"owner":{"account_id":129935,"reputation":20197,"user_id":328848,"accept_rate":65,"display_name":"Dean Chalk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313487841,"creation_date":1313487841,"answer_id":7076306,"question_id":7075938,"body_markdown":"Its all about pragmatism. Your unit tests are a client to the code in a way and in order to achieve a good level of code coverage you need to make your code very testable. Your solution will be a potential failure if the testing code is vastly comlplex in order for you to be able to setup the necessary corner-cases without effective public seams withing your code. Using IoC helps in this matter too.","title":"Making a private method public to unit test it...good idea?","body":"<p>Its all about pragmatism. Your unit tests are a client to the code in a way and in order to achieve a good level of code coverage you need to make your code very testable. Your solution will be a potential failure if the testing code is vastly comlplex in order for you to be able to setup the necessary corner-cases without effective public seams withing your code. Using IoC helps in this matter too.</p>\n"},{"tags":[],"owner":{"account_id":243832,"reputation":2641,"user_id":516238,"accept_rate":81,"display_name":"Chris Johnson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313495857,"creation_date":1313495857,"answer_id":7077832,"question_id":7075938,"body_markdown":"The point of the unit test is to confirm the workings of the public api for that unit.  There should be no need to make a private method exposed only for testing, if so then your interface should be rethought.   Private methods can be thought as &#39;helper&#39; methods to the public interface and therefore are tested via the public interface as they would be calling into the private methods.\r\n\r\nThe only reason I can see that you have a &#39;need&#39; to do this is that your class is not properly designed for testing in mind.","title":"Making a private method public to unit test it...good idea?","body":"<p>The point of the unit test is to confirm the workings of the public api for that unit.  There should be no need to make a private method exposed only for testing, if so then your interface should be rethought.   Private methods can be thought as 'helper' methods to the public interface and therefore are tested via the public interface as they would be calling into the private methods.</p>\n\n<p>The only reason I can see that you have a 'need' to do this is that your class is not properly designed for testing in mind.</p>\n"},{"tags":[],"owner":{"account_id":32093,"reputation":650733,"user_id":88656,"display_name":"Eric Lippert"},"down_vote_count":2,"up_vote_count":80,"is_accepted":false,"score":78,"last_activity_date":1313585253,"creation_date":1313496818,"answer_id":7078045,"question_id":7075938,"body_markdown":"As others have said, it is somewhat suspect to be unit testing private methods at all; unit test the public interface, not the private implementation details. \r\n\r\nThat said, the technique I use when I want to unit test something that is private in C# is to downgrade the accessibility protection from private to internal, and then mark the unit testing assembly as a friend assembly using [InternalsVisibleTo][1]. The unit testing assembly will then be allowed to treat the internals as public, but you don&#39;t have to worry about accidentally adding to your public surface area.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/0tke9fxk.aspx","title":"Making a private method public to unit test it...good idea?","body":"<p>As others have said, it is somewhat suspect to be unit testing private methods at all; unit test the public interface, not the private implementation details. </p>\n\n<p>That said, the technique I use when I want to unit test something that is private in C# is to downgrade the accessibility protection from private to internal, and then mark the unit testing assembly as a friend assembly using <a href=\"http://msdn.microsoft.com/en-us/library/0tke9fxk.aspx\">InternalsVisibleTo</a>. The unit testing assembly will then be allowed to treat the internals as public, but you don't have to worry about accidentally adding to your public surface area.</p>\n"},{"tags":[],"owner":{"account_id":426050,"reputation":18998,"user_id":807037,"accept_rate":66,"display_name":"Noel Yap"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313503066,"creation_date":1313503066,"answer_id":7079304,"question_id":7075938,"body_markdown":"First see if the method ought to be extracted into another class and made public.  If that&#39;s not the case, make it package protected and in Java annotate with [@VisibleForTesting][1].\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/annotations/VisibleForTesting.html","title":"Making a private method public to unit test it...good idea?","body":"<p>First see if the method ought to be extracted into another class and made public.  If that's not the case, make it package protected and in Java annotate with <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/annotations/VisibleForTesting.html\" rel=\"noreferrer\">@VisibleForTesting</a>.</p>\n"},{"tags":[],"owner":{"account_id":7689,"reputation":53388,"user_id":13422,"accept_rate":50,"display_name":"Zan Lynx"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1313505971,"creation_date":1313505971,"answer_id":7080112,"question_id":7075938,"body_markdown":"I will often add a method called something like `validate`, `verify`, `check`, etc, to a class so that it can be called to test the internal state of an object.\r\n\r\nSometimes this method is wrapped in an ifdef block (I write mostly in C++) so that it isn&#39;t compiled for release. But it&#39;s often useful in release to provide validation methods that walk the program&#39;s object trees checking things.","title":"Making a private method public to unit test it...good idea?","body":"<p>I will often add a method called something like <code>validate</code>, <code>verify</code>, <code>check</code>, etc, to a class so that it can be called to test the internal state of an object.</p>\n\n<p>Sometimes this method is wrapped in an ifdef block (I write mostly in C++) so that it isn't compiled for release. But it's often useful in release to provide validation methods that walk the program's object trees checking things.</p>\n"},{"tags":[],"owner":{"account_id":327461,"reputation":15242,"user_id":649852,"display_name":"Go Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313512451,"creation_date":1313512451,"answer_id":7081622,"question_id":7075938,"body_markdown":"As is extensively noted by others&#39; comments, unit tests should focus on the public API.  However, pros/cons and justification aside, you can call private methods in a unit test by using reflection.  You would of course need to make sure your JRE security allows it.  Calling private methods is something that the Spring Framework employs with it&#39;s [ReflectionUtils][1] (see the `makeAccessible(Method)` method).\r\n\r\nHere&#39;s a small example class with a private instance method.\r\n\r\n    public class A {\r\n        private void doSomething() {\r\n            System.out.println(&quot;Doing something private.&quot;);\r\n        }\r\n    }\r\n\r\nAnd an example class that executes the private instance method.\r\n\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    public class B {\r\n        public static final void main(final String[] args) {\r\n            try {\r\n                Method doSomething = A.class.getDeclaredMethod(&quot;doSomething&quot;);\r\n                A o = new A();\r\n                //o.doSomething(); // Compile-time error!\r\n                doSomething.setAccessible(true); // If this is not done, you get an IllegalAccessException!\r\n                doSomething.invoke(o);\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            } catch (InvocationTargetException e) {\r\n                e.printStackTrace();\r\n            } catch (NoSuchMethodException e) {\r\n                e.printStackTrace();\r\n            } catch (SecurityException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nExecuting B, will print `Doing something private.`  If you really need it, reflection could be used in unit tests to access private instance methods.\r\n\r\n  [1]: https://src.springframework.org/svn/spring-framework/trunk/org.springframework.core/src/main/java/org/springframework/util/ReflectionUtils.java\r\n\r\n","title":"Making a private method public to unit test it...good idea?","body":"<p>As is extensively noted by others' comments, unit tests should focus on the public API.  However, pros/cons and justification aside, you can call private methods in a unit test by using reflection.  You would of course need to make sure your JRE security allows it.  Calling private methods is something that the Spring Framework employs with it's <a href=\"https://src.springframework.org/svn/spring-framework/trunk/org.springframework.core/src/main/java/org/springframework/util/ReflectionUtils.java\" rel=\"nofollow\">ReflectionUtils</a> (see the <code>makeAccessible(Method)</code> method).</p>\n\n<p>Here's a small example class with a private instance method.</p>\n\n<pre><code>public class A {\n    private void doSomething() {\n        System.out.println(\"Doing something private.\");\n    }\n}\n</code></pre>\n\n<p>And an example class that executes the private instance method.</p>\n\n<pre><code>import java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\npublic class B {\n    public static final void main(final String[] args) {\n        try {\n            Method doSomething = A.class.getDeclaredMethod(\"doSomething\");\n            A o = new A();\n            //o.doSomething(); // Compile-time error!\n            doSomething.setAccessible(true); // If this is not done, you get an IllegalAccessException!\n            doSomething.invoke(o);\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        } catch (InvocationTargetException e) {\n            e.printStackTrace();\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        } catch (SecurityException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Executing B, will print <code>Doing something private.</code>  If you really need it, reflection could be used in unit tests to access private instance methods.</p>\n"},{"tags":[],"owner":{"account_id":61862,"reputation":13306,"user_id":184131,"accept_rate":76,"display_name":"csano"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1313517419,"creation_date":1313517419,"answer_id":7082711,"question_id":7075938,"body_markdown":"Some great answers. One thing I didn&#39;t see mentioned is that with test-driven development (TDD), private methods are created during the refactoring phase (look at [Extract Method][1] for an example of a refactoring pattern), and should therefore already have the necessary test coverage. If done correctly (and of course, you&#39;re going to get a mixed bag of opinions when it comes to correctness), you shouldn&#39;t have to worry about having to make a private method public just so that you can test it.\r\n\r\n\r\n  [1]: http://www.refactoring.com/catalog/extractMethod.html","title":"Making a private method public to unit test it...good idea?","body":"<p>Some great answers. One thing I didn't see mentioned is that with test-driven development (TDD), private methods are created during the refactoring phase (look at <a href=\"http://www.refactoring.com/catalog/extractMethod.html\">Extract Method</a> for an example of a refactoring pattern), and should therefore already have the necessary test coverage. If done correctly (and of course, you're going to get a mixed bag of opinions when it comes to correctness), you shouldn't have to worry about having to make a private method public just so that you can test it.</p>\n"},{"tags":[],"owner":{"account_id":346057,"reputation":10788,"user_id":679340,"accept_rate":71,"display_name":"Piotr Perak"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1313519672,"creation_date":1313519672,"answer_id":7083208,"question_id":7075938,"body_markdown":"If you are using C# you can make method internal. That way you don&#39;t pollute public API.\r\n\r\nThen add attribute to dll\r\n\r\n[assembly: InternalsVisibleTo(&quot;MyTestAssembly&quot;)]\r\n\r\nNow all the methods are visible in your MyTestAssembly project. Maybe not perfect, but better then making private method public just to test it.","title":"Making a private method public to unit test it...good idea?","body":"<p>If you are using C# you can make method internal. That way you don't pollute public API.</p>\n\n<p>Then add attribute to dll</p>\n\n<p>[assembly: InternalsVisibleTo(\"MyTestAssembly\")]</p>\n\n<p>Now all the methods are visible in your MyTestAssembly project. Maybe not perfect, but better then making private method public just to test it.</p>\n"},{"tags":[],"owner":{"account_id":85546,"reputation":84728,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"down_vote_count":3,"up_vote_count":66,"is_accepted":false,"score":63,"last_activity_date":1313525389,"creation_date":1313520320,"answer_id":7083360,"question_id":7075938,"body_markdown":"Lots of answers suggest only testing the public interface, but IMHO this is unrealistic - if a method does something that takes 5 steps, you&#39;ll want to test those five steps separately, not all together.  This requires testing all five methods, which *(other than for testing)* might otherwise be `private`.\r\n\r\nThe usual way of testing &quot;private&quot; methods is to give every class its own interface, and make the &quot;private&quot; methods `public`, but not include them in the interface.  This way, they can still be tested, but they don&#39;t bloat the interface.\r\n\r\nYes, this will result in file- and class-bloat.\r\n\r\nYes, this does make the `public` and `private` specifiers redundant.\r\n\r\nYes, this is a pain in the ass.\r\n\r\nThis is, unfortunately, one of the many **[sacrifices we make to make code testable](https://softwareengineering.stackexchange.com/questions/14856/what-popular-best-practices-are-not-always-best-and-why/38501#38501)**.  Perhaps a future language (or a even a future version of C#/Java) will have features to make class- and module-testability more convenient; but in the meanwhile, we have to jump through these hoops.\r\n\r\n---\r\n\r\nThere are some who would argue that each of those steps should [be its own class](https://softwareengineering.stackexchange.com/questions/14856/what-popular-best-practices-are-not-always-best-and-why/38504#38504), but I disagree - if they all share state, there is no reason to create five separate classes where five methods would do.  Even worse, this results in file- and class-bloat.  *Plus*, it infects the public API of your module - all those classes must necessarily be `public` if you want to test them from another module *(either that, or include the test code in the same module, which means shipping the test code with your product)*.","title":"Making a private method public to unit test it...good idea?","body":"<p>Lots of answers suggest only testing the public interface, but IMHO this is unrealistic - if a method does something that takes 5 steps, you'll want to test those five steps separately, not all together.  This requires testing all five methods, which <em>(other than for testing)</em> might otherwise be <code>private</code>.</p>\n\n<p>The usual way of testing \"private\" methods is to give every class its own interface, and make the \"private\" methods <code>public</code>, but not include them in the interface.  This way, they can still be tested, but they don't bloat the interface.</p>\n\n<p>Yes, this will result in file- and class-bloat.</p>\n\n<p>Yes, this does make the <code>public</code> and <code>private</code> specifiers redundant.</p>\n\n<p>Yes, this is a pain in the ass.</p>\n\n<p>This is, unfortunately, one of the many <strong><a href=\"https://softwareengineering.stackexchange.com/questions/14856/what-popular-best-practices-are-not-always-best-and-why/38501#38501\">sacrifices we make to make code testable</a></strong>.  Perhaps a future language (or a even a future version of C#/Java) will have features to make class- and module-testability more convenient; but in the meanwhile, we have to jump through these hoops.</p>\n\n<hr>\n\n<p>There are some who would argue that each of those steps should <a href=\"https://softwareengineering.stackexchange.com/questions/14856/what-popular-best-practices-are-not-always-best-and-why/38504#38504\">be its own class</a>, but I disagree - if they all share state, there is no reason to create five separate classes where five methods would do.  Even worse, this results in file- and class-bloat.  <em>Plus</em>, it infects the public API of your module - all those classes must necessarily be <code>public</code> if you want to test them from another module <em>(either that, or include the test code in the same module, which means shipping the test code with your product)</em>.</p>\n"},{"tags":[],"owner":{"account_id":321405,"reputation":61,"user_id":640214,"display_name":"bengtb"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1313584593,"creation_date":1313523480,"answer_id":7083973,"question_id":7075938,"body_markdown":"In your update you say that it&#39;s good to just test using the public API. \r\nThere is actually two schools here.\r\n \r\n1. Black box testing\r\n\r\n The black box school says that the class should be considered as a black box that no one can see the implementation inside it. The only way to test this is through the public API -- just like the user&#39;s of the class will be using it. \r\n\r\n2. white box testing.\r\n \r\n  The white box school thinks it naturally to use the knowledge about the implementation of the  class and then test the class to know that it works as it should.\r\n\r\nI really cannot take side in the discussion. I just thought it would be interesting to know that there are two distinct ways to test a class (or a library or whatever).","title":"Making a private method public to unit test it...good idea?","body":"<p>In your update you say that it's good to just test using the public API. \nThere is actually two schools here.</p>\n\n<ol>\n<li><p>Black box testing</p>\n\n<p>The black box school says that the class should be considered as a black box that no one can see the implementation inside it. The only way to test this is through the public API -- just like the user's of the class will be using it. </p></li>\n<li><p>white box testing.</p>\n\n<p>The white box school thinks it naturally to use the knowledge about the implementation of the  class and then test the class to know that it works as it should.</p></li>\n</ol>\n\n<p>I really cannot take side in the discussion. I just thought it would be interesting to know that there are two distinct ways to test a class (or a library or whatever).</p>\n"},{"tags":[],"owner":{"account_id":350198,"reputation":15550,"user_id":685923,"accept_rate":70,"display_name":"Ed Staub"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313545703,"creation_date":1313545703,"answer_id":7087151,"question_id":7075938,"body_markdown":"Guava has a @VisibleForTesting annotation for marking methods that have enlarged scope (package or public) that they would otherwise.  I use a @Private annotation for the same thing.\r\n\r\nWhile the public API must be tested, sometimes it&#39;s convenient and sensible to get at stuff that wouldn&#39;t normally be public.  \r\n\r\nWhen:\r\n\r\n- a class is made significantly less readable, in toto, by breaking it up into multiple classes,\r\n- just to make it more testable,\r\n- and providing some test access to the innards would do the trick\r\n\r\nit seems like religion is trumping engineering.","title":"Making a private method public to unit test it...good idea?","body":"<p>Guava has a @VisibleForTesting annotation for marking methods that have enlarged scope (package or public) that they would otherwise.  I use a @Private annotation for the same thing.</p>\n\n<p>While the public API must be tested, sometimes it's convenient and sensible to get at stuff that wouldn't normally be public.  </p>\n\n<p>When:</p>\n\n<ul>\n<li>a class is made significantly less readable, in toto, by breaking it up into multiple classes,</li>\n<li>just to make it more testable,</li>\n<li>and providing some test access to the innards would do the trick</li>\n</ul>\n\n<p>it seems like religion is trumping engineering.</p>\n"},{"tags":[],"owner":{"account_id":36035,"reputation":15548,"user_id":102482,"accept_rate":91,"display_name":"Finglas"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1438280929,"creation_date":1313597683,"answer_id":7096107,"question_id":7075938,"body_markdown":"**Update**: [I have added a more expanded and more complete answer to this question in numerous other places. This is can be found on my blog][1].\r\n\r\nIf I ever need to make something public to test it, this usually hints that the system under test is not following the [Single Reponsibility Principle][2]. Hence there is a missing class that should be introduced. After extracting the code into a new class, make it public. Now you can test easily, and you are following SRP. Your other class simply has to invoke this new class via composition.\r\n\r\nMaking methods public/using langauge tricks such as marking code as visible to test assembilies should always be a last resort.\r\n\r\nFor example:\r\n\r\n    public class SystemUnderTest\r\n    {\r\n       public void DoStuff()\r\n       {\r\n          // Blah\r\n          // Call Validate()\r\n       }\r\n    \r\n       private void Validate()\r\n       {\r\n          // Several lines of complex code...\r\n       }\r\n    }\r\n\r\nRefactor this by introducing a validator object.\r\n\r\n    public class SystemUnderTest\r\n    {\r\n        public void DoStuff()\r\n        {\r\n           // Blah\r\n           validator.Invoke(..)\r\n        }\r\n    }\r\n\r\nNow all we have to do is test that the validator is invoked correctly. The actual process of validation (the previously private logic) can be tested in pure isolation. There will be no need for complex test set up to ensure this validation passes.\r\n \r\n\r\n\r\n  [1]: http://blog.shaunfinglas.co.uk/2015/05/testing-private-code.html\r\n  [2]: http://en.wikipedia.org/wiki/Single_responsibility_principle","title":"Making a private method public to unit test it...good idea?","body":"<p><strong>Update</strong>: <a href=\"http://blog.shaunfinglas.co.uk/2015/05/testing-private-code.html\" rel=\"noreferrer\">I have added a more expanded and more complete answer to this question in numerous other places. This is can be found on my blog</a>.</p>\n\n<p>If I ever need to make something public to test it, this usually hints that the system under test is not following the <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"noreferrer\">Single Reponsibility Principle</a>. Hence there is a missing class that should be introduced. After extracting the code into a new class, make it public. Now you can test easily, and you are following SRP. Your other class simply has to invoke this new class via composition.</p>\n\n<p>Making methods public/using langauge tricks such as marking code as visible to test assembilies should always be a last resort.</p>\n\n<p>For example:</p>\n\n<pre><code>public class SystemUnderTest\n{\n   public void DoStuff()\n   {\n      // Blah\n      // Call Validate()\n   }\n\n   private void Validate()\n   {\n      // Several lines of complex code...\n   }\n}\n</code></pre>\n\n<p>Refactor this by introducing a validator object.</p>\n\n<pre><code>public class SystemUnderTest\n{\n    public void DoStuff()\n    {\n       // Blah\n       validator.Invoke(..)\n    }\n}\n</code></pre>\n\n<p>Now all we have to do is test that the validator is invoked correctly. The actual process of validation (the previously private logic) can be tested in pure isolation. There will be no need for complex test set up to ensure this validation passes.</p>\n"},{"tags":[],"owner":{"account_id":14965,"reputation":55597,"user_id":31158,"accept_rate":89,"display_name":"Jord&#227;o"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313607223,"creation_date":1313607223,"answer_id":7097929,"question_id":7075938,"body_markdown":"Private methods that you want to test in isolation are an indication that there&#39;s another &quot;concept&quot; buried in your class. Extract that &quot;concept&quot; to its own class and test it as a separate &quot;unit&quot;.\r\n\r\nTake a look at [this video](http://vimeo.com/15007792) for a really interesting take on the subject.","title":"Making a private method public to unit test it...good idea?","body":"<p>Private methods that you want to test in isolation are an indication that there's another \"concept\" buried in your class. Extract that \"concept\" to its own class and test it as a separate \"unit\".</p>\n\n<p>Take a look at <a href=\"http://vimeo.com/15007792\" rel=\"noreferrer\">this video</a> for a really interesting take on the subject.</p>\n"},{"tags":[],"owner":{"account_id":928372,"reputation":2357,"user_id":958689,"display_name":"hiergiltdiestfu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399022803,"creation_date":1399022803,"answer_id":23424837,"question_id":7075938,"body_markdown":"I usually leave those methods as `protected` and place the unit test within the same package (but in another project or source folder), where they can access all the protected methods because the class loader will place them within the same namespace.","title":"Making a private method public to unit test it...good idea?","body":"<p>I usually leave those methods as <code>protected</code> and place the unit test within the same package (but in another project or source folder), where they can access all the protected methods because the class loader will place them within the same namespace.</p>\n"},{"tags":[],"owner":{"account_id":16046,"reputation":13138,"user_id":34553,"accept_rate":100,"display_name":"Daniel Alexiuc"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1437978529,"creation_date":1437978529,"answer_id":31646252,"question_id":7075938,"body_markdown":"Use reflection to access the private variables if you need to.\r\n\r\nBut really, you don&#39;t care about the internal state of the class, you just want to test that the public methods return what you expect in the situations you can anticipate.","title":"Making a private method public to unit test it...good idea?","body":"<p>Use reflection to access the private variables if you need to.</p>\n\n<p>But really, you don't care about the internal state of the class, you just want to test that the public methods return what you expect in the situations you can anticipate.</p>\n"},{"tags":[],"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1437995040,"creation_date":1437978532,"answer_id":31646253,"question_id":7075938,"body_markdown":"IMO, you should write your tests not making deep assumptions on how your class implemented inside. You probably want to refactor it later using another internal model but still making the same guarantees that previous implementation gives.\r\n\r\nKeeping that in mind I suggest you to focus on testing that your contract is still holds no matter what internal implementation your class currently have. Property based testing of your public APIs.","title":"Making a private method public to unit test it...good idea?","body":"<p>IMO, you should write your tests not making deep assumptions on how your class implemented inside. You probably want to refactor it later using another internal model but still making the same guarantees that previous implementation gives.</p>\n\n<p>Keeping that in mind I suggest you to focus on testing that your contract is still holds no matter what internal implementation your class currently have. Property based testing of your public APIs.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":2,"up_vote_count":195,"is_accepted":false,"score":193,"last_activity_date":1438149865,"creation_date":1437978650,"answer_id":31646279,"question_id":7075938,"body_markdown":"&gt; **Note:**&lt;br/&gt;\r\n&gt; This answer was originally posted for the question [Is unit testing alone ever a good reason to expose private instance variables via getters? ](https://stackoverflow.com/q/31646092/2422776) which was merged into this one, so it may be a tad specific to the usecase presented there.\r\n\r\nAs a general statement, I&#39;m usually all for refactoring &quot;production&quot; code to make it easier to test. However, I don&#39;t think that would be a good call here. A good unit test (usually) shouldn&#39;t care about the class&#39; implementation details, only about its visible behavior. Instead of exposing the internal stacks to the test, you could test that the class returns the pages in the order you expect it to after calling `first()` or `last()`. \r\n\r\nFor example, consider this pseudo-code:\r\n\r\n    public class NavigationTest {\r\n        private Navigation nav;\r\n        \r\n        @Before\r\n        public void setUp() {\r\n            // Set up nav so the order is page1-&gt;page2-&gt;page3 and\r\n            // we&#39;ve moved back to page2\r\n            nav = ...;\r\n        }\r\n        \r\n        @Test\r\n        public void testFirst() {\r\n            nav.first();\r\n        \r\n            assertEquals(&quot;page1&quot;, nav.getPage());\r\n        \r\n            nav.next();\r\n            assertEquals(&quot;page2&quot;, nav.getPage());\r\n        \r\n            nav.next();\r\n            assertEquals(&quot;page3&quot;, nav.getPage());\r\n        }\r\n        \r\n        @Test\r\n        public void testLast() {\r\n            nav.last();\r\n        \r\n            assertEquals(&quot;page3&quot;, nav.getPage());\r\n        \r\n            nav.previous();\r\n            assertEquals(&quot;page2&quot;, nav.getPage());\r\n        \r\n            nav.previous();\r\n            assertEquals(&quot;page1&quot;, nav.getPage());\r\n        }\r\n    }","title":"Making a private method public to unit test it...good idea?","body":"<blockquote>\n  <p><strong>Note:</strong><br/>\n  This answer was originally posted for the question <a href=\"https://stackoverflow.com/q/31646092/2422776\">Is unit testing alone ever a good reason to expose private instance variables via getters? </a> which was merged into this one, so it may be a tad specific to the usecase presented there.</p>\n</blockquote>\n\n<p>As a general statement, I'm usually all for refactoring \"production\" code to make it easier to test. However, I don't think that would be a good call here. A good unit test (usually) shouldn't care about the class' implementation details, only about its visible behavior. Instead of exposing the internal stacks to the test, you could test that the class returns the pages in the order you expect it to after calling <code>first()</code> or <code>last()</code>. </p>\n\n<p>For example, consider this pseudo-code:</p>\n\n<pre><code>public class NavigationTest {\n    private Navigation nav;\n\n    @Before\n    public void setUp() {\n        // Set up nav so the order is page1-&gt;page2-&gt;page3 and\n        // we've moved back to page2\n        nav = ...;\n    }\n\n    @Test\n    public void testFirst() {\n        nav.first();\n\n        assertEquals(\"page1\", nav.getPage());\n\n        nav.next();\n        assertEquals(\"page2\", nav.getPage());\n\n        nav.next();\n        assertEquals(\"page3\", nav.getPage());\n    }\n\n    @Test\n    public void testLast() {\n        nav.last();\n\n        assertEquals(\"page3\", nav.getPage());\n\n        nav.previous();\n        assertEquals(\"page2\", nav.getPage());\n\n        nav.previous();\n        assertEquals(\"page1\", nav.getPage());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4097798,"reputation":315,"user_id":3364088,"display_name":"Johny"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1437979277,"creation_date":1437979277,"answer_id":31646445,"question_id":7075938,"body_markdown":"in terms of unit testing, you should definitely not add more methods; I believe you would better make a test case just about your `first()` method, which would be called before each test; then you can call multiple times the - `next()`, `previous()` and `last()` to see if the outcomes match your expectation.\r\nI guess if you don&#39;t add more methods to your class (just for testing purposes), you would stick to the &quot;black box&quot; principle of testing;","title":"Making a private method public to unit test it...good idea?","body":"<p>in terms of unit testing, you should definitely not add more methods; I believe you would better make a test case just about your <code>first()</code> method, which would be called before each test; then you can call multiple times the - <code>next()</code>, <code>previous()</code> and <code>last()</code> to see if the outcomes match your expectation.\nI guess if you don't add more methods to your class (just for testing purposes), you would stick to the \"black box\" principle of testing;</p>\n"},{"tags":[],"owner":{"account_id":2367392,"reputation":238,"user_id":2227602,"display_name":"Alfred Armstrong"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1438009589,"creation_date":1438009589,"answer_id":31656690,"question_id":7075938,"body_markdown":"Why not split out the stack management algorithm into a utility class? The utility class can manage the stacks and provide public accessors. Its unit tests can be focussed on implementation detail. Deep tests for algorithmically tricky classes are very helpful in wrinkling out edge cases and ensuring coverage.\r\n\r\nThen your current class can cleanly delegate to the utility class without exposing any implementation details. Its tests will relate to the pagination requirement as others have recommended.","title":"Making a private method public to unit test it...good idea?","body":"<p>Why not split out the stack management algorithm into a utility class? The utility class can manage the stacks and provide public accessors. Its unit tests can be focussed on implementation detail. Deep tests for algorithmically tricky classes are very helpful in wrinkling out edge cases and ensuring coverage.</p>\n\n<p>Then your current class can cleanly delegate to the utility class without exposing any implementation details. Its tests will relate to the pagination requirement as others have recommended.</p>\n"},{"tags":[],"owner":{"account_id":6115116,"reputation":1655,"user_id":5162810,"display_name":"Graham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438045665,"creation_date":1438045665,"answer_id":31665836,"question_id":7075938,"body_markdown":"No, because there are better ways of skinning that cat.\r\n\r\nSome unit test harnesses rely on macros in the class definition which  automagically expand to create hooks when built in test mode. Very C style, but it works.\r\n\r\nAn easier OO idiom is to make anything you want to test &quot;protected&quot; rather than &quot;private&quot;. The test harness inherits from the class under test, and can then access all protected members.\r\n\r\nOr you go for the &quot;friend&quot; option. Personally this is the feature of C++ I like least because it breaks the encapsulation rules, but it happens to be necessary for how C++ implements some features, so hey ho.\r\n\r\nAnyway, if you&#39;re unit testing then you&#39;re just as likely to need to inject values into those members. White box texting is perfectly valid.  And that really *would* break your encapsulation.","title":"Making a private method public to unit test it...good idea?","body":"<p>No, because there are better ways of skinning that cat.</p>\n\n<p>Some unit test harnesses rely on macros in the class definition which  automagically expand to create hooks when built in test mode. Very C style, but it works.</p>\n\n<p>An easier OO idiom is to make anything you want to test \"protected\" rather than \"private\". The test harness inherits from the class under test, and can then access all protected members.</p>\n\n<p>Or you go for the \"friend\" option. Personally this is the feature of C++ I like least because it breaks the encapsulation rules, but it happens to be necessary for how C++ implements some features, so hey ho.</p>\n\n<p>Anyway, if you're unit testing then you're just as likely to need to inject values into those members. White box texting is perfectly valid.  And that really <em>would</em> break your encapsulation.</p>\n"},{"tags":[],"owner":{"account_id":2001206,"reputation":273,"user_id":1794978,"display_name":"coteyr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1438047989,"creation_date":1438047989,"answer_id":31666106,"question_id":7075938,"body_markdown":"You should never ever ever let your tests dictate your code. I&#39;m not speaking about TDD or other DDs I mean, exactly what your asking. Does your app need those methods to be public. If it does then test them. If it does not then then don&#39;t make them public just for testing. Same with variables and others. Let your application&#39;s needs dictate the code, and let your tests test that the need is met. (Again I don&#39;t mean testing first or not I mean changing a classes structure to meet a testing goal). \r\n\r\nInstead you should &quot;test higher&quot;. Test the method that calls the private method. But your tests should be testing your applications needs and not your &quot;implementation decisions&quot;.\r\n\r\nFor example (bod pseudo code here);\r\n\r\n       public int books(int a) {\r\n         return add(a, 2);\r\n       }\r\n       private int add(int a, int b) {\r\n         return a+b;\r\n       } \r\n\r\nThere is no reason to test &quot;add&quot; you can test &quot;books&quot; instead. \r\n\r\nNever ever let your tests make code design decisions for you. Test that you get the expected result, not how you get that result.","title":"Making a private method public to unit test it...good idea?","body":"<p>You should never ever ever let your tests dictate your code. I'm not speaking about TDD or other DDs I mean, exactly what your asking. Does your app need those methods to be public. If it does then test them. If it does not then then don't make them public just for testing. Same with variables and others. Let your application's needs dictate the code, and let your tests test that the need is met. (Again I don't mean testing first or not I mean changing a classes structure to meet a testing goal). </p>\n\n<p>Instead you should \"test higher\". Test the method that calls the private method. But your tests should be testing your applications needs and not your \"implementation decisions\".</p>\n\n<p>For example (bod pseudo code here);</p>\n\n<pre><code>   public int books(int a) {\n     return add(a, 2);\n   }\n   private int add(int a, int b) {\n     return a+b;\n   } \n</code></pre>\n\n<p>There is no reason to test \"add\" you can test \"books\" instead. </p>\n\n<p>Never ever let your tests make code design decisions for you. Test that you get the expected result, not how you get that result.</p>\n"},{"tags":[],"owner":{"account_id":321393,"reputation":12292,"user_id":640195,"display_name":"yoel halb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466775994,"creation_date":1466775994,"answer_id":38014968,"question_id":7075938,"body_markdown":"In .Net there is a special class called `PrivateObject` deigned specifically to allow you to access private methods of a class.\r\n\r\nSee more about it on [the MSDN][1] or here on [Stack Overflow][2]\r\n\r\n(I am wondering that no one has mentioned it so far.)\r\n\r\nThere are situations though which this is not enough, in which case you will have to use reflection.\r\n\r\nStill I would adhere to the general recommendation not to test private methods, however as usual there are always exceptions.\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/microsoft.visualstudio.testtools.unittesting.privateobject.aspx\r\n  [2]: https://stackoverflow.com/questions/5396996/how-can-i-use-privateobject-to-access-private-members-of-both-my-class-and-its-p","title":"Making a private method public to unit test it...good idea?","body":"<p>In .Net there is a special class called <code>PrivateObject</code> deigned specifically to allow you to access private methods of a class.</p>\n\n<p>See more about it on <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.visualstudio.testtools.unittesting.privateobject.aspx\" rel=\"nofollow noreferrer\">the MSDN</a> or here on <a href=\"https://stackoverflow.com/questions/5396996/how-can-i-use-privateobject-to-access-private-members-of-both-my-class-and-its-p\">Stack Overflow</a></p>\n\n<p>(I am wondering that no one has mentioned it so far.)</p>\n\n<p>There are situations though which this is not enough, in which case you will have to use reflection.</p>\n\n<p>Still I would adhere to the general recommendation not to test private methods, however as usual there are always exceptions.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1610485222,"creation_date":1514747590,"answer_id":48045113,"question_id":7075938,"body_markdown":"Very answered question.&lt;br&gt;\r\nIHMO, the excellent [answer][1] from @BlueRaja - Danny Pflughoeft is one of the best.&lt;br&gt;\r\n\r\n&gt; Lots of answers suggest only testing the public interface, but IMHO\r\n&gt; this is unrealistic - if a method does something that takes 5 steps,\r\n&gt; you&#39;ll want to test those five steps separately, not all together.\r\n&gt; This requires testing all five methods, which (other than for testing)\r\n&gt; might otherwise be private.\r\n\r\n\r\n----------\r\nAbove all, I want to stress that the question &quot;should we make a private method public to unit test it&quot; is a question which an objectively correct answer depends on multiple parameters.   \r\nSo I think that in some cases **we have not** to and in others **we should**.  \r\n\r\n----------\r\n\r\n**Making public a private method or extracting the private method as a public method in another class (new or existing)?** &lt;br&gt;\r\n\r\nIt is rarely the best way.     \r\nA unit test has to test the behavior of **one** API method/function.    \r\nIf you test a `public` method that invokes another `public` method belonging to the same component, you don&#39;t **unit test** the method. You test **multiple** `public` methods at the same time.    \r\nAs a consequence, you may duplicate tests, test fixtures, test assertions, the test maintenance and more generally the application design.&lt;br&gt;\r\nAs the tests value decreases, they often lose interest for developers that write or maintain them.&lt;br&gt;\r\n\r\nTo avoid all this duplication, instead of making the `private` method `public` method, in many cases a better solution is **extracting the `private` method as a `public` method in a new or an existing class**.&lt;br&gt;\r\nIt will not create a design defect.&lt;br&gt;\r\nIt will make the code more meaningful and the class less bloat.&lt;br&gt; \r\nBesides, sometimes the `private` method is a routine/subset of the class while the behavior suits better in a specific structure.&lt;br&gt;\r\nAt last, it also makes the code more testable and avoid tests duplication.&lt;br&gt; \r\nWe can indeed prevent tests duplication by unit testing the `public` method in its own test class and in the test class of the client classes, we have just to mock the dependency.&lt;br&gt;\r\n\r\n\r\n**Mocking private methods?**&lt;br&gt;\r\n\r\nWhile it is possible by using reflection or with tools as PowerMock, I think that it is often a way to bypass a design issue.&lt;br&gt;\r\nA `private` member is not designed to be exposed to other classes.    \r\nA test class is a class as another. So we should apply the same rule for it.    \r\n\r\n**Mocking public methods of the object under test?**&lt;br&gt;\r\n\r\nYou may want to change the modifier `private` to `public` to test the method.&lt;br&gt;\r\nThen to test the method that uses this refactored public method, you may be tempted to mock the refactored `public` method  by using tools as Mockito ([spy concept][2]) but similarly to mocking `private` methods, we should avoid to mock the object under test.&lt;br&gt;\r\n\r\nThe `Mockito.spy()` documentation says it itself : \r\n\r\n&gt; Creates a spy of the real object. The spy calls real methods unless they are &gt; &gt; stubbed. \r\n&gt;\r\n&gt; Real spies should be used carefully and occasionally, for example when\r\n&gt; dealing with legacy code.\r\n\r\nBy experience, using `spy()` generally decreases the test quality and its readability.&lt;br&gt;\r\nBesides, it is much more error-prone as the object under test is both a mock and a real object.&lt;br&gt;\r\nIt is often the best way to write an invalid acceptance test.\r\n\r\n----------\r\n\r\n**Here is a guideline I use to decide whether a `private`  method should stay `private` or be refactored.**&lt;br&gt;\r\n\r\n\r\nCase 1) Never make a `private` method `public` if this method is invoked **once**.&lt;br&gt;\r\nIt is a `private` method for **a single** method. So you could never duplicate test logic as it is invoke once.&lt;br&gt;\r\n\r\nCase 2) You should wonder whether a `private` method should be refactored as a `public` method if the `private` method is invoked **more than once**.&lt;br&gt;\r\n\r\nHow to decide ?&lt;br&gt;\r\n\r\n- The `private` method doesn&#39;t produce duplication in the tests.&lt;br&gt; \r\n-&gt; Keep the method **private** as it is. \r\n\r\n- The `private` method produces duplication in the tests. That is, you need to repeat some tests, to assert the same logic for each test that unit-tests `public` methods using the `private` method.&lt;br&gt;\r\n-&gt; **If the repeated processing may make part of the API provided to clients** (no security issue, no internal processing, etc...), **extract the `private` method as a `public` method in a new class**.&lt;br&gt;\r\n-&gt; Otherwise, **if the repeated processing has not to make part of the API provided to clients** (security issue, internal processing, etc...), **don&#39;t widen the visibility of the `private` method to `public`**.&lt;br&gt;\r\nYou may leave it unchanged or move the method in a `private` package class that will never make part of the API and would be never accessible by clients.&lt;br&gt;\r\n\r\n\r\n----------\r\n**Code examples**&lt;br&gt;\r\n\r\nThe examples rely on Java and the following libraries : JUnit, AssertJ (assertion matcher) and Mockito.&lt;br&gt;\r\nBut I think that the overall approach is also valid for C#.&lt;br&gt;\r\n\r\n\r\n**1) Example where the `private` method doesn&#39;t create duplication in the test code**&lt;br&gt;\r\n\r\nHere is a `Computation` class that provides methods to perform some computations.&lt;br&gt;\r\nAll public methods use the `mapToInts()` method.\r\n\r\n\r\n    public class Computation {\r\n    \r\n    \tpublic int add(String a, String b) {\r\n    \t\tint[] ints = mapToInts(a, b);\r\n    \t\treturn ints[0] + ints[1];\r\n    \t}\r\n    \r\n    \tpublic int minus(String a, String b) {\r\n    \t\tint[] ints = mapToInts(a, b);\r\n    \t\treturn ints[0] - ints[1];\r\n    \t}\r\n    \r\n    \tpublic int multiply(String a, String b) {\r\n    \t\tint[] ints = mapToInts(a, b);\r\n    \t\treturn ints[0] * ints[1];\r\n    \t}\r\n    \r\n    \tprivate int[] mapToInts(String a, String b) {\r\n    \t\treturn new int[] { Integer.parseInt(a), Integer.parseInt(b) };\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is the test code :\r\n\r\n    public class ComputationTest {\r\n    \r\n    \tprivate Computation computation = new Computation();\r\n    \r\n    \t@Test\r\n    \tpublic void add() throws Exception {\r\n    \t\tAssert.assertEquals(7, computation.add(&quot;3&quot;, &quot;4&quot;));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void minus() throws Exception {\r\n    \t\tAssert.assertEquals(2, computation.minus(&quot;5&quot;, &quot;3&quot;));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void multiply() throws Exception {\r\n    \t\tAssert.assertEquals(100, computation.multiply(&quot;20&quot;, &quot;5&quot;));\r\n    \t}\r\n    \r\n    }\r\n\r\nWe could see that the invocation of the `private` method `mapToInts()` doesn&#39;t duplicate the test logic.&lt;br&gt;\r\nIt is an intermediary operation and it doesn&#39;t produce a specific result that we need to assert in the tests.&lt;br&gt;\r\n\r\n\r\n**2) Example where the `private` method creates undesirable duplication in the test code**&lt;br&gt;\r\n\r\nHere is a `MessageService` class that provides methods to create messages.&lt;br&gt;\r\nAll `public` methods use the `createHeader()` method : &lt;br&gt;\r\n\r\n    public class MessageService {\r\n    \r\n    \tpublic Message createMessage(String message, Credentials credentials) {\r\n    \t\tHeader header = createHeader(credentials, message, false);\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    \tpublic Message createEncryptedMessage(String message, Credentials credentials) {\r\n    \t\tHeader header = createHeader(credentials, message, true);\r\n    \t\t// specific processing to encrypt\r\n    \t\t// ......\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    \tpublic Message createAnonymousMessage(String message) {\r\n    \t\tHeader header = createHeader(Credentials.anonymous(), message, false);\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    \tprivate Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\r\n    \t\treturn new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is the test code :\r\n\r\n\r\n    import java.time.LocalDate;\r\n    \r\n    import org.assertj.core.api.Assertions;\r\n    import org.junit.Test;\r\n    \r\n    import junit.framework.Assert;\r\n    \r\n    public class MessageServiceTest {\r\n    \r\n    \tprivate MessageService messageService = new MessageService();\r\n    \r\n    \t@Test\r\n    \tpublic void createMessage() throws Exception {\r\n    \t\tfinal String inputMessage = &quot;simple message&quot;;\r\n    \t\tfinal Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\r\n    \t\tMessage actualMessage = messageService.createMessage(inputMessage, inputCredentials);\r\n    \t\t// assertion\r\n    \t\tAssert.assertEquals(inputMessage, actualMessage.getMessage());\r\n    \t\tAssertions.assertThat(actualMessage.getHeader())\r\n    \t\t          .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\r\n    \t\t          .containsExactly(inputCredentials, 9, LocalDate.now(), false);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void createEncryptedMessage() throws Exception {\r\n    \t\tfinal String inputMessage = &quot;encryted message&quot;;\r\n    \t\tfinal Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\r\n    \t\tMessage actualMessage = messageService.createEncryptedMessage(inputMessage, inputCredentials);\r\n    \t\t// assertion\r\n    \t\tAssert.assertEquals(&quot;A&#231;4B36ddflm1Dkok49d1d9gaz&quot;, actualMessage.getMessage());\r\n    \t\tAssertions.assertThat(actualMessage.getHeader())\r\n    \t\t          .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\r\n    \t\t          .containsExactly(inputCredentials, 9, LocalDate.now(), true);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void createAnonymousMessage() throws Exception {\r\n    \t\tfinal String inputMessage = &quot;anonymous message&quot;;\r\n    \t\tMessage actualMessage = messageService.createAnonymousMessage(inputMessage);\r\n    \t\t// assertion\r\n    \t\tAssert.assertEquals(inputMessage, actualMessage.getMessage());\r\n    \t\tAssertions.assertThat(actualMessage.getHeader())\r\n    \t\t          .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\r\n    \t\t          .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), false);\r\n    \t}\r\n    \r\n    }\r\n\r\nWe could see that the invocation of the `private` method `createHeader()` creates some duplication in the test logic.&lt;br&gt;\r\n`createHeader()` creates indeed a specific result that we need to assert in the tests.&lt;br&gt;\r\nWe assert 3 times the header content while a single assertion should be required.&lt;br&gt;\r\n\r\nWe could also note that the asserting duplication is close between the methods but not necessary the same as the `private` method has a specific logic :\r\nOf course, we could have more differences according to the logic complexity of the `private` method.&lt;br&gt;\r\nBesides, at each time we add a new `public` method in `MessageService` that calls `createHeader()`, we will have to add this assertion.&lt;br&gt;\r\nNote also that if `createHeader()` modifies its behavior, all these tests may also need to be modified.&lt;br&gt;\r\nDefinitively, it is not a very good design.&lt;br&gt;\r\n\r\n**Refactoring step** \r\n\r\nSuppose we are in a case where `createHeader()` is acceptable to make part of the API.&lt;br&gt;\r\nWe will start by refactoring the `MessageService` class by changing the access modifier of `createHeader()` to `public` :\r\n\r\n\tpublic Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\r\n\t\treturn new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\r\n\t}\r\n\r\nWe could now test unitary this method :\r\n\r\n    @Test\r\n    public void createHeader_with_encrypted_message() throws Exception {\r\n      ...\r\n      boolean isEncrypted = true;\r\n \t  // action\r\n      Header actualHeader = messageService.createHeader(credentials, message, isEncrypted);\r\n      // assertion\r\n\t  Assertions.assertThat(actualHeader)\r\n\t\t          .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\r\n\t\t          .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), true);\r\n    }\r\n\r\n    @Test\r\n    public void createHeader_with_not_encrypted_message() throws Exception {\r\n      ...\r\n      boolean isEncrypted = false;\r\n \t  // action\r\n\t  messageService.createHeader(credentials, message, isEncrypted);\r\n      // assertion\r\n\t  Assertions.assertThat(actualHeader)\r\n\t\t          .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\r\n\t\t          .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), false);\r\n\r\n    }\r\n\r\n\r\nBut what about the tests we write previously for `public` methods of the class that use `createHeader()` ?&lt;br&gt;\r\nNot many differences. &lt;br&gt;\r\nIn fact, we are still annoyed as these `public` methods still need to be tested concerning the returned header value.&lt;br&gt;\r\nIf we remove these assertions, we may not detect regressions about it.&lt;br&gt;\r\nWe should be able to naturally isolate this processing but we cannot as the `createHeader()` method belongs to the tested component.&lt;br&gt;\r\nThat&#39;s why I explained at the beginning of my answer that in most of cases, we should favor the extraction of the `private` method in another class to the change of the access modifier to `public`.&lt;br&gt;\r\n\r\nSo we introduce `HeaderService` :\r\n\r\n    public class HeaderService {\r\n    \r\n    \tpublic Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\r\n    \t\treturn new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd we migrate the `createHeader()` tests in `HeaderServiceTest`.&lt;br&gt;\r\n\r\nNow `MessageService` is defined with a `HeaderService` dependency:\r\n\r\n    public class MessageService {\r\n    \r\n    \tprivate HeaderService headerService;\r\n    \r\n    \tpublic MessageService(HeaderService headerService) {\r\n    \t\tthis.headerService = headerService;\r\n    \t}\r\n    \r\n    \tpublic Message createMessage(String message, Credentials credentials) {\r\n    \t\tHeader header = headerService.createHeader(credentials, message, false);\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    \tpublic Message createEncryptedMessage(String message, Credentials credentials) {\r\n    \t\tHeader header = headerService.createHeader(credentials, message, true);\r\n    \t\t// specific processing to encrypt\r\n    \t\t// ......\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    \tpublic Message createAnonymousMessage(String message) {\r\n    \t\tHeader header = headerService.createHeader(Credentials.anonymous(), message, false);\r\n    \t\treturn new Message(header, message);\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd in  `MessageService`  tests, we don&#39;t need any longer to assert each header value as this is already tested.&lt;br&gt;\r\nWe want to just ensure that `Message.getHeader()` returns what  `HeaderService.createHeader()` has returned.&lt;br&gt;\r\n\r\nFor example, here is the new version of `createMessage()` test :\r\n\r\n\t@Test\r\n\tpublic void createMessage() throws Exception {\r\n\t\tfinal String inputMessage = &quot;simple message&quot;;\r\n\t\tfinal Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\r\n\t\tfinal Header fakeHeaderForMock = createFakeHeader();\r\n\t\tMockito.when(headerService.createHeader(inputCredentials, inputMessage, false))\r\n\t\t       .thenReturn(fakeHeaderForMock);\r\n\t\t// action\r\n\t\tMessage actualMessage = messageService.createMessage(inputMessage, inputCredentials);\r\n\t\t// assertion\r\n\t\tAssert.assertEquals(inputMessage, actualMessage.getMessage());\r\n\t\tAssert.assertSame(fakeHeaderForMock, actualMessage.getHeader());\r\n\t}\r\n\r\nNote the `assertSame()` use to compare the object references for the headers and not the contents.&lt;br&gt;\r\nNow, `HeaderService.createHeader()` may change its behavior and return different values, it doesn&#39;t matter from the `MessageService` tests point of view.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7083360/270371\r\n  [2]: https://static.javadoc.io/org.mockito/mockito-core/2.13.0/org/mockito/Spy.html\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Making a private method public to unit test it...good idea?","body":"<p>Very answered question.<br>\nIHMO, the excellent <a href=\"https://stackoverflow.com/a/7083360/270371\">answer</a> from @BlueRaja - Danny Pflughoeft is one of the best.<br></p>\n<blockquote>\n<p>Lots of answers suggest only testing the public interface, but IMHO\nthis is unrealistic - if a method does something that takes 5 steps,\nyou'll want to test those five steps separately, not all together.\nThis requires testing all five methods, which (other than for testing)\nmight otherwise be private.</p>\n</blockquote>\n<hr />\n<p>Above all, I want to stress that the question &quot;should we make a private method public to unit test it&quot; is a question which an objectively correct answer depends on multiple parameters.<br />\nSo I think that in some cases <strong>we have not</strong> to and in others <strong>we should</strong>.</p>\n<hr />\n<p><strong>Making public a private method or extracting the private method as a public method in another class (new or existing)?</strong> <br></p>\n<p>It is rarely the best way.<br />\nA unit test has to test the behavior of <strong>one</strong> API method/function.<br />\nIf you test a <code>public</code> method that invokes another <code>public</code> method belonging to the same component, you don't <strong>unit test</strong> the method. You test <strong>multiple</strong> <code>public</code> methods at the same time.<br />\nAs a consequence, you may duplicate tests, test fixtures, test assertions, the test maintenance and more generally the application design.<br>\nAs the tests value decreases, they often lose interest for developers that write or maintain them.<br></p>\n<p>To avoid all this duplication, instead of making the <code>private</code> method <code>public</code> method, in many cases a better solution is <strong>extracting the <code>private</code> method as a <code>public</code> method in a new or an existing class</strong>.<br>\nIt will not create a design defect.<br>\nIt will make the code more meaningful and the class less bloat.<br>\nBesides, sometimes the <code>private</code> method is a routine/subset of the class while the behavior suits better in a specific structure.<br>\nAt last, it also makes the code more testable and avoid tests duplication.<br>\nWe can indeed prevent tests duplication by unit testing the <code>public</code> method in its own test class and in the test class of the client classes, we have just to mock the dependency.<br></p>\n<p><strong>Mocking private methods?</strong><br></p>\n<p>While it is possible by using reflection or with tools as PowerMock, I think that it is often a way to bypass a design issue.<br>\nA <code>private</code> member is not designed to be exposed to other classes.<br />\nA test class is a class as another. So we should apply the same rule for it.</p>\n<p><strong>Mocking public methods of the object under test?</strong><br></p>\n<p>You may want to change the modifier <code>private</code> to <code>public</code> to test the method.<br>\nThen to test the method that uses this refactored public method, you may be tempted to mock the refactored <code>public</code> method  by using tools as Mockito (<a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.13.0/org/mockito/Spy.html\" rel=\"nofollow noreferrer\">spy concept</a>) but similarly to mocking <code>private</code> methods, we should avoid to mock the object under test.<br></p>\n<p>The <code>Mockito.spy()</code> documentation says it itself :</p>\n<blockquote>\n<p>Creates a spy of the real object. The spy calls real methods unless they are &gt; &gt; stubbed.</p>\n<p>Real spies should be used carefully and occasionally, for example when\ndealing with legacy code.</p>\n</blockquote>\n<p>By experience, using <code>spy()</code> generally decreases the test quality and its readability.<br>\nBesides, it is much more error-prone as the object under test is both a mock and a real object.<br>\nIt is often the best way to write an invalid acceptance test.</p>\n<hr />\n<p><strong>Here is a guideline I use to decide whether a <code>private</code>  method should stay <code>private</code> or be refactored.</strong><br></p>\n<p>Case 1) Never make a <code>private</code> method <code>public</code> if this method is invoked <strong>once</strong>.<br>\nIt is a <code>private</code> method for <strong>a single</strong> method. So you could never duplicate test logic as it is invoke once.<br></p>\n<p>Case 2) You should wonder whether a <code>private</code> method should be refactored as a <code>public</code> method if the <code>private</code> method is invoked <strong>more than once</strong>.<br></p>\n<p>How to decide ?<br></p>\n<ul>\n<li><p>The <code>private</code> method doesn't produce duplication in the tests.<br>\n-&gt; Keep the method <strong>private</strong> as it is.</p>\n</li>\n<li><p>The <code>private</code> method produces duplication in the tests. That is, you need to repeat some tests, to assert the same logic for each test that unit-tests <code>public</code> methods using the <code>private</code> method.<br>\n-&gt; <strong>If the repeated processing may make part of the API provided to clients</strong> (no security issue, no internal processing, etc...), <strong>extract the <code>private</code> method as a <code>public</code> method in a new class</strong>.<br>\n-&gt; Otherwise, <strong>if the repeated processing has not to make part of the API provided to clients</strong> (security issue, internal processing, etc...), <strong>don't widen the visibility of the <code>private</code> method to <code>public</code></strong>.<br>\nYou may leave it unchanged or move the method in a <code>private</code> package class that will never make part of the API and would be never accessible by clients.<br></p>\n</li>\n</ul>\n<hr />\n<p><strong>Code examples</strong><br></p>\n<p>The examples rely on Java and the following libraries : JUnit, AssertJ (assertion matcher) and Mockito.<br>\nBut I think that the overall approach is also valid for C#.<br></p>\n<p><strong>1) Example where the <code>private</code> method doesn't create duplication in the test code</strong><br></p>\n<p>Here is a <code>Computation</code> class that provides methods to perform some computations.<br>\nAll public methods use the <code>mapToInts()</code> method.</p>\n<pre><code>public class Computation {\n\n    public int add(String a, String b) {\n        int[] ints = mapToInts(a, b);\n        return ints[0] + ints[1];\n    }\n\n    public int minus(String a, String b) {\n        int[] ints = mapToInts(a, b);\n        return ints[0] - ints[1];\n    }\n\n    public int multiply(String a, String b) {\n        int[] ints = mapToInts(a, b);\n        return ints[0] * ints[1];\n    }\n\n    private int[] mapToInts(String a, String b) {\n        return new int[] { Integer.parseInt(a), Integer.parseInt(b) };\n    }\n\n}\n</code></pre>\n<p>Here is the test code :</p>\n<pre><code>public class ComputationTest {\n\n    private Computation computation = new Computation();\n\n    @Test\n    public void add() throws Exception {\n        Assert.assertEquals(7, computation.add(&quot;3&quot;, &quot;4&quot;));\n    }\n\n    @Test\n    public void minus() throws Exception {\n        Assert.assertEquals(2, computation.minus(&quot;5&quot;, &quot;3&quot;));\n    }\n\n    @Test\n    public void multiply() throws Exception {\n        Assert.assertEquals(100, computation.multiply(&quot;20&quot;, &quot;5&quot;));\n    }\n\n}\n</code></pre>\n<p>We could see that the invocation of the <code>private</code> method <code>mapToInts()</code> doesn't duplicate the test logic.<br>\nIt is an intermediary operation and it doesn't produce a specific result that we need to assert in the tests.<br></p>\n<p><strong>2) Example where the <code>private</code> method creates undesirable duplication in the test code</strong><br></p>\n<p>Here is a <code>MessageService</code> class that provides methods to create messages.<br>\nAll <code>public</code> methods use the <code>createHeader()</code> method : <br></p>\n<pre><code>public class MessageService {\n\n    public Message createMessage(String message, Credentials credentials) {\n        Header header = createHeader(credentials, message, false);\n        return new Message(header, message);\n    }\n\n    public Message createEncryptedMessage(String message, Credentials credentials) {\n        Header header = createHeader(credentials, message, true);\n        // specific processing to encrypt\n        // ......\n        return new Message(header, message);\n    }\n\n    public Message createAnonymousMessage(String message) {\n        Header header = createHeader(Credentials.anonymous(), message, false);\n        return new Message(header, message);\n    }\n\n    private Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\n        return new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\n    }\n\n}\n</code></pre>\n<p>Here is the test code :</p>\n<pre><code>import java.time.LocalDate;\n\nimport org.assertj.core.api.Assertions;\nimport org.junit.Test;\n\nimport junit.framework.Assert;\n\npublic class MessageServiceTest {\n\n    private MessageService messageService = new MessageService();\n\n    @Test\n    public void createMessage() throws Exception {\n        final String inputMessage = &quot;simple message&quot;;\n        final Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\n        Message actualMessage = messageService.createMessage(inputMessage, inputCredentials);\n        // assertion\n        Assert.assertEquals(inputMessage, actualMessage.getMessage());\n        Assertions.assertThat(actualMessage.getHeader())\n                  .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\n                  .containsExactly(inputCredentials, 9, LocalDate.now(), false);\n    }\n\n    @Test\n    public void createEncryptedMessage() throws Exception {\n        final String inputMessage = &quot;encryted message&quot;;\n        final Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\n        Message actualMessage = messageService.createEncryptedMessage(inputMessage, inputCredentials);\n        // assertion\n        Assert.assertEquals(&quot;Aç4B36ddflm1Dkok49d1d9gaz&quot;, actualMessage.getMessage());\n        Assertions.assertThat(actualMessage.getHeader())\n                  .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\n                  .containsExactly(inputCredentials, 9, LocalDate.now(), true);\n    }\n\n    @Test\n    public void createAnonymousMessage() throws Exception {\n        final String inputMessage = &quot;anonymous message&quot;;\n        Message actualMessage = messageService.createAnonymousMessage(inputMessage);\n        // assertion\n        Assert.assertEquals(inputMessage, actualMessage.getMessage());\n        Assertions.assertThat(actualMessage.getHeader())\n                  .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\n                  .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), false);\n    }\n\n}\n</code></pre>\n<p>We could see that the invocation of the <code>private</code> method <code>createHeader()</code> creates some duplication in the test logic.<br>\n<code>createHeader()</code> creates indeed a specific result that we need to assert in the tests.<br>\nWe assert 3 times the header content while a single assertion should be required.<br></p>\n<p>We could also note that the asserting duplication is close between the methods but not necessary the same as the <code>private</code> method has a specific logic :\nOf course, we could have more differences according to the logic complexity of the <code>private</code> method.<br>\nBesides, at each time we add a new <code>public</code> method in <code>MessageService</code> that calls <code>createHeader()</code>, we will have to add this assertion.<br>\nNote also that if <code>createHeader()</code> modifies its behavior, all these tests may also need to be modified.<br>\nDefinitively, it is not a very good design.<br></p>\n<p><strong>Refactoring step</strong></p>\n<p>Suppose we are in a case where <code>createHeader()</code> is acceptable to make part of the API.<br>\nWe will start by refactoring the <code>MessageService</code> class by changing the access modifier of <code>createHeader()</code> to <code>public</code> :</p>\n<pre><code>public Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\n    return new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\n}\n</code></pre>\n<p>We could now test unitary this method :</p>\n<pre><code>@Test\npublic void createHeader_with_encrypted_message() throws Exception {\n  ...\n  boolean isEncrypted = true;\n  // action\n  Header actualHeader = messageService.createHeader(credentials, message, isEncrypted);\n  // assertion\n  Assertions.assertThat(actualHeader)\n              .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\n              .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), true);\n}\n\n@Test\npublic void createHeader_with_not_encrypted_message() throws Exception {\n  ...\n  boolean isEncrypted = false;\n  // action\n  messageService.createHeader(credentials, message, isEncrypted);\n  // assertion\n  Assertions.assertThat(actualHeader)\n              .extracting(Header::getCredentials, Header::getLength, Header::getDate, Header::isEncryptedMessage)\n              .containsExactly(Credentials.anonymous(), 9, LocalDate.now(), false);\n\n}\n</code></pre>\n<p>But what about the tests we write previously for <code>public</code> methods of the class that use <code>createHeader()</code> ?<br>\nNot many differences. <br>\nIn fact, we are still annoyed as these <code>public</code> methods still need to be tested concerning the returned header value.<br>\nIf we remove these assertions, we may not detect regressions about it.<br>\nWe should be able to naturally isolate this processing but we cannot as the <code>createHeader()</code> method belongs to the tested component.<br>\nThat's why I explained at the beginning of my answer that in most of cases, we should favor the extraction of the <code>private</code> method in another class to the change of the access modifier to <code>public</code>.<br></p>\n<p>So we introduce <code>HeaderService</code> :</p>\n<pre><code>public class HeaderService {\n\n    public Header createHeader(Credentials credentials, String message, boolean isEncrypted) {\n        return new Header(credentials, message.length(), LocalDate.now(), isEncrypted);\n    }\n\n}\n</code></pre>\n<p>And we migrate the <code>createHeader()</code> tests in <code>HeaderServiceTest</code>.<br></p>\n<p>Now <code>MessageService</code> is defined with a <code>HeaderService</code> dependency:</p>\n<pre><code>public class MessageService {\n\n    private HeaderService headerService;\n\n    public MessageService(HeaderService headerService) {\n        this.headerService = headerService;\n    }\n\n    public Message createMessage(String message, Credentials credentials) {\n        Header header = headerService.createHeader(credentials, message, false);\n        return new Message(header, message);\n    }\n\n    public Message createEncryptedMessage(String message, Credentials credentials) {\n        Header header = headerService.createHeader(credentials, message, true);\n        // specific processing to encrypt\n        // ......\n        return new Message(header, message);\n    }\n\n    public Message createAnonymousMessage(String message) {\n        Header header = headerService.createHeader(Credentials.anonymous(), message, false);\n        return new Message(header, message);\n    }\n\n}\n</code></pre>\n<p>And in  <code>MessageService</code>  tests, we don't need any longer to assert each header value as this is already tested.<br>\nWe want to just ensure that <code>Message.getHeader()</code> returns what  <code>HeaderService.createHeader()</code> has returned.<br></p>\n<p>For example, here is the new version of <code>createMessage()</code> test :</p>\n<pre><code>@Test\npublic void createMessage() throws Exception {\n    final String inputMessage = &quot;simple message&quot;;\n    final Credentials inputCredentials = new Credentials(&quot;user&quot;, &quot;pass&quot;);\n    final Header fakeHeaderForMock = createFakeHeader();\n    Mockito.when(headerService.createHeader(inputCredentials, inputMessage, false))\n           .thenReturn(fakeHeaderForMock);\n    // action\n    Message actualMessage = messageService.createMessage(inputMessage, inputCredentials);\n    // assertion\n    Assert.assertEquals(inputMessage, actualMessage.getMessage());\n    Assert.assertSame(fakeHeaderForMock, actualMessage.getHeader());\n}\n</code></pre>\n<p>Note the <code>assertSame()</code> use to compare the object references for the headers and not the contents.<br>\nNow, <code>HeaderService.createHeader()</code> may change its behavior and return different values, it doesn't matter from the <code>MessageService</code> tests point of view.</p>\n"},{"tags":[],"owner":{"account_id":1717540,"reputation":6124,"user_id":1574294,"accept_rate":86,"display_name":"Kolyunya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634761599,"creation_date":1634761599,"answer_id":69652627,"question_id":7075938,"body_markdown":"When you have complex logic in some method that you want to test, this is a good indicator that the class violates the single responsibility principle.\r\n\r\nA good solution for that would be to:\r\n1. Create an interface for the functionality the original method had.\r\n2. Implement and test that interface in a class.\r\n3. Inject the interface into the original class.","title":"Making a private method public to unit test it...good idea?","body":"<p>When you have complex logic in some method that you want to test, this is a good indicator that the class violates the single responsibility principle.</p>\n<p>A good solution for that would be to:</p>\n<ol>\n<li>Create an interface for the functionality the original method had.</li>\n<li>Implement and test that interface in a class.</li>\n<li>Inject the interface into the original class.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":199879,"reputation":1105,"user_id":445440,"accept_rate":68,"display_name":"danny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642658320,"creation_date":1642651262,"answer_id":70780650,"question_id":7075938,"body_markdown":"recently I have come to the same thinking when refactoring a big method(&gt; 200 lines). I successfully split the big method into smaller methods for each logical step, so it is easy to reason about.\r\n\r\nwhen comes to the refactored out small private methods, I wonder should I test them separately since if I only test the public method, I&#39;m still testing the big method, testing is not benefiting from the refactoring at all\r\n\r\nafter some more thought I came to some realizations:\r\n\r\n 1. if all the small methods are private and can&#39;t be reused by others,\r\n    maybe I am doing something wrong: **I am not pulling the right\r\n    abstraction from the code**, I am only splitting the big methods\r\n    treating them like lines/strings, not like **mental barrier**\r\n 2. when I came to the right small methods(*I refactored again,\r\n    completely changing the small methods*), and move the small methods\r\n    into another class exposed as public methods **for others to use**,\r\n    now I can test them(and I should test them, they will be used more\r\n    and deserver the attention)\r\n\r\nSummary: \r\n\r\nI still have many small private methods, but they are sharing lots of public methods and the small methods is really small(3-4 lines, mostly function call), but **I will not test them**, I **only need to test the shared public method now in another class**","title":"Making a private method public to unit test it...good idea?","body":"<p>recently I have come to the same thinking when refactoring a big method(&gt; 200 lines). I successfully split the big method into smaller methods for each logical step, so it is easy to reason about.</p>\n<p>when comes to the refactored out small private methods, I wonder should I test them separately since if I only test the public method, I'm still testing the big method, testing is not benefiting from the refactoring at all</p>\n<p>after some more thought I came to some realizations:</p>\n<ol>\n<li>if all the small methods are private and can't be reused by others,\nmaybe I am doing something wrong: <strong>I am not pulling the right\nabstraction from the code</strong>, I am only splitting the big methods\ntreating them like lines/strings, not like <strong>mental barrier</strong></li>\n<li>when I came to the right small methods(<em>I refactored again,\ncompletely changing the small methods</em>), and move the small methods\ninto another class exposed as public methods <strong>for others to use</strong>,\nnow I can test them(and I should test them, they will be used more\nand deserver the attention)</li>\n</ol>\n<p>Summary:</p>\n<p>I still have many small private methods, but they are sharing lots of public methods and the small methods is really small(3-4 lines, mostly function call), but <strong>I will not test them</strong>, I <strong>only need to test the shared public method now in another class</strong></p>\n"}],"owner":{"account_id":126508,"reputation":14184,"user_id":323051,"accept_rate":70,"display_name":"jcvandan"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62618,"favorite_count":0,"down_vote_count":1,"up_vote_count":335,"answer_count":35,"score":334,"last_activity_date":1642658320,"creation_date":1313485902,"question_id":7075938,"body_markdown":"&lt;sub&gt;**Moderator Note:**  *There are already 39 answers posted here (some have been deleted).*  Before you post *your* answer, consider whether or not you can add something meaningful to the discussion.  You&#39;re more than likely just repeating what someone else has already said.&lt;/sub&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nI occasionally find myself needing to make a private method in a class public just to write some unit tests for it.\r\n\r\nUsually this would be because the method contains logic shared between other methods in the class and it&#39;s tidier to test the logic on its own, or another reason could be possible be I want to test logic used in synchronous threads without having to worry about threading problems.\r\n\r\nDo other people find themselves doing this, because I don&#39;t really like doing it?? I personally think the bonuses outweigh the problems of making a method public which doesn&#39;t really provide any service outside of the class...\r\n\r\n**UPDATE**\r\n\r\nThanks for answers everyone, seems to have piqued peoples&#39; interest. I think the general consensus is testing should happen via the public API as this is the only way a class will ever be used, and I do agree with this. The couple of cases I mentioned above where I would do this above were uncommon cases and I thought the benefits of doing it was worth it.\r\n\r\nI can however, see everyones point that it should never really happen. And when thinking about it a bit more I think changing your code to accommodate tests is a bad idea - after all I suppose testing is a support tool in a way and changing a system to &#39;support a support tool&#39; if you will, is blatant bad practice.\r\n","title":"Making a private method public to unit test it...good idea?","body":"<p><sub><strong>Moderator Note:</strong>  <em>There are already 39 answers posted here (some have been deleted).</em>  Before you post <em>your</em> answer, consider whether or not you can add something meaningful to the discussion.  You're more than likely just repeating what someone else has already said.</sub></p>\n\n<hr>\n\n<p>I occasionally find myself needing to make a private method in a class public just to write some unit tests for it.</p>\n\n<p>Usually this would be because the method contains logic shared between other methods in the class and it's tidier to test the logic on its own, or another reason could be possible be I want to test logic used in synchronous threads without having to worry about threading problems.</p>\n\n<p>Do other people find themselves doing this, because I don't really like doing it?? I personally think the bonuses outweigh the problems of making a method public which doesn't really provide any service outside of the class...</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Thanks for answers everyone, seems to have piqued peoples' interest. I think the general consensus is testing should happen via the public API as this is the only way a class will ever be used, and I do agree with this. The couple of cases I mentioned above where I would do this above were uncommon cases and I thought the benefits of doing it was worth it.</p>\n\n<p>I can however, see everyones point that it should never really happen. And when thinking about it a bit more I think changing your code to accommodate tests is a bad idea - after all I suppose testing is a support tool in a way and changing a system to 'support a support tool' if you will, is blatant bad practice.</p>\n"},{"tags":["java","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":23857595,"reputation":92,"user_id":17860938,"display_name":"Navin Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642658128,"creation_date":1642651596,"answer_id":70780685,"question_id":70780071,"body_markdown":"You can try this is will replicate some function of javascript\r\n\r\n    &lt;div th:each=&quot;comment : ${comments}&quot;&gt;\r\n     &lt;button th:if=&quot;${comment.author.username == user.username}&quot; class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\r\n    &lt;/div&gt;","title":"Thymeleaf - Check if array contains element with property","body":"<p>You can try this is will replicate some function of javascript</p>\n<pre><code>&lt;div th:each=&quot;comment : ${comments}&quot;&gt;\n &lt;button th:if=&quot;${comment.author.username == user.username}&quot; class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14796971,"reputation":355,"user_id":10686377,"display_name":"FireFuro99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642657228,"creation_date":1642657228,"answer_id":70781288,"question_id":70780071,"body_markdown":"Finally found a working solution: https://stackoverflow.com/a/34828280/10686377\r\n\r\nUsing Spring&#39;s [Collection Selection][1] you can check if a list contains an element with a specific property value.\r\n\r\n    &lt;button th:unless=&quot;${comments.^[author.username == user.username]}&quot;  class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-collection-selection","title":"Thymeleaf - Check if array contains element with property","body":"<p>Finally found a working solution: <a href=\"https://stackoverflow.com/a/34828280/10686377\">https://stackoverflow.com/a/34828280/10686377</a></p>\n<p>Using Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-collection-selection\" rel=\"nofollow noreferrer\">Collection Selection</a> you can check if a list contains an element with a specific property value.</p>\n<pre><code>&lt;button th:unless=&quot;${comments.^[author.username == user.username]}&quot;  class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\n</code></pre>\n"}],"owner":{"account_id":14796971,"reputation":355,"user_id":10686377,"display_name":"FireFuro99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70781288,"answer_count":2,"score":2,"last_activity_date":1642658128,"creation_date":1642644829,"question_id":70780071,"body_markdown":"I have a list of `comments`. Each comment has an attribute `author`. And each author has a `username`.\r\n\r\nI want to display a specific button only if the current user did not write a comment yet. (Which means there must be no comment in the list, where the username of the author equals user.username)\r\n\r\nThis is what it would look like in JavaScript:\r\n\r\n    if(!comments.some(comment =&gt; comment.author.username === user.username))\r\n\r\nBut I have no idea, how to do it in Thymeleaf. I could not find any necessary functions like array#map(), array#any(), etc. Inline loops also don&#39;t seem to be a thing.\r\n\r\n     &lt;button th:if=&quot;${!&lt;What goes here?&gt;}&quot; class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\r\n\r\nHow do I do it?","title":"Thymeleaf - Check if array contains element with property","body":"<p>I have a list of <code>comments</code>. Each comment has an attribute <code>author</code>. And each author has a <code>username</code>.</p>\n<p>I want to display a specific button only if the current user did not write a comment yet. (Which means there must be no comment in the list, where the username of the author equals user.username)</p>\n<p>This is what it would look like in JavaScript:</p>\n<pre><code>if(!comments.some(comment =&gt; comment.author.username === user.username))\n</code></pre>\n<p>But I have no idea, how to do it in Thymeleaf. I could not find any necessary functions like array#map(), array#any(), etc. Inline loops also don't seem to be a thing.</p>\n<pre><code> &lt;button th:if=&quot;${!&lt;What goes here?&gt;}&quot; class=&quot;btn btn-primary&quot;&gt;Add Comment&lt;/button&gt;\n</code></pre>\n<p>How do I do it?</p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1642655607,"post_id":70781018,"comment_id":125130173,"body_markdown":"Read the javac docs: https://docs.oracle.com/en/java/javase/15/docs/specs/man/javac.html The `-d` option may help.","body":"Read the javac docs: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/15/docs/specs/man/javac.html</a> The <code>-d</code> option may help."}],"answers":[{"tags":[],"owner":{"account_id":23977205,"reputation":136,"user_id":17965148,"display_name":"Optimizer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642656186,"creation_date":1642656186,"answer_id":70781156,"question_id":70781018,"body_markdown":"Use -d parameter with javac to specify the directory you&#39;d like to store the compiled class file.\r\nAs Ex:\r\n\r\n        javac -d &lt;path where to store class file&gt; &lt;your java file to compile&gt;\r\n        \r\n\r\n","title":"create java class file in another directory","body":"<p>Use -d parameter with javac to specify the directory you'd like to store the compiled class file.\nAs Ex:</p>\n<pre><code>    javac -d &lt;path where to store class file&gt; &lt;your java file to compile&gt;\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23954185,"reputation":13,"user_id":17945304,"display_name":"Prithvi Atal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642657590,"creation_date":1642657590,"answer_id":70781338,"question_id":70781018,"body_markdown":"javac Graph.java -d &quot;~/java/classes/&quot;","title":"create java class file in another directory","body":"<p>javac Graph.java -d &quot;~/java/classes/&quot;</p>\n"}],"owner":{"account_id":23995137,"reputation":11,"user_id":17980737,"display_name":"efgvdfv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1642657590,"creation_date":1642654962,"question_id":70781018,"body_markdown":"say ~ is my home directory. it got a child directory ``` java ``` , which has two child directories ```classes``` and ```sources```. Say I got a file in ```~/java/sources/``` names Graph.java. I want to compile it such that its class file ends up being in ```~/java/classes/```. ","title":"create java class file in another directory","body":"<p>say ~ is my home directory. it got a child directory <code>java</code> , which has two child directories <code>classes</code> and <code>sources</code>. Say I got a file in <code>~/java/sources/</code> names Graph.java. I want to compile it such that its class file ends up being in <code>~/java/classes/</code>.</p>\n"},{"tags":["java","junit","libgdx","asset-management"],"comments":[{"owner":{"account_id":23992605,"reputation":21,"user_id":17978508,"display_name":"Erch G"},"score":0,"creation_date":1642631763,"post_id":70778544,"comment_id":125126054,"body_markdown":"Want to note that I already tried https://stackoverflow.com/questions/47122554/libgdx-test-from-gradle-command-line-assets-not-found without success","body":"Want to note that I already tried <a href=\"https://stackoverflow.com/questions/47122554/libgdx-test-from-gradle-command-line-assets-not-found\" title=\"libgdx test from gradle command line assets not found\">stackoverflow.com/questions/47122554/&hellip;</a> without success"}],"owner":{"account_id":23992605,"reputation":21,"user_id":17978508,"display_name":"Erch G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642657533,"creation_date":1642631272,"question_id":70778544,"body_markdown":"I&#39;m currently facing the following problem:\r\nI started a project using libGdx. I&#39;ve almost finished it and want to run some JUnit tests now. In the test class I&#39;m using an AssetManager to load assets from the src module, but however it doesn&#39;t work correctly.\r\n\r\n\r\n    assetManager.setLoader(SceneAsset.class, &quot;.gltf&quot;, new GLTFAssetLoader());\r\n\r\n    assetManager.load(&quot;faceted_character/scene.gltf&quot;, SceneAsset.class);\r\n    assetManager.load(&quot;cute_cyborg/scene.gltf&quot;, SceneAsset.class);\r\n    assetManager.load(&quot;spaceship_orion/scene.gltf&quot;, SceneAsset.class);\r\n\r\n    assetManager.finishLoading();`\r\n\r\nIt throws this error:\r\n[![stacktrace][1]][1]\r\n\r\n(line 49 is assetManager.finishLoading();)\r\n\r\nThis leads me to the question: How can I access these files from the test class?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LV4Za.png","title":"libGdx: Can&#39;t load assets from JUnit test class","body":"<p>I'm currently facing the following problem:\nI started a project using libGdx. I've almost finished it and want to run some JUnit tests now. In the test class I'm using an AssetManager to load assets from the src module, but however it doesn't work correctly.</p>\n<pre><code>assetManager.setLoader(SceneAsset.class, &quot;.gltf&quot;, new GLTFAssetLoader());\n\nassetManager.load(&quot;faceted_character/scene.gltf&quot;, SceneAsset.class);\nassetManager.load(&quot;cute_cyborg/scene.gltf&quot;, SceneAsset.class);\nassetManager.load(&quot;spaceship_orion/scene.gltf&quot;, SceneAsset.class);\n\nassetManager.finishLoading();`\n</code></pre>\n<p>It throws this error:\n<a href=\"https://i.stack.imgur.com/LV4Za.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LV4Za.png\" alt=\"stacktrace\" /></a></p>\n<p>(line 49 is assetManager.finishLoading();)</p>\n<p>This leads me to the question: How can I access these files from the test class?</p>\n"},{"tags":["java","cmd","jar"],"answers":[{"tags":[],"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642656514,"creation_date":1642656514,"answer_id":70781198,"question_id":70781160,"body_markdown":"To open a jar file in Windows, you must have the Java Runtime Environment installed. Alternatively, you can use decompression software, such as an unzip utility, to view the files in the jar archive.\r\n\r\nYou can also view, extract, run, and create JAR files with the Java Archive Tool provided as part of the Java Development Kit (JDK) included in the Oracle Java SE Development Kit. The Java Archive Tool is a command-line utility and here are the commands associated with the different capabilities:\r\n\r\nTo view a JAR file - jar tf jar file\r\nTo extract a JAR file - jar xf jar file\r\nTo run a JAR file - java -jar app.jar\r\nTo create a JAR file - jar cf jar file input file(s)\r\nNOTE: If you are looking to extract the contents from a JAR file, you can use various decompression utilities, such as Corel WinZip (Windows), Corel WinZip Mac (Mac), RARLAB WinRAR (Windows), and 7-Zip (Windows).\r\n\r\nOpen and view .JAR files with File Vi","title":"Jar File Not Opening When Double Clicked","body":"<p>To open a jar file in Windows, you must have the Java Runtime Environment installed. Alternatively, you can use decompression software, such as an unzip utility, to view the files in the jar archive.</p>\n<p>You can also view, extract, run, and create JAR files with the Java Archive Tool provided as part of the Java Development Kit (JDK) included in the Oracle Java SE Development Kit. The Java Archive Tool is a command-line utility and here are the commands associated with the different capabilities:</p>\n<p>To view a JAR file - jar tf jar file\nTo extract a JAR file - jar xf jar file\nTo run a JAR file - java -jar app.jar\nTo create a JAR file - jar cf jar file input file(s)\nNOTE: If you are looking to extract the contents from a JAR file, you can use various decompression utilities, such as Corel WinZip (Windows), Corel WinZip Mac (Mac), RARLAB WinRAR (Windows), and 7-Zip (Windows).</p>\n<p>Open and view .JAR files with File Vi</p>\n"},{"tags":[],"owner":{"account_id":11456951,"reputation":113,"user_id":8397651,"display_name":"SRM Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642657007,"creation_date":1642657007,"answer_id":70781261,"question_id":70781160,"body_markdown":"This is well known issue with `.jar` files.\r\n\r\nwhat we can do is try to `right-click` on the `.jar` file and `Open With` If some other program listed as the default program then If a Java Runtime is listed, you can open with it, and make it the default program to run with.\r\n\r\n&gt; That is\r\n\r\n     Right Click -&gt;  Properties -&gt; Change -&gt; C:\\Program Files\\Java\\jre7\\bin\\javaw.exe\r\n\r\nthis path may vary based on jre installation location.\r\n","title":"Jar File Not Opening When Double Clicked","body":"<p>This is well known issue with <code>.jar</code> files.</p>\n<p>what we can do is try to <code>right-click</code> on the <code>.jar</code> file and <code>Open With</code> If some other program listed as the default program then If a Java Runtime is listed, you can open with it, and make it the default program to run with.</p>\n<blockquote>\n<p>That is</p>\n</blockquote>\n<pre><code> Right Click -&gt;  Properties -&gt; Change -&gt; C:\\Program Files\\Java\\jre7\\bin\\javaw.exe\n</code></pre>\n<p>this path may vary based on jre installation location.</p>\n"}],"owner":{"account_id":17396510,"reputation":11,"user_id":12606141,"display_name":"Crispy-Nuggets-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8583,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1642673227,"answer_count":2,"score":-2,"last_activity_date":1642657234,"creation_date":1642656226,"question_id":70781160,"body_markdown":"I am having a small issue when trying to run Jar files on another application. I create a simple code that opens a JFrame it runs when I double click on my PC but if I send it over to another PC, double clicking it does not do anything. It only opens up if I type java -jar yourjar.jar, how would I fix so that it opens the JFrame window when the jar is double clicked? JRE is installed on both environments\r\n","title":"Jar File Not Opening When Double Clicked","body":"<p>I am having a small issue when trying to run Jar files on another application. I create a simple code that opens a JFrame it runs when I double click on my PC but if I send it over to another PC, double clicking it does not do anything. It only opens up if I type java -jar yourjar.jar, how would I fix so that it opens the JFrame window when the jar is double clicked? JRE is installed on both environments</p>\n"},{"tags":["java","android","java-native-interface","file-descriptor","parcelfiledescriptor"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1642653766,"post_id":70780312,"comment_id":125129851,"body_markdown":"1 wouldn&#39;t work because a ParcelFileDescriptor is not a subclass of FileDescriptor.  The second I wouldn&#39;t use at all-  its relying on internal implementation details of the FileDescriptor object, which could change at any time.","body":"1 wouldn&#39;t work because a ParcelFileDescriptor is not a subclass of FileDescriptor.  The second I wouldn&#39;t use at all-  its relying on internal implementation details of the FileDescriptor object, which could change at any time."},{"owner":{"account_id":18884916,"reputation":144,"user_id":13776577,"display_name":"拉拉姬"},"score":0,"creation_date":1642657033,"post_id":70780312,"comment_id":125130427,"body_markdown":"@Gabe Sechan\n https://learn.microsoft.com/zh-cn/dotnet/api/android.os.parcelfiledescriptor.adoptfd?view=xamarin-android-sdk-12","body":"@Gabe Sechan  <a href=\"https://learn.microsoft.com/zh-cn/dotnet/api/android.os.parcelfiledescriptor.adoptfd?view=xamarin-android-sdk-12\" rel=\"nofollow noreferrer\">learn.microsoft.com/zh-cn/dotnet/api/&hellip;</a>"}],"owner":{"account_id":18884916,"reputation":144,"user_id":13776577,"display_name":"拉拉姬"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642656926,"creation_date":1642647408,"question_id":70780312,"body_markdown":"I want to convert the filedescriptor (int) obtained from native to filedescriptor (Java object)\r\n\r\n```\r\n//native\r\n\r\nint fd = open(......);\r\n```\r\n\r\nWhy doesn&#39;t example 1 work? Maybe in theory?\r\n```java\r\n//eg 1:\r\n\r\nFileDescriptor mFd = ParcelFileDescriptor.adoptFd(fd).getFileDescriptor();\r\n\r\n//eg 2:\r\n\r\nFileDescriptor mFd = new FileDescriptor()\r\nMethod setFd = FileDescriptor.class.getDeclaredMethod(&quot;setInt$&quot;, int.class);\r\nsetFd.setAccessible(true);\r\nsetFd.invoke(mFd, fd);\r\n```\r\n\r\nMicrosoft：\r\n&gt;Take ownership of a raw native fd in to a new ParcelFileDescriptor.\r\n\r\nC#\r\n\r\n[Android.Runtime.Register(&quot;adoptFd&quot;, &quot;(I)Landroid/os/ParcelFileDescriptor;&quot;, &quot;&quot;)]\r\n\r\npublic static Android.OS.ParcelFileDescriptor? AdoptFd (int fd);\r\n\r\nParameters fd Int32\r\nThe native fd that the ParcelFileDescriptor should adopt.\r\n\r\nReturns\r\n\r\nParcelFileDescriptor\r\n\r\n**Returns a new ParcelFileDescriptor holding a FileDescriptor for the given fd.**\r\n\r\nAttributes\r\nRegisterAttribute\r\n\r\nhttps://learn.microsoft.com/zh-cn/dotnet/api/android.os.parcelfiledescriptor.adoptfd?view=xamarin-android-sdk-12","title":"Create a FileDescriptor object on Android","body":"<p>I want to convert the filedescriptor (int) obtained from native to filedescriptor (Java object)</p>\n<pre><code>//native\n\nint fd = open(......);\n</code></pre>\n<p>Why doesn't example 1 work? Maybe in theory?</p>\n<pre class=\"lang-java prettyprint-override\"><code>//eg 1:\n\nFileDescriptor mFd = ParcelFileDescriptor.adoptFd(fd).getFileDescriptor();\n\n//eg 2:\n\nFileDescriptor mFd = new FileDescriptor()\nMethod setFd = FileDescriptor.class.getDeclaredMethod(&quot;setInt$&quot;, int.class);\nsetFd.setAccessible(true);\nsetFd.invoke(mFd, fd);\n</code></pre>\n<p>Microsoft：</p>\n<blockquote>\n<p>Take ownership of a raw native fd in to a new ParcelFileDescriptor.</p>\n</blockquote>\n<p>C#</p>\n<p>[Android.Runtime.Register(&quot;adoptFd&quot;, &quot;(I)Landroid/os/ParcelFileDescriptor;&quot;, &quot;&quot;)]</p>\n<p>public static Android.OS.ParcelFileDescriptor? AdoptFd (int fd);</p>\n<p>Parameters fd Int32\nThe native fd that the ParcelFileDescriptor should adopt.</p>\n<p>Returns</p>\n<p>ParcelFileDescriptor</p>\n<p><strong>Returns a new ParcelFileDescriptor holding a FileDescriptor for the given fd.</strong></p>\n<p>Attributes\nRegisterAttribute</p>\n<p><a href=\"https://learn.microsoft.com/zh-cn/dotnet/api/android.os.parcelfiledescriptor.adoptfd?view=xamarin-android-sdk-12\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/zh-cn/dotnet/api/android.os.parcelfiledescriptor.adoptfd?view=xamarin-android-sdk-12</a></p>\n"},{"tags":["java","spring","spring-boot","proxy","buildpack"],"answers":[{"tags":[],"owner":{"account_id":2564481,"reputation":187,"user_id":2224918,"display_name":"astropcr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642656863,"creation_date":1642656863,"answer_id":70781248,"question_id":70781247,"body_markdown":"OK, managed to solve this one finally. \r\n\r\nSo the key was the `HTTP_PROXY` and `HTTPS_PROXY` setting, but had to put it in the correct place.\r\n\r\nFor me that was in the `environment` portion of the `bootBuildImage` gradle DSL.\r\n\r\n```java\r\n/**\r\n * Configure (Ahead-Of-Time) AOT Task.\r\n */\r\nspringAot {\r\n\tmode = AotMode.NATIVE\t\t// NATIVE is default\r\n\tdebugVerify = false\t\t\t// false is default\r\n\tremoveXmlSupport = false\t// true is default\r\n\tremoveSpelSupport = true\t// false is default\r\n\tremoveYamlSupport = true\t// false is default\r\n\tremoveJmxSupport = true\t\t// true is default\r\n\tverify = true\t\t\t\t// true is default\r\n}\r\n\r\n/**\r\n * Native Image Configuration.\r\n */\r\nbootBuildImage {\r\n\tbuilder = &#39;paketobuildpacks/builder:tiny&#39;\r\n\tenvironment = [\r\n\t\t\t&#39;BP_NATIVE_IMAGE&#39;: &#39;true&#39;,\r\n\t\t\t&#39;HTTP_PROXY&#39; : &#39;http://www-myproxy.org:43924&#39;,\r\n\t\t\t&#39;HTTPS_PROXY&#39; : &#39;http://www-myproxy.org:43924&#39;\r\n\t]\r\n}\r\n```\r\n\r\nThat did the trick. The buildpack was able to detect the environment property correctly then and route the request to download items via the proxy properly.","title":"Using Spring-Boot with Native Buildpack behind Corp. Proxy","body":"<p>OK, managed to solve this one finally.</p>\n<p>So the key was the <code>HTTP_PROXY</code> and <code>HTTPS_PROXY</code> setting, but had to put it in the correct place.</p>\n<p>For me that was in the <code>environment</code> portion of the <code>bootBuildImage</code> gradle DSL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Configure (Ahead-Of-Time) AOT Task.\n */\nspringAot {\n    mode = AotMode.NATIVE       // NATIVE is default\n    debugVerify = false         // false is default\n    removeXmlSupport = false    // true is default\n    removeSpelSupport = true    // false is default\n    removeYamlSupport = true    // false is default\n    removeJmxSupport = true     // true is default\n    verify = true               // true is default\n}\n\n/**\n * Native Image Configuration.\n */\nbootBuildImage {\n    builder = 'paketobuildpacks/builder:tiny'\n    environment = [\n            'BP_NATIVE_IMAGE': 'true',\n            'HTTP_PROXY' : 'http://www-myproxy.org:43924',\n            'HTTPS_PROXY' : 'http://www-myproxy.org:43924'\n    ]\n}\n</code></pre>\n<p>That did the trick. The buildpack was able to detect the environment property correctly then and route the request to download items via the proxy properly.</p>\n"}],"owner":{"account_id":2564481,"reputation":187,"user_id":2224918,"display_name":"astropcr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70781248,"answer_count":1,"score":1,"last_activity_date":1642656863,"creation_date":1642656863,"question_id":70781247,"body_markdown":"I am having an issue where the buildpack I am using as part of a native build with Spring Boot cannot download the required JDK to build the container image. It is not aware of my proxy settings for my corporate proxy. \r\n\r\nGetting errors that cant download the JDK as cant locate the host - classic proxy issue.\r\n\r\nWhat is the best way to set the proxy settings for a buildpack to use when using these packs as part of the Spring Boot native plugin (in my case Gradle).\r\n\r\nI have tried:\r\n\r\n - Setting proxy in my gradle.properties\r\n - Setting proxy in my gradle-wreapper.properties\r\n - Setting proxy within the IDE I am running gradle in\r\n - Setting HTTP_PROXY and HTTPS_PROXY env properties in Windows.\r\n\r\nThanks\r\n\r\nThanks,","title":"Using Spring-Boot with Native Buildpack behind Corp. Proxy","body":"<p>I am having an issue where the buildpack I am using as part of a native build with Spring Boot cannot download the required JDK to build the container image. It is not aware of my proxy settings for my corporate proxy.</p>\n<p>Getting errors that cant download the JDK as cant locate the host - classic proxy issue.</p>\n<p>What is the best way to set the proxy settings for a buildpack to use when using these packs as part of the Spring Boot native plugin (in my case Gradle).</p>\n<p>I have tried:</p>\n<ul>\n<li>Setting proxy in my gradle.properties</li>\n<li>Setting proxy in my gradle-wreapper.properties</li>\n<li>Setting proxy within the IDE I am running gradle in</li>\n<li>Setting HTTP_PROXY and HTTPS_PROXY env properties in Windows.</li>\n</ul>\n<p>Thanks</p>\n<p>Thanks,</p>\n"},{"tags":["java","json","authentication","jwt"],"comments":[{"owner":{"account_id":7979803,"reputation":8816,"user_id":6021597,"accept_rate":77,"display_name":"Ayush Gupta"},"score":0,"creation_date":1516641139,"post_id":48386407,"comment_id":83761191,"body_markdown":"read this too: https://docs.aws.amazon.com/cognito/latest/developerguide/amazon-cognito-user-pools-using-tokens-with-identity-providers.html","body":"read this too: <a href=\"https://docs.aws.amazon.com/cognito/latest/developerguide/amazon-cognito-user-pools-using-tokens-with-identity-providers.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/cognito/latest/developerguide/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1516640828,"creation_date":1516640122,"answer_id":48386609,"question_id":48386407,"body_markdown":"JWT can be used for two purpose:\r\n \r\n 1. Authentication (as you said)\r\n 2. Information Exchange.\r\n\r\nThe second part is the interesting one. A JWT contains:\r\n\r\n - a header: contains algorithm and token type\r\n - a payload: Which are statements about an entity (typically, the user) and additional metadata. There are three types of claims: registered, public, and private claims.\r\n - a signature: The signature is used to verify that the sender of the JWT is who it says it is and to ensure that the message wasn&#39;t changed along the way.\r\n\r\nThe payload can contains information about a user such as a list of rights.\r\nThis way you can use it for Authorization.\r\n\r\nExample from jwt.io:\r\n\r\n    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\r\n\r\nwhich contains:\r\n\r\n    {\r\n      &quot;alg&quot;: &quot;HS256&quot;,\r\n      &quot;typ&quot;: &quot;JWT&quot;\r\n    }\r\n    {\r\n      &quot;sub&quot;: &quot;1234567890&quot;,\r\n      &quot;name&quot;: &quot;John Doe&quot;,\r\n      &quot;admin&quot;: true\r\n    }\r\nyou can see that the payload contains the identity and information about the administration right. You can trust theses data because of the payload signature.","title":"JSON Web Token (JWT) : Authorization vs Authentication","body":"<p>JWT can be used for two purpose:</p>\n\n<ol>\n<li>Authentication (as you said)</li>\n<li>Information Exchange.</li>\n</ol>\n\n<p>The second part is the interesting one. A JWT contains:</p>\n\n<ul>\n<li>a header: contains algorithm and token type</li>\n<li>a payload: Which are statements about an entity (typically, the user) and additional metadata. There are three types of claims: registered, public, and private claims.</li>\n<li>a signature: The signature is used to verify that the sender of the JWT is who it says it is and to ensure that the message wasn't changed along the way.</li>\n</ul>\n\n<p>The payload can contains information about a user such as a list of rights.\nThis way you can use it for Authorization.</p>\n\n<p>Example from jwt.io:</p>\n\n<pre><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\n</code></pre>\n\n<p>which contains:</p>\n\n<pre><code>{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n{\n  \"sub\": \"1234567890\",\n  \"name\": \"John Doe\",\n  \"admin\": true\n}\n</code></pre>\n\n<p>you can see that the payload contains the identity and information about the administration right. You can trust theses data because of the payload signature.</p>\n"},{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1516640224,"creation_date":1516640224,"answer_id":48386629,"question_id":48386407,"body_markdown":"**Authorization** with *JWT* can be achieved using the token specific [claims][1].\r\n\r\nAs many other user information packaged as claims in the *Json Web Token* the specific permissions can be pre-filled in the token and can be intercepted later on by an authorization service.\r\n\r\nTypically the authorization would be permission based where permissions are used to restrict access to an api endpoint (may also be used to grant users access to views on the frontend apps).\r\n\r\nHere down a sample *JWT* token having a permission element:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    {\r\n      &quot;UserInfo&quot;: {\r\n        &quot;id&quot;: &quot;#{USER_ID}&quot;,\r\n        &quot;roles&quot;: {\r\n          &quot;#{ROLE_NAME}&quot;: &quot;#{ROLE_ID}&quot;\r\n        },\r\n        &quot;permissions&quot;: {\r\n          &quot;#{PERMISSION_NAME}&quot;: &quot;#{PERMISSION_ID}&quot;,\r\n        }\r\n      },\r\n      &quot;exp&quot;: 1488888888\r\n    }\r\n\r\n[1]: https://www.rfc-editor.org/rfc/rfc7519#section-4.1","title":"JSON Web Token (JWT) : Authorization vs Authentication","body":"<p><strong>Authorization</strong> with <em>JWT</em> can be achieved using the token specific <a href=\"https://www.rfc-editor.org/rfc/rfc7519#section-4.1\" rel=\"noreferrer\">claims</a>.</p>\n<p>As many other user information packaged as claims in the <em>Json Web Token</em> the specific permissions can be pre-filled in the token and can be intercepted later on by an authorization service.</p>\n<p>Typically the authorization would be permission based where permissions are used to restrict access to an api endpoint (may also be used to grant users access to views on the frontend apps).</p>\n<p>Here down a sample <em>JWT</em> token having a permission element:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;UserInfo&quot;: {\n    &quot;id&quot;: &quot;#{USER_ID}&quot;,\n    &quot;roles&quot;: {\n      &quot;#{ROLE_NAME}&quot;: &quot;#{ROLE_ID}&quot;\n    },\n    &quot;permissions&quot;: {\n      &quot;#{PERMISSION_NAME}&quot;: &quot;#{PERMISSION_ID}&quot;,\n    }\n  },\n  &quot;exp&quot;: 1488888888\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14156143,"reputation":315,"user_id":10226823,"display_name":"Aydin Homay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608212574,"creation_date":1608212574,"answer_id":65341905,"question_id":48386407,"body_markdown":"&gt; Is JWT suitable for Authorization or is it only for Authentication?\r\n\r\nThe answer to this question is lying in the following lines of [RFC7519][1] Standard:\r\n\r\n&gt;JSON Web Token (JWT) is a compact claims representation format\r\n   intended for space constrained environments such as HTTP\r\n   Authorization headers and URI query parameters.\r\n\r\n&gt;JWT doesn&#39;t seem to have any implementation that actually allows access to users to a given resource.\r\n\r\nI would say this part of your understanding needs a bit of polishing ;-) \r\nIndeed JWT has a structure called [Claims][2] and there you can find topics related to authorization. \r\n\r\nThe remaining part of your understanding is not following a correct sequence. In fact, there is a missing piece called Token Issuer. This guy is responsible to Authenticate JWT token requester and issue a JWT token if and only if the authentication process was successful and the requester was authorized. Then the issued JWT token could be verified by checking the signature, meaning that, the token that has been issued via a token issuer like an Identity Server will contain a hash code of message which will allow the consumer of the token to double-check the signature (hash code) to make sure the token has not been modified via unauthorized access during the transitions between client-server. Then if the token was a valid token the consumer at the next step can extract token (JWT) claims to process the authorization part.\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc7519#section-1\r\n  [2]: https://www.rfc-editor.org/rfc/rfc7519#section-4","title":"JSON Web Token (JWT) : Authorization vs Authentication","body":"<blockquote>\n<p>Is JWT suitable for Authorization or is it only for Authentication?</p>\n</blockquote>\n<p>The answer to this question is lying in the following lines of <a href=\"https://www.rfc-editor.org/rfc/rfc7519#section-1\" rel=\"nofollow noreferrer\">RFC7519</a> Standard:</p>\n<blockquote>\n<p>JSON Web Token (JWT) is a compact claims representation format\nintended for space constrained environments such as HTTP\nAuthorization headers and URI query parameters.</p>\n</blockquote>\n<blockquote>\n<p>JWT doesn't seem to have any implementation that actually allows access to users to a given resource.</p>\n</blockquote>\n<p>I would say this part of your understanding needs a bit of polishing ;-)\nIndeed JWT has a structure called <a href=\"https://www.rfc-editor.org/rfc/rfc7519#section-4\" rel=\"nofollow noreferrer\">Claims</a> and there you can find topics related to authorization.</p>\n<p>The remaining part of your understanding is not following a correct sequence. In fact, there is a missing piece called Token Issuer. This guy is responsible to Authenticate JWT token requester and issue a JWT token if and only if the authentication process was successful and the requester was authorized. Then the issued JWT token could be verified by checking the signature, meaning that, the token that has been issued via a token issuer like an Identity Server will contain a hash code of message which will allow the consumer of the token to double-check the signature (hash code) to make sure the token has not been modified via unauthorized access during the transitions between client-server. Then if the token was a valid token the consumer at the next step can extract token (JWT) claims to process the authorization part.</p>\n"},{"tags":[],"owner":{"account_id":14206439,"reputation":38683,"user_id":10262805,"display_name":"Yilmaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609246309,"creation_date":1609198734,"answer_id":65485469,"question_id":48386407,"body_markdown":"User logins first. Once user pass the login process, or we say once user is authenticated, you sign a jwt token and send it to the user. this is node.js snippet \r\n\r\n \r\n\r\n    async postLogin(req, res, next) {\r\n        // parse the req.body, get the email,password\r\n        // check if the email exist, if exists check the passord\r\n        // now you are sure credentials are true, create the jwt.\r\n        const token = jwt.sign({ _id: this._id, email: this.email }, &quot;this-is-secret&quot;, {\r\n      expiresIn: &quot;1h&quot;,\r\n      res\r\n        .status(200)\r\n        .header(&quot;x-auth-token&quot;, token)\r\n        .json({ token, userId: existingUser._id.toString() });\r\n       });\r\n      }\r\n   \r\n   now client will takes it save it to localStorage. (for simplicity i m using localStorage). IN the client side, user sends post request to login and gets what I sent above. It will take the token, and save it. since it is async request, it will be like this. this is a little react code to demonstrate:\r\n\r\n      .then(resData =&gt; {\r\n        localStorage.setItem(&#39;token&#39;, resData.token);\r\n        localStorage.setItem(&#39;userId&#39;, resData.userId);\r\n   \r\nOne thing about tokens, browser does not send it automatically, so client will manually attach it to the request. \r\n\r\n   \r\n\r\n    fetch(url, {\r\n          method: &quot;post&quot;,\r\n          headers: {\r\n            Authorization: &#39;Bearer &#39; + localStorage.getItem(&#39;token&#39;)\r\n          }\r\n        })\r\n\r\n Once your server gets the request, you check the incoming token, if it is a valid token you will authorize the user to access certain routes or services. So user will be Authorized. \r\n\r\nAuthentication is the process of identifying users and validating who they claim to be. One of the most common and obvious factors to authenticate identity is a password. If the user name matches the password credential, it means the identity is valid, and the system grants access to the user, so we say user is authenticated\r\n","title":"JSON Web Token (JWT) : Authorization vs Authentication","body":"<p>User logins first. Once user pass the login process, or we say once user is authenticated, you sign a jwt token and send it to the user. this is node.js snippet</p>\n<pre><code>async postLogin(req, res, next) {\n    // parse the req.body, get the email,password\n    // check if the email exist, if exists check the passord\n    // now you are sure credentials are true, create the jwt.\n    const token = jwt.sign({ _id: this._id, email: this.email }, &quot;this-is-secret&quot;, {\n  expiresIn: &quot;1h&quot;,\n  res\n    .status(200)\n    .header(&quot;x-auth-token&quot;, token)\n    .json({ token, userId: existingUser._id.toString() });\n   });\n  }\n</code></pre>\n<p>now client will takes it save it to localStorage. (for simplicity i m using localStorage). IN the client side, user sends post request to login and gets what I sent above. It will take the token, and save it. since it is async request, it will be like this. this is a little react code to demonstrate:</p>\n<pre><code>  .then(resData =&gt; {\n    localStorage.setItem('token', resData.token);\n    localStorage.setItem('userId', resData.userId);\n</code></pre>\n<p>One thing about tokens, browser does not send it automatically, so client will manually attach it to the request.</p>\n<pre><code>fetch(url, {\n      method: &quot;post&quot;,\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('token')\n      }\n    })\n</code></pre>\n<p>Once your server gets the request, you check the incoming token, if it is a valid token you will authorize the user to access certain routes or services. So user will be Authorized.</p>\n<p>Authentication is the process of identifying users and validating who they claim to be. One of the most common and obvious factors to authenticate identity is a password. If the user name matches the password credential, it means the identity is valid, and the system grants access to the user, so we say user is authenticated</p>\n"}],"owner":{"account_id":2208907,"reputation":1341,"user_id":1951392,"display_name":"Rohan Kadu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18335,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":4,"score":27,"last_activity_date":1642656817,"creation_date":1516639405,"question_id":48386407,"body_markdown":"JWT terminology has been bothering me for a few reasons. Is JWT suitable for Authorization or is it only for Authentication?\r\n\r\nCorrect me if I&#39;m wrong but I have always read Authorization as being the act of allowing someone access to a resource yet JWT doesn&#39;t seem to have any implementation that actually allows access to users to a given resource. All JWT implementations talk about is providing a user a token. This token is then passed with every call to a back-end service endpoint where it is checked for validity and if valid access is granted. So we can use JWT for **Authentication** of any user  but how can we restrict the access to particular valid users ?\r\n\r\nHow can we use JWT for restricting a few users depending on roles they have?\r\nDo JWT provide any type of Authorization details as well or does it just provide us Authentication ?\r\n\r\nThanks in advance for your help and reading my doubt patiently.\r\n\r\n\r\n\r\n","title":"JSON Web Token (JWT) : Authorization vs Authentication","body":"<p>JWT terminology has been bothering me for a few reasons. Is JWT suitable for Authorization or is it only for Authentication?</p>\n<p>Correct me if I'm wrong but I have always read Authorization as being the act of allowing someone access to a resource yet JWT doesn't seem to have any implementation that actually allows access to users to a given resource. All JWT implementations talk about is providing a user a token. This token is then passed with every call to a back-end service endpoint where it is checked for validity and if valid access is granted. So we can use JWT for <strong>Authentication</strong> of any user  but how can we restrict the access to particular valid users ?</p>\n<p>How can we use JWT for restricting a few users depending on roles they have?\nDo JWT provide any type of Authorization details as well or does it just provide us Authentication ?</p>\n<p>Thanks in advance for your help and reading my doubt patiently.</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642652822,"creation_date":1642652822,"answer_id":70780796,"question_id":70780083,"body_markdown":"You are missing the **@Override** :\r\n\r\n    Button button = findViewById(R.id.button);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override //Right here\r\n            public void onClick(View v) {\r\n                webView.loadUrl( &quot;javascript:window.location.reload( true )&quot; );\r\n            }\r\n        });","title":"How can I make my button in disappear when there&#39;s no internet?","body":"<p>You are missing the <strong>@Override</strong> :</p>\n<pre><code>Button button = findViewById(R.id.button);\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override //Right here\n        public void onClick(View v) {\n            webView.loadUrl( &quot;javascript:window.location.reload( true )&quot; );\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642653901,"creation_date":1642653901,"answer_id":70780913,"question_id":70780083,"body_markdown":"You are creating a web view programmatically and then trying to access a button from an XML file and you have not linked the XML file in the Java file, so it crashes. Update your code with this code completely\r\n\r\n XML file  - activity_main.xml \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/my_progress&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:indeterminate=&quot;true&quot;/&gt;\r\n    \r\n        &lt;WebView\r\n            android:id=&quot;@+id/my_webview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/reload_btn&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:text=&quot;Retry&quot; /&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\njava file - MainActivity.java\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.Context;\r\n    import android.graphics.Bitmap;\r\n    import android.net.ConnectivityManager;\r\n    import android.net.NetworkCapabilities;\r\n    import android.net.NetworkInfo;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.Button;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n            WebView webView = findViewById(R.id.my_webview);\r\n            Button reloadBtn = findViewById(R.id.reload_btn);\r\n            ProgressBar progress = findViewById(R.id.my_progress);\r\n    \r\n            WebSettings webSettings = webView.getSettings();\r\n            webSettings.setBuiltInZoomControls(true);\r\n            webSettings.setJavaScriptEnabled(true);\r\n    \r\n            webSettings.setLoadWithOverviewMode(true);\r\n            webSettings.setUseWideViewPort(true);\r\n            webSettings.setSupportZoom(true);\r\n            webSettings.setBuiltInZoomControls(true);\r\n            webSettings.setDisplayZoomControls(false);\r\n            webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\r\n            webView.setScrollbarFadingEnabled(false);\r\n    \r\n    \r\n            webView.setWebViewClient(new WebViewClient(){\r\n    \r\n                @Override\r\n                public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                    super.onPageStarted(view, url, favicon);\r\n                    webView.setVisibility(View.GONE);\r\n                }\r\n    \r\n                @Override\r\n                public void onPageFinished(WebView view, String url) {\r\n                    super.onPageFinished(view, url);\r\n                    progress.setVisibility(View.GONE);\r\n                    webView.setVisibility(View.VISIBLE);\r\n                }\r\n            });\r\n    \r\n    \r\n            if (isNetworkAvailable(this)) {\r\n    \r\n                webView.loadUrl(&quot;https://racks.tk&quot;);\r\n    \r\n                reloadBtn.setVisibility(View.GONE);\r\n    \r\n            } else {\r\n    \r\n                Toast.makeText(this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n                reloadBtn.setVisibility(View.VISIBLE);\r\n    \r\n            }\r\n    \r\n    \r\n            reloadBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if (isNetworkAvailable(MainActivity.this)){\r\n                        reloadBtn.setVisibility(View.GONE);\r\n                        webView.loadUrl(&quot;https://racks.tk&quot;);\r\n                    }else {\r\n    \r\n                        reloadBtn.setVisibility(View.VISIBLE);\r\n                        Toast.makeText(MainActivity.this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        public static boolean isNetworkAvailable(Context context) {\r\n    \r\n            ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n            if (connectivityManager != null) {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n                    return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\r\n                } else {\r\n                    NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\r\n                    return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\r\n    \r\n                }\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    }\r\n\r\n","title":"How can I make my button in disappear when there&#39;s no internet?","body":"<p>You are creating a web view programmatically and then trying to access a button from an XML file and you have not linked the XML file in the Java file, so it crashes. Update your code with this code completely</p>\n<p>XML file  - activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/my_progress&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:indeterminate=&quot;true&quot;/&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/my_webview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/reload_btn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:text=&quot;Retry&quot; /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>java file - MainActivity.java</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.graphics.Bitmap;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkCapabilities;\nimport android.net.NetworkInfo;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Button;\nimport android.widget.ProgressBar;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        WebView webView = findViewById(R.id.my_webview);\n        Button reloadBtn = findViewById(R.id.reload_btn);\n        ProgressBar progress = findViewById(R.id.my_progress);\n\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setJavaScriptEnabled(true);\n\n        webSettings.setLoadWithOverviewMode(true);\n        webSettings.setUseWideViewPort(true);\n        webSettings.setSupportZoom(true);\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setDisplayZoomControls(false);\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\n        webView.setScrollbarFadingEnabled(false);\n\n\n        webView.setWebViewClient(new WebViewClient(){\n\n            @Override\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\n                super.onPageStarted(view, url, favicon);\n                webView.setVisibility(View.GONE);\n            }\n\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                super.onPageFinished(view, url);\n                progress.setVisibility(View.GONE);\n                webView.setVisibility(View.VISIBLE);\n            }\n        });\n\n\n        if (isNetworkAvailable(this)) {\n\n            webView.loadUrl(&quot;https://racks.tk&quot;);\n\n            reloadBtn.setVisibility(View.GONE);\n\n        } else {\n\n            Toast.makeText(this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\n\n            reloadBtn.setVisibility(View.VISIBLE);\n\n        }\n\n\n        reloadBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (isNetworkAvailable(MainActivity.this)){\n                    reloadBtn.setVisibility(View.GONE);\n                    webView.loadUrl(&quot;https://racks.tk&quot;);\n                }else {\n\n                    reloadBtn.setVisibility(View.VISIBLE);\n                    Toast.makeText(MainActivity.this, &quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\n                }\n\n            }\n        });\n    }\n\n    public static boolean isNetworkAvailable(Context context) {\n\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        if (connectivityManager != null) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n                return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\n            } else {\n                NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\n                return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\n\n            }\n        }\n\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9707166,"reputation":21,"user_id":7200266,"display_name":"Smart virus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642655223,"creation_date":1642655223,"answer_id":70781045,"question_id":70780083,"body_markdown":"Button button= findViewById(R.id.button);\r\n\r\nif(isNetworkAvailable(this)){\r\n\r\n            webView.loadUrl(&quot;myurl.com&quot;);\r\n\r\n            button.setVisibility(View.VISIBLE)\r\n\r\n        } else {\r\n\r\n            button.setVisibility(View.GONE)\r\n            Toast.makeText(this,&quot;check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }","title":"How can I make my button in disappear when there&#39;s no internet?","body":"<p>Button button= findViewById(R.id.button);</p>\n<p>if(isNetworkAvailable(this)){</p>\n<pre><code>        webView.loadUrl(&quot;myurl.com&quot;);\n\n        button.setVisibility(View.VISIBLE)\n\n    } else {\n\n        button.setVisibility(View.GONE)\n        Toast.makeText(this,&quot;check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\n\n    }\n</code></pre>\n"}],"owner":{"account_id":23942675,"reputation":9,"user_id":17935487,"display_name":"Culann Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70780913,"answer_count":3,"score":0,"last_activity_date":1642655223,"creation_date":1642644944,"question_id":70780083,"body_markdown":"Hello I&#39;m trying to get my button that I have in my main XML file to only appear when there&#39;s no internet \r\nSo that&#39;s why I can get the button to only appear when there&#39;s no internet and so it&#39;s not shown anywhere else unless there&#39;s internet\r\ncan someone please help me?\r\n\r\nBlow i have listed the code for both the main XML and the main Java file\r\n\r\nxml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;WebView\r\n        android:layout_width=&quot;10dp&quot;\r\n        android:layout_height=&quot;10dp&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot;\r\n        tools:layout_editor_absoluteX=&quot;200dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;361dp&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot;\r\n        tools:layout_editor_absoluteX=&quot;202dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;399dp&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\\\r\n```\r\njava\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        WebView webView = new WebView(this);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setBuiltInZoomControls(true);\r\n        webSettings.setJavaScriptEnabled(true);\r\n        setContentView(webView);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        webView.getSettings().setUseWideViewPort(true);\r\n        webView.getSettings().setSupportZoom(true);\r\n        webView.getSettings().setBuiltInZoomControls(true);\r\n        webView.getSettings().setDisplayZoomControls(false);\r\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\r\n        webView.setScrollbarFadingEnabled(false);\r\n\r\n\r\n        if(isNetworkAvailable(this)){\r\n\r\n            webView.loadUrl(&quot;https://racks.tk&quot;);\r\n\r\n        } else {\r\n\r\n\r\n            Toast.makeText(this,&quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n    }\r\n\r\n    public static boolean isNetworkAvailable(Context context) {\r\n\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\n        if (connectivityManager != null) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\r\n                return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\r\n            } else {\r\n                NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\r\n                return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\r\n\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n```\r\n","title":"How can I make my button in disappear when there&#39;s no internet?","body":"<p>Hello I'm trying to get my button that I have in my main XML file to only appear when there's no internet\nSo that's why I can get the button to only appear when there's no internet and so it's not shown anywhere else unless there's internet\ncan someone please help me?</p>\n<p>Blow i have listed the code for both the main XML and the main Java file</p>\n<p>xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;WebView\n        android:layout_width=&quot;10dp&quot;\n        android:layout_height=&quot;10dp&quot;\n        tools:ignore=&quot;MissingConstraints&quot;\n        tools:layout_editor_absoluteX=&quot;200dp&quot;\n        tools:layout_editor_absoluteY=&quot;361dp&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button&quot;\n        tools:layout_editor_absoluteX=&quot;202dp&quot;\n        tools:layout_editor_absoluteY=&quot;399dp&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\\\n</code></pre>\n<p>java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        WebView webView = new WebView(this);\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setBuiltInZoomControls(true);\n        webSettings.setJavaScriptEnabled(true);\n        setContentView(webView);\n        webView.getSettings().setLoadWithOverviewMode(true);\n        webView.getSettings().setUseWideViewPort(true);\n        webView.getSettings().setSupportZoom(true);\n        webView.getSettings().setBuiltInZoomControls(true);\n        webView.getSettings().setDisplayZoomControls(false);\n        webView.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_OVERLAY);\n        webView.setScrollbarFadingEnabled(false);\n\n\n        if(isNetworkAvailable(this)){\n\n            webView.loadUrl(&quot;https://racks.tk&quot;);\n\n        } else {\n\n\n            Toast.makeText(this,&quot;No internet. Please check internet connection and try again&quot;, Toast.LENGTH_LONG).show();\n\n        }\n    }\n\n    public static boolean isNetworkAvailable(Context context) {\n\n        ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        if (connectivityManager != null) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n                return capabilities != null &amp;&amp; (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET));\n            } else {\n                NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\n                return activeNetwork != null &amp;&amp; activeNetwork.isConnected();\n\n            }\n        }\n\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","integer","entitymanager","classcastexception"],"answers":[{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475597773,"creation_date":1475597700,"answer_id":39857196,"question_id":39857168,"body_markdown":"Simply try this:\r\n\r\n    public int returnCountOfDogTable(String id) {\r\n    //...\r\n        List&lt;BigDecimal&gt; resultList = query.getResultList();\r\n        BigDecimal result = resultList.get(0);\r\n        return result.toIntValue();\r\n    }","title":"Returning result of count native query using EntityManager in Java?","body":"<p>Simply try this:</p>\n\n<pre><code>public int returnCountOfDogTable(String id) {\n//...\n    List&lt;BigDecimal&gt; resultList = query.getResultList();\n    BigDecimal result = resultList.get(0);\n    return result.toIntValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":188308,"reputation":492,"user_id":427002,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1475598378,"creation_date":1475598378,"answer_id":39857400,"question_id":39857168,"body_markdown":"Make sense to use **Query#getSingleResult** method:\r\n\r\n    Query query = entityManager.createNativeQuery(&quot;SELECT COUNT(*) FROM DOG WHERE ID =:id&quot;);\r\n    query.setParameter(&quot;id&quot;, 1);\r\n    int count = ((BigInteger) query.getSingleResult()).intValue();","title":"Returning result of count native query using EntityManager in Java?","body":"<p>Make sense to use <strong>Query#getSingleResult</strong> method:</p>\n\n<pre><code>Query query = entityManager.createNativeQuery(\"SELECT COUNT(*) FROM DOG WHERE ID =:id\");\nquery.setParameter(\"id\", 1);\nint count = ((BigInteger) query.getSingleResult()).intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1558447398,"creation_date":1533671740,"answer_id":51734502,"question_id":39857168,"body_markdown":"You can also use `Number` and call `intValue()`:\r\n\r\n    Query query = entityManager.createNativeQuery(&quot;SELECT COUNT(*) FROM DOG WHERE ID =:id&quot;);\r\n    query.setParameter(&quot;id&quot;, 1);\r\n    int count = ((Number) query.getSingleResult()).intValue();\r\n\r\n","title":"Returning result of count native query using EntityManager in Java?","body":"<p>You can also use <code>Number</code> and call <code>intValue()</code>:</p>\n\n<pre><code>Query query = entityManager.createNativeQuery(\"SELECT COUNT(*) FROM DOG WHERE ID =:id\");\nquery.setParameter(\"id\", 1);\nint count = ((Number) query.getSingleResult()).intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17737955,"reputation":1051,"user_id":12878982,"display_name":"CodingBee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642655006,"creation_date":1642655006,"answer_id":70781023,"question_id":39857168,"body_markdown":"    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.Query;\r\n\r\n    @PersistenceContext\r\n    protected EntityManager em;\r\n\r\n    public int getCountQuery(String sql) {\r\n        int resultCount = 0;\r\n        try {\r\n            Query query = em.createNativeQuery(sql);\r\n            resultCount = ((Number) query.getSingleResult()).intValue();\r\n        } catch (Exception e) {\r\n            log.error(&quot;SQL Error&quot; + e.getMessage());\r\n        }\r\n        return resultCount;\r\n    }","title":"Returning result of count native query using EntityManager in Java?","body":"<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.Query;\n\n@PersistenceContext\nprotected EntityManager em;\n\npublic int getCountQuery(String sql) {\n    int resultCount = 0;\n    try {\n        Query query = em.createNativeQuery(sql);\n        resultCount = ((Number) query.getSingleResult()).intValue();\n    } catch (Exception e) {\n        log.error(&quot;SQL Error&quot; + e.getMessage());\n    }\n    return resultCount;\n}\n</code></pre>\n"}],"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44107,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"accepted_answer_id":51734502,"answer_count":4,"score":11,"last_activity_date":1642655006,"creation_date":1475597580,"question_id":39857168,"body_markdown":"I have the following `SQL Query :`\r\n\r\n    SELECT COUNT(*) FROM DOG where ID = &#39;SampleId&#39;;\r\n\r\nI am trying to write this in `java` :\r\n\r\n    public int returnCountOfDogTable(String id){\r\n    \r\n            String sql= &quot;SELECT COUNT(*) FROM DOG WHERE ID =:id&quot;;\r\n            Query query = persistence.entityManager().createNativeQuery(sql);\r\n            query.setParameter(&quot;id&quot;, id);\r\n            List&lt;Integer&gt; resultList = query.getResultList();\r\n            int result = resultList.get(0);\r\n            return result;\r\n        }\r\n\r\nHowever I get this exception:\r\n\r\n    java.lang.ClassCastException: java.math.BigDecimal cannot be cast to java.lang.Integer\r\n\r\nHow can I solve this?\r\n\r\n\r\n","title":"Returning result of count native query using EntityManager in Java?","body":"<p>I have the following <code>SQL Query :</code></p>\n<pre><code>SELECT COUNT(*) FROM DOG where ID = 'SampleId';\n</code></pre>\n<p>I am trying to write this in <code>java</code> :</p>\n<pre><code>public int returnCountOfDogTable(String id){\n\n        String sql= &quot;SELECT COUNT(*) FROM DOG WHERE ID =:id&quot;;\n        Query query = persistence.entityManager().createNativeQuery(sql);\n        query.setParameter(&quot;id&quot;, id);\n        List&lt;Integer&gt; resultList = query.getResultList();\n        int result = resultList.get(0);\n        return result;\n    }\n</code></pre>\n<p>However I get this exception:</p>\n<pre><code>java.lang.ClassCastException: java.math.BigDecimal cannot be cast to java.lang.Integer\n</code></pre>\n<p>How can I solve this?</p>\n"},{"tags":["java","mysql","eclipse","hibernate-tools"],"comments":[{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1599113852,"post_id":63444628,"comment_id":112673801,"body_markdown":"Ended up reinstalling Eclipse and rebuilding the project with newer versions of the components. And skipped using the Hibernate Reverse Engineering tool altogether. So, I guess this just goes unresolved.","body":"Ended up reinstalling Eclipse and rebuilding the project with newer versions of the components. And skipped using the Hibernate Reverse Engineering tool altogether. So, I guess this just goes unresolved."}],"answers":[{"tags":[],"owner":{"account_id":14841854,"reputation":36,"user_id":10718356,"display_name":"razorshaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1615656016,"creation_date":1615612606,"answer_id":66610350,"question_id":63444628,"body_markdown":"I guess sys is the default schema in your MySQL workbench.\r\n\r\nGo to your Mysql workbench and drop the schema/because it is importing all the schemas from your local server. \r\n\r\nor\r\n\r\nCustom :- Open your workspace(eclipse(&quot;run&quot; tab on top of screen-&gt;hibernate code genration) -&gt; Go to hibernate code generation( -&gt; click main-&gt; revenge.xml-&gt;select new -&gt; select folder-&gt; configure table filter-&gt; (1)select database you want to select-&gt; import all table-&gt; apply -&gt; Run .\r\n\r\nNow you can see all the tables in the location you have selected.\r\nIf you want to customer export you could also do so after (1) step above\r\n\r\n","title":"Eclipse Hibernate.cfg.xml is linking &quot;sys&quot; database from MySQL","body":"<p>I guess sys is the default schema in your MySQL workbench.</p>\n<p>Go to your Mysql workbench and drop the schema/because it is importing all the schemas from your local server.</p>\n<p>or</p>\n<p>Custom :- Open your workspace(eclipse(&quot;run&quot; tab on top of screen-&gt;hibernate code genration) -&gt; Go to hibernate code generation( -&gt; click main-&gt; revenge.xml-&gt;select new -&gt; select folder-&gt; configure table filter-&gt; (1)select database you want to select-&gt; import all table-&gt; apply -&gt; Run .</p>\n<p>Now you can see all the tables in the location you have selected.\nIf you want to customer export you could also do so after (1) step above</p>\n"},{"tags":[],"owner":{"account_id":3908690,"reputation":461,"user_id":3259971,"accept_rate":0,"display_name":"atkawa7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620895786,"creation_date":1620895786,"answer_id":67516438,"question_id":63444628,"body_markdown":"For those with a similar issue to this. Hibernate tools reverse engineering reads all schemas. Therefor specifying the database doesn&#39;t work. So you need a custom schema selection tag to specify which database you want reverse engineer from. This is done by creating a `hibernate.reveng.xml` file and adding something like this where `demo` is the name of the database \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-reverse-engineering SYSTEM &quot;http://hibernate.org/dtd/hibernate-reverse-engineering-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-reverse-engineering&gt;\r\n    &lt;schema-selection match-catalog=&quot;demo&quot; match-schema=&quot;.*&quot; match-table=&quot;.*&quot;/&gt;\r\n&lt;/hibernate-reverse-engineering&gt;\r\n\r\n```","title":"Eclipse Hibernate.cfg.xml is linking &quot;sys&quot; database from MySQL","body":"<p>For those with a similar issue to this. Hibernate tools reverse engineering reads all schemas. Therefor specifying the database doesn't work. So you need a custom schema selection tag to specify which database you want reverse engineer from. This is done by creating a <code>hibernate.reveng.xml</code> file and adding something like this where <code>demo</code> is the name of the database</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-reverse-engineering SYSTEM &quot;http://hibernate.org/dtd/hibernate-reverse-engineering-3.0.dtd&quot;&gt;\n\n&lt;hibernate-reverse-engineering&gt;\n    &lt;schema-selection match-catalog=&quot;demo&quot; match-schema=&quot;.*&quot; match-table=&quot;.*&quot;/&gt;\n&lt;/hibernate-reverse-engineering&gt;\n\n</code></pre>\n"}],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66610350,"answer_count":2,"score":2,"last_activity_date":1642653535,"creation_date":1597638994,"question_id":63444628,"body_markdown":"When I use Hibernate to connect to a MySQL database, *bookstoredb*, in Eclipse, a connection to the MySQL *sys* database also shows up!\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m using the following:\r\n\r\n - Ubuntu 18.04.5 LTS (desktop)\r\n - Eclipse 2020-6 (4.16.0) w/JBoss Tools, Hibernate-Tools plugin. \r\n - MySQL Ver 8.0.21 for Linux on x86_64 (MySQL Community Server - GPL)\r\n\r\nNote: this is a local desktop project, I am working through a tutorial. I will NOT be using root/admin with MySQL down the road.\r\n\r\nFollowing is the complete hibernate.cfg.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n\t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n\t\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/bookstoredb?serverTimezone=UTC&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nAm I misunderstanding, shouldn&#39;t the connection.url, as given, ONLY connect to *bookstoredb*? Why is &quot;sys&quot; connecting also?\r\n\r\nThis becomes even more of a problem when using the tool to reverse-engineer the database tables into java classes. I&#39;m getting not only the *bookstoredb* tables as java classes but every table in the *sys* database as well. And there are a lot of them, as I am sure folks well know.\r\n\r\nHow do I unlink the *sys* database? Or set things up so I don&#39;t link to it in the first place?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X1FHw.png","title":"Eclipse Hibernate.cfg.xml is linking &quot;sys&quot; database from MySQL","body":"<p>When I use Hibernate to connect to a MySQL database, <em>bookstoredb</em>, in Eclipse, a connection to the MySQL <em>sys</em> database also shows up!</p>\n<p><a href=\"https://i.stack.imgur.com/X1FHw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X1FHw.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using the following:</p>\n<ul>\n<li>Ubuntu 18.04.5 LTS (desktop)</li>\n<li>Eclipse 2020-6 (4.16.0) w/JBoss Tools, Hibernate-Tools plugin.</li>\n<li>MySQL Ver 8.0.21 for Linux on x86_64 (MySQL Community Server - GPL)</li>\n</ul>\n<p>Note: this is a local desktop project, I am working through a tutorial. I will NOT be using root/admin with MySQL down the road.</p>\n<p>Following is the complete hibernate.cfg.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/bookstoredb?serverTimezone=UTC&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Am I misunderstanding, shouldn't the connection.url, as given, ONLY connect to <em>bookstoredb</em>? Why is &quot;sys&quot; connecting also?</p>\n<p>This becomes even more of a problem when using the tool to reverse-engineer the database tables into java classes. I'm getting not only the <em>bookstoredb</em> tables as java classes but every table in the <em>sys</em> database as well. And there are a lot of them, as I am sure folks well know.</p>\n<p>How do I unlink the <em>sys</em> database? Or set things up so I don't link to it in the first place?</p>\n"},{"tags":["java","android","android-studio","ram"],"comments":[{"owner":{"account_id":21184533,"reputation":767,"user_id":15578194,"display_name":"idk wut to put here"},"score":0,"creation_date":1624229803,"post_id":68060651,"comment_id":120294248,"body_markdown":"Kill some of them in Task Manager!","body":"Kill some of them in Task Manager!"},{"owner":{"account_id":16973276,"reputation":313,"user_id":12277320,"display_name":"Thirasha"},"score":0,"creation_date":1625311455,"post_id":68060651,"comment_id":120597294,"body_markdown":"did you solve this?","body":"did you solve this?"},{"owner":{"account_id":22005138,"reputation":41,"user_id":16276234,"display_name":"Nguyễn Vương Thanh Tuấn"},"score":0,"creation_date":1627308365,"post_id":68060651,"comment_id":121114399,"body_markdown":"@Thirasha No man, I still face to this problem","body":"@Thirasha No man, I still face to this problem"},{"owner":{"account_id":16973276,"reputation":313,"user_id":12277320,"display_name":"Thirasha"},"score":0,"creation_date":1627314493,"post_id":68060651,"comment_id":121117372,"body_markdown":"@NguyễnVươngThanhTuấn finally I found a solution. check it [here](https://stackoverflow.com/a/68330256/12277320)","body":"@NguyễnVươngThanhTuấn finally I found a solution. check it <a href=\"https://stackoverflow.com/a/68330256/12277320\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":22139176,"reputation":179,"user_id":16389443,"display_name":"Hamza Sheikh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629873835,"creation_date":1629873510,"answer_id":68917964,"question_id":68060651,"body_markdown":"I solved this issue by turning off the Mobile Hotspot in windows 10. I don&#39;t know what&#39;s the reason but it worked for me. While building gradle make sure Mobile Hotspot is turned off.","title":"Android Studio : Too many Open JDK Platform Binary process","body":"<p>I solved this issue by turning off the Mobile Hotspot in windows 10. I don't know what's the reason but it worked for me. While building gradle make sure Mobile Hotspot is turned off.</p>\n"},{"tags":[],"owner":{"account_id":23994967,"reputation":71,"user_id":17980587,"display_name":"Ahsan445"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642653350,"creation_date":1642653350,"answer_id":70780855,"question_id":68060651,"body_markdown":"Turning of Mobile Hotspot in Windows 10 Worked for me Too.","title":"Android Studio : Too many Open JDK Platform Binary process","body":"<p>Turning of Mobile Hotspot in Windows 10 Worked for me Too.</p>\n"}],"owner":{"account_id":22005138,"reputation":41,"user_id":16276234,"display_name":"Nguyễn Vương Thanh Tuấn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1642653350,"creation_date":1624229537,"question_id":68060651,"body_markdown":"I usually get this problem on my Android Studio.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n Gradle often sync failed with this error. When I open Task Manager I could see too many Open JDK Platform Binary running like the below.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMy RAM usage goes up to 100% due to this ( 8GB RAM), when I restart my laptop, it disappear and my Gradle will sync successfully. How can I fix this?\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sqFv2.png\r\n  [2]: https://i.stack.imgur.com/vjglx.png","title":"Android Studio : Too many Open JDK Platform Binary process","body":"<p>I usually get this problem on my Android Studio.</p>\n<p><a href=\"https://i.stack.imgur.com/sqFv2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sqFv2.png\" alt=\"enter image description here\" /></a></p>\n<p>Gradle often sync failed with this error. When I open Task Manager I could see too many Open JDK Platform Binary running like the below.</p>\n<p><a href=\"https://i.stack.imgur.com/vjglx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vjglx.png\" alt=\"enter image description here\" /></a></p>\n<p>My RAM usage goes up to 100% due to this ( 8GB RAM), when I restart my laptop, it disappear and my Gradle will sync successfully. How can I fix this?</p>\n"},{"tags":["java","arraylist","chess"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1559153650,"post_id":56366360,"comment_id":99335834,"body_markdown":"`boardHistory.add(new boardInstance` if you make a new board each time, how does this board remember the previous moves and position of its pieces?  I think you should be reusing the old board.","body":"<code>boardHistory.add(new boardInstance</code> if you make a new board each time, how does this board remember the previous moves and position of its pieces?  I think you should be reusing the old board."},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1559154507,"post_id":56366360,"comment_id":99336176,"body_markdown":"Adding a byte[][] to an object does not create a copy. You need to create a new instace of the object and copy its content.","body":"Adding a byte[][] to an object does not create a copy. You need to create a new instace of the object and copy its content."},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1559154613,"post_id":56366360,"comment_id":99336222,"body_markdown":"Check https://stackoverflow.com/questions/56209975/game-of-life-algorithm-not-working-correctly/56210209#56210209, where I answered a similiar question.","body":"Check <a href=\"https://stackoverflow.com/questions/56209975/game-of-life-algorithm-not-working-correctly/56210209#56210209\" title=\"game of life algorithm not working correctly\">stackoverflow.com/questions/56209975/&hellip;</a>, where I answered a similiar question."}],"answers":[{"tags":[],"owner":{"account_id":22011758,"reputation":23,"user_id":16281911,"display_name":"Zachary Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642653065,"creation_date":1642653065,"answer_id":70780822,"question_id":56366360,"body_markdown":"I actually solved this same problem back in 1997 working on my third doctorate at Carnegie Mellon University and you should be ashamed. Try looking through this (rather elementary) algorithm and seeing if you&#39;re able to understand where you went wrong: https://en.wikipedia.org/wiki/Cox%E2%80%93Zucker_machine.","title":"Why is my ArrayList not returning its stored values?","body":"<p>I actually solved this same problem back in 1997 working on my third doctorate at Carnegie Mellon University and you should be ashamed. Try looking through this (rather elementary) algorithm and seeing if you're able to understand where you went wrong: <a href=\"https://en.wikipedia.org/wiki/Cox%E2%80%93Zucker_machine\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Cox%E2%80%93Zucker_machine</a>.</p>\n"}],"owner":{"account_id":16036959,"reputation":24,"user_id":11574405,"display_name":"Canaanite"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642653065,"creation_date":1559153537,"question_id":56366360,"body_markdown":"I&#39;m currently creating a Chess program in Java, where I&#39;m attempting to implement an undo button. My current approach at this is to create an array list of an object called boardInstance, which stores the 2D-Array I&#39;m using as the board (a 2D-Array of piece objects), as well as other variables such as the location of the two kings and a Boolean determining if it is currently White&#39;s turn or not. After every valid move, a new boardInstance object is created and added to the arrayList (boardHistory) and the moveCount variable (which I am using as an index variable) is incremented. When pressing the Z key, my code is supposed to update the current board and variables to the copies of those variables from the boardInstance from one move ago, however when testing this I can only observe that the Boolean variable is being changed to match that of previous moves, but the board and other variables seem to remain unchanged.\r\n\r\nI&#39;ve attempted to make every variable and method in the boardInstance class static, which doesn&#39;t seem to have any effect on the problem, as well as converting variables from public to private and vice versa.\r\n\r\nHere is the entirety of my boardInstance class:\r\n```\r\npublic class boardInstance {\r\n\r\n\tprivate static piece[][] boardCopy;\r\n\tprivate boolean isWhiteTurn;\r\n\tprivate String whiteKingPos, blackKingPos;\r\n\t\r\n\tpublic boardInstance() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic boardInstance(piece[][] tempBoard, boolean isWhitePlayerTurn, String whiteKingCoords, String blackKingCoords) {\r\n\t\tboardCopy = tempBoard;\r\n\t\tisWhiteTurn = isWhitePlayerTurn;\r\n\t\twhiteKingPos = whiteKingCoords;\r\n\t\tblackKingPos = blackKingCoords;\r\n\t}\r\n\t\r\n\tpublic static piece[][] getBoardCopy(){\r\n\t\treturn boardCopy;\r\n\t}\r\n\t\r\n\tpublic boolean isWhiteTurn() {\r\n\t\treturn isWhiteTurn;\r\n\t}\r\n\t\r\n\tpublic String getWhiteKingPos() {\r\n\t\treturn whiteKingPos;\r\n\t}\r\n\t\r\n\tpublic String getBlackKingPos() {\r\n\t\treturn blackKingPos;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nHere are the relevant variables as instantiated in my main class.\r\n\r\n```\r\nArrayList&lt;boardInstance&gt; boardHistory = new ArrayList&lt;boardInstance&gt;();\r\n\t\r\n\tprivate static piece[][] board;\r\n\t\r\n\tprivate static int moveCount = 0;\r\n        private static String whiteKingPosition, blackKingPosition;\r\n\r\n\r\n```\r\n\r\nHere is the code that runs after every valid move:\r\n\r\n```\r\nmoveCount++;\r\nboardHistory.add(new boardInstance(board, isWhitesTurn, whiteKingPosition, blackKingPosition));\r\n```\r\n\r\nAnd here is the code that runs every time the Z key is pressed:\r\n\r\n```\r\nif (e.getKeyCode()==KeyEvent.VK_Z) {\r\n\t\t\t\tif (moveCount&gt;0) {\r\n\t\t\t\t\tmoveCount--;\r\n\t\t\t\t\tfor (int r=0; r&lt;board.length;r++) {\r\n\t\t\t\t\t\tfor (int c=0; c&lt;board[0].length;c++) {\r\n\t\t\t\t\t\t\tboard[r][c]=boardHistory.get(moveCount).getBoardCopy()[r][c];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tisWhitesTurn = boardHistory.get(moveCount).isWhiteTurn();\r\n\t\t\t\t\twhiteKingPosition = boardHistory.get(moveCount).getWhiteKingPos();\r\n\t\t\t\t\tblackKingPosition = boardHistory.get(moveCount).getBlackKingPos();\r\n\t\t\t\t\trepaint();\r\n\t\t\t\t}\r\n\t\t\t}\r\n```\r\n\r\n\r\n\r\nI have it in my paint method to print out the current player turn based on the Boolean variable as well as a print command to print the current movecount, which is how I can discern that those portions of the code are working, but apart from that board, whiteKingPosition, and backKingPosition don&#39;t seem to be changing, with no error messages produced.","title":"Why is my ArrayList not returning its stored values?","body":"<p>I'm currently creating a Chess program in Java, where I'm attempting to implement an undo button. My current approach at this is to create an array list of an object called boardInstance, which stores the 2D-Array I'm using as the board (a 2D-Array of piece objects), as well as other variables such as the location of the two kings and a Boolean determining if it is currently White's turn or not. After every valid move, a new boardInstance object is created and added to the arrayList (boardHistory) and the moveCount variable (which I am using as an index variable) is incremented. When pressing the Z key, my code is supposed to update the current board and variables to the copies of those variables from the boardInstance from one move ago, however when testing this I can only observe that the Boolean variable is being changed to match that of previous moves, but the board and other variables seem to remain unchanged.</p>\n\n<p>I've attempted to make every variable and method in the boardInstance class static, which doesn't seem to have any effect on the problem, as well as converting variables from public to private and vice versa.</p>\n\n<p>Here is the entirety of my boardInstance class:</p>\n\n<pre><code>public class boardInstance {\n\n    private static piece[][] boardCopy;\n    private boolean isWhiteTurn;\n    private String whiteKingPos, blackKingPos;\n\n    public boardInstance() {\n\n    }\n\n    public boardInstance(piece[][] tempBoard, boolean isWhitePlayerTurn, String whiteKingCoords, String blackKingCoords) {\n        boardCopy = tempBoard;\n        isWhiteTurn = isWhitePlayerTurn;\n        whiteKingPos = whiteKingCoords;\n        blackKingPos = blackKingCoords;\n    }\n\n    public static piece[][] getBoardCopy(){\n        return boardCopy;\n    }\n\n    public boolean isWhiteTurn() {\n        return isWhiteTurn;\n    }\n\n    public String getWhiteKingPos() {\n        return whiteKingPos;\n    }\n\n    public String getBlackKingPos() {\n        return blackKingPos;\n    }\n}\n</code></pre>\n\n<p>Here are the relevant variables as instantiated in my main class.</p>\n\n<pre><code>ArrayList&lt;boardInstance&gt; boardHistory = new ArrayList&lt;boardInstance&gt;();\n\n    private static piece[][] board;\n\n    private static int moveCount = 0;\n        private static String whiteKingPosition, blackKingPosition;\n\n\n</code></pre>\n\n<p>Here is the code that runs after every valid move:</p>\n\n<pre><code>moveCount++;\nboardHistory.add(new boardInstance(board, isWhitesTurn, whiteKingPosition, blackKingPosition));\n</code></pre>\n\n<p>And here is the code that runs every time the Z key is pressed:</p>\n\n<pre><code>if (e.getKeyCode()==KeyEvent.VK_Z) {\n                if (moveCount&gt;0) {\n                    moveCount--;\n                    for (int r=0; r&lt;board.length;r++) {\n                        for (int c=0; c&lt;board[0].length;c++) {\n                            board[r][c]=boardHistory.get(moveCount).getBoardCopy()[r][c];\n                        }\n                    }\n                    isWhitesTurn = boardHistory.get(moveCount).isWhiteTurn();\n                    whiteKingPosition = boardHistory.get(moveCount).getWhiteKingPos();\n                    blackKingPosition = boardHistory.get(moveCount).getBlackKingPos();\n                    repaint();\n                }\n            }\n</code></pre>\n\n<p>I have it in my paint method to print out the current player turn based on the Boolean variable as well as a print command to print the current movecount, which is how I can discern that those portions of the code are working, but apart from that board, whiteKingPosition, and backKingPosition don't seem to be changing, with no error messages produced.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","mustache"],"comments":[{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1642621470,"post_id":70776540,"comment_id":125122827,"body_markdown":"Looks like you are typing &#39;charity&#39; in the id input","body":"Looks like you are typing &#39;charity&#39; in the id input"},{"owner":{"account_id":3982144,"reputation":61,"user_id":3283804,"display_name":"Yana"},"score":0,"creation_date":1642621943,"post_id":70776540,"comment_id":125122999,"body_markdown":"I can&#39;t even open url with my form, so i guess it&#39;s unlikely :( \n\nBut i suspect that it&#39;s trying to get parameters from the url which is &quot;http://localhost:8080/share/charities/charity&quot; , instead of from ui form.","body":"I can&#39;t even open url with my form, so i guess it&#39;s unlikely :(   But i suspect that it&#39;s trying to get parameters from the url which is &quot;<a href=\"http://localhost:8080/share/charities/charity\" rel=\"nofollow noreferrer\">localhost:8080/share/charities/charity</a>&quot; , instead of from ui form."},{"owner":{"account_id":5449795,"reputation":2687,"user_id":6352160,"accept_rate":75,"display_name":"Shankar"},"score":0,"creation_date":1642623740,"post_id":70776540,"comment_id":125123579,"body_markdown":"@PostMapping(&quot;charities/charity&quot;) should be @PostMapping(&quot;/charities/charity&quot;)","body":"@PostMapping(&quot;charities/charity&quot;) should be @PostMapping(&quot;/charities/charity&quot;)"},{"owner":{"account_id":3982144,"reputation":61,"user_id":3283804,"display_name":"Yana"},"score":0,"creation_date":1643654264,"post_id":70776540,"comment_id":125392807,"body_markdown":"thanks, i&#39;ve tried but still the same error :(","body":"thanks, i&#39;ve tried but still the same error :("}],"answers":[{"tags":[],"owner":{"account_id":23857595,"reputation":92,"user_id":17860938,"display_name":"Navin Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642652529,"creation_date":1642652529,"answer_id":70780770,"question_id":70776540,"body_markdown":"      @PostMapping(&quot;charities/charity&quot;)\r\n      public String addCharity(@Valid @RequestBody Charity charity){ \r\n        charityService.save(charity);\r\n        \r\n        return &quot;addForm&quot;;\r\n      } \r\n\r\nvalidate JSON data and inspect for page and check for requests from the network","title":"Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Integer&#39;","body":"<pre><code>  @PostMapping(&quot;charities/charity&quot;)\n  public String addCharity(@Valid @RequestBody Charity charity){ \n    charityService.save(charity);\n    \n    return &quot;addForm&quot;;\n  } \n</code></pre>\n<p>validate JSON data and inspect for page and check for requests from the network</p>\n"}],"owner":{"account_id":3982144,"reputation":61,"user_id":3283804,"display_name":"Yana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642652529,"creation_date":1642619949,"question_id":70776540,"body_markdown":"I&#39;m trying to create a simple spring web app. And i encountered an error while executing POST method. When i go to url to which my post method is mapped i&#39;m getting the following error: \r\n\r\n&gt; Whitelabel Error Page This application has no explicit mapping for\r\n&gt; /error, so you are seeing this as a fallback.\r\n&gt; \r\n&gt; Wed Jan 19 20:57:38 EET 2022 There was an unexpected error (type=Bad\r\n&gt; Request, status=400).\r\n\r\nI have an html form where user can enters data, from which an object is created and added to the db (for ui templates i use Mustache) \r\n\r\nAlso, the error in console is the following: \r\n\r\n```.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Integer&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;charity&quot;] ```\r\n\r\nhere&#39;s my Controller: \r\n\r\n    @RequestMapping(&quot;/share&quot;)\r\n    @Controller\r\n    public class CharityController {\r\n    \r\n      @Autowired\r\n      private CharityServiceImpl charityService;\r\n    \r\n    \r\n      @PostMapping(&quot;charities/charity&quot;)\r\n      public String addCharity(@RequestBody Charity charity){ \r\n        charityService.save(charity);\r\n        \r\n        return &quot;addForm&quot;;\r\n      } \r\n\r\nhtml form: \r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Add New Charity&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div&gt;\r\n            &lt;form method=&quot;post&quot; action=&quot;charities/charity&quot;&gt;\r\n                &lt;input type=&quot;number&quot; name=&quot;id&quot; placeholder=&quot;Id&quot;/&gt;\r\n                &lt;input type=&quot;text&quot; name=&quot;name&quot; placeholder=&quot;Charity name&quot;/&gt;\r\n                &lt;input type=&quot;text&quot; name=&quot;description&quot; placeholder=&quot;Description&quot;/&gt;\r\n                &lt;button type=&quot;submit&quot;&gt;Add&lt;/button&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nEntity class: \r\n\r\n    @Entity\r\n    public class Charity {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      private Integer id;\r\n      @NotBlank\r\n      private String name;\r\n      @NotBlank\r\n      private String description;\r\n    \r\n      public Charity(Integer id, String name, String description) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.description = description;\r\n      }\r\n      \r\n      public Charity() {\r\n      }\r\n    \r\n      public Integer getId() {\r\n        return id;\r\n      }\r\n    \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public String getDescription() {\r\n        return description;\r\n      }\r\n\r\nDAO method: \r\n\r\n    public void save(Charity charity) {\r\n        Session session = sessionFactory.openSession();\r\n        session.beginTransaction();\r\n        session.saveOrUpdate(charity);\r\n        session.getTransaction().commit();\r\n        session.close();\r\n      }\r\n\r\nService implementation: \r\n\r\n      public void save(Charity charity){\r\n        charityDao.save(charity);\r\n      }","title":"Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Integer&#39;","body":"<p>I'm trying to create a simple spring web app. And i encountered an error while executing POST method. When i go to url to which my post method is mapped i'm getting the following error:</p>\n<blockquote>\n<p>Whitelabel Error Page This application has no explicit mapping for\n/error, so you are seeing this as a fallback.</p>\n<p>Wed Jan 19 20:57:38 EET 2022 There was an unexpected error (type=Bad\nRequest, status=400).</p>\n</blockquote>\n<p>I have an html form where user can enters data, from which an object is created and added to the db (for ui templates i use Mustache)</p>\n<p>Also, the error in console is the following:</p>\n<p><code>.w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; nested exception is java.lang.NumberFormatException: For input string: &quot;charity&quot;] </code></p>\n<p>here's my Controller:</p>\n<pre><code>@RequestMapping(&quot;/share&quot;)\n@Controller\npublic class CharityController {\n\n  @Autowired\n  private CharityServiceImpl charityService;\n\n\n  @PostMapping(&quot;charities/charity&quot;)\n  public String addCharity(@RequestBody Charity charity){ \n    charityService.save(charity);\n    \n    return &quot;addForm&quot;;\n  } \n</code></pre>\n<p>html form:</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Add New Charity&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;form method=&quot;post&quot; action=&quot;charities/charity&quot;&gt;\n            &lt;input type=&quot;number&quot; name=&quot;id&quot; placeholder=&quot;Id&quot;/&gt;\n            &lt;input type=&quot;text&quot; name=&quot;name&quot; placeholder=&quot;Charity name&quot;/&gt;\n            &lt;input type=&quot;text&quot; name=&quot;description&quot; placeholder=&quot;Description&quot;/&gt;\n            &lt;button type=&quot;submit&quot;&gt;Add&lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Entity class:</p>\n<pre><code>@Entity\npublic class Charity {\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Integer id;\n  @NotBlank\n  private String name;\n  @NotBlank\n  private String description;\n\n  public Charity(Integer id, String name, String description) {\n    this.id = id;\n    this.name = name;\n    this.description = description;\n  }\n  \n  public Charity() {\n  }\n\n  public Integer getId() {\n    return id;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public String getDescription() {\n    return description;\n  }\n</code></pre>\n<p>DAO method:</p>\n<pre><code>public void save(Charity charity) {\n    Session session = sessionFactory.openSession();\n    session.beginTransaction();\n    session.saveOrUpdate(charity);\n    session.getTransaction().commit();\n    session.close();\n  }\n</code></pre>\n<p>Service implementation:</p>\n<pre><code>  public void save(Charity charity){\n    charityDao.save(charity);\n  }\n</code></pre>\n"},{"tags":["javascript","java","scala","log4j","log4j2"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1642661930,"post_id":70780762,"comment_id":125131513,"body_markdown":"I doubt log4j2 would take 100MB of memory to load something that doesn&#39;t exist. Which memory are you talking about?","body":"I doubt log4j2 would take 100MB of memory to load something that doesn&#39;t exist. Which memory are you talking about?"},{"owner":{"account_id":22162119,"reputation":11,"user_id":16408944,"display_name":"user16408944"},"score":0,"creation_date":1643169967,"post_id":70780762,"comment_id":125266580,"body_markdown":"I have measured when my scala application initializes log4j2 and it does use significantly more heap memory (+ 30 MB) while the overall container memory usage jumps by more than 100MB, which I guess comes from extra off-heap memory.\n\nAfter a bit more debugging, it seems like NOT passing -Dlog4j2.debug=true does avoid the huge increase in memory usage. There&#39;s something in the script manager in log4j that loads a lot more stuff in debug mode.","body":"I have measured when my scala application initializes log4j2 and it does use significantly more heap memory (+ 30 MB) while the overall container memory usage jumps by more than 100MB, which I guess comes from extra off-heap memory.  After a bit more debugging, it seems like NOT passing -Dlog4j2.debug=true does avoid the huge increase in memory usage. There&#39;s something in the script manager in log4j that loads a lot more stuff in debug mode."}],"owner":{"account_id":22162119,"reputation":11,"user_id":16408944,"display_name":"user16408944"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642652429,"creation_date":1642652429,"question_id":70780762,"body_markdown":"I&#39;m using Log4j2 in a scala application but noticed that it loads several scripting engines to process its configuration using JSR 223 (see &quot;Scripts&quot; session in https://logging.apache.org/log4j/2.x/manual/configuration.html). We don&#39;t really need this functionality since our configuration is programmatically generated through scala code. We also noticed this has a quite high memory usage (more than 100MB) as it loads a javascript and a scala scripting engine. Is there a way to disable this through either a log4j configuration or some other Java knob? I haven&#39;t found one so far.\r\n\r\nThank you","title":"Disable log4j2 scripting configuration module","body":"<p>I'm using Log4j2 in a scala application but noticed that it loads several scripting engines to process its configuration using JSR 223 (see &quot;Scripts&quot; session in <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html</a>). We don't really need this functionality since our configuration is programmatically generated through scala code. We also noticed this has a quite high memory usage (more than 100MB) as it loads a javascript and a scala scripting engine. Is there a way to disable this through either a log4j configuration or some other Java knob? I haven't found one so far.</p>\n<p>Thank you</p>\n"},{"tags":["java","android","android-studio","http-post","android-volley"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1562605910,"post_id":56939474,"comment_id":100419477,"body_markdown":"Connection refused indicates that the receiving machine is blocking the connection.There are several reasons for that.  `192.168.100.2` is not `localhost`. It&#39;s typically `127.0.0.1` so  would need more details on the service you&#39;re attempting to call.","body":"Connection refused indicates that the receiving machine is blocking the connection.There are several reasons for that.  <code>192.168.100.2</code> is not <code>localhost</code>. It&#39;s typically <code>127.0.0.1</code> so  would need more details on the service you&#39;re attempting to call."},{"owner":{"account_id":14376786,"reputation":1552,"user_id":10385054,"display_name":"Rahul Khatri"},"score":0,"creation_date":1562605970,"post_id":56939474,"comment_id":100419504,"body_markdown":"First check are you able to connet to local host by http or not as few device block http and only allow https.","body":"First check are you able to connet to local host by http or not as few device block http and only allow https."},{"owner":{"account_id":14526964,"reputation":327,"user_id":11755598,"display_name":"Abraham Arreola"},"score":0,"creation_date":1562606408,"post_id":56939474,"comment_id":100419713,"body_markdown":"@ChristopherSchneider i know the ip is not localhost, but in android studio i run the program in my android device, that&#39;s the reason i can&#39;t use the typically localhost, so i use the ip where both, my pc and my android device are connected. I&#39;ve already done in another project but with a sql connection.","body":"@ChristopherSchneider i know the ip is not localhost, but in android studio i run the program in my android device, that&#39;s the reason i can&#39;t use the typically localhost, so i use the ip where both, my pc and my android device are connected. I&#39;ve already done in another project but with a sql connection."},{"owner":{"account_id":14526964,"reputation":327,"user_id":11755598,"display_name":"Abraham Arreola"},"score":0,"creation_date":1562606761,"post_id":56939474,"comment_id":100419888,"body_markdown":"@RahulKhatri do you think is problem of my android device? how can i check that?\nI&#39;ve programmed web pages with javascript, python and i&#39;ve never had problem with my API requests, though i have with this.","body":"@RahulKhatri do you think is problem of my android device? how can i check that? I&#39;ve programmed web pages with javascript, python and i&#39;ve never had problem with my API requests, though i have with this."},{"owner":{"account_id":14376786,"reputation":1552,"user_id":10385054,"display_name":"Rahul Khatri"},"score":0,"creation_date":1562654828,"post_id":56939474,"comment_id":100432797,"body_markdown":"For Android device api &gt;= 28 you can&#39;t use http only https permitted, in api &gt;=23 it by default block http but with usesCleartextTraffic=&quot;true&quot; in manifest you can use http url but still some devices don&#39;t allow like Xiomi device. But if there is CleartextTraffic issue then you will error CleartextTraffic not permited.","body":"For Android device api &gt;= 28 you can&#39;t use http only https permitted, in api &gt;=23 it by default block http but with usesCleartextTraffic=&quot;true&quot; in manifest you can use http url but still some devices don&#39;t allow like Xiomi device. But if there is CleartextTraffic issue then you will error CleartextTraffic not permited."},{"owner":{"account_id":14376786,"reputation":1552,"user_id":10385054,"display_name":"Rahul Khatri"},"score":0,"creation_date":1562655032,"post_id":56939474,"comment_id":100432913,"body_markdown":"You can do one thing try to check api in your android device Browser, it may help you.","body":"You can do one thing try to check api in your android device Browser, it may help you."}],"answers":[{"tags":[],"owner":{"account_id":14526964,"reputation":327,"user_id":11755598,"display_name":"Abraham Arreola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1562904987,"creation_date":1562904987,"answer_id":57000108,"question_id":56939474,"body_markdown":"I&#39;ve found the solution to the connectivity issues; i&#39;d been trying to access from my cellphone to the url which was running in localhost on my computer through the IP where both, my cellphone and my computer are connected, althought this didn&#39;t work for me because the request dies before reach to the server, so i tried another way, here&#39;s the answer to access from your device to the localhost&#39;s url running in your computer:\r\n\r\nhttps://stackoverflow.com/a/53920173/11755598","title":"Why my http post request with android volley throws error (localhost)?","body":"<p>I've found the solution to the connectivity issues; i'd been trying to access from my cellphone to the url which was running in localhost on my computer through the IP where both, my cellphone and my computer are connected, althought this didn't work for me because the request dies before reach to the server, so i tried another way, here's the answer to access from your device to the localhost's url running in your computer:</p>\n\n<p><a href=\"https://stackoverflow.com/a/53920173/11755598\">https://stackoverflow.com/a/53920173/11755598</a></p>\n"},{"tags":[],"owner":{"account_id":21749129,"reputation":85,"user_id":16055338,"display_name":"blaze-centurion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642650546,"creation_date":1642650546,"answer_id":70780587,"question_id":56939474,"body_markdown":"Firstly, make sure that your server is running.\r\n\r\nThen set usesCleartextTraffic to true in AndroidManifest file in application tag.\r\n\r\n\r\n```xml\r\n    &lt;application\r\n        .....\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n     &gt;\r\n            ....\r\n        &lt;/activity&gt;\r\n```\r\n\r\nThen in url instead of &quot;http://192.168.100.2:8000/login_facebook_app&quot; use this &quot;http://10.0.2.2:8000/login_facebook_app&quot;\r\n\r\nSo now your new code is:\r\n\r\n```java\r\n     private void login(final String email, final String password){\r\n        final String url = &quot;http://10.0.2.2:8000/login_facebook_app&quot;;\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n\r\n        StringRequest postRequest = new StringRequest(Request.Method.POST, url, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                Toast.makeText(getBaseContext(), response, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(getBaseContext(), error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        }){\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\r\n                params.put(&quot;email&quot;, email);\r\n                params.put(&quot;password&quot;, password);\r\n\r\n                return params;\r\n            }\r\n        };\r\n\r\n        postRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                15000,\r\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n\r\n       \r\n```","title":"Why my http post request with android volley throws error (localhost)?","body":"<p>Firstly, make sure that your server is running.</p>\n<p>Then set usesCleartextTraffic to true in AndroidManifest file in application tag.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;application\n        .....\n        android:usesCleartextTraffic=&quot;true&quot;\n     &gt;\n            ....\n        &lt;/activity&gt;\n</code></pre>\n<p>Then in url instead of &quot;http://192.168.100.2:8000/login_facebook_app&quot; use this &quot;http://10.0.2.2:8000/login_facebook_app&quot;</p>\n<p>So now your new code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     private void login(final String email, final String password){\n        final String url = &quot;http://10.0.2.2:8000/login_facebook_app&quot;;\n\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\n\n        StringRequest postRequest = new StringRequest(Request.Method.POST, url, new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                Toast.makeText(getBaseContext(), response, Toast.LENGTH_SHORT).show();\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(getBaseContext(), error.toString(), Toast.LENGTH_SHORT).show();\n            }\n        }){\n            @Override\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\n                params.put(&quot;email&quot;, email);\n                params.put(&quot;password&quot;, password);\n\n                return params;\n            }\n        };\n\n        postRequest.setRetryPolicy(new DefaultRetryPolicy(\n                15000,\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n\n       \n</code></pre>\n"}],"owner":{"account_id":14526964,"reputation":327,"user_id":11755598,"display_name":"Abraham Arreola"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1832,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57000108,"answer_count":2,"score":0,"last_activity_date":1642650546,"creation_date":1562604931,"question_id":56939474,"body_markdown":"I&#39;m working on an android studio project and i&#39;ve had some problems trying to make a post request with volley library. I&#39;ve already tested my API with postman and all works fine, so the problem is from the client part.\r\n\r\nI&#39;ve already added the internet permission in my android manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nHere is my code, i&#39;ve created a function named &quot;login&quot; that receive two paramaters which are the data that i want to send by post method:\r\n\r\n```java\r\n     private void login(final String email, final String password){\r\n        final String url = &quot;http://192.168.100.2:8000/login_facebook_app&quot;;\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n\r\n        StringRequest postRequest = new StringRequest(Request.Method.POST, url, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                Toast.makeText(getBaseContext(), response, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(getBaseContext(), error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        }){\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\r\n                params.put(&quot;email&quot;, email);\r\n                params.put(&quot;password&quot;, password);\r\n\r\n                return params;\r\n            }\r\n        };\r\n\r\n        postRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                15000,\r\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n\r\n        requestQueue.add(postRequest);\r\n    }\r\n```\r\nI call that function on a click event login button, but when i click that button i get\r\n\r\n    com.android.volley.timeoutError\r\n\r\nI&#39;ve read many solutions and i&#39;ve found that the timeout problem is due to firewall problems when the API is running in localhost.\r\nBut when i disable the firewall throws me another error:\r\n\r\n    com.android.volley.NoConnectionError:java.net.ConnectionException: failed to connect to /192.168.100.2(port 8000) after 2500ms:isConnected failed: ECONNREFUSED(Connection refused)\r\n\r\nI&#39;ve tried many solutions of here and i cannot make work my app. Please help me xD","title":"Why my http post request with android volley throws error (localhost)?","body":"<p>I'm working on an android studio project and i've had some problems trying to make a post request with volley library. I've already tested my API with postman and all works fine, so the problem is from the client part.</p>\n\n<p>I've already added the internet permission in my android manifest:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n\n<p>Here is my code, i've created a function named \"login\" that receive two paramaters which are the data that i want to send by post method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>     private void login(final String email, final String password){\n        final String url = \"http://192.168.100.2:8000/login_facebook_app\";\n\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\n\n        StringRequest postRequest = new StringRequest(Request.Method.POST, url, new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                Toast.makeText(getBaseContext(), response, Toast.LENGTH_SHORT).show();\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(getBaseContext(), error.toString(), Toast.LENGTH_SHORT).show();\n            }\n        }){\n            @Override\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\n                params.put(\"email\", email);\n                params.put(\"password\", password);\n\n                return params;\n            }\n        };\n\n        postRequest.setRetryPolicy(new DefaultRetryPolicy(\n                15000,\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n\n        requestQueue.add(postRequest);\n    }\n</code></pre>\n\n<p>I call that function on a click event login button, but when i click that button i get</p>\n\n<pre><code>com.android.volley.timeoutError\n</code></pre>\n\n<p>I've read many solutions and i've found that the timeout problem is due to firewall problems when the API is running in localhost.\nBut when i disable the firewall throws me another error:</p>\n\n<pre><code>com.android.volley.NoConnectionError:java.net.ConnectionException: failed to connect to /192.168.100.2(port 8000) after 2500ms:isConnected failed: ECONNREFUSED(Connection refused)\n</code></pre>\n\n<p>I've tried many solutions of here and i cannot make work my app. Please help me xD</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3251277,"reputation":497,"user_id":2741453,"accept_rate":80,"display_name":"Agi Maulana"},"score":0,"creation_date":1642647907,"post_id":70780323,"comment_id":125128992,"body_markdown":"is there any call to start another activity? if it is,  perhaps the desired activity stopped and the `MainActivity` try to restart","body":"is there any call to start another activity? if it is,  perhaps the desired activity stopped and the <code>MainActivity</code> try to restart"},{"owner":{"account_id":19708217,"reputation":103,"user_id":14429358,"display_name":"Exron"},"score":0,"creation_date":1642648352,"post_id":70780323,"comment_id":125129064,"body_markdown":"I would like to recommend using logs(log.i or log.e) to print something in the logcat that way you will get a closer look at what is wrong and where is it or when it happens.","body":"I would like to recommend using logs(log.i or log.e) to print something in the logcat that way you will get a closer look at what is wrong and where is it or when it happens."}],"answers":[{"tags":[],"owner":{"account_id":23994276,"reputation":31,"user_id":17979965,"display_name":"Kevin Mullican"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642650364,"creation_date":1642650364,"answer_id":70780574,"question_id":70780323,"body_markdown":"Just in case anyone else ever runs into this, the issue was that in the manifest I was only specifying ACCESS_COARSE_LOCATION, but in the Bluetooth handler, I was requesting ACCESS_FINE_LOCATION. Note that Agi&#39;s answer helped me figure this out. It was the Bluetooth activity that was silently failing. Thank you all for the suggestions.","title":"Android Application unresponsive - looping between MainActivity onpause and onresume seemingly jumping to handle navigation bar","body":"<p>Just in case anyone else ever runs into this, the issue was that in the manifest I was only specifying ACCESS_COARSE_LOCATION, but in the Bluetooth handler, I was requesting ACCESS_FINE_LOCATION. Note that Agi's answer helped me figure this out. It was the Bluetooth activity that was silently failing. Thank you all for the suggestions.</p>\n"}],"owner":{"account_id":23994276,"reputation":31,"user_id":17979965,"display_name":"Kevin Mullican"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642650364,"creation_date":1642647491,"question_id":70780323,"body_markdown":"I am reviving an old Android project. I am using Android Studio 2020.3.1 Patch 4 on MacOS Monterey. I have updated the project, addressed all errors and warnings in every class and view, I have removed/replaced all deprecated functions, and am successfully building and testing the application on a Galaxy S20 running Android 11. I am building to SDK 30. The application builds and runs but is VERY unresponsive. It will accept button clicks and keyboard entry eventually, but it feels very slow and random. In looking at the run log, I see the following message set repeated at a very high frequency:\r\n\r\n```\r\nD/Mo: onPause\r\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 1 1\r\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\r\n    getNavigationBarColor() -16711423\r\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\r\n    getNavigationBarColor() -16711423\r\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\r\nD/InputMethodManager: startInputInner - Id : 0\r\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\r\nD/InputTransport: Input channel constructed: &#39;ClientS&#39;, fd=87\r\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\r\n    getNavigationBarColor() -16711423\r\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\r\nD/InputMethodManager: startInputInner - Id : 0\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767936]\r\n    nativeRelease nativeObject e[-5476376652132767936]\r\n    nativeRelease nativeObject s[-5476376652132759840]\r\n    nativeRelease nativeObject e[-5476376652132759840]\r\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 1\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132850656]\r\n    nativeRelease nativeObject e[-5476376652132850656]\r\n    nativeRelease nativeObject s[-5476376652132847488]\r\n    nativeRelease nativeObject e[-5476376652132847488]\r\n    nativeRelease nativeObject s[-5476376652132891488]\r\n    nativeRelease nativeObject e[-5476376652132891488]\r\nI/ViewRootImpl@5d619c7[MainActivity]: stopped(false) old=false\r\nD/Mo: onResume\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132899760]\r\n    nativeRelease nativeObject e[-5476376652132899760]\r\nD/Mo: onPause\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767584]\r\n    nativeRelease nativeObject e[-5476376652132767584]\r\nI/SurfaceControl: assignNativeObject: nativeObject = 0 Surface(name=null)/@0x77a85a8 / android.view.SurfaceControl.readFromParcel:1117 android.view.IWindowSession$Stub$Proxy.relayout:1820 android.view.ViewRootImpl.relayoutWindow:9005 android.view.ViewRootImpl.performTraversals:3360 android.view.ViewRootImpl.doTraversal:2618 android.view.ViewRootImpl$TraversalRunnable.run:9971 android.view.Choreographer$CallbackRecord.run:1010 android.view.Choreographer.doCallbacks:809 android.view.Choreographer.doFrame:744 android.view.Choreographer$FrameDisplayEventReceiver.run:995 \r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132900112]\r\n    nativeRelease nativeObject e[-5476376652132900112]\r\n    nativeRelease nativeObject s[-5476376652132849424]\r\n    nativeRelease nativeObject e[-5476376652132849424]\r\n    nativeRelease nativeObject s[-5476376652132849776]\r\n    nativeRelease nativeObject e[-5476376652132849776]\r\nI/ViewRootImpl@5d619c7[MainActivity]: Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=8 res=0x1 s={true -5476376647837952720} ch=false fn=8\r\n    MSG_WINDOW_FOCUS_CHANGED 1 1\r\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\r\n    getNavigationBarColor() -16711423\r\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\r\n    getNavigationBarColor() -16711423\r\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\r\nD/InputMethodManager: startInputInner - Id : 0\r\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\r\nD/InputTransport: Input channel constructed: &#39;ClientS&#39;, fd=88\r\n    Input channel destroyed: &#39;ClientS&#39;, fd=87\r\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 1\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767584]\r\n    nativeRelease nativeObject e[-5476376652132767584]\r\n    nativeRelease nativeObject s[-5476376652132850656]\r\n    nativeRelease nativeObject e[-5476376652132850656]\r\n    nativeRelease nativeObject s[-5476376652132897472]\r\n    nativeRelease nativeObject e[-5476376652132897472]\r\nI/ViewRootImpl@5d619c7[MainActivity]: stopped(false) old=false\r\nD/Mo: onResume\r\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132848368]\r\n    nativeRelease nativeObject e[-5476376652132848368]\r\nD/Mo: onPause\r\n```\r\n\r\nIt appears that the app is continually pausing and resuming the MainActivity, jumping out to address whatever is indicated in the above log. I can see that my interactions with the app UI elements, when they happen, do happen between the onResume and onPause messages (those onResume and onPause messages are generated from the MainActivity calls of the same names). The vast majority of the time, the MainActivity is paused addressing whatever is indicated in the log above.\r\n\r\nFor some context, the app is essentially a chat app. It has a message history window that takes up most of the UI, a text entry box at the bottom, a submit button to enter the text into the message history and a slide-in drawer at the left to select from different message groups. The app also connects to a bluetooth LE device. I have tried disabling each of the UI elements and the bluetooth components individually, but the behavior remains the same.\r\n\r\nPerhaps I am too close to the trees to see the forest. I would appreciate any guidance on a direction to debug this issue. ","title":"Android Application unresponsive - looping between MainActivity onpause and onresume seemingly jumping to handle navigation bar","body":"<p>I am reviving an old Android project. I am using Android Studio 2020.3.1 Patch 4 on MacOS Monterey. I have updated the project, addressed all errors and warnings in every class and view, I have removed/replaced all deprecated functions, and am successfully building and testing the application on a Galaxy S20 running Android 11. I am building to SDK 30. The application builds and runs but is VERY unresponsive. It will accept button clicks and keyboard entry eventually, but it feels very slow and random. In looking at the run log, I see the following message set repeated at a very high frequency:</p>\n<pre><code>D/Mo: onPause\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 1 1\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\n    getNavigationBarColor() -16711423\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\n    getNavigationBarColor() -16711423\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\nD/InputMethodManager: startInputInner - Id : 0\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\nD/InputTransport: Input channel constructed: 'ClientS', fd=87\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\n    getNavigationBarColor() -16711423\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\nD/InputMethodManager: startInputInner - Id : 0\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767936]\n    nativeRelease nativeObject e[-5476376652132767936]\n    nativeRelease nativeObject s[-5476376652132759840]\n    nativeRelease nativeObject e[-5476376652132759840]\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 1\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132850656]\n    nativeRelease nativeObject e[-5476376652132850656]\n    nativeRelease nativeObject s[-5476376652132847488]\n    nativeRelease nativeObject e[-5476376652132847488]\n    nativeRelease nativeObject s[-5476376652132891488]\n    nativeRelease nativeObject e[-5476376652132891488]\nI/ViewRootImpl@5d619c7[MainActivity]: stopped(false) old=false\nD/Mo: onResume\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132899760]\n    nativeRelease nativeObject e[-5476376652132899760]\nD/Mo: onPause\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767584]\n    nativeRelease nativeObject e[-5476376652132767584]\nI/SurfaceControl: assignNativeObject: nativeObject = 0 Surface(name=null)/@0x77a85a8 / android.view.SurfaceControl.readFromParcel:1117 android.view.IWindowSession$Stub$Proxy.relayout:1820 android.view.ViewRootImpl.relayoutWindow:9005 android.view.ViewRootImpl.performTraversals:3360 android.view.ViewRootImpl.doTraversal:2618 android.view.ViewRootImpl$TraversalRunnable.run:9971 android.view.Choreographer$CallbackRecord.run:1010 android.view.Choreographer.doCallbacks:809 android.view.Choreographer.doFrame:744 android.view.Choreographer$FrameDisplayEventReceiver.run:995 \nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132900112]\n    nativeRelease nativeObject e[-5476376652132900112]\n    nativeRelease nativeObject s[-5476376652132849424]\n    nativeRelease nativeObject e[-5476376652132849424]\n    nativeRelease nativeObject s[-5476376652132849776]\n    nativeRelease nativeObject e[-5476376652132849776]\nI/ViewRootImpl@5d619c7[MainActivity]: Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=8 res=0x1 s={true -5476376647837952720} ch=false fn=8\n    MSG_WINDOW_FOCUS_CHANGED 1 1\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\n    getNavigationBarColor() -16711423\nD/InputMethodManager: prepareNavigationBarInfo() DecorView@4ac2ae[MainActivity]\n    getNavigationBarColor() -16711423\nV/InputMethodManager: Starting input: tba=com.mullican.mo ic=null mNaviBarColor -16711423 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\nD/InputMethodManager: startInputInner - Id : 0\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\nD/InputTransport: Input channel constructed: 'ClientS', fd=88\n    Input channel destroyed: 'ClientS', fd=87\nI/ViewRootImpl@5d619c7[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 1\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132767584]\n    nativeRelease nativeObject e[-5476376652132767584]\n    nativeRelease nativeObject s[-5476376652132850656]\n    nativeRelease nativeObject e[-5476376652132850656]\n    nativeRelease nativeObject s[-5476376652132897472]\n    nativeRelease nativeObject e[-5476376652132897472]\nI/ViewRootImpl@5d619c7[MainActivity]: stopped(false) old=false\nD/Mo: onResume\nI/SurfaceControl: nativeRelease nativeObject s[-5476376652132848368]\n    nativeRelease nativeObject e[-5476376652132848368]\nD/Mo: onPause\n</code></pre>\n<p>It appears that the app is continually pausing and resuming the MainActivity, jumping out to address whatever is indicated in the above log. I can see that my interactions with the app UI elements, when they happen, do happen between the onResume and onPause messages (those onResume and onPause messages are generated from the MainActivity calls of the same names). The vast majority of the time, the MainActivity is paused addressing whatever is indicated in the log above.</p>\n<p>For some context, the app is essentially a chat app. It has a message history window that takes up most of the UI, a text entry box at the bottom, a submit button to enter the text into the message history and a slide-in drawer at the left to select from different message groups. The app also connects to a bluetooth LE device. I have tried disabling each of the UI elements and the bluetooth components individually, but the behavior remains the same.</p>\n<p>Perhaps I am too close to the trees to see the forest. I would appreciate any guidance on a direction to debug this issue.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":22773148,"reputation":6705,"user_id":16930239,"display_name":"user16930239"},"score":0,"creation_date":1642182328,"post_id":70682558,"comment_id":125011360,"body_markdown":"are you running it on Android 12?","body":"are you running it on Android 12?"},{"owner":{"account_id":23049030,"reputation":41,"user_id":17166150,"display_name":"parker"},"score":0,"creation_date":1642185383,"post_id":70682558,"comment_id":125012470,"body_markdown":"No, I am running it on my emulator and android device both are android 11 @Jabbar","body":"No, I am running it on my emulator and android device both are android 11 @Jabbar"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642191582,"post_id":70682558,"comment_id":125014492,"body_markdown":"Do you want to save an image in two locations? And you did not describe any problem you encountered.","body":"Do you want to save an image in two locations? And you did not describe any problem you encountered."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642191694,"post_id":70682558,"comment_id":125014536,"body_markdown":"The media store does not scan files in app specific storages. Are you asking it should? Describe your problem!","body":"The media store does not scan files in app specific storages. Are you asking it should? Describe your problem!"},{"owner":{"account_id":20231096,"reputation":344,"user_id":14837619,"display_name":"Yechiel babani"},"score":0,"creation_date":1642349595,"post_id":70682558,"comment_id":125041944,"body_markdown":"since android 11, the scope of the storage has changed. so you need to check what is the version of the android and create the specific path depending on the android version","body":"since android 11, the scope of the storage has changed. so you need to check what is the version of the android and create the specific path depending on the android version"},{"owner":{"account_id":15820995,"reputation":155,"user_id":11415346,"display_name":"Miftah Classifieds"},"score":0,"creation_date":1675464048,"post_id":70682558,"comment_id":132942166,"body_markdown":"Hi, I encountered the same issue , the image has been successfully stored in app-specific scope storage but default gallery cannot scan it. so I have to save it in some shared folder so that any other app can access it. the pic has been taken by default camera using the new Api for that.","body":"Hi, I encountered the same issue , the image has been successfully stored in app-specific scope storage but default gallery cannot scan it. so I have to save it in some shared folder so that any other app can access it. the pic has been taken by default camera using the new Api for that."}],"answers":[{"tags":[],"owner":{"account_id":20597863,"reputation":113,"user_id":15119767,"display_name":"REInVent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642449690,"creation_date":1642449690,"answer_id":70746879,"question_id":70682558,"body_markdown":"I&#39;m assuming the app-specific storage is some sort of cache, in your ```onActivityResult()``` wouldn&#39;t you save the picture first to app-specific storage and  then copy it to ```Environment.DIRECTORY_PICTURES```?\r\n","title":"How to take images in android and save it on gallery as well as in the app-specific storage ? (java, android studio)","body":"<p>I'm assuming the app-specific storage is some sort of cache, in your <code>onActivityResult()</code> wouldn't you save the picture first to app-specific storage and  then copy it to <code>Environment.DIRECTORY_PICTURES</code>?</p>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642515373,"creation_date":1642515373,"answer_id":70757032,"question_id":70682558,"body_markdown":"Whenever you take a photo from the device, you the image uri in the `onActivityResult`. Now to save it to another location, you can use the code given below\r\n\r\n    void savefile(Uri sourceuri){\r\n        String sourceFilename= sourceuri.getPath();\r\n        String destinationFilename = android.os.Environment.getExternalStorageDirectory().getPath()+File.separatorChar+&quot;abc.mp3&quot;;\r\n\r\n        BufferedInputStream bis = null;\r\n        BufferedOutputStream bos = null;\r\n\r\n        try {\r\n          bis = new BufferedInputStream(new FileInputStream(sourceFilename));\r\n          bos = new BufferedOutputStream(new FileOutputStream(destinationFilename, false));\r\n          byte[] buf = new byte[1024];\r\n          bis.read(buf);\r\n          do {\r\n             bos.write(buf);\r\n          } while(bis.read(buf) != -1);\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        } finally {\r\n          try {\r\n            if (bis != null) bis.close();\r\n            if (bos != null) bos.close();\r\n          } catch (IOException e) {\r\n                e.printStackTrace();\r\n          }\r\n       }\r\n    }\r\n\r\n\r\nAnd in the `onActivityResult`, you can call it like this\r\n\r\n    saveFile(data.getData());\r\n\r\n","title":"How to take images in android and save it on gallery as well as in the app-specific storage ? (java, android studio)","body":"<p>Whenever you take a photo from the device, you the image uri in the <code>onActivityResult</code>. Now to save it to another location, you can use the code given below</p>\n<pre><code>void savefile(Uri sourceuri){\n    String sourceFilename= sourceuri.getPath();\n    String destinationFilename = android.os.Environment.getExternalStorageDirectory().getPath()+File.separatorChar+&quot;abc.mp3&quot;;\n\n    BufferedInputStream bis = null;\n    BufferedOutputStream bos = null;\n\n    try {\n      bis = new BufferedInputStream(new FileInputStream(sourceFilename));\n      bos = new BufferedOutputStream(new FileOutputStream(destinationFilename, false));\n      byte[] buf = new byte[1024];\n      bis.read(buf);\n      do {\n         bos.write(buf);\n      } while(bis.read(buf) != -1);\n    } catch (IOException e) {\n      e.printStackTrace();\n    } finally {\n      try {\n        if (bis != null) bis.close();\n        if (bos != null) bos.close();\n      } catch (IOException e) {\n            e.printStackTrace();\n      }\n   }\n}\n</code></pre>\n<p>And in the <code>onActivityResult</code>, you can call it like this</p>\n<pre><code>saveFile(data.getData());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23767251,"reputation":565,"user_id":17781856,"display_name":"OneDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642574874,"creation_date":1642574874,"answer_id":70766323,"question_id":70682558,"body_markdown":"I have done something like this Before, I Share my code with you and others that may help.&lt;br&gt;\r\nin this scenario if you want to save captured image, you have to check which api level that device is running with. for api level 28 and below you have to use specific method and for api level 28 above you have specific way.\r\nso first step, start from:&lt;br&gt;\r\n**AndroidManifest.xml**\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;28&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\r\n\r\nand add this line in to your AndroidManifest.xml application tag:&lt;br&gt;\r\n\r\n    android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\nif your project targetSdkVersion is 28 and above, you have to use **ActivityResultLauncher** otherwise you have to override **onRequestPermissionResult** in your fragment or activity.&lt;br&gt;\r\nif you use fragment you have to register your **ActivityResultLauncher** in onAttach method, if not register it in onCreate of your Activity, so do this:&lt;br&gt;\r\n\r\n    public class YourFragment extends Fragment {\r\n       private Bitmap bitmap;\r\n       private ActivityResultLauncher&lt;String&gt; storageResultActivity;\r\n\r\n\r\n        @Override\r\n        public void onAttach(@NonNull @NotNull Context context) {\r\n           super.onAttach(context);\r\n           registerWriteExternalStoragePermission();\r\n        }\r\n\r\n**registerWriteExternalStoragePermission** has this codes:&lt;br&gt;\r\n\r\n        private void registerWriteExternalStoragePermission() {\r\n        storageResultActivity = registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\r\n            if (isGranted) {\r\n                checkStoragePermissionAndSaveImage(bitmap);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nso next step is to get back result of captured image from intent and change it to Bitmap for this section we need another **activityResultLauncher** so do this in onAttach of your fragment or onCreate of your activity:&lt;br&gt;\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\r\n        if (result.getResultCode() == RESULT_OK) {\r\n           Intent data = result.getData();\r\n           if (data == null || data.getData() == null) {\r\n              //showError\r\n           }\r\n           Uri uri = data.getData();\r\n            if (Build.VERSION.SDK_INT &lt; 29) {\r\n                bitmap = MediaStore.Images.Media.getBitmap(context.getContentResolver(), uri);\r\n            } else {\r\n                ImageDecoder.Source source = ImageDecoder.createSource(context.getContentResolver(), uri);\r\n                bitmap = ImageDecoder.decodeBitmap(source);\r\n            }\r\n        }\r\n\r\nso next step is to check your app has storage permission or not:&lt;br&gt;\r\n\r\n        if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n            saveImageInAndroidApi28AndBelow(bitmap);\r\n        } else if (ActivityCompat.shouldShowRequestPermissionRationale(requireActivity(), Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n            //show user app can&#39;t save image for storage permission denied\r\n        } else {\r\n            storageResultActivity.launch(Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        }\r\n\r\nok as we near the end of this answer :) you have to implement **saveImageInAndroidApi28AndBelow** method, se lets go to do it:&lt;br&gt;\r\n\r\n        private boolean saveImageInAndroidApi28AndBelow(Bitmap bitmap) {\r\n        OutputStream fos;\r\n        String imagesDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString();\r\n        File image = new File(imagesDir, &quot;IMG_&quot; + System.currentTimeMillis() + &quot;.png&quot;);\r\n        try {\r\n            fos = new FileOutputStream(image);\r\n            bitmap.compress(Bitmap.CompressFormat.PNG, 95, fos);\r\n            Objects.requireNonNull(fos).close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            //isSuccess = false;\r\n            return false;\r\n        }\r\n        //isSuccess = true;\r\n        return true;\r\n    }\r\n\r\nand the final step is to implement **saveImageInAndroidApi29AndAbove** method do it like this: &lt;br&gt;\r\n\r\n    @NonNull\r\n    public Uri saveImageInAndroidApi29AndAbove(@NonNull final Bitmap bitmap) throws IOException {\r\n        final ContentValues values = new ContentValues();\r\n        values.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;IMG_&quot; + System.currentTimeMillis());\r\n        values.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;);\r\n        if (SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            values.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM);\r\n        }\r\n        final ContentResolver resolver = requireContext().getContentResolver();\r\n        Uri uri = null;\r\n        try {\r\n            final Uri contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n            uri = resolver.insert(contentUri, values);\r\n            if (uri == null) {\r\n                //isSuccess = false;\r\n                throw new IOException(&quot;Failed to create new MediaStore record.&quot;);\r\n            }\r\n            try (final OutputStream stream = resolver.openOutputStream(uri)) {\r\n                if (stream == null) {\r\n                    //isSuccess = false;\r\n                    throw new IOException(&quot;Failed to open output stream.&quot;);\r\n                }\r\n                if (!bitmap.compress(Bitmap.CompressFormat.PNG, 95, stream)) {\r\n                    //isSuccess = false;\r\n                    throw new IOException(&quot;Failed to save bitmap.&quot;);\r\n                }\r\n            }\r\n            //isSuccess = true;\r\n            return uri;\r\n        } catch (IOException e) {\r\n            if (uri != null) {\r\n                resolver.delete(uri, null, null);\r\n            }\r\n            throw e;\r\n        }\r\n    }\r\n\r\nso you have to check which API Level that device is running and with with little code handle what you want:&lt;br&gt;\r\n\r\n                if (SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                try {\r\n                    saveImageInAndroidApi29AndAbove(bitmap);\r\n                } catch (Exception e) {\r\n                   //show error to user that operatoin failed\r\n                }\r\n            } else {\r\n                saveImageInAndroidApi28AndBelow(bitmap);\r\n            }\r\n\r\n**Don&#39;t FORGET TO call .launch ON YOUR ActivityResultLauncher**\r\n\r\nhave a good time with the codes :)","title":"How to take images in android and save it on gallery as well as in the app-specific storage ? (java, android studio)","body":"<p>I have done something like this Before, I Share my code with you and others that may help.<br>\nin this scenario if you want to save captured image, you have to check which api level that device is running with. for api level 28 and below you have to use specific method and for api level 28 above you have specific way.\nso first step, start from:<br>\n<strong>AndroidManifest.xml</strong></p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    android:maxSdkVersion=&quot;28&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\n</code></pre>\n<p>and add this line in to your AndroidManifest.xml application tag:<br></p>\n<pre><code>android:requestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<p>if your project targetSdkVersion is 28 and above, you have to use <strong>ActivityResultLauncher</strong> otherwise you have to override <strong>onRequestPermissionResult</strong> in your fragment or activity.<br>\nif you use fragment you have to register your <strong>ActivityResultLauncher</strong> in onAttach method, if not register it in onCreate of your Activity, so do this:<br></p>\n<pre><code>public class YourFragment extends Fragment {\n   private Bitmap bitmap;\n   private ActivityResultLauncher&lt;String&gt; storageResultActivity;\n\n\n    @Override\n    public void onAttach(@NonNull @NotNull Context context) {\n       super.onAttach(context);\n       registerWriteExternalStoragePermission();\n    }\n</code></pre>\n<p><strong>registerWriteExternalStoragePermission</strong> has this codes:<br></p>\n<pre><code>    private void registerWriteExternalStoragePermission() {\n    storageResultActivity = registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\n        if (isGranted) {\n            checkStoragePermissionAndSaveImage(bitmap);\n        }\n    });\n}\n</code></pre>\n<p>so next step is to get back result of captured image from intent and change it to Bitmap for this section we need another <strong>activityResultLauncher</strong> so do this in onAttach of your fragment or onCreate of your activity:<br></p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\n    if (result.getResultCode() == RESULT_OK) {\n       Intent data = result.getData();\n       if (data == null || data.getData() == null) {\n          //showError\n       }\n       Uri uri = data.getData();\n        if (Build.VERSION.SDK_INT &lt; 29) {\n            bitmap = MediaStore.Images.Media.getBitmap(context.getContentResolver(), uri);\n        } else {\n            ImageDecoder.Source source = ImageDecoder.createSource(context.getContentResolver(), uri);\n            bitmap = ImageDecoder.decodeBitmap(source);\n        }\n    }\n</code></pre>\n<p>so next step is to check your app has storage permission or not:<br></p>\n<pre><code>    if (ContextCompat.checkSelfPermission(requireContext(), Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n        saveImageInAndroidApi28AndBelow(bitmap);\n    } else if (ActivityCompat.shouldShowRequestPermissionRationale(requireActivity(), Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n        //show user app can't save image for storage permission denied\n    } else {\n        storageResultActivity.launch(Manifest.permission.WRITE_EXTERNAL_STORAGE);\n    }\n</code></pre>\n<p>ok as we near the end of this answer :) you have to implement <strong>saveImageInAndroidApi28AndBelow</strong> method, se lets go to do it:<br></p>\n<pre><code>    private boolean saveImageInAndroidApi28AndBelow(Bitmap bitmap) {\n    OutputStream fos;\n    String imagesDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString();\n    File image = new File(imagesDir, &quot;IMG_&quot; + System.currentTimeMillis() + &quot;.png&quot;);\n    try {\n        fos = new FileOutputStream(image);\n        bitmap.compress(Bitmap.CompressFormat.PNG, 95, fos);\n        Objects.requireNonNull(fos).close();\n    } catch (IOException e) {\n        e.printStackTrace();\n        //isSuccess = false;\n        return false;\n    }\n    //isSuccess = true;\n    return true;\n}\n</code></pre>\n<p>and the final step is to implement <strong>saveImageInAndroidApi29AndAbove</strong> method do it like this: <br></p>\n<pre><code>@NonNull\npublic Uri saveImageInAndroidApi29AndAbove(@NonNull final Bitmap bitmap) throws IOException {\n    final ContentValues values = new ContentValues();\n    values.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;IMG_&quot; + System.currentTimeMillis());\n    values.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;);\n    if (SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        values.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DCIM);\n    }\n    final ContentResolver resolver = requireContext().getContentResolver();\n    Uri uri = null;\n    try {\n        final Uri contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n        uri = resolver.insert(contentUri, values);\n        if (uri == null) {\n            //isSuccess = false;\n            throw new IOException(&quot;Failed to create new MediaStore record.&quot;);\n        }\n        try (final OutputStream stream = resolver.openOutputStream(uri)) {\n            if (stream == null) {\n                //isSuccess = false;\n                throw new IOException(&quot;Failed to open output stream.&quot;);\n            }\n            if (!bitmap.compress(Bitmap.CompressFormat.PNG, 95, stream)) {\n                //isSuccess = false;\n                throw new IOException(&quot;Failed to save bitmap.&quot;);\n            }\n        }\n        //isSuccess = true;\n        return uri;\n    } catch (IOException e) {\n        if (uri != null) {\n            resolver.delete(uri, null, null);\n        }\n        throw e;\n    }\n}\n</code></pre>\n<p>so you have to check which API Level that device is running and with with little code handle what you want:<br></p>\n<pre><code>            if (SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            try {\n                saveImageInAndroidApi29AndAbove(bitmap);\n            } catch (Exception e) {\n               //show error to user that operatoin failed\n            }\n        } else {\n            saveImageInAndroidApi28AndBelow(bitmap);\n        }\n</code></pre>\n<p><strong>Don't FORGET TO call .launch ON YOUR ActivityResultLauncher</strong></p>\n<p>have a good time with the codes :)</p>\n"},{"tags":[],"owner":{"account_id":12514527,"reputation":1,"user_id":12109533,"display_name":"Rene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642650228,"creation_date":1642650228,"answer_id":70780561,"question_id":70682558,"body_markdown":"Simple, make a Launcher attach the camera and gallery and you have everything in one place, here I send you 2 links to make a launcher\r\n\r\nhttps://code.tutsplus.com/es/tutorials/build-a-custom-launcher-on-android--cms-21358\r\n\r\nhttps://steemit.com/utopian-io/@ideba/how-to-build-a-custom-android-launcher-and-home-screen-application-part-1","title":"How to take images in android and save it on gallery as well as in the app-specific storage ? (java, android studio)","body":"<p>Simple, make a Launcher attach the camera and gallery and you have everything in one place, here I send you 2 links to make a launcher</p>\n<p><a href=\"https://code.tutsplus.com/es/tutorials/build-a-custom-launcher-on-android--cms-21358\" rel=\"nofollow noreferrer\">https://code.tutsplus.com/es/tutorials/build-a-custom-launcher-on-android--cms-21358</a></p>\n<p><a href=\"https://steemit.com/utopian-io/@ideba/how-to-build-a-custom-android-launcher-and-home-screen-application-part-1\" rel=\"nofollow noreferrer\">https://steemit.com/utopian-io/@ideba/how-to-build-a-custom-android-launcher-and-home-screen-application-part-1</a></p>\n"}],"owner":{"account_id":23049030,"reputation":41,"user_id":17166150,"display_name":"parker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5291,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1642650228,"creation_date":1641994722,"question_id":70682558,"body_markdown":"I want to call the camera through intent, capture images, and save it locally in the gallery and in the app-specific storage how can I achieve that?\r\n\r\nI went through [this][1] question also but the code is not working I don&#39;t know why.\r\n\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60027883/take-photo-in-android-app-and-save-it-into-gallery","title":"How to take images in android and save it on gallery as well as in the app-specific storage ? (java, android studio)","body":"<p>I want to call the camera through intent, capture images, and save it locally in the gallery and in the app-specific storage how can I achieve that?</p>\n<p>I went through <a href=\"https://stackoverflow.com/questions/60027883/take-photo-in-android-app-and-save-it-into-gallery\">this</a> question also but the code is not working I don't know why.</p>\n"},{"tags":["java","email","outlook"],"comments":[{"owner":{"account_id":8387653,"reputation":1126,"user_id":6297496,"display_name":"Chetan Jadhav CD"},"score":0,"creation_date":1512072921,"post_id":47581414,"comment_id":82121184,"body_markdown":"Instead of `imagePart.setContentID(&quot;&lt;101@gmail.com&gt;&quot;);`, try using `imagePart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + &quot;101@gmail.com&quot;+ &quot;&gt;&quot;);`","body":"Instead of <code>imagePart.setContentID(&quot;&lt;101@gmail.com&gt;&quot;);</code>, try using <code>imagePart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + &quot;101@gmail.com&quot;+ &quot;&gt;&quot;);</code>"},{"owner":{"account_id":8387653,"reputation":1126,"user_id":6297496,"display_name":"Chetan Jadhav CD"},"score":0,"creation_date":1512073371,"post_id":47581414,"comment_id":82121436,"body_markdown":"This could also potentially be a reason why the images are not being shown inline in Outlook -  http://www.addintools.com/documents/outlook/images/trust-center-window.png","body":"This could also potentially be a reason why the images are not being shown inline in Outlook -  <a href=\"http://www.addintools.com/documents/outlook/images/trust-center-window.png\" rel=\"nofollow noreferrer\">addintools.com/documents/outlook/images/trust-center-window.&zwnj;&#8203;png</a>"},{"owner":{"account_id":383494,"reputation":5244,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"score":0,"creation_date":1512074397,"post_id":47581414,"comment_id":82122001,"body_markdown":"I tried your suggestion, but it didn&#39;t work. I forgot to mention that I am using Microsoft Outlook for Mac version 15.33 for testing, and this version does not include or support Microsoft&#39;s Trust Center.","body":"I tried your suggestion, but it didn&#39;t work. I forgot to mention that I am using Microsoft Outlook for Mac version 15.33 for testing, and this version does not include or support Microsoft&#39;s Trust Center."}],"answers":[{"tags":[],"owner":{"account_id":383494,"reputation":5244,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1515834033,"creation_date":1515827758,"answer_id":48237758,"question_id":47581414,"body_markdown":"I wrote the following code, and it solved my problem. The difference between this one and the one above is that I called `setText` instead of `setContent` for the body text, and I called `attachFile` instead of `setDataHandler` for the image.\r\n\r\n    private void send(String toAddress, String subject, String text, byte[] attachment) {\r\n      JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n      mailSender.setHost(mailHost);\r\n\r\n      MimeMessage message = mailSender.createMimeMessage();\r\n      MimeMessageHelper msgHelper = new MimeMessageHelper(message, true);\r\n      msgHelper.setSubject(subject);\r\n      msgHelper.setFrom(fromAddress);\r\n      msgHelper.setTo(toAddress);\r\n\r\n      Multipart multipart = new MimeMultipart();\r\n\r\n      MimeBodyPart messageBodyPart = new MimeBodyPart();\r\n      messageBodyPart.setText(text, &quot;UTF-8&quot;, &quot;html&quot;);\r\n      multipart.addBodyPart(messageBodyPart);\r\n\r\n      MimeBodyPart imagePart = new MimeBodyPart();\r\n      imagePart.attachFile(new File(PdfMailServiceImpl.class.getClassLoader().getResource(&quot;images/Energy_Office-logo.png&quot;).toURI()));\r\n      imagePart.setContentID(&quot;&lt;&quot; + &quot;101&quot; + &quot;&gt;&quot;);\r\n      imagePart.setDisposition(MimeBodyPart.INLINE);\r\n      multipart.addBodyPart(imagePart);\r\n\r\n      MimeBodyPart pdfPart = new MimeBodyPart();\r\n      DataSource pdfSrc = new ByteArrayDataSource(attachment, mime);\r\n      pdfPart.setDataHandler(new DataHandler(pdfSrc));\r\n      pdfPart.setFileName(formFilename);\r\n      multipart.addBodyPart(pdfPart);\r\n\r\n      message.setContent(multipart, &quot;text/html&quot;);\r\n\r\n      message.saveChanges();\r\n\r\n      mailSender.send(message);\r\n    }","title":"How to prevent inline images from being converted to binary attachments in Microsoft Outlook?","body":"<p>I wrote the following code, and it solved my problem. The difference between this one and the one above is that I called <code>setText</code> instead of <code>setContent</code> for the body text, and I called <code>attachFile</code> instead of <code>setDataHandler</code> for the image.</p>\n\n<pre><code>private void send(String toAddress, String subject, String text, byte[] attachment) {\n  JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n  mailSender.setHost(mailHost);\n\n  MimeMessage message = mailSender.createMimeMessage();\n  MimeMessageHelper msgHelper = new MimeMessageHelper(message, true);\n  msgHelper.setSubject(subject);\n  msgHelper.setFrom(fromAddress);\n  msgHelper.setTo(toAddress);\n\n  Multipart multipart = new MimeMultipart();\n\n  MimeBodyPart messageBodyPart = new MimeBodyPart();\n  messageBodyPart.setText(text, \"UTF-8\", \"html\");\n  multipart.addBodyPart(messageBodyPart);\n\n  MimeBodyPart imagePart = new MimeBodyPart();\n  imagePart.attachFile(new File(PdfMailServiceImpl.class.getClassLoader().getResource(\"images/Energy_Office-logo.png\").toURI()));\n  imagePart.setContentID(\"&lt;\" + \"101\" + \"&gt;\");\n  imagePart.setDisposition(MimeBodyPart.INLINE);\n  multipart.addBodyPart(imagePart);\n\n  MimeBodyPart pdfPart = new MimeBodyPart();\n  DataSource pdfSrc = new ByteArrayDataSource(attachment, mime);\n  pdfPart.setDataHandler(new DataHandler(pdfSrc));\n  pdfPart.setFileName(formFilename);\n  multipart.addBodyPart(pdfPart);\n\n  message.setContent(multipart, \"text/html\");\n\n  message.saveChanges();\n\n  mailSender.send(message);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23994573,"reputation":1,"user_id":17980231,"display_name":"paul chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642649990,"creation_date":1642649990,"answer_id":70780539,"question_id":47581414,"body_markdown":"  \r\n     MimeBodyPart imagePart = new MimeBodyPart();\r\n     DataSource imgSrc = new FileDataSource(new File(getClass().getClassLoader()\r\n     .getResource(&quot;images/Energy_Office-logo.png&quot;).toURI()));\r\n     imagePart.setDataHandler(new DataHandler(imgSrc));\r\n     imagePart.setContentID(&quot;&lt;101@gmail.com&gt;&quot;);\r\n    // add The following code\r\n     imagePart1.setHeader(&quot;Content-Type&quot;, &quot;image/png&quot;);\r\n     imagePart.setDisposition(MimeBodyPart.INLINE);\r\n    multipart.addBodyPart(imagePart);","title":"How to prevent inline images from being converted to binary attachments in Microsoft Outlook?","body":"<pre><code> MimeBodyPart imagePart = new MimeBodyPart();\n DataSource imgSrc = new FileDataSource(new File(getClass().getClassLoader()\n .getResource(&quot;images/Energy_Office-logo.png&quot;).toURI()));\n imagePart.setDataHandler(new DataHandler(imgSrc));\n imagePart.setContentID(&quot;&lt;101@gmail.com&gt;&quot;);\n// add The following code\n imagePart1.setHeader(&quot;Content-Type&quot;, &quot;image/png&quot;);\n imagePart.setDisposition(MimeBodyPart.INLINE);\nmultipart.addBodyPart(imagePart);\n</code></pre>\n"}],"owner":{"account_id":383494,"reputation":5244,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1773,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48237758,"answer_count":2,"score":0,"last_activity_date":1642649990,"creation_date":1512070989,"question_id":47581414,"body_markdown":"My Java application creates an e-mail and sends it to a user. If the e-mail is sent to a Gmail account and the user checks his e-mail online in a web browser, the image that is in the body and at the bottom of the e-mail (i.e. not an attachment) will be displayed. However, if the e-mail is sent to a user who checks his e-mail via Microsoft Outlook (i.e. the e-mail passes through a Microsoft Exchange Server), the image is converted to a binary file and then attached to the e-mail, and at the bottom of the e-mail, the filename &quot;ATT00001.bin&quot; is displayed. How do I fix this issue so that the image will be displayed?\r\n\r\nHere is what the e-mail should look like with the image, which should be at the bottom of the e-mail.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut here is how the e-mail looks in Microsoft Outlook. There is no image, only a binary file.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is my code for generating an e-mail with an inline image.\r\n\r\n      MimeMessage message = mailSender.createMimeMessage();\r\n      message.setSubject(&quot;Subject&quot;);\r\n\r\n      MimeMessageHelper msg = new MimeMessageHelper(message, true);\r\n\r\n      msg.setTo(&quot;recipient@gmail.com&quot;);\r\n      msg.setFrom(&quot;sender@gmail.com&quot;);\r\n      msg.setSentDate(new Date());\r\n\r\n      Multipart multipart = new MimeMultipart();\r\n\r\n      MimeBodyPart messageBodyPart = new MimeBodyPart();\r\n      messageBodyPart.setContent(&quot;&lt;html&gt;&lt;body&gt;Test&lt;br /&gt;&quot;\r\n        + &quot;&lt;img src=&#39;cid:101@gmail.com&#39;/&gt;&lt;/body&gt;&lt;/html&gt;&quot;, &quot;text/html&quot;);\r\n      multipart.addBodyPart(messageBodyPart);\r\n\r\n      MimeBodyPart imagePart = new MimeBodyPart();\r\n      DataSource imgSrc = new FileDataSource(new File(getClass().getClassLoader()\r\n        .getResource(&quot;images/Energy_Office-logo.png&quot;).toURI()));\r\n      imagePart.setDataHandler(new DataHandler(imgSrc));\r\n      imagePart.setContentID(&quot;&lt;101@gmail.com&gt;&quot;);\r\n      // The following code does not fix the issue either.\r\n      // imagePart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + &quot;101@gmail.com&quot; + &quot;&gt;&quot;);\r\n      imagePart.setDisposition(MimeBodyPart.INLINE);\r\n      multipart.addBodyPart(imagePart);\r\n\r\n      MimeBodyPart pdfPart = new MimeBodyPart();\r\n      DataSource pdfSrc = new ByteArrayDataSource(attachment, mime);\r\n      pdfPart.setDataHandler(new DataHandler(pdfSrc));\r\n      pdfPart.setFileName(&quot;file.pdf&quot;);\r\n      multipart.addBodyPart(pdfPart);\r\n\r\n      message.setContent(multipart, &quot;text/html&quot;);\r\n\r\n      message.saveChanges();\r\n\r\n      mailSender.send(message);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/145og.png\r\n  [2]: https://i.stack.imgur.com/7wP2j.png","title":"How to prevent inline images from being converted to binary attachments in Microsoft Outlook?","body":"<p>My Java application creates an e-mail and sends it to a user. If the e-mail is sent to a Gmail account and the user checks his e-mail online in a web browser, the image that is in the body and at the bottom of the e-mail (i.e. not an attachment) will be displayed. However, if the e-mail is sent to a user who checks his e-mail via Microsoft Outlook (i.e. the e-mail passes through a Microsoft Exchange Server), the image is converted to a binary file and then attached to the e-mail, and at the bottom of the e-mail, the filename \"ATT00001.bin\" is displayed. How do I fix this issue so that the image will be displayed?</p>\n\n<p>Here is what the e-mail should look like with the image, which should be at the bottom of the e-mail.</p>\n\n<p><a href=\"https://i.stack.imgur.com/145og.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/145og.png\" alt=\"enter image description here\"></a></p>\n\n<p>But here is how the e-mail looks in Microsoft Outlook. There is no image, only a binary file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7wP2j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7wP2j.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my code for generating an e-mail with an inline image.</p>\n\n<pre><code>  MimeMessage message = mailSender.createMimeMessage();\n  message.setSubject(\"Subject\");\n\n  MimeMessageHelper msg = new MimeMessageHelper(message, true);\n\n  msg.setTo(\"recipient@gmail.com\");\n  msg.setFrom(\"sender@gmail.com\");\n  msg.setSentDate(new Date());\n\n  Multipart multipart = new MimeMultipart();\n\n  MimeBodyPart messageBodyPart = new MimeBodyPart();\n  messageBodyPart.setContent(\"&lt;html&gt;&lt;body&gt;Test&lt;br /&gt;\"\n    + \"&lt;img src='cid:101@gmail.com'/&gt;&lt;/body&gt;&lt;/html&gt;\", \"text/html\");\n  multipart.addBodyPart(messageBodyPart);\n\n  MimeBodyPart imagePart = new MimeBodyPart();\n  DataSource imgSrc = new FileDataSource(new File(getClass().getClassLoader()\n    .getResource(\"images/Energy_Office-logo.png\").toURI()));\n  imagePart.setDataHandler(new DataHandler(imgSrc));\n  imagePart.setContentID(\"&lt;101@gmail.com&gt;\");\n  // The following code does not fix the issue either.\n  // imagePart.setHeader(\"Content-ID\", \"&lt;\" + \"101@gmail.com\" + \"&gt;\");\n  imagePart.setDisposition(MimeBodyPart.INLINE);\n  multipart.addBodyPart(imagePart);\n\n  MimeBodyPart pdfPart = new MimeBodyPart();\n  DataSource pdfSrc = new ByteArrayDataSource(attachment, mime);\n  pdfPart.setDataHandler(new DataHandler(pdfSrc));\n  pdfPart.setFileName(\"file.pdf\");\n  multipart.addBodyPart(pdfPart);\n\n  message.setContent(multipart, \"text/html\");\n\n  message.saveChanges();\n\n  mailSender.send(message);\n</code></pre>\n"},{"tags":["java","swing","class","actionlistener"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1642641460,"post_id":70778844,"comment_id":125128011,"body_markdown":"Generally, you create a Swing GUI one time, at the beginning of your application.  You create an application model made up of one or more plain Java getter/setter classes to hold the state of the game.  Your GUI reads the state of the game from the model and updates the text of the Swing components in the GUI.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Generally, you create a Swing GUI one time, at the beginning of your application.  You create an application model made up of one or more plain Java getter/setter classes to hold the state of the game.  Your GUI reads the state of the game from the model and updates the text of the Swing components in the GUI.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":13417687,"reputation":45,"user_id":15411439,"display_name":"Teo"},"score":0,"creation_date":1642644212,"post_id":70778844,"comment_id":125128418,"body_markdown":"@GilbertLeBlanc So i should create a class that has all of the info as to how the &#39;new game&#39; looks like? Dimensions, letters at buttons. and when i click new game, have it load from that &quot;game state&quot; class?","body":"@GilbertLeBlanc So i should create a class that has all of the info as to how the &#39;new game&#39; looks like? Dimensions, letters at buttons. and when i click new game, have it load from that &quot;game state&quot; class?"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1642662259,"post_id":70778844,"comment_id":125131605,"body_markdown":"Is it just a coincidence that the code in [this question](https://stackoverflow.com/questions/70750073/how-to-have-one-jpanel-show-up-and-the-second-one-disappear-on-button-click) by another user has a lot in common with this one ?","body":"Is it just a coincidence that the code in <a href=\"https://stackoverflow.com/questions/70750073/how-to-have-one-jpanel-show-up-and-the-second-one-disappear-on-button-click\">this question</a> by another user has a lot in common with this one ?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1642667285,"post_id":70778844,"comment_id":125133267,"body_markdown":"No.  As  I said, you create the view once and only once using Swing components.  Your application model consists of **plain Java getter/setter classes**.  No Swing components whatsoever.  The Wikipedia article [model–view–controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) goes into much more detail.","body":"No.  As  I said, you create the view once and only once using Swing components.  Your application model consists of <b>plain Java getter/setter classes</b>.  No Swing components whatsoever.  The Wikipedia article <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model–view–controller</a> goes into much more detail."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642649845,"creation_date":1642646502,"answer_id":70780223,"question_id":70778844,"body_markdown":"In general, you should be working on the concept of decoupling your views and your data, this means that you could have a &quot;game model&quot; which could be applied to a view and the view would then modify itself based on model properties, this is commonly known as &quot;model - view - controller&quot;.\r\n\r\nThe problem is, however, you never remove `grid` from it&#39;s parent container when you create a new game\r\n\r\n    if (checkexists == true){\r\n        grid = null;\r\n        grid = new JPanel();\r\n    }\r\n\r\nInstead, before you re-intialise the `grid`, you should remove from it&#39;s parent container\r\n\r\n    if (grid != null) {\r\n        mainGame.remove(grid);\r\n        grid = null;\r\n        grid = new JPanel();\r\n    }\r\n\r\nor you could just remove the components from the `grid` panel itself\r\n\r\n    grid.removeAll();\r\n\r\n# A different approach...\r\n\r\nAt all stages you should be trying to decouple you objects and workflows from each other, so that it&#39;s easier to change any one part without having adverse effects on the other parts of the system or workflow.\r\n\r\nLooking at you code, for example, the navigation decisions are tightly coupled to each panel/view, but in reality, they shouldn&#39;t know or care about how the navigation works (or the fact that there are other views), they should just do there job.\r\n\r\nYou can decouple this workflow through the use of delegation (backed by an observer).  This basically means that the individual view doesn&#39;t care &quot;how&quot; the navigation works, only that when it makes a request for some action to be taken, it happens.\r\n\r\nYou should take the time to read through...\r\n\r\n* [Model-View-Controller](https://www.geeksforgeeks.org/mvc-design-pattern/)\r\n* [Observer Pattern](https://www.oodesign.com/observer-pattern.html)\r\n* [Dependency Injection in Java](https://medium.com/groupon-eng/dependency-injection-in-java-9e9438aa55ae)\r\n\r\nBut how does this help you?  Well, it will help you all the time!\r\n\r\nLets start with the &quot;game&quot; itself.  The first thing we need is some kind of container to hold the data base logic for the game, so based on your current code, it might look something like...\r\n\r\n    public interface GameModel {\r\n        public int getRows();\r\n        public int getColumns();\r\n    }\r\n\r\nI know, amazing isn&#39;t it, but this `interface` would grow to hold the logic required to run your game.\r\n\r\nNow, we can apply this to the `GamePanel`\r\n\r\n    public class GamePane extends JPanel {\r\n        \r\n        public interface Obsever {\r\n            public void back(GamePane source);\r\n        }\r\n\r\n        private GameModel model;\r\n        private Obsever obsever;\r\n        \r\n        private JPanel contentPane;\r\n        \r\n        private ActionListener buttonActionListener = new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                didTap(e.getActionCommand());\r\n            }\r\n        };\r\n        \r\n        public GamePane(Obsever obsever) {\r\n            this.obsever = obsever;\r\n            \r\n            setLayout(new BorderLayout());\r\n            \r\n            contentPane = new JPanel();\r\n            add(new JScrollPane(contentPane));\r\n            \r\n            JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\r\n            backButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    obsever.back(GamePane.this);\r\n                }\r\n            });\r\n            \r\n            JPanel bannerPane = new JPanel(new GridBagLayout());\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.weightx = 1;\r\n            gbc.anchor = GridBagConstraints.LINE_END;\r\n            \r\n            bannerPane.add(backButton, gbc);\r\n            \r\n            add(bannerPane, BorderLayout.NORTH);\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            // Bunch of things we could do here, but this basically\r\n            // acts as a stand in for CardLayout, otherwise the primary\r\n            // view will be to small\r\n            return new Dimension(800, 800);\r\n        }\r\n\r\n        public void setModel(GameModel model) {\r\n            if (this.model == model) {\r\n                // Do nothing, nothings changed\r\n                return;\r\n            }\r\n            this.model = model;\r\n            buildUI();\r\n        }\r\n\r\n        protected void buildUI() {\r\n            contentPane.removeAll();\r\n            if (model == null) {\r\n                return;\r\n            }\r\n            String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            Random rnd = new Random();\r\n            JButton[][] gridbutton = new JButton[model.getRows()][model.getColumns()];\r\n            contentPane.setLayout(new GridLayout(model.getRows(), model.getColumns()));\r\n            //Game.MainMenu.MainbuttonAL mainbuttonAL = new Game.MainMenu.MainbuttonAL();\r\n            for (int i = 0; i &lt; model.getRows(); i++) {\r\n                for (int j = 0; j &lt; model.getColumns(); j++) {\r\n                    int randomnumber = rnd.nextInt(Letters.length());\r\n                    gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\r\n                    //gridbutton[i][j].addActionListener(mainbuttonAL);\r\n                    contentPane.add(gridbutton[i][j]);\r\n                }\r\n            }\r\n        }\r\n        \r\n        protected void didTap(String action) {\r\n            \r\n        }\r\n\r\n    }\r\n\r\nNow, the nice &quot;juicy&quot; part is in the `buildUI` which is called by `setModel` when the model changes.  This just re-builds the UI based on the `GameModel` properties.\r\n\r\nAs for the navigation concept, you can see part of it in the `GamePane` via its `Observer` `interface`.  I started by creating a seperate class to handle the navigation workflows. \r\n\r\nThis means that the &quot;how&quot; or &quot;implementation detail&quot; is decoupled or hidden from the other parts of the system.  Instead, it makes use of simple observer/delegation workflow.\r\n\r\nEach view provides an `Observer` (for the what of a better name) which describes the navigation actions it needs performed.  For example, both the `SettingsPane` and `GamePane` simply have `back`.  They don&#39;t care what came before them, that&#39;s up to the navigation controller to decide.\r\n\r\n\r\n    public class NavigationPane extends JPanel {\r\n\r\n        enum View {\r\n            MAIN_MENU, GAME, SETTINGS\r\n        }\r\n\r\n        private CardLayout cardLayout;\r\n        private GameModel model;\r\n        private GamePane gamePane;\r\n        \r\n        // Just for testing...\r\n        private Random rnd = new Random();\r\n\r\n        public NavigationPane() {\r\n            cardLayout = new CardLayout();\r\n            setLayout(cardLayout);\r\n\r\n            add(new MainMenu(new MainMenu.Observer() {\r\n                @Override\r\n                public void newGame(MainMenu source) {\r\n                    gamePane.setModel(createModel());\r\n                    navigateTo(View.GAME);\r\n                }\r\n\r\n                @Override\r\n                public void continueGame(MainMenu source) {\r\n                    // Because it&#39;s possible to push continue\r\n                    // without starting a game\r\n                    // It might be possible have a &quot;menu&quot; model\r\n                    // which can be used to change the enabled state of\r\n                    // the continue button based on the state of the\r\n                    // game\r\n                    gamePane.setModel(getOrCreateGameModel());\r\n                    navigateTo(View.GAME);\r\n                }\r\n\r\n                @Override\r\n                public void settingsGame(MainMenu source) {\r\n                    navigateTo(View.SETTINGS);\r\n                }\r\n            }), View.MAIN_MENU);\r\n            \r\n            gamePane = new GamePane(new GamePane.Obsever() {\r\n                @Override\r\n                public void back(GamePane source) {\r\n                    navigateTo(View.MAIN_MENU);\r\n                }\r\n            });\r\n            add(gamePane, View.GAME);\r\n            \r\n            add(new SettingsPane(new SettingsPane.Obsever() {\r\n                @Override\r\n                public void back(SettingsPane source) {\r\n                    navigateTo(View.MAIN_MENU);\r\n                }\r\n            }), View.SETTINGS);\r\n\r\n            navigateTo(View.MAIN_MENU);\r\n        }\r\n        \r\n        protected GameModel createModel() {\r\n            model = new DefaultGameModel(rnd.nextInt(9) + 2, rnd.nextInt(9) + 2);\r\n            return model;\r\n        }\r\n        \r\n        protected GameModel getOrCreateGameModel() {\r\n            if (model == null) {\r\n                model = createModel();\r\n            }\r\n            return model;\r\n        }\r\n\r\n        protected void add(Component component, View view) {\r\n            add(component, view.name());\r\n        }\r\n\r\n        protected void navigateTo(View view) {\r\n            cardLayout.show(this, view.name());\r\n        }\r\n\r\n    }\r\n\r\n# Runnable example...\r\n\r\nSo, that&#39;s a lot of out-of-context code.  The below is basically an example of one possible approach you could take to further reduce some of the clutter and coupling which is growing in your code base at this time.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.CardLayout;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new NavigationPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class NavigationPane extends JPanel {\r\n\r\n            enum View {\r\n                MAIN_MENU, GAME, SETTINGS\r\n            }\r\n\r\n            private CardLayout cardLayout;\r\n            private GameModel model;\r\n            private GamePane gamePane;\r\n\r\n            // Just for testing...\r\n            private Random rnd = new Random();\r\n\r\n            public NavigationPane() {\r\n                cardLayout = new CardLayout();\r\n                setLayout(cardLayout);\r\n\r\n                add(new MainMenu(new MainMenu.Observer() {\r\n                    @Override\r\n                    public void newGame(MainMenu source) {\r\n                        gamePane.setModel(createModel());\r\n                        navigateTo(View.GAME);\r\n                    }\r\n\r\n                    @Override\r\n                    public void continueGame(MainMenu source) {\r\n                        // Because it&#39;s possible to push continue\r\n                        // without starting a game\r\n                        // It might be possible have a &quot;menu&quot; model\r\n                        // which can be used to change the enabled state of\r\n                        // the continue button based on the state of the\r\n                        // game\r\n                        gamePane.setModel(getOrCreateGameModel());\r\n                        navigateTo(View.GAME);\r\n                    }\r\n\r\n                    @Override\r\n                    public void settingsGame(MainMenu source) {\r\n                        navigateTo(View.SETTINGS);\r\n                    }\r\n                }), View.MAIN_MENU);\r\n\r\n                gamePane = new GamePane(new GamePane.Obsever() {\r\n                    @Override\r\n                    public void back(GamePane source) {\r\n                        navigateTo(View.MAIN_MENU);\r\n                    }\r\n                });\r\n                add(gamePane, View.GAME);\r\n\r\n                add(new SettingsPane(new SettingsPane.Obsever() {\r\n                    @Override\r\n                    public void back(SettingsPane source) {\r\n                        navigateTo(View.MAIN_MENU);\r\n                    }\r\n                }), View.SETTINGS);\r\n\r\n                navigateTo(View.MAIN_MENU);\r\n            }\r\n\r\n            protected GameModel createModel() {\r\n                model = new DefaultGameModel(rnd.nextInt(9) + 2, rnd.nextInt(9) + 2);\r\n                return model;\r\n            }\r\n\r\n            protected GameModel getOrCreateGameModel() {\r\n                if (model == null) {\r\n                    model = createModel();\r\n                }\r\n                return model;\r\n            }\r\n\r\n            protected void add(Component component, View view) {\r\n                add(component, view.name());\r\n            }\r\n\r\n            protected void navigateTo(View view) {\r\n                cardLayout.show(this, view.name());\r\n            }\r\n\r\n        }\r\n\r\n        public class MainMenu extends JPanel {\r\n\r\n            public interface Observer {\r\n                public void newGame(MainMenu source);\r\n                public void continueGame(MainMenu source);\r\n                public void settingsGame(MainMenu source);\r\n            }\r\n\r\n            private Observer observer;\r\n\r\n            public MainMenu(Observer observer) {\r\n                this.observer = observer;\r\n                setLayout(new GridBagLayout());\r\n\r\n                JButton newGameButton = new JButton(&quot;New Game&quot;);\r\n                JButton continueButton = new JButton(&quot;Continue&quot;);\r\n                JButton settingsButton = new JButton(&quot;Settings&quot;);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                add(newGameButton, gbc);\r\n                add(continueButton, gbc);\r\n                add(settingsButton, gbc);\r\n\r\n                newGameButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        observer.newGame(MainMenu.this);\r\n                    }\r\n                });\r\n\r\n                continueButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        observer.continueGame(MainMenu.this);\r\n                    }\r\n                });\r\n\r\n                settingsButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        observer.settingsGame(MainMenu.this);\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class SettingsPane extends JPanel {\r\n\r\n            public interface Obsever {\r\n                public void back(SettingsPane source);\r\n            }\r\n\r\n            public SettingsPane(Obsever obsever) {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                add(new JLabel(&quot;All your setting belong to us&quot;), gbc);\r\n\r\n                JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\r\n                backButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        obsever.back(SettingsPane.this);\r\n                    }\r\n                });\r\n\r\n                add(backButton, gbc);\r\n            }\r\n\r\n        }\r\n\r\n        public interface GameModel {\r\n            public int getRows();\r\n            public int getColumns();\r\n        }\r\n\r\n        public class DefaultGameModel implements GameModel {\r\n\r\n            private int rows;\r\n            private int columns;\r\n\r\n            public DefaultGameModel(int rows, int columns) {\r\n                this.rows = rows;\r\n                this.columns = columns;\r\n            }\r\n\r\n            @Override\r\n            public int getRows() {\r\n                return rows;\r\n            }\r\n\r\n            @Override\r\n            public int getColumns() {\r\n                return columns;\r\n            }\r\n\r\n        }\r\n\r\n        public class GamePane extends JPanel {\r\n\r\n            public interface Obsever {\r\n                public void back(GamePane source);\r\n            }\r\n\r\n            private GameModel model;\r\n            private Obsever obsever;\r\n\r\n            private JPanel contentPane;\r\n\r\n            private ActionListener buttonActionListener = new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    didTap(e.getActionCommand());\r\n                }\r\n            };\r\n\r\n            public GamePane(Obsever obsever) {\r\n                this.obsever = obsever;\r\n\r\n                setLayout(new BorderLayout());\r\n\r\n                contentPane = new JPanel();\r\n                add(new JScrollPane(contentPane));\r\n\r\n                JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\r\n                backButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        obsever.back(GamePane.this);\r\n                    }\r\n                });\r\n\r\n                JPanel bannerPane = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.weightx = 1;\r\n                gbc.anchor = GridBagConstraints.LINE_END;\r\n\r\n                bannerPane.add(backButton, gbc);\r\n\r\n                add(bannerPane, BorderLayout.NORTH);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                // Bunch of things we could do here, but this basically\r\n                // acts as a stand in for CardLayout, otherwise the primary\r\n                // view will be to small\r\n                return new Dimension(800, 800);\r\n            }\r\n\r\n            public void setModel(GameModel model) {\r\n                if (this.model == model) {\r\n                    // Do nothing, nothings changed\r\n                    return;\r\n                }\r\n                this.model = model;\r\n                buildUI();\r\n            }\r\n\r\n            protected void buildUI() {\r\n                contentPane.removeAll();\r\n                if (model == null) {\r\n                    return;\r\n                }\r\n                String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n                Random rnd = new Random();\r\n                JButton[][] gridbutton = new JButton[model.getRows()][model.getColumns()];\r\n                contentPane.setLayout(new GridLayout(model.getRows(), model.getColumns()));\r\n                //Game.MainMenu.MainbuttonAL mainbuttonAL = new Game.MainMenu.MainbuttonAL();\r\n                for (int i = 0; i &lt; model.getRows(); i++) {\r\n                    for (int j = 0; j &lt; model.getColumns(); j++) {\r\n                        int randomnumber = rnd.nextInt(Letters.length());\r\n                        gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\r\n                        //gridbutton[i][j].addActionListener(mainbuttonAL);\r\n                        contentPane.add(gridbutton[i][j]);\r\n                    }\r\n                }\r\n            }\r\n\r\n            protected void didTap(String action) {\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n","title":"How to have the program regenerate a &quot;new game&quot; where previous grid letters get swapped with new grid letters","body":"<p>In general, you should be working on the concept of decoupling your views and your data, this means that you could have a &quot;game model&quot; which could be applied to a view and the view would then modify itself based on model properties, this is commonly known as &quot;model - view - controller&quot;.</p>\n<p>The problem is, however, you never remove <code>grid</code> from it's parent container when you create a new game</p>\n<pre><code>if (checkexists == true){\n    grid = null;\n    grid = new JPanel();\n}\n</code></pre>\n<p>Instead, before you re-intialise the <code>grid</code>, you should remove from it's parent container</p>\n<pre><code>if (grid != null) {\n    mainGame.remove(grid);\n    grid = null;\n    grid = new JPanel();\n}\n</code></pre>\n<p>or you could just remove the components from the <code>grid</code> panel itself</p>\n<pre><code>grid.removeAll();\n</code></pre>\n<h1>A different approach...</h1>\n<p>At all stages you should be trying to decouple you objects and workflows from each other, so that it's easier to change any one part without having adverse effects on the other parts of the system or workflow.</p>\n<p>Looking at you code, for example, the navigation decisions are tightly coupled to each panel/view, but in reality, they shouldn't know or care about how the navigation works (or the fact that there are other views), they should just do there job.</p>\n<p>You can decouple this workflow through the use of delegation (backed by an observer).  This basically means that the individual view doesn't care &quot;how&quot; the navigation works, only that when it makes a request for some action to be taken, it happens.</p>\n<p>You should take the time to read through...</p>\n<ul>\n<li><a href=\"https://www.geeksforgeeks.org/mvc-design-pattern/\" rel=\"nofollow noreferrer\">Model-View-Controller</a></li>\n<li><a href=\"https://www.oodesign.com/observer-pattern.html\" rel=\"nofollow noreferrer\">Observer Pattern</a></li>\n<li><a href=\"https://medium.com/groupon-eng/dependency-injection-in-java-9e9438aa55ae\" rel=\"nofollow noreferrer\">Dependency Injection in Java</a></li>\n</ul>\n<p>But how does this help you?  Well, it will help you all the time!</p>\n<p>Lets start with the &quot;game&quot; itself.  The first thing we need is some kind of container to hold the data base logic for the game, so based on your current code, it might look something like...</p>\n<pre><code>public interface GameModel {\n    public int getRows();\n    public int getColumns();\n}\n</code></pre>\n<p>I know, amazing isn't it, but this <code>interface</code> would grow to hold the logic required to run your game.</p>\n<p>Now, we can apply this to the <code>GamePanel</code></p>\n<pre><code>public class GamePane extends JPanel {\n    \n    public interface Obsever {\n        public void back(GamePane source);\n    }\n\n    private GameModel model;\n    private Obsever obsever;\n    \n    private JPanel contentPane;\n    \n    private ActionListener buttonActionListener = new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            didTap(e.getActionCommand());\n        }\n    };\n    \n    public GamePane(Obsever obsever) {\n        this.obsever = obsever;\n        \n        setLayout(new BorderLayout());\n        \n        contentPane = new JPanel();\n        add(new JScrollPane(contentPane));\n        \n        JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\n        backButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                obsever.back(GamePane.this);\n            }\n        });\n        \n        JPanel bannerPane = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1;\n        gbc.anchor = GridBagConstraints.LINE_END;\n        \n        bannerPane.add(backButton, gbc);\n        \n        add(bannerPane, BorderLayout.NORTH);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        // Bunch of things we could do here, but this basically\n        // acts as a stand in for CardLayout, otherwise the primary\n        // view will be to small\n        return new Dimension(800, 800);\n    }\n\n    public void setModel(GameModel model) {\n        if (this.model == model) {\n            // Do nothing, nothings changed\n            return;\n        }\n        this.model = model;\n        buildUI();\n    }\n\n    protected void buildUI() {\n        contentPane.removeAll();\n        if (model == null) {\n            return;\n        }\n        String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n        Random rnd = new Random();\n        JButton[][] gridbutton = new JButton[model.getRows()][model.getColumns()];\n        contentPane.setLayout(new GridLayout(model.getRows(), model.getColumns()));\n        //Game.MainMenu.MainbuttonAL mainbuttonAL = new Game.MainMenu.MainbuttonAL();\n        for (int i = 0; i &lt; model.getRows(); i++) {\n            for (int j = 0; j &lt; model.getColumns(); j++) {\n                int randomnumber = rnd.nextInt(Letters.length());\n                gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\n                //gridbutton[i][j].addActionListener(mainbuttonAL);\n                contentPane.add(gridbutton[i][j]);\n            }\n        }\n    }\n    \n    protected void didTap(String action) {\n        \n    }\n\n}\n</code></pre>\n<p>Now, the nice &quot;juicy&quot; part is in the <code>buildUI</code> which is called by <code>setModel</code> when the model changes.  This just re-builds the UI based on the <code>GameModel</code> properties.</p>\n<p>As for the navigation concept, you can see part of it in the <code>GamePane</code> via its <code>Observer</code> <code>interface</code>.  I started by creating a seperate class to handle the navigation workflows.</p>\n<p>This means that the &quot;how&quot; or &quot;implementation detail&quot; is decoupled or hidden from the other parts of the system.  Instead, it makes use of simple observer/delegation workflow.</p>\n<p>Each view provides an <code>Observer</code> (for the what of a better name) which describes the navigation actions it needs performed.  For example, both the <code>SettingsPane</code> and <code>GamePane</code> simply have <code>back</code>.  They don't care what came before them, that's up to the navigation controller to decide.</p>\n<pre><code>public class NavigationPane extends JPanel {\n\n    enum View {\n        MAIN_MENU, GAME, SETTINGS\n    }\n\n    private CardLayout cardLayout;\n    private GameModel model;\n    private GamePane gamePane;\n    \n    // Just for testing...\n    private Random rnd = new Random();\n\n    public NavigationPane() {\n        cardLayout = new CardLayout();\n        setLayout(cardLayout);\n\n        add(new MainMenu(new MainMenu.Observer() {\n            @Override\n            public void newGame(MainMenu source) {\n                gamePane.setModel(createModel());\n                navigateTo(View.GAME);\n            }\n\n            @Override\n            public void continueGame(MainMenu source) {\n                // Because it's possible to push continue\n                // without starting a game\n                // It might be possible have a &quot;menu&quot; model\n                // which can be used to change the enabled state of\n                // the continue button based on the state of the\n                // game\n                gamePane.setModel(getOrCreateGameModel());\n                navigateTo(View.GAME);\n            }\n\n            @Override\n            public void settingsGame(MainMenu source) {\n                navigateTo(View.SETTINGS);\n            }\n        }), View.MAIN_MENU);\n        \n        gamePane = new GamePane(new GamePane.Obsever() {\n            @Override\n            public void back(GamePane source) {\n                navigateTo(View.MAIN_MENU);\n            }\n        });\n        add(gamePane, View.GAME);\n        \n        add(new SettingsPane(new SettingsPane.Obsever() {\n            @Override\n            public void back(SettingsPane source) {\n                navigateTo(View.MAIN_MENU);\n            }\n        }), View.SETTINGS);\n\n        navigateTo(View.MAIN_MENU);\n    }\n    \n    protected GameModel createModel() {\n        model = new DefaultGameModel(rnd.nextInt(9) + 2, rnd.nextInt(9) + 2);\n        return model;\n    }\n    \n    protected GameModel getOrCreateGameModel() {\n        if (model == null) {\n            model = createModel();\n        }\n        return model;\n    }\n\n    protected void add(Component component, View view) {\n        add(component, view.name());\n    }\n\n    protected void navigateTo(View view) {\n        cardLayout.show(this, view.name());\n    }\n\n}\n</code></pre>\n<h1>Runnable example...</h1>\n<p>So, that's a lot of out-of-context code.  The below is basically an example of one possible approach you could take to further reduce some of the clutter and coupling which is growing in your code base at this time.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new NavigationPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class NavigationPane extends JPanel {\n\n        enum View {\n            MAIN_MENU, GAME, SETTINGS\n        }\n\n        private CardLayout cardLayout;\n        private GameModel model;\n        private GamePane gamePane;\n\n        // Just for testing...\n        private Random rnd = new Random();\n\n        public NavigationPane() {\n            cardLayout = new CardLayout();\n            setLayout(cardLayout);\n\n            add(new MainMenu(new MainMenu.Observer() {\n                @Override\n                public void newGame(MainMenu source) {\n                    gamePane.setModel(createModel());\n                    navigateTo(View.GAME);\n                }\n\n                @Override\n                public void continueGame(MainMenu source) {\n                    // Because it's possible to push continue\n                    // without starting a game\n                    // It might be possible have a &quot;menu&quot; model\n                    // which can be used to change the enabled state of\n                    // the continue button based on the state of the\n                    // game\n                    gamePane.setModel(getOrCreateGameModel());\n                    navigateTo(View.GAME);\n                }\n\n                @Override\n                public void settingsGame(MainMenu source) {\n                    navigateTo(View.SETTINGS);\n                }\n            }), View.MAIN_MENU);\n\n            gamePane = new GamePane(new GamePane.Obsever() {\n                @Override\n                public void back(GamePane source) {\n                    navigateTo(View.MAIN_MENU);\n                }\n            });\n            add(gamePane, View.GAME);\n\n            add(new SettingsPane(new SettingsPane.Obsever() {\n                @Override\n                public void back(SettingsPane source) {\n                    navigateTo(View.MAIN_MENU);\n                }\n            }), View.SETTINGS);\n\n            navigateTo(View.MAIN_MENU);\n        }\n\n        protected GameModel createModel() {\n            model = new DefaultGameModel(rnd.nextInt(9) + 2, rnd.nextInt(9) + 2);\n            return model;\n        }\n\n        protected GameModel getOrCreateGameModel() {\n            if (model == null) {\n                model = createModel();\n            }\n            return model;\n        }\n\n        protected void add(Component component, View view) {\n            add(component, view.name());\n        }\n\n        protected void navigateTo(View view) {\n            cardLayout.show(this, view.name());\n        }\n\n    }\n\n    public class MainMenu extends JPanel {\n\n        public interface Observer {\n            public void newGame(MainMenu source);\n            public void continueGame(MainMenu source);\n            public void settingsGame(MainMenu source);\n        }\n\n        private Observer observer;\n\n        public MainMenu(Observer observer) {\n            this.observer = observer;\n            setLayout(new GridBagLayout());\n\n            JButton newGameButton = new JButton(&quot;New Game&quot;);\n            JButton continueButton = new JButton(&quot;Continue&quot;);\n            JButton settingsButton = new JButton(&quot;Settings&quot;);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(newGameButton, gbc);\n            add(continueButton, gbc);\n            add(settingsButton, gbc);\n\n            newGameButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    observer.newGame(MainMenu.this);\n                }\n            });\n\n            continueButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    observer.continueGame(MainMenu.this);\n                }\n            });\n\n            settingsButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    observer.settingsGame(MainMenu.this);\n                }\n            });\n        }\n\n    }\n\n    public class SettingsPane extends JPanel {\n\n        public interface Obsever {\n            public void back(SettingsPane source);\n        }\n\n        public SettingsPane(Obsever obsever) {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            add(new JLabel(&quot;All your setting belong to us&quot;), gbc);\n\n            JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\n            backButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    obsever.back(SettingsPane.this);\n                }\n            });\n\n            add(backButton, gbc);\n        }\n\n    }\n\n    public interface GameModel {\n        public int getRows();\n        public int getColumns();\n    }\n\n    public class DefaultGameModel implements GameModel {\n\n        private int rows;\n        private int columns;\n\n        public DefaultGameModel(int rows, int columns) {\n            this.rows = rows;\n            this.columns = columns;\n        }\n\n        @Override\n        public int getRows() {\n            return rows;\n        }\n\n        @Override\n        public int getColumns() {\n            return columns;\n        }\n\n    }\n\n    public class GamePane extends JPanel {\n\n        public interface Obsever {\n            public void back(GamePane source);\n        }\n\n        private GameModel model;\n        private Obsever obsever;\n\n        private JPanel contentPane;\n\n        private ActionListener buttonActionListener = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                didTap(e.getActionCommand());\n            }\n        };\n\n        public GamePane(Obsever obsever) {\n            this.obsever = obsever;\n\n            setLayout(new BorderLayout());\n\n            contentPane = new JPanel();\n            add(new JScrollPane(contentPane));\n\n            JButton backButton = new JButton(&quot;&lt;&lt; Back&quot;);\n            backButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    obsever.back(GamePane.this);\n                }\n            });\n\n            JPanel bannerPane = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.weightx = 1;\n            gbc.anchor = GridBagConstraints.LINE_END;\n\n            bannerPane.add(backButton, gbc);\n\n            add(bannerPane, BorderLayout.NORTH);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            // Bunch of things we could do here, but this basically\n            // acts as a stand in for CardLayout, otherwise the primary\n            // view will be to small\n            return new Dimension(800, 800);\n        }\n\n        public void setModel(GameModel model) {\n            if (this.model == model) {\n                // Do nothing, nothings changed\n                return;\n            }\n            this.model = model;\n            buildUI();\n        }\n\n        protected void buildUI() {\n            contentPane.removeAll();\n            if (model == null) {\n                return;\n            }\n            String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n            Random rnd = new Random();\n            JButton[][] gridbutton = new JButton[model.getRows()][model.getColumns()];\n            contentPane.setLayout(new GridLayout(model.getRows(), model.getColumns()));\n            //Game.MainMenu.MainbuttonAL mainbuttonAL = new Game.MainMenu.MainbuttonAL();\n            for (int i = 0; i &lt; model.getRows(); i++) {\n                for (int j = 0; j &lt; model.getColumns(); j++) {\n                    int randomnumber = rnd.nextInt(Letters.length());\n                    gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\n                    //gridbutton[i][j].addActionListener(mainbuttonAL);\n                    contentPane.add(gridbutton[i][j]);\n                }\n            }\n        }\n\n        protected void didTap(String action) {\n\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13417687,"reputation":45,"user_id":15411439,"display_name":"Teo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70780223,"answer_count":1,"score":0,"last_activity_date":1642649845,"creation_date":1642633324,"question_id":70778844,"body_markdown":"In this program I&#39;m trying to input a functionality to start game, where if I click start game (MainMenu) a new jpanel opens up (MainGame), creating another jpanel that creates jbuttons in a grid. If i go back, and click start game again, a new grid should generate instead of the previous one, effectively starting a &quot;new game&quot;. the problem is that if i go back and click on new game again, the program creates 2 grids.\r\n\r\nI&#39;ve tried removing the instance of the grid panel with = null but it doesn&#39;t work\r\n\r\nMain function:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.CardLayout;\r\n    \r\n    public class Game extends JFrame {\r\n        MainMenu mainMenu;\r\n        Settings settings;\r\n        MainGame mainGame;\r\n        CardLayout cl;\r\n        JPanel container;\r\n    \r\n        public Game(){\r\n            setSize(900,900); //have all as seperate classes\r\n            setDefaultCloseOperation(3); //cl call container\r\n            container  = new JPanel(); //container call menu1 and menu2\r\n            cl = new CardLayout();\r\n            mainMenu = new MainMenu();\r\n            settings = new Settings();\r\n            mainGame = new MainGame();\r\n            mainMenu.setSettings(settings);\r\n            settings.setMainMenu(mainMenu);\r\n            settings.setMainGame(mainGame);\r\n            mainMenu.setMainGame(mainGame);\r\n            mainGame.setMainMenu(mainMenu);\r\n            mainGame.setSettings(settings);\r\n            container.setLayout(cl); //this stays here i think\r\n    \r\n    \r\n    \r\n            //add setter for main game here\r\n            container.add(mainMenu,&quot;1&quot;);\r\n            container.add(settings,&quot;2&quot;);\r\n            container.add(mainGame,&quot;3&quot;);\r\n            mainMenu.setContainer(container);\r\n            mainMenu.setCl(cl);\r\n            settings.setContainer(container);\r\n            settings.setCl(cl);\r\n            mainGame.setContainer(container);\r\n            mainGame.setCl(cl);\r\n            cl.show(container, &quot;1&quot;);\r\n            add(container,BorderLayout.CENTER);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Game game = new Game();\r\n            game.setVisible(true);\r\n        }\r\n    }\r\n\r\nmain game class:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    \r\n    public class MainGame extends JPanel {\r\n        MainMenu mainMenu;\r\n        Settings settings;\r\n        CardLayout cl;\r\n        JPanel container;\r\n        String rows;\r\n        String columns;\r\n    \r\n        public void setMainMenu(MainMenu mainMenu) {\r\n            this.mainMenu = mainMenu;\r\n        }\r\n    \r\n        public void setSettings(Settings settings) {\r\n            this.settings = settings;\r\n        }\r\n    \r\n        public void setCl(CardLayout cl) {\r\n            this.cl = cl;\r\n        }\r\n    \r\n        public void setContainer(JPanel container) {\r\n            this.container = container;\r\n        }\r\n    \r\n        public void setRows(String rows) {\r\n            this.rows = rows;\r\n        }\r\n    \r\n        public void setColumns(String columns) {\r\n            this.columns = columns;\r\n        }\r\n        public MainGame(){\r\n            JPanel north = new JPanel();\r\n            north.setLayout(new FlowLayout());\r\n            ReturnAction returnAl = new ReturnAction();\r\n            JButton Return2 = new JButton(&quot;Return&quot;);\r\n            Return2.addActionListener(returnAl);\r\n            north.add(Return2);\r\n            add(north);\r\n        }\r\n        class ReturnAction implements ActionListener {\r\n            @Override\r\n    \r\n            public void actionPerformed(ActionEvent e) {\r\n                cl.show(container,&quot;1&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nMain menu class (this one contains the game generation part):\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    \r\n    public class MainMenu extends JPanel {\r\n    JPanel grid = new JPanel();\r\n    MainGame mainGame;\r\n    Settings settings;\r\n    CardLayout cl;\r\n    JPanel container;\r\n    String rows;\r\n    String columns;\r\n    boolean checkexists = false;\r\n    int rownumber;\r\n    int columnnumber;\r\n\r\n\r\n    public void setMainGame(MainGame mainGame) {\r\n        this.mainGame = mainGame;\r\n    }\r\n\r\n    public void setCl(CardLayout cl) {\r\n        this.cl = cl;\r\n    }\r\n\r\n    public void setContainer(JPanel container) {\r\n        this.container = container;\r\n    }\r\n\r\n    public void setSettings(Settings settings) {\r\n        this.settings = settings;\r\n    }\r\n\r\n    public void setRows(String rows) {\r\n        this.rows = rows;\r\n    }\r\n\r\n    public void setColumns(String columns) {\r\n        this.columns = columns;\r\n    }\r\n\r\n    public MainMenu() {\r\n        setLayout(new GridLayout(3, 1));\r\n        JButton Newgame = new JButton(&quot;New Game&quot;);\r\n        JButton Cont = new JButton(&quot;Continue&quot;);\r\n        JButton Sett = new JButton(&quot;Settings&quot;);\r\n        add(Newgame);\r\n        add(Cont);\r\n        SwitchMenu1 switchMenu1 = new SwitchMenu1();\r\n        SwitchMenu2 switchMenu2 = new SwitchMenu2();\r\n        GenerateGame generateGame = new GenerateGame();\r\n        Newgame.addActionListener(switchMenu2);\r\n        Newgame.addActionListener(generateGame);\r\n        Sett.addActionListener(switchMenu1);\r\n        add(Sett);\r\n\r\n    }\r\n\r\n    class SwitchMenu1 implements ActionListener {\r\n        @Override\r\n\r\n        public void actionPerformed(ActionEvent e) {\r\n            cl.show(container, &quot;2&quot;);\r\n\r\n        }\r\n    }\r\n\r\n    class SwitchMenu2 implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            cl.show(container, &quot;3&quot;);\r\n        }\r\n    }\r\n\r\n    class GenerateGame implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (checkexists == true){\r\n                grid = null;\r\n                grid = new JPanel();\r\n            }\r\n            try {\r\n                rownumber = Integer.parseInt(rows);\r\n            } catch (NumberFormatException be) {\r\n                rownumber = 10;\r\n            }\r\n            try {\r\n                columnnumber = Integer.parseInt(columns);\r\n            } catch (NumberFormatException be) {\r\n                columnnumber = 10;\r\n            }\r\n            Random rand = new Random();\r\n            int randomnumber;\r\n            String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            grid.setLayout(new GridLayout(rownumber, columnnumber));\r\n            JButton[][] gridbutton = new JButton[rownumber][columnnumber];\r\n            MainbuttonAL mainbuttonAL = new MainbuttonAL();\r\n            for (int i = 0; i &lt; rownumber; i++) {\r\n                for (int j = 0; j &lt; columnnumber; j++) {\r\n                    if (checkexists == true){\r\n                        gridbutton[i][j] = null;\r\n                    }\r\n                    randomnumber = rand.nextInt(Letters.length());\r\n                    gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\r\n                    gridbutton[i][j].addActionListener(mainbuttonAL);\r\n                    grid.add(gridbutton[i][j]);\r\n                }\r\n            }\r\n            mainGame.add(grid);\r\n            checkexists = true;\r\n        }\r\n    }\r\n\r\n    class MainbuttonAL implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nsettings class:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    \r\n    public class MainMenu extends JPanel {\r\n        JPanel grid = new JPanel();\r\n        MainGame mainGame;\r\n        Settings settings;\r\n        CardLayout cl;\r\n        JPanel container;\r\n        String rows;\r\n        String columns;\r\n        boolean checkexists = false;\r\n        int rownumber;\r\n        int columnnumber;\r\n    \r\n    \r\n        public void setMainGame(MainGame mainGame) {\r\n            this.mainGame = mainGame;\r\n        }\r\n    \r\n        public void setCl(CardLayout cl) {\r\n            this.cl = cl;\r\n        }\r\n    \r\n        public void setContainer(JPanel container) {\r\n            this.container = container;\r\n        }\r\n    \r\n        public void setSettings(Settings settings) {\r\n            this.settings = settings;\r\n        }\r\n    \r\n        public void setRows(String rows) {\r\n            this.rows = rows;\r\n        }\r\n    \r\n        public void setColumns(String columns) {\r\n            this.columns = columns;\r\n        }\r\n    \r\n        public MainMenu() {\r\n            setLayout(new GridLayout(3, 1));\r\n            JButton Newgame = new JButton(&quot;New Game&quot;);\r\n            JButton Cont = new JButton(&quot;Continue&quot;);\r\n            JButton Sett = new JButton(&quot;Settings&quot;);\r\n            add(Newgame);\r\n            add(Cont);\r\n            SwitchMenu1 switchMenu1 = new SwitchMenu1();\r\n            SwitchMenu2 switchMenu2 = new SwitchMenu2();\r\n            GenerateGame generateGame = new GenerateGame();\r\n            Newgame.addActionListener(switchMenu2);\r\n            Newgame.addActionListener(generateGame);\r\n            Sett.addActionListener(switchMenu1);\r\n            add(Sett);\r\n    \r\n        }\r\n    \r\n        class SwitchMenu1 implements ActionListener {\r\n            @Override\r\n    \r\n            public void actionPerformed(ActionEvent e) {\r\n                cl.show(container, &quot;2&quot;);\r\n    \r\n            }\r\n        }\r\n    \r\n        class SwitchMenu2 implements ActionListener {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                cl.show(container, &quot;3&quot;);\r\n            }\r\n        }\r\n    \r\n        class GenerateGame implements ActionListener {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (checkexists == true){\r\n                    grid = null;\r\n                    grid = new JPanel();\r\n                }\r\n                try {\r\n                    rownumber = Integer.parseInt(rows);\r\n                } catch (NumberFormatException be) {\r\n                    rownumber = 10;\r\n                }\r\n                try {\r\n                    columnnumber = Integer.parseInt(columns);\r\n                } catch (NumberFormatException be) {\r\n                    columnnumber = 10;\r\n                }\r\n                Random rand = new Random();\r\n                int randomnumber;\r\n                String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n                grid.setLayout(new GridLayout(rownumber, columnnumber));\r\n                JButton[][] gridbutton = new JButton[rownumber][columnnumber];\r\n                MainbuttonAL mainbuttonAL = new MainbuttonAL();\r\n                for (int i = 0; i &lt; rownumber; i++) {\r\n                    for (int j = 0; j &lt; columnnumber; j++) {\r\n                        if (checkexists == true){\r\n                            gridbutton[i][j] = null;\r\n                        }\r\n                        randomnumber = rand.nextInt(Letters.length());\r\n                        gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\r\n                        gridbutton[i][j].addActionListener(mainbuttonAL);\r\n                        grid.add(gridbutton[i][j]);\r\n                    }\r\n                }\r\n                mainGame.add(grid);\r\n                checkexists = true;\r\n            }\r\n        }\r\n    \r\n        class MainbuttonAL implements ActionListener {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nwhat method can i employ to regenerate a grid?\r\n\r\n\r\n\r\n","title":"How to have the program regenerate a &quot;new game&quot; where previous grid letters get swapped with new grid letters","body":"<p>In this program I'm trying to input a functionality to start game, where if I click start game (MainMenu) a new jpanel opens up (MainGame), creating another jpanel that creates jbuttons in a grid. If i go back, and click start game again, a new grid should generate instead of the previous one, effectively starting a &quot;new game&quot;. the problem is that if i go back and click on new game again, the program creates 2 grids.</p>\n<p>I've tried removing the instance of the grid panel with = null but it doesn't work</p>\n<p>Main function:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.CardLayout;\n\npublic class Game extends JFrame {\n    MainMenu mainMenu;\n    Settings settings;\n    MainGame mainGame;\n    CardLayout cl;\n    JPanel container;\n\n    public Game(){\n        setSize(900,900); //have all as seperate classes\n        setDefaultCloseOperation(3); //cl call container\n        container  = new JPanel(); //container call menu1 and menu2\n        cl = new CardLayout();\n        mainMenu = new MainMenu();\n        settings = new Settings();\n        mainGame = new MainGame();\n        mainMenu.setSettings(settings);\n        settings.setMainMenu(mainMenu);\n        settings.setMainGame(mainGame);\n        mainMenu.setMainGame(mainGame);\n        mainGame.setMainMenu(mainMenu);\n        mainGame.setSettings(settings);\n        container.setLayout(cl); //this stays here i think\n\n\n\n        //add setter for main game here\n        container.add(mainMenu,&quot;1&quot;);\n        container.add(settings,&quot;2&quot;);\n        container.add(mainGame,&quot;3&quot;);\n        mainMenu.setContainer(container);\n        mainMenu.setCl(cl);\n        settings.setContainer(container);\n        settings.setCl(cl);\n        mainGame.setContainer(container);\n        mainGame.setCl(cl);\n        cl.show(container, &quot;1&quot;);\n        add(container,BorderLayout.CENTER);\n\n    }\n\n    public static void main(String[] args) {\n        Game game = new Game();\n        game.setVisible(true);\n    }\n}\n</code></pre>\n<p>main game class:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\n\npublic class MainGame extends JPanel {\n    MainMenu mainMenu;\n    Settings settings;\n    CardLayout cl;\n    JPanel container;\n    String rows;\n    String columns;\n\n    public void setMainMenu(MainMenu mainMenu) {\n        this.mainMenu = mainMenu;\n    }\n\n    public void setSettings(Settings settings) {\n        this.settings = settings;\n    }\n\n    public void setCl(CardLayout cl) {\n        this.cl = cl;\n    }\n\n    public void setContainer(JPanel container) {\n        this.container = container;\n    }\n\n    public void setRows(String rows) {\n        this.rows = rows;\n    }\n\n    public void setColumns(String columns) {\n        this.columns = columns;\n    }\n    public MainGame(){\n        JPanel north = new JPanel();\n        north.setLayout(new FlowLayout());\n        ReturnAction returnAl = new ReturnAction();\n        JButton Return2 = new JButton(&quot;Return&quot;);\n        Return2.addActionListener(returnAl);\n        north.add(Return2);\n        add(north);\n    }\n    class ReturnAction implements ActionListener {\n        @Override\n\n        public void actionPerformed(ActionEvent e) {\n            cl.show(container,&quot;1&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Main menu class (this one contains the game generation part):</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\n\npublic class MainMenu extends JPanel {\nJPanel grid = new JPanel();\nMainGame mainGame;\nSettings settings;\nCardLayout cl;\nJPanel container;\nString rows;\nString columns;\nboolean checkexists = false;\nint rownumber;\nint columnnumber;\n\n\npublic void setMainGame(MainGame mainGame) {\n    this.mainGame = mainGame;\n}\n\npublic void setCl(CardLayout cl) {\n    this.cl = cl;\n}\n\npublic void setContainer(JPanel container) {\n    this.container = container;\n}\n\npublic void setSettings(Settings settings) {\n    this.settings = settings;\n}\n\npublic void setRows(String rows) {\n    this.rows = rows;\n}\n\npublic void setColumns(String columns) {\n    this.columns = columns;\n}\n\npublic MainMenu() {\n    setLayout(new GridLayout(3, 1));\n    JButton Newgame = new JButton(&quot;New Game&quot;);\n    JButton Cont = new JButton(&quot;Continue&quot;);\n    JButton Sett = new JButton(&quot;Settings&quot;);\n    add(Newgame);\n    add(Cont);\n    SwitchMenu1 switchMenu1 = new SwitchMenu1();\n    SwitchMenu2 switchMenu2 = new SwitchMenu2();\n    GenerateGame generateGame = new GenerateGame();\n    Newgame.addActionListener(switchMenu2);\n    Newgame.addActionListener(generateGame);\n    Sett.addActionListener(switchMenu1);\n    add(Sett);\n\n}\n\nclass SwitchMenu1 implements ActionListener {\n    @Override\n\n    public void actionPerformed(ActionEvent e) {\n        cl.show(container, &quot;2&quot;);\n\n    }\n}\n\nclass SwitchMenu2 implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        cl.show(container, &quot;3&quot;);\n    }\n}\n\nclass GenerateGame implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (checkexists == true){\n            grid = null;\n            grid = new JPanel();\n        }\n        try {\n            rownumber = Integer.parseInt(rows);\n        } catch (NumberFormatException be) {\n            rownumber = 10;\n        }\n        try {\n            columnnumber = Integer.parseInt(columns);\n        } catch (NumberFormatException be) {\n            columnnumber = 10;\n        }\n        Random rand = new Random();\n        int randomnumber;\n        String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n        grid.setLayout(new GridLayout(rownumber, columnnumber));\n        JButton[][] gridbutton = new JButton[rownumber][columnnumber];\n        MainbuttonAL mainbuttonAL = new MainbuttonAL();\n        for (int i = 0; i &lt; rownumber; i++) {\n            for (int j = 0; j &lt; columnnumber; j++) {\n                if (checkexists == true){\n                    gridbutton[i][j] = null;\n                }\n                randomnumber = rand.nextInt(Letters.length());\n                gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\n                gridbutton[i][j].addActionListener(mainbuttonAL);\n                grid.add(gridbutton[i][j]);\n            }\n        }\n        mainGame.add(grid);\n        checkexists = true;\n    }\n}\n\nclass MainbuttonAL implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n    }\n}\n}\n</code></pre>\n<p>settings class:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\n\npublic class MainMenu extends JPanel {\n    JPanel grid = new JPanel();\n    MainGame mainGame;\n    Settings settings;\n    CardLayout cl;\n    JPanel container;\n    String rows;\n    String columns;\n    boolean checkexists = false;\n    int rownumber;\n    int columnnumber;\n\n\n    public void setMainGame(MainGame mainGame) {\n        this.mainGame = mainGame;\n    }\n\n    public void setCl(CardLayout cl) {\n        this.cl = cl;\n    }\n\n    public void setContainer(JPanel container) {\n        this.container = container;\n    }\n\n    public void setSettings(Settings settings) {\n        this.settings = settings;\n    }\n\n    public void setRows(String rows) {\n        this.rows = rows;\n    }\n\n    public void setColumns(String columns) {\n        this.columns = columns;\n    }\n\n    public MainMenu() {\n        setLayout(new GridLayout(3, 1));\n        JButton Newgame = new JButton(&quot;New Game&quot;);\n        JButton Cont = new JButton(&quot;Continue&quot;);\n        JButton Sett = new JButton(&quot;Settings&quot;);\n        add(Newgame);\n        add(Cont);\n        SwitchMenu1 switchMenu1 = new SwitchMenu1();\n        SwitchMenu2 switchMenu2 = new SwitchMenu2();\n        GenerateGame generateGame = new GenerateGame();\n        Newgame.addActionListener(switchMenu2);\n        Newgame.addActionListener(generateGame);\n        Sett.addActionListener(switchMenu1);\n        add(Sett);\n\n    }\n\n    class SwitchMenu1 implements ActionListener {\n        @Override\n\n        public void actionPerformed(ActionEvent e) {\n            cl.show(container, &quot;2&quot;);\n\n        }\n    }\n\n    class SwitchMenu2 implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            cl.show(container, &quot;3&quot;);\n        }\n    }\n\n    class GenerateGame implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (checkexists == true){\n                grid = null;\n                grid = new JPanel();\n            }\n            try {\n                rownumber = Integer.parseInt(rows);\n            } catch (NumberFormatException be) {\n                rownumber = 10;\n            }\n            try {\n                columnnumber = Integer.parseInt(columns);\n            } catch (NumberFormatException be) {\n                columnnumber = 10;\n            }\n            Random rand = new Random();\n            int randomnumber;\n            String Letters = &quot;AAIIOOUUEEABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n            grid.setLayout(new GridLayout(rownumber, columnnumber));\n            JButton[][] gridbutton = new JButton[rownumber][columnnumber];\n            MainbuttonAL mainbuttonAL = new MainbuttonAL();\n            for (int i = 0; i &lt; rownumber; i++) {\n                for (int j = 0; j &lt; columnnumber; j++) {\n                    if (checkexists == true){\n                        gridbutton[i][j] = null;\n                    }\n                    randomnumber = rand.nextInt(Letters.length());\n                    gridbutton[i][j] = new JButton(&quot;&quot; + Letters.charAt(randomnumber));\n                    gridbutton[i][j].addActionListener(mainbuttonAL);\n                    grid.add(gridbutton[i][j]);\n                }\n            }\n            mainGame.add(grid);\n            checkexists = true;\n        }\n    }\n\n    class MainbuttonAL implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n        }\n    }\n}\n</code></pre>\n<p>what method can i employ to regenerate a grid?</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":15777597,"reputation":343,"user_id":11385006,"display_name":"Marcos Blandim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642634901,"creation_date":1642634901,"answer_id":70779061,"question_id":70778930,"body_markdown":"You could split `date` twice to get a list of the date\r\n```java\r\nString date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\r\nString[] splittedDate = date.split(&quot; &quot;)[1].split(&quot;-&quot;);\r\n\r\nint day = Integer.valueOf(splittedDate[2]);\r\nint month = Integer.valueOf(splittedDate[1]);\r\nint year = Integer.valueOf(splittedDate[0]);\r\n\r\n//(method for finding these numbers and putting them into the separate int variables)\r\n\r\nSystem.out.println(year+&quot; &quot;+month+&quot; &quot;+day);\r\n```","title":"Find certain numbers in a String and add them in separate ints","body":"<p>You could split <code>date</code> twice to get a list of the date</p>\n<pre class=\"lang-java prettyprint-override\"><code>String date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\nString[] splittedDate = date.split(&quot; &quot;)[1].split(&quot;-&quot;);\n\nint day = Integer.valueOf(splittedDate[2]);\nint month = Integer.valueOf(splittedDate[1]);\nint year = Integer.valueOf(splittedDate[0]);\n\n//(method for finding these numbers and putting them into the separate int variables)\n\nSystem.out.println(year+&quot; &quot;+month+&quot; &quot;+day);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8095042,"reputation":429,"user_id":6099890,"display_name":"gustavozapata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642635068,"creation_date":1642635068,"answer_id":70779078,"question_id":70778930,"body_markdown":"You need to extract the date (those specific values) from the String. You could use regular expressions (regex) to extract this.\r\nHave a look at this solution which is similar to what you want to achieve \r\nhttps://stackoverflow.com/a/33924024/6099890","title":"Find certain numbers in a String and add them in separate ints","body":"<p>You need to extract the date (those specific values) from the String. You could use regular expressions (regex) to extract this.\nHave a look at this solution which is similar to what you want to achieve\n<a href=\"https://stackoverflow.com/a/33924024/6099890\">https://stackoverflow.com/a/33924024/6099890</a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642649430,"creation_date":1642649430,"answer_id":70780485,"question_id":70778930,"body_markdown":"Presuming that the date is always the second token, you can do it like so.\r\n- split the string on spaces, and use the second token\r\n- define a formatter to parse the date assigning to a `LocalDate` instance.\r\n- then pull extract the values\r\n- you can use those extractions to re-format the date\r\n- or you can use the formatter\r\n```\r\nString date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\r\n\r\nString[] tokens = date.split(&quot;\\\\s+&quot;, 3);\r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern((&quot;dd-MM-y&quot;));\r\nLocalDate ld = LocalDate.parse(tokens[1], dtf);\r\n\r\nint day = ld.getDayOfMonth();\r\nint year = ld.getYear();\r\nint month = ld.getMonthValue();\r\n\r\nSystem.out.printf(&quot;%02d-%02d-%02d%n&quot;, day, month, year);\r\nSystem.out.println(ld.format(dtf));\r\n```\r\nprints\r\n```\r\n22-01-19\r\n22-01-19\r\n```\r\nFor more info, check out the [java.time](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/package-summary.html) package.  If you are going to be parsing or manipulating date/time objects, this is an essential class to know.","title":"Find certain numbers in a String and add them in separate ints","body":"<p>Presuming that the date is always the second token, you can do it like so.</p>\n<ul>\n<li>split the string on spaces, and use the second token</li>\n<li>define a formatter to parse the date assigning to a <code>LocalDate</code> instance.</li>\n<li>then pull extract the values</li>\n<li>you can use those extractions to re-format the date</li>\n<li>or you can use the formatter</li>\n</ul>\n<pre><code>String date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\n\nString[] tokens = date.split(&quot;\\\\s+&quot;, 3);\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern((&quot;dd-MM-y&quot;));\nLocalDate ld = LocalDate.parse(tokens[1], dtf);\n\nint day = ld.getDayOfMonth();\nint year = ld.getYear();\nint month = ld.getMonthValue();\n\nSystem.out.printf(&quot;%02d-%02d-%02d%n&quot;, day, month, year);\nSystem.out.println(ld.format(dtf));\n</code></pre>\n<p>prints</p>\n<pre><code>22-01-19\n22-01-19\n</code></pre>\n<p>For more info, check out the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.  If you are going to be parsing or manipulating date/time objects, this is an essential class to know.</p>\n"}],"owner":{"account_id":20503465,"reputation":1,"user_id":17237166,"display_name":"Golden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70779061,"answer_count":3,"score":-1,"last_activity_date":1642649430,"creation_date":1642633903,"question_id":70778930,"body_markdown":"I need a way to take specific &quot;random&quot; numbers from a string and put them each in separate int variables.\r\nFor example this string cannot/shouldnt be changed:\r\n```String date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;```\r\n\r\nI need these three numbers in separet ints &quot;22-01-19&quot;.\r\nSo one int would be called &quot;day&quot; and it holds the number 19, another int is called &quot;month&quot; and it holds the number 1, another int called &quot;year&quot; and it holds the number 22.\r\n\r\nThis is what it would look like:\r\n```\r\nString date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\r\nint day = 0;\r\nint month = 0;\r\nint year = 0;\r\n\r\n//(method for finding these numbers and putting them into the separate int variables)\r\n\r\nSystem.out.println(year+&quot; &quot;+month+&quot; &quot;+day);\r\n```\r\n\r\nThank you in advance!\r\n\r\nNote: I did not find a solution that explained this well enough for me to understand it, I apologize if there already excists a duplicate of this question.","title":"Find certain numbers in a String and add them in separate ints","body":"<p>I need a way to take specific &quot;random&quot; numbers from a string and put them each in separate int variables.\nFor example this string cannot/shouldnt be changed:\n<code>String date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;</code></p>\n<p>I need these three numbers in separet ints &quot;22-01-19&quot;.\nSo one int would be called &quot;day&quot; and it holds the number 19, another int is called &quot;month&quot; and it holds the number 1, another int called &quot;year&quot; and it holds the number 22.</p>\n<p>This is what it would look like:</p>\n<pre><code>String date = &quot;59598 22-01-19 22:46:32 00 0 0  66.2 UTC(NIST) * &quot;;\nint day = 0;\nint month = 0;\nint year = 0;\n\n//(method for finding these numbers and putting them into the separate int variables)\n\nSystem.out.println(year+&quot; &quot;+month+&quot; &quot;+day);\n</code></pre>\n<p>Thank you in advance!</p>\n<p>Note: I did not find a solution that explained this well enough for me to understand it, I apologize if there already excists a duplicate of this question.</p>\n"},{"tags":["java","nosuchelementexception"],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642649222,"creation_date":1642648704,"answer_id":70780433,"question_id":70780380,"body_markdown":"The exception `NoSuchElementException` in your case is caused by trying to use `nextInt()` on a file/input that has no more int&#39;s left to read, see the [Javadoc][1]:\r\n\r\n&gt; Thrown by various accessor methods to indicate that the element being\r\n&gt; requested does not exist.\r\n\r\nThe reason you get the issue is because every time you call `nextInt()` in actually uses up an int and moves onto the next one.\r\n\r\nSo instead of this where you call `nextInt()` over and over in the if/else if:\r\n\r\n    if (input1.nextInt() == 0) //Gets the next int\r\n    { break; \r\n    } else if (input1.nextInt() &lt; largest) //Gets the next int (different from the previous)\r\n    { largest = input1.nextInt();  //Gets the next int (different from the previous)\r\n    ... //And so on\r\n\r\nYou need to do call `nextInt()` once and assign it to a value then use that value:\r\n\r\n    //Store the int as a value\r\n    int value = input1.nextInt();\r\n    \r\n    //Use the value instead of calling &quot;nextInt()&quot; again\r\n    if (value  == 0)\r\n    { break; \r\n    } else if (value &lt; largest)\r\n    { largest = value; \r\n    ...\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/NoSuchElementException.html","title":"java.util.NoSuchElementException error on multiple while statements","body":"<p>The exception <code>NoSuchElementException</code> in your case is caused by trying to use <code>nextInt()</code> on a file/input that has no more int's left to read, see the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/NoSuchElementException.html\" rel=\"nofollow noreferrer\">Javadoc</a>:</p>\n<blockquote>\n<p>Thrown by various accessor methods to indicate that the element being\nrequested does not exist.</p>\n</blockquote>\n<p>The reason you get the issue is because every time you call <code>nextInt()</code> in actually uses up an int and moves onto the next one.</p>\n<p>So instead of this where you call <code>nextInt()</code> over and over in the if/else if:</p>\n<pre><code>if (input1.nextInt() == 0) //Gets the next int\n{ break; \n} else if (input1.nextInt() &lt; largest) //Gets the next int (different from the previous)\n{ largest = input1.nextInt();  //Gets the next int (different from the previous)\n... //And so on\n</code></pre>\n<p>You need to do call <code>nextInt()</code> once and assign it to a value then use that value:</p>\n<pre><code>//Store the int as a value\nint value = input1.nextInt();\n\n//Use the value instead of calling &quot;nextInt()&quot; again\nif (value  == 0)\n{ break; \n} else if (value &lt; largest)\n{ largest = value; \n...\n</code></pre>\n"}],"owner":{"account_id":23994345,"reputation":11,"user_id":17980033,"display_name":"Kimchar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70780433,"answer_count":1,"score":1,"last_activity_date":1642649222,"creation_date":1642648204,"question_id":70780380,"body_markdown":"[Screenshot of error message][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Doz1.png\r\n\r\nGetting this error when I run my code, note that it finds a problem at line 37, but I cannot figure out what it is. Running the first iteration of the scanner method (for input 1) worked fine, and yielded the proper output, but none of the consecutive ones have, and I&#39;ve been stuck on that issue. Code is below: \r\n\r\n```\r\nimport java.io.FileNotFoundException;\r\nimport java.io.File;\r\nimport java.util.Scanner;\r\n\r\npublic class Assignment2 {\r\n\r\npublic static void main(String[] args)  {\r\n\t\t\r\n\t\tint largest= 0;\r\n\t\tint largestEven = 0;\r\n\t\tint countOfAllPositive = 0;\r\n\t\tint sumOfAll = 0;\r\n\t\t\r\n\ttry {\r\n\t\tScanner input1 = new Scanner(new File(&quot;input1.txt&quot;));\r\n\t\twhile (input1.hasNextInt()) { \r\n\t\t\tif (input1.nextInt() == 0)\r\n\t\t\t{ break; \r\n\t\t\t} else if (input1.nextInt() &lt; largest)\r\n\t\t\t{ largest = input1.nextInt(); \r\n\t\t\t} else if (input1.nextInt() &gt; 0)\r\n\t\t\t{ largestEven += input1.nextInt();\r\n\t\t\t} else if (input1.nextInt() % 2 == 0)\r\n\t\t\t{ countOfAllPositive += input1.nextInt();\r\n\t\t\t} else if (input1.nextInt() &lt; 0)\r\n\t\t\t{ sumOfAll++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tScanner input2 = new Scanner(new File(&quot;input2.txt&quot;));\r\n\t\twhile (input2.hasNextInt()) { \r\n\t\t\tif (input2.nextInt() == 0)\r\n\t\t\t{ break; \r\n\t\t\t} else if (input2.nextInt() &lt; largest)\r\n\t\t\t{ largest = input2.nextInt(); \r\n\t\t\t} else if (input2.nextInt() &gt; 0)\r\n\t\t\t{ largestEven += input2.nextInt();\r\n\t\t\t} else if (input2.nextInt() % 2 == 0)\r\n\t\t\t{ countOfAllPositive += input2.nextInt();\r\n\t\t\t} else if (input2.nextInt() &lt; 0)\r\n\t\t\t{ sumOfAll++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tScanner input3 = new Scanner(new File(&quot;input3.txt&quot;));\r\n\t\twhile (input3.hasNextInt()) { \r\n\t\t\tif (input3.nextInt() == 0)\r\n\t\t\t{ break; \r\n\t\t\t} else if (input3.nextInt() &lt; largest)\r\n\t\t\t{ largest = input3.nextInt(); \r\n\t\t\t} else if (input3.nextInt() &gt; 0)\r\n\t\t\t{ largestEven += input3.nextInt();\r\n\t\t\t} else if (input3.nextInt() % 2 == 0)\r\n\t\t\t{ countOfAllPositive += input3.nextInt();\r\n\t\t\t} else if (input3.nextInt() &lt; 0)\r\n\t\t\t{ sumOfAll++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tScanner input4 = new Scanner(new File(&quot;input4.txt&quot;));\r\n\t\twhile (input4.hasNextInt()) { \r\n\t\t\tif (input4.nextInt() == 0)\r\n\t\t\t{ break; \r\n\t\t\t} else if (input4.nextInt() &lt; largest)\r\n\t\t\t{ largest = input4.nextInt(); \r\n\t\t\t} else if (input4.nextInt() &gt; 0)\r\n\t\t\t{ largestEven += input4.nextInt();\r\n\t\t\t} else if (input4.nextInt() % 2 == 0)\r\n\t\t\t{ countOfAllPositive += input4.nextInt();\r\n\t\t\t} else if (input4.nextInt() &lt; 0)\r\n\t\t\t{ sumOfAll++;\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (FileNotFoundException e) {\r\n\tSystem.out.println(&quot;An error occurred.&quot;);\r\n\te.printStackTrace(); } \r\n\t\r\nSystem.out.println(&quot;The largest integer in the sequence is &quot; + largest);\r\nSystem.out.println(&quot;The largest even integer in the sequence is &quot; + largestEven);\r\nSystem.out.println(&quot;The count of all positive integers in the sequence is &quot; + countOfAllPositive);\r\nSystem.out.println(&quot;The sum of all integers is &quot; + sumOfAll);\r\n\t}\r\n\t}\r\n\t\r\n\r\n","title":"java.util.NoSuchElementException error on multiple while statements","body":"<p><a href=\"https://i.stack.imgur.com/9Doz1.png\" rel=\"nofollow noreferrer\">Screenshot of error message</a></p>\n<p>Getting this error when I run my code, note that it finds a problem at line 37, but I cannot figure out what it is. Running the first iteration of the scanner method (for input 1) worked fine, and yielded the proper output, but none of the consecutive ones have, and I've been stuck on that issue. Code is below:</p>\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.File;\nimport java.util.Scanner;\n\npublic class Assignment2 {\n\npublic static void main(String[] args)  {\n        \n        int largest= 0;\n        int largestEven = 0;\n        int countOfAllPositive = 0;\n        int sumOfAll = 0;\n        \n    try {\n        Scanner input1 = new Scanner(new File(&quot;input1.txt&quot;));\n        while (input1.hasNextInt()) { \n            if (input1.nextInt() == 0)\n            { break; \n            } else if (input1.nextInt() &lt; largest)\n            { largest = input1.nextInt(); \n            } else if (input1.nextInt() &gt; 0)\n            { largestEven += input1.nextInt();\n            } else if (input1.nextInt() % 2 == 0)\n            { countOfAllPositive += input1.nextInt();\n            } else if (input1.nextInt() &lt; 0)\n            { sumOfAll++;\n            }\n            \n        }\n        Scanner input2 = new Scanner(new File(&quot;input2.txt&quot;));\n        while (input2.hasNextInt()) { \n            if (input2.nextInt() == 0)\n            { break; \n            } else if (input2.nextInt() &lt; largest)\n            { largest = input2.nextInt(); \n            } else if (input2.nextInt() &gt; 0)\n            { largestEven += input2.nextInt();\n            } else if (input2.nextInt() % 2 == 0)\n            { countOfAllPositive += input2.nextInt();\n            } else if (input2.nextInt() &lt; 0)\n            { sumOfAll++;\n            }\n        }\n        Scanner input3 = new Scanner(new File(&quot;input3.txt&quot;));\n        while (input3.hasNextInt()) { \n            if (input3.nextInt() == 0)\n            { break; \n            } else if (input3.nextInt() &lt; largest)\n            { largest = input3.nextInt(); \n            } else if (input3.nextInt() &gt; 0)\n            { largestEven += input3.nextInt();\n            } else if (input3.nextInt() % 2 == 0)\n            { countOfAllPositive += input3.nextInt();\n            } else if (input3.nextInt() &lt; 0)\n            { sumOfAll++;\n            }\n        }\n        Scanner input4 = new Scanner(new File(&quot;input4.txt&quot;));\n        while (input4.hasNextInt()) { \n            if (input4.nextInt() == 0)\n            { break; \n            } else if (input4.nextInt() &lt; largest)\n            { largest = input4.nextInt(); \n            } else if (input4.nextInt() &gt; 0)\n            { largestEven += input4.nextInt();\n            } else if (input4.nextInt() % 2 == 0)\n            { countOfAllPositive += input4.nextInt();\n            } else if (input4.nextInt() &lt; 0)\n            { sumOfAll++;\n            }\n        }\n    } catch (FileNotFoundException e) {\n    System.out.println(&quot;An error occurred.&quot;);\n    e.printStackTrace(); } \n    \nSystem.out.println(&quot;The largest integer in the sequence is &quot; + largest);\nSystem.out.println(&quot;The largest even integer in the sequence is &quot; + largestEven);\nSystem.out.println(&quot;The count of all positive integers in the sequence is &quot; + countOfAllPositive);\nSystem.out.println(&quot;The sum of all integers is &quot; + sumOfAll);\n    }\n    }\n    \n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642649014,"creation_date":1642649014,"answer_id":70780463,"question_id":70780355,"body_markdown":"Your code has serious style issues, and it is broken. And we haven&#39;t even gotten to the error you&#39;re asking about yet. I suggest you skip the actual answer and instead read why you&#39;re barking up the wrong tree and need to rethink this code, making the actual answer irrelevant for you.\r\n\r\n## The actual answer\r\n\r\nProxy will make a new instance of a proxy class (that&#39;s where that `$Proxy2` thing is coming from). Proxy __cannot__ make an object that is an instance of that actual class: That&#39;s just not how java works. Thus, you have an instance of an unknown, effectively irrelevant class. However, that `$Proxy2` class __does__ implement whatever interfaces you want it to. It can&#39;t extend anything (other than, obviously, `java.lang.Object`). No final classes, no normal classes, not even abstract classes. That&#39;s just how it works: If you want a proxy that extends something specific, you&#39;re out of luck.\r\n\r\nThus: __You can only proxy interfaces__.\r\n\r\nHad the field been:\r\n\r\n```\r\npublic static SdkInterface instance;\r\n```\r\n\r\ninstead, it would have worked fine; That `$Proxy2` class is a class made on the fly by the `Proxy.newProxyInstance` call, and this class implements all the interface you passed in.\r\n\r\nBut, as I said, __do not__ just start changing things, you need to rethink this code more fundamentally.\r\n\r\n\r\n\r\n## The more significant issues with your code\r\n\r\n* Your `BaseCore` class has a field of type `Core`, eliminating any point or purpose in the class hierarchy of it. Its type should possible be BaseCore, or the &#39;singleton holder&#39; field should be in Core. Generally fields should have the __least specific__ type that you want to use, e.g. we write `List x = new ArrayList` - because `List` is less specific. You&#39;ve gone the other way, and made the field the most specific type you could find (`Core`, which is more specific than `BaseCore`, which is more specific than `SdkInterface`). If that static field&#39;s type is `SdkInterface`, you can assign a proxy object to it. But __if the type of that field is a class (other than java.lang.Object), then that is impossible__ - as proxies implement whatever interfaces you want, but extend `j.l.Object` and can&#39;t be made to extend anything else.\r\n* Double checked locking [__does not work__](https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html), so don&#39;t do it. Your `getInstance()` method is broken in a really nasty way: It is broken, but, most tests do not catch it. It requires a specific combination of hardware, android version, and phase of the moon for it to fail. There are only 2 sane ways to &#39;load&#39; singletons: Generally, just initialize the field (and make it final), because java lazy loads; the only benefit to having an actual method that loads it only when you invoke `.getInstance()` or whatnot, is when it is plausible you will &#39;touch&#39; the class (load a class that has a field of type `Core`, for example), but never actually need the instance. This happens, but it is rare. If it doesn&#39;t apply to you, there is no point to any of this, and you can just write `public static final Core INSTANCE = new Core();` and be done with it all. If you really do need the getSingleton method, use the java classloader which is extremely good at efficient locking - at least as good as anything you can write in java and possibly better:\r\n\r\n```\r\npublic static Core get() {\r\n  return CoreSingletonHolder.INSTANCE;\r\n}\r\n\r\nprivate static class CoreSingletonHolder {\r\n  static final Core INSTANCE = new Core();\r\n}\r\n```\r\n\r\nThis works because java doesn&#39;t load classes until it is needed, and nothing &#39;touches&#39; `CoreSingletonHolder` (causing it to be loaded), except invoking the `get()` method. Hence, `new Core()` is executed exactly once, and only once, as per JVM guarantees, using ClassLoader&#39;s own locking mechanism, which is very efficient. It&#39;s efficient because java has to do this with every single last class your app ever loads. If it wasn&#39;t efficient, java/android would be dog slow, and we know it isn&#39;t, QED.\r\n\r\n* Your intended singleton instance is `public` and non-final; anything can overwrite it. The above strategies fix these issues; given that all access needs to go through `get()` in order to ensure its initialized, why make it public?\r\n\r\n","title":"Java Proxy.newProxyInstance IllegalArgumentException","body":"<p>Your code has serious style issues, and it is broken. And we haven't even gotten to the error you're asking about yet. I suggest you skip the actual answer and instead read why you're barking up the wrong tree and need to rethink this code, making the actual answer irrelevant for you.</p>\n<h2>The actual answer</h2>\n<p>Proxy will make a new instance of a proxy class (that's where that <code>$Proxy2</code> thing is coming from). Proxy <strong>cannot</strong> make an object that is an instance of that actual class: That's just not how java works. Thus, you have an instance of an unknown, effectively irrelevant class. However, that <code>$Proxy2</code> class <strong>does</strong> implement whatever interfaces you want it to. It can't extend anything (other than, obviously, <code>java.lang.Object</code>). No final classes, no normal classes, not even abstract classes. That's just how it works: If you want a proxy that extends something specific, you're out of luck.</p>\n<p>Thus: <strong>You can only proxy interfaces</strong>.</p>\n<p>Had the field been:</p>\n<pre><code>public static SdkInterface instance;\n</code></pre>\n<p>instead, it would have worked fine; That <code>$Proxy2</code> class is a class made on the fly by the <code>Proxy.newProxyInstance</code> call, and this class implements all the interface you passed in.</p>\n<p>But, as I said, <strong>do not</strong> just start changing things, you need to rethink this code more fundamentally.</p>\n<h2>The more significant issues with your code</h2>\n<ul>\n<li>Your <code>BaseCore</code> class has a field of type <code>Core</code>, eliminating any point or purpose in the class hierarchy of it. Its type should possible be BaseCore, or the 'singleton holder' field should be in Core. Generally fields should have the <strong>least specific</strong> type that you want to use, e.g. we write <code>List x = new ArrayList</code> - because <code>List</code> is less specific. You've gone the other way, and made the field the most specific type you could find (<code>Core</code>, which is more specific than <code>BaseCore</code>, which is more specific than <code>SdkInterface</code>). If that static field's type is <code>SdkInterface</code>, you can assign a proxy object to it. But <strong>if the type of that field is a class (other than java.lang.Object), then that is impossible</strong> - as proxies implement whatever interfaces you want, but extend <code>j.l.Object</code> and can't be made to extend anything else.</li>\n<li>Double checked locking <a href=\"https://www.cs.umd.edu/%7Epugh/java/memoryModel/DoubleCheckedLocking.html\" rel=\"nofollow noreferrer\"><strong>does not work</strong></a>, so don't do it. Your <code>getInstance()</code> method is broken in a really nasty way: It is broken, but, most tests do not catch it. It requires a specific combination of hardware, android version, and phase of the moon for it to fail. There are only 2 sane ways to 'load' singletons: Generally, just initialize the field (and make it final), because java lazy loads; the only benefit to having an actual method that loads it only when you invoke <code>.getInstance()</code> or whatnot, is when it is plausible you will 'touch' the class (load a class that has a field of type <code>Core</code>, for example), but never actually need the instance. This happens, but it is rare. If it doesn't apply to you, there is no point to any of this, and you can just write <code>public static final Core INSTANCE = new Core();</code> and be done with it all. If you really do need the getSingleton method, use the java classloader which is extremely good at efficient locking - at least as good as anything you can write in java and possibly better:</li>\n</ul>\n<pre><code>public static Core get() {\n  return CoreSingletonHolder.INSTANCE;\n}\n\nprivate static class CoreSingletonHolder {\n  static final Core INSTANCE = new Core();\n}\n</code></pre>\n<p>This works because java doesn't load classes until it is needed, and nothing 'touches' <code>CoreSingletonHolder</code> (causing it to be loaded), except invoking the <code>get()</code> method. Hence, <code>new Core()</code> is executed exactly once, and only once, as per JVM guarantees, using ClassLoader's own locking mechanism, which is very efficient. It's efficient because java has to do this with every single last class your app ever loads. If it wasn't efficient, java/android would be dog slow, and we know it isn't, QED.</p>\n<ul>\n<li>Your intended singleton instance is <code>public</code> and non-final; anything can overwrite it. The above strategies fix these issues; given that all access needs to go through <code>get()</code> in order to ensure its initialized, why make it public?</li>\n</ul>\n"}],"owner":{"account_id":23710472,"reputation":11,"user_id":17732401,"display_name":"周朋飞"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70780463,"answer_count":1,"score":-1,"last_activity_date":1642649014,"creation_date":1642647936,"question_id":70780355,"body_markdown":"I define an interface follow \r\n\r\n ```\r\ninterface SdkInterface {\r\n    void onPause();\r\n\r\n    void onResume();\r\n\r\n    void onStop();\r\n}\r\n```\r\n\r\nthen I  define a abstract class implement the interface\r\n\r\n```\r\nabstract class BaseCore implements SdkInterface {\r\n    public static final byte[] lock = new byte[0];\r\n    private static final String TAG = &quot;BaseCore&quot;;\r\n    public static Core instance;\r\n\r\n    @Override\r\n    public void onPause() {\r\n        Log.e(TAG, &quot;onPause: &quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        Log.e(TAG, &quot;onResume: &quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        Log.e(TAG, &quot;onStop: &quot;);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nthen I has a class extends the abstract class \r\n```\r\nclass Core extends BaseCore {\r\n    private Core() {\r\n    }\r\n\r\n    public static Core getInstance() {\r\n        if (instance == null) {\r\n            synchronized (lock) {\r\n                if (instance == null) {\r\n                    instance = new Core();\r\n                }\r\n            }\r\n        }\r\n        return instance;\r\n    }\r\n\r\n}\r\n```\r\n\r\nnow  I want to generate a proxy  for the instance field of the BaseCore class,I  do this \r\n```\r\n public static void register() {\r\n        try {\r\n            Class&lt;?&gt; core = Class.forName(&quot;com.secoo.coobox.Core&quot;);\r\n            Field instance = core.getSuperclass().getDeclaredField(&quot;instance&quot;);\r\n            Method getInstance = core.getDeclaredMethod(&quot;getInstance&quot;);\r\n            Object invoke = getInstance.invoke(null);\r\n            Object o = Proxy.newProxyInstance(core.getClassLoader(), core.getInterfaces(), new InvocationHandler() {\r\n                @Override\r\n                public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n                    Log.e(&quot;BaseCore&quot;, &quot;invoke: before &quot; + method.getName());\r\n                    Object invoke1 = method.invoke(invoke, args);\r\n                    Log.e(&quot;BaseCore&quot;, &quot;invoke: after &quot; + method.getName());\r\n                    return invoke1;\r\n                }\r\n            });\r\n            instance.set(invoke, o);\r\n        } catch (ClassNotFoundException | NoSuchFieldException | NoSuchMethodException e) {\r\n            e.printStackTrace();\r\n        } catch (IllegalAccessException e) {\r\n            e.printStackTrace();\r\n        } catch (InvocationTargetException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n``` \r\n\r\nbut I receive the exception \r\n```\r\nCaused by: java.lang.IllegalArgumentException: field com.secoo.coobox.BaseCore.instance has type com.secoo.coobox.Core, got $Proxy2\r\n        at java.lang.reflect.Field.set(Native Method)\r\n        at com.secoo.coobox.TestProxy.register(TestProxy.java:31)\r\n        at com.secoo.coobox.MainActivity.onCreate(MainActivity.kt:24)\r\n        at android.app.Activity.performCreate(Activity.java:8006)\r\n        at android.app.Activity.performCreate(Activity.java:7990)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3584)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2246)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:233)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:8010)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)&#160;\r\n```\r\n\r\nwho can help me explain the excetion and  how I can  solve the problem? thanks ","title":"Java Proxy.newProxyInstance IllegalArgumentException","body":"<p>I define an interface follow</p>\n<pre><code>interface SdkInterface {\n   void onPause();\n\n   void onResume();\n\n   void onStop();\n}\n</code></pre>\n<p>then I  define a abstract class implement the interface</p>\n<pre><code>abstract class BaseCore implements SdkInterface {\n    public static final byte[] lock = new byte[0];\n    private static final String TAG = &quot;BaseCore&quot;;\n    public static Core instance;\n\n    @Override\n    public void onPause() {\n        Log.e(TAG, &quot;onPause: &quot;);\n    }\n\n    @Override\n    public void onResume() {\n        Log.e(TAG, &quot;onResume: &quot;);\n    }\n\n    @Override\n    public void onStop() {\n        Log.e(TAG, &quot;onStop: &quot;);\n    }\n}\n\n\n</code></pre>\n<p>then I has a class extends the abstract class</p>\n<pre><code>class Core extends BaseCore {\n    private Core() {\n    }\n\n    public static Core getInstance() {\n        if (instance == null) {\n            synchronized (lock) {\n                if (instance == null) {\n                    instance = new Core();\n                }\n            }\n        }\n        return instance;\n    }\n\n}\n</code></pre>\n<p>now  I want to generate a proxy  for the instance field of the BaseCore class,I  do this</p>\n<pre><code> public static void register() {\n        try {\n            Class&lt;?&gt; core = Class.forName(&quot;com.secoo.coobox.Core&quot;);\n            Field instance = core.getSuperclass().getDeclaredField(&quot;instance&quot;);\n            Method getInstance = core.getDeclaredMethod(&quot;getInstance&quot;);\n            Object invoke = getInstance.invoke(null);\n            Object o = Proxy.newProxyInstance(core.getClassLoader(), core.getInterfaces(), new InvocationHandler() {\n                @Override\n                public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n                    Log.e(&quot;BaseCore&quot;, &quot;invoke: before &quot; + method.getName());\n                    Object invoke1 = method.invoke(invoke, args);\n                    Log.e(&quot;BaseCore&quot;, &quot;invoke: after &quot; + method.getName());\n                    return invoke1;\n                }\n            });\n            instance.set(invoke, o);\n        } catch (ClassNotFoundException | NoSuchFieldException | NoSuchMethodException e) {\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        } catch (InvocationTargetException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>but I receive the exception</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: field com.secoo.coobox.BaseCore.instance has type com.secoo.coobox.Core, got $Proxy2\n        at java.lang.reflect.Field.set(Native Method)\n        at com.secoo.coobox.TestProxy.register(TestProxy.java:31)\n        at com.secoo.coobox.MainActivity.onCreate(MainActivity.kt:24)\n        at android.app.Activity.performCreate(Activity.java:8006)\n        at android.app.Activity.performCreate(Activity.java:7990)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3584)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3775) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2246) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:233) \n        at android.app.ActivityThread.main(ActivityThread.java:8010) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978) \n</code></pre>\n<p>who can help me explain the excetion and  how I can  solve the problem? thanks</p>\n"},{"tags":["java","swing","jpanel","actionlistener","keylistener"],"comments":[{"owner":{"account_id":4282317,"reputation":711,"user_id":3501286,"display_name":"Bakon Jarser"},"score":0,"creation_date":1556744377,"post_id":55942621,"comment_id":98538469,"body_markdown":"Try removing the KeyListener from the panel you are switching from and then adding it to the panel you are switching to.","body":"Try removing the KeyListener from the panel you are switching from and then adding it to the panel you are switching to."},{"owner":{"account_id":15840727,"reputation":11,"user_id":11429313,"display_name":"Aren Vardanyan"},"score":0,"creation_date":1556747841,"post_id":55942621,"comment_id":98539566,"body_markdown":"That&#39;s what I initially did, and I just tried it again, but doesn&#39;t work... :(","body":"That&#39;s what I initially did, and I just tried it again, but doesn&#39;t work... :("},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1556748786,"post_id":55942621,"comment_id":98539860,"body_markdown":"Are you sure it&#39;s the listener that isn&#39;t working? It could be that the conditions aren&#39;t returning `true`, or maybe there&#39;s a flaw with the logic for movement. Could you confirm this?","body":"Are you sure it&#39;s the listener that isn&#39;t working? It could be that the conditions aren&#39;t returning <code>true</code>, or maybe there&#39;s a flaw with the logic for movement. Could you confirm this?"},{"owner":{"account_id":8674619,"reputation":655,"user_id":6492354,"accept_rate":45,"display_name":"Daniel Williams"},"score":0,"creation_date":1556757160,"post_id":55942621,"comment_id":98541451,"body_markdown":"I would suggest adding the KeyListener to the Frame or JFrame.  That way, you don&#39;t have to worry about any component switching.","body":"I would suggest adding the KeyListener to the Frame or JFrame.  That way, you don&#39;t have to worry about any component switching."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1642648110,"post_id":55942621,"comment_id":125129017,"body_markdown":"1) For better help sooner, [edit] to add a [mre]. 2) `KeyListener` is a lower-level API that has many problems, for Swing, we&#39;d typically use [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html). 3) Don&#39;t extend components or windows without good reason. There isn&#39;t one here, as far as I can see.","body":"1) For better help sooner, <a href=\"https://stackoverflow.com/posts/55942621/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. 2) <code>KeyListener</code> is a lower-level API that has many problems, for Swing, we&#39;d typically use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a>. 3) Don&#39;t extend components or windows without good reason. There isn&#39;t one here, as far as I can see."}],"owner":{"account_id":15840727,"reputation":11,"user_id":11429313,"display_name":"Aren Vardanyan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642647921,"creation_date":1556744151,"question_id":55942621,"body_markdown":"I&#39;m working on a game, and when I switch from my MenuPanel to my actual game (Player), the KeyListener won&#39;t work, my character won&#39;t move. I implemented the KeyListener in both classes. How can I fix this problem? This is a snippet of the code for the game (Player), :\r\n\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\npublic class Player extends JPanel implements ActionListener, KeyListener {\r\n     \r\n        \r\n         private MijnProject mainVenster;\r\n\r\n         public Player(MijnProject mainVenster) {\r\n\r\n\t\tthis.mainVenster = mainVenster;\r\n\t\taddKeyListener(this);\r\n\t\tsetFocusable(true);\t\r\n\t\trequestFocusInWindow();\r\n\t\tTimer t = new Timer();\r\n\t\tt.scheduleAtFixedRate(new UpdateTimerTask() , 0, PERIOD);\r\n\t }\r\n\r\n         public void keyPressed(KeyEvent e) {\r\n\t\t \r\n\t\tint code = e.getKeyCode();\r\n\t\tif(code==KeyEvent.VK_UP) {\r\n\t\t\tup();\r\n\t\t}\r\n\t\t\r\n\t\tif(code==KeyEvent.VK_DOWN) {\r\n\t\t\tdown();\r\n\t\t}\r\n\t\tif(code==KeyEvent.VK_RIGHT) {\r\n\t\t\tright();\r\n\t\t}\r\n\t\tif(code==KeyEvent.VK_LEFT) {\r\n\t\t\tleft();\r\n\t\t}\r\n\t\tif(code==KeyEvent.VK_SPACE) {\r\n\t\t\tbullet(); \t\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nAnd this is a part of the code for the menu (MenuPanel) :\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\npublic class MenuPanel extends JPanel implements ActionListener, KeyListener\r\n{\r\n\t\r\n\tprivate JButton playKnop, highScoreKnop, quitKnop;\r\n\tprivate MijnProject mainVenster;\r\n\t\r\n\tpublic MenuPanel(MijnProject mainVenster) \r\n\r\n\t{\taddKeyListener(this);\r\n\t\tsetFocusable(true);\t\r\n\t\tthis.mainVenster = mainVenster;\r\n\t\t\r\n                playKnop = new JButton(&quot;Play&quot;); \t\r\n\t\tplayKnop.addActionListener(this);\r\n\t\t\r\n\t\tquitKnop = new JButton(&quot;Quit&quot;);\r\n\t\tquitKnop.addActionListener(this);\r\n\t\t\r\n\t\thighScoreKnop = new JButton(&quot;High Scores&quot;);\r\n\t\thighScoreKnop.addActionListener(this);\r\n\r\n\t\tthis.add(playKnop);\r\n\t\tthis.add(quitKnop);\r\n\t\tthis.add(highScoreKnop);\r\n\r\n\t}\r\n\t\r\n\t\r\n\tpublic void actionPerformed(ActionEvent ae)\r\n\t{\r\n\t\tif (ae.getSource() == playKnop)\r\n\t\t{\r\n\t\t\tmainVenster.switchPanel(new Player(mainVenster));\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n\tpublic void keyPressed(KeyEvent arg0) {\r\n\t\r\n\t}\r\n\r\n\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\r\n\t}\r\n\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\r\n\t}\r\n\r\n}","title":"KeyListener not working when switching JPanels in a game","body":"<p>I'm working on a game, and when I switch from my MenuPanel to my actual game (Player), the KeyListener won't work, my character won't move. I implemented the KeyListener in both classes. How can I fix this problem? This is a snippet of the code for the game (Player), :</p>\n\n<pre><code>public class Player extends JPanel implements ActionListener, KeyListener {\n\n\n         private MijnProject mainVenster;\n\n         public Player(MijnProject mainVenster) {\n\n        this.mainVenster = mainVenster;\n        addKeyListener(this);\n        setFocusable(true); \n        requestFocusInWindow();\n        Timer t = new Timer();\n        t.scheduleAtFixedRate(new UpdateTimerTask() , 0, PERIOD);\n     }\n\n         public void keyPressed(KeyEvent e) {\n\n        int code = e.getKeyCode();\n        if(code==KeyEvent.VK_UP) {\n            up();\n        }\n\n        if(code==KeyEvent.VK_DOWN) {\n            down();\n        }\n        if(code==KeyEvent.VK_RIGHT) {\n            right();\n        }\n        if(code==KeyEvent.VK_LEFT) {\n            left();\n        }\n        if(code==KeyEvent.VK_SPACE) {\n            bullet();   \n\n        }\n\n\n</code></pre>\n\n<p>And this is a part of the code for the menu (MenuPanel) :</p>\n\n<pre><code>public class MenuPanel extends JPanel implements ActionListener, KeyListener\n{\n\n    private JButton playKnop, highScoreKnop, quitKnop;\n    private MijnProject mainVenster;\n\n    public MenuPanel(MijnProject mainVenster) \n\n    {   addKeyListener(this);\n        setFocusable(true); \n        this.mainVenster = mainVenster;\n\n                playKnop = new JButton(\"Play\");     \n        playKnop.addActionListener(this);\n\n        quitKnop = new JButton(\"Quit\");\n        quitKnop.addActionListener(this);\n\n        highScoreKnop = new JButton(\"High Scores\");\n        highScoreKnop.addActionListener(this);\n\n        this.add(playKnop);\n        this.add(quitKnop);\n        this.add(highScoreKnop);\n\n    }\n\n\n    public void actionPerformed(ActionEvent ae)\n    {\n        if (ae.getSource() == playKnop)\n        {\n            mainVenster.switchPanel(new Player(mainVenster));\n        }\n\n    }\n\n\n    public void keyPressed(KeyEvent arg0) {\n\n    }\n\n\n    public void keyReleased(KeyEvent e) {\n\n    }\n\n    public void keyTyped(KeyEvent e) {\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","tree","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":207320,"reputation":720,"user_id":457116,"accept_rate":80,"display_name":"brainstorm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548826780,"creation_date":1548826780,"answer_id":54433941,"question_id":54339957,"body_markdown":"Well, we managed to solve this problem, for more pointers see the following github repo for a barebones example not integrating AWS S3 buckets:\r\n\r\nhttps://github.com/reisingerf/SwingDynamicTree\r\n\r\nand the final integration with S3 browser:\r\n\r\nhttps://github.com/igvteam/igv/pull/620\r\n\r\nHope that helps somebody wondering the same :)","title":"Simple dynamic JTree-based S3 bucket/object chooser example","body":"<p>Well, we managed to solve this problem, for more pointers see the following github repo for a barebones example not integrating AWS S3 buckets:</p>\n\n<p><a href=\"https://github.com/reisingerf/SwingDynamicTree\" rel=\"nofollow noreferrer\">https://github.com/reisingerf/SwingDynamicTree</a></p>\n\n<p>and the final integration with S3 browser:</p>\n\n<p><a href=\"https://github.com/igvteam/igv/pull/620\" rel=\"nofollow noreferrer\">https://github.com/igvteam/igv/pull/620</a></p>\n\n<p>Hope that helps somebody wondering the same :)</p>\n"}],"owner":{"account_id":207320,"reputation":720,"user_id":457116,"accept_rate":80,"display_name":"brainstorm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54433941,"answer_count":1,"score":1,"last_activity_date":1642647785,"creation_date":1548308178,"question_id":54339957,"body_markdown":"Before writing my own custom implementation, I have been googling for a complete example of a simple tree-like JTree/JDialog that allows me to **dynamically load and expand the contents of a S3 bucket** or sub-S3-object-keys. \r\n\r\nIn other words, **I don&#39;t want to recursively prefetch all the objects from different buckets beforehand and populate a JTree**. The reason is that there are too many (sub-)objects and keys to have a smooth UX experience, in the order of millions/billions of objects spread in different S3 buckets that don&#39;t need to be opened by the user during a session.\r\n\r\nPut simply, **the ideal solution would be like a regular filesystem `FileChooser` but for Amazon S3 buckets**. For more context, [here is the closest I&#39;ve got to finding what I need](https://github.com/FlowJo-LLC/FlowJo-AWS-S3-Plugin/blob/master/AWSS3Plugin/awss3plugin/AWSS3GUI.java#L735).\r\n\r\n\r\nBut unfortunately it doesn&#39;t implement the **on-expanding of subtrees usecase**. On the other hand, [this other SO example is a close match, but very incomplete](https://stackoverflow.com/questions/37967989/jtree-dynamically-updating-with-arraylist-changes/37968170)... I suspect that better snippets should be available, perhaps it&#39;s just my google-fu failing me on this one?\r\n\r\nI am aware that [buckets/keys are not filesystems](https://stackoverflow.com/questions/17561432/amazon-s3-listing-directories), but for my usecase and purposes, that&#39;s what I need.\r\n\r\nAny suggestions are very welcome!\r\n\r\n","title":"Simple dynamic JTree-based S3 bucket/object chooser example","body":"<p>Before writing my own custom implementation, I have been googling for a complete example of a simple tree-like JTree/JDialog that allows me to <strong>dynamically load and expand the contents of a S3 bucket</strong> or sub-S3-object-keys. </p>\n\n<p>In other words, <strong>I don't want to recursively prefetch all the objects from different buckets beforehand and populate a JTree</strong>. The reason is that there are too many (sub-)objects and keys to have a smooth UX experience, in the order of millions/billions of objects spread in different S3 buckets that don't need to be opened by the user during a session.</p>\n\n<p>Put simply, <strong>the ideal solution would be like a regular filesystem <code>FileChooser</code> but for Amazon S3 buckets</strong>. For more context, <a href=\"https://github.com/FlowJo-LLC/FlowJo-AWS-S3-Plugin/blob/master/AWSS3Plugin/awss3plugin/AWSS3GUI.java#L735\" rel=\"nofollow noreferrer\">here is the closest I've got to finding what I need</a>.</p>\n\n<p>But unfortunately it doesn't implement the <strong>on-expanding of subtrees usecase</strong>. On the other hand, <a href=\"https://stackoverflow.com/questions/37967989/jtree-dynamically-updating-with-arraylist-changes/37968170\">this other SO example is a close match, but very incomplete</a>... I suspect that better snippets should be available, perhaps it's just my google-fu failing me on this one?</p>\n\n<p>I am aware that <a href=\"https://stackoverflow.com/questions/17561432/amazon-s3-listing-directories\">buckets/keys are not filesystems</a>, but for my usecase and purposes, that's what I need.</p>\n\n<p>Any suggestions are very welcome!</p>\n"},{"tags":["java","swing","jtree"],"answers":[{"tags":[],"owner":{"account_id":413889,"reputation":776,"user_id":787791,"accept_rate":53,"display_name":"grackkle"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1308209071,"creation_date":1307733470,"answer_id":6311080,"question_id":6274782,"body_markdown":"Simply try the following line:\r\n\r\n    model.reload();\r\n\r\nCheck this simple example. It works for me and shows both new nodes after the 5 seconds delay.\r\n\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tTestTree frame= new TestTree();\r\n\t\tframe.setSize(400, 400);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tframe.pack();\r\n\t\tMutableTreeNode root = (MutableTreeNode)tree.getModel().getRoot();\r\n\t\tSystem.out.println(&quot;A: &quot;+root.getChildCount());\t\t\r\n\t\ttry {\r\n\t\t\tThread.sleep(5000);\r\n\t\t}\r\n\t\tcatch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\troot.insert(new DefaultMutableTreeNode(&quot;test&quot;), 1);\r\n\t\t((DefaultMutableTreeNode)root.getChildAt(2)).insert(new DefaultMutableTreeNode(&quot;test2&quot;), 1);\r\n\t\t((DefaultTreeModel)(tree.getModel())).reload();\r\n\t\tSystem.out.println(&quot;B: &quot;+root.getChildCount());\r\n\t\tSystem.out.println(root.getChildAt(1));\r\n\t}","title":"Jtree not shown on adding a node!","body":"<p>Simply try the following line:</p>\n\n<pre><code>model.reload();\n</code></pre>\n\n<p>Check this simple example. It works for me and shows both new nodes after the 5 seconds delay.</p>\n\n<pre><code>/**\n * @param args\n */\npublic static void main(String[] args) {\n    TestTree frame= new TestTree();\n    frame.setSize(400, 400);\n    frame.setVisible(true);\n    frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    frame.pack();\n    MutableTreeNode root = (MutableTreeNode)tree.getModel().getRoot();\n    System.out.println(\"A: \"+root.getChildCount());     \n    try {\n        Thread.sleep(5000);\n    }\n    catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    root.insert(new DefaultMutableTreeNode(\"test\"), 1);\n    ((DefaultMutableTreeNode)root.getChildAt(2)).insert(new DefaultMutableTreeNode(\"test2\"), 1);\n    ((DefaultTreeModel)(tree.getModel())).reload();\n    System.out.println(\"B: \"+root.getChildCount());\n    System.out.println(root.getChildAt(1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5333747,"reputation":1657,"user_id":4253536,"accept_rate":82,"display_name":"Nick Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416244476,"creation_date":1416243956,"answer_id":26977955,"question_id":6274782,"body_markdown":"I think maybe you forget to set your new Node&#39;s parent in your TreeNode&#39;s insert method...here is my code \r\n\r\n    public void insert(MyTreeNode newChild, int childIndex) {\r\n        if (!allowsChildren) {\r\n            throw new IllegalStateException(&quot;node does not allow children&quot;);\r\n        } else if (newChild == null) {\r\n            throw new IllegalArgumentException(&quot;new child is null&quot;);\r\n        }\r\n\r\n            newChild.setParent(this);\r\n            if (children == null) {\r\n                children = new ArrayList&lt;GoodSort&gt;();\r\n            }\r\n            children.add(childIndex,(GoodSort)newChild);\r\n            ((GoodSort)newChild).parent = this;\r\n    }","title":"Jtree not shown on adding a node!","body":"<p>I think maybe you forget to set your new Node's parent in your TreeNode's insert method...here is my code </p>\n\n<pre><code>public void insert(MyTreeNode newChild, int childIndex) {\n    if (!allowsChildren) {\n        throw new IllegalStateException(\"node does not allow children\");\n    } else if (newChild == null) {\n        throw new IllegalArgumentException(\"new child is null\");\n    }\n\n        newChild.setParent(this);\n        if (children == null) {\n            children = new ArrayList&lt;GoodSort&gt;();\n        }\n        children.add(childIndex,(GoodSort)newChild);\n        ((GoodSort)newChild).parent = this;\n}\n</code></pre>\n"}],"owner":{"account_id":347393,"reputation":266,"user_id":681481,"display_name":"yogi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3602,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6311080,"answer_count":2,"score":2,"last_activity_date":1642647691,"creation_date":1307512947,"question_id":6274782,"body_markdown":"I have a static jtree in a scrollpane. And now iam trying to add child to jtree, it got added successfully. Now, the added node is not visible in the jtree.\r\n\r\n**Try 1: I have tried with model.reload()**\r\n\r\n    DefaultTreeModel model = (DefaultTreeModel) (tree.getModel());\r\n    TreePath Path = findByName(tree, new String[]{Globals.CONS_UIAPROJECTS});\r\n    DefaultMutableTreeNode pnode = (DefaultMutableTreeNode) Path.getLastPathComponent();\r\n    model.insertNodeInto(UIAProjectExploreDisplay.nodeProTree, pnode, pnode.getChildCount());\r\n    model.reload();\r\n\r\n**Try 2: I have tried with tree.setModel() too...**\r\n\r\n    DefaultTreeModel model = (DefaultTreeModel) (tree.getModel());\r\n    TreePath Path = findByName(tree, new String[]{Globals.CONS_UIAPROJECTS});\r\n    DefaultMutableTreeNode pnode = (DefaultMutableTreeNode) Path.getLastPathComponent();\r\n    model.insertNodeInto(UIAProjectExploreDisplay.nodeProTree, pnode, pnode.getChildCount());\r\n\r\n    DefaultTreeModel projectTreeModel = new DefaultTreeModel((DefaultMutabletreeNode) model.getRoot());\r\n    tree.setModel(projectTreeModel);\r\n\r\nEven then newly added child is not visible. but Its getting added in thr tree. I tested by printing the child.\r\nSuggest me a solution.","title":"Jtree not shown on adding a node!","body":"<p>I have a static jtree in a scrollpane. And now iam trying to add child to jtree, it got added successfully. Now, the added node is not visible in the jtree.</p>\n\n<p><strong>Try 1: I have tried with model.reload()</strong></p>\n\n<pre><code>DefaultTreeModel model = (DefaultTreeModel) (tree.getModel());\nTreePath Path = findByName(tree, new String[]{Globals.CONS_UIAPROJECTS});\nDefaultMutableTreeNode pnode = (DefaultMutableTreeNode) Path.getLastPathComponent();\nmodel.insertNodeInto(UIAProjectExploreDisplay.nodeProTree, pnode, pnode.getChildCount());\nmodel.reload();\n</code></pre>\n\n<p><strong>Try 2: I have tried with tree.setModel() too...</strong></p>\n\n<pre><code>DefaultTreeModel model = (DefaultTreeModel) (tree.getModel());\nTreePath Path = findByName(tree, new String[]{Globals.CONS_UIAPROJECTS});\nDefaultMutableTreeNode pnode = (DefaultMutableTreeNode) Path.getLastPathComponent();\nmodel.insertNodeInto(UIAProjectExploreDisplay.nodeProTree, pnode, pnode.getChildCount());\n\nDefaultTreeModel projectTreeModel = new DefaultTreeModel((DefaultMutabletreeNode) model.getRoot());\ntree.setModel(projectTreeModel);\n</code></pre>\n\n<p>Even then newly added child is not visible. but Its getting added in thr tree. I tested by printing the child.\nSuggest me a solution.</p>\n"},{"tags":["java","swing","binary-search-tree","jtree"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638333689,"post_id":70178907,"comment_id":124058171,"body_markdown":"[Adding and removing nodes from a JTree](https://stackoverflow.com/questions/7928839/adding-and-removing-nodes-from-a-jtree)","body":"<a href=\"https://stackoverflow.com/questions/7928839/adding-and-removing-nodes-from-a-jtree\">Adding and removing nodes from a JTree</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1638333881,"post_id":70178907,"comment_id":124058198,"body_markdown":"[How to Use Trees](https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/tree.html\" rel=\"nofollow noreferrer\">How to Use Trees</a>"}],"owner":{"account_id":22746793,"reputation":1,"user_id":16907479,"display_name":"杨小林"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642647546,"creation_date":1638330504,"question_id":70178907,"body_markdown":"When deleting one node with a child (tree), I don&#39;t know how to set the child of a node as the child of the parent of the node and then remove the node in the `JTree`.\r\n\r\nJust like:\r\n\r\n    node.getChildNode().setParent(node.getParent)\r\n    node = null\r\nWhen I tried to use:\r\n\r\n    node.removeFromParent()\r\nIt will remove this node including its subtrees directly.\r\nWhat&#39;s more, I want to know how to expand a path that is from the root to a specific node. I tried some methods online, however, after calling the method like `jtree.updateUI()` and `model.reload()`, UI didn&#39;t change.\r\n\r\n","title":"Binary sort tree about JTree","body":"<p>When deleting one node with a child (tree), I don't know how to set the child of a node as the child of the parent of the node and then remove the node in the <code>JTree</code>.</p>\n<p>Just like:</p>\n<pre><code>node.getChildNode().setParent(node.getParent)\nnode = null\n</code></pre>\n<p>When I tried to use:</p>\n<pre><code>node.removeFromParent()\n</code></pre>\n<p>It will remove this node including its subtrees directly.\nWhat's more, I want to know how to expand a path that is from the root to a specific node. I tried some methods online, however, after calling the method like <code>jtree.updateUI()</code> and <code>model.reload()</code>, UI didn't change.</p>\n"},{"tags":["java","amazon-web-services","elasticsearch","opensearch"],"comments":[{"owner":{"account_id":12794544,"reputation":1137,"user_id":9257991,"display_name":"Riz"},"score":0,"creation_date":1640771064,"post_id":70475350,"comment_id":124653637,"body_markdown":"I hope the endpoint is not &quot;&lt;my-index...amazon.com&gt;&quot;. It should be the endpoint of your opensearch domain which can be found in &quot;general information&quot; in opensearch dashboard in aws.","body":"I hope the endpoint is not &quot;&lt;my-index...amazon.com&gt;&quot;. It should be the endpoint of your opensearch domain which can be found in &quot;general information&quot; in opensearch dashboard in aws."},{"owner":{"display_name":"user8576589"},"score":0,"creation_date":1640798045,"post_id":70475350,"comment_id":124662511,"body_markdown":"You are right, I dont want to put my endpoint here","body":"You are right, I dont want to put my endpoint here"},{"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"score":0,"creation_date":1661796369,"post_id":70475350,"comment_id":129851951,"body_markdown":"@user8576589, did you figure it out?","body":"@user8576589, did you figure it out?"}],"answers":[{"tags":[],"owner":{"account_id":17589664,"reputation":85,"user_id":12761790,"display_name":"Sajjan Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642646720,"creation_date":1642646720,"answer_id":70780247,"question_id":70475350,"body_markdown":"Try [this example][1]. I tried the same and it did work well for me. I did not bother doing anything in regards to the cert as I had followed AWS demo examples to create the domain. \r\n\r\nHopefully this is what you are looking for...\r\n\r\n\r\n  [1]: https://opensearch.org/docs/latest/clients/java-rest-high-level/","title":"AWS ElasticSearch/OpenSearch not connecting from java","body":"<p>Try <a href=\"https://opensearch.org/docs/latest/clients/java-rest-high-level/\" rel=\"nofollow noreferrer\">this example</a>. I tried the same and it did work well for me. I did not bother doing anything in regards to the cert as I had followed AWS demo examples to create the domain.</p>\n<p>Hopefully this is what you are looking for...</p>\n"}],"owner":{"display_name":"user8576589"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5079,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642646720,"creation_date":1640367368,"question_id":70475350,"body_markdown":"Im using a simple example from amazon aws site to connect to opensearch index.\r\nThis is the example source  https://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java.\r\nThe health status of my node is yellow and its open\r\n\r\nyellow open   my-index  \r\n\r\nThe error message\r\n```\r\nException in thread &quot;main&quot; java.net.ConnectException\r\n\tat org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:943)\r\n\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:227)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1256)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1231)\r\n\tat org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:587)\r\n\tat com.amazonaws.lambda.demo.AWSElasticsearchServiceClient.main(AWSElasticsearchServiceClient.java:41)\r\nCaused by: java.net.ConnectException\r\n\tat org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:168)\r\n\tat org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:561)\r\n\tat org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:822)\r\n\tat org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:183)\r\n\tat org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:210)\r\n\tat org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:155)\r\n\tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:348)\r\n\tat org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:192)\r\n\tat org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\r\n\tat java.lang.Thread.run(Unknown Source) ```\r\n\r\n\r\n\r\n```\r\n``` private static String serviceName = &quot;es&quot;;\r\n    private static String region = &quot;us-west-1&quot;;\r\n    private static String domainEndpoint = &quot;&lt;my-index...amazon.com&gt;&quot;; // e.g. https://search-mydomain.us-west-1.es.amazonaws.com\r\n    private static String index = &quot;my-index&quot;;\r\n    private static String type = &quot;_doc&quot;;\r\n    private static String id = &quot;1&quot;;\r\n    static final AWSCredentialsProvider credentialsProvider = new DefaultAWSCredentialsProviderChain();\r\n\r\n ```   public static void main(String[] args) throws IOException {\r\n        RestHighLevelClient searchClient = searchClient(serviceName, region);\r\n\r\n        // Create the document as a hash map\r\n        Map&lt;String, Object&gt; document = new HashMap&lt;&gt;();\r\n        document.put(&quot;title&quot;, &quot;Walk the Line&quot;);\r\n        document.put(&quot;director&quot;, &quot;James Mangold&quot;);\r\n        document.put(&quot;year&quot;, &quot;2005&quot;);\r\n\r\n        // Form the indexing request, send it, and print the response\r\n        IndexRequest request = new IndexRequest(index, type, id).source(document);\r\n        IndexResponse response = searchClient.index(request, RequestOptions.DEFAULT);\r\n        System.out.println(response.toString());\r\n    }\r\n\r\n    // Adds the interceptor to the OpenSearch REST client\r\n    public static RestHighLevelClient searchClient(String serviceName, String region) {\r\n        AWS4Signer signer = new AWS4Signer();\r\n        signer.setServiceName(serviceName);\r\n        signer.setRegionName(region);\r\n        HttpRequestInterceptor interceptor = new AWSRequestSigningApacheInterceptor(serviceName, signer, credentialsProvider);\r\n        return new RestHighLevelClient(RestClient.builder(HttpHost.create(domainEndpoint)).setHttpClientConfigCallback(hacb -&gt; hacb.addInterceptorLast(interceptor)));\r\n    }\r\n","title":"AWS ElasticSearch/OpenSearch not connecting from java","body":"<p>Im using a simple example from amazon aws site to connect to opensearch index.\nThis is the example source  <a href=\"https://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java</a>.\nThe health status of my node is yellow and its open</p>\n<p>yellow open   my-index</p>\n<p>The error message</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.ConnectException\n    at org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:943)\n    at org.elasticsearch.client.RestClient.performRequest(RestClient.java:227)\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1256)\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1231)\n    at org.elasticsearch.client.RestHighLevelClient.index(RestHighLevelClient.java:587)\n    at com.amazonaws.lambda.demo.AWSElasticsearchServiceClient.main(AWSElasticsearchServiceClient.java:41)\nCaused by: java.net.ConnectException\n    at org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:168)\n    at org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:561)\n    at org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:822)\n    at org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:183)\n    at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:210)\n    at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:155)\n    at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:348)\n    at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:192)\n    at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\n    at java.lang.Thread.run(Unknown Source) ```\n\n\n\n</code></pre>\n<pre><code>    private static String region = &quot;us-west-1&quot;;\n    private static String domainEndpoint = &quot;&lt;my-index...amazon.com&gt;&quot;; // e.g. https://search-mydomain.us-west-1.es.amazonaws.com\n    private static String index = &quot;my-index&quot;;\n    private static String type = &quot;_doc&quot;;\n    private static String id = &quot;1&quot;;\n    static final AWSCredentialsProvider credentialsProvider = new DefaultAWSCredentialsProviderChain();\n\n ```   public static void main(String[] args) throws IOException {\n        RestHighLevelClient searchClient = searchClient(serviceName, region);\n\n        // Create the document as a hash map\n        Map&lt;String, Object&gt; document = new HashMap&lt;&gt;();\n        document.put(&quot;title&quot;, &quot;Walk the Line&quot;);\n        document.put(&quot;director&quot;, &quot;James Mangold&quot;);\n        document.put(&quot;year&quot;, &quot;2005&quot;);\n\n        // Form the indexing request, send it, and print the response\n        IndexRequest request = new IndexRequest(index, type, id).source(document);\n        IndexResponse response = searchClient.index(request, RequestOptions.DEFAULT);\n        System.out.println(response.toString());\n    }\n\n    // Adds the interceptor to the OpenSearch REST client\n    public static RestHighLevelClient searchClient(String serviceName, String region) {\n        AWS4Signer signer = new AWS4Signer();\n        signer.setServiceName(serviceName);\n        signer.setRegionName(region);\n        HttpRequestInterceptor interceptor = new AWSRequestSigningApacheInterceptor(serviceName, signer, credentialsProvider);\n        return new RestHighLevelClient(RestClient.builder(HttpHost.create(domainEndpoint)).setHttpClientConfigCallback(hacb -&gt; hacb.addInterceptorLast(interceptor)));\n    }\n</code></pre>\n"},{"tags":["java","flutter","keystore"],"answers":[{"tags":[],"owner":{"account_id":18876876,"reputation":662,"user_id":13800717,"display_name":"Carlos Pe&#241;aranda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642646505,"creation_date":1642646505,"answer_id":70780224,"question_id":66538548,"body_markdown":"you need to change the &quot;\\&quot; of your path to &quot;/&quot;\r\nthats worked for me","title":"Keystore file not found not found for signing config &#39;release&#39; flutter","body":"<p>you need to change the &quot;&quot; of your path to &quot;/&quot;\nthats worked for me</p>\n"}],"owner":{"account_id":19195797,"reputation":657,"user_id":14024520,"display_name":"J L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642646505,"creation_date":1615245024,"question_id":66538548,"body_markdown":"I followed all the steps from generating a key - updating the key.properties with the typed password, \r\n\r\nI added link where the key that was created. \r\n[![enter image description here][1]][1]\r\n\r\n\r\nI keep having a failure - keystore file not found for signing config release\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe gradle file is properly updated.\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sXGgj.png\r\n  [2]: https://i.stack.imgur.com/ny8IP.png\r\n  [3]: https://i.stack.imgur.com/qBVYb.png","title":"Keystore file not found not found for signing config &#39;release&#39; flutter","body":"<p>I followed all the steps from generating a key - updating the key.properties with the typed password,</p>\n<p>I added link where the key that was created.\n<a href=\"https://i.stack.imgur.com/sXGgj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sXGgj.png\" alt=\"enter image description here\" /></a></p>\n<p>I keep having a failure - keystore file not found for signing config release</p>\n<p><a href=\"https://i.stack.imgur.com/ny8IP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ny8IP.png\" alt=\"enter image description here\" /></a></p>\n<p>The gradle file is properly updated.\n<a href=\"https://i.stack.imgur.com/qBVYb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qBVYb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-softkeyboard"],"answers":[{"tags":[],"owner":{"account_id":1500194,"reputation":3358,"user_id":1405120,"display_name":"ThePCWizard"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1351002590,"creation_date":1351002590,"answer_id":13032778,"question_id":13032436,"body_markdown":"This one works for me always: \r\n\r\n    InputMethodManager im = (InputMethodManager) getSystemService(MyActivity.INPUT_METHOD_SERVICE);\r\n    im.hideSoftInputFromWindow(getWindow().getDecorView().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);","title":"Hiding softkeyboard reliably","body":"<p>This one works for me always: </p>\n\n<pre><code>InputMethodManager im = (InputMethodManager) getSystemService(MyActivity.INPUT_METHOD_SERVICE);\nim.hideSoftInputFromWindow(getWindow().getDecorView().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":311103,"reputation":1062,"user_id":624482,"display_name":"Arda Yigithan Orhan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1351003080,"creation_date":1351003080,"answer_id":13032957,"question_id":13032436,"body_markdown":"I think if you handle the null case of getCurrentFocus(), you&#39;re good to go. I use the method below and it works like a charm!\r\n\r\n         /* Hide Keyboard */\r\n        public static void hideKeyboard(Activity activity){\r\n            InputMethodManager inputMethodManager = (InputMethodManager)activity\r\n                    .getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            View focus = activity.getCurrentFocus();\r\n            if(focus != null)\r\n                inputMethodManager.hideSoftInputFromWindow(focus.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\r\n        }","title":"Hiding softkeyboard reliably","body":"<p>I think if you handle the null case of getCurrentFocus(), you're good to go. I use the method below and it works like a charm!</p>\n\n<pre><code>     /* Hide Keyboard */\n    public static void hideKeyboard(Activity activity){\n        InputMethodManager inputMethodManager = (InputMethodManager)activity\n                .getSystemService(Context.INPUT_METHOD_SERVICE);\n        View focus = activity.getCurrentFocus();\n        if(focus != null)\n            inputMethodManager.hideSoftInputFromWindow(focus.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1484811376,"creation_date":1359271546,"answer_id":14545355,"question_id":13032436,"body_markdown":"Since you need an `EditText` to bring up the keyboard, find the particular one and use the first method you displayed to hide the keyboard:\r\n\r\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n    imm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);\r\n\r\nHowever, you will need that `EditText`. First, get all views:\r\n\r\n    public static ArrayList&lt;View&gt; getAllViewsFromRoots(View...roots) {\r\n        ArrayList&lt;View&gt; result = new ArrayList&lt;View&gt;();\r\n        for (View root : roots) {\r\n            getAllViews(result, root);\r\n        }\r\n        return result;\r\n    }\r\n\r\n\tprivate static void getAllViews(ArrayList&lt;View&gt; allviews, View parent) {\r\n\t\tallviews.add(parent);\r\n\t\tif (parent instanceof ViewGroup) {\r\n\t\t\tViewGroup viewGroup = (ViewGroup)parent;\r\n\t\t\tfor (int i = 0; i &lt; viewGroup.getChildCount(); i++) {\r\n\t\t\t\tgetAllViews(allviews, viewGroup.getChildAt(i));\r\n            }\r\n\t\t}\r\n\t}\r\n\r\nThen, get an `EditText` which is visible.\r\n\r\n    public static EditText getEditText(View root) {\r\n\t\tArrayList&lt;View&gt; views = getAllViewsFromRoots(root);\r\n\t\tfor (View view : views) {\r\n\t\t\tif (view instanceof EditText &amp;&amp; view.getVisibility() == View.VISIBLE) {\r\n\t\t\t\treturn (EditText) view;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nCall somewhere:\r\n\r\n    Toolkit.getEditText(((ViewParent) findViewById(android.R.id.content)).getChildAt(0));\r\n\r\nwith that, call the hiding method.","title":"Hiding softkeyboard reliably","body":"<p>Since you need an <code>EditText</code> to bring up the keyboard, find the particular one and use the first method you displayed to hide the keyboard:</p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);\n</code></pre>\n\n<p>However, you will need that <code>EditText</code>. First, get all views:</p>\n\n<pre><code>public static ArrayList&lt;View&gt; getAllViewsFromRoots(View...roots) {\n    ArrayList&lt;View&gt; result = new ArrayList&lt;View&gt;();\n    for (View root : roots) {\n        getAllViews(result, root);\n    }\n    return result;\n}\n\nprivate static void getAllViews(ArrayList&lt;View&gt; allviews, View parent) {\n    allviews.add(parent);\n    if (parent instanceof ViewGroup) {\n        ViewGroup viewGroup = (ViewGroup)parent;\n        for (int i = 0; i &lt; viewGroup.getChildCount(); i++) {\n            getAllViews(allviews, viewGroup.getChildAt(i));\n        }\n    }\n}\n</code></pre>\n\n<p>Then, get an <code>EditText</code> which is visible.</p>\n\n<pre><code>public static EditText getEditText(View root) {\n    ArrayList&lt;View&gt; views = getAllViewsFromRoots(root);\n    for (View view : views) {\n        if (view instanceof EditText &amp;&amp; view.getVisibility() == View.VISIBLE) {\n            return (EditText) view;\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>Call somewhere:</p>\n\n<pre><code>Toolkit.getEditText(((ViewParent) findViewById(android.R.id.content)).getChildAt(0));\n</code></pre>\n\n<p>with that, call the hiding method.</p>\n"},{"tags":[],"owner":{"account_id":1805158,"reputation":1989,"user_id":1642418,"display_name":"FDIM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395681676,"creation_date":1395681676,"answer_id":22616291,"question_id":13032436,"body_markdown":"Only this solution worked for me:\r\n\r\n    mActivity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n\r\nI had a dialog with input field, hiding the dialog didnt hide the keyboard on tablet.","title":"Hiding softkeyboard reliably","body":"<p>Only this solution worked for me:</p>\n\n<pre><code>mActivity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n\n<p>I had a dialog with input field, hiding the dialog didnt hide the keyboard on tablet.</p>\n"},{"tags":[],"owner":{"account_id":10341576,"reputation":33,"user_id":7627762,"display_name":"Nihal Desai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627711481,"creation_date":1627711481,"answer_id":68599591,"question_id":13032436,"body_markdown":"kotlin.  Put this on common BaseActivity. just call hideKeyboard() method anywhere in your activity similar apply for Fragment. \r\n\r\n    open class BaseActivity : AppCompatActivity() {\r\n\r\n    fun Fragment.hideKeyboard() {\r\n        view?.let { activity?.hideKeyboard(it) }\r\n    }\r\n\r\n    fun Context.hideKeyboard(view: View) {\r\n        val inputMethodManager = getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager\r\n        inputMethodManager.hideSoftInputFromWindow(view.windowToken, 0)\r\n    }\r\n    \r\n    }\r\n\r\n","title":"Hiding softkeyboard reliably","body":"<p>kotlin.  Put this on common BaseActivity. just call hideKeyboard() method anywhere in your activity similar apply for Fragment.</p>\n<pre><code>open class BaseActivity : AppCompatActivity() {\n\nfun Fragment.hideKeyboard() {\n    view?.let { activity?.hideKeyboard(it) }\n}\n\nfun Context.hideKeyboard(view: View) {\n    val inputMethodManager = getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager\n    inputMethodManager.hideSoftInputFromWindow(view.windowToken, 0)\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9306157,"reputation":586,"user_id":6909832,"display_name":"Matheus Santz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642646330,"creation_date":1642646330,"answer_id":70780204,"question_id":13032436,"body_markdown":"Try this:\r\n    \r\n    getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);","title":"Hiding softkeyboard reliably","body":"<p>Try this:</p>\n<pre><code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\n</code></pre>\n"}],"owner":{"account_id":1786329,"reputation":10939,"user_id":1627730,"accept_rate":75,"display_name":"stealthjong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13837,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":14545355,"answer_count":6,"score":15,"last_activity_date":1642646330,"creation_date":1351001552,"question_id":13032436,"body_markdown":"I have a application, and need to close the softkeyboard on *a rather large amount of actions*. For example, when **clicking a button**, when a new **layout is drawn**, on **screen orientation change**, when the **controller tells** the UI to, et cetera.\r\nI use the optionsMenuButton to flip view with a ViewFlipper, and obviously I want the keyboard to hide in the flipped view (there is no input field there).\r\n\r\nI&#39;ve tried these so far and tell why these aren&#39;t reliable:\r\n\r\nThis one didn&#39;t work because I have lots of editTexts, and other views. I need a more generic one, one that does not require a view as argument, if possible.\r\n\r\n    InputMethodManager imm = (InputMethodManager)getSystemService(\r\n      Context.INPUT_METHOD_SERVICE);\r\n    imm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);\r\n\r\nThis one does not work at all for me:\r\n\r\n    getWindow().setSoftInputMode(\r\n      WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n\r\nThis one works, but immediately pops the keyboard up again when the view is flipped. \r\n\r\n    InputMethodManager imm = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\r\n    imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);\r\n\r\nThis one works sometimes, but getCurrentFocus() returns null most of the time.\r\n\r\n    InputMethodManager inputManager = (InputMethodManager)            \r\n    Context.getSystemService(Context.INPUT_METHOD_SERVICE); \r\n    inputManager.hideSoftInputFromWindow(this.getCurrentFocus().getWindowToken(),      \r\n    InputMethodManager.HIDE_NOT_ALWAYS);\r\n\r\nThis one works only if the keyboard is shown:\r\n\r\n    getInstrumentation().sendKeyDownUpSync(KeyEvent.KEYCODE_BACK);\r\n\r\nThis one does not work with the EditText like the first piece of code, but with the root Layout, which changes on orientation change and everytime the oncreate is called. I have different layout XML for landscape/portrait and normal/large. All the root Layouts have the ID `root`. This works nicely the first time, but after that, it doesn&#39;t work anymore.\r\n\r\n    InputMethodManager inputManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n  \tinputManager.hideSoftInputFromWindow(findViewById(R.id.root).getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\r\n\r\nBottomline: I&#39;ve tried hella lot of softkeyboard hiding methods, but none of them seems to work reliably. **Is there *any* method for hiding the soft keyboard reliably?**","title":"Hiding softkeyboard reliably","body":"<p>I have a application, and need to close the softkeyboard on <em>a rather large amount of actions</em>. For example, when <strong>clicking a button</strong>, when a new <strong>layout is drawn</strong>, on <strong>screen orientation change</strong>, when the <strong>controller tells</strong> the UI to, et cetera.\nI use the optionsMenuButton to flip view with a ViewFlipper, and obviously I want the keyboard to hide in the flipped view (there is no input field there).</p>\n\n<p>I've tried these so far and tell why these aren't reliable:</p>\n\n<p>This one didn't work because I have lots of editTexts, and other views. I need a more generic one, one that does not require a view as argument, if possible.</p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager)getSystemService(\n  Context.INPUT_METHOD_SERVICE);\nimm.hideSoftInputFromWindow(myEditText.getWindowToken(), 0);\n</code></pre>\n\n<p>This one does not work at all for me:</p>\n\n<pre><code>getWindow().setSoftInputMode(\n  WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n\n<p>This one works, but immediately pops the keyboard up again when the view is flipped. </p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);\n</code></pre>\n\n<p>This one works sometimes, but getCurrentFocus() returns null most of the time.</p>\n\n<pre><code>InputMethodManager inputManager = (InputMethodManager)            \nContext.getSystemService(Context.INPUT_METHOD_SERVICE); \ninputManager.hideSoftInputFromWindow(this.getCurrentFocus().getWindowToken(),      \nInputMethodManager.HIDE_NOT_ALWAYS);\n</code></pre>\n\n<p>This one works only if the keyboard is shown:</p>\n\n<pre><code>getInstrumentation().sendKeyDownUpSync(KeyEvent.KEYCODE_BACK);\n</code></pre>\n\n<p>This one does not work with the EditText like the first piece of code, but with the root Layout, which changes on orientation change and everytime the oncreate is called. I have different layout XML for landscape/portrait and normal/large. All the root Layouts have the ID <code>root</code>. This works nicely the first time, but after that, it doesn't work anymore.</p>\n\n<pre><code>InputMethodManager inputManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\ninputManager.hideSoftInputFromWindow(findViewById(R.id.root).getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n</code></pre>\n\n<p>Bottomline: I've tried hella lot of softkeyboard hiding methods, but none of them seems to work reliably. <strong>Is there <em>any</em> method for hiding the soft keyboard reliably?</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8327,"page":1665,"page_size":100}
