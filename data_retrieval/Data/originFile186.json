{"items":[{"tags":["javascript","java","android","html"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":0,"creation_date":1694618652,"post_id":77098429,"comment_id":135915776,"body_markdown":"Please include the code you&#39;re using to fetch the page","body":"Please include the code you&#39;re using to fetch the page"},{"owner":{"account_id":10982996,"reputation":11,"user_id":8069555,"display_name":"Nicolas Ortiz"},"score":0,"creation_date":1694621762,"post_id":77098429,"comment_id":135916347,"body_markdown":"To fetch the page (with full html), im using only inspector though chrome","body":"To fetch the page (with full html), im using only inspector though chrome"}],"owner":{"account_id":10982996,"reputation":11,"user_id":8069555,"display_name":"Nicolas Ortiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694622030,"creation_date":1694618543,"question_id":77098429,"body_markdown":"I&#180;m trying to connect with an endpoint, but response is incomplete, because part of the html is on js. I&#39;m working on Android Studio with Java. How can I get full HTML on the response of the API request?\r\n\r\n**Request on Postman:**\r\n\r\nGET: https://tienda.mercadona.es/search-results?query=aceite\r\n\r\n**Response:**\r\n\r\n```\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;es&quot;&gt;\r\n\r\n&lt;head&gt;\r\n\t...\r\n\r\n&lt;body&gt;&lt;noscript&gt;You need to enable JavaScript to run this app.&lt;/noscript&gt;\r\n\t&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;\r\n\t&lt;div id=&quot;modal-info&quot;&gt;&lt;/div&gt;\r\n\t&lt;script&gt;\r\n\t\t!function(e){function r(r){for(var n,l,f=r[0],i=r[1],a=r[2],c=0,s=[];c&lt;f.length;c++)l=f[c],Object.prototype.hasOwnProperty.call(o,l)&amp;&amp;o[l]&amp;&amp;s.push(o[l][0]),o[l]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&amp;&amp;(e[n]=i[n]);for(p&amp;&amp;p(r);s.length;)s.shift()();return u.push.apply(u,a||[]),t()}function t(){for(var e,r=0;r&lt;u.length;r++){for(var t=u[r],n=!0,f=1;f&lt;t.length;f++){var i=t[f];0!==o[i]&amp;&amp;(n=!1)}n&amp;&amp;(u.splice(r--,1),e=l(l.s=t[0]))}return e}var n={},o={1:0},u=[];function l(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){&quot;undefined&quot;!=typeof Symbol&amp;&amp;Symbol.toStringTag&amp;&amp;Object.defineProperty(e,Symbol.toStringTag,{value:&quot;Module&quot;}),Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})},l.t=function(e,r){if(1&amp;r&amp;&amp;(e=l(e)),8&amp;r)return e;if(4&amp;r&amp;&amp;&quot;object&quot;==typeof e&amp;&amp;e&amp;&amp;e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,&quot;default&quot;,{enumerable:!0,value:e}),2&amp;r&amp;&amp;&quot;string&quot;!=typeof e)for(var n in e)l.d(t,n,function(r){return e[r]}.bind(null,n));return t},l.n=function(e){var r=e&amp;&amp;e.__esModule?function(){return e.default}:function(){return e};return l.d(r,&quot;a&quot;,r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p=&quot;/&quot;;var f=window.webpackJsonp=window.webpackJsonp||[],i=f.push.bind(f);f.push=r,f=f.slice();for(var a=0;a&lt;f.length;a++)r(f[a]);var p=i;t()}([])\r\n\t&lt;/script&gt;\r\n\t&lt;script src=&quot;/v616/static/js/2.2a3d3a37.chunk.js&quot;&gt;&lt;/script&gt;\r\n\t&lt;script src=&quot;/v616/static/js/main.e428a20b.chunk.js&quot;&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\n[Postman request][1]\r\n\r\n\r\n\r\n**Full HTML from webpage directly:**\r\n\r\n\r\n```\r\n&lt;head&gt;\r\n...\r\n&lt;/head&gt;\r\n&lt;body class=&quot;&quot;&gt;\r\n&lt;noscript&gt;\r\nYou need to enable JavaScript to run this app.&lt;/noscript&gt;\r\n&lt;div id=&quot;root&quot;&gt;\r\n&lt;div class=&quot;cookie-banner&quot;&gt;\r\n&lt;img class=&quot;cookie-banner__image&quot; alt=&quot;cookie&quot; src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABo9JREFUWAmFVl1sVFUQnt3b7nbbbek/lFZsqUJKgEJKQSogJAoNSowkEhSjCQ9ijQ8kRI2IMWqwMWoCaeKLRqJIJAYDyINBqQZFFFGQ1lrb0NKW7R/t2r9l2Xb33ut85+5s767bOsnZmTNnznzfzDnnZh00uzhmX5511Zx1Nbo4E0AyfzKfHSMZYDKffQ8lS5rok3milkQCkqgT12Uep1NsMwEQl8yh7UPWRQMYAzEzkZDY/2ghIGASYAeE7eShfM/W0PoFxdlLn35sbWeWN73Q4XCEXmho//LoN01TsjmqhUyCO34qwKKxqoCiGsBqvPvccm9Fbrih8WLrDgStqSyjHQ+vgkmjgcgTudtPnmTT4AFgaIiQEG15bb/oQDJwqVjjdefAiUeezPe6Dn57obVA9vYPjZJh6Go6qYddbCAWAnDknBEUQSJyBJhL5bGqq6pyXI0H1tV707Q6Mg16YHU5FRVm0uSUTuUL8slkHyQSNkAA+wCKIUX9LwkhIOCikUxr3F9Tn+6iOqk0RXPSkvK5sfym6oCDXJp5D+J5CAHRyCeEkpIBkAiCpXqt++hDu661dtUd/vQ8tbT3qXabph7TsNEBaG+aYyvvBQF1ZLY8UhC7Yh22+6Zvty1Ae2nn4iyv2zh4urGF+gbHqamtj+swrTOPanRFhtNhLLvcsH4T55iNBIDtoohIB4SV6sDebcV1qRrledzWCaXyBGCmYcR0Z88wnb3QRv23xpS/otjz3s4N872MkIwE8gpGHJHElqnNr+8qf19zOgruLc2jdE8qVS8rpvS0VM5hHe3oeJA+OP4rdflG6M/2AVq7ooQ4Pru2KrfaNxw+09w1EYmWKqCY2u3ocvyZKfBjL65YWFHiPoCWexl8YUkOg3MneG7ygB6duEOXm3tjSdZW3kUpmoM0zbGgdlXeg4/eV3i97Xrv+OZFtDIlk/y9w2S919iOaQOs0Ge0CDrlt0Ortywu8XzB9qwyfnuSRsbuUH5OOhPEK+QSORs4Tk5FqOHY5fBEcCo1JyttcM/OVZ9FdGpZ80rXcZ/PBzLywTKtQ55ujzPDRfPk2Tm4a1w3/4InDsCyob2eFMr0ZCkfvhEQg9ERO+ifIIDDNzIemquHp/Z5PS768c2SYNlu32l2y5NUBORsFErE0B24bJBYlJpZP+JT69jBDtPipwKwXlyYQds2lgOcigoy1BGqj5Zp5PAyuo0wgDikA2wrcYwFIgMleYq8+GbW6De6o7Sl5BhWLMrnI+EO8poUxLkHrQ3RlvIEbOKkqTvQAbZ/tA3SiXPt5B8Nxt67vHvRSByOhCkUmrJA8GFC93AksPkjJRp2c3egk8HiniSah3LxAtQlZO1qOlTxy5FTrWVs08aq+bRuZRFMVY1UhflX57uo9cYIRXSTivLTacfmcsrkb7d6LQiQdrDmS/j3vGd+v5+9eKIyDDkP9BIDYg74Q42WaYHGKuaqYKNDgTuT1Hz9HwWO2P7hIHXeHIuuc9tV6xGLI9DJPx46xWG222IhyBEIAVwM88NzgXdqa4oDFWVzqKKUb7pqJ1o6PTwuJ2VlTN8VFFuY67Zi1FcTn2ociU5h3fC/+vnQR8htG4oBWg9Wci7Qzr98wcie2vm3apZm13rcWhQ4WhUq4oFcpUUZNBYIE2I2Vc3luZcB+V7oBv1wZYCutvlpZGKSQnrq/pc/6bnCm+QboArluQFwkACw+hKyRlm4D66Ww4vfys107o59BxjYfgc4Jqn03grSsbPdsbWL3VR56Qb1syMcHSCiyEgHQAQCjaGO5tSl4E/bV2fM8bhpZTAUoQ7fBA2Phvhda+rTixuuBFp1hWdsezwadfUF+Z5EKGzQ1yev0TFewcWTDkCrNgqYaOmCvAjVje/eKH28vWOovq3ntps30pJSL22tmcdUeRuAoSFR29BNf9vA5NuvHbn5/c/dqnKAo3ohIUTUNwy7hYD9KISE0s9vcO51O419HEvrK3OpuiIbZpyEdWofHNXPHDjh/7jxamCcFwEoA6BCIO4OCAHR9jshJFRnnqqmLYZJzruLC9qXl2vleZ4U/ltO5kgwMnS1Q++oPz3UwyBIDjAZAipzrAuBWAfYF3f+6IS9G3I0Qg5rICwiz0uS20kk2ogVAuq225PAxmKi2AEEPBkBSY4cAiw2tKzH8qPFcEoy2BAEQzDHACh8dnDZw24lEiuAmNttmSMYthIQSBRZxGYBkc12Asn2Ic4+kMM+xx7MRcx/AWYKLhCkO62qAAAAAElFTkSuQmCC&quot;&gt;\r\n&lt;div&gt;\r\n&lt;p class=&quot;cookie-banner__disclaimer footnote1-r&quot;&gt;\r\nUtilizamos cookies propias y de terceros, de sesi&#243;n y persistentes, con la finalidad de hacer que la navegaci&#243;n de los usuarios por nuestra p&#225;gina web sea f&#225;cil y segura. A su vez, utilizamos cookies para medir y obtener datos estad&#237;sticos de la navegaci&#243;n de los usuarios. Puedes configurar y aceptar el uso de cookies, as&#237; como modificar tus opciones de consentimiento en cualquier momento.&lt;a class=&quot;cookie-banner__info&quot; target=&quot;_blank&quot; href=&quot;/legal/cookies/es/&quot; rel=&quot;noopener noreferrer&quot;&gt;\r\nM&#225;s informaci&#243;n&lt;/a&gt;\r\n&lt;/p&gt;\r\n&lt;div class=&quot;cookie-banner__actions&quot;&gt;\r\n&lt;a class=&quot;cookie-banner__info&quot; target=&quot;_blank&quot; href=&quot;/legal/cookies/es/&quot; rel=&quot;noopener noreferrer&quot;&gt;\r\nM&#225;s informaci&#243;n&lt;/a&gt;\r\n&lt;button type=&quot;button&quot; class=&quot;ui-button ui-button--small ui-button--secondary ui-button--positive&quot;&gt;\r\nConfiguraci&#243;n&lt;/button&gt;\r\n&lt;button type=&quot;button&quot; class=&quot;ui-button ui-button--small ui-button--primary ui-button--positive&quot;&gt;\r\nAceptar todas&lt;/button&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;snack-bars&quot;&gt;\r\n&lt;/div&gt;\r\n&lt;header role=&quot;banner&quot; class=&quot;header&quot;&gt;\r\n&lt;div class=&quot;header__left&quot;&gt;\r\n&lt;button class=&quot;logo&quot; aria-label=&quot;Home&quot;&gt;\r\n&lt;/button&gt;\r\n&lt;div class=&quot;search&quot; role=&quot;search&quot; aria-label=&quot;Buscar productos&quot;&gt;\r\n\r\n...\r\n\r\n```\r\n[Webpage][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hKYHH.png\r\n  [2]: https://i.stack.imgur.com/dFjXO.png","title":"Get Full HTML response from an API call with HTML +JS response","body":"<p>IÂ´m trying to connect with an endpoint, but response is incomplete, because part of the html is on js. I'm working on Android Studio with Java. How can I get full HTML on the response of the API request?</p>\n<p><strong>Request on Postman:</strong></p>\n<p>GET: <a href=\"https://tienda.mercadona.es/search-results?query=aceite\" rel=\"nofollow noreferrer\">https://tienda.mercadona.es/search-results?query=aceite</a></p>\n<p><strong>Response:</strong></p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;es&quot;&gt;\n\n&lt;head&gt;\n    ...\n\n&lt;body&gt;&lt;noscript&gt;You need to enable JavaScript to run this app.&lt;/noscript&gt;\n    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;\n    &lt;div id=&quot;modal-info&quot;&gt;&lt;/div&gt;\n    &lt;script&gt;\n        !function(e){function r(r){for(var n,l,f=r[0],i=r[1],a=r[2],c=0,s=[];c&lt;f.length;c++)l=f[c],Object.prototype.hasOwnProperty.call(o,l)&amp;&amp;o[l]&amp;&amp;s.push(o[l][0]),o[l]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&amp;&amp;(e[n]=i[n]);for(p&amp;&amp;p(r);s.length;)s.shift()();return u.push.apply(u,a||[]),t()}function t(){for(var e,r=0;r&lt;u.length;r++){for(var t=u[r],n=!0,f=1;f&lt;t.length;f++){var i=t[f];0!==o[i]&amp;&amp;(n=!1)}n&amp;&amp;(u.splice(r--,1),e=l(l.s=t[0]))}return e}var n={},o={1:0},u=[];function l(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){&quot;undefined&quot;!=typeof Symbol&amp;&amp;Symbol.toStringTag&amp;&amp;Object.defineProperty(e,Symbol.toStringTag,{value:&quot;Module&quot;}),Object.defineProperty(e,&quot;__esModule&quot;,{value:!0})},l.t=function(e,r){if(1&amp;r&amp;&amp;(e=l(e)),8&amp;r)return e;if(4&amp;r&amp;&amp;&quot;object&quot;==typeof e&amp;&amp;e&amp;&amp;e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,&quot;default&quot;,{enumerable:!0,value:e}),2&amp;r&amp;&amp;&quot;string&quot;!=typeof e)for(var n in e)l.d(t,n,function(r){return e[r]}.bind(null,n));return t},l.n=function(e){var r=e&amp;&amp;e.__esModule?function(){return e.default}:function(){return e};return l.d(r,&quot;a&quot;,r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p=&quot;/&quot;;var f=window.webpackJsonp=window.webpackJsonp||[],i=f.push.bind(f);f.push=r,f=f.slice();for(var a=0;a&lt;f.length;a++)r(f[a]);var p=i;t()}([])\n    &lt;/script&gt;\n    &lt;script src=&quot;/v616/static/js/2.2a3d3a37.chunk.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/v616/static/js/main.e428a20b.chunk.js&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hKYHH.png\" rel=\"nofollow noreferrer\">Postman request</a></p>\n<p><strong>Full HTML from webpage directly:</strong></p>\n<pre><code>&lt;head&gt;\n...\n&lt;/head&gt;\n&lt;body class=&quot;&quot;&gt;\n&lt;noscript&gt;\nYou need to enable JavaScript to run this app.&lt;/noscript&gt;\n&lt;div id=&quot;root&quot;&gt;\n&lt;div class=&quot;cookie-banner&quot;&gt;\n&lt;img class=&quot;cookie-banner__image&quot; alt=&quot;cookie&quot; src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABo9JREFUWAmFVl1sVFUQnt3b7nbbbek/lFZsqUJKgEJKQSogJAoNSowkEhSjCQ9ijQ8kRI2IMWqwMWoCaeKLRqJIJAYDyINBqQZFFFGQ1lrb0NKW7R/t2r9l2Xb33ut85+5s767bOsnZmTNnznzfzDnnZh00uzhmX5511Zx1Nbo4E0AyfzKfHSMZYDKffQ8lS5rok3milkQCkqgT12Uep1NsMwEQl8yh7UPWRQMYAzEzkZDY/2ghIGASYAeE7eShfM/W0PoFxdlLn35sbWeWN73Q4XCEXmho//LoN01TsjmqhUyCO34qwKKxqoCiGsBqvPvccm9Fbrih8WLrDgStqSyjHQ+vgkmjgcgTudtPnmTT4AFgaIiQEG15bb/oQDJwqVjjdefAiUeezPe6Dn57obVA9vYPjZJh6Go6qYddbCAWAnDknBEUQSJyBJhL5bGqq6pyXI0H1tV707Q6Mg16YHU5FRVm0uSUTuUL8slkHyQSNkAA+wCKIUX9LwkhIOCikUxr3F9Tn+6iOqk0RXPSkvK5sfym6oCDXJp5D+J5CAHRyCeEkpIBkAiCpXqt++hDu661dtUd/vQ8tbT3qXabph7TsNEBaG+aYyvvBQF1ZLY8UhC7Yh22+6Zvty1Ae2nn4iyv2zh4urGF+gbHqamtj+swrTOPanRFhtNhLLvcsH4T55iNBIDtoohIB4SV6sDebcV1qRrledzWCaXyBGCmYcR0Z88wnb3QRv23xpS/otjz3s4N872MkIwE8gpGHJHElqnNr+8qf19zOgruLc2jdE8qVS8rpvS0VM5hHe3oeJA+OP4rdflG6M/2AVq7ooQ4Pru2KrfaNxw+09w1EYmWKqCY2u3ocvyZKfBjL65YWFHiPoCWexl8YUkOg3MneG7ygB6duEOXm3tjSdZW3kUpmoM0zbGgdlXeg4/eV3i97Xrv+OZFtDIlk/y9w2S919iOaQOs0Ge0CDrlt0Ortywu8XzB9qwyfnuSRsbuUH5OOhPEK+QSORs4Tk5FqOHY5fBEcCo1JyttcM/OVZ9FdGpZ80rXcZ/PBzLywTKtQ55ujzPDRfPk2Tm4a1w3/4InDsCyob2eFMr0ZCkfvhEQg9ERO+ifIIDDNzIemquHp/Z5PS768c2SYNlu32l2y5NUBORsFErE0B24bJBYlJpZP+JT69jBDtPipwKwXlyYQds2lgOcigoy1BGqj5Zp5PAyuo0wgDikA2wrcYwFIgMleYq8+GbW6De6o7Sl5BhWLMrnI+EO8poUxLkHrQ3RlvIEbOKkqTvQAbZ/tA3SiXPt5B8Nxt67vHvRSByOhCkUmrJA8GFC93AksPkjJRp2c3egk8HiniSah3LxAtQlZO1qOlTxy5FTrWVs08aq+bRuZRFMVY1UhflX57uo9cYIRXSTivLTacfmcsrkb7d6LQiQdrDmS/j3vGd+v5+9eKIyDDkP9BIDYg74Q42WaYHGKuaqYKNDgTuT1Hz9HwWO2P7hIHXeHIuuc9tV6xGLI9DJPx46xWG222IhyBEIAVwM88NzgXdqa4oDFWVzqKKUb7pqJ1o6PTwuJ2VlTN8VFFuY67Zi1FcTn2ociU5h3fC/+vnQR8htG4oBWg9Wci7Qzr98wcie2vm3apZm13rcWhQ4WhUq4oFcpUUZNBYIE2I2Vc3luZcB+V7oBv1wZYCutvlpZGKSQnrq/pc/6bnCm+QboArluQFwkACw+hKyRlm4D66Ww4vfys107o59BxjYfgc4Jqn03grSsbPdsbWL3VR56Qb1syMcHSCiyEgHQAQCjaGO5tSl4E/bV2fM8bhpZTAUoQ7fBA2Phvhda+rTixuuBFp1hWdsezwadfUF+Z5EKGzQ1yev0TFewcWTDkCrNgqYaOmCvAjVje/eKH28vWOovq3ntps30pJSL22tmcdUeRuAoSFR29BNf9vA5NuvHbn5/c/dqnKAo3ohIUTUNwy7hYD9KISE0s9vcO51O419HEvrK3OpuiIbZpyEdWofHNXPHDjh/7jxamCcFwEoA6BCIO4OCAHR9jshJFRnnqqmLYZJzruLC9qXl2vleZ4U/ltO5kgwMnS1Q++oPz3UwyBIDjAZAipzrAuBWAfYF3f+6IS9G3I0Qg5rICwiz0uS20kk2ogVAuq225PAxmKi2AEEPBkBSY4cAiw2tKzH8qPFcEoy2BAEQzDHACh8dnDZw24lEiuAmNttmSMYthIQSBRZxGYBkc12Asn2Ic4+kMM+xx7MRcx/AWYKLhCkO62qAAAAAElFTkSuQmCC&quot;&gt;\n&lt;div&gt;\n&lt;p class=&quot;cookie-banner__disclaimer footnote1-r&quot;&gt;\nUtilizamos cookies propias y de terceros, de sesiÃ³n y persistentes, con la finalidad de hacer que la navegaciÃ³n de los usuarios por nuestra pÃ¡gina web sea fÃ¡cil y segura. A su vez, utilizamos cookies para medir y obtener datos estadÃ­sticos de la navegaciÃ³n de los usuarios. Puedes configurar y aceptar el uso de cookies, asÃ­ como modificar tus opciones de consentimiento en cualquier momento.&lt;a class=&quot;cookie-banner__info&quot; target=&quot;_blank&quot; href=&quot;/legal/cookies/es/&quot; rel=&quot;noopener noreferrer&quot;&gt;\nMÃ¡s informaciÃ³n&lt;/a&gt;\n&lt;/p&gt;\n&lt;div class=&quot;cookie-banner__actions&quot;&gt;\n&lt;a class=&quot;cookie-banner__info&quot; target=&quot;_blank&quot; href=&quot;/legal/cookies/es/&quot; rel=&quot;noopener noreferrer&quot;&gt;\nMÃ¡s informaciÃ³n&lt;/a&gt;\n&lt;button type=&quot;button&quot; class=&quot;ui-button ui-button--small ui-button--secondary ui-button--positive&quot;&gt;\nConfiguraciÃ³n&lt;/button&gt;\n&lt;button type=&quot;button&quot; class=&quot;ui-button ui-button--small ui-button--primary ui-button--positive&quot;&gt;\nAceptar todas&lt;/button&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=&quot;snack-bars&quot;&gt;\n&lt;/div&gt;\n&lt;header role=&quot;banner&quot; class=&quot;header&quot;&gt;\n&lt;div class=&quot;header__left&quot;&gt;\n&lt;button class=&quot;logo&quot; aria-label=&quot;Home&quot;&gt;\n&lt;/button&gt;\n&lt;div class=&quot;search&quot; role=&quot;search&quot; aria-label=&quot;Buscar productos&quot;&gt;\n\n...\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dFjXO.png\" rel=\"nofollow noreferrer\">Webpage</a></p>\n"},{"tags":["java","hashmap","equals","hashcode"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1694016230,"post_id":77053602,"comment_id":135836755,"body_markdown":"&quot;then hashCode was already compared&quot; - by who? It&#39;s really not clear what code you&#39;re talking about. If you mean in HashMap, then yes, I&#39;d expect it to have checked the hash code already. But I&#39;d recommend reading the contract on java.lang.Object for what equals/hashCode implementations *must* abide by.","body":"&quot;then hashCode was already compared&quot; - by who? It&#39;s really not clear what code you&#39;re talking about. If you mean in HashMap, then yes, I&#39;d expect it to have checked the hash code already. But I&#39;d recommend reading the contract on java.lang.Object for what equals/hashCode implementations <i>must</i> abide by."},{"owner":{"account_id":7828782,"reputation":150,"user_id":7356882,"display_name":"HyperVol"},"score":0,"creation_date":1694016983,"post_id":77053602,"comment_id":135836922,"body_markdown":"@JonSkeet Yes Sorry I mean in context of hashmap.","body":"@JonSkeet Yes Sorry I mean in context of hashmap."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694017286,"post_id":77053602,"comment_id":135836977,"body_markdown":"we cannot see what exactly `hashCode` is doing, neither how the corresponding object is declared, so we cannot say if it makes *any* sense (at least it is very dubious... also because different instances can still return the same hash code)","body":"we cannot see what exactly <code>hashCode</code> is doing, neither how the corresponding object is declared, so we cannot say if it makes <i>any</i> sense (at least it is very dubious... also because different instances can still return the same hash code)"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":2,"creation_date":1694017386,"post_id":77053602,"comment_id":135836989,"body_markdown":"When you override `equals` you do not need to compare hashcodes within equals â what you _do_ need to do is **also** override `hashCode` and _make sure_ that two objects that are .equals to each other _generate_ the same hash code. -- Always override hashCode when you override equals.","body":"When you override <code>equals</code> you do not need to compare hashcodes within equals â what you <i>do</i> need to do is <b>also</b> override <code>hashCode</code> and <i>make sure</i> that two objects that are .equals to each other <i>generate</i> the same hash code. -- Always override hashCode when you override equals."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1694018913,"post_id":77053602,"comment_id":135837273,"body_markdown":"*Does it mean that when eventually equals() method is called , then hashCode was already compared ...* Probably, but itâs not guaranteed. Exceptions, I neither know nor care. *Will it ever make sense to check hashCode() of both objects in equals() method ?* Hardly. I canât think of a situation where it would. Remember that calculating the two hash codes will nearly always take more time and more code lines than just comparing the relevant instance variables of the two objects.","body":"<i>Does it mean that when eventually equals() method is called , then hashCode was already compared ...</i> Probably, but itâs not guaranteed. Exceptions, I neither know nor care. <i>Will it ever make sense to check hashCode() of both objects in equals() method ?</i> Hardly. I canât think of a situation where it would. Remember that calculating the two hash codes will nearly always take more time and more code lines than just comparing the relevant instance variables of the two objects."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1694020491,"post_id":77053602,"comment_id":135837598,"body_markdown":"Summary:  No, you should *never* make use of the hashCode in an equals method.  hashCodes are *not* guaranteed to be unique, by design.  But make sure any two objects which *are* equal, also return the same hashCode.","body":"Summary:  No, you should <i>never</i> make use of the hashCode in an equals method.  hashCodes are <i>not</i> guaranteed to be unique, by design.  But make sure any two objects which <i>are</i> equal, also return the same hashCode."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1694034689,"post_id":77053602,"comment_id":135840001,"body_markdown":"It is conceivable and plausible that hashCode comparison in `equals` might be used as an optimization to quickly detect that two values are not equal,  if computing the hash code is cheaper than testing equality (perhaps because the hash has been cached), but that&#39;s all.","body":"It is conceivable and plausible that hashCode comparison in <code>equals</code> might be used as an optimization to quickly detect that two values are not equal,  if computing the hash code is cheaper than testing equality (perhaps because the hash has been cached), but that&#39;s all."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694154714,"post_id":77053602,"comment_id":135856590,"body_markdown":"@LouisWasserman Conceivable, indeed. Something like if both objects have cached hash codes and they differ, immediately return false (meaning not equal), otherwise compare field by field. Plausible? Not with me. And for use with `HashMap` seen isolated, probably pointless since, as the questioner suggests, the map has probably already checked the hash codes.","body":"@LouisWasserman Conceivable, indeed. Something like if both objects have cached hash codes and they differ, immediately return false (meaning not equal), otherwise compare field by field. Plausible? Not with me. And for use with <code>HashMap</code> seen isolated, probably pointless since, as the questioner suggests, the map has probably already checked the hash codes."}],"answers":[{"tags":[],"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1694621991,"creation_date":1694023563,"answer_id":77054309,"question_id":77053602,"body_markdown":"To summarize from the comments:\r\n\r\n&gt; In Java, during Object#equals() call, do both objects necessarily have same hashCode?\r\n\r\nTwo objects that are `.equals` to each other do _need_ to have the same hashCode, but it is up to you to write the _equals_ method and the _hashCode_ method to make sure this is true.\r\n\r\n - Two objects can have the same hashCode and _not_ be equal, because of [hash collisions](https://wikipedia.org/wiki/Hash_collision).\r\n - Two objects that are equal _must_ generate the same hashCode.\r\n\r\nWhen a `HashMap` calls `equals()` on two key objects, has it first ensured that the hash codes are equal? Probably, but not guaranteed and itâs an implementation detail that we should not need to know about. Also the implementation of `HashMap` has changed more than once over the Java versions and may change again, so the answer may depend on Java version. You may inspect the source code of `HashMap` in your Java version to see.\r\n\r\nThe `HashMap` distributes the key-value pairs into so-called *buckets* based on the hash code of the key. In case of a *collision* â two or more pairs landing in the same bucket â it may conceivably compare keys belonging in the same bucket for equality. Since there are many more possible hash codes than there are buckets, this could mean also sometimes comparing objects with different hash codes using `equals()`.\r\n\r\nOther kinds of `Map` such as a `TreeMap` probably don&#39;t use hash codes at all.\r\n\r\n&gt; Do we need to ever compare hashCode within equals()?\r\n\r\nNo, you do not need to compare hashCodes in your implementation of `.equals`, in fact you should _not_ do that.","title":"In Java, during Object#equals() call, do both objects necessarily have same hashCode ? Do we need to ever compare hashCode within equals()?","body":"<p>To summarize from the comments:</p>\n<blockquote>\n<p>In Java, during Object#equals() call, do both objects necessarily have same hashCode?</p>\n</blockquote>\n<p>Two objects that are <code>.equals</code> to each other do <em>need</em> to have the same hashCode, but it is up to you to write the <em>equals</em> method and the <em>hashCode</em> method to make sure this is true.</p>\n<ul>\n<li>Two objects can have the same hashCode and <em>not</em> be equal, because of <a href=\"https://wikipedia.org/wiki/Hash_collision\" rel=\"nofollow noreferrer\">hash collisions</a>.</li>\n<li>Two objects that are equal <em>must</em> generate the same hashCode.</li>\n</ul>\n<p>When a <code>HashMap</code> calls <code>equals()</code> on two key objects, has it first ensured that the hash codes are equal? Probably, but not guaranteed and itâs an implementation detail that we should not need to know about. Also the implementation of <code>HashMap</code> has changed more than once over the Java versions and may change again, so the answer may depend on Java version. You may inspect the source code of <code>HashMap</code> in your Java version to see.</p>\n<p>The <code>HashMap</code> distributes the key-value pairs into so-called <em>buckets</em> based on the hash code of the key. In case of a <em>collision</em> â two or more pairs landing in the same bucket â it may conceivably compare keys belonging in the same bucket for equality. Since there are many more possible hash codes than there are buckets, this could mean also sometimes comparing objects with different hash codes using <code>equals()</code>.</p>\n<p>Other kinds of <code>Map</code> such as a <code>TreeMap</code> probably don't use hash codes at all.</p>\n<blockquote>\n<p>Do we need to ever compare hashCode within equals()?</p>\n</blockquote>\n<p>No, you do not need to compare hashCodes in your implementation of <code>.equals</code>, in fact you should <em>not</em> do that.</p>\n"}],"owner":{"account_id":7828782,"reputation":150,"user_id":7356882,"display_name":"HyperVol"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77054309,"answer_count":1,"score":1,"last_activity_date":1694621991,"creation_date":1694015979,"question_id":77053602,"body_markdown":"I have read somewhere, in context of HashMap :\r\n`hashCode() allows sorting objects by their hash values, and then the Object#equals method only needs to be invoked when objects share the same hash value.`\r\n\r\nDoes it mean that when eventually equals() method is called , then hashCode was already compared and found to be necessarily equal? Is there any exception for this scenario?\r\n\r\n2nd part of question: Will it ever make sense to check hashCode() of both objects in equals() method ?\r\n\r\n\r\n    \r\n```\r\npublic boolean equals(Object obj) {\r\n        if (obj == this) {\r\n            return true;\r\n        }\r\n        if (obj == null) {\r\n            return false;\r\n        }\r\n\r\n        if (!(obj instanceof InternalObjectSerialized)) {\r\n            return false;\r\n        }\r\n        InternalObjectSerialized&lt;?&gt; inputObj = (InternalObjectSerialized&lt;?&gt;) obj;\r\n\r\n        if (!(Arrays.equals(this.bytes, inputObj.bytes))) {\r\n            return false;\r\n        }\r\n\r\n        // Does the following line make any sense ??\r\n        return this.hashCode() == inputObj.hashCode();\r\n    }\r\n```\r\n","title":"In Java, during Object#equals() call, do both objects necessarily have same hashCode ? Do we need to ever compare hashCode within equals()?","body":"<p>I have read somewhere, in context of HashMap :\n<code>hashCode() allows sorting objects by their hash values, and then the Object#equals method only needs to be invoked when objects share the same hash value.</code></p>\n<p>Does it mean that when eventually equals() method is called , then hashCode was already compared and found to be necessarily equal? Is there any exception for this scenario?</p>\n<p>2nd part of question: Will it ever make sense to check hashCode() of both objects in equals() method ?</p>\n<pre><code>public boolean equals(Object obj) {\n        if (obj == this) {\n            return true;\n        }\n        if (obj == null) {\n            return false;\n        }\n\n        if (!(obj instanceof InternalObjectSerialized)) {\n            return false;\n        }\n        InternalObjectSerialized&lt;?&gt; inputObj = (InternalObjectSerialized&lt;?&gt;) obj;\n\n        if (!(Arrays.equals(this.bytes, inputObj.bytes))) {\n            return false;\n        }\n\n        // Does the following line make any sense ??\n        return this.hashCode() == inputObj.hashCode();\n    }\n</code></pre>\n"},{"tags":["java","mapping","dozer"],"owner":{"account_id":3910638,"reputation":6001,"user_id":3236102,"accept_rate":80,"display_name":"Dakkaron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694621683,"creation_date":1694621683,"question_id":77098820,"body_markdown":"I&#39;ve got two classes, one inheriting from the other\r\n\r\n    class A {\r\n        String s;\r\n    }\r\n    class B extends A {}\r\n\r\nThere are also other classes inheriting from A, but they don&#39;t matter right now.\r\n\r\nFor A and B I have the following mappings:\r\n\r\n    mapping(A.class, A.class, mapNull(false));\r\n    mapping(B.class, B.class, mapNull(true));\r\n\r\nWhat I&#39;d want is if I map A to A, a null value in the source should not be written to the target, so that the target keeps it&#39;s non-null value for the field.\r\n\r\nBut when I map B to B, all null values in the source (even for fields defined in A) should be written to the target, so that the target then also has the non-null value for the field.\r\n\r\nThe first part (`A -&gt; A`) works, but when I map `B -&gt; B`, it behaves like the `A -&gt; A` mapping, not overwriting the fields.\r\n\r\nEssentially, the result is the same as if I didn&#39;t define the second mapping.\r\n\r\nIs there a way to to what I want in Dozer?\r\n\r\nPS: regarding the other classes I mentioned in the beginning, they should still all behave like the `A -&gt; A` mapping.","title":"Dozer mapper: Override mapNull(false) of subclass with mapNull(true) of superclass","body":"<p>I've got two classes, one inheriting from the other</p>\n<pre><code>class A {\n    String s;\n}\nclass B extends A {}\n</code></pre>\n<p>There are also other classes inheriting from A, but they don't matter right now.</p>\n<p>For A and B I have the following mappings:</p>\n<pre><code>mapping(A.class, A.class, mapNull(false));\nmapping(B.class, B.class, mapNull(true));\n</code></pre>\n<p>What I'd want is if I map A to A, a null value in the source should not be written to the target, so that the target keeps it's non-null value for the field.</p>\n<p>But when I map B to B, all null values in the source (even for fields defined in A) should be written to the target, so that the target then also has the non-null value for the field.</p>\n<p>The first part (<code>A -&gt; A</code>) works, but when I map <code>B -&gt; B</code>, it behaves like the <code>A -&gt; A</code> mapping, not overwriting the fields.</p>\n<p>Essentially, the result is the same as if I didn't define the second mapping.</p>\n<p>Is there a way to to what I want in Dozer?</p>\n<p>PS: regarding the other classes I mentioned in the beginning, they should still all behave like the <code>A -&gt; A</code> mapping.</p>\n"},{"tags":["java","android","ip","byte","outputstream"],"owner":{"account_id":18688004,"reputation":11,"user_id":13623052,"display_name":"Pipo Karet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694621652,"creation_date":1694621652,"question_id":77098817,"body_markdown":"I am facing an issue with my APP.\r\n\r\nObjective: It allows configuring the URL of an IP camera and displays what that camera captures on the screen. I need to create a functionality where, when the user presses the button, the application starts recording the video and then saves it to the gallery.\r\n\r\nWhat I have achieved so far: The user can press the button to start recording. The camera is being managed by an external library, and it has a function that calls a callback for each new frame, loading the bytes of that frame. So, I created this code:\r\n\r\n```\r\n@Override\r\npublic void onCameraFrame(CameraFrame frame) {\r\n\r\n    if (this.mCameraRecordingInProgress) {\r\n        try {\r\n            byteArrayOutputStreamVideoData.write(frame.getData());\r\n        } catch (IOException e) {\r\n            Log.e(TAG, e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAfter 15 seconds of recording, it stops and calls this piece of code:\r\n\r\n```\r\npublic void endRecording() {\r\n    if (!this.mCameraRecordingInProgress) {\r\n        return;\r\n    }\r\n\r\n    this.mCameraRecordingInProgress = false;\r\n\r\n    try {\r\n        byteArrayOutputStreamVideoData.close();\r\n        byte[] videoBytes = byteArrayOutputStreamVideoData.toByteArray();\r\n        this.reCreateVideoByBytes(videoBytes);\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the code for the reCreateVideoByBytes(videoBytes) function:\r\n\r\n```\r\npublic void reCreateVideoByBytes(byte[] videoBytes) {\r\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(SEREDUtils.DATE_FORMAT_FILE_NAME);\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n\r\n    stringBuilder.append(mTextViewCamName.getText().toString()).append(SEREDUtils.PREFIX_DATE_INITIAL_FILE).append(simpleDateFormat.format(this.recordingInitDate)).append(SEREDUtils.PREFIX_DATE_END_FILE).append(simpleDateFormat.format(new Date())).append(SEREDUtils.SUFFIX_TYPE_VIDEO);\r\n\r\n    File inputFile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES), stringBuilder.toString());\r\n\r\n    try {\r\n        FileOutputStream fos = new FileOutputStream(inputFile);\r\n        fos.write(videoBytes);\r\n        fos.close();\r\n    } catch (Exception e) {\r\n        Log.e(TAG, e.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nProblem: It is saving the recording to the local file, but the recording seems to be playing at 2x speed, and it always cuts about 8 seconds of the recording. It only shows half of it, even though it&#39;s writing all the frames.","title":"Record Frame by Frame into a byteArrayOutputStreamVideoData and Save to a File","body":"<p>I am facing an issue with my APP.</p>\n<p>Objective: It allows configuring the URL of an IP camera and displays what that camera captures on the screen. I need to create a functionality where, when the user presses the button, the application starts recording the video and then saves it to the gallery.</p>\n<p>What I have achieved so far: The user can press the button to start recording. The camera is being managed by an external library, and it has a function that calls a callback for each new frame, loading the bytes of that frame. So, I created this code:</p>\n<pre><code>@Override\npublic void onCameraFrame(CameraFrame frame) {\n\n    if (this.mCameraRecordingInProgress) {\n        try {\n            byteArrayOutputStreamVideoData.write(frame.getData());\n        } catch (IOException e) {\n            Log.e(TAG, e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>After 15 seconds of recording, it stops and calls this piece of code:</p>\n<pre><code>public void endRecording() {\n    if (!this.mCameraRecordingInProgress) {\n        return;\n    }\n\n    this.mCameraRecordingInProgress = false;\n\n    try {\n        byteArrayOutputStreamVideoData.close();\n        byte[] videoBytes = byteArrayOutputStreamVideoData.toByteArray();\n        this.reCreateVideoByBytes(videoBytes);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>Here's the code for the reCreateVideoByBytes(videoBytes) function:</p>\n<pre><code>public void reCreateVideoByBytes(byte[] videoBytes) {\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(SEREDUtils.DATE_FORMAT_FILE_NAME);\n    StringBuilder stringBuilder = new StringBuilder();\n\n    stringBuilder.append(mTextViewCamName.getText().toString()).append(SEREDUtils.PREFIX_DATE_INITIAL_FILE).append(simpleDateFormat.format(this.recordingInitDate)).append(SEREDUtils.PREFIX_DATE_END_FILE).append(simpleDateFormat.format(new Date())).append(SEREDUtils.SUFFIX_TYPE_VIDEO);\n\n    File inputFile = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES), stringBuilder.toString());\n\n    try {\n        FileOutputStream fos = new FileOutputStream(inputFile);\n        fos.write(videoBytes);\n        fos.close();\n    } catch (Exception e) {\n        Log.e(TAG, e.getMessage());\n    }\n}\n</code></pre>\n<p>Problem: It is saving the recording to the local file, but the recording seems to be playing at 2x speed, and it always cuts about 8 seconds of the recording. It only shows half of it, even though it's writing all the frames.</p>\n"},{"tags":["java","swing","canvas","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694137954,"post_id":77063682,"comment_id":135855178,"body_markdown":"I would by having a look at the [`BufferStrategy` JavaDocs](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/image/BufferStrategy.html), it has a really good example of how you should be using it","body":"I would by having a look at the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/image/BufferStrategy.html\" rel=\"nofollow noreferrer\"><code>BufferStrategy</code> JavaDocs</a>, it has a really good example of how you should be using it"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694138174,"post_id":77063682,"comment_id":135855195,"body_markdown":"This `this.pack();` followed by `gameEngine = new GameEngine(this.getWidth(), this.getHeight());` and `this.add(gameEngine);` is problematic, packing an empty window is basically going to make it assume it&#39;s smallest size, so you&#39;re probably going to get weird results from the `getWidth/Height` calls, probably with one been zero, so, nothing will ever get painted because of it","body":"This <code>this.pack();</code> followed by <code>gameEngine = new GameEngine(this.getWidth(), this.getHeight());</code> and <code>this.add(gameEngine);</code> is problematic, packing an empty window is basically going to make it assume it&#39;s smallest size, so you&#39;re probably going to get weird results from the <code>getWidth&#47;Height</code> calls, probably with one been zero, so, nothing will ever get painted because of it"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694138506,"post_id":77063682,"comment_id":135855213,"body_markdown":"I&#39;d also be worried about `matrix = new String[WIDTH / cellSize][HEIGHT / cellSize];`, which may result in array of `0` length","body":"I&#39;d also be worried about <code>matrix = new String[WIDTH &#47; cellSize][HEIGHT &#47; cellSize];</code>, which may result in array of <code>0</code> length"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694138749,"post_id":77063682,"comment_id":135855227,"body_markdown":"Get rid of `synchronized` on the `start` and `run` methods, this causing no end of issues","body":"Get rid of <code>synchronized</code> on the <code>start</code> and <code>run</code> methods, this causing no end of issues"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694138944,"post_id":77063682,"comment_id":135855240,"body_markdown":"Rather then doing `BufferedImage layer = new BufferedImage` each time `render` is called, I would create a instance once (or every time the window size has changed), otherwise you&#39;re creating a lot of short lived objects which will add a GC overhead which will degrade the performance.  I would also pass the renderable area to `Background` and, again, resize the contents if it changes, otherwise re-use the previous cached values.  Your &quot;main loop&quot; is also free wheeling, which is going to degrade performance.  You will need to add in some kind of `Thread.sleep` call at some point","body":"Rather then doing <code>BufferedImage layer = new BufferedImage</code> each time <code>render</code> is called, I would create a instance once (or every time the window size has changed), otherwise you&#39;re creating a lot of short lived objects which will add a GC overhead which will degrade the performance.  I would also pass the renderable area to <code>Background</code> and, again, resize the contents if it changes, otherwise re-use the previous cached values.  Your &quot;main loop&quot; is also free wheeling, which is going to degrade performance.  You will need to add in some kind of <code>Thread.sleep</code> call at some point"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1694139103,"post_id":77063682,"comment_id":135855250,"body_markdown":"You are doing quite a few things wrong.  First, don&#39;t extend `JFrame`; just use an instance.  Don&#39;t use `Canvas`, use `JPanel`.  And painting should be done in the overridden `paintComponent(Graphics g)` method of `JPanel`  check out the [Java Tutorials](http://docs.oracle.com/javase/tutorial/index.html) section on painting.  You should also check out the Swing [Timer](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/Timer.html) class.","body":"You are doing quite a few things wrong.  First, don&#39;t extend <code>JFrame</code>; just use an instance.  Don&#39;t use <code>Canvas</code>, use <code>JPanel</code>.  And painting should be done in the overridden <code>paintComponent(Graphics g)</code> method of <code>JPanel</code>  check out the <a href=\"http://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">Java Tutorials</a> section on painting.  You should also check out the Swing <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">Timer</a> class."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694139349,"post_id":77063682,"comment_id":135855260,"body_markdown":"@WJS - There&#39;s nothing &quot;wrong&quot; with using `Canvas` in this way, assuming you want to make use of the low level APIs and control the rendering process (ie make your own &quot;main loop&quot;), but that&#39;s contextual to the desired results &#129335;ââï¸","body":"@WJS - There&#39;s nothing &quot;wrong&quot; with using <code>Canvas</code> in this way, assuming you want to make use of the low level APIs and control the rendering process (ie make your own &quot;main loop&quot;), but that&#39;s contextual to the desired results ð¤·ââï¸"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1694139540,"post_id":77063682,"comment_id":135855267,"body_markdown":"@MadProgrammer Well, everything I have read says it is antiquated, And I have never needed it when doing graphics.  But I will yield to the expert. BTW, the API says the paint method must be overridden when doing custom graphics.  Yet I see no `paint` method.","body":"@MadProgrammer Well, everything I have read says it is antiquated, And I have never needed it when doing graphics.  But I will yield to the expert. BTW, the API says the paint method must be overridden when doing custom graphics.  Yet I see no <code>paint</code> method."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1694140314,"post_id":77063682,"comment_id":135855317,"body_markdown":"@WJS `BufferStrategy` gives you direct access to control over the paint pipeline, rather then relying on Swing&#39;s paint pipeline.  So, in this case, you become responsible for scheduling the paint passes, hence the &quot;main loop&quot; thread and `render` methods.  You&#39;re also not tied to the Event Dispatching Thread, which is another added complication, but what it does is it gives you access to the &quot;lowest level&quot; possible access to the rendering pipeline Java provides (closest to the metal), so it&#39;s generally used for &quot;high performance&quot; output - so again, it comes down to what you want to achieve.","body":"@WJS <code>BufferStrategy</code> gives you direct access to control over the paint pipeline, rather then relying on Swing&#39;s paint pipeline.  So, in this case, you become responsible for scheduling the paint passes, hence the &quot;main loop&quot; thread and <code>render</code> methods.  You&#39;re also not tied to the Event Dispatching Thread, which is another added complication, but what it does is it gives you access to the &quot;lowest level&quot; possible access to the rendering pipeline Java provides (closest to the metal), so it&#39;s generally used for &quot;high performance&quot; output - so again, it comes down to what you want to achieve."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694140354,"post_id":77063682,"comment_id":135855320,"body_markdown":"@WJS I, personally, would start with a `JPanel` and Swing `Timer`, if that wasn&#39;t giving me the performance I needed, then I&#39;d consider a `BufferStrategy`","body":"@WJS I, personally, would start with a <code>JPanel</code> and Swing <code>Timer</code>, if that wasn&#39;t giving me the performance I needed, then I&#39;d consider a <code>BufferStrategy</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1694140876,"post_id":77063682,"comment_id":135855357,"body_markdown":"@MadProgrammer.  Interesting.  Did not know that about Canvas.  Thanks for the education.","body":"@MadProgrammer.  Interesting.  Did not know that about Canvas.  Thanks for the education."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694141273,"post_id":77063682,"comment_id":135855385,"body_markdown":"But still, but still, it&#39;s pure *AWT*, technology from 1995 that was superseded Swing a few years later, and then superseded yet again by JavaFX in 2018.","body":"But still, but still, it&#39;s pure <i>AWT</i>, technology from 1995 that was superseded Swing a few years later, and then superseded yet again by JavaFX in 2018."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694141477,"post_id":77063682,"comment_id":135855406,"body_markdown":"@HovercraftFullOfEels Well, you could just make use of the OpenGL bindings for Java ... if you really want some pain &#129315; - and all the trouble I&#39;ve had getting JavaFX just to work &#128545; (oh, and interestingly, Swing came first (or at least the core idea/concepts), but Netscape insisted that the API make use of native components, so they wrote AWT/released before it)","body":"@HovercraftFullOfEels Well, you could just make use of the OpenGL bindings for Java ... if you really want some pain ð¤£ - and all the trouble I&#39;ve had getting JavaFX just to work ð¡ (oh, and interestingly, Swing came first (or at least the core idea/concepts), but Netscape insisted that the API make use of native components, so they wrote AWT/released before it)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1694141580,"post_id":77063682,"comment_id":135855411,"body_markdown":"@MadProgrammer: I haven&#39;t seen that mentioned in quite a while. To be honest, I&#39;ve been spending more of my time in JSS/CSS/HTML land, and all the myriad libraries and frameworks there.","body":"@MadProgrammer: I haven&#39;t seen that mentioned in quite a while. To be honest, I&#39;ve been spending more of my time in JSS/CSS/HTML land, and all the myriad libraries and frameworks there."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694141646,"post_id":77063682,"comment_id":135855415,"body_markdown":"@HovercraftFullOfEels Oh wow, you really like pain &#129315;&#128540;","body":"@HovercraftFullOfEels Oh wow, you really like pain ð¤£ð"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694140064,"creation_date":1694140064,"answer_id":77063804,"question_id":77063682,"body_markdown":"This...\r\n\r\n    public GameFrame () {\r\n        this.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        this.setUndecorated(true);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.pack();\r\n        this.setVisible(true); \r\n        this.setBackground(Color.BLACK);\r\n        \r\n        gameEngine = new GameEngine(this.getWidth(), this.getHeight());\r\n        this.add(gameEngine);\r\n        gameEngine.start();\r\n    }\r\n\r\nis problematic on a number of levels.\r\n\r\nFirst, you maximize the window, then you call `pack` which will cause the window to &quot;pack&quot; itself around the preferred size of it&#39;s content, you&#39;ve not added anything to the window yet, so it&#39;s likely to size to `0x0` (because you&#39;ve removed the window decorations).  So when you call `getWidth`/`getHeight`, you&#39;re likely getting one or both to return `0`.\r\n\r\nFor me...\r\n\r\n    public synchronized void start () {\r\n        //...\r\n    }\r\n\r\n    @Override\r\n    public synchronized void run() {\r\n        //...\r\n    }\r\n\r\n`synchronized` was causing no end of issues, basically locked up the entire window.  I can&#39;t see how `run` needs to be `synchronized` anyway, doesn&#39;t really make sense to me.\r\n\r\nWhile on the subject, your &quot;main loop&quot; is free wheeling, this is a bad idea as it will consume all your CPU cycles and prevent anything else from getting done (thread starvation).  You should put a small `Thread.sleep` call in to allow other threads to be scheduled to run.\r\n\r\nThis...\r\n\r\n    private void render() {\r\n        // Get buffer strategy\r\n        BufferStrategy bs = this.getBufferStrategy();\r\n        if (bs == null) {\r\n            this.createBufferStrategy(3);\r\n            return;\r\n        }\r\n        // Init layer\r\n        BufferedImage layer = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D g = layer.createGraphics();\r\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        // Render game\r\n        background.render(g);\r\n        // Draw Graphics\r\n        g = (Graphics2D) bs.getDrawGraphics();\r\n        g.drawImage(layer, 0, 0, WIDTH, HEIGHT, null);\r\n        // show\r\n        bs.show();\r\n    }\r\n\r\nis unoptimised.  You&#39;re creating a short lived `BufferedImage`, this is going to place strain on the garbage collection process and will have a degrading impact on your programs performance.  You&#39;re also creating two `Graphics` contexts but are never disposing of them.\r\n\r\nInstead, I would create a instance field and initialise the `BufferedImage` when it&#39;s need (ie is `nil` or the size of the window changes)\r\n\r\nYou should also have a read of the [BufferStrategy JavaDocs](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/image/BufferStrategy.html) as it has an excellent example of how you should be using `BufferStrategy`.\r\n\r\nI don&#39;t think there is any need to pass the `width` and `height` to the `Background` via it&#39;s constructor, you&#39;d be better passing it to the `render` method, this way you have a better chance of responding to window size changes.\r\n\r\n`BufferStrategy` is a low level API and unless you absolutely must have control of the rendering pipeline and need to be as close to &quot;metal&quot; as you can get in Java, I would consider, instead, staring with a `JPanel` and overriding it&#39;s `paintComponent` method and then using a Swing `Timer` as the main rendering loop.\r\n\r\nIf that&#39;s not giving your the performance level you desire, then I&#39;d consider \r\nusing a `BufferStrategy` \r\n\r\n# Possible runnable example...\r\n\r\n    import java.awt.Canvas;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferStrategy;\r\n    import java.awt.image.BufferedImage;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JFrame;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    GameEngine engine = new GameEngine(100, 100);\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(engine);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n\r\n                    engine.start();\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GameEngine extends Canvas implements Runnable {\r\n            // Loop tools\r\n            private Thread thread;\r\n            private Boolean isRunning;\r\n            // Game attributes\r\n            private final int targetWidth, targetHeight;\r\n            // Game elements\r\n            private Background background;\r\n\r\n            public GameEngine(int width, int height) {\r\n                this.targetWidth = width;\r\n                this.targetHeight = height;\r\n                background = new Background();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(targetWidth, targetHeight);\r\n            }\r\n\r\n            private void tick() {\r\n                background.tick();\r\n            }\r\n\r\n            private BufferedImage layer;\r\n\r\n            private void render() {\r\n                // Get buffer strategy\r\n                BufferStrategy bs = this.getBufferStrategy();\r\n                if (bs == null) {\r\n                    this.createBufferStrategy(3);\r\n                    return;\r\n                }\r\n\r\n                if (layer == null || layer.getWidth() != getWidth() || layer.getHeight() != getHeight()) {\r\n                    layer = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_RGB);\r\n                }\r\n                Graphics layerGraphics = layer.createGraphics();\r\n                background.render(layerGraphics, getWidth(), getHeight());\r\n                layerGraphics.dispose();\r\n                do {\r\n                    // The following loop ensures that the contents of the drawing buffer\r\n                    // are consistent in case the underlying surface was recreated\r\n                    do {\r\n                        // Get a new graphics context every time through the loop\r\n                        // to make sure the strategy is validated\r\n                        Graphics graphics = bs.getDrawGraphics();\r\n\r\n                        // Render to graphics\r\n                        graphics.drawImage(layer, 0, 0, this);\r\n                        // Dispose the graphics\r\n                        graphics.dispose();\r\n\r\n                        // Repeat the rendering if the drawing buffer contents\r\n                        // were restored\r\n                    } while (bs.contentsRestored());\r\n\r\n                    // Display the buffer\r\n                    bs.show();\r\n\r\n                    // Repeat the rendering if the drawing buffer was lost\r\n                } while (bs.contentsLost());\r\n            }\r\n\r\n            public void start() {\r\n                thread = new Thread(this);\r\n                isRunning = true;\r\n                thread.start();\r\n            }\r\n\r\n            @Override\r\n            public void run() {\r\n                // Tools for the main loop\r\n                double desiredFPS = 60;\r\n                double nanoInterval = 1e9 / desiredFPS;\r\n                long lastTime = System.nanoTime();\r\n                long delta;\r\n                // Main loop\r\n                while (isRunning) {\r\n                    delta = System.nanoTime() - lastTime;\r\n                    if (delta &gt;= nanoInterval) {\r\n                        lastTime = System.nanoTime();\r\n                        // tick and render\r\n                        tick();\r\n                        render();\r\n                    }\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        public class Background {\r\n            private static final int cellSize = 10;\r\n            private String[][] matrix;\r\n\r\n            public Background() {\r\n            }\r\n\r\n            public void tick() {\r\n\r\n            }\r\n\r\n            public void render(Graphics g, int width, int height) {\r\n                // render back background\r\n                if (matrix == null || matrix.length == 0 || matrix.length != width || matrix[0].length != height) {\r\n                    matrix = new String[width / cellSize][height / cellSize];\r\n                    for (int i = 0; i &lt; matrix.length; i++) {\r\n                        for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                            matrix[i][j] = &quot;0&quot;;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                g.setColor(Color.BLACK);\r\n                g.fillRect(0, 0, width, height);\r\n                // render background\r\n                g.setColor(Color.GREEN);\r\n                for (int i = 0; i &lt; matrix.length; i++) {\r\n                    for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                        g.drawString(matrix[i][j], i * cellSize, j * cellSize + cellSize);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Canvas render sometimes and doesn&#39;t render other times","body":"<p>This...</p>\n<pre><code>public GameFrame () {\n    this.setExtendedState(JFrame.MAXIMIZED_BOTH);\n    this.setUndecorated(true);\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.pack();\n    this.setVisible(true); \n    this.setBackground(Color.BLACK);\n    \n    gameEngine = new GameEngine(this.getWidth(), this.getHeight());\n    this.add(gameEngine);\n    gameEngine.start();\n}\n</code></pre>\n<p>is problematic on a number of levels.</p>\n<p>First, you maximize the window, then you call <code>pack</code> which will cause the window to &quot;pack&quot; itself around the preferred size of it's content, you've not added anything to the window yet, so it's likely to size to <code>0x0</code> (because you've removed the window decorations).  So when you call <code>getWidth</code>/<code>getHeight</code>, you're likely getting one or both to return <code>0</code>.</p>\n<p>For me...</p>\n<pre><code>public synchronized void start () {\n    //...\n}\n\n@Override\npublic synchronized void run() {\n    //...\n}\n</code></pre>\n<p><code>synchronized</code> was causing no end of issues, basically locked up the entire window.  I can't see how <code>run</code> needs to be <code>synchronized</code> anyway, doesn't really make sense to me.</p>\n<p>While on the subject, your &quot;main loop&quot; is free wheeling, this is a bad idea as it will consume all your CPU cycles and prevent anything else from getting done (thread starvation).  You should put a small <code>Thread.sleep</code> call in to allow other threads to be scheduled to run.</p>\n<p>This...</p>\n<pre><code>private void render() {\n    // Get buffer strategy\n    BufferStrategy bs = this.getBufferStrategy();\n    if (bs == null) {\n        this.createBufferStrategy(3);\n        return;\n    }\n    // Init layer\n    BufferedImage layer = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\n    Graphics2D g = layer.createGraphics();\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    // Render game\n    background.render(g);\n    // Draw Graphics\n    g = (Graphics2D) bs.getDrawGraphics();\n    g.drawImage(layer, 0, 0, WIDTH, HEIGHT, null);\n    // show\n    bs.show();\n}\n</code></pre>\n<p>is unoptimised.  You're creating a short lived <code>BufferedImage</code>, this is going to place strain on the garbage collection process and will have a degrading impact on your programs performance.  You're also creating two <code>Graphics</code> contexts but are never disposing of them.</p>\n<p>Instead, I would create a instance field and initialise the <code>BufferedImage</code> when it's need (ie is <code>nil</code> or the size of the window changes)</p>\n<p>You should also have a read of the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/image/BufferStrategy.html\" rel=\"nofollow noreferrer\">BufferStrategy JavaDocs</a> as it has an excellent example of how you should be using <code>BufferStrategy</code>.</p>\n<p>I don't think there is any need to pass the <code>width</code> and <code>height</code> to the <code>Background</code> via it's constructor, you'd be better passing it to the <code>render</code> method, this way you have a better chance of responding to window size changes.</p>\n<p><code>BufferStrategy</code> is a low level API and unless you absolutely must have control of the rendering pipeline and need to be as close to &quot;metal&quot; as you can get in Java, I would consider, instead, staring with a <code>JPanel</code> and overriding it's <code>paintComponent</code> method and then using a Swing <code>Timer</code> as the main rendering loop.</p>\n<p>If that's not giving your the performance level you desire, then I'd consider\nusing a <code>BufferStrategy</code></p>\n<h1>Possible runnable example...</h1>\n<pre><code>import java.awt.Canvas;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.image.BufferStrategy;\nimport java.awt.image.BufferedImage;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JFrame;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                GameEngine engine = new GameEngine(100, 100);\n                JFrame frame = new JFrame();\n                frame.add(engine);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n\n                engine.start();\n            }\n        });\n    }\n\n    public class GameEngine extends Canvas implements Runnable {\n        // Loop tools\n        private Thread thread;\n        private Boolean isRunning;\n        // Game attributes\n        private final int targetWidth, targetHeight;\n        // Game elements\n        private Background background;\n\n        public GameEngine(int width, int height) {\n            this.targetWidth = width;\n            this.targetHeight = height;\n            background = new Background();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(targetWidth, targetHeight);\n        }\n\n        private void tick() {\n            background.tick();\n        }\n\n        private BufferedImage layer;\n\n        private void render() {\n            // Get buffer strategy\n            BufferStrategy bs = this.getBufferStrategy();\n            if (bs == null) {\n                this.createBufferStrategy(3);\n                return;\n            }\n\n            if (layer == null || layer.getWidth() != getWidth() || layer.getHeight() != getHeight()) {\n                layer = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_RGB);\n            }\n            Graphics layerGraphics = layer.createGraphics();\n            background.render(layerGraphics, getWidth(), getHeight());\n            layerGraphics.dispose();\n            do {\n                // The following loop ensures that the contents of the drawing buffer\n                // are consistent in case the underlying surface was recreated\n                do {\n                    // Get a new graphics context every time through the loop\n                    // to make sure the strategy is validated\n                    Graphics graphics = bs.getDrawGraphics();\n\n                    // Render to graphics\n                    graphics.drawImage(layer, 0, 0, this);\n                    // Dispose the graphics\n                    graphics.dispose();\n\n                    // Repeat the rendering if the drawing buffer contents\n                    // were restored\n                } while (bs.contentsRestored());\n\n                // Display the buffer\n                bs.show();\n\n                // Repeat the rendering if the drawing buffer was lost\n            } while (bs.contentsLost());\n        }\n\n        public void start() {\n            thread = new Thread(this);\n            isRunning = true;\n            thread.start();\n        }\n\n        @Override\n        public void run() {\n            // Tools for the main loop\n            double desiredFPS = 60;\n            double nanoInterval = 1e9 / desiredFPS;\n            long lastTime = System.nanoTime();\n            long delta;\n            // Main loop\n            while (isRunning) {\n                delta = System.nanoTime() - lastTime;\n                if (delta &gt;= nanoInterval) {\n                    lastTime = System.nanoTime();\n                    // tick and render\n                    tick();\n                    render();\n                }\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        }\n\n    }\n\n    public class Background {\n        private static final int cellSize = 10;\n        private String[][] matrix;\n\n        public Background() {\n        }\n\n        public void tick() {\n\n        }\n\n        public void render(Graphics g, int width, int height) {\n            // render back background\n            if (matrix == null || matrix.length == 0 || matrix.length != width || matrix[0].length != height) {\n                matrix = new String[width / cellSize][height / cellSize];\n                for (int i = 0; i &lt; matrix.length; i++) {\n                    for (int j = 0; j &lt; matrix[i].length; j++) {\n                        matrix[i][j] = &quot;0&quot;;\n                    }\n                }\n            }\n\n            g.setColor(Color.BLACK);\n            g.fillRect(0, 0, width, height);\n            // render background\n            g.setColor(Color.GREEN);\n            for (int i = 0; i &lt; matrix.length; i++) {\n                for (int j = 0; j &lt; matrix[i].length; j++) {\n                    g.drawString(matrix[i][j], i * cellSize, j * cellSize + cellSize);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17952665,"reputation":76,"user_id":13045462,"display_name":"Rafael Silva"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694621112,"creation_date":1694137372,"question_id":77063682,"body_markdown":"It is not completely random, at some point in my code I create a matrix, the smaller the matrix, the higher the chances of the canvas rendering normally. Even if I completely remove the matrix it sometimes won&#39;t render and show me a white screen.\r\n\r\nHere is the code in case anyone wants to try:\r\n\r\n# Game Frame\r\n```java\r\npackage com.GameLearning.main;\r\n\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\n\r\npublic class GameFrame extends JFrame {\r\n    public static JFrame frame;\r\n    public static JPanel panel;\r\n    private static GameEngine gameEngine;\r\n\r\n    public GameFrame () {\r\n        this.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        this.setUndecorated(true);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.pack();\r\n        this.setVisible(true); \r\n        this.setBackground(Color.BLACK);\r\n        \r\n        gameEngine = new GameEngine(this.getWidth(), this.getHeight());\r\n        this.add(gameEngine);\r\n        gameEngine.start();\r\n    }\r\n\r\n    public static void main (String[] args) {\r\n        frame = new GameFrame();\r\n    }\r\n}\r\n```\r\n\r\n# Game Engine\r\n```java\r\npackage com.GameLearning.main;\r\n\r\nimport java.awt.Canvas;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.image.BufferStrategy;\r\nimport java.awt.image.BufferedImage;\r\n\r\npublic class GameEngine extends Canvas implements Runnable{\r\n    // Loop tools\r\n    private Thread thread;\r\n    private Boolean isRunning;\r\n    // Game attributes\r\n    private final int WIDTH, HEIGHT;\r\n    // Game elements\r\n    private Background background;\r\n\r\n    public GameEngine (int WIDTH, int HEIGHT) {\r\n        this.WIDTH = WIDTH;\r\n        this.HEIGHT = HEIGHT;\r\n\r\n        background = new Background(0, 0, WIDTH, HEIGHT);\r\n    }\r\n\r\n    private void tick() {\r\n        background.tick();\r\n    }\r\n\r\n    private void render() {\r\n        // Get buffer strategy\r\n        BufferStrategy bs = this.getBufferStrategy();\r\n        if (bs == null) {\r\n            this.createBufferStrategy(3);\r\n            return;\r\n        }\r\n        // Init layer\r\n        BufferedImage layer = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D g = layer.createGraphics();\r\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        // Render game\r\n        background.render(g);\r\n        // Draw Graphics\r\n        g = (Graphics2D) bs.getDrawGraphics();\r\n        g.drawImage(layer, 0, 0, WIDTH, HEIGHT, null);\r\n        // show\r\n        bs.show();\r\n    }\r\n\r\n    public synchronized void start () {\r\n        thread = new Thread(this);\r\n        isRunning = true;\r\n        thread.start();\r\n    }\r\n\r\n    @Override\r\n    public synchronized void run() {\r\n        // Tools for the main loop\r\n        double desiredFPS = 60;\r\n        double nanoInterval = 1e9 / desiredFPS;\r\n        long lastTime = System.nanoTime();\r\n        long delta;\r\n        // Main loop\r\n        while (isRunning) {\r\n            delta = System.nanoTime() - lastTime;\r\n            if (delta &gt;= nanoInterval) {\r\n                lastTime = System.nanoTime();\r\n                // tick and render\r\n                tick();\r\n                render();\r\n            }\r\n        }        \r\n    }\r\n\r\n}\r\n```\r\n\r\n# Background\r\n```java\r\npackage com.GameLearning.main;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\n\r\n\r\npublic class Background {\r\n    private static final int cellSize = 10;\r\n    private int x, y, WIDTH, HEIGHT;\r\n    private String[][] matrix;\r\n\r\n    public Background (int x, int y, int WIDTH, int HEIGHT) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.WIDTH = WIDTH;\r\n        this.HEIGHT = HEIGHT;\r\n         \r\n        matrix = new String[WIDTH / cellSize][HEIGHT / cellSize];\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                matrix[i][j] = &quot;0&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n    public void tick () {\r\n\r\n    }\r\n\r\n    public void render(Graphics g) {\r\n        // render back background\r\n        g.setColor(Color.BLACK);\r\n        g.fillRect(x, y, WIDTH, HEIGHT);\r\n        // render background\r\n        g.setColor(Color.GREEN);\r\n        for (int i = 0; i &lt; matrix.length; i++) {\r\n            for (int j = 0; j &lt; matrix[i].length; j++) {\r\n                g.drawString(matrix[i][j], i * cellSize, j * cellSize + cellSize);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nThe background is where I create the matrix, increasing the cellSize reduces the size of the matrix, increasing the chances of the canvas render (but not providing me the results I want)","title":"Canvas render sometimes and doesn&#39;t render other times","body":"<p>It is not completely random, at some point in my code I create a matrix, the smaller the matrix, the higher the chances of the canvas rendering normally. Even if I completely remove the matrix it sometimes won't render and show me a white screen.</p>\n<p>Here is the code in case anyone wants to try:</p>\n<h1>Game Frame</h1>\n<pre class=\"lang-java prettyprint-override\"><code>package com.GameLearning.main;\n\nimport java.awt.Color;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n\npublic class GameFrame extends JFrame {\n    public static JFrame frame;\n    public static JPanel panel;\n    private static GameEngine gameEngine;\n\n    public GameFrame () {\n        this.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        this.setUndecorated(true);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.pack();\n        this.setVisible(true); \n        this.setBackground(Color.BLACK);\n        \n        gameEngine = new GameEngine(this.getWidth(), this.getHeight());\n        this.add(gameEngine);\n        gameEngine.start();\n    }\n\n    public static void main (String[] args) {\n        frame = new GameFrame();\n    }\n}\n</code></pre>\n<h1>Game Engine</h1>\n<pre class=\"lang-java prettyprint-override\"><code>package com.GameLearning.main;\n\nimport java.awt.Canvas;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferStrategy;\nimport java.awt.image.BufferedImage;\n\npublic class GameEngine extends Canvas implements Runnable{\n    // Loop tools\n    private Thread thread;\n    private Boolean isRunning;\n    // Game attributes\n    private final int WIDTH, HEIGHT;\n    // Game elements\n    private Background background;\n\n    public GameEngine (int WIDTH, int HEIGHT) {\n        this.WIDTH = WIDTH;\n        this.HEIGHT = HEIGHT;\n\n        background = new Background(0, 0, WIDTH, HEIGHT);\n    }\n\n    private void tick() {\n        background.tick();\n    }\n\n    private void render() {\n        // Get buffer strategy\n        BufferStrategy bs = this.getBufferStrategy();\n        if (bs == null) {\n            this.createBufferStrategy(3);\n            return;\n        }\n        // Init layer\n        BufferedImage layer = new BufferedImage(WIDTH, HEIGHT, BufferedImage.TYPE_INT_RGB);\n        Graphics2D g = layer.createGraphics();\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        // Render game\n        background.render(g);\n        // Draw Graphics\n        g = (Graphics2D) bs.getDrawGraphics();\n        g.drawImage(layer, 0, 0, WIDTH, HEIGHT, null);\n        // show\n        bs.show();\n    }\n\n    public synchronized void start () {\n        thread = new Thread(this);\n        isRunning = true;\n        thread.start();\n    }\n\n    @Override\n    public synchronized void run() {\n        // Tools for the main loop\n        double desiredFPS = 60;\n        double nanoInterval = 1e9 / desiredFPS;\n        long lastTime = System.nanoTime();\n        long delta;\n        // Main loop\n        while (isRunning) {\n            delta = System.nanoTime() - lastTime;\n            if (delta &gt;= nanoInterval) {\n                lastTime = System.nanoTime();\n                // tick and render\n                tick();\n                render();\n            }\n        }        \n    }\n\n}\n</code></pre>\n<h1>Background</h1>\n<pre class=\"lang-java prettyprint-override\"><code>package com.GameLearning.main;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\n\n\npublic class Background {\n    private static final int cellSize = 10;\n    private int x, y, WIDTH, HEIGHT;\n    private String[][] matrix;\n\n    public Background (int x, int y, int WIDTH, int HEIGHT) {\n        this.x = x;\n        this.y = y;\n        this.WIDTH = WIDTH;\n        this.HEIGHT = HEIGHT;\n         \n        matrix = new String[WIDTH / cellSize][HEIGHT / cellSize];\n        for (int i = 0; i &lt; matrix.length; i++) {\n            for (int j = 0; j &lt; matrix[i].length; j++) {\n                matrix[i][j] = &quot;0&quot;;\n            }\n        }\n    }\n\n    public void tick () {\n\n    }\n\n    public void render(Graphics g) {\n        // render back background\n        g.setColor(Color.BLACK);\n        g.fillRect(x, y, WIDTH, HEIGHT);\n        // render background\n        g.setColor(Color.GREEN);\n        for (int i = 0; i &lt; matrix.length; i++) {\n            for (int j = 0; j &lt; matrix[i].length; j++) {\n                g.drawString(matrix[i][j], i * cellSize, j * cellSize + cellSize);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The background is where I create the matrix, increasing the cellSize reduces the size of the matrix, increasing the chances of the canvas render (but not providing me the results I want)</p>\n"},{"tags":["java","android","reflection","material-design"],"owner":{"account_id":14266486,"reputation":4054,"user_id":10305444,"display_name":"Maifee Ul Asad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694620968,"creation_date":1694620968,"question_id":77098733,"body_markdown":"I&#39;m trying to change the font size of the label / hint of `TextInputLayout`. As it has a property `collapsingTextHelper` where it holds all data related to font of label / hint, accessing it, would solve the problem. But it&#39;s private. So I&#39;m trying to use reflect.\r\n\r\nRelavent code:\r\n```\r\nField field = TextInputLayout.class.getDeclaredField(&quot;collapsingTextHelper&quot;);\r\n                field.setAccessible(true);\r\n                Object collapsingTextHelper = field.get(this);\r\n\r\n                Field expandedTextSizeField = collapsingTextHelper.getClass().getDeclaredField(&quot;expandedTextSize&quot;);\r\n                Field collapsedTextSizeField = collapsingTextHelper.getClass().getDeclaredField(&quot;collapsedTextSize&quot;);\r\n\r\n                expandedTextSizeField.setAccessible(true);\r\n                expandedTextSizeField.setFloat(collapsingTextHelper, mainHintTextSize);\r\n                collapsedTextSizeField.setAccessible(true);\r\n                collapsedTextSizeField.setFloat(collapsingTextHelper, mainHintTextSize);\r\n```\r\n\r\nHere is my full code:\r\n```\r\n\r\npublic class CustomTextInputLayout extends TextInputLayout {\r\n    private final float mainHintTextSize = 24;\r\n\r\n    public CustomTextInputLayout(@NonNull Context context) {\r\n        super(context);\r\n    }\r\n\r\n    public CustomTextInputLayout(@NonNull Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n    }\r\n\r\n    public CustomTextInputLayout(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n\r\n        TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.CustomTextInputLayout);\r\n//        mainHintTextSize = a.getDimensionPixelSize(R.styleable.CustomTextInputLayout_mainHintTextSize, 0);\r\n        a.recycle();\r\n    }\r\n\r\n    @Override\r\n    public void addView(@NonNull View child, int index, @NonNull ViewGroup.LayoutParams params) {\r\n        super.addView(child, index, params);\r\n        if (child instanceof EditText) {\r\n            try {\r\n                Field field = TextInputLayout.class.getDeclaredField(&quot;collapsingTextHelper&quot;);\r\n                field.setAccessible(true);\r\n                Object collapsingTextHelper = field.get(this);\r\n\r\n                Field expandedTextSizeField = collapsingTextHelper.getClass().getDeclaredField(&quot;expandedTextSize&quot;);\r\n                Field collapsedTextSizeField = collapsingTextHelper.getClass().getDeclaredField(&quot;collapsedTextSize&quot;);\r\n\r\n                expandedTextSizeField.setAccessible(true);\r\n                expandedTextSizeField.setFloat(collapsingTextHelper, mainHintTextSize);\r\n                collapsedTextSizeField.setAccessible(true);\r\n                collapsedTextSizeField.setFloat(collapsingTextHelper, mainHintTextSize);\r\n\r\n            } catch (NoSuchFieldException | IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    public float getMainHintTextSize() {\r\n        return mainHintTextSize;\r\n    }\r\n\r\n    public void setMainHintTextSize(float size) {\r\n        if (getEditText() != null) {\r\n            throw new IllegalStateException(&quot;Hint text size must be set before EditText is added&quot;);\r\n        }\r\n\r\n//        mainHintTextSize = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_SP, size, getResources().getDisplayMetrics());\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd it doesn&#39;t raise any error.\r\n\r\nBut even the code has been executed, it doesn&#39;t change the font size of the collapsed text.","title":"Trying to override the font size of label of the TextInputLayout, using reflection","body":"<p>I'm trying to change the font size of the label / hint of <code>TextInputLayout</code>. As it has a property <code>collapsingTextHelper</code> where it holds all data related to font of label / hint, accessing it, would solve the problem. But it's private. So I'm trying to use reflect.</p>\n<p>Relavent code:</p>\n<pre><code>Field field = TextInputLayout.class.getDeclaredField(&quot;collapsingTextHelper&quot;);\n                field.setAccessible(true);\n                Object collapsingTextHelper = field.get(this);\n\n                Field expandedTextSizeField = collapsingTextHelper.getClass().getDeclaredField(&quot;expandedTextSize&quot;);\n                Field collapsedTextSizeField = collapsingTextHelper.getClass().getDeclaredField(&quot;collapsedTextSize&quot;);\n\n                expandedTextSizeField.setAccessible(true);\n                expandedTextSizeField.setFloat(collapsingTextHelper, mainHintTextSize);\n                collapsedTextSizeField.setAccessible(true);\n                collapsedTextSizeField.setFloat(collapsingTextHelper, mainHintTextSize);\n</code></pre>\n<p>Here is my full code:</p>\n<pre><code>\npublic class CustomTextInputLayout extends TextInputLayout {\n    private final float mainHintTextSize = 24;\n\n    public CustomTextInputLayout(@NonNull Context context) {\n        super(context);\n    }\n\n    public CustomTextInputLayout(@NonNull Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public CustomTextInputLayout(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n\n        TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.CustomTextInputLayout);\n//        mainHintTextSize = a.getDimensionPixelSize(R.styleable.CustomTextInputLayout_mainHintTextSize, 0);\n        a.recycle();\n    }\n\n    @Override\n    public void addView(@NonNull View child, int index, @NonNull ViewGroup.LayoutParams params) {\n        super.addView(child, index, params);\n        if (child instanceof EditText) {\n            try {\n                Field field = TextInputLayout.class.getDeclaredField(&quot;collapsingTextHelper&quot;);\n                field.setAccessible(true);\n                Object collapsingTextHelper = field.get(this);\n\n                Field expandedTextSizeField = collapsingTextHelper.getClass().getDeclaredField(&quot;expandedTextSize&quot;);\n                Field collapsedTextSizeField = collapsingTextHelper.getClass().getDeclaredField(&quot;collapsedTextSize&quot;);\n\n                expandedTextSizeField.setAccessible(true);\n                expandedTextSizeField.setFloat(collapsingTextHelper, mainHintTextSize);\n                collapsedTextSizeField.setAccessible(true);\n                collapsedTextSizeField.setFloat(collapsingTextHelper, mainHintTextSize);\n\n            } catch (NoSuchFieldException | IllegalAccessException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public float getMainHintTextSize() {\n        return mainHintTextSize;\n    }\n\n    public void setMainHintTextSize(float size) {\n        if (getEditText() != null) {\n            throw new IllegalStateException(&quot;Hint text size must be set before EditText is added&quot;);\n        }\n\n//        mainHintTextSize = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_SP, size, getResources().getDisplayMetrics());\n    }\n}\n\n</code></pre>\n<p>And it doesn't raise any error.</p>\n<p>But even the code has been executed, it doesn't change the font size of the collapsed text.</p>\n"},{"tags":["java","oracle","google-cloud-dataflow","apache-beam","avro"],"owner":{"account_id":11959487,"reputation":1,"user_id":8750893,"display_name":"pijars"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694620968,"creation_date":1694605990,"question_id":77096836,"body_markdown":"I use Apache Beam 2.49. I have to get data from Oracle database and save it in Avro file on Google Cloud Storage. I know how to get this data, schema and generate `GenericRecord` from Oracle but I have problem with use this schema during saving to Avro:\r\n\r\n\r\n    PCollection&lt;GenericRecord&gt; inputData = inputData.applay(&quot;Write to Avro&quot;, AvroIO.writeGenericRecords(SCHEMA)\r\n                        .to(inputOptions.getOutputPath())\r\n                        .withSuffix(&quot;.avro&quot;)\r\n                        .withoutSharding()\r\n                        .withCodec(CodecFactory.snappyCodec())\r\n                        .withNumShards(1))\r\n\r\n\r\nI tried to get Schema from `GenericRecord` to `PCollectionView` but I don&#39;t know how can I use it during writing:\r\n\r\n\r\n    PCollectionView&lt;Schema&gt; schemaView = parsedData.apply(&quot;Prepare Schema&quot;, Sample.any(1))\r\n                .apply(&quot;Add schema to memory&quot;,\r\n                        MapElements.into(TypeDescriptor.of(Schema.class))\r\n                                .via((GenericRecord record) -&gt; record.getSchema()))\r\n                .apply(View.asSingleton());\r\n\r\nSecond thing which I tried was save schema to file and read it before saving `Schema schema  =  readSchemaFromGCS()`\r\nand use it but then I have two ways in job so creating file wasn&#39;t waiting for saving schema. \r\nI can&#39;t use `Wait.on(previousStep)` because `TextIO.write()` output type is `PDone`.\r\nAnyone know how to use schema from `GenericRecord` generated during job in one pipeline? \r\nCreating to separate pipelines doesn&#39;t satisfy me.","title":"Use Avro schema generated during the process in writing operation to Avro file in Apache Beam pipeline/Java","body":"<p>I use Apache Beam 2.49. I have to get data from Oracle database and save it in Avro file on Google Cloud Storage. I know how to get this data, schema and generate <code>GenericRecord</code> from Oracle but I have problem with use this schema during saving to Avro:</p>\n<pre><code>PCollection&lt;GenericRecord&gt; inputData = inputData.applay(&quot;Write to Avro&quot;, AvroIO.writeGenericRecords(SCHEMA)\n                    .to(inputOptions.getOutputPath())\n                    .withSuffix(&quot;.avro&quot;)\n                    .withoutSharding()\n                    .withCodec(CodecFactory.snappyCodec())\n                    .withNumShards(1))\n</code></pre>\n<p>I tried to get Schema from <code>GenericRecord</code> to <code>PCollectionView</code> but I don't know how can I use it during writing:</p>\n<pre><code>PCollectionView&lt;Schema&gt; schemaView = parsedData.apply(&quot;Prepare Schema&quot;, Sample.any(1))\n            .apply(&quot;Add schema to memory&quot;,\n                    MapElements.into(TypeDescriptor.of(Schema.class))\n                            .via((GenericRecord record) -&gt; record.getSchema()))\n            .apply(View.asSingleton());\n</code></pre>\n<p>Second thing which I tried was save schema to file and read it before saving <code>Schema schema  =  readSchemaFromGCS()</code>\nand use it but then I have two ways in job so creating file wasn't waiting for saving schema.\nI can't use <code>Wait.on(previousStep)</code> because <code>TextIO.write()</code> output type is <code>PDone</code>.\nAnyone know how to use schema from <code>GenericRecord</code> generated during job in one pipeline?\nCreating to separate pipelines doesn't satisfy me.</p>\n"},{"tags":["java","java-ee-7","payara"],"owner":{"account_id":327501,"reputation":1769,"user_id":649923,"accept_rate":86,"display_name":"Xtroce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694620302,"creation_date":1694620302,"question_id":77098659,"body_markdown":"I have a main app EJB and a war in a package. The main_app.ejb holds the persistenceContext\r\n\r\nI now have a library that is used in multiple other applications on other webServices (with a similar built up but different persistence configurations on different web servers).\r\n\r\nThis one needs the persitenceContext to function. We previously had each class in the lib extended in the main EJB with the manager as a member. This works but you have a lot of manual handling since each class needs to be extended.\r\n\r\nTo understand my problem let me scetch teh following dynamic:\r\n\r\n    app.ear\r\n     \\ lib/dependecy.jar (needs persistence context)\r\n     \\ main_app.ejb (has persistence context | needs dependency.jar)\r\n     \\ main_app.war\r\n     \\ module.ejb\r\n     \\ module.war\r\n\r\n\r\nFirst approach:\r\n\r\nThe idea now is to include the library as it&#39;s own EJB and load it alongside the other EJB&#39;s and WAR&#39;s in the ear. The problem we face now is, since the main EJB is dependent on the lib, it seems to cannot find the EntityManager.\r\n\r\nTo understand my problem let me scetch teh following dynamic:\r\n\r\n    app.ear\r\n     \\ dependecy.ejb (I transformed that into an ejb and loaded it alongside the others)\r\n     \\ main_app.ejb (needs dependency.ejb)\r\n     \\ main_app.war\r\n     \\ persistence.ejb (extracted from the main_app.ejb w the META-INF/persistence.xml and a class implementing an interface for the EntityManager)\r\n     \\ module.ejb\r\n     \\ module.war\r\n\r\n\r\nMy first approach to solve this was to abstract the persistence into it&#39;s own EJB and then load that before the actual EJB which has the lib as a dependency. But this also does not seem to work.\r\n\r\nI suspect the problem is that the dependency.ejb has no dependency from the persistence.ejb (and I cannot create one in the maven config, since i need this to work with the other servers as well, and they have different configurations.)\r\n\r\ne.g. the dependency structure is:\r\n\r\n                   main_app.ejb\r\n                   /         \\ \r\n    dependency.ejb            peristence.ejb\r\n\r\nbut persistence needs to be loaded before dependeny without me adding it to the actual dependencies.\r\n\r\nbtw I am using payara 5 atm.\r\n\r\nis that possible?","title":"loading an EJB in lib after the EJB in the ear on payara","body":"<p>I have a main app EJB and a war in a package. The main_app.ejb holds the persistenceContext</p>\n<p>I now have a library that is used in multiple other applications on other webServices (with a similar built up but different persistence configurations on different web servers).</p>\n<p>This one needs the persitenceContext to function. We previously had each class in the lib extended in the main EJB with the manager as a member. This works but you have a lot of manual handling since each class needs to be extended.</p>\n<p>To understand my problem let me scetch teh following dynamic:</p>\n<pre><code>app.ear\n \\ lib/dependecy.jar (needs persistence context)\n \\ main_app.ejb (has persistence context | needs dependency.jar)\n \\ main_app.war\n \\ module.ejb\n \\ module.war\n</code></pre>\n<p>First approach:</p>\n<p>The idea now is to include the library as it's own EJB and load it alongside the other EJB's and WAR's in the ear. The problem we face now is, since the main EJB is dependent on the lib, it seems to cannot find the EntityManager.</p>\n<p>To understand my problem let me scetch teh following dynamic:</p>\n<pre><code>app.ear\n \\ dependecy.ejb (I transformed that into an ejb and loaded it alongside the others)\n \\ main_app.ejb (needs dependency.ejb)\n \\ main_app.war\n \\ persistence.ejb (extracted from the main_app.ejb w the META-INF/persistence.xml and a class implementing an interface for the EntityManager)\n \\ module.ejb\n \\ module.war\n</code></pre>\n<p>My first approach to solve this was to abstract the persistence into it's own EJB and then load that before the actual EJB which has the lib as a dependency. But this also does not seem to work.</p>\n<p>I suspect the problem is that the dependency.ejb has no dependency from the persistence.ejb (and I cannot create one in the maven config, since i need this to work with the other servers as well, and they have different configurations.)</p>\n<p>e.g. the dependency structure is:</p>\n<pre><code>               main_app.ejb\n               /         \\ \ndependency.ejb            peristence.ejb\n</code></pre>\n<p>but persistence needs to be loaded before dependeny without me adding it to the actual dependencies.</p>\n<p>btw I am using payara 5 atm.</p>\n<p>is that possible?</p>\n"},{"tags":["java","spring","performance","file","null"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1694620230,"post_id":77098596,"comment_id":135916079,"body_markdown":"There is no real performant way as the size of the file will determine processing speed. If a file is going to be 20 gigs, it&#39;s going to be slow no matter what. Unless you can take a shortcut, like check say at most the first 200 bytes.","body":"There is no real performant way as the size of the file will determine processing speed. If a file is going to be 20 gigs, it&#39;s going to be slow no matter what. Unless you can take a shortcut, like check say at most the first 200 bytes."},{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":1,"creation_date":1694620378,"post_id":77098596,"comment_id":135916099,"body_markdown":"Its unlikely that an unexpected shutdown results in a file being filled with null characters on accident.  If the file was full of null characters that means something had to explicitly write them into the file.  Either way its a really bad idea to have two applications that can read write the same file. If you want concurrent writes to a file you need something like sqlite that can manage the access.  The failure cases are dependent on the file system but mostly result in access issues and or intermixed writes.","body":"Its unlikely that an unexpected shutdown results in a file being filled with null characters on accident.  If the file was full of null characters that means something had to explicitly write them into the file.  Either way its a really bad idea to have two applications that can read write the same file. If you want concurrent writes to a file you need something like sqlite that can manage the access.  The failure cases are dependent on the file system but mostly result in access issues and or intermixed writes."},{"owner":{"account_id":15030475,"reputation":21,"user_id":10848756,"display_name":"SymbolKina"},"score":0,"creation_date":1694682818,"post_id":77098596,"comment_id":135924286,"body_markdown":"Thank you all for you replies. @Gimby you gave me a great idea to check only a first part of the file.","body":"Thank you all for you replies. @Gimby you gave me a great idea to check only a first part of the file."},{"owner":{"account_id":15030475,"reputation":21,"user_id":10848756,"display_name":"SymbolKina"},"score":0,"creation_date":1694683073,"post_id":77098596,"comment_id":135924333,"body_markdown":"@Deadron i can&#39;t understand why after shutdown the file content is replaced by NULL characters, i debuggued all possible cases without any result. you are right writing on the same file by differents application is a bad idea but it is how the service is developped.","body":"@Deadron i can&#39;t understand why after shutdown the file content is replaced by NULL characters, i debuggued all possible cases without any result. you are right writing on the same file by differents application is a bad idea but it is how the service is developped."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695371280,"post_id":77098596,"comment_id":136018190,"body_markdown":"By ânull charactersâ you mean zero bytes? Maybe, they are not written over the content but the intended content hadnât been written in the first place but was residing in a cache.","body":"By ânull charactersâ you mean zero bytes? Maybe, they are not written over the content but the intended content hadnât been written in the first place but was residing in a cache."}],"answers":[{"tags":[],"owner":{"account_id":4561774,"reputation":1,"user_id":3703919,"display_name":"Leonidas Sokoridas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694620174,"creation_date":1694620174,"answer_id":77098640,"question_id":77098596,"body_markdown":"To perform a check in Java if a file contains only null characters, you can read the file in chunks of bytes and verify if all the bytes in each chunk are zero. Here is how you might go about it using a `BufferedInputStream`:\n\n```java\nimport java.io.BufferedInputStream;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            System.out.println(isFileNull(&quot;path/to/your/file.txt&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static boolean isFileNull(String filepath) throws IOException {\n        try (BufferedInputStream bis = new BufferedInputStream(new FileInputStream(filepath))) {\n            byte[] buffer = new byte[1024];\n            int bytesRead;\n            while ((bytesRead = bis.read(buffer)) != -1) {\n                for (int i = 0; i &lt; bytesRead; i++) {\n                    if (buffer[i] != 0) {\n                        return false;\n                    }\n                }\n            }\n        }\n        return true;\n    }\n}\n```\n\nExplanation:\n\n- We use `BufferedInputStream` to read the file in chunks.\n- Inside the `isFileNull` method, we read chunks of the file into a byte array buffer using the `read` method, which returns the number of bytes read or -1 if the end of the stream is reached.\n- We then iterate over each byte in the buffer and check if any of them are non-zero using a simple comparison (`buffer[i] != 0`). If we find any non-zero bytes, we return `false` immediately.\n- If we reach the end of the file without finding any non-zero bytes, we return `true`.\n- Note that we are using a try-with-resources statement to ensure that the `BufferedInputStream` is closed properly, even if an exception is thrown.","title":"Java-best way to check if file contains only null characters","body":"<p>To perform a check in Java if a file contains only null characters, you can read the file in chunks of bytes and verify if all the bytes in each chunk are zero. Here is how you might go about it using a <code>BufferedInputStream</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedInputStream;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            System.out.println(isFileNull(&quot;path/to/your/file.txt&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static boolean isFileNull(String filepath) throws IOException {\n        try (BufferedInputStream bis = new BufferedInputStream(new FileInputStream(filepath))) {\n            byte[] buffer = new byte[1024];\n            int bytesRead;\n            while ((bytesRead = bis.read(buffer)) != -1) {\n                for (int i = 0; i &lt; bytesRead; i++) {\n                    if (buffer[i] != 0) {\n                        return false;\n                    }\n                }\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>Explanation:</p>\n<ul>\n<li>We use <code>BufferedInputStream</code> to read the file in chunks.</li>\n<li>Inside the <code>isFileNull</code> method, we read chunks of the file into a byte array buffer using the <code>read</code> method, which returns the number of bytes read or -1 if the end of the stream is reached.</li>\n<li>We then iterate over each byte in the buffer and check if any of them are non-zero using a simple comparison (<code>buffer[i] != 0</code>). If we find any non-zero bytes, we return <code>false</code> immediately.</li>\n<li>If we reach the end of the file without finding any non-zero bytes, we return <code>true</code>.</li>\n<li>Note that we are using a try-with-resources statement to ensure that the <code>BufferedInputStream</code> is closed properly, even if an exception is thrown.</li>\n</ul>\n"}],"owner":{"account_id":15030475,"reputation":21,"user_id":10848756,"display_name":"SymbolKina"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694620174,"creation_date":1694619840,"question_id":77098596,"body_markdown":"I&#39;m facing a problem and i can&#39;t fix it. \r\nI have a file that is accessible from 2 applications for read and write. when the Device unexpectadly shuts down, the content of the file keep the same size but each character is replaced by Null Character. \r\nNow I need a way to check the content file if is null or not. what is the best performant way to do it?\r\nthank you ","title":"Java-best way to check if file contains only null characters","body":"<p>I'm facing a problem and i can't fix it.\nI have a file that is accessible from 2 applications for read and write. when the Device unexpectadly shuts down, the content of the file keep the same size but each character is replaced by Null Character.\nNow I need a way to check the content file if is null or not. what is the best performant way to do it?\nthank you</p>\n"},{"tags":["java","x509certificate","bouncycastle","pem","pki"],"comments":[{"owner":{"account_id":19498047,"reputation":23,"user_id":14264766,"display_name":"mister.durden"},"score":0,"creation_date":1694611856,"post_id":77097540,"comment_id":135914052,"body_markdown":"The Algorithm that is being used is SHA256WITHECDSA","body":"The Algorithm that is being used is SHA256WITHECDSA"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1694613264,"post_id":77097540,"comment_id":135914443,"body_markdown":"Of course it doesn&#39;t since you only wrote out a single certificate. If you want the other certificates in the chain in the same file then write them out too.","body":"Of course it doesn&#39;t since you only wrote out a single certificate. If you want the other certificates in the chain in the same file then write them out too."},{"owner":{"account_id":19498047,"reputation":23,"user_id":14264766,"display_name":"mister.durden"},"score":0,"creation_date":1694618253,"post_id":77097540,"comment_id":135915672,"body_markdown":"@PresidentJamesK.Polk How should I do that? Should I add a second certificate during the Export using JcaPEMWriter? Any resources I can refer to?","body":"@PresidentJamesK.Polk How should I do that? Should I add a second certificate during the Export using JcaPEMWriter? Any resources I can refer to?"},{"owner":{"account_id":19498047,"reputation":23,"user_id":14264766,"display_name":"mister.durden"},"score":0,"creation_date":1694619782,"post_id":77097540,"comment_id":135915998,"body_markdown":"@PresidentJamesK.Polk I tried to write both certificates by creating a list and writing using JcaPEMWriter over a loop and the exported string had 2 certificates. While opening it in XCA, it only recognized the first one and the Certificate Chain is still not recognizing the root CA which I have already imported separately previously.","body":"@PresidentJamesK.Polk I tried to write both certificates by creating a list and writing using JcaPEMWriter over a loop and the exported string had 2 certificates. While opening it in XCA, it only recognized the first one and the Certificate Chain is still not recognizing the root CA which I have already imported separately previously."}],"owner":{"account_id":19498047,"reputation":23,"user_id":14264766,"display_name":"mister.durden"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694620079,"creation_date":1694611802,"question_id":77097540,"body_markdown":"I have generated an X509 Certificate like this:\r\n\r\n```java\r\npublic static X509Certificate createEndEntity(\r\n    X509Certificate signerCert, PrivateKey signerKey,\r\n    String sigAlg, PublicKey certKey)\r\n  throws CertIOException, OperatorCreationException, CertificateException\r\n{\r\n  X500Principal subject = new X500Principal(&quot;CN=End Entity&quot;);\r\n\r\n \r\n  X509v3CertificateBuilder  certBldr = new JcaX509v3CertificateBuilder(\r\n      signerCert.getSubjectX500Principal(),\r\n      calculateSerialNumber(),\r\n      calculateDate(0),\r\n      calculateDate(24 * 31),\r\n      subject,\r\n      certKey);\r\n\r\n \r\n  certBldr.addExtension(Extension.basicConstraints,\r\n          true, new BasicConstraints(false))\r\n      .addExtension(Extension.keyUsage,\r\n          true, new KeyUsage(KeyUsage.digitalSignature));\r\n\r\n \r\n  ContentSigner signer = new JcaContentSignerBuilder(sigAlg)\r\n                  .setProvider(&quot;BC&quot;).build(signerKey);\r\n\r\n \r\n  JcaX509CertificateConverter converter = new JcaX509CertificateConverter().setProvider(&quot;BC&quot;);\r\n\r\n \r\n  return converter.getCertificate(certBldr.build(signer));\r\n}\r\n\r\n\r\n\r\n```\r\n\r\nAnd exported it to a PEM format like this:\r\n\r\n```\r\nStringWriter sw = new StringWriter();\r\nJcaPEMWriter jpw = new JcaPEMWriter(sw);\r\njpw.writeObject(certificate);\r\njpw.flush();\r\nString pem = sw.toString();\r\n```\r\n\r\nStill, the generated certificate doesn&#39;t include the certificate Chain to the Root Certificate, and the Signer in the Signature is showing as Unknown.\r\n\r\nP.S. : I have already imported Root CA separately in XCA prior to generation. The signer in the Signature is showing as unknown.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fucCn.png","title":"Not able to get the Certificate Chain while exporting an End Entity X.509 Certificate generated using Bouncy Castle in Java","body":"<p>I have generated an X509 Certificate like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static X509Certificate createEndEntity(\n    X509Certificate signerCert, PrivateKey signerKey,\n    String sigAlg, PublicKey certKey)\n  throws CertIOException, OperatorCreationException, CertificateException\n{\n  X500Principal subject = new X500Principal(&quot;CN=End Entity&quot;);\n\n \n  X509v3CertificateBuilder  certBldr = new JcaX509v3CertificateBuilder(\n      signerCert.getSubjectX500Principal(),\n      calculateSerialNumber(),\n      calculateDate(0),\n      calculateDate(24 * 31),\n      subject,\n      certKey);\n\n \n  certBldr.addExtension(Extension.basicConstraints,\n          true, new BasicConstraints(false))\n      .addExtension(Extension.keyUsage,\n          true, new KeyUsage(KeyUsage.digitalSignature));\n\n \n  ContentSigner signer = new JcaContentSignerBuilder(sigAlg)\n                  .setProvider(&quot;BC&quot;).build(signerKey);\n\n \n  JcaX509CertificateConverter converter = new JcaX509CertificateConverter().setProvider(&quot;BC&quot;);\n\n \n  return converter.getCertificate(certBldr.build(signer));\n}\n\n\n\n</code></pre>\n<p>And exported it to a PEM format like this:</p>\n<pre><code>StringWriter sw = new StringWriter();\nJcaPEMWriter jpw = new JcaPEMWriter(sw);\njpw.writeObject(certificate);\njpw.flush();\nString pem = sw.toString();\n</code></pre>\n<p>Still, the generated certificate doesn't include the certificate Chain to the Root Certificate, and the Signer in the Signature is showing as Unknown.</p>\n<p>P.S. : I have already imported Root CA separately in XCA prior to generation. The signer in the Signature is showing as unknown.\n<a href=\"https://i.stack.imgur.com/fucCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fucCn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","linux","maven","jenkins"],"comments":[{"owner":{"account_id":1260099,"reputation":18217,"user_id":1218618,"accept_rate":100,"display_name":"albciff"},"score":0,"creation_date":1693575317,"post_id":77022635,"comment_id":135783142,"body_markdown":"Did you try config tools or export path as explained in some answers here: https://stackoverflow.com/questions/45777031/maven-not-found-in-jenkins","body":"Did you try config tools or export path as explained in some answers here: <a href=\"https://stackoverflow.com/questions/45777031/maven-not-found-in-jenkins\" title=\"maven not found in jenkins\">stackoverflow.com/questions/45777031/maven-not-found-in-jenk&zwnj;&#8203;ins</a>"},{"owner":{"account_id":14168015,"reputation":45,"user_id":10235443,"display_name":"Guillermo Moreno Casta&#241;o"},"score":0,"creation_date":1693590259,"post_id":77022635,"comment_id":135785990,"body_markdown":"I couldn&#39;t make it work using any of these. I think the problem is that Jenkins is not loading ~/.bashrc which contains the correct values for everything. I get it doesn&#39;t load it cause it&#39;s not an interactive shell, but I&#39;m not sure how to make something similar :D","body":"I couldn&#39;t make it work using any of these. I think the problem is that Jenkins is not loading ~/.bashrc which contains the correct values for everything. I get it doesn&#39;t load it cause it&#39;s not an interactive shell, but I&#39;m not sure how to make something similar :D"},{"owner":{"account_id":14168015,"reputation":45,"user_id":10235443,"display_name":"Guillermo Moreno Casta&#241;o"},"score":0,"creation_date":1693591170,"post_id":77022635,"comment_id":135786110,"body_markdown":"If I run `alias mvn=/opt/apache-maven-3.9.4/bin/mvn` on top of my Jenkins script, it does work, but I don&#39;t think this is an ideal solution","body":"If I run <code>alias mvn=&#47;opt&#47;apache-maven-3.9.4&#47;bin&#47;mvn</code> on top of my Jenkins script, it does work, but I don&#39;t think this is an ideal solution"}],"answers":[{"tags":[],"owner":{"account_id":12073555,"reputation":379,"user_id":8828021,"display_name":"George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693719945,"creation_date":1693719945,"answer_id":77031059,"question_id":77022635,"body_markdown":"The best course of action is to consistently define both the JDK and maven in the &quot;tools&quot; section of your Jenkinsfile and define both tools in your Jenkins configuration to have Jenkins automatically download the necessary commands. \r\n\r\nI have a golden rule that you should never explicitly install build packages on the Jenkins Master/Workers in order to be able to transition to other platforms in the future (I&#39;m not suggesting this is good or best industry practice).","title":"Jenkins can&#39;t find Maven after updating to Java 17","body":"<p>The best course of action is to consistently define both the JDK and maven in the &quot;tools&quot; section of your Jenkinsfile and define both tools in your Jenkins configuration to have Jenkins automatically download the necessary commands.</p>\n<p>I have a golden rule that you should never explicitly install build packages on the Jenkins Master/Workers in order to be able to transition to other platforms in the future (I'm not suggesting this is good or best industry practice).</p>\n"},{"tags":[],"owner":{"account_id":14168015,"reputation":45,"user_id":10235443,"display_name":"Guillermo Moreno Casta&#241;o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694619306,"creation_date":1694619306,"answer_id":77098542,"question_id":77022635,"body_markdown":"I ended up setting the PATH as a Jenkins environment variable from the settings with the same value as *outside* of Jenkins. I&#39;m not sure this is a proper way to do it or an industry standard but it was the only way I could make it work.","title":"Jenkins can&#39;t find Maven after updating to Java 17","body":"<p>I ended up setting the PATH as a Jenkins environment variable from the settings with the same value as <em>outside</em> of Jenkins. I'm not sure this is a proper way to do it or an industry standard but it was the only way I could make it work.</p>\n"}],"owner":{"account_id":14168015,"reputation":45,"user_id":10235443,"display_name":"Guillermo Moreno Casta&#241;o"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694619306,"creation_date":1693566758,"question_id":77022635,"body_markdown":"I have a Raspberry Pi that I&#39;m running Jenkins on to compile and deploy Java applications. We have migrated to Spring 3 so now it requires Java 17 to run. For some reason, it&#39;s not possible to install Java 17 using apt-get, so I uninstalled all of the previous Java versions and installed it directly from the tar file as it&#39;s documented resulting in:\r\n\r\n```bash\r\npi@raspberrypi:~ $ echo $JAVA_HOME\r\n/opt/jdk/jdk-17.0.1+12\r\n\r\npi@raspberrypi:~ $ java -version\r\nopenjdk version &quot;17.0.1&quot; 2021-10-19\r\nOpenJDK Runtime Environment Temurin-17.0.1+12 (build 17.0.1+12)\r\nOpenJDK Server VM Temurin-17.0.1+12 (build 17.0.1+12, mixed mode, sharing)\r\n```\r\n\r\nI have proceeded the same way for maven:\r\n```bash\r\npi@raspberrypi:~ $ echo $MAVEN_HOME\r\n/opt/maven\r\n\r\npi@raspberrypi:~ $ echo $M2_HOME\r\n/opt/apache-maven-3.9.4\r\n\r\npi@raspberrypi:~ $ mvn -version\r\nApache Maven 3.9.4 (dfbb324ad4a7c8fb0bf182e6d91b0ae20e3d2dd9)\r\nMaven home: /opt/maven\r\nJava version: 17.0.1, vendor: Eclipse Adoptium, runtime: /opt/jdk/jdk-17.0.1+12\r\nDefault locale: en_GB, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.10.103-v7l+&quot;, arch: &quot;arm&quot;, family: &quot;unix&quot;\r\n```\r\nSo I believe both are properly installed for user **pi**, but not installing it in an *official* way doesn&#39;t set up everything automatically.\r\n\r\nI have set up a Jenkins job to print all of these for debugging purposes:\r\n```bash\r\necho $JAVA_HOME\r\necho $M2_HOME\r\necho $MAVEN_HOME\r\njava -version\r\njavac -version\r\nmvn -v\r\n```\r\nwhich prints to console the following:\r\n```bash\r\nStarted by user Master Gui\r\nRunning as SYSTEM\r\nBuilding in workspace /var/lib/jenkins/workspace/echo\r\n[echo] $ /bin/sh -xe /tmp/jenkins3152995503405589329.sh\r\n+ echo /usr/lib/jvm/default-java\r\n/usr/lib/jvm/default-java\r\n+ echo\r\n\r\n+ echo\r\n\r\n+ java -version\r\nopenjdk version &quot;17.0.1&quot; 2021-10-19\r\nOpenJDK Runtime Environment Temurin-17.0.1+12 (build 17.0.1+12)\r\nOpenJDK Server VM Temurin-17.0.1+12 (build 17.0.1+12, mixed mode, sharing)\r\n+ javac -version\r\njavac 17.0.1\r\n+ mvn -v\r\n/tmp/jenkins3152995503405589329.sh: 7: /tmp/jenkins3152995503405589329.sh: mvn: not found\r\nBuild step &#39;Execute shell&#39; marked build as failure\r\nFinished: FAILURE\r\n```\r\n\r\nJava seems to be working, Maven doesn&#39;t, and all of the env variables are wrong. Does anybody know what I&#39;m missing here?\r\n\r\nThank you!","title":"Jenkins can&#39;t find Maven after updating to Java 17","body":"<p>I have a Raspberry Pi that I'm running Jenkins on to compile and deploy Java applications. We have migrated to Spring 3 so now it requires Java 17 to run. For some reason, it's not possible to install Java 17 using apt-get, so I uninstalled all of the previous Java versions and installed it directly from the tar file as it's documented resulting in:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>pi@raspberrypi:~ $ echo $JAVA_HOME\n/opt/jdk/jdk-17.0.1+12\n\npi@raspberrypi:~ $ java -version\nopenjdk version &quot;17.0.1&quot; 2021-10-19\nOpenJDK Runtime Environment Temurin-17.0.1+12 (build 17.0.1+12)\nOpenJDK Server VM Temurin-17.0.1+12 (build 17.0.1+12, mixed mode, sharing)\n</code></pre>\n<p>I have proceeded the same way for maven:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>pi@raspberrypi:~ $ echo $MAVEN_HOME\n/opt/maven\n\npi@raspberrypi:~ $ echo $M2_HOME\n/opt/apache-maven-3.9.4\n\npi@raspberrypi:~ $ mvn -version\nApache Maven 3.9.4 (dfbb324ad4a7c8fb0bf182e6d91b0ae20e3d2dd9)\nMaven home: /opt/maven\nJava version: 17.0.1, vendor: Eclipse Adoptium, runtime: /opt/jdk/jdk-17.0.1+12\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.10.103-v7l+&quot;, arch: &quot;arm&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>So I believe both are properly installed for user <strong>pi</strong>, but not installing it in an <em>official</em> way doesn't set up everything automatically.</p>\n<p>I have set up a Jenkins job to print all of these for debugging purposes:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo $JAVA_HOME\necho $M2_HOME\necho $MAVEN_HOME\njava -version\njavac -version\nmvn -v\n</code></pre>\n<p>which prints to console the following:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Started by user Master Gui\nRunning as SYSTEM\nBuilding in workspace /var/lib/jenkins/workspace/echo\n[echo] $ /bin/sh -xe /tmp/jenkins3152995503405589329.sh\n+ echo /usr/lib/jvm/default-java\n/usr/lib/jvm/default-java\n+ echo\n\n+ echo\n\n+ java -version\nopenjdk version &quot;17.0.1&quot; 2021-10-19\nOpenJDK Runtime Environment Temurin-17.0.1+12 (build 17.0.1+12)\nOpenJDK Server VM Temurin-17.0.1+12 (build 17.0.1+12, mixed mode, sharing)\n+ javac -version\njavac 17.0.1\n+ mvn -v\n/tmp/jenkins3152995503405589329.sh: 7: /tmp/jenkins3152995503405589329.sh: mvn: not found\nBuild step 'Execute shell' marked build as failure\nFinished: FAILURE\n</code></pre>\n<p>Java seems to be working, Maven doesn't, and all of the env variables are wrong. Does anybody know what I'm missing here?</p>\n<p>Thank you!</p>\n"},{"tags":["java","enums","compilation","findbugs"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1287773433,"post_id":3999942,"comment_id":4284032,"body_markdown":"add comment near enum declaration:-)","body":"add comment near enum declaration:-)"},{"owner":{"account_id":83469,"reputation":9224,"user_id":234009,"display_name":"robert_x44"},"score":2,"creation_date":1287773439,"post_id":3999942,"comment_id":4284034,"body_markdown":"+1 for adding FILENOTFOUND to an unrelated set of enum constants","body":"+1 for adding FILENOTFOUND to an unrelated set of enum constants"},{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1287774420,"post_id":3999942,"comment_id":4284221,"body_markdown":"+0 for adding FILENOTFOUND to an unrelated set of enum constants.  Why do people still find this funny?  (I don&#39;t mind the OP or anybody using it in an ad-hoc example, but honestly people still think this is funny and upvote accordingly, even after seeing this reference like 8000 times?)","body":"+0 for adding FILENOTFOUND to an unrelated set of enum constants.  Why do people still find this funny?  (I don&#39;t mind the OP or anybody using it in an ad-hoc example, but honestly people still think this is funny and upvote accordingly, even after seeing this reference like 8000 times?)"},{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1287774452,"post_id":3999942,"comment_id":4284224,"body_markdown":"BTW, +1 for it being a good question.","body":"BTW, +1 for it being a good question."},{"owner":{"account_id":83469,"reputation":9224,"user_id":234009,"display_name":"robert_x44"},"score":0,"creation_date":1287774650,"post_id":3999942,"comment_id":4284258,"body_markdown":"my + 1 was also for being a good question.  Calm down and breathe.","body":"my + 1 was also for being a good question.  Calm down and breathe."},{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1287774921,"post_id":3999942,"comment_id":4284306,"body_markdown":"I&#39;m calm.  I&#39;m just losing faith in our collective sense of humour.","body":"I&#39;m calm.  I&#39;m just losing faith in our collective sense of humour."},{"owner":{"account_id":88014,"reputation":60053,"user_id":1178669,"accept_rate":93,"display_name":"helpermethod"},"score":0,"creation_date":1287775991,"post_id":3999942,"comment_id":4284516,"body_markdown":"This actually looks like using Polymorphism would be a better idea.","body":"This actually looks like using Polymorphism would be a better idea."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1446634800,"post_id":3999942,"comment_id":54821551,"body_markdown":"Potential duplicate: http://stackoverflow.com/questions/16797529/how-to-ensure-completeness-in-an-enum-switch-at-compile-time","body":"Potential duplicate: <a href=\"http://stackoverflow.com/questions/16797529/how-to-ensure-completeness-in-an-enum-switch-at-compile-time\" title=\"how to ensure completeness in an enum switch at compile time\">stackoverflow.com/questions/16797529/&hellip;</a>"},{"owner":{"account_id":35821,"reputation":15653,"user_id":101762,"accept_rate":87,"display_name":"Persimmonium"},"score":0,"creation_date":1446715228,"post_id":3999942,"comment_id":54861922,"body_markdown":"the duplicate is probably the one asked 3 years later, don&#39;t you think?","body":"the duplicate is probably the one asked 3 years later, don&#39;t you think?"},{"owner":{"account_id":892671,"reputation":17469,"user_id":930640,"accept_rate":62,"display_name":"Magnus"},"score":0,"creation_date":1523426232,"post_id":3999942,"comment_id":86550243,"body_markdown":"Possible duplicate of [How to ensure completeness in an enum switch at compile time?](https://stackoverflow.com/questions/16797529/how-to-ensure-completeness-in-an-enum-switch-at-compile-time)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/16797529/how-to-ensure-completeness-in-an-enum-switch-at-compile-time\">How to ensure completeness in an enum switch at compile time?</a>"}],"answers":[{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1287774741,"creation_date":1287773579,"answer_id":3999990,"question_id":3999942,"body_markdown":"Eclipse has a compile-time warning/error you can enable: **Enum constant not covered on &quot;switch&quot;.**\r\n\r\nFrom your Project properties (or general preferences), go to *Java Compiler*-&gt;*Errors/Warnings* , check *Enable project specific settings*.  You&#39;ll find the warning under *Potential programming problems*.  It&#39;s set to **Ignore** by default but you can bump it up to **Warning** or **Error**.\r\n\r\n\r\n**Edit:** I thought this goes without saying but I suppose I&#39;ll say it anyway: this is only applicable if you&#39;re developing in Eclipse or using it for your build management.  Obviously a Findbugs or similar equivalent would be the &quot;real&quot; answer since it transcends the IDE and can be integrated into the build process.","title":"How to detect a new value was added to an enum and is not handled in a switch","body":"<p>Eclipse has a compile-time warning/error you can enable: <strong>Enum constant not covered on \"switch\".</strong></p>\n\n<p>From your Project properties (or general preferences), go to <em>Java Compiler</em>-><em>Errors/Warnings</em> , check <em>Enable project specific settings</em>.  You'll find the warning under <em>Potential programming problems</em>.  It's set to <strong>Ignore</strong> by default but you can bump it up to <strong>Warning</strong> or <strong>Error</strong>.</p>\n\n<p><strong>Edit:</strong> I thought this goes without saying but I suppose I'll say it anyway: this is only applicable if you're developing in Eclipse or using it for your build management.  Obviously a Findbugs or similar equivalent would be the \"real\" answer since it transcends the IDE and can be integrated into the build process.</p>\n"},{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1287775621,"creation_date":1287773580,"answer_id":3999991,"question_id":3999942,"body_markdown":"You could do that by adding a default clause and logging when it is visited:\r\n\r\n    switch (color) {\r\n    default:\r\n        log.error(&quot;Unknown color in switch: &quot; + color);\r\n        break\r\n\r\n    case MONDAY: /*FALLTHROUGH*/\r\n    case TUESDAY: \r\n\r\n(adding fallthrough comments help later maintainers to decide whether you forgot code or not :-))\r\n\r\n**Edit** Clarification copied from comments on Mark&#39;s answer:\r\n\r\nAn IDE feature signalling cases like this is fine for the developer at the moment of the change but it does not catch changes in other parts of code that your code depends on.\r\n\r\nIt does not make the cient code containing switches on enums robust against changes unless they are recompiled against the new version. \r\n\r\nIt does help when the client code logs unhandled cases; deployed code does not always have full control over its classpath or the versions of libraries on it.","title":"How to detect a new value was added to an enum and is not handled in a switch","body":"<p>You could do that by adding a default clause and logging when it is visited:</p>\n\n<pre><code>switch (color) {\ndefault:\n    log.error(\"Unknown color in switch: \" + color);\n    break\n\ncase MONDAY: /*FALLTHROUGH*/\ncase TUESDAY: \n</code></pre>\n\n<p>(adding fallthrough comments help later maintainers to decide whether you forgot code or not :-))</p>\n\n<p><strong>Edit</strong> Clarification copied from comments on Mark's answer:</p>\n\n<p>An IDE feature signalling cases like this is fine for the developer at the moment of the change but it does not catch changes in other parts of code that your code depends on.</p>\n\n<p>It does not make the cient code containing switches on enums robust against changes unless they are recompiled against the new version. </p>\n\n<p>It does help when the client code logs unhandled cases; deployed code does not always have full control over its classpath or the versions of libraries on it.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287779983,"creation_date":1287779983,"answer_id":4000774,"question_id":3999942,"body_markdown":"IntelliJ was a check where not all case have been set. It has an auto-fix to fill in the missing cases.","title":"How to detect a new value was added to an enum and is not handled in a switch","body":"<p>IntelliJ was a check where not all case have been set. It has an auto-fix to fill in the missing cases.</p>\n"},{"tags":[],"owner":{"account_id":2190659,"reputation":2306,"user_id":1937795,"accept_rate":75,"display_name":"Itchy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694619175,"creation_date":1694619175,"answer_id":77098518,"question_id":3999942,"body_markdown":"Since Java 14 (with [JEP 361][1]) there are now **Switch Expressions** which lets you do that. For your example this would then look like that:\r\n\r\n    String feeling = switch (day) {\r\n        case MONDAY =&gt; &quot;Mondays are bad.&quot;;\r\n        case TUESDAY =&gt; &quot;Tuesdays are bad.&quot;;\r\n        case WEDNESDAY =&gt; &quot;Wednesdays are bad.&quot;;\r\n        case THURSDAY =&gt; &quot;Thursdays are bad.&quot;;\r\n        case FRIDAY =&gt; &quot;Fridays are better.&quot;;\r\n        case SATURDAY =&gt; &quot;Weekends are best.&quot;;\r\n        case SUNDAY =&gt; &quot;Weekends are best.&quot;\r\n    }\r\n    System.out.println(feeling);\r\n\r\nIf you add a new enum value `FILENOTFOUND` then you get a compile error: `java: the switch expression does not cover all possible input values`.\r\n\r\n  [1]: https://openjdk.org/jeps/361","title":"How to detect a new value was added to an enum and is not handled in a switch","body":"<p>Since Java 14 (with <a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">JEP 361</a>) there are now <strong>Switch Expressions</strong> which lets you do that. For your example this would then look like that:</p>\n<pre><code>String feeling = switch (day) {\n    case MONDAY =&gt; &quot;Mondays are bad.&quot;;\n    case TUESDAY =&gt; &quot;Tuesdays are bad.&quot;;\n    case WEDNESDAY =&gt; &quot;Wednesdays are bad.&quot;;\n    case THURSDAY =&gt; &quot;Thursdays are bad.&quot;;\n    case FRIDAY =&gt; &quot;Fridays are better.&quot;;\n    case SATURDAY =&gt; &quot;Weekends are best.&quot;;\n    case SUNDAY =&gt; &quot;Weekends are best.&quot;\n}\nSystem.out.println(feeling);\n</code></pre>\n<p>If you add a new enum value <code>FILENOTFOUND</code> then you get a compile error: <code>java: the switch expression does not cover all possible input values</code>.</p>\n"}],"owner":{"account_id":35821,"reputation":15653,"user_id":101762,"accept_rate":87,"display_name":"Persimmonium"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2394,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":3999990,"answer_count":4,"score":7,"last_activity_date":1694619175,"creation_date":1287773253,"question_id":3999942,"body_markdown":"From time to time I have to add a new value to a enum type in my project.\r\n\r\n    public enum Day {\r\n      SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, \r\n       FILENOTFOUND //this one is new one\r\n    }\r\n\r\n\r\n \r\nWhat I would like is to have a *compile time error* for every switch I have that is not treating the new value, like this one:\r\n \r\n\r\n    switch (color) {\r\n\t\t\tcase MONDAY: \r\n\t\t\tcase TUESDAY: \r\n\t\t\tcase WEDNESDAY: \r\n\t\t\tcase THURSDAY: \r\n\t\t\t\t\t\tSystem.out.println(&quot;Mondays are bad.&quot;);\r\n\t\t\t\t\t     break;\r\n\t\t\t\t\t\r\n\t\t\tcase FRIDAY: System.out.println(&quot;Fridays are better.&quot;);\r\n\t\t\t\t\t     break;\r\n\t\t\t\t\t     \r\n\t\t\tcase SATURDAY:\r\n\t\t\tcase SUNDAY: System.out.println(&quot;Weekends are best.&quot;);\r\n\t\t\t\t\t     break;\r\n\t\t} \r\n\r\nHaving a default: that throws some exception is not good enough, I would like it to be compile time.\r\n\t\t\r\nI don&#39;t think this is possible but maybe someone has a neat trick...\r\n\r\nI thought Findbugs would have a rule to find those but I only saw this:\r\n[Eq: Covariant equals() method defined for enum (EQ_DONT_DEFINE_EQUALS_FOR_ENUM)][1]\t\t\r\n\r\n\r\n  [1]: http://findbugs.sourceforge.net/bugDescriptions.html#EQ_DONT_DEFINE_EQUALS_FOR_ENUM\r\n\r\n**EDIT:** I&#39;m choosing Mark&#39;s reply, I do use Eclipse and that sounds just like what I needed! I am not an expert in findbugs at all so I might have missed such functionality, though I don&#39;t think so. ","title":"How to detect a new value was added to an enum and is not handled in a switch","body":"<p>From time to time I have to add a new value to a enum type in my project.</p>\n\n<pre><code>public enum Day {\n  SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, \n   FILENOTFOUND //this one is new one\n}\n</code></pre>\n\n<p>What I would like is to have a <em>compile time error</em> for every switch I have that is not treating the new value, like this one:</p>\n\n<pre><code>switch (color) {\n        case MONDAY: \n        case TUESDAY: \n        case WEDNESDAY: \n        case THURSDAY: \n                    System.out.println(\"Mondays are bad.\");\n                     break;\n\n        case FRIDAY: System.out.println(\"Fridays are better.\");\n                     break;\n\n        case SATURDAY:\n        case SUNDAY: System.out.println(\"Weekends are best.\");\n                     break;\n    } \n</code></pre>\n\n<p>Having a default: that throws some exception is not good enough, I would like it to be compile time.</p>\n\n<p>I don't think this is possible but maybe someone has a neat trick...</p>\n\n<p>I thought Findbugs would have a rule to find those but I only saw this:\n<a href=\"http://findbugs.sourceforge.net/bugDescriptions.html#EQ_DONT_DEFINE_EQUALS_FOR_ENUM\" rel=\"noreferrer\">Eq: Covariant equals() method defined for enum (EQ_DONT_DEFINE_EQUALS_FOR_ENUM)</a>        </p>\n\n<p><strong>EDIT:</strong> I'm choosing Mark's reply, I do use Eclipse and that sounds just like what I needed! I am not an expert in findbugs at all so I might have missed such functionality, though I don't think so. </p>\n"},{"tags":["java","mariadb","sqlexception","connector"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694608673,"post_id":77097128,"comment_id":135913310,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1694609192,"post_id":77097128,"comment_id":135913428,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\nYou need to add the MariaDB dependency, but you&#39;ve given no details of what type of project you&#39;ve got so it&#39;s hard to day how to do that","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. You need to add the MariaDB dependency, but you&#39;ve given no details of what type of project you&#39;ve got so it&#39;s hard to day how to do that"}],"answers":[{"tags":[],"owner":{"account_id":12635385,"reputation":527,"user_id":9185029,"display_name":"Alexander Katsenelenbogen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694611123,"creation_date":1694611123,"answer_id":77097447,"question_id":77097128,"body_markdown":"You should verify that the jdbc driver jar is in fact on the class path. One trick you can use is to simply [print out the classpath at the start of program execution.][1] If it *is* on your classpath, I&#39;d be very surprised. If it is *not*, then you now have a line of investigation: How do you ensure that the driver jar is on your classpath when running within Eclipse?\r\n\r\n\r\n  [1]: https://java2blog.com/print-classpath-java/","title":"Java MariaDB no suitable driver found","body":"<p>You should verify that the jdbc driver jar is in fact on the class path. One trick you can use is to simply <a href=\"https://java2blog.com/print-classpath-java/\" rel=\"nofollow noreferrer\">print out the classpath at the start of program execution.</a> If it <em>is</em> on your classpath, I'd be very surprised. If it is <em>not</em>, then you now have a line of investigation: How do you ensure that the driver jar is on your classpath when running within Eclipse?</p>\n"},{"tags":[],"owner":{"account_id":18803236,"reputation":9,"user_id":13713129,"display_name":"Gavr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694611801,"creation_date":1694611801,"answer_id":77097539,"question_id":77097128,"body_markdown":"the problem is propably the string at line 14, try this .\r\n\r\n                String url = &quot;jdbc:mariadb://localhost:3306/your_database_name&quot;;\r\n                String username = &quot;username&quot;;\r\n                String password = &quot;password&quot;;\r\n        \r\n              try {\r\n                    Class.forName(&quot;org.mariadb.jdbc.Driver&quot;);\r\n        \r\n                    // Create a database connection\r\n                Connection connection = DriverManager.getConnection(url,username, \r\n       password);\r\n    }catch (ClassNotFoundException e) {\r\n       e.printStackTrace();\r\n    }catch (SQLException e){\r\n       e.printStackTrace();\r\n    }","title":"Java MariaDB no suitable driver found","body":"<p>the problem is propably the string at line 14, try this .</p>\n<pre><code>            String url = &quot;jdbc:mariadb://localhost:3306/your_database_name&quot;;\n            String username = &quot;username&quot;;\n            String password = &quot;password&quot;;\n    \n          try {\n                Class.forName(&quot;org.mariadb.jdbc.Driver&quot;);\n    \n                // Create a database connection\n            Connection connection = DriverManager.getConnection(url,username, \n   password);\n}catch (ClassNotFoundException e) {\n   e.printStackTrace();\n}catch (SQLException e){\n   e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26240396,"reputation":1,"user_id":20808338,"display_name":"patrickstart974"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694619036,"creation_date":1694619036,"answer_id":77098498,"question_id":77097128,"body_markdown":"I found the issue I was using the wrong file : mariadb-java-client-3.2.0-sources.jar I use this instead : mariadb-java-client-3.2.0.jar It&#39;s working now ","title":"Java MariaDB no suitable driver found","body":"<p>I found the issue I was using the wrong file : mariadb-java-client-3.2.0-sources.jar I use this instead : mariadb-java-client-3.2.0.jar It's working now</p>\n"}],"owner":{"account_id":26240396,"reputation":1,"user_id":20808338,"display_name":"patrickstart974"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1694619036,"creation_date":1694608311,"question_id":77097128,"body_markdown":"I&#39;m trying to connect my Java app to MariaDB database. MariaDB is properly installed and it can be used with DBeaver without any issue. However, my Java app cannot connect to the database. Here is how my project looks like. I have imported the mariaDB connector to the project properly. Am I doing something wrong? I can&#39;t figure out what could be the problem. Please, can anyone can help regarding this issue?\r\n\r\nSpecs:\r\nMac \r\nIDE Eclipse\r\nJDK17 \r\nMariaDB \r\nv11.1.2 \r\nMariaDB connector 3.2\r\n\r\n[enter image description here](https://i.stack.imgur.com/Lwyrs.png)\r\n[enter image description here](https://i.stack.imgur.com/kLvOe.png)\r\n\r\nI use to work with Java19, so I downgraded to 17 but the error is the same. I have tried many restart the IDE after importing the MariaDB connector jar file. I have followed many tutorials but it didn&#39;t solve the issue.","title":"Java MariaDB no suitable driver found","body":"<p>I'm trying to connect my Java app to MariaDB database. MariaDB is properly installed and it can be used with DBeaver without any issue. However, my Java app cannot connect to the database. Here is how my project looks like. I have imported the mariaDB connector to the project properly. Am I doing something wrong? I can't figure out what could be the problem. Please, can anyone can help regarding this issue?</p>\n<p>Specs:\nMac\nIDE Eclipse\nJDK17\nMariaDB\nv11.1.2\nMariaDB connector 3.2</p>\n<p><a href=\"https://i.stack.imgur.com/Lwyrs.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/kLvOe.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I use to work with Java19, so I downgraded to 17 but the error is the same. I have tried many restart the IDE after importing the MariaDB connector jar file. I have followed many tutorials but it didn't solve the issue.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1694619210,"post_id":77098473,"comment_id":135915900,"body_markdown":"`#findViewById` returned `null`.","body":"<code>#findViewById</code> returned <code>null</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1694619225,"post_id":77098473,"comment_id":135915905,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694689230,"post_id":77098473,"comment_id":135925724,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29432717,"reputation":11,"user_id":22552098,"display_name":"lanaksa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694618852,"creation_date":1694618852,"question_id":77098473,"body_markdown":"i am learning android development.\r\nI want to make the sliding puzzle game.\r\nI just seent the Youtube Tutorial, and i am sure this code is same as the tutorial.\r\nBut this code got error then cause the app force close.\r\n\r\nThis problem make the app force closed. Please help.\r\n\r\nHere is the code\r\n\r\n**MainActiviy.java**\r\n\r\n```\r\npackage com.maulana.slidingpuzzle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private Button buttonStart;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        buttonStart = findViewById(R.id.startButton);\r\n        buttonStart.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, GameActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n**GameActivity.java**\r\n\r\n```\r\npackage com.maulana.slidingpuzzle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.Random;\r\n\r\npublic class GameActivity extends AppCompatActivity {\r\n\r\n    private  int emptyX=3;\r\n    private  int emptyY=3;\r\n    private RelativeLayout group;\r\n    private Button[][] buttons;\r\n    private int[] tiles;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_game);\r\n        loadNumbers();\r\n        loadViews();\r\n        generateNumbers();\r\n        loadDataToViews();\r\n    }\r\n    private void loadViews(){\r\n        group = findViewById(R.id.groupPuzzle);\r\n        buttons = new Button[3][4];\r\n\r\n        for (int i =0; i&lt;group.getChildCount();i++){\r\n            buttons[i/3][i%4] = (Button) group.getChildAt(i);\r\n        }\r\n        return;\r\n    }\r\n\r\n    private void loadDataToViews(){\r\n        emptyX=3;\r\n        emptyY=3;\r\n        for(int i = 0; i &lt;group.getChildCount()-1; i++){\r\n            buttons[i/3][i%4].setText(String.valueOf(tiles[i]));\r\n            buttons[i/3][i%4].setBackgroundResource(android.R.drawable.btn_default);\r\n        }\r\n        buttons[emptyX][emptyY].setText(&quot;&quot;);\r\n        buttons[emptyX][emptyY].setBackgroundColor(ContextCompat.getColor(this,R.color.colorFreeButton));\r\n    }\r\n    private void loadNumbers(){\r\n        tiles = new int[16];\r\n        for(int i =0; i&lt; group.getChildCount() -1;i++){\r\n            tiles[i]=i+1;\r\n        }\r\n    }\r\n\r\n    private  void generateNumbers(){\r\n        int n = 11;\r\n        Random random = new Random();\r\n        while (n&gt;1){\r\n            int randomNum = random.nextInt(n--);\r\n            int temp = tiles[randomNum];\r\n            tiles[randomNum]=tiles[n];\r\n            tiles[n] =temp;\r\n        }\r\n        if(!isSolvable())\r\n            generateNumbers();\r\n    }\r\n    private boolean isSolvable(){\r\n        int countInversion = 0;\r\n        for (int i = 0; i&lt;11;i++){\r\n            for (int j =0; j&lt;i; j++){\r\n                if(tiles[j]&gt;tiles[i])\r\n                    countInversion++;\r\n            }\r\n        }\r\n        return countInversion%2 == 0;\r\n    }\r\n\r\n    public void buttonClick(View view){\r\n        Button button = (Button) view;\r\n        int x = button.getTag().toString().charAt(0)-&#39;0&#39;;\r\n        int y = button.getTag().toString().charAt(1)-&#39;0&#39;;\r\n\r\n        if ((Math.abs(emptyX-x)==1&amp;&amp;emptyY==y) || (Math.abs(emptyY-y)==1 &amp;&amp; emptyX ==x)){\r\n            buttons[emptyX][emptyY].setText((button.getText().toString()));\r\n            buttons[emptyX][emptyY].setBackgroundResource(android.R.drawable.btn_default);\r\n            button.setText(&quot;&quot;);\r\n            button.setBackgroundColor(ContextCompat.getColor(this,R.color.colorFreeButton));\r\n            emptyY = y;\r\n            emptyX = x;\r\n            checkWin();\r\n        }\r\n    }\r\n\r\n    private  void checkWin(){\r\n        boolean isWin = false;\r\n        if(emptyX==3 &amp;&amp; emptyY==3){\r\n            for (int i = 0; i &lt; group.getChildCount()-1; i++){\r\n                if(buttons[i/3][i%4].getText().toString().equals(String.valueOf(i+1))){\r\n                    isWin = true;\r\n                }\r\n                else {\r\n                    isWin = false;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (isWin){\r\n            Toast.makeText(this, &quot;MENANG&quot;, Toast.LENGTH_SHORT).show();\r\n            for (int i = 0; i &lt;group.getChildCount();i++){\r\n                buttons[i/3][i%4].setClickable(false);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**activity_game.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.GameActivity&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/groupPuzzle&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonA&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:tag=&quot;01&quot;\r\n            android:text=&quot;A&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonB&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_toEndOf=&quot;@+id/buttonA&quot;\r\n            android:tag=&quot;02&quot;\r\n            android:text=&quot;B&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonC&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_toEndOf=&quot;@+id/buttonB&quot;\r\n            android:tag=&quot;03&quot;\r\n            android:text=&quot;C&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonD&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_below=&quot;@+id/buttonA&quot;\r\n            android:tag=&quot;04&quot;\r\n            android:text=&quot;D&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonE&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_below=&quot;@+id/buttonB&quot;\r\n            android:layout_toEndOf=&quot;@+id/buttonD&quot;\r\n            android:tag=&quot;05&quot;\r\n            android:text=&quot;E&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonF&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_below=&quot;@+id/buttonC&quot;\r\n            android:layout_toEndOf=&quot;@+id/buttonE&quot;\r\n            android:tag=&quot;06&quot;\r\n            android:text=&quot;F&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonG&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_below=&quot;@+id/buttonD&quot;\r\n            android:tag=&quot;07&quot;\r\n            android:text=&quot;G&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonH&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_below=&quot;@+id/buttonE&quot;\r\n            android:layout_toEndOf=&quot;@+id/buttonG&quot;\r\n            android:tag=&quot;08&quot;\r\n            android:text=&quot;H&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonI&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_below=&quot;@+id/buttonF&quot;\r\n            android:layout_toEndOf=&quot;@+id/buttonH&quot;\r\n            android:tag=&quot;09&quot;\r\n            android:text=&quot;I&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonJ&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_below=&quot;@+id/buttonG&quot;\r\n            android:tag=&quot;10&quot;\r\n            android:text=&quot;J&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonK&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_below=&quot;@+id/buttonH&quot;\r\n            android:layout_toEndOf=&quot;@+id/buttonJ&quot;\r\n            android:tag=&quot;11&quot;\r\n            android:text=&quot;K&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/freeButton&quot;\r\n            android:onClick=&quot;buttonClick&quot;\r\n            android:layout_below=&quot;@+id/buttonI&quot;\r\n            android:layout_toEndOf=&quot;@+id/buttonK&quot;\r\n            android:tag=&quot;12&quot;\r\n            android:text=&quot;-&quot;\r\n            android:background=&quot;@color/colorFreeButton&quot;\r\n            style=&quot;@style/ButtonStyle&quot;\r\n            /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\n**activity_main.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_gravity=&quot;center&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/startButton&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:text=&quot;Start Puzzle Game&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nSo i want when the button was clicked, the app open the GameActivity.","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.widget.RelativeLayout.getChildCount()&#39; on a null object reference","body":"<p>i am learning android development.\nI want to make the sliding puzzle game.\nI just seent the Youtube Tutorial, and i am sure this code is same as the tutorial.\nBut this code got error then cause the app force close.</p>\n<p>This problem make the app force closed. Please help.</p>\n<p>Here is the code</p>\n<p><strong>MainActiviy.java</strong></p>\n<pre><code>package com.maulana.slidingpuzzle;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n    private Button buttonStart;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        buttonStart = findViewById(R.id.startButton);\n        buttonStart.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, GameActivity.class);\n                startActivity(intent);\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>GameActivity.java</strong></p>\n<pre><code>package com.maulana.slidingpuzzle;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.ContextCompat;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.RelativeLayout;\nimport android.widget.Toast;\n\nimport java.util.Random;\n\npublic class GameActivity extends AppCompatActivity {\n\n    private  int emptyX=3;\n    private  int emptyY=3;\n    private RelativeLayout group;\n    private Button[][] buttons;\n    private int[] tiles;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_game);\n        loadNumbers();\n        loadViews();\n        generateNumbers();\n        loadDataToViews();\n    }\n    private void loadViews(){\n        group = findViewById(R.id.groupPuzzle);\n        buttons = new Button[3][4];\n\n        for (int i =0; i&lt;group.getChildCount();i++){\n            buttons[i/3][i%4] = (Button) group.getChildAt(i);\n        }\n        return;\n    }\n\n    private void loadDataToViews(){\n        emptyX=3;\n        emptyY=3;\n        for(int i = 0; i &lt;group.getChildCount()-1; i++){\n            buttons[i/3][i%4].setText(String.valueOf(tiles[i]));\n            buttons[i/3][i%4].setBackgroundResource(android.R.drawable.btn_default);\n        }\n        buttons[emptyX][emptyY].setText(&quot;&quot;);\n        buttons[emptyX][emptyY].setBackgroundColor(ContextCompat.getColor(this,R.color.colorFreeButton));\n    }\n    private void loadNumbers(){\n        tiles = new int[16];\n        for(int i =0; i&lt; group.getChildCount() -1;i++){\n            tiles[i]=i+1;\n        }\n    }\n\n    private  void generateNumbers(){\n        int n = 11;\n        Random random = new Random();\n        while (n&gt;1){\n            int randomNum = random.nextInt(n--);\n            int temp = tiles[randomNum];\n            tiles[randomNum]=tiles[n];\n            tiles[n] =temp;\n        }\n        if(!isSolvable())\n            generateNumbers();\n    }\n    private boolean isSolvable(){\n        int countInversion = 0;\n        for (int i = 0; i&lt;11;i++){\n            for (int j =0; j&lt;i; j++){\n                if(tiles[j]&gt;tiles[i])\n                    countInversion++;\n            }\n        }\n        return countInversion%2 == 0;\n    }\n\n    public void buttonClick(View view){\n        Button button = (Button) view;\n        int x = button.getTag().toString().charAt(0)-'0';\n        int y = button.getTag().toString().charAt(1)-'0';\n\n        if ((Math.abs(emptyX-x)==1&amp;&amp;emptyY==y) || (Math.abs(emptyY-y)==1 &amp;&amp; emptyX ==x)){\n            buttons[emptyX][emptyY].setText((button.getText().toString()));\n            buttons[emptyX][emptyY].setBackgroundResource(android.R.drawable.btn_default);\n            button.setText(&quot;&quot;);\n            button.setBackgroundColor(ContextCompat.getColor(this,R.color.colorFreeButton));\n            emptyY = y;\n            emptyX = x;\n            checkWin();\n        }\n    }\n\n    private  void checkWin(){\n        boolean isWin = false;\n        if(emptyX==3 &amp;&amp; emptyY==3){\n            for (int i = 0; i &lt; group.getChildCount()-1; i++){\n                if(buttons[i/3][i%4].getText().toString().equals(String.valueOf(i+1))){\n                    isWin = true;\n                }\n                else {\n                    isWin = false;\n                    break;\n                }\n            }\n        }\n        if (isWin){\n            Toast.makeText(this, &quot;MENANG&quot;, Toast.LENGTH_SHORT).show();\n            for (int i = 0; i &lt;group.getChildCount();i++){\n                buttons[i/3][i%4].setClickable(false);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>activity_game.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.GameActivity&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/groupPuzzle&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;Button\n            android:id=&quot;@+id/buttonA&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:tag=&quot;01&quot;\n            android:text=&quot;A&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n        &lt;Button\n            android:id=&quot;@+id/buttonB&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_toEndOf=&quot;@+id/buttonA&quot;\n            android:tag=&quot;02&quot;\n            android:text=&quot;B&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n        &lt;Button\n            android:id=&quot;@+id/buttonC&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_toEndOf=&quot;@+id/buttonB&quot;\n            android:tag=&quot;03&quot;\n            android:text=&quot;C&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n        &lt;Button\n            android:id=&quot;@+id/buttonD&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_below=&quot;@+id/buttonA&quot;\n            android:tag=&quot;04&quot;\n            android:text=&quot;D&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n        &lt;Button\n            android:id=&quot;@+id/buttonE&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_below=&quot;@+id/buttonB&quot;\n            android:layout_toEndOf=&quot;@+id/buttonD&quot;\n            android:tag=&quot;05&quot;\n            android:text=&quot;E&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n        &lt;Button\n            android:id=&quot;@+id/buttonF&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_below=&quot;@+id/buttonC&quot;\n            android:layout_toEndOf=&quot;@+id/buttonE&quot;\n            android:tag=&quot;06&quot;\n            android:text=&quot;F&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n        &lt;Button\n            android:id=&quot;@+id/buttonG&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_below=&quot;@+id/buttonD&quot;\n            android:tag=&quot;07&quot;\n            android:text=&quot;G&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n        &lt;Button\n            android:id=&quot;@+id/buttonH&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_below=&quot;@+id/buttonE&quot;\n            android:layout_toEndOf=&quot;@+id/buttonG&quot;\n            android:tag=&quot;08&quot;\n            android:text=&quot;H&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n        &lt;Button\n            android:id=&quot;@+id/buttonI&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_below=&quot;@+id/buttonF&quot;\n            android:layout_toEndOf=&quot;@+id/buttonH&quot;\n            android:tag=&quot;09&quot;\n            android:text=&quot;I&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n        &lt;Button\n            android:id=&quot;@+id/buttonJ&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_below=&quot;@+id/buttonG&quot;\n            android:tag=&quot;10&quot;\n            android:text=&quot;J&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n        &lt;Button\n            android:id=&quot;@+id/buttonK&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_below=&quot;@+id/buttonH&quot;\n            android:layout_toEndOf=&quot;@+id/buttonJ&quot;\n            android:tag=&quot;11&quot;\n            android:text=&quot;K&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n        &lt;Button\n            android:id=&quot;@+id/freeButton&quot;\n            android:onClick=&quot;buttonClick&quot;\n            android:layout_below=&quot;@+id/buttonI&quot;\n            android:layout_toEndOf=&quot;@+id/buttonK&quot;\n            android:tag=&quot;12&quot;\n            android:text=&quot;-&quot;\n            android:background=&quot;@color/colorFreeButton&quot;\n            style=&quot;@style/ButtonStyle&quot;\n            /&gt;\n\n    &lt;/RelativeLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_gravity=&quot;center&quot;&gt;\n\n        &lt;Button\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/startButton&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:text=&quot;Start Puzzle Game&quot;/&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>So i want when the button was clicked, the app open the GameActivity.</p>\n"},{"tags":["java","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694618575,"creation_date":1662845136,"answer_id":73675258,"question_id":73674457,"body_markdown":"There are several issues in your code:\r\n\r\n* The filtering logic is incorrect: you said you need to retain only roles `&quot;admin&quot;` and `&quot;user&quot;`, but according to your code any `List` of `Employee` that contains at least one employee with either of these roles is good to go (meaning the **whole** list, not only employee having the required role). That&#39;s why you see roles `âsuperâ` in your output. You need to filter the *employees* in each *list*, instead of filtering the *lists*.\r\n\r\n* That&#39;s not a job for `Stream.forEach`, which operates via *side-effects*. It&#39;s **discouraged** to be used in place of [*reduction operations*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Reduction). Have a look at the [API documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects), especially pay attention to the code examples.\r\n\r\n* Instead of iterating over the `Set` of roles, we can simply use `contains()` check, and iterate only over the entries of the map which you&#39;re retrieving by calling `Either.left(dataInput).value()`.\r\n\r\nTo accumulate the values from the stream we have a wide range of operations, and the most suitable of them in this case is `collect()`, because we need to perform mutable reduction.\r\n\r\nIn this case we can&#39;t apply the filtering logic inside the stream without creating new objects (*which costs performance*), or without mutating the existing data (*even if you no longer need it, it&#39;s not the way to go because mutating the objects in the stream goes against the Functional programming paradigm*).\r\n\r\nAnother option we have is to perform filtering inside a `Collector` while accumulating the data. I&#39;ll proceed with it.\r\n\r\nIn order to generate the resulting map, we can use *collector* [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)) in conjunction with [`flatMapping()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)) + `toList()` applied as the downstream.\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n```\r\nMap&lt;String, List&lt;? extends Employee&gt;&gt; dataInput = // initializing dataInput\r\n        \r\nSet&lt;String&gt; realmroles = // initializing realmroles\r\n\r\nreturn Either.left().value().entrySet().stream()\r\n    .collect(Collectors.groupingBy(\r\n        Map.Entry::getKey,\r\n        Collectors.flatMapping(entry -&gt; entry.getValue().stream()\r\n                .filter(emp -&gt; realmroles.contains(((Employee) emp).getRole())),\r\n            Collectors.toList())\r\n    ));\r\n```","title":"Map&lt;String, List&lt;? extends Object&gt;&gt; filtering issue with Stream API","body":"<p>There are several issues in your code:</p>\n<ul>\n<li><p>The filtering logic is incorrect: you said you need to retain only roles <code>&quot;admin&quot;</code> and <code>&quot;user&quot;</code>, but according to your code any <code>List</code> of <code>Employee</code> that contains at least one employee with either of these roles is good to go (meaning the <strong>whole</strong> list, not only employee having the required role). That's why you see roles <code>âsuperâ</code> in your output. You need to filter the <em>employees</em> in each <em>list</em>, instead of filtering the <em>lists</em>.</p>\n</li>\n<li><p>That's not a job for <code>Stream.forEach</code>, which operates via <em>side-effects</em>. It's <strong>discouraged</strong> to be used in place of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\"><em>reduction operations</em></a>. Have a look at the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">API documentation</a>, especially pay attention to the code examples.</p>\n</li>\n<li><p>Instead of iterating over the <code>Set</code> of roles, we can simply use <code>contains()</code> check, and iterate only over the entries of the map which you're retrieving by calling <code>Either.left(dataInput).value()</code>.</p>\n</li>\n</ul>\n<p>To accumulate the values from the stream we have a wide range of operations, and the most suitable of them in this case is <code>collect()</code>, because we need to perform mutable reduction.</p>\n<p>In this case we can't apply the filtering logic inside the stream without creating new objects (<em>which costs performance</em>), or without mutating the existing data (<em>even if you no longer need it, it's not the way to go because mutating the objects in the stream goes against the Functional programming paradigm</em>).</p>\n<p>Another option we have is to perform filtering inside a <code>Collector</code> while accumulating the data. I'll proceed with it.</p>\n<p>In order to generate the resulting map, we can use <em>collector</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a> in conjunction with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>flatMapping()</code></a> + <code>toList()</code> applied as the downstream.</p>\n<p>That's how it might be implemented:</p>\n<pre><code>Map&lt;String, List&lt;? extends Employee&gt;&gt; dataInput = // initializing dataInput\n        \nSet&lt;String&gt; realmroles = // initializing realmroles\n\nreturn Either.left().value().entrySet().stream()\n    .collect(Collectors.groupingBy(\n        Map.Entry::getKey,\n        Collectors.flatMapping(entry -&gt; entry.getValue().stream()\n                .filter(emp -&gt; realmroles.contains(((Employee) emp).getRole())),\n            Collectors.toList())\n    ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23022074,"reputation":1,"user_id":17142959,"display_name":"hcan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662851030,"creation_date":1662851030,"answer_id":73675743,"question_id":73674457,"body_markdown":"You have to set the value (emp list) in your map.\r\n\r\n    followedResourcesServices.left().value().entrySet().stream().forEach(e -&gt; {\r\n    \t\te.setValue(e.getValue().stream().filter(i -&gt; realmroles.stream().anyMatch(role -&gt; ((Employee) i).getRole().equals(role))).\r\n    \t\t\t\tcollect(Collectors.toList()));\r\n    \t\tdataResponse.put(e.getKey(), e.getValue());\r\n    \t});","title":"Map&lt;String, List&lt;? extends Object&gt;&gt; filtering issue with Stream API","body":"<p>You have to set the value (emp list) in your map.</p>\n<pre><code>followedResourcesServices.left().value().entrySet().stream().forEach(e -&gt; {\n        e.setValue(e.getValue().stream().filter(i -&gt; realmroles.stream().anyMatch(role -&gt; ((Employee) i).getRole().equals(role))).\n                collect(Collectors.toList()));\n        dataResponse.put(e.getKey(), e.getValue());\n    });\n</code></pre>\n"}],"owner":{"account_id":26301124,"reputation":11,"user_id":19966480,"display_name":"Ajith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694618575,"creation_date":1662836045,"question_id":73674457,"body_markdown":"I have `Employee` object that has `3` fields: `name`, `role`, `companyName`.\r\n\r\nI need to filter `Employee` objects based on a `role` property.\r\n\r\nDespite that I&#39;m applying `filter` in the stream in the code below, it&#39;s returning the **entire** data.\r\n\r\n*My code:*\r\n\r\n    public static Map&lt;String, List&lt;? extends Employee&gt;&gt; testMappingFilter(List&lt;Employee&gt; emp) {\r\n        Map&lt;String, List&lt;? extends Employee&gt;&gt; dataInput = new HashMap&lt;&gt;();\r\n        for (Employee entry : emp) {\r\n            dataInput.put(&quot;senior&quot;, new ArrayList(emp));\r\n            dataInput.put(&quot;junior&quot;, new ArrayList(emp));\r\n        }\r\n        \r\n        Map&lt;String, List&lt;? extends Employee&gt;&gt; dataResponse = new HashMap&lt;&gt;();\r\n        \r\n        Set&lt;String&gt; realmroles = new HashSet&lt;&gt;();\r\n        realmroles.add(&quot;admin&quot;);\r\n        realmroles.add(&quot;user&quot;);\r\n        \r\n        Either&lt;Map&lt;String, List&lt;? extends Employee&gt;&gt;, ResponseFormat&gt; followedResourcesServices = Either.left(dataInput);\r\n        \r\n        realmroles.stream().forEach(role -&gt; \r\n            followedResourcesServices.left().value().entrySet().stream()\r\n                    .filter(elements -&gt; elements.getValue().stream().anyMatch(i -&gt; ((Employee) i).getRole().contains(role)))\r\n                .forEach(elements -&gt; dataResponse.put(elements.getKey(), elements.getValue())));\r\n        \r\n        return dataResponse;\r\n    }\r\n\r\n***Sample data:***\r\n\r\n*Expected Output:*\r\n\r\n(expected roles are only `&quot;admin&quot;` and `&quot;user&quot;`, data related to role `&quot;super&quot;` should not come)\r\n\r\n```json\r\n{ âseniorâ :\r\n   [ { ânameâ:âABCâ, âroleâ:âadminâ, âcompanyNameâ:âABC &amp;Coâ },\r\n     { ânameâ:âXYZâ, âroleâ:âadminâ, âcompanyNameâ:âXYZ &amp;Coâ },\r\n     { ânameâ:âRSTâ, âroleâ:âuserâ, âcompanyNameâ:âRST &amp;Coâ } ],\r\n  âjuniorâ :\r\n   [ { ânameâ:âABCâ, âroleâ:âadminâ, âcompanyNameâ:âABC &amp;Coâ },\r\n     { ânameâ:âXYZâ, âroleâ:âadminâ, âcompanyNameâ:âXYZ &amp;Coâ },\r\n     { ânameâ:âRSTâ, âroleâ:âuserâ, âcompanyNameâ:âRST &amp;Coâ } ] \r\n}\r\n```\r\n\r\n*Actual output:*\r\n\r\n```json\r\n{ âseniorâ :\r\n   [ { ânameâ:âABCâ, âroleâ:âadminâ, âcompanyNameâ:âABC &amp;Coâ },\r\n     { ânameâ:âDDDâ, âroleâ:âsuperâ, âcompanyNameâ:âDDD &amp;Coâ },\r\n     { ânameâ:âXYZâ, âroleâ:âadminâ, âcompanyNameâ:âXYZ &amp;Coâ },\r\n     { ânameâ:âRSTâ, âroleâ:âuserâ, âcompanyNameâ:âRST &amp;Coâ } ],\r\n  âjuniorâ :\r\n   [ { ânameâ:âABCâ, âroleâ:âadminâ, âcompanyNameâ:âABC &amp;Coâ },\r\n     { ânameâ:âDDDâ, âroleâ:âsuperâ, âcompanyNameâ:âDDD &amp;Coâ },\r\n     { ânameâ:âXYZâ, âroleâ:âadminâ, âcompanyNameâ:âXYZ &amp;Coâ },\r\n     { ânameâ:âRSTâ, âroleâ:âuserâ, âcompanyNameâ:âRST &amp;Coâ } ] \r\n}\r\n```","title":"Map&lt;String, List&lt;? extends Object&gt;&gt; filtering issue with Stream API","body":"<p>I have <code>Employee</code> object that has <code>3</code> fields: <code>name</code>, <code>role</code>, <code>companyName</code>.</p>\n<p>I need to filter <code>Employee</code> objects based on a <code>role</code> property.</p>\n<p>Despite that I'm applying <code>filter</code> in the stream in the code below, it's returning the <strong>entire</strong> data.</p>\n<p><em>My code:</em></p>\n<pre><code>public static Map&lt;String, List&lt;? extends Employee&gt;&gt; testMappingFilter(List&lt;Employee&gt; emp) {\n    Map&lt;String, List&lt;? extends Employee&gt;&gt; dataInput = new HashMap&lt;&gt;();\n    for (Employee entry : emp) {\n        dataInput.put(&quot;senior&quot;, new ArrayList(emp));\n        dataInput.put(&quot;junior&quot;, new ArrayList(emp));\n    }\n    \n    Map&lt;String, List&lt;? extends Employee&gt;&gt; dataResponse = new HashMap&lt;&gt;();\n    \n    Set&lt;String&gt; realmroles = new HashSet&lt;&gt;();\n    realmroles.add(&quot;admin&quot;);\n    realmroles.add(&quot;user&quot;);\n    \n    Either&lt;Map&lt;String, List&lt;? extends Employee&gt;&gt;, ResponseFormat&gt; followedResourcesServices = Either.left(dataInput);\n    \n    realmroles.stream().forEach(role -&gt; \n        followedResourcesServices.left().value().entrySet().stream()\n                .filter(elements -&gt; elements.getValue().stream().anyMatch(i -&gt; ((Employee) i).getRole().contains(role)))\n            .forEach(elements -&gt; dataResponse.put(elements.getKey(), elements.getValue())));\n    \n    return dataResponse;\n}\n</code></pre>\n<p><em><strong>Sample data:</strong></em></p>\n<p><em>Expected Output:</em></p>\n<p>(expected roles are only <code>&quot;admin&quot;</code> and <code>&quot;user&quot;</code>, data related to role <code>&quot;super&quot;</code> should not come)</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ âseniorâ :\n   [ { ânameâ:âABCâ, âroleâ:âadminâ, âcompanyNameâ:âABC &amp;Coâ },\n     { ânameâ:âXYZâ, âroleâ:âadminâ, âcompanyNameâ:âXYZ &amp;Coâ },\n     { ânameâ:âRSTâ, âroleâ:âuserâ, âcompanyNameâ:âRST &amp;Coâ } ],\n  âjuniorâ :\n   [ { ânameâ:âABCâ, âroleâ:âadminâ, âcompanyNameâ:âABC &amp;Coâ },\n     { ânameâ:âXYZâ, âroleâ:âadminâ, âcompanyNameâ:âXYZ &amp;Coâ },\n     { ânameâ:âRSTâ, âroleâ:âuserâ, âcompanyNameâ:âRST &amp;Coâ } ] \n}\n</code></pre>\n<p><em>Actual output:</em></p>\n<pre class=\"lang-json prettyprint-override\"><code>{ âseniorâ :\n   [ { ânameâ:âABCâ, âroleâ:âadminâ, âcompanyNameâ:âABC &amp;Coâ },\n     { ânameâ:âDDDâ, âroleâ:âsuperâ, âcompanyNameâ:âDDD &amp;Coâ },\n     { ânameâ:âXYZâ, âroleâ:âadminâ, âcompanyNameâ:âXYZ &amp;Coâ },\n     { ânameâ:âRSTâ, âroleâ:âuserâ, âcompanyNameâ:âRST &amp;Coâ } ],\n  âjuniorâ :\n   [ { ânameâ:âABCâ, âroleâ:âadminâ, âcompanyNameâ:âABC &amp;Coâ },\n     { ânameâ:âDDDâ, âroleâ:âsuperâ, âcompanyNameâ:âDDD &amp;Coâ },\n     { ânameâ:âXYZâ, âroleâ:âadminâ, âcompanyNameâ:âXYZ &amp;Coâ },\n     { ânameâ:âRSTâ, âroleâ:âuserâ, âcompanyNameâ:âRST &amp;Coâ } ] \n}\n</code></pre>\n"},{"tags":["java","spring-boot","build","spring-data-jpa","jar"],"owner":{"account_id":26003956,"reputation":11,"user_id":19713960,"display_name":"dev.akdogan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694620815,"answer_count":0,"score":0,"last_activity_date":1694617697,"creation_date":1694617526,"question_id":77098306,"body_markdown":"I have never encountered such a problem before. My project, which runs smoothly when I run it with Intellij IDEA, gives the following error when I try to run it locally after building the artifact and generating a JAR:\r\n\r\n```\r\n17:30:42.980 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;newsController&#39; defined in URL [jar:file:/C:/Users/akdogan/Downloads/News%20Panel/News-Panel/out/artifacts/News_Panel_jar/News-Panel.jar!/com/istanify/controller/NewsController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;newsService&#39; defined in URL [jar:file:/C:/Users/akdogan/Downloads/News%20Panel/News-Panel/out/artifacts/News_Panel_jar/News-Panel.jar!/com/istanify/service/NewsService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;entityManager&#39; defined in class path resource [com/istanify/bean/EntityManagerBean.class]: Unsatisfied dependency expressed through method &#39;entityManager&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.persistence.EntityManagerFactory&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n```\r\n\r\nWhen I completely remove the injection related to EntityManager from the service, it gives the following error:\r\n\r\n```\r\n17:38:49.630 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;newsController&#39; defined in URL [jar:file:/C:/Users/akdogan/Downloads/News%20Panel/News-Panel/out/artifacts/News_Panel_jar/News-Panel.jar!/com/istanify/controller/NewsController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;newsService&#39; defined in URL [jar:file:/C:/Users/akdogan/Downloads/News%20Panel/News-Panel/out/artifacts/News_Panel_jar/News-Panel.jar!/com/istanify/service/NewsService.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.istanify.repository.NewsRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n       \r\n```\r\n\r\nThats are my classes and settings:\r\n\r\nController;\r\n\r\n```\r\npackage com.istanify.controller;\r\n\r\n//imports\r\n\r\n@RestController\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;/news&quot;)\r\npublic class NewsController {\r\n\r\n    private final NewsService newsService;\r\n\r\n  //some methods\r\n}\r\n```\r\n\r\nService;\r\n\r\n```\r\npackage com.istanify.service;\r\n\r\n\r\n//imports\r\n\r\n\r\n@Service\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class NewsService {\r\n\r\n\r\n/*    @PersistenceContext\r\n    private final EntityManager entityManager;*/ manager in comment here\r\n    private final NewsMapper newsMapper;\r\n    private final NewsRepository newsRepository;\r\n    private final TagService tagService;\r\n\r\n\r\n\r\n   //some methods\r\n\r\n}\r\n```\r\n\r\nRepository;\r\n\r\n```\r\npackage com.istanify.repository;\r\n\r\nimport com.istanify.model.concrete.News;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface NewsRepository extends JpaRepository&lt;News,Long&gt; {\r\n}\r\n```\r\n\r\nmodel;\r\n\r\n```\r\npackage com.istanify.model.concrete;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;t_news&quot;)\r\npublic class News {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String newsTitle;\r\n\r\n    private String newsContent;\r\n\r\n    private String newsSource;\r\n\r\n    private String author;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;t_news_tags&quot;,\r\n    joinColumns = @JoinColumn(name = &quot;news_id&quot;),\r\n    inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\r\n    private List&lt;Tag&gt; tags;\r\n}\r\n```\r\n\r\napplication.yml;\r\n```\r\n\r\nserver:\r\n  port:  8081\r\n  error:\r\n    include-binding-errors: always\r\n    include-message: always\r\n    include-stacktrace: never\r\n\r\nspring:\r\n  config:\r\n    import:\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/${task_database}\r\n    username: ${database_username}\r\n    password: ${database_password}\r\n    driver-class-name: org.postgresql.Driver\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n    show-sql: true\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n    properties:\r\n      &#39;[hibernate.format_sql]&#39;: true\r\n  #image\r\n  servlet:\r\n    multipart:\r\n      max-file-size: 2MB\r\n      max-request-size: 2MB\r\n\r\nlogging:\r\n  file:\r\n    name: log/istanify.log\r\n  pattern:\r\n    file: &quot;%d %-5level [%thread]  %logger:%msg%n&quot;\r\n  level:\r\n    &#39;[org.springframework.web]&#39;: WARN\r\n    &#39;[org.hibernate]&#39;: INFO\r\n    &#39;[org.istanify]&#39;: DEBUG\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &#39;*&#39;\r\n  info:\r\n    env:\r\n      enabled: true\r\n  endpoint:\r\n    health:\r\n      show-details: always\r\n    shutdown:\r\n      enabled:  true\r\n\r\ninfo:\r\n  application:\r\n    name: &#39;Istanify Remote API 1&#39;\r\n    description: &#39;Istanify Remote API Project&#39;\r\n    version: &#39;@project.version@&#39;\r\n```\r\n\r\npom.xml;\r\n```\r\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.15&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.istanify&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;News-Panel&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;News-Panel&lt;/name&gt;\r\n\t&lt;description&gt;News Panel project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;org.mapstruct.version&gt;1.5.5.Final&lt;/org.mapstruct.version&gt;\r\n\t\t&lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\r\n\t\t&lt;springdoc.openapi.version&gt;1.6.9&lt;/springdoc.openapi.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springdoc.openapi.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n\t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nWhile the project runs smoothly, it seems absurd that it starts causing problems immediately after building. I&#39;m wondering if there might be an issue related to Lombok because there have been no issues during development. As soon as the project turns into News-Panel.jar file, it starts failing to find EntityManager. If I comment it out, it becomes unable to find any repository. I would greatly appreciate it if someone who knows could help. I am currently experiencing this issue with all of my projects. Thank you.","title":"My Spring Boot project doesn&#39;t work after building a JAR","body":"<p>I have never encountered such a problem before. My project, which runs smoothly when I run it with Intellij IDEA, gives the following error when I try to run it locally after building the artifact and generating a JAR:</p>\n<pre><code>17:30:42.980 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'newsController' defined in URL [jar:file:/C:/Users/akdogan/Downloads/News%20Panel/News-Panel/out/artifacts/News_Panel_jar/News-Panel.jar!/com/istanify/controller/NewsController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'newsService' defined in URL [jar:file:/C:/Users/akdogan/Downloads/News%20Panel/News-Panel/out/artifacts/News_Panel_jar/News-Panel.jar!/com/istanify/service/NewsService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManager' defined in class path resource [com/istanify/bean/EntityManagerBean.class]: Unsatisfied dependency expressed through method 'entityManager' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.persistence.EntityManagerFactory' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>When I completely remove the injection related to EntityManager from the service, it gives the following error:</p>\n<pre><code>17:38:49.630 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'newsController' defined in URL [jar:file:/C:/Users/akdogan/Downloads/News%20Panel/News-Panel/out/artifacts/News_Panel_jar/News-Panel.jar!/com/istanify/controller/NewsController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'newsService' defined in URL [jar:file:/C:/Users/akdogan/Downloads/News%20Panel/News-Panel/out/artifacts/News_Panel_jar/News-Panel.jar!/com/istanify/service/NewsService.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.istanify.repository.NewsRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n       \n</code></pre>\n<p>Thats are my classes and settings:</p>\n<p>Controller;</p>\n<pre><code>package com.istanify.controller;\n\n//imports\n\n@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/news&quot;)\npublic class NewsController {\n\n    private final NewsService newsService;\n\n  //some methods\n}\n</code></pre>\n<p>Service;</p>\n<pre><code>package com.istanify.service;\n\n\n//imports\n\n\n@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class NewsService {\n\n\n/*    @PersistenceContext\n    private final EntityManager entityManager;*/ manager in comment here\n    private final NewsMapper newsMapper;\n    private final NewsRepository newsRepository;\n    private final TagService tagService;\n\n\n\n   //some methods\n\n}\n</code></pre>\n<p>Repository;</p>\n<pre><code>package com.istanify.repository;\n\nimport com.istanify.model.concrete.News;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface NewsRepository extends JpaRepository&lt;News,Long&gt; {\n}\n</code></pre>\n<p>model;</p>\n<pre><code>package com.istanify.model.concrete;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;t_news&quot;)\npublic class News {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String newsTitle;\n\n    private String newsContent;\n\n    private String newsSource;\n\n    private String author;\n\n    @ManyToMany\n    @JoinTable(name = &quot;t_news_tags&quot;,\n    joinColumns = @JoinColumn(name = &quot;news_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\n    private List&lt;Tag&gt; tags;\n}\n</code></pre>\n<p>application.yml;</p>\n<pre><code>\nserver:\n  port:  8081\n  error:\n    include-binding-errors: always\n    include-message: always\n    include-stacktrace: never\n\nspring:\n  config:\n    import:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/${task_database}\n    username: ${database_username}\n    password: ${database_password}\n    driver-class-name: org.postgresql.Driver\n  jpa:\n    hibernate:\n      ddl-auto: update\n    show-sql: true\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n    properties:\n      '[hibernate.format_sql]': true\n  #image\n  servlet:\n    multipart:\n      max-file-size: 2MB\n      max-request-size: 2MB\n\nlogging:\n  file:\n    name: log/istanify.log\n  pattern:\n    file: &quot;%d %-5level [%thread]  %logger:%msg%n&quot;\n  level:\n    '[org.springframework.web]': WARN\n    '[org.hibernate]': INFO\n    '[org.istanify]': DEBUG\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: '*'\n  info:\n    env:\n      enabled: true\n  endpoint:\n    health:\n      show-details: always\n    shutdown:\n      enabled:  true\n\ninfo:\n  application:\n    name: 'Istanify Remote API 1'\n    description: 'Istanify Remote API Project'\n    version: '@project.version@'\n</code></pre>\n<p>pom.xml;</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.15&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.istanify&lt;/groupId&gt;\n    &lt;artifactId&gt;News-Panel&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;News-Panel&lt;/name&gt;\n    &lt;description&gt;News Panel project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.5.Final&lt;/org.mapstruct.version&gt;\n        &lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\n        &lt;springdoc.openapi.version&gt;1.6.9&lt;/springdoc.openapi.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc.openapi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt; &lt;!-- depending on your project --&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt; &lt;!-- depending on your project --&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>While the project runs smoothly, it seems absurd that it starts causing problems immediately after building. I'm wondering if there might be an issue related to Lombok because there have been no issues during development. As soon as the project turns into News-Panel.jar file, it starts failing to find EntityManager. If I comment it out, it becomes unable to find any repository. I would greatly appreciate it if someone who knows could help. I am currently experiencing this issue with all of my projects. Thank you.</p>\n"},{"tags":["java","callback","java-native-interface","ffi","project-panama"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1672664585,"post_id":74982535,"comment_id":132322163,"body_markdown":"Could you give it a try with the JDK20 early access build? (https://jdk.java.net/20/) The `ArrayIndexOutOfBoundsException` could be caused by a bug that exists in 19 (https://github.com/openjdk/panama-foreign/pull/720)","body":"Could you give it a try with the JDK20 early access build? (<a href=\"https://jdk.java.net/20/\" rel=\"nofollow noreferrer\">jdk.java.net/20</a>) The <code>ArrayIndexOutOfBoundsException</code> could be caused by a bug that exists in 19 (<a href=\"https://github.com/openjdk/panama-foreign/pull/720\" rel=\"nofollow noreferrer\">github.com/openjdk/panama-foreign/pull/720</a>)"},{"owner":{"account_id":7234121,"reputation":2010,"user_id":5519975,"accept_rate":89,"display_name":"Tristan"},"score":0,"creation_date":1672666269,"post_id":74982535,"comment_id":132322651,"body_markdown":"@JornVernee It does work in the JDK20 early access build, so that explains it. Thanks!","body":"@JornVernee It does work in the JDK20 early access build, so that explains it. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":7234121,"reputation":2010,"user_id":5519975,"accept_rate":89,"display_name":"Tristan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694617695,"creation_date":1694617695,"answer_id":77098327,"question_id":74982535,"body_markdown":"There was [a bug in JDK19](https://bugs.openjdk.org/browse/JDK-8291873) such that there was no value normalization in upcalls.\r\n\r\nThis is now fixed.","title":"Callback function&#39;s byte parameter has value out of bounds in project Panama function interface","body":"<p>There was <a href=\"https://bugs.openjdk.org/browse/JDK-8291873\" rel=\"nofollow noreferrer\">a bug in JDK19</a> such that there was no value normalization in upcalls.</p>\n<p>This is now fixed.</p>\n"}],"owner":{"account_id":7234121,"reputation":2010,"user_id":5519975,"accept_rate":89,"display_name":"Tristan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77098327,"answer_count":1,"score":0,"last_activity_date":1694617695,"creation_date":1672663196,"question_id":74982535,"body_markdown":"I&#39;m using the new Foreign function &amp; memory API which is part of project Panama and available in preview in JAVA 19.\r\n\r\nThis is a simple Java callback function\r\n\r\n    public static byte addFive(byte t) {\r\n        Byte test = (Byte) t;\r\n        return (byte) (Long.valueOf(test) + 5);\r\n    }\r\n\r\nI have a native library function that is called with parameters `addFive` and `(byte) -41`.\r\n\r\n```\r\nuint8_t callback_test(uint8_t (*fn)(uint8_t), uint8_t arg) {\r\n    uint8_t res = fn(arg + 1) * 2;\r\n    return res;\r\n}\r\n```\r\n\r\nI expect `t` to have value `-40`, and this does show in the Intellij debugger. But when you print it, it prints `216` instead. In addition, casting to `Byte` gives an `ArrayIndexOutOfBoundsException`.\r\n\r\nI do realize that the native function is an unsigned int, so the returned value of `216` makes sense. However, a `java byte` should not be allowed that value, so, I expect java to automatically convert it to `-41`. \r\n\r\nIs this behavior expected? \r\n\r\nWhat is the correct way to get the unsigned int from the native code passed to the java function as a byte in the range [-128, 127]?","title":"Callback function&#39;s byte parameter has value out of bounds in project Panama function interface","body":"<p>I'm using the new Foreign function &amp; memory API which is part of project Panama and available in preview in JAVA 19.</p>\n<p>This is a simple Java callback function</p>\n<pre><code>public static byte addFive(byte t) {\n    Byte test = (Byte) t;\n    return (byte) (Long.valueOf(test) + 5);\n}\n</code></pre>\n<p>I have a native library function that is called with parameters <code>addFive</code> and <code>(byte) -41</code>.</p>\n<pre><code>uint8_t callback_test(uint8_t (*fn)(uint8_t), uint8_t arg) {\n    uint8_t res = fn(arg + 1) * 2;\n    return res;\n}\n</code></pre>\n<p>I expect <code>t</code> to have value <code>-40</code>, and this does show in the Intellij debugger. But when you print it, it prints <code>216</code> instead. In addition, casting to <code>Byte</code> gives an <code>ArrayIndexOutOfBoundsException</code>.</p>\n<p>I do realize that the native function is an unsigned int, so the returned value of <code>216</code> makes sense. However, a <code>java byte</code> should not be allowed that value, so, I expect java to automatically convert it to <code>-41</code>.</p>\n<p>Is this behavior expected?</p>\n<p>What is the correct way to get the unsigned int from the native code passed to the java function as a byte in the range [-128, 127]?</p>\n"},{"tags":["java","macos","intellij-idea","download"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684738637,"creation_date":1648592857,"answer_id":71669455,"question_id":71669393,"body_markdown":"# tl;dr\r\n\r\n&gt;`/Users/your_username_here/Library/Java/JavaVirtualMachines/`\r\n\r\n# Details\r\n\r\nYou can inspect the JDKs known to IntelliJ by choosing *File &gt; Project Structure &gt; Platform Settings &gt; SDKs*.\r\n\r\n[![Screenshot of IntelliJ&#39;s list of known SDKS with inspector for their location][1]][1]\r\n\r\nNotice how the location of the selected JDK is shown in the *JDK home path* field.\r\n\r\nIn this example, the JDK downloaded by IntelliJ was put in:\r\n\r\n```bash\r\n/Users/your_username_here/Library/Java/JavaVirtualMachines/\r\n```\r\n\r\nNote that this location contrasts with the location used by some of the independent JDK installers. In my experience, those tools use the root `/Library` path, rather than in the userâs `~/Library`. That full path would be: `/Library/Java/JavaVirtualMachines`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D6aBX.jpg","title":"Where does IntelliJ store the JDKs that it downloads on my behalf?","body":"<h1>tl;dr</h1>\n<blockquote>\n<p><code>/Users/your_username_here/Library/Java/JavaVirtualMachines/</code></p>\n</blockquote>\n<h1>Details</h1>\n<p>You can inspect the JDKs known to IntelliJ by choosing <em>File &gt; Project Structure &gt; Platform Settings &gt; SDKs</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/D6aBX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6aBX.jpg\" alt=\"Screenshot of IntelliJ's list of known SDKS with inspector for their location\" /></a></p>\n<p>Notice how the location of the selected JDK is shown in the <em>JDK home path</em> field.</p>\n<p>In this example, the JDK downloaded by IntelliJ was put in:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/Users/your_username_here/Library/Java/JavaVirtualMachines/\n</code></pre>\n<p>Note that this location contrasts with the location used by some of the independent JDK installers. In my experience, those tools use the root <code>/Library</code> path, rather than in the userâs <code>~/Library</code>. That full path would be: <code>/Library/Java/JavaVirtualMachines</code>.</p>\n"},{"tags":[],"owner":{"account_id":3278108,"reputation":3291,"user_id":2759473,"accept_rate":41,"display_name":"Tomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694606642,"creation_date":1694606642,"answer_id":77096917,"question_id":71669393,"body_markdown":"It&#39;s changing form version to version, but can be easily inspected via:\r\n\r\nFile &gt; Project Structure &gt; Platform Settings | SDKs\r\n\r\nnow it&#39;s in `.jdks` subfolder in 2023 :)","title":"Where does IntelliJ store the JDKs that it downloads on my behalf?","body":"<p>It's changing form version to version, but can be easily inspected via:</p>\n<p>File &gt; Project Structure &gt; Platform Settings | SDKs</p>\n<p>now it's in <code>.jdks</code> subfolder in 2023 :)</p>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4946,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71669455,"answer_count":2,"score":2,"last_activity_date":1694617318,"creation_date":1648592282,"question_id":71669393,"body_markdown":"Recent versions of IntelliJ can download a JDK for the convenience of the user. \r\n\r\nHowever, those downloaded JDKs are not appearing in the canonical place, at least not on my Mac:\r\n\r\n```bash\r\n/Library/Java/JavaVirtualMachines \r\n```\r\n\r\nSo where are the downloaded JDKs being stored?\r\n\r\nI would like to inspect them, and possibly delete some.\r\n\r\nI have found this documentation page, [*SDKs*](https://www.jetbrains.com/help/idea/sdk.html), but did not see the storage location mentioned there.\r\n","title":"Where does IntelliJ store the JDKs that it downloads on my behalf?","body":"<p>Recent versions of IntelliJ can download a JDK for the convenience of the user.</p>\n<p>However, those downloaded JDKs are not appearing in the canonical place, at least not on my Mac:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>/Library/Java/JavaVirtualMachines \n</code></pre>\n<p>So where are the downloaded JDKs being stored?</p>\n<p>I would like to inspect them, and possibly delete some.</p>\n<p>I have found this documentation page, <a href=\"https://www.jetbrains.com/help/idea/sdk.html\" rel=\"nofollow noreferrer\"><em>SDKs</em></a>, but did not see the storage location mentioned there.</p>\n"},{"tags":["java","maven","maven-dependency-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694615745,"post_id":77097989,"comment_id":135915086,"body_markdown":"If using `compile` or `package` works fine.. What is exactly the issue to only run the life cycle phase `process-sources`? Can you give a real example, show the configuration? Maven version etc.","body":"If using <code>compile</code> or <code>package</code> works fine.. What is exactly the issue to only run the life cycle phase <code>process-sources</code>? Can you give a real example, show the configuration? Maven version etc."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694615781,"post_id":77097989,"comment_id":135915103,"body_markdown":"Have you read https://stackoverflow.com/questions/16205778/what-are-maven-goals-and-phases-and-what-is-their-difference?","body":"Have you read <a href=\"https://stackoverflow.com/questions/16205778/what-are-maven-goals-and-phases-and-what-is-their-difference\" title=\"what are maven goals and phases and what is their difference\">stackoverflow.com/questions/16205778/&hellip;</a>?"},{"owner":{"display_name":"user3367378"},"score":0,"creation_date":1694616347,"post_id":77097989,"comment_id":135915241,"body_markdown":"@khmarbaise I can&#39;t put much code up due to it being proprietary... I&#39;ll add the error output to the question, with some redactions though.","body":"@khmarbaise I can&#39;t put much code up due to it being proprietary... I&#39;ll add the error output to the question, with some redactions though."},{"owner":{"display_name":"user3367378"},"score":0,"creation_date":1694616678,"post_id":77097989,"comment_id":135915311,"body_markdown":"@Kayaman yes, I saw that, and it states what I thought would be the case, where if goal Z is executed then Goals X and Y (preceding) would be included.","body":"@Kayaman yes, I saw that, and it states what I thought would be the case, where if goal Z is executed then Goals X and Y (preceding) would be included."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694617325,"post_id":77097989,"comment_id":135915464,"body_markdown":"So you read it, but you did not understand it &quot;If you specify a phase then Maven will run all phases up to the phase you specified in order (e.g. if you specify package it will first run through the compile phase and then the test phase and finally the package phase) and for each phase it will run all goals attached to that phase.&quot;","body":"So you read it, but you did not understand it &quot;If you specify a phase then Maven will run all phases up to the phase you specified in order (e.g. if you specify package it will first run through the compile phase and then the test phase and finally the package phase) and for each phase it will run all goals attached to that phase.&quot;"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694617412,"post_id":77097989,"comment_id":135915483,"body_markdown":"&quot;If you specify a goal when you execute Maven then it will run that goal and only that goal.&quot;.","body":"&quot;If you specify a goal when you execute Maven then it will run that goal and only that goal.&quot;."},{"owner":{"display_name":"user3367378"},"score":0,"creation_date":1694617428,"post_id":77097989,"comment_id":135915487,"body_markdown":"No I get it, and that&#39;s exactly what I&#39;m trying to do, run only the phases up-to-and-including &#39;process-sources&#39; by running `mvn process-sources`\n\nAre you saying that this should or should not work?","body":"No I get it, and that&#39;s exactly what I&#39;m trying to do, run only the phases up-to-and-including &#39;process-sources&#39; by running <code>mvn process-sources</code>  Are you saying that this should or should not work?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694617515,"post_id":77097989,"comment_id":135915512,"body_markdown":"I quote you &quot;How do I execute only the process-sources phase&quot;, so is it only or up to? What are you expecting to run in the process-sources phase anyway?","body":"I quote you &quot;How do I execute only the process-sources phase&quot;, so is it only or up to? What are you expecting to run in the process-sources phase anyway?"},{"owner":{"display_name":"user3367378"},"score":0,"creation_date":1694617632,"post_id":77097989,"comment_id":135915535,"body_markdown":"Your point? This is getting aggressive dude - should `mvn process-sources` work or not when `mvn compile` does?","body":"Your point? This is getting aggressive dude - should <code>mvn process-sources</code> work or not when <code>mvn compile</code> does?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694618551,"post_id":77097989,"comment_id":135915745,"body_markdown":"That error message `was not found in https://artifactory-na.unnamedcorp.com:443/artifactor` shows simply that artifacts are not there... and based on that it is SNAPSHOT version which might be cleaned up after a time... without more information it&#39;s hard to even make an educated gues...Also the question would be is this a single module build or a multi module setup?","body":"That error message <code>was not found in https:&#47;&#47;artifactory-na.unnamedcorp.com:443&#47;artifactor</code> shows simply that artifacts are not there... and based on that it is SNAPSHOT version which might be cleaned up after a time... without more information it&#39;s hard to even make an educated gues...Also the question would be is this a single module build or a multi module setup?"}],"owner":{"display_name":"user3367378"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694616585,"creation_date":1694614942,"question_id":77097989,"body_markdown":"So according this this: https://maven.apache.org/ref/3.9.4/maven-core/lifecycles.html\r\n\r\nI should be able to run something like: `mvn process-sources`\r\n\r\nBut it fails, for being unable to resolve an artifact from a module in this project...\r\n\r\nAnd when I run: `mvn clean compile` OR `mvn clean package`, etc, they all work.\r\n\r\nAm I missing something with Maven?\r\n\r\nHow do I **execute only the process-sources phase** without building the whole maven project?\r\n\r\nEdit/Addition:\r\n\r\nHere is the error output: `Failed to execute goal on project alarmsandevents-configuration: Could not resolve dependencies for project com.unnamedcorp.alarmsandevents:alarmsandevents-configuration:jar:23.02.01.1-SNAPSHOT: com.unnamedcorp.alarmsandevents:alarmsandevents-common:jar:23.02.01.1-SNAPSHOT was not found in https://artifactory-na.unnamedcorp.com:443/artifactory/embeddedservices-maven-stable-virtual during a previous attempt.`\r\n\r\nWhat I don&#39;t understand is why it&#39;s looking for an artifact that hasn&#39;t been built yet when I run `mvn process-sources` but when I run `mvn compile` it doesn&#39;t, even though that is a later phase. I thought maven runs all preceeding phases when running one, which should yield the same error.","title":"How do I execute only the process-sources phase without building the whole maven project?","body":"<p>So according this this: <a href=\"https://maven.apache.org/ref/3.9.4/maven-core/lifecycles.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/ref/3.9.4/maven-core/lifecycles.html</a></p>\n<p>I should be able to run something like: <code>mvn process-sources</code></p>\n<p>But it fails, for being unable to resolve an artifact from a module in this project...</p>\n<p>And when I run: <code>mvn clean compile</code> OR <code>mvn clean package</code>, etc, they all work.</p>\n<p>Am I missing something with Maven?</p>\n<p>How do I <strong>execute only the process-sources phase</strong> without building the whole maven project?</p>\n<p>Edit/Addition:</p>\n<p>Here is the error output: <code>Failed to execute goal on project alarmsandevents-configuration: Could not resolve dependencies for project com.unnamedcorp.alarmsandevents:alarmsandevents-configuration:jar:23.02.01.1-SNAPSHOT: com.unnamedcorp.alarmsandevents:alarmsandevents-common:jar:23.02.01.1-SNAPSHOT was not found in https://artifactory-na.unnamedcorp.com:443/artifactory/embeddedservices-maven-stable-virtual during a previous attempt.</code></p>\n<p>What I don't understand is why it's looking for an artifact that hasn't been built yet when I run <code>mvn process-sources</code> but when I run <code>mvn compile</code> it doesn't, even though that is a later phase. I thought maven runs all preceeding phases when running one, which should yield the same error.</p>\n"},{"tags":["java","postgresql","scala","jdbc"],"comments":[{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":7,"creation_date":1296836310,"post_id":4900200,"comment_id":5453970,"body_markdown":"Shouldn&#39;t any escaping be handled for you by using a `PreparedStatement` and setting values in it? A batch update won&#39;t work for inserting many rows?","body":"Shouldn&#39;t any escaping be handled for you by using a <code>PreparedStatement</code> and setting values in it? A batch update won&#39;t work for inserting many rows?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1296836793,"post_id":4900200,"comment_id":5454074,"body_markdown":"What exactly do you mean with: *No function to escape values for consuming*","body":"What exactly do you mean with: <i>No function to escape values for consuming</i>"},{"owner":{"account_id":61375,"reputation":6905,"user_id":182954,"accept_rate":71,"display_name":"andreypopp"},"score":0,"creation_date":1296839172,"post_id":4900200,"comment_id":5454666,"body_markdown":"@ColinD It&#39;s ok for homogeneous statements, but I&#39;m also need to execute heterogeneous statements in batch and Statement.addBatch can accepts only SQL statements as String, not as another statement.","body":"@ColinD It&#39;s ok for homogeneous statements, but I&#39;m also need to execute heterogeneous statements in batch and Statement.addBatch can accepts only SQL statements as String, not as another statement."},{"owner":{"account_id":61375,"reputation":6905,"user_id":182954,"accept_rate":71,"display_name":"andreypopp"},"score":0,"creation_date":1296839315,"post_id":4900200,"comment_id":5454700,"body_markdown":"@a_horse_with_no_name Escape &quot;I&#39;m&quot; into E&#39;I\\&#39;m&#39;. See above comment for explaining why I need such functionality.","body":"@a_horse_with_no_name Escape &quot;I&#39;m&quot; into E&#39;I\\&#39;m&#39;. See above comment for explaining why I need such functionality."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":1,"creation_date":1296840576,"post_id":4900200,"comment_id":5454958,"body_markdown":"@andreypopp: I honestly don&#39;t know what you&#39;re trying to do as far as the batch thing, and as far as string escaping... `PreparedStatement.setString` should handle any escaping for you. That&#39;s the point.","body":"@andreypopp: I honestly don&#39;t know what you&#39;re trying to do as far as the batch thing, and as far as string escaping... <code>PreparedStatement.setString</code> should handle any escaping for you. That&#39;s the point."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1296841615,"post_id":4900200,"comment_id":5455202,"body_markdown":"@andreypopp: Escaping single quotes is precisely what a PreparedStatement will do for you. Regarding addBatch(): I don&#39;t understand what you mean with &quot;heterogeneous statements&quot; if you have different statements anyway (e.g. different tables) you will not be able to take advantage of PostgreSQL&#39;s multi row inserts as well.","body":"@andreypopp: Escaping single quotes is precisely what a PreparedStatement will do for you. Regarding addBatch(): I don&#39;t understand what you mean with &quot;heterogeneous statements&quot; if you have different statements anyway (e.g. different tables) you will not be able to take advantage of PostgreSQL&#39;s multi row inserts as well."}],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1405933801,"creation_date":1296836772,"answer_id":4900343,"question_id":4900200,"body_markdown":"The driver supports batched statements to speed up bulk inserts. \r\n\r\nAnd using batched statements is a lot more portable than using proprietary INSERT syntax (and as far as I can tell, there is no big different between a multi-row insert and batched inserts)\r\n\r\nCheck out PreparedStatement.addBatch() \r\n\r\nThe reason why UUID is not supported is probably that UUID is not part of the Postgres core, just a contrib module. \r\n\r\n**Edit**&lt;br/&gt;\r\nRegarding the *execute heterogeneous statements*\r\n\r\nThe Postgres driver does support different types of statements in the a batch. \r\n\r\nThe following works fine:\r\n\r\n    Connection con = DriverManager.getConnection(&quot;jdbc:postgresql://localhost/postgres&quot;, &quot;foo&quot;, &quot;bar&quot;);\r\n    con.setAutoCommit(false);\r\n    Statement stmt = con.createStatement();\r\n    stmt.addBatch(&quot;create table foo (id integer, data varchar(100))&quot;);\r\n    stmt.addBatch(&quot;insert into foo values (1, &#39;one&#39;)&quot;);\r\n    stmt.addBatch(&quot;insert into foo values (2, &#39;two&#39;)&quot;);\r\n    stmt.addBatch(&quot;update foo set data = &#39;one_other&#39; where id = 1&quot;);\r\n    stmt.executeBatch();\r\n    con.commit();\r\n\r\nAlthough you do lose the automatic escaping that PreparedStatement gives you.\r\n\r\n\r\n\r\n","title":"What are alternatives to JDBC driver for access PostgreSQL database","body":"<p>The driver supports batched statements to speed up bulk inserts. </p>\n\n<p>And using batched statements is a lot more portable than using proprietary INSERT syntax (and as far as I can tell, there is no big different between a multi-row insert and batched inserts)</p>\n\n<p>Check out PreparedStatement.addBatch() </p>\n\n<p>The reason why UUID is not supported is probably that UUID is not part of the Postgres core, just a contrib module. </p>\n\n<p><strong>Edit</strong><br/>\nRegarding the <em>execute heterogeneous statements</em></p>\n\n<p>The Postgres driver does support different types of statements in the a batch. </p>\n\n<p>The following works fine:</p>\n\n<pre><code>Connection con = DriverManager.getConnection(\"jdbc:postgresql://localhost/postgres\", \"foo\", \"bar\");\ncon.setAutoCommit(false);\nStatement stmt = con.createStatement();\nstmt.addBatch(\"create table foo (id integer, data varchar(100))\");\nstmt.addBatch(\"insert into foo values (1, 'one')\");\nstmt.addBatch(\"insert into foo values (2, 'two')\");\nstmt.addBatch(\"update foo set data = 'one_other' where id = 1\");\nstmt.executeBatch();\ncon.commit();\n</code></pre>\n\n<p>Although you do lose the automatic escaping that PreparedStatement gives you.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1536394906,"creation_date":1296837157,"answer_id":4900419,"question_id":4900200,"body_markdown":"Some of this seems to be (unless I&#39;m not understanding) user error in using JDBC. JDBC is a pretty ugly API, so never ask if you can do it elegantly, just ask if you can do it at all.\r\n\r\nEscaping and inserting multiple rows should be handled, as @ColinD and @a_horse pointed out, with Prepared statements and batch operations. Under the hood, I would expect a good JDBC implementation to do the things you want (I am not familiar with PostgreSQL&#39;s implementation).\r\n\r\nRegarding UUIDs, [here][1] is a solution:\r\n\r\n&gt; All that PostgreSQL can do is convert string literals to uuid.\r\n&gt; \r\n&gt; You can make use of this by using the data type\r\n&gt; org.postgresql.util.PGobject, which is a general class used to\r\n&gt; represent data types unknown to JDBC.\r\n&gt; \r\n&gt; You can define a helper class:\r\n&gt; \r\n&gt;     public class UUID extends org.postgresql.util.PGobject {\r\n&gt;         public static final long serialVersionUID = 668353936136517917L;\r\n&gt;         public UUID(String s) throws java.sql.SQLException {\r\n&gt;             super();\r\n&gt;             this.setType(&quot;uuid&quot;);\r\n&gt;             this.setValue(s);\r\n&gt;         }\r\n&gt;     }\r\n&gt; \r\n&gt; Then the following piece of code will succeed:\r\n&gt; \r\n&gt;      java.sql.PreparedStatement stmt =\r\n&gt;      conn.prepareStatement(&quot;UPDATE t SET uid = ? WHERE id = 1&quot;);\r\n&gt;      stmt.setObject(1, new UUID(&quot;a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11&quot;));\r\n&gt;      stmt.executeUpdate();\r\n\r\n\r\n  [1]: http://dbaspot.com/forums/postgresql/362027-pg-8-3-rc1-uuid-column-jdbc-preparedstatement-column-type.html","title":"What are alternatives to JDBC driver for access PostgreSQL database","body":"<p>Some of this seems to be (unless I'm not understanding) user error in using JDBC. JDBC is a pretty ugly API, so never ask if you can do it elegantly, just ask if you can do it at all.</p>\n\n<p>Escaping and inserting multiple rows should be handled, as @ColinD and @a_horse pointed out, with Prepared statements and batch operations. Under the hood, I would expect a good JDBC implementation to do the things you want (I am not familiar with PostgreSQL's implementation).</p>\n\n<p>Regarding UUIDs, <a href=\"http://dbaspot.com/forums/postgresql/362027-pg-8-3-rc1-uuid-column-jdbc-preparedstatement-column-type.html\" rel=\"nofollow noreferrer\">here</a> is a solution:</p>\n\n<blockquote>\n  <p>All that PostgreSQL can do is convert string literals to uuid.</p>\n  \n  <p>You can make use of this by using the data type\n  org.postgresql.util.PGobject, which is a general class used to\n  represent data types unknown to JDBC.</p>\n  \n  <p>You can define a helper class:</p>\n\n<pre><code>public class UUID extends org.postgresql.util.PGobject {\n    public static final long serialVersionUID = 668353936136517917L;\n    public UUID(String s) throws java.sql.SQLException {\n        super();\n        this.setType(\"uuid\");\n        this.setValue(s);\n    }\n}\n</code></pre>\n  \n  <p>Then the following piece of code will succeed:</p>\n\n<pre><code> java.sql.PreparedStatement stmt =\n conn.prepareStatement(\"UPDATE t SET uid = ? WHERE id = 1\");\n stmt.setObject(1, new UUID(\"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11\"));\n stmt.executeUpdate();\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":35998,"reputation":3107,"user_id":102375,"accept_rate":53,"display_name":"nilskp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304083602,"creation_date":1304083602,"answer_id":5832659,"question_id":4900200,"body_markdown":"Take a look at [O/R Broker][1], which is a Scala JDBC-based library for relational database access.\r\n\r\n\r\n  [1]: http://www.orbroker.org","title":"What are alternatives to JDBC driver for access PostgreSQL database","body":"<p>Take a look at <a href=\"http://www.orbroker.org\" rel=\"nofollow\">O/R Broker</a>, which is a Scala JDBC-based library for relational database access.</p>\n"},{"tags":[],"owner":{"account_id":41747,"reputation":4762,"user_id":121416,"accept_rate":96,"display_name":"Brian Beckett"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536397950,"creation_date":1329831315,"answer_id":9378534,"question_id":4900200,"body_markdown":"I realise this doesn&#39;t answer your entire question, but hopefully it will be useful all the same.\r\n\r\nI&#39;m using Java 6 and Postgres 8.4.  The driver I&#39;m using is in my Maven POM file as:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;version&gt;8.4-702.jdbc4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;m using `PreparedStatement.getObject()` and `PreparedStatement.setObject()` with Java&#39;s `java.util.UUID` class to retrieve and store UUIDs.\r\n\r\nFor example:\r\n\r\n    pstm.setObject(1, guid); //where pstm is a PreparedStatement and guid is a UUID\r\n\r\nand:\r\n\r\n    //where rs is a ResultSet\r\n    UUID myGuid = (UUID) rs.getObject(&quot;my_uuid_column_name&quot;); \r\n\r\nWorks fine.\r\n\r\nWith newer drivers, the following is alsow supported\r\n\r\n    UUID myGuid = rs.getObject(&quot;my_uuid_column_name&quot;, UUID.class); \r\n\r\n","title":"What are alternatives to JDBC driver for access PostgreSQL database","body":"<p>I realise this doesn't answer your entire question, but hopefully it will be useful all the same.</p>\n\n<p>I'm using Java 6 and Postgres 8.4.  The driver I'm using is in my Maven POM file as:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;8.4-702.jdbc4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I'm using <code>PreparedStatement.getObject()</code> and <code>PreparedStatement.setObject()</code> with Java's <code>java.util.UUID</code> class to retrieve and store UUIDs.</p>\n\n<p>For example:</p>\n\n<pre><code>pstm.setObject(1, guid); //where pstm is a PreparedStatement and guid is a UUID\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>//where rs is a ResultSet\nUUID myGuid = (UUID) rs.getObject(\"my_uuid_column_name\"); \n</code></pre>\n\n<p>Works fine.</p>\n\n<p>With newer drivers, the following is alsow supported</p>\n\n<pre><code>UUID myGuid = rs.getObject(\"my_uuid_column_name\", UUID.class); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536394949,"creation_date":1372394360,"answer_id":17357283,"question_id":4900200,"body_markdown":"&gt; No support for PostgreSQL-ish data structures such as UUIDs.\r\n\r\nOn the contrary, the [current JDBC driver][1] (9.2-1002 JDBC 4) for [Postgres][2] 9.x does indeed support [UUID][3] via the [setObject][4] and [getObject][5] commands. You cannot get any more direct or simpler than that (in any database, Postgres or any other) because JDBC does not recognize UUID as a data type.\r\n\r\nAs far as I can tell, there is no need to create a helper class as suggest in another answer by Yishai.\r\n\r\nNo need to do any casting or go through strings.\r\n\r\n![enter image description here][6]\r\n\r\nSee [my blog post][7] for more discussion and code example.\r\n\r\nCode example excerpt:\r\n\r\n    java.util.UUID uuid = java.util.UUID.randomUUID();\r\n    â¦\r\n    preparedStatement.setObject( nthPlaceholder++, uuid ); // Pass UUID to database.\r\n\r\n\r\n  [1]: http://jdbc.postgresql.org/\r\n  [2]: http://www.postgresql.org/\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#setObject%28int,%20java.lang.Object%29\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getObject%28int%29\r\n  [6]: http://i.stack.imgur.com/ssrUj.png\r\n  [7]: http://crafted-software.blogspot.com/2013/03/uuid-values-from-jdbc-to-postgres.html","title":"What are alternatives to JDBC driver for access PostgreSQL database","body":"<blockquote>\n  <p>No support for PostgreSQL-ish data structures such as UUIDs.</p>\n</blockquote>\n\n<p>On the contrary, the <a href=\"http://jdbc.postgresql.org/\" rel=\"nofollow noreferrer\">current JDBC driver</a> (9.2-1002 JDBC 4) for <a href=\"http://www.postgresql.org/\" rel=\"nofollow noreferrer\">Postgres</a> 9.x does indeed support <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html\" rel=\"nofollow noreferrer\">UUID</a> via the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#setObject%28int,%20java.lang.Object%29\" rel=\"nofollow noreferrer\">setObject</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#getObject%28int%29\" rel=\"nofollow noreferrer\">getObject</a> commands. You cannot get any more direct or simpler than that (in any database, Postgres or any other) because JDBC does not recognize UUID as a data type.</p>\n\n<p>As far as I can tell, there is no need to create a helper class as suggest in another answer by Yishai.</p>\n\n<p>No need to do any casting or go through strings.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ssrUj.png\" alt=\"enter image description here\"></p>\n\n<p>See <a href=\"http://crafted-software.blogspot.com/2013/03/uuid-values-from-jdbc-to-postgres.html\" rel=\"nofollow noreferrer\">my blog post</a> for more discussion and code example.</p>\n\n<p>Code example excerpt:</p>\n\n<pre><code>java.util.UUID uuid = java.util.UUID.randomUUID();\nâ¦\npreparedStatement.setObject( nthPlaceholder++, uuid ); // Pass UUID to database.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14636270,"reputation":133,"user_id":10570318,"display_name":"BeatEngine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694616560,"creation_date":1694616560,"answer_id":77098194,"question_id":4900200,"body_markdown":"Here is some experiment with a self implemented (experimental) minimal client library: https://github.com/BeatEngine/postgresql-client-minimal\r\n(I try to work with this on Android API level &lt; 24)","title":"What are alternatives to JDBC driver for access PostgreSQL database","body":"<p>Here is some experiment with a self implemented (experimental) minimal client library: <a href=\"https://github.com/BeatEngine/postgresql-client-minimal\" rel=\"nofollow noreferrer\">https://github.com/BeatEngine/postgresql-client-minimal</a>\n(I try to work with this on Android API level &lt; 24)</p>\n"}],"owner":{"account_id":61375,"reputation":6905,"user_id":182954,"accept_rate":71,"display_name":"andreypopp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5426,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":4900419,"answer_count":6,"score":7,"last_activity_date":1694616560,"creation_date":1296836013,"question_id":4900200,"body_markdown":"I&#39;m using official JDBC driver for PostgreSQL, but I&#39;m stuck with the following issues:\r\n\r\n  * No support for PostgreSQL-ish data structures such as UUIDs.\r\n  * Common JDBC weirdness, such as:\r\n     * No function to escape values for consuming by PostgreSQL.\r\n     * Limited support for executing heterogeneous statements in batch.\r\n     * No rewriting of multiple insert statements into single insert statement when inserting many rows in one table.\r\n\r\nSo, the question â is there any PostgreSQL database driver which can leverage full power of PostgreSQL without much boilerplate? I&#39;m also use Scala language for development, so if driver is designed specifically for Scala it would be so much awesome awesome.","title":"What are alternatives to JDBC driver for access PostgreSQL database","body":"<p>I'm using official JDBC driver for PostgreSQL, but I'm stuck with the following issues:</p>\n\n<ul>\n<li>No support for PostgreSQL-ish data structures such as UUIDs.</li>\n<li>Common JDBC weirdness, such as:\n<ul>\n<li>No function to escape values for consuming by PostgreSQL.</li>\n<li>Limited support for executing heterogeneous statements in batch.</li>\n<li>No rewriting of multiple insert statements into single insert statement when inserting many rows in one table.</li>\n</ul></li>\n</ul>\n\n<p>So, the question â is there any PostgreSQL database driver which can leverage full power of PostgreSQL without much boilerplate? I'm also use Scala language for development, so if driver is designed specifically for Scala it would be so much awesome awesome.</p>\n"},{"tags":["java","android","bitmap","image-cropper"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694598812,"post_id":77094649,"comment_id":135911288,"body_markdown":"`new CropImageContract()` What would be that?","body":"<code>new CropImageContract()</code> What would be that?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694598881,"post_id":77094649,"comment_id":135911304,"body_markdown":"`Android image cropper ...` ???","body":"<code>Android image cropper ...</code> ???"},{"owner":{"account_id":2531294,"reputation":97,"user_id":11277353,"display_name":"Shashi Ranjan"},"score":0,"creation_date":1694616326,"post_id":77094649,"comment_id":135915236,"body_markdown":"Yes Android image cropper.","body":"Yes Android image cropper."}],"owner":{"account_id":2531294,"reputation":97,"user_id":11277353,"display_name":"Shashi Ranjan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694616398,"creation_date":1694587693,"question_id":77094649,"body_markdown":"I am trying to access both cropped image as well as the original image. Using `registerForActivityResult` I am able to get the cropped image. I also want to access the original image. I am using only camera as `cropImageOptions`. I tried using method `result.getOriginalBitmap()` but it is not returning any bitmap. Any idea how can I access the original image after cropping is done?\r\n\r\nMy Java code of android-image-cropper:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    ActivityResultLauncher&lt;CropImageContractOptions&gt; cropImage = registerForActivityResult(new CropImageContract(), result -&gt; {\r\n            if (result.isSuccessful()) {\r\n                originalBitmap = result.getOriginalBitmap();\r\n                croppedBitmap = BitmapFactory.decodeFile(result.getUriFilePath(getApplicationContext(), true));\r\n                croppedImageView.setImageBitmap(croppedBitmap);\r\n                originalImageView.setImageBitmap(originalBitmap);\r\n            }\r\n        });\r\n\r\n        private void launchCropImage() {\r\n            CropImageOptions cropImageOptions = new CropImageOptions();\r\n            cropImageOptions.imageSourceIncludeGallery = false;\r\n            cropImageOptions.imageSourceIncludeCamera = true;\r\n            CropImageContractOptions cropImageContractOptions = new CropImageContractOptions(null, cropImageOptions);\r\n            cropImage.launch(cropImageContractOptions);\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android image cropper not returning original bitmap","body":"<p>I am trying to access both cropped image as well as the original image. Using <code>registerForActivityResult</code> I am able to get the cropped image. I also want to access the original image. I am using only camera as <code>cropImageOptions</code>. I tried using method <code>result.getOriginalBitmap()</code> but it is not returning any bitmap. Any idea how can I access the original image after cropping is done?</p>\n<p>My Java code of android-image-cropper:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>ActivityResultLauncher&lt;CropImageContractOptions&gt; cropImage = registerForActivityResult(new CropImageContract(), result -&gt; {\n        if (result.isSuccessful()) {\n            originalBitmap = result.getOriginalBitmap();\n            croppedBitmap = BitmapFactory.decodeFile(result.getUriFilePath(getApplicationContext(), true));\n            croppedImageView.setImageBitmap(croppedBitmap);\n            originalImageView.setImageBitmap(originalBitmap);\n        }\n    });\n\n    private void launchCropImage() {\n        CropImageOptions cropImageOptions = new CropImageOptions();\n        cropImageOptions.imageSourceIncludeGallery = false;\n        cropImageOptions.imageSourceIncludeCamera = true;\n        CropImageContractOptions cropImageContractOptions = new CropImageContractOptions(null, cropImageOptions);\n        cropImage.launch(cropImageContractOptions);\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring","azure-cosmosdb","azure-cosmosdb-sqlapi"],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694594416,"creation_date":1694594416,"answer_id":77095433,"question_id":77095031,"body_markdown":"From the [documentation](https://javadoc.io/doc/com.microsoft.azure/spring-data-cosmosdb/2.3.0/com/microsoft/azure/spring/data/cosmosdb/repository/ReactiveCosmosRepository.html) I understand that `ReactiveCosmosRepository` inherits from `ReactiveCrudRepository` which has a `count` method that returns `Mono&lt;Long&gt;`. It&#39;s likely that `getMaxIntID()` and `test()` will work using that same return type `Mono&lt;Long&gt;`.","title":"How can I get numerical data from an sql query in Java Spring?","body":"<p>From the <a href=\"https://javadoc.io/doc/com.microsoft.azure/spring-data-cosmosdb/2.3.0/com/microsoft/azure/spring/data/cosmosdb/repository/ReactiveCosmosRepository.html\" rel=\"nofollow noreferrer\">documentation</a> I understand that <code>ReactiveCosmosRepository</code> inherits from <code>ReactiveCrudRepository</code> which has a <code>count</code> method that returns <code>Mono&lt;Long&gt;</code>. It's likely that <code>getMaxIntID()</code> and <code>test()</code> will work using that same return type <code>Mono&lt;Long&gt;</code>.</p>\n"}],"owner":{"account_id":16859442,"reputation":126,"user_id":12190586,"display_name":"Kronos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694616262,"creation_date":1694591086,"question_id":77095031,"body_markdown":"Currently my repo class looks like this:\r\n    \r\n\r\n    @Repository\r\n    public interface RepoCosmos extends ReactiveCosmosRepository&lt;MyClass, String&gt; {\r\n    \r\n        @Query(&quot;SELECT * FROM c WHERE c.Foo = @Foo&quot;)\r\n        Mono&lt;MyClass&gt; get(@Param(&quot;Foo&quot;) String Foo);\r\n    \r\n        @Query(&quot;SELECT VALUE MAX(c.intID) FROM c WHERE NOT c.condition&quot;)\r\n        Mono&lt;?&gt; getMaxIntID();\r\n    \r\n        @Query(&quot;SELECT VALUE COUNT(1) FROM c&quot;)\r\n        Mono&lt;?&gt; test();\r\n       }\r\n\r\nThe top query works fine. Neither of the bottom two work however. Both return an error mono so that running:\r\n\r\n    Mono&lt;?&gt; b = RepoCosmos.getMaxIntID();\r\n    b.block();\r\n\r\ncauses an exception:\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2023-09-13 07:37:45.672 ERROR 19908 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n            at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:785) ~[spring-boot-2.5.6.jar:2.5.6]\r\n            at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-2.5.6.jar:2.5.6]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:345) ~[spring-boot-2.5.6.jar:2.5.6]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\r\n            at com.careerswales.urlservice.UrlApplication.main(UrlApplication.java:13) ~[main/:na]\r\n    Caused by: java.lang.IllegalArgumentException: domain should contain @Id field or field named id\r\n            at com.azure.spring.data.cosmos.repository.support.CosmosEntityInformation.getIdField(CosmosEntityInformation.java:317) ~[azure-spring-data-cosmos-3.17.0.jar:3.17.0]\r\n            Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Assembly trace from producer [reactor.core.publisher.FluxMapFuseable] :\r\n            reactor.core.publisher.Flux.map(Flux.java:6273)\r\n            com.azure.spring.data.cosmos.core.ReactiveCosmosTemplate.runQuery(ReactiveCosmosTemplate.java:660)\r\n    Error has been observed at the following site(s):\r\n            *________Flux.map â¢ at com.azure.spring.data.cosmos.core.ReactiveCosmosTemplate.runQuery(ReactiveCosmosTemplate.java:660)\r\n            *__Flux.usingWhen â¢ at org.springframework.data.repository.core.support.RepositoryMethodInvoker$ReactiveInvocationListenerDecorator.decorate(RepositoryMethodInvoker.java:242)\r\n            |_      Mono.from â¢ at org.springframework.data.repository.util.ReactiveWrapperConverters$PublisherToMonoConverter.convert(ReactiveWrapperConverters.java:564)\r\n\r\n\r\nHow can I run a query that will return a number rather than a `MyClass`? I am aware there is a built in method for count() but I have a few more complex queries that I would like to be able to run.\r\nI have tried having the return type be Mono\\&lt;Integer&gt;, Mono\\&lt;Long&gt;, Mono\\&lt;Object&gt; and Mono\\&lt;Object[]&gt; with similar results.","title":"How can I get numerical data from an sql query in Java Spring?","body":"<p>Currently my repo class looks like this:</p>\n<pre><code>@Repository\npublic interface RepoCosmos extends ReactiveCosmosRepository&lt;MyClass, String&gt; {\n\n    @Query(&quot;SELECT * FROM c WHERE c.Foo = @Foo&quot;)\n    Mono&lt;MyClass&gt; get(@Param(&quot;Foo&quot;) String Foo);\n\n    @Query(&quot;SELECT VALUE MAX(c.intID) FROM c WHERE NOT c.condition&quot;)\n    Mono&lt;?&gt; getMaxIntID();\n\n    @Query(&quot;SELECT VALUE COUNT(1) FROM c&quot;)\n    Mono&lt;?&gt; test();\n   }\n</code></pre>\n<p>The top query works fine. Neither of the bottom two work however. Both return an error mono so that running:</p>\n<pre><code>Mono&lt;?&gt; b = RepoCosmos.getMaxIntID();\nb.block();\n</code></pre>\n<p>causes an exception:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-09-13 07:37:45.672 ERROR 19908 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute ApplicationRunner\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:785) ~[spring-boot-2.5.6.jar:2.5.6]\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772) ~[spring-boot-2.5.6.jar:2.5.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:345) ~[spring-boot-2.5.6.jar:2.5.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\n        at com.careerswales.urlservice.UrlApplication.main(UrlApplication.java:13) ~[main/:na]\nCaused by: java.lang.IllegalArgumentException: domain should contain @Id field or field named id\n        at com.azure.spring.data.cosmos.repository.support.CosmosEntityInformation.getIdField(CosmosEntityInformation.java:317) ~[azure-spring-data-cosmos-3.17.0.jar:3.17.0]\n        Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nAssembly trace from producer [reactor.core.publisher.FluxMapFuseable] :\n        reactor.core.publisher.Flux.map(Flux.java:6273)\n        com.azure.spring.data.cosmos.core.ReactiveCosmosTemplate.runQuery(ReactiveCosmosTemplate.java:660)\nError has been observed at the following site(s):\n        *________Flux.map â¢ at com.azure.spring.data.cosmos.core.ReactiveCosmosTemplate.runQuery(ReactiveCosmosTemplate.java:660)\n        *__Flux.usingWhen â¢ at org.springframework.data.repository.core.support.RepositoryMethodInvoker$ReactiveInvocationListenerDecorator.decorate(RepositoryMethodInvoker.java:242)\n        |_      Mono.from â¢ at org.springframework.data.repository.util.ReactiveWrapperConverters$PublisherToMonoConverter.convert(ReactiveWrapperConverters.java:564)\n</code></pre>\n<p>How can I run a query that will return a number rather than a <code>MyClass</code>? I am aware there is a built in method for count() but I have a few more complex queries that I would like to be able to run.\nI have tried having the return type be Mono&lt;Integer&gt;, Mono&lt;Long&gt;, Mono&lt;Object&gt; and Mono&lt;Object[]&gt; with similar results.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","dockerfile"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693740165,"post_id":77031797,"comment_id":135797776,"body_markdown":"Please include the full stack trace of the exception.","body":"Please include the full stack trace of the exception."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693901777,"post_id":77031797,"comment_id":135817013,"body_markdown":"_&quot;Caused by: java.net.ConnectException: Connection refused&quot;_, you&#39;re specifying the wrong host name, or the MySQL server isn&#39;t running.","body":"<i>&quot;Caused by: java.net.ConnectException: Connection refused&quot;</i>, you&#39;re specifying the wrong host name, or the MySQL server isn&#39;t running."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693901884,"post_id":77031797,"comment_id":135817028,"body_markdown":"See [Solving a &quot;communications link failure&quot; with JDBC and MySQL](https://stackoverflow.com/questions/6865538/solving-a-communications-link-failure-with-jdbc-and-mysql) and its duplicate.","body":"See <a href=\"https://stackoverflow.com/questions/6865538/solving-a-communications-link-failure-with-jdbc-and-mysql\">Solving a &quot;communications link failure&quot; with JDBC and MySQL</a> and its duplicate."}],"owner":{"account_id":29356016,"reputation":1,"user_id":22491951,"display_name":"shiv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694616256,"creation_date":1693735421,"question_id":77031797,"body_markdown":"This is the error message, I&#39;m getting while running the spring-boot 3 image with mysql 8 image on docker:\r\n```\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.448Z  WARN 1 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.449Z ERROR 1 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.481Z ERROR 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.490Z  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.510Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.553Z  INFO 1 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.660Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.example.demo.BasicApplication.main(BasicApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 24 common frames omitted\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:98) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:68) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:64) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:564) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:71) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:225) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:334) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.2.jar!/:6.0.2]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 28 common frames omitted\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:41) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 46 common frames omitted\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 59 common frames omitted\r\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: java.net.ConnectException: Connection refused\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 62 common frames omitted\r\n\r\n```\r\nHere is my spring-boot application dependency file.&lt;br&gt;\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;basic&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;basic&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n       &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- MySQL --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;finalName&gt;spring_rest_docker&lt;/finalName&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nThese are the database configuration of my spring-boot application&lt;br&gt;\r\napplication.properties\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/basics?allowPublicKeyRetrieval=true\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n```\r\nDocker file code for configuring application jar&lt;br&gt;\r\nDockerfile\r\n```\r\n#\r\n# Build stage\r\n#\r\nFROM maven:3.8.3-openjdk-17 AS build\r\nCOPY src /home/app/src\r\nCOPY pom.xml /home/app\r\nRUN mvn -f /home/app/pom.xml clean package\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/home/app/target/spring_rest_docker.jar&quot;]\r\n\r\n```\r\nDocker Compose file&lt;br&gt;\r\ndocker-compose.yml\r\n```\r\nversion: &quot;3.7&quot;\r\nservices:\r\n  api_service:\r\n    build: .\r\n    restart: on-failure\r\n    ports:\r\n      - 8080:8080\r\n    networks:\r\n      - springapimysql-net\r\n    environment:\r\n      - spring.datasource.url= jdbc:mysql://mysqldb:3306/basics?allowPublicKeyRetrieval=true\r\n    depends_on:\r\n      - mysqldb\r\n    \r\n    volumes:\r\n      - .m2:/var/lib/mysql\r\n      \r\n  mysqldb:\r\n    image: &quot;mysql:8.0&quot;\r\n    restart: always\r\n    ports:\r\n      - 3306:3306\r\n    networks:\r\n      - springapimysql-net\r\n    environment:\r\n      MYSQL_DATABASE: basics\r\n      MYSQL_PASSWORD: root\r\n      MYSQL_ROOT_PASSWORD: root\r\nnetworks:\r\n  springapimysql-net:\r\n```","title":"Error: Unable to open JDBC Connection for DDL execution while running springboot image with mysql image on docker","body":"<p>This is the error message, I'm getting while running the spring-boot 3 image with mysql 8 image on docker:</p>\n<pre><code>springboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.448Z  WARN 1 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.449Z ERROR 1 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure\nspringboot-mysql-with-docker-compose-master-api_service-1  |\nspringboot-mysql-with-docker-compose-master-api_service-1  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nspringboot-mysql-with-docker-compose-master-api_service-1  |\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.481Z ERROR 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.490Z  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.510Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.553Z  INFO 1 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\nspringboot-mysql-with-docker-compose-master-api_service-1  |\nspringboot-mysql-with-docker-compose-master-api_service-1  | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\nspringboot-mysql-with-docker-compose-master-api_service-1  |\nspringboot-mysql-with-docker-compose-master-api_service-1  | 2023-09-04T16:33:53.660Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\nspringboot-mysql-with-docker-compose-master-api_service-1  |\nspringboot-mysql-with-docker-compose-master-api_service-1  | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar!/:3.0.0]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.example.demo.BasicApplication.main(BasicApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[spring_rest_docker.jar:0.0.1-SNAPSHOT]\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 24 common frames omitted\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:98) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:68) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:64) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:564) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:71) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:225) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:334) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.2.jar!/:6.0.2]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 28 common frames omitted\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\nspringboot-mysql-with-docker-compose-master-api_service-1  |\nspringboot-mysql-with-docker-compose-master-api_service-1  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:41) ~[hibernate-core-6.1.5.Final.jar!/:6.1.5.Final]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 46 common frames omitted\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\nspringboot-mysql-with-docker-compose-master-api_service-1  |\nspringboot-mysql-with-docker-compose-master-api_service-1  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 59 common frames omitted\nspringboot-mysql-with-docker-compose-master-api_service-1  | Caused by: java.net.ConnectException: Connection refused\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\nspringboot-mysql-with-docker-compose-master-api_service-1  |    ... 62 common frames omitted\n\n</code></pre>\n<p>Here is my spring-boot application dependency file.<br>\npom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;basic&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;basic&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n       &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- MySQL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;spring_rest_docker&lt;/finalName&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>These are the database configuration of my spring-boot application<br>\napplication.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/basics?allowPublicKeyRetrieval=true\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=update\n\n</code></pre>\n<p>Docker file code for configuring application jar<br>\nDockerfile</p>\n<pre><code>#\n# Build stage\n#\nFROM maven:3.8.3-openjdk-17 AS build\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/home/app/target/spring_rest_docker.jar&quot;]\n\n</code></pre>\n<p>Docker Compose file<br>\ndocker-compose.yml</p>\n<pre><code>version: &quot;3.7&quot;\nservices:\n  api_service:\n    build: .\n    restart: on-failure\n    ports:\n      - 8080:8080\n    networks:\n      - springapimysql-net\n    environment:\n      - spring.datasource.url= jdbc:mysql://mysqldb:3306/basics?allowPublicKeyRetrieval=true\n    depends_on:\n      - mysqldb\n    \n    volumes:\n      - .m2:/var/lib/mysql\n      \n  mysqldb:\n    image: &quot;mysql:8.0&quot;\n    restart: always\n    ports:\n      - 3306:3306\n    networks:\n      - springapimysql-net\n    environment:\n      MYSQL_DATABASE: basics\n      MYSQL_PASSWORD: root\n      MYSQL_ROOT_PASSWORD: root\nnetworks:\n  springapimysql-net:\n</code></pre>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1694617137,"post_id":77098133,"comment_id":135915421,"body_markdown":"You can use `publish.dependsOn bootJar` but you also have to put `publish.dependsOn bootJar` in your task.","body":"You can use <code>publish.dependsOn bootJar</code> but you also have to put <code>publish.dependsOn bootJar</code> in your task."}],"owner":{"account_id":221010,"reputation":71,"user_id":478752,"display_name":"HirenP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694616105,"creation_date":1694616105,"question_id":77098133,"body_markdown":"Multi-module Java API project using spring boot gradle plugin \r\n\r\nFollowing works and produces jar that is executable.\r\n```\r\n./gradlew build bootJar \r\n```\r\nI can run it using command \r\n```\r\njava -jar api.jar\r\n```\r\n\r\nBut the build pipeline can only execute \r\n```\r\n./graldew publish (unable modify task to bootJar due to the build template being a custom one)\r\n```\r\nwhich results in an error\r\n```\r\nno main manifest attribute in api.jar\r\n```\r\n\r\n\r\nHere is bootJar task\r\n```\r\nbootJar {\r\n\tmainClass = &#39;com.my-company.api-main-class&#39;\r\n}\r\n```\r\n\r\nQuestion is \r\nis it possible to modify build.gradle and override publish task so that when publish task is executed, it actually runs bootJar task instead?\r\n\r\n\r\n\r\n","title":"is it possible to override Gradle publish task to excute bootJar task instead?","body":"<p>Multi-module Java API project using spring boot gradle plugin</p>\n<p>Following works and produces jar that is executable.</p>\n<pre><code>./gradlew build bootJar \n</code></pre>\n<p>I can run it using command</p>\n<pre><code>java -jar api.jar\n</code></pre>\n<p>But the build pipeline can only execute</p>\n<pre><code>./graldew publish (unable modify task to bootJar due to the build template being a custom one)\n</code></pre>\n<p>which results in an error</p>\n<pre><code>no main manifest attribute in api.jar\n</code></pre>\n<p>Here is bootJar task</p>\n<pre><code>bootJar {\n    mainClass = 'com.my-company.api-main-class'\n}\n</code></pre>\n<p>Question is\nis it possible to modify build.gradle and override publish task so that when publish task is executed, it actually runs bootJar task instead?</p>\n"},{"tags":["java","snmp","snmp4j","snmp-trap"],"owner":{"account_id":29432271,"reputation":1,"user_id":22551738,"display_name":"simoirs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694616030,"creation_date":1694616030,"question_id":77098122,"body_markdown":"I have to send an SNMP v3 Trap to a server using SNMP4J but I can&#39;t seem to make it work.\r\nWith a TCP dump, the remote server guys confirm they&#39;re receiving packets but they seem to be malformed in some way.\r\n\r\nCode is below:\r\n\r\n\r\n```\r\nTransportMapping transportMapping = new DefaultUdpTransportMapping();\r\n\r\n        Snmp snmp = new Snmp(transportMapping);\r\n\r\n        OctetString localEngineId = new OctetString(MPv3.createLocalEngineID());\r\n\r\n        USM usm = new USM(SecurityProtocols.getInstance()\r\n                .addDefaultProtocols(), new OctetString(\r\n                MPv3.createLocalEngineID()), 0);\r\n\r\n        SecurityModels.getInstance().addSecurityModel(usm);\r\n        OctetString securityName = new OctetString(username);\r\n        OctetString authPassphrase = new OctetString(authPassword);\r\n        OctetString privPassphrase = new OctetString(privPassword);\r\n\r\n        OID authProtocol = AuthHMAC192SHA256.ID;\r\n        OID privProtocol = PrivAES128.ID;\r\n\r\n        snmp.getUSM().addUser(securityName, new UsmUser(securityName, authProtocol, authPassphrase, privProtocol, privPassphrase));\r\n\r\n        UserTarget target = new UserTarget();\r\n        target.setSecurityLevel(SecurityLevel.AUTH_PRIV);\r\n        target.setSecurityName(securityName);\r\n        target.setAddress(new UdpAddress(agentIp + &quot;/&quot; + agentPort));\r\n        target.setVersion(SnmpConstants.version3);\r\n\r\n        ScopedPDU pdu = new ScopedPDU();\r\n        pdu.setType(PDU.SET);\r\n        pdu.setContextEngineID(localEngineId);\r\n\r\n        pdu.add(new VariableBinding(new OID(trapOID), new OctetString(\r\n                &quot;beginraisetime:2023-09-10 16:00:00;&quot; +\r\n                        &quot;endraisetime:&quot; +\r\n                        &quot;2023-09-13 15:00:00&quot; + &quot;;&quot;)));\r\n        pdu.setContextName(new OctetString(&quot;context name&quot;));\r\n\r\n\r\n        System.out.println(&quot;Sending V3 trap&quot;);\r\n        System.out.println(&quot;PDU: &quot; + pdu);\r\n\r\n        snmp.listen();\r\n        snmp.send(pdu, target);\r\n        snmp.close();\r\n```\r\n\r\n\r\nI tried to find answers online, there is not a lot of help but I keep reading issues about the Engine ID.. maybe there&#39;s something wrong in the way it&#39;s generated.","title":"SNMP4J: malformed SNMP v3 trap","body":"<p>I have to send an SNMP v3 Trap to a server using SNMP4J but I can't seem to make it work.\nWith a TCP dump, the remote server guys confirm they're receiving packets but they seem to be malformed in some way.</p>\n<p>Code is below:</p>\n<pre><code>TransportMapping transportMapping = new DefaultUdpTransportMapping();\n\n        Snmp snmp = new Snmp(transportMapping);\n\n        OctetString localEngineId = new OctetString(MPv3.createLocalEngineID());\n\n        USM usm = new USM(SecurityProtocols.getInstance()\n                .addDefaultProtocols(), new OctetString(\n                MPv3.createLocalEngineID()), 0);\n\n        SecurityModels.getInstance().addSecurityModel(usm);\n        OctetString securityName = new OctetString(username);\n        OctetString authPassphrase = new OctetString(authPassword);\n        OctetString privPassphrase = new OctetString(privPassword);\n\n        OID authProtocol = AuthHMAC192SHA256.ID;\n        OID privProtocol = PrivAES128.ID;\n\n        snmp.getUSM().addUser(securityName, new UsmUser(securityName, authProtocol, authPassphrase, privProtocol, privPassphrase));\n\n        UserTarget target = new UserTarget();\n        target.setSecurityLevel(SecurityLevel.AUTH_PRIV);\n        target.setSecurityName(securityName);\n        target.setAddress(new UdpAddress(agentIp + &quot;/&quot; + agentPort));\n        target.setVersion(SnmpConstants.version3);\n\n        ScopedPDU pdu = new ScopedPDU();\n        pdu.setType(PDU.SET);\n        pdu.setContextEngineID(localEngineId);\n\n        pdu.add(new VariableBinding(new OID(trapOID), new OctetString(\n                &quot;beginraisetime:2023-09-10 16:00:00;&quot; +\n                        &quot;endraisetime:&quot; +\n                        &quot;2023-09-13 15:00:00&quot; + &quot;;&quot;)));\n        pdu.setContextName(new OctetString(&quot;context name&quot;));\n\n\n        System.out.println(&quot;Sending V3 trap&quot;);\n        System.out.println(&quot;PDU: &quot; + pdu);\n\n        snmp.listen();\n        snmp.send(pdu, target);\n        snmp.close();\n</code></pre>\n<p>I tried to find answers online, there is not a lot of help but I keep reading issues about the Engine ID.. maybe there's something wrong in the way it's generated.</p>\n"},{"tags":["java","spring-boot","spring-oauth2"],"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1693928416,"post_id":76986230,"comment_id":135822801,"body_markdown":"The &quot;duplicate&quot; is in way related to this question. The exception message merely begins similarly, but the root cause is entirely different.","body":"The &quot;duplicate&quot; is in way related to this question. The exception message merely begins similarly, but the root cause is entirely different."}],"owner":{"account_id":29233432,"reputation":17,"user_id":22396570,"display_name":"loner00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1694615162,"creation_date":1693124205,"question_id":76986230,"body_markdown":"I am working on OAuth security. OAuth client config file has a problem in bean SecurityFilterChain, giving many errors.\r\n\r\nHere are my files.\r\n\r\n# config file\r\n\r\n```java\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    private static final String[] WHITE_LIST_URLS = {\r\n            &quot;/hello&quot;,\r\n            &quot;/register&quot;,\r\n            &quot;/verifyRegistration*&quot;,\r\n            &quot;/resendVerifyToken*&quot;\r\n    };\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder(11);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws \r\n    Exception {\r\n        http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .antMatchers(WHITE_LIST_URLS).permitAll()\r\n                .antMatchers(&quot;/api/**&quot;).authenticated()\r\n                .and()\r\n                .oauth2Login(oauth2login -&gt;\r\n                        oauth2login.loginPage(&quot;/oauth2/authorization/api-client-oidc&quot;))\r\n                .oauth2Client(Customizer.withDefaults())\r\n                .securityContext((securityContext) -&gt; securityContext\r\n                        .securityContextRepository(new RequestAttributeSecurityContextRepository()))\r\n                .securityContext((securityContext) -&gt; securityContext\r\n                        .requireExplicitSave(true));\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n# POM.xml file\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n# Authorization server config\r\n\r\n```java\r\n@Configuration(proxyBeanMethods = false)\r\npublic class AuthorizationServerConfig {\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n    @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public SecurityFilterChain authServerSecurityFilterChain(HttpSecurity http) throws Exception{\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n\r\n        return http.formLogin(Customizer.withDefaults()).build();\r\n    }\r\n\r\n    @Bean\r\n    public RegisteredClientRepository registeredClientRepository() {\r\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\r\n                .clientId(&quot;api-client&quot;)\r\n                .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\r\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n                .authorizationGrantType(AuthorizationGrantType.PASSWORD)\r\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n                .redirectUri(&quot;http://127.0.0.1:8080/login/oauth2/code/api-client-oidc&quot;)\r\n                .redirectUri(&quot;http://127.0.0.1:8080/authorized&quot;)\r\n                .scope(OidcScopes.OPENID)\r\n                .scope(&quot;api.read&quot;)\r\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\r\n                .build();\r\n\r\n\r\n        return new InMemoryRegisteredClientRepository(registeredClient);\r\n    }\r\n\r\n    @Bean\r\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\r\n        RSAKey rsaKey = generateRsa();\r\n        JWKSet jwkSet = new JWKSet(rsaKey);\r\n        return (jwkSelector, securityContext) -&gt; jwkSelector.select(jwkSet);\r\n    }\r\n\r\n    private static RSAKey generateRsa() {\r\n        KeyPair keyPair = generateRsaKey();\r\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n        return new RSAKey.Builder(publicKey)\r\n                .privateKey(privateKey)\r\n                .keyID(UUID.randomUUID().toString())\r\n                .build();\r\n    }\r\n\r\n    private static KeyPair generateRsaKey() {\r\n        KeyPair keyPair;\r\n        try {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            keyPairGenerator.initialize(2048);\r\n            keyPair = keyPairGenerator.generateKeyPair();\r\n        } catch (Exception ex) {\r\n            throw new IllegalStateException(ex);\r\n        }\r\n        return keyPair;\r\n    }\r\n\r\n    @Bean\r\n    public ProviderSettings providerSettings() {\r\n        return ProviderSettings.builder()\r\n                .issuer(&quot;http://auth-server:9000&quot;)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n# Stack trace\r\n\r\n```none\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-08-27 13:27:19.433 ERROR 9308 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;securityFilterChain&#39; defined in class path resource [com/springsecuritylearn/client/config/WebSecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;securityFilterChain&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientRegistrationRepository&#39; defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientRegistrationRepositoryConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository]: Factory method &#39;clientRegistrationRepository&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Unable to resolve Configuration with the provided Issuer of &quot;http://auth-server:9000&quot;\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:774) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:727) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921) ~[spring-context-5.3.29.jar:5.3.29]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.29.jar:5.3.29]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar:2.7.14]\r\n\tat com.springsecuritylearn.client.SpringSecurityClientApplication.main(SpringSecurityClientApplication.java:10) ~[classes/:na]\r\n```\r\n","title":"OAuth authorization server is not able to handle the Oauthclient","body":"<p>I am working on OAuth security. OAuth client config file has a problem in bean SecurityFilterChain, giving many errors.</p>\n<p>Here are my files.</p>\n<h1>config file</h1>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private static final String[] WHITE_LIST_URLS = {\n            &quot;/hello&quot;,\n            &quot;/register&quot;,\n            &quot;/verifyRegistration*&quot;,\n            &quot;/resendVerifyToken*&quot;\n    };\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder(11);\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws \n    Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .antMatchers(WHITE_LIST_URLS).permitAll()\n                .antMatchers(&quot;/api/**&quot;).authenticated()\n                .and()\n                .oauth2Login(oauth2login -&gt;\n                        oauth2login.loginPage(&quot;/oauth2/authorization/api-client-oidc&quot;))\n                .oauth2Client(Customizer.withDefaults())\n                .securityContext((securityContext) -&gt; securityContext\n                        .securityContextRepository(new RequestAttributeSecurityContextRepository()))\n                .securityContext((securityContext) -&gt; securityContext\n                        .requireExplicitSave(true));\n\n        return http.build();\n    }\n}\n</code></pre>\n<h1>POM.xml file</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<h1>Authorization server config</h1>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(proxyBeanMethods = false)\npublic class AuthorizationServerConfig {\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    public SecurityFilterChain authServerSecurityFilterChain(HttpSecurity http) throws Exception{\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n\n        return http.formLogin(Customizer.withDefaults()).build();\n    }\n\n    @Bean\n    public RegisteredClientRepository registeredClientRepository() {\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\n                .clientId(&quot;api-client&quot;)\n                .clientSecret(passwordEncoder.encode(&quot;secret&quot;))\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                .authorizationGrantType(AuthorizationGrantType.PASSWORD)\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n                .redirectUri(&quot;http://127.0.0.1:8080/login/oauth2/code/api-client-oidc&quot;)\n                .redirectUri(&quot;http://127.0.0.1:8080/authorized&quot;)\n                .scope(OidcScopes.OPENID)\n                .scope(&quot;api.read&quot;)\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\n                .build();\n\n\n        return new InMemoryRegisteredClientRepository(registeredClient);\n    }\n\n    @Bean\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\n        RSAKey rsaKey = generateRsa();\n        JWKSet jwkSet = new JWKSet(rsaKey);\n        return (jwkSelector, securityContext) -&gt; jwkSelector.select(jwkSet);\n    }\n\n    private static RSAKey generateRsa() {\n        KeyPair keyPair = generateRsaKey();\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\n        return new RSAKey.Builder(publicKey)\n                .privateKey(privateKey)\n                .keyID(UUID.randomUUID().toString())\n                .build();\n    }\n\n    private static KeyPair generateRsaKey() {\n        KeyPair keyPair;\n        try {\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n            keyPairGenerator.initialize(2048);\n            keyPair = keyPairGenerator.generateKeyPair();\n        } catch (Exception ex) {\n            throw new IllegalStateException(ex);\n        }\n        return keyPair;\n    }\n\n    @Bean\n    public ProviderSettings providerSettings() {\n        return ProviderSettings.builder()\n                .issuer(&quot;http://auth-server:9000&quot;)\n                .build();\n    }\n}\n</code></pre>\n<h1>Stack trace</h1>\n<pre class=\"lang-none prettyprint-override\"><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-08-27 13:27:19.433 ERROR 9308 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/springsecuritylearn/client/config/WebSecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientRegistrationRepositoryConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception; nested exception is java.lang.IllegalArgumentException: Unable to resolve Configuration with the provided Issuer of &quot;http://auth-server:9000&quot;\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:774) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:727) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.29.jar:5.3.29]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:921) ~[spring-context-5.3.29.jar:5.3.29]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.29.jar:5.3.29]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.14.jar:2.7.14]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.14.jar:2.7.14]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.14.jar:2.7.14]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.14.jar:2.7.14]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.14.jar:2.7.14]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.14.jar:2.7.14]\n    at com.springsecuritylearn.client.SpringSecurityClientApplication.main(SpringSecurityClientApplication.java:10) ~[classes/:na]\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1694456583,"post_id":77082915,"comment_id":135890607,"body_markdown":"This code is Java, not Kotlin. You probably want to tag Android since that&#39;s what it&#39;s primarily about.","body":"This code is Java, not Kotlin. You probably want to tag Android since that&#39;s what it&#39;s primarily about."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1694456879,"post_id":77082915,"comment_id":135890657,"body_markdown":"Can you show the code of the `loadById()` method? What is its return type?","body":"Can you show the code of the <code>loadById()</code> method? What is its return type?"},{"owner":{"account_id":29291795,"reputation":1,"user_id":22442079,"display_name":"Nahuel Perez"},"score":0,"creation_date":1694470096,"post_id":77082915,"comment_id":135892539,"body_markdown":"@Query(&quot;SELECT * FROM Repo WHERE id in(:repoIds)&quot;)\n        protected abstract LiveData&lt;List&lt;Repo&gt;&gt; loadById(List&lt;Integer&gt; repoIds); @Tenfour04","body":"@Query(&quot;SELECT * FROM Repo WHERE id in(:repoIds)&quot;)         protected abstract LiveData&lt;List&lt;Repo&gt;&gt; loadById(List&lt;Integer&gt; repoIds); @Tenfour04"},{"owner":{"account_id":29291795,"reputation":1,"user_id":22442079,"display_name":"Nahuel Perez"},"score":0,"creation_date":1694470472,"post_id":77082915,"comment_id":135892585,"body_markdown":"@Tenfour04 \nThis is the version of Android Studio that I have installed: Android Studio Flammngo | 2022.2.1","body":"@Tenfour04  This is the version of Android Studio that I have installed: Android Studio Flammngo | 2022.2.1"},{"owner":{"account_id":29291795,"reputation":1,"user_id":22442079,"display_name":"Nahuel Perez"},"score":0,"creation_date":1694473135,"post_id":77082915,"comment_id":135892872,"body_markdown":"`return Transformations.map(loadById(repoIds), (Function1&lt;List&lt;Repo&gt;, List&lt;Repo&gt;&gt;) repositories -&gt; {\n            repositories.sort(new Comparator&lt;Repo&gt;() {\n                @Override\n                public int compare(Repo o1, Repo o2) {\n                    int pos1 = order.get(o1.id);\n                    int pos2 = order.get(o2.id);\n                    return pos1 - pos2;\n                }\n            });\n            return repositories;\n        });`","body":"<code>return Transformations.map(loadById(repoIds), (Function1&lt;List&lt;Repo&gt;, List&lt;Repo&gt;&gt;) repositories -&gt; {             repositories.sort(new Comparator&lt;Repo&gt;() {                 @Override                 public int compare(Repo o1, Repo o2) {                     int pos1 = order.get(o1.id);                     int pos2 = order.get(o2.id);                     return pos1 - pos2;                 }             });             return repositories;         });</code>"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1694614897,"post_id":77082915,"comment_id":135914851,"body_markdown":"For future reference, tag [tag:android] instead of [tag:android-studio] for questions about Android development. Android Studio&#39;s tag is for questions specifically about the IDE so there are far fewer people watching that tag and it&#39;s not really relevant to questions like this. If you tag Android, a lot more people will see your question. If you had tagged `android` and `java` to begin with, you probably would have had an answer within minutes. And don&#39;t tag Kotlin unless you are fine with answers that have only Kotlin examples in them.","body":"For future reference, tag <a href=\"https://stackoverflow.com/questions/tagged/android\">android</a> instead of <a href=\"https://stackoverflow.com/questions/tagged/android-studio\">android-studio</a> for questions about Android development. Android Studio&#39;s tag is for questions specifically about the IDE so there are far fewer people watching that tag and it&#39;s not really relevant to questions like this. If you tag Android, a lot more people will see your question. If you had tagged <code>android</code> and <code>java</code> to begin with, you probably would have had an answer within minutes. And don&#39;t tag Kotlin unless you are fine with answers that have only Kotlin examples in them."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694615074,"creation_date":1694614761,"answer_id":77097952,"question_id":77082915,"body_markdown":"The second argument for the `map` method is a `Function1`, not a `Function`. But you wouldn&#39;t have to worry about this if you&#39;re using lambdas, which is the intended way to use it, and much more concise/readable:\r\n\r\n```java\r\npublic LiveData&lt;List&lt;Repo&gt;&gt; loadOrdered(List&lt;Integer&gt; repoIds) {\r\n    SparseIntArray order = new SparseIntArray();\r\n    int index = 0;\r\n    for (int repoId : repoIds) { // might as well avoid boxing\r\n        order.put(repoId, index++);\r\n    }\r\n    return Transformations.map(\r\n        loadById(repoIds),\r\n        repositories -&gt; {\r\n            Collections.sort(repositories, Comparator.comparingInt(repo -&gt; order.get(repo.id)));\r\n            return repositories;\r\n        }\r\n    );\r\n}\r\n```","title":"Corregir error no instance(s) of type variable(s) X exist so that LiveData&lt;List&lt;Repo&gt;&gt; conforms to LiveData&lt;X&gt;","body":"<p>The second argument for the <code>map</code> method is a <code>Function1</code>, not a <code>Function</code>. But you wouldn't have to worry about this if you're using lambdas, which is the intended way to use it, and much more concise/readable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public LiveData&lt;List&lt;Repo&gt;&gt; loadOrdered(List&lt;Integer&gt; repoIds) {\n    SparseIntArray order = new SparseIntArray();\n    int index = 0;\n    for (int repoId : repoIds) { // might as well avoid boxing\n        order.put(repoId, index++);\n    }\n    return Transformations.map(\n        loadById(repoIds),\n        repositories -&gt; {\n            Collections.sort(repositories, Comparator.comparingInt(repo -&gt; order.get(repo.id)));\n            return repositories;\n        }\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":29291795,"reputation":1,"user_id":22442079,"display_name":"Nahuel Perez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694615074,"creation_date":1694445872,"question_id":77082915,"body_markdown":"I&#39;m doing a test application and the example I am following uses Java functions in Visual Studio to receive a list of integers and return a `LiveData`. Everything was OK up to this point, but when I write the example syntax it gives me the following error:\r\n```\r\nno instance(s) of type variable(s) X exist so that LiveData&lt;List&lt;Repo&gt;&gt; conforms to LiveData&lt;X&gt;\r\n```\r\n\r\nI understand that it must be a version problem of Android Studio. Or it could be that it is written differently?\r\nThis is the code I am trying to use which gives me the error:\r\n```\r\npublic LiveData&lt;List&lt;Repo&gt;&gt; loadOrdered(List&lt;Integer&gt; repoIds) {\r\n    SparseIntArray order = new SparseIntArray();\r\n    int index = 0;\r\n    for (Integer repoId : repoIds) {\r\n        order.put(repoId, index++);\r\n    }\r\n    return Transformations.map(loadById(repoIds), new Function&lt;List&lt;Repo&gt;, List&lt;Repo&gt;&gt;() {\r\n        @Override\r\n        public List&lt;Repo&gt; apply(List&lt;Repo&gt; repositories) {\r\n            Collections.sort(repositories, new Comparator&lt;Repo&gt;() {\r\n                @Override\r\n                public int compare(Repo o1, Repo o2) {\r\n                    int pos1 = order.get(o1.id);\r\n                    int pos2 = order.get(o2.id);\r\n                    return pos1 - pos2;\r\n                }\r\n            });\r\n            return repositories;\r\n        }\r\n    });\r\n```\r\nI leave the declaration of this function:\r\n```\r\nloadById(repoIds):\r\n        @Query(&quot;SELECT * FROM Repo WHERE id in(:repoIds)&quot;)\r\n        protected abstract LiveData&lt;List&lt;Repo&gt;&gt; loadById(List&lt;Integer&gt; repoIds);\r\n```\r\nThis is the `Repo` class:\r\n```\r\n@Entity(indices = {@Index(&quot;id&quot;), @Index(&quot;owner_login&quot;)},\r\n        primaryKeys = {&quot;name&quot;, &quot;owner_login&quot;})\r\npublic class Repo {\r\n\r\n    public final int id;\r\n    @SerializedName(&quot;name&quot;)\r\n    public  final String name;\r\n    @SerializedName(&quot;full_name&quot;)\r\n    public  final String fullName;\r\n    @SerializedName(&quot;description&quot;)\r\n    public  final String description;\r\n    @SerializedName(&quot;stargazers_count&quot;)\r\n    public  final String stars;\r\n    @SerializedName(&quot;owner&quot;)\r\n    @Embedded(prefix = &quot;owner_&quot;)\r\n    public final Owner owner;\r\n\r\n    public Repo(int id, String name, String fullName, String description, String stars, Owner owner) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.fullName = fullName;\r\n        this.description = description;\r\n        this.stars = stars;\r\n        this.owner = owner;\r\n    }\r\n\r\n    public static class Owner{\r\n        @SerializedName(&quot;login&quot;)\r\n        public  final String login;\r\n        @SerializedName(&quot;url&quot;)\r\n        public final String url;\r\n\r\n        public Owner(String login, String url) {\r\n            this.login = login;\r\n            this.url = url;\r\n        }\r\n    }\r\n}\r\n```\r\nFinally this the `build.gradle`:\r\n```\r\nandroid {\r\n    namespace &#39;com.example.arquitecturamvvm&#39;\r\n    compileSdk 34\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.arquitecturamvvm&quot;\r\n        minSdk 24\r\n        targetSdk 34\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        vectorDrawables {\r\n            useSupportLibrary true\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        compose true\r\n    }\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion &#39;1.3.2&#39;\r\n    }\r\n    packagingOptions {\r\n        resources {\r\n            excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n        }\r\n    }\r\n}\r\n```","title":"Corregir error no instance(s) of type variable(s) X exist so that LiveData&lt;List&lt;Repo&gt;&gt; conforms to LiveData&lt;X&gt;","body":"<p>I'm doing a test application and the example I am following uses Java functions in Visual Studio to receive a list of integers and return a <code>LiveData</code>. Everything was OK up to this point, but when I write the example syntax it gives me the following error:</p>\n<pre><code>no instance(s) of type variable(s) X exist so that LiveData&lt;List&lt;Repo&gt;&gt; conforms to LiveData&lt;X&gt;\n</code></pre>\n<p>I understand that it must be a version problem of Android Studio. Or it could be that it is written differently?\nThis is the code I am trying to use which gives me the error:</p>\n<pre><code>public LiveData&lt;List&lt;Repo&gt;&gt; loadOrdered(List&lt;Integer&gt; repoIds) {\n    SparseIntArray order = new SparseIntArray();\n    int index = 0;\n    for (Integer repoId : repoIds) {\n        order.put(repoId, index++);\n    }\n    return Transformations.map(loadById(repoIds), new Function&lt;List&lt;Repo&gt;, List&lt;Repo&gt;&gt;() {\n        @Override\n        public List&lt;Repo&gt; apply(List&lt;Repo&gt; repositories) {\n            Collections.sort(repositories, new Comparator&lt;Repo&gt;() {\n                @Override\n                public int compare(Repo o1, Repo o2) {\n                    int pos1 = order.get(o1.id);\n                    int pos2 = order.get(o2.id);\n                    return pos1 - pos2;\n                }\n            });\n            return repositories;\n        }\n    });\n</code></pre>\n<p>I leave the declaration of this function:</p>\n<pre><code>loadById(repoIds):\n        @Query(&quot;SELECT * FROM Repo WHERE id in(:repoIds)&quot;)\n        protected abstract LiveData&lt;List&lt;Repo&gt;&gt; loadById(List&lt;Integer&gt; repoIds);\n</code></pre>\n<p>This is the <code>Repo</code> class:</p>\n<pre><code>@Entity(indices = {@Index(&quot;id&quot;), @Index(&quot;owner_login&quot;)},\n        primaryKeys = {&quot;name&quot;, &quot;owner_login&quot;})\npublic class Repo {\n\n    public final int id;\n    @SerializedName(&quot;name&quot;)\n    public  final String name;\n    @SerializedName(&quot;full_name&quot;)\n    public  final String fullName;\n    @SerializedName(&quot;description&quot;)\n    public  final String description;\n    @SerializedName(&quot;stargazers_count&quot;)\n    public  final String stars;\n    @SerializedName(&quot;owner&quot;)\n    @Embedded(prefix = &quot;owner_&quot;)\n    public final Owner owner;\n\n    public Repo(int id, String name, String fullName, String description, String stars, Owner owner) {\n        this.id = id;\n        this.name = name;\n        this.fullName = fullName;\n        this.description = description;\n        this.stars = stars;\n        this.owner = owner;\n    }\n\n    public static class Owner{\n        @SerializedName(&quot;login&quot;)\n        public  final String login;\n        @SerializedName(&quot;url&quot;)\n        public final String url;\n\n        public Owner(String login, String url) {\n            this.login = login;\n            this.url = url;\n        }\n    }\n}\n</code></pre>\n<p>Finally this the <code>build.gradle</code>:</p>\n<pre><code>android {\n    namespace 'com.example.arquitecturamvvm'\n    compileSdk 34\n\n    defaultConfig {\n        applicationId &quot;com.example.arquitecturamvvm&quot;\n        minSdk 24\n        targetSdk 34\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        vectorDrawables {\n            useSupportLibrary true\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        compose true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.3.2'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sts"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694615002,"post_id":77097939,"comment_id":135914883,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":10426581,"reputation":1,"user_id":7687627,"display_name":"Mundru Suresh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694614647,"creation_date":1694614647,"question_id":77097939,"body_markdown":"I have downloaded the latest version of spring tool suite (spring-tool-suite-4-4.19.1.RELEASE), when I tried to import spring getting started content, it return as below error:  Get started Guide SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\ni tried to imort the proxy certificate but still i face the same issue","title":"Get started Guide SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I have downloaded the latest version of spring tool suite (spring-tool-suite-4-4.19.1.RELEASE), when I tried to import spring getting started content, it return as below error:  Get started Guide SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n<p>i tried to imort the proxy certificate but still i face the same issue</p>\n"},{"tags":["java","sorting","java-stream","groupingby"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1457453479,"post_id":35872236,"comment_id":59408575,"body_markdown":"Nope, there isn&#39;t.  (That said -- why do you think it wouldn&#39;t work in parallel streams?  Sure it would.)","body":"Nope, there isn&#39;t.  (That said -- why do you think it wouldn&#39;t work in parallel streams?  Sure it would.)"},{"owner":{"account_id":7635619,"reputation":1640,"user_id":5789263,"accept_rate":100,"display_name":"ctst"},"score":0,"creation_date":1457453837,"post_id":35872236,"comment_id":59408832,"body_markdown":"@LouisWasserman Are you sure about that (the second part of your comment)? Looking at the docs of `sorted` and `collect` I have a strong hunch this will break with parallel streaming, but I can be completely wrong here. Feel free, to correct me in my question, wouldn&#39;t want to spread wrong information.","body":"@LouisWasserman Are you sure about that (the second part of your comment)? Looking at the docs of <code>sorted</code> and <code>collect</code> I have a strong hunch this will break with parallel streaming, but I can be completely wrong here. Feel free, to correct me in my question, wouldn&#39;t want to spread wrong information."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1457453864,"post_id":35872236,"comment_id":59408847,"body_markdown":"Yes, yes I am.  Parallelism doesn&#39;t interfere with the ordering property of a stream.","body":"Yes, yes I am.  Parallelism doesn&#39;t interfere with the ordering property of a stream."},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":2,"creation_date":1457454903,"post_id":35872236,"comment_id":59409587,"body_markdown":"Probably because there are no built-in `SortedList`: http://stackoverflow.com/q/8725387/1743880","body":"Probably because there are no built-in <code>SortedList</code>: <a href=\"http://stackoverflow.com/q/8725387/1743880\">stackoverflow.com/q/8725387/1743880</a>"},{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":0,"creation_date":1457474811,"post_id":35872236,"comment_id":59421290,"body_markdown":"You can slightly compact the second code snippet using `Collectors.collectingAndThen(groupingBy(Person::getGender), l -&gt; {Collections.sort(l, Person::compareByAge); return l;});`, which may be worth it if you store and reuse the resulting Collector in many places.  But if you want to sort while collecting, you&#39;ll need to write it yourself.  This kind of makes sense, because it&#39;s probably faster to build an unsorted list and quick/merge sort at the end, rather than maintaining a sorted list during collection by inserting each element in its place (insertion sort).","body":"You can slightly compact the second code snippet using <code>Collectors.collectingAndThen(groupingBy(Person::getGender), l -&gt; {Collections.sort(l, Person::compareByAge); return l;});</code>, which may be worth it if you store and reuse the resulting Collector in many places.  But if you want to sort while collecting, you&#39;ll need to write it yourself.  This kind of makes sense, because it&#39;s probably faster to build an unsorted list and quick/merge sort at the end, rather than maintaining a sorted list during collection by inserting each element in its place (insertion sort)."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1457496229,"post_id":35872236,"comment_id":59428085,"body_markdown":"@JeffreyBosboom, note that [by specification](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-), `groupingBy` collector does not guarantee that Lists created inside map are mutable. Thus theoretically your code might break in future Java versions. It would be more correct to group via `Collectors.groupingBy(Person::getGender, Collectors.toCollection(ArrayList::new))`.","body":"@JeffreyBosboom, note that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-\" rel=\"nofollow noreferrer\">by specification</a>, <code>groupingBy</code> collector does not guarantee that Lists created inside map are mutable. Thus theoretically your code might break in future Java versions. It would be more correct to group via <code>Collectors.groupingBy(Person::getGender, Collectors.toCollection(ArrayList::new))</code>."},{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":0,"creation_date":1457496746,"post_id":35872236,"comment_id":59428190,"body_markdown":"@TagirValeev Good catch.  Switching collectors to a linked-list-of-segments implementation would allow for better merging, but if the developers are serious about doing that, they should have returned an immutable list in the first place, because lots of code will accidentally depend on the mutability.  Given Java&#39;s preference for backwards compatibility, it will be interesting to see if they&#39;re willing to break things.  (Really, the problem is that mutability should be part of the type, but that ship sailed in Java 1.3.)","body":"@TagirValeev Good catch.  Switching collectors to a linked-list-of-segments implementation would allow for better merging, but if the developers are serious about doing that, they should have returned an immutable list in the first place, because lots of code will accidentally depend on the mutability.  Given Java&#39;s preference for backwards compatibility, it will be interesting to see if they&#39;re willing to break things.  (Really, the problem is that mutability should be part of the type, but that ship sailed in Java 1.3.)"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1457605560,"creation_date":1457555039,"answer_id":35901839,"question_id":35872236,"body_markdown":"When using `sorted(comparator)` on the stream before the `collect` operation, the stream has to buffer the entire stream contents to be able to sort it and the sorting may involve much more data movement within that buffer, compared to sorting the smaller lists of the groups afterwards. So the performance is not as good as sorting the individual groups though the implementation will utilize multiple cores if parallel processing has been enabled.\r\n\r\nBut note that using `sortedListsByGender.values().forEach(â¦)` is not a parallelizable operation and even using `sortedListsByGender.values().parallelStream().forEach(â¦)` would only allow parallel processing of groups while each sort operation still is sequential.\r\n\r\nWhen performing the sort operation within a collector as in\r\n\r\n    static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toSortedList(Comparator&lt;? super T&gt; c) {\r\n        return Collectors.collectingAndThen(\r\n            Collectors.toCollection(ArrayList::new), l-&gt;{ l.sort(c); return l; } );\r\n    }\r\n&#160;\r\n\r\n    Map&lt;Gender, List&lt;Person&gt;&gt; sortedListsByGender = roster.stream()\r\n        .collect(Collectors.groupingBy(Person::getGender, toSortedList(Person::compareByAge)));\r\n\r\nthe sort operation behaves the same (thanks to Tagir Valeev for correcting me), but you can easily check how a sort-on-insertion strategy performs. Just change the collector implementation to:\r\n\r\n    static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toSortedList(Comparator&lt;? super T&gt; c) {\r\n        return Collectors.collectingAndThen(\r\n            Collectors.toCollection(()-&gt;new TreeSet&lt;&gt;(c)), ArrayList::new);\r\n    }\r\n\r\nFor completeness, if you want a collector which inserts sorted into an `ArrayList` in the first place to avoid the final copy step, you can use a more elaborated collector like this:\r\n\r\n    static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toSortedList(Comparator&lt;? super T&gt; c) {\r\n        return Collector.of(ArrayList::new,\r\n            (l,t) -&gt; {\r\n                int ix=Collections.binarySearch(l, t, c);\r\n                l.add(ix&lt;0? ~ix: ix, t);\r\n            },\r\n            (list1,list2) -&gt; {\r\n                final int s1=list1.size();\r\n                if(list1.isEmpty()) return list2;\r\n                if(!list2.isEmpty()) {\r\n                    list1.addAll(list2);\r\n                    if(c.compare(list1.get(s1-1), list2.get(0))&gt;0)\r\n                        list1.sort(c);\r\n                }\r\n                return list1;\r\n            });\r\n    }\r\nItâs efficient for the sequential usage but its merge function is not optimal. The underlying sort algorithm will benefit from presorted ranges but has to find these ranges first despite our merge function actually knows these ranges. Unfortunately, thereâs no public API in the JRE allowing us to utilize these information (efficiently; we can pass `subList`s to `binarySearch` but creating a new sub list for each element of `list2` may turn out to be too expensive). If we want to raise the performance of the parallel execution further, we have to re-implement the merge part of the sorting algorithm:\r\n\r\n    static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toSortedList(Comparator&lt;? super T&gt; c) {\r\n        return Collector.of(ArrayList::new,\r\n            (l,t) -&gt; l.add(insertPos(l, 0, l.size(), t, c), t),\r\n            (list1,list2) -&gt; merge(list1, list2, c));\r\n    }\r\n    static &lt;T&gt; List&lt;T&gt; merge(List&lt;T&gt; list1, List&lt;T&gt; list2, Comparator&lt;? super T&gt; c) {\r\n        if(list1.isEmpty()) return list2;\r\n        for(int ix1=0, ix2=0, num1=list1.size(), num2=list2.size(); ix2&lt;num2; ix2++, num1++) {\r\n            final T element = list2.get(ix2);\r\n            ix1=insertPos(list1, ix1, num1, element, c);\r\n            list1.add(ix1, element);\r\n            if(ix1==num1) {\r\n                while(++ix2&lt;num2) list1.add(list2.get(ix2));\r\n                return list1;\r\n            }\r\n        }\r\n        return list1;\r\n    }\r\n    static &lt;T&gt; int insertPos(\r\n        List&lt;? extends T&gt; list, int low, int high, T t, Comparator&lt;? super T&gt; c) {\r\n        high--;\r\n        while(low &lt;= high) {\r\n            int mid = (low+high)&gt;&gt;&gt;1, cmp = c.compare(list.get(mid), t);\r\n            if(cmp &lt; 0) low = mid + 1;\r\n            else if(cmp &gt; 0) high = mid - 1;\r\n            else {\r\n                mid++;\r\n                while(mid&lt;=high &amp;&amp; c.compare(list.get(mid), t)==0) mid++;\r\n                return mid;\r\n            }\r\n        }\r\n        return low;\r\n    }\r\nNote that this last solution, unlike the simple `binarySearch` based insertion, is a stable sort implementation, i.e. in your case, `Person`s with the same age and `Gender` wonât change their relative order, if the source stream has a defined encounter order.\r\n","title":"sorting Lists after groupingBy","body":"<p>When using <code>sorted(comparator)</code> on the stream before the <code>collect</code> operation, the stream has to buffer the entire stream contents to be able to sort it and the sorting may involve much more data movement within that buffer, compared to sorting the smaller lists of the groups afterwards. So the performance is not as good as sorting the individual groups though the implementation will utilize multiple cores if parallel processing has been enabled.</p>\n\n<p>But note that using <code>sortedListsByGender.values().forEach(â¦)</code> is not a parallelizable operation and even using <code>sortedListsByGender.values().parallelStream().forEach(â¦)</code> would only allow parallel processing of groups while each sort operation still is sequential.</p>\n\n<p>When performing the sort operation within a collector as in</p>\n\n<pre><code>static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toSortedList(Comparator&lt;? super T&gt; c) {\n    return Collectors.collectingAndThen(\n        Collectors.toCollection(ArrayList::new), l-&gt;{ l.sort(c); return l; } );\n}\n</code></pre>\n\n<p>Â </p>\n\n<pre><code>Map&lt;Gender, List&lt;Person&gt;&gt; sortedListsByGender = roster.stream()\n    .collect(Collectors.groupingBy(Person::getGender, toSortedList(Person::compareByAge)));\n</code></pre>\n\n<p>the sort operation behaves the same (thanks to Tagir Valeev for correcting me), but you can easily check how a sort-on-insertion strategy performs. Just change the collector implementation to:</p>\n\n<pre><code>static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toSortedList(Comparator&lt;? super T&gt; c) {\n    return Collectors.collectingAndThen(\n        Collectors.toCollection(()-&gt;new TreeSet&lt;&gt;(c)), ArrayList::new);\n}\n</code></pre>\n\n<p>For completeness, if you want a collector which inserts sorted into an <code>ArrayList</code> in the first place to avoid the final copy step, you can use a more elaborated collector like this:</p>\n\n<pre><code>static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toSortedList(Comparator&lt;? super T&gt; c) {\n    return Collector.of(ArrayList::new,\n        (l,t) -&gt; {\n            int ix=Collections.binarySearch(l, t, c);\n            l.add(ix&lt;0? ~ix: ix, t);\n        },\n        (list1,list2) -&gt; {\n            final int s1=list1.size();\n            if(list1.isEmpty()) return list2;\n            if(!list2.isEmpty()) {\n                list1.addAll(list2);\n                if(c.compare(list1.get(s1-1), list2.get(0))&gt;0)\n                    list1.sort(c);\n            }\n            return list1;\n        });\n}\n</code></pre>\n\n<p>Itâs efficient for the sequential usage but its merge function is not optimal. The underlying sort algorithm will benefit from presorted ranges but has to find these ranges first despite our merge function actually knows these ranges. Unfortunately, thereâs no public API in the JRE allowing us to utilize these information (efficiently; we can pass <code>subList</code>s to <code>binarySearch</code> but creating a new sub list for each element of <code>list2</code> may turn out to be too expensive). If we want to raise the performance of the parallel execution further, we have to re-implement the merge part of the sorting algorithm:</p>\n\n<pre><code>static &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; toSortedList(Comparator&lt;? super T&gt; c) {\n    return Collector.of(ArrayList::new,\n        (l,t) -&gt; l.add(insertPos(l, 0, l.size(), t, c), t),\n        (list1,list2) -&gt; merge(list1, list2, c));\n}\nstatic &lt;T&gt; List&lt;T&gt; merge(List&lt;T&gt; list1, List&lt;T&gt; list2, Comparator&lt;? super T&gt; c) {\n    if(list1.isEmpty()) return list2;\n    for(int ix1=0, ix2=0, num1=list1.size(), num2=list2.size(); ix2&lt;num2; ix2++, num1++) {\n        final T element = list2.get(ix2);\n        ix1=insertPos(list1, ix1, num1, element, c);\n        list1.add(ix1, element);\n        if(ix1==num1) {\n            while(++ix2&lt;num2) list1.add(list2.get(ix2));\n            return list1;\n        }\n    }\n    return list1;\n}\nstatic &lt;T&gt; int insertPos(\n    List&lt;? extends T&gt; list, int low, int high, T t, Comparator&lt;? super T&gt; c) {\n    high--;\n    while(low &lt;= high) {\n        int mid = (low+high)&gt;&gt;&gt;1, cmp = c.compare(list.get(mid), t);\n        if(cmp &lt; 0) low = mid + 1;\n        else if(cmp &gt; 0) high = mid - 1;\n        else {\n            mid++;\n            while(mid&lt;=high &amp;&amp; c.compare(list.get(mid), t)==0) mid++;\n            return mid;\n        }\n    }\n    return low;\n}\n</code></pre>\n\n<p>Note that this last solution, unlike the simple <code>binarySearch</code> based insertion, is a stable sort implementation, i.e. in your case, <code>Person</code>s with the same age and <code>Gender</code> wonât change their relative order, if the source stream has a defined encounter order.</p>\n"},{"tags":[],"owner":{"account_id":1317626,"reputation":187,"user_id":1264157,"accept_rate":50,"display_name":"Tulshiram Pawde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694614344,"creation_date":1694583737,"answer_id":77094331,"question_id":35872236,"body_markdown":"Yes, we can sort by gender and then sort by age in one line. Below line of code first sort by gender and then apply sort by age [assuming getGender() &amp; getAge() as getter]. But here sort will be based on Gender.\r\n\r\n\r\n    roster.stream().sorted(Comparator.comparing(Person::getGender).thenComparing(Person::getAge, String::compareToIgnoreCase)).collect(Collectors.toList()))\r\n\r\n","title":"sorting Lists after groupingBy","body":"<p>Yes, we can sort by gender and then sort by age in one line. Below line of code first sort by gender and then apply sort by age [assuming getGender() &amp; getAge() as getter]. But here sort will be based on Gender.</p>\n<pre><code>roster.stream().sorted(Comparator.comparing(Person::getGender).thenComparing(Person::getAge, String::compareToIgnoreCase)).collect(Collectors.toList()))\n</code></pre>\n"}],"owner":{"account_id":7635619,"reputation":1640,"user_id":5789263,"accept_rate":100,"display_name":"ctst"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40888,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":35901839,"answer_count":2,"score":55,"last_activity_date":1694614344,"creation_date":1457453211,"question_id":35872236,"body_markdown":"I am wondering, if there is already an implemented feature in streams (or Collectors) which has sorted Lists as values. E.g. the following codes both produce gender-grouped Lists of persons, sorted by age. The first solution has some overhead sorting (and looks a little bit scruffy). The second solution needs to look at every person twice but does the job in a pretty way.\r\n\r\nFirst sorting then grouping in one stream:\r\n\r\n    Map&lt;Gender, List&lt;Person&gt;&gt; sortedListsByGender = (List&lt;Person&gt;) roster\r\n\t\t\t.stream()\r\n\t\t\t.sorted(Person::compareByAge)\r\n\t\t\t.collect(Collectors.groupingBy(Person::getGender));\r\n\r\nFirst grouping, then sorting every value:\r\n\r\n    Map&lt;Gender, List&lt;Person&gt;&gt; sortedListsByGender = (List&lt;Person&gt;) roster\r\n\t\t\t.stream()\r\n\t\t\t.collect(Collectors.groupingBy(Person::getGender));\r\n    sortedListsByGender.values()\r\n            .forEach(list -&gt; Collections.sort(list, Person::compareByAge));\r\n\r\nI am just wondering, if there is already something implemented, which does this in one run, like `groupingBySorted`.","title":"sorting Lists after groupingBy","body":"<p>I am wondering, if there is already an implemented feature in streams (or Collectors) which has sorted Lists as values. E.g. the following codes both produce gender-grouped Lists of persons, sorted by age. The first solution has some overhead sorting (and looks a little bit scruffy). The second solution needs to look at every person twice but does the job in a pretty way.</p>\n\n<p>First sorting then grouping in one stream:</p>\n\n<pre><code>Map&lt;Gender, List&lt;Person&gt;&gt; sortedListsByGender = (List&lt;Person&gt;) roster\n        .stream()\n        .sorted(Person::compareByAge)\n        .collect(Collectors.groupingBy(Person::getGender));\n</code></pre>\n\n<p>First grouping, then sorting every value:</p>\n\n<pre><code>Map&lt;Gender, List&lt;Person&gt;&gt; sortedListsByGender = (List&lt;Person&gt;) roster\n        .stream()\n        .collect(Collectors.groupingBy(Person::getGender));\nsortedListsByGender.values()\n        .forEach(list -&gt; Collections.sort(list, Person::compareByAge));\n</code></pre>\n\n<p>I am just wondering, if there is already something implemented, which does this in one run, like <code>groupingBySorted</code>.</p>\n"},{"tags":["java","spring","lombok","springdoc"],"owner":{"account_id":1072602,"reputation":3808,"user_id":1071515,"accept_rate":93,"display_name":"tomaytotomato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694614339,"creation_date":1694614339,"question_id":77097901,"body_markdown":"I have setup a new Spring Boot 3 project with the OpenAPI starter dependency\r\n\r\n\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nWith the following class annotated with @Data\r\n\r\n```java\r\n@Data\r\npublic class SearchRequestDto {\r\n\r\n    private String make;\r\n    private String model;\r\n    private String trim;\r\n}\r\n\r\n```\r\n\r\nHowever when viewing the Swagger UI it shows the schema of this request as being empty.\r\n\r\nAssuming it was an issue with reflection, I added my own getters/setters manually and it showed the properties of the class on Swagger UI.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I configure Spring OpenAPI to use the generated Lombok classes?\r\n\r\n\r\nGoogling only results in code generation (OpenAPI spec --&gt; Java POJO) for example [here][2]\r\n\r\n\r\nI have the Lombok annotation processor correctly configured in the Maven compiler plugin\r\n\r\n  [1]: https://i.stack.imgur.com/GPdMH.png\r\n  [2]: https://github.com/OpenAPITools/openapi-generator/issues/324#issuecomment-785438335","title":"SpringDoc Open API MVC Starter not showing fields of class annotated with Lombok @Data?","body":"<p>I have setup a new Spring Boot 3 project with the OpenAPI starter dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>With the following class annotated with @Data</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class SearchRequestDto {\n\n    private String make;\n    private String model;\n    private String trim;\n}\n\n</code></pre>\n<p>However when viewing the Swagger UI it shows the schema of this request as being empty.</p>\n<p>Assuming it was an issue with reflection, I added my own getters/setters manually and it showed the properties of the class on Swagger UI.</p>\n<p><a href=\"https://i.stack.imgur.com/GPdMH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GPdMH.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I configure Spring OpenAPI to use the generated Lombok classes?</p>\n<p>Googling only results in code generation (OpenAPI spec --&gt; Java POJO) for example <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/324#issuecomment-785438335\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I have the Lombok annotation processor correctly configured in the Maven compiler plugin</p>\n"},{"tags":["java","divide-and-conquer"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1694612505,"post_id":77097454,"comment_id":135914219,"body_markdown":"Please provide all input data, expected output, and your output.","body":"Please provide all input data, expected output, and your output."},{"owner":{"account_id":26850915,"reputation":33,"user_id":20535828,"display_name":"Nom"},"score":0,"creation_date":1694613312,"post_id":77097454,"comment_id":135914457,"body_markdown":"@WJS I edited my question. If you need more inputs please let me know. I will be happy to get some and add them as well.","body":"@WJS I edited my question. If you need more inputs please let me know. I will be happy to get some and add them as well."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1694617013,"post_id":77097454,"comment_id":135915388,"body_markdown":"I found out that adding the `height` to  `points.add(new Point(width, 0));` will result in the next to last answer being correct.  It doesn&#39;t work for the other incorrect answers but it may give you a clue.","body":"I found out that adding the <code>height</code> to  <code>points.add(new Point(width, 0));</code> will result in the next to last answer being correct.  It doesn&#39;t work for the other incorrect answers but it may give you a clue."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694621723,"post_id":77097454,"comment_id":135916345,"body_markdown":"@Nom, the maximum area of a rectangle can be found with _âp &#247; 4â â¨¯ âp &#247; 4â_, where _p_ is the perimeter; how do the _points_ play a role in this solution?","body":"@Nom, the maximum area of a rectangle can be found with <i>âp &#247; 4â â¨¯ âp &#247; 4â</i>, where <i>p</i> is the perimeter; how do the <i>points</i> play a role in this solution?"}],"owner":{"account_id":26850915,"reputation":33,"user_id":20535828,"display_name":"Nom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694614262,"creation_date":1694611197,"question_id":77097454,"body_markdown":"The task is to write a Java program that uses a divide and conquer approach to find the rectangle with the maximum surface area that can be drawn within a given rectangle, without containing any of a set of points. \r\nThe base of the rectangle must be on the x-axis. The input data is provided in a file, with the first line containing the dimensions of the outer rectangle (which is our working space), the second line containing the number of points inside this area, and the remaining lines containing the coordinates of the points, sorted in increasing order of abscissa.\r\n\r\nI have written this code but I still have issues as it does not always give the correct answer, and I don&#39;t know why. I believe the height of the rectangle is the issue.\r\n\r\nI tried to do the dividing on the points with lowest ordinates.\r\n\r\n\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\nclass Point{\r\n    int x, y;\r\n    public Point(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n\r\npublic class MaxRectangle {\r\n    static List&lt;Point&gt; points = new ArrayList&lt;&gt;();\r\n    static int width, height;\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        // Load points from file\r\n        File file = new File(&quot;input.txt&quot;);\r\n        Scanner scanner = new Scanner(file);\r\n\r\n        width = scanner.nextInt();  \r\n        height = scanner.nextInt();  \r\n        int n = scanner.nextInt();  \r\n\r\n        points.add(new Point(0, 0));\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            points.add(new Point(scanner.nextInt(), scanner.nextInt()));\r\n        }\r\n        \r\n        points.add(new Point(width, 0));\r\n\r\n        scanner.close();\r\n\r\n        System.out.println(divideAndConquer(0, points.size() -1)); \r\n    }\r\n\r\n    static int divideAndConquer(int left, int right) {\r\n        if (left &gt; right) {\r\n            return 0;\r\n        }\r\n\r\n        int minIndex = left;\r\n        for (int i = left + 1; i &lt;= right; i++) {\r\n            if (points.get(i).y &lt; points.get(minIndex).y &amp;&amp; points.get(i).y !=0) {\r\n            \tminIndex = i;\r\n            }\r\n        }\r\n\r\n        int leftArea = divideAndConquer(left, minIndex - 1);\r\n        int rightArea = divideAndConquer(minIndex + 1, right);\r\n        int minArea = points.get(minIndex).y * (points.get(right).x - (left &gt; 0 ? points.get(left - 1).x : 0));\r\n\r\n        return Math.max(Math.max(leftArea, rightArea), minArea);\r\n    }\r\n}\r\n```\r\n**Here is some test data.**\r\n\r\nAs previously stated:\r\n\r\n- First line containing the dimensions of the outer rectangle (which is our working space)\r\n- Second line containing the number of points inside this area.\r\n- Remaining lines containing the coordinates of the points, sorted in increasing order of abscissa.\r\n\r\nSome input data with wrong output given by this program:\r\n\r\n    100000 500\r\n    10\r\n    106 100\r\n    1090 420\r\n    11000 495\r\n    22000 402\r\n    45000 376\r\n    65000 120\r\n    68000 360\r\n    78000 390\r\n    80000 100\r\n    99001 322\r\n\r\nThe expected output is 24400144 yet the answer I got is 16880144.\r\n\r\nAnother one is:\r\n\r\n    100 100\r\n    2\r\n    0 0\r\n    100 0\r\n\r\nThe expected output is 10000 but I got 0.\r\n\r\nAnother one is:\r\n\r\n    100000 500\r\n    5\r\n    1 4\r\n    2 3\r\n    3 2\r\n    5 1\r\n    5 2\r\n\r\nThe expected output is 49997500 but I got 199990.\r\n\r\nOne of the test cases that worked fine is:\r\n\r\n    10 5\r\n    4\r\n    1 4\r\n    2 3\r\n    3 1\r\n    4 5\r\n\r\nThe expected area is 35 and I got 35.","title":"Solving Maximum Area Rectangle using a divide and conquer approach","body":"<p>The task is to write a Java program that uses a divide and conquer approach to find the rectangle with the maximum surface area that can be drawn within a given rectangle, without containing any of a set of points.\nThe base of the rectangle must be on the x-axis. The input data is provided in a file, with the first line containing the dimensions of the outer rectangle (which is our working space), the second line containing the number of points inside this area, and the remaining lines containing the coordinates of the points, sorted in increasing order of abscissa.</p>\n<p>I have written this code but I still have issues as it does not always give the correct answer, and I don't know why. I believe the height of the rectangle is the issue.</p>\n<p>I tried to do the dividing on the points with lowest ordinates.</p>\n<pre><code>import java.util.*;\nimport java.io.*;\n\nclass Point{\n    int x, y;\n    public Point(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n}\n\npublic class MaxRectangle {\n    static List&lt;Point&gt; points = new ArrayList&lt;&gt;();\n    static int width, height;\n\n    public static void main(String[] args) throws FileNotFoundException {\n        // Load points from file\n        File file = new File(&quot;input.txt&quot;);\n        Scanner scanner = new Scanner(file);\n\n        width = scanner.nextInt();  \n        height = scanner.nextInt();  \n        int n = scanner.nextInt();  \n\n        points.add(new Point(0, 0));\n\n        for (int i = 0; i &lt; n; i++) {\n            points.add(new Point(scanner.nextInt(), scanner.nextInt()));\n        }\n        \n        points.add(new Point(width, 0));\n\n        scanner.close();\n\n        System.out.println(divideAndConquer(0, points.size() -1)); \n    }\n\n    static int divideAndConquer(int left, int right) {\n        if (left &gt; right) {\n            return 0;\n        }\n\n        int minIndex = left;\n        for (int i = left + 1; i &lt;= right; i++) {\n            if (points.get(i).y &lt; points.get(minIndex).y &amp;&amp; points.get(i).y !=0) {\n                minIndex = i;\n            }\n        }\n\n        int leftArea = divideAndConquer(left, minIndex - 1);\n        int rightArea = divideAndConquer(minIndex + 1, right);\n        int minArea = points.get(minIndex).y * (points.get(right).x - (left &gt; 0 ? points.get(left - 1).x : 0));\n\n        return Math.max(Math.max(leftArea, rightArea), minArea);\n    }\n}\n</code></pre>\n<p><strong>Here is some test data.</strong></p>\n<p>As previously stated:</p>\n<ul>\n<li>First line containing the dimensions of the outer rectangle (which is our working space)</li>\n<li>Second line containing the number of points inside this area.</li>\n<li>Remaining lines containing the coordinates of the points, sorted in increasing order of abscissa.</li>\n</ul>\n<p>Some input data with wrong output given by this program:</p>\n<pre><code>100000 500\n10\n106 100\n1090 420\n11000 495\n22000 402\n45000 376\n65000 120\n68000 360\n78000 390\n80000 100\n99001 322\n</code></pre>\n<p>The expected output is 24400144 yet the answer I got is 16880144.</p>\n<p>Another one is:</p>\n<pre><code>100 100\n2\n0 0\n100 0\n</code></pre>\n<p>The expected output is 10000 but I got 0.</p>\n<p>Another one is:</p>\n<pre><code>100000 500\n5\n1 4\n2 3\n3 2\n5 1\n5 2\n</code></pre>\n<p>The expected output is 49997500 but I got 199990.</p>\n<p>One of the test cases that worked fine is:</p>\n<pre><code>10 5\n4\n1 4\n2 3\n3 1\n4 5\n</code></pre>\n<p>The expected area is 35 and I got 35.</p>\n"},{"tags":["java","micrometer","spring-micrometer","micrometer-tracing"],"answers":[{"tags":[],"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694614145,"creation_date":1694614145,"answer_id":77097876,"question_id":77090898,"body_markdown":"Got the answer from Marcin Grzejszczak : you have to use a NullObservation to clear all the thread stuff and create a new observation from there :  \r\n\r\n```\r\nnew NullObservation(observationRegistry)\r\n        .observe(() -&gt; Observation.start(name, observationRegistry)\r\n                           .observe(() -&gt; {\r\n                               // code to execute with a new observation\r\n                           }));\r\n```","title":"How to properly create a new trace with micrometer and spring boot 3","body":"<p>Got the answer from Marcin Grzejszczak : you have to use a NullObservation to clear all the thread stuff and create a new observation from there :</p>\n<pre><code>new NullObservation(observationRegistry)\n        .observe(() -&gt; Observation.start(name, observationRegistry)\n                           .observe(() -&gt; {\n                               // code to execute with a new observation\n                           }));\n</code></pre>\n"}],"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1457,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694614145,"creation_date":1694534834,"question_id":77090898,"body_markdown":"In some rare cases, I have to create a completely new trace, separate from any parent TraceContext or ObservationContext. \r\n\r\nAn example : I could have an api that starts the processing of 100 items, and let&#39;s say that for each of these items there will be feign calls, spring cloud stream hops, etc...\r\nSpring will automatically creates an ObservationContext from the api, so I will have the same trace for the api call and all the processing for each of these items. I&#39;m using kibana, If I find an error log and filters on the traceId I get all the items, it&#39;s almost the same as no correlation at all, there are too many lines. I can&#39;t correlate on the spanId either, new spans are created all the time !\r\n\r\nSo in some specific and controlled cases I want to start a new trace for each of these items : I know I will loose the correlation with the api call, but that&#39;s OK.\r\n\r\nI&#39;ve played quite extensively with the ObservationRegistry, the ContextSnapshot, etc... but can&#39;t get it to working. The code always finds a way to find the parent ObservationContext of TracingContext.\r\n\r\nIdeally I&#39;d like to \r\n- backup the current trace context\r\n- create a new trace context from scratch\r\n- execute some code with that new trace context\r\n- restore the former trace context\r\n\r\nThis could be done quite easily before (with sleuth) ... but now it&#39;s a head scratcher :smile:\r\n\r\nI don&#39;t know if this helps but I&#39;m looking for the `runWithNewTrace` method that would be used this way :   \r\n\r\n```java\r\nList&lt;String&gt; traceIds = new ArrayList&lt;&gt;();\r\n\r\nObservation.createNotStarted(&quot;test.traceObservation&quot;, observationRegistry) // 1\r\n        .contextualName(&quot;create test with Observation API&quot;) // 2\r\n        .observe(() -&gt; {\r\n            traceIds.add(getCurrentTraceId());\r\n            runWithNewTrace(&quot;test&quot;, () -&gt; traceIds.add(getCurrentTraceId()));\r\n            traceIds.add(getCurrentTraceId());\r\n        });\r\n\r\nString traceIdBefore = traceIds.get(0);\r\nString traceIdThatShouldBeDifferent = traceIds.get(1);\r\nString traceIdAfterThatShouldBeSameAsBefore = traceIds.get(2);\r\n\r\nassertThat(traceIdThatShouldBeDifferent).isNotNull().isNotEqualTo(&quot;no-trace&quot;);\r\nassertThat(traceIdBefore).isNotEqualTo(traceIdThatShouldBeDifferent);\r\nassertThat(traceIdBefore).isEqualTo(traceIdAfterThatShouldBeSameAsBefore);\r\n\r\n```\r\n\r\ngetTraceId looks like this :  \r\n\r\n```java\r\npublic String getCurrentTraceId() {\r\n    Span currentSpan = tracer.currentSpan();\r\n    if (currentSpan != null &amp;&amp; currentSpan.context() != null) {\r\n        return currentSpan.context().traceId();\r\n    }\r\n    return &quot;no-trace&quot;;\r\n}\r\n```\r\n\r\n\r\n","title":"How to properly create a new trace with micrometer and spring boot 3","body":"<p>In some rare cases, I have to create a completely new trace, separate from any parent TraceContext or ObservationContext.</p>\n<p>An example : I could have an api that starts the processing of 100 items, and let's say that for each of these items there will be feign calls, spring cloud stream hops, etc...\nSpring will automatically creates an ObservationContext from the api, so I will have the same trace for the api call and all the processing for each of these items. I'm using kibana, If I find an error log and filters on the traceId I get all the items, it's almost the same as no correlation at all, there are too many lines. I can't correlate on the spanId either, new spans are created all the time !</p>\n<p>So in some specific and controlled cases I want to start a new trace for each of these items : I know I will loose the correlation with the api call, but that's OK.</p>\n<p>I've played quite extensively with the ObservationRegistry, the ContextSnapshot, etc... but can't get it to working. The code always finds a way to find the parent ObservationContext of TracingContext.</p>\n<p>Ideally I'd like to</p>\n<ul>\n<li>backup the current trace context</li>\n<li>create a new trace context from scratch</li>\n<li>execute some code with that new trace context</li>\n<li>restore the former trace context</li>\n</ul>\n<p>This could be done quite easily before (with sleuth) ... but now it's a head scratcher :smile:</p>\n<p>I don't know if this helps but I'm looking for the <code>runWithNewTrace</code> method that would be used this way :</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; traceIds = new ArrayList&lt;&gt;();\n\nObservation.createNotStarted(&quot;test.traceObservation&quot;, observationRegistry) // 1\n        .contextualName(&quot;create test with Observation API&quot;) // 2\n        .observe(() -&gt; {\n            traceIds.add(getCurrentTraceId());\n            runWithNewTrace(&quot;test&quot;, () -&gt; traceIds.add(getCurrentTraceId()));\n            traceIds.add(getCurrentTraceId());\n        });\n\nString traceIdBefore = traceIds.get(0);\nString traceIdThatShouldBeDifferent = traceIds.get(1);\nString traceIdAfterThatShouldBeSameAsBefore = traceIds.get(2);\n\nassertThat(traceIdThatShouldBeDifferent).isNotNull().isNotEqualTo(&quot;no-trace&quot;);\nassertThat(traceIdBefore).isNotEqualTo(traceIdThatShouldBeDifferent);\nassertThat(traceIdBefore).isEqualTo(traceIdAfterThatShouldBeSameAsBefore);\n\n</code></pre>\n<p>getTraceId looks like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getCurrentTraceId() {\n    Span currentSpan = tracer.currentSpan();\n    if (currentSpan != null &amp;&amp; currentSpan.context() != null) {\n        return currentSpan.context().traceId();\n    }\n    return &quot;no-trace&quot;;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","alias","keystore"],"answers":[{"tags":[],"owner":{"account_id":3365385,"reputation":22807,"user_id":2826147,"accept_rate":60,"display_name":"Amit Vaghela"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467110416,"creation_date":1467109721,"answer_id":38073687,"question_id":38073219,"body_markdown":"According to suggestion by google, it says\r\n\r\n**Signing Considarations:**\r\n\r\n&gt; You should sign all of your APKs with the same certificate throughout\r\n&gt; the expected lifespan of your apps. There are several reasons why you\r\n&gt; should do so\r\n&gt; \r\n&gt; **App upgrade**: When the system is installing an update to an app, it compares the certificate(s) in the new version with those in the\r\n&gt; existing version. The system allows the update if the certificates\r\n&gt; match. If you sign the new version with a different certificate, you\r\n&gt; must assign a different package name to the appâin this case, the user\r\n&gt; installs the new version as a completely new app.\r\n&gt; \r\n&gt; **App modularity**: Android allows APKs signed by the same certificate to run in the same process, if the apps so request, so that the system\r\n&gt; treats them as a single app. In this way you can deploy your app in\r\n&gt; modules, and users can update each of the modules independently.\r\n&gt; \r\n&gt; **Code/data sharing through permissions**: Android provides signature-based permissions enforcement, so that an app can expose\r\n&gt; functionality to another app that is signed with a specified\r\n&gt; certificate. By signing multiple APKs with the same certificate and\r\n&gt; using signature-based permissions checks, your apps can share code and\r\n&gt; data in a secure manner.\r\n\r\ncheck https://developer.android.com/studio/publish/app-signing.html#strategies\r\n\r\nread this answer to understant more on [keystore, certificates and alias](https://stackoverflow.com/questions/5724631/understanding-keystore-certificates-and-alias/5724912#5724912)","title":"How to add an Alias to Android (Java) Keystore","body":"<p>According to suggestion by google, it says</p>\n\n<p><strong>Signing Considarations:</strong></p>\n\n<blockquote>\n  <p>You should sign all of your APKs with the same certificate throughout\n  the expected lifespan of your apps. There are several reasons why you\n  should do so</p>\n  \n  <p><strong>App upgrade</strong>: When the system is installing an update to an app, it compares the certificate(s) in the new version with those in the\n  existing version. The system allows the update if the certificates\n  match. If you sign the new version with a different certificate, you\n  must assign a different package name to the appâin this case, the user\n  installs the new version as a completely new app.</p>\n  \n  <p><strong>App modularity</strong>: Android allows APKs signed by the same certificate to run in the same process, if the apps so request, so that the system\n  treats them as a single app. In this way you can deploy your app in\n  modules, and users can update each of the modules independently.</p>\n  \n  <p><strong>Code/data sharing through permissions</strong>: Android provides signature-based permissions enforcement, so that an app can expose\n  functionality to another app that is signed with a specified\n  certificate. By signing multiple APKs with the same certificate and\n  using signature-based permissions checks, your apps can share code and\n  data in a secure manner.</p>\n</blockquote>\n\n<p>check <a href=\"https://developer.android.com/studio/publish/app-signing.html#strategies\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/publish/app-signing.html#strategies</a></p>\n\n<p>read this answer to understant more on <a href=\"https://stackoverflow.com/questions/5724631/understanding-keystore-certificates-and-alias/5724912#5724912\">keystore, certificates and alias</a></p>\n"},{"tags":[],"owner":{"account_id":3122250,"reputation":3155,"user_id":2641792,"accept_rate":60,"display_name":"mdDroid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519715738,"creation_date":1467109957,"answer_id":38073769,"question_id":38073219,"body_markdown":"Official Document says\r\n\r\n&gt; In general, the recommended strategy for all developers is to sign all of your applications with the same certificate, throughout the expected lifespan of your applications. There are several reasons why you should do so ...\r\n\r\n[https://developer.android.com/studio/publish/app-signing.html#considerations][1]\r\n\r\nyou can use same certificate. for all applications and also for make it simple you can use same Alias for all your apps\r\n\r\n\r\n  [1]: http://developer.android.com/guide/publishing/app-signing.html#strategies","title":"How to add an Alias to Android (Java) Keystore","body":"<p>Official Document says</p>\n\n<blockquote>\n  <p>In general, the recommended strategy for all developers is to sign all of your applications with the same certificate, throughout the expected lifespan of your applications. There are several reasons why you should do so ...</p>\n</blockquote>\n\n<p><a href=\"http://developer.android.com/guide/publishing/app-signing.html#strategies\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/publish/app-signing.html#considerations</a></p>\n\n<p>you can use same certificate. for all applications and also for make it simple you can use same Alias for all your apps</p>\n"},{"tags":[],"owner":{"account_id":2287887,"reputation":2894,"user_id":2011505,"accept_rate":83,"display_name":"Tharkius"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1694614092,"creation_date":1467110246,"answer_id":38073875,"question_id":38073219,"body_markdown":"You can also do that in Android Studio. Just go to &quot;Build &gt; Generate Signed Bundle / APK&quot;, skip to the next step, then there should be a folder icon right at the end of the &quot;Key alias&quot; field. Click on it and a new window will open up for you to input the information for the new alias.\r\n\r\nScreenshot for reference:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/mfaTR.png","title":"How to add an Alias to Android (Java) Keystore","body":"<p>You can also do that in Android Studio. Just go to &quot;Build &gt; Generate Signed Bundle / APK&quot;, skip to the next step, then there should be a folder icon right at the end of the &quot;Key alias&quot; field. Click on it and a new window will open up for you to input the information for the new alias.</p>\n<p>Screenshot for reference:</p>\n<p><a href=\"https://i.stack.imgur.com/mfaTR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mfaTR.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5579147,"reputation":2129,"user_id":4421627,"accept_rate":89,"display_name":"Flummox - don&#39;t be evil SE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13034,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":38073875,"answer_count":3,"score":20,"last_activity_date":1694614092,"creation_date":1467108442,"question_id":38073219,"body_markdown":"It is easy to create a new Java Keystore in Android-Studio. But I&#39;d like to add a second Alias to this Keystore. For a second app for the same client. How do I do that? Or, if it is a not-so-good idea, what would be a better way?\r\n\r\n*edit:* I do not intend to use different Keystores for same project. First project is done in Android Studio, second in Intel XDK. They will not share process or need accesses to data in the other.","title":"How to add an Alias to Android (Java) Keystore","body":"<p>It is easy to create a new Java Keystore in Android-Studio. But I'd like to add a second Alias to this Keystore. For a second app for the same client. How do I do that? Or, if it is a not-so-good idea, what would be a better way?</p>\n\n<p><em>edit:</em> I do not intend to use different Keystores for same project. First project is done in Android Studio, second in Intel XDK. They will not share process or need accesses to data in the other.</p>\n"},{"tags":["java","httpclient"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694614050,"creation_date":1694108265,"answer_id":77061759,"question_id":77060419,"body_markdown":"Tell both builders that the connection manager is shared:\r\n```\r\nCloseableHttpAsyncClient client1 = HttpAsyncClientBuilder.create()\r\n        .setConnectionManager(connManager)\r\n        .setRedirectStrategy(new LaxRedirectStrategy())\r\n        .build();\r\nclient1.start();\r\nCloseableHttpAsyncClient client2 = HttpAsyncClientBuilder.create()\r\n        .setConnectionManager(connManager)\r\n        // do not call setConnectionManagerShared on the first client, only on all others sharing the same connManager\r\n        .setConnectionManagerShared(true) \r\n        .build();\r\nclient2.start();\r\n```","title":"Can I run multiple HttpAsyncClients with one PoolingNHttpClientConnectionManager?","body":"<p>Tell both builders that the connection manager is shared:</p>\n<pre><code>CloseableHttpAsyncClient client1 = HttpAsyncClientBuilder.create()\n        .setConnectionManager(connManager)\n        .setRedirectStrategy(new LaxRedirectStrategy())\n        .build();\nclient1.start();\nCloseableHttpAsyncClient client2 = HttpAsyncClientBuilder.create()\n        .setConnectionManager(connManager)\n        // do not call setConnectionManagerShared on the first client, only on all others sharing the same connManager\n        .setConnectionManagerShared(true) \n        .build();\nclient2.start();\n</code></pre>\n"}],"owner":{"account_id":358039,"reputation":5846,"user_id":3248158,"display_name":"derkoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77061759,"answer_count":1,"score":1,"last_activity_date":1694614050,"creation_date":1694096209,"question_id":77060419,"body_markdown":"I want to create multiple `HttpAsyncClient` with a single connection manager (similar to the [the example in the Baeldung article][1]).\r\n\r\nThe problem is that this does not seem to work with the `HttpAsyncClient` (only with the `HttpClient`). The application fails with the following errors in the log:\r\n\r\n\r\n```\r\n14:00:56.443 [pool-2-thread-1] ERROR org.apache.http.impl.nio.client.InternalHttpAsyncClient - I/O reactor terminated abnormally\r\njava.lang.IllegalStateException: Illegal state ACTIVE\r\n\tat org.apache.http.util.Asserts.check(Asserts.java:46)\r\n\tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:316)\r\n\tat org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221)\r\n\tat org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nException in thread &quot;main&quot; java.util.concurrent.ExecutionException: java.util.concurrent.CancellationException: Request execution cancelled\r\n\tat org.apache.http.concurrent.BasicFuture.getResult(BasicFuture.java:71)\r\n\tat org.apache.http.concurrent.BasicFuture.get(BasicFuture.java:84)\r\n\tat org.apache.http.impl.nio.client.FutureWrapper.get(FutureWrapper.java:70)\r\n\tat com.example.Test.main(Test.java:32)\r\nCaused by: java.util.concurrent.CancellationException: Request execution cancelled\r\n\tat org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase.execute(CloseableHttpAsyncClientBase.java:114)\r\n\tat org.apache.http.impl.nio.client.InternalHttpAsyncClient.execute(InternalHttpAsyncClient.java:138)\r\n\tat org.apache.http.impl.nio.client.CloseableHttpAsyncClient.execute(CloseableHttpAsyncClient.java:75)\r\n\tat org.apache.http.impl.nio.client.CloseableHttpAsyncClient.execute(CloseableHttpAsyncClient.java:108)\r\n\tat org.apache.http.impl.nio.client.CloseableHttpAsyncClient.execute(CloseableHttpAsyncClient.java:92)\r\n\tat com.example.Test.main(Test.java:31)\r\n```\r\n\r\n\r\nThis is the code I am running:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport org.apache.http.client.methods.HttpGet;\r\nimport org.apache.http.impl.client.LaxRedirectStrategy;\r\nimport org.apache.http.impl.nio.client.CloseableHttpAsyncClient;\r\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\nimport org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager;\r\nimport org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor;\r\nimport org.apache.http.impl.nio.reactor.IOReactorConfig;\r\nimport org.apache.http.nio.reactor.ConnectingIOReactor;\r\nimport org.apache.http.nio.reactor.IOReactorException;\r\n\r\nimport java.util.concurrent.ExecutionException;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) throws IOReactorException, ExecutionException, InterruptedException {\r\n        ConnectingIOReactor ioReactor = new DefaultConnectingIOReactor(IOReactorConfig.custom().build());\r\n        PoolingNHttpClientConnectionManager connManager = new PoolingNHttpClientConnectionManager(ioReactor);\r\n        CloseableHttpAsyncClient client1 = HttpAsyncClientBuilder.create()\r\n                .setConnectionManager(connManager)\r\n                .setRedirectStrategy(new LaxRedirectStrategy())\r\n                .build();\r\n        client1.start();\r\n        CloseableHttpAsyncClient client2 = HttpAsyncClientBuilder.create()\r\n                .setConnectionManager(connManager)\r\n                .build();\r\n        client2.start();\r\n\r\n        var res1 = client1.execute(new HttpGet(&quot;https://www.google.com&quot;), null);\r\n        res1.get();\r\n        var res2 = client2.execute(new HttpGet(&quot;https://www.google.com&quot;), null);\r\n        res2.get();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI use the version 4.4.15 of https://hc.apache.org/\r\n\r\n  [1]: https://www.baeldung.com/httpclient-connection-management#multiple","title":"Can I run multiple HttpAsyncClients with one PoolingNHttpClientConnectionManager?","body":"<p>I want to create multiple <code>HttpAsyncClient</code> with a single connection manager (similar to the <a href=\"https://www.baeldung.com/httpclient-connection-management#multiple\" rel=\"nofollow noreferrer\">the example in the Baeldung article</a>).</p>\n<p>The problem is that this does not seem to work with the <code>HttpAsyncClient</code> (only with the <code>HttpClient</code>). The application fails with the following errors in the log:</p>\n<pre><code>14:00:56.443 [pool-2-thread-1] ERROR org.apache.http.impl.nio.client.InternalHttpAsyncClient - I/O reactor terminated abnormally\njava.lang.IllegalStateException: Illegal state ACTIVE\n    at org.apache.http.util.Asserts.check(Asserts.java:46)\n    at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:316)\n    at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221)\n    at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nException in thread &quot;main&quot; java.util.concurrent.ExecutionException: java.util.concurrent.CancellationException: Request execution cancelled\n    at org.apache.http.concurrent.BasicFuture.getResult(BasicFuture.java:71)\n    at org.apache.http.concurrent.BasicFuture.get(BasicFuture.java:84)\n    at org.apache.http.impl.nio.client.FutureWrapper.get(FutureWrapper.java:70)\n    at com.example.Test.main(Test.java:32)\nCaused by: java.util.concurrent.CancellationException: Request execution cancelled\n    at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase.execute(CloseableHttpAsyncClientBase.java:114)\n    at org.apache.http.impl.nio.client.InternalHttpAsyncClient.execute(InternalHttpAsyncClient.java:138)\n    at org.apache.http.impl.nio.client.CloseableHttpAsyncClient.execute(CloseableHttpAsyncClient.java:75)\n    at org.apache.http.impl.nio.client.CloseableHttpAsyncClient.execute(CloseableHttpAsyncClient.java:108)\n    at org.apache.http.impl.nio.client.CloseableHttpAsyncClient.execute(CloseableHttpAsyncClient.java:92)\n    at com.example.Test.main(Test.java:31)\n</code></pre>\n<p>This is the code I am running:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.LaxRedirectStrategy;\nimport org.apache.http.impl.nio.client.CloseableHttpAsyncClient;\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\nimport org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager;\nimport org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor;\nimport org.apache.http.impl.nio.reactor.IOReactorConfig;\nimport org.apache.http.nio.reactor.ConnectingIOReactor;\nimport org.apache.http.nio.reactor.IOReactorException;\n\nimport java.util.concurrent.ExecutionException;\n\npublic class Test {\n    public static void main(String[] args) throws IOReactorException, ExecutionException, InterruptedException {\n        ConnectingIOReactor ioReactor = new DefaultConnectingIOReactor(IOReactorConfig.custom().build());\n        PoolingNHttpClientConnectionManager connManager = new PoolingNHttpClientConnectionManager(ioReactor);\n        CloseableHttpAsyncClient client1 = HttpAsyncClientBuilder.create()\n                .setConnectionManager(connManager)\n                .setRedirectStrategy(new LaxRedirectStrategy())\n                .build();\n        client1.start();\n        CloseableHttpAsyncClient client2 = HttpAsyncClientBuilder.create()\n                .setConnectionManager(connManager)\n                .build();\n        client2.start();\n\n        var res1 = client1.execute(new HttpGet(&quot;https://www.google.com&quot;), null);\n        res1.get();\n        var res2 = client2.execute(new HttpGet(&quot;https://www.google.com&quot;), null);\n        res2.get();\n    }\n}\n\n</code></pre>\n<p>I use the version 4.4.15 of <a href=\"https://hc.apache.org/\" rel=\"nofollow noreferrer\">https://hc.apache.org/</a></p>\n"},{"tags":["java","postgresql","activerecord","lazy-loading","jooq"],"comments":[{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694609239,"post_id":77097076,"comment_id":135913437,"body_markdown":"Not lazy, but I imagine you could select the columns you want and the use `into` to then turn it into a `MyTableRecord`: https://www.jooq.org/doc/3.17/manual/sql-execution/fetching/record-vs-tablerecord/","body":"Not lazy, but I imagine you could select the columns you want and the use <code>into</code> to then turn it into a <code>MyTableRecord</code>: <a href=\"https://www.jooq.org/doc/3.17/manual/sql-execution/fetching/record-vs-tablerecord/\" rel=\"nofollow noreferrer\">jooq.org/doc/3.17/manual/sql-execution/fetching/&hellip;</a>"},{"owner":{"account_id":3552273,"reputation":894,"user_id":3340829,"accept_rate":62,"display_name":"Leprechaun"},"score":0,"creation_date":1694609403,"post_id":77097076,"comment_id":135913481,"body_markdown":"@scrhartley yeah, but then when I actually want to load the data, I&#39;d have to call `setData(byte[])` on the record object, which raises the `changed` flag, and so on... I want this fetching to be done behind the scenes without the need to manipulate the record.","body":"@scrhartley yeah, but then when I actually want to load the data, I&#39;d have to call <code>setData(byte[])</code> on the record object, which raises the <code>changed</code> flag, and so on... I want this fetching to be done behind the scenes without the need to manipulate the record."},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694610324,"post_id":77097076,"comment_id":135913700,"body_markdown":"If you literally just want to retrieve the data, then you could turn off that functionality and not attach the records: https://www.jooq.org/doc/3.18/manual/sql-building/dsl-context/custom-settings/settings-attach-records/","body":"If you literally just want to retrieve the data, then you could turn off that functionality and not attach the records: <a href=\"https://www.jooq.org/doc/3.18/manual/sql-building/dsl-context/custom-settings/settings-attach-records/\" rel=\"nofollow noreferrer\">jooq.org/doc/3.18/manual/sql-building/dsl-context/&hellip;</a>"},{"owner":{"account_id":3552273,"reputation":894,"user_id":3340829,"accept_rate":62,"display_name":"Leprechaun"},"score":0,"creation_date":1694610618,"post_id":77097076,"comment_id":135913768,"body_markdown":"No, I want to be able to modify the data (that&#39;s what I meant by updatable/active record), I just want to avoid fetching the byte array when not needed by postponing the action until the first `getData()` is called.","body":"No, I want to be able to modify the data (that&#39;s what I meant by updatable/active record), I just want to avoid fetching the byte array when not needed by postponing the action until the first <code>getData()</code> is called."},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694612284,"post_id":77097076,"comment_id":135914159,"body_markdown":"Still not what you want: rather than calling `setData(byte[])`, `refresh()` would not have the problem of the `changed` flag, but would result in over-fetching and wouldn&#39;t get all the data in the collection of records in one go.","body":"Still not what you want: rather than calling <code>setData(byte[])</code>, <code>refresh()</code> would not have the problem of the <code>changed</code> flag, but would result in over-fetching and wouldn&#39;t get all the data in the collection of records in one go."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694613924,"creation_date":1694613618,"answer_id":77097805,"question_id":77097076,"body_markdown":"You can work with your `MyTableRecord` even when you don&#39;t fetch all columns. Just make sure you include the primary key:\r\n\r\n```java\r\nResult&lt;MyTableRecord&gt; result =\r\nctx.select(MY_TABLE.ID, MY_TABLE.DESCRIPTION)\r\n   .from(MY_TABLE)\r\n   .fetchInto(MY_TABLE);\r\n```\r\n\r\nNow, when you&#39;re ready, refresh the record in question:\r\n\r\n```java\r\nmyTableRecord.refresh(MY_TABLE.DATA);\r\n```\r\n\r\nYou can also fetch *some* of those values up front, and others only later, like this:\r\n\r\n```java\r\nResult&lt;MyTableRecord&gt; result =\r\nctx.select(\r\n      MY_TABLE.ID, \r\n      MY_TABLE.DESCRIPTION,\r\n      when(MY_TABLE.ID.in(1, 2, 3), MY_TABLE.HEAVY_COL1).as(MY_TABLE.DATA))\r\n   .from(MY_TABLE)\r\n   .fetchInto(MY_TABLE);\r\n```\r\n\r\nObviously, this approach is prone to [N+1 queries][1], but you seem to have measured the difference and are certain that N queries are faster/better for you, *in this case*.\r\n\r\n### A remark on other RDBMS\r\n\r\nSince you&#39;re using PostgreSQL, there&#39;s probably no other way, but other RDBMS support JDBC&#39;s `Clob` and `Blob` APIs, which serve as pointers towards the actual LOB data. By default, jOOQ always fetches everything eagerly, but you can make jOOQ expose those JDBC `Clob` or `Blob` types instead, in order to read the binary data only later on *without* a second query:\r\n\r\nhttps://www.jooq.org/doc/latest/manual/reference/reference-data-types/data-types-lobs/\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/reference/dont-do-this/dont-do-this-n-plus-one/","title":"How to fetch fetch one column lazily with a jOOQ active record","body":"<p>You can work with your <code>MyTableRecord</code> even when you don't fetch all columns. Just make sure you include the primary key:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Result&lt;MyTableRecord&gt; result =\nctx.select(MY_TABLE.ID, MY_TABLE.DESCRIPTION)\n   .from(MY_TABLE)\n   .fetchInto(MY_TABLE);\n</code></pre>\n<p>Now, when you're ready, refresh the record in question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myTableRecord.refresh(MY_TABLE.DATA);\n</code></pre>\n<p>You can also fetch <em>some</em> of those values up front, and others only later, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Result&lt;MyTableRecord&gt; result =\nctx.select(\n      MY_TABLE.ID, \n      MY_TABLE.DESCRIPTION,\n      when(MY_TABLE.ID.in(1, 2, 3), MY_TABLE.HEAVY_COL1).as(MY_TABLE.DATA))\n   .from(MY_TABLE)\n   .fetchInto(MY_TABLE);\n</code></pre>\n<p>Obviously, this approach is prone to <a href=\"https://www.jooq.org/doc/latest/manual/reference/dont-do-this/dont-do-this-n-plus-one/\" rel=\"nofollow noreferrer\">N+1 queries</a>, but you seem to have measured the difference and are certain that N queries are faster/better for you, <em>in this case</em>.</p>\n<h3>A remark on other RDBMS</h3>\n<p>Since you're using PostgreSQL, there's probably no other way, but other RDBMS support JDBC's <code>Clob</code> and <code>Blob</code> APIs, which serve as pointers towards the actual LOB data. By default, jOOQ always fetches everything eagerly, but you can make jOOQ expose those JDBC <code>Clob</code> or <code>Blob</code> types instead, in order to read the binary data only later on <em>without</em> a second query:</p>\n<p><a href=\"https://www.jooq.org/doc/latest/manual/reference/reference-data-types/data-types-lobs/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/reference/reference-data-types/data-types-lobs/</a></p>\n"}],"owner":{"account_id":3552273,"reputation":894,"user_id":3340829,"accept_rate":62,"display_name":"Leprechaun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77097805,"answer_count":1,"score":1,"last_activity_date":1694613924,"creation_date":1694607839,"question_id":77097076,"body_markdown":"I have a PostgreSQL table that defines a couple of small simple columns and one column `data` that stores large binary data:\r\n\r\n```sql\r\ncreate table my_table\r\n(\r\n    id          serial primary key,\r\n    data        bytea  not null,\r\n    description text\r\n);\r\n```\r\n\r\nWhen I&#39;m fetching rows of this table through jOOQ (into a `MyTableRecord`), jOOQ fetches every column at once. I know jOOQ supports lazy fetching of records via `fetchLazy()` and `stream()`, but that applies only on the level of rows, not individual columns.\r\n \r\nThus, the resulting `MyTableRecord` class always has a simple getter for `data` stored in memory:\r\n\r\n```java\r\n...\r\npublic byte[] getData() {\r\n    return (byte[]) get(1);\r\n}\r\n...\r\n```\r\n\r\nThis means that whenever I want to work with an active record instance of `MyTableRecord` I have to fetch all the data from DB, even when I don&#39;t need it.\r\nHow can I change the behaviour of jOOQ/MyTableRecord to fetch the `data` column lazily, only when I first call `.getData()` on the record object?\r\n\r\n\r\nI know this problem can be solved by a workaround where I offload the binary data to another table and introduce a 1:1 foreign key relationship, but that is a complication I&#39;m not looking for, as it would (among other issues) require adding a join operation each time to my data queries.\r\n","title":"How to fetch fetch one column lazily with a jOOQ active record","body":"<p>I have a PostgreSQL table that defines a couple of small simple columns and one column <code>data</code> that stores large binary data:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table my_table\n(\n    id          serial primary key,\n    data        bytea  not null,\n    description text\n);\n</code></pre>\n<p>When I'm fetching rows of this table through jOOQ (into a <code>MyTableRecord</code>), jOOQ fetches every column at once. I know jOOQ supports lazy fetching of records via <code>fetchLazy()</code> and <code>stream()</code>, but that applies only on the level of rows, not individual columns.</p>\n<p>Thus, the resulting <code>MyTableRecord</code> class always has a simple getter for <code>data</code> stored in memory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\npublic byte[] getData() {\n    return (byte[]) get(1);\n}\n...\n</code></pre>\n<p>This means that whenever I want to work with an active record instance of <code>MyTableRecord</code> I have to fetch all the data from DB, even when I don't need it.\nHow can I change the behaviour of jOOQ/MyTableRecord to fetch the <code>data</code> column lazily, only when I first call <code>.getData()</code> on the record object?</p>\n<p>I know this problem can be solved by a workaround where I offload the binary data to another table and introduce a 1:1 foreign key relationship, but that is a complication I'm not looking for, as it would (among other issues) require adding a join operation each time to my data queries.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","webclient"],"answers":[{"tags":[],"owner":{"account_id":12635385,"reputation":527,"user_id":9185029,"display_name":"Alexander Katsenelenbogen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694612009,"creation_date":1694611404,"answer_id":77097476,"question_id":77096702,"body_markdown":"Two things I would do to investigate - \r\n\r\n1. Check the URI in your browser. Does it give you a response? \r\n2. Where is the signature being generated?\r\n\r\nAll that said, you may just want to use the AWS SDK S3 library to generate the URL and invoke it directly instead of building it from scratch: https://docs.aws.amazon.com/AmazonS3/latest/userguide/example_s3_Scenario_PresignedUrl_section.html","title":"BadRequest when getting presigned object with token and credential values changing","body":"<p>Two things I would do to investigate -</p>\n<ol>\n<li>Check the URI in your browser. Does it give you a response?</li>\n<li>Where is the signature being generated?</li>\n</ol>\n<p>All that said, you may just want to use the AWS SDK S3 library to generate the URL and invoke it directly instead of building it from scratch: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/example_s3_Scenario_PresignedUrl_section.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/example_s3_Scenario_PresignedUrl_section.html</a></p>\n"},{"tags":[],"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694613108,"creation_date":1694611929,"answer_id":77097553,"question_id":77096702,"body_markdown":"&gt; any other ways to retrieve the data from presigned URL\r\n\r\n**Yes, you should ideally be using the AWS SDK for Java to get presigned objects - and as much as possible for any other interaction with AWS** - as the SDK handles all of the low-level detail for you. \r\n\r\nThere&#39;s an AWS provided example [here][1] of how to do so.\r\n\r\nHowever, if for some reason the SDK is not an option, or if youâre just curious to understand the issue, the remainder of this answer addresses that.\r\n\r\n&gt; For instance, a segment of the token in the URL, returned by the error, appears as &quot;HYVG6%252F202309&quot; instead of the original &quot;HYVG6%2F202309&quot;.\r\n\r\n**Your token and credential values are being double encoded.**\r\n\r\nUsing the example you&#39;ve provided, your token has already been URL encoded - `HYVG6%2F202309`. The presence of `%2F` proves this, as in ASCII, the `/` character is represented as `2F` in hex. Encoding `HYVG6/202309` will result in the above value, with `/` being encoded as `%2F`.\r\n\r\nThe error throws `HYVG6%252F202309` as the token value. When you see â%252Fâ, it means that your â%â character is being encoded *again*. In ASCII, the `%` character is represented as `25` in hex. So `%2F` becomes `%252F` after the second round of encoding. Encoding `HYVG6%2F202309` will result in the above value, with the `%` being encoded as `%25`.\r\n\r\nAn easy way to fix this would be to first decode the values before passing them to the `uriBuilder`. This way, when the `uriBuilder` does its encoding, it will return your values to their original form.\r\n\r\nOr alternatively, you can also change the encoding mode of the `WebClient` by creating a [`DefaultUriBuilderFactory`][2] with the [`EncodingMode`][3] set to [`NONE`][4] &amp; setting it as the desired factory for the [`WebClient.Builder`][5].\r\n\r\nAs per [the source code][6], the default encoding mode is `TEMPLATE_AND_VALUES` which encodes the URI template as well as the template values (your token and credential values). \r\n\r\n`EncodingMode.NONE` will result in no encoding being applied, and the request being sent successfully.\r\n\r\nThis should work:\r\n\r\n```java\r\n@Autowired\r\npublic Demo(WebClient.Builder webClientBuilder) {\r\n    DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory();\r\n    factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.NONE);\r\n\r\n    this.client = webClientBuilder\r\n        .baseUrl(&quot;https://&lt;base_url&gt;.s3.amazonaws.com&quot;)\r\n        .uriBuilderFactory(factory)\r\n        .build();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html#get-presignedobject\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/DefaultUriBuilderFactory.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/DefaultUriBuilderFactory.EncodingMode.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/DefaultUriBuilderFactory.EncodingMode.html#NONE\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.Builder.html\r\n  [6]: https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/web/util/DefaultUriBuilderFactory.java#L47","title":"BadRequest when getting presigned object with token and credential values changing","body":"<blockquote>\n<p>any other ways to retrieve the data from presigned URL</p>\n</blockquote>\n<p><strong>Yes, you should ideally be using the AWS SDK for Java to get presigned objects - and as much as possible for any other interaction with AWS</strong> - as the SDK handles all of the low-level detail for you.</p>\n<p>There's an AWS provided example <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html#get-presignedobject\" rel=\"nofollow noreferrer\">here</a> of how to do so.</p>\n<p>However, if for some reason the SDK is not an option, or if youâre just curious to understand the issue, the remainder of this answer addresses that.</p>\n<blockquote>\n<p>For instance, a segment of the token in the URL, returned by the error, appears as &quot;HYVG6%252F202309&quot; instead of the original &quot;HYVG6%2F202309&quot;.</p>\n</blockquote>\n<p><strong>Your token and credential values are being double encoded.</strong></p>\n<p>Using the example you've provided, your token has already been URL encoded - <code>HYVG6%2F202309</code>. The presence of <code>%2F</code> proves this, as in ASCII, the <code>/</code> character is represented as <code>2F</code> in hex. Encoding <code>HYVG6/202309</code> will result in the above value, with <code>/</code> being encoded as <code>%2F</code>.</p>\n<p>The error throws <code>HYVG6%252F202309</code> as the token value. When you see â%252Fâ, it means that your â%â character is being encoded <em>again</em>. In ASCII, the <code>%</code> character is represented as <code>25</code> in hex. So <code>%2F</code> becomes <code>%252F</code> after the second round of encoding. Encoding <code>HYVG6%2F202309</code> will result in the above value, with the <code>%</code> being encoded as <code>%25</code>.</p>\n<p>An easy way to fix this would be to first decode the values before passing them to the <code>uriBuilder</code>. This way, when the <code>uriBuilder</code> does its encoding, it will return your values to their original form.</p>\n<p>Or alternatively, you can also change the encoding mode of the <code>WebClient</code> by creating a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/DefaultUriBuilderFactory.html\" rel=\"nofollow noreferrer\"><code>DefaultUriBuilderFactory</code></a> with the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/DefaultUriBuilderFactory.EncodingMode.html\" rel=\"nofollow noreferrer\"><code>EncodingMode</code></a> set to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/DefaultUriBuilderFactory.EncodingMode.html#NONE\" rel=\"nofollow noreferrer\"><code>NONE</code></a> &amp; setting it as the desired factory for the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.Builder.html\" rel=\"nofollow noreferrer\"><code>WebClient.Builder</code></a>.</p>\n<p>As per <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/web/util/DefaultUriBuilderFactory.java#L47\" rel=\"nofollow noreferrer\">the source code</a>, the default encoding mode is <code>TEMPLATE_AND_VALUES</code> which encodes the URI template as well as the template values (your token and credential values).</p>\n<p><code>EncodingMode.NONE</code> will result in no encoding being applied, and the request being sent successfully.</p>\n<p>This should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\npublic Demo(WebClient.Builder webClientBuilder) {\n    DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory();\n    factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.NONE);\n\n    this.client = webClientBuilder\n        .baseUrl(&quot;https://&lt;base_url&gt;.s3.amazonaws.com&quot;)\n        .uriBuilderFactory(factory)\n        .build();\n}\n</code></pre>\n"}],"owner":{"account_id":18045956,"reputation":41,"user_id":13116949,"display_name":"Kstackr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77097553,"answer_count":2,"score":1,"last_activity_date":1694613631,"creation_date":1694604911,"question_id":77096702,"body_markdown":"I have a presigned S3 URL that returns a JSON file. I need to use this URL in my Spring Boot application to retrieve the file, so I&#39;m using `WebClient`.\r\n\r\nHere is my code:\r\n\r\n```java\r\n@RestController\r\npublic class Demo {\r\n\r\n    private final WebClient client;\r\n\r\n    @Autowired\r\n    public Demo(WebClient.Builder webClientBuilder) {\r\n        this.client = webClientBuilder\r\n                .baseUrl(&quot;https://&lt;base_url&gt;.s3.amazonaws.com&quot;)\r\n                .build();\r\n    }\r\n\r\n    @GetMapping(&quot;/data&quot;)\r\n    public String processS3URL() {\r\n\r\n        return client.get()\r\n                .uri(uriBuilder -&gt; uriBuilder\r\n                        .path(&quot;/&lt;urlPath&gt;.json&quot;)\r\n                        .queryParam(&quot;X-Amz-Security-Token&quot;, &lt;securityToken&gt;)\r\n                        .queryParam(&quot;X-Amz-Algorithm&quot;, &quot;AWS4-HMAC-SHA256&quot;)\r\n                        .queryParam(&quot;X-Amz-Date&quot;, &quot;20230913T103914Z&quot;)\r\n                        .queryParam(&quot;X-Amz-SignedHeaders&quot;, &quot;host&quot;)\r\n                        .queryParam(&quot;X-Amz-Expires&quot;, &quot;172800&quot;)\r\n                        .queryParam(&quot;X-Amz-Credential&quot;, &lt;credential&gt;)\r\n                        .queryParam(&quot;X-Amz-Signature&quot;, &lt;signature&gt;)\r\n                        .build())\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .block();\r\n    }\r\n}\r\n```\r\n\r\nHowever, I&#39;m encountering an issue:\r\n\r\n&gt; java.lang.Exception: org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from GET {givenURL}\r\n\r\nUpon careful inspection, I noticed that the token and credential values have been altered by WebClient. Specifically, the token and credential values in the error URL differ from the original values I provided.\r\n\r\nFor instance, a segment of the token in the URL, returned by the error, appears as &quot;HYVG6%252F202309&quot; instead of the original &quot;HYVG6%2F202309&quot;. The same issue occurs with the signature.\r\n\r\nWhy is this happening? How can I retrieve the expected result using WebClient?\r\n\r\nAlternatively, are there other methods to retrieve data from a presigned URL?","title":"BadRequest when getting presigned object with token and credential values changing","body":"<p>I have a presigned S3 URL that returns a JSON file. I need to use this URL in my Spring Boot application to retrieve the file, so I'm using <code>WebClient</code>.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class Demo {\n\n    private final WebClient client;\n\n    @Autowired\n    public Demo(WebClient.Builder webClientBuilder) {\n        this.client = webClientBuilder\n                .baseUrl(&quot;https://&lt;base_url&gt;.s3.amazonaws.com&quot;)\n                .build();\n    }\n\n    @GetMapping(&quot;/data&quot;)\n    public String processS3URL() {\n\n        return client.get()\n                .uri(uriBuilder -&gt; uriBuilder\n                        .path(&quot;/&lt;urlPath&gt;.json&quot;)\n                        .queryParam(&quot;X-Amz-Security-Token&quot;, &lt;securityToken&gt;)\n                        .queryParam(&quot;X-Amz-Algorithm&quot;, &quot;AWS4-HMAC-SHA256&quot;)\n                        .queryParam(&quot;X-Amz-Date&quot;, &quot;20230913T103914Z&quot;)\n                        .queryParam(&quot;X-Amz-SignedHeaders&quot;, &quot;host&quot;)\n                        .queryParam(&quot;X-Amz-Expires&quot;, &quot;172800&quot;)\n                        .queryParam(&quot;X-Amz-Credential&quot;, &lt;credential&gt;)\n                        .queryParam(&quot;X-Amz-Signature&quot;, &lt;signature&gt;)\n                        .build())\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n    }\n}\n</code></pre>\n<p>However, I'm encountering an issue:</p>\n<blockquote>\n<p>java.lang.Exception: org.springframework.web.reactive.function.client.WebClientResponseException$BadRequest: 400 Bad Request from GET {givenURL}</p>\n</blockquote>\n<p>Upon careful inspection, I noticed that the token and credential values have been altered by WebClient. Specifically, the token and credential values in the error URL differ from the original values I provided.</p>\n<p>For instance, a segment of the token in the URL, returned by the error, appears as &quot;HYVG6%252F202309&quot; instead of the original &quot;HYVG6%2F202309&quot;. The same issue occurs with the signature.</p>\n<p>Why is this happening? How can I retrieve the expected result using WebClient?</p>\n<p>Alternatively, are there other methods to retrieve data from a presigned URL?</p>\n"},{"tags":["python","java","input","key","interception"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694618062,"post_id":77097782,"comment_id":135915635,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":22601136,"reputation":1,"user_id":16782675,"display_name":"Andy De Gheldere"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694613506,"creation_date":1694613506,"question_id":77097782,"body_markdown":"I&#39;m trying to get unflagged key inputs like possible with: https://github.com/kennyhml/pyinterception, but for java. Currently I&#39;m just using Robot but I was wondering if a library like that exists for java, or if I could use this somehow in java, or if there is any other way for this to be possible.\r\n\r\nThanks in advance.\r\n\r\nI tried several java libraries but didn&#39;t seem to work.","title":"How to get Java Unflagged Key Inputs Like With Pyinterception?","body":"<p>I'm trying to get unflagged key inputs like possible with: <a href=\"https://github.com/kennyhml/pyinterception\" rel=\"nofollow noreferrer\">https://github.com/kennyhml/pyinterception</a>, but for java. Currently I'm just using Robot but I was wondering if a library like that exists for java, or if I could use this somehow in java, or if there is any other way for this to be possible.</p>\n<p>Thanks in advance.</p>\n<p>I tried several java libraries but didn't seem to work.</p>\n"},{"tags":["java","spring-boot","microservices","retry-logic","resilience4j-retry"],"owner":{"account_id":24567235,"reputation":21,"user_id":18474219,"display_name":"Slow Starter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694613257,"creation_date":1694184430,"question_id":77067877,"body_markdown":"I am using RegistryEventConsumer Bean in order to add event consumers to any Retry instance and logging the event to know how many times a specific endpoint got retried in case of any issues with the endpoint. below is the snippet.\r\n\r\n    @Bean\r\n    public RegistryEventConsumer&lt;Retry&gt; myRetryRegistryEventConsumer() {\r\n\r\n        return new RegistryEventConsumer&lt;Retry&gt;() {\r\n            @Override\r\n            public void onEntryAddedEvent(EntryAddedEvent&lt;Retry&gt; entryAddedEvent) {\r\n                entryAddedEvent.getAddedEntry().getEventPublisher()\r\n                   .onEvent(event -&gt; LOG.info(event.toString()));\r\n            }\r\n\r\n            @Override\r\n            public void onEntryRemovedEvent(EntryRemovedEvent&lt;Retry&gt; entryRemoveEvent) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onEntryReplacedEvent(EntryReplacedEvent&lt;Retry&gt; entryReplacedEvent) {\r\n\r\n            }\r\n        };\r\n    }\r\n\r\nLog Entries look like below\r\n```none\r\n2020-10-26T13:00:19.807034700+01:00[Europe/Berlin]: Retry &#39;backendA&#39;, waiting PT1S until attempt &#39;1&#39;. Last attempt failed with exception &#39;org.abc.exception.MyCustomException: call to http://localhost:8080/endpointA is failed :connect error\r\n\r\n2020-10-26T13:00:19.912028800+01:00[Europe/Berlin]: Retry &#39;backendA&#39;, waiting PT2S until attempt &#39;2&#39;. Last attempt failed with exception &#39;org.abc.exception.MyCustomException: call to http://localhost:8080/endpointA is failed :connect error.\r\n\r\n2020-10-26T13:00:20.023250+01:00[Europe/Berlin]: Retry &#39;backendA&#39; recorded a failed retry attempt. Number of retry attempts: &#39;3&#39;. Giving up. Last exception was: &#39;org.abc.exception.MyCustomException: call to http://localhost:8080/endpointA is failed :connect error\r\n```\r\ni would like to log the request input which my endpoint takes(lets say it takes Student object with name , id ,age as input ) along with the event . how to achieve this?\r\n\r\n1.a) the expectation is to customize the logging and it should something like below.\r\n\r\n```none\r\nRetry &#39;backendA&#39;, waiting PT1S until attempt &#39;1&#39;. Last attempt failed for url http://localhost:8080/endpointA for input : &quot;Student (&quot;Arun&quot;, A11,18)&quot; with exception &#39;org.abc.exception.MyCustomException: call to http://localhost:8080/endpointA is failed :connect error\r\n```\r\n\r\n1.b) and How to capture the metrics?","title":"Resilience4j Retry -&gt; how to log the request input along with event while logging retry count?","body":"<p>I am using RegistryEventConsumer Bean in order to add event consumers to any Retry instance and logging the event to know how many times a specific endpoint got retried in case of any issues with the endpoint. below is the snippet.</p>\n<pre><code>@Bean\npublic RegistryEventConsumer&lt;Retry&gt; myRetryRegistryEventConsumer() {\n\n    return new RegistryEventConsumer&lt;Retry&gt;() {\n        @Override\n        public void onEntryAddedEvent(EntryAddedEvent&lt;Retry&gt; entryAddedEvent) {\n            entryAddedEvent.getAddedEntry().getEventPublisher()\n               .onEvent(event -&gt; LOG.info(event.toString()));\n        }\n\n        @Override\n        public void onEntryRemovedEvent(EntryRemovedEvent&lt;Retry&gt; entryRemoveEvent) {\n\n        }\n\n        @Override\n        public void onEntryReplacedEvent(EntryReplacedEvent&lt;Retry&gt; entryReplacedEvent) {\n\n        }\n    };\n}\n</code></pre>\n<p>Log Entries look like below</p>\n<pre class=\"lang-none prettyprint-override\"><code>2020-10-26T13:00:19.807034700+01:00[Europe/Berlin]: Retry 'backendA', waiting PT1S until attempt '1'. Last attempt failed with exception 'org.abc.exception.MyCustomException: call to http://localhost:8080/endpointA is failed :connect error\n\n2020-10-26T13:00:19.912028800+01:00[Europe/Berlin]: Retry 'backendA', waiting PT2S until attempt '2'. Last attempt failed with exception 'org.abc.exception.MyCustomException: call to http://localhost:8080/endpointA is failed :connect error.\n\n2020-10-26T13:00:20.023250+01:00[Europe/Berlin]: Retry 'backendA' recorded a failed retry attempt. Number of retry attempts: '3'. Giving up. Last exception was: 'org.abc.exception.MyCustomException: call to http://localhost:8080/endpointA is failed :connect error\n</code></pre>\n<p>i would like to log the request input which my endpoint takes(lets say it takes Student object with name , id ,age as input ) along with the event . how to achieve this?</p>\n<p>1.a) the expectation is to customize the logging and it should something like below.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Retry 'backendA', waiting PT1S until attempt '1'. Last attempt failed for url http://localhost:8080/endpointA for input : &quot;Student (&quot;Arun&quot;, A11,18)&quot; with exception 'org.abc.exception.MyCustomException: call to http://localhost:8080/endpointA is failed :connect error\n</code></pre>\n<p>1.b) and How to capture the metrics?</p>\n"},{"tags":["java","hashmap","java-stream","collectors"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1661786065,"post_id":73530811,"comment_id":129848427,"body_markdown":"Your current code looks good. What benefit do you expect to get from using streams instead?","body":"Your current code looks good. What benefit do you expect to get from using streams instead?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1661786612,"post_id":73530811,"comment_id":129848630,"body_markdown":"Besides using an `enum KeyEnum { TYPES, MESSAGES } and an EnumMap` it looks okay.","body":"Besides using an <code>enum KeyEnum { TYPES, MESSAGES } and an EnumMap</code> it looks okay."},{"owner":{"account_id":16276241,"reputation":17,"user_id":16187547,"display_name":"Aleksey Bakharev"},"score":0,"creation_date":1661832084,"post_id":73530811,"comment_id":129858673,"body_markdown":"@BasilBourque solely for compactness, and for general study","body":"@BasilBourque solely for compactness, and for general study"},{"owner":{"account_id":16276241,"reputation":17,"user_id":16187547,"display_name":"Aleksey Bakharev"},"score":0,"creation_date":1661832260,"post_id":73530811,"comment_id":129858703,"body_markdown":"@JoopEggen good point, thanks, added Enum","body":"@JoopEggen good point, thanks, added Enum"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694612852,"creation_date":1661786722,"answer_id":73531066,"question_id":73530811,"body_markdown":"# Java 12 - `Collectors.teeing`\r\n\r\nYou can use Java 12 *collector* [`teeing`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)), which expects *three arguments*: two *collectors* and a *function*. Each stream element gets consumed by both of the provided *collectors* and when they are done the *function* merges their results.\r\n\r\nAs both *downstream collectors* of `teeing` we can use *collector* [`mapping()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)) in conjunction with the *collector* `toSet()`.\r\n\r\n    public static Map&lt;String, Set&lt;String&gt;&gt; toMessagesByType(List&lt;LoggerMessageDto&gt; loggerMessageList,\r\n                                                            String typesKey,\r\n                                                            String messagesKey) {\r\n        return  loggerMessageList.stream()\r\n            .collect(Collectors.teeing(\r\n                Collectors.mapping(LoggerMessageDto::getType, Collectors.toSet()),\r\n                Collectors.mapping(LoggerMessageDto::getMessage, Collectors.toSet()),\r\n                (types, messages) -&gt; Map.of(\r\n                    typesKey, types,\r\n                    messagesKey, messages\r\n                )\r\n            ));\r\n    }\r\n\r\n# Java 8 - String Keys\r\n\r\nHere&#39;s a Java 8 compliant code which makes use of *three-argument* version of [`collect()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)) and produces the same result as solution with `teeing()`:\r\n\r\n    public static Map&lt;String, Set&lt;String&gt;&gt; toMessagesByType(List&lt;LoggerMessageDto&gt; loggerMessageList,\r\n                                                            String typesKey,\r\n                                                            String messagesKey) {\r\n        return loggerMessageList.stream()\r\n            .collect(\r\n                () -&gt; Map.of(\r\n                    typesKey, new HashSet&lt;&gt;(),\r\n                    messagesKey,  new HashSet&lt;&gt;()\r\n                ),\r\n                (Map&lt;String, Set&lt;String&gt;&gt; map, LoggerMessageDto next) -&gt; {\r\n                    map.get(typesKey).add(next.getType());\r\n                    map.get(messagesKey).add(next.getMessage());\r\n                },\r\n                (left, right) -&gt;\r\n                    right.forEach((k, v) -&gt; left.get(k).addAll(v))\r\n            );\r\n    }\r\n\r\n# Enum\r\n\r\nAlso, it&#39;s worth to mention that *enums* are more handy and reliable than strings, as *@Joop Eggen* has point out in the [comment](https://stackoverflow.com/questions/73530811/how-can-i-create-a-mapstring-setstring-from-listobject-use-stream-api-jav/73531066#comment129848630_73530811). Apart from saving you from typo which might occur while using strings, *enums* have an extensive language support (specialized collections: `EnumMap`, `EnumSet`; they can be used in custom annotations; and in `switch` expression/statements, etc.).\r\n\r\n# Java 8 - Enum &amp; EnumMap\r\n\r\nSimilarly to the solution shown above, we can use of *three-args* `collect()` and provide a prepopulated `EnumMap` in the *supplier*.\r\n\r\n    public static Map&lt;LoggerKeys, Set&lt;String&gt;&gt; toMessagesByType(List&lt;LoggerMessageDto&gt; loggerMessageList) {\r\n        \r\n        return loggerMessageList.stream()\r\n            .collect(\r\n                () -&gt; EnumSet.allOf(LoggerKeys.class).stream()\r\n                    .collect(Collectors.toMap(\r\n                        Function.identity(),\r\n                        e -&gt; new HashSet&lt;&gt;(),\r\n                        (v1, v2) -&gt; { throw new AssertionError(&quot;duplicates are not expected&quot;); },\r\n                        () -&gt; new EnumMap&lt;&gt;(LoggerKeys.class)\r\n                    )),\r\n                (Map&lt;LoggerKey, Set&lt;String&gt;&gt; map, LoggerMessageDto next) -&gt;\r\n                    map.forEach((loggerKey, set) -&gt; set.add(loggerKey.getKey(next))),\r\n                (left, right) -&gt;\r\n                    right.forEach((k, v) -&gt; left.get(k).addAll(v))\r\n            );\r\n    }\r\n\r\n`LoggerKey` *enum* having a *keyExtractor* `Function` as a property:\r\n\r\n    public enum LoggerKey {\r\n        TYPES(LoggerMessageDto::getType), MESSAGES(LoggerMessageDto::getMessage);\r\n        \r\n        private Function&lt;LoggerMessageDto, String&gt; keyExtractor;\r\n    \r\n        LoggerKeys(Function&lt;LoggerMessageDto, String&gt; keyExtractor) {\r\n            this.keyExtractor = keyExtractor;\r\n        }\r\n    \r\n        public Function&lt;LoggerMessageDto, String&gt; getKey(LoggerMessageDto dto) {\r\n            return keyExtractor.apply(dto);\r\n        }\r\n    }","title":"Create a Map&lt;String, Set&lt;String&gt;&gt; from a List&lt;MyObject&gt; using Stream API","body":"<h1>Java 12 - <code>Collectors.teeing</code></h1>\n<p>You can use Java 12 <em>collector</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>teeing</code></a>, which expects <em>three arguments</em>: two <em>collectors</em> and a <em>function</em>. Each stream element gets consumed by both of the provided <em>collectors</em> and when they are done the <em>function</em> merges their results.</p>\n<p>As both <em>downstream collectors</em> of <code>teeing</code> we can use <em>collector</em> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>mapping()</code></a> in conjunction with the <em>collector</em> <code>toSet()</code>.</p>\n<pre><code>public static Map&lt;String, Set&lt;String&gt;&gt; toMessagesByType(List&lt;LoggerMessageDto&gt; loggerMessageList,\n                                                        String typesKey,\n                                                        String messagesKey) {\n    return  loggerMessageList.stream()\n        .collect(Collectors.teeing(\n            Collectors.mapping(LoggerMessageDto::getType, Collectors.toSet()),\n            Collectors.mapping(LoggerMessageDto::getMessage, Collectors.toSet()),\n            (types, messages) -&gt; Map.of(\n                typesKey, types,\n                messagesKey, messages\n            )\n        ));\n}\n</code></pre>\n<h1>Java 8 - String Keys</h1>\n<p>Here's a Java 8 compliant code which makes use of <em>three-argument</em> version of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>collect()</code></a> and produces the same result as solution with <code>teeing()</code>:</p>\n<pre><code>public static Map&lt;String, Set&lt;String&gt;&gt; toMessagesByType(List&lt;LoggerMessageDto&gt; loggerMessageList,\n                                                        String typesKey,\n                                                        String messagesKey) {\n    return loggerMessageList.stream()\n        .collect(\n            () -&gt; Map.of(\n                typesKey, new HashSet&lt;&gt;(),\n                messagesKey,  new HashSet&lt;&gt;()\n            ),\n            (Map&lt;String, Set&lt;String&gt;&gt; map, LoggerMessageDto next) -&gt; {\n                map.get(typesKey).add(next.getType());\n                map.get(messagesKey).add(next.getMessage());\n            },\n            (left, right) -&gt;\n                right.forEach((k, v) -&gt; left.get(k).addAll(v))\n        );\n}\n</code></pre>\n<h1>Enum</h1>\n<p>Also, it's worth to mention that <em>enums</em> are more handy and reliable than strings, as <em>@Joop Eggen</em> has point out in the <a href=\"https://stackoverflow.com/questions/73530811/how-can-i-create-a-mapstring-setstring-from-listobject-use-stream-api-jav/73531066#comment129848630_73530811\">comment</a>. Apart from saving you from typo which might occur while using strings, <em>enums</em> have an extensive language support (specialized collections: <code>EnumMap</code>, <code>EnumSet</code>; they can be used in custom annotations; and in <code>switch</code> expression/statements, etc.).</p>\n<h1>Java 8 - Enum &amp; EnumMap</h1>\n<p>Similarly to the solution shown above, we can use of <em>three-args</em> <code>collect()</code> and provide a prepopulated <code>EnumMap</code> in the <em>supplier</em>.</p>\n<pre><code>public static Map&lt;LoggerKeys, Set&lt;String&gt;&gt; toMessagesByType(List&lt;LoggerMessageDto&gt; loggerMessageList) {\n    \n    return loggerMessageList.stream()\n        .collect(\n            () -&gt; EnumSet.allOf(LoggerKeys.class).stream()\n                .collect(Collectors.toMap(\n                    Function.identity(),\n                    e -&gt; new HashSet&lt;&gt;(),\n                    (v1, v2) -&gt; { throw new AssertionError(&quot;duplicates are not expected&quot;); },\n                    () -&gt; new EnumMap&lt;&gt;(LoggerKeys.class)\n                )),\n            (Map&lt;LoggerKey, Set&lt;String&gt;&gt; map, LoggerMessageDto next) -&gt;\n                map.forEach((loggerKey, set) -&gt; set.add(loggerKey.getKey(next))),\n            (left, right) -&gt;\n                right.forEach((k, v) -&gt; left.get(k).addAll(v))\n        );\n}\n</code></pre>\n<p><code>LoggerKey</code> <em>enum</em> having a <em>keyExtractor</em> <code>Function</code> as a property:</p>\n<pre><code>public enum LoggerKey {\n    TYPES(LoggerMessageDto::getType), MESSAGES(LoggerMessageDto::getMessage);\n    \n    private Function&lt;LoggerMessageDto, String&gt; keyExtractor;\n\n    LoggerKeys(Function&lt;LoggerMessageDto, String&gt; keyExtractor) {\n        this.keyExtractor = keyExtractor;\n    }\n\n    public Function&lt;LoggerMessageDto, String&gt; getKey(LoggerMessageDto dto) {\n        return keyExtractor.apply(dto);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661838820,"creation_date":1661838328,"answer_id":73537637,"question_id":73530811,"body_markdown":"The [Answer by Ivanchenko][1] is correct and quite clever. But that solution requires Java 12+, and [you later commented][2] that you must use Java 11. \r\n\r\n# `list.stream().map( getter ).collect( â¦`\r\n\r\nHere is another solution, this one working in Java 11.\r\n\r\nHere we run through the list twice. On the first run, we use the getter method `type` to extract the `type` member field on the `Log` class. We collect those strings into a `Set`. Then we make a second run through the `List` of `Log` objects, this time extracting the `message` member field by calling the getter `message`. Those strings are also collected into a `Set`. \r\n\r\nWe put each of the two sets into a `Map`.\r\n\r\n\r\n\r\n```java\r\nMap &lt; String, Set &lt; String &gt; &gt; map =\r\n        Map.of(\r\n                &quot;types&quot; , list.stream().map( Log :: type ).collect( Collectors.toSet() ) ,\r\n                &quot;messages&quot; , list.stream().map( Log :: message ).collect( Collectors.toSet() )\r\n        );\r\n```\r\n\r\nCaveat: This approach is a little bit inefficient in that it loops the list twice, once for &quot;types&quot; and once for &quot;messages&quot;. But unless you are doing this many times for huge amounts of data, the impact on performance should be insignificant. \r\n\r\nGenerally best to work with unmodifiable collections until you know otherwise.  So let&#39;s make those [sets unmodifiable][3]. The `Map.of` is already producing an [unmodifiable `Map`][4] object.\r\n\r\n```java\r\nMap &lt; String, Set &lt; String &gt; &gt; map =\r\n        Map.of(\r\n                &quot;types&quot; , list.stream().map( Log :: type ).collect( Collectors.toUnmodifiableSet() ) ,\r\n                &quot;messages&quot; , list.stream().map( Log :: message ).collect( Collectors.toUnmodifiableSet() )\r\n        );\r\n```\r\n\r\nHere is a complete example. For brevity I used the [records][5] feature in Java 16+, but you could just as well define a conventional class. By the way, note that in Java 16+, records, enums, and interfaces can all be declared locally. \r\n\r\n```java\r\nrecord Log( String type , String message ) { }\r\nList &lt; Log &gt; list =\r\n        List.of(\r\n                new Log( &quot;INFO&quot; , &quot;dog&quot; ) ,\r\n                new Log( &quot;ERROR&quot; , &quot;dog&quot; ) ,\r\n                new Log( &quot;INFO&quot; , &quot;cat&quot; ) ,\r\n                new Log( &quot;INFO&quot; , &quot;cat&quot; ) ,\r\n                new Log( &quot;DEBUG&quot; , &quot;cat&quot; )\r\n        );\r\n\r\nMap &lt; String, Set &lt; String &gt; &gt; map =\r\n        Map.of(\r\n                &quot;types&quot; , list.stream().map( Log :: type ).collect( Collectors.toUnmodifiableSet() ) ,\r\n                &quot;messages&quot; , list.stream().map( Log :: message ).collect( Collectors.toUnmodifiableSet() )\r\n        );\r\n\r\nSystem.out.println( &quot;map = &quot; + map );\r\n```\r\n\r\n&gt;map = {types=[INFO, DEBUG, ERROR], messages=[cat, dog]}\r\n\r\nBy the way, be aware that `Set` and `Map` by definition may **iterate in any arbitrary order**. The order may change even between two iterations done one after another. If order matters to you, use a [`NavigableSet`][6] implementation and a [`NavigableMap`][7] implementation. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73531066/642706\r\n  [2]: https://stackoverflow.com/questions/73530811/create-a-mapstring-setstring-from-a-listmyobject-using-stream-api/73537637#comment129858692_73531066\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html#unmodifiable\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#unmodifiable\r\n  [5]: https://openjdk.org/jeps/395\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableSet.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html","title":"Create a Map&lt;String, Set&lt;String&gt;&gt; from a List&lt;MyObject&gt; using Stream API","body":"<p>The <a href=\"https://stackoverflow.com/a/73531066/642706\">Answer by Ivanchenko</a> is correct and quite clever. But that solution requires Java 12+, and <a href=\"https://stackoverflow.com/questions/73530811/create-a-mapstring-setstring-from-a-listmyobject-using-stream-api/73537637#comment129858692_73531066\">you later commented</a> that you must use Java 11.</p>\n<h1><code>list.stream().map( getter ).collect( â¦</code></h1>\n<p>Here is another solution, this one working in Java 11.</p>\n<p>Here we run through the list twice. On the first run, we use the getter method <code>type</code> to extract the <code>type</code> member field on the <code>Log</code> class. We collect those strings into a <code>Set</code>. Then we make a second run through the <code>List</code> of <code>Log</code> objects, this time extracting the <code>message</code> member field by calling the getter <code>message</code>. Those strings are also collected into a <code>Set</code>.</p>\n<p>We put each of the two sets into a <code>Map</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt; String, Set &lt; String &gt; &gt; map =\n        Map.of(\n                &quot;types&quot; , list.stream().map( Log :: type ).collect( Collectors.toSet() ) ,\n                &quot;messages&quot; , list.stream().map( Log :: message ).collect( Collectors.toSet() )\n        );\n</code></pre>\n<p>Caveat: This approach is a little bit inefficient in that it loops the list twice, once for &quot;types&quot; and once for &quot;messages&quot;. But unless you are doing this many times for huge amounts of data, the impact on performance should be insignificant.</p>\n<p>Generally best to work with unmodifiable collections until you know otherwise.  So let's make those <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html#unmodifiable\" rel=\"nofollow noreferrer\">sets unmodifiable</a>. The <code>Map.of</code> is already producing an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable <code>Map</code></a> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt; String, Set &lt; String &gt; &gt; map =\n        Map.of(\n                &quot;types&quot; , list.stream().map( Log :: type ).collect( Collectors.toUnmodifiableSet() ) ,\n                &quot;messages&quot; , list.stream().map( Log :: message ).collect( Collectors.toUnmodifiableSet() )\n        );\n</code></pre>\n<p>Here is a complete example. For brevity I used the <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature in Java 16+, but you could just as well define a conventional class. By the way, note that in Java 16+, records, enums, and interfaces can all be declared locally.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Log( String type , String message ) { }\nList &lt; Log &gt; list =\n        List.of(\n                new Log( &quot;INFO&quot; , &quot;dog&quot; ) ,\n                new Log( &quot;ERROR&quot; , &quot;dog&quot; ) ,\n                new Log( &quot;INFO&quot; , &quot;cat&quot; ) ,\n                new Log( &quot;INFO&quot; , &quot;cat&quot; ) ,\n                new Log( &quot;DEBUG&quot; , &quot;cat&quot; )\n        );\n\nMap &lt; String, Set &lt; String &gt; &gt; map =\n        Map.of(\n                &quot;types&quot; , list.stream().map( Log :: type ).collect( Collectors.toUnmodifiableSet() ) ,\n                &quot;messages&quot; , list.stream().map( Log :: message ).collect( Collectors.toUnmodifiableSet() )\n        );\n\nSystem.out.println( &quot;map = &quot; + map );\n</code></pre>\n<blockquote>\n<p>map = {types=[INFO, DEBUG, ERROR], messages=[cat, dog]}</p>\n</blockquote>\n<p>By the way, be aware that <code>Set</code> and <code>Map</code> by definition may <strong>iterate in any arbitrary order</strong>. The order may change even between two iterations done one after another. If order matters to you, use a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> implementation and a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"nofollow noreferrer\"><code>NavigableMap</code></a> implementation.</p>\n"}],"owner":{"account_id":16276241,"reputation":17,"user_id":16187547,"display_name":"Aleksey Bakharev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73531066,"answer_count":2,"score":1,"last_activity_date":1694612852,"creation_date":1661785420,"question_id":73530811,"body_markdown":"I have a list of `LoggerMessageDto` objects.\r\n\r\n`LoggerMessageDto` has two `String` *fields:* `message` and `type`.\r\n\r\nI want to convert this `List` into a `Map` with the following contents:\r\n\r\n     key: &quot;types&quot;,     value: Set.of(LoggerMessageDto::gettype) \r\n     key: &quot;messages&quot; , value: Set.of(LoggerMessageDto::getMessage)\r\n\r\n*My attempt:*\r\n```\r\nList&lt;LoggerMessageDto&gt; result = getSomeResult();\r\nSet&lt;String&gt; journalTypes = new HashSet&lt;&gt;();\r\nSet&lt;String&gt; messages = new HashSet&lt;&gt;();\r\n\r\nresult.forEach(item -&gt; {\r\n    journalTypes.add(item.getType());\r\n    messages.add(item.getMessage());\r\n});\r\n\r\nString typesKey = &quot;types&quot;;\r\nString messagesKey = &quot;messages&quot;;\r\n\r\nMap&lt;String, Set&lt;String&gt;&gt; map = Map.of(\r\n    typesKey, journalTypes,\r\n    messagesKey, messages\r\n);\r\n```\r\nHow can I achieve this using Stream API?","title":"Create a Map&lt;String, Set&lt;String&gt;&gt; from a List&lt;MyObject&gt; using Stream API","body":"<p>I have a list of <code>LoggerMessageDto</code> objects.</p>\n<p><code>LoggerMessageDto</code> has two <code>String</code> <em>fields:</em> <code>message</code> and <code>type</code>.</p>\n<p>I want to convert this <code>List</code> into a <code>Map</code> with the following contents:</p>\n<pre><code> key: &quot;types&quot;,     value: Set.of(LoggerMessageDto::gettype) \n key: &quot;messages&quot; , value: Set.of(LoggerMessageDto::getMessage)\n</code></pre>\n<p><em>My attempt:</em></p>\n<pre><code>List&lt;LoggerMessageDto&gt; result = getSomeResult();\nSet&lt;String&gt; journalTypes = new HashSet&lt;&gt;();\nSet&lt;String&gt; messages = new HashSet&lt;&gt;();\n\nresult.forEach(item -&gt; {\n    journalTypes.add(item.getType());\n    messages.add(item.getMessage());\n});\n\nString typesKey = &quot;types&quot;;\nString messagesKey = &quot;messages&quot;;\n\nMap&lt;String, Set&lt;String&gt;&gt; map = Map.of(\n    typesKey, journalTypes,\n    messagesKey, messages\n);\n</code></pre>\n<p>How can I achieve this using Stream API?</p>\n"},{"tags":["java","quartz-scheduler"],"comments":[{"owner":{"account_id":1323534,"reputation":7793,"user_id":1268844,"accept_rate":100,"display_name":"Anshu"},"score":0,"creation_date":1349681211,"post_id":12777057,"comment_id":17270192,"body_markdown":"Inject the externalInstance in your job","body":"Inject the externalInstance in your job"}],"answers":[{"tags":[],"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1349681864,"creation_date":1349681864,"answer_id":12777248,"question_id":12777057,"body_markdown":"While scheduling the job using a trigger, you would have defined `JobDataMap` that is added to the `JobDetail`. That JobDetail object will be present in the `JobExecutionContext` passed to the `execute()` method in your `Job`. So, you should figure out a way to pass your externalInstance through the `JobDataMap`. HTH.","title":"How to pass instance variables into Quartz job?","body":"<p>While scheduling the job using a trigger, you would have defined <code>JobDataMap</code> that is added to the <code>JobDetail</code>. That JobDetail object will be present in the <code>JobExecutionContext</code> passed to the <code>execute()</code> method in your <code>Job</code>. So, you should figure out a way to pass your externalInstance through the <code>JobDataMap</code>. HTH.</p>\n"},{"tags":[],"owner":{"account_id":904403,"reputation":1974,"user_id":939618,"accept_rate":84,"display_name":"Rips"},"down_vote_count":1,"up_vote_count":62,"is_accepted":true,"score":61,"last_activity_date":1564651030,"creation_date":1349702605,"answer_id":12782677,"question_id":12777057,"body_markdown":"you can put your instance in the schedulerContext.When you are going to schedule the job ,just before that you can do below:\r\n\r\n    getScheduler().getContext().put(&quot;externalInstance&quot;, externalInstance);\r\n\r\nYour job class would be like below:\r\n\r\n    public class SimpleJob implements Job {\r\n        @Override\r\n        public void execute(JobExecutionContext context)\r\n                throws JobExecutionException {\r\n            SchedulerContext schedulerContext = null;\r\n            try {\r\n                schedulerContext = context.getScheduler().getContext();\r\n            } catch (SchedulerException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n            ExternalInstance externalInstance =\r\n                (ExternalInstance) schedulerContext.get(&quot;externalInstance&quot;);\r\n\r\n            float avg = externalInstance.calculateAvg();\r\n        }\r\n    }\r\n\r\n\r\nIf you are using Spring ,you can actually using spring&#39;s support to inject the whole applicationContext like answered in the [Link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12707383/data-retrival-using-quartz &quot;Link&quot;","title":"How to pass instance variables into Quartz job?","body":"<p>you can put your instance in the schedulerContext.When you are going to schedule the job ,just before that you can do below:</p>\n\n<pre><code>getScheduler().getContext().put(\"externalInstance\", externalInstance);\n</code></pre>\n\n<p>Your job class would be like below:</p>\n\n<pre><code>public class SimpleJob implements Job {\n    @Override\n    public void execute(JobExecutionContext context)\n            throws JobExecutionException {\n        SchedulerContext schedulerContext = null;\n        try {\n            schedulerContext = context.getScheduler().getContext();\n        } catch (SchedulerException e1) {\n            e1.printStackTrace();\n        }\n        ExternalInstance externalInstance =\n            (ExternalInstance) schedulerContext.get(\"externalInstance\");\n\n        float avg = externalInstance.calculateAvg();\n    }\n}\n</code></pre>\n\n<p>If you are using Spring ,you can actually using spring's support to inject the whole applicationContext like answered in the <a href=\"https://stackoverflow.com/questions/12707383/data-retrival-using-quartz\" title=\"Link\">Link</a></p>\n"},{"tags":[],"owner":{"account_id":220392,"reputation":10621,"user_id":5209935,"accept_rate":14,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472649798,"creation_date":1472649798,"answer_id":39250865,"question_id":12777057,"body_markdown":"This is the responsibility of the `JobFactory`. The default `PropertySettingJobFactory` implementation will invoke any bean-setter methods, based on properties found in the schdeuler context, the trigger, and the job detail. So as long as you have implemnted an appropriate `setContext()` setter method you should be able to do any of the following:\r\n\r\n    scheduler.getContext().put(&quot;context&quot;, context);\r\n\r\nOr\r\n\r\n    Trigger trigger = TriggerBuilder.newTrigger()\r\n      ...\r\n      .usingJobData(&quot;context&quot;, context)\r\n      .build()\r\n\r\nOr\r\n\r\n    JobDetail job = JobBuilder.newJob(SimpleJob.class)\r\n      ...\r\n      .usingJobData(&quot;context&quot;, context)\r\n      .build()\r\n\r\nOr if that isn&#39;t enough you can provide your own `JobFactory` class which instantiates the Job objects however you please.\r\n","title":"How to pass instance variables into Quartz job?","body":"<p>This is the responsibility of the <code>JobFactory</code>. The default <code>PropertySettingJobFactory</code> implementation will invoke any bean-setter methods, based on properties found in the schdeuler context, the trigger, and the job detail. So as long as you have implemnted an appropriate <code>setContext()</code> setter method you should be able to do any of the following:</p>\n\n<pre><code>scheduler.getContext().put(\"context\", context);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>Trigger trigger = TriggerBuilder.newTrigger()\n  ...\n  .usingJobData(\"context\", context)\n  .build()\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>JobDetail job = JobBuilder.newJob(SimpleJob.class)\n  ...\n  .usingJobData(\"context\", context)\n  .build()\n</code></pre>\n\n<p>Or if that isn't enough you can provide your own <code>JobFactory</code> class which instantiates the Job objects however you please.</p>\n"},{"tags":[],"owner":{"account_id":8751392,"reputation":487,"user_id":6544491,"display_name":"Harsh Maheswari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476356398,"creation_date":1476355106,"answer_id":40018679,"question_id":12777057,"body_markdown":"Solve this problem by creating one interface with one `HashMap` putting required information there.\r\n\r\nImplement this interface in your Quartz `Job` class this information will be accessible.\r\n\r\nIn `IFace`\r\n\r\n    Map&lt;JobKey,Object&gt; map = new HashMap&lt;&gt;();\r\n\r\nIn `Job`\r\n\r\n    map.get(context.getJobDetail().getKey()) =&gt;  will give you Object\r\n\r\n","title":"How to pass instance variables into Quartz job?","body":"<p>Solve this problem by creating one interface with one <code>HashMap</code> putting required information there.</p>\n\n<p>Implement this interface in your Quartz <code>Job</code> class this information will be accessible.</p>\n\n<p>In <code>IFace</code></p>\n\n<pre><code>Map&lt;JobKey,Object&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n\n<p>In <code>Job</code></p>\n\n<pre><code>map.get(context.getJobDetail().getKey()) =&gt;  will give you Object\n</code></pre>\n"},{"tags":[],"owner":{"account_id":107117,"reputation":480,"user_id":973085,"display_name":"Evvo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570456144,"creation_date":1570456144,"answer_id":58270938,"question_id":12777057,"body_markdown":"Add the object to the JobDataMap:\r\n\r\n    JobDetail job = JobBuilder.newJob(MyJobClass.class)\r\n                              .withIdentity(&quot;MyIdentity&quot;,\r\n                                            &quot;MyGroup&quot;)\r\n                              .build();\r\n    job.getJobDataMap()\r\n       .put(&quot;MyObject&quot;,\r\n            myObject);\r\n\r\nAccess the data from the JobDataMap:\r\n\r\n    var myObject = (MyObjectClass) context.getJobDetail()\r\n                                          .getJobDataMap()\r\n                                          .get(&quot;carrier&quot;);\r\n\r\n","title":"How to pass instance variables into Quartz job?","body":"<p>Add the object to the JobDataMap:</p>\n\n<pre><code>JobDetail job = JobBuilder.newJob(MyJobClass.class)\n                          .withIdentity(\"MyIdentity\",\n                                        \"MyGroup\")\n                          .build();\njob.getJobDataMap()\n   .put(\"MyObject\",\n        myObject);\n</code></pre>\n\n<p>Access the data from the JobDataMap:</p>\n\n<pre><code>var myObject = (MyObjectClass) context.getJobDetail()\n                                      .getJobDataMap()\n                                      .get(\"carrier\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2470791,"reputation":1819,"user_id":2152704,"display_name":"Mohammed Elrashidy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574420927,"creation_date":1573477202,"answer_id":58801887,"question_id":12777057,"body_markdown":"Quartz has a simple way to grep params from JobDataMap using setters\r\n\r\nI am using Quartz 2.3 and I simply used setter to fetch passed instance objects\r\n\r\nFor example I created this class\r\n```\r\npublic class Data implements Serializable {\r\n    @JsonProperty(&quot;text&quot;)\r\n    private String text;\r\n    \r\n    @JsonCreator\r\n    public Data(@JsonProperty(&quot;b&quot;) String text) {this.text = text;}\r\n   \r\n    public String getText() {return text;}\r\n}\r\n```\r\n\r\nThen I created an instance of this class&#160;and put it inside the JobDataMap\r\n```\r\nJobDataMap jobDataMap = new JobDataMap();\r\njobDataMap.put(&quot;data&quot;, new Data(1, &quot;One!&quot;));\r\nJobDetail job = newJob(HelloJob.class)\r\n                .withIdentity(&quot;myJob&quot;, &quot;group&quot;)\r\n                .withDescription(&quot;bla bla bla&quot;)\r\n                .usingJobData(jobDataMap) // &lt;!!!\r\n                .build();\r\n```\r\n\r\nAnd my job class looks like this\r\n```\r\npublic class HelloJob implements Job {\r\n    Data data;\r\n\r\n    public HelloJob() {}\r\n\r\n    public void execute(JobExecutionContext context)\r\n            throws JobExecutionException\r\n    {\r\n        String text = data.getText();\r\n        System.out.println(text);\r\n    }\r\n\r\n    public void setData(Data data) {this.data = data;}\r\n}\r\n```\r\n* Note: it is mandatory that the field and the setter matched the key\r\n\r\nThis code will print `One!` when you schedule the job.\r\n\r\nThat&#39;s it, clean and efficient\r\n","title":"How to pass instance variables into Quartz job?","body":"<p>Quartz has a simple way to grep params from JobDataMap using setters</p>\n\n<p>I am using Quartz 2.3 and I simply used setter to fetch passed instance objects</p>\n\n<p>For example I created this class</p>\n\n<pre><code>public class Data implements Serializable {\n    @JsonProperty(\"text\")\n    private String text;\n\n    @JsonCreator\n    public Data(@JsonProperty(\"b\") String text) {this.text = text;}\n\n    public String getText() {return text;}\n}\n</code></pre>\n\n<p>Then I created an instance of this classÂ and put it inside the JobDataMap</p>\n\n<pre><code>JobDataMap jobDataMap = new JobDataMap();\njobDataMap.put(\"data\", new Data(1, \"One!\"));\nJobDetail job = newJob(HelloJob.class)\n                .withIdentity(\"myJob\", \"group\")\n                .withDescription(\"bla bla bla\")\n                .usingJobData(jobDataMap) // &lt;!!!\n                .build();\n</code></pre>\n\n<p>And my job class looks like this</p>\n\n<pre><code>public class HelloJob implements Job {\n    Data data;\n\n    public HelloJob() {}\n\n    public void execute(JobExecutionContext context)\n            throws JobExecutionException\n    {\n        String text = data.getText();\n        System.out.println(text);\n    }\n\n    public void setData(Data data) {this.data = data;}\n}\n</code></pre>\n\n<ul>\n<li>Note: it is mandatory that the field and the setter matched the key</li>\n</ul>\n\n<p>This code will print <code>One!</code> when you schedule the job.</p>\n\n<p>That's it, clean and efficient</p>\n"},{"tags":[],"owner":{"account_id":7746434,"reputation":537,"user_id":5864025,"display_name":"Anthony Vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694612398,"creation_date":1694612398,"answer_id":77097636,"question_id":12777057,"body_markdown":"Just do the following :\r\n\r\n    public class NightlyJob implements Job {\r\n    \r\n        @Override\r\n        public void execute(JobExecutionContext context) throws JobExecutionException {\r\n            JobDataMap mergedJobDataMap = context.getMergedJobDataMap();\r\n            String orgCode = mergedJobDataMap.getString(&quot;dataName&quot;);\r\n            System.out.println(MessageFormat.format(&quot;Nightly Job {0}&quot;, orgCode));\r\n        }\r\n    \r\n    }","title":"How to pass instance variables into Quartz job?","body":"<p>Just do the following :</p>\n<pre><code>public class NightlyJob implements Job {\n\n    @Override\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n        JobDataMap mergedJobDataMap = context.getMergedJobDataMap();\n        String orgCode = mergedJobDataMap.getString(&quot;dataName&quot;);\n        System.out.println(MessageFormat.format(&quot;Nightly Job {0}&quot;, orgCode));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":42992,"reputation":8592,"user_id":125470,"accept_rate":44,"display_name":"janetsmith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51588,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":12782677,"answer_count":7,"score":30,"last_activity_date":1694612398,"creation_date":1349680982,"question_id":12777057,"body_markdown":"I wonder how to pass an instance variable externally in Quartz?\r\n\r\nBelow is pseudo code I would like to write. How can I pass externalInstance into this Job?\r\n\r\n    public class SimpleJob implements Job {\r\n    \t\t@Override\r\n    \t\tpublic void execute(JobExecutionContext context)\r\n    \t\t\t\tthrows JobExecutionException {\r\n\r\n\t\t\t\tfloat avg = externalInstance.calculateAvg();\r\n    \t\t}\r\n    }","title":"How to pass instance variables into Quartz job?","body":"<p>I wonder how to pass an instance variable externally in Quartz?</p>\n\n<p>Below is pseudo code I would like to write. How can I pass externalInstance into this Job?</p>\n\n<pre><code>public class SimpleJob implements Job {\n        @Override\n        public void execute(JobExecutionContext context)\n                throws JobExecutionException {\n\n            float avg = externalInstance.calculateAvg();\n        }\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","junit5","testcontainers"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694612367,"post_id":77097566,"comment_id":135914177,"body_markdown":"Either you define a bean in the configuration and use `@ServiceConnection` or the URL but not both. The `url` takes precedence over your container.","body":"Either you define a bean in the configuration and use <code>@ServiceConnection</code> or the URL but not both. The <code>url</code> takes precedence over your container."},{"owner":{"account_id":10516436,"reputation":653,"user_id":7752551,"display_name":"Adrien H"},"score":0,"creation_date":1694617856,"post_id":77097566,"comment_id":135915583,"body_markdown":"@M.Deinum Indeed, that was the issue. Thanks! Does that mean I now have to import my Configuration in every single class annotated with `@SpringBootTest` ? If I don&#39;t do something, Spring will fail to load the datasource as the URL is no longer provided by the properties.","body":"@M.Deinum Indeed, that was the issue. Thanks! Does that mean I now have to import my Configuration in every single class annotated with <code>@SpringBootTest</code> ? If I don&#39;t do something, Spring will fail to load the datasource as the URL is no longer provided by the properties."},{"owner":{"account_id":10516436,"reputation":653,"user_id":7752551,"display_name":"Adrien H"},"score":0,"creation_date":1694619099,"post_id":77097566,"comment_id":135915883,"body_markdown":"For reference for other people, the following article from Spring Boot was very helpful: https://spring.io/blog/2023/06/23/improved-testcontainers-support-in-spring-boot-3-1 .","body":"For reference for other people, the following article from Spring Boot was very helpful: <a href=\"https://spring.io/blog/2023/06/23/improved-testcontainers-support-in-spring-boot-3-1\" rel=\"nofollow noreferrer\">spring.io/blog/2023/06/23/&hellip;</a> ."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694671552,"post_id":77097566,"comment_id":135922348,"body_markdown":"Creating a base class and have other test classes extend this will fix this.","body":"Creating a base class and have other test classes extend this will fix this."}],"owner":{"account_id":10516436,"reputation":653,"user_id":7752551,"display_name":"Adrien H"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694611988,"creation_date":1694611988,"question_id":77097566,"body_markdown":"I have a Spring Boot 3 project where I write integration tests that use test containers to run the PostgreSQL database.\r\nI&#39;d like to introduce fuzzy matching in one endpoint, and thus require the PostgresQL extension pg_trgm.\r\n\r\nFurthermore, I read the documentation, but it&#39;s still not clear how I&#39;m supposed to do such a thing.\r\n\r\n - https://java.testcontainers.org/modules/databases/postgres/ is basically empty.\r\n - https://java.testcontainers.org/features/configuration/ looked promising, but is missing the feature I need.\r\n\r\nFollowing what I found in some [GitHub issue][1], I tried defining a bean in a test configuration, but testcontainer doesn&#39;t seem to care:\r\n\r\n    @TestConfiguration(proxyBeanMethods = false)\r\n    public class DatabaseConfiguration {\r\n    \r\n        @Bean\r\n        public PostgreSQLContainer&lt;?&gt; postgreSQLContainer() {\r\n            var name = DockerImageName\r\n                    .parse(&quot;localhost/cadonym/database&quot;)\r\n                    .asCompatibleSubstituteFor(&quot;postgres&quot;);\r\n            return new PostgreSQLContainer&lt;&gt;(name);\r\n        }\r\n    }\r\n\r\nWhere the image is defined by:\r\n\r\n    # This image is meant to be used during development only.\r\n    FROM docker.io/library/postgres:15.3\r\n    \r\n    ENV POSTGRES_USER=postgres\r\n    ENV POSTGRES_PASSWORD=postgres\r\n    ENV POSTGRES_DB=cadonym\r\n    \r\n    RUN echo &quot;CREATE EXTENSION pg_trgm&quot; &gt;&gt; /docker-entrypoint-initdb.d/pg_trgm.sql\r\n\r\nWhile running my test, I could see testcontainer creating containers based on `docker.io/testcontainers/ryuk:0.5.1` and `docker.io/library/postgres:15.1`. The custom image isn&#39;t used, and the test behavior didn&#39;t change despite my test configuration: &quot;function similarity(character varying, character varying) does not exist&quot;.\r\n\r\nI verified that my configuration is loaded by changing the argument of the call &quot;asCompatibleSubstituteFor&quot; (&quot;postgres&quot;) to a random value, and it&#39;s indeed loaded, as the aforementioned change stops the context from loading as expected.\r\n\r\nOther relevant configuration can be found in my test properties:\r\n\r\n    spring.datasource.driver-class-name=org.testcontainers.jdbc.ContainerDatabaseDriver\r\n    spring.datasource.url=jdbc:tc:postgresql:15.1:///integration-tests-db\r\n\r\n\r\n  [1]: https://github.com/testcontainers/testcontainers-java/issues/2728","title":"How to create a PostgresQL extension inside a testcontainer started by Junit5 and configured by Spring Boot","body":"<p>I have a Spring Boot 3 project where I write integration tests that use test containers to run the PostgreSQL database.\nI'd like to introduce fuzzy matching in one endpoint, and thus require the PostgresQL extension pg_trgm.</p>\n<p>Furthermore, I read the documentation, but it's still not clear how I'm supposed to do such a thing.</p>\n<ul>\n<li><a href=\"https://java.testcontainers.org/modules/databases/postgres/\" rel=\"nofollow noreferrer\">https://java.testcontainers.org/modules/databases/postgres/</a> is basically empty.</li>\n<li><a href=\"https://java.testcontainers.org/features/configuration/\" rel=\"nofollow noreferrer\">https://java.testcontainers.org/features/configuration/</a> looked promising, but is missing the feature I need.</li>\n</ul>\n<p>Following what I found in some <a href=\"https://github.com/testcontainers/testcontainers-java/issues/2728\" rel=\"nofollow noreferrer\">GitHub issue</a>, I tried defining a bean in a test configuration, but testcontainer doesn't seem to care:</p>\n<pre><code>@TestConfiguration(proxyBeanMethods = false)\npublic class DatabaseConfiguration {\n\n    @Bean\n    public PostgreSQLContainer&lt;?&gt; postgreSQLContainer() {\n        var name = DockerImageName\n                .parse(&quot;localhost/cadonym/database&quot;)\n                .asCompatibleSubstituteFor(&quot;postgres&quot;);\n        return new PostgreSQLContainer&lt;&gt;(name);\n    }\n}\n</code></pre>\n<p>Where the image is defined by:</p>\n<pre><code># This image is meant to be used during development only.\nFROM docker.io/library/postgres:15.3\n\nENV POSTGRES_USER=postgres\nENV POSTGRES_PASSWORD=postgres\nENV POSTGRES_DB=cadonym\n\nRUN echo &quot;CREATE EXTENSION pg_trgm&quot; &gt;&gt; /docker-entrypoint-initdb.d/pg_trgm.sql\n</code></pre>\n<p>While running my test, I could see testcontainer creating containers based on <code>docker.io/testcontainers/ryuk:0.5.1</code> and <code>docker.io/library/postgres:15.1</code>. The custom image isn't used, and the test behavior didn't change despite my test configuration: &quot;function similarity(character varying, character varying) does not exist&quot;.</p>\n<p>I verified that my configuration is loaded by changing the argument of the call &quot;asCompatibleSubstituteFor&quot; (&quot;postgres&quot;) to a random value, and it's indeed loaded, as the aforementioned change stops the context from loading as expected.</p>\n<p>Other relevant configuration can be found in my test properties:</p>\n<pre><code>spring.datasource.driver-class-name=org.testcontainers.jdbc.ContainerDatabaseDriver\nspring.datasource.url=jdbc:tc:postgresql:15.1:///integration-tests-db\n</code></pre>\n"},{"tags":["java","c#","c++","c","performance"],"comments":[{"owner":{"account_id":264156,"reputation":2599,"user_id":550235,"accept_rate":50,"display_name":"Russ Schultz"},"score":0,"creation_date":1446177365,"post_id":33428297,"comment_id":54645543,"body_markdown":"in the C++ version, try making the smallerA and smallerB holders be pointers, rather than making copies of the current smallest point, then copy at the end.    Or follow the method used by java to assign to a local result variable and return the value.   I suspect you&#39;re spending a lot of time copying data in the C++ and C# version, and not in the java version","body":"in the C++ version, try making the smallerA and smallerB holders be pointers, rather than making copies of the current smallest point, then copy at the end.    Or follow the method used by java to assign to a local result variable and return the value.   I suspect you&#39;re spending a lot of time copying data in the C++ and C# version, and not in the java version"},{"owner":{"account_id":178655,"reputation":103636,"user_id":410767,"accept_rate":89,"display_name":"Tony Delroy"},"score":1,"creation_date":1446177403,"post_id":33428297,"comment_id":54645553,"body_markdown":"Perhaps Java is optimising the `Math.pow(p1.X - p2.X, 2)` call to a multiplication: you could explicitly change it to a multiplication in the C version and see if that accounts for the performance difference.  `QueryPerformanceCounter` is also famously unreliable, depending on your exact OS version and hardware, though if your machine is otherwise idle and it doesn&#39;t flip the program across cores you shouldn&#39;t be affected by the bugs.","body":"Perhaps Java is optimising the <code>Math.pow(p1.X - p2.X, 2)</code> call to a multiplication: you could explicitly change it to a multiplication in the C version and see if that accounts for the performance difference.  <code>QueryPerformanceCounter</code> is also famously unreliable, depending on your exact OS version and hardware, though if your machine is otherwise idle and it doesn&#39;t flip the program across cores you shouldn&#39;t be affected by the bugs."},{"owner":{"account_id":6154727,"reputation":11053,"user_id":4798077,"accept_rate":100,"display_name":"Ron Beyer"},"score":1,"creation_date":1446177462,"post_id":33428297,"comment_id":54645563,"body_markdown":"Why does the java version have a `Result` class, but the C# and C++ versions do not? Are you sure you are comparing apples to apples? Is the output from these 3 programs equivalent?","body":"Why does the java version have a <code>Result</code> class, but the C# and C++ versions do not? Are you sure you are comparing apples to apples? Is the output from these 3 programs equivalent?"},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":2,"creation_date":1446177492,"post_id":33428297,"comment_id":54645569,"body_markdown":"Is this after the obligatory 40 sec warmup?","body":"Is this after the obligatory 40 sec warmup?"},{"owner":{"account_id":2618929,"reputation":1215,"user_id":2267418,"accept_rate":58,"display_name":"andre_ss6"},"score":0,"creation_date":1446177523,"post_id":33428297,"comment_id":54645578,"body_markdown":"@TonyD I thought about that when making the benchmark, but then I decided that the compiler&#39;s abilities to inline functions should also be evaluated. Should have done it anyway after obtaining these absurd results. And about the `QueryPerformanceCount`, I don&#39;t think it is a reliability problem: the C version is obviously slower, and I even checked against the clock to see if it was really taking 9 seconds.","body":"@TonyD I thought about that when making the benchmark, but then I decided that the compiler&#39;s abilities to inline functions should also be evaluated. Should have done it anyway after obtaining these absurd results. And about the <code>QueryPerformanceCount</code>, I don&#39;t think it is a reliability problem: the C version is obviously slower, and I even checked against the clock to see if it was really taking 9 seconds."},{"owner":{"account_id":1025310,"reputation":9017,"user_id":1034749,"accept_rate":67,"display_name":"fghj"},"score":0,"creation_date":1446177639,"post_id":33428297,"comment_id":54645602,"body_markdown":"Java version look incomplete, `int size = Integer.parseInt(file[0]);` file not defined, may be in java version you not read or init input data?","body":"Java version look incomplete, <code>int size = Integer.parseInt(file[0]);</code> file not defined, may be in java version you not read or init input data?"},{"owner":{"account_id":2618929,"reputation":1215,"user_id":2267418,"accept_rate":58,"display_name":"andre_ss6"},"score":0,"creation_date":1446177648,"post_id":33428297,"comment_id":54645604,"body_markdown":"@RussSchultz I&#39;ve tried that in the C# version, didn&#39;t make any difference. I&#39;ll try it again though, both in C# and C.\n\n\nRonBeyer Because Java can&#39;t pass by reference; I&#39;ll change it anyway though, I got so nervous with the result that I forgot to make everything absolutely equal. I&#39;m sorry, I&#39;ll fix it right now and post the results. And yes, all of the three outputs the same thing.","body":"@RussSchultz I&#39;ve tried that in the C# version, didn&#39;t make any difference. I&#39;ll try it again though, both in C# and C.   RonBeyer Because Java can&#39;t pass by reference; I&#39;ll change it anyway though, I got so nervous with the result that I forgot to make everything absolutely equal. I&#39;m sorry, I&#39;ll fix it right now and post the results. And yes, all of the three outputs the same thing."},{"owner":{"account_id":2618929,"reputation":1215,"user_id":2267418,"accept_rate":58,"display_name":"andre_ss6"},"score":0,"creation_date":1446177728,"post_id":33428297,"comment_id":54645618,"body_markdown":"@user1034749 I&#39;ve deleted everything about file reading, as that occurs only on application start. The file is never touched after the timer starts (or the timestamp is acquired, in the case of C and java).","body":"@user1034749 I&#39;ve deleted everything about file reading, as that occurs only on application start. The file is never touched after the timer starts (or the timestamp is acquired, in the case of C and java)."},{"owner":{"account_id":6154727,"reputation":11053,"user_id":4798077,"accept_rate":100,"display_name":"Ron Beyer"},"score":0,"creation_date":1446177857,"post_id":33428297,"comment_id":54645642,"body_markdown":"Also, for the C# version, run the test more than once to allow JIT to properly optimize and emit machine code. For all the tests, I&#39;d take an average of 100 runs (you are saying it takes max 10 seconds, so this would take about 17 minutes to run).","body":"Also, for the C# version, run the test more than once to allow JIT to properly optimize and emit machine code. For all the tests, I&#39;d take an average of 100 runs (you are saying it takes max 10 seconds, so this would take about 17 minutes to run)."},{"owner":{"account_id":2618929,"reputation":1215,"user_id":2267418,"accept_rate":58,"display_name":"andre_ss6"},"score":0,"creation_date":1446177974,"post_id":33428297,"comment_id":54645670,"body_markdown":"@RonBeyer Yes, I&#39;m aware of that and I ran all three multiple times.","body":"@RonBeyer Yes, I&#39;m aware of that and I ran all three multiple times."},{"owner":{"account_id":6154727,"reputation":11053,"user_id":4798077,"accept_rate":100,"display_name":"Ron Beyer"},"score":0,"creation_date":1446178145,"post_id":33428297,"comment_id":54645705,"body_markdown":"I mean put a loop in main, not run the program multiple times, the main methods you have above don&#39;t reflect that, and JIT doesn&#39;t save across application runs in C# (not sure about Java).","body":"I mean put a loop in main, not run the program multiple times, the main methods you have above don&#39;t reflect that, and JIT doesn&#39;t save across application runs in C# (not sure about Java)."},{"owner":{"account_id":178655,"reputation":103636,"user_id":410767,"accept_rate":89,"display_name":"Tony Delroy"},"score":2,"creation_date":1446178959,"post_id":33428297,"comment_id":54645910,"body_markdown":"I&#39;ve copied the program into VC++2012 - for 1000 points initialised with random numbers, it takes ~6.8ms on this PC.  For 10k points, ~738ms.  Release mode build with no care taken over other optimisation settings.  (You have a bug: if not other points are closer together than points[0] and points[1], you never set `*smallerA` and `*smallerB`).  Avoiding pow in favour of manual multiplication: ~700ms.","body":"I&#39;ve copied the program into VC++2012 - for 1000 points initialised with random numbers, it takes ~6.8ms on this PC.  For 10k points, ~738ms.  Release mode build with no care taken over other optimisation settings.  (You have a bug: if not other points are closer together than points[0] and points[1], you never set <code>*smallerA</code> and <code>*smallerB</code>).  Avoiding pow in favour of manual multiplication: ~700ms."},{"owner":{"account_id":264156,"reputation":2599,"user_id":550235,"accept_rate":50,"display_name":"Russ Schultz"},"score":2,"creation_date":1446179050,"post_id":33428297,"comment_id":54645929,"body_markdown":"In fiddling with things, that which made the largest difference was changing `sqrt(pow(p1.X - p2.X, 2) + pow(p1.Y - p2.Y, 2))` to `sqrt((p1.X - p2.X)*(p1.X - p2.X) + (p1.Y - p2.Y)*(p1.Y - p2.Y));` made it take 1/10 the time.  (10000 random points, 4500mS down to 322mS)  this is with 2015 community edition","body":"In fiddling with things, that which made the largest difference was changing <code>sqrt(pow(p1.X - p2.X, 2) + pow(p1.Y - p2.Y, 2))</code> to <code>sqrt((p1.X - p2.X)*(p1.X - p2.X) + (p1.Y - p2.Y)*(p1.Y - p2.Y));</code> made it take 1/10 the time.  (10000 random points, 4500mS down to 322mS)  this is with 2015 community edition"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1446179269,"post_id":33428297,"comment_id":54645978,"body_markdown":"I did a similar test recently with sequential/threaded sorts. Comparing C++ (g++ -O3), VC++(Full opts), and Java. For insertion sorts &lt;= 300k, Java was ~2x faster across all categories of various # threads. About 2x slower with quick sort. Including time to merge threads.","body":"I did a similar test recently with sequential/threaded sorts. Comparing C++ (g++ -O3), VC++(Full opts), and Java. For insertion sorts &lt;= 300k, Java was ~2x faster across all categories of various # threads. About 2x slower with quick sort. Including time to merge threads."},{"owner":{"account_id":12831983,"reputation":882,"user_id":9282847,"display_name":"viraltaco_"},"score":0,"creation_date":1598989417,"post_id":33428297,"comment_id":112632903,"body_markdown":"It&#39;s illegal C. It may compile, it&#39;s all undefined behavior. The speed is just as undefined. \nTry [this](https://godbolt.org/z/1zn4Wb) instead. Should be pretty fast. Far from the fastest. This is keeping the data model you picked, and using managed memory.","body":"It&#39;s illegal C. It may compile, it&#39;s all undefined behavior. The speed is just as undefined.  Try <a href=\"https://godbolt.org/z/1zn4Wb\" rel=\"nofollow noreferrer\">this</a> instead. Should be pretty fast. Far from the fastest. This is keeping the data model you picked, and using managed memory."}],"answers":[{"tags":[],"owner":{"account_id":268250,"reputation":5373,"user_id":556899,"accept_rate":50,"display_name":"stgatilov"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1446184135,"creation_date":1446183709,"answer_id":33429389,"question_id":33428297,"body_markdown":"As explained [here][1] and checked [here][2], in pure C there is **no** overload with integer power, like this one:\r\n\r\n    double pow(double base, int exponent );\r\n\r\nIt means that when you call `pow` in C, it is processed in a way similar to:\r\n\r\n    double pow(double base, double exponent) {\r\n        return exp(log(base) * exponent);\r\n    }\r\n\r\nAlso there should be some check for the case of negative base and integer power, which is handled in special way. It is not a good idea to add conditions like `if (exponent == 1.0)` and `if (exponent == 2.0)` here, because it would slow down mathematical code that really uses `pow` for proper purposes. As a result, squaring becomes slower [in twelve times or something like that][3].\r\n\r\nIn principle, the only reasonable way to optimize `pow(x, 2)` to `x * x` is to make compiler recognize such antipatterns and generate special code for them.  It just happened so that your C and C# compilers with your settings are not able to do it, while Java compiler can do it. Note that it has nothing to do with inlining capabilities: just inlining `exp(log(a) * b)` would not make this code any faster.\r\n\r\nAs a conclusion, I&#39;d like to note that no programmer good in writing mathematical code would ever write `pow(x, 2)` in his code.\r\n\r\n  [1]: http://en.cppreference.com/w/c/numeric/math/pow\r\n  [2]: https://stackoverflow.com/a/2940800/556899\r\n  [3]: http://dhruba.name/2012/09/01/performance-pattern-multiplication-is-20x-faster-than-math-pow/","title":"Why is this code so faster in java than in C++ and C#","body":"<p>As explained <a href=\"http://en.cppreference.com/w/c/numeric/math/pow\" rel=\"nofollow noreferrer\">here</a> and checked <a href=\"https://stackoverflow.com/a/2940800/556899\">here</a>, in pure C there is <strong>no</strong> overload with integer power, like this one:</p>\n\n<pre><code>double pow(double base, int exponent );\n</code></pre>\n\n<p>It means that when you call <code>pow</code> in C, it is processed in a way similar to:</p>\n\n<pre><code>double pow(double base, double exponent) {\n    return exp(log(base) * exponent);\n}\n</code></pre>\n\n<p>Also there should be some check for the case of negative base and integer power, which is handled in special way. It is not a good idea to add conditions like <code>if (exponent == 1.0)</code> and <code>if (exponent == 2.0)</code> here, because it would slow down mathematical code that really uses <code>pow</code> for proper purposes. As a result, squaring becomes slower <a href=\"http://dhruba.name/2012/09/01/performance-pattern-multiplication-is-20x-faster-than-math-pow/\" rel=\"nofollow noreferrer\">in twelve times or something like that</a>.</p>\n\n<p>In principle, the only reasonable way to optimize <code>pow(x, 2)</code> to <code>x * x</code> is to make compiler recognize such antipatterns and generate special code for them.  It just happened so that your C and C# compilers with your settings are not able to do it, while Java compiler can do it. Note that it has nothing to do with inlining capabilities: just inlining <code>exp(log(a) * b)</code> would not make this code any faster.</p>\n\n<p>As a conclusion, I'd like to note that no programmer good in writing mathematical code would ever write <code>pow(x, 2)</code> in his code.</p>\n"},{"tags":[],"owner":{"account_id":26355819,"reputation":21,"user_id":20012811,"display_name":"Viktor Engelmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694611798,"creation_date":1694611798,"answer_id":77097538,"question_id":33428297,"body_markdown":"Another thing I noticed is that in the C-Version, you have pointers to your &quot;Point&quot; structure. When you do the assignments `*smallerA = points[i];` and `*smallerB = points[j];` you dereference the target.\r\n\r\nI.e. you don&#39;t change a pointer, as you do in the C# and Java codes. You *copy* the whole instance. That&#39;s twice as many move-operations.","title":"Why is this code so faster in java than in C++ and C#","body":"<p>Another thing I noticed is that in the C-Version, you have pointers to your &quot;Point&quot; structure. When you do the assignments <code>*smallerA = points[i];</code> and <code>*smallerB = points[j];</code> you dereference the target.</p>\n<p>I.e. you don't change a pointer, as you do in the C# and Java codes. You <em>copy</em> the whole instance. That's twice as many move-operations.</p>\n"}],"owner":{"account_id":2618929,"reputation":1215,"user_id":2267418,"accept_rate":58,"display_name":"andre_ss6"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1699,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33429389,"answer_count":2,"score":3,"last_activity_date":1694611798,"creation_date":1446176475,"question_id":33428297,"body_markdown":"I was making a simple homework in which I had to develop a software in C to find the two nearest points between 100 of them. \r\n\r\nWhen I finished, I was curious to see how much time it would take to run it with a lot more points and with full VC++ optimizations enabled. I tried with 10000 and it took about 8~9 seconds. Then I was curious to see how much time C# and Java would take to do the same thing. As expected, C# took a little longer, 9~10 seconds; Java, however, took only ~400 milliseconds! Why does this happen?!\r\n\r\nThis is my code in C, C# and Java:\r\n\r\nC: \r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;stdlib.h&gt;\r\n    #include &lt;math.h&gt;\r\n    #include &lt;Windows.h&gt;\r\n    \r\n    long perfFrequency = 0;\r\n    \r\n    typedef struct\r\n    {\r\n    \tdouble X;\r\n    \tdouble Y;\r\n    } Point;\r\n    \r\n    double distance(Point p1, Point p2)\r\n    {\r\n    \treturn sqrt(pow(p1.X - p2.X, 2) + pow(p1.Y - p2.Y, 2));\r\n    }\r\n    \r\n    double smallerDistance(Point *points, int size, Point *smallerA, Point  *smallerB)\r\n    {\r\n    \tint i, j;\r\n    \tdouble smaller = distance(points[0], points[1]);\r\n    \r\n    \tfor (i = 0; i &lt; size; i++)\r\n    \t{\r\n    \t\tfor (j = i + 1; j &lt; size; j++)\r\n    \t\t{\r\n    \t\t\tdouble dist = distance(points[i], points[j]);\r\n    \t\t\tif (dist &lt; smaller)\r\n    \t\t\t{\r\n    \t\t\t\tsmaller= dist;\r\n    \t\t\t\t*smallerA = points[i];\r\n    \t\t\t\t*smallerB = points[j];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \treturn smaller;\r\n    }\r\n    \r\n    void main()\r\n    {\r\n        // read size and points from file.\r\n    \tint size;\r\n    \tPoint *points= (Point *)malloc(size * sizeof(Point));\r\n    \t\r\n        // just to make sure everything is ready before the benchmark begins    \r\n    \tsystem(&quot;pause&quot;);\r\n    \r\n    \tPoint smallerA, smallerB;\r\n    \tif (!QueryPerformanceFrequency((LARGE_INTEGER *)&amp;perfFrequency))\r\n    \t\tprintf(&quot;Couldn&#39;t query performance frequency.&quot;);\r\n    \r\n    \tlong long start, end;\t\r\n    \tdouble smaller;\r\n    \tQueryPerformanceCounter((LARGE_INTEGER *)&amp;start);\r\n    \r\n    \tsmaller= smallerDistance(points, size, &amp;smallerA, &amp;smallerB);\r\n    \t\t\r\n    \tQueryPerformanceCounter((LARGE_INTEGER *)&amp;end);\r\n    \r\n    \tprintf(&quot;The smaller distance is: %lf. The coordinates of the most close points are: (%lf, %lf) and (%lf, %lf). Time taken: %lfms\\n&quot;,\r\n    \t\tsmaller, smallerA.X, smallerA.Y, smallerB.X, smallerB.Y, (end - start) * 1000.0 / perfFrequency);\r\n    \t\r\n    }\r\n\r\nC#:\r\n\r\n    using System;\r\n    using System.IO;\r\n    using System.Collections.Generic;\r\n    using System.Linq;\r\n    using System.Text;\r\n    using System.Threading.Tasks;\r\n    using System.Diagnostics;\r\n    \r\n    namespace StructuredTest\r\n    {\r\n        struct Point\r\n        {\r\n            public double X;\r\n            public double Y;\r\n        }\r\n    \r\n        class Program\r\n        {\r\n            static double Distance(Point p1, Point p2)\r\n            {\r\n                return Math.Sqrt(Math.Pow(p1.X - p2.X, 2) + Math.Pow(p1.Y - p2.Y, 2));\r\n            }\r\n    \r\n            static double SmallerDistance(Point[] points, int size, out Point smallerA, out Point smallerB)\r\n            {\r\n                int i, j;\r\n                double smaller = Distance(points[0], points[1]);\r\n                smallerA = default(Point);\r\n                smallerB = default(Point);\r\n    \r\n                for (i = 0; i &lt; size; i++)\r\n                {\r\n                    for (j = i + 1; j &lt; size; j++)\r\n                    {\r\n                        double dist = Distance(points[i], points[j]);\r\n                        if (dist &lt; smaller)\r\n                        {\r\n                            smaller = dist;\r\n                            smallerA = points[i];\r\n                            smallerB = points[j];\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                return smaller;\r\n            }\r\n    \r\n            static void Main(string[] args)\r\n            {\r\n                // read size and points from file \r\n                int size = int.Parse(file[0]);\r\n                Point[] points= new Point[size];                   \r\n    \r\n                // make sure everything is ready\r\n                Console.WriteLine(&quot;Press any key to continue...&quot;);\r\n                Console.ReadKey(true);\r\n    \r\n                Point smallerA, smallerB;\r\n                double smaller;\r\n    \r\n                Stopwatch sw = new Stopwatch();\r\n                sw.Restart();\r\n    \r\n                smaller = SmallerDistance(points, size, out smallerA, out smallerB);\r\n    \r\n                sw.Stop();\r\n    \r\n                Console.WriteLine($&quot;The smaller distance is: {smaller}. The coordinates of the most close points are: ({smallerA.X}, {smallerA.Y}) and &quot; +\r\n                    $&quot;({smallerB.X}, {smallerB.Y}). Time taken: {sw.ElapsedMilliseconds}ms.&quot;);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nJava:\r\n\r\n    package structuredtest;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.List;\r\n    \r\n    class Point {\r\n    \r\n        public Point(double X, double Y) {\r\n            this.X = X;\r\n            this.Y = Y;\r\n        }\r\n    \r\n        double X;\r\n        double Y;\r\n    }\r\n    \r\n    class Result {\r\n    \r\n        double distance;\r\n        Point p1;\r\n        Point p2;\r\n    }\r\n    \r\n    public class StructuredTest {\r\n    \r\n        static double distance(Point p1, Point p2) {\r\n            return Math.sqrt(Math.pow(p1.X - p2.X, 2) + Math.pow(p1.Y - p2.Y, 2));\r\n        }\r\n    \r\n        static Result smallerDistance(Point[] points, int size) {\r\n            int i, j;\r\n            double smaller = distance(points[0], points[1]);\r\n            Result r = new Result();\r\n            \r\n            for (i = 0; i &lt; size; i++) {\r\n                for (j = i + 1; j &lt; size; j++) {\r\n                    double dist = distance(points[i], points[j]);\r\n                    if (dist &lt; smaller) {\r\n                        smaller = dist;\r\n                        r.p1 = points[i];\r\n                        r.p2 = points[j];\r\n                    }\r\n                }\r\n            }\r\n    \r\n            r.distance = smaller;\r\n            return r;\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            // read size and points from file\r\n            int size = Integer.parseInt(file[0]);\r\n            Point[] points = new Point[size];\r\n\r\n            // make sure everything is ready    \r\n            System.out.println(&quot;Press any key to continue...&quot;);\r\n            System.in.read();\r\n    \r\n            double start = System.nanoTime(), end;\r\n    \r\n            Result r = smallerDistance(points, size);\r\n    \r\n            end = System.nanoTime();\r\n    \r\n            System.out.println(&quot;The smaller distance is: &quot; + r.distance + &quot;. The most close points are: (&quot;\r\n                    + r.p1.X + &quot;,&quot; + r.p1.Y + &quot;) and &quot; + r.p2.X + &quot;,&quot; + r.p2.Y + &quot;). Time taken: &quot; + (end - start) / 1000000 + &quot;ms.&quot;);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nIf java had beaten both C and C# by a small margin I wouldn&#39;t be surprised, but 20 times faster?!\r\n\r\nThe file is in the following format:\r\n\r\n    3 // number of points in the file. Note that there no comments in the actual file\r\n    (3.7098722472288, 4.49056397953787) // point (X,Y)\r\n    (8.90232811621332, 9.67982769279173)\r\n    (5.68254334818822, 1.71918922506136)\r\n    (6.22585901842366, 9.51660500242835)\r\n\r\nFunny thing: At first, the file with 10000 points that I mentioned earlier, which I was using to benchmark, was actually just a 100 times copy paste of another file with 100 random points. Like this:\r\n\r\n    (Point 1)\r\n    (Point 2)\r\n    (Point 3)\r\n    (Point 1)\r\n    (Point 2)\r\n    (Point 3)\r\n\r\nI thought that there was no need of generating 10000 random points because as the code has to run through all of the numbers anyway, it would make little difference (only more assignments). But then I decided to generate 10000 random points to see how they would react: both C and C# still ran in about the same time (~50ms increase); Java, on the other hand, had a increase of ~500ms.\r\n\r\nAlso, I think it is worth noting that java takes about 11 seconds when running inside NetBeans (even in &quot;Run&quot; mode, not &quot;Debug&quot;).\r\n\r\nAnd I also tried compiling as C++ instead of C, but it made no difference. \r\n\r\nI&#39;m using VS 2015 for both C and C#.\r\n\r\nThese are the settings for each language:\r\n\r\nC:\r\n\r\n    x64\r\n    Optimization: Maximize Speed (/O2)\r\n    Intrinsic Functions: Yes (/Oi)\r\n    Favor Size or Speed: Favor fast code (/Ot)\r\n    Enable Fiber-Safe Optimizations: Yes (/GT)\r\n    Security Check: Disable Security Check (/GS-)\r\n    Floating point model: Fast (/fp:fast)\r\n    Everything else: default\r\n\r\nC#:\r\n\r\n    x64\r\n    Release Mode\r\n    Optimize Code: Enabled\r\n    Check for arithmetic overflow: Disabled\r\n    .NET 4.5.2 \r\n\r\nJava:\r\n\r\n    JRE/JDK 1.8\r\n    Default settings (if there are any)\r\n\r\n#EDIT:\r\n\r\nOkay, I re-did the tests, following the suggestions:\r\n\r\nFirst off, I used the `Result` class/struct in both C and C#. The reason I used it in java but not in C/C# is because java can&#39;t pass by reference. \r\nSecond, I now repeat the test in the main() function.\r\nAnd thanks @Tony D for catching that bug! :)\r\n\r\nI won&#39;t post the code because the changes are minor: simply implement exactly the java version in the other tests, that&#39;s what I did.\r\n\r\nThis time I tested with only 7000 Points (not 10000) and with only 30 iterations, because it is taking a long time to test and its quite late here.\r\n\r\nThe results didn&#39;t change much: C# took 5228ms in average, C 4424ms and Java 223ms. Java still wins by being 20 or more times faster.\r\n\r\nThen I tried removing the calls to Math.Pow (simply changing for `((p1.X - p2.X) * (p1.X - p2.X)) + ((p1.Y - p2.Y) * (p1.Y - p2.Y))`), then everything changed. The new results:\r\n\r\nJava: 220ms average\r\n\r\nC#: 195ms average\r\n\r\nC: 195ms average\r\n\r\nIf I only checked that before :p \r\n\r\nAs I commented, I thought about doing that, but then decided that it would be better to test each compiler&#39;s ability to inline functions and optimize this kind of simple calls. However, when I obtained those strange results, I should&#39;ve gone back and done this, but I got so nervous that I forgot about doing it.\r\n\r\nAnyway, to be really honest, I&#39;m surprised that the Java compiler was able to completely optimize that line of code while C#&#39;s and C++&#39;s weren&#39;t. Although I know about the corner case checks and the internal calls on C#, I find it really interesting that the Java compiler was able to notice that no corner-case checks were necessary in that code whatsoever.","title":"Why is this code so faster in java than in C++ and C#","body":"<p>I was making a simple homework in which I had to develop a software in C to find the two nearest points between 100 of them. </p>\n\n<p>When I finished, I was curious to see how much time it would take to run it with a lot more points and with full VC++ optimizations enabled. I tried with 10000 and it took about 8~9 seconds. Then I was curious to see how much time C# and Java would take to do the same thing. As expected, C# took a little longer, 9~10 seconds; Java, however, took only ~400 milliseconds! Why does this happen?!</p>\n\n<p>This is my code in C, C# and Java:</p>\n\n<p>C: </p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;math.h&gt;\n#include &lt;Windows.h&gt;\n\nlong perfFrequency = 0;\n\ntypedef struct\n{\n    double X;\n    double Y;\n} Point;\n\ndouble distance(Point p1, Point p2)\n{\n    return sqrt(pow(p1.X - p2.X, 2) + pow(p1.Y - p2.Y, 2));\n}\n\ndouble smallerDistance(Point *points, int size, Point *smallerA, Point  *smallerB)\n{\n    int i, j;\n    double smaller = distance(points[0], points[1]);\n\n    for (i = 0; i &lt; size; i++)\n    {\n        for (j = i + 1; j &lt; size; j++)\n        {\n            double dist = distance(points[i], points[j]);\n            if (dist &lt; smaller)\n            {\n                smaller= dist;\n                *smallerA = points[i];\n                *smallerB = points[j];\n            }\n        }\n    }\n    return smaller;\n}\n\nvoid main()\n{\n    // read size and points from file.\n    int size;\n    Point *points= (Point *)malloc(size * sizeof(Point));\n\n    // just to make sure everything is ready before the benchmark begins    \n    system(\"pause\");\n\n    Point smallerA, smallerB;\n    if (!QueryPerformanceFrequency((LARGE_INTEGER *)&amp;perfFrequency))\n        printf(\"Couldn't query performance frequency.\");\n\n    long long start, end;   \n    double smaller;\n    QueryPerformanceCounter((LARGE_INTEGER *)&amp;start);\n\n    smaller= smallerDistance(points, size, &amp;smallerA, &amp;smallerB);\n\n    QueryPerformanceCounter((LARGE_INTEGER *)&amp;end);\n\n    printf(\"The smaller distance is: %lf. The coordinates of the most close points are: (%lf, %lf) and (%lf, %lf). Time taken: %lfms\\n\",\n        smaller, smallerA.X, smallerA.Y, smallerB.X, smallerB.Y, (end - start) * 1000.0 / perfFrequency);\n\n}\n</code></pre>\n\n<p>C#:</p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Diagnostics;\n\nnamespace StructuredTest\n{\n    struct Point\n    {\n        public double X;\n        public double Y;\n    }\n\n    class Program\n    {\n        static double Distance(Point p1, Point p2)\n        {\n            return Math.Sqrt(Math.Pow(p1.X - p2.X, 2) + Math.Pow(p1.Y - p2.Y, 2));\n        }\n\n        static double SmallerDistance(Point[] points, int size, out Point smallerA, out Point smallerB)\n        {\n            int i, j;\n            double smaller = Distance(points[0], points[1]);\n            smallerA = default(Point);\n            smallerB = default(Point);\n\n            for (i = 0; i &lt; size; i++)\n            {\n                for (j = i + 1; j &lt; size; j++)\n                {\n                    double dist = Distance(points[i], points[j]);\n                    if (dist &lt; smaller)\n                    {\n                        smaller = dist;\n                        smallerA = points[i];\n                        smallerB = points[j];\n                    }\n                }\n            }\n\n            return smaller;\n        }\n\n        static void Main(string[] args)\n        {\n            // read size and points from file \n            int size = int.Parse(file[0]);\n            Point[] points= new Point[size];                   \n\n            // make sure everything is ready\n            Console.WriteLine(\"Press any key to continue...\");\n            Console.ReadKey(true);\n\n            Point smallerA, smallerB;\n            double smaller;\n\n            Stopwatch sw = new Stopwatch();\n            sw.Restart();\n\n            smaller = SmallerDistance(points, size, out smallerA, out smallerB);\n\n            sw.Stop();\n\n            Console.WriteLine($\"The smaller distance is: {smaller}. The coordinates of the most close points are: ({smallerA.X}, {smallerA.Y}) and \" +\n                $\"({smallerB.X}, {smallerB.Y}). Time taken: {sw.ElapsedMilliseconds}ms.\");\n\n        }\n    }\n}\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>package structuredtest;\n\nimport java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.List;\n\nclass Point {\n\n    public Point(double X, double Y) {\n        this.X = X;\n        this.Y = Y;\n    }\n\n    double X;\n    double Y;\n}\n\nclass Result {\n\n    double distance;\n    Point p1;\n    Point p2;\n}\n\npublic class StructuredTest {\n\n    static double distance(Point p1, Point p2) {\n        return Math.sqrt(Math.pow(p1.X - p2.X, 2) + Math.pow(p1.Y - p2.Y, 2));\n    }\n\n    static Result smallerDistance(Point[] points, int size) {\n        int i, j;\n        double smaller = distance(points[0], points[1]);\n        Result r = new Result();\n\n        for (i = 0; i &lt; size; i++) {\n            for (j = i + 1; j &lt; size; j++) {\n                double dist = distance(points[i], points[j]);\n                if (dist &lt; smaller) {\n                    smaller = dist;\n                    r.p1 = points[i];\n                    r.p2 = points[j];\n                }\n            }\n        }\n\n        r.distance = smaller;\n        return r;\n    }\n\n    public static void main(String[] args) throws IOException {\n        // read size and points from file\n        int size = Integer.parseInt(file[0]);\n        Point[] points = new Point[size];\n\n        // make sure everything is ready    \n        System.out.println(\"Press any key to continue...\");\n        System.in.read();\n\n        double start = System.nanoTime(), end;\n\n        Result r = smallerDistance(points, size);\n\n        end = System.nanoTime();\n\n        System.out.println(\"The smaller distance is: \" + r.distance + \". The most close points are: (\"\n                + r.p1.X + \",\" + r.p1.Y + \") and \" + r.p2.X + \",\" + r.p2.Y + \"). Time taken: \" + (end - start) / 1000000 + \"ms.\");\n\n    }\n\n}\n</code></pre>\n\n<p>If java had beaten both C and C# by a small margin I wouldn't be surprised, but 20 times faster?!</p>\n\n<p>The file is in the following format:</p>\n\n<pre><code>3 // number of points in the file. Note that there no comments in the actual file\n(3.7098722472288, 4.49056397953787) // point (X,Y)\n(8.90232811621332, 9.67982769279173)\n(5.68254334818822, 1.71918922506136)\n(6.22585901842366, 9.51660500242835)\n</code></pre>\n\n<p>Funny thing: At first, the file with 10000 points that I mentioned earlier, which I was using to benchmark, was actually just a 100 times copy paste of another file with 100 random points. Like this:</p>\n\n<pre><code>(Point 1)\n(Point 2)\n(Point 3)\n(Point 1)\n(Point 2)\n(Point 3)\n</code></pre>\n\n<p>I thought that there was no need of generating 10000 random points because as the code has to run through all of the numbers anyway, it would make little difference (only more assignments). But then I decided to generate 10000 random points to see how they would react: both C and C# still ran in about the same time (~50ms increase); Java, on the other hand, had a increase of ~500ms.</p>\n\n<p>Also, I think it is worth noting that java takes about 11 seconds when running inside NetBeans (even in \"Run\" mode, not \"Debug\").</p>\n\n<p>And I also tried compiling as C++ instead of C, but it made no difference. </p>\n\n<p>I'm using VS 2015 for both C and C#.</p>\n\n<p>These are the settings for each language:</p>\n\n<p>C:</p>\n\n<pre><code>x64\nOptimization: Maximize Speed (/O2)\nIntrinsic Functions: Yes (/Oi)\nFavor Size or Speed: Favor fast code (/Ot)\nEnable Fiber-Safe Optimizations: Yes (/GT)\nSecurity Check: Disable Security Check (/GS-)\nFloating point model: Fast (/fp:fast)\nEverything else: default\n</code></pre>\n\n<p>C#:</p>\n\n<pre><code>x64\nRelease Mode\nOptimize Code: Enabled\nCheck for arithmetic overflow: Disabled\n.NET 4.5.2 \n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>JRE/JDK 1.8\nDefault settings (if there are any)\n</code></pre>\n\n<h1>EDIT:</h1>\n\n<p>Okay, I re-did the tests, following the suggestions:</p>\n\n<p>First off, I used the <code>Result</code> class/struct in both C and C#. The reason I used it in java but not in C/C# is because java can't pass by reference. \nSecond, I now repeat the test in the main() function.\nAnd thanks @Tony D for catching that bug! :)</p>\n\n<p>I won't post the code because the changes are minor: simply implement exactly the java version in the other tests, that's what I did.</p>\n\n<p>This time I tested with only 7000 Points (not 10000) and with only 30 iterations, because it is taking a long time to test and its quite late here.</p>\n\n<p>The results didn't change much: C# took 5228ms in average, C 4424ms and Java 223ms. Java still wins by being 20 or more times faster.</p>\n\n<p>Then I tried removing the calls to Math.Pow (simply changing for <code>((p1.X - p2.X) * (p1.X - p2.X)) + ((p1.Y - p2.Y) * (p1.Y - p2.Y))</code>), then everything changed. The new results:</p>\n\n<p>Java: 220ms average</p>\n\n<p>C#: 195ms average</p>\n\n<p>C: 195ms average</p>\n\n<p>If I only checked that before :p </p>\n\n<p>As I commented, I thought about doing that, but then decided that it would be better to test each compiler's ability to inline functions and optimize this kind of simple calls. However, when I obtained those strange results, I should've gone back and done this, but I got so nervous that I forgot about doing it.</p>\n\n<p>Anyway, to be really honest, I'm surprised that the Java compiler was able to completely optimize that line of code while C#'s and C++'s weren't. Although I know about the corner case checks and the internal calls on C#, I find it really interesting that the Java compiler was able to notice that no corner-case checks were necessary in that code whatsoever.</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694610098,"creation_date":1694610098,"answer_id":77097316,"question_id":77095928,"body_markdown":"It appears that you expect the value returned from `getJMSType` to represent the underlying data type of the message. However, this is **not** what `getJMSType` returns. The &quot;JMSType&quot; is an arbitrary value set by the client when sending the message.\r\n\r\nNotice that [the documentation][1] for `getJMSType()` states:\r\n\r\n&gt; Gets the message type identifier **supplied by the client when the message was sent**. (emphasis mine)\r\n\r\nFurthermore, the documentation for `setJMSType(String)` states:\r\n\r\n&gt; Some JMS providers use a message repository that contains the definitions of messages sent by applications. The JMSType header field may reference a message&#39;s definition in the provider&#39;s repository.\r\n&gt;\r\n&gt; The JMS API does not define a standard message definition repository, nor does it define a naming policy for the definitions it contains.\r\n\r\nIf you want to detect the underlying data type of the message you can use `instanceof` along with the various [`Message`][2] implementations, e.g.:\r\n\r\n```java\r\nif (messages.get(0) instanceof TextMessage) {\r\n   System.out.println(&quot;This is a text message&quot;);\r\n} else if (messages.get(0) instanceof BytesMessage) {\r\n   System.out.println(&quot;This is a bytes message&quot;);\r\n} ...\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#getJMSType--\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/jms/Message.html","title":"How to get JMSType in ActiveMQ Artemis via JMS?","body":"<p>It appears that you expect the value returned from <code>getJMSType</code> to represent the underlying data type of the message. However, this is <strong>not</strong> what <code>getJMSType</code> returns. The &quot;JMSType&quot; is an arbitrary value set by the client when sending the message.</p>\n<p>Notice that <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#getJMSType--\" rel=\"nofollow noreferrer\">the documentation</a> for <code>getJMSType()</code> states:</p>\n<blockquote>\n<p>Gets the message type identifier <strong>supplied by the client when the message was sent</strong>. (emphasis mine)</p>\n</blockquote>\n<p>Furthermore, the documentation for <code>setJMSType(String)</code> states:</p>\n<blockquote>\n<p>Some JMS providers use a message repository that contains the definitions of messages sent by applications. The JMSType header field may reference a message's definition in the provider's repository.</p>\n<p>The JMS API does not define a standard message definition repository, nor does it define a naming policy for the definitions it contains.</p>\n</blockquote>\n<p>If you want to detect the underlying data type of the message you can use <code>instanceof</code> along with the various <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Message.html\" rel=\"nofollow noreferrer\"><code>Message</code></a> implementations, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (messages.get(0) instanceof TextMessage) {\n   System.out.println(&quot;This is a text message&quot;);\n} else if (messages.get(0) instanceof BytesMessage) {\n   System.out.println(&quot;This is a bytes message&quot;);\n} ...\n</code></pre>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77097316,"answer_count":1,"score":1,"last_activity_date":1694611215,"creation_date":1694598336,"question_id":77095928,"body_markdown":"I have code that looks at a message and tells me its type (text or byte). I don&#39;t understand why my message type outputs `null` and not `text` or `byte`.\r\n\r\n```java\r\nEnumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\r\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\nwhile (messageEnumeration.hasMoreElements()){\r\n   messages.add(messageEnumeration.nextElement());\r\n}\r\nSystem.out.println(messages.get(0).getJMSMessageID());\r\nSystem.out.println(messages.get(0).getJMSType());\r\n```\r\nConsole output:\r\n\r\n```\r\nID:55350491-5216-11ee-8196-f832e49e9cfd\r\nnull\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/uzpge.png)](https://i.stack.imgur.com/uzpge.png)\r\n","title":"How to get JMSType in ActiveMQ Artemis via JMS?","body":"<p>I have code that looks at a message and tells me its type (text or byte). I don't understand why my message type outputs <code>null</code> and not <code>text</code> or <code>byte</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Enumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\nwhile (messageEnumeration.hasMoreElements()){\n   messages.add(messageEnumeration.nextElement());\n}\nSystem.out.println(messages.get(0).getJMSMessageID());\nSystem.out.println(messages.get(0).getJMSType());\n</code></pre>\n<p>Console output:</p>\n<pre><code>ID:55350491-5216-11ee-8196-f832e49e9cfd\nnull\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uzpge.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uzpge.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-studio","api-key"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1595688827,"post_id":63089537,"comment_id":111564323,"body_markdown":"Welcome to Stackoverflow. A websearch for &quot;Marvel API keys in android studio&quot; gets 3 examples in the first 3 results (and more available): https://github.com/eloijr/yourheroes, https://github.com/ribamarsantos/android-marvel-api, http://sanjaymangroliya1800.blogspot.com/2018/04/marvel-api-integration-in-android.html.","body":"Welcome to Stackoverflow. A websearch for &quot;Marvel API keys in android studio&quot; gets 3 examples in the first 3 results (and more available): <a href=\"https://github.com/eloijr/yourheroes\" rel=\"nofollow noreferrer\">github.com/eloijr/yourheroes</a>, <a href=\"https://github.com/ribamarsantos/android-marvel-api\" rel=\"nofollow noreferrer\">github.com/ribamarsantos/android-marvel-api</a>, <a href=\"http://sanjaymangroliya1800.blogspot.com/2018/04/marvel-api-integration-in-android.html\" rel=\"nofollow noreferrer\">sanjaymangroliya1800.blogspot.com/2018/04/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":22188859,"reputation":46,"user_id":16431366,"display_name":"Youssef"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633563822,"creation_date":1633563822,"answer_id":69473831,"question_id":63089537,"body_markdown":"**It&#39;s simple:**\r\n\r\n1. Get Marvel Api Keys (public and private) from https://developer.marvel.com/account\r\n\r\n2. Now you need a Hash key to make requests:\r\n- Your will need a **ts** value (for example 1)\r\n- Generate **md5** concatening (ts + private key + public key)\r\n\r\n3. Now, you can try in the browser calling https://gateway.marvel.com/v1/public/characters?apikey=$MARVEL_API_PUBLIC_KEY&amp;ts=$MARVEL_API_TS&amp;hash=$MARVEL_API_HASH\r\n\r\nFor example:\r\nPrivate key: qqqq\r\nPublic key: wwww\r\nts: 1 -&gt; here you can choose the value that you want\r\n1. Go to http://www.md5.cz/ and put **qqqqwwww1** to generate md5 -&gt; result : 30db1167f72b3ff7acbbd14df4c1f878\r\n2. Now, from browser you can try:\r\nhttps://gateway.marvel.com/v1/public/characters?apikey=wwww&amp;ts=1&amp;hash=30db1167f72b3ff7acbbd14df4c1f878\r\n\r\nIf you are programing an **Android App**, you found an example here: https://github.com/yelotmany/Marvel-Characters","title":"Usage Of Marvel API keys in Android Studio","body":"<p><strong>It's simple:</strong></p>\n<ol>\n<li><p>Get Marvel Api Keys (public and private) from <a href=\"https://developer.marvel.com/account\" rel=\"nofollow noreferrer\">https://developer.marvel.com/account</a></p>\n</li>\n<li><p>Now you need a Hash key to make requests:</p>\n</li>\n</ol>\n<ul>\n<li>Your will need a <strong>ts</strong> value (for example 1)</li>\n<li>Generate <strong>md5</strong> concatening (ts + private key + public key)</li>\n</ul>\n<ol start=\"3\">\n<li>Now, you can try in the browser calling <a href=\"https://gateway.marvel.com/v1/public/characters?apikey=$MARVEL_API_PUBLIC_KEY&amp;ts=$MARVEL_API_TS&amp;hash=$MARVEL_API_HASH\" rel=\"nofollow noreferrer\">https://gateway.marvel.com/v1/public/characters?apikey=$MARVEL_API_PUBLIC_KEY&amp;ts=$MARVEL_API_TS&amp;hash=$MARVEL_API_HASH</a></li>\n</ol>\n<p>For example:\nPrivate key: qqqq\nPublic key: wwww\nts: 1 -&gt; here you can choose the value that you want</p>\n<ol>\n<li>Go to <a href=\"http://www.md5.cz/\" rel=\"nofollow noreferrer\">http://www.md5.cz/</a> and put <strong>qqqqwwww1</strong> to generate md5 -&gt; result : 30db1167f72b3ff7acbbd14df4c1f878</li>\n<li>Now, from browser you can try:\n<a href=\"https://gateway.marvel.com/v1/public/characters?apikey=wwww&amp;ts=1&amp;hash=30db1167f72b3ff7acbbd14df4c1f878\" rel=\"nofollow noreferrer\">https://gateway.marvel.com/v1/public/characters?apikey=wwww&amp;ts=1&amp;hash=30db1167f72b3ff7acbbd14df4c1f878</a></li>\n</ol>\n<p>If you are programing an <strong>Android App</strong>, you found an example here: <a href=\"https://github.com/yelotmany/Marvel-Characters\" rel=\"nofollow noreferrer\">https://github.com/yelotmany/Marvel-Characters</a></p>\n"},{"tags":[],"owner":{"account_id":5266649,"reputation":46,"user_id":7641839,"display_name":"Felipe Oliveira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633717754,"creation_date":1633717754,"answer_id":69500293,"question_id":63089537,"body_markdown":"\r\nServer-side applications must pass **two parameters in addition to the apikey parameter**:\r\n\r\n**ts - a timestamp** (or other long string which can change on a request-by-request basis)\r\n\r\n**hash - a md5 digest of the ts parameter**, your private key and your public key (**e.g. md5(ts+privateKey+publicKey)**\r\n","title":"Usage Of Marvel API keys in Android Studio","body":"<p>Server-side applications must pass <strong>two parameters in addition to the apikey parameter</strong>:</p>\n<p><strong>ts - a timestamp</strong> (or other long string which can change on a request-by-request basis)</p>\n<p><strong>hash - a md5 digest of the ts parameter</strong>, your private key and your public key (<strong>e.g. md5(ts+privateKey+publicKey)</strong></p>\n"},{"tags":[],"owner":{"account_id":3638345,"reputation":959,"user_id":3033184,"display_name":"GFPF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694611146,"creation_date":1694611146,"answer_id":77097450,"question_id":63089537,"body_markdown":"In my case I was using a wrong api address that was &#39;https://developer.marvel.com&#39;\r\n\r\nChange to &#39;https://gateway.marvel.com&#39;\r\n\r\n\r\nExample in kotlin of how to generate the Marvel API Hash:\r\n\r\n\r\n        val timestamp = System.currentTimeMillis().toString()\r\n        generateApiHash(timestamp)\r\n        \r\n        private fun generateApiHash(timestamp: String) =\r\n                HASH_FORMAT.format(timestamp, API_PRIVATE_KEY, API_PUBLIC_KEY).toMD5()\r\n        \r\n        private const val API_PUBLIC_KEY = BuildConfig.MARVEL_API_KEY_PUBLIC\r\n        private const val API_PRIVATE_KEY = BuildConfig.MARVEL_API_KEY_PRIVATE\r\n        private const val HASH_FORMAT = &quot;%s%s%s&quot;","title":"Usage Of Marvel API keys in Android Studio","body":"<p>In my case I was using a wrong api address that was 'https://developer.marvel.com'</p>\n<p>Change to 'https://gateway.marvel.com'</p>\n<p>Example in kotlin of how to generate the Marvel API Hash:</p>\n<pre><code>    val timestamp = System.currentTimeMillis().toString()\n    generateApiHash(timestamp)\n    \n    private fun generateApiHash(timestamp: String) =\n            HASH_FORMAT.format(timestamp, API_PRIVATE_KEY, API_PUBLIC_KEY).toMD5()\n    \n    private const val API_PUBLIC_KEY = BuildConfig.MARVEL_API_KEY_PUBLIC\n    private const val API_PRIVATE_KEY = BuildConfig.MARVEL_API_KEY_PRIVATE\n    private const val HASH_FORMAT = &quot;%s%s%s&quot;\n</code></pre>\n"}],"owner":{"account_id":19157440,"reputation":33,"user_id":13993981,"display_name":"Shrinivas Baldawa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69473831,"answer_count":3,"score":2,"last_activity_date":1694611146,"creation_date":1595687357,"question_id":63089537,"body_markdown":"Can some one tell, that how to use the **Marvel API keys** in ***android studio*** for building an app. I did not find a single article that could tell on how to use the Marvel API keys in android studio.","title":"Usage Of Marvel API keys in Android Studio","body":"<p>Can some one tell, that how to use the <strong>Marvel API keys</strong> in <em><strong>android studio</strong></em> for building an app. I did not find a single article that could tell on how to use the Marvel API keys in android studio.</p>\n"},{"tags":["java","spring-boot","jboss","wildfly"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1694901794,"post_id":77097294,"comment_id":135953027,"body_markdown":"Can you deploy an exploded war file instead?  It&#39;s very unclear exactly how you would change a file within a war in the first place without copying the entire war file to the deployments directory.","body":"Can you deploy an exploded war file instead?  It&#39;s very unclear exactly how you would change a file within a war in the first place without copying the entire war file to the deployments directory."}],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694610833,"creation_date":1694610833,"answer_id":77097410,"question_id":77097294,"body_markdown":"No, changing a class will require a reload of the deployment to updated the loaded code. ","title":"can we update any .class file in the running war file in the wildfly?","body":"<p>No, changing a class will require a reload of the deployment to updated the loaded code.</p>\n"}],"owner":{"account_id":23847616,"reputation":75,"user_id":17851934,"display_name":"Rohit Shete"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694610833,"creation_date":1694609912,"question_id":77097294,"body_markdown":"can we update any .class file in the running war file in the wildfly? \r\nso we need not redeploy the complete project for a single file change.\r\nI have tried Deployment Overlays but it&#39;s not useful as per my requirement so please provide a solution other than Deployment Overlays.\r\nWe have one war file. and we need to provide a hotfix without redeploying war/ without deploying a new war.\r\nThe basic idea is to replace the class file at runtime. Does Wildfly provide any solution to support this requirement?\r\ncurrently, I am using Wildfly-16","title":"can we update any .class file in the running war file in the wildfly?","body":"<p>can we update any .class file in the running war file in the wildfly?\nso we need not redeploy the complete project for a single file change.\nI have tried Deployment Overlays but it's not useful as per my requirement so please provide a solution other than Deployment Overlays.\nWe have one war file. and we need to provide a hotfix without redeploying war/ without deploying a new war.\nThe basic idea is to replace the class file at runtime. Does Wildfly provide any solution to support this requirement?\ncurrently, I am using Wildfly-16</p>\n"},{"tags":["java","spring","tomcat","spring-boot"],"comments":[{"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"score":0,"creation_date":1502179512,"post_id":45532532,"comment_id":78084336,"body_markdown":"Which version are you using?","body":"Which version are you using?"},{"owner":{"account_id":6167520,"reputation":1476,"user_id":4806903,"accept_rate":41,"display_name":"Sachin Sharma"},"score":0,"creation_date":1502359351,"post_id":45532532,"comment_id":78179434,"body_markdown":"I am using 1.5.4","body":"I am using 1.5.4"},{"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"score":0,"creation_date":1509459776,"post_id":45532532,"comment_id":81021855,"body_markdown":"Same happens to me in 1.5.7. DataSource is not picking up `spring.datasource.tomcat.*` properties. For me even spring.datasource.test-on-borrow=true is not working.","body":"Same happens to me in 1.5.7. DataSource is not picking up <code>spring.datasource.tomcat.*</code> properties. For me even spring.datasource.test-on-borrow=true is not working."},{"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"score":1,"creation_date":1509460660,"post_id":45532532,"comment_id":81022451,"body_markdown":"Logged a issue here : https://github.com/spring-projects/spring-boot/issues/10845","body":"Logged a issue here : <a href=\"https://github.com/spring-projects/spring-boot/issues/10845\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/10845</a>"}],"answers":[{"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1509463775,"creation_date":1509463775,"answer_id":47039051,"question_id":45532532,"body_markdown":"That documentation is about the auto-configuration and you&#39;re not using it. If you are writing custom code to setup the `DataSource`, you are in charge of the binding of the configuration as well.\r\n\r\nYour code above has a `@ConfigurationPropeties(&quot;spring.datasource&quot;)`. If you remove that, none of the `spring.datasource.*` properties would be taken into account in your own code.\r\n\r\n[This section of the doc](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources) explains the difference between basic properties (`spring.datasource`) and data source binding (`spring.datasource.xyz.*`).\r\n\r\nRegardless, if you are creating the `DataSource` yourself (why?) then use a separate namespace. Reusing the `spring.datasource` namespace is quite confusing as a user is expecting that the features the auto-configuration provides will be honoured. And they won&#39;t since you&#39;re writing your own config.","title":"Spring Boot doesn&#39;t pick spring.datasource.tomcat.* while programmatically configuring datasources?","body":"<p>That documentation is about the auto-configuration and you're not using it. If you are writing custom code to setup the <code>DataSource</code>, you are in charge of the binding of the configuration as well.</p>\n\n<p>Your code above has a <code>@ConfigurationPropeties(\"spring.datasource\")</code>. If you remove that, none of the <code>spring.datasource.*</code> properties would be taken into account in your own code.</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-two-datasources\" rel=\"nofollow noreferrer\">This section of the doc</a> explains the difference between basic properties (<code>spring.datasource</code>) and data source binding (<code>spring.datasource.xyz.*</code>).</p>\n\n<p>Regardless, if you are creating the <code>DataSource</code> yourself (why?) then use a separate namespace. Reusing the <code>spring.datasource</code> namespace is quite confusing as a user is expecting that the features the auto-configuration provides will be honoured. And they won't since you're writing your own config.</p>\n"},{"tags":[],"owner":{"account_id":10107873,"reputation":11,"user_id":7469855,"display_name":"Lee Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511857904,"creation_date":1511857904,"answer_id":47527083,"question_id":45532532,"body_markdown":"1. If you only have one datasource and auto-configuration, you only need to use  spring.datasource.* to config. tomcatcp will be selected as a default cp.\r\n\r\n2. In your case: configure two dataSources programmatically , please add the following annotation **spring.datasource.type** in your **application.properties** to tell it which connection pool you choose.  \r\n\r\n`\r\nspring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\r\nspring.read.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\r\n`\r\n\r\n","title":"Spring Boot doesn&#39;t pick spring.datasource.tomcat.* while programmatically configuring datasources?","body":"<ol>\n<li><p>If you only have one datasource and auto-configuration, you only need to use  spring.datasource.* to config. tomcatcp will be selected as a default cp.</p></li>\n<li><p>In your case: configure two dataSources programmatically , please add the following annotation <strong>spring.datasource.type</strong> in your <strong>application.properties</strong> to tell it which connection pool you choose.  </p></li>\n</ol>\n\n<p><code>\nspring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\nspring.read.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\n</code></p>\n"},{"tags":[],"owner":{"account_id":14299284,"reputation":17,"user_id":10328980,"display_name":"kalaivani v"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536301348,"creation_date":1536300255,"answer_id":52216222,"question_id":45532532,"body_markdown":"I have added  following two lines in my `application.properties`. \r\n\r\n    spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\r\n    spring.read.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\r\n\r\nIt is working...Thank you.\r\n","title":"Spring Boot doesn&#39;t pick spring.datasource.tomcat.* while programmatically configuring datasources?","body":"<p>I have added  following two lines in my <code>application.properties</code>. </p>\n\n<pre><code>spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\nspring.read.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\n</code></pre>\n\n<p>It is working...Thank you.</p>\n"},{"tags":[],"owner":{"account_id":1007051,"reputation":477,"user_id":1020512,"display_name":"Kambaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694610816,"creation_date":1694610816,"answer_id":77097406,"question_id":45532532,"body_markdown":"Problem i was encountering was similiar to yours. I was trying to set the datasource connections externally, and i wanted to utilize spring&#39;s autoconfiguration operations too. So what i learned was to use a  environmentpostprocessor to modify the properties and Spring to use the changed ones. \r\n\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.env.EnvironmentPostProcessor;\r\n    import org.springframework.core.env.ConfigurableEnvironment;\r\n    import org.springframework.core.env.MutablePropertySources;\r\n    import org.springframework.core.env.PropertiesPropertySource;\r\n    \r\n    import java.util.Properties;\r\n    import java.util.UUID;\r\n    \r\n    public class ExternalDataSourceEnvironmentPostProcessor implements EnvironmentPostProcessor {\r\n    \r\n        @Override\r\n        public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\r\n            // Get the MutablePropertySources\r\n            MutablePropertySources propertySources = environment.getPropertySources();\r\n    \r\n            // Remove existing properties\r\n            propertySources.remove(&quot;spring.datasource.url&quot;);\r\n            propertySources.remove(&quot;spring.datasource.username&quot;);\r\n            propertySources.remove(&quot;spring.datasource.password&quot;);\r\n    \r\n            // Generate random values for properties\r\n            String randomUrl = &quot;jdbc:mysql://&quot; + UUID.randomUUID().toString();\r\n            String randomUsername = &quot;user&quot; + UUID.randomUUID().toString();\r\n            String randomPassword = UUID.randomUUID().toString();\r\n    \r\n            // Add random properties\r\n            Properties randomProperties = new Properties();\r\n            randomProperties.setProperty(&quot;spring.datasource.url&quot;, randomUrl);\r\n            randomProperties.setProperty(&quot;spring.datasource.username&quot;, randomUsername);\r\n            randomProperties.setProperty(&quot;spring.datasource.password&quot;, randomPassword);\r\n    \r\n            propertySources.addLast(\r\n                new PropertiesPropertySource(&quot;external-datasource&quot;, randomProperties)\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nCheck this link out for more info.\r\n\r\nhttps://www.baeldung.com/spring-boot-environmentpostprocessor\r\n","title":"Spring Boot doesn&#39;t pick spring.datasource.tomcat.* while programmatically configuring datasources?","body":"<p>Problem i was encountering was similiar to yours. I was trying to set the datasource connections externally, and i wanted to utilize spring's autoconfiguration operations too. So what i learned was to use a  environmentpostprocessor to modify the properties and Spring to use the changed ones.</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.env.EnvironmentPostProcessor;\nimport org.springframework.core.env.ConfigurableEnvironment;\nimport org.springframework.core.env.MutablePropertySources;\nimport org.springframework.core.env.PropertiesPropertySource;\n\nimport java.util.Properties;\nimport java.util.UUID;\n\npublic class ExternalDataSourceEnvironmentPostProcessor implements EnvironmentPostProcessor {\n\n    @Override\n    public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\n        // Get the MutablePropertySources\n        MutablePropertySources propertySources = environment.getPropertySources();\n\n        // Remove existing properties\n        propertySources.remove(&quot;spring.datasource.url&quot;);\n        propertySources.remove(&quot;spring.datasource.username&quot;);\n        propertySources.remove(&quot;spring.datasource.password&quot;);\n\n        // Generate random values for properties\n        String randomUrl = &quot;jdbc:mysql://&quot; + UUID.randomUUID().toString();\n        String randomUsername = &quot;user&quot; + UUID.randomUUID().toString();\n        String randomPassword = UUID.randomUUID().toString();\n\n        // Add random properties\n        Properties randomProperties = new Properties();\n        randomProperties.setProperty(&quot;spring.datasource.url&quot;, randomUrl);\n        randomProperties.setProperty(&quot;spring.datasource.username&quot;, randomUsername);\n        randomProperties.setProperty(&quot;spring.datasource.password&quot;, randomPassword);\n\n        propertySources.addLast(\n            new PropertiesPropertySource(&quot;external-datasource&quot;, randomProperties)\n        );\n    }\n}\n</code></pre>\n<p>Check this link out for more info.</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-environmentpostprocessor\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-environmentpostprocessor</a></p>\n"}],"owner":{"account_id":6167520,"reputation":1476,"user_id":4806903,"accept_rate":41,"display_name":"Sachin Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5948,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47039051,"answer_count":4,"score":3,"last_activity_date":1694610816,"creation_date":1502026417,"question_id":45532532,"body_markdown":"I am configuring two data sources, and trying to set pooling properties and as per docs I should use spring.datasource.tomcat.*, that doesn&#39;t seem to work with the configuration that I am doing. What am I doing wrong? or what am I missing?\r\n\r\nMy application.properties :\r\n\r\n    spring.datasource.tomcat.test-on-borrow=true\r\n    spring.datasource.tomcat.validationQuery=SELECT 1 \r\n    spring.datasource.url=jdbc:mysql://localhost:3306/mydb\r\n    spring.datasource.username\r\n    spring.datasource.password\r\n\r\n    spring.read.datasource.tomcat.test-on-borrow=true\r\n    spring.read.datasource.tomcat.validationQuery=SELECT 1 \r\n    spring.read.datasource.url=jdbc:mysql://localhost:3306/mydb\r\n    spring.read.datasource.username\r\n    spring.read.datasource.password\r\n\r\nBelow is my configuration class : \r\nI have a similar one for read data source (for different repo/entities)\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\r\n    transactionManagerRef = &quot;transactionManager&quot;,\r\n    basePackages = &quot;com.test.feature.repo.internal&quot;)\r\n    public class DataSourceConfig {\r\n    \r\n    \t@Primary\r\n    \t@Bean(&quot;dataSource&quot;)\r\n    \t@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    \tpublic DataSource dataSource(){\r\n    \t\treturn DataSourceBuilder.create().build();\r\n    \t}\r\n    \t\r\n    \t@Primary\r\n    \t@Bean(name=&quot;entityManagerFactory&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder, \r\n    \t\t\t@Qualifier(&quot;dataSource&quot;)DataSource dataSource){\r\n    \t\treturn builder.dataSource(dataSource).packages(&quot;com.test.feature.entity.internal&quot;).persistenceUnit(&quot;defaultPersistenceUnit&quot;).build();\r\n    \t}\r\n    \t\r\n    \t@Primary\r\n    \t@Bean(name=&quot;transactionManager&quot;)\r\n    \tpublic PlatformTransactionManager transactionManager(@Qualifier(&quot;entityManagerFactory&quot;) EntityManagerFactory entityManagerFactory){\r\n    \t\treturn new JpaTransactionManager(entityManagerFactory);\r\n    \t}\r\n    }\r\n\r\nIf I try to use spring.datasource.test-on-borrow=true, then this works.\r\n\r\nI really want to know why the .tomcat.* style doesn&#39;t work? And what I can I do to make that work?\r\n\r\nEven if someone redirects me to some helpful reading material for understanding this, I will be glad. :)","title":"Spring Boot doesn&#39;t pick spring.datasource.tomcat.* while programmatically configuring datasources?","body":"<p>I am configuring two data sources, and trying to set pooling properties and as per docs I should use spring.datasource.tomcat.*, that doesn't seem to work with the configuration that I am doing. What am I doing wrong? or what am I missing?</p>\n\n<p>My application.properties :</p>\n\n<pre><code>spring.datasource.tomcat.test-on-borrow=true\nspring.datasource.tomcat.validationQuery=SELECT 1 \nspring.datasource.url=jdbc:mysql://localhost:3306/mydb\nspring.datasource.username\nspring.datasource.password\n\nspring.read.datasource.tomcat.test-on-borrow=true\nspring.read.datasource.tomcat.validationQuery=SELECT 1 \nspring.read.datasource.url=jdbc:mysql://localhost:3306/mydb\nspring.read.datasource.username\nspring.read.datasource.password\n</code></pre>\n\n<p>Below is my configuration class : \nI have a similar one for read data source (for different repo/entities)</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(entityManagerFactoryRef = \"entityManagerFactory\",\ntransactionManagerRef = \"transactionManager\",\nbasePackages = \"com.test.feature.repo.internal\")\npublic class DataSourceConfig {\n\n    @Primary\n    @Bean(\"dataSource\")\n    @ConfigurationProperties(prefix = \"spring.datasource\")\n    public DataSource dataSource(){\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Bean(name=\"entityManagerFactory\")\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder, \n            @Qualifier(\"dataSource\")DataSource dataSource){\n        return builder.dataSource(dataSource).packages(\"com.test.feature.entity.internal\").persistenceUnit(\"defaultPersistenceUnit\").build();\n    }\n\n    @Primary\n    @Bean(name=\"transactionManager\")\n    public PlatformTransactionManager transactionManager(@Qualifier(\"entityManagerFactory\") EntityManagerFactory entityManagerFactory){\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n}\n</code></pre>\n\n<p>If I try to use spring.datasource.test-on-borrow=true, then this works.</p>\n\n<p>I really want to know why the .tomcat.* style doesn't work? And what I can I do to make that work?</p>\n\n<p>Even if someone redirects me to some helpful reading material for understanding this, I will be glad. :)</p>\n"},{"tags":["java","spring-batch","teradata"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694610785,"creation_date":1694610785,"answer_id":77097403,"question_id":77096040,"body_markdown":"Teradata is not officially supported in Spring Batch. Since you have defined a teradata datasource, you can omit setting the `DatabaseType` on the `JobRepositoryFactoryBean`, which will try to auto-detect the type from the datasource&#39;s metadata.\r\n\r\nPlease refer to [Non-standard Database Types in a Repository](https://docs.spring.io/spring-batch/docs/current/reference/html/job.html#nonStandardDatabaseTypesInRepository) for more details.","title":"SpringBatch Teradata DatabaseType support","body":"<p>Teradata is not officially supported in Spring Batch. Since you have defined a teradata datasource, you can omit setting the <code>DatabaseType</code> on the <code>JobRepositoryFactoryBean</code>, which will try to auto-detect the type from the datasource's metadata.</p>\n<p>Please refer to <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/job.html#nonStandardDatabaseTypesInRepository\" rel=\"nofollow noreferrer\">Non-standard Database Types in a Repository</a> for more details.</p>\n"}],"owner":{"account_id":5374358,"reputation":503,"user_id":4281815,"display_name":"Yaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694610785,"creation_date":1694599216,"question_id":77096040,"body_markdown":"I&#39;m using SpringBatch 5 with Teradata db , I tried to create a job repository to add a datasource but i get an exception about org.springframework.batch.support.DatabaseType : \r\n\r\n    Failed to instantiate [org.springframework.batch.core.repository.JobRepository]: Factory method &#39;jobRepository&#39; threw exception with message: No enum constant org.springframework.batch.support.DatabaseType.TERADATA\r\n\r\nthe JobRepository : \r\n\r\n     @Bean\r\n    public JobRepository jobRepository(@Qualifier(&quot;dataSource&quot;) DataSource dataSource,\r\n                                       PlatformTransactionManager transactionManager) throws Exception {\r\n        JobRepositoryFactoryBean jobRepositoryFactoryBean = new JobRepositoryFactoryBean();\r\n        jobRepositoryFactoryBean.setDataSource(dataSource);\r\n        jobRepositoryFactoryBean.setTransactionManager(transactionManager);\r\n        jobRepositoryFactoryBean.setIsolationLevelForCreate(&quot;ISOLATION_SERIALIZABLE&quot;);\r\n        jobRepositoryFactoryBean.setDatabaseType(&quot;TERADATA&quot;);\r\n        jobRepositoryFactoryBean.setIncrementerFactory(new DefaultDataFieldMaxValueIncrementerFactory(dataSource));\r\n        return jobRepositoryFactoryBean.getObject();\r\n    }\r\n\r\n\r\nAny help would be appreciated!","title":"SpringBatch Teradata DatabaseType support","body":"<p>I'm using SpringBatch 5 with Teradata db , I tried to create a job repository to add a datasource but i get an exception about org.springframework.batch.support.DatabaseType :</p>\n<pre><code>Failed to instantiate [org.springframework.batch.core.repository.JobRepository]: Factory method 'jobRepository' threw exception with message: No enum constant org.springframework.batch.support.DatabaseType.TERADATA\n</code></pre>\n<p>the JobRepository :</p>\n<pre><code> @Bean\npublic JobRepository jobRepository(@Qualifier(&quot;dataSource&quot;) DataSource dataSource,\n                                   PlatformTransactionManager transactionManager) throws Exception {\n    JobRepositoryFactoryBean jobRepositoryFactoryBean = new JobRepositoryFactoryBean();\n    jobRepositoryFactoryBean.setDataSource(dataSource);\n    jobRepositoryFactoryBean.setTransactionManager(transactionManager);\n    jobRepositoryFactoryBean.setIsolationLevelForCreate(&quot;ISOLATION_SERIALIZABLE&quot;);\n    jobRepositoryFactoryBean.setDatabaseType(&quot;TERADATA&quot;);\n    jobRepositoryFactoryBean.setIncrementerFactory(new DefaultDataFieldMaxValueIncrementerFactory(dataSource));\n    return jobRepositoryFactoryBean.getObject();\n}\n</code></pre>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","spring-boot","docker","testing","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":4103600,"reputation":1440,"user_id":3368395,"display_name":"provisota"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694610699,"creation_date":1694610699,"answer_id":77097392,"question_id":75793131,"body_markdown":"If it is still relevant for you, I faced the same issue.\r\nMy `application-test.yml`:\r\n```\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: validate\r\n  datasource:\r\n    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver\r\n    url: jdbc:tc:postgresql:9.6.8://hostname/pc_db?TC_DAEMON=true\r\n```\r\nand my console output during the test run:\r\n&gt; Database: jdbc:postgresql://localhost:52957/pc_db (PostgreSQL 9.6)\r\n\r\nfinally I was able to connect the test DB with these properties:\r\n* URL: `jdbc:postgresql://localhost:52957/pc_db`\r\n* User: `test`\r\n* Password: `test`\r\n\r\n&#128578;\r\n\r\n**Note** that the DB port is generated randomly on each test run!\r\nAnd each time you should take it from the test logs!\r\n","title":"Connect database in Testcontainer during debugging?","body":"<p>If it is still relevant for you, I faced the same issue.\nMy <code>application-test.yml</code>:</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: validate\n  datasource:\n    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver\n    url: jdbc:tc:postgresql:9.6.8://hostname/pc_db?TC_DAEMON=true\n</code></pre>\n<p>and my console output during the test run:</p>\n<blockquote>\n<p>Database: jdbc:postgresql://localhost:52957/pc_db (PostgreSQL 9.6)</p>\n</blockquote>\n<p>finally I was able to connect the test DB with these properties:</p>\n<ul>\n<li>URL: <code>jdbc:postgresql://localhost:52957/pc_db</code></li>\n<li>User: <code>test</code></li>\n<li>Password: <code>test</code></li>\n</ul>\n<p>ð</p>\n<p><strong>Note</strong> that the DB port is generated randomly on each test run!\nAnd each time you should take it from the test logs!</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694610699,"creation_date":1679331128,"question_id":75793131,"body_markdown":"I am using test container for my Integration Test in a Spring Boot app and trying to connect database in the composed Docker container.\r\n\r\nHowever, I cannot connect even using the given url and credentials in my properties file:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver\r\n    url: jdbc:tc:postgresql:14.6-alpine:///employees_db\r\n    username: sa\r\n    password: 123456\r\n```\r\n\r\nOn the other hand, when I debug the test, there is completely a different url on the console with a different database name.\r\n\r\n```\r\nDatabase: jdbc:postgresql://localhost:64880/test (PostgreSQL 14.6)\r\n```\r\n\r\n\r\n\r\nI tried to connect using both of them via Host and Url connection of DBeaver, but get error (&quot;authentication failed or connection refused errors). \r\n\r\nSo, how can I connect this database during debugging a test method (pausing with breakpoint). ","title":"Connect database in Testcontainer during debugging?","body":"<p>I am using test container for my Integration Test in a Spring Boot app and trying to connect database in the composed Docker container.</p>\n<p>However, I cannot connect even using the given url and credentials in my properties file:</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver\n    url: jdbc:tc:postgresql:14.6-alpine:///employees_db\n    username: sa\n    password: 123456\n</code></pre>\n<p>On the other hand, when I debug the test, there is completely a different url on the console with a different database name.</p>\n<pre><code>Database: jdbc:postgresql://localhost:64880/test (PostgreSQL 14.6)\n</code></pre>\n<p>I tried to connect using both of them via Host and Url connection of DBeaver, but get error (&quot;authentication failed or connection refused errors).</p>\n<p>So, how can I connect this database during debugging a test method (pausing with breakpoint).</p>\n"},{"tags":["java","wordpress","spring"],"comments":[{"owner":{"account_id":439419,"reputation":1159,"user_id":828346,"display_name":"StathisG"},"score":1,"creation_date":1407227811,"post_id":25132609,"comment_id":39122229,"body_markdown":"Have a look [here](http://wordpress.stackexchange.com/questions/53503/can-i-programmatically-login-a-user-without-a-password) and [here](https://iandunn.name/programmatically-sign-on-a-wordpress-user/), it might give you some ideas to get you started.","body":"Have a look <a href=\"http://wordpress.stackexchange.com/questions/53503/can-i-programmatically-login-a-user-without-a-password\">here</a> and <a href=\"https://iandunn.name/programmatically-sign-on-a-wordpress-user/\" rel=\"nofollow noreferrer\">here</a>, it might give you some ideas to get you started."}],"owner":{"account_id":2438417,"reputation":979,"user_id":2127662,"accept_rate":57,"display_name":"littlejedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1182,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1694610617,"creation_date":1407220878,"question_id":25132609,"body_markdown":"We have a Java / Spring based web app and would like to use WordPress as our blogging part of the web site. The main issue is probably user authentication, and we would like the Java web app to be the master login control.\r\n\r\nRight now I&#39;ve looked around and it looks like WP is using cookies to check if the user has logged in or not. It is theoretically possible to write some additional code in local WP&#39;s Core to have some kind of REST API and Java can call it to login to WP but I&#39;ve never done it before and haven&#39;t seen any good examples.\r\n\r\nAny suggestions?","title":"Integrate WordPress login in a Java based app","body":"<p>We have a Java / Spring based web app and would like to use WordPress as our blogging part of the web site. The main issue is probably user authentication, and we would like the Java web app to be the master login control.</p>\n<p>Right now I've looked around and it looks like WP is using cookies to check if the user has logged in or not. It is theoretically possible to write some additional code in local WP's Core to have some kind of REST API and Java can call it to login to WP but I've never done it before and haven't seen any good examples.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","ssh","connection"],"comments":[{"owner":{"account_id":5789010,"reputation":3745,"user_id":4567218,"display_name":"Leonid Dashko"},"score":0,"creation_date":1576080425,"post_id":3071760,"comment_id":104784507,"body_markdown":"Maybe my solution would be useful - stackoverflow.com/a/59289769/4567218","body":"Maybe my solution would be useful - stackoverflow.com/a/59289769/4567218"}],"answers":[{"tags":[],"owner":{"account_id":118337,"reputation":170822,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1276881702,"creation_date":1276881702,"answer_id":3071790,"question_id":3071760,"body_markdown":"Java doesn&#39;t support that natively, but you can use a library like [JSch](http://www.jcraft.com/jsch/) to do it","title":"SSH connection with Java","body":"<p>Java doesn't support that natively, but you can use a library like <a href=\"http://www.jcraft.com/jsch/\" rel=\"noreferrer\">JSch</a> to do it</p>\n"},{"tags":[],"owner":{"account_id":21873,"reputation":25813,"user_id":53495,"display_name":"Brian Clapper"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1276881706,"creation_date":1276881706,"answer_id":3071791,"question_id":3071760,"body_markdown":"Take a look at [Jaramiko][1].\r\n\r\n\r\n  [1]: http://www.lag.net/jaramiko/","title":"SSH connection with Java","body":"<p>Take a look at <a href=\"http://www.lag.net/jaramiko/\" rel=\"nofollow noreferrer\">Jaramiko</a>.</p>\n"},{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276881745,"creation_date":1276881745,"answer_id":3071793,"question_id":3071760,"body_markdown":"You must use a third-party library - [JSch][1] is one of them. Google with &quot;`Java ssh`&quot; and you will get plenty of other options.\r\n\r\n\r\n  [1]: http://www.jcraft.com/jsch/","title":"SSH connection with Java","body":"<p>You must use a third-party library - <a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow noreferrer\">JSch</a> is one of them. Google with \"<code>Java ssh</code>\" and you will get plenty of other options.</p>\n"},{"tags":[],"owner":{"account_id":38309,"reputation":19501,"user_id":109880,"accept_rate":76,"display_name":"Fortega"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280077612,"creation_date":1276881760,"answer_id":3071794,"question_id":3071760,"body_markdown":"You could check [JSSH][1], which is a Java SSH library.\r\n\r\n  [1]: http://www.pitman.co.za/projects/jssh/\r\n","title":"SSH connection with Java","body":"<p>You could check <a href=\"http://www.pitman.co.za/projects/jssh/\" rel=\"nofollow noreferrer\">JSSH</a>, which is a Java SSH library.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276882455,"creation_date":1276882455,"answer_id":3071867,"question_id":3071760,"body_markdown":"http://www.ganymed.ethz.ch/ssh2/ implements a ssh2 client in Java.  I use it for port forwarding.","title":"SSH connection with Java","body":"<p><a href=\"http://www.ganymed.ethz.ch/ssh2/\" rel=\"nofollow noreferrer\">http://www.ganymed.ethz.ch/ssh2/</a> implements a ssh2 client in Java.  I use it for port forwarding.</p>\n"},{"tags":[],"owner":{"account_id":371837,"reputation":2017,"user_id":720587,"accept_rate":62,"display_name":"World"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1527725876,"creation_date":1327585883,"answer_id":9019095,"question_id":3071760,"body_markdown":"Use [JSch][1]\r\n\r\n\r\n\r\n    import com.jcraft.jsch.*;\r\n\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.Scanner;\r\n    \r\n    /**\r\n     * @author World\r\n     */\r\n    public class SSHReadFile {\r\n    \r\n        public static void main(String args[]) {\r\n            String user = &quot;john&quot;;\r\n            String password = &quot;mypassword&quot;;\r\n            String host = &quot;192.168.100.23&quot;;\r\n            int port = 22;\r\n            String remoteFile = &quot;/home/john/test.txt&quot;;\r\n    \r\n            try {\r\n                JSch jsch = new JSch();\r\n                Session session = jsch.getSession(user, host, port);\r\n                session.setPassword(password);\r\n                session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                System.out.println(&quot;Establishing Connection...&quot;);\r\n                session.connect();\r\n                System.out.println(&quot;Connection established.&quot;);\r\n                System.out.println(&quot;Crating SFTP Channel.&quot;);\r\n                ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n                sftpChannel.connect();\r\n                System.out.println(&quot;SFTP Channel created.&quot;);\r\n    \r\n                InputStream inputStream = sftpChannel.get(remoteFile);\r\n    \r\n                try (Scanner scanner = new Scanner(new InputStreamReader(inputStream))) {\r\n                    while (scanner.hasNextLine()) {\r\n                        String line = scanner.nextLine();\r\n                        System.out.println(line);\r\n                    }\r\n                }\r\n            } catch (JSchException | SftpException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n**output:**\r\n\r\n    Establishing Connection...\r\n    Connection established.\r\n    Crating SFTP Channel.\r\n    SFTP Channel created.\r\n    This is content from file /home/john/test.txt\r\n\r\n\r\n  [1]: http://www.jcraft.com/jsch/","title":"SSH connection with Java","body":"<p>Use <a href=\"http://www.jcraft.com/jsch/\" rel=\"noreferrer\">JSch</a></p>\n\n<pre><code>import com.jcraft.jsch.*;\n\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.Scanner;\n\n/**\n * @author World\n */\npublic class SSHReadFile {\n\n    public static void main(String args[]) {\n        String user = \"john\";\n        String password = \"mypassword\";\n        String host = \"192.168.100.23\";\n        int port = 22;\n        String remoteFile = \"/home/john/test.txt\";\n\n        try {\n            JSch jsch = new JSch();\n            Session session = jsch.getSession(user, host, port);\n            session.setPassword(password);\n            session.setConfig(\"StrictHostKeyChecking\", \"no\");\n            System.out.println(\"Establishing Connection...\");\n            session.connect();\n            System.out.println(\"Connection established.\");\n            System.out.println(\"Crating SFTP Channel.\");\n            ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(\"sftp\");\n            sftpChannel.connect();\n            System.out.println(\"SFTP Channel created.\");\n\n            InputStream inputStream = sftpChannel.get(remoteFile);\n\n            try (Scanner scanner = new Scanner(new InputStreamReader(inputStream))) {\n                while (scanner.hasNextLine()) {\n                    String line = scanner.nextLine();\n                    System.out.println(line);\n                }\n            }\n        } catch (JSchException | SftpException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>Establishing Connection...\nConnection established.\nCrating SFTP Channel.\nSFTP Channel created.\nThis is content from file /home/john/test.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6777558,"reputation":5,"user_id":5218908,"display_name":"Zyad"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1694610472,"creation_date":1479320595,"answer_id":40639499,"question_id":3071760,"body_markdown":"I used this and worked for me \r\n\r\n    ChannelExec channel=(ChannelExec)session.openChannel(&quot;exec&quot;);\r\n    String command = &quot;Your Command here&quot;;\r\n    channel.setCommand(command);\r\n    \r\n    InputStream in=channel.getInputStream();\r\n    channel.setErrStream(System.err);\r\n    channel.connect();","title":"SSH connection with Java","body":"<p>I used this and worked for me</p>\n<pre><code>ChannelExec channel=(ChannelExec)session.openChannel(&quot;exec&quot;);\nString command = &quot;Your Command here&quot;;\nchannel.setCommand(command);\n\nInputStream in=channel.getInputStream();\nchannel.setErrStream(System.err);\nchannel.connect();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4842987,"reputation":51,"user_id":3907529,"display_name":"Taurean Wooley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565815111,"creation_date":1565815111,"answer_id":57501742,"question_id":3071760,"body_markdown":"Not 100% sure but I believe that the sockets have a great deal to do with ssh connections unless you are attempting to do a pre-installed command manipulation application. There are numerous outside packages that you can use to achieve this goal, but if you want to do your own socket creation, it&#39;s going to take a large amount of reading and deciphering/encrypting to get this done. \r\n\r\nAlso creating your own socket is dangerous if not done correctly with the right protocols and security specifications, so be wary about doing so until you are 100% sure you&#39;re capable of committing to learning enough.","title":"SSH connection with Java","body":"<p>Not 100% sure but I believe that the sockets have a great deal to do with ssh connections unless you are attempting to do a pre-installed command manipulation application. There are numerous outside packages that you can use to achieve this goal, but if you want to do your own socket creation, it's going to take a large amount of reading and deciphering/encrypting to get this done. </p>\n\n<p>Also creating your own socket is dangerous if not done correctly with the right protocols and security specifications, so be wary about doing so until you are 100% sure you're capable of committing to learning enough.</p>\n"}],"owner":{"account_id":141191,"reputation":361,"user_id":348041,"display_name":"user348041"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107359,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"answer_count":8,"score":36,"last_activity_date":1694610472,"creation_date":1276881438,"question_id":3071760,"body_markdown":"How can I connect to an SSH server in Java? I don&#39;t need/want a shell. I just want to connect to the SSH server and get the content of, say, `file.txt`. How can I do that?\r\n","title":"SSH connection with Java","body":"<p>How can I connect to an SSH server in Java? I don't need/want a shell. I just want to connect to the SSH server and get the content of, say, <code>file.txt</code>. How can I do that?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":166689,"reputation":35595,"user_id":390989,"display_name":"eldarerathis"},"score":0,"creation_date":1287278326,"post_id":3951547,"comment_id":4221245,"body_markdown":"What is &quot;doesn&#39;t work&quot; exactly? As in, what is happening vs. what do you expect to happen?","body":"What is &quot;doesn&#39;t work&quot; exactly? As in, what is happening vs. what do you expect to happen?"},{"owner":{"account_id":208458,"reputation":31541,"user_id":458960,"accept_rate":84,"display_name":"Snowman"},"score":0,"creation_date":1287278341,"post_id":3951547,"comment_id":4221246,"body_markdown":"duplicates has the wrong value","body":"duplicates has the wrong value"},{"owner":{"display_name":"user166390"},"score":1,"creation_date":1287278370,"post_id":3951547,"comment_id":4221248,"body_markdown":"possible duplicate of [Java: Detect duplicates in ArrayList?](http://stackoverflow.com/questions/562894/java-detect-duplicates-in-arraylist) -- It&#39;s not entirely the same but... note the use of a Set/intermediate &quot;store&quot; vs. a nested loop. In your case, `zipcodeList[k] == zipcodeList[j]` for every `k == j`.","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/562894/java-detect-duplicates-in-arraylist\">Java: Detect duplicates in ArrayList?</a> -- It&#39;s not entirely the same but... note the use of a Set/intermediate &quot;store&quot; vs. a nested loop. In your case, <code>zipcodeList[k] == zipcodeList[j]</code> for every <code>k == j</code>."},{"owner":{"account_id":70088,"reputation":12426,"user_id":203600,"accept_rate":100,"display_name":"Jonathon Faust"},"score":1,"creation_date":1287278409,"post_id":3951547,"comment_id":4221252,"body_markdown":"He&#39;s expecting `duplicates` to be false, but every time there are more than 0 elements in the array, the loop will set `duplicates` to true.","body":"He&#39;s expecting <code>duplicates</code> to be false, but every time there are more than 0 elements in the array, the loop will set <code>duplicates</code> to true."},{"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"score":0,"creation_date":1287280207,"post_id":3951547,"comment_id":4221375,"body_markdown":"Suggest edit your question to state `int[] zipcodelist =...` so it&#39;s clear you&#39;re using an array of primitives.","body":"Suggest edit your question to state <code>int[] zipcodelist =...</code> so it&#39;s clear you&#39;re using an array of primitives."},{"owner":{"account_id":400676,"reputation":463,"user_id":766778,"accept_rate":78,"display_name":"Dhawan Gayash"},"score":4,"creation_date":1362611687,"post_id":3951547,"comment_id":21523922,"body_markdown":"I think this the 2nd for loop needs an additional condition where j!=k","body":"I think this the 2nd for loop needs an additional condition where j!=k"}],"answers":[{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1287278705,"creation_date":1287278359,"answer_id":3951552,"question_id":3951547,"body_markdown":"To check for duplicates you need to compare **distinct** pairs.\r\n\r\n\r\n","title":"Java Array, Finding Duplicates","body":"<p>To check for duplicates you need to compare <strong>distinct</strong> pairs.</p>\n"},{"tags":[],"owner":{"account_id":39861,"reputation":6818,"user_id":115193,"accept_rate":71,"display_name":"james_bond"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287278434,"creation_date":1287278434,"answer_id":3951557,"question_id":3951547,"body_markdown":"Cause you are comparing the first element of the array against itself so It finds that there are duplicates even where there aren&#39;t.","title":"Java Array, Finding Duplicates","body":"<p>Cause you are comparing the first element of the array against itself so It finds that there are duplicates even where there aren't.</p>\n"},{"tags":[],"owner":{"account_id":118410,"reputation":62909,"user_id":309412,"accept_rate":74,"display_name":"Lie Ryan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1287278805,"creation_date":1287278449,"answer_id":3951559,"question_id":3951547,"body_markdown":"Let&#39;s see how your algorithm works:\r\n\r\n    an array of unique values:\r\n\r\n    [1, 2, 3]\r\n\r\n    check 1 == 1. yes, there is duplicate, assigning duplicate to true.\r\n    check 1 == 2. no, doing nothing.\r\n    check 1 == 3. no, doing nothing.\r\n    check 2 == 1. no, doing nothing.\r\n    check 2 == 2. yes, there is duplicate, assigning duplicate to true.\r\n    check 2 == 3. no, doing nothing.\r\n    check 3 == 1. no, doing nothing.\r\n    check 3 == 2. no, doing nothing.\r\n    check 3 == 3. yes, there is duplicate, assigning duplicate to true.\r\n\r\na better algorithm:\r\n\r\n    for (j=0;j&lt;zipcodeList.length;j++) {\r\n        for (k=j+1;k&lt;zipcodeList.length;k++) {\r\n            if (zipcodeList[k]==zipcodeList[j]){ // or use .equals()\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return false;","title":"Java Array, Finding Duplicates","body":"<p>Let's see how your algorithm works:</p>\n\n<pre><code>an array of unique values:\n\n[1, 2, 3]\n\ncheck 1 == 1. yes, there is duplicate, assigning duplicate to true.\ncheck 1 == 2. no, doing nothing.\ncheck 1 == 3. no, doing nothing.\ncheck 2 == 1. no, doing nothing.\ncheck 2 == 2. yes, there is duplicate, assigning duplicate to true.\ncheck 2 == 3. no, doing nothing.\ncheck 3 == 1. no, doing nothing.\ncheck 3 == 2. no, doing nothing.\ncheck 3 == 3. yes, there is duplicate, assigning duplicate to true.\n</code></pre>\n\n<p>a better algorithm:</p>\n\n<pre><code>for (j=0;j&lt;zipcodeList.length;j++) {\n    for (k=j+1;k&lt;zipcodeList.length;k++) {\n        if (zipcodeList[k]==zipcodeList[j]){ // or use .equals()\n            return true;\n        }\n    }\n}\nreturn false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1287278482,"creation_date":1287278482,"answer_id":3951561,"question_id":3951547,"body_markdown":"Don&#39;t use `==` use `.equals`.\r\n\r\ntry this instead (IIRC, ZipCode needs to implement `Comparable` for this to work.\r\n\r\n    boolean unique;\r\n    Set&lt;ZipCode&gt; s = new TreeSet&lt;ZipCode&gt;();\r\n    for( ZipCode zc : zipcodelist )\r\n        unique||=s.add(zc);\r\n    duplicates = !unique;","title":"Java Array, Finding Duplicates","body":"<p>Don't use <code>==</code> use <code>.equals</code>.</p>\n\n<p>try this instead (IIRC, ZipCode needs to implement <code>Comparable</code> for this to work.</p>\n\n<pre><code>boolean unique;\nSet&lt;ZipCode&gt; s = new TreeSet&lt;ZipCode&gt;();\nfor( ZipCode zc : zipcodelist )\n    unique||=s.add(zc);\nduplicates = !unique;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"down_vote_count":1,"up_vote_count":163,"is_accepted":true,"score":162,"last_activity_date":1382722331,"creation_date":1287278532,"answer_id":3951563,"question_id":3951547,"body_markdown":"On the nose answer..\r\n--------------------\r\n\r\n    duplicates=false;\r\n    for (j=0;j&lt;zipcodeList.length;j++)\r\n      for (k=j+1;k&lt;zipcodeList.length;k++)\r\n        if (k!=j &amp;&amp; zipcodeList[k] == zipcodeList[j])\r\n          duplicates=true;\r\n\r\nEdited to switch `.equals()` back to `==` since I read somewhere you&#39;re using `int`, which wasn&#39;t clear in the initial question.  Also to set `k=j+1`, to halve execution time, but it&#39;s still O(n&lt;sup&gt;2&lt;/sup&gt;).\r\n\r\nA faster (in the limit) way\r\n---------------------------\r\n\r\nHere&#39;s a hash based approach.  You gotta pay for the autoboxing, but it&#39;s O(n) instead of O(n&lt;sup&gt;2&lt;/sup&gt;).  An enterprising soul would go find a primitive int-based hash set (Apache or Google Collections has such a thing, methinks.)\r\n\r\n    boolean duplicates(final int[] zipcodelist)\r\n    {\r\n      Set&lt;Integer&gt; lump = new HashSet&lt;Integer&gt;();\r\n      for (int i : zipcodelist)\r\n      {\r\n        if (lump.contains(i)) return true;\r\n        lump.add(i);\r\n      }\r\n      return false;\r\n    }\r\n\r\n\r\nBow to HuyLe\r\n------------\r\nSee [HuyLe&#39;s answer][1] for a more or less O(n) solution, which I think needs a couple of add&#39;l steps:\r\n\r\n    static boolean duplicates(final int[] zipcodelist)\r\n    {\r\n       final int MAXZIP = 99999;\r\n       boolean[] bitmap = new boolean[MAXZIP+1];\r\n       java.util.Arrays.fill(bitmap, false);\r\n       for (int item : zipcodeList)\r\n         if (!bitmap[item]) bitmap[item] = true;\r\n         else return true;\r\n       }\r\n       return false;\r\n    }\r\n\r\nOr Just to be Compact\r\n------------\r\n\r\n    static boolean duplicates(final int[] zipcodelist)\r\n    {\r\n       final int MAXZIP = 99999;\r\n       boolean[] bitmap = new boolean[MAXZIP+1];  // Java guarantees init to false\r\n       for (int item : zipcodeList)\r\n         if (!(bitmap[item] ^= true)) return true;\r\n       return false;\r\n    }\r\n\r\n\r\nDoes it Matter?\r\n--------------\r\n\r\nWell, so I ran a little benchmark, which is iffy all over the place, but here&#39;s the code:\r\n\r\n    import java.util.BitSet;\r\n    \r\n    class Yuk\r\n    {\r\n      static boolean duplicatesZero(final int[] zipcodelist)\r\n      {\r\n        boolean duplicates=false;\r\n        for (int j=0;j&lt;zipcodelist.length;j++)\r\n          for (int k=j+1;k&lt;zipcodelist.length;k++)\r\n            if (k!=j &amp;&amp; zipcodelist[k] == zipcodelist[j])\r\n              duplicates=true;\r\n    \r\n        return duplicates;\r\n      }\r\n    \r\n      \r\n      static boolean duplicatesOne(final int[] zipcodelist)\r\n      {\r\n        final int MAXZIP = 99999;\r\n        boolean[] bitmap = new boolean[MAXZIP + 1];\r\n        java.util.Arrays.fill(bitmap, false);\r\n        for (int item : zipcodelist) {\r\n          if (!(bitmap[item] ^= true))\r\n            return true;\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      static boolean duplicatesTwo(final int[] zipcodelist)\r\n      {\r\n        final int MAXZIP = 99999;\r\n    \r\n        BitSet b = new BitSet(MAXZIP + 1);\r\n        b.set(0, MAXZIP, false);\r\n        for (int item : zipcodelist) {\r\n          if (!b.get(item)) {\r\n            b.set(item, true);\r\n          } else\r\n            return true;\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      enum ApproachT { NSQUARED, HASHSET, BITSET};\r\n    \r\n      /**\r\n       * @param args\r\n       */\r\n      public static void main(String[] args)\r\n      {\r\n        ApproachT approach = ApproachT.BITSET;\r\n        \r\n        final int REPS = 100;\r\n        final int MAXZIP = 99999;\r\n    \r\n        int[] sizes = new int[] { 10, 1000, 10000, 100000, 1000000 };\r\n        long[][] times = new long[sizes.length][REPS];\r\n        \r\n        boolean tossme = false;\r\n        \r\n        for (int sizei = 0; sizei &lt; sizes.length; sizei++) {\r\n          System.err.println(&quot;Trial for zipcodelist size= &quot;+sizes[sizei]);\r\n          for (int rep = 0; rep &lt; REPS; rep++) {\r\n            int[] zipcodelist = new int[sizes[sizei]];\r\n            for (int i = 0; i &lt; zipcodelist.length; i++) {\r\n              zipcodelist[i] = (int) (Math.random() * (MAXZIP + 1));\r\n            }\r\n            long begin = System.currentTimeMillis();\r\n            switch (approach) {\r\n            case NSQUARED :\r\n              tossme ^= (duplicatesZero(zipcodelist));\r\n              break;\r\n            case HASHSET :\r\n              tossme ^= (duplicatesOne(zipcodelist));\r\n              break;\r\n            case BITSET :\r\n              tossme ^= (duplicatesTwo(zipcodelist));\r\n              break;\r\n            \r\n            }\r\n            long end = System.currentTimeMillis();\r\n            times[sizei][rep] = end - begin;\r\n            \r\n    \r\n          }\r\n          long avg = 0;\r\n          for (int rep = 0; rep &lt; REPS; rep++) {\r\n            avg += times[sizei][rep];\r\n          }\r\n          System.err.println(&quot;Size=&quot; + sizes[sizei] + &quot;, avg time = &quot;\r\n                + avg / (double)REPS + &quot;ms&quot;);\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\nWith NSQUARED:\r\n\r\n    Trial for size= 10\r\n    Size=10, avg time = 0.0ms\r\n    Trial for size= 1000\r\n    Size=1000, avg time = 0.0ms\r\n    Trial for size= 10000\r\n    Size=10000, avg time = 100.0ms\r\n    Trial for size= 100000\r\n    Size=100000, avg time = 9923.3ms\r\n\r\nWith HashSet\r\n\r\n    Trial for zipcodelist size= 10\r\n    Size=10, avg time = 0.16ms\r\n    Trial for zipcodelist size= 1000\r\n    Size=1000, avg time = 0.15ms\r\n    Trial for zipcodelist size= 10000\r\n    Size=10000, avg time = 0.0ms\r\n    Trial for zipcodelist size= 100000\r\n    Size=100000, avg time = 0.16ms\r\n    Trial for zipcodelist size= 1000000\r\n    Size=1000000, avg time = 0.0ms\r\n\r\nWith BitSet\r\n\r\n    Trial for zipcodelist size= 10\r\n    Size=10, avg time = 0.0ms\r\n    Trial for zipcodelist size= 1000\r\n    Size=1000, avg time = 0.0ms\r\n    Trial for zipcodelist size= 10000\r\n    Size=10000, avg time = 0.0ms\r\n    Trial for zipcodelist size= 100000\r\n    Size=100000, avg time = 0.0ms\r\n    Trial for zipcodelist size= 1000000\r\n    Size=1000000, avg time = 0.0ms\r\n\r\nBITSET Wins!\r\n------------\r\n\r\nBut only by a hair...  .15ms is within the error for `currentTimeMillis()`, and there are some gaping holes in my benchmark.  Note that for any list longer than 100000, you can simply return `true` because there will be a duplicate.  In fact, if the list is anything like random, you can return true WHP for a much shorter list.  What&#39;s the moral?  In the limit, the most efficient implementation is:\r\n\r\n     return true;\r\n\r\nAnd you won&#39;t be wrong very often.\r\n\r\n  [1]: https://stackoverflow.com/questions/3951547/java-array-finding-duplicates/3951647#3951647\r\n\r\n\r\n","title":"Java Array, Finding Duplicates","body":"<h2>On the nose answer..</h2>\n\n<pre><code>duplicates=false;\nfor (j=0;j&lt;zipcodeList.length;j++)\n  for (k=j+1;k&lt;zipcodeList.length;k++)\n    if (k!=j &amp;&amp; zipcodeList[k] == zipcodeList[j])\n      duplicates=true;\n</code></pre>\n\n<p>Edited to switch <code>.equals()</code> back to <code>==</code> since I read somewhere you're using <code>int</code>, which wasn't clear in the initial question.  Also to set <code>k=j+1</code>, to halve execution time, but it's still O(n<sup>2</sup>).</p>\n\n<h2>A faster (in the limit) way</h2>\n\n<p>Here's a hash based approach.  You gotta pay for the autoboxing, but it's O(n) instead of O(n<sup>2</sup>).  An enterprising soul would go find a primitive int-based hash set (Apache or Google Collections has such a thing, methinks.)</p>\n\n<pre><code>boolean duplicates(final int[] zipcodelist)\n{\n  Set&lt;Integer&gt; lump = new HashSet&lt;Integer&gt;();\n  for (int i : zipcodelist)\n  {\n    if (lump.contains(i)) return true;\n    lump.add(i);\n  }\n  return false;\n}\n</code></pre>\n\n<h2>Bow to HuyLe</h2>\n\n<p>See <a href=\"https://stackoverflow.com/questions/3951547/java-array-finding-duplicates/3951647#3951647\">HuyLe's answer</a> for a more or less O(n) solution, which I think needs a couple of add'l steps:</p>\n\n<pre><code>static boolean duplicates(final int[] zipcodelist)\n{\n   final int MAXZIP = 99999;\n   boolean[] bitmap = new boolean[MAXZIP+1];\n   java.util.Arrays.fill(bitmap, false);\n   for (int item : zipcodeList)\n     if (!bitmap[item]) bitmap[item] = true;\n     else return true;\n   }\n   return false;\n}\n</code></pre>\n\n<h2>Or Just to be Compact</h2>\n\n<pre><code>static boolean duplicates(final int[] zipcodelist)\n{\n   final int MAXZIP = 99999;\n   boolean[] bitmap = new boolean[MAXZIP+1];  // Java guarantees init to false\n   for (int item : zipcodeList)\n     if (!(bitmap[item] ^= true)) return true;\n   return false;\n}\n</code></pre>\n\n<h2>Does it Matter?</h2>\n\n<p>Well, so I ran a little benchmark, which is iffy all over the place, but here's the code:</p>\n\n<pre><code>import java.util.BitSet;\n\nclass Yuk\n{\n  static boolean duplicatesZero(final int[] zipcodelist)\n  {\n    boolean duplicates=false;\n    for (int j=0;j&lt;zipcodelist.length;j++)\n      for (int k=j+1;k&lt;zipcodelist.length;k++)\n        if (k!=j &amp;&amp; zipcodelist[k] == zipcodelist[j])\n          duplicates=true;\n\n    return duplicates;\n  }\n\n\n  static boolean duplicatesOne(final int[] zipcodelist)\n  {\n    final int MAXZIP = 99999;\n    boolean[] bitmap = new boolean[MAXZIP + 1];\n    java.util.Arrays.fill(bitmap, false);\n    for (int item : zipcodelist) {\n      if (!(bitmap[item] ^= true))\n        return true;\n    }\n    return false;\n  }\n\n  static boolean duplicatesTwo(final int[] zipcodelist)\n  {\n    final int MAXZIP = 99999;\n\n    BitSet b = new BitSet(MAXZIP + 1);\n    b.set(0, MAXZIP, false);\n    for (int item : zipcodelist) {\n      if (!b.get(item)) {\n        b.set(item, true);\n      } else\n        return true;\n    }\n    return false;\n  }\n\n  enum ApproachT { NSQUARED, HASHSET, BITSET};\n\n  /**\n   * @param args\n   */\n  public static void main(String[] args)\n  {\n    ApproachT approach = ApproachT.BITSET;\n\n    final int REPS = 100;\n    final int MAXZIP = 99999;\n\n    int[] sizes = new int[] { 10, 1000, 10000, 100000, 1000000 };\n    long[][] times = new long[sizes.length][REPS];\n\n    boolean tossme = false;\n\n    for (int sizei = 0; sizei &lt; sizes.length; sizei++) {\n      System.err.println(\"Trial for zipcodelist size= \"+sizes[sizei]);\n      for (int rep = 0; rep &lt; REPS; rep++) {\n        int[] zipcodelist = new int[sizes[sizei]];\n        for (int i = 0; i &lt; zipcodelist.length; i++) {\n          zipcodelist[i] = (int) (Math.random() * (MAXZIP + 1));\n        }\n        long begin = System.currentTimeMillis();\n        switch (approach) {\n        case NSQUARED :\n          tossme ^= (duplicatesZero(zipcodelist));\n          break;\n        case HASHSET :\n          tossme ^= (duplicatesOne(zipcodelist));\n          break;\n        case BITSET :\n          tossme ^= (duplicatesTwo(zipcodelist));\n          break;\n\n        }\n        long end = System.currentTimeMillis();\n        times[sizei][rep] = end - begin;\n\n\n      }\n      long avg = 0;\n      for (int rep = 0; rep &lt; REPS; rep++) {\n        avg += times[sizei][rep];\n      }\n      System.err.println(\"Size=\" + sizes[sizei] + \", avg time = \"\n            + avg / (double)REPS + \"ms\");\n    }\n  }\n\n}\n</code></pre>\n\n<p>With NSQUARED:</p>\n\n<pre><code>Trial for size= 10\nSize=10, avg time = 0.0ms\nTrial for size= 1000\nSize=1000, avg time = 0.0ms\nTrial for size= 10000\nSize=10000, avg time = 100.0ms\nTrial for size= 100000\nSize=100000, avg time = 9923.3ms\n</code></pre>\n\n<p>With HashSet</p>\n\n<pre><code>Trial for zipcodelist size= 10\nSize=10, avg time = 0.16ms\nTrial for zipcodelist size= 1000\nSize=1000, avg time = 0.15ms\nTrial for zipcodelist size= 10000\nSize=10000, avg time = 0.0ms\nTrial for zipcodelist size= 100000\nSize=100000, avg time = 0.16ms\nTrial for zipcodelist size= 1000000\nSize=1000000, avg time = 0.0ms\n</code></pre>\n\n<p>With BitSet</p>\n\n<pre><code>Trial for zipcodelist size= 10\nSize=10, avg time = 0.0ms\nTrial for zipcodelist size= 1000\nSize=1000, avg time = 0.0ms\nTrial for zipcodelist size= 10000\nSize=10000, avg time = 0.0ms\nTrial for zipcodelist size= 100000\nSize=100000, avg time = 0.0ms\nTrial for zipcodelist size= 1000000\nSize=1000000, avg time = 0.0ms\n</code></pre>\n\n<h2>BITSET Wins!</h2>\n\n<p>But only by a hair...  .15ms is within the error for <code>currentTimeMillis()</code>, and there are some gaping holes in my benchmark.  Note that for any list longer than 100000, you can simply return <code>true</code> because there will be a duplicate.  In fact, if the list is anything like random, you can return true WHP for a much shorter list.  What's the moral?  In the limit, the most efficient implementation is:</p>\n\n<pre><code> return true;\n</code></pre>\n\n<p>And you won't be wrong very often.</p>\n"},{"tags":[],"owner":{"account_id":121453,"reputation":4475,"user_id":314547,"accept_rate":83,"display_name":"doobop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287278751,"creation_date":1287278751,"answer_id":3951576,"question_id":3951547,"body_markdown":"Initialize k = j+1.  You won&#39;t compare elements to themselves and you&#39;ll also not duplicate comparisons.  For example, j = 0, k = 1 and k = 0, j = 1 compare the same set of elements.  This would remove the k = 0, j = 1 comparison.","title":"Java Array, Finding Duplicates","body":"<p>Initialize k = j+1.  You won't compare elements to themselves and you'll also not duplicate comparisons.  For example, j = 0, k = 1 and k = 0, j = 1 compare the same set of elements.  This would remove the k = 0, j = 1 comparison.</p>\n"},{"tags":[],"owner":{"account_id":215903,"reputation":657,"user_id":470813,"accept_rate":75,"display_name":"Huy Le"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1526641966,"creation_date":1287280324,"answer_id":3951647,"question_id":3951547,"body_markdown":"You can use bitmap for better performance with large array.\r\n\r\n        java.util.Arrays.fill(bitmap, false);\r\n        \r\n        for (int item : zipcodeList)\r\n            if (!bitmap[item]) bitmap[item] = true;\r\n            else break;\r\n\r\nUPDATE: This is a very negligent answer of mine back in the day, keeping it here just for reference. You should refer to andersoj&#39;s excellent [answer](https://stackoverflow.com/questions/3951547/java-array-finding-duplicates/3951563#3951563).","title":"Java Array, Finding Duplicates","body":"<p>You can use bitmap for better performance with large array.</p>\n\n<pre><code>    java.util.Arrays.fill(bitmap, false);\n\n    for (int item : zipcodeList)\n        if (!bitmap[item]) bitmap[item] = true;\n        else break;\n</code></pre>\n\n<p>UPDATE: This is a very negligent answer of mine back in the day, keeping it here just for reference. You should refer to andersoj's excellent <a href=\"https://stackoverflow.com/questions/3951547/java-array-finding-duplicates/3951563#3951563\">answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":8238464,"reputation":1,"user_id":6196798,"display_name":"Sephiroth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460524986,"creation_date":1460524986,"answer_id":36589257,"question_id":3951547,"body_markdown":"How about using this method?\r\n\r\n    HashSet&lt;Integer&gt; zipcodeSet = new HashSet&lt;Integer&gt;(Arrays.asList(zipcodeList));\r\n    duplicates = zipcodeSet.size()!=zipcodeList.length;\r\n","title":"Java Array, Finding Duplicates","body":"<p>How about using this method?</p>\n\n<pre><code>HashSet&lt;Integer&gt; zipcodeSet = new HashSet&lt;Integer&gt;(Arrays.asList(zipcodeList));\nduplicates = zipcodeSet.size()!=zipcodeList.length;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8996375,"reputation":158,"user_id":6706626,"accept_rate":54,"display_name":"Rolando F"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472651281,"creation_date":1472651281,"answer_id":39251481,"question_id":3951547,"body_markdown":"You can also work with Set, which doesn&#39;t allow duplicates in Java..\r\n\r\n        for (String name : names)\r\n        {         \r\n          if (set.add(name) == false) \r\n             { // your duplicate element }\r\n        }\r\n\r\nusing add() method and check return value. If add() returns false it means that element is not allowed in the Set and that is your duplicate.\r\n\r\n\r\n","title":"Java Array, Finding Duplicates","body":"<p>You can also work with Set, which doesn't allow duplicates in Java..</p>\n\n<pre><code>    for (String name : names)\n    {         \n      if (set.add(name) == false) \n         { // your duplicate element }\n    }\n</code></pre>\n\n<p>using add() method and check return value. If add() returns false it means that element is not allowed in the Set and that is your duplicate.</p>\n"},{"tags":[],"owner":{"account_id":4825397,"reputation":597,"user_id":3894987,"accept_rate":100,"display_name":"Huy H&#243;m Há»nh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519270259,"creation_date":1519270259,"answer_id":48919196,"question_id":3951547,"body_markdown":"@andersoj gave a great answer, but I also want add new simple way\r\n\r\n        private boolean checkDuplicateBySet(Integer[] zipcodeList) {\r\n            Set&lt;Integer&gt; zipcodeSet = new HashSet(Arrays.asList(zipcodeList));\r\n            if (zipcodeSet.size() == zipcodeList.length) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\nIn case zipcodeList is int[], you need convert int[] to Integer[] first(It not auto-boxing), code [here][1]\r\n\r\nComplete code will be:\r\n\r\n        private boolean checkDuplicateBySet2(int[] zipcodeList) {\r\n            Integer[] zipcodeIntegerArray = new Integer[zipcodeList.length];\r\n            for (int i = 0; i &lt; zipcodeList.length; i++) {\r\n                zipcodeIntegerArray[i] = Integer.valueOf(zipcodeList[i]);\r\n            }\r\n    \r\n            Set&lt;Integer&gt; zipcodeSet = new HashSet(Arrays.asList(zipcodeIntegerArray));\r\n            if (zipcodeSet.size() == zipcodeList.length) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\nHope this helps!\r\n\r\n  [1]: https://www.mkyong.com/java/java-convert-int-to-integer-example/","title":"Java Array, Finding Duplicates","body":"<p>@andersoj gave a great answer, but I also want add new simple way</p>\n\n<pre><code>    private boolean checkDuplicateBySet(Integer[] zipcodeList) {\n        Set&lt;Integer&gt; zipcodeSet = new HashSet(Arrays.asList(zipcodeList));\n        if (zipcodeSet.size() == zipcodeList.length) {\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n\n<p>In case zipcodeList is int[], you need convert int[] to Integer[] first(It not auto-boxing), code <a href=\"https://www.mkyong.com/java/java-convert-int-to-integer-example/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Complete code will be:</p>\n\n<pre><code>    private boolean checkDuplicateBySet2(int[] zipcodeList) {\n        Integer[] zipcodeIntegerArray = new Integer[zipcodeList.length];\n        for (int i = 0; i &lt; zipcodeList.length; i++) {\n            zipcodeIntegerArray[i] = Integer.valueOf(zipcodeList[i]);\n        }\n\n        Set&lt;Integer&gt; zipcodeSet = new HashSet(Arrays.asList(zipcodeIntegerArray));\n        if (zipcodeSet.size() == zipcodeList.length) {\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":13305764,"reputation":21,"user_id":9605599,"display_name":"AR Akash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522990792,"creation_date":1522989556,"answer_id":49685404,"question_id":3951547,"body_markdown":"Print all the duplicate elements. **Output -1** when no repeating elements are found.\r\n\r\n    import java.util.*;\r\n    \r\n    public class PrintDuplicate {\r\n    \r\n        public static void main(String args[]){\r\n            HashMap&lt;Integer,Integer&gt; h = new HashMap&lt;Integer,Integer&gt;();\r\n            \r\n            \r\n            Scanner s=new Scanner(System.in);\r\n            int ii=s.nextInt();\r\n            int k=s.nextInt();\r\n            int[] arr=new  int[k];\r\n            int[] arr1=new  int[k];\r\n            int l=0;\r\n            for(int i=0; i&lt;arr.length; i++)\r\n                arr[i]=s.nextInt();\r\n            for(int i=0; i&lt;arr.length; i++){\r\n                if(h.containsKey(arr[i])){\r\n                    h.put(arr[i], h.get(arr[i]) + 1);\r\n                    arr1[l++]=arr[i];\r\n                } else {\r\n                    h.put(arr[i], 1);\r\n                }\r\n            }\r\n            if(l&gt;0)\r\n            { \r\n                for(int i=0;i&lt;l;i++)\r\n                    System.out.println(arr1[i]);\r\n            }\r\n            else\r\n                System.out.println(-1);\r\n        }\r\n    }","title":"Java Array, Finding Duplicates","body":"<p>Print all the duplicate elements. <strong>Output -1</strong> when no repeating elements are found.</p>\n\n<pre><code>import java.util.*;\n\npublic class PrintDuplicate {\n\n    public static void main(String args[]){\n        HashMap&lt;Integer,Integer&gt; h = new HashMap&lt;Integer,Integer&gt;();\n\n\n        Scanner s=new Scanner(System.in);\n        int ii=s.nextInt();\n        int k=s.nextInt();\n        int[] arr=new  int[k];\n        int[] arr1=new  int[k];\n        int l=0;\n        for(int i=0; i&lt;arr.length; i++)\n            arr[i]=s.nextInt();\n        for(int i=0; i&lt;arr.length; i++){\n            if(h.containsKey(arr[i])){\n                h.put(arr[i], h.get(arr[i]) + 1);\n                arr1[l++]=arr[i];\n            } else {\n                h.put(arr[i], 1);\n            }\n        }\n        if(l&gt;0)\n        { \n            for(int i=0;i&lt;l;i++)\n                System.out.println(arr1[i]);\n        }\n        else\n            System.out.println(-1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10223536,"reputation":70,"user_id":7546984,"display_name":"amk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523806132,"creation_date":1523804416,"answer_id":49843348,"question_id":3951547,"body_markdown":"\r\n    import java.util.Scanner;\r\n    \r\n    public class Duplicates {\r\n        public static void main(String[] args) {\r\n            Scanner console = new Scanner(System.in);\r\n        \tint number = console.nextInt();\r\n        \tString numb = &quot;&quot; + number;\r\n        \tint leng = numb.length()-1;\r\n        \t\r\n            if (numb.charAt(0) != numb.charAt(1)) {\r\n        \t    System.out.print(numb.substring(0,1));\r\n        \t}\r\n        \t\r\n\t\t\tfor (int i = 0; i &lt; leng; i++){\r\n        \t\t\t\t\t\t\r\n\t\t\t  if (numb.charAt(i)==numb.charAt(i+1)){ \r\n\t\t\t\t System.out.print(numb.substring(i,i+1));\r\n\t\t\t  }\r\n\t\t\t  else {\r\n\t\t\t\t  System.out.print(numb.substring(i+1,i+2));\r\n\t\t\t  }\r\n           }\r\n       }\r\n    }","title":"Java Array, Finding Duplicates","body":"<pre><code>import java.util.Scanner;\n\npublic class Duplicates {\n    public static void main(String[] args) {\n        Scanner console = new Scanner(System.in);\n        int number = console.nextInt();\n        String numb = \"\" + number;\n        int leng = numb.length()-1;\n\n        if (numb.charAt(0) != numb.charAt(1)) {\n            System.out.print(numb.substring(0,1));\n        }\n\n        for (int i = 0; i &lt; leng; i++){\n\n          if (numb.charAt(i)==numb.charAt(i+1)){ \n             System.out.print(numb.substring(i,i+1));\n          }\n          else {\n              System.out.print(numb.substring(i+1,i+2));\n          }\n       }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13943064,"reputation":11,"user_id":10068409,"display_name":"Ferdinand Tembo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531373301,"creation_date":1531372346,"answer_id":51297716,"question_id":3951547,"body_markdown":"    public static ArrayList&lt;Integer&gt; duplicate(final int[] zipcodelist) {\r\n\r\n\t\tHashSet&lt;Integer&gt; hs = new HashSet&lt;&gt;();\r\n\t\tArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\r\n\t\tfor(int element: zipcodelist) {\r\n\t\t\tif(hs.add(element)==false) {\r\n\t\t\t\tal.add(element);\r\n\t\t\t}\t\r\n\t\t}\r\n\t\treturn al;\r\n\t}","title":"Java Array, Finding Duplicates","body":"<pre><code>public static ArrayList&lt;Integer&gt; duplicate(final int[] zipcodelist) {\n\n    HashSet&lt;Integer&gt; hs = new HashSet&lt;&gt;();\n    ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\n    for(int element: zipcodelist) {\n        if(hs.add(element)==false) {\n            al.add(element);\n        }   \n    }\n    return al;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10290218,"reputation":11,"user_id":7592188,"display_name":"Jyoti Nagpal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597829392,"creation_date":1597749080,"answer_id":63467365,"question_id":3951547,"body_markdown":"\r\n\r\n&gt; This program will print all duplicates value from array.\r\n\r\npublic static void main(String[] args) {\r\n\r\n\t\tint[] array = new int[] { -1, 3, 4, 4,4,3, 9,-1, 5,5,5, 5 };\r\n\t\t\r\n\t\tArrays.sort(array);\r\n\r\n\t boolean isMatched = false;\r\n\t int lstMatch =-1;\r\n\t\t  for(int i = 0; i &lt; array.length; i++) {  \r\n\t\t\t  try {\r\n\t                if(array[i] == array[i+1]) { \r\n\t                \tisMatched = true;\r\n\t                \tlstMatch = array[i+1]; \r\n\t                }\r\n\t                else if(isMatched) {\r\n\t                    System.out.println(lstMatch);\r\n\t                \tisMatched = false;\r\n\t                    lstMatch = -1;\r\n\t                }\r\n\t\t\t  }catch(Exception ex) {\r\n\t\t\t\t  //TODO NA\r\n\t\t\t  }\r\n\r\n\t\t  }\r\n\t\t  if(isMatched) {\r\n              System.out.println(lstMatch);\r\n\t\t  }\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n","title":"Java Array, Finding Duplicates","body":"<blockquote>\n<p>This program will print all duplicates value from array.</p>\n</blockquote>\n<p>public static void main(String[] args) {</p>\n<pre><code>    int[] array = new int[] { -1, 3, 4, 4,4,3, 9,-1, 5,5,5, 5 };\n    \n    Arrays.sort(array);\n\n boolean isMatched = false;\n int lstMatch =-1;\n      for(int i = 0; i &lt; array.length; i++) {  \n          try {\n                if(array[i] == array[i+1]) { \n                    isMatched = true;\n                    lstMatch = array[i+1]; \n                }\n                else if(isMatched) {\n                    System.out.println(lstMatch);\n                    isMatched = false;\n                    lstMatch = -1;\n                }\n          }catch(Exception ex) {\n              //TODO NA\n          }\n\n      }\n      if(isMatched) {\n          System.out.println(lstMatch);\n      }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":16443208,"reputation":432,"user_id":12008735,"display_name":"meren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619265917,"creation_date":1619265917,"answer_id":67242584,"question_id":3951547,"body_markdown":"      public static void findDuplicates(List&lt;Integer&gt; list){\r\n        if(list!=null &amp;&amp; !list.isEmpty()){\r\n          Set&lt;Integer&gt; uniques = new HashSet&lt;&gt;();\r\n          Set&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\r\n    \r\n          for(int i=0;i&lt;list.size();i++){\r\n            if(!uniques.add(list.get(i))){\r\n              duplicates.add(list.get(i));\r\n            }\r\n          }\r\n          System.out.println(&quot;Uniques: &quot;+uniques);\r\n          System.out.println(&quot;Duplicates: &quot;+duplicates);\r\n        }else{\r\n          System.out.println(&quot;LIST IS INVALID&quot;);\r\n        }\r\n      }","title":"Java Array, Finding Duplicates","body":"<pre><code>  public static void findDuplicates(List&lt;Integer&gt; list){\n    if(list!=null &amp;&amp; !list.isEmpty()){\n      Set&lt;Integer&gt; uniques = new HashSet&lt;&gt;();\n      Set&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\n\n      for(int i=0;i&lt;list.size();i++){\n        if(!uniques.add(list.get(i))){\n          duplicates.add(list.get(i));\n        }\n      }\n      System.out.println(&quot;Uniques: &quot;+uniques);\n      System.out.println(&quot;Duplicates: &quot;+duplicates);\n    }else{\n      System.out.println(&quot;LIST IS INVALID&quot;);\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21906832,"reputation":1,"user_id":16191808,"display_name":"ny3an6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640865011,"creation_date":1640860616,"answer_id":70530422,"question_id":3951547,"body_markdown":"    public static &lt;T&gt; Set&lt;T&gt; getDuplicates(Collection&lt;T&gt; array) {\r\n        Set&lt;T&gt; duplicateItem = new HashSet&lt;&gt;();\r\n        Iterator&lt;T&gt; it = array.iterator();\r\n        while(it.hasNext()) {\r\n            T object = it.next();\r\n            if (Collections.frequency(array, object) &gt; 1) {\r\n                duplicateItem.add(object);\r\n                it.remove();\r\n            }\r\n        }\r\n        return duplicateItem;\r\n    } \r\n\r\n   // Otherway if you dont need to sort your collection, you can use this way.\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; getDuplicates(Collection&lt;T&gt; array) {\r\n        List&lt;T&gt; duplicateItem = new ArrayList&lt;&gt;();\r\n        Iterator&lt;T&gt; it = array.iterator();\r\n        while(it.hasNext()) {\r\n            T object = it.next();\r\n            if (Collections.frequency(array, object) &gt; 1) {\r\n                if (Collections.frequency(duplicateItem, object) &lt; 1) {\r\n                    duplicateItem.add(object);\r\n                }\r\n                it.remove();\r\n            }\r\n        }\r\n        return duplicateItem;\r\n    }","title":"Java Array, Finding Duplicates","body":"<pre><code>public static &lt;T&gt; Set&lt;T&gt; getDuplicates(Collection&lt;T&gt; array) {\n    Set&lt;T&gt; duplicateItem = new HashSet&lt;&gt;();\n    Iterator&lt;T&gt; it = array.iterator();\n    while(it.hasNext()) {\n        T object = it.next();\n        if (Collections.frequency(array, object) &gt; 1) {\n            duplicateItem.add(object);\n            it.remove();\n        }\n    }\n    return duplicateItem;\n} \n</code></pre>\n<p>// Otherway if you dont need to sort your collection, you can use this way.</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; getDuplicates(Collection&lt;T&gt; array) {\n    List&lt;T&gt; duplicateItem = new ArrayList&lt;&gt;();\n    Iterator&lt;T&gt; it = array.iterator();\n    while(it.hasNext()) {\n        T object = it.next();\n        if (Collections.frequency(array, object) &gt; 1) {\n            if (Collections.frequency(duplicateItem, object) &lt; 1) {\n                duplicateItem.add(object);\n            }\n            it.remove();\n        }\n    }\n    return duplicateItem;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26572784,"reputation":1,"user_id":20198759,"display_name":"Pathiranage Dilshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665546259,"creation_date":1665546259,"answer_id":74036274,"question_id":3951547,"body_markdown":"    import java.util.*;\r\n    class Example{\r\n    \tpublic static boolean duplicate(int[] a) {\r\n    \t\tfor (int i=0 ; i&lt;a.length-1 ; i++){\r\n    \t\t\tfor (int j = i+1; j&lt;a.length ; j++){\r\n    \t\t\t\tif(a[i]==a[j]){\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \tpublic static void main(String []args) {\r\n    \t\tint[] ar={34,65,87,19,94,72,83,47,89};\t\t\r\n    \t\tSystem.out.println(Arrays.toString(ar));//[34,65,87,19,94,72,83,47,89]\r\n    \t\tSystem.out.println(&quot;ar is a duplicate array : &quot; + duplicate(ar)); //false\r\n    \t\t\r\n    \t\tint[] br={34,65,87,19,94,72,83,94,89};\t\t\r\n    \t\tSystem.out.println(Arrays.toString(br));//[34,65,87,19,94,72,83,94,89]\r\n    \t\tSystem.out.println(&quot;br is a duplicate array : &quot;+  duplicate(br)); //true\r\n    \t}\r\n    }\r\n\r\n","title":"Java Array, Finding Duplicates","body":"<pre><code>import java.util.*;\nclass Example{\n    public static boolean duplicate(int[] a) {\n        for (int i=0 ; i&lt;a.length-1 ; i++){\n            for (int j = i+1; j&lt;a.length ; j++){\n                if(a[i]==a[j]){\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    public static void main(String []args) {\n        int[] ar={34,65,87,19,94,72,83,47,89};      \n        System.out.println(Arrays.toString(ar));//[34,65,87,19,94,72,83,47,89]\n        System.out.println(&quot;ar is a duplicate array : &quot; + duplicate(ar)); //false\n        \n        int[] br={34,65,87,19,94,72,83,94,89};      \n        System.out.println(Arrays.toString(br));//[34,65,87,19,94,72,83,94,89]\n        System.out.println(&quot;br is a duplicate array : &quot;+  duplicate(br)); //true\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22930240,"reputation":1,"user_id":17064677,"display_name":"Vignesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694610365,"creation_date":1694351221,"answer_id":77076231,"question_id":3951547,"body_markdown":"```java\r\npublic class Rough_work {\r\n\r\n    public static void main(String[] args){\r\n        int arr[] = new int[]{1,2,1,3,2,3,1,4,5,4};\r\n\r\n        int dup = 0;\r\n         for(int i = 0; i&lt;arr.length;i++){\r\n             for(int j =i+1; j&lt;arr.length;j++){\r\n                 if(arr[i] == arr[j]){\r\n                     System.out.print(arr[i]);\r\n                     break;\r\n                 }\r\n             }\r\n         }\r\n\r\n    }\r\n}\r\n```","title":"Java Array, Finding Duplicates","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Rough_work {\n\n    public static void main(String[] args){\n        int arr[] = new int[]{1,2,1,3,2,3,1,4,5,4};\n\n        int dup = 0;\n         for(int i = 0; i&lt;arr.length;i++){\n             for(int j =i+1; j&lt;arr.length;j++){\n                 if(arr[i] == arr[j]){\n                     System.out.print(arr[i]);\n                     break;\n                 }\n             }\n         }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":208458,"reputation":31541,"user_id":458960,"accept_rate":84,"display_name":"Snowman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280619,"favorite_count":0,"down_vote_count":2,"up_vote_count":72,"accepted_answer_id":3951563,"answer_count":18,"score":70,"last_activity_date":1694610365,"creation_date":1287278130,"question_id":3951547,"body_markdown":"I have an array, and am looking for duplicates.\r\n\r\n    duplicates = false;\r\n    for(j = 0; j &lt; zipcodeList.length; j++){\r\n        for(k = 0; k &lt; zipcodeList.length; k++){\r\n            if (zipcodeList[k] == zipcodeList[j]){\r\n                duplicates = true;\r\n            }\r\n        }\r\n    }\r\nHowever, this code doesnt work when there are no duplicates. Whys that?","title":"Java Array, Finding Duplicates","body":"<p>I have an array, and am looking for duplicates.</p>\n\n<pre><code>duplicates = false;\nfor(j = 0; j &lt; zipcodeList.length; j++){\n    for(k = 0; k &lt; zipcodeList.length; k++){\n        if (zipcodeList[k] == zipcodeList[j]){\n            duplicates = true;\n        }\n    }\n}\n</code></pre>\n\n<p>However, this code doesnt work when there are no duplicates. Whys that?</p>\n"},{"tags":["java","file-locking"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1694594304,"post_id":77095405,"comment_id":135910332,"body_markdown":"you can have it open somewhere in a thread. If it&#39;s loaded in memory, you can&#39;t delete it","body":"you can have it open somewhere in a thread. If it&#39;s loaded in memory, you can&#39;t delete it"},{"owner":{"account_id":903132,"reputation":15025,"user_id":938694,"accept_rate":59,"display_name":"Cubic"},"score":0,"creation_date":1694594832,"post_id":77095405,"comment_id":135910453,"body_markdown":"@Stultuske that only applies to windows.","body":"@Stultuske that only applies to windows."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":2,"creation_date":1694595496,"post_id":77095405,"comment_id":135910620,"body_markdown":"Traditional suspected [XY problem](https://xyproblem.info/) question: why? (=what you are asking may not be feasible, understanding more of the context may help us suggest alternative solutions)","body":"Traditional suspected <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a> question: why? (=what you are asking may not be feasible, understanding more of the context may help us suggest alternative solutions)"},{"owner":{"account_id":29387040,"reputation":11,"user_id":22549465,"display_name":"Den Didyk"},"score":0,"creation_date":1694597067,"post_id":77095405,"comment_id":135910936,"body_markdown":"It is for testing. The case is: some program writes it&#39;s log files, and move it to zip-archive on a next day. If log-file is busy and cannot be deleted, program makes a copy of file to place in archive, and save it&#39;s name to INI file. Task is check for INI file writes correctly. Sorry for my bad English.","body":"It is for testing. The case is: some program writes it&#39;s log files, and move it to zip-archive on a next day. If log-file is busy and cannot be deleted, program makes a copy of file to place in archive, and save it&#39;s name to INI file. Task is check for INI file writes correctly. Sorry for my bad English."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1694597126,"post_id":77095405,"comment_id":135910950,"body_markdown":"what sort of logger are you using? some loggers will handle the zipping and rollover for you then you can just move the rollovered file to your archive folder","body":"what sort of logger are you using? some loggers will handle the zipping and rollover for you then you can just move the rollovered file to your archive folder"},{"owner":{"account_id":29387040,"reputation":11,"user_id":22549465,"display_name":"Den Didyk"},"score":0,"creation_date":1694597656,"post_id":77095405,"comment_id":135911050,"body_markdown":"@experimentunit1998X, unfortunately it&#39;s a black-box. All I know, it&#39;s on c#.","body":"@experimentunit1998X, unfortunately it&#39;s a black-box. All I know, it&#39;s on c#."},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1694605270,"post_id":77095405,"comment_id":135912614,"body_markdown":"Add some of your code.","body":"Add some of your code."},{"owner":{"account_id":29387040,"reputation":11,"user_id":22549465,"display_name":"Den Didyk"},"score":0,"creation_date":1694610298,"post_id":77095405,"comment_id":135913696,"body_markdown":"post my code to subj","body":"post my code to subj"}],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694605412,"creation_date":1694605412,"answer_id":77096772,"question_id":77095405,"body_markdown":"You can find documentation about that you can use a **shared** lock, other process can read the file.\r\n\r\n        try (FileChannel channel = FileChannel.open(path, StandardOpenOption.READ);\r\n            FileLock lock = channel.lock(0, Long.MAX_VALUE, true)) {\r\n            // read from the channel\r\n        }","title":"Prevent file deletion, but allow to copy","body":"<p>You can find documentation about that you can use a <strong>shared</strong> lock, other process can read the file.</p>\n<pre><code>    try (FileChannel channel = FileChannel.open(path, StandardOpenOption.READ);\n        FileLock lock = channel.lock(0, Long.MAX_VALUE, true)) {\n        // read from the channel\n    }\n</code></pre>\n"}],"owner":{"account_id":29387040,"reputation":11,"user_id":22549465,"display_name":"Den Didyk"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694610262,"creation_date":1694594186,"question_id":77095405,"body_markdown":"I need to lock a file using Java to prevent file deletion by another process, but allow copying of this file. It should be made by two methods like lock() and unlock(). \r\n\r\nI tried using a FileLock, but it also denies copying. Ðre there any other ways to lock a file?\r\n\r\nHow is it works now:\r\n\r\n\r\n            public static void main(String[] args) {\r\n        \r\n                ArrayList&lt;File&gt; files = new ArrayList&lt;&gt;();\r\n                files.add(new File(&quot;C:\\\\Work\\\\Test\\\\a.txt&quot;));\r\n                files.add(new File(&quot;C:\\\\Work\\\\Test\\\\b.txt&quot;));\r\n                files.add(new File(&quot;C:\\\\Work\\\\Test\\\\c.txt&quot;));\r\n    \r\n    \r\n                HashMap&lt;String,FileLock&gt; locks = lockFile(files);\r\n                StaticHelper.awaiter(15000); // just idle for manual checking\r\n                locks.entrySet().forEach(x-&gt;{\r\n                    unlockFile(x.getValue());\r\n                    System.out.println(x.getKey() + &quot; unlocked&quot;);\r\n                    StaticHelper.awaiter(5000);\r\n            });\r\n    \r\n            private static HashMap&lt;String,FileLock&gt; lockFile(ArrayList&lt;File&gt; files){\r\n                HashMap&lt;String,FileLock&gt; locks = new HashMap&lt;&gt;();\r\n                for (int i=0; i&lt;files.size(); i++) {\r\n    \r\n                    try {\r\n                        FileChannel channel = new RandomAccessFile(files.get(i), &quot;rw&quot;).getChannel();\r\n                        FileLock lock = channel.lock();\r\n                        locks.put(files.get(i).getName(), lock);\r\n                        System.out.println(files.get(i).getName() + &quot; locked&quot;);\r\n        \r\n                    } catch (Exception ex) {\r\n                        ex.printStackTrace();\r\n                        return null;\r\n                    }\r\n                }\r\n                return locks;\r\n        \r\n            }\r\n        \r\n            private static void unlockFile(FileLock lock) {\r\n                try {\r\n                    if( lock != null ) {\r\n                            lock.release();\r\n                            lock.channel().close();\r\n                        }\r\n                    System.out.println(&quot;Unlocked&quot;);\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\n","title":"Prevent file deletion, but allow to copy","body":"<p>I need to lock a file using Java to prevent file deletion by another process, but allow copying of this file. It should be made by two methods like lock() and unlock().</p>\n<p>I tried using a FileLock, but it also denies copying. Ðre there any other ways to lock a file?</p>\n<p>How is it works now:</p>\n<pre><code>        public static void main(String[] args) {\n    \n            ArrayList&lt;File&gt; files = new ArrayList&lt;&gt;();\n            files.add(new File(&quot;C:\\\\Work\\\\Test\\\\a.txt&quot;));\n            files.add(new File(&quot;C:\\\\Work\\\\Test\\\\b.txt&quot;));\n            files.add(new File(&quot;C:\\\\Work\\\\Test\\\\c.txt&quot;));\n\n\n            HashMap&lt;String,FileLock&gt; locks = lockFile(files);\n            StaticHelper.awaiter(15000); // just idle for manual checking\n            locks.entrySet().forEach(x-&gt;{\n                unlockFile(x.getValue());\n                System.out.println(x.getKey() + &quot; unlocked&quot;);\n                StaticHelper.awaiter(5000);\n        });\n\n        private static HashMap&lt;String,FileLock&gt; lockFile(ArrayList&lt;File&gt; files){\n            HashMap&lt;String,FileLock&gt; locks = new HashMap&lt;&gt;();\n            for (int i=0; i&lt;files.size(); i++) {\n\n                try {\n                    FileChannel channel = new RandomAccessFile(files.get(i), &quot;rw&quot;).getChannel();\n                    FileLock lock = channel.lock();\n                    locks.put(files.get(i).getName(), lock);\n                    System.out.println(files.get(i).getName() + &quot; locked&quot;);\n    \n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                    return null;\n                }\n            }\n            return locks;\n    \n        }\n    \n        private static void unlockFile(FileLock lock) {\n            try {\n                if( lock != null ) {\n                        lock.release();\n                        lock.channel().close();\n                    }\n                System.out.println(&quot;Unlocked&quot;);\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n</code></pre>\n"},{"tags":["java","android","animation"],"owner":{"account_id":14967212,"reputation":3,"user_id":10805108,"display_name":"Stuffeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694610157,"creation_date":1694545232,"question_id":77091986,"body_markdown":"I have an arrow image that is drawn on the screen (top left corner) and animates to the X most corner based on the screenwidth.\r\n\r\nI know the screenwidth values are correct as I&#39;ve got a ball that also bounces around the screen and can see it colliding with the screen edges.\r\n\r\nHowever the arrow image that gets animated ignores the edge and carries on. From debugging it looks like the screen width (1440Px) is not correct for the animation.\r\n\r\n        Display display = getWindowManager().getDefaultDisplay();\r\n        DisplayMetrics displayMetrics = new DisplayMetrics();\r\n        display.getRealMetrics(displayMetrics);\r\n        screenWidth = displayMetrics.widthPixels;\r\n        screenHeight = displayMetrics.heightPixels;\r\n\r\n        ImageView arrowImageView = findViewById(R.id.arrowImageView);\r\n        ValueAnimator animator = ValueAnimator.ofFloat(0.0f, 1.0f);\r\n        animator.setDuration(30000); \r\n        animator.setRepeatCount(ValueAnimator.INFINITE); // Set repeatCount to INFINITE\r\n\r\n        // Define the PropertyValuesHolder for X and Y\r\n        float animstartX = 0; // Starting X position (left edge of the screen)\r\n        float animendX = screenWidth; // Ending X position (right edge of the screen)\r\n\r\n        PropertyValuesHolder xHolder = PropertyValuesHolder.ofFloat(&quot;x&quot;, animstartX, animendX);\r\n        PropertyValuesHolder yHolder = PropertyValuesHolder.ofFloat(&quot;y&quot;, animstartY, animendY);\r\n\r\n        // Add the PropertyValuesHolder to the animator\r\n        animator.setValues(xHolder, yHolder);\r\n\r\n        animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\r\n            @Override\r\n            public void onAnimationUpdate(ValueAnimator animation) {\r\n                float animatedValue = (float) animation.getAnimatedValue();\r\n                float newX = animstartX + (animendX - animstartX) * animatedValue;\r\n                float newY = animstartY + (animendY - animstartY) * animatedValue;\r\n                arrowImageView.setX(newX);\r\n                arrowImageView.setY(newY);\r\n\r\n                // Get the current animated values for X and Y\r\n                float animcurrentX = (float) animation.getAnimatedValue(&quot;x&quot;);\r\n                float animcurrentY = (float) animation.getAnimatedValue(&quot;y&quot;);\r\n\r\n                // to do check current values for ball\r\n                \r\n            }\r\n        });\r\n      animator.start();`\r\n`\r\n","title":"Android animation flies off the screen when setting the screen width","body":"<p>I have an arrow image that is drawn on the screen (top left corner) and animates to the X most corner based on the screenwidth.</p>\n<p>I know the screenwidth values are correct as I've got a ball that also bounces around the screen and can see it colliding with the screen edges.</p>\n<p>However the arrow image that gets animated ignores the edge and carries on. From debugging it looks like the screen width (1440Px) is not correct for the animation.</p>\n<pre><code>    Display display = getWindowManager().getDefaultDisplay();\n    DisplayMetrics displayMetrics = new DisplayMetrics();\n    display.getRealMetrics(displayMetrics);\n    screenWidth = displayMetrics.widthPixels;\n    screenHeight = displayMetrics.heightPixels;\n\n    ImageView arrowImageView = findViewById(R.id.arrowImageView);\n    ValueAnimator animator = ValueAnimator.ofFloat(0.0f, 1.0f);\n    animator.setDuration(30000); \n    animator.setRepeatCount(ValueAnimator.INFINITE); // Set repeatCount to INFINITE\n\n    // Define the PropertyValuesHolder for X and Y\n    float animstartX = 0; // Starting X position (left edge of the screen)\n    float animendX = screenWidth; // Ending X position (right edge of the screen)\n\n    PropertyValuesHolder xHolder = PropertyValuesHolder.ofFloat(&quot;x&quot;, animstartX, animendX);\n    PropertyValuesHolder yHolder = PropertyValuesHolder.ofFloat(&quot;y&quot;, animstartY, animendY);\n\n    // Add the PropertyValuesHolder to the animator\n    animator.setValues(xHolder, yHolder);\n\n    animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n        @Override\n        public void onAnimationUpdate(ValueAnimator animation) {\n            float animatedValue = (float) animation.getAnimatedValue();\n            float newX = animstartX + (animendX - animstartX) * animatedValue;\n            float newY = animstartY + (animendY - animstartY) * animatedValue;\n            arrowImageView.setX(newX);\n            arrowImageView.setY(newY);\n\n            // Get the current animated values for X and Y\n            float animcurrentX = (float) animation.getAnimatedValue(&quot;x&quot;);\n            float animcurrentY = (float) animation.getAnimatedValue(&quot;y&quot;);\n\n            // to do check current values for ball\n            \n        }\n    });\n  animator.start();`\n</code></pre>\n<p>`</p>\n"},{"tags":["java","circleci","maven-release-plugin","github-packages","circleci-orb"],"owner":{"account_id":11389717,"reputation":13,"user_id":8350215,"display_name":"daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694609682,"creation_date":1694609682,"question_id":77097267,"body_markdown":"Looking for existing solution to be able to release a java library to github packages, currently Im able to deploy(with snapshot) but now i want to be able to release a new version, this is the existing command in circleCI config &quot; command: mvn release:prepare release:perform -DskipTests -s .circleci/settings.xml -f pom.xml&quot;\r\nbut keeps getting &quot;[ERROR] ERROR: The key you are authenticating with has been marked as read only.&quot; even tho I have a deploy key with write access, seems like some how the config is not able to pick up the correct key to perform the commit back to github repo, I was wondering if there is a more standard solution using an existing ORB, or some example i can take a look at. \r\n\r\nThanks in advance.\r\n\r\nI already try this [one](https://circleci.com/developer/orbs/orb/sonatype-nexus-community/circleci-maven-release-orb) but its not quite what i need, that ORB is trying to configure a GPG key which i dont think i need that.","title":"how to configure CircleCI with custom yml or existing orb to release to github packages","body":"<p>Looking for existing solution to be able to release a java library to github packages, currently Im able to deploy(with snapshot) but now i want to be able to release a new version, this is the existing command in circleCI config &quot; command: mvn release:prepare release:perform -DskipTests -s .circleci/settings.xml -f pom.xml&quot;\nbut keeps getting &quot;[ERROR] ERROR: The key you are authenticating with has been marked as read only.&quot; even tho I have a deploy key with write access, seems like some how the config is not able to pick up the correct key to perform the commit back to github repo, I was wondering if there is a more standard solution using an existing ORB, or some example i can take a look at.</p>\n<p>Thanks in advance.</p>\n<p>I already try this <a href=\"https://circleci.com/developer/orbs/orb/sonatype-nexus-community/circleci-maven-release-orb\" rel=\"nofollow noreferrer\">one</a> but its not quite what i need, that ORB is trying to configure a GPG key which i dont think i need that.</p>\n"},{"tags":["java","spring","azure","debugging","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694609367,"creation_date":1694608586,"answer_id":77097158,"question_id":77095632,"body_markdown":"- Create **CosmosDB trigger** Azure function:\r\n\r\n![enter image description here](https://i.imgur.com/rhYE7Py.png)\r\n\r\n- Click on the **Run** icon in function class (eg: cosmosfunction.java)=&gt; Select **Debug &quot;Run Functions&quot;**\r\n- Then the debug process will be started.. you can check in **Debugger/Console** if the connection is done successfully or not.\r\n\r\n![enter image description here](https://i.imgur.com/W0eJF5N.png)\r\n\r\n- Upload any **Json file** in your `CosmosDB=&gt;Container=&gt;Items`:\r\n\r\n![enter image description here](https://i.imgur.com/TCzWFIr.png)\r\n\r\nGo to `IntelliJ=&gt;Debugger` and you can see the debug session started and the actions `Step Over, Step Into, Step Out and Run to Cursor`:\r\n\r\n![enter image description here](https://i.imgur.com/rmxCyYQ.png)\r\n\r\nYou can debug the function by clicking on `Step into`:\r\n\r\n![enter image description here](https://i.imgur.com/6IYJRA6.png)\r\n\r\n**Output:**\r\n![enter image description here](https://i.imgur.com/1295wiY.png)\r\n\r\n**References:**\r\n\r\n[Debug the project locally](https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-maven-intellij#debug-the-project-locally)","title":"Debugging of azure fuction","body":"<ul>\n<li>Create <strong>CosmosDB trigger</strong> Azure function:</li>\n</ul>\n<p><img src=\"https://i.imgur.com/rhYE7Py.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Click on the <strong>Run</strong> icon in function class (eg: cosmosfunction.java)=&gt; Select <strong>Debug &quot;Run Functions&quot;</strong></li>\n<li>Then the debug process will be started.. you can check in <strong>Debugger/Console</strong> if the connection is done successfully or not.</li>\n</ul>\n<p><img src=\"https://i.imgur.com/W0eJF5N.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Upload any <strong>Json file</strong> in your <code>CosmosDB=&gt;Container=&gt;Items</code>:</li>\n</ul>\n<p><img src=\"https://i.imgur.com/TCzWFIr.png\" alt=\"enter image description here\" /></p>\n<p>Go to <code>IntelliJ=&gt;Debugger</code> and you can see the debug session started and the actions <code>Step Over, Step Into, Step Out and Run to Cursor</code>:</p>\n<p><img src=\"https://i.imgur.com/rmxCyYQ.png\" alt=\"enter image description here\" /></p>\n<p>You can debug the function by clicking on <code>Step into</code>:</p>\n<p><img src=\"https://i.imgur.com/6IYJRA6.png\" alt=\"enter image description here\" /></p>\n<p><strong>Output:</strong>\n<img src=\"https://i.imgur.com/1295wiY.png\" alt=\"enter image description here\" /></p>\n<p><strong>References:</strong></p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-maven-intellij#debug-the-project-locally\" rel=\"nofollow noreferrer\">Debug the project locally</a></p>\n"}],"owner":{"account_id":20243981,"reputation":19,"user_id":14847044,"display_name":"Sfrizz _"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694609367,"creation_date":1694595880,"question_id":77095632,"body_markdown":"I&#39;m developing an application for a personal project based on Spring with the use of Azure fuction and CosmosDB. I&#39;m struggling a lot because I can&#39;t configure in any possible way a debugger on IntelliJ CE. I&#39;ve read every single article on internet, tried everything but I keep having always different errors. So, can any of you guys gently give point by point what are the steps to configure this debugger? \r\n\r\nThanks a lot for all the future answers!!","title":"Debugging of azure fuction","body":"<p>I'm developing an application for a personal project based on Spring with the use of Azure fuction and CosmosDB. I'm struggling a lot because I can't configure in any possible way a debugger on IntelliJ CE. I've read every single article on internet, tried everything but I keep having always different errors. So, can any of you guys gently give point by point what are the steps to configure this debugger?</p>\n<p>Thanks a lot for all the future answers!!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"score":1,"creation_date":1690276389,"post_id":76760925,"comment_id":135327258,"body_markdown":"Did you try quering the metrics endpoint provided by actuator? Any helpful information there?","body":"Did you try quering the metrics endpoint provided by actuator? Any helpful information there?"},{"owner":{"account_id":12473846,"reputation":98,"user_id":9080974,"display_name":"Herry"},"score":0,"creation_date":1690277484,"post_id":76760925,"comment_id":135327477,"body_markdown":"It shows some aggregated values (cache.gets, cache.puts, ...) but nothing specific for any cache.  Specifically, I want to get these: https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/production-ready-metrics.html#production-ready-datasource-cache","body":"It shows some aggregated values (cache.gets, cache.puts, ...) but nothing specific for any cache.  Specifically, I want to get these: <a href=\"https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/production-ready-metrics.html#production-ready-datasource-cache\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":341845,"reputation":19091,"user_id":672689,"accept_rate":82,"display_name":"Roee Gavirel"},"score":0,"creation_date":1694438727,"post_id":76760925,"comment_id":135887055,"body_markdown":"Did you made use of the caches before trying to get their metrics? Some times metrics only created the first time they have value.","body":"Did you made use of the caches before trying to get their metrics? Some times metrics only created the first time they have value."},{"owner":{"account_id":12473846,"reputation":98,"user_id":9080974,"display_name":"Herry"},"score":0,"creation_date":1694503448,"post_id":76760925,"comment_id":135895505,"body_markdown":"I just tried it but with no change.","body":"I just tried it but with no change."}],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694514251,"creation_date":1694513407,"answer_id":77088136,"question_id":76760925,"body_markdown":"Acutuator&#39;s `/actuator/caches` endpoint only shows the configured caches. For cache metrics you should use the following ones:\r\n\r\n`/actuator/metrics/cache.gets`  \r\n`/actuator/metrics/cache.puts`  \r\n`/actuator/metrics/cache.evictions`  \r\n`/actuator/metrics/cache.removals`  \r\n\r\nHitting those will show the corresponding metrics for all available caches. If you need to target a specific cache, say `cache1`, you can do it like so:\r\n\r\n`/actuator/metrics/cache.gets?tag=name:cache1`\r\n\r\nMake sure to expose the `metrics` endpoint by adding it to the `management.endpoints.web.exposure.include` app property, i.e.:\r\n\r\n`management.endpoints.web.exposure.include=caches,metrics`\r\n\r\nYou might need these properties as well: \r\n```\r\nmanagement.endpoint.metrics.enabled=true\r\nmanagement.endpoint.caches.enabled=true\r\n```\r\n\r\nHere&#39;s an example output of `/actuator/metrics/cache.gets`:\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;cache.gets&quot;,\r\n  &quot;description&quot;: &quot;The number of times cache lookup methods have returned a cached (hit) or uncached (newly loaded or null) value (miss).&quot;,\r\n  &quot;baseUnit&quot;: null,\r\n  &quot;measurements&quot;: [\r\n    {\r\n      &quot;statistic&quot;: &quot;COUNT&quot;,\r\n      &quot;value&quot;: 0.0\r\n    }\r\n  ],\r\n  &quot;availableTags&quot;: [\r\n    {\r\n      &quot;tag&quot;: &quot;result&quot;,\r\n      &quot;values&quot;: [\r\n        &quot;hit&quot;,\r\n        &quot;miss&quot;\r\n      ]\r\n    },\r\n    {\r\n      &quot;tag&quot;: &quot;cache.manager&quot;,\r\n      &quot;values&quot;: [\r\n        &quot;eh&quot;\r\n      ]\r\n    },\r\n    {\r\n      &quot;tag&quot;: &quot;cache&quot;,\r\n      &quot;values&quot;: [\r\n        &quot;cache1&quot;\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n","title":"Spring Boot JCache metrics","body":"<p>Acutuator's <code>/actuator/caches</code> endpoint only shows the configured caches. For cache metrics you should use the following ones:</p>\n<p><code>/actuator/metrics/cache.gets</code><br />\n<code>/actuator/metrics/cache.puts</code><br />\n<code>/actuator/metrics/cache.evictions</code><br />\n<code>/actuator/metrics/cache.removals</code></p>\n<p>Hitting those will show the corresponding metrics for all available caches. If you need to target a specific cache, say <code>cache1</code>, you can do it like so:</p>\n<p><code>/actuator/metrics/cache.gets?tag=name:cache1</code></p>\n<p>Make sure to expose the <code>metrics</code> endpoint by adding it to the <code>management.endpoints.web.exposure.include</code> app property, i.e.:</p>\n<p><code>management.endpoints.web.exposure.include=caches,metrics</code></p>\n<p>You might need these properties as well:</p>\n<pre><code>management.endpoint.metrics.enabled=true\nmanagement.endpoint.caches.enabled=true\n</code></pre>\n<p>Here's an example output of <code>/actuator/metrics/cache.gets</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;cache.gets&quot;,\n  &quot;description&quot;: &quot;The number of times cache lookup methods have returned a cached (hit) or uncached (newly loaded or null) value (miss).&quot;,\n  &quot;baseUnit&quot;: null,\n  &quot;measurements&quot;: [\n    {\n      &quot;statistic&quot;: &quot;COUNT&quot;,\n      &quot;value&quot;: 0.0\n    }\n  ],\n  &quot;availableTags&quot;: [\n    {\n      &quot;tag&quot;: &quot;result&quot;,\n      &quot;values&quot;: [\n        &quot;hit&quot;,\n        &quot;miss&quot;\n      ]\n    },\n    {\n      &quot;tag&quot;: &quot;cache.manager&quot;,\n      &quot;values&quot;: [\n        &quot;eh&quot;\n      ]\n    },\n    {\n      &quot;tag&quot;: &quot;cache&quot;,\n      &quot;values&quot;: [\n        &quot;cache1&quot;\n      ]\n    }\n  ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12473846,"reputation":98,"user_id":9080974,"display_name":"Herry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694609192,"creation_date":1694609192,"answer_id":77097217,"question_id":76760925,"body_markdown":"There were actually several problems going on which I want to describe here for others if they stumble upon similar issues:\r\n\r\n1. `spring.main.lazy-initialization` was set to `true` in my configuration, this lead to the bean `CacheMetricsRegistrar` not being loaded at application start. Setting this value to `false` temporarily lead to the metrics appearing in /actuator/metrics.\r\n\r\nThe solution to resolve this permanently was to create a second class which actually creates the caches. This class got the annotation `@Lazy(false)` as well as a dependency to `CacheMetricsRegistrar`.\r\n\r\n2. Now the metrics were available, but they did not include the caches configured (cache1). Appearently I have to add them manually to the registrar to make the metrics appear in the actuator like this:\r\n\r\n```\r\njCacheManager.createCache(name,Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfig));\r\njCacheManager.enableStatistics(name, true);\r\n    \r\nregistrar.bindCacheToRegistry(cacheManager.getCache(name));\r\n```\r\n\r\nI had to use the bean `JCacheCacheManager` to create the cache and `CacheManager` to access it in a way for the registrar to handle.","title":"Spring Boot JCache metrics","body":"<p>There were actually several problems going on which I want to describe here for others if they stumble upon similar issues:</p>\n<ol>\n<li><code>spring.main.lazy-initialization</code> was set to <code>true</code> in my configuration, this lead to the bean <code>CacheMetricsRegistrar</code> not being loaded at application start. Setting this value to <code>false</code> temporarily lead to the metrics appearing in /actuator/metrics.</li>\n</ol>\n<p>The solution to resolve this permanently was to create a second class which actually creates the caches. This class got the annotation <code>@Lazy(false)</code> as well as a dependency to <code>CacheMetricsRegistrar</code>.</p>\n<ol start=\"2\">\n<li>Now the metrics were available, but they did not include the caches configured (cache1). Appearently I have to add them manually to the registrar to make the metrics appear in the actuator like this:</li>\n</ol>\n<pre><code>jCacheManager.createCache(name,Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfig));\njCacheManager.enableStatistics(name, true);\n    \nregistrar.bindCacheToRegistry(cacheManager.getCache(name));\n</code></pre>\n<p>I had to use the bean <code>JCacheCacheManager</code> to create the cache and <code>CacheManager</code> to access it in a way for the registrar to handle.</p>\n"}],"owner":{"account_id":12473846,"reputation":98,"user_id":9080974,"display_name":"Herry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77097217,"answer_count":2,"score":0,"last_activity_date":1694609192,"creation_date":1690274518,"question_id":76760925,"body_markdown":"I use JCache with EhCache 3 in Spring Boot 2 and want to monitor metrics like hit rate or cache size ([https://docs.spring.io/][1]). To achieve that, I enabled actuators and looked at `localhost:8080/actuators/caches`, which listed all my created caches, but not the actual metrics I need. The only field listed for each cache is `target`. The response looks like this:\r\n\r\n    {\r\n      &quot;cacheManagers&quot;: {\r\n        &quot;ehCacheManager&quot;: {\r\n          &quot;caches&quot;: {\r\n            &quot;cache1&quot;: {\r\n              &quot;target&quot;: &quot;org.ehcache.jsr107.Eh107Cache&quot;\r\n            },\r\n            &quot;cache2&quot;: {\r\n              &quot;target&quot;: &quot;org.ehcache.jsr107.Eh107Cache&quot;\r\n            }\r\n          },\r\n        },\r\n      }\r\n    }\r\n\r\n\r\nI create the caches like this:\r\n\r\n\r\n      @Bean\r\n      public CacheManager ehCacheManager() {\r\n        var cacheManager = Caching.getCachingProvider(&quot;org.ehcache.jsr107.EhcacheCachingProvider&quot;)\r\n            .getCacheManager();\r\n\r\n        cacheManager.destroyCache(&quot;cache1&quot;);\r\n\r\n        var cacheConfig = CacheConfigurationBuilder.newCacheConfigurationBuilder(\r\n            String.class,\r\n            Integer.class,\r\n            ResourcePoolsBuilder.heap(1000)\r\n        ).build();\r\n        cacheManager.createCache(&quot;cache1&quot;,Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfig));\r\n        cacheManager.enableStatistics(&quot;cache1&quot;, true);\r\n    \r\n        return new JCacheCacheManager(cacheManager);\r\n      }\r\n\r\nHow do I include all metrics (that should be provided by JCache) to the caches endpoint of the actuator?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/production-ready-metrics.html#production-ready-datasource-cache","title":"Spring Boot JCache metrics","body":"<p>I use JCache with EhCache 3 in Spring Boot 2 and want to monitor metrics like hit rate or cache size (<a href=\"https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/production-ready-metrics.html#production-ready-datasource-cache\" rel=\"nofollow noreferrer\">https://docs.spring.io/</a>). To achieve that, I enabled actuators and looked at <code>localhost:8080/actuators/caches</code>, which listed all my created caches, but not the actual metrics I need. The only field listed for each cache is <code>target</code>. The response looks like this:</p>\n<pre><code>{\n  &quot;cacheManagers&quot;: {\n    &quot;ehCacheManager&quot;: {\n      &quot;caches&quot;: {\n        &quot;cache1&quot;: {\n          &quot;target&quot;: &quot;org.ehcache.jsr107.Eh107Cache&quot;\n        },\n        &quot;cache2&quot;: {\n          &quot;target&quot;: &quot;org.ehcache.jsr107.Eh107Cache&quot;\n        }\n      },\n    },\n  }\n}\n</code></pre>\n<p>I create the caches like this:</p>\n<pre><code>  @Bean\n  public CacheManager ehCacheManager() {\n    var cacheManager = Caching.getCachingProvider(&quot;org.ehcache.jsr107.EhcacheCachingProvider&quot;)\n        .getCacheManager();\n\n    cacheManager.destroyCache(&quot;cache1&quot;);\n\n    var cacheConfig = CacheConfigurationBuilder.newCacheConfigurationBuilder(\n        String.class,\n        Integer.class,\n        ResourcePoolsBuilder.heap(1000)\n    ).build();\n    cacheManager.createCache(&quot;cache1&quot;,Eh107Configuration.fromEhcacheCacheConfiguration(cacheConfig));\n    cacheManager.enableStatistics(&quot;cache1&quot;, true);\n\n    return new JCacheCacheManager(cacheManager);\n  }\n</code></pre>\n<p>How do I include all metrics (that should be provided by JCache) to the caches endpoint of the actuator?</p>\n"},{"tags":["java","azure","azure-functions","webhooks","slack"],"answers":[{"tags":[],"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694608363,"creation_date":1694608363,"answer_id":77097131,"question_id":77095845,"body_markdown":"I had missed a lot of variables in my data model. I have not found any schemas for this yet so I will have to do this alert by alert because the json objects seem to change per alert.","title":"Azure Function app to receive Azure Monitor Alert and post to Slack webhook","body":"<p>I had missed a lot of variables in my data model. I have not found any schemas for this yet so I will have to do this alert by alert because the json objects seem to change per alert.</p>\n"}],"owner":{"account_id":7434209,"reputation":81,"user_id":5827272,"display_name":"CompileNow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77097131,"answer_count":1,"score":0,"last_activity_date":1694608363,"creation_date":1694597600,"question_id":77095845,"body_markdown":"I have been trying to get my function app to work. What I am trying to do is integrate Azure Monitor Alerts in to posting in a Slack channel. This is done through a Webhook in Slack.\r\n\r\nI can get it working in local environment when I post a x-www-form-urlencoded POST to the function app.\r\n\r\nWhat I want to achieve now is to receive Azure Monitor Alerts in correct format, parse and adjust format to send to the Webhook.\r\n\r\nI have big issues to receive the Alert and parse. Can anybody point out how to get the objects parsed correct?\r\n\r\nI started with some code to receive POST, this work fine. \r\n```\r\nimport com.microsoft.azure.functions.annotation.*;\r\nimport com.microsoft.azure.functions.*;\r\n\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\nimport java.io.OutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PrintWriter;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class AzureMonitorAlertFunction {\r\n    @FunctionName(&quot;AzureMonitorAlertFunction&quot;)\r\n    public HttpResponseMessage run(\r\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n            final ExecutionContext context) {\r\n\r\n        context.getLogger().info(&quot;Java HTTP trigger processed an Azure Monitor alert.&quot;);\r\n\r\n        try {\r\n            // Get the alert payload from Azure Monitor\r\n            String alertPayload = request.getBody().orElse(&quot;&quot;);\r\n\r\n            // Format the alert payload into a Slack message\r\n            String slackMessage = &quot;{ \\&quot;text\\&quot;: \\&quot;New Azure Monitor Alert: &quot; + alertPayload + &quot;\\&quot; }&quot;;\r\n\r\n            // Send the message to Slack using the incoming webhook\r\n            String slackWebhookUrl = System.getenv(&quot;SLACK_WEBHOOK_URL&quot;);\r\n            sendSlackMessage(slackWebhookUrl, slackMessage);\r\n\r\n            return request.createResponseBuilder(HttpStatus.OK).body(&quot;Alert sent to Slack successfully!&quot;).build();\r\n        } catch (Exception e) {\r\n            // Log the error\r\n            context.getLogger().severe(&quot;Error processing Azure Monitor alert: &quot; + e.getMessage());\r\n\r\n            // Return an error response\r\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error processing alert.&quot;).build();\r\n        }\r\n    }\r\n\r\n    private void sendSlackMessage(String webhookUrl, String message) throws Exception {\r\n        try {\r\n            URL url = new URL(webhookUrl);\r\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n            conn.setRequestMethod(&quot;POST&quot;);\r\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            conn.setDoOutput(true);\r\n\r\n            try (OutputStream os = conn.getOutputStream(); PrintWriter writer = new PrintWriter(new OutputStreamWriter(os, StandardCharsets.UTF_8))) {\r\n                writer.write(message);\r\n                writer.flush();\r\n            }\r\n\r\n            int responseCode = conn.getResponseCode();\r\n            if (responseCode != 200) {\r\n                throw new RuntimeException(&quot;Failed to send alert to Slack. Response code: &quot; + responseCode);\r\n            }\r\n\r\n            conn.disconnect();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error sending alert to Slack: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThen when I add parsing to receive the Azure Monitor alert, I run into issues...\r\nHere&#39;s the code\r\n``` \r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.microsoft.azure.functions.annotation.*;\r\nimport com.microsoft.azure.functions.*;\r\n\r\nimport java.io.OutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PrintWriter;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Optional;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\npublic class AlertToSlack {\r\n    @FunctionName(&quot;AzureMonitorAlertFunction&quot;)\r\n    public HttpResponseMessage run(\r\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n            final ExecutionContext context) {\r\n\r\n        context.getLogger().info(&quot;Java HTTP trigger processed an Azure Monitor alert.&quot;);\r\n\r\n        try {\r\n            // Get the alert payload from Azure Monitor\r\n            String alertPayload = request.getBody().orElse(&quot;&quot;);\r\n\r\n            // Parse the JSON payload into an AzureMonitorAlert object\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            AzureMonitorAlert alert = objectMapper.readValue(alertPayload, AzureMonitorAlert.class);\r\n\r\n            // Format the alert details into a Slack message\r\n            String slackMessage = &quot;{ \\&quot;text\\&quot;: \\&quot;New Azure Monitor Alert: &quot; +\r\n                    &quot;Rule: &quot; + alert.getData().getEssentials().getAlertRule() + &quot;, &quot; +\r\n                    &quot;Severity: &quot; + alert.getData().getEssentials().getSeverity() + &quot;\\&quot; }&quot;;\r\n\r\n            // Send the message to Slack using the incoming webhook\r\n            String slackWebhookUrl = System.getenv(&quot;SLACK_WEBHOOK_URL&quot;);\r\n            sendSlackMessage(slackWebhookUrl, slackMessage);\r\n\r\n            return request.createResponseBuilder(HttpStatus.OK).body(&quot;Alert sent to Slack successfully!&quot;).build();\r\n        } catch (Exception e) {\r\n            // Log the error\r\n            context.getLogger().severe(&quot;Error processing Azure Monitor alert: &quot; + e.getMessage());\r\n\r\n            // Return an error response\r\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error processing alert.&quot;).build();\r\n        }\r\n    }\r\n\r\n\r\n    private void sendSlackMessage(String webhookUrl, String message) throws Exception {\r\n        try {\r\n            URL url = new URL(webhookUrl);\r\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n            conn.setRequestMethod(&quot;POST&quot;);\r\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            conn.setDoOutput(true);\r\n\r\n            try (OutputStream os = conn.getOutputStream(); PrintWriter writer = new PrintWriter(new OutputStreamWriter(os, StandardCharsets.UTF_8))) {\r\n                writer.write(message);\r\n                writer.flush();\r\n            }\r\n\r\n            int responseCode = conn.getResponseCode();\r\n            if (responseCode != 200) {\r\n                throw new RuntimeException(&quot;Failed to send alert to Slack. Response code: &quot; + responseCode);\r\n            }\r\n\r\n            conn.disconnect();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error sending alert to Slack: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n\r\n\r\nclass AzureMonitorAlert {\r\n    @JsonProperty(&quot;schemaId&quot;)\r\n    private String schemaId;\r\n\r\n    @JsonProperty(&quot;data&quot;)\r\n    private AlertData data;\r\n\r\n    @JsonProperty(&quot;alertId&quot;)\r\n    private String alertId;\r\n\r\n    // Getters and setters for schemaId and data\r\n\r\n    public String getSchemaId() {\r\n        return schemaId;\r\n    }\r\n\r\n    public void setSchemaId(String schemaId) {\r\n        this.schemaId = schemaId;\r\n    }\r\n\r\n    public AlertData getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(AlertData data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public String getAlertId() {\r\n        return alertId;\r\n    }\r\n\r\n    public void setAlertId(String alertId) {\r\n        this.alertId = alertId;\r\n    }\r\n}\r\n\r\nclass AlertData {\r\n    @JsonProperty(&quot;essentials&quot;)\r\n    private AlertEssentials essentials;\r\n\r\n    // Getters and setters for essentials\r\n\r\n    public AlertEssentials getEssentials() {\r\n        return essentials;\r\n    }\r\n\r\n    public void setEssentials(AlertEssentials essentials) {\r\n        this.essentials = essentials;\r\n    }\r\n}\r\n\r\nclass AlertEssentials {\r\n    @JsonProperty(&quot;alertRule&quot;)\r\n    private String alertRule;\r\n\r\n    @JsonProperty(&quot;severity&quot;)\r\n    private String severity;\r\n\r\n    // Getters and setters for alertRule and severity\r\n\r\n    public String getAlertRule() {\r\n        return alertRule;\r\n    }\r\n\r\n    public void setAlertRule(String alertRule) {\r\n        this.alertRule = alertRule;\r\n    }\r\n\r\n    public String getSeverity() {\r\n        return severity;\r\n    }\r\n\r\n    public void setSeverity(String severity) {\r\n        this.severity = severity;\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere&#39;s an example I tried to POST as raw format:\r\n\r\n``` \r\n{\r\n  &quot;schemaId&quot;: &quot;AzureMonitorMetricAlert&quot;,\r\n  &quot;data&quot;: {\r\n    &quot;essentials&quot;: {\r\n      &quot;alertId&quot;: &quot;/subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/microsoft.insights/metricAlerts/{alert-name}&quot;,\r\n      &quot;alertRule&quot;: &quot;alert-name&quot;,\r\n      &quot;severity&quot;: &quot;Sev1&quot;,\r\n      &quot;signalType&quot;: &quot;Metric&quot;,\r\n      &quot;monitorCondition&quot;: &quot;Fired&quot;,\r\n      &quot;monitoringService&quot;: &quot;Platform&quot;,\r\n      &quot;targetResource&quot;: {\r\n        &quot;resourceId&quot;: &quot;/subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/{resource-provider}/{resource-type}/{resource-name}&quot;,\r\n        &quot;resourceName&quot;: &quot;resource-name&quot;,\r\n        &quot;resourceType&quot;: &quot;resource-type&quot;\r\n      },\r\n      &quot;timestamp&quot;: &quot;2023-09-13T12:34:56.789Z&quot;\r\n    },\r\n    &quot;result&quot;: {\r\n      &quot;baseline&quot;: 100,\r\n      &quot;currentValue&quot;: 120,\r\n      &quot;dynamicThresholds&quot;: {\r\n        &quot;lower&quot;: 80,\r\n        &quot;upper&quot;: 150\r\n      },\r\n      &quot;firedDateTime&quot;: &quot;2023-09-13T12:34:56.789Z&quot;\r\n    }\r\n  },\r\n  &quot;context&quot;: {\r\n    &quot;timestamp&quot;: &quot;2023-09-13T12:34:56.789Z&quot;,\r\n    &quot;id&quot;: &quot;unique-id&quot;,\r\n    &quot;name&quot;: &quot;alert-name&quot;,\r\n    &quot;description&quot;: &quot;This is a sample alert description.&quot;,\r\n    &quot;type&quot;: &quot;Microsoft.Insights/metricAlerts&quot;,\r\n    &quot;conditionType&quot;: &quot;SingleResourceMultipleMetricCriteria&quot;,\r\n    &quot;condition&quot;: {\r\n      &quot;windowSize&quot;: &quot;PT5M&quot;,\r\n      &quot;allOf&quot;: [\r\n        {\r\n          &quot;metricName&quot;: &quot;metric-name&quot;,\r\n          &quot;aggregation&quot;: &quot;Average&quot;,\r\n          &quot;operator&quot;: &quot;GreaterThan&quot;,\r\n          &quot;threshold&quot;: 100\r\n        }\r\n      ]\r\n    },\r\n    &quot;subscriptionId&quot;: &quot;subscription-id&quot;,\r\n    &quot;resourceGroupName&quot;: &quot;resource-group&quot;\r\n  }\r\n}\r\n\r\n\r\n```\r\n\r\nAnd here&#39;s the error message I get:\r\n\r\n``` \r\n[2023-09-13T09:26:43.816Z] Java HTTP trigger processed an Azure Monitor alert.\r\n[2023-09-13T09:26:43.818Z] Error processing Azure Monitor alert: Unrecognized field &quot;alertId&quot; (class com.example.azurealerts.AlertEssentials), not marked as ignorable (2 known properties: &quot;alertRule&quot;, &quot;severity&quot;])\r\n at [Source: (String)&quot;{\r\n[2023-09-13T09:26:43.818Z]   &quot;schemaId&quot;: &quot;AzureMonitorMetricAlert&quot;,\r\n[2023-09-13T09:26:43.818Z] Function &quot;AzureMonitorAlertFunction&quot; (Id: 7c667744-9513-4cae-83aa-c24a485b9d6f) invoked by Java Worker\r\n[2023-09-13T09:26:43.818Z]   &quot;data&quot;: {\r\n[2023-09-13T09:26:43.818Z]     &quot;essentials&quot;: {\r\n[2023-09-13T09:26:43.819Z]       &quot;alertId&quot;: &quot;/subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/microsoft.insights/metricAlerts/{alert-name&quot;,\r\n[2023-09-13T09:26:43.819Z]       &quot;alertRule&quot;: &quot;alert-name&quot;,\r\n[2023-09-13T09:26:43.819Z] Executed &#39;Functions.AzureMonitorAlertFunction&#39; (Succeeded, Id=7c667744-9513-4cae-83aa-c24a485b9d6f, Duration=10ms)\r\n[2023-09-13T09:26:43.819Z]       &quot;severity&quot;: &quot;Sev1&quot;,\r\n[2023-09-13T09:26:43.819Z]       &quot;signalType&quot;: &quot;Metric&quot;,\r\n[2023-09-13T09:26:43.819Z]       &quot;monitorCondition&quot;: &quot;Fired&quot;,\r\n[2023-09-13T09:26:43.819Z]       &quot;monitoringService&quot;: &quot;Platform&quot;,\r\n[2023-09-13T09:26:43.819Z]       &quot;targetResource&quot;: {\r\n[2023-09-13T09:26:43.820Z]         &quot;resourceId&quot;: &quot;/subscriptions/{subscription-id}/resourceGroups/{resource-group&quot;[truncated 1055 chars]; line: 5, column: 19] (through reference chain: com.example.azurealerts.AzureMonitorAlert[&quot;data&quot;]-&gt;com.example.azurealerts.AlertData[&quot;essentials&quot;]-&gt;com.example.azurealerts.AlertEssentials[&quot;alertId&quot;])\r\n```\r\n\r\nI added all JSON Object attributes i.e.:\r\n``` \r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\npublic class AlertEssentials {\r\n    @JsonProperty(&quot;alertId&quot;)\r\n    private String alertId;\r\n\r\n    @JsonProperty(&quot;alertRule&quot;)\r\n    private String alertRule;\r\n\r\n    @JsonProperty(&quot;severity&quot;)\r\n    private String severity;\r\n\r\n    @JsonProperty(&quot;signalType&quot;)\r\n    private String signalType;\r\n\r\n    @JsonProperty(&quot;monitorCondition&quot;)\r\n    private String monitorCondition;\r\n\r\n    @JsonProperty(&quot;monitoringService&quot;)\r\n    private String monitoringService;\r\n\r\n    @JsonProperty(&quot;alertTargetIDs&quot;)\r\n    private String[] alertTargetIDs;\r\n\r\n    @JsonProperty(&quot;configurationItems&quot;)\r\n    private String[] configurationItems;\r\n\r\n    @JsonProperty(&quot;originAlertId&quot;)\r\n    private String originAlertId;\r\n\r\n    @JsonProperty(&quot;firedDateTime&quot;)\r\n    private String firedDateTime;\r\n\r\n    @JsonProperty(&quot;description&quot;)\r\n    private String description;\r\n\r\n    @JsonProperty(&quot;essentialsVersion&quot;)\r\n    private String essentialsVersion;\r\n\r\n    @JsonProperty(&quot;alertContextVersion&quot;)\r\n    private String alertContextVersion;\r\n\r\n    // Getters and setters for all fields\r\n\r\n    public String getAlertId() {\r\n        return alertId;\r\n    }\r\n\r\n    public void setAlertId(String alertId) {\r\n        this.alertId = alertId;\r\n    }\r\n\r\n    public String getAlertRule() {\r\n        return alertRule;\r\n    }\r\n\r\n    public void setAlertRule(String alertRule) {\r\n        this.alertRule = alertRule;\r\n    }\r\n\r\n    public String getSeverity() {\r\n        return severity;\r\n    }\r\n\r\n    public void setSeverity(String severity) {\r\n        this.severity = severity;\r\n    }\r\n\r\n    public String getSignalType() {\r\n        return signalType;\r\n    }\r\n\r\n    public void setSignalType(String signalType) {\r\n        this.signalType = signalType;\r\n    }\r\n\r\n    public String getMonitorCondition() {\r\n        return monitorCondition;\r\n    }\r\n\r\n    public void setMonitorCondition(String monitorCondition) {\r\n        this.monitorCondition = monitorCondition;\r\n    }\r\n\r\n    public String getMonitoringService() {\r\n        return monitoringService;\r\n    }\r\n\r\n    public void setMonitoringService(String monitoringService) {\r\n        this.monitoringService = monitoringService;\r\n    }\r\n\r\n    public String[] getAlertTargetIDs() {\r\n        return alertTargetIDs;\r\n    }\r\n\r\n    public void setAlertTargetIDs(String[] alertTargetIDs) {\r\n        this.alertTargetIDs = alertTargetIDs;\r\n    }\r\n\r\n    public String[] getConfigurationItems() {\r\n        return configurationItems;\r\n    }\r\n\r\n    public void setConfigurationItems(String[] configurationItems) {\r\n        this.configurationItems = configurationItems;\r\n    }\r\n\r\n    public String getOriginAlertId() {\r\n        return originAlertId;\r\n    }\r\n\r\n    public void setOriginAlertId(String originAlertId) {\r\n        this.originAlertId = originAlertId;\r\n    }\r\n\r\n    public String getFiredDateTime() {\r\n        return firedDateTime;\r\n    }\r\n\r\n    public void setFiredDateTime(String firedDateTime) {\r\n        this.firedDateTime = firedDateTime;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getEssentialsVersion() {\r\n        return essentialsVersion;\r\n    }\r\n\r\n    public void setEssentialsVersion(String essentialsVersion) {\r\n        this.essentialsVersion = essentialsVersion;\r\n    }\r\n\r\n    public String getAlertContextVersion() {\r\n        return alertContextVersion;\r\n    }\r\n\r\n    public void setAlertContextVersion(String alertContextVersion) {\r\n        this.alertContextVersion = alertContextVersion;\r\n    }\r\n}\r\n\r\n```\r\nAnd I think it might be working. I will update shortly","title":"Azure Function app to receive Azure Monitor Alert and post to Slack webhook","body":"<p>I have been trying to get my function app to work. What I am trying to do is integrate Azure Monitor Alerts in to posting in a Slack channel. This is done through a Webhook in Slack.</p>\n<p>I can get it working in local environment when I post a x-www-form-urlencoded POST to the function app.</p>\n<p>What I want to achieve now is to receive Azure Monitor Alerts in correct format, parse and adjust format to send to the Webhook.</p>\n<p>I have big issues to receive the Alert and parse. Can anybody point out how to get the objects parsed correct?</p>\n<p>I started with some code to receive POST, this work fine.</p>\n<pre><code>import com.microsoft.azure.functions.annotation.*;\nimport com.microsoft.azure.functions.*;\n\nimport java.util.Map;\nimport java.util.HashMap;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\n\npublic class AzureMonitorAlertFunction {\n    @FunctionName(&quot;AzureMonitorAlertFunction&quot;)\n    public HttpResponseMessage run(\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context) {\n\n        context.getLogger().info(&quot;Java HTTP trigger processed an Azure Monitor alert.&quot;);\n\n        try {\n            // Get the alert payload from Azure Monitor\n            String alertPayload = request.getBody().orElse(&quot;&quot;);\n\n            // Format the alert payload into a Slack message\n            String slackMessage = &quot;{ \\&quot;text\\&quot;: \\&quot;New Azure Monitor Alert: &quot; + alertPayload + &quot;\\&quot; }&quot;;\n\n            // Send the message to Slack using the incoming webhook\n            String slackWebhookUrl = System.getenv(&quot;SLACK_WEBHOOK_URL&quot;);\n            sendSlackMessage(slackWebhookUrl, slackMessage);\n\n            return request.createResponseBuilder(HttpStatus.OK).body(&quot;Alert sent to Slack successfully!&quot;).build();\n        } catch (Exception e) {\n            // Log the error\n            context.getLogger().severe(&quot;Error processing Azure Monitor alert: &quot; + e.getMessage());\n\n            // Return an error response\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error processing alert.&quot;).build();\n        }\n    }\n\n    private void sendSlackMessage(String webhookUrl, String message) throws Exception {\n        try {\n            URL url = new URL(webhookUrl);\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(&quot;POST&quot;);\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            conn.setDoOutput(true);\n\n            try (OutputStream os = conn.getOutputStream(); PrintWriter writer = new PrintWriter(new OutputStreamWriter(os, StandardCharsets.UTF_8))) {\n                writer.write(message);\n                writer.flush();\n            }\n\n            int responseCode = conn.getResponseCode();\n            if (responseCode != 200) {\n                throw new RuntimeException(&quot;Failed to send alert to Slack. Response code: &quot; + responseCode);\n            }\n\n            conn.disconnect();\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error sending alert to Slack: &quot; + e.getMessage());\n        }\n    }\n}\n\n</code></pre>\n<p>Then when I add parsing to receive the Azure Monitor alert, I run into issues...\nHere's the code</p>\n<pre><code>\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.microsoft.azure.functions.annotation.*;\nimport com.microsoft.azure.functions.*;\n\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Optional;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class AlertToSlack {\n    @FunctionName(&quot;AzureMonitorAlertFunction&quot;)\n    public HttpResponseMessage run(\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context) {\n\n        context.getLogger().info(&quot;Java HTTP trigger processed an Azure Monitor alert.&quot;);\n\n        try {\n            // Get the alert payload from Azure Monitor\n            String alertPayload = request.getBody().orElse(&quot;&quot;);\n\n            // Parse the JSON payload into an AzureMonitorAlert object\n            ObjectMapper objectMapper = new ObjectMapper();\n            AzureMonitorAlert alert = objectMapper.readValue(alertPayload, AzureMonitorAlert.class);\n\n            // Format the alert details into a Slack message\n            String slackMessage = &quot;{ \\&quot;text\\&quot;: \\&quot;New Azure Monitor Alert: &quot; +\n                    &quot;Rule: &quot; + alert.getData().getEssentials().getAlertRule() + &quot;, &quot; +\n                    &quot;Severity: &quot; + alert.getData().getEssentials().getSeverity() + &quot;\\&quot; }&quot;;\n\n            // Send the message to Slack using the incoming webhook\n            String slackWebhookUrl = System.getenv(&quot;SLACK_WEBHOOK_URL&quot;);\n            sendSlackMessage(slackWebhookUrl, slackMessage);\n\n            return request.createResponseBuilder(HttpStatus.OK).body(&quot;Alert sent to Slack successfully!&quot;).build();\n        } catch (Exception e) {\n            // Log the error\n            context.getLogger().severe(&quot;Error processing Azure Monitor alert: &quot; + e.getMessage());\n\n            // Return an error response\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error processing alert.&quot;).build();\n        }\n    }\n\n\n    private void sendSlackMessage(String webhookUrl, String message) throws Exception {\n        try {\n            URL url = new URL(webhookUrl);\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(&quot;POST&quot;);\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            conn.setDoOutput(true);\n\n            try (OutputStream os = conn.getOutputStream(); PrintWriter writer = new PrintWriter(new OutputStreamWriter(os, StandardCharsets.UTF_8))) {\n                writer.write(message);\n                writer.flush();\n            }\n\n            int responseCode = conn.getResponseCode();\n            if (responseCode != 200) {\n                throw new RuntimeException(&quot;Failed to send alert to Slack. Response code: &quot; + responseCode);\n            }\n\n            conn.disconnect();\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error sending alert to Slack: &quot; + e.getMessage());\n        }\n    }\n}\n\n\nclass AzureMonitorAlert {\n    @JsonProperty(&quot;schemaId&quot;)\n    private String schemaId;\n\n    @JsonProperty(&quot;data&quot;)\n    private AlertData data;\n\n    @JsonProperty(&quot;alertId&quot;)\n    private String alertId;\n\n    // Getters and setters for schemaId and data\n\n    public String getSchemaId() {\n        return schemaId;\n    }\n\n    public void setSchemaId(String schemaId) {\n        this.schemaId = schemaId;\n    }\n\n    public AlertData getData() {\n        return data;\n    }\n\n    public void setData(AlertData data) {\n        this.data = data;\n    }\n\n    public String getAlertId() {\n        return alertId;\n    }\n\n    public void setAlertId(String alertId) {\n        this.alertId = alertId;\n    }\n}\n\nclass AlertData {\n    @JsonProperty(&quot;essentials&quot;)\n    private AlertEssentials essentials;\n\n    // Getters and setters for essentials\n\n    public AlertEssentials getEssentials() {\n        return essentials;\n    }\n\n    public void setEssentials(AlertEssentials essentials) {\n        this.essentials = essentials;\n    }\n}\n\nclass AlertEssentials {\n    @JsonProperty(&quot;alertRule&quot;)\n    private String alertRule;\n\n    @JsonProperty(&quot;severity&quot;)\n    private String severity;\n\n    // Getters and setters for alertRule and severity\n\n    public String getAlertRule() {\n        return alertRule;\n    }\n\n    public void setAlertRule(String alertRule) {\n        this.alertRule = alertRule;\n    }\n\n    public String getSeverity() {\n        return severity;\n    }\n\n    public void setSeverity(String severity) {\n        this.severity = severity;\n    }\n}\n\n</code></pre>\n<p>Here's an example I tried to POST as raw format:</p>\n<pre><code>{\n  &quot;schemaId&quot;: &quot;AzureMonitorMetricAlert&quot;,\n  &quot;data&quot;: {\n    &quot;essentials&quot;: {\n      &quot;alertId&quot;: &quot;/subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/microsoft.insights/metricAlerts/{alert-name}&quot;,\n      &quot;alertRule&quot;: &quot;alert-name&quot;,\n      &quot;severity&quot;: &quot;Sev1&quot;,\n      &quot;signalType&quot;: &quot;Metric&quot;,\n      &quot;monitorCondition&quot;: &quot;Fired&quot;,\n      &quot;monitoringService&quot;: &quot;Platform&quot;,\n      &quot;targetResource&quot;: {\n        &quot;resourceId&quot;: &quot;/subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/{resource-provider}/{resource-type}/{resource-name}&quot;,\n        &quot;resourceName&quot;: &quot;resource-name&quot;,\n        &quot;resourceType&quot;: &quot;resource-type&quot;\n      },\n      &quot;timestamp&quot;: &quot;2023-09-13T12:34:56.789Z&quot;\n    },\n    &quot;result&quot;: {\n      &quot;baseline&quot;: 100,\n      &quot;currentValue&quot;: 120,\n      &quot;dynamicThresholds&quot;: {\n        &quot;lower&quot;: 80,\n        &quot;upper&quot;: 150\n      },\n      &quot;firedDateTime&quot;: &quot;2023-09-13T12:34:56.789Z&quot;\n    }\n  },\n  &quot;context&quot;: {\n    &quot;timestamp&quot;: &quot;2023-09-13T12:34:56.789Z&quot;,\n    &quot;id&quot;: &quot;unique-id&quot;,\n    &quot;name&quot;: &quot;alert-name&quot;,\n    &quot;description&quot;: &quot;This is a sample alert description.&quot;,\n    &quot;type&quot;: &quot;Microsoft.Insights/metricAlerts&quot;,\n    &quot;conditionType&quot;: &quot;SingleResourceMultipleMetricCriteria&quot;,\n    &quot;condition&quot;: {\n      &quot;windowSize&quot;: &quot;PT5M&quot;,\n      &quot;allOf&quot;: [\n        {\n          &quot;metricName&quot;: &quot;metric-name&quot;,\n          &quot;aggregation&quot;: &quot;Average&quot;,\n          &quot;operator&quot;: &quot;GreaterThan&quot;,\n          &quot;threshold&quot;: 100\n        }\n      ]\n    },\n    &quot;subscriptionId&quot;: &quot;subscription-id&quot;,\n    &quot;resourceGroupName&quot;: &quot;resource-group&quot;\n  }\n}\n\n\n</code></pre>\n<p>And here's the error message I get:</p>\n<pre><code>[2023-09-13T09:26:43.816Z] Java HTTP trigger processed an Azure Monitor alert.\n[2023-09-13T09:26:43.818Z] Error processing Azure Monitor alert: Unrecognized field &quot;alertId&quot; (class com.example.azurealerts.AlertEssentials), not marked as ignorable (2 known properties: &quot;alertRule&quot;, &quot;severity&quot;])\n at [Source: (String)&quot;{\n[2023-09-13T09:26:43.818Z]   &quot;schemaId&quot;: &quot;AzureMonitorMetricAlert&quot;,\n[2023-09-13T09:26:43.818Z] Function &quot;AzureMonitorAlertFunction&quot; (Id: 7c667744-9513-4cae-83aa-c24a485b9d6f) invoked by Java Worker\n[2023-09-13T09:26:43.818Z]   &quot;data&quot;: {\n[2023-09-13T09:26:43.818Z]     &quot;essentials&quot;: {\n[2023-09-13T09:26:43.819Z]       &quot;alertId&quot;: &quot;/subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/microsoft.insights/metricAlerts/{alert-name&quot;,\n[2023-09-13T09:26:43.819Z]       &quot;alertRule&quot;: &quot;alert-name&quot;,\n[2023-09-13T09:26:43.819Z] Executed 'Functions.AzureMonitorAlertFunction' (Succeeded, Id=7c667744-9513-4cae-83aa-c24a485b9d6f, Duration=10ms)\n[2023-09-13T09:26:43.819Z]       &quot;severity&quot;: &quot;Sev1&quot;,\n[2023-09-13T09:26:43.819Z]       &quot;signalType&quot;: &quot;Metric&quot;,\n[2023-09-13T09:26:43.819Z]       &quot;monitorCondition&quot;: &quot;Fired&quot;,\n[2023-09-13T09:26:43.819Z]       &quot;monitoringService&quot;: &quot;Platform&quot;,\n[2023-09-13T09:26:43.819Z]       &quot;targetResource&quot;: {\n[2023-09-13T09:26:43.820Z]         &quot;resourceId&quot;: &quot;/subscriptions/{subscription-id}/resourceGroups/{resource-group&quot;[truncated 1055 chars]; line: 5, column: 19] (through reference chain: com.example.azurealerts.AzureMonitorAlert[&quot;data&quot;]-&gt;com.example.azurealerts.AlertData[&quot;essentials&quot;]-&gt;com.example.azurealerts.AlertEssentials[&quot;alertId&quot;])\n</code></pre>\n<p>I added all JSON Object attributes i.e.:</p>\n<pre><code>\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class AlertEssentials {\n    @JsonProperty(&quot;alertId&quot;)\n    private String alertId;\n\n    @JsonProperty(&quot;alertRule&quot;)\n    private String alertRule;\n\n    @JsonProperty(&quot;severity&quot;)\n    private String severity;\n\n    @JsonProperty(&quot;signalType&quot;)\n    private String signalType;\n\n    @JsonProperty(&quot;monitorCondition&quot;)\n    private String monitorCondition;\n\n    @JsonProperty(&quot;monitoringService&quot;)\n    private String monitoringService;\n\n    @JsonProperty(&quot;alertTargetIDs&quot;)\n    private String[] alertTargetIDs;\n\n    @JsonProperty(&quot;configurationItems&quot;)\n    private String[] configurationItems;\n\n    @JsonProperty(&quot;originAlertId&quot;)\n    private String originAlertId;\n\n    @JsonProperty(&quot;firedDateTime&quot;)\n    private String firedDateTime;\n\n    @JsonProperty(&quot;description&quot;)\n    private String description;\n\n    @JsonProperty(&quot;essentialsVersion&quot;)\n    private String essentialsVersion;\n\n    @JsonProperty(&quot;alertContextVersion&quot;)\n    private String alertContextVersion;\n\n    // Getters and setters for all fields\n\n    public String getAlertId() {\n        return alertId;\n    }\n\n    public void setAlertId(String alertId) {\n        this.alertId = alertId;\n    }\n\n    public String getAlertRule() {\n        return alertRule;\n    }\n\n    public void setAlertRule(String alertRule) {\n        this.alertRule = alertRule;\n    }\n\n    public String getSeverity() {\n        return severity;\n    }\n\n    public void setSeverity(String severity) {\n        this.severity = severity;\n    }\n\n    public String getSignalType() {\n        return signalType;\n    }\n\n    public void setSignalType(String signalType) {\n        this.signalType = signalType;\n    }\n\n    public String getMonitorCondition() {\n        return monitorCondition;\n    }\n\n    public void setMonitorCondition(String monitorCondition) {\n        this.monitorCondition = monitorCondition;\n    }\n\n    public String getMonitoringService() {\n        return monitoringService;\n    }\n\n    public void setMonitoringService(String monitoringService) {\n        this.monitoringService = monitoringService;\n    }\n\n    public String[] getAlertTargetIDs() {\n        return alertTargetIDs;\n    }\n\n    public void setAlertTargetIDs(String[] alertTargetIDs) {\n        this.alertTargetIDs = alertTargetIDs;\n    }\n\n    public String[] getConfigurationItems() {\n        return configurationItems;\n    }\n\n    public void setConfigurationItems(String[] configurationItems) {\n        this.configurationItems = configurationItems;\n    }\n\n    public String getOriginAlertId() {\n        return originAlertId;\n    }\n\n    public void setOriginAlertId(String originAlertId) {\n        this.originAlertId = originAlertId;\n    }\n\n    public String getFiredDateTime() {\n        return firedDateTime;\n    }\n\n    public void setFiredDateTime(String firedDateTime) {\n        this.firedDateTime = firedDateTime;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getEssentialsVersion() {\n        return essentialsVersion;\n    }\n\n    public void setEssentialsVersion(String essentialsVersion) {\n        this.essentialsVersion = essentialsVersion;\n    }\n\n    public String getAlertContextVersion() {\n        return alertContextVersion;\n    }\n\n    public void setAlertContextVersion(String alertContextVersion) {\n        this.alertContextVersion = alertContextVersion;\n    }\n}\n\n</code></pre>\n<p>And I think it might be working. I will update shortly</p>\n"},{"tags":["java","android","flutter","gradle"],"comments":[{"owner":{"account_id":18055569,"reputation":625,"user_id":13124119,"display_name":"Kamal Panara"},"score":0,"creation_date":1694607649,"post_id":77096973,"comment_id":135913092,"body_markdown":"hi can you share the log from `flutter doctor -v` and which OS are you on?","body":"hi can you share the log from <code>flutter doctor -v</code> and which OS are you on?"},{"owner":{"account_id":29251812,"reputation":28,"user_id":22411021,"display_name":"learner_bee"},"score":0,"creation_date":1694607995,"post_id":77096973,"comment_id":135913167,"body_markdown":"I just added that to the question.","body":"I just added that to the question."},{"owner":{"account_id":18055569,"reputation":625,"user_id":13124119,"display_name":"Kamal Panara"},"score":0,"creation_date":1694608132,"post_id":77096973,"comment_id":135913190,"body_markdown":"Make sure you have the correct version of Java installed. Flutter typically requires Java 8 or later. You can check your Java version by running `java -version` in your terminal.","body":"Make sure you have the correct version of Java installed. Flutter typically requires Java 8 or later. You can check your Java version by running <code>java -version</code> in your terminal."},{"owner":{"account_id":29251812,"reputation":28,"user_id":22411021,"display_name":"learner_bee"},"score":0,"creation_date":1694608266,"post_id":77096973,"comment_id":135913220,"body_markdown":"This is the java -version output:\nopenjdk version &quot;17.0.8&quot; 2023-07-18\nOpenJDK Runtime Environment Temurin-17.0.8+7 (build 17.0.8+7)\nOpenJDK 64-Bit Server VM Temurin-17.0.8+7 (build 17.0.8+7, mixed mode)","body":"This is the java -version output: openjdk version &quot;17.0.8&quot; 2023-07-18 OpenJDK Runtime Environment Temurin-17.0.8+7 (build 17.0.8+7) OpenJDK 64-Bit Server VM Temurin-17.0.8+7 (build 17.0.8+7, mixed mode)"},{"owner":{"account_id":29251812,"reputation":28,"user_id":22411021,"display_name":"learner_bee"},"score":0,"creation_date":1694608288,"post_id":77096973,"comment_id":135913225,"body_markdown":"It&#39;s been working well till today. I don&#39;t know what changed.","body":"It&#39;s been working well till today. I don&#39;t know what changed."},{"owner":{"account_id":18055569,"reputation":625,"user_id":13124119,"display_name":"Kamal Panara"},"score":0,"creation_date":1694608383,"post_id":77096973,"comment_id":135913247,"body_markdown":"try restarting your mac then lol","body":"try restarting your mac then lol"},{"owner":{"account_id":29251812,"reputation":28,"user_id":22411021,"display_name":"learner_bee"},"score":0,"creation_date":1694608439,"post_id":77096973,"comment_id":135913257,"body_markdown":"I did that, didn&#39;t work","body":"I did that, didn&#39;t work"},{"owner":{"account_id":18055569,"reputation":625,"user_id":13124119,"display_name":"Kamal Panara"},"score":0,"creation_date":1694608519,"post_id":77096973,"comment_id":135913273,"body_markdown":"just to be clear, does this error message come when you run that flutter project for android? or while creating a new flutter project that error is thrown?","body":"just to be clear, does this error message come when you run that flutter project for android? or while creating a new flutter project that error is thrown?"},{"owner":{"account_id":29251812,"reputation":28,"user_id":22411021,"display_name":"learner_bee"},"score":0,"creation_date":1694608835,"post_id":77096973,"comment_id":135913344,"body_markdown":"It shows in the errors when I create a new project.","body":"It shows in the errors when I create a new project."},{"owner":{"account_id":18055569,"reputation":625,"user_id":13124119,"display_name":"Kamal Panara"},"score":0,"creation_date":1694609466,"post_id":77096973,"comment_id":135913499,"body_markdown":"this looks like a gradle issue, I have had this issue in the past while creating Android builds, but not when creating a new project. so does it create a new Flutter project or not?","body":"this looks like a gradle issue, I have had this issue in the past while creating Android builds, but not when creating a new project. so does it create a new Flutter project or not?"},{"owner":{"account_id":18055569,"reputation":625,"user_id":13124119,"display_name":"Kamal Panara"},"score":0,"creation_date":1694609513,"post_id":77096973,"comment_id":135913512,"body_markdown":"don&#39;t use Java version 17. use lower, like Java 11","body":"don&#39;t use Java version 17. use lower, like Java 11"}],"owner":{"account_id":29251812,"reputation":28,"user_id":22411021,"display_name":"learner_bee"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694607980,"creation_date":1694607084,"question_id":77096973,"body_markdown":"On creating a fresh Flutter project using the &quot;flutter create &lt;project_name&gt;&quot; command, I&#39;m getting the following message(I&#39;m using VS Code):\r\n\r\nCould not run phased build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-7.5-all.zip&#39;.\r\nThe newly created daemon process has a different context than expected.\r\nIt won&#39;t be possible to reconnect to this daemon. Context mismatch: \r\nJava home is different.\r\nWanted: DefaultDaemonContext[uid=null,javaHome=/usr,daemonRegistryDir=/Users/xraydiffraction/.gradle/daemon,pid=7096,idleTimeout=null,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.base/java.nio.charset=ALL-UNNAMED,--add-opens,java.base/java.net=ALL-UNNAMED,--add-opens,java.base/java.util.concurrent.atomic=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=utf8,-Duser.country=IN,-Duser.language=en,-Duser.variant]\r\nActual: DefaultDaemonContext[uid=b4bf4432-f4a0-47d3-8b18-d9b3e30e2601,javaHome=/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home,daemonRegistryDir=/Users/xraydiffraction/.gradle/daemon,pid=7141,idleTimeout=10800000,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.base/java.nio.charset=ALL-UNNAMED,--add-opens,java.base/java.net=ALL-UNNAMED,--add-opens,java.base/java.util.concurrent.atomic=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=utf8,-Duser.country=IN,-Duser.language=en,-Duser.variant]\r\n\r\n\r\n\r\nI&#39;ve tried upgrading Flutter but that didn&#39;t work.\r\nWhat can I do to fix this?\r\n\r\nEdit: I&#39;m on MacOS. I&#39;m adding flutter doctor -v log here. It&#39;s all normal.\r\n % flutter doctor -v\r\n[â] Flutter (Channel stable, 3.13.3, on macOS 13.2.1 22D68 darwin-arm64, locale\r\n    en-IN)\r\n    â¢ Flutter version 3.13.3 on channel stable at\r\n      /Users/xraydiffraction/development/flutter\r\n    â¢ Upstream repository https://github.com/flutter/flutter.git\r\n    â¢ Framework revision 2524052335 (7 days ago), 2023-09-06 14:32:31 -0700\r\n    â¢ Engine revision b8d35810e9\r\n    â¢ Dart version 3.1.1\r\n    â¢ DevTools version 2.25.0\r\n\r\n[â] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\r\n    â¢ Android SDK at /Users/xraydiffraction/Library/Android/sdk\r\n    â¢ Platform android-33, build-tools 33.0.0\r\n    â¢ ANDROID_HOME = /Users/xraydiffraction/Library/Android/sdk\r\n    â¢ Java binary at: /Applications/Android\r\n      Studio.app/Contents/jbr/Contents/Home/bin/java\r\n    â¢ Java version OpenJDK Runtime Environment (build\r\n      17.0.6+0-17.0.6b802.4-9586694)\r\n    â¢ All Android licenses accepted.\r\n\r\n[â] Xcode - develop for iOS and macOS (Xcode 14.3.1)\r\n    â¢ Xcode at /Applications/Xcode.app/Contents/Developer\r\n    â¢ Build 14E300c\r\n    â¢ CocoaPods version 1.11.3\r\n\r\n[â] Chrome - develop for the web\r\n    â¢ Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\r\n\r\n[â] Android Studio (version 2022.2)\r\n    â¢ Android Studio at /Applications/Android Studio.app/Contents\r\n    â¢ Flutter plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/9212-flutter\r\n    â¢ Dart plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/6351-dart\r\n    â¢ Java version OpenJDK Runtime Environment (build\r\n      17.0.6+0-17.0.6b802.4-9586694)\r\n\r\n[â] VS Code (version 1.82.1)\r\n    â¢ VS Code at /Applications/Visual Studio Code.app/Contents\r\n    â¢ Flutter extension version 3.72.0\r\n\r\n[â] Connected device (2 available)\r\n    â¢ macOS (desktop) â¢ macos  â¢ darwin-arm64   â¢ macOS 13.2.1 22D68\r\n      darwin-arm64\r\n    â¢ Chrome (web)    â¢ chrome â¢ web-javascript â¢ Google Chrome 116.0.5845.187\r\n\r\n[â] Network resources\r\n    â¢ All expected network resources are available.\r\n\r\nâ¢ No issues found!\r\n","title":"Error on flutter create &lt;&gt;: The newly created daemon process has a different context than expected. It won&#39;t be possible to reconnect to this daemon","body":"<p>On creating a fresh Flutter project using the &quot;flutter create &lt;project_name&gt;&quot; command, I'm getting the following message(I'm using VS Code):</p>\n<p>Could not run phased build action using connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-7.5-all.zip'.\nThe newly created daemon process has a different context than expected.\nIt won't be possible to reconnect to this daemon. Context mismatch:\nJava home is different.\nWanted: DefaultDaemonContext[uid=null,javaHome=/usr,daemonRegistryDir=/Users/xraydiffraction/.gradle/daemon,pid=7096,idleTimeout=null,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.base/java.nio.charset=ALL-UNNAMED,--add-opens,java.base/java.net=ALL-UNNAMED,--add-opens,java.base/java.util.concurrent.atomic=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=utf8,-Duser.country=IN,-Duser.language=en,-Duser.variant]\nActual: DefaultDaemonContext[uid=b4bf4432-f4a0-47d3-8b18-d9b3e30e2601,javaHome=/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home,daemonRegistryDir=/Users/xraydiffraction/.gradle/daemon,pid=7141,idleTimeout=10800000,priority=NORMAL,daemonOpts=--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.base/java.lang=ALL-UNNAMED,--add-opens,java.base/java.lang.invoke=ALL-UNNAMED,--add-opens,java.base/java.util=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.prefs/java.util.prefs=ALL-UNNAMED,--add-opens,java.base/java.nio.charset=ALL-UNNAMED,--add-opens,java.base/java.net=ALL-UNNAMED,--add-opens,java.base/java.util.concurrent.atomic=ALL-UNNAMED,-Xmx1536M,-Dfile.encoding=utf8,-Duser.country=IN,-Duser.language=en,-Duser.variant]</p>\n<p>I've tried upgrading Flutter but that didn't work.\nWhat can I do to fix this?</p>\n<p>Edit: I'm on MacOS. I'm adding flutter doctor -v log here. It's all normal.\n% flutter doctor -v\n[â] Flutter (Channel stable, 3.13.3, on macOS 13.2.1 22D68 darwin-arm64, locale\nen-IN)\nâ¢ Flutter version 3.13.3 on channel stable at\n/Users/xraydiffraction/development/flutter\nâ¢ Upstream repository <a href=\"https://github.com/flutter/flutter.git\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter.git</a>\nâ¢ Framework revision 2524052335 (7 days ago), 2023-09-06 14:32:31 -0700\nâ¢ Engine revision b8d35810e9\nâ¢ Dart version 3.1.1\nâ¢ DevTools version 2.25.0</p>\n<p>[â] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\nâ¢ Android SDK at /Users/xraydiffraction/Library/Android/sdk\nâ¢ Platform android-33, build-tools 33.0.0\nâ¢ ANDROID_HOME = /Users/xraydiffraction/Library/Android/sdk\nâ¢ Java binary at: /Applications/Android\nStudio.app/Contents/jbr/Contents/Home/bin/java\nâ¢ Java version OpenJDK Runtime Environment (build\n17.0.6+0-17.0.6b802.4-9586694)\nâ¢ All Android licenses accepted.</p>\n<p>[â] Xcode - develop for iOS and macOS (Xcode 14.3.1)\nâ¢ Xcode at /Applications/Xcode.app/Contents/Developer\nâ¢ Build 14E300c\nâ¢ CocoaPods version 1.11.3</p>\n<p>[â] Chrome - develop for the web\nâ¢ Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome</p>\n<p>[â] Android Studio (version 2022.2)\nâ¢ Android Studio at /Applications/Android Studio.app/Contents\nâ¢ Flutter plugin can be installed from:\nð¨ <a href=\"https://plugins.jetbrains.com/plugin/9212-flutter\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/9212-flutter</a>\nâ¢ Dart plugin can be installed from:\nð¨ <a href=\"https://plugins.jetbrains.com/plugin/6351-dart\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/6351-dart</a>\nâ¢ Java version OpenJDK Runtime Environment (build\n17.0.6+0-17.0.6b802.4-9586694)</p>\n<p>[â] VS Code (version 1.82.1)\nâ¢ VS Code at /Applications/Visual Studio Code.app/Contents\nâ¢ Flutter extension version 3.72.0</p>\n<p>[â] Connected device (2 available)\nâ¢ macOS (desktop) â¢ macos  â¢ darwin-arm64   â¢ macOS 13.2.1 22D68\ndarwin-arm64\nâ¢ Chrome (web)    â¢ chrome â¢ web-javascript â¢ Google Chrome 116.0.5845.187</p>\n<p>[â] Network resources\nâ¢ All expected network resources are available.</p>\n<p>â¢ No issues found!</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jdbc"],"comments":[{"owner":{"account_id":13834621,"reputation":93,"user_id":9986511,"display_name":"Gabriel Menezes"},"score":0,"creation_date":1694541466,"post_id":77081716,"comment_id":135903823,"body_markdown":"Can you provide a github repo?","body":"Can you provide a github repo?"}],"answers":[{"tags":[],"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694607512,"creation_date":1694607512,"answer_id":77097034,"question_id":77081716,"body_markdown":"Hibernate tries to build the database as it is defined in your entity.\r\n\r\ntry setting this environment property to `validate` instead: `spring.jpa.hibernate.ddl-auto`\r\n\r\nDocs: https://docs.spring.io/spring-boot/docs/1.1.0.M1/reference/html/howto-database-initialization.html\r\n\r\nEDIT:\r\n\r\nA best-practise for everyone out there. Do never use `ddl-auto` to `update` or `create-drop`. You should be aware of the database structure and it should be defined explicitly. You have to care that code equals the database and not the database equals the code. ","title":"Why Hibernate trying to alter my primary keys and foreign keys giving errors","body":"<p>Hibernate tries to build the database as it is defined in your entity.</p>\n<p>try setting this environment property to <code>validate</code> instead: <code>spring.jpa.hibernate.ddl-auto</code></p>\n<p>Docs: <a href=\"https://docs.spring.io/spring-boot/docs/1.1.0.M1/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.1.0.M1/reference/html/howto-database-initialization.html</a></p>\n<p>EDIT:</p>\n<p>A best-practise for everyone out there. Do never use <code>ddl-auto</code> to <code>update</code> or <code>create-drop</code>. You should be aware of the database structure and it should be defined explicitly. You have to care that code equals the database and not the database equals the code.</p>\n"}],"owner":{"account_id":25514526,"reputation":23,"user_id":19305595,"display_name":"Binayak Purohit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77097034,"answer_count":1,"score":0,"last_activity_date":1694607512,"creation_date":1694436045,"question_id":77081716,"body_markdown":"Hibernate is trying to alter my primary keys but I dont want to update, can anyone help me out with what i am doing wrong.\r\n\r\nI a trying to interact with my database to get all rows which matches a given key provided by the user and send that information back to client, upon receiving client should send a post request with another key using which i shall update the vote table and vote_count column in candidate table;\r\n\r\n\r\n```\r\nmy controller\r\n\r\npackage com.onlinevoting.leadiconbackend.Controller;\r\n\r\nimport com.onlinevoting.leadiconbackend.Entity.Candidate;\r\nimport com.onlinevoting.leadiconbackend.Services.CandidateService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/candidates&quot;)\r\npublic class CandidateController {\r\n\r\n    @Autowired\r\n    private CandidateService candidateService;\r\n\r\n    // Endpoint to get candidates by constituency ID\r\n    @GetMapping(&quot;/{constituencyId}&quot;)\r\n    public List&lt;Candidate&gt; getCandidatesByConstituency(@PathVariable String constituencyId) {\r\n        return candidateService.getCandidatesByConstituency(constituencyId);\r\n    }\r\n}\r\n\r\n\r\nmy entities\r\n@Entity\r\n@Table(name = &quot;candidates&quot;)\r\n@JsonIgnoreProperties({&quot;constituency.state.constituencies&quot;})\r\npublic class Candidate {\r\n    @Id\r\n    @Column(name=&quot;candidate_id&quot;)\r\n    @JsonProperty(&quot;candidateId&quot;)\r\n    private String candidateId;\r\n    @Column(name=&quot;candidate_name&quot;)\r\n    @JsonProperty(&quot;candidateName&quot;)\r\n    private String candidateName;\r\n\r\n    @Column(name=&quot;constituency_id&quot;)\r\n    @JsonProperty(&quot;constituencyId&quot;)\r\n    private String constituencyId;\r\n\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;constituencies&quot;)\r\npublic class Constituency {\r\n\r\n    @Id\r\n    @Column(name = &quot;constituency_id&quot;)\r\n    private String constituencyId;\r\n\r\n    @Column(name = &quot;constituency_name&quot;)\r\n    private String constituencyName;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;state_id&quot;)\r\n    private State state;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;votes&quot;)\r\npublic class Vote {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;vote_id&quot;)\r\n    private Long voteId;\r\n\r\n    @Column(name = &quot;voter_ip&quot;)\r\n    private String voterIp;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;candidate_id&quot;)\r\n    private Candidate candidate;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nError \r\n```\r\nplementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nHibernate: \r\n    alter table candidates\r\n       modify column constituency_id  varchar(255)\r\n2023-09-11T17:44:16.566+05:30  WARN 14708 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;\r\n    alter table candidates\r\n       modify column constituency_id  varchar(255)&quot; via JDBC [Cannot change column &#39;constituency_id&#39;: used in a foreign key constraint &#39;candidates_ibfk_1&#39;]\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    alter table candidates\r\n       modify column constituency_id  varchar(255)&quot; via JDBC [Cannot change column &#39;constituency_id&#39;: used in a foreign key constraint &#39;candidates_ibfk_1&#39;]\r\n   \r\n```\r\n","title":"Why Hibernate trying to alter my primary keys and foreign keys giving errors","body":"<p>Hibernate is trying to alter my primary keys but I dont want to update, can anyone help me out with what i am doing wrong.</p>\n<p>I a trying to interact with my database to get all rows which matches a given key provided by the user and send that information back to client, upon receiving client should send a post request with another key using which i shall update the vote table and vote_count column in candidate table;</p>\n<pre><code>my controller\n\npackage com.onlinevoting.leadiconbackend.Controller;\n\nimport com.onlinevoting.leadiconbackend.Entity.Candidate;\nimport com.onlinevoting.leadiconbackend.Services.CandidateService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/candidates&quot;)\npublic class CandidateController {\n\n    @Autowired\n    private CandidateService candidateService;\n\n    // Endpoint to get candidates by constituency ID\n    @GetMapping(&quot;/{constituencyId}&quot;)\n    public List&lt;Candidate&gt; getCandidatesByConstituency(@PathVariable String constituencyId) {\n        return candidateService.getCandidatesByConstituency(constituencyId);\n    }\n}\n\n\nmy entities\n@Entity\n@Table(name = &quot;candidates&quot;)\n@JsonIgnoreProperties({&quot;constituency.state.constituencies&quot;})\npublic class Candidate {\n    @Id\n    @Column(name=&quot;candidate_id&quot;)\n    @JsonProperty(&quot;candidateId&quot;)\n    private String candidateId;\n    @Column(name=&quot;candidate_name&quot;)\n    @JsonProperty(&quot;candidateName&quot;)\n    private String candidateName;\n\n    @Column(name=&quot;constituency_id&quot;)\n    @JsonProperty(&quot;constituencyId&quot;)\n    private String constituencyId;\n\n}\n\n@Entity\n@Table(name = &quot;constituencies&quot;)\npublic class Constituency {\n\n    @Id\n    @Column(name = &quot;constituency_id&quot;)\n    private String constituencyId;\n\n    @Column(name = &quot;constituency_name&quot;)\n    private String constituencyName;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;state_id&quot;)\n    private State state;\n}\n\n@Entity\n@Table(name = &quot;votes&quot;)\npublic class Vote {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;vote_id&quot;)\n    private Long voteId;\n\n    @Column(name = &quot;voter_ip&quot;)\n    private String voterIp;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;candidate_id&quot;)\n    private Candidate candidate;\n\n}\n\n</code></pre>\n<p>Error</p>\n<pre><code>plementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nHibernate: \n    alter table candidates\n       modify column constituency_id  varchar(255)\n2023-09-11T17:44:16.566+05:30  WARN 14708 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;\n    alter table candidates\n       modify column constituency_id  varchar(255)&quot; via JDBC [Cannot change column 'constituency_id': used in a foreign key constraint 'candidates_ibfk_1']\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    alter table candidates\n       modify column constituency_id  varchar(255)&quot; via JDBC [Cannot change column 'constituency_id': used in a foreign key constraint 'candidates_ibfk_1']\n   \n</code></pre>\n"},{"tags":["java","maven","intellij-idea","extentreports"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1686311165,"post_id":76439102,"comment_id":134784866,"body_markdown":"Deleting .m2 directory only the directory which contains the given artifact... build on plain command line and show the log output?","body":"Deleting .m2 directory only the directory which contains the given artifact... build on plain command line and show the log output?"},{"owner":{"account_id":1897395,"reputation":377,"user_id":1714036,"accept_rate":91,"display_name":"graph"},"score":0,"creation_date":1686315992,"post_id":76439102,"comment_id":134785914,"body_markdown":"no errors. In fact, opening the same freaking project in Eclipse is fine as well.","body":"no errors. In fact, opening the same freaking project in Eclipse is fine as well."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1686345805,"post_id":76439102,"comment_id":134791417,"body_markdown":"Could you please share idea.log (&quot;Help | Show log in...&quot;) after adding dependency and running &quot;Reload&quot;?","body":"Could you please share idea.log (&quot;Help | Show log in...&quot;) after adding dependency and running &quot;Reload&quot;?"},{"owner":{"account_id":1897395,"reputation":377,"user_id":1714036,"accept_rate":91,"display_name":"graph"},"score":0,"creation_date":1686552177,"post_id":76439102,"comment_id":134808274,"body_markdown":"done. It says &quot;An illegal reflective access operation has occurred&quot;, might that be something?","body":"done. It says &quot;An illegal reflective access operation has occurred&quot;, might that be something?"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1686728983,"post_id":76439102,"comment_id":134837472,"body_markdown":"Is it possible to share full log to check the context?","body":"Is it possible to share full log to check the context?"},{"owner":{"account_id":18882550,"reputation":146,"user_id":13774637,"display_name":"Ethan Yin"},"score":0,"creation_date":1686804011,"post_id":76439102,"comment_id":134850184,"body_markdown":"The downloaded ExtentTest.class file is 15,912 bytes from my side. Can you unzip the jar file?","body":"The downloaded ExtentTest.class file is 15,912 bytes from my side. Can you unzip the jar file?"},{"owner":{"account_id":26318201,"reputation":5076,"user_id":19980636,"display_name":"Krokomot"},"score":0,"creation_date":1686934032,"post_id":76439102,"comment_id":134871659,"body_markdown":"&quot;Works in IntelliJ on *another* machine.&quot; -- That is strange, and raises the question whether there might be specifics concerning your computer. Could you elaborate a bit?","body":"&quot;Works in IntelliJ on <i>another</i> machine.&quot; -- That is strange, and raises the question whether there might be specifics concerning your computer. Could you elaborate a bit?"}],"answers":[{"tags":[],"owner":{"account_id":1897395,"reputation":377,"user_id":1714036,"accept_rate":91,"display_name":"graph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694606855,"creation_date":1694606855,"answer_id":77096941,"question_id":76439102,"body_markdown":"Solved by updating to IntelliJ IDEA 2023.1.2\r\n\r\nMay this weird issue with the old IntelliJ version RIP unsolved\r\n","title":"Maven/Java/Intellij/Extentreports - corrupt class in jar","body":"<p>Solved by updating to IntelliJ IDEA 2023.1.2</p>\n<p>May this weird issue with the old IntelliJ version RIP unsolved</p>\n"}],"owner":{"account_id":1897395,"reputation":377,"user_id":1714036,"accept_rate":91,"display_name":"graph"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77096941,"answer_count":1,"score":1,"last_activity_date":1694606855,"creation_date":1686304126,"question_id":76439102,"body_markdown":"Edit: Solved by updating to IntelliJ IDEA 2023.1.2\r\n\r\n\r\n\r\nStarting a minimal maven project in IntelliJ 2019.2 or 2023.1.2 with the most basic POM like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;a&lt;/groupId&gt;\r\n        &lt;artifactId&gt;a&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nan important class for ExtentReports (ExtentTest) is not downloaded correctly:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nThis means I can&#39;t use ExtentTest.class, and  therefore can&#39;t work with ExtentReports.\r\n\r\nWorks in Eclipse on the same computer. Works in IntelliJ on another machine. All other maven operations work with IntelliJ. The usual maven dance (deleting .m2, invalidate caches etc.) done repeatedly. Various colleagues looked over my shoulder and haven&#39;t noticed anything silly. Encoding shown as UTF-8 for this and other classes. Affects all Versions of ExtentReports, including 2.xx.\r\n\r\nDoes anyone know what is up with the ExtentTest.class? \r\n\r\nThanks!\r\n\r\n  [1]: https://i.stack.imgur.com/hzO8l.png\r\n  [2]: https://i.stack.imgur.com/Hq1md.png\r\n\r\n\r\n\r\nEdit: Output of idea.log. \r\n\r\n    2023-06-12 08:30:46,132 [  67872]   INFO - rationStore.ComponentStoreImpl - Saving Project &#39;C:\\Users\\n010215\\seleniumtest&#39; seleniumtestRunManager took 13 ms \r\n    2023-06-12 08:32:00,845 [ 142585]   INFO - mponents.impl.stores.StoreUtil - saveProjectsAndApp took 140 ms \r\n    2023-06-12 08:32:04,136 [ 145876]   INFO -      #org.jetbrains.idea.maven - [WARNING] The artifact org.apache.commons:commons-io:jar:1.3.2 has been relocated to commons-io:commons-io:jar:1.3.2 \r\n    2023-06-12 08:32:05,532 [ 147272]   INFO - pl.ProjectRootManagerComponent - project roots have changed \r\n    2023-06-12 08:32:05,565 [ 147305]   INFO - .diagnostic.PerformanceWatcher - Pushing properties took 6ms; general responsiveness: ok; EDT responsiveness: ok \r\n    2023-06-12 08:32:05,741 [ 147481]   INFO - .diagnostic.PerformanceWatcher - Indexable file iteration took 176ms; general responsiveness: ok; EDT responsiveness: ok \r\n    2023-06-12 08:32:31,896 [ 173636]   INFO -      #org.jetbrains.idea.maven - [WARNING] The artifact org.apache.commons:commons-io:jar:1.3.2 has been relocated to commons-io:commons-io:jar:1.3.2 \r\n    2023-06-12 08:32:33,070 [ 174810]   INFO - pl.ProjectRootManagerComponent - project roots have changed \r\n    2023-06-12 08:32:33,087 [ 174827]   INFO - .diagnostic.PerformanceWatcher - Pushing properties took 3ms; general responsiveness: ok; EDT responsiveness: ok \r\n    2023-06-12 08:32:33,237 [ 174977]   INFO - .diagnostic.PerformanceWatcher - Indexable file iteration took 150ms; general responsiveness: ok; EDT responsiveness: ok \r\n    2023-06-12 08:32:37,152 [ 178892]   WARN - ution.rmi.RemoteProcessSupport - WARNING: An illegal reflective access operation has occurred \r\n    2023-06-12 08:32:37,152 [ 178892]   WARN - ution.rmi.RemoteProcessSupport - WARNING: Illegal reflective access by com.intellij.util.ReflectionUtilRt (file:/C:/Program%20Files%20(x86)/JetBrains/IntelliJ%20IDEA%20Community%20Edition%202019.2.2/lib/util.jar) to field java.lang.ApplicationShutdownHooks.hooks \r\n    2023-06-12 08:32:37,152 [ 178892]   WARN - ution.rmi.RemoteProcessSupport - WARNING: Please consider reporting this to the maintainers of com.intellij.util.ReflectionUtilRt \r\n    2023-06-12 08:32:37,152 [ 178892]   WARN - ution.rmi.RemoteProcessSupport - WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations \r\n    2023-06-12 08:32:37,152 [ 178892]   WARN - ution.rmi.RemoteProcessSupport - WARNING: All illegal access operations will be denied in a future release \r\n    2023-06-12 08:32:37,510 [ 179250]   INFO -      #org.jetbrains.idea.maven - [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources. \r\n    2023-06-12 08:32:37,517 [ 179257]   INFO -      #org.jetbrains.idea.maven - [INFO] Copying 0 resource \r\n    2023-06-12 08:33:14,422 [ 216162]   INFO - rationStore.ComponentStoreImpl - Saving Project &#39;C:\\Users\\n010215\\seleniumtest&#39; seleniumtestRunManager took 13 ms \r\n    2023-06-12 08:33:26,277 [ 228017]   INFO - pl.ProjectRootManagerComponent - project roots have changed \r\n    2023-06-12 08:33:26,290 [ 228030]   INFO - g.FileBasedIndexProjectHandler - Reindexing refreshed files: 35 to update, calculated in 1ms \r\n    2023-06-12 08:33:26,354 [ 228094]   INFO - .diagnostic.PerformanceWatcher - Reindexing refreshed files took 64ms; general responsiveness: ok; EDT responsiveness: ok \r\n    2023-06-12 08:33:26,369 [ 228109]   INFO - .diagnostic.PerformanceWatcher - Pushing properties took 3ms; general responsiveness: ok; EDT responsiveness: ok \r\n    2023-06-12 08:33:26,406 [ 228146]   INFO - .diagnostic.PerformanceWatcher - Indexable file iteration took 36ms; general responsiveness: ok; EDT responsiveness: ok \r\n    2023-06-12 08:33:45,649 [ 247389]   INFO -      #org.jetbrains.idea.maven - [WARNING] The artifact org.apache.commons:commons-io:jar:1.3.2 has been relocated to commons-io:commons-io:jar:1.3.2 \r\n    2023-06-12 08:33:46,897 [ 248637]   INFO - pl.ProjectRootManagerComponent - project roots have changed \r\n    2023-06-12 08:33:46,931 [ 248671]   INFO - .diagnostic.PerformanceWatcher - Pushing properties took 10ms; general responsiveness: ok; EDT responsiveness: ok \r\n    2023-06-12 08:33:47,033 [ 248773]   INFO - .diagnostic.PerformanceWatcher - Indexable file iteration took 102ms; general responsiveness: ok; EDT responsiveness: ok \r\n    2023-06-12 08:34:57,810 [ 319550]   INFO - pl.ProjectRootManagerComponent - project roots have changed \r\n    2023-06-12 08:34:57,837 [ 319577]   INFO - .diagnostic.PerformanceWatcher - Pushing properties took 2ms; general responsiveness: ok; EDT responsiveness: ok \r\n    2023-06-12 08:34:57,916 [ 319656]   INFO - .diagnostic.PerformanceWatcher - Indexable file iteration took 79ms; general responsiveness: ok; EDT responsiveness: ok \r\n    2023-06-12 08:35:01,283 [ 323023]   INFO - rationStore.ComponentStoreImpl - Saving Project &#39;C:\\Users\\n010215\\seleniumtest&#39; seleniumtestRunManager took 11 ms \r\n\r\n","title":"Maven/Java/Intellij/Extentreports - corrupt class in jar","body":"<p>Edit: Solved by updating to IntelliJ IDEA 2023.1.2</p>\n<p>Starting a minimal maven project in IntelliJ 2019.2 or 2023.1.2 with the most basic POM like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;a&lt;/groupId&gt;\n    &lt;artifactId&gt;a&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n        &lt;version&gt;5.0.9&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>an important class for ExtentReports (ExtentTest) is not downloaded correctly:</p>\n<p><a href=\"https://i.stack.imgur.com/hzO8l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hzO8l.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Hq1md.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hq1md.png\" alt=\"enter image description here\" /></a></p>\n<p>This means I can't use ExtentTest.class, and  therefore can't work with ExtentReports.</p>\n<p>Works in Eclipse on the same computer. Works in IntelliJ on another machine. All other maven operations work with IntelliJ. The usual maven dance (deleting .m2, invalidate caches etc.) done repeatedly. Various colleagues looked over my shoulder and haven't noticed anything silly. Encoding shown as UTF-8 for this and other classes. Affects all Versions of ExtentReports, including 2.xx.</p>\n<p>Does anyone know what is up with the ExtentTest.class?</p>\n<p>Thanks!</p>\n<p>Edit: Output of idea.log.</p>\n<pre><code>2023-06-12 08:30:46,132 [  67872]   INFO - rationStore.ComponentStoreImpl - Saving Project 'C:\\Users\\n010215\\seleniumtest' seleniumtestRunManager took 13 ms \n2023-06-12 08:32:00,845 [ 142585]   INFO - mponents.impl.stores.StoreUtil - saveProjectsAndApp took 140 ms \n2023-06-12 08:32:04,136 [ 145876]   INFO -      #org.jetbrains.idea.maven - [WARNING] The artifact org.apache.commons:commons-io:jar:1.3.2 has been relocated to commons-io:commons-io:jar:1.3.2 \n2023-06-12 08:32:05,532 [ 147272]   INFO - pl.ProjectRootManagerComponent - project roots have changed \n2023-06-12 08:32:05,565 [ 147305]   INFO - .diagnostic.PerformanceWatcher - Pushing properties took 6ms; general responsiveness: ok; EDT responsiveness: ok \n2023-06-12 08:32:05,741 [ 147481]   INFO - .diagnostic.PerformanceWatcher - Indexable file iteration took 176ms; general responsiveness: ok; EDT responsiveness: ok \n2023-06-12 08:32:31,896 [ 173636]   INFO -      #org.jetbrains.idea.maven - [WARNING] The artifact org.apache.commons:commons-io:jar:1.3.2 has been relocated to commons-io:commons-io:jar:1.3.2 \n2023-06-12 08:32:33,070 [ 174810]   INFO - pl.ProjectRootManagerComponent - project roots have changed \n2023-06-12 08:32:33,087 [ 174827]   INFO - .diagnostic.PerformanceWatcher - Pushing properties took 3ms; general responsiveness: ok; EDT responsiveness: ok \n2023-06-12 08:32:33,237 [ 174977]   INFO - .diagnostic.PerformanceWatcher - Indexable file iteration took 150ms; general responsiveness: ok; EDT responsiveness: ok \n2023-06-12 08:32:37,152 [ 178892]   WARN - ution.rmi.RemoteProcessSupport - WARNING: An illegal reflective access operation has occurred \n2023-06-12 08:32:37,152 [ 178892]   WARN - ution.rmi.RemoteProcessSupport - WARNING: Illegal reflective access by com.intellij.util.ReflectionUtilRt (file:/C:/Program%20Files%20(x86)/JetBrains/IntelliJ%20IDEA%20Community%20Edition%202019.2.2/lib/util.jar) to field java.lang.ApplicationShutdownHooks.hooks \n2023-06-12 08:32:37,152 [ 178892]   WARN - ution.rmi.RemoteProcessSupport - WARNING: Please consider reporting this to the maintainers of com.intellij.util.ReflectionUtilRt \n2023-06-12 08:32:37,152 [ 178892]   WARN - ution.rmi.RemoteProcessSupport - WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations \n2023-06-12 08:32:37,152 [ 178892]   WARN - ution.rmi.RemoteProcessSupport - WARNING: All illegal access operations will be denied in a future release \n2023-06-12 08:32:37,510 [ 179250]   INFO -      #org.jetbrains.idea.maven - [INFO] Using 'UTF-8' encoding to copy filtered resources. \n2023-06-12 08:32:37,517 [ 179257]   INFO -      #org.jetbrains.idea.maven - [INFO] Copying 0 resource \n2023-06-12 08:33:14,422 [ 216162]   INFO - rationStore.ComponentStoreImpl - Saving Project 'C:\\Users\\n010215\\seleniumtest' seleniumtestRunManager took 13 ms \n2023-06-12 08:33:26,277 [ 228017]   INFO - pl.ProjectRootManagerComponent - project roots have changed \n2023-06-12 08:33:26,290 [ 228030]   INFO - g.FileBasedIndexProjectHandler - Reindexing refreshed files: 35 to update, calculated in 1ms \n2023-06-12 08:33:26,354 [ 228094]   INFO - .diagnostic.PerformanceWatcher - Reindexing refreshed files took 64ms; general responsiveness: ok; EDT responsiveness: ok \n2023-06-12 08:33:26,369 [ 228109]   INFO - .diagnostic.PerformanceWatcher - Pushing properties took 3ms; general responsiveness: ok; EDT responsiveness: ok \n2023-06-12 08:33:26,406 [ 228146]   INFO - .diagnostic.PerformanceWatcher - Indexable file iteration took 36ms; general responsiveness: ok; EDT responsiveness: ok \n2023-06-12 08:33:45,649 [ 247389]   INFO -      #org.jetbrains.idea.maven - [WARNING] The artifact org.apache.commons:commons-io:jar:1.3.2 has been relocated to commons-io:commons-io:jar:1.3.2 \n2023-06-12 08:33:46,897 [ 248637]   INFO - pl.ProjectRootManagerComponent - project roots have changed \n2023-06-12 08:33:46,931 [ 248671]   INFO - .diagnostic.PerformanceWatcher - Pushing properties took 10ms; general responsiveness: ok; EDT responsiveness: ok \n2023-06-12 08:33:47,033 [ 248773]   INFO - .diagnostic.PerformanceWatcher - Indexable file iteration took 102ms; general responsiveness: ok; EDT responsiveness: ok \n2023-06-12 08:34:57,810 [ 319550]   INFO - pl.ProjectRootManagerComponent - project roots have changed \n2023-06-12 08:34:57,837 [ 319577]   INFO - .diagnostic.PerformanceWatcher - Pushing properties took 2ms; general responsiveness: ok; EDT responsiveness: ok \n2023-06-12 08:34:57,916 [ 319656]   INFO - .diagnostic.PerformanceWatcher - Indexable file iteration took 79ms; general responsiveness: ok; EDT responsiveness: ok \n2023-06-12 08:35:01,283 [ 323023]   INFO - rationStore.ComponentStoreImpl - Saving Project 'C:\\Users\\n010215\\seleniumtest' seleniumtestRunManager took 11 ms \n</code></pre>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":1326248,"reputation":2637,"user_id":1270989,"accept_rate":48,"display_name":"Rupesh"},"score":0,"creation_date":1586262488,"post_id":61079911,"comment_id":108058731,"body_markdown":"Since you mentioned ordered list I would assume its sorted, you can use `Collections.binarySearch(list, 10); // assuming you are searching for 10.`\n\nIf it is not sorted, you can try sorting it and then perform binarySearch.","body":"Since you mentioned ordered list I would assume its sorted, you can use <code>Collections.binarySearch(list, 10); &#47;&#47; assuming you are searching for 10.</code>  If it is not sorted, you can try sorting it and then perform binarySearch."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1586262645,"post_id":61079911,"comment_id":108058819,"body_markdown":"@Rupesh No, [it&#39;s not sorted: it&#39;s ordered](https://stackoverflow.com/questions/1084146/what-is-the-difference-between-an-ordered-and-a-sorted-collection). Also, the ordering and the search criteria are not linked.","body":"@Rupesh No, <a href=\"https://stackoverflow.com/questions/1084146/what-is-the-difference-between-an-ordered-and-a-sorted-collection\">it&#39;s not sorted: it&#39;s ordered</a>. Also, the ordering and the search criteria are not linked."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1586262756,"post_id":61079911,"comment_id":108058877,"body_markdown":"@Naman Would you clarify your usage of `IntStream` further? Why would it be appropriate?","body":"@Naman Would you clarify your usage of <code>IntStream</code> further? Why would it be appropriate?"},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1586262875,"post_id":61079911,"comment_id":108058945,"body_markdown":"Is the list implementation known / fixed / changeable ? Is it `RandomAccess`ible ?","body":"Is the list implementation known / fixed / changeable ? Is it <code>RandomAccess</code>ible ?"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1586263029,"post_id":61079911,"comment_id":108059015,"body_markdown":"@GPI My edit in the question and your comment happened at the same time. Please reload the question as your comment is answered.","body":"@GPI My edit in the question and your comment happened at the same time. Please reload the question as your comment is answered."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1586263193,"post_id":61079911,"comment_id":108059114,"body_markdown":"@OlivierGr&#233;goire `IntStream.iterate(elements.size(), i -&gt; i &gt; 0, i -&gt; i - 1)\n                .filter(i -&gt; heavyConditionPredicate.test(elements.get(i)))\n                .findFirst();` is what I meant, but not sure about the thread safety when that&#39;s executed in parallel. This uses the API `IntStream iterate(int seed, IntPredicate hasNext, IntUnaryOperator next)`","body":"@OlivierGr&#233;goire <code>IntStream.iterate(elements.size(), i -&gt; i &gt; 0, i -&gt; i - 1)                 .filter(i -&gt; heavyConditionPredicate.test(elements.get(i)))                 .findFirst();</code> is what I meant, but not sure about the thread safety when that&#39;s executed in parallel. This uses the API <code>IntStream iterate(int seed, IntPredicate hasNext, IntUnaryOperator next)</code>"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":1,"creation_date":1586263609,"post_id":61079911,"comment_id":108059347,"body_markdown":"@Naman I guessed that was the idea behind your last comment so I edited the question accordingly. The list is used only for its ordered property, therefore `List::get` might be costly.","body":"@Naman I guessed that was the idea behind your last comment so I edited the question accordingly. The list is used only for its ordered property, therefore <code>List::get</code> might be costly."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1586264833,"post_id":61079911,"comment_id":108060068,"body_markdown":"@OlivierGr&#233;goire sure, not a straightforward way in Stream that I know of, might just be a custom `Spliterator` defined. Let&#39;s wait for better people to answer.","body":"@OlivierGr&#233;goire sure, not a straightforward way in Stream that I know of, might just be a custom <code>Spliterator</code> defined. Let&#39;s wait for better people to answer."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1586344511,"post_id":61079911,"comment_id":108092490,"body_markdown":"[How to get ordered stream from a list in reverse order in Java 8](https://stackoverflow.com/q/29403614/2711488)","body":"<a href=\"https://stackoverflow.com/q/29403614/2711488\">How to get ordered stream from a list in reverse order in Java 8</a>"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1586436380,"post_id":61079911,"comment_id":108130848,"body_markdown":"To whoever added the tag `java-8`, the code in the question is at least `java-10`... Please don&#39;t add tag unless they&#39;re actually correct.","body":"To whoever added the tag <code>java-8</code>, the code in the question is at least <code>java-10</code>... Please don&#39;t add tag unless they&#39;re actually correct."}],"answers":[{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1586275131,"creation_date":1586275131,"answer_id":61084229,"question_id":61079911,"body_markdown":"Guava&#39;s [`Lists::reverse`](https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Lists.html#reverse-java.util.List-) definitely helps here, as it&#39;s a view and it doesn&#39;t modify my list and it doesn&#39;t access elements by their index:\r\n\r\n    Lists.reverse(elements).stream()\r\n      .filter(heavyConditionPredicate)\r\n      .findFirst();","title":"Find the last element matching an expensive condition from a List, using Stream","body":"<p>Guava's <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Lists.html#reverse-java.util.List-\" rel=\"noreferrer\"><code>Lists::reverse</code></a> definitely helps here, as it's a view and it doesn't modify my list and it doesn't access elements by their index:</p>\n\n<pre><code>Lists.reverse(elements).stream()\n  .filter(heavyConditionPredicate)\n  .findFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586279540,"creation_date":1586279145,"answer_id":61085463,"question_id":61079911,"body_markdown":"The disadvantage of the current implementation (as of Java 11) of `Stream` is that it doesn&#39;t allow to process items in the reverse order. You have to provide it the source with the specified order:\r\n\r\n    List&lt;Element&gt; elements = new ArrayList&lt;&gt;();\r\n\tList&lt;Element&gt; reversedElements = new ArrayList&lt;&gt;(elements);\r\n\tCollections.reverse(reversedElements);\r\n\r\n\tElement element =  reversedElements.stream().filter(heavyConditionPredicate).findFirst().orElse(null);\r\n\r\nAnother way is to use the advantage of the [`Deque`][1] interface that offers [`Deque::descendingIterator`][2]:\r\n\r\n\r\n    Deque&lt;Element&gt; elements = new ArrayDeque&lt;&gt;();\r\n    Iterator&lt;Element&gt; it = elements.descendingIterator()\r\n\r\nWith [`Deque::push`][3] you can create a custom `StreamUtils` method reversing the passed `Stream` with no need of using an external library:\r\n\r\n    class StreamUtils {\r\n\t\tstatic &lt;T&gt; Stream&lt;T&gt; reverse(Stream&lt;T&gt; stream) {\r\n\t\t\tDeque&lt;T&gt; deque = new ArrayDeque&lt;&gt;();\r\n\t\t\tstream.forEach(deque::push);\r\n\t\t\treturn deque.stream();\r\n\t\t}\r\n\t}\r\n\r\n    ...\r\n\r\n    Element element = StreamUtils.reverse(elements.stream())\r\n        .filter(heavyConditionPredicate)\r\n        .findFirst().orElse(null);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Deque.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Deque.html#descendingIterator()\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Deque.html#push(E)","title":"Find the last element matching an expensive condition from a List, using Stream","body":"<p>The disadvantage of the current implementation (as of Java 11) of <code>Stream</code> is that it doesn't allow to process items in the reverse order. You have to provide it the source with the specified order:</p>\n\n<pre><code>List&lt;Element&gt; elements = new ArrayList&lt;&gt;();\nList&lt;Element&gt; reversedElements = new ArrayList&lt;&gt;(elements);\nCollections.reverse(reversedElements);\n\nElement element =  reversedElements.stream().filter(heavyConditionPredicate).findFirst().orElse(null);\n</code></pre>\n\n<p>Another way is to use the advantage of the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Deque.html\" rel=\"nofollow noreferrer\"><code>Deque</code></a> interface that offers <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Deque.html#descendingIterator()\" rel=\"nofollow noreferrer\"><code>Deque::descendingIterator</code></a>:</p>\n\n<pre><code>Deque&lt;Element&gt; elements = new ArrayDeque&lt;&gt;();\nIterator&lt;Element&gt; it = elements.descendingIterator()\n</code></pre>\n\n<p>With <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Deque.html#push(E)\" rel=\"nofollow noreferrer\"><code>Deque::push</code></a> you can create a custom <code>StreamUtils</code> method reversing the passed <code>Stream</code> with no need of using an external library:</p>\n\n<pre><code>class StreamUtils {\n    static &lt;T&gt; Stream&lt;T&gt; reverse(Stream&lt;T&gt; stream) {\n        Deque&lt;T&gt; deque = new ArrayDeque&lt;&gt;();\n        stream.forEach(deque::push);\n        return deque.stream();\n    }\n}\n\n...\n\nElement element = StreamUtils.reverse(elements.stream())\n    .filter(heavyConditionPredicate)\n    .findFirst().orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7731952,"reputation":366,"user_id":5854768,"display_name":"Andrey Nikolaev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694606735,"creation_date":1694606735,"answer_id":77096924,"question_id":61079911,"body_markdown":"If you want to make method with return type `Optional&lt;T&gt;` you can use following code:\r\n\r\n    private &lt;T&gt; Optional&lt;T&gt; findLast(Stream&lt;T&gt; stream, java.util.function.Predicate&lt;T&gt; predicate) {\r\n        return stream.filter(predicate).reduce((first, second) -&gt; second);\r\n    }\r\nThis will filter `Stream&lt;T&gt;` by predicate and reduce will return last value if it will be present.","title":"Find the last element matching an expensive condition from a List, using Stream","body":"<p>If you want to make method with return type <code>Optional&lt;T&gt;</code> you can use following code:</p>\n<pre><code>private &lt;T&gt; Optional&lt;T&gt; findLast(Stream&lt;T&gt; stream, java.util.function.Predicate&lt;T&gt; predicate) {\n    return stream.filter(predicate).reduce((first, second) -&gt; second);\n}\n</code></pre>\n<p>This will filter <code>Stream&lt;T&gt;</code> by predicate and reduce will return last value if it will be present.</p>\n"}],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5442,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":61084229,"answer_count":3,"score":7,"last_activity_date":1694606735,"creation_date":1586262037,"question_id":61079911,"body_markdown":"I have an ordered `List` of roughly one million elements of which I&#39;m looking for the last element that matches a specific condition, but the condition is heavy to compute so it&#39;s better if I start from the end instead. There are always roughly `log(n)` matching elements, with a minimum of 1.\r\n\r\nI can do it manually:\r\n\r\n    List&lt;Element&gt; elements = ...;\r\n    Element element = null;\r\n    for (var it = elements.listIterator(elements.size()); it.hasPrevious(); ) {\r\n      var candidate = it.previous();\r\n      if (heavyConditionPredicate.test(candidate)) {\r\n        element = candidate;\r\n        break;\r\n      }\r\n    }\r\n\r\nIs there any way to write this using `Stream`s, so that the `heavyConditionPredicate` is not tested against each element of the list? If the heavyConditionPredicate would not have been so heavy to compute, I&#39;d have used [alternative means](https://stackoverflow.com/q/27547519/180719), but I&#39;m not that lucky.\r\n\r\nNote that `elements` can be any type of `List`, and the one I get doesn&#39;t necessarily implements `RandomAccess`, so accessing the list by their index might be costly as well.","title":"Find the last element matching an expensive condition from a List, using Stream","body":"<p>I have an ordered <code>List</code> of roughly one million elements of which I'm looking for the last element that matches a specific condition, but the condition is heavy to compute so it's better if I start from the end instead. There are always roughly <code>log(n)</code> matching elements, with a minimum of 1.</p>\n\n<p>I can do it manually:</p>\n\n<pre><code>List&lt;Element&gt; elements = ...;\nElement element = null;\nfor (var it = elements.listIterator(elements.size()); it.hasPrevious(); ) {\n  var candidate = it.previous();\n  if (heavyConditionPredicate.test(candidate)) {\n    element = candidate;\n    break;\n  }\n}\n</code></pre>\n\n<p>Is there any way to write this using <code>Stream</code>s, so that the <code>heavyConditionPredicate</code> is not tested against each element of the list? If the heavyConditionPredicate would not have been so heavy to compute, I'd have used <a href=\"https://stackoverflow.com/q/27547519/180719\">alternative means</a>, but I'm not that lucky.</p>\n\n<p>Note that <code>elements</code> can be any type of <code>List</code>, and the one I get doesn't necessarily implements <code>RandomAccess</code>, so accessing the list by their index might be costly as well.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":1,"creation_date":1694536679,"post_id":77091044,"comment_id":135902927,"body_markdown":"Your title question and the question in this code aren&#39;t the same","body":"Your title question and the question in this code aren&#39;t the same"},{"owner":{"account_id":27653344,"reputation":17,"user_id":21107761,"display_name":"Kk Lee"},"score":0,"creation_date":1694536763,"post_id":77091044,"comment_id":135902945,"body_markdown":"Sorry, my English is not proficient enough to express this problem in short words. Do you have any good suggestions?","body":"Sorry, my English is not proficient enough to express this problem in short words. Do you have any good suggestions?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1694536850,"post_id":77091044,"comment_id":135902965,"body_markdown":"@ChristianBongiorno The question is clear enough. The intent, at least, is very clear.","body":"@ChristianBongiorno The question is clear enough. The intent, at least, is very clear."},{"owner":{"account_id":27653344,"reputation":17,"user_id":21107761,"display_name":"Kk Lee"},"score":0,"creation_date":1694536861,"post_id":77091044,"comment_id":135902968,"body_markdown":"I&#39;d like to make this question more general, not just specific to the `Pair` class, and I don&#39;t know what the technical issue is.","body":"I&#39;d like to make this question more general, not just specific to the <code>Pair</code> class, and I don&#39;t know what the technical issue is."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694537030,"post_id":77091044,"comment_id":135903002,"body_markdown":"Long story short, you are assuming that generics are covariant. They are not. Please take a look at the answer here, specifically the second half -- https://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant/18666878#18666878 -- The question it is answering is different than yours, but the answer for your question is the same as this answer, specifically the second half.","body":"Long story short, you are assuming that generics are covariant. They are not. Please take a look at the answer here, specifically the second half -- <a href=\"https://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant/18666878#18666878\" title=\"why are arrays covariant but generics are invariant\">stackoverflow.com/questions/18666710/&hellip;</a> -- The question it is answering is different than yours, but the answer for your question is the same as this answer, specifically the second half."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694537146,"post_id":77091044,"comment_id":135903019,"body_markdown":"Here is an even better answer -- https://stackoverflow.com/a/2745301/697449","body":"Here is an even better answer -- <a href=\"https://stackoverflow.com/a/2745301/697449\">stackoverflow.com/a/2745301/697449</a>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694537162,"post_id":77091044,"comment_id":135903022,"body_markdown":"Does this answer your question? [Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?](https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po\">Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?</a>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1694537811,"post_id":77091044,"comment_id":135903146,"body_markdown":"`new Pair&lt;&gt;(new Manager(),new Manager())` by *itself* is `Pair&lt;Manager&gt;`, but when assigned to, or used as argument to `Pair&lt;Employee&gt;`, it is inferred as being a `Pair&lt;Employee&gt;`","body":"<code>new Pair&lt;&gt;(new Manager(),new Manager())</code> by <i>itself</i> is <code>Pair&lt;Manager&gt;</code>, but when assigned to, or used as argument to <code>Pair&lt;Employee&gt;</code>, it is inferred as being a <code>Pair&lt;Employee&gt;</code>"},{"owner":{"account_id":27653344,"reputation":17,"user_id":21107761,"display_name":"Kk Lee"},"score":1,"creation_date":1694538729,"post_id":77091044,"comment_id":135903306,"body_markdown":"None of these answers solved my doubts. I know that generics are not covariant, and the question I asked is exactly a counterexample: method accepts a generic class object of covariant type.","body":"None of these answers solved my doubts. I know that generics are not covariant, and the question I asked is exactly a counterexample: method accepts a generic class object of covariant type."},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1694541006,"post_id":77091044,"comment_id":135903732,"body_markdown":"mm, @davidalayachew - The title has been changed, so yeah, much clearer","body":"mm, @davidalayachew - The title has been changed, so yeah, much clearer"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694541779,"post_id":77091044,"comment_id":135903879,"body_markdown":"`Pair&lt;Employee&gt; p2 = new Pair&lt;&gt;(new Manager(), new Manager());` = `Pair&lt;Employee&gt; p2 = new Pair&lt;Employee&gt;(new Manager(), new Manager());`. Same reason why the parameter is accepted.","body":"<code>Pair&lt;Employee&gt; p2 = new Pair&lt;&gt;(new Manager(), new Manager());</code> = <code>Pair&lt;Employee&gt; p2 = new Pair&lt;Employee&gt;(new Manager(), new Manager());</code>. Same reason why the parameter is accepted."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694601760,"post_id":77091044,"comment_id":135911879,"body_markdown":"What &#39;anonymous class&#39;?","body":"What &#39;anonymous class&#39;?"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694539848,"creation_date":1694539530,"answer_id":77091414,"question_id":77091044,"body_markdown":"The first snippet works because `Manager` is a subclass of `Employee`, so **it&#39;s safe to put a `Manager` object into a reference of type `Employee`**.This concept is known as [covariance][1].\r\n\r\nThe error in the second snippet is because of type invariance in generics. In Java, **generics are not covariant**, meaning that you cannot assign a `Pair&lt;Manager&gt;` to a `Pair&lt;Employee&gt;` even if `Manager` is a subclass of `Employee`. This is to **prevent potential runtime errors** because `Pair&lt;Manager&gt;` and `Pair&lt;Employee&gt;` have different generic types, and allowing such assignments could lead to type-related issues.\r\n\r\nTo make it work, you can use a [`Wildcard`][2], this way:\r\n\r\n```java\r\nPair&lt;? extends Employee&gt; p3 = new Pair&lt;&gt;(new Employee(), new Employee());\r\nPair&lt;Manager&gt; p4 = new Pair&lt;&gt;(new Manager(), new Manager());\r\np3 = p4; // Now this assignment is valid\r\n```\r\n\r\nIt ensures that the elements contained in `p3` are always a subclasse of `Employee`.\r\n\r\nCheck this out:\r\n\r\n - [Java generic type issue][3]\r\n - [Wildcards and Subtyping][4]\r\n - [Java generics covariance][5]\r\n - [Covariance, Invariance and Contravariance][6]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20161204181636/https://www.ibm.com/developerworks/library/j-jtp07018/index.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\r\n  [3]: https://stackoverflow.com/questions/60248110/java-generic-type-issue\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/generics/subtyping.html\r\n  [5]: https://stackoverflow.com/questions/2660827/java-generics-covariance\r\n  [6]: https://stackoverflow.com/questions/8481301/covariance-invariance-and-contravariance-explained-in-plain-english","title":"Why does a method accept an anonymous generic class object of covariant type?","body":"<p>The first snippet works because <code>Manager</code> is a subclass of <code>Employee</code>, so <strong>it's safe to put a <code>Manager</code> object into a reference of type <code>Employee</code></strong>.This concept is known as <a href=\"https://web.archive.org/web/20161204181636/https://www.ibm.com/developerworks/library/j-jtp07018/index.html\" rel=\"nofollow noreferrer\">covariance</a>.</p>\n<p>The error in the second snippet is because of type invariance in generics. In Java, <strong>generics are not covariant</strong>, meaning that you cannot assign a <code>Pair&lt;Manager&gt;</code> to a <code>Pair&lt;Employee&gt;</code> even if <code>Manager</code> is a subclass of <code>Employee</code>. This is to <strong>prevent potential runtime errors</strong> because <code>Pair&lt;Manager&gt;</code> and <code>Pair&lt;Employee&gt;</code> have different generic types, and allowing such assignments could lead to type-related issues.</p>\n<p>To make it work, you can use a <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\" rel=\"nofollow noreferrer\"><code>Wildcard</code></a>, this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pair&lt;? extends Employee&gt; p3 = new Pair&lt;&gt;(new Employee(), new Employee());\nPair&lt;Manager&gt; p4 = new Pair&lt;&gt;(new Manager(), new Manager());\np3 = p4; // Now this assignment is valid\n</code></pre>\n<p>It ensures that the elements contained in <code>p3</code> are always a subclasse of <code>Employee</code>.</p>\n<p>Check this out:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/60248110/java-generic-type-issue\">Java generic type issue</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/subtyping.html\" rel=\"nofollow noreferrer\">Wildcards and Subtyping</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2660827/java-generics-covariance\">Java generics covariance</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8481301/covariance-invariance-and-contravariance-explained-in-plain-english\">Covariance, Invariance and Contravariance</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694605849,"creation_date":1694542732,"answer_id":77091720,"question_id":77091044,"body_markdown":"&gt; The type of new `Pair&lt;&gt;(new Manager(),new Manager())` is `Pair&lt;Manager&gt;`\r\n\r\nNo, it is not. With `javac` 20 we can see the type of the argument using [`--debug=verboseResolution=all`](https://stackoverflow.com/questions/24284013/make-java-compiler-output-type-inference-information/29442166#comment90865888_29442166):\r\n\r\n```\r\nTest.java:3: Note: resolving method testPairEmployee in type Test to candidate 0\r\n        testPairEmployee(new Pair&lt;&gt;(new Manager(),new Manager()));\r\n        ^\r\n  phase: BASIC\r\n  with actuals: Pair&lt;Employee&gt;\r\n  with type-args: no arguments\r\n  candidates:\r\n      #0 applicable method found: testPairEmployee(Pair&lt;Employee&gt;)\r\n```\r\n\r\nAs you can see, the type of the argument is `Pair&lt;Employee&gt;`.\r\n\r\n---\r\n\r\nYou can also see that the argument type can not be `Pair&lt;Manager&gt;` because if you provide `Manager` as a type argument explicitly:\r\n\r\n    testPairEmployee(new Pair&lt;Manager&gt;(new Manager(),new Manager()));\r\n\r\nThe code fails to compile:\r\n\r\n```\r\nTest.java:3: error: incompatible types: Pair&lt;Manager&gt; cannot be converted to Pair&lt;Employee&gt;\r\n        testPairEmployee(new Pair&lt;Manager&gt;(new Manager(),new Manager()));\r\n                         ^\r\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n1 error\r\n```\r\n\r\n---\r\n\r\nAs to why you get an error when casting the result of the constructor invocation (as my colleague Dan Smith graciously explained to me): a method invocation appearing in a casting context [is not a poly expression](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12), which in short means that the type of the cast doesn&#39;t affect the inference process, and the type of `new Pair&lt;&gt;(new Manager(),new Manager())` is inferred in isolation to `Pair&lt;Manager&gt;` which can not be cast to `Pair&lt;Employee&gt;`. In other words: the cast is changing the inference process.","title":"Why does a method accept an anonymous generic class object of covariant type?","body":"<blockquote>\n<p>The type of new <code>Pair&lt;&gt;(new Manager(),new Manager())</code> is <code>Pair&lt;Manager&gt;</code></p>\n</blockquote>\n<p>No, it is not. With <code>javac</code> 20 we can see the type of the argument using <a href=\"https://stackoverflow.com/questions/24284013/make-java-compiler-output-type-inference-information/29442166#comment90865888_29442166\"><code>--debug=verboseResolution=all</code></a>:</p>\n<pre><code>Test.java:3: Note: resolving method testPairEmployee in type Test to candidate 0\n        testPairEmployee(new Pair&lt;&gt;(new Manager(),new Manager()));\n        ^\n  phase: BASIC\n  with actuals: Pair&lt;Employee&gt;\n  with type-args: no arguments\n  candidates:\n      #0 applicable method found: testPairEmployee(Pair&lt;Employee&gt;)\n</code></pre>\n<p>As you can see, the type of the argument is <code>Pair&lt;Employee&gt;</code>.</p>\n<hr />\n<p>You can also see that the argument type can not be <code>Pair&lt;Manager&gt;</code> because if you provide <code>Manager</code> as a type argument explicitly:</p>\n<pre><code>testPairEmployee(new Pair&lt;Manager&gt;(new Manager(),new Manager()));\n</code></pre>\n<p>The code fails to compile:</p>\n<pre><code>Test.java:3: error: incompatible types: Pair&lt;Manager&gt; cannot be converted to Pair&lt;Employee&gt;\n        testPairEmployee(new Pair&lt;Manager&gt;(new Manager(),new Manager()));\n                         ^\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n1 error\n</code></pre>\n<hr />\n<p>As to why you get an error when casting the result of the constructor invocation (as my colleague Dan Smith graciously explained to me): a method invocation appearing in a casting context <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12\" rel=\"nofollow noreferrer\">is not a poly expression</a>, which in short means that the type of the cast doesn't affect the inference process, and the type of <code>new Pair&lt;&gt;(new Manager(),new Manager())</code> is inferred in isolation to <code>Pair&lt;Manager&gt;</code> which can not be cast to <code>Pair&lt;Employee&gt;</code>. In other words: the cast is changing the inference process.</p>\n"}],"owner":{"account_id":27653344,"reputation":17,"user_id":21107761,"display_name":"Kk Lee"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77091720,"answer_count":2,"score":2,"last_activity_date":1694605849,"creation_date":1694536129,"question_id":77091044,"body_markdown":"```\r\npublic class Test{\r\n    public static void main(String[] args){\r\n        testPairEmployee(new Pair&lt;&gt;(new Manager(),new Manager()));\r\n    }\r\n    public static void testPairEmployee(Pair&lt;Employee&gt; p) throws NoSuchMethodException {\r\n        p.testFunc();\r\n    }\r\n}\r\nclass Employee{}\r\nclass Manager extends Employee{}\r\nclass Pair&lt;T&gt;{\r\n    private T first;\r\n    private T second;\r\n    public Pair(T first, T second){\r\n        this.first = first;\r\n        this.second = second;\r\n    }\r\n    public void testFunc() {\r\n        System.out.println(first.getClass().getName() + &#39;\\t&#39; + second.getClass().getName());\r\n    }\r\n}\r\n```\r\nThe type of `new Pair&lt;&gt;(new Manager(),new Manager())` is `Pair&lt;Manager&gt;`, why this code can run successfully?\r\n\r\nIf you think its type is `Pair&lt;Employee&gt;`, but when I wrote this code:\r\n```\r\ntestPairEmployee((Pair&lt;Employee&gt;)new Pair&lt;&gt;(new Manager(),new Manager()));\r\n```\r\nI encountered a compilation error: \r\n\r\n&gt; Inconvertible types; cannot cast\r\n&gt; &#39;TestGeneration.Pair&lt;TestGeneration.Manager&gt;&#39; to\r\n&gt; &#39;TestGeneration.Pair&lt;TestGeneration .Employee&gt;\r\n\r\n\r\nIn other words, the compiler clearly knows that its type is `Pair&lt;Manager&gt;`.\r\n\r\nWhy?\r\n\r\n","title":"Why does a method accept an anonymous generic class object of covariant type?","body":"<pre><code>public class Test{\n    public static void main(String[] args){\n        testPairEmployee(new Pair&lt;&gt;(new Manager(),new Manager()));\n    }\n    public static void testPairEmployee(Pair&lt;Employee&gt; p) throws NoSuchMethodException {\n        p.testFunc();\n    }\n}\nclass Employee{}\nclass Manager extends Employee{}\nclass Pair&lt;T&gt;{\n    private T first;\n    private T second;\n    public Pair(T first, T second){\n        this.first = first;\n        this.second = second;\n    }\n    public void testFunc() {\n        System.out.println(first.getClass().getName() + '\\t' + second.getClass().getName());\n    }\n}\n</code></pre>\n<p>The type of <code>new Pair&lt;&gt;(new Manager(),new Manager())</code> is <code>Pair&lt;Manager&gt;</code>, why this code can run successfully?</p>\n<p>If you think its type is <code>Pair&lt;Employee&gt;</code>, but when I wrote this code:</p>\n<pre><code>testPairEmployee((Pair&lt;Employee&gt;)new Pair&lt;&gt;(new Manager(),new Manager()));\n</code></pre>\n<p>I encountered a compilation error:</p>\n<blockquote>\n<p>Inconvertible types; cannot cast\n'TestGeneration.Pair&lt;TestGeneration.Manager&gt;' to\n'TestGeneration.Pair&lt;TestGeneration .Employee&gt;</p>\n</blockquote>\n<p>In other words, the compiler clearly knows that its type is <code>Pair&lt;Manager&gt;</code>.</p>\n<p>Why?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":2,"creation_date":1661284716,"post_id":73459858,"comment_id":129734723,"body_markdown":"Please make a [mcve] .  Otherwise all I can tell you is this should work, you must be doing something wrong. Which doesn&#39;t help at all of course.","body":"Please make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> .  Otherwise all I can tell you is this should work, you must be doing something wrong. Which doesn&#39;t help at all of course."},{"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"score":0,"creation_date":1661326760,"post_id":73459858,"comment_id":129742280,"body_markdown":"@NathanHughes Below is the code that reproduces the problem.","body":"@NathanHughes Below is the code that reproduces the problem."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1661340326,"post_id":73459858,"comment_id":129747545,"body_markdown":"If you will stop rethrowing the exception, then no rollback occurs","body":"If you will stop rethrowing the exception, then no rollback occurs"}],"answers":[{"tags":[],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661339616,"creation_date":1661339616,"answer_id":73472121,"question_id":73459858,"body_markdown":"I think the problem is with `RuntimeException`&#39;s. If I will check first, if the entity exists in the database, and if it&#39;s not,  then throw a checked exception, then the transaction is not rolled back.","title":"Springs Transaction is silently rolled back","body":"<p>I think the problem is with <code>RuntimeException</code>'s. If I will check first, if the entity exists in the database, and if it's not,  then throw a checked exception, then the transaction is not rolled back.</p>\n"},{"tags":[],"owner":{"account_id":12240125,"reputation":349,"user_id":9219920,"display_name":"Sohail Anwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694605838,"creation_date":1694605838,"answer_id":77096813,"question_id":73459858,"body_markdown":"If anyone still facing the issue can check by logging error in catch block of service, there might be few issues as\r\n\r\n - Data is not compatible with column datatype  \r\n - Trying to persist null into not null \r\n - Constraint may be violated.\r\n - Id may not exist in DB(primary in case of deletion and FK in case of master- detail)\r\n\r\neg:\r\n\r\n     @Override\r\n    @Transactional(noRollbackFor = { EmptyResultDataAccessException.class })\r\n    public void save(Pet pet, Long personId) {\r\n        try{\r\n         personService.deleteById(personId);\r\n         repository.save(pet);\r\n       catch(Exception exc){ \r\n            exc.printStackTrace();\r\n          }\r\n    }","title":"Springs Transaction is silently rolled back","body":"<p>If anyone still facing the issue can check by logging error in catch block of service, there might be few issues as</p>\n<ul>\n<li>Data is not compatible with column datatype</li>\n<li>Trying to persist null into not null</li>\n<li>Constraint may be violated.</li>\n<li>Id may not exist in DB(primary in case of deletion and FK in case of master- detail)</li>\n</ul>\n<p>eg:</p>\n<pre><code> @Override\n@Transactional(noRollbackFor = { EmptyResultDataAccessException.class })\npublic void save(Pet pet, Long personId) {\n    try{\n     personService.deleteById(personId);\n     repository.save(pet);\n   catch(Exception exc){ \n        exc.printStackTrace();\n      }\n}\n</code></pre>\n"}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694605838,"creation_date":1661262162,"question_id":73459858,"body_markdown":"I have a problem with a silent transaction rollback which causes an internal server error. I do have three classes (services):\r\n```\r\nclass ServiceA {\r\n\t@Transactional\r\n\tpublic void methodA() {\r\n\t\t// ServiceB.methodB();\r\n\t}\r\n}\r\n\r\nclass ServiceB {\r\n\t@Transactional\r\n\tpublic void methodB() {\r\n\t\t// ServiceC.methodC();\r\n\t}\r\n}\r\n\r\nclass ServiceC {\r\n\tpublic void methodC() throws Exception {\r\n\t\ttry {\r\n\t\t\t// ...\r\n\t\t} catch(EmptyResultDataAccessException e) {\r\n\t\t\tthrow new Exception();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nThe `ServiceC` tries to remove an entity by the ID, so it calls `repository.deleteById(id)`. In case the resource was not found it does a catch on the `EmptyResultDataAccessException` exception and throws a checked exception with an information to the user.\r\n\r\nI already tried to use `@Transactional(noRollbackFor = { Exception.class, RuntimeException.class })`, or even `EmptyResultDataAccessException.class` and the checked exception that is thrown, it&#39;s of type `CustomCheckedException.class`.\r\n\r\nNone of the solutions work, I need to not rollback the transaction if the data to delete is not found.\r\n\r\nSo, I have created a simple spring-boot example. It uses the H2 in-memory database. Below is the code that throws `EmptyResultDataAccessException` within a transaction, it should not rollback the transaction, but it does.\r\n\r\nIf we run the below code, we will get: `Caused by: org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only`\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication implements CommandLineRunner {\r\n\t@Autowired\r\n\tprivate PetService petService;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(final String... args) throws Exception {\r\n\t\tpetService.save(new Pet(), 1L);\r\n\t}\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;pets&quot;)\r\nclass Pet {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\tpublic Pet() {\r\n\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(final Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n}\r\n\r\n@Repository\r\ninterface PetRepository extends JpaRepository&lt;Pet, Long&gt; {\r\n\r\n}\r\n\r\ninterface PetService {\r\n\tvoid save(Pet pet, Long personId);\r\n}\r\n\r\n@Service\r\nclass DefaultPetService implements PetService {\r\n\tprivate final PetRepository repository;\r\n\tprivate final PersonService personService;\r\n\r\n\tDefaultPetService(\r\n\t\t\tfinal PetRepository repository,\r\n\t\t\tfinal PersonService personService\r\n\t) {\r\n\t\tthis.repository = repository;\r\n\t\tthis.personService = personService;\r\n\t}\r\n\r\n\t@Override\r\n\t@Transactional(noRollbackFor = { EmptyResultDataAccessException.class })\r\n\tpublic void save(Pet pet, Long personId) {\r\n\t\tpersonService.deleteById(personId);\r\n\t\trepository.save(pet);\r\n\t}\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;people&quot;)\r\nclass Person {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\tpublic Person() {\r\n\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(final Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n}\r\n\r\n@Repository\r\ninterface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\r\n\r\n}\r\n\r\ninterface PersonService {\r\n\tvoid deleteById(Long personId);\r\n}\r\n\r\n@Service\r\nclass DefaultPersonService implements PersonService {\r\n\tprivate final PersonRepository repository;\r\n\r\n\tDefaultPersonService(final PersonRepository repository) {\r\n\t\tthis.repository = repository;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteById(Long personId) {\r\n\t\ttry {\r\n\t\t\trepository.deleteById(personId);\r\n\t\t} catch(EmptyResultDataAccessException ignored) {\r\n\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Springs Transaction is silently rolled back","body":"<p>I have a problem with a silent transaction rollback which causes an internal server error. I do have three classes (services):</p>\n<pre><code>class ServiceA {\n    @Transactional\n    public void methodA() {\n        // ServiceB.methodB();\n    }\n}\n\nclass ServiceB {\n    @Transactional\n    public void methodB() {\n        // ServiceC.methodC();\n    }\n}\n\nclass ServiceC {\n    public void methodC() throws Exception {\n        try {\n            // ...\n        } catch(EmptyResultDataAccessException e) {\n            throw new Exception();\n        }\n    }\n}\n</code></pre>\n<p>The <code>ServiceC</code> tries to remove an entity by the ID, so it calls <code>repository.deleteById(id)</code>. In case the resource was not found it does a catch on the <code>EmptyResultDataAccessException</code> exception and throws a checked exception with an information to the user.</p>\n<p>I already tried to use <code>@Transactional(noRollbackFor = { Exception.class, RuntimeException.class })</code>, or even <code>EmptyResultDataAccessException.class</code> and the checked exception that is thrown, it's of type <code>CustomCheckedException.class</code>.</p>\n<p>None of the solutions work, I need to not rollback the transaction if the data to delete is not found.</p>\n<p>So, I have created a simple spring-boot example. It uses the H2 in-memory database. Below is the code that throws <code>EmptyResultDataAccessException</code> within a transaction, it should not rollback the transaction, but it does.</p>\n<p>If we run the below code, we will get: <code>Caused by: org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only</code></p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n    @Autowired\n    private PetService petService;\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(final String... args) throws Exception {\n        petService.save(new Pet(), 1L);\n    }\n}\n\n@Entity\n@Table(name = &quot;pets&quot;)\nclass Pet {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    public Pet() {\n\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(final Long id) {\n        this.id = id;\n    }\n}\n\n@Repository\ninterface PetRepository extends JpaRepository&lt;Pet, Long&gt; {\n\n}\n\ninterface PetService {\n    void save(Pet pet, Long personId);\n}\n\n@Service\nclass DefaultPetService implements PetService {\n    private final PetRepository repository;\n    private final PersonService personService;\n\n    DefaultPetService(\n            final PetRepository repository,\n            final PersonService personService\n    ) {\n        this.repository = repository;\n        this.personService = personService;\n    }\n\n    @Override\n    @Transactional(noRollbackFor = { EmptyResultDataAccessException.class })\n    public void save(Pet pet, Long personId) {\n        personService.deleteById(personId);\n        repository.save(pet);\n    }\n}\n\n@Entity\n@Table(name = &quot;people&quot;)\nclass Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    public Person() {\n\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(final Long id) {\n        this.id = id;\n    }\n}\n\n@Repository\ninterface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\n\n}\n\ninterface PersonService {\n    void deleteById(Long personId);\n}\n\n@Service\nclass DefaultPersonService implements PersonService {\n    private final PersonRepository repository;\n\n    DefaultPersonService(final PersonRepository repository) {\n        this.repository = repository;\n    }\n\n    @Override\n    public void deleteById(Long personId) {\n        try {\n            repository.deleteById(personId);\n        } catch(EmptyResultDataAccessException ignored) {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1613437657,"post_id":66217350,"comment_id":117069833,"body_markdown":"With no other details, it will be hard for anyone to help. Please take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively.  Your error message implies a large chunk of the Servlet implementation is missing, so it&#39;s likely an installation error or configuration error.","body":"With no other details, it will be hard for anyone to help. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively.  Your error message implies a large chunk of the Servlet implementation is missing, so it&#39;s likely an installation error or configuration error."},{"owner":{"account_id":20723331,"reputation":781,"user_id":15217182,"display_name":"knelson59406"},"score":1,"creation_date":1613442922,"post_id":66217350,"comment_id":117070818,"body_markdown":"@JimGarrison - thank you sir for reference on how to ask question. I am sorry i did not follow the correct procedures. I have updated my question with more details, source code and expected outcome.","body":"@JimGarrison - thank you sir for reference on how to ask question. I am sorry i did not follow the correct procedures. I have updated my question with more details, source code and expected outcome."},{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1613468105,"post_id":66217350,"comment_id":117077368,"body_markdown":"since he has added all details, we should revert our down vote","body":"since he has added all details, we should revert our down vote"}],"answers":[{"tags":[],"owner":{"account_id":20723331,"reputation":781,"user_id":15217182,"display_name":"knelson59406"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1641823833,"creation_date":1613464285,"answer_id":66220939,"question_id":66217350,"body_markdown":"*TL;DR: Spring MVC 5 does not run on Tomcat 10 because of the package renaming from `javax.*` to `jakarta.*`.*\r\n\r\nAfter further research, I was able to find the answer to my question. Spring MVC 5 does *not* work on Tomcat&amp;nbsp;10. This is because Tomcat&amp;nbsp;10 is based on Jakarta&amp;nbsp;EE&amp;nbsp;9 where package names for APIs have changed from `javax.*` to `jakarta.*`.\r\n\r\nTomcat 10 mentioned this on the [download webpage][1]:\r\n\r\n&gt; Users of Tomcat 10 onwards should be aware that, as a result of the\r\n&gt; move from Java EE to Jakarta EE as part of the transfer of Java EE to\r\n&gt; the Eclipse Foundation, the primary package for all implemented APIs\r\n&gt; has changed from `javax.*` to `jakarta.*`. This will almost certainly\r\n&gt; require code changes to enable applications to migrate from Tomcat 9\r\n&gt; and earlier to Tomcat 10 and later.\r\n\r\nFor Spring MVC 5, the Spring MVC [DispatcherServlet][2] has a dependency on the `javax.servlet.*` package namespace. This is using the Java&amp;nbsp;EE&amp;nbsp;8 `javax` package naming. Since Tomcat 10 is based on Jakarta&amp;nbsp;EE&amp;nbsp;9, the packages for `javax` naming are not supported. This explains why Spring&amp;nbsp;MVC&amp;nbsp;5 does not work on Tomcat&amp;nbsp;10.\r\n\r\nThere are GitHub issues filed against the Spring Framework regarding this:\r\n\r\n*[Spring core 5 is not starting on Tomcat 10][3]*\r\n\r\n*[Support for Jakarta EE 9 (annotations and interfaces in jakarta.* namespace)][4]*\r\n\r\nIn my case, instead of migrating to Tomcat 10, I will stay on Tomcat&amp;nbsp;9 until the Spring framework is upgraded to Jakarta&amp;nbsp;EE&amp;nbsp;9.\r\n\r\n  [1]: https://tomcat.apache.org/download-10.cgi\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/v5.3.3/spring-webmvc/src/main/java/org/springframework/web/servlet/DispatcherServlet.java\r\n  [3]: https://github.com/spring-projects/spring-boot/issues/25276\r\n  [4]: https://github.com/spring-projects/spring-framework/issues/25354\r\n\r\n","title":"Deploying Spring 5.x on Tomcat 10.x","body":"<p><em>TL;DR: Spring MVC 5 does not run on Tomcat 10 because of the package renaming from <code>javax.*</code> to <code>jakarta.*</code>.</em></p>\n<p>After further research, I was able to find the answer to my question. Spring MVC 5 does <em>not</em> work on TomcatÂ 10. This is because TomcatÂ 10 is based on JakartaÂ EEÂ 9 where package names for APIs have changed from <code>javax.*</code> to <code>jakarta.*</code>.</p>\n<p>Tomcat 10 mentioned this on the <a href=\"https://tomcat.apache.org/download-10.cgi\" rel=\"noreferrer\">download webpage</a>:</p>\n<blockquote>\n<p>Users of Tomcat 10 onwards should be aware that, as a result of the\nmove from Java EE to Jakarta EE as part of the transfer of Java EE to\nthe Eclipse Foundation, the primary package for all implemented APIs\nhas changed from <code>javax.*</code> to <code>jakarta.*</code>. This will almost certainly\nrequire code changes to enable applications to migrate from Tomcat 9\nand earlier to Tomcat 10 and later.</p>\n</blockquote>\n<p>For Spring MVC 5, the Spring MVC <a href=\"https://github.com/spring-projects/spring-framework/blob/v5.3.3/spring-webmvc/src/main/java/org/springframework/web/servlet/DispatcherServlet.java\" rel=\"noreferrer\">DispatcherServlet</a> has a dependency on the <code>javax.servlet.*</code> package namespace. This is using the JavaÂ EEÂ 8 <code>javax</code> package naming. Since Tomcat 10 is based on JakartaÂ EEÂ 9, the packages for <code>javax</code> naming are not supported. This explains why SpringÂ MVCÂ 5 does not work on TomcatÂ 10.</p>\n<p>There are GitHub issues filed against the Spring Framework regarding this:</p>\n<p><em><a href=\"https://github.com/spring-projects/spring-boot/issues/25276\" rel=\"noreferrer\">Spring core 5 is not starting on Tomcat 10</a></em></p>\n<p><em><a href=\"https://github.com/spring-projects/spring-framework/issues/25354\" rel=\"noreferrer\">Support for Jakarta EE 9 (annotations and interfaces in jakarta.* namespace)</a></em></p>\n<p>In my case, instead of migrating to Tomcat 10, I will stay on TomcatÂ 9 until the Spring framework is upgraded to JakartaÂ EEÂ 9.</p>\n"},{"tags":[],"owner":{"account_id":6325493,"reputation":465,"user_id":4912093,"display_name":"harryssuperman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687726319,"creation_date":1687726319,"answer_id":76552355,"question_id":66217350,"body_markdown":"The Problem as mentioned from @knelson is right. And painfull! :-/\r\n\r\nFor us it was not just Spring (6.0.10), it was just a lot of releated dependencies, Hibernate/JPA (6.2.2.Final), JAXB, Servlets API (6), Maven Plugins und so on.\r\n\r\nI will suggest you to watch really nice video, i was watching of the IntelliJ colleages (Dalia Abo Sheasha):\r\n\r\nhttps://youtu.be/mukr2Q_zBm4\r\n\r\nThere are some tipps how these task/migration could be less painful with the help of IntelliJ and maven dependencies analysis.\r\n\r\nAfter that i was getting 404 Http Status calling a servlet. Issue was the flag metadata-complete from web.xml. I copied from the example that come with Tomcat   and this was not setting right. For me it was needed metadata-complete=&quot;false&quot; in the web.xml but from example it was true.","title":"Deploying Spring 5.x on Tomcat 10.x","body":"<p>The Problem as mentioned from @knelson is right. And painfull! :-/</p>\n<p>For us it was not just Spring (6.0.10), it was just a lot of releated dependencies, Hibernate/JPA (6.2.2.Final), JAXB, Servlets API (6), Maven Plugins und so on.</p>\n<p>I will suggest you to watch really nice video, i was watching of the IntelliJ colleages (Dalia Abo Sheasha):</p>\n<p><a href=\"https://youtu.be/mukr2Q_zBm4\" rel=\"nofollow noreferrer\">https://youtu.be/mukr2Q_zBm4</a></p>\n<p>There are some tipps how these task/migration could be less painful with the help of IntelliJ and maven dependencies analysis.</p>\n<p>After that i was getting 404 Http Status calling a servlet. Issue was the flag metadata-complete from web.xml. I copied from the example that come with Tomcat   and this was not setting right. For me it was needed metadata-complete=&quot;false&quot; in the web.xml but from example it was true.</p>\n"},{"tags":[],"owner":{"account_id":1460075,"reputation":35,"user_id":1374636,"display_name":"nostromo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694605738,"creation_date":1694605738,"answer_id":77096808,"question_id":66217350,"body_markdown":"Notice that some of the issues with javax.servlet-&gt;jakarta.servlet mentioned in other answers can be worked around deploying in webapps-javaee instead of webapps. It has worked quite well for me.\r\n\r\nThis will process the war through a migration tool that will modify the files, including class files, changing those packages.","title":"Deploying Spring 5.x on Tomcat 10.x","body":"<p>Notice that some of the issues with javax.servlet-&gt;jakarta.servlet mentioned in other answers can be worked around deploying in webapps-javaee instead of webapps. It has worked quite well for me.</p>\n<p>This will process the war through a migration tool that will modify the files, including class files, changing those packages.</p>\n"}],"owner":{"account_id":20723331,"reputation":781,"user_id":15217182,"display_name":"knelson59406"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18859,"favorite_count":0,"down_vote_count":2,"up_vote_count":30,"accepted_answer_id":66220939,"answer_count":3,"score":28,"last_activity_date":1694605738,"creation_date":1613436585,"question_id":66217350,"body_markdown":"TL;DR: I have a Spring MVC *[Hello, World!][1]* application that works on Tomcat&amp;nbsp;9. The same application on Tomcat&amp;nbsp;10 gives a 404 error for web request mappings.\r\n\r\n**The Problem**\r\n\r\nWhen deploying a Spring MVC 5 *Hello, World!* application to Tomcat&amp;nbsp;10, the application gives a 404 error for web request mappings. The same *Hello, World!* application works on Tomcat&amp;nbsp;9. It displays the *Hello, World!* message on Tomcat&amp;nbsp;9.\r\n\r\n**What I Expected**\r\n\r\nI expected the application to display the *Hello, World!* message on Tomcat&amp;nbsp;10.\r\n\r\n**Environment**\r\n\r\n - MS Windows 10\r\n- Tomcat 10.0.2\r\n- Spring MVC 5.3.3\r\n\r\n**Research I Performed**\r\n\r\nI researched in the Spring Reference Manual, Section on Web Servlet. I also tested Spring MVC Tutorials online. These tutorials worked on Tomcat&amp;nbsp;9. However, the same tutorials failed on Tomcat&amp;nbsp;10. I also performed Google search on Tomcat&amp;nbsp;10. I saw references to Jakarta EE, but I am not sure if this is the source of the issue. Java EE 8 and Jakarta EE 8 are backwards compatible.\r\n\r\n**How to Reproduce**\r\n\r\nI created a very basic *Hello, World!* project to test this out. Here is the code that I&#39;m using for the project.\r\n\r\n### File *pom.xml*\r\n\r\n```lang-xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example.spring&lt;/groupId&gt;\r\n    &lt;artifactId&gt;example-spring&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n### File *ProjectInitializer.java*\r\n\r\n```\r\npackage com.example;\r\n\r\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n\r\npublic class ProjectInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n        return new Class[] { PureJavaConfig.class };\r\n    }\r\n\r\n    @Override\r\n    protected String[] getServletMappings() {\r\n        return new String[] { &quot;/&quot; };\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n### File *PureJavaConfig.java*\r\n\r\n```\r\npackage com.example;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.ViewResolver;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(&quot;com.example&quot;)\r\npublic class PureJavaConfig {\r\n\r\n    @Bean\r\n    public ViewResolver viewResolver() {\r\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\r\n        resolver.setSuffix(&quot;.jsp&quot;);\r\n        resolver.setPrefix(&quot;/WEB-INF/jsp/&quot;);\r\n        return resolver;\r\n    }\r\n\r\n}\r\n```\r\n\r\n### File *TutorialController.java*\r\n\r\n```\r\npackage com.example;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class TutorialController {\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String home() {\r\n        return &quot;home&quot;;\r\n    }\r\n}\r\n```\r\n\r\n### File *home.jsp*\r\n\r\n```lang-html\r\n&lt;html&gt;\r\n    &lt;body&gt;Hello, World! of Spring! &lt;%= java.time.LocalDateTime.now() %&gt;&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nThis project runs okay on Tomcat&amp;nbsp;9. It displays the *Hello, World!* message. However, when I run on Tomcat&amp;nbsp;10, I get a 404 error message.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/%22Hello,_World!%22_program\r\n\r\n\r\n\r\n\r\n","title":"Deploying Spring 5.x on Tomcat 10.x","body":"<p>TL;DR: I have a Spring MVC <em><a href=\"https://en.wikipedia.org/wiki/%22Hello,_World!%22_program\" rel=\"noreferrer\">Hello, World!</a></em> application that works on TomcatÂ 9. The same application on TomcatÂ 10 gives a 404 error for web request mappings.</p>\n<p><strong>The Problem</strong></p>\n<p>When deploying a Spring MVC 5 <em>Hello, World!</em> application to TomcatÂ 10, the application gives a 404 error for web request mappings. The same <em>Hello, World!</em> application works on TomcatÂ 9. It displays the <em>Hello, World!</em> message on TomcatÂ 9.</p>\n<p><strong>What I Expected</strong></p>\n<p>I expected the application to display the <em>Hello, World!</em> message on TomcatÂ 10.</p>\n<p><strong>Environment</strong></p>\n<ul>\n<li>MS Windows 10</li>\n<li>Tomcat 10.0.2</li>\n<li>Spring MVC 5.3.3</li>\n</ul>\n<p><strong>Research I Performed</strong></p>\n<p>I researched in the Spring Reference Manual, Section on Web Servlet. I also tested Spring MVC Tutorials online. These tutorials worked on TomcatÂ 9. However, the same tutorials failed on TomcatÂ 10. I also performed Google search on TomcatÂ 10. I saw references to Jakarta EE, but I am not sure if this is the source of the issue. Java EE 8 and Jakarta EE 8 are backwards compatible.</p>\n<p><strong>How to Reproduce</strong></p>\n<p>I created a very basic <em>Hello, World!</em> project to test this out. Here is the code that I'm using for the project.</p>\n<h3>File <em>pom.xml</em></h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;example-spring&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h3>File <em>ProjectInitializer.java</em></h3>\n<pre><code>package com.example;\n\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\npublic class ProjectInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] { PureJavaConfig.class };\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] { &quot;/&quot; };\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n}\n</code></pre>\n<h3>File <em>PureJavaConfig.java</em></h3>\n<pre><code>package com.example;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n@Configuration\n@EnableWebMvc\n@ComponentScan(&quot;com.example&quot;)\npublic class PureJavaConfig {\n\n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n        resolver.setSuffix(&quot;.jsp&quot;);\n        resolver.setPrefix(&quot;/WEB-INF/jsp/&quot;);\n        return resolver;\n    }\n\n}\n</code></pre>\n<h3>File <em>TutorialController.java</em></h3>\n<pre><code>package com.example;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class TutorialController {\n\n    @GetMapping(&quot;/&quot;)\n    public String home() {\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n<h3>File <em>home.jsp</em></h3>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n    &lt;body&gt;Hello, World! of Spring! &lt;%= java.time.LocalDateTime.now() %&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This project runs okay on TomcatÂ 9. It displays the <em>Hello, World!</em> message. However, when I run on TomcatÂ 10, I get a 404 error message.</p>\n"},{"tags":["java","email","outlook"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1694605426,"post_id":77095008,"comment_id":135912655,"body_markdown":"Can you add error log on your question?","body":"Can you add error log on your question?"}],"owner":{"account_id":17743724,"reputation":23,"user_id":12883429,"display_name":"Sudhakar Babu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694605409,"creation_date":1694590871,"question_id":77095008,"body_markdown":"I&#39;m trying to connect with Outlook mail \r\nhave implemented the connections but authentication is getting failed, have given the username and password but still getting that issue.\r\n\r\nHere is the the java code I have written, how can I have to get authentication success?\r\n\r\n\r\n```\r\nProperties props = System.getProperties();\r\n\r\nprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\nprops.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\nprops.setProperty(&quot;mail.imaps.partialfetch&quot;, &quot;false&quot;);\r\nprops.put(&quot;mail.mime.base64.ignoreerrors&quot;, &quot;true&quot;);\r\n\r\nprops.put(&quot;mail.imap.port&quot;, &quot;993&quot;);\r\nprops.put(&quot;mail.imap.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\nSession mailSession = Session.getInstance(props);\r\n\r\nmailSession.setDebug(true);\r\nStore store = mailSession.getStore(&quot;imap&quot;);\r\nstore.connect(&quot;outlook.office365.com&quot;, &quot;mail&quot;, &quot;password&quot;);\r\n```\r\n","title":"Getting A1 NO AUTHENTICATE failed. while trying to connect with Outlook mail","body":"<p>I'm trying to connect with Outlook mail\nhave implemented the connections but authentication is getting failed, have given the username and password but still getting that issue.</p>\n<p>Here is the the java code I have written, how can I have to get authentication success?</p>\n<pre><code>Properties props = System.getProperties();\n\nprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\nprops.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\nprops.setProperty(&quot;mail.imaps.partialfetch&quot;, &quot;false&quot;);\nprops.put(&quot;mail.mime.base64.ignoreerrors&quot;, &quot;true&quot;);\n\nprops.put(&quot;mail.imap.port&quot;, &quot;993&quot;);\nprops.put(&quot;mail.imap.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n\nSession mailSession = Session.getInstance(props);\n\nmailSession.setDebug(true);\nStore store = mailSession.getStore(&quot;imap&quot;);\nstore.connect(&quot;outlook.office365.com&quot;, &quot;mail&quot;, &quot;password&quot;);\n</code></pre>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":6376149,"reputation":1025,"user_id":4947010,"accept_rate":80,"display_name":"MrLeblond"},"score":0,"creation_date":1638798876,"post_id":70245178,"comment_id":124176477,"body_markdown":"Have you tried: File &gt; Invalidate Cache / Restart? And/or to clean project?","body":"Have you tried: File &gt; Invalidate Cache / Restart? And/or to clean project?"},{"owner":{"account_id":23561451,"reputation":31,"user_id":17602771,"display_name":"Bashar Hamade"},"score":0,"creation_date":1638803397,"post_id":70245178,"comment_id":124178449,"body_markdown":"I just tried multiple times,it didn&#39;t solve the problem","body":"I just tried multiple times,it didn&#39;t solve the problem"},{"owner":{"account_id":6376149,"reputation":1025,"user_id":4947010,"accept_rate":80,"display_name":"MrLeblond"},"score":0,"creation_date":1638803649,"post_id":70245178,"comment_id":124178550,"body_markdown":"Do you use this resource (`android:attr/lStar`) in your project? If yes could you show us how you use it?","body":"Do you use this resource (<code>android:attr&#47;lStar</code>) in your project? If yes could you show us how you use it?"},{"owner":{"account_id":23561451,"reputation":31,"user_id":17602771,"display_name":"Bashar Hamade"},"score":1,"creation_date":1638804134,"post_id":70245178,"comment_id":124178764,"body_markdown":"No I didn&#39;t, I already said this is existing even before I do any modifications to my project(it is initialized upon creating my project)..I tried deleting android:attr/lStar from the xml file,it starts giving me new errors","body":"No I didn&#39;t, I already said this is existing even before I do any modifications to my project(it is initialized upon creating my project)..I tried deleting android:attr/lStar from the xml file,it starts giving me new errors"},{"owner":{"account_id":23561451,"reputation":31,"user_id":17602771,"display_name":"Bashar Hamade"},"score":1,"creation_date":1638805500,"post_id":70245178,"comment_id":124179308,"body_markdown":"I just solved the problem by copying the content of a build.gradle file from an older project that&#39;s working into my new project.Still don&#39;t know the root of the issue tho\n&#39;&#39;&#39;\n\n&#39;&#39;&#39;","body":"I just solved the problem by copying the content of a build.gradle file from an older project that&#39;s working into my new project.Still don&#39;t know the root of the issue tho &#39;&#39;&#39;  &#39;&#39;&#39;"}],"answers":[{"tags":[],"owner":{"account_id":16147340,"reputation":59,"user_id":11767710,"display_name":"Narek Zamanyan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1640400644,"creation_date":1640400342,"answer_id":70477682,"question_id":70245178,"body_markdown":"I followed what Bashar Hamade did and copy-pasted the contents of the build.gradle file of a working project. It actually solved the problem. Looking at it more carefully, here is what I noticed:\r\n\r\nSet your implementation dependencies for core and appcompat \r\nfrom\r\n\r\n    ...  \r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    ...\r\n\r\nto \r\n \r\n    ...\r\n    implementation &#39;androidx.core:core-ktx:1.6.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n    ...\r\n\r\nChanging only one of them does not solve the problem for some reason. I guess core-ktx:1.6.0 and appcompat:1.3.1 work together. You can&#39;t mess around with one without changing the other. \r\n\r\nBy the way, this problem seems to be coming from a recent Android Studio upgrade.","title":"Android Studio Android resource linking failed error .. AAPT: error: resource android:attr/lStar not found. at values.xml 105","body":"<p>I followed what Bashar Hamade did and copy-pasted the contents of the build.gradle file of a working project. It actually solved the problem. Looking at it more carefully, here is what I noticed:</p>\n<p>Set your implementation dependencies for core and appcompat\nfrom</p>\n<pre><code>...  \nimplementation 'androidx.core:core-ktx:1.7.0'\nimplementation 'androidx.appcompat:appcompat:1.4.0'\n...\n</code></pre>\n<p>to</p>\n<pre><code>...\nimplementation 'androidx.core:core-ktx:1.6.0'\nimplementation 'androidx.appcompat:appcompat:1.3.1'\n...\n</code></pre>\n<p>Changing only one of them does not solve the problem for some reason. I guess core-ktx:1.6.0 and appcompat:1.3.1 work together. You can't mess around with one without changing the other.</p>\n<p>By the way, this problem seems to be coming from a recent Android Studio upgrade.</p>\n"},{"tags":[],"owner":{"account_id":3587469,"reputation":329,"user_id":2994290,"display_name":"user2994290"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668314575,"creation_date":1668022047,"answer_id":74380367,"question_id":70245178,"body_markdown":"For me worked to update in build.gradle:\r\n\r\n```\r\ncompileSdkVersion = 31\r\ntargetSdkVersion = 31\r\n```\r\n\r\nSo change 30 to 31.","title":"Android Studio Android resource linking failed error .. AAPT: error: resource android:attr/lStar not found. at values.xml 105","body":"<p>For me worked to update in build.gradle:</p>\n<pre><code>compileSdkVersion = 31\ntargetSdkVersion = 31\n</code></pre>\n<p>So change 30 to 31.</p>\n"},{"tags":[],"owner":{"account_id":15614235,"reputation":834,"user_id":11264793,"display_name":"dacx"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668687210,"creation_date":1668687210,"answer_id":74475284,"question_id":70245178,"body_markdown":"If you are using `react-native` and getting this error after `Nov 4, 2022` and have not changed anything in your codebase, the fix might just be upgrading `react-native` to the hotfixed minor version.\r\n\r\nSee this for more detail: https://github.com/facebook/react-native/issues/35210","title":"Android Studio Android resource linking failed error .. AAPT: error: resource android:attr/lStar not found. at values.xml 105","body":"<p>If you are using <code>react-native</code> and getting this error after <code>Nov 4, 2022</code> and have not changed anything in your codebase, the fix might just be upgrading <code>react-native</code> to the hotfixed minor version.</p>\n<p>See this for more detail: <a href=\"https://github.com/facebook/react-native/issues/35210\" rel=\"noreferrer\">https://github.com/facebook/react-native/issues/35210</a></p>\n"},{"tags":[],"owner":{"account_id":11844980,"reputation":123,"user_id":8667733,"display_name":"Alhassan mousa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1675249702,"creation_date":1675249702,"answer_id":75309297,"question_id":70245178,"body_markdown":"I just fixed this issue by replace ./gradlew assembleRelease by ./gradlew app:assembleRelease\r\n\r\n","title":"Android Studio Android resource linking failed error .. AAPT: error: resource android:attr/lStar not found. at values.xml 105","body":"<p>I just fixed this issue by replace ./gradlew assembleRelease by ./gradlew app:assembleRelease</p>\n"}],"owner":{"account_id":23561451,"reputation":31,"user_id":17602771,"display_name":"Bashar Hamade"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18896,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1694605248,"creation_date":1638792101,"question_id":70245178,"body_markdown":"At first I was able to run everything with no problems,but then suddenly this error started appearing everytime I try to build pointing me to this xml file specifically : C:\\Users\\Lenovo\\.gradle\\caches\\transforms-2\\files-2.1\\f243f87f287fb4f4052bd069a9b71980\\core-1.7.0\\res\\values\\values.xml:105:5 .. saying AAPT: error: resource android:attr/lStar not found\r\nI even tried creating a new empty project, but the problem still occurs every time I attempt to run..so what&#39;s the problem being created at this XML file? \r\n\r\nHere are my code files: \r\n\r\nvalues.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;resources&gt;\r\n    &lt;attr format=&quot;reference&quot; name=&quot;nestedScrollViewStyle&quot;/&gt;\r\n    &lt;color name=&quot;androidx_core_ripple_material_light&quot;&gt;#1f000000&lt;/color&gt;\r\n    &lt;color name=&quot;androidx_core_secondary_text_default_material_light&quot;&gt;#8a000000&lt;/color&gt;\r\n    &lt;color name=&quot;notification_action_color_filter&quot;&gt;#ffffffff&lt;/color&gt;\r\n    &lt;color name=&quot;notification_icon_bg_color&quot;&gt;#ff9e9e9e&lt;/color&gt;\r\n    &lt;dimen name=&quot;compat_button_inset_horizontal_material&quot;&gt;4dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;compat_button_inset_vertical_material&quot;&gt;6dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;compat_button_padding_horizontal_material&quot;&gt;8dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;compat_button_padding_vertical_material&quot;&gt;4dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;compat_control_corner_material&quot;&gt;2dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;compat_notification_large_icon_max_height&quot;&gt;320dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;compat_notification_large_icon_max_width&quot;&gt;320dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_action_icon_size&quot;&gt;32dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_action_text_size&quot;&gt;13sp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_big_circle_margin&quot;&gt;12dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_content_margin_start&quot;&gt;8dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_large_icon_height&quot;&gt;64dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_large_icon_width&quot;&gt;64dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_main_column_padding_top&quot;&gt;10dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_media_narrow_margin&quot;&gt;@dimen/notification_content_margin_start&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_right_icon_size&quot;&gt;16dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_right_side_padding_top&quot;&gt;2dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_small_icon_background_padding&quot;&gt;3dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_small_icon_size_as_large&quot;&gt;24dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_subtext_size&quot;&gt;13sp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_top_pad&quot;&gt;10dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;notification_top_pad_large_text&quot;&gt;5dp&lt;/dimen&gt;\r\n    &lt;drawable name=&quot;notification_template_icon_bg&quot;&gt;#3333B5E5&lt;/drawable&gt;\r\n    &lt;drawable name=&quot;notification_template_icon_low_bg&quot;&gt;#0cffffff&lt;/drawable&gt;\r\n    &lt;item name=&quot;accessibility_action_clickable_span&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_0&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_1&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_10&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_11&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_12&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_13&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_14&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_15&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_16&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_17&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_18&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_19&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_2&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_20&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_21&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_22&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_23&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_24&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_25&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_26&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_27&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_28&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_29&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_3&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_30&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_31&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_4&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_5&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_6&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_7&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_8&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;accessibility_custom_action_9&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;line1&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;line3&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_accessibility_actions&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_accessibility_clickable_spans&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_accessibility_heading&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_accessibility_pane_title&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_on_apply_window_listener&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_on_receive_content_listener&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_on_receive_content_mime_types&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_screen_reader_focusable&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_state_description&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_transition_group&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_unhandled_key_event_manager&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_unhandled_key_listeners&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;tag_window_insets_animation_callback&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;text&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;text2&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;title&quot; type=&quot;id&quot;/&gt;\r\n    &lt;integer name=&quot;status_bar_notification_info_maxnum&quot;&gt;999&lt;/integer&gt;\r\n    &lt;string name=&quot;status_bar_notification_info_overflow&quot;&gt;999+&lt;/string&gt;\r\n    &lt;style name=&quot;TextAppearance.Compat.Notification&quot; parent=&quot;@android:style/TextAppearance.StatusBar.EventContent&quot;/&gt;\r\n    &lt;style name=&quot;TextAppearance.Compat.Notification.Info&quot;&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;12sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;?android:attr/textColorSecondary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    &lt;style name=&quot;TextAppearance.Compat.Notification.Line2&quot; parent=&quot;TextAppearance.Compat.Notification.Info&quot;/&gt;\r\n    &lt;style name=&quot;TextAppearance.Compat.Notification.Time&quot;&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;12sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;?android:attr/textColorSecondary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    &lt;style name=&quot;TextAppearance.Compat.Notification.Title&quot; parent=&quot;@android:style/TextAppearance.StatusBar.EventContent.Title&quot;/&gt;\r\n    &lt;style name=&quot;Widget.Compat.NotificationActionContainer&quot; parent=&quot;&quot;/&gt;\r\n    &lt;style name=&quot;Widget.Compat.NotificationActionText&quot; parent=&quot;&quot;/&gt;\r\n    &lt;declare-styleable name=&quot;Capability&quot;&gt;\r\n        &lt;!-- Resource reference to the string array of query patterns for a custom capability. --&gt;\r\n        &lt;attr format=&quot;reference&quot; name=&quot;queryPatterns&quot;/&gt;\r\n        &lt;!-- Indicates whether a parameter in a capability template can only contain a matched\r\n             shortcut id and not an arbitrary string. --&gt;\r\n        &lt;attr format=&quot;boolean&quot; name=&quot;shortcutMatchRequired&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n    &lt;declare-styleable name=&quot;ColorStateListItem&quot;&gt;\r\n        &lt;!-- Base color for this state. --&gt;\r\n        &lt;attr name=&quot;android:color&quot;/&gt;\r\n        &lt;!-- Alpha multiplier applied to the base color. --&gt;\r\n        &lt;attr format=&quot;float&quot; name=&quot;alpha&quot;/&gt;\r\n        &lt;attr name=&quot;android:alpha&quot;/&gt;\r\n        &lt;!-- Perceptual luminance applied to the base color. From 0 to 100. --&gt;\r\n        &lt;attr format=&quot;float&quot; name=&quot;lStar&quot;/&gt;\r\n        &lt;attr name=&quot;android:lStar&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n    &lt;declare-styleable name=&quot;FontFamily&quot;&gt;\r\n        &lt;!-- The authority of the Font Provider to be used for the request. --&gt;\r\n        &lt;attr format=&quot;string&quot; name=&quot;fontProviderAuthority&quot;/&gt;\r\n        &lt;!-- The package for the Font Provider to be used for the request. This is used to verify\r\n        the identity of the provider. --&gt;\r\n        &lt;attr format=&quot;string&quot; name=&quot;fontProviderPackage&quot;/&gt;\r\n        &lt;!-- The query to be sent over to the provider. Refer to your font provider&#39;s documentation\r\n        on the format of this string. --&gt;\r\n        &lt;attr format=&quot;string&quot; name=&quot;fontProviderQuery&quot;/&gt;\r\n        &lt;!-- The sets of hashes for the certificates the provider should be signed with. This is\r\n        used to verify the identity of the provider, and is only required if the provider is not\r\n        part of the system image. This value may point to one list or a list of lists, where each\r\n        individual list represents one collection of signature hashes. Refer to your font provider&#39;s\r\n        documentation for these values. --&gt;\r\n        &lt;attr format=&quot;reference&quot; name=&quot;fontProviderCerts&quot;/&gt;\r\n        &lt;!-- The strategy to be used when fetching font data from a font provider in XML layouts.\r\n        This attribute is ignored when the resource is loaded from code, as it is equivalent to the\r\n        choice of API between {@link\r\n    androidx.core.content.res.ResourcesCompat#getFont(Context, int)} (blocking) and\r\n        {@link\r\n    androidx.core.content.res.ResourcesCompat#getFont(Context, int, FontCallback, Handler)}\r\n        (async). --&gt;\r\n        &lt;attr name=&quot;fontProviderFetchStrategy&quot;&gt;\r\n            &lt;!-- The blocking font fetch works as follows.\r\n              First, check the local cache, then if the requested font is not cached, request the\r\n              font from the provider and wait until it is finished.  You can change the length of\r\n              the timeout by modifying fontProviderFetchTimeout.  If the timeout happens, the\r\n              default typeface will be used instead. --&gt;\r\n            &lt;enum name=&quot;blocking&quot; value=&quot;0&quot;/&gt;\r\n            &lt;!-- The async font fetch works as follows.\r\n              First, check the local cache, then if the requeted font is not cached, trigger a\r\n              request the font and continue with layout inflation. Once the font fetch succeeds, the\r\n              target text view will be refreshed with the downloaded font data. The\r\n              fontProviderFetchTimeout will be ignored if async loading is specified. --&gt;\r\n            &lt;enum name=&quot;async&quot; value=&quot;1&quot;/&gt;\r\n        &lt;/attr&gt;\r\n        &lt;!-- The length of the timeout during fetching. --&gt;\r\n        &lt;attr format=&quot;integer&quot; name=&quot;fontProviderFetchTimeout&quot;&gt;\r\n            &lt;!-- A special value for the timeout. In this case, the blocking font fetching will not\r\n              timeout and wait until a reply is received from the font provider. --&gt;\r\n            &lt;enum name=&quot;forever&quot; value=&quot;-1&quot;/&gt;\r\n        &lt;/attr&gt;\r\n        &lt;!-- Provides the system font family name to check before downloading the font. For\r\n        example if the fontProviderQuery asked for &quot;Sans Serif&quot;, it is possible to define\r\n        fontProviderSystemFontFamily as &quot;sans-serif&quot; to tell the system to use &quot;sans-serif&quot; font\r\n        family if it exists on the system. --&gt;\r\n        &lt;attr format=&quot;string&quot; name=&quot;fontProviderSystemFontFamily&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n    &lt;declare-styleable name=&quot;FontFamilyFont&quot;&gt;\r\n        &lt;!-- The style of the given font file. This will be used when the font is being loaded into\r\n         the font stack and will override any style information in the font&#39;s header tables. If\r\n         unspecified, the value in the font&#39;s header tables will be used. --&gt;\r\n        &lt;attr name=&quot;fontStyle&quot;&gt;\r\n            &lt;enum name=&quot;normal&quot; value=&quot;0&quot;/&gt;\r\n            &lt;enum name=&quot;italic&quot; value=&quot;1&quot;/&gt;\r\n        &lt;/attr&gt;\r\n        &lt;!-- The reference to the font file to be used. This should be a file in the res/font folder\r\n         and should therefore have an R reference value. E.g. @font/myfont --&gt;\r\n        &lt;attr format=&quot;reference&quot; name=&quot;font&quot;/&gt;\r\n        &lt;!-- The weight of the given font file. This will be used when the font is being loaded into\r\n         the font stack and will override any weight information in the font&#39;s header tables. Must\r\n         be a positive number, a multiple of 100, and between 100 and 900, inclusive. The most\r\n         common values are 400 for regular weight and 700 for bold weight. If unspecified, the value\r\n         in the font&#39;s header tables will be used. --&gt;\r\n        &lt;attr format=&quot;integer&quot; name=&quot;fontWeight&quot;/&gt;\r\n        &lt;!-- The variation settings to be applied to the font. The string should be in the following\r\n         format: &quot;&#39;tag1&#39; value1, &#39;tag2&#39; value2, ...&quot;. If the default variation settings should be\r\n         used, or the font used does not support variation settings, this attribute needs not be\r\n         specified. --&gt;\r\n        &lt;attr format=&quot;string&quot; name=&quot;fontVariationSettings&quot;/&gt;\r\n        &lt;!-- The index of the font in the tcc font file. If the font file referenced is not in the\r\n        tcc format, this attribute needs not be specified. --&gt;\r\n        &lt;attr format=&quot;integer&quot; name=&quot;ttcIndex&quot;/&gt;\r\n        &lt;!-- References to the framework attrs --&gt;\r\n        &lt;attr name=&quot;android:fontStyle&quot;/&gt;\r\n        &lt;attr name=&quot;android:font&quot;/&gt;\r\n        &lt;attr name=&quot;android:fontWeight&quot;/&gt;\r\n        &lt;attr name=&quot;android:fontVariationSettings&quot;/&gt;\r\n        &lt;attr name=&quot;android:ttcIndex&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n    &lt;declare-styleable name=&quot;GradientColor&quot;&gt;\r\n        &lt;!-- Start color of the gradient. --&gt;\r\n        &lt;attr name=&quot;android:startColor&quot;/&gt;\r\n        &lt;!-- Optional center color. --&gt;\r\n        &lt;attr name=&quot;android:centerColor&quot;/&gt;\r\n        &lt;!-- End color of the gradient. --&gt;\r\n        &lt;attr name=&quot;android:endColor&quot;/&gt;\r\n        &lt;!-- Type of gradient. The default type is linear. --&gt;\r\n        &lt;attr name=&quot;android:type&quot;/&gt;\r\n\r\n        &lt;!-- Only applied to RadialGradient--&gt;\r\n        &lt;!-- Radius of the gradient, used only with radial gradient. --&gt;\r\n        &lt;attr name=&quot;android:gradientRadius&quot;/&gt;\r\n\r\n        &lt;!-- Only applied to SweepGradient / RadialGradient--&gt;\r\n        &lt;!-- X coordinate of the center of the gradient within the path. --&gt;\r\n        &lt;attr name=&quot;android:centerX&quot;/&gt;\r\n        &lt;!-- Y coordinate of the center of the gradient within the path. --&gt;\r\n        &lt;attr name=&quot;android:centerY&quot;/&gt;\r\n\r\n        &lt;!-- LinearGradient specific --&gt;\r\n        &lt;!-- X coordinate of the start point origin of the gradient.\r\n             Defined in same coordinates as the path itself --&gt;\r\n        &lt;attr name=&quot;android:startX&quot;/&gt;\r\n        &lt;!-- Y coordinate of the start point of the gradient within the shape.\r\n             Defined in same coordinates as the path itself --&gt;\r\n        &lt;attr name=&quot;android:startY&quot;/&gt;\r\n        &lt;!-- X coordinate of the end point origin of the gradient.\r\n             Defined in same coordinates as the path itself --&gt;\r\n        &lt;attr name=&quot;android:endX&quot;/&gt;\r\n        &lt;!-- Y coordinate of the end point of the gradient within the shape.\r\n             Defined in same coordinates as the path itself --&gt;\r\n        &lt;attr name=&quot;android:endY&quot;/&gt;\r\n\r\n        &lt;!-- Defines the tile mode of the gradient. SweepGradient doesn&#39;t support tiling. --&gt;\r\n        &lt;attr name=&quot;android:tileMode&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n    &lt;declare-styleable name=&quot;GradientColorItem&quot;&gt;\r\n        &lt;!-- The offset (or ratio) of this current color item inside the gradient.\r\n             The value is only meaningful when it is between 0 and 1. --&gt;\r\n        &lt;attr name=&quot;android:offset&quot;/&gt;\r\n        &lt;!-- The current color for the offset inside the gradient. --&gt;\r\n        &lt;attr name=&quot;android:color&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\n\r\n\r\nMy build gradle file:\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion &quot;30.0.2&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.testing&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n}\r\n```\r\n    ","title":"Android Studio Android resource linking failed error .. AAPT: error: resource android:attr/lStar not found. at values.xml 105","body":"<p>At first I was able to run everything with no problems,but then suddenly this error started appearing everytime I try to build pointing me to this xml file specifically : C:\\Users\\Lenovo.gradle\\caches\\transforms-2\\files-2.1\\f243f87f287fb4f4052bd069a9b71980\\core-1.7.0\\res\\values\\values.xml:105:5 .. saying AAPT: error: resource android:attr/lStar not found\nI even tried creating a new empty project, but the problem still occurs every time I attempt to run..so what's the problem being created at this XML file?</p>\n<p>Here are my code files:</p>\n<p>values.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;attr format=&quot;reference&quot; name=&quot;nestedScrollViewStyle&quot;/&gt;\n    &lt;color name=&quot;androidx_core_ripple_material_light&quot;&gt;#1f000000&lt;/color&gt;\n    &lt;color name=&quot;androidx_core_secondary_text_default_material_light&quot;&gt;#8a000000&lt;/color&gt;\n    &lt;color name=&quot;notification_action_color_filter&quot;&gt;#ffffffff&lt;/color&gt;\n    &lt;color name=&quot;notification_icon_bg_color&quot;&gt;#ff9e9e9e&lt;/color&gt;\n    &lt;dimen name=&quot;compat_button_inset_horizontal_material&quot;&gt;4dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;compat_button_inset_vertical_material&quot;&gt;6dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;compat_button_padding_horizontal_material&quot;&gt;8dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;compat_button_padding_vertical_material&quot;&gt;4dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;compat_control_corner_material&quot;&gt;2dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;compat_notification_large_icon_max_height&quot;&gt;320dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;compat_notification_large_icon_max_width&quot;&gt;320dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_action_icon_size&quot;&gt;32dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_action_text_size&quot;&gt;13sp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_big_circle_margin&quot;&gt;12dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_content_margin_start&quot;&gt;8dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_large_icon_height&quot;&gt;64dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_large_icon_width&quot;&gt;64dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_main_column_padding_top&quot;&gt;10dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_media_narrow_margin&quot;&gt;@dimen/notification_content_margin_start&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_right_icon_size&quot;&gt;16dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_right_side_padding_top&quot;&gt;2dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_small_icon_background_padding&quot;&gt;3dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_small_icon_size_as_large&quot;&gt;24dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_subtext_size&quot;&gt;13sp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_top_pad&quot;&gt;10dp&lt;/dimen&gt;\n    &lt;dimen name=&quot;notification_top_pad_large_text&quot;&gt;5dp&lt;/dimen&gt;\n    &lt;drawable name=&quot;notification_template_icon_bg&quot;&gt;#3333B5E5&lt;/drawable&gt;\n    &lt;drawable name=&quot;notification_template_icon_low_bg&quot;&gt;#0cffffff&lt;/drawable&gt;\n    &lt;item name=&quot;accessibility_action_clickable_span&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_0&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_1&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_10&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_11&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_12&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_13&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_14&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_15&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_16&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_17&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_18&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_19&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_2&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_20&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_21&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_22&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_23&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_24&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_25&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_26&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_27&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_28&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_29&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_3&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_30&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_31&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_4&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_5&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_6&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_7&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_8&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;accessibility_custom_action_9&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;line1&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;line3&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_accessibility_actions&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_accessibility_clickable_spans&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_accessibility_heading&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_accessibility_pane_title&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_on_apply_window_listener&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_on_receive_content_listener&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_on_receive_content_mime_types&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_screen_reader_focusable&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_state_description&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_transition_group&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_unhandled_key_event_manager&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_unhandled_key_listeners&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;tag_window_insets_animation_callback&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;text&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;text2&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;title&quot; type=&quot;id&quot;/&gt;\n    &lt;integer name=&quot;status_bar_notification_info_maxnum&quot;&gt;999&lt;/integer&gt;\n    &lt;string name=&quot;status_bar_notification_info_overflow&quot;&gt;999+&lt;/string&gt;\n    &lt;style name=&quot;TextAppearance.Compat.Notification&quot; parent=&quot;@android:style/TextAppearance.StatusBar.EventContent&quot;/&gt;\n    &lt;style name=&quot;TextAppearance.Compat.Notification.Info&quot;&gt;\n        &lt;item name=&quot;android:textSize&quot;&gt;12sp&lt;/item&gt;\n        &lt;item name=&quot;android:textColor&quot;&gt;?android:attr/textColorSecondary&lt;/item&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;TextAppearance.Compat.Notification.Line2&quot; parent=&quot;TextAppearance.Compat.Notification.Info&quot;/&gt;\n    &lt;style name=&quot;TextAppearance.Compat.Notification.Time&quot;&gt;\n        &lt;item name=&quot;android:textSize&quot;&gt;12sp&lt;/item&gt;\n        &lt;item name=&quot;android:textColor&quot;&gt;?android:attr/textColorSecondary&lt;/item&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;TextAppearance.Compat.Notification.Title&quot; parent=&quot;@android:style/TextAppearance.StatusBar.EventContent.Title&quot;/&gt;\n    &lt;style name=&quot;Widget.Compat.NotificationActionContainer&quot; parent=&quot;&quot;/&gt;\n    &lt;style name=&quot;Widget.Compat.NotificationActionText&quot; parent=&quot;&quot;/&gt;\n    &lt;declare-styleable name=&quot;Capability&quot;&gt;\n        &lt;!-- Resource reference to the string array of query patterns for a custom capability. --&gt;\n        &lt;attr format=&quot;reference&quot; name=&quot;queryPatterns&quot;/&gt;\n        &lt;!-- Indicates whether a parameter in a capability template can only contain a matched\n             shortcut id and not an arbitrary string. --&gt;\n        &lt;attr format=&quot;boolean&quot; name=&quot;shortcutMatchRequired&quot;/&gt;\n    &lt;/declare-styleable&gt;\n    &lt;declare-styleable name=&quot;ColorStateListItem&quot;&gt;\n        &lt;!-- Base color for this state. --&gt;\n        &lt;attr name=&quot;android:color&quot;/&gt;\n        &lt;!-- Alpha multiplier applied to the base color. --&gt;\n        &lt;attr format=&quot;float&quot; name=&quot;alpha&quot;/&gt;\n        &lt;attr name=&quot;android:alpha&quot;/&gt;\n        &lt;!-- Perceptual luminance applied to the base color. From 0 to 100. --&gt;\n        &lt;attr format=&quot;float&quot; name=&quot;lStar&quot;/&gt;\n        &lt;attr name=&quot;android:lStar&quot;/&gt;\n    &lt;/declare-styleable&gt;\n    &lt;declare-styleable name=&quot;FontFamily&quot;&gt;\n        &lt;!-- The authority of the Font Provider to be used for the request. --&gt;\n        &lt;attr format=&quot;string&quot; name=&quot;fontProviderAuthority&quot;/&gt;\n        &lt;!-- The package for the Font Provider to be used for the request. This is used to verify\n        the identity of the provider. --&gt;\n        &lt;attr format=&quot;string&quot; name=&quot;fontProviderPackage&quot;/&gt;\n        &lt;!-- The query to be sent over to the provider. Refer to your font provider's documentation\n        on the format of this string. --&gt;\n        &lt;attr format=&quot;string&quot; name=&quot;fontProviderQuery&quot;/&gt;\n        &lt;!-- The sets of hashes for the certificates the provider should be signed with. This is\n        used to verify the identity of the provider, and is only required if the provider is not\n        part of the system image. This value may point to one list or a list of lists, where each\n        individual list represents one collection of signature hashes. Refer to your font provider's\n        documentation for these values. --&gt;\n        &lt;attr format=&quot;reference&quot; name=&quot;fontProviderCerts&quot;/&gt;\n        &lt;!-- The strategy to be used when fetching font data from a font provider in XML layouts.\n        This attribute is ignored when the resource is loaded from code, as it is equivalent to the\n        choice of API between {@link\n    androidx.core.content.res.ResourcesCompat#getFont(Context, int)} (blocking) and\n        {@link\n    androidx.core.content.res.ResourcesCompat#getFont(Context, int, FontCallback, Handler)}\n        (async). --&gt;\n        &lt;attr name=&quot;fontProviderFetchStrategy&quot;&gt;\n            &lt;!-- The blocking font fetch works as follows.\n              First, check the local cache, then if the requested font is not cached, request the\n              font from the provider and wait until it is finished.  You can change the length of\n              the timeout by modifying fontProviderFetchTimeout.  If the timeout happens, the\n              default typeface will be used instead. --&gt;\n            &lt;enum name=&quot;blocking&quot; value=&quot;0&quot;/&gt;\n            &lt;!-- The async font fetch works as follows.\n              First, check the local cache, then if the requeted font is not cached, trigger a\n              request the font and continue with layout inflation. Once the font fetch succeeds, the\n              target text view will be refreshed with the downloaded font data. The\n              fontProviderFetchTimeout will be ignored if async loading is specified. --&gt;\n            &lt;enum name=&quot;async&quot; value=&quot;1&quot;/&gt;\n        &lt;/attr&gt;\n        &lt;!-- The length of the timeout during fetching. --&gt;\n        &lt;attr format=&quot;integer&quot; name=&quot;fontProviderFetchTimeout&quot;&gt;\n            &lt;!-- A special value for the timeout. In this case, the blocking font fetching will not\n              timeout and wait until a reply is received from the font provider. --&gt;\n            &lt;enum name=&quot;forever&quot; value=&quot;-1&quot;/&gt;\n        &lt;/attr&gt;\n        &lt;!-- Provides the system font family name to check before downloading the font. For\n        example if the fontProviderQuery asked for &quot;Sans Serif&quot;, it is possible to define\n        fontProviderSystemFontFamily as &quot;sans-serif&quot; to tell the system to use &quot;sans-serif&quot; font\n        family if it exists on the system. --&gt;\n        &lt;attr format=&quot;string&quot; name=&quot;fontProviderSystemFontFamily&quot;/&gt;\n    &lt;/declare-styleable&gt;\n    &lt;declare-styleable name=&quot;FontFamilyFont&quot;&gt;\n        &lt;!-- The style of the given font file. This will be used when the font is being loaded into\n         the font stack and will override any style information in the font's header tables. If\n         unspecified, the value in the font's header tables will be used. --&gt;\n        &lt;attr name=&quot;fontStyle&quot;&gt;\n            &lt;enum name=&quot;normal&quot; value=&quot;0&quot;/&gt;\n            &lt;enum name=&quot;italic&quot; value=&quot;1&quot;/&gt;\n        &lt;/attr&gt;\n        &lt;!-- The reference to the font file to be used. This should be a file in the res/font folder\n         and should therefore have an R reference value. E.g. @font/myfont --&gt;\n        &lt;attr format=&quot;reference&quot; name=&quot;font&quot;/&gt;\n        &lt;!-- The weight of the given font file. This will be used when the font is being loaded into\n         the font stack and will override any weight information in the font's header tables. Must\n         be a positive number, a multiple of 100, and between 100 and 900, inclusive. The most\n         common values are 400 for regular weight and 700 for bold weight. If unspecified, the value\n         in the font's header tables will be used. --&gt;\n        &lt;attr format=&quot;integer&quot; name=&quot;fontWeight&quot;/&gt;\n        &lt;!-- The variation settings to be applied to the font. The string should be in the following\n         format: &quot;'tag1' value1, 'tag2' value2, ...&quot;. If the default variation settings should be\n         used, or the font used does not support variation settings, this attribute needs not be\n         specified. --&gt;\n        &lt;attr format=&quot;string&quot; name=&quot;fontVariationSettings&quot;/&gt;\n        &lt;!-- The index of the font in the tcc font file. If the font file referenced is not in the\n        tcc format, this attribute needs not be specified. --&gt;\n        &lt;attr format=&quot;integer&quot; name=&quot;ttcIndex&quot;/&gt;\n        &lt;!-- References to the framework attrs --&gt;\n        &lt;attr name=&quot;android:fontStyle&quot;/&gt;\n        &lt;attr name=&quot;android:font&quot;/&gt;\n        &lt;attr name=&quot;android:fontWeight&quot;/&gt;\n        &lt;attr name=&quot;android:fontVariationSettings&quot;/&gt;\n        &lt;attr name=&quot;android:ttcIndex&quot;/&gt;\n    &lt;/declare-styleable&gt;\n    &lt;declare-styleable name=&quot;GradientColor&quot;&gt;\n        &lt;!-- Start color of the gradient. --&gt;\n        &lt;attr name=&quot;android:startColor&quot;/&gt;\n        &lt;!-- Optional center color. --&gt;\n        &lt;attr name=&quot;android:centerColor&quot;/&gt;\n        &lt;!-- End color of the gradient. --&gt;\n        &lt;attr name=&quot;android:endColor&quot;/&gt;\n        &lt;!-- Type of gradient. The default type is linear. --&gt;\n        &lt;attr name=&quot;android:type&quot;/&gt;\n\n        &lt;!-- Only applied to RadialGradient--&gt;\n        &lt;!-- Radius of the gradient, used only with radial gradient. --&gt;\n        &lt;attr name=&quot;android:gradientRadius&quot;/&gt;\n\n        &lt;!-- Only applied to SweepGradient / RadialGradient--&gt;\n        &lt;!-- X coordinate of the center of the gradient within the path. --&gt;\n        &lt;attr name=&quot;android:centerX&quot;/&gt;\n        &lt;!-- Y coordinate of the center of the gradient within the path. --&gt;\n        &lt;attr name=&quot;android:centerY&quot;/&gt;\n\n        &lt;!-- LinearGradient specific --&gt;\n        &lt;!-- X coordinate of the start point origin of the gradient.\n             Defined in same coordinates as the path itself --&gt;\n        &lt;attr name=&quot;android:startX&quot;/&gt;\n        &lt;!-- Y coordinate of the start point of the gradient within the shape.\n             Defined in same coordinates as the path itself --&gt;\n        &lt;attr name=&quot;android:startY&quot;/&gt;\n        &lt;!-- X coordinate of the end point origin of the gradient.\n             Defined in same coordinates as the path itself --&gt;\n        &lt;attr name=&quot;android:endX&quot;/&gt;\n        &lt;!-- Y coordinate of the end point of the gradient within the shape.\n             Defined in same coordinates as the path itself --&gt;\n        &lt;attr name=&quot;android:endY&quot;/&gt;\n\n        &lt;!-- Defines the tile mode of the gradient. SweepGradient doesn't support tiling. --&gt;\n        &lt;attr name=&quot;android:tileMode&quot;/&gt;\n    &lt;/declare-styleable&gt;\n    &lt;declare-styleable name=&quot;GradientColorItem&quot;&gt;\n        &lt;!-- The offset (or ratio) of this current color item inside the gradient.\n             The value is only meaningful when it is between 0 and 1. --&gt;\n        &lt;attr name=&quot;android:offset&quot;/&gt;\n        &lt;!-- The current color for the offset inside the gradient. --&gt;\n        &lt;attr name=&quot;android:color&quot;/&gt;\n    &lt;/declare-styleable&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>My build gradle file:</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.2&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.testing&quot;\n        minSdkVersion 19\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1694592945,"post_id":77095233,"comment_id":135910047,"body_markdown":"Your question is?","body":"Your question is?"},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1694593167,"post_id":77095233,"comment_id":135910084,"body_markdown":"Look up bubble sort.","body":"Look up bubble sort."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694594577,"creation_date":1694594093,"answer_id":77095391,"question_id":77095233,"body_markdown":"That was not a satisfactory solution.\r\nWhat could be done:\r\n\r\n    Arrays.sort(arr1);\r\n    Arrays.sort(arr2);\r\n\r\nAnd then merge both arrays, using `Arrays.binarySearch`, and `System.arraycopy`, and possibly sort one array again.\r\n\r\nThe joy of that I leave to you.\r\n\r\nThat solution would have been _in situ_, in-place, without extra memory. The task then also requires some real programming, merging both arrays.\r\n\r\nTheir requirements maybe did not be covering all, but the _intention_ was to have a memory saving (&quot;no extra array&quot;).","title":"Sort two different arrays","body":"<p>That was not a satisfactory solution.\nWhat could be done:</p>\n<pre><code>Arrays.sort(arr1);\nArrays.sort(arr2);\n</code></pre>\n<p>And then merge both arrays, using <code>Arrays.binarySearch</code>, and <code>System.arraycopy</code>, and possibly sort one array again.</p>\n<p>The joy of that I leave to you.</p>\n<p>That solution would have been <em>in situ</em>, in-place, without extra memory. The task then also requires some real programming, merging both arrays.</p>\n<p>Their requirements maybe did not be covering all, but the <em>intention</em> was to have a memory saving (&quot;no extra array&quot;).</p>\n"},{"tags":[],"owner":{"account_id":26815771,"reputation":1,"user_id":20405771,"display_name":"Henry F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694605004,"creation_date":1694599956,"answer_id":77096126,"question_id":77095233,"body_markdown":"A simple solution would be to use bubble sort, which swaps elements if their relative order is incorrect based on ascending/descending order (being greater or smaller than the adjacent element).\r\n\r\nTo learn more about bubble sort, go to https://www.geeksforgeeks.org/bubble-sort/.\r\n\r\nJava:\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        int a, b;\r\n        // a is size of first array, b is size of second array\r\n        \r\n        a = input.nextInt();\r\n        b = input.nextInt();\r\n        int[] arr1 = new int[a];\r\n        int[] arr2 = new int[b];\r\n\r\n        for (int i = 0; i &lt; a; ++i) {\r\n            arr1[i] = input.nextInt();\r\n        }\r\n        for (int i = 0; i &lt; b; ++i) {\r\n            arr2[i] = input.nextInt();\r\n        }\r\n        // Think of a &quot;merged array&quot; sort the &quot;merged array&quot;\r\n        for (int i = 0; i &lt; a + b; ++i) {\r\n            for (int j = i + 1; j &lt; a + b; ++j) {\r\n                // compare and swap elements into their correct order\r\n                // check if we have to use arr2\r\n                if (i &lt; a &amp;&amp; j &lt; a) {\r\n                    if (arr1[i] &gt; arr1[j]) {\r\n                        int temp = arr1[i];\r\n                        arr1[i] = arr1[j];\r\n                        arr1[j] = temp;\r\n                    }\r\n                } else if (i &lt; a &amp;&amp; j &gt;= a) {\r\n                    if (arr1[i] &gt; arr2[j - a]) {\r\n                        int temp = arr1[i];\r\n                        arr1[i] = arr2[j - a];\r\n                        arr2[j - a] = temp;\r\n                    }\r\n                } else if (i &gt;= a &amp;&amp; j &lt; a) {\r\n                    if (arr2[i - a] &gt; arr1[j]) {\r\n                        int temp = arr2[i - a];\r\n                        arr2[i - a] = arr1[j];\r\n                        arr1[j] = temp;\r\n                    }\r\n                } else if (i &gt;= a &amp;&amp; j &gt;= a) {\r\n                    if (arr2[i - a] &gt; arr2[j - a]) {\r\n                        int temp = arr2[i - a];\r\n                        arr2[i - a] = arr2[j - a];\r\n                        arr2[j - a] = temp;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Output the sorted arrays\r\n        for (int i = 0; i &lt; a; ++i) {\r\n            System.out.print(arr1[i] + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n        for (int i = 0; i &lt; b; ++i) {\r\n            System.out.print(arr2[i] + &quot; &quot;);\r\n        }\r\n      input.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\nHowever, do note that this solution still has some problems:\r\n\r\n 1. This code is unnecessarily complicated. A better approach will be to merge the arrays first, and then sort the merged array (unless you have restraints on memory).\r\n 2. The time complexity of this approach is O(N^2) (because of nested for loops), which might not be a problem for small arrays, but for larger arrays, it could cause the program to run slowly. Another solution can be the relatively faster quicksort algorithm (although the worst case is also O(N^2) Check https://www.geeksforgeeks.org/quick-sort/.)\r\n\r\n ","title":"Sort two different arrays","body":"<p>A simple solution would be to use bubble sort, which swaps elements if their relative order is incorrect based on ascending/descending order (being greater or smaller than the adjacent element).</p>\n<p>To learn more about bubble sort, go to <a href=\"https://www.geeksforgeeks.org/bubble-sort/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/bubble-sort/</a>.</p>\n<p>Java:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int a, b;\n        // a is size of first array, b is size of second array\n        \n        a = input.nextInt();\n        b = input.nextInt();\n        int[] arr1 = new int[a];\n        int[] arr2 = new int[b];\n\n        for (int i = 0; i &lt; a; ++i) {\n            arr1[i] = input.nextInt();\n        }\n        for (int i = 0; i &lt; b; ++i) {\n            arr2[i] = input.nextInt();\n        }\n        // Think of a &quot;merged array&quot; sort the &quot;merged array&quot;\n        for (int i = 0; i &lt; a + b; ++i) {\n            for (int j = i + 1; j &lt; a + b; ++j) {\n                // compare and swap elements into their correct order\n                // check if we have to use arr2\n                if (i &lt; a &amp;&amp; j &lt; a) {\n                    if (arr1[i] &gt; arr1[j]) {\n                        int temp = arr1[i];\n                        arr1[i] = arr1[j];\n                        arr1[j] = temp;\n                    }\n                } else if (i &lt; a &amp;&amp; j &gt;= a) {\n                    if (arr1[i] &gt; arr2[j - a]) {\n                        int temp = arr1[i];\n                        arr1[i] = arr2[j - a];\n                        arr2[j - a] = temp;\n                    }\n                } else if (i &gt;= a &amp;&amp; j &lt; a) {\n                    if (arr2[i - a] &gt; arr1[j]) {\n                        int temp = arr2[i - a];\n                        arr2[i - a] = arr1[j];\n                        arr1[j] = temp;\n                    }\n                } else if (i &gt;= a &amp;&amp; j &gt;= a) {\n                    if (arr2[i - a] &gt; arr2[j - a]) {\n                        int temp = arr2[i - a];\n                        arr2[i - a] = arr2[j - a];\n                        arr2[j - a] = temp;\n                    }\n                }\n            }\n        }\n        // Output the sorted arrays\n        for (int i = 0; i &lt; a; ++i) {\n            System.out.print(arr1[i] + &quot; &quot;);\n        }\n        System.out.println();\n        for (int i = 0; i &lt; b; ++i) {\n            System.out.print(arr2[i] + &quot; &quot;);\n        }\n      input.close();\n    }\n}\n</code></pre>\n<p>However, do note that this solution still has some problems:</p>\n<ol>\n<li>This code is unnecessarily complicated. A better approach will be to merge the arrays first, and then sort the merged array (unless you have restraints on memory).</li>\n<li>The time complexity of this approach is O(N^2) (because of nested for loops), which might not be a problem for small arrays, but for larger arrays, it could cause the program to run slowly. Another solution can be the relatively faster quicksort algorithm (although the worst case is also O(N^2) Check <a href=\"https://www.geeksforgeeks.org/quick-sort/.\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/quick-sort/.</a>)</li>\n</ol>\n"}],"owner":{"account_id":16452597,"reputation":28,"user_id":11885645,"display_name":"tabrezshaikh13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1694605004,"creation_date":1694592798,"question_id":77095233,"body_markdown":"How do I sort two different arrays in ascending/descending order in a way where I do not use extra space by using an array/collection? The arrays must be sorted considering the elements in both the arrays.\r\n\r\nConsider the example below.\r\n\r\nInput:\r\n\r\n    arr1 = {3,1,8,10,9,7};\r\n    arr2 = {6,4,5,2};\r\n\r\nOutput:\r\n\r\n    arr1 = [1,2,3,4,5,6]\r\n    arr2 = [7,8,9,10]\r\n\r\nPoint to note:\r\n- Cannot use extra space (not to create a third array or collection).\r\n- Array size cannot change (arr1 must be 6 sized &amp; arr2 must be 4 sized).\r\n\r\nI added all the elements in both the arrays into a List named &#39;list&#39; as is (unsorted) and then sorted the list in ascending using streams.\r\n\r\n```\r\nlist = list.stream()\r\n           .sorted((n1, n2) -&gt; n1-n2)\r\n           .collect(Collectors.toList());\r\n```\r\n\r\nThen added the elements in the list back to the array based on their size using below piece of code.\r\n\r\n```\r\nfor(int i=0; i&lt;arr1.length; i++) {\r\n    arr1[i] = list.get(i);\r\n}\r\nfor(int i=0; i&lt;arr2.length; i++) {\r\n    arr2[i] = list.get(i + arr1.length);\r\n}\r\n```\r\n","title":"Sort two different arrays","body":"<p>How do I sort two different arrays in ascending/descending order in a way where I do not use extra space by using an array/collection? The arrays must be sorted considering the elements in both the arrays.</p>\n<p>Consider the example below.</p>\n<p>Input:</p>\n<pre><code>arr1 = {3,1,8,10,9,7};\narr2 = {6,4,5,2};\n</code></pre>\n<p>Output:</p>\n<pre><code>arr1 = [1,2,3,4,5,6]\narr2 = [7,8,9,10]\n</code></pre>\n<p>Point to note:</p>\n<ul>\n<li>Cannot use extra space (not to create a third array or collection).</li>\n<li>Array size cannot change (arr1 must be 6 sized &amp; arr2 must be 4 sized).</li>\n</ul>\n<p>I added all the elements in both the arrays into a List named 'list' as is (unsorted) and then sorted the list in ascending using streams.</p>\n<pre><code>list = list.stream()\n           .sorted((n1, n2) -&gt; n1-n2)\n           .collect(Collectors.toList());\n</code></pre>\n<p>Then added the elements in the list back to the array based on their size using below piece of code.</p>\n<pre><code>for(int i=0; i&lt;arr1.length; i++) {\n    arr1[i] = list.get(i);\n}\nfor(int i=0; i&lt;arr2.length; i++) {\n    arr2[i] = list.get(i + arr1.length);\n}\n</code></pre>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694602587,"post_id":77094181,"comment_id":135912061,"body_markdown":"What is the parent you are using as if that also managed the same dependency that will take precedence (afaik).","body":"What is the parent you are using as if that also managed the same dependency that will take precedence (afaik)."}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694604996,"creation_date":1694603248,"answer_id":77096515,"question_id":77094181,"body_markdown":"You say &quot;the `&lt;parent&gt;` tag is already in use&quot;.  I guess that this parent is `spring-boot-starter-parent`.  The Tomcat dependency is the only one that is present in `spring-boot-starter-parent` too and the one inherited from the parent takes precedence.\r\n\r\nThe correct way to override a dependency inherited from `spring-boot-starter-parent` is to create in your POM a property with the **same name** used by Spring and the new version as value, for example:\r\n\r\n    &lt;tomcat.version&gt;10.1.13&lt;/tomcat.version&gt;\r\n\r\nThis line, even  without a `&lt;dependencyManagement&gt;` section, will manage the version of `tomcat-embed-core`.  You can find the name of any `*.version` property that you want to override in `spring-boot-dependencies` that is parent of  `spring-boot-starter-parent`.\r\n\r\nAs an alternative you could set `spring-boot-starter-parent` as the parent of `hk-verctl-dependencies` and `hk-verctl-dependencies` as the parent of your project.  In this way your project can have two parents, that is a parent and a grandparent.","title":"pom management failed by dependencyManagement","body":"<p>You say &quot;the <code>&lt;parent&gt;</code> tag is already in use&quot;.  I guess that this parent is <code>spring-boot-starter-parent</code>.  The Tomcat dependency is the only one that is present in <code>spring-boot-starter-parent</code> too and the one inherited from the parent takes precedence.</p>\n<p>The correct way to override a dependency inherited from <code>spring-boot-starter-parent</code> is to create in your POM a property with the <strong>same name</strong> used by Spring and the new version as value, for example:</p>\n<pre><code>&lt;tomcat.version&gt;10.1.13&lt;/tomcat.version&gt;\n</code></pre>\n<p>This line, even  without a <code>&lt;dependencyManagement&gt;</code> section, will manage the version of <code>tomcat-embed-core</code>.  You can find the name of any <code>*.version</code> property that you want to override in <code>spring-boot-dependencies</code> that is parent of  <code>spring-boot-starter-parent</code>.</p>\n<p>As an alternative you could set <code>spring-boot-starter-parent</code> as the parent of <code>hk-verctl-dependencies</code> and <code>hk-verctl-dependencies</code> as the parent of your project.  In this way your project can have two parents, that is a parent and a grandparent.</p>\n"}],"owner":{"account_id":29428088,"reputation":3,"user_id":22548300,"display_name":"linyi xian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77096515,"answer_count":1,"score":0,"last_activity_date":1694604996,"creation_date":1694581433,"question_id":77094181,"body_markdown":"I use `&lt;dependencyManagement&gt;` to manage my lib:\r\n\r\n```\r\n&lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.manulife.hk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hk-verctl-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n\r\nI use the `hk-verctl-dependencies` manage my lib(The `&lt;parent&gt;` tag is already in use, and I can only use the `hk-verctl-dependencies` project to manage the version of the third-party libs for each service )\r\n\r\nI have manage `tomcat-embed-core` in `hk-verctl-dependencies`:\r\n\r\n```\r\n     &lt;properties&gt;\r\n\t\t&lt;!-- Compiler &amp; Parent Properties --&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\r\n\t\t&lt;version.swagger&gt;2.10.0&lt;/version.swagger&gt;\r\n\t\t&lt;version.bcprov-jdk15on&gt;1.69&lt;/version.bcprov-jdk15on&gt;\r\n\t\t&lt;version.reactor-netty&gt;1.0.24&lt;/version.reactor-netty&gt;\r\n\t\t&lt;version.jose4j&gt;0.9.3&lt;/version.jose4j&gt;\r\n\t\t&lt;version.protobuf-java&gt;3.19.6&lt;/version.protobuf-java&gt;\r\n\t\t&lt;version.okio&gt;3.4.0&lt;/version.okio&gt;\r\n\t\t&lt;version.woodstox-core&gt;5.4.0&lt;/version.woodstox-core&gt;\r\n\t\t&lt;version.bcprov-jdk18on&gt;1.74&lt;/version.bcprov-jdk18on&gt;\r\n\t\t&lt;version.guava&gt;32.0.0-jre&lt;/version.guava&gt;\r\n\t\t&lt;version.fastjson&gt;1.2.83&lt;/version.fastjson&gt;\r\n\t\t&lt;version.tomcat-embed-core&gt;10.1.13&lt;/version.tomcat-embed-core&gt;\r\n\t\t&lt;version.spring-security-oauth2&gt;2.5.2.RELEASE&lt;/version.spring-security-oauth2&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.fastjson}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.tomcat-embed-core}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.guava}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.bcprov-jdk18on}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.bitbucket.b_c&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jose4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.jose4j}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.protobuf-java}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.okio}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.woodstox-core}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.bcprov-jdk15on}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.reactor-netty}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.swagger}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.swagger}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${version.spring-security-oauth2}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\n\r\nAnd I import `tomcat-embed-core` in my business service:\r\n\r\n\r\n```\r\n&lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.manulife.hk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hk-verctl-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;!-- Project dependencies --&gt;\r\n    &lt;dependencies&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Begin Fast Json --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- End Fast Json --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\nAll other dependencies successfully apply the version of `hk-verctl-dependencies`, only tomcat-embed-core doesn&#39;t, why is that?\r\n\r\n\r\n\r\n","title":"pom management failed by dependencyManagement","body":"<p>I use <code>&lt;dependencyManagement&gt;</code> to manage my lib:</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.manulife.hk&lt;/groupId&gt;\n                &lt;artifactId&gt;hk-verctl-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;1.0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>I use the <code>hk-verctl-dependencies</code> manage my lib(The <code>&lt;parent&gt;</code> tag is already in use, and I can only use the <code>hk-verctl-dependencies</code> project to manage the version of the third-party libs for each service )</p>\n<p>I have manage <code>tomcat-embed-core</code> in <code>hk-verctl-dependencies</code>:</p>\n<pre><code>     &lt;properties&gt;\n        &lt;!-- Compiler &amp; Parent Properties --&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n\n        &lt;version.swagger&gt;2.10.0&lt;/version.swagger&gt;\n        &lt;version.bcprov-jdk15on&gt;1.69&lt;/version.bcprov-jdk15on&gt;\n        &lt;version.reactor-netty&gt;1.0.24&lt;/version.reactor-netty&gt;\n        &lt;version.jose4j&gt;0.9.3&lt;/version.jose4j&gt;\n        &lt;version.protobuf-java&gt;3.19.6&lt;/version.protobuf-java&gt;\n        &lt;version.okio&gt;3.4.0&lt;/version.okio&gt;\n        &lt;version.woodstox-core&gt;5.4.0&lt;/version.woodstox-core&gt;\n        &lt;version.bcprov-jdk18on&gt;1.74&lt;/version.bcprov-jdk18on&gt;\n        &lt;version.guava&gt;32.0.0-jre&lt;/version.guava&gt;\n        &lt;version.fastjson&gt;1.2.83&lt;/version.fastjson&gt;\n        &lt;version.tomcat-embed-core&gt;10.1.13&lt;/version.tomcat-embed-core&gt;\n        &lt;version.spring-security-oauth2&gt;2.5.2.RELEASE&lt;/version.spring-security-oauth2&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n                &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n                &lt;version&gt;${version.fastjson}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n                &lt;version&gt;${version.tomcat-embed-core}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;version&gt;${version.guava}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n                &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\n                &lt;version&gt;${version.bcprov-jdk18on}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.bitbucket.b_c&lt;/groupId&gt;\n                &lt;artifactId&gt;jose4j&lt;/artifactId&gt;\n                &lt;version&gt;${version.jose4j}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n                &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n                &lt;version&gt;${version.protobuf-java}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n                &lt;artifactId&gt;okio&lt;/artifactId&gt;\n                &lt;version&gt;${version.okio}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\n                &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\n                &lt;version&gt;${version.woodstox-core}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n                &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n                &lt;version&gt;${version.bcprov-jdk15on}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n                &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\n                &lt;version&gt;${version.reactor-netty}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                &lt;version&gt;${version.swagger}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                &lt;version&gt;${version.swagger}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n                &lt;version&gt;${version.spring-security-oauth2}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>And I import <code>tomcat-embed-core</code> in my business service:</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.manulife.hk&lt;/groupId&gt;\n                &lt;artifactId&gt;hk-verctl-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;1.0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;!-- Project dependencies --&gt;\n    &lt;dependencies&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n            &lt;version&gt;5.5.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Begin Fast Json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- End Fast Json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>All other dependencies successfully apply the version of <code>hk-verctl-dependencies</code>, only tomcat-embed-core doesn't, why is that?</p>\n"},{"tags":["javascript","java","android","kotlin","webview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694607583,"post_id":77096709,"comment_id":135913079,"body_markdown":"A WebView cannot display a pdf file. So you might first elaborate what you are doing or what should be done.","body":"A WebView cannot display a pdf file. So you might first elaborate what you are doing or what should be done."},{"owner":{"account_id":23378671,"reputation":61,"user_id":17446711,"display_name":"Eboy"},"score":0,"creation_date":1694668527,"post_id":77096709,"comment_id":135922028,"body_markdown":"I know. I use pdf.js witch is a library for rendering pdfs.  It&#39;s working fine for smaller pdfs but not for bigger ones","body":"I know. I use pdf.js witch is a library for rendering pdfs.  It&#39;s working fine for smaller pdfs but not for bigger ones"}],"owner":{"account_id":23378671,"reputation":61,"user_id":17446711,"display_name":"Eboy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694604981,"creation_date":1694604981,"question_id":77096709,"body_markdown":"I built a web view app for opening pdfs. It has a file input button that when you click on it and select a pdf file, it loads the pdf. \r\nIt works fine but the problem is that I send bytes array to javaScript and this adds an extra step which slows down the loading process. It can&#39;t load big pdfs(30 mb or bigger). \r\nWhen I was converting the app to android; first I tried Capacitor library. Capacitor also uses webview and it loads big pdfs very well but I had some other issues using it.(For saving the pdf in user&#39;s storage). I tried to have my own webview and this is my code.\r\n\r\n \r\n\r\n   \r\n\r\n     public fun openFileDialog() {//this method gets called when you click on the button\r\n                val intent = Intent()\r\n                    .setType(&quot;application/pdf&quot;)\r\n                    .setAction(Intent.ACTION_GET_CONTENT)\r\n                resultLauncher.launch(intent)\r\n            }\r\n    \r\n        private var resultLauncher = \r\n        registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\r\n            if (result.resultCode == RESULT_OK) {\r\n                // There are no request codes\r\n                result?.data?.also { uri -&gt;\r\n                    var inputStream = this.contentResolver.openInputStream(uri.data!!)\r\n                    var byteArray = inputStream!!.readBytes()               \r\n                    myWebView.evaluateJavascript(&quot;renderPdfByKt(${JSONArray(byteArray)})&quot;,null)\r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n\r\n`\r\nThe renderPdfByKt method:\r\n```\r\n     function renderPdfByKt(val){\r\n            renderPdf(new Uint8Array(val); // uses pdf.js to render html into the page\r\n        }\r\n```\r\nIs there a better way like enabling file inputs in webView or sending file path to js and convert it to unit8array in js other than sending the whole file to js with evaluatejavaScript().","title":"How to send a file using webView evaluateJavaScript method efficiently?","body":"<p>I built a web view app for opening pdfs. It has a file input button that when you click on it and select a pdf file, it loads the pdf.\nIt works fine but the problem is that I send bytes array to javaScript and this adds an extra step which slows down the loading process. It can't load big pdfs(30 mb or bigger).\nWhen I was converting the app to android; first I tried Capacitor library. Capacitor also uses webview and it loads big pdfs very well but I had some other issues using it.(For saving the pdf in user's storage). I tried to have my own webview and this is my code.</p>\n<pre><code> public fun openFileDialog() {//this method gets called when you click on the button\n            val intent = Intent()\n                .setType(&quot;application/pdf&quot;)\n                .setAction(Intent.ACTION_GET_CONTENT)\n            resultLauncher.launch(intent)\n        }\n\n    private var resultLauncher = \n    registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\n        if (result.resultCode == RESULT_OK) {\n            // There are no request codes\n            result?.data?.also { uri -&gt;\n                var inputStream = this.contentResolver.openInputStream(uri.data!!)\n                var byteArray = inputStream!!.readBytes()               \n                myWebView.evaluateJavascript(&quot;renderPdfByKt(${JSONArray(byteArray)})&quot;,null)\n            }\n\n        }\n\n    }\n</code></pre>\n<p>`\nThe renderPdfByKt method:</p>\n<pre><code>     function renderPdfByKt(val){\n            renderPdf(new Uint8Array(val); // uses pdf.js to render html into the page\n        }\n</code></pre>\n<p>Is there a better way like enabling file inputs in webView or sending file path to js and convert it to unit8array in js other than sending the whole file to js with evaluatejavaScript().</p>\n"},{"tags":["java","jdbc","mysql-connector"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1694540451,"post_id":77091445,"comment_id":135903618,"body_markdown":"_from my Java desktop application..._  Is there a back-end server involved?  If no, and this is more than a toy app, the desktop app would have the JDBC connection string, which exposes the database to anybody that&#39;s looking.  See also:  SQL Injection attack","body":"<i>from my Java desktop application...</i>  Is there a back-end server involved?  If no, and this is more than a toy app, the desktop app would have the JDBC connection string, which exposes the database to anybody that&#39;s looking.  See also:  SQL Injection attack"},{"owner":{"account_id":29424949,"reputation":1,"user_id":22545901,"display_name":"nikas"},"score":0,"creation_date":1694540688,"post_id":77091445,"comment_id":135903662,"body_markdown":"yes its like a toy app i am developing for my training. It has not a back-end server involved and it is exposed as you say but thats not what i asked","body":"yes its like a toy app i am developing for my training. It has not a back-end server involved and it is exposed as you say but thats not what i asked"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":3,"creation_date":1694541404,"post_id":77091445,"comment_id":135903813,"body_markdown":"Sure - that can be done.  What have you tried?","body":"Sure - that can be done.  What have you tried?"},{"owner":{"account_id":29424949,"reputation":1,"user_id":22545901,"display_name":"nikas"},"score":0,"creation_date":1694545979,"post_id":77091445,"comment_id":135904605,"body_markdown":"As i said PreparedStatements let you change dynamically only the values you pass to the Database and not the Columns . StoredProcedures can be used one for each combination so they are not optimal. The only Class in JDBC which accepts an entire query in String form is the Statement Class. But it doesnt accept the query for some reason , it only works with queries without parameters , like SELECT*FROM TABLE; DELETE * FROM TABLE ; etc","body":"As i said PreparedStatements let you change dynamically only the values you pass to the Database and not the Columns . StoredProcedures can be used one for each combination so they are not optimal. The only Class in JDBC which accepts an entire query in String form is the Statement Class. But it doesnt accept the query for some reason , it only works with queries without parameters , like SELECT*FROM TABLE; DELETE * FROM TABLE ; etc"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1694563994,"post_id":77091445,"comment_id":135906963,"body_markdown":"âBut it doesnt accept the query for some reasonâ. It sounds like this is the real problem. Tell us what error you get. Edit the question and paste in the exact error message and stack trace.","body":"âBut it doesnt accept the query for some reasonâ. It sounds like this is the real problem. Tell us what error you get. Edit the question and paste in the exact error message and stack trace."},{"owner":{"account_id":29424949,"reputation":1,"user_id":22545901,"display_name":"nikas"},"score":0,"creation_date":1694589182,"post_id":77091445,"comment_id":135909390,"body_markdown":"Alright , thank you!","body":"Alright , thank you!"},{"owner":{"account_id":29424949,"reputation":1,"user_id":22545901,"display_name":"nikas"},"score":0,"creation_date":1694589904,"post_id":77091445,"comment_id":135909511,"body_markdown":"The stack trace says i did a syntax sql error , that triggered the java.lang.reflect.InvocationTargetException.\nBut as you can see the query generated is valid.","body":"The stack trace says i did a syntax sql error , that triggered the java.lang.reflect.InvocationTargetException. But as you can see the query generated is valid."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1694591338,"post_id":77091445,"comment_id":135909749,"body_markdown":"Curly braces are valid in sql syntax?","body":"Curly braces are valid in sql syntax?"},{"owner":{"account_id":29424949,"reputation":1,"user_id":22545901,"display_name":"nikas"},"score":0,"creation_date":1694593257,"post_id":77091445,"comment_id":135910100,"body_markdown":"thats an example of the form , check the edited question to see the query","body":"thats an example of the form , check the edited question to see the query"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":1,"creation_date":1694596087,"post_id":77091445,"comment_id":135910741,"body_markdown":"`SELECT * FROM PISTONS WHERE PISTONS.stroke = 2T` is invalid sql syntax. `2T`must be escaped because it is not a number (integer, float, etc.), Hint: Use a gui for your database and run there your generated sql query. After some fixes, modify your Javacode based on the example","body":"<code>SELECT * FROM PISTONS WHERE PISTONS.stroke = 2T</code> is invalid sql syntax. <code>2T</code>must be escaped because it is not a number (integer, float, etc.), Hint: Use a gui for your database and run there your generated sql query. After some fixes, modify your Javacode based on the example"},{"owner":{"account_id":29424949,"reputation":1,"user_id":22545901,"display_name":"nikas"},"score":0,"creation_date":1694678941,"post_id":77091445,"comment_id":135923519,"body_markdown":"Oh yeah i got it thank you!","body":"Oh yeah i got it thank you!"}],"owner":{"account_id":29424949,"reputation":1,"user_id":22545901,"display_name":"nikas"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694604971,"creation_date":1694539864,"question_id":77091445,"body_markdown":"I want to send dynamically queries to database from my Java desktop application. I created an algorithm that generates the query each time in a form of a String and I&#39;m wondering if I can pass it to the database without using PreparedStatements or stored procedures.\r\n\r\nThe query is always in this form: `SELECT * FROM  TABLE WHERE {} ;`\r\nThe WHERE clause always changes, including the values but also the columns of the table in the database change. \r\n\r\nIf I use stored procedures, the number of possible combinations I have to cover is like 50+, so I have to make 50 functions in the database, same with PreparedStatements. I am wondering if I can just pass the query straight from my Java application.\r\n\r\nI tried to implement this using the Statement class of JDBC. Here is the stack trace:\r\n\r\n```none\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\n\r\nConnection established\r\n\r\nDatabase connection established.\r\n\r\nCallable statement completed\r\n\r\nStored procedure executed.\r\n\r\nConnection established\r\n\r\nDatabase connection established.\r\n\r\nQuery generated : \r\n\r\nSELECT *\r\nFROM PISTONS\r\nWHERE\r\nPISTONS.stroke = 2T;\r\n\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$ClickGenerator.postProcess(Scene.java:3602)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3906)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\r\n\t... 29 more\r\nCaused by: java.lang.RuntimeException: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39; at line 1\r\n\tat com.example.motoparts/com.example.motoparts.PistonTableController.searchPistons(PistonTableController.java:307)\r\n\t... 40 more\r\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39; at line 1\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeQuery(StatementImpl.java:1200)\r\n\tat com.example.motoparts/com.example.motoparts.DatabaseController.searchPistons(DatabaseController.java:36)\r\n\tat com.example.motoparts/com.example.motoparts.PistonTableController.searchPistons(PistonTableController.java:139)\r\n\t... 40 more\r\n```\r\n","title":"How can I send dynamically completed queries to database using JDBC and MySQL?","body":"<p>I want to send dynamically queries to database from my Java desktop application. I created an algorithm that generates the query each time in a form of a String and I'm wondering if I can pass it to the database without using PreparedStatements or stored procedures.</p>\n<p>The query is always in this form: <code>SELECT * FROM  TABLE WHERE {} ;</code>\nThe WHERE clause always changes, including the values but also the columns of the table in the database change.</p>\n<p>If I use stored procedures, the number of possible combinations I have to cover is like 50+, so I have to make 50 functions in the database, same with PreparedStatements. I am wondering if I can just pass the query straight from my Java application.</p>\n<p>I tried to implement this using the Statement class of JDBC. Here is the stack trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\n\nConnection established\n\nDatabase connection established.\n\nCallable statement completed\n\nStored procedure executed.\n\nConnection established\n\nDatabase connection established.\n\nQuery generated : \n\nSELECT *\nFROM PISTONS\nWHERE\nPISTONS.stroke = 2T;\n\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$ClickGenerator.postProcess(Scene.java:3602)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3906)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\n    ... 29 more\nCaused by: java.lang.RuntimeException: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1\n    at com.example.motoparts/com.example.motoparts.PistonTableController.searchPistons(PistonTableController.java:307)\n    ... 40 more\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.StatementImpl.executeQuery(StatementImpl.java:1200)\n    at com.example.motoparts/com.example.motoparts.DatabaseController.searchPistons(DatabaseController.java:36)\n    at com.example.motoparts/com.example.motoparts.PistonTableController.searchPistons(PistonTableController.java:139)\n    ... 40 more\n</code></pre>\n"},{"tags":["java","jai"],"answers":[{"tags":[],"owner":{"account_id":424465,"reputation":2814,"user_id":804477,"display_name":"Srikanth Venkatesh"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1313251871,"creation_date":1313251871,"answer_id":7051659,"question_id":7051603,"body_markdown":"These can help you to solve the problem.\r\n\r\n [How to run jai-imageio with source code][1]\r\n\r\n[vendorName == null][2]\r\n\r\n\r\n  [1]: http://www.java.net/node/677168\r\n  [2]: http://www.java.net/node/695773","title":"JAI vendorname == null","body":"<p>These can help you to solve the problem.</p>\n\n<p><a href=\"http://www.java.net/node/677168\" rel=\"nofollow\">How to run jai-imageio with source code</a></p>\n\n<p><a href=\"http://www.java.net/node/695773\" rel=\"nofollow\">vendorName == null</a></p>\n"},{"tags":[],"owner":{"account_id":104902,"reputation":281,"user_id":280218,"display_name":"ScratchMyTail"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1323092253,"creation_date":1323092253,"answer_id":8386150,"question_id":7051603,"body_markdown":"I had to use this [ImageIO jar][1]. It worked like a charm. Found it [here][2].\r\n\r\n\r\n  [1]: http://forum.servoy.com/download/file.php?id=2342\r\n  [2]: http://forum.servoy.com/viewtopic.php?f=8&amp;t=13625&amp;p=70765#p70765","title":"JAI vendorname == null","body":"<p>I had to use this <a href=\"http://forum.servoy.com/download/file.php?id=2342\" rel=\"noreferrer\">ImageIO jar</a>. It worked like a charm. Found it <a href=\"http://forum.servoy.com/viewtopic.php?f=8&amp;t=13625&amp;p=70765#p70765\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":30047,"reputation":3185,"user_id":81658,"accept_rate":90,"display_name":"Quantum7"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1377714819,"creation_date":1377714819,"answer_id":18495658,"question_id":7051603,"body_markdown":"Since I spent a considerable amount of time debugging this problem, I thought I would share my solution here, despite the age of the question. Srikanth&#39;s second [link][1] was particularly helpful.\r\n\r\nReason for the error\r\n---\r\nJAI requires a vendor name for some of its deep internals, particularly the javax.imageio.spi.IIOServiceProvider which gets used by many (all?) of the image readers for their low-level IO. It&#39;s not picky what the string is, but it can&#39;t be null.\r\n\r\nRather than hard-code the vendor name, the ImageReaderSpi class gets the vendor name from sun.media.imageioimpl.common.PackageUtil.getVendor(). This in turn _reads it from the jar&#39;s MANIFEST.MF_. Normally you link against the standard jai-imageio packagage, so Sun&#39;s vendor info gets read. However, since you&#39;re making a fat jar file, you replaced Sun&#39;s MANIFEST.MF with your own which lacks the required information.\r\n\r\nSolution\r\n---\r\nInclude the following lines in your MANIFEST.MF file:\r\n&lt;pre&gt;\r\nSpecification-Title: Java Advanced Imaging Image I/O Tools\r\nSpecification-Version: 1.1\r\nSpecification-Vendor: Sun Microsystems, Inc.\r\nImplementation-Title: com.sun.media.imageio\r\nImplementation-Version: 1.1\r\nImplementation-Vendor: Sun Microsystems, Inc.&lt;/pre&gt;\r\n\r\nThe values for each property can be anything (I used my specific application/version/company), as long as all six are defined.\r\n\r\nMaven\r\n-----\r\n\r\nIf you were using maven&#39;s assembly plugin to create your fat jar, maven can automatically include the correct version numbers and such. Update your `pom.xml` with the following `&lt;archive&gt;` section:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t&lt;archive&gt;\r\n\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t&lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n\t\t\t\t\t&lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t&lt;Specification-Vendor&gt;MyCompany&lt;/Specification-Vendor&gt;\r\n\t\t\t\t\t&lt;Implementation-Vendor&gt;MyCompany&lt;/Implementation-Vendor&gt;\r\n\t\t\t\t&lt;/manifestEntries&gt;\r\n\t\t\t&lt;/archive&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;create-my-bundle&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\r\n  [1]: http://www.java.net/node/695773","title":"JAI vendorname == null","body":"<p>Since I spent a considerable amount of time debugging this problem, I thought I would share my solution here, despite the age of the question. Srikanth's second <a href=\"http://www.java.net/node/695773\">link</a> was particularly helpful.</p>\n\n<h2>Reason for the error</h2>\n\n<p>JAI requires a vendor name for some of its deep internals, particularly the javax.imageio.spi.IIOServiceProvider which gets used by many (all?) of the image readers for their low-level IO. It's not picky what the string is, but it can't be null.</p>\n\n<p>Rather than hard-code the vendor name, the ImageReaderSpi class gets the vendor name from sun.media.imageioimpl.common.PackageUtil.getVendor(). This in turn <em>reads it from the jar's MANIFEST.MF</em>. Normally you link against the standard jai-imageio packagage, so Sun's vendor info gets read. However, since you're making a fat jar file, you replaced Sun's MANIFEST.MF with your own which lacks the required information.</p>\n\n<h2>Solution</h2>\n\n<p>Include the following lines in your MANIFEST.MF file:</p>\n\n<pre>\nSpecification-Title: Java Advanced Imaging Image I/O Tools\nSpecification-Version: 1.1\nSpecification-Vendor: Sun Microsystems, Inc.\nImplementation-Title: com.sun.media.imageio\nImplementation-Version: 1.1\nImplementation-Vendor: Sun Microsystems, Inc.</pre>\n\n<p>The values for each property can be anything (I used my specific application/version/company), as long as all six are defined.</p>\n\n<h2>Maven</h2>\n\n<p>If you were using maven's assembly plugin to create your fat jar, maven can automatically include the correct version numbers and such. Update your <code>pom.xml</code> with the following <code>&lt;archive&gt;</code> section:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n                &lt;Specification-Vendor&gt;MyCompany&lt;/Specification-Vendor&gt;\n                &lt;Implementation-Vendor&gt;MyCompany&lt;/Implementation-Vendor&gt;\n            &lt;/manifestEntries&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;create-my-bundle&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4927179,"reputation":589,"user_id":3968130,"display_name":"Scrambo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465928378,"creation_date":1465928378,"answer_id":37819398,"question_id":7051603,"body_markdown":"# DISCLAIMER \nThe issue that I was having was slightly different, I was getting the &quot;ClassNotFound&quot; error while trying to run a compiled jar file. I happened upon this SO question while researching, so for others who followed the same trail that I did, here you go.\n\n### Possible Solution to ClassNotFound Error\n\nTo those who may find this question later on, if nothing else seems to work, You could try using the [Apache Shader](https://maven.apache.org/plugins/maven-shade-plugin/) plugin for Maven. [Here](https://stackoverflow.com/questions/13620281/what-is-the-maven-shade-plugin-used-for-and-why-would-you-want-to-relocate-java) is some more information on it.\n\nI&#39;m not experienced enough to be able to tell you **how** it does it, but Apache Shader packages all the used dependencies in your project into the final jar file, so that all the dependencies are included in the META-INF folder when it&#39;s built. This increases the size of the jar file (depending on how many libraries you used in your project), but also seems to fix the jar not being able to find classes from outside libraries that are used.\n\nTo use the Shader plugin, add the following to your POM. I included it after the dependencies tag and before the properties tag.\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;manifestEntries&gt;\n                                        &lt;Main-Class&gt;com.package.name.className&lt;/Main-Class&gt;\n                                        &lt;Build-Number&gt;1&lt;/Build-Number&gt;\n                                    &lt;/manifestEntries&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n***NOTE***: Make sure you change the package and class name to reflect your project&#39;s package and class names.\n\nOther useful links: [Similar stack overflow question](https://stackoverflow.com/questions/15345769/exception-when-trying-to-save-images)","title":"JAI vendorname == null","body":"<h1>DISCLAIMER</h1>\n<p>The issue that I was having was slightly different, I was getting the &quot;ClassNotFound&quot; error while trying to run a compiled jar file. I happened upon this SO question while researching, so for others who followed the same trail that I did, here you go.</p>\n<h3>Possible Solution to ClassNotFound Error</h3>\n<p>To those who may find this question later on, if nothing else seems to work, You could try using the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Apache Shader</a> plugin for Maven. <a href=\"https://stackoverflow.com/questions/13620281/what-is-the-maven-shade-plugin-used-for-and-why-would-you-want-to-relocate-java\">Here</a> is some more information on it.</p>\n<p>I'm not experienced enough to be able to tell you <strong>how</strong> it does it, but Apache Shader packages all the used dependencies in your project into the final jar file, so that all the dependencies are included in the META-INF folder when it's built. This increases the size of the jar file (depending on how many libraries you used in your project), but also seems to fix the jar not being able to find classes from outside libraries that are used.</p>\n<p>To use the Shader plugin, add the following to your POM. I included it after the dependencies tag and before the properties tag.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;filters&gt;\n                            &lt;filter&gt;\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                        &lt;/filters&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;manifestEntries&gt;\n                                    &lt;Main-Class&gt;com.package.name.className&lt;/Main-Class&gt;\n                                    &lt;Build-Number&gt;1&lt;/Build-Number&gt;\n                                &lt;/manifestEntries&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p><em><strong>NOTE</strong></em>: Make sure you change the package and class name to reflect your project's package and class names.</p>\n<p>Other useful links: <a href=\"https://stackoverflow.com/questions/15345769/exception-when-trying-to-save-images\">Similar stack overflow question</a></p>\n"},{"tags":[],"owner":{"account_id":7717417,"reputation":4027,"user_id":5844686,"display_name":"Big Pumpkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468566127,"creation_date":1468566127,"answer_id":38389791,"question_id":7051603,"body_markdown":"(Would have been a comment on Quantum7&#39;s answer if I had enough reputation)\r\n\r\nI ran into the same problem. Quantum7&#39;s answer saved the day! After putting in manifestEntries Specification-Vendor and Implementation-Vendor, however, the execution of my fat jar still failed with the exception below. Note it is\r\n\r\n&gt; version == null!\r\n\r\nnot \r\n\r\n&gt; vendorName == null!\r\n\r\n    java.util.ServiceConfigurationError: javax.imageio.spi.ImageReaderSpi: Provider com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReaderSpi could not be instantiated\r\n            at java.util.ServiceLoader.fail(Unknown Source)\r\n            at java.util.ServiceLoader.access$100(Unknown Source)\r\n            at java.util.ServiceLoader$LazyIterator.nextService(Unknown Source)\r\n            at java.util.ServiceLoader$LazyIterator.next(Unknown Source)\r\n            at java.util.ServiceLoader$1.next(Unknown Source)\r\n            at javax.imageio.spi.IIORegistry.registerApplicationClasspathSpis(Unknown Source)\r\n            at javax.imageio.spi.IIORegistry.&lt;init&gt;(Unknown Source)\r\n            at javax.imageio.spi.IIORegistry.getDefaultInstance(Unknown Source)\r\n            at javax.imageio.ImageIO.&lt;clinit&gt;(Unknown Source)\r\n            at java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.IllegalArgumentException: version == null!\r\n            at javax.imageio.spi.IIOServiceProvider.&lt;init&gt;(Unknown Source)\r\n            at javax.imageio.spi.ImageReaderWriterSpi.&lt;init&gt;(Unknown Source)\r\n            at javax.imageio.spi.ImageReaderSpi.&lt;init&gt;(Unknown Source)\r\n            at com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReaderSpi.&lt;init&gt;(CLibJPEGImageReaderSpi.java:80)\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n            at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n            at java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n            at java.lang.Class.newInstance(Unknown Source)\r\n            ... 14 more\r\n\r\nPutting in manifestEntries below fixed it. \r\n\r\n    &lt;manifestEntries&gt;\r\n        &lt;Specification-Title&gt;Java Advanced Imaging Image I/O Tools&lt;/Specification-Title&gt;\r\n        &lt;Specification-Version&gt;1.1&lt;/Specification-Version&gt;\r\n        &lt;Specification-Vendor&gt;Sun Microsystems, Inc.&lt;/Specification-Vendor&gt;\r\n        &lt;Implementation-Title&gt;com.sun.media.imageio&lt;/Implementation-Title&gt;\r\n        &lt;Implementation-Version&gt;1.1&lt;/Implementation-Version&gt;\r\n        &lt;Implementation-Vendor&gt;Sun Microsystems, Inc.&lt;/Implementation-Vendor&gt;\r\n    &lt;/manifestEntries&gt;\r\n\r\nWhen running the fat jar, I made sure that none of the three values in the code below is null.\r\n\r\n    import com.sun.media.imageioimpl.common.PackageUtil;\r\n    \r\n    public class ManifestCheck {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(PackageUtil.getVendor());\r\n    \t\tSystem.out.println(PackageUtil.getVersion());\r\n    \t\tSystem.out.println(PackageUtil.getSpecificationTitle());\r\n    \t}\r\n    }","title":"JAI vendorname == null","body":"<p>(Would have been a comment on Quantum7's answer if I had enough reputation)</p>\n\n<p>I ran into the same problem. Quantum7's answer saved the day! After putting in manifestEntries Specification-Vendor and Implementation-Vendor, however, the execution of my fat jar still failed with the exception below. Note it is</p>\n\n<blockquote>\n  <p>version == null!</p>\n</blockquote>\n\n<p>not </p>\n\n<blockquote>\n  <p>vendorName == null!</p>\n</blockquote>\n\n<pre><code>java.util.ServiceConfigurationError: javax.imageio.spi.ImageReaderSpi: Provider com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReaderSpi could not be instantiated\n        at java.util.ServiceLoader.fail(Unknown Source)\n        at java.util.ServiceLoader.access$100(Unknown Source)\n        at java.util.ServiceLoader$LazyIterator.nextService(Unknown Source)\n        at java.util.ServiceLoader$LazyIterator.next(Unknown Source)\n        at java.util.ServiceLoader$1.next(Unknown Source)\n        at javax.imageio.spi.IIORegistry.registerApplicationClasspathSpis(Unknown Source)\n        at javax.imageio.spi.IIORegistry.&lt;init&gt;(Unknown Source)\n        at javax.imageio.spi.IIORegistry.getDefaultInstance(Unknown Source)\n        at javax.imageio.ImageIO.&lt;clinit&gt;(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.IllegalArgumentException: version == null!\n        at javax.imageio.spi.IIOServiceProvider.&lt;init&gt;(Unknown Source)\n        at javax.imageio.spi.ImageReaderWriterSpi.&lt;init&gt;(Unknown Source)\n        at javax.imageio.spi.ImageReaderSpi.&lt;init&gt;(Unknown Source)\n        at com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReaderSpi.&lt;init&gt;(CLibJPEGImageReaderSpi.java:80)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n        at java.lang.reflect.Constructor.newInstance(Unknown Source)\n        at java.lang.Class.newInstance(Unknown Source)\n        ... 14 more\n</code></pre>\n\n<p>Putting in manifestEntries below fixed it. </p>\n\n<pre><code>&lt;manifestEntries&gt;\n    &lt;Specification-Title&gt;Java Advanced Imaging Image I/O Tools&lt;/Specification-Title&gt;\n    &lt;Specification-Version&gt;1.1&lt;/Specification-Version&gt;\n    &lt;Specification-Vendor&gt;Sun Microsystems, Inc.&lt;/Specification-Vendor&gt;\n    &lt;Implementation-Title&gt;com.sun.media.imageio&lt;/Implementation-Title&gt;\n    &lt;Implementation-Version&gt;1.1&lt;/Implementation-Version&gt;\n    &lt;Implementation-Vendor&gt;Sun Microsystems, Inc.&lt;/Implementation-Vendor&gt;\n&lt;/manifestEntries&gt;\n</code></pre>\n\n<p>When running the fat jar, I made sure that none of the three values in the code below is null.</p>\n\n<pre><code>import com.sun.media.imageioimpl.common.PackageUtil;\n\npublic class ManifestCheck {\n    public static void main(String[] args) {\n        System.out.println(PackageUtil.getVendor());\n        System.out.println(PackageUtil.getVersion());\n        System.out.println(PackageUtil.getSpecificationTitle());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":408033,"reputation":621,"user_id":778449,"display_name":"abyrd"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515075126,"creation_date":1515075126,"answer_id":48097069,"question_id":7051603,"body_markdown":"The accepted answer by Quantum7 explains the source of the problem, and in the **Maven** section it provides a solution when using the Maven Assembly plugin to produce a JAR including dependencies. If you are instead using the Maven Shade plugin to produce the JAR with dependencies, the configuration is slightly different. You can add something like the following to the configuration section of the Shade plugin in your `pom.xml`:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;transformers&gt;\r\n            &lt;transformer\r\n                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                &lt;manifestEntries&gt;\r\n                    &lt;Main-Class&gt;com.conveyal.r5.R5Main&lt;/Main-Class&gt;\r\n                    &lt;Specification-Title&gt;Java Advanced Imaging Image I/O Tools&lt;/Specification-Title&gt;\r\n                    &lt;Specification-Version&gt;1.1&lt;/Specification-Version&gt;\r\n                    &lt;Specification-Vendor&gt;Sun Microsystems, Inc.&lt;/Specification-Vendor&gt;\r\n                    &lt;Implementation-Title&gt;com.sun.media.imageio&lt;/Implementation-Title&gt;\r\n                    &lt;Implementation-Version&gt;1.1&lt;/Implementation-Version&gt;\r\n                    &lt;Implementation-Vendor&gt;Sun Microsystems, Inc.&lt;/Implementation-Vendor&gt;\r\n                    &lt;Extension-Name&gt;com.sun.media.imageio&lt;/Extension-Name&gt;\r\n                &lt;/manifestEntries&gt;\r\n            &lt;/transformer&gt;\r\n        &lt;/transformers&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"JAI vendorname == null","body":"<p>The accepted answer by Quantum7 explains the source of the problem, and in the <strong>Maven</strong> section it provides a solution when using the Maven Assembly plugin to produce a JAR including dependencies. If you are instead using the Maven Shade plugin to produce the JAR with dependencies, the configuration is slightly different. You can add something like the following to the configuration section of the Shade plugin in your <code>pom.xml</code>:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;transformers&gt;\n        &lt;transformer\n                implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n            &lt;manifestEntries&gt;\n                &lt;Main-Class&gt;com.conveyal.r5.R5Main&lt;/Main-Class&gt;\n                &lt;Specification-Title&gt;Java Advanced Imaging Image I/O Tools&lt;/Specification-Title&gt;\n                &lt;Specification-Version&gt;1.1&lt;/Specification-Version&gt;\n                &lt;Specification-Vendor&gt;Sun Microsystems, Inc.&lt;/Specification-Vendor&gt;\n                &lt;Implementation-Title&gt;com.sun.media.imageio&lt;/Implementation-Title&gt;\n                &lt;Implementation-Version&gt;1.1&lt;/Implementation-Version&gt;\n                &lt;Implementation-Vendor&gt;Sun Microsystems, Inc.&lt;/Implementation-Vendor&gt;\n                &lt;Extension-Name&gt;com.sun.media.imageio&lt;/Extension-Name&gt;\n            &lt;/manifestEntries&gt;\n        &lt;/transformer&gt;\n    &lt;/transformers&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21316812,"reputation":67,"user_id":15690535,"display_name":"Afreen Shaikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621605757,"creation_date":1621604930,"answer_id":67638129,"question_id":7051603,"body_markdown":"I was also getting the same error after struggling for many solution found this and worked for me.\r\n\r\nNeed to give venderName manually in code as:\r\n\r\n    import com.sun.media.imageioimpl.common.PackageUtil;\r\n \r\n \t\t\r\n\t\ttry {\r\n\t\t\tMainClass.afVenderNames(PackageUtil.class, &quot;afreen&quot;, &quot;afreen&quot;, &quot;afreen&quot;);\r\n\t\t} catch (NoSuchFieldException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t} catch (SecurityException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t} catch (IllegalArgumentException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t} catch (IllegalAccessException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\tSystem.out.println(PackageUtil.getVendor());\r\n\t\tSystem.out.println(PackageUtil.getVersion());\r\n\t\tSystem.out.println(PackageUtil.getSpecificationTitle());\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tpublic static void afVenderNames(Class&lt;?&gt; PackageUtil, String vendor, String version, String specTitle)\r\n\t\t\tthrows NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {\r\n\t\tField vendorField = PackageUtil.getDeclaredField(&quot;vendor&quot;);\r\n\t\tvendorField.setAccessible(true);\r\n\t\tvendorField.set(null, vendor);\r\n\r\n\t\tField versionField = PackageUtil.getDeclaredField(&quot;version&quot;);\r\n\t\tversionField.setAccessible(true);\r\n\t\tversionField.set(null, version);\r\n\r\n\t\tField specTitleField = PackageUtil.getDeclaredField(&quot;specTitle&quot;);\r\n\t\tspecTitleField.setAccessible(true);\r\n\t\tspecTitleField.set(null, specTitle);\r\n\t}\r\n\t\r\n\t\r\nIt doesn&#39;t matter what will be the vendorName value is if it&#39;s not NULL.\r\nMy code was running fine in eclipse but giving exceptions in an exported runnable jar.\r\n\r\nFinally worked when wrote the above code and exported the jar.\r\n\r\n\r\n\t\t\r\n \r\n ","title":"JAI vendorname == null","body":"<p>I was also getting the same error after struggling for many solution found this and worked for me.</p>\n<p>Need to give venderName manually in code as:</p>\n<pre><code>import com.sun.media.imageioimpl.common.PackageUtil;\n\n    \n    try {\n        MainClass.afVenderNames(PackageUtil.class, &quot;afreen&quot;, &quot;afreen&quot;, &quot;afreen&quot;);\n    } catch (NoSuchFieldException e1) {\n        e1.printStackTrace();\n    } catch (SecurityException e1) {\n        e1.printStackTrace();\n    } catch (IllegalArgumentException e1) {\n        e1.printStackTrace();\n    } catch (IllegalAccessException e1) {\n        e1.printStackTrace();\n    }\n    System.out.println(PackageUtil.getVendor());\n    System.out.println(PackageUtil.getVersion());\n    System.out.println(PackageUtil.getSpecificationTitle());\n    \n    \n    \n    public static void afVenderNames(Class&lt;?&gt; PackageUtil, String vendor, String version, String specTitle)\n        throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {\n    Field vendorField = PackageUtil.getDeclaredField(&quot;vendor&quot;);\n    vendorField.setAccessible(true);\n    vendorField.set(null, vendor);\n\n    Field versionField = PackageUtil.getDeclaredField(&quot;version&quot;);\n    versionField.setAccessible(true);\n    versionField.set(null, version);\n\n    Field specTitleField = PackageUtil.getDeclaredField(&quot;specTitle&quot;);\n    specTitleField.setAccessible(true);\n    specTitleField.set(null, specTitle);\n}\n</code></pre>\n<p>It doesn't matter what will be the vendorName value is if it's not NULL.\nMy code was running fine in eclipse but giving exceptions in an exported runnable jar.</p>\n<p>Finally worked when wrote the above code and exported the jar.</p>\n"},{"tags":[],"owner":{"account_id":3981223,"reputation":31,"user_id":3283050,"display_name":"Stephan Korsholm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694604813,"creation_date":1694604813,"answer_id":77096692,"question_id":7051603,"body_markdown":"I had the same issue and based on previous answers in here I constructed a configuration for the maven-shade-plugin that worked for me. I include it here as a template for others:\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;transformers&gt;\r\n              &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                &lt;manifestEntries&gt;\r\n                  &lt;Specification-Title&gt;Java Advanced Imaging Image I/O Tools&lt;/Specification-Title&gt;\r\n                  &lt;Specification-Version&gt;1.1&lt;/Specification-Version&gt;\r\n                  &lt;Specification-Vendor&gt;Sun Microsystems, Inc.&lt;/Specification-Vendor&gt;\r\n                  &lt;Implementation-Title&gt;com.sun.media.imageio&lt;/Implementation-Title&gt;\r\n                  &lt;Implementation-Version&gt;1.1&lt;/Implementation-Version&gt;\r\n                  &lt;Implementation-Vendor&gt;Sun Microsystems, Inc.&lt;/Implementation-Vendor&gt;\r\n                &lt;/manifestEntries&gt;\r\n              &lt;/transformer&gt;\r\n            &lt;/transformers&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n              &lt;/goals&gt;  \r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n","title":"JAI vendorname == null","body":"<p>I had the same issue and based on previous answers in here I constructed a configuration for the maven-shade-plugin that worked for me. I include it here as a template for others:</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.2&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;transformers&gt;\n          &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n            &lt;manifestEntries&gt;\n              &lt;Specification-Title&gt;Java Advanced Imaging Image I/O Tools&lt;/Specification-Title&gt;\n              &lt;Specification-Version&gt;1.1&lt;/Specification-Version&gt;\n              &lt;Specification-Vendor&gt;Sun Microsystems, Inc.&lt;/Specification-Vendor&gt;\n              &lt;Implementation-Title&gt;com.sun.media.imageio&lt;/Implementation-Title&gt;\n              &lt;Implementation-Version&gt;1.1&lt;/Implementation-Version&gt;\n              &lt;Implementation-Vendor&gt;Sun Microsystems, Inc.&lt;/Implementation-Vendor&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/transformer&gt;\n        &lt;/transformers&gt;\n      &lt;/configuration&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;shade&lt;/goal&gt;\n          &lt;/goals&gt;  \n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":182690,"reputation":1765,"user_id":417579,"accept_rate":87,"display_name":"Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11211,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":18495658,"answer_count":8,"score":14,"last_activity_date":1694604813,"creation_date":1313251329,"question_id":7051603,"body_markdown":"So I finished coding my application to rotate TIFF images which required JAI to manipulate the TIFFs. \r\n\r\nIt works fine when working under Eclipse, but whenever I build a fat jar for the library and then create one implementing that (per http://fjep.sourceforge.net/fjeptutorial.html), when I do the java -jar Push.jar \\path\\to\\dir, it runs up until it hits the part where it is compressing and saving:\r\n\r\n    TIFFImageWriterSpi tiffspi = new TIFFImageWriterSpi();\r\n\tImageWriter writer = tiffspi.createWriterInstance();\r\n\t//Iterator&lt;ImageWriter&gt; iter =  ImageIO.getImageWritersByFormatName(&quot;TIFF&quot;);\r\n\t//ImageWriter writer = iter.next();\r\n\r\n\tImageWriteParam param2 = writer.getDefaultWriteParam();\r\n\tparam2.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n\r\n\tparam2.setCompressionType(&quot;LZW&quot;);\r\n\tparam2.setCompressionQuality(0.0f);\r\n\tFile fOutputFile = workArea[i];\r\n\tImageOutputStream ios = ImageIO.createImageOutputStream(fOutputFile);\r\n\twriter.setOutput(ios);\r\n            \t\r\n\tif (frontPage == 1)\r\n\t{\r\n\t     writer.write(null, new IIOImage(pg1, null, null), param2);\r\n\t     writer.writeInsert(-1, new IIOImage(pg2, null, null), param2);\r\n\t}\r\n\telse if (frontPage == 2)\r\n\t{\r\n\t     writer.write(null, new IIOImage(pg2, null, null), param2);\r\n\t     writer.writeInsert(-1, new IIOImage(pg1, null, null), param2);\r\n\t}\r\n\t        \t\r\n\tremaining = remaining - 1;\r\n        if (remaining &gt; 0)\r\n\t     System.out.println(remaining + &quot; remaining.&quot;);\r\n\telse\r\n\t     System.out.println(&quot;Done.&quot;);\r\n\r\nIt blows up on the first line of that section with the message:\r\n\r\n     Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: vendorName == null!\r\n     ....rest of stack trace.","title":"JAI vendorname == null","body":"<p>So I finished coding my application to rotate TIFF images which required JAI to manipulate the TIFFs. </p>\n\n<p>It works fine when working under Eclipse, but whenever I build a fat jar for the library and then create one implementing that (per <a href=\"http://fjep.sourceforge.net/fjeptutorial.html\" rel=\"noreferrer\">http://fjep.sourceforge.net/fjeptutorial.html</a>), when I do the java -jar Push.jar \\path\\to\\dir, it runs up until it hits the part where it is compressing and saving:</p>\n\n<pre><code>TIFFImageWriterSpi tiffspi = new TIFFImageWriterSpi();\nImageWriter writer = tiffspi.createWriterInstance();\n//Iterator&lt;ImageWriter&gt; iter =  ImageIO.getImageWritersByFormatName(\"TIFF\");\n//ImageWriter writer = iter.next();\n\nImageWriteParam param2 = writer.getDefaultWriteParam();\nparam2.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n\nparam2.setCompressionType(\"LZW\");\nparam2.setCompressionQuality(0.0f);\nFile fOutputFile = workArea[i];\nImageOutputStream ios = ImageIO.createImageOutputStream(fOutputFile);\nwriter.setOutput(ios);\n\nif (frontPage == 1)\n{\n     writer.write(null, new IIOImage(pg1, null, null), param2);\n     writer.writeInsert(-1, new IIOImage(pg2, null, null), param2);\n}\nelse if (frontPage == 2)\n{\n     writer.write(null, new IIOImage(pg2, null, null), param2);\n     writer.writeInsert(-1, new IIOImage(pg1, null, null), param2);\n}\n\nremaining = remaining - 1;\n    if (remaining &gt; 0)\n     System.out.println(remaining + \" remaining.\");\nelse\n     System.out.println(\"Done.\");\n</code></pre>\n\n<p>It blows up on the first line of that section with the message:</p>\n\n<pre><code> Exception in thread \"main\" java.lang.IllegalArgumentException: vendorName == null!\n ....rest of stack trace.\n</code></pre>\n"},{"tags":["java","oracle","select","yaml"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1694547017,"post_id":77091994,"comment_id":135904780,"body_markdown":"If I understand it correctly, there are two separate databases (dev and customer)? Maybe a stupid question, but do these databases contain the same data?","body":"If I understand it correctly, there are two separate databases (dev and customer)? Maybe a stupid question, but do these databases contain the same data?"},{"owner":{"account_id":19487341,"reputation":11,"user_id":14256388,"display_name":"Ren&#233; Guido Steg"},"score":0,"creation_date":1694548448,"post_id":77091994,"comment_id":135905048,"body_markdown":"Sorry for not being clear. No , by DEV I mean my Developer who has the code under control. I am on the integration project and can only modify the yaml.","body":"Sorry for not being clear. No , by DEV I mean my Developer who has the code under control. I am on the integration project and can only modify the yaml."},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1694548842,"post_id":77091994,"comment_id":135905119,"body_markdown":"Did you `COMMIT` the data? If the data is not `COMMIT`ted then it is only visible in the session where it was `INSERT`ed. It is only once it has been `COMMIT`ted that all users can see it.","body":"Did you <code>COMMIT</code> the data? If the data is not <code>COMMIT</code>ted then it is only visible in the session where it was <code>INSERT</code>ed. It is only once it has been <code>COMMIT</code>ted that all users can see it."},{"owner":{"account_id":19487341,"reputation":11,"user_id":14256388,"display_name":"Ren&#233; Guido Steg"},"score":0,"creation_date":1694617084,"post_id":77091994,"comment_id":135915408,"body_markdown":"I only read data from the view. The data is source data for my dlp sytem from the customers CRM system, and with other selects I assured that there is data using the very same connection string and sql select statement. Only if I use this yaml construct and the JAR provided I get empty resultsets.","body":"I only read data from the view. The data is source data for my dlp sytem from the customers CRM system, and with other selects I assured that there is data using the very same connection string and sql select statement. Only if I use this yaml construct and the JAR provided I get empty resultsets."}],"owner":{"account_id":19487341,"reputation":11,"user_id":14256388,"display_name":"Ren&#233; Guido Steg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694604730,"creation_date":1694545307,"question_id":77091994,"body_markdown":"I have the following YAML specification for a JAR I am using. The YML is input for a JAR I don&#39;t have control, it&#39;s a black-box for me. My DEV has tested the very same input SELECT against his Oracle database and it works fine. \r\n\r\nWhen I execute it on my customer database though, I always get an empty resultset. The query returns the fieldnames, but no records. \r\nI have checked via SQLPlus, and the connection is valid, SQL correct. I only have this issue accessing the database via JDBC / that JAR application. Java version is 17 and Oracle 19c. The Oracle is hosted on a remote host, not local. DEV has the same architecture. Only &quot;minor&quot; difference is, that the DEV has executed the code against ORA 21. However, I would not expect that a simple SELECT statement like mine should have any Oracle Release incompatibilities. \r\n\r\nAny ideas, what could be wrong? \r\n\r\n```yaml\r\ndatasources: \r\n   - name: dlpview\r\n     uri: &quot;jdbc:oracle:thin:@customer-connection-string:port:sid&quot;\r\n     username: myuser\r\n     password: mypasswd\r\n\r\nroutes:\r\n   - name: IBAN\r\n     batch-size: 100\r\n     batch-time: 100\r\n     max-idle-time: 360\r\n     input:\r\n         type: SELECT\r\n         datasource: dlpview\r\n         statement: &quot;SELECT * FROM k.abc$dlp_view&quot;\r\n     output:\r\n         type: CSV\r\n         file:\r\n             path: c:/mytemp\r\n             name: output.csv\r\n         csv:\r\n             line-separator: &quot;\\r\\n&quot;\r\n             field-separator: &quot;\\&quot;\r\n```\r\n\r\nWe already tried several different kind of SELECTs, removed the entire Camel component, which originally was inside the Java code to make sure, Camel is not interfering. We also tried several escaping of the select statement. ","title":"SELECT Statement from YAML used in Java input returns empty resultset from Oracle","body":"<p>I have the following YAML specification for a JAR I am using. The YML is input for a JAR I don't have control, it's a black-box for me. My DEV has tested the very same input SELECT against his Oracle database and it works fine.</p>\n<p>When I execute it on my customer database though, I always get an empty resultset. The query returns the fieldnames, but no records.\nI have checked via SQLPlus, and the connection is valid, SQL correct. I only have this issue accessing the database via JDBC / that JAR application. Java version is 17 and Oracle 19c. The Oracle is hosted on a remote host, not local. DEV has the same architecture. Only &quot;minor&quot; difference is, that the DEV has executed the code against ORA 21. However, I would not expect that a simple SELECT statement like mine should have any Oracle Release incompatibilities.</p>\n<p>Any ideas, what could be wrong?</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>datasources: \n   - name: dlpview\n     uri: &quot;jdbc:oracle:thin:@customer-connection-string:port:sid&quot;\n     username: myuser\n     password: mypasswd\n\nroutes:\n   - name: IBAN\n     batch-size: 100\n     batch-time: 100\n     max-idle-time: 360\n     input:\n         type: SELECT\n         datasource: dlpview\n         statement: &quot;SELECT * FROM k.abc$dlp_view&quot;\n     output:\n         type: CSV\n         file:\n             path: c:/mytemp\n             name: output.csv\n         csv:\n             line-separator: &quot;\\r\\n&quot;\n             field-separator: &quot;\\&quot;\n</code></pre>\n<p>We already tried several different kind of SELECTs, removed the entire Camel component, which originally was inside the Java code to make sure, Camel is not interfering. We also tried several escaping of the select statement.</p>\n"},{"tags":["java","arrays","merge"],"comments":[{"owner":{"display_name":"user12392751"},"score":0,"creation_date":1639013955,"post_id":70283665,"comment_id":124242738,"body_markdown":"The most obvious way would be to repetitively search for the minimum of both arrays until both arrays are empty.","body":"The most obvious way would be to repetitively search for the minimum of both arrays until both arrays are empty."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1639014480,"post_id":70283665,"comment_id":124242816,"body_markdown":"`return Stream.of(array1, array2).flatMapToInt(Arrays::stream).sorted().toArray();`","body":"<code>return Stream.of(array1, array2).flatMapToInt(Arrays::stream).sorted().toArray();</code>"},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":0,"creation_date":1639018102,"post_id":70283665,"comment_id":124243419,"body_markdown":"Your problem isn&#39;t well defined. You haven&#39;t said how duplicate integer values are to be handled.  Are only distinct values present in the result?  Are the input arrays always sorted in order?","body":"Your problem isn&#39;t well defined. You haven&#39;t said how duplicate integer values are to be handled.  Are only distinct values present in the result?  Are the input arrays always sorted in order?"}],"answers":[{"tags":[],"owner":{"display_name":"user12392751"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639014875,"creation_date":1639014875,"answer_id":70283844,"question_id":70283665,"body_markdown":"Assuming that you are looking to merge two sorted arrays, you could do it like this.\r\n\r\n    public static int[] merge(int array1[], int array2[]) {\r\n        int i = 0, j = 0, k = 0;\r\n        int size1 = array1.length;\r\n        int size2 = array2.length;\r\n        int[] result = new int[size1 + size2];\r\n\r\n        while (i &lt; size1 &amp;&amp; j &lt; size2) {\r\n            if (array1[i] &lt; array2[j]) {\r\n                result[k++] = array1[i++];\r\n            } else {\r\n                result[k++] = array2[j++];\r\n            }\r\n        }\r\n\r\n        // Store remaining elements\r\n        while (i &lt; size1) {\r\n            result[k++] = array1[i++];\r\n        }\r\n\r\n        while (j &lt; size2) {\r\n            result[k++] = array2[j++];\r\n        }\r\n        \r\n        return result;\r\n\r\n    }","title":"How to merge two integer arrays in ascending order?","body":"<p>Assuming that you are looking to merge two sorted arrays, you could do it like this.</p>\n<pre><code>public static int[] merge(int array1[], int array2[]) {\n    int i = 0, j = 0, k = 0;\n    int size1 = array1.length;\n    int size2 = array2.length;\n    int[] result = new int[size1 + size2];\n\n    while (i &lt; size1 &amp;&amp; j &lt; size2) {\n        if (array1[i] &lt; array2[j]) {\n            result[k++] = array1[i++];\n        } else {\n            result[k++] = array2[j++];\n        }\n    }\n\n    // Store remaining elements\n    while (i &lt; size1) {\n        result[k++] = array1[i++];\n    }\n\n    while (j &lt; size2) {\n        result[k++] = array2[j++];\n    }\n    \n    return result;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639023839,"creation_date":1639023839,"answer_id":70284694,"question_id":70283665,"body_markdown":"    public static int[] merge(int[] array1, int[] array2) {\r\n            int totalElements = array1.length + array2.length, array2Index = 0;\r\n            int[] toReturn = new int[totalElements];\r\n    \r\n            for (int i = 0; i &lt; array1.length; i++) {\r\n                toReturn[i] = array1[i];\r\n            }\r\n            for (int i = array1.length; i &lt; totalElements; i++) {\r\n                toReturn[i] = array2[array2Index++];\r\n            }\r\n    \r\n            //Manual Ascending Array Sorting\r\n            for (int i = 0; i &lt; totalElements; i++) {\r\n                for (int j = 0; j &lt; totalElements; j++) {\r\n                    if(toReturn[i] &lt; toReturn[j]) {\r\n                        int temp = toReturn[i];\r\n                        toReturn[i] = toReturn[j];\r\n                        toReturn[j] = temp;\r\n                    }\r\n                }\r\n            }\r\n            return toReturn;\r\n        }","title":"How to merge two integer arrays in ascending order?","body":"<pre><code>public static int[] merge(int[] array1, int[] array2) {\n        int totalElements = array1.length + array2.length, array2Index = 0;\n        int[] toReturn = new int[totalElements];\n\n        for (int i = 0; i &lt; array1.length; i++) {\n            toReturn[i] = array1[i];\n        }\n        for (int i = array1.length; i &lt; totalElements; i++) {\n            toReturn[i] = array2[array2Index++];\n        }\n\n        //Manual Ascending Array Sorting\n        for (int i = 0; i &lt; totalElements; i++) {\n            for (int j = 0; j &lt; totalElements; j++) {\n                if(toReturn[i] &lt; toReturn[j]) {\n                    int temp = toReturn[i];\n                    toReturn[i] = toReturn[j];\n                    toReturn[j] = temp;\n                }\n            }\n        }\n        return toReturn;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19184394,"reputation":153,"user_id":14015478,"display_name":"Deep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639025451,"creation_date":1639025451,"answer_id":70284857,"question_id":70283665,"body_markdown":"You can use apache commons class and the sort function of Collections class\r\n\r\n    import org.apache.commons.lang.ArrayUtils;\r\n    import java.util.Collections;\r\n    \r\n    public class MergingArrays {\r\n        public static void main(String[] args) {\r\n            int [] array1 = {4, 8, 12, 13};\r\n            int [] array2 = {1, 9, 11};\r\n            merge(array1, array2);\r\n        } \r\n        public static int[] merge(int array1[], int array2[]) {\r\n    \treturn Collections.sort(ArrayUtils.addAll(array1, array2));\r\n        }\r\n    }","title":"How to merge two integer arrays in ascending order?","body":"<p>You can use apache commons class and the sort function of Collections class</p>\n<pre><code>import org.apache.commons.lang.ArrayUtils;\nimport java.util.Collections;\n\npublic class MergingArrays {\n    public static void main(String[] args) {\n        int [] array1 = {4, 8, 12, 13};\n        int [] array2 = {1, 9, 11};\n        merge(array1, array2);\n    } \n    public static int[] merge(int array1[], int array2[]) {\n    return Collections.sort(ArrayUtils.addAll(array1, array2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3524972,"reputation":828,"user_id":2946353,"display_name":"Prilaga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694604604,"creation_date":1694604604,"answer_id":77096667,"question_id":70283665,"body_markdown":"I had similar task on interview. The main logic is to compare each element in both arrays until one ends. And then just append the rest of the numbers.\r\n\r\n\r\n    static int[] geMergedArrayC(int[] arrayA, int[] arrayB) {\r\n    \r\n            // Count the length\r\n            int lengthA = arrayA.length;\r\n            int lengthB = arrayB.length;\r\n            int lengthC = lengthA + lengthB;\r\n            int[] arrayC = new int[lengthC];\r\n            \r\n            // Cursors to keep the position\r\n            int cursorA = 0;\r\n            int cursorB = 0;\r\n            int cursorC = 0;\r\n            \r\n            // Store the temp values\r\n            int aValue;\r\n            int bValue;\r\n    \r\n            for (; cursorC &lt; lengthC; cursorC++) {\r\n                // Add from both arrays until one ends\r\n                if (cursorA &lt; lengthA &amp;&amp; cursorB &lt; lengthB) {\r\n                    aValue = arrayA[cursorA];\r\n                    bValue = arrayB[cursorB];\r\n                    if (aValue &lt;= bValue) {\r\n                        // Add from array A\r\n                        arrayC[cursorC] = aValue;\r\n                        cursorA++;\r\n                    } else {\r\n                        // Add from array B\r\n                        arrayC[cursorC] = bValue;\r\n                        cursorB++;\r\n                    }\r\n    \r\n                } else if (cursorA &lt; lengthA) {\r\n                    // Add from array A\r\n                    aValue = arrayA[cursorA];\r\n                    arrayC[cursorC] = aValue;\r\n                    cursorA++;\r\n    \r\n                } else {\r\n                    // Add from array B\r\n                    bValue = arrayB[cursorB];\r\n                    arrayC[cursorC] = bValue;\r\n                    cursorB++;\r\n                }\r\n            }\r\n    \r\n            return arrayC;\r\n        }","title":"How to merge two integer arrays in ascending order?","body":"<p>I had similar task on interview. The main logic is to compare each element in both arrays until one ends. And then just append the rest of the numbers.</p>\n<pre><code>static int[] geMergedArrayC(int[] arrayA, int[] arrayB) {\n\n        // Count the length\n        int lengthA = arrayA.length;\n        int lengthB = arrayB.length;\n        int lengthC = lengthA + lengthB;\n        int[] arrayC = new int[lengthC];\n        \n        // Cursors to keep the position\n        int cursorA = 0;\n        int cursorB = 0;\n        int cursorC = 0;\n        \n        // Store the temp values\n        int aValue;\n        int bValue;\n\n        for (; cursorC &lt; lengthC; cursorC++) {\n            // Add from both arrays until one ends\n            if (cursorA &lt; lengthA &amp;&amp; cursorB &lt; lengthB) {\n                aValue = arrayA[cursorA];\n                bValue = arrayB[cursorB];\n                if (aValue &lt;= bValue) {\n                    // Add from array A\n                    arrayC[cursorC] = aValue;\n                    cursorA++;\n                } else {\n                    // Add from array B\n                    arrayC[cursorC] = bValue;\n                    cursorB++;\n                }\n\n            } else if (cursorA &lt; lengthA) {\n                // Add from array A\n                aValue = arrayA[cursorA];\n                arrayC[cursorC] = aValue;\n                cursorA++;\n\n            } else {\n                // Add from array B\n                bValue = arrayB[cursorB];\n                arrayC[cursorC] = bValue;\n                cursorB++;\n            }\n        }\n\n        return arrayC;\n    }\n</code></pre>\n"}],"owner":{"account_id":23593673,"reputation":13,"user_id":17631067,"display_name":"pointlesseducation"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70283844,"answer_count":4,"score":1,"last_activity_date":1694604604,"creation_date":1639013002,"question_id":70283665,"body_markdown":"How can I merge two arrays in ascending order? \r\nI have the code below and I need to merge this array in ascending order, and it should be in a separate method. So in this case the method should return ```{1, 4, 8, 9, 11, 12, 13}```\r\n```\r\npublic class MergingArrays {\r\n\tpublic static void main(String[] args) {\r\n\t\tint [] array1 = {4, 8, 12, 13};\r\n\t\tint [] array2 = {1, 9, 11};\r\n\t\tmerge(array1, array2);\r\n\t} \r\n\tpublic static int[] merge(int array1[], int array2[]) {\r\n\r\n    }\r\n}\r\n```","title":"How to merge two integer arrays in ascending order?","body":"<p>How can I merge two arrays in ascending order?\nI have the code below and I need to merge this array in ascending order, and it should be in a separate method. So in this case the method should return <code>{1, 4, 8, 9, 11, 12, 13}</code></p>\n<pre><code>public class MergingArrays {\n    public static void main(String[] args) {\n        int [] array1 = {4, 8, 12, 13};\n        int [] array2 = {1, 9, 11};\n        merge(array1, array2);\n    } \n    public static int[] merge(int array1[], int array2[]) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","ssl-certificate"],"comments":[{"owner":{"account_id":213827,"reputation":938,"user_id":467425,"accept_rate":67,"display_name":"Anuj Pandey"},"score":1,"creation_date":1642177206,"post_id":69749925,"comment_id":125009327,"body_markdown":"Is there a specific solution to this one? facing the same issue","body":"Is there a specific solution to this one? facing the same issue"},{"owner":{"account_id":13703581,"reputation":51,"user_id":9887926,"display_name":"Mastanvali Shaik"},"score":0,"creation_date":1642312042,"post_id":69749925,"comment_id":125034904,"body_markdown":"can you check SSL files beside of .properties file or not","body":"can you check SSL files beside of .properties file or not"},{"owner":{"account_id":13703581,"reputation":51,"user_id":9887926,"display_name":"Mastanvali Shaik"},"score":0,"creation_date":1642312092,"post_id":69749925,"comment_id":125034910,"body_markdown":"makesure .p12 and .properties should be in resources/ folder","body":"makesure .p12 and .properties should be in resources/ folder"}],"answers":[{"tags":[],"owner":{"account_id":23135003,"reputation":121,"user_id":17239360,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635407924,"creation_date":1635407924,"answer_id":69750283,"question_id":69749925,"body_markdown":"Maybe you need to fix `server.port=8282` in you both properties files.\r\nmake sure to have the same port either `8282` or `8443` in both files.","title":"java.lang.IllegalArgumentException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p>Maybe you need to fix <code>server.port=8282</code> in you both properties files.\nmake sure to have the same port either <code>8282</code> or <code>8443</code> in both files.</p>\n"},{"tags":[],"owner":{"account_id":13703581,"reputation":51,"user_id":9887926,"display_name":"Mastanvali Shaik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635426712,"creation_date":1635426712,"answer_id":69754724,"question_id":69749925,"body_markdown":"After the debug I found the same issue in my windows system. I regenerated .p12 certificate and deployed it. Now it&#39;s working fine.\r\nThe actual issue, private.key file wrong file placed. ","title":"java.lang.IllegalArgumentException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p>After the debug I found the same issue in my windows system. I regenerated .p12 certificate and deployed it. Now it's working fine.\nThe actual issue, private.key file wrong file placed.</p>\n"},{"tags":[],"owner":{"account_id":5099553,"reputation":81,"user_id":8855028,"display_name":"Leonar T"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1644811452,"creation_date":1644811452,"answer_id":71107051,"question_id":69749925,"body_markdown":"In my case, it also happens on jks file.\r\nThe jks file is produced by Java-11 keytool, and consumed by Java-8.\r\n\r\nWe need to recreate the jks using Java-8 keytool.","title":"java.lang.IllegalArgumentException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p>In my case, it also happens on jks file.\nThe jks file is produced by Java-11 keytool, and consumed by Java-8.</p>\n<p>We need to recreate the jks using Java-8 keytool.</p>\n"},{"tags":[],"owner":{"account_id":12449366,"reputation":13,"user_id":9064526,"display_name":"Bashir Onuche Okala III"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659649656,"creation_date":1659400080,"answer_id":73200810,"question_id":69749925,"body_markdown":"In my case I was running my Spring application on Java 11 and it worked fine but when I build a Docker image using JDK 8 in my Dockerfile and try to deploy it fails and throws the error: \r\n```\r\njava.io.IOException: parseAlgParameters failed: \r\nObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)\r\n```\r\nThis was because my Dockerfile was from JDK 8\r\n\r\nAfter I downgraded my default IDE&#39;s JDK version to 8 I started getting the same error on my console.\r\n\r\nFixed it by updating my JDK versions.","title":"java.lang.IllegalArgumentException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p>In my case I was running my Spring application on Java 11 and it worked fine but when I build a Docker image using JDK 8 in my Dockerfile and try to deploy it fails and throws the error:</p>\n<pre><code>java.io.IOException: parseAlgParameters failed: \nObjectIdentifier() -- data isn't an object ID (tag = 48)\n</code></pre>\n<p>This was because my Dockerfile was from JDK 8</p>\n<p>After I downgraded my default IDE's JDK version to 8 I started getting the same error on my console.</p>\n<p>Fixed it by updating my JDK versions.</p>\n"}],"owner":{"account_id":13703581,"reputation":51,"user_id":9887926,"display_name":"Mastanvali Shaik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9820,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1694604603,"creation_date":1635406306,"question_id":69749925,"body_markdown":"In my one AWS EC2 server, I deployed three services [Auth, orders, Security]. I configured SSL for three services, The SSL is the same for three services, The Auth orders services working fine after doing some tunning, but the Security service has &#39;java.lang.IllegalArgumentException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)&#39; problem.\r\nMy Server has below **Java Version**:\r\nopenjdk version &quot;**1.8.0_302**&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_302-b08)\r\nOpenJDK 64-Bit Server VM (build 25.302-b08, mixed mode)\r\nI deployed my jar files from my windows PC, for my windows PC all three services working fine. but it&#39;s an issue with my AWS Centos server.\r\n\r\n\r\ninitially, I converted my .crt file to .p12 with Openssl3, that time all my three services has the above issue. So degraded my OpenSSL to the 1.1.1 version. then build my jars to AWS. So &#39;Auth&#39; and &#39;Order&#39; services are started working. but still am having issue in my security service.\r\nbelow is the pom.xml for authentication.\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.lc.auth&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;AuthenticationService&lt;/artifactId&gt;\r\n    \t&lt;version&gt;MVP-V2.0.0&lt;/version&gt;\r\n    \t&lt;name&gt;AuthenticationService&lt;/name&gt;\r\n    \t&lt;description&gt;Authentication Service&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \r\n    \t\t\t\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;version&gt;8.0.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.5.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\t\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.3.RELEASE&lt;/version&gt;\r\n         &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.nimbusds/nimbus-jose-jwt --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n        &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n        &lt;version&gt;7.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.imgscalr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;imgscalr-lib&lt;/artifactId&gt;\r\n        &lt;version&gt;4.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nbelow is the Auth application.properties file\r\n\r\n    server.port=8282\r\n    server.ssl.enabled=true\r\n    server.ssl.key-store: classpath:localhost.p12\r\n    server.ssl.key-store-password: XXXXXX08\r\n    server.ssl.keyStoreType: PKCS12\r\n    \r\n    \r\n    \r\n    \r\n    spring.datasource.url=jdbc:ipaddr:3306/db_authentications?useSSL=false\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=xxxx\r\n    \r\n    \r\n    spring.data.jdbc.repositories.enabled=false\r\n    spring.jpa.properties.hibernate.order_inserts=true\r\n    \r\n    spring.datasource.max-active=100 # advanced configuration...\r\n    spring.datasource.max-idle=100\r\n    spring.datasource.min-idle=8\r\n    spring.jpa.hibernate.use-new-id-generator-mappings=false\r\n    \r\n    spring.jpa.show-sql=false\r\n    spring.jpa.open-in-view=false\r\n    \r\n    \r\n    logging.level.org.springframework.web: DEBUG\r\n    logging.level.org.hibernate: ERROR\r\n    \r\n    \r\n    spring.main.banner-mode=off\r\n    \r\n    \r\n    #server.undertow.accesslog.enabled=true\r\n    #server.undertow.accesslog.dir=target/logs\r\n    #server.undertow.accesslog.pattern=combined\r\n    #server.compression.enabled=true\r\n    #server.compression.min-response-size=1\r\n    \r\n    \r\n    \r\n    # Enable response compression\r\n    server.compression.enabled=true\r\n    \r\n    # The comma-separated list of mime types that should be compressed\r\n    server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json\r\n    \r\n    # Compress the response only if the response size is at least 1KB\r\n    server.compression.min-response-size=1000\r\n    \r\n    # Enable HTTP/2 support, if the current environment supports it\r\n    server.http2.enabled=true\r\n    \r\n    # Maximum time the response should be cached (in seconds) \r\n    spring.resources.cache.cachecontrol.max-age=120\r\n    \r\n    # The cache must re-validate stale resources with the server. Any expired resources must not be used without re-validating.\r\n    spring.resources.cache.cachecontrol.must-revalidate=true\r\n    \r\n    # The resources are private and intended for a single user. They must not be stored by a shared cache (e.g CDN).\r\n    spring.resources.cache.cachecontrol.cache-private= false \r\n    \r\n    # The resources are public and any cache may store the response.\r\n    spring.resources.cache.cachecontrol.cache-public= true \r\n    \r\n    spring.servlet.multipart.enabled=true\r\n    \r\n    # Write files to disk if the file size is more than 2KB.\r\n    spring.servlet.multipart.file-size-threshold=2KB\r\n    \r\n    # The intermediate disk location where the uploaded files are written\r\n    spring.servlet.multipart.location=/tmp\r\n    \r\n    # Maximum file size that can be uploaded\r\n    spring.servlet.multipart.max-file-size=50MB\r\n    \r\n    # Maximum allowed multipart request size\r\n    spring.servlet.multipart.max-request-size=75MB\r\n    \r\n    spring.task.execution.pool.keep-alive = 60s\r\n    server.undertow.always-set-keep-alive = false\r\n\r\nbelow is Security Service pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.lc.inventory.security&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;LittleCarrotsInventorySecurityService&lt;/artifactId&gt;\r\n    \t&lt;version&gt;MVP-V2.0.0&lt;/version&gt;\r\n    \t&lt;name&gt;LittleCarrotsInventorySecurityService&lt;/name&gt;\r\n    \t&lt;description&gt;Little Carrots Inventory Security Service&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;!-- \r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    --&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; --&gt;\r\n    \t\t&lt;!-- &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; --&gt;\r\n    \t\t&lt;!-- &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt; --&gt;\r\n    \t\t&lt;!-- &lt;/dependency&gt; --&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.undertow/undertow-core --&gt;\r\n    \t\t&lt;!-- \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.undertow&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;undertow-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    --&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/io.undertow/undertow-servlet --&gt;\r\n    \t\t&lt;!-- \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.undertow&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;undertow-servlet&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.lettuce&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.5.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.nimbusds/nimbus-jose-jwt --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n        &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n        &lt;version&gt;7.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nbelow is Security service application.properties file\r\n\r\n    server.port= 8443\r\n    server.ssl.enabled=true\r\n    server.ssl.key-store: classpath:localhost.p12\r\n    server.ssl.key-store-password: xxxxx\r\n    server.ssl.keyStoreType: PKCS12\r\n    \r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration\r\n    \r\n    spring.h2.console.enabled=true\r\n    \r\n    \r\n    #LIVE DB URLS ENABLE ON MAIN STREAM\r\n    spring.datasource.url=jdbc:mysql://ipadr:3306/main_securityservice?useSSL=false\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=xxxx   \r\n   \r\n    \r\n    \r\n    spring.data.jdbc.repositories.enabled=false\r\n    spring.jpa.properties.hibernate.order_inserts=true\r\n    \r\n    spring.datasource.max-active=100 # advanced configuration...\r\n    spring.datasource.max-idle=100\r\n    spring.datasource.min-idle=8\r\n    spring.jpa.hibernate.use-new-id-generator-mappings=false\r\n    \r\n    spring.jpa.show-sql=false\r\n    spring.jpa.open-in-view=false\r\n    \r\n    \r\n    logging.level.org.springframework.web: DEBUG\r\n    logging.level.org.hibernate: ERROR\r\n    \r\n    \r\n    spring.main.banner-mode=off\r\n    \r\n    \r\n    \r\n    #server.undertow.accesslog.enabled=true\r\n    #server.undertow.accesslog.dir=target/logs\r\n    #server.undertow.accesslog.pattern=combined\r\n    #server.compression.enabled=true\r\n    #server.compression.min-response-size=1\r\n    \r\n    \r\n    \r\n    # Enable response compression\r\n    server.compression.enabled=true\r\n    \r\n    # The comma-separated list of mime types that should be compressed\r\n    server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json\r\n    \r\n    # Compress the response only if the response size is at least 1KB\r\n    server.compression.min-response-size=1000\r\n    \r\n    # Enable HTTP/2 support, if the current environment supports it\r\n    server.http2.enabled=true\r\n    \r\n    # Maximum time the response should be cached (in seconds) \r\n    spring.resources.cache.cachecontrol.max-age=120\r\n    \r\n    # The cache must re-validate stale resources with the server. Any expired resources must not be used without re-validating.\r\n    spring.resources.cache.cachecontrol.must-revalidate=false\r\n    \r\n    # The resources are private and intended for a single user. They must not be stored by a shared cache (e.g CDN).\r\n    spring.resources.cache.cachecontrol.cache-private= false \r\n    \r\n    # The resources are public and any cache may store the response.\r\n    spring.resources.cache.cachecontrol.cache-public= false \r\n    \r\n    spring.servlet.multipart.enabled=true\r\n    \r\n    # Write files to disk if the file size is more than 2KB.\r\n    spring.servlet.multipart.file-size-threshold=2KB\r\n    \r\n    # The intermediate disk location where the uploaded files are written\r\n    spring.servlet.multipart.location=/tmp\r\n    \r\n    # Maximum file size that can be uploaded\r\n    spring.servlet.multipart.max-file-size=50MB\r\n    \r\n    # Maximum allowed multipart request size\r\n    spring.servlet.multipart.max-request-size=75MB\r\n    \r\n    \r\n    spring.task.execution.pool.keep-alive = 60s\r\n    server.undertow.always-set-keep-alive = false\r\n    \r\n    server.undertow.eager-filter-init=true\r\n\r\n\r\nafter the some references I updated open jdk also but no solution, below is full exception details.\r\n\r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:185) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:53) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n            at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:360) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:158) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:122) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:894) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n            at com.lc.sk.inventory.security.SecurityServiceApplication.main(SecurityServiceApplication.java:15) [classes!/:MVP-V2.0.0]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302]\r\n            at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [SecurityService-MVP-V2.0.0.jar:MVP-V2.0.0]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:109) [SecurityService-MVP-V2.0.0.jar:MVP-V2.0.0]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [SecurityService-MVP-V2.0.0.jar:MVP-V2.0.0]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [SecurityService-MVP-V2.0.0.jar:MVP-V2.0.0]\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n            at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n            ... 22 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n            at org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n            ... 24 common frames omitted\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n            at org.apache.catalina.connector.Connector.startInternal(Connector.java:1058) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            ... 26 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)\r\n            at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:216) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1141) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:592) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.catalina.connector.Connector.startInternal(Connector.java:1055) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            ... 28 common frames omitted\r\n    Caused by: java.io.IOException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)\r\n            at sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:829) ~[na:1.8.0_302]\r\n            at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2037) ~[na:1.8.0_302]\r\n            at java.security.KeyStore.load(KeyStore.java:1445) ~[na:1.8.0_302]\r\n            at org.apache.tomcat.util.security.KeyStoreUtil.load(KeyStoreUtil.java:67) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:216) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:282) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:246) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\r\n            ... 34 common frames omitted\r\n    Caused by: java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)\r\n            at sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:285) ~[na:1.8.0_302]\r\n            at sun.security.util.DerInputStream.getOID(DerInputStream.java:320) ~[na:1.8.0_302]\r\n            at com.sun.crypto.provider.PBES2Parameters.engineInit(PBES2Parameters.java:267) ~[sunjce_provider.jar:1.8.0_302]\r\n            at java.security.AlgorithmParameters.init(AlgorithmParameters.java:293) ~[na:1.8.0_302]\r\n            at sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:825) ~[na:1.8.0_302]\r\n            ... 42 common frames omitted\r\n\r\n","title":"java.lang.IllegalArgumentException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)","body":"<p>In my one AWS EC2 server, I deployed three services [Auth, orders, Security]. I configured SSL for three services, The SSL is the same for three services, The Auth orders services working fine after doing some tunning, but the Security service has 'java.lang.IllegalArgumentException: parseAlgParameters failed: ObjectIdentifier() -- data isn't an object ID (tag = 48)' problem.\nMy Server has below <strong>Java Version</strong>:\nopenjdk version &quot;<strong>1.8.0_302</strong>&quot;\nOpenJDK Runtime Environment (build 1.8.0_302-b08)\nOpenJDK 64-Bit Server VM (build 25.302-b08, mixed mode)\nI deployed my jar files from my windows PC, for my windows PC all three services working fine. but it's an issue with my AWS Centos server.</p>\n<p>initially, I converted my .crt file to .p12 with Openssl3, that time all my three services has the above issue. So degraded my OpenSSL to the 1.1.1 version. then build my jars to AWS. So 'Auth' and 'Order' services are started working. but still am having issue in my security service.\nbelow is the pom.xml for authentication.</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.lc.auth&lt;/groupId&gt;\n    &lt;artifactId&gt;AuthenticationService&lt;/artifactId&gt;\n    &lt;version&gt;MVP-V2.0.0&lt;/version&gt;\n    &lt;name&gt;AuthenticationService&lt;/name&gt;\n    &lt;description&gt;Authentication Service&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n            \n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;version&gt;8.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;   \n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3.RELEASE&lt;/version&gt;\n     &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n            &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.nimbusds/nimbus-jose-jwt --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n    &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n    &lt;version&gt;7.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.imgscalr&lt;/groupId&gt;\n    &lt;artifactId&gt;imgscalr-lib&lt;/artifactId&gt;\n    &lt;version&gt;4.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>below is the Auth application.properties file</p>\n<pre><code>server.port=8282\nserver.ssl.enabled=true\nserver.ssl.key-store: classpath:localhost.p12\nserver.ssl.key-store-password: XXXXXX08\nserver.ssl.keyStoreType: PKCS12\n\n\n\n\nspring.datasource.url=jdbc:ipaddr:3306/db_authentications?useSSL=false\nspring.datasource.username=admin\nspring.datasource.password=xxxx\n\n\nspring.data.jdbc.repositories.enabled=false\nspring.jpa.properties.hibernate.order_inserts=true\n\nspring.datasource.max-active=100 # advanced configuration...\nspring.datasource.max-idle=100\nspring.datasource.min-idle=8\nspring.jpa.hibernate.use-new-id-generator-mappings=false\n\nspring.jpa.show-sql=false\nspring.jpa.open-in-view=false\n\n\nlogging.level.org.springframework.web: DEBUG\nlogging.level.org.hibernate: ERROR\n\n\nspring.main.banner-mode=off\n\n\n#server.undertow.accesslog.enabled=true\n#server.undertow.accesslog.dir=target/logs\n#server.undertow.accesslog.pattern=combined\n#server.compression.enabled=true\n#server.compression.min-response-size=1\n\n\n\n# Enable response compression\nserver.compression.enabled=true\n\n# The comma-separated list of mime types that should be compressed\nserver.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json\n\n# Compress the response only if the response size is at least 1KB\nserver.compression.min-response-size=1000\n\n# Enable HTTP/2 support, if the current environment supports it\nserver.http2.enabled=true\n\n# Maximum time the response should be cached (in seconds) \nspring.resources.cache.cachecontrol.max-age=120\n\n# The cache must re-validate stale resources with the server. Any expired resources must not be used without re-validating.\nspring.resources.cache.cachecontrol.must-revalidate=true\n\n# The resources are private and intended for a single user. They must not be stored by a shared cache (e.g CDN).\nspring.resources.cache.cachecontrol.cache-private= false \n\n# The resources are public and any cache may store the response.\nspring.resources.cache.cachecontrol.cache-public= true \n\nspring.servlet.multipart.enabled=true\n\n# Write files to disk if the file size is more than 2KB.\nspring.servlet.multipart.file-size-threshold=2KB\n\n# The intermediate disk location where the uploaded files are written\nspring.servlet.multipart.location=/tmp\n\n# Maximum file size that can be uploaded\nspring.servlet.multipart.max-file-size=50MB\n\n# Maximum allowed multipart request size\nspring.servlet.multipart.max-request-size=75MB\n\nspring.task.execution.pool.keep-alive = 60s\nserver.undertow.always-set-keep-alive = false\n</code></pre>\n<p>below is Security Service pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.lc.inventory.security&lt;/groupId&gt;\n    &lt;artifactId&gt;LittleCarrotsInventorySecurityService&lt;/artifactId&gt;\n    &lt;version&gt;MVP-V2.0.0&lt;/version&gt;\n    &lt;name&gt;LittleCarrotsInventorySecurityService&lt;/name&gt;\n    &lt;description&gt;Little Carrots Inventory Security Service&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;!-- \n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n--&gt;\n\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt; --&gt;\n        &lt;!-- &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; --&gt;\n        &lt;!-- &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt; --&gt;\n        &lt;!-- &lt;/dependency&gt; --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.undertow/undertow-core --&gt;\n        &lt;!-- \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.undertow&lt;/groupId&gt;\n            &lt;artifactId&gt;undertow-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n--&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.undertow/undertow-servlet --&gt;\n        &lt;!-- \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.undertow&lt;/groupId&gt;\n            &lt;artifactId&gt;undertow-servlet&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.lettuce&lt;/groupId&gt;\n            &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose --&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.nimbusds/nimbus-jose-jwt --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n    &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n    &lt;version&gt;7.9&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n                &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.11.3&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>below is Security service application.properties file</p>\n<pre><code>server.port= 8443\nserver.ssl.enabled=true\nserver.ssl.key-store: classpath:localhost.p12\nserver.ssl.key-store-password: xxxxx\nserver.ssl.keyStoreType: PKCS12\n\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration\n\nspring.h2.console.enabled=true\n\n\n#LIVE DB URLS ENABLE ON MAIN STREAM\nspring.datasource.url=jdbc:mysql://ipadr:3306/main_securityservice?useSSL=false\nspring.datasource.username=admin\nspring.datasource.password=xxxx   \n\n\n\nspring.data.jdbc.repositories.enabled=false\nspring.jpa.properties.hibernate.order_inserts=true\n\nspring.datasource.max-active=100 # advanced configuration...\nspring.datasource.max-idle=100\nspring.datasource.min-idle=8\nspring.jpa.hibernate.use-new-id-generator-mappings=false\n\nspring.jpa.show-sql=false\nspring.jpa.open-in-view=false\n\n\nlogging.level.org.springframework.web: DEBUG\nlogging.level.org.hibernate: ERROR\n\n\nspring.main.banner-mode=off\n\n\n\n#server.undertow.accesslog.enabled=true\n#server.undertow.accesslog.dir=target/logs\n#server.undertow.accesslog.pattern=combined\n#server.compression.enabled=true\n#server.compression.min-response-size=1\n\n\n\n# Enable response compression\nserver.compression.enabled=true\n\n# The comma-separated list of mime types that should be compressed\nserver.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json\n\n# Compress the response only if the response size is at least 1KB\nserver.compression.min-response-size=1000\n\n# Enable HTTP/2 support, if the current environment supports it\nserver.http2.enabled=true\n\n# Maximum time the response should be cached (in seconds) \nspring.resources.cache.cachecontrol.max-age=120\n\n# The cache must re-validate stale resources with the server. Any expired resources must not be used without re-validating.\nspring.resources.cache.cachecontrol.must-revalidate=false\n\n# The resources are private and intended for a single user. They must not be stored by a shared cache (e.g CDN).\nspring.resources.cache.cachecontrol.cache-private= false \n\n# The resources are public and any cache may store the response.\nspring.resources.cache.cachecontrol.cache-public= false \n\nspring.servlet.multipart.enabled=true\n\n# Write files to disk if the file size is more than 2KB.\nspring.servlet.multipart.file-size-threshold=2KB\n\n# The intermediate disk location where the uploaded files are written\nspring.servlet.multipart.location=/tmp\n\n# Maximum file size that can be uploaded\nspring.servlet.multipart.max-file-size=50MB\n\n# Maximum allowed multipart request size\nspring.servlet.multipart.max-request-size=75MB\n\n\nspring.task.execution.pool.keep-alive = 60s\nserver.undertow.always-set-keep-alive = false\n\nserver.undertow.eager-filter-init=true\n</code></pre>\n<p>after the some references I updated open jdk also but no solution, below is full exception details.</p>\n<pre><code>org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:185) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:53) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:360) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:158) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:122) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:894) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at com.lc.sk.inventory.security.SecurityServiceApplication.main(SecurityServiceApplication.java:15) [classes!/:MVP-V2.0.0]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [SecurityService-MVP-V2.0.0.jar:MVP-V2.0.0]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:109) [SecurityService-MVP-V2.0.0.jar:MVP-V2.0.0]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [SecurityService-MVP-V2.0.0.jar:MVP-V2.0.0]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [SecurityService-MVP-V2.0.0.jar:MVP-V2.0.0]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        ... 22 common frames omitted\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:231) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        ... 24 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1058) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        ... 26 common frames omitted\nCaused by: java.lang.IllegalArgumentException: parseAlgParameters failed: ObjectIdentifier() -- data isn't an object ID (tag = 48)\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:216) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1141) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1227) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:592) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.catalina.connector.Connector.startInternal(Connector.java:1055) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        ... 28 common frames omitted\nCaused by: java.io.IOException: parseAlgParameters failed: ObjectIdentifier() -- data isn't an object ID (tag = 48)\n        at sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:829) ~[na:1.8.0_302]\n        at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2037) ~[na:1.8.0_302]\n        at java.security.KeyStore.load(KeyStore.java:1445) ~[na:1.8.0_302]\n        at org.apache.tomcat.util.security.KeyStoreUtil.load(KeyStoreUtil.java:67) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:216) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:282) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:246) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.35.jar!/:9.0.35]\n        ... 34 common frames omitted\nCaused by: java.io.IOException: ObjectIdentifier() -- data isn't an object ID (tag = 48)\n        at sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:285) ~[na:1.8.0_302]\n        at sun.security.util.DerInputStream.getOID(DerInputStream.java:320) ~[na:1.8.0_302]\n        at com.sun.crypto.provider.PBES2Parameters.engineInit(PBES2Parameters.java:267) ~[sunjce_provider.jar:1.8.0_302]\n        at java.security.AlgorithmParameters.init(AlgorithmParameters.java:293) ~[na:1.8.0_302]\n        at sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:825) ~[na:1.8.0_302]\n        ... 42 common frames omitted\n</code></pre>\n"},{"tags":["java","swing","jcombobox"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694577891,"creation_date":1694577891,"answer_id":77093986,"question_id":77093538,"body_markdown":"This is controlled by the renderer. \r\n\r\nThe selected item is renderered when the index passed to the renderer is -1. \r\n\r\nYou can create a custom renderer and change the alignment of the text based on the index:\r\n\r\n    import java.awt.Component;\r\n    import javax.swing.*;\r\n    import javax.swing.plaf.basic.BasicComboBoxRenderer;\r\n    \r\n    public class ComboRenderer\r\n    {\r\n       public void makeUI()\r\n       {\r\n          JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;(new String[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;});\r\n    \r\n          comboBox.setRenderer(new BasicComboBoxRenderer()\r\n          {\r\n             @Override\r\n             public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus)\r\n             {\r\n                super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\r\n    \r\n    \t\t\tsetHorizontalAlignment( index == -1 ? JLabel.CENTER : JLabel.LEFT );\r\n    \r\n                return this;\r\n             }\r\n          });\r\n    \r\n          JFrame frame = new JFrame();\r\n          frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n          frame.add(comboBox);\r\n          frame.pack();\r\n          frame.setLocationRelativeTo(null);\r\n          frame.setVisible(true);\r\n       }\r\n    \r\n       public static void main(String[] args)\r\n       {\r\n          SwingUtilities.invokeLater(() -&gt; new ComboRenderer().makeUI() );\r\n       }\r\n    }\r\n\r\n","title":"Is there a way to center only the selected item in a JComboBox (so keep all items in the combo box left-aligned)","body":"<p>This is controlled by the renderer.</p>\n<p>The selected item is renderered when the index passed to the renderer is -1.</p>\n<p>You can create a custom renderer and change the alignment of the text based on the index:</p>\n<pre><code>import java.awt.Component;\nimport javax.swing.*;\nimport javax.swing.plaf.basic.BasicComboBoxRenderer;\n\npublic class ComboRenderer\n{\n   public void makeUI()\n   {\n      JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;(new String[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;});\n\n      comboBox.setRenderer(new BasicComboBoxRenderer()\n      {\n         @Override\n         public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus)\n         {\n            super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n\n            setHorizontalAlignment( index == -1 ? JLabel.CENTER : JLabel.LEFT );\n\n            return this;\n         }\n      });\n\n      JFrame frame = new JFrame();\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      frame.add(comboBox);\n      frame.pack();\n      frame.setLocationRelativeTo(null);\n      frame.setVisible(true);\n   }\n\n   public static void main(String[] args)\n   {\n      SwingUtilities.invokeLater(() -&gt; new ComboRenderer().makeUI() );\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":3103572,"reputation":13,"user_id":11817012,"display_name":"Chiselled"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77093986,"answer_count":1,"score":1,"last_activity_date":1694604548,"creation_date":1694568586,"question_id":77093538,"body_markdown":"I know there is a simple way to center all the items in the JComboBox, but i have searched StackOverflow and across the web and there is no talk about how to center the selected item only.\r\n\r\nTo make it clear, when I select an item from the combo box, this box closes the list and shows the selected item only. It is this item I want centered.\r\n\r\nIs there a way to do it?\r\n","title":"Is there a way to center only the selected item in a JComboBox (so keep all items in the combo box left-aligned)","body":"<p>I know there is a simple way to center all the items in the JComboBox, but i have searched StackOverflow and across the web and there is no talk about how to center the selected item only.</p>\n<p>To make it clear, when I select an item from the combo box, this box closes the list and shows the selected item only. It is this item I want centered.</p>\n<p>Is there a way to do it?</p>\n"},{"tags":["java","compilation","webassembly","opa","rego"],"owner":{"account_id":29430079,"reputation":1,"user_id":22549958,"display_name":"Bhaskar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694603963,"creation_date":1694600710,"question_id":77096220,"body_markdown":"Is there a way to compile the rego file used by OPA into WASM using Java?\r\n\r\nCurrently I&#39;m using the following command to compile a rego policy into WASM and bundling it with data into a gz file\r\n\r\n```bash\r\n./opa build -t wasm -o ../out/bundle.tar.gz -e example/allowed policy.rego data.json\r\n```\r\n\r\nI&#39;m using kawamuray library to evaluate the policies contained in wasm file.\r\n\r\n\r\n\r\n\r\n```\r\n// This is the relevant code..\r\n// I  want to pass the rego policy file name in place of gzBundleName\r\n// then compile it into wasm and carry on the rest of program as such\r\n\r\npublic static void executePolicy(String gzBundleName, String user) {\r\n    try {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        Bundle bundle = BundleUtil.extractBundle(gzBundleName);\r\n\r\n        try (OPAModule om = new OPAModule(bundle)) {\r\n            String valueString = om.evaluate(user, entry_point);\r\n\r\n            JsonNode _evaluation = objectMapper.readTree(valueString);\r\n\r\n            logger.info(&quot;evaluation result :&quot;+ _evaluation.get(0).get(&quot;result&quot;));\r\n        }\r\n    } catch (IOException e) {\r\n        logger.warn(&quot;failure&quot;, e);\r\n    }\r\n}\r\n```","title":"How to compile rego file into WASM using Java?","body":"<p>Is there a way to compile the rego file used by OPA into WASM using Java?</p>\n<p>Currently I'm using the following command to compile a rego policy into WASM and bundling it with data into a gz file</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./opa build -t wasm -o ../out/bundle.tar.gz -e example/allowed policy.rego data.json\n</code></pre>\n<p>I'm using kawamuray library to evaluate the policies contained in wasm file.</p>\n<pre><code>// This is the relevant code..\n// I  want to pass the rego policy file name in place of gzBundleName\n// then compile it into wasm and carry on the rest of program as such\n\npublic static void executePolicy(String gzBundleName, String user) {\n    try {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        Bundle bundle = BundleUtil.extractBundle(gzBundleName);\n\n        try (OPAModule om = new OPAModule(bundle)) {\n            String valueString = om.evaluate(user, entry_point);\n\n            JsonNode _evaluation = objectMapper.readTree(valueString);\n\n            logger.info(&quot;evaluation result :&quot;+ _evaluation.get(0).get(&quot;result&quot;));\n        }\n    } catch (IOException e) {\n        logger.warn(&quot;failure&quot;, e);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","camunda"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1693878494,"post_id":77041170,"comment_id":135814301,"body_markdown":"Are you in the client or Server?","body":"Are you in the client or Server?"},{"owner":{"account_id":16909501,"reputation":21,"user_id":12228932,"display_name":"Sonam"},"score":0,"creation_date":1694026827,"post_id":77041170,"comment_id":135838754,"body_markdown":"This is on the server side java application, to be specific in spring boot.","body":"This is on the server side java application, to be specific in spring boot."}],"answers":[{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694602393,"creation_date":1694602393,"answer_id":77096402,"question_id":77041170,"body_markdown":"You can use the SetVariablesRequest on the engine / zeebe API\r\nhttps://docs.camunda.io/docs/apis-tools/grpc/#setvariables-rpc\r\n\r\nSince you probably don&#39;t want to use gRPC, you can use the client library of choice. For Java you can use \r\nhttps://docs.camunda.io/docs/apis-tools/java-client/, which is documented here:  \r\nhttps://javadoc.io/doc/io.camunda/zeebe-client-java  \r\nor the Spring Boot Wrapper for it here:  \r\nhttps://github.com/camunda-community-hub/spring-zeebe/\r\n\r\nTry something along those lines:\r\n  \r\n\r\n    @Autowired\r\n    private ZeebeClient client;\r\n    \r\n    public void updateVar(Long elementInstanceKey)\r\n    {\r\n       client.newSetVariablesCommand(elementInstanceKey).variables(Map.of(&quot;a&quot;,&quot;aval&quot;,&quot;b&quot;,&quot;bval&quot;)).send().join();\r\n    }\r\n\r\n","title":"How to update process variables during run time in Camunda 8?","body":"<p>You can use the SetVariablesRequest on the engine / zeebe API\n<a href=\"https://docs.camunda.io/docs/apis-tools/grpc/#setvariables-rpc\" rel=\"nofollow noreferrer\">https://docs.camunda.io/docs/apis-tools/grpc/#setvariables-rpc</a></p>\n<p>Since you probably don't want to use gRPC, you can use the client library of choice. For Java you can use\n<a href=\"https://docs.camunda.io/docs/apis-tools/java-client/\" rel=\"nofollow noreferrer\">https://docs.camunda.io/docs/apis-tools/java-client/</a>, which is documented here:<br />\n<a href=\"https://javadoc.io/doc/io.camunda/zeebe-client-java\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/io.camunda/zeebe-client-java</a><br />\nor the Spring Boot Wrapper for it here:<br />\n<a href=\"https://github.com/camunda-community-hub/spring-zeebe/\" rel=\"nofollow noreferrer\">https://github.com/camunda-community-hub/spring-zeebe/</a></p>\n<p>Try something along those lines:</p>\n<pre><code>@Autowired\nprivate ZeebeClient client;\n\npublic void updateVar(Long elementInstanceKey)\n{\n   client.newSetVariablesCommand(elementInstanceKey).variables(Map.of(&quot;a&quot;,&quot;aval&quot;,&quot;b&quot;,&quot;bval&quot;)).send().join();\n}\n</code></pre>\n"}],"owner":{"account_id":16909501,"reputation":21,"user_id":12228932,"display_name":"Sonam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694603924,"creation_date":1693874703,"question_id":77041170,"body_markdown":"How to update process variables during run time in Camunda 8 in the Java logic? Below is a way to do it in camunda 7 , I am looking for camunda 8 equivalent for the same.\r\n\r\n```\r\n\tList processInstances =\r\n\t\t\truntimeService.createProcessInstanceQuery()\r\n\t\t\t.processDefinitionKey(processKey)\r\n\t\t\t.active()\r\n\t\t\t.list();\r\n\tprocessInstances.forEach(processInstance -&gt; {\r\n\t\tList executions = runtimeService.createExecutionQuery()\r\n\t\t\t\t.processInstanceId(processInstance.getId())\r\n\t\t\t\t.list();\r\n\t\texecutions.forEach(execution -&gt; {\r\n\t\t\truntimeService.setVariable(execution.getId(), variableName, variableValue);\r\n\t\t});\r\n\t});\r\n```\r\n\r\nCould not find a way to update process instance variables during run time.","title":"How to update process variables during run time in Camunda 8?","body":"<p>How to update process variables during run time in Camunda 8 in the Java logic? Below is a way to do it in camunda 7 , I am looking for camunda 8 equivalent for the same.</p>\n<pre><code>    List processInstances =\n            runtimeService.createProcessInstanceQuery()\n            .processDefinitionKey(processKey)\n            .active()\n            .list();\n    processInstances.forEach(processInstance -&gt; {\n        List executions = runtimeService.createExecutionQuery()\n                .processInstanceId(processInstance.getId())\n                .list();\n        executions.forEach(execution -&gt; {\n            runtimeService.setVariable(execution.getId(), variableName, variableValue);\n        });\n    });\n</code></pre>\n<p>Could not find a way to update process instance variables during run time.</p>\n"},{"tags":["java","jax-rs","openapi","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1104235,"reputation":57,"user_id":1095990,"display_name":"Wieland Gmeiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694603823,"creation_date":1694603823,"answer_id":77096585,"question_id":77081483,"body_markdown":"Well it kinda works with in the pom.xml\r\n\r\n    &lt;typeMappings&gt;\r\n        &lt;typeMapping&gt;MyExternalTypeToMap=path.to.external.type.that.should.be.mapped.MyExternalTypeToMap&lt;/typeMapping&gt;\r\n    &lt;/typeMappings&gt;\r\n\r\nand in the schema yaml\r\n\r\n    myExternalTypeToMap:\r\n      x-field-extra-annotation: &#39;@JsonIgnore&#39;\r\n      type: MyExternalTypeToMap\r\n    \r\nwhat compiles to\r\n\r\n    @JsonIgnore\r\n    private @Valid path.to.external.type.that.should.be.mapped.MyExternalTypeToMap myExternalTypeToMap = null;\r\n\r\nwhat is good enough for the moment. Would like to get rid of the null initialization though.\r\n\r\n","title":"Howto map a given external type with Openapi codegen into a generated model class","body":"<p>Well it kinda works with in the pom.xml</p>\n<pre><code>&lt;typeMappings&gt;\n    &lt;typeMapping&gt;MyExternalTypeToMap=path.to.external.type.that.should.be.mapped.MyExternalTypeToMap&lt;/typeMapping&gt;\n&lt;/typeMappings&gt;\n</code></pre>\n<p>and in the schema yaml</p>\n<pre><code>myExternalTypeToMap:\n  x-field-extra-annotation: '@JsonIgnore'\n  type: MyExternalTypeToMap\n</code></pre>\n<p>what compiles to</p>\n<pre><code>@JsonIgnore\nprivate @Valid path.to.external.type.that.should.be.mapped.MyExternalTypeToMap myExternalTypeToMap = null;\n</code></pre>\n<p>what is good enough for the moment. Would like to get rid of the null initialization though.</p>\n"}],"owner":{"account_id":1104235,"reputation":57,"user_id":1095990,"display_name":"Wieland Gmeiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77096585,"answer_count":1,"score":0,"last_activity_date":1694603823,"creation_date":1694434043,"question_id":77081483,"body_markdown":"I&#39;m using Openapi 3.0.3 with openapi-generator-maven-plugin 6.6.0 and the jaxrs-spec generator.\r\n\r\nI have to map a given type external to the API from a given external library in my schema definition, I tried with ```x-implements``` like:\r\n\r\n    myExternalTypeToMap:\r\n        x-implements: &#39;path.to.external.type.that.should.be.mapped.MyExternalTypeToMap&#39;\r\n        x-field-extra-annotation: &#39;@JsonIgnore&#39;\r\n\r\nbut that gets mapped into the generated model class like this:\r\n\r\n    @JsonIgnore\r\n    private @Valid Object myExternalTypeToMap = null;\r\n\r\nHow can I get a mapping to:\r\n\r\n    @JsonIgnore\r\n    private @Valid path.to.external.type.that.should.be.mapped.MyExternalTypeToMap myExternalTypeToMap;\r\n\r\nin my generated model class?\r\n","title":"Howto map a given external type with Openapi codegen into a generated model class","body":"<p>I'm using Openapi 3.0.3 with openapi-generator-maven-plugin 6.6.0 and the jaxrs-spec generator.</p>\n<p>I have to map a given type external to the API from a given external library in my schema definition, I tried with <code>x-implements</code> like:</p>\n<pre><code>myExternalTypeToMap:\n    x-implements: 'path.to.external.type.that.should.be.mapped.MyExternalTypeToMap'\n    x-field-extra-annotation: '@JsonIgnore'\n</code></pre>\n<p>but that gets mapped into the generated model class like this:</p>\n<pre><code>@JsonIgnore\nprivate @Valid Object myExternalTypeToMap = null;\n</code></pre>\n<p>How can I get a mapping to:</p>\n<pre><code>@JsonIgnore\nprivate @Valid path.to.external.type.that.should.be.mapped.MyExternalTypeToMap myExternalTypeToMap;\n</code></pre>\n<p>in my generated model class?</p>\n"},{"tags":["java","spring","spring-data","single-page-application","spring-data-jdbc"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651753052,"creation_date":1651753052,"answer_id":72127049,"question_id":72021391,"body_markdown":"You&#39;ll have to define a custom query in a `@Query` annotation.","title":"Spring Repository query by multi-valued property","body":"<p>You'll have to define a custom query in a <code>@Query</code> annotation.</p>\n"}],"owner":{"account_id":6424186,"reputation":113,"user_id":4979944,"accept_rate":83,"display_name":"Jo&#227;o Elvas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72127049,"answer_count":1,"score":1,"last_activity_date":1694603485,"creation_date":1651013473,"question_id":72021391,"body_markdown":"Trying to solve a problem where I have a class Student.\r\n\r\n```\r\npublic class Student {\r\n    @Id\r\n    UUID id;\r\n    String name;\r\n    Long year;\r\n    List&lt;Attribute&gt; attributes;\r\n}\r\n```\r\n\r\nAnd a class Attribute\r\n\r\n```\r\npublic class Attribute {\r\n    @Id\r\n    private UUID id;\r\n    private String field;\r\n    private String value;\r\n}\r\n```\r\n\r\nNow I wanna search by year and by a list of attributes.\r\n\r\n```\r\npublic interface StudentRepository extends PagingAndSortingRepository&lt;Student, UUID&gt; {\r\n    Page&lt;Student&gt; findStudentByYearAndAttributesIn(Long year, List&lt;Attribute&gt; attributes, Pageable pageable);\r\n}\r\n```\r\n\r\n\r\n\r\nA possible search would be to look for all the students from the year 2000 who had brown or blond hair or brown or blue eyes.\r\n\r\n```\r\n{\r\n  &quot;hair&quot; : [&quot;brown&quot;,&quot;blonde&quot;],\r\n  &quot;eyes&quot; : [&quot;brown&quot;,&quot;blue&quot;]\r\n}\r\n```\r\n\r\n\r\nWhen I try to run this project I get an error\r\n\r\n```\r\nError creating bean with name &#39;studentRepository&#39; defined in com.example.StudentRepository defined in @EnableJdbcRepositories declared on Application: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Cannot query by multi-valued property: attributes; nested exception is java.lang.IllegalArgumentException: Cannot query by multi-valued property: attributes\r\n```\r\n\r\nHow can I query for this **multi-valued properties**?","title":"Spring Repository query by multi-valued property","body":"<p>Trying to solve a problem where I have a class Student.</p>\n<pre><code>public class Student {\n    @Id\n    UUID id;\n    String name;\n    Long year;\n    List&lt;Attribute&gt; attributes;\n}\n</code></pre>\n<p>And a class Attribute</p>\n<pre><code>public class Attribute {\n    @Id\n    private UUID id;\n    private String field;\n    private String value;\n}\n</code></pre>\n<p>Now I wanna search by year and by a list of attributes.</p>\n<pre><code>public interface StudentRepository extends PagingAndSortingRepository&lt;Student, UUID&gt; {\n    Page&lt;Student&gt; findStudentByYearAndAttributesIn(Long year, List&lt;Attribute&gt; attributes, Pageable pageable);\n}\n</code></pre>\n<p>A possible search would be to look for all the students from the year 2000 who had brown or blond hair or brown or blue eyes.</p>\n<pre><code>{\n  &quot;hair&quot; : [&quot;brown&quot;,&quot;blonde&quot;],\n  &quot;eyes&quot; : [&quot;brown&quot;,&quot;blue&quot;]\n}\n</code></pre>\n<p>When I try to run this project I get an error</p>\n<pre><code>Error creating bean with name 'studentRepository' defined in com.example.StudentRepository defined in @EnableJdbcRepositories declared on Application: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Cannot query by multi-valued property: attributes; nested exception is java.lang.IllegalArgumentException: Cannot query by multi-valued property: attributes\n</code></pre>\n<p>How can I query for this <strong>multi-valued properties</strong>?</p>\n"},{"tags":["java","android","docker","alpine-linux","aapt"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301814,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694100945,"creation_date":1694100945,"answer_id":77061009,"question_id":76967738,"body_markdown":"Since [AAPT2 (Android Asset Packaging Tool)](https://developer.android.com/tools/aapt2) is part of the [Android SDK Build-Tools](https://developer.android.com/tools/releases/build-tools), which is a component of the [Android SDK](https://en.wikipedia.org/wiki/Android_SDK)... adding that to your Dockerfile should help.  \r\nI will be using [android-sdk-cmdline-tools-offline](https://androidsdkoffline.blogspot.com/p/android-sdk-cmdline-tools-offline.html).\r\n\r\n```dockerfile\r\n# Use a base image\r\nFROM maven:3.8.6-eclipse-temurin-19-alpine as build\r\n\r\n# Set environment variables\r\nENV ANDROID_SDK_ROOT /usr/local/android-sdk\r\nENV BUILD_TOOLS_VERSION 34.0.0\r\nENV CMDLINE_TOOLS_VERSION 9644228\r\n\r\n# Install dependencies\r\nRUN apk update &amp;&amp; \\\r\n    apk add --no-cache wget unzip\r\n\r\n# Download and extract Android SDK command-line tools\r\nRUN wget https://dl.google.com/android/repository/commandlinetools-linux-${CMDLINE_TOOLS_VERSION}_latest.zip -O sdk-tools.zip &amp;&amp; \\\r\n    mkdir -p ${ANDROID_SDK_ROOT}/cmdline-tools &amp;&amp; \\\r\n    unzip sdk-tools.zip -d ${ANDROID_SDK_ROOT}/cmdline-tools/ &amp;&amp; \\\r\n    mv ${ANDROID_SDK_ROOT}/cmdline-tools/cmdline-tools ${ANDROID_SDK_ROOT}/cmdline-tools/latest &amp;&amp; \\\r\n    rm sdk-tools.zip\r\n\r\n# Add the Android SDK tools to the PATH\r\nENV PATH ${PATH}:${ANDROID_SDK_ROOT}/cmdline-tools/latest/bin\r\n\r\n# Install the Android Build Tools\r\nRUN yes | sdkmanager &quot;build-tools;${BUILD_TOOLS_VERSION}&quot;\r\n\r\n# Copy your project files\r\nCOPY src /home/app/src\r\nCOPY pom.xml /home/app\r\n\r\n# Build your project\r\nRUN mvn -f /home/app/pom.xml clean package\r\n\r\n# Setup the runtime stage\r\nFROM eclipse-temurin:19-jdk-alpine\r\n\r\n# Set environment variables\r\nENV ANDROID_SDK_ROOT /usr/local/android-sdk\r\nENV BUILD_TOOLS_VERSION 34.0.0\r\n\r\n# Install Android Build-Tools\r\nCOPY --from=build ${ANDROID_SDK_ROOT} ${ANDROID_SDK_ROOT}\r\n\r\n# Add the Android SDK tools to the PATH\r\nENV PATH ${PATH}:${ANDROID_SDK_ROOT}/cmdline-tools/latest/bin:${ANDROID_SDK_ROOT}/build-tools/${BUILD_TOOLS_VERSION}\r\n\r\n# Setup a volume\r\nVOLUME /tmp\r\n\r\n# Copy the built jar file\r\nCOPY --from=build /home/app/target/*.jar /project.jar\r\n\r\n# Set the entry point for your container\r\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar /project.jar&quot;]\r\n```\r\n\r\nI added the environment variables (`ANDROID_SDK_ROOT`, `BUILD_TOOLS_VERSION` and `CMDLINE_TOOLS_VERSION`) to make it easier to reference the Android SDK root path and the build tools version. And I installed `wget` and `unzip` to download and extract the Android SDK command-line tools.\r\n\r\nThat way, I can download and extract the Android SDK command-line tools to the specified `ANDROID_SDK_ROOT`, adding Android SDK cmdline-tools bin directory to the PATH.  \r\nI used the `sdkmanager` to install the Android Build-Tools of the specified version (adjust `BUILD_TOOLS_VERSION` and `CMDLINE_TOOLS_VERSION` as necessary).\r\n\r\nIn the runtime stage, I copied the entire Android SDK installation from the build stage to ensure that `aapt` and other build tools are available in the runtime environment. And I added the build-tools directory to the PATH to make the `aapt` executable available in the PATH in your runtime container.\r\n","title":"Trouble Executing AAPT Commands Inside Docker Container","body":"<p>Since <a href=\"https://developer.android.com/tools/aapt2\" rel=\"nofollow noreferrer\">AAPT2 (Android Asset Packaging Tool)</a> is part of the <a href=\"https://developer.android.com/tools/releases/build-tools\" rel=\"nofollow noreferrer\">Android SDK Build-Tools</a>, which is a component of the <a href=\"https://en.wikipedia.org/wiki/Android_SDK\" rel=\"nofollow noreferrer\">Android SDK</a>... adding that to your Dockerfile should help.<br />\nI will be using <a href=\"https://androidsdkoffline.blogspot.com/p/android-sdk-cmdline-tools-offline.html\" rel=\"nofollow noreferrer\">android-sdk-cmdline-tools-offline</a>.</p>\n<pre><code># Use a base image\nFROM maven:3.8.6-eclipse-temurin-19-alpine as build\n\n# Set environment variables\nENV ANDROID_SDK_ROOT /usr/local/android-sdk\nENV BUILD_TOOLS_VERSION 34.0.0\nENV CMDLINE_TOOLS_VERSION 9644228\n\n# Install dependencies\nRUN apk update &amp;&amp; \\\n    apk add --no-cache wget unzip\n\n# Download and extract Android SDK command-line tools\nRUN wget https://dl.google.com/android/repository/commandlinetools-linux-${CMDLINE_TOOLS_VERSION}_latest.zip -O sdk-tools.zip &amp;&amp; \\\n    mkdir -p ${ANDROID_SDK_ROOT}/cmdline-tools &amp;&amp; \\\n    unzip sdk-tools.zip -d ${ANDROID_SDK_ROOT}/cmdline-tools/ &amp;&amp; \\\n    mv ${ANDROID_SDK_ROOT}/cmdline-tools/cmdline-tools ${ANDROID_SDK_ROOT}/cmdline-tools/latest &amp;&amp; \\\n    rm sdk-tools.zip\n\n# Add the Android SDK tools to the PATH\nENV PATH ${PATH}:${ANDROID_SDK_ROOT}/cmdline-tools/latest/bin\n\n# Install the Android Build Tools\nRUN yes | sdkmanager &quot;build-tools;${BUILD_TOOLS_VERSION}&quot;\n\n# Copy your project files\nCOPY src /home/app/src\nCOPY pom.xml /home/app\n\n# Build your project\nRUN mvn -f /home/app/pom.xml clean package\n\n# Setup the runtime stage\nFROM eclipse-temurin:19-jdk-alpine\n\n# Set environment variables\nENV ANDROID_SDK_ROOT /usr/local/android-sdk\nENV BUILD_TOOLS_VERSION 34.0.0\n\n# Install Android Build-Tools\nCOPY --from=build ${ANDROID_SDK_ROOT} ${ANDROID_SDK_ROOT}\n\n# Add the Android SDK tools to the PATH\nENV PATH ${PATH}:${ANDROID_SDK_ROOT}/cmdline-tools/latest/bin:${ANDROID_SDK_ROOT}/build-tools/${BUILD_TOOLS_VERSION}\n\n# Setup a volume\nVOLUME /tmp\n\n# Copy the built jar file\nCOPY --from=build /home/app/target/*.jar /project.jar\n\n# Set the entry point for your container\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar /project.jar&quot;]\n</code></pre>\n<p>I added the environment variables (<code>ANDROID_SDK_ROOT</code>, <code>BUILD_TOOLS_VERSION</code> and <code>CMDLINE_TOOLS_VERSION</code>) to make it easier to reference the Android SDK root path and the build tools version. And I installed <code>wget</code> and <code>unzip</code> to download and extract the Android SDK command-line tools.</p>\n<p>That way, I can download and extract the Android SDK command-line tools to the specified <code>ANDROID_SDK_ROOT</code>, adding Android SDK cmdline-tools bin directory to the PATH.<br />\nI used the <code>sdkmanager</code> to install the Android Build-Tools of the specified version (adjust <code>BUILD_TOOLS_VERSION</code> and <code>CMDLINE_TOOLS_VERSION</code> as necessary).</p>\n<p>In the runtime stage, I copied the entire Android SDK installation from the build stage to ensure that <code>aapt</code> and other build tools are available in the runtime environment. And I added the build-tools directory to the PATH to make the <code>aapt</code> executable available in the PATH in your runtime container.</p>\n"},{"tags":[],"owner":{"account_id":12694317,"reputation":1,"user_id":9223264,"display_name":"Jaspalsinh Gohil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694600408,"creation_date":1694600408,"answer_id":77096179,"question_id":76967738,"body_markdown":"to get the AAPT executable in the container is \r\n\r\n&gt; android-sdk-cmdline-tools\r\n\r\n. The \r\n\r\n&gt; android-tools\r\n\r\n package only includes the ADB executable.\r\nTo fix your Dockerfile, you can change the apk add command to the following:\r\n\r\n    apk add -v --no-cache android-sdk-cmdline-tools\r\n\r\nHere is the updated Dockerfile:\r\n\r\n    FROM maven:3.8.6-eclipse-temurin-19-alpine as build\r\n    COPY src /home/app/src\r\n    COPY pom.xml /home/app\r\n    RUN mvn -f /home/app/pom.xml clean package\r\n    \r\n    FROM eclipse-temurin:19-jdk-alpine\r\n    VOLUME /tmp\r\n    RUN apk update &amp;&amp; \\\r\n        apk add -v --no-cache android-sdk-cmdline-tools\r\n    COPY --from=build /home/app/target/*.jar /project.jar\r\n    ENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar /project.jar&quot;]","title":"Trouble Executing AAPT Commands Inside Docker Container","body":"<p>to get the AAPT executable in the container is</p>\n<blockquote>\n<p>android-sdk-cmdline-tools</p>\n</blockquote>\n<p>. The</p>\n<blockquote>\n<p>android-tools</p>\n</blockquote>\n<p>package only includes the ADB executable.\nTo fix your Dockerfile, you can change the apk add command to the following:</p>\n<pre><code>apk add -v --no-cache android-sdk-cmdline-tools\n</code></pre>\n<p>Here is the updated Dockerfile:</p>\n<pre><code>FROM maven:3.8.6-eclipse-temurin-19-alpine as build\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package\n\nFROM eclipse-temurin:19-jdk-alpine\nVOLUME /tmp\nRUN apk update &amp;&amp; \\\n    apk add -v --no-cache android-sdk-cmdline-tools\nCOPY --from=build /home/app/target/*.jar /project.jar\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar /project.jar&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29430652,"reputation":11,"user_id":22550432,"display_name":"Inas Sati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694602451,"creation_date":1694602451,"answer_id":77096414,"question_id":76967738,"body_markdown":"To include AAPT in your Docker container, you&#39;ll need to install the Android SDK or standalone Android build tools package, as AAPT is usually bundled with these.\r\n\r\nHere&#39;s an updated Dockerfile that installs the Android build tools, which include AAPT, in your container:\r\n\r\n    FROM maven:3.8.6-eclipse-temurin-19-alpine as build\r\n    COPY src /home/app/src\r\n    COPY pom.xml /home/app\r\n    RUN mvn -f /home/app/pom.xml clean package\r\n    \r\n    FROM eclipse-temurin:19-jdk-alpine\r\n    VOLUME /tmp\r\n    RUN apk update &amp;&amp; \\\r\n        apk add -v --no-cache android-tools &amp;&amp; \\\r\n        wget https://dl.google.com/android/repository/commandlinetools-linux-7583922_latest.zip -O /tmp/android-tools.zip &amp;&amp; \\\r\n        unzip -d /usr/local/android /tmp/android-tools.zip &amp;&amp; \\\r\n        rm /tmp/android-tools.zip &amp;&amp; \\\r\n        /usr/local/android/cmdline-tools/bin/sdkmanager --install &quot;build-tools;30.0.3&quot; &amp;&amp; \\\r\n        ln -s /usr/local/android/cmdline-tools/tools/bin/aapt /usr/bin/aapt\r\n    COPY --from=build /home/app/target/*.jar /project.jar\r\n    ENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar /project.jar&quot;]\r\n\r\n","title":"Trouble Executing AAPT Commands Inside Docker Container","body":"<p>To include AAPT in your Docker container, you'll need to install the Android SDK or standalone Android build tools package, as AAPT is usually bundled with these.</p>\n<p>Here's an updated Dockerfile that installs the Android build tools, which include AAPT, in your container:</p>\n<pre><code>FROM maven:3.8.6-eclipse-temurin-19-alpine as build\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package\n\nFROM eclipse-temurin:19-jdk-alpine\nVOLUME /tmp\nRUN apk update &amp;&amp; \\\n    apk add -v --no-cache android-tools &amp;&amp; \\\n    wget https://dl.google.com/android/repository/commandlinetools-linux-7583922_latest.zip -O /tmp/android-tools.zip &amp;&amp; \\\n    unzip -d /usr/local/android /tmp/android-tools.zip &amp;&amp; \\\n    rm /tmp/android-tools.zip &amp;&amp; \\\n    /usr/local/android/cmdline-tools/bin/sdkmanager --install &quot;build-tools;30.0.3&quot; &amp;&amp; \\\n    ln -s /usr/local/android/cmdline-tools/tools/bin/aapt /usr/bin/aapt\nCOPY --from=build /home/app/target/*.jar /project.jar\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar /project.jar&quot;]\n</code></pre>\n"}],"owner":{"account_id":22149374,"reputation":282,"user_id":16398162,"display_name":"Dr.Die_OXide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1694602451,"creation_date":1692867595,"question_id":76967738,"body_markdown":"I&#39;m working on a Dockerfile where I&#39;m trying to create a container environment to run Java code that requires both ADB and AAPT executables. While I&#39;ve been able to successfully execute ADB commands, I&#39;m encountering issues when attempting to run AAPT commands inside the Docker container.\r\n\r\nHere&#39;s a simplified version of my Dockerfile:\r\n\r\n    FROM maven:3.8.6-eclipse-temurin-19-alpine as build\r\n    COPY src /home/app/src\r\n    COPY pom.xml /home/app\r\n    RUN mvn -f /home/app/pom.xml clean package\r\n    \r\n    FROM eclipse-temurin:19-jdk-alpine\r\n    VOLUME /tmp\r\n    RUN apk update &amp;&amp; \\\r\n        apk add -v --no-cache android-tools\r\n    COPY --from=build /home/app/target/*.jar /project.jar\r\n    ENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar /project.jar&quot;]\r\n\r\nI&#39;ve included the android-tools package in the container via the apk command, which allows me to run ADB commands successfully. However, I&#39;m unable to execute AAPT commands, which are also required by my Java code. \r\n\r\nAm I looking at the wrong package for AAPT, if so What is the correct package to run apk on to get the AAPT executable in the container?\r\n\r\nIf anyone has experience with using AAPT within a Docker container or any insights into what might be causing this issue, I&#39;d greatly appreciate your help. Thank you!","title":"Trouble Executing AAPT Commands Inside Docker Container","body":"<p>I'm working on a Dockerfile where I'm trying to create a container environment to run Java code that requires both ADB and AAPT executables. While I've been able to successfully execute ADB commands, I'm encountering issues when attempting to run AAPT commands inside the Docker container.</p>\n<p>Here's a simplified version of my Dockerfile:</p>\n<pre><code>FROM maven:3.8.6-eclipse-temurin-19-alpine as build\nCOPY src /home/app/src\nCOPY pom.xml /home/app\nRUN mvn -f /home/app/pom.xml clean package\n\nFROM eclipse-temurin:19-jdk-alpine\nVOLUME /tmp\nRUN apk update &amp;&amp; \\\n    apk add -v --no-cache android-tools\nCOPY --from=build /home/app/target/*.jar /project.jar\nENTRYPOINT [&quot;sh&quot;, &quot;-c&quot;, &quot;java ${JAVA_OPTS} -jar /project.jar&quot;]\n</code></pre>\n<p>I've included the android-tools package in the container via the apk command, which allows me to run ADB commands successfully. However, I'm unable to execute AAPT commands, which are also required by my Java code.</p>\n<p>Am I looking at the wrong package for AAPT, if so What is the correct package to run apk on to get the AAPT executable in the container?</p>\n<p>If anyone has experience with using AAPT within a Docker container or any insights into what might be causing this issue, I'd greatly appreciate your help. Thank you!</p>\n"},{"tags":["java","angular","docker","batch-file","containers"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1694602991,"post_id":77096311,"comment_id":135912154,"body_markdown":"A container can&#39;t see any of the host filesystem, run commands on the host, or interact with the host desktop at all.  You might need to run your launcher application outside a container.","body":"A container can&#39;t see any of the host filesystem, run commands on the host, or interact with the host desktop at all.  You might need to run your launcher application outside a container."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694602400,"creation_date":1694602400,"answer_id":77096403,"question_id":77096311,"body_markdown":"I seriously doubt it is possible from just within a container.\r\n\r\nDocker containers are a way to separate processes from each other. If an application could exit that container so easily it would be considered a bug on the container platform.\r\n\r\nThis gets different if the container has help from outside/to the outside world. For example, if the container has access to talk to the docker daemon,  it could ask that process to spawn your script. And it would run in another container on the same docker host.\r\nAnd if your container could talk to another application via network, that one could trigger another process inside a container, outside a container, on the same host or a network host, ...","title":"Run a bat file on a host machine, from inside a java container, using a rest call","body":"<p>I seriously doubt it is possible from just within a container.</p>\n<p>Docker containers are a way to separate processes from each other. If an application could exit that container so easily it would be considered a bug on the container platform.</p>\n<p>This gets different if the container has help from outside/to the outside world. For example, if the container has access to talk to the docker daemon,  it could ask that process to spawn your script. And it would run in another container on the same docker host.\nAnd if your container could talk to another application via network, that one could trigger another process inside a container, outside a container, on the same host or a network host, ...</p>\n"}],"owner":{"account_id":8783332,"reputation":465,"user_id":6566294,"display_name":"med.b"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694602948,"answer_count":1,"score":0,"last_activity_date":1694602400,"creation_date":1694601478,"question_id":77096311,"body_markdown":"The goal is that the user can click on a button on the UI to execute a C++ desktop application that can to be started using a bat file. \r\nAnd since it seems impossible to run a bat file from a typescript controller (Angular) because of security reasons, I was thinking that when the button is clicked, a message (post request) is sent to the backend, which is a java container, and this container will communicate with the host machine to execute the bat file.\r\n\r\nIs there a clean way to do this ?\r\n\r\nI already checked this:\r\n\r\nhttps://stackoverflow.com/questions/54451883/forward-rest-calls-inside-the-container-to-wiremock-running-on-host-machine\r\n\r\nhttps://stackoverflow.com/questions/44786533/read-local-file-system-with-java-from-docker-container\r\n\r\nhttps://stackoverflow.com/questions/36721793/requirechild-process-cannot-find-require-child-process-launch-bat\r\n\r\nTo improve to process in the future,I may also have to send some parameters.","title":"Run a bat file on a host machine, from inside a java container, using a rest call","body":"<p>The goal is that the user can click on a button on the UI to execute a C++ desktop application that can to be started using a bat file.\nAnd since it seems impossible to run a bat file from a typescript controller (Angular) because of security reasons, I was thinking that when the button is clicked, a message (post request) is sent to the backend, which is a java container, and this container will communicate with the host machine to execute the bat file.</p>\n<p>Is there a clean way to do this ?</p>\n<p>I already checked this:</p>\n<p><a href=\"https://stackoverflow.com/questions/54451883/forward-rest-calls-inside-the-container-to-wiremock-running-on-host-machine\">Forward Rest calls inside the container to wiremock running on host machine</a></p>\n<p><a href=\"https://stackoverflow.com/questions/44786533/read-local-file-system-with-java-from-docker-container\">Read local file system with Java from Docker container</a></p>\n<p><a href=\"https://stackoverflow.com/questions/36721793/requirechild-process-cannot-find-require-child-process-launch-bat\">Require(&#39;child_process&#39;) =&gt; cannot find Require / child_process + launch .bat</a></p>\n<p>To improve to process in the future,I may also have to send some parameters.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1694414331,"post_id":77077737,"comment_id":135882685,"body_markdown":"Does it help if you disable the firewall/security software or disconnect from the VPN? Something is blocking localhost connections on your system. Check /etc/hosts file on your system","body":"Does it help if you disable the firewall/security software or disconnect from the VPN? Something is blocking localhost connections on your system. Check /etc/hosts file on your system"},{"owner":{"account_id":29409800,"reputation":1,"user_id":22533955,"display_name":"Subrahmanyam Martha"},"score":0,"creation_date":1694626913,"post_id":77077737,"comment_id":135917341,"body_markdown":"Hi, I have disabled the firewall and I couldn&#39;t find anything blocking localhost.  can you help me on this. Its been quite some time. I have followed all kinds of tutorials on how to install and use intellij and java, but of no use. can you please help me","body":"Hi, I have disabled the firewall and I couldn&#39;t find anything blocking localhost.  can you help me on this. Its been quite some time. I have followed all kinds of tutorials on how to install and use intellij and java, but of no use. can you please help me"}],"owner":{"account_id":29409800,"reputation":1,"user_id":22533955,"display_name":"Subrahmanyam Martha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694602310,"creation_date":1694376712,"question_id":77077737,"body_markdown":"I am trying to start using IntelliJ as my IDE. I installed it in my PC and when I try to create the HelloWorld project basic it shows this error :\r\n\r\nAbnormal build process termination: \r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-17\\bin\\java.exe&quot; -Xmx700m -Djava.awt.headless=true &quot;-Djna.boot.library.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.2.1/lib/jna/amd64&quot; -Djna.nosys=true -Djna.noclasspath=true --add-opens jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Didea.IntToIntBtree.page.size=32768 -Djdt.compiler.useSingleThread=true -Daether.connector.resumeDownloads=false -Dio.netty.initialSeedUniquifier=1893346409506213830 -Dfile.encoding=windows-1252 -Duser.language=en -Duser.country=IN -Didea.paths.selector=IdeaIC2023.2 &quot;-Didea.home.path=C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1&quot; -Didea.config.path=C:/Users/subra/AppData/Roaming/JetBrains/IdeaIC2023.2 -Didea.plugins.path=C:/Users/subra/AppData/Roaming/JetBrains/IdeaIC2023.2/plugins -Djps.log.dir=C:/Users/subra/AppData/Local/JetBrains/IdeaIC2023.2/log/build-log &quot;-Djps.fallback.jdk.home=C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/jbr&quot; -Djps.fallback.jdk.version=17.0.8 -Dio.netty.noUnsafe=true -Djava.io.tmpdir=C:/Users/subra/AppData/Local/JetBrains/IdeaIC2023.2/compile-server/untitled_cf19ab93/_temp_ -Djps.backward.ref.index.builder=true -Dtmh.instrument.annotations=true -Dtmh.generate.line.numbers=true &quot;-Djps.kotlin.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.2.1\\plugins\\Kotlin\\kotlinc&quot; -Dkotlin.incremental.compilation=true -Dkotlin.incremental.compilation.js=true -Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\&quot;C:\\Users\\subra\\AppData\\Local\\Temp\\kotlin-idea-16534307499703245477-is-running\\&quot; -Dide.propagate.context=false -classpath &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/jps-launcher.jar&quot; org.jetbrains.jps.cmdline.Launcher &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/jps-builders.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/jps-builders-6.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/jps-javac-extension.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/util-8.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/util_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/platform-loader.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/annotations.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/protobuf.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/jps-model.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/javac2.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/forms_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/aether-dependency-resolver.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/maven-resolver-connector-basic.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/maven-resolver-transport-file.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/maven-resolver-transport-http.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/idea_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/util-8.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/devkit/lib/devkit-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/devkit/lib/devkit-runtimeModuleRepository-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/eclipse/lib/eclipse-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/eclipse/lib/eclipse-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/ant/lib/ant-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/platform-langInjection/lib/java-langInjection-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/Groovy/lib/groovy-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/Groovy/lib/groovy-constants-rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/javaFX/lib/javaFX-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/javaFX/lib/javaFX-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/uiDesigner/lib/jps/java-guiForms-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/space/lib/space-java-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/maven/lib/maven-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/gradle-java/lib/gradle-jps.jar&quot; org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 51295 5a765f89-75e1-45bf-93bc-b59ef1ea6c98 C:/Users/subra/AppData/Local/JetBrains/IdeaIC2023.2/compile-server\r\n    Be careful, logger will be shut down earlier than application: Unable to make field private static java.util.IdentityHashMap java.lang.ApplicationShutdownHooks.hooks accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4e50df2e\r\n    Build process started. Classpath: C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/jps-launcher.jar\r\n    Error connecting to 127.0.0.1:51295; reason: connection timed out: /127.0.0.1:51295\r\n    io.netty.channel.ConnectTimeoutException: connection timed out: /127.0.0.1:51295\r\n    \tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:261)\r\n    \tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n    \tat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Exiting.\r\n\r\n\r\n\r\nI need to develop the projects using IntelliJ. Someone help me resolve this issue.\r\nI have set: \r\n- path variable to JDK-17/bin\r\n- Java home to JDK 17\r\n\r\n","title":"I am trying to start using intellij as my IDE. I installed it in my PC and when I try to create the HelloWorld project basic it shows this error","body":"<p>I am trying to start using IntelliJ as my IDE. I installed it in my PC and when I try to create the HelloWorld project basic it shows this error :</p>\n<p>Abnormal build process termination:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-17\\bin\\java.exe&quot; -Xmx700m -Djava.awt.headless=true &quot;-Djna.boot.library.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.2.1/lib/jna/amd64&quot; -Djna.nosys=true -Djna.noclasspath=true --add-opens jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED --add-opens jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Didea.IntToIntBtree.page.size=32768 -Djdt.compiler.useSingleThread=true -Daether.connector.resumeDownloads=false -Dio.netty.initialSeedUniquifier=1893346409506213830 -Dfile.encoding=windows-1252 -Duser.language=en -Duser.country=IN -Didea.paths.selector=IdeaIC2023.2 &quot;-Didea.home.path=C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1&quot; -Didea.config.path=C:/Users/subra/AppData/Roaming/JetBrains/IdeaIC2023.2 -Didea.plugins.path=C:/Users/subra/AppData/Roaming/JetBrains/IdeaIC2023.2/plugins -Djps.log.dir=C:/Users/subra/AppData/Local/JetBrains/IdeaIC2023.2/log/build-log &quot;-Djps.fallback.jdk.home=C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/jbr&quot; -Djps.fallback.jdk.version=17.0.8 -Dio.netty.noUnsafe=true -Djava.io.tmpdir=C:/Users/subra/AppData/Local/JetBrains/IdeaIC2023.2/compile-server/untitled_cf19ab93/_temp_ -Djps.backward.ref.index.builder=true -Dtmh.instrument.annotations=true -Dtmh.generate.line.numbers=true &quot;-Djps.kotlin.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2023.2.1\\plugins\\Kotlin\\kotlinc&quot; -Dkotlin.incremental.compilation=true -Dkotlin.incremental.compilation.js=true -Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\&quot;C:\\Users\\subra\\AppData\\Local\\Temp\\kotlin-idea-16534307499703245477-is-running\\&quot; -Dide.propagate.context=false -classpath &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/jps-launcher.jar&quot; org.jetbrains.jps.cmdline.Launcher &quot;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/jps-builders.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/jps-builders-6.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/jps-javac-extension.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/util-8.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/util_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/platform-loader.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/annotations.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/protobuf.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/jps-model.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/javac2.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/forms_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/aether-dependency-resolver.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/maven-resolver-connector-basic.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/maven-resolver-transport-file.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/maven-resolver-transport-http.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/idea_rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/lib/util-8.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/devkit/lib/devkit-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/devkit/lib/devkit-runtimeModuleRepository-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/eclipse/lib/eclipse-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/eclipse/lib/eclipse-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/ant/lib/ant-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/platform-langInjection/lib/java-langInjection-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/Groovy/lib/groovy-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/Groovy/lib/groovy-constants-rt.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/javaFX/lib/javaFX-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/javaFX/lib/javaFX-common.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/uiDesigner/lib/jps/java-guiForms-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/space/lib/space-java-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/maven/lib/maven-jps.jar;C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/gradle-java/lib/gradle-jps.jar&quot; org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 51295 5a765f89-75e1-45bf-93bc-b59ef1ea6c98 C:/Users/subra/AppData/Local/JetBrains/IdeaIC2023.2/compile-server\nBe careful, logger will be shut down earlier than application: Unable to make field private static java.util.IdentityHashMap java.lang.ApplicationShutdownHooks.hooks accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @4e50df2e\nBuild process started. Classpath: C:/Program Files/JetBrains/IntelliJ IDEA Community Edition 2023.2.1/plugins/java/lib/jps-launcher.jar\nError connecting to 127.0.0.1:51295; reason: connection timed out: /127.0.0.1:51295\nio.netty.channel.ConnectTimeoutException: connection timed out: /127.0.0.1:51295\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:261)\n    at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n    at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nExiting.\n</code></pre>\n<p>I need to develop the projects using IntelliJ. Someone help me resolve this issue.\nI have set:</p>\n<ul>\n<li>path variable to JDK-17/bin</li>\n<li>Java home to JDK 17</li>\n</ul>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1694581890,"post_id":77093806,"comment_id":135908352,"body_markdown":"See https://stackoverflow.com/questions/71412798/cell-style-is-lost-or-not-displayed-in-excel-97-2003-xls/71419505#71419505","body":"See <a href=\"https://stackoverflow.com/questions/71412798/cell-style-is-lost-or-not-displayed-in-excel-97-2003-xls/71419505#71419505\" title=\"cell style is lost or not displayed in excel 97 2003 xls\">stackoverflow.com/questions/71412798/&hellip;</a>"},{"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"score":0,"creation_date":1694584767,"post_id":77093806,"comment_id":135908696,"body_markdown":"@AxelRichter is there a proper source on that? It makes sense, but I would also like to read abit more in detailed on it.","body":"@AxelRichter is there a proper source on that? It makes sense, but I would also like to read abit more in detailed on it."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1694588084,"post_id":77093806,"comment_id":135909213,"body_markdown":"See https://answers.microsoft.com/en-us/msoffice/forum/all/cell-style-is-lost-or-not-displayed-in-excel-97/e32b0006-a036-4824-a9f1-8ef4b0f8ef4f.  The &quot;Volunteer Moderator&quot; only copy/pasted my code from  https://stackoverflow.com/questions/71412798/cell-style-is-lost-or-not-displayed-in-excel-97-2003-xls/71419505#71419505. So my answer is Microsofts answer too ;-).","body":"See <a href=\"https://answers.microsoft.com/en-us/msoffice/forum/all/cell-style-is-lost-or-not-displayed-in-excel-97/e32b0006-a036-4824-a9f1-8ef4b0f8ef4f\" rel=\"nofollow noreferrer\">answers.microsoft.com/en-us/msoffice/forum/all/&hellip;</a>.  The &quot;Volunteer Moderator&quot; only copy/pasted my code from  <a href=\"https://stackoverflow.com/questions/71412798/cell-style-is-lost-or-not-displayed-in-excel-97-2003-xls/71419505#71419505\" title=\"cell style is lost or not displayed in excel 97 2003 xls\">stackoverflow.com/questions/71412798/&hellip;</a>. So my answer is Microsofts answer too ;-)."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1694601690,"post_id":77093806,"comment_id":135911863,"body_markdown":"Does this answer your question? [Cell style is lost or not displayed in Excel 97-2003 (.xls)](https://stackoverflow.com/questions/71412798/cell-style-is-lost-or-not-displayed-in-excel-97-2003-xls) (marking this as duplicate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71412798/cell-style-is-lost-or-not-displayed-in-excel-97-2003-xls\">Cell style is lost or not displayed in Excel 97-2003 (.xls)</a> (marking this as duplicate)"},{"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"score":0,"creation_date":1694602720,"post_id":77093806,"comment_id":135912093,"body_markdown":"@OlafKock Both yes and no. It&#39;s something, but is not as deep an answer I would like. The Microsoft Moderator in the other link mentions that &#39;&#39;&#39;(the code) creates the style and then apply the style to the cell and at the end the style is destroyed, that might be the general issue.&#39;&#39;&#39; and even that answer feels unfinished.","body":"@OlafKock Both yes and no. It&#39;s something, but is not as deep an answer I would like. The Microsoft Moderator in the other link mentions that &#39;&#39;&#39;(the code) creates the style and then apply the style to the cell and at the end the style is destroyed, that might be the general issue.&#39;&#39;&#39; and even that answer feels unfinished."}],"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694601636,"creation_date":1694574643,"question_id":77093806,"body_markdown":"I have this chunk of (slightly modified for SO) code I inherited:\r\n\r\n\r\n    public String generateExcel(ExportData export) throws ApplicationException {\r\n\t\tString fileName = &quot;&lt;fileName&gt;&quot;;\r\n\t\t\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tString exportFile = new StringBuilder().append(fileName).toString();\r\n\t\t\r\n\t\t\tFileOutputStream fos = new FileOutputStream(exportFile.toString(),false);\r\n\t\t\t\r\n\t\t\tHSSFWorkbook wb = new HSSFWorkbook();\r\n\t\t\t\r\n\t\t\tCellStyle headerStyle = &lt;function to create header style&gt;;\r\n\t\t\tHSSFSheet sheet = wb.createSheet();\r\n\t\t\twb.setSheetName(0, &quot;Export&quot;);\r\n\t\t\t\r\n\t\t\tint currentRow = 1; \r\n\t\t\t\r\n\t\t\t// Header\r\n\t\t\tRow headerRow = sheet.createRow(currentRow);\r\n\t\t\tcurrentRow++;\r\n\t\t\t\r\n\t\t\tint headerCell = 0;\r\n\t\t\tfor (String dataId : export.getColumns()) {\r\n\t\t\t\tCell cell = headerRow.createCell(headerCell);\r\n\t\t\t\theaderCell++;\r\n\t\t\t\tcell.setCellValue( export.getColumns().get(dataId) );\r\n\t\t\t\tcell.setCellStyle(headerStyle);\r\n\t\t\t}\r\n\r\n\t\t\tfor (BaseModel model : export.getDataList()) {\r\n\t\t\t\tRow row = sheet.createRow(currentRow);\r\n\t\t\t\tcurrentRow++;\r\n\r\n\t\t\t\tint currentCell = 0;\r\n\t\t\t\tfor (String dataIdx : export.getColumns()) {\r\n\t\t\t\t\tCell cell = row.createCell(currentCell);\r\n\t\t\t\t\tObject o = model.get(dataIdx);\r\n\r\n\t\t\t\t\tif (o instanceof Integer) {\r\n\t\t\t\t\t\tcell.setCellValue( Misc.toDouble( (Integer)o ) );\r\n\t\t\t\t\t} else if (o instanceof Timestamp) {\r\n\t\t\t\t\t\tcell.setCellValue( Misc.toDate( (Timestamp) o ) );\r\n\t\t\t\t\t\tcell.getCellStyle().setDataFormat( HSSFDataFormat.getBuiltinFormat(&quot;m/d/yy h:mm&quot;) );\r\n\t\t\t\t\t} else if (o instanceof Date) {\r\n\t\t\t\t\t\tcell.setCellValue( (Date) o );\r\n\t\t\t\t\t\tcell.getCellStyle().setDataFormat( HSSFDataFormat.getBuiltinFormat(&quot;m/d/yy&quot;) );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tString s = ( o != null ) ? o.toString() : &quot;&quot;;\r\n\t\t\t\t\t\tcell.setCellValue( s );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tHSSFCellStyle wrappedCellStyle = w.createCellStyle();\r\n\t\t\t\t\twrappedCellStyle.setWrapText(true);\r\n\t\t\t\t\tcell.setCellStyle(wrappedCellStyle); - **here**\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tcurrentCell++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (int i = 0 ; i &lt; headerCell ; i++) {\r\n\t\t\t\tsheet.autoSizeColumn(i, true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twb.write(fos);\r\n\t\t\tfos.close();\r\n\t\t\r\n\t\t\treturn fileName;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new ApplicationException(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\r\nWhat it basically does is is that it reads the ExportData object and writes it to the excel file with a specific name, row by row. \r\nFirst it begins with the header.\r\nThen it inserts the data column by column and set some styling if necessary.\r\n\r\nFor the most part, this works.\r\n\r\nAt the line I marked as &quot;***here***&quot;, from what I&#39;ve seen, this will overwrite the original cell styles and replaces it with one where the text will wrap for each cell only.\r\nAn issue, but not the main point and is still acceptable for now.\r\n\r\n**The problem is, after a certain number of loops, the styling just stops replacing. Why?\r\nThe excel file will still generate as usual, and there doesnt seem to be any data issues, and I can still open the file no problem. But on reading the generated file, there&#39;s a notable part where the formatting just stops.**\r\n\r\nAs mentioned, I know the line is problematic, but, for now, my sample data only prints out, according to ```HSSFWorkbook.getNumCellStyles()```, roughly around 300 unique styles, a far cry from the 64k limit I heard Excel has, so it doesnt seem to have an exception with regards to that.\r\n(on that note, I did fix the initial issue so that the style is declared outside the loop and this leads to the proper output and a lesser count of unique styles, but my main question here is why did it happen in the first place)\r\n\r\nI&#39;ve made a few printout statements using ```o.toString()``` and ```DataFormatter.formatCellValue(cell)``` before and after the line to verify the expected cell output; they all show the expected results.\r\n\r\nI tried moving the problematic lines above the ```if``` statements so that the styles doesnt get overwritten, but gets added on to and it&#39;s a similar issue...just reversed (my correct styling works to a certain extent, then it stops.\r\n\r\nI suspect that *something* might have happened during the ```wb.write(fos)``` process, but I cant verify it.\r\n","title":"Apache POI Cell Style Error - style not set","body":"<p>I have this chunk of (slightly modified for SO) code I inherited:</p>\n<pre><code>public String generateExcel(ExportData export) throws ApplicationException {\n    String fileName = &quot;&lt;fileName&gt;&quot;;\n            \n    try {\n        \n        String exportFile = new StringBuilder().append(fileName).toString();\n    \n        FileOutputStream fos = new FileOutputStream(exportFile.toString(),false);\n        \n        HSSFWorkbook wb = new HSSFWorkbook();\n        \n        CellStyle headerStyle = &lt;function to create header style&gt;;\n        HSSFSheet sheet = wb.createSheet();\n        wb.setSheetName(0, &quot;Export&quot;);\n        \n        int currentRow = 1; \n        \n        // Header\n        Row headerRow = sheet.createRow(currentRow);\n        currentRow++;\n        \n        int headerCell = 0;\n        for (String dataId : export.getColumns()) {\n            Cell cell = headerRow.createCell(headerCell);\n            headerCell++;\n            cell.setCellValue( export.getColumns().get(dataId) );\n            cell.setCellStyle(headerStyle);\n        }\n\n        for (BaseModel model : export.getDataList()) {\n            Row row = sheet.createRow(currentRow);\n            currentRow++;\n\n            int currentCell = 0;\n            for (String dataIdx : export.getColumns()) {\n                Cell cell = row.createCell(currentCell);\n                Object o = model.get(dataIdx);\n\n                if (o instanceof Integer) {\n                    cell.setCellValue( Misc.toDouble( (Integer)o ) );\n                } else if (o instanceof Timestamp) {\n                    cell.setCellValue( Misc.toDate( (Timestamp) o ) );\n                    cell.getCellStyle().setDataFormat( HSSFDataFormat.getBuiltinFormat(&quot;m/d/yy h:mm&quot;) );\n                } else if (o instanceof Date) {\n                    cell.setCellValue( (Date) o );\n                    cell.getCellStyle().setDataFormat( HSSFDataFormat.getBuiltinFormat(&quot;m/d/yy&quot;) );\n                } else {\n                    String s = ( o != null ) ? o.toString() : &quot;&quot;;\n                    cell.setCellValue( s );\n                }\n                \n                HSSFCellStyle wrappedCellStyle = w.createCellStyle();\n                wrappedCellStyle.setWrapText(true);\n                cell.setCellStyle(wrappedCellStyle); - **here**\n                \n                \n                currentCell++;\n            }\n        }\n\n        for (int i = 0 ; i &lt; headerCell ; i++) {\n            sheet.autoSizeColumn(i, true);\n        }\n        \n        wb.write(fos);\n        fos.close();\n    \n        return fileName;\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw new ApplicationException(e.getMessage());\n    }\n}\n</code></pre>\n<p>What it basically does is is that it reads the ExportData object and writes it to the excel file with a specific name, row by row.\nFirst it begins with the header.\nThen it inserts the data column by column and set some styling if necessary.</p>\n<p>For the most part, this works.</p>\n<p>At the line I marked as &quot;<em><strong>here</strong></em>&quot;, from what I've seen, this will overwrite the original cell styles and replaces it with one where the text will wrap for each cell only.\nAn issue, but not the main point and is still acceptable for now.</p>\n<p><strong>The problem is, after a certain number of loops, the styling just stops replacing. Why?\nThe excel file will still generate as usual, and there doesnt seem to be any data issues, and I can still open the file no problem. But on reading the generated file, there's a notable part where the formatting just stops.</strong></p>\n<p>As mentioned, I know the line is problematic, but, for now, my sample data only prints out, according to <code>HSSFWorkbook.getNumCellStyles()</code>, roughly around 300 unique styles, a far cry from the 64k limit I heard Excel has, so it doesnt seem to have an exception with regards to that.\n(on that note, I did fix the initial issue so that the style is declared outside the loop and this leads to the proper output and a lesser count of unique styles, but my main question here is why did it happen in the first place)</p>\n<p>I've made a few printout statements using <code>o.toString()</code> and <code>DataFormatter.formatCellValue(cell)</code> before and after the line to verify the expected cell output; they all show the expected results.</p>\n<p>I tried moving the problematic lines above the <code>if</code> statements so that the styles doesnt get overwritten, but gets added on to and it's a similar issue...just reversed (my correct styling works to a certain extent, then it stops.</p>\n<p>I suspect that <em>something</em> might have happened during the <code>wb.write(fos)</code> process, but I cant verify it.</p>\n"},{"tags":["java","cryptography","digital-signature","bouncycastle","pfx"],"owner":{"account_id":3830786,"reputation":1,"user_id":3176357,"display_name":"user3176357"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694601449,"creation_date":1694601449,"question_id":77096302,"body_markdown":"I am trying to sign a text using PFX in java. But the verification system(which is a centralized system and we do not have any access over it) is sending me nack messages saying signature mismatch.\r\nMost of the part of my signature is matching with the sample provided by the verifying team.\r\nI have no information as to what is the exact signing mechanism that they intent us to use.\r\nI have tried all ways know to me to sign it suing PFX certificate that is common at both the ends.\r\nI have some how got a piece of code that I am not able to understand.\r\nI am pasting the code below. I have no idea what j,a,c etc. is.\r\nPlease help me out to understand the below code.\r\n\r\n     { BouncyCastleProvider bouncyCastleProvider = new BouncyCastleProvider();\r\n    Security.addProvider((Provider)bouncyCastleProvider);\r\n    CMSSignedDataGenerator cMSSignedDataGenerator = new CMSSignedDataGenerator();\r\n    PrivateKey privateKey = paramn.e();\r\n    X509Certificate x509Certificate = paramn.k();\r\n    byte[] arrayOfByte1 = (byte[])null;\r\n    DERObjectIdentifier dERObjectIdentifier1 = new DERObjectIdentifier(&quot;1.3.6.1.4.1.311.88.2.1&quot;);\r\n    DERObjectIdentifier dERObjectIdentifier2 = new DERObjectIdentifier(&quot;1.3.6.1.4.1.311.88.2.2&quot;);\r\n    DERObjectIdentifier dERObjectIdentifier3 = new DERObjectIdentifier(&quot;1.2.840.113549.1.9.5&quot;);\r\n    DERObjectIdentifier dERObjectIdentifier4 = new DERObjectIdentifier(&quot;1.2.840.113549.1.9.16.14&quot;);\r\n    AttributeTable attributeTable = null;\r\n    CMSSignedData cMSSignedData = null;\r\n    if (paramn.i() != null) {\r\n        DERSet dERSet1 = null;\r\n        DERSet dERSet2 = null;\r\n        String str1 = null;\r\n        ArrayList arrayList1 = paramn.i();\r\n        Hashtable&lt;Object, Object&gt; hashtable1 = new Hashtable&lt;Object, Object&gt;();\r\n        Hashtable&lt;Object, Object&gt; hashtable2 = new Hashtable&lt;Object, Object&gt;();\r\n        Attribute attribute1 = null;\r\n        Attribute attribute2 = null;\r\n        Date date = null;\r\n        DERSet dERSet3 = null;\r\n        Attribute attribute3 = null;\r\n        for (j j : arrayList1) {\r\n          if (j.b())\r\n            if (j.a().equals(&quot;1.3.6.1.4.1.311.88.2.1&quot;)) {\r\n              dERSet1 = new DERSet((DEREncodable)new DEROctetString(j.e().getBytes()));\r\n              attribute1 = new Attribute(dERObjectIdentifier1, (ASN1Set)dERSet1);\r\n              hashtable1.put(attribute1.getAttrType(), attribute1);\r\n            } else if (j.a().equals(&quot;1.3.6.1.4.1.311.88.2.2&quot;.toString())) {\r\n              dERSet2 = new DERSet((DEREncodable)new DEROctetString(j.e().getBytes()));\r\n              attribute2 = new Attribute(dERObjectIdentifier2, (ASN1Set)dERSet2);\r\n              hashtable1.put(attribute2.getAttrType(), attribute2);\r\n            } else if (j.c() == 3L &amp;&amp; j.a().equals(&quot;1.2.840.113549.1.9.5&quot;)) {\r\n              str1 = j.e();\r\n              date = null;\r\n              if (str1 != null) {\r\n                date = new Date(Long.parseLong(str1));\r\n              } else {\r\n                date = new Date();\r\n              } \r\n              try {\r\n                x509Certificate.checkValidity(date);\r\n              } catch (CertificateExpiredException certificateExpiredException) {\r\n                a.a(a, c.a(534L), Level.ERROR);\r\n                return 534L;\r\n              } catch (CertificateNotYetValidException certificateNotYetValidException) {\r\n                a.a(a, c.a(535L), Level.ERROR);\r\n                return 535L;\r\n              } \r\n              dERSet3 = new DERSet((DEREncodable)new Time(date));\r\n              attribute3 = new Attribute(dERObjectIdentifier3, (ASN1Set)dERSet3);\r\n              hashtable1.put(attribute3.getAttrType(), attribute3);\r\n            } else {\r\n              a.a(a, c.a(703L), Level.INFO);\r\n            }  \r\n          if (!j.b()) {\r\n            if (j.c() == 1L &amp;&amp; j.a().equals(&quot;1.2.840.113549.1.9.16.14&quot;)) {\r\n              DERSet dERSet = new DERSet((DEREncodable)new DEROctetString(j.e().getBytes()));\r\n              Attribute attribute = new Attribute(dERObjectIdentifier4, (ASN1Set)dERSet);\r\n              hashtable2.put(dERObjectIdentifier4, attribute);\r\n              continue;\r\n            } \r\n            a.a(a, c.a(704L), Level.INFO);\r\n          } \r\n        } \r\n        AttributeTable attributeTable1 = new AttributeTable(hashtable1);\r\n        attributeTable = new AttributeTable(hashtable2);\r\n        DefaultSignedAttributeTableGenerator defaultSignedAttributeTableGenerator = new DefaultSignedAttributeTableGenerator(attributeTable1);\r\n        SimpleAttributeTableGenerator simpleAttributeTableGenerator = new SimpleAttributeTableGenerator(attributeTable);\r\n        String str2 = b(paramn.c());\r\n        cMSSignedDataGenerator.addSigner(privateKey, x509Certificate, str2, (CMSAttributeTableGenerator)defaultSignedAttributeTableGenerator, (CMSAttributeTableGenerator)simpleAttributeTableGenerator);\r\n      }","title":"CMSException message-digest attribute value does not match calculated value","body":"<p>I am trying to sign a text using PFX in java. But the verification system(which is a centralized system and we do not have any access over it) is sending me nack messages saying signature mismatch.\nMost of the part of my signature is matching with the sample provided by the verifying team.\nI have no information as to what is the exact signing mechanism that they intent us to use.\nI have tried all ways know to me to sign it suing PFX certificate that is common at both the ends.\nI have some how got a piece of code that I am not able to understand.\nI am pasting the code below. I have no idea what j,a,c etc. is.\nPlease help me out to understand the below code.</p>\n<pre><code> { BouncyCastleProvider bouncyCastleProvider = new BouncyCastleProvider();\nSecurity.addProvider((Provider)bouncyCastleProvider);\nCMSSignedDataGenerator cMSSignedDataGenerator = new CMSSignedDataGenerator();\nPrivateKey privateKey = paramn.e();\nX509Certificate x509Certificate = paramn.k();\nbyte[] arrayOfByte1 = (byte[])null;\nDERObjectIdentifier dERObjectIdentifier1 = new DERObjectIdentifier(&quot;1.3.6.1.4.1.311.88.2.1&quot;);\nDERObjectIdentifier dERObjectIdentifier2 = new DERObjectIdentifier(&quot;1.3.6.1.4.1.311.88.2.2&quot;);\nDERObjectIdentifier dERObjectIdentifier3 = new DERObjectIdentifier(&quot;1.2.840.113549.1.9.5&quot;);\nDERObjectIdentifier dERObjectIdentifier4 = new DERObjectIdentifier(&quot;1.2.840.113549.1.9.16.14&quot;);\nAttributeTable attributeTable = null;\nCMSSignedData cMSSignedData = null;\nif (paramn.i() != null) {\n    DERSet dERSet1 = null;\n    DERSet dERSet2 = null;\n    String str1 = null;\n    ArrayList arrayList1 = paramn.i();\n    Hashtable&lt;Object, Object&gt; hashtable1 = new Hashtable&lt;Object, Object&gt;();\n    Hashtable&lt;Object, Object&gt; hashtable2 = new Hashtable&lt;Object, Object&gt;();\n    Attribute attribute1 = null;\n    Attribute attribute2 = null;\n    Date date = null;\n    DERSet dERSet3 = null;\n    Attribute attribute3 = null;\n    for (j j : arrayList1) {\n      if (j.b())\n        if (j.a().equals(&quot;1.3.6.1.4.1.311.88.2.1&quot;)) {\n          dERSet1 = new DERSet((DEREncodable)new DEROctetString(j.e().getBytes()));\n          attribute1 = new Attribute(dERObjectIdentifier1, (ASN1Set)dERSet1);\n          hashtable1.put(attribute1.getAttrType(), attribute1);\n        } else if (j.a().equals(&quot;1.3.6.1.4.1.311.88.2.2&quot;.toString())) {\n          dERSet2 = new DERSet((DEREncodable)new DEROctetString(j.e().getBytes()));\n          attribute2 = new Attribute(dERObjectIdentifier2, (ASN1Set)dERSet2);\n          hashtable1.put(attribute2.getAttrType(), attribute2);\n        } else if (j.c() == 3L &amp;&amp; j.a().equals(&quot;1.2.840.113549.1.9.5&quot;)) {\n          str1 = j.e();\n          date = null;\n          if (str1 != null) {\n            date = new Date(Long.parseLong(str1));\n          } else {\n            date = new Date();\n          } \n          try {\n            x509Certificate.checkValidity(date);\n          } catch (CertificateExpiredException certificateExpiredException) {\n            a.a(a, c.a(534L), Level.ERROR);\n            return 534L;\n          } catch (CertificateNotYetValidException certificateNotYetValidException) {\n            a.a(a, c.a(535L), Level.ERROR);\n            return 535L;\n          } \n          dERSet3 = new DERSet((DEREncodable)new Time(date));\n          attribute3 = new Attribute(dERObjectIdentifier3, (ASN1Set)dERSet3);\n          hashtable1.put(attribute3.getAttrType(), attribute3);\n        } else {\n          a.a(a, c.a(703L), Level.INFO);\n        }  \n      if (!j.b()) {\n        if (j.c() == 1L &amp;&amp; j.a().equals(&quot;1.2.840.113549.1.9.16.14&quot;)) {\n          DERSet dERSet = new DERSet((DEREncodable)new DEROctetString(j.e().getBytes()));\n          Attribute attribute = new Attribute(dERObjectIdentifier4, (ASN1Set)dERSet);\n          hashtable2.put(dERObjectIdentifier4, attribute);\n          continue;\n        } \n        a.a(a, c.a(704L), Level.INFO);\n      } \n    } \n    AttributeTable attributeTable1 = new AttributeTable(hashtable1);\n    attributeTable = new AttributeTable(hashtable2);\n    DefaultSignedAttributeTableGenerator defaultSignedAttributeTableGenerator = new DefaultSignedAttributeTableGenerator(attributeTable1);\n    SimpleAttributeTableGenerator simpleAttributeTableGenerator = new SimpleAttributeTableGenerator(attributeTable);\n    String str2 = b(paramn.c());\n    cMSSignedDataGenerator.addSigner(privateKey, x509Certificate, str2, (CMSAttributeTableGenerator)defaultSignedAttributeTableGenerator, (CMSAttributeTableGenerator)simpleAttributeTableGenerator);\n  }\n</code></pre>\n"},{"tags":["java","selenium","gradle","testng","allure"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1576659872,"post_id":59379712,"comment_id":104967646,"body_markdown":"unrelated to your problem, but PDFBox is at 2.0.17. 2.0.1 was from around 2014.","body":"unrelated to your problem, but PDFBox is at 2.0.17. 2.0.1 was from around 2014."}],"answers":[{"tags":[],"owner":{"account_id":11339521,"reputation":121,"user_id":8314102,"display_name":"Nikita Bakshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576668889,"creation_date":1576668889,"answer_id":59391166,"question_id":59379712,"body_markdown":"You have not added the allure-maven dependency under your dependencies section.I think that&#39;s why you are getting this NaN% error.","title":"Empty allure report - Allure Report unknown NaN%","body":"<p>You have not added the allure-maven dependency under your dependencies section.I think that's why you are getting this NaN% error.</p>\n"},{"tags":[],"owner":{"account_id":18295710,"reputation":1,"user_id":13321699,"display_name":"Amar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671789218,"creation_date":1663942061,"answer_id":73829007,"question_id":59379712,"body_markdown":"It seems that there are spaces in one of the parent folder names. So, if there are spaces in folder name, keep the folder name in double quotes. Refer to the example below:\r\n\r\nRun Allure command(allure serve) by keeping folder name in double quotes. \r\nSuppose folder name is **test automation**\r\n\r\nIncorrect: `allure serve D:\\test automation\\webautomation\\allure-results`\r\n\r\nCorrect: `allure serve D:\\&quot;test automation&quot;\\webautomation\\allure-results`","title":"Empty allure report - Allure Report unknown NaN%","body":"<p>It seems that there are spaces in one of the parent folder names. So, if there are spaces in folder name, keep the folder name in double quotes. Refer to the example below:</p>\n<p>Run Allure command(allure serve) by keeping folder name in double quotes.\nSuppose folder name is <strong>test automation</strong></p>\n<p>Incorrect: <code>allure serve D:\\test automation\\webautomation\\allure-results</code></p>\n<p>Correct: <code>allure serve D:\\&quot;test automation&quot;\\webautomation\\allure-results</code></p>\n"},{"tags":[],"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676776777,"creation_date":1676731960,"answer_id":75494143,"question_id":59379712,"body_markdown":"I also faced the same issue and you have to specify the path within the double quotes in the command prompt if there are any white spaces between the folder names.\r\n\r\nFor example, if your allure results are in the following folder - D:\\test automation\\webautomation\\allure-results, you have to specify the command as below.\r\n\r\n    allure serve &quot;D:\\test automation\\webautomation\\allure-results&quot;","title":"Empty allure report - Allure Report unknown NaN%","body":"<p>I also faced the same issue and you have to specify the path within the double quotes in the command prompt if there are any white spaces between the folder names.</p>\n<p>For example, if your allure results are in the following folder - D:\\test automation\\webautomation\\allure-results, you have to specify the command as below.</p>\n<pre><code>allure serve &quot;D:\\test automation\\webautomation\\allure-results&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29430460,"reputation":1,"user_id":22550284,"display_name":"user22550284"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694600866,"creation_date":1694600866,"answer_id":77096236,"question_id":59379712,"body_markdown":"Please copy the correct report folder location\r\nPaste below report generation command in Terminal:\r\nallure serve &quot;D:\\pythonProject\\pythonProject\\SeleniumPython\\SeleniumFramework\\tests\\SeleniumFramework\\reports\\allureReports&quot;\r\n\r\n\r\nNOTE: Before copying the report location path first check report is there\r\n  \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DcxUV.png","title":"Empty allure report - Allure Report unknown NaN%","body":"<p>Please copy the correct report folder location\nPaste below report generation command in Terminal:\nallure serve &quot;D:\\pythonProject\\pythonProject\\SeleniumPython\\SeleniumFramework\\tests\\SeleniumFramework\\reports\\allureReports&quot;</p>\n<p>NOTE: Before copying the report location path first check report is there</p>\n"}],"owner":{"account_id":8926541,"reputation":63,"user_id":6660788,"display_name":"M.Sz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1694600866,"creation_date":1576605473,"question_id":59379712,"body_markdown":"I have a problem with allure reports. When I run command ./gradlew allureReport after tests execution I&#39;ve got an empty report with text like &#39;Allure Report unknown NaN%&#39;. Does anyone have the same problem?\r\nHere is my build.gradle configuration file:\r\n\r\n    buildscript {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &quot;io.qameta.allure:allure-gradle:2.8.1&quot;\r\n    }\r\n    }\r\n\r\n    plugins {\r\n        id &quot;io.qameta.allure&quot; version &quot;2.8.1&quot;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;io.qameta.allure&#39;\r\n    \r\n    allure {\r\n        version = &#39;2.8.1&#39;\r\n        autoconfigure = true;\r\n        aspectjweaver = true;\r\n    resultsDir = file(&#39;/build/allure-results&#39;)\r\n    reportDir = file(&#39;build/allure-results&#39;)\r\n    }\r\n    \r\n    group &#39;com.poc&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    test {\r\n        useTestNG()\r\n        dependsOn cleanTest\r\n        systemProperties System.getProperties()\r\n    }\r\n    \r\n    dependencies {\r\n        compile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n        compile group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;3.141.59&#39;\r\n        compile group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-firefox-driver&#39;, version: &#39;3.141.59&#39;\r\n        compile group: &#39;org.testng&#39;, name: &#39;testng&#39;, version: &#39;6.14.3&#39;\r\n        compile group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-chrome-driver&#39;, version: &#39;3.141.59&#39;\r\n        compile group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-safari-driver&#39;, version: &#39;3.141.59&#39;\r\n        compile group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-edge-driver&#39;, version: &#39;2.47.1&#39;\r\n        compile group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-api&#39;, version: &#39;3.141.59&#39;\r\n        compile group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.10&#39;\r\n        compile group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;5.1.13&#39;\r\n        compile group: &#39;org.apache.pdfbox&#39;, name: &#39;pdfbox&#39;, version: &#39;2.0.1&#39;\r\n        compile group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;5.1.6&#39;\r\n        compile group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.6&#39;\r\n        compile group: &#39;io.qameta.allure&#39;, name: &#39;allure-testng&#39;, version: &#39;2.8.1&#39;\r\n    }\r\n\r\n","title":"Empty allure report - Allure Report unknown NaN%","body":"<p>I have a problem with allure reports. When I run command ./gradlew allureReport after tests execution I've got an empty report with text like 'Allure Report unknown NaN%'. Does anyone have the same problem?\nHere is my build.gradle configuration file:</p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter()\n}\ndependencies {\n    classpath \"io.qameta.allure:allure-gradle:2.8.1\"\n}\n}\n\nplugins {\n    id \"io.qameta.allure\" version \"2.8.1\"\n    id 'java'\n}\n\napply plugin: 'io.qameta.allure'\n\nallure {\n    version = '2.8.1'\n    autoconfigure = true;\n    aspectjweaver = true;\nresultsDir = file('/build/allure-results')\nreportDir = file('build/allure-results')\n}\n\ngroup 'com.poc'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ntest {\n    useTestNG()\n    dependsOn cleanTest\n    systemProperties System.getProperties()\n}\n\ndependencies {\n    compile group: 'junit', name: 'junit', version: '4.12'\n    compile group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.141.59'\n    compile group: 'org.seleniumhq.selenium', name: 'selenium-firefox-driver', version: '3.141.59'\n    compile group: 'org.testng', name: 'testng', version: '6.14.3'\n    compile group: 'org.seleniumhq.selenium', name: 'selenium-chrome-driver', version: '3.141.59'\n    compile group: 'org.seleniumhq.selenium', name: 'selenium-safari-driver', version: '3.141.59'\n    compile group: 'org.seleniumhq.selenium', name: 'selenium-edge-driver', version: '2.47.1'\n    compile group: 'org.seleniumhq.selenium', name: 'selenium-api', version: '3.141.59'\n    compile group: 'org.projectlombok', name: 'lombok', version: '1.18.10'\n    compile group: 'mysql', name: 'mysql-connector-java', version: '5.1.13'\n    compile group: 'org.apache.pdfbox', name: 'pdfbox', version: '2.0.1'\n    compile group: 'mysql', name: 'mysql-connector-java', version: '5.1.6'\n    compile group: 'commons-io', name: 'commons-io', version: '2.6'\n    compile group: 'io.qameta.allure', name: 'allure-testng', version: '2.8.1'\n}\n</code></pre>\n"},{"tags":["java","spring","spring-validator"],"answers":[{"tags":[],"owner":{"account_id":2369743,"reputation":7275,"user_id":2074605,"accept_rate":100,"display_name":"Parker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1504719258,"creation_date":1504198754,"answer_id":45986702,"question_id":42852886,"body_markdown":"Since you only provided the code from your controller method, I&#39;m adding some additional information that is needed in order to get validation working in a Spring 4 application, so you can see where any differences might be. I am minimally assuming the following:\r\n\r\n 1. Include the [bean-validation-api][1] JAR in your classpath. This gets you the annotation.\r\n 2. Include a Bean Validation implementation JAR (e.g., the reference implementation, [hibernate-validator][2]) in your classpath. This enables the validation framework.\r\n 3. Your request mapping could be of one the following forms:\r\n\r\n---\r\n    @RequestMapping(method = RequestMethod.POST)\r\n    public String dologin(@Valid @ModelAttribute(&quot;userForm&quot;) User user, final BindingResult bindingResult) throws Exception\r\n\r\n---\r\n    @RequestMapping(method = RequestMethod.POST)\r\n    public String dologin(@Validated @ModelAttribute(&quot;userForm&quot;) User user, final BindingResult bindingResult) throws Exception\r\n\r\n---\r\n\r\nor, if using [validation groups][3]:\r\n\r\n---\r\n    @RequestMapping(method = RequestMethod.POST)\r\n    public String dologin(@Validated({ User.Login.class }) @ModelAttribute(&quot;userForm&quot;) User user, final BindingResult bindingResult) throws Exception\r\n\r\n---\r\n\r\n  4. Your annotation in the User class should be inline with message property keys:\r\n\r\n---\r\n    @NotBlank(message = &quot;{firstName.required}&quot;)\r\n    @Size(min = 2, max = 24, message = &quot;{firstName.size}&quot;)\r\n    @Pattern(regexp = &quot;^[â&#39; \\\\.\\\\-\\\\p{L}\\\\p{M}]*$&quot;, message = &quot;{firstName.format}&quot;)\r\n    private String firstName;\r\n\r\n---\r\n\r\nor, if using [validation groups][3]:\r\n\r\n---\r\n    public interface Login extends Default {}\r\n\r\n    @NotBlank(message = &quot;{firstName.required}&quot;, groups = {Login.class})\r\n    @Size(min = 2, max = 24, message = &quot;{firstName.size}&quot;, groups = {Login.class})\r\n    @Pattern(regexp = &quot;^[â&#39; \\\\.\\\\-\\\\p{L}\\\\p{M}]*$&quot;, message = &quot;{firstName.format}&quot;, groups = {Login.class})\r\n    private String firstName;\r\n\r\n---\r\n\r\n  5. Your message properties should be in `src/main/resources`:\r\n\r\n---\r\n    firstName.required=First name is required.\r\n    firstName.size=First name must be between {min} and {max} characters long.\r\n    firstName.format=First name may contain only letters, apostrophes, spaces and hyphens.\r\n\r\n---\r\n\r\nMake sure your [Bean Validation specification][4] version matches your implementation version. [Bean Validation API 2.0][1] was released in August 2017. The Bean Validation 2.0 Reference Implementation is [Hibernate Validation Engine 6.0][2].\r\n\r\nThe validation errors will be added to the `BindingResult` if that is present in the method parameters. Alternatively, you can use `Errors` in place of `BindingResult` - the API is essentially the same. Both of these work equivalently in my above implementation.\r\n\r\nHowever, if I leave the parameter out of my controller method, I see (from logging) that the validation is triggered and the appropriate errors are raised and the mapping of my message keys to their properties succeed, but my Server Error page is rendered instead of my expected view. For additional information on the requirement of this parameter, see this related question on the [BindingResult/Errors parameter][5].\r\n\r\n---\r\n\r\n    Aug 31, 2017 2:21:56 PM com.test.spring.controller.ErrorController handleException\r\n    SEVERE: Server Error\r\n    org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 2 errors\r\n    Field error in object &#39;userForm&#39; on field &#39;firstName&#39;: rejected value []; codes [Size.userForm.firstName,Size.firstName,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userForm.firstName,firstName]; arguments []; default message [firstName],24,2]; default message [First name must be between 2 and 24 characters long.]\r\n    Field error in object &#39;userForm&#39; on field &#39;firstName&#39;: rejected value []; codes [NotBlank.userForm.firstName,NotBlank.firstName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userForm.firstName,firstName]; arguments []; default message [firstName]]; default message [First name is required.]\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:117)\r\n\r\n---\r\n\r\nI see very consistent behavior in all of the above combinations.\r\n\r\nOne difference I note is that you are using `@ControllerAdvice` in your example. Most of my controllers use the [`@Controller`][6] annotation (local controller errors), not [`@ControllerAdvice`][7] (used for global errors, such as for rendering HTTP 404 or 500 error pages). See this related question/answer for the use of [`@ControllerAdvice`][8].\r\n\r\nIn the above error log, you see that `ErrorController` is the one reporting the validation errors if I leave out the `BindingResult`/`Errors` parameter, and indeed that is my controller class that uses `@ControllerAdvice` annotation instead of `@Controller`. By using `@ControllerAdvice` on your login controller you may be interfering with normal error handling.\r\n\r\nSince you are using the [Hibernate-specific][9] [`@Validated`][3] group validation annotation instead of the [JSR-303/349/380][4] specification [`@Valid`][10] annotation, there may be some differences between the implementation you used (I&#39;m guessing version 5, which conformed to API 1.1). I am using version 6.0.2, which conforms to the new (August 2017) [Bean Validation Framework API 2.0][11].\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/javax.validation/validation-api/2.0.0.Final\r\n  [2]: http://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator/6.0.2.Final\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html\r\n  [4]: http://beanvalidation.org/specification/\r\n  [5]: https://stackoverflow.com/q/18646121/2074605\r\n  [6]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/stereotype/Controller.html\r\n  [7]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\r\n  [8]: https://stackoverflow.com/a/35323919/2074605\r\n  [9]: https://stackoverflow.com/questions/36173332/difference-between-valid-and-validated-in-spring\r\n  [10]: http://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\r\n  [11]: http://beanvalidation.org/2.0/","title":"Spring 4 @Validation annotation with BindingResult is not working","body":"<p>Since you only provided the code from your controller method, I'm adding some additional information that is needed in order to get validation working in a Spring 4 application, so you can see where any differences might be. I am minimally assuming the following:</p>\n\n<ol>\n<li>Include the <a href=\"http://mvnrepository.com/artifact/javax.validation/validation-api/2.0.0.Final\" rel=\"noreferrer\">bean-validation-api</a> JAR in your classpath. This gets you the annotation.</li>\n<li>Include a Bean Validation implementation JAR (e.g., the reference implementation, <a href=\"http://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator/6.0.2.Final\" rel=\"noreferrer\">hibernate-validator</a>) in your classpath. This enables the validation framework.</li>\n<li>Your request mapping could be of one the following forms:</li>\n</ol>\n\n<hr>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST)\npublic String dologin(@Valid @ModelAttribute(\"userForm\") User user, final BindingResult bindingResult) throws Exception\n</code></pre>\n\n<hr>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST)\npublic String dologin(@Validated @ModelAttribute(\"userForm\") User user, final BindingResult bindingResult) throws Exception\n</code></pre>\n\n<hr>\n\n<p>or, if using <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html\" rel=\"noreferrer\">validation groups</a>:</p>\n\n<hr>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST)\npublic String dologin(@Validated({ User.Login.class }) @ModelAttribute(\"userForm\") User user, final BindingResult bindingResult) throws Exception\n</code></pre>\n\n<hr>\n\n<ol start=\"4\">\n<li>Your annotation in the User class should be inline with message property keys:</li>\n</ol>\n\n<hr>\n\n<pre><code>@NotBlank(message = \"{firstName.required}\")\n@Size(min = 2, max = 24, message = \"{firstName.size}\")\n@Pattern(regexp = \"^[â' \\\\.\\\\-\\\\p{L}\\\\p{M}]*$\", message = \"{firstName.format}\")\nprivate String firstName;\n</code></pre>\n\n<hr>\n\n<p>or, if using <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html\" rel=\"noreferrer\">validation groups</a>:</p>\n\n<hr>\n\n<pre><code>public interface Login extends Default {}\n\n@NotBlank(message = \"{firstName.required}\", groups = {Login.class})\n@Size(min = 2, max = 24, message = \"{firstName.size}\", groups = {Login.class})\n@Pattern(regexp = \"^[â' \\\\.\\\\-\\\\p{L}\\\\p{M}]*$\", message = \"{firstName.format}\", groups = {Login.class})\nprivate String firstName;\n</code></pre>\n\n<hr>\n\n<ol start=\"5\">\n<li>Your message properties should be in <code>src/main/resources</code>:</li>\n</ol>\n\n<hr>\n\n<pre><code>firstName.required=First name is required.\nfirstName.size=First name must be between {min} and {max} characters long.\nfirstName.format=First name may contain only letters, apostrophes, spaces and hyphens.\n</code></pre>\n\n<hr>\n\n<p>Make sure your <a href=\"http://beanvalidation.org/specification/\" rel=\"noreferrer\">Bean Validation specification</a> version matches your implementation version. <a href=\"http://mvnrepository.com/artifact/javax.validation/validation-api/2.0.0.Final\" rel=\"noreferrer\">Bean Validation API 2.0</a> was released in August 2017. The Bean Validation 2.0 Reference Implementation is <a href=\"http://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator/6.0.2.Final\" rel=\"noreferrer\">Hibernate Validation Engine 6.0</a>.</p>\n\n<p>The validation errors will be added to the <code>BindingResult</code> if that is present in the method parameters. Alternatively, you can use <code>Errors</code> in place of <code>BindingResult</code> - the API is essentially the same. Both of these work equivalently in my above implementation.</p>\n\n<p>However, if I leave the parameter out of my controller method, I see (from logging) that the validation is triggered and the appropriate errors are raised and the mapping of my message keys to their properties succeed, but my Server Error page is rendered instead of my expected view. For additional information on the requirement of this parameter, see this related question on the <a href=\"https://stackoverflow.com/q/18646121/2074605\">BindingResult/Errors parameter</a>.</p>\n\n<hr>\n\n<pre><code>Aug 31, 2017 2:21:56 PM com.test.spring.controller.ErrorController handleException\nSEVERE: Server Error\norg.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 2 errors\nField error in object 'userForm' on field 'firstName': rejected value []; codes [Size.userForm.firstName,Size.firstName,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userForm.firstName,firstName]; arguments []; default message [firstName],24,2]; default message [First name must be between 2 and 24 characters long.]\nField error in object 'userForm' on field 'firstName': rejected value []; codes [NotBlank.userForm.firstName,NotBlank.firstName,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userForm.firstName,firstName]; arguments []; default message [firstName]]; default message [First name is required.]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:117)\n</code></pre>\n\n<hr>\n\n<p>I see very consistent behavior in all of the above combinations.</p>\n\n<p>One difference I note is that you are using <code>@ControllerAdvice</code> in your example. Most of my controllers use the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/stereotype/Controller.html\" rel=\"noreferrer\"><code>@Controller</code></a> annotation (local controller errors), not <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\" rel=\"noreferrer\"><code>@ControllerAdvice</code></a> (used for global errors, such as for rendering HTTP 404 or 500 error pages). See this related question/answer for the use of <a href=\"https://stackoverflow.com/a/35323919/2074605\"><code>@ControllerAdvice</code></a>.</p>\n\n<p>In the above error log, you see that <code>ErrorController</code> is the one reporting the validation errors if I leave out the <code>BindingResult</code>/<code>Errors</code> parameter, and indeed that is my controller class that uses <code>@ControllerAdvice</code> annotation instead of <code>@Controller</code>. By using <code>@ControllerAdvice</code> on your login controller you may be interfering with normal error handling.</p>\n\n<p>Since you are using the <a href=\"https://stackoverflow.com/questions/36173332/difference-between-valid-and-validated-in-spring\">Hibernate-specific</a> <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html\" rel=\"noreferrer\"><code>@Validated</code></a> group validation annotation instead of the <a href=\"http://beanvalidation.org/specification/\" rel=\"noreferrer\">JSR-303/349/380</a> specification <a href=\"http://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\" rel=\"noreferrer\"><code>@Valid</code></a> annotation, there may be some differences between the implementation you used (I'm guessing version 5, which conformed to API 1.1). I am using version 6.0.2, which conforms to the new (August 2017) <a href=\"http://beanvalidation.org/2.0/\" rel=\"noreferrer\">Bean Validation Framework API 2.0</a>.</p>\n"},{"tags":[],"owner":{"account_id":140310,"reputation":599,"user_id":346534,"display_name":"stephan f"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611331657,"creation_date":1611331657,"answer_id":65848665,"question_id":42852886,"body_markdown":"Hibernate Validator 6 does not work out of the box with Spring 4 because Spring 4&#39;s [LocalValidatorFactoryBean][1] does not yet use Java&#39;s [Service Provider][2] mechanism to discover the Validator implementation, so you need to create the validator yourself specifying the implementation.\r\n\r\nWhen using `@EnableWebMvc`:\r\n\r\n    @Bean\r\n    public javax.validation.Validator localValidatorFactoryBean() {\r\n        LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\r\n        bean.setProviderClass(&quot;org.hibernate.validator.HibernateValidator&quot;);\r\n        return bean;\r\n    }\r\n\r\nOr in XML:\r\n\r\n    &lt;mvc:annotation-driven validator=&quot;validator-adapter&quot;/&gt;\r\n    \r\n    &lt;bean id=&quot;validator-adapter&quot; \r\n      class=&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;providerClass&quot;\r\n                  value=&quot;org.hibernate.validator.HibernateValidator&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/commits/master/spring-context/src/main/java/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.java\r\n  [2]: https://docs.oracle.com/javase/tutorial/ext/basics/spi.html","title":"Spring 4 @Validation annotation with BindingResult is not working","body":"<p>Hibernate Validator 6 does not work out of the box with Spring 4 because Spring 4's <a href=\"https://github.com/spring-projects/spring-framework/commits/master/spring-context/src/main/java/org/springframework/validation/beanvalidation/LocalValidatorFactoryBean.java\" rel=\"nofollow noreferrer\">LocalValidatorFactoryBean</a> does not yet use Java's <a href=\"https://docs.oracle.com/javase/tutorial/ext/basics/spi.html\" rel=\"nofollow noreferrer\">Service Provider</a> mechanism to discover the Validator implementation, so you need to create the validator yourself specifying the implementation.</p>\n<p>When using <code>@EnableWebMvc</code>:</p>\n<pre><code>@Bean\npublic javax.validation.Validator localValidatorFactoryBean() {\n    LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\n    bean.setProviderClass(&quot;org.hibernate.validator.HibernateValidator&quot;);\n    return bean;\n}\n</code></pre>\n<p>Or in XML:</p>\n<pre><code>&lt;mvc:annotation-driven validator=&quot;validator-adapter&quot;/&gt;\n\n&lt;bean id=&quot;validator-adapter&quot; \n  class=&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot;&gt;\n    &lt;property name=&quot;providerClass&quot;\n              value=&quot;org.hibernate.validator.HibernateValidator&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2311085,"reputation":149,"user_id":2029198,"display_name":"Hiro_Hamada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694600594,"creation_date":1694600594,"answer_id":77096204,"question_id":42852886,"body_markdown":"In my case:\r\n\r\nuse `@Valid` annotation from `Jakarta package` instead of `javax package`.\r\n\r\nspring-boot version: &#39;3.0.6&#39;","title":"Spring 4 @Validation annotation with BindingResult is not working","body":"<p>In my case:</p>\n<p>use <code>@Valid</code> annotation from <code>Jakarta package</code> instead of <code>javax package</code>.</p>\n<p>spring-boot version: '3.0.6'</p>\n"}],"owner":{"account_id":1506247,"reputation":7562,"user_id":1427460,"accept_rate":64,"display_name":"bNd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11208,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1694600594,"creation_date":1489740351,"question_id":42852886,"body_markdown":"When I use `BindingResult` with `@Validated` annotation in a method, validation is not working. If I remove `BindingResult` from the method parameters, it works fine. I used `@ControllerAdvice`. \r\n\r\nAny idea why is it not working?\r\n\r\nMy code is below:\r\n\r\n    public ResponseEntity&lt;?&gt; dologin(\r\n            @Validated({ Group.Login.class }) @RequestBody User user,\r\n            BindingResult errors)\r\n    {\r\n        // somecode\r\n    }\r\n\r\nAs per the [Validation, Data Binding, and Type Conversion documentation][1],\r\nany validation message will be automatically added to the binderâs `BindingResult`. \r\n\r\nThere will be no impact if I remove it, right?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/validation.html#validation-binder","title":"Spring 4 @Validation annotation with BindingResult is not working","body":"<p>When I use <code>BindingResult</code> with <code>@Validated</code> annotation in a method, validation is not working. If I remove <code>BindingResult</code> from the method parameters, it works fine. I used <code>@ControllerAdvice</code>. </p>\n\n<p>Any idea why is it not working?</p>\n\n<p>My code is below:</p>\n\n<pre><code>public ResponseEntity&lt;?&gt; dologin(\n        @Validated({ Group.Login.class }) @RequestBody User user,\n        BindingResult errors)\n{\n    // somecode\n}\n</code></pre>\n\n<p>As per the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/validation.html#validation-binder\" rel=\"nofollow noreferrer\">Validation, Data Binding, and Type Conversion documentation</a>,\nany validation message will be automatically added to the binderâs <code>BindingResult</code>. </p>\n\n<p>There will be no impact if I remove it, right?</p>\n"},{"tags":["java","encryption","cryptography","rsa","public-key-encryption"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1570212438,"post_id":58240432,"comment_id":102854911,"body_markdown":"Your example doesn&#39;t even compile. Please don&#39;t type in code, instead copy&amp;paste.","body":"Your example doesn&#39;t even compile. Please don&#39;t type in code, instead copy&amp;paste."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1570212665,"post_id":58240432,"comment_id":102855005,"body_markdown":"Cannot reproduce, I get an exception every time. Please try to produce an [MCVE](https://stackoverflow.com/help/minimal-reproducible-example), otherwise I doubt we&#39;ll be able to help you.","body":"Cannot reproduce, I get an exception every time. Please try to produce an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a>, otherwise I doubt we&#39;ll be able to help you."},{"owner":{"account_id":12525464,"reputation":300,"user_id":9115448,"display_name":"Dark Matter"},"score":0,"creation_date":1570213681,"post_id":58240432,"comment_id":102855365,"body_markdown":"You can test this with a self signed certificate","body":"You can test this with a self signed certificate"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1570219296,"post_id":58240432,"comment_id":102857286,"body_markdown":"I did test it with a self-signed certificate. Again, please produce an MCVE.","body":"I did test it with a self-signed certificate. Again, please produce an MCVE."},{"owner":{"account_id":12525464,"reputation":300,"user_id":9115448,"display_name":"Dark Matter"},"score":0,"creation_date":1570219540,"post_id":58240432,"comment_id":102857358,"body_markdown":"Can you share the results? Did you get runtime exception again? I&#39;m just executing the above code and getting the output in byte[] decrypted","body":"Can you share the results? Did you get runtime exception again? I&#39;m just executing the above code and getting the output in byte[] decrypted"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1570219638,"post_id":58240432,"comment_id":102857391,"body_markdown":"Yes, I get a `javax.crypto.BadPaddingException: Decryption error` every time. I should point out that I tested this with the current adoptopenjdk JDK 8 on a macbook pro.","body":"Yes, I get a <code>javax.crypto.BadPaddingException: Decryption error</code> every time. I should point out that I tested this with the current adoptopenjdk JDK 8 on a macbook pro."},{"owner":{"account_id":12525464,"reputation":300,"user_id":9115448,"display_name":"Dark Matter"},"score":0,"creation_date":1570220135,"post_id":58240432,"comment_id":102857567,"body_markdown":"I&#39;m executing this code on eclipse on Windows 10 with Java jdk8 not openjdk and in byte[] decrypted, i&#39;m getting 256 bytes of data. The key is 2048 bit rsa key in ssl certificate.","body":"I&#39;m executing this code on eclipse on Windows 10 with Java jdk8 not openjdk and in byte[] decrypted, i&#39;m getting 256 bytes of data. The key is 2048 bit rsa key in ssl certificate."},{"owner":{"account_id":12525464,"reputation":300,"user_id":9115448,"display_name":"Dark Matter"},"score":0,"creation_date":1570220435,"post_id":58240432,"comment_id":102857674,"body_markdown":"My apologies, it&#39;s NOPADDING instead of PKCS1PADDING. I have edited the question","body":"My apologies, it&#39;s NOPADDING instead of PKCS1PADDING. I have edited the question"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1570223611,"post_id":58240432,"comment_id":102858650,"body_markdown":"Please re-read my first comment.","body":"Please re-read my first comment."}],"answers":[{"tags":[],"owner":{"account_id":6425161,"reputation":927,"user_id":4980575,"accept_rate":25,"display_name":"Madhuchhanda Mandal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570211729,"creation_date":1570211026,"answer_id":58241036,"question_id":58240432,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/javax/crypto/Cipher.html#init(int,%20java.security.Key)\r\n\r\n&gt; Throws:\r\n    InvalidKeyException - if the given key is inappropriate for initializing this cipher, or requires algorithm parameters that cannot be determined from the given key, or if the given key has a keysize that exceeds the maximum allowable keysize (as determined from the configured jurisdiction policy files).\r\n\r\nRSA in decrypt mode reqruires PrivateKey instance instead of PublicKey and hence Case 2 of the above example would throw this exception.\r\n\r\nIf you are wondering Why it does not produce Compile time error, PublicKey and PrivateKey both extends Key Class and hence the Cipher.init(int,Key) signature is satisfied by both the Cases of your code. ","title":"Java rsa decrypt_mode behavior","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/Cipher.html#init(int,%20java.security.Key)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/crypto/Cipher.html#init(int,%20java.security.Key)</a></p>\n\n<blockquote>\n  <p>Throws:\n      InvalidKeyException - if the given key is inappropriate for initializing this cipher, or requires algorithm parameters that cannot be determined from the given key, or if the given key has a keysize that exceeds the maximum allowable keysize (as determined from the configured jurisdiction policy files).</p>\n</blockquote>\n\n<p>RSA in decrypt mode reqruires PrivateKey instance instead of PublicKey and hence Case 2 of the above example would throw this exception.</p>\n\n<p>If you are wondering Why it does not produce Compile time error, PublicKey and PrivateKey both extends Key Class and hence the Cipher.init(int,Key) signature is satisfied by both the Cases of your code. </p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570275096,"creation_date":1570234836,"answer_id":58244402,"question_id":58240432,"body_markdown":"If you specify `NoPadding` then you basically get modular exponentiation. Of course, before that there is a step to convert the binary input to a number, and afterwards the encoding from a number to binary again. Funny enough that&#39;s true for both encryption and decryption, as those operations are rather symmetric for RSA. \r\n\r\nThe only difference is that you do first use the public key for encryption and the *private key* for decryption. However, sometimes you have to create your own *verification* scheme. In that case a raw modular exponentiation *with the public key* will nicely give you the (commonly padded) result. So then *decryption* with the public key makes some sense, even if it technically shouldn&#39;t be called decryption.\r\n\r\nAll in all, if your input is about the right size than just the decoding the input to a number, modular encryption (or decryption) and finally encoding the result will *never* fail. So you just get an output with the same size as the modulus, i.e. the key size in bytes. It is the unpadding for RSA that may fail. But your code would just run because you don&#39;t do any unpadding.\r\n\r\nOf course, if you use the wrong modulus and exponent, the result of the decryption will not make any sense; it will look like a random number between 0 and the modulus used for the last operation.","title":"Java rsa decrypt_mode behavior","body":"<p>If you specify <code>NoPadding</code> then you basically get modular exponentiation. Of course, before that there is a step to convert the binary input to a number, and afterwards the encoding from a number to binary again. Funny enough that's true for both encryption and decryption, as those operations are rather symmetric for RSA. </p>\n\n<p>The only difference is that you do first use the public key for encryption and the <em>private key</em> for decryption. However, sometimes you have to create your own <em>verification</em> scheme. In that case a raw modular exponentiation <em>with the public key</em> will nicely give you the (commonly padded) result. So then <em>decryption</em> with the public key makes some sense, even if it technically shouldn't be called decryption.</p>\n\n<p>All in all, if your input is about the right size than just the decoding the input to a number, modular encryption (or decryption) and finally encoding the result will <em>never</em> fail. So you just get an output with the same size as the modulus, i.e. the key size in bytes. It is the unpadding for RSA that may fail. But your code would just run because you don't do any unpadding.</p>\n\n<p>Of course, if you use the wrong modulus and exponent, the result of the decryption will not make any sense; it will look like a random number between 0 and the modulus used for the last operation.</p>\n"}],"owner":{"account_id":12525464,"reputation":300,"user_id":9115448,"display_name":"Dark Matter"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":58244402,"answer_count":2,"score":1,"last_activity_date":1694600284,"creation_date":1570207947,"question_id":58240432,"body_markdown":"I was just experimenting with the following code but I don&#39;t understand why the code behaves the way it does:\r\n\r\n    public class Test\r\n    {\r\n\r\n        public static void main(String args[]) throws Exception\r\n        {\r\n            CertificateFactory certificateFactory1 = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            X509Certificate certificate1 = (X509Certificate)certificateFactory1.generateCertificate(Test.class.getResourceAsStream(&quot;pub.cer&quot;);      //Loading ssl certificate \r\n            PublicKey pk1 = certificate1.getPublicKey();\r\n            Cipher cipher1 = Cipher.getInstance(&quot;RSA/ECB/NOPADDING&quot;);\r\n            cipher1.init(Cipher.ENCRYPT_MODE, pk1);\r\n            bytes[] encrypted = cipher1.doFinal(&quot;dummy&quot;.getBytes(&quot;UTF-8&quot;);\r\n\r\n            CertificateFactory certificateFactory2 = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            X509Certificate certificate2 = (X509Certificate)certificateFactory2.generateCertificate(Test.class.getResourceAsStream(&quot;pub.cer&quot;);     //Loading ssl certificate\r\n            PublicKey pk2 = certificate2.getPublicKey();\r\n            Cipher cipher2 = Cipher.getInstance(&quot;RSA/ECB/NOPADDING&quot;);\r\n            cipher2.init(Cipher.DECRYPT_MODE, pk2);\r\n            bytes[] decrypted = cipher2.doFinal(encrypted);\r\n        }\r\n    }\r\n\r\nWhy in `byte[]` decrypted I&#39;m getting output by `doFinal`? I&#39;m using jdk1.8.0_192.\r\n\r\nBecause I&#39;m using public key for decryption and in asymmetric public key cryptography we can encrypt with public key and decrypt with private key.\r\n\r\nCan somebody explain that and hopefully back it up with documentation?\r\n","title":"Java rsa decrypt_mode behavior","body":"<p>I was just experimenting with the following code but I don't understand why the code behaves the way it does:</p>\n\n<pre><code>public class Test\n{\n\n    public static void main(String args[]) throws Exception\n    {\n        CertificateFactory certificateFactory1 = CertificateFactory.getInstance(\"X.509\");\n        X509Certificate certificate1 = (X509Certificate)certificateFactory1.generateCertificate(Test.class.getResourceAsStream(\"pub.cer\");      //Loading ssl certificate \n        PublicKey pk1 = certificate1.getPublicKey();\n        Cipher cipher1 = Cipher.getInstance(\"RSA/ECB/NOPADDING\");\n        cipher1.init(Cipher.ENCRYPT_MODE, pk1);\n        bytes[] encrypted = cipher1.doFinal(\"dummy\".getBytes(\"UTF-8\");\n\n        CertificateFactory certificateFactory2 = CertificateFactory.getInstance(\"X.509\");\n        X509Certificate certificate2 = (X509Certificate)certificateFactory2.generateCertificate(Test.class.getResourceAsStream(\"pub.cer\");     //Loading ssl certificate\n        PublicKey pk2 = certificate2.getPublicKey();\n        Cipher cipher2 = Cipher.getInstance(\"RSA/ECB/NOPADDING\");\n        cipher2.init(Cipher.DECRYPT_MODE, pk2);\n        bytes[] decrypted = cipher2.doFinal(encrypted);\n    }\n}\n</code></pre>\n\n<p>Why in <code>byte[]</code> decrypted I'm getting output by <code>doFinal</code>? I'm using jdk1.8.0_192.</p>\n\n<p>Because I'm using public key for decryption and in asymmetric public key cryptography we can encrypt with public key and decrypt with private key.</p>\n\n<p>Can somebody explain that and hopefully back it up with documentation?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":14519969,"reputation":43,"user_id":10487897,"display_name":"Patrick Dalington"},"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1631363761,"creation_date":1631361619,"answer_id":69142803,"question_id":69142705,"body_markdown":"The problem is missing constraints. Any view you add in **Constraint** layout, you must set the margins otherwise you will get those errors and even if your app managed to run, your edit text will not be place properly.\r\n\r\nAdd this to your editText;\r\n\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n\r\nLet me know if it worked.\r\nRemember you can twick this to your desired position.\r\n\r\n ","title":"No speakable text present at Android Studio","body":"<p>The problem is missing constraints. Any view you add in <strong>Constraint</strong> layout, you must set the margins otherwise you will get those errors and even if your app managed to run, your edit text will not be place properly.</p>\n<p>Add this to your editText;</p>\n<pre><code>    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n</code></pre>\n<p>Let me know if it worked.\nRemember you can twick this to your desired position.</p>\n"},{"tags":[],"owner":{"account_id":8372162,"reputation":984,"user_id":6286922,"accept_rate":80,"display_name":"Squash"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1631877225,"creation_date":1631877225,"answer_id":69222494,"question_id":69142705,"body_markdown":"The problem is you are missing content labeling for the view, you should add content description so the user could simply understand what data he should enter into the view\r\n\r\nfor example, if you want the user to enter the number of cookies he wants you should add a content description as seen below:\r\n\r\n    android:contentDescription=&quot;Enter How Much Cookies You Want&quot;\r\n\r\nYou should also add an android:hint so the user would have it in front of them an example of the data you want inputted for example:\r\n\r\n    android:hint=&quot;e.g 5&quot;\r\n\r\n \r\n\r\nSo your views XML code should look as follows\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextNumber2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;number&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        android:contentDescription=&quot;Enter How Much Cookies You Want&quot; \r\n        android:hint=&quot;e.g 8&quot; /&gt;\r\n","title":"No speakable text present at Android Studio","body":"<p>The problem is you are missing content labeling for the view, you should add content description so the user could simply understand what data he should enter into the view</p>\n<p>for example, if you want the user to enter the number of cookies he wants you should add a content description as seen below:</p>\n<pre><code>android:contentDescription=&quot;Enter How Much Cookies You Want&quot;\n</code></pre>\n<p>You should also add an android:hint so the user would have it in front of them an example of the data you want inputted for example:</p>\n<pre><code>android:hint=&quot;e.g 5&quot;\n</code></pre>\n<p>So your views XML code should look as follows</p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/editTextNumber2&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:ems=&quot;10&quot;\n    android:inputType=&quot;number&quot;\n    android:minHeight=&quot;48dp&quot;\n    android:contentDescription=&quot;Enter How Much Cookies You Want&quot; \n    android:hint=&quot;e.g 8&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23133804,"reputation":11,"user_id":17238304,"display_name":"Badal Mahawar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680780930,"creation_date":1642317934,"answer_id":70728121,"question_id":69142705,"body_markdown":"The solution is simple you just need to add the text into the hint part.\r\nsearch hint in search-bar ant type something in hint block.\r\nand hit Enter.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vGqMB.png\r\n\r\n","title":"No speakable text present at Android Studio","body":"<p>The solution is simple you just need to add the text into the hint part.\nsearch hint in search-bar ant type something in hint block.\nand hit Enter.</p>\n<p><img src=\"https://i.stack.imgur.com/vGqMB.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":8797649,"reputation":41,"user_id":6575044,"display_name":"MrSALSA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684761471,"creation_date":1684760842,"answer_id":76306527,"question_id":69142705,"body_markdown":"For everyone who has the same error message as above, but the shown solutions were not helpful, you could try the following: Check if there is an empty (not set) `android:contentDescription` field at any view in your *.xml file.\r\n\r\nIn my case I was adding an `android:contentDescription` to a view but forgot to actually set it&#39;s value - after I was setting up a string variable for it. So it looked like this:\r\n\r\n    &lt;TextView\r\n                        android:id=&quot;@+id/textView_A&quot;\r\n                        android:text=&quot;@string/textView_A_text&quot;\r\n                        android:contentDescription=&quot;&quot;/&gt;\r\n\r\nSo Android Studio gave me the same &quot;No speakable text present&quot; error message, but not for that specific view but for another, which was some views below the one I changed, where I did not even added the field `android:contentDescription`.\r\n\r\nAfter adding my string variable like in the following code, the error was gone.\r\n\r\n    &lt;TextView\r\n                        android:id=&quot;@+id/textView_A&quot;\r\n                        android:text=&quot;@string/textView_A_text&quot;\r\n                        android:contentDescription=&quot;@string/TextView_A_contentDescription&quot;/&gt;\r\n\r\nHope it helps.","title":"No speakable text present at Android Studio","body":"<p>For everyone who has the same error message as above, but the shown solutions were not helpful, you could try the following: Check if there is an empty (not set) <code>android:contentDescription</code> field at any view in your *.xml file.</p>\n<p>In my case I was adding an <code>android:contentDescription</code> to a view but forgot to actually set it's value - after I was setting up a string variable for it. So it looked like this:</p>\n<pre><code>&lt;TextView\n                    android:id=&quot;@+id/textView_A&quot;\n                    android:text=&quot;@string/textView_A_text&quot;\n                    android:contentDescription=&quot;&quot;/&gt;\n</code></pre>\n<p>So Android Studio gave me the same &quot;No speakable text present&quot; error message, but not for that specific view but for another, which was some views below the one I changed, where I did not even added the field <code>android:contentDescription</code>.</p>\n<p>After adding my string variable like in the following code, the error was gone.</p>\n<pre><code>&lt;TextView\n                    android:id=&quot;@+id/textView_A&quot;\n                    android:text=&quot;@string/textView_A_text&quot;\n                    android:contentDescription=&quot;@string/TextView_A_contentDescription&quot;/&gt;\n</code></pre>\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":29426143,"reputation":11,"user_id":22546811,"display_name":"Sahinuzzaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694600160,"creation_date":1694600160,"answer_id":77096149,"question_id":69142705,"body_markdown":"Just type in text view\r\n android:contentDescription=&quot;NULL&quot;\r\nThe error is gone example:-\r\n\r\n     &lt;ImageButton\r\n                android:id=&quot;@+id/delButton&quot;\r\n                android:layout_marginLeft=&quot;280dp&quot;\r\n                android:layout_width=&quot;50dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:src=&quot;@drawable/clear&quot;\r\n                android:contentDescription=&quot;NULL&quot;\r\n\r\n                /&gt;\r\n\r\n[N.B= ImageButton and Textview same rule work properly]","title":"No speakable text present at Android Studio","body":"<p>Just type in text view\nandroid:contentDescription=&quot;NULL&quot;\nThe error is gone example:-</p>\n<pre><code> &lt;ImageButton\n            android:id=&quot;@+id/delButton&quot;\n            android:layout_marginLeft=&quot;280dp&quot;\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:src=&quot;@drawable/clear&quot;\n            android:contentDescription=&quot;NULL&quot;\n\n            /&gt;\n</code></pre>\n<p>[N.B= ImageButton and Textview same rule work properly]</p>\n"}],"owner":{"account_id":22721492,"reputation":189,"user_id":16885941,"display_name":"ÐÐ²Ð°Ð½ Ð Ð¾Ð³Ð¾Ð¶ÐºÐ¸Ð½"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91387,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"answer_count":5,"score":18,"last_activity_date":1694600160,"creation_date":1631360935,"question_id":69142705,"body_markdown":"When adding a field for entering a number(Number widget), the error &quot;No speakable text present at Android Studio&quot; takes off\r\n\r\n![1]\r\n\r\ncontent_main.xml:\r\n\r\n![2]\r\n\r\nactivity_main.xml:\r\n\r\n![3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oviVm.png\r\n  [2]: https://i.stack.imgur.com/ClqZu.png\r\n  [3]: https://i.stack.imgur.com/H2hxa.png","title":"No speakable text present at Android Studio","body":"<p>When adding a field for entering a number(Number widget), the error &quot;No speakable text present at Android Studio&quot; takes off</p>\n<p><img src=\"https://i.stack.imgur.com/oviVm.png\" alt=\"1\" /></p>\n<p>content_main.xml:</p>\n<p><img src=\"https://i.stack.imgur.com/ClqZu.png\" alt=\"2\" /></p>\n<p>activity_main.xml:</p>\n<p><img src=\"https://i.stack.imgur.com/H2hxa.png\" alt=\"3\" /></p>\n"},{"tags":["java","android","kotlin","android-tv","android-remoteview"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694600863,"post_id":77096134,"comment_id":135911673,"body_markdown":"You can use an existing interface like `adb` or implement your own API which requires a self-developed app on both platform.","body":"You can use an existing interface like <code>adb</code> or implement your own API which requires a self-developed app on both platform."}],"owner":{"account_id":23179513,"reputation":220,"user_id":17277520,"display_name":"Tombstone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694600054,"creation_date":1694600054,"question_id":77096134,"body_markdown":"How to get a list of applications that are installed on android tv and i want to display that list in an android phone application any one have idea how to get that?\r\n\r\nI want to disply list of application which is install in android tv after sucessfull connection between android phone and tv.\r\n\r\nI have no idea how to do that!","title":"Android Remote control app (on phone) for launch application from device","body":"<p>How to get a list of applications that are installed on android tv and i want to display that list in an android phone application any one have idea how to get that?</p>\n<p>I want to disply list of application which is install in android tv after sucessfull connection between android phone and tv.</p>\n<p>I have no idea how to do that!</p>\n"},{"tags":["java","json","spring-boot","spring-data-jpa","httprequest"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1694600657,"post_id":77096132,"comment_id":135911638,"body_markdown":"Don&#39;t mix your &#39;DTO&#39; classes with logic classes, and `@Component` on top of all that. Make simple models and it will work - I prefer immutable models, no setters, full constructors, no empty constructors, no problems.","body":"Don&#39;t mix your &#39;DTO&#39; classes with logic classes, and <code>@Component</code> on top of all that. Make simple models and it will work - I prefer immutable models, no setters, full constructors, no empty constructors, no problems."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1694609223,"post_id":77096132,"comment_id":135913434,"body_markdown":"Probably: how should a Map&lt;Account, Integer&gt; be deserialized from a json?","body":"Probably: how should a Map&lt;Account, Integer&gt; be deserialized from a json?"}],"owner":{"account_id":29422677,"reputation":1,"user_id":22550163,"display_name":"nmd19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694600030,"creation_date":1694600030,"question_id":77096132,"body_markdown":"I am creating a simple Spring Data JPA project for testing HTTP request and found out that @RequestBody has error when out of the field is of type `Map&lt;Object, ...&gt;`.  In this case it is `private Map&lt;Account, Integer&gt; test = new LinkedHashMap&lt;&gt;();`\r\nI have a Cat class:\r\n```\r\n@Component\r\npublic class Cat {\r\n\r\n    private String name;\r\n    private int age;\r\n\r\n    private Map&lt;Account, Integer&gt; test = new LinkedHashMap&lt;&gt;();\r\n\r\n    public Cat() {\r\n        System.out.println(&quot;Constructor&quot;);\r\n    }\r\n\r\n    public Cat(String name, int age){\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n// getters and setters\r\n```\r\nAnd a Account class:\r\n\r\n```\r\n@Component\r\npublic class Account {\r\n    private String username;\r\n    private String password;\r\n\r\n    public Account() {\r\n    }\r\n\r\n    public Account(String username, String password) {\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n// getters and setters\r\n```\r\nThis is my controller for POST request:\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/api/post&quot;)\r\npublic class PostController {\r\n    @PostMapping()\r\n    public ResponseEntity&lt;?&gt; postCat(@RequestBody Cat cat) {\r\n        System.out.println(&quot;Post cat: &quot; + cat);\r\n        return ResponseEntity.ok(cat);\r\n    }\r\n}\r\n```\r\nI use POSTMAN to create a POST request and send JSON file as body. This is the file:\r\n```\r\n{\r\n    &quot;name&quot;: &quot;abc&quot;,\r\n    &quot;age&quot;: 1000\r\n}\r\n```\r\n(I didn&#39;t include the Map in the JSON file)\r\nThough the code was simple, I encountered this error:\r\n`Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;application/json;charset=UTF-8&#39; is not supported]`\r\n\r\n\r\nAfter testing a few things, I notice that there are 2 ways to solve the problems(the problem was probably because of the Map field):\r\n1. Adding `@JsonIgnore` to the `private Map&lt;Account, Integer&gt; test = new LinkedHashMap&lt;&gt;();`\r\n\r\n2. Changing the Map to `private Map&lt;Integer, Account&gt; test = new LinkedHashMap&lt;&gt;();`\r\n(I guess its because @RequestBody cannot work with Map which has a user_defined Object as Key, related to its deserialization process)\r\n\r\n\r\nDoes anyone know the exact reason and explain it for me?\r\nThanks","title":"@RequestBody can not work with Map has Object as Key","body":"<p>I am creating a simple Spring Data JPA project for testing HTTP request and found out that @RequestBody has error when out of the field is of type <code>Map&lt;Object, ...&gt;</code>.  In this case it is <code>private Map&lt;Account, Integer&gt; test = new LinkedHashMap&lt;&gt;();</code>\nI have a Cat class:</p>\n<pre><code>@Component\npublic class Cat {\n\n    private String name;\n    private int age;\n\n    private Map&lt;Account, Integer&gt; test = new LinkedHashMap&lt;&gt;();\n\n    public Cat() {\n        System.out.println(&quot;Constructor&quot;);\n    }\n\n    public Cat(String name, int age){\n        this.name = name;\n        this.age = age;\n    }\n// getters and setters\n</code></pre>\n<p>And a Account class:</p>\n<pre><code>@Component\npublic class Account {\n    private String username;\n    private String password;\n\n    public Account() {\n    }\n\n    public Account(String username, String password) {\n        this.username = username;\n        this.password = password;\n    }\n// getters and setters\n</code></pre>\n<p>This is my controller for POST request:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/post&quot;)\npublic class PostController {\n    @PostMapping()\n    public ResponseEntity&lt;?&gt; postCat(@RequestBody Cat cat) {\n        System.out.println(&quot;Post cat: &quot; + cat);\n        return ResponseEntity.ok(cat);\n    }\n}\n</code></pre>\n<p>I use POSTMAN to create a POST request and send JSON file as body. This is the file:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;abc&quot;,\n    &quot;age&quot;: 1000\n}\n</code></pre>\n<p>(I didn't include the Map in the JSON file)\nThough the code was simple, I encountered this error:\n<code>Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'application/json;charset=UTF-8' is not supported]</code></p>\n<p>After testing a few things, I notice that there are 2 ways to solve the problems(the problem was probably because of the Map field):</p>\n<ol>\n<li><p>Adding <code>@JsonIgnore</code> to the <code>private Map&lt;Account, Integer&gt; test = new LinkedHashMap&lt;&gt;();</code></p>\n</li>\n<li><p>Changing the Map to <code>private Map&lt;Integer, Account&gt; test = new LinkedHashMap&lt;&gt;();</code>\n(I guess its because @RequestBody cannot work with Map which has a user_defined Object as Key, related to its deserialization process)</p>\n</li>\n</ol>\n<p>Does anyone know the exact reason and explain it for me?\nThanks</p>\n"},{"tags":["java","apache","tomcat7"],"comments":[{"owner":{"account_id":87204,"reputation":22463,"user_id":241990,"accept_rate":100,"display_name":"Shaun the Sheep"},"score":0,"creation_date":1361727383,"post_id":15054397,"comment_id":21164532,"body_markdown":"Do you have any older Java versions on your system? What does `java -version` show?","body":"Do you have any older Java versions on your system? What does <code>java -version</code> show?"},{"owner":{"account_id":1321290,"reputation":9419,"user_id":1267068,"accept_rate":57,"display_name":"NickJ"},"score":0,"creation_date":1361727814,"post_id":15054397,"comment_id":21164660,"body_markdown":"Have you changed any other config files? Do you have a backup of the config file you changed? Tomcat usually works out of the box, and changing config is not recommended for a beginner.","body":"Have you changed any other config files? Do you have a backup of the config file you changed? Tomcat usually works out of the box, and changing config is not recommended for a beginner."},{"owner":{"account_id":1892177,"reputation":4665,"user_id":1709964,"accept_rate":52,"display_name":"rick"},"score":0,"creation_date":1361763488,"post_id":15054397,"comment_id":21174098,"body_markdown":"@LukeTaylor No, I don&#39;t have any older java versions. I have java 1.6.","body":"@LukeTaylor No, I don&#39;t have any older java versions. I have java 1.6."},{"owner":{"account_id":1892177,"reputation":4665,"user_id":1709964,"accept_rate":52,"display_name":"rick"},"score":0,"creation_date":1361763511,"post_id":15054397,"comment_id":21174104,"body_markdown":"@NickJ Yeah. I have back up.","body":"@NickJ Yeah. I have back up."}],"answers":[{"tags":[],"owner":{"account_id":1321290,"reputation":9419,"user_id":1267068,"accept_rate":57,"display_name":"NickJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361786364,"creation_date":1361786364,"answer_id":15064327,"question_id":15054397,"body_markdown":"One thing I noticed it the stack trace is this:\r\n\r\n    Caused by: java.lang.NoSuchMethodError: java.util.concurrent.ThreadPoolExecutor.allowCoreThreadTimeOut(Z)V\r\n\r\nLooking at the Javadoc for ThreadPoolExecutor, it appears that the method allowCoreThreatTimeOut(boolean) was introduced in Java 6. It was not present in earlier versions. The error above is exactly what you&#39;d find if you run a java program designed for version 6+ on an out-of-date JVM.\r\n\r\nWhen you first start tomcat, you should have lines something like this:\r\n\r\n    Using CATALINA_BASE:   /home/nick/tools/apache-tomcat-6.0.35\r\n    Using CATALINA_HOME:   /home/nick/tools/apache-tomcat-6.0.35\r\n    Using CATALINA_TMPDIR: /home/nick/tools/apache-tomcat-6.0.35/temp\r\n    Using JRE_HOME:        /usr\r\n    Using CLASSPATH:       /home/nick/tools/apache-tomcat-6.0.35/bin/bootstrap.jar\r\n\r\nLook at the directory for JRE_HOME and see what you get. Maybe you have a Java 5 installed somewhere which Tomcat&#39;s trying to use, although the command line sees the Java 6 installation. Having multiple java versions installed can cause confusion.","title":"Unable to get started with apache tomcat","body":"<p>One thing I noticed it the stack trace is this:</p>\n\n<pre><code>Caused by: java.lang.NoSuchMethodError: java.util.concurrent.ThreadPoolExecutor.allowCoreThreadTimeOut(Z)V\n</code></pre>\n\n<p>Looking at the Javadoc for ThreadPoolExecutor, it appears that the method allowCoreThreatTimeOut(boolean) was introduced in Java 6. It was not present in earlier versions. The error above is exactly what you'd find if you run a java program designed for version 6+ on an out-of-date JVM.</p>\n\n<p>When you first start tomcat, you should have lines something like this:</p>\n\n<pre><code>Using CATALINA_BASE:   /home/nick/tools/apache-tomcat-6.0.35\nUsing CATALINA_HOME:   /home/nick/tools/apache-tomcat-6.0.35\nUsing CATALINA_TMPDIR: /home/nick/tools/apache-tomcat-6.0.35/temp\nUsing JRE_HOME:        /usr\nUsing CLASSPATH:       /home/nick/tools/apache-tomcat-6.0.35/bin/bootstrap.jar\n</code></pre>\n\n<p>Look at the directory for JRE_HOME and see what you get. Maybe you have a Java 5 installed somewhere which Tomcat's trying to use, although the command line sees the Java 6 installation. Having multiple java versions installed can cause confusion.</p>\n"},{"tags":[],"owner":{"account_id":11608151,"reputation":140,"user_id":8503118,"display_name":"manoj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670828325,"creation_date":1670828325,"answer_id":74767611,"question_id":15054397,"body_markdown":"Tomcat needs JRE as env.\r\nThen start the tomcat. \r\nor set the path for JRE_HOME in &quot;catalina.bat&quot; file. \r\nFind the attached screenshot \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HdyWT.png","title":"Unable to get started with apache tomcat","body":"<p>Tomcat needs JRE as env.\nThen start the tomcat.\nor set the path for JRE_HOME in &quot;catalina.bat&quot; file.\nFind the attached screenshot\n<a href=\"https://i.stack.imgur.com/HdyWT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HdyWT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1892177,"reputation":4665,"user_id":1709964,"accept_rate":52,"display_name":"rick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10305,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694599715,"creation_date":1361726909,"question_id":15054397,"body_markdown":"I have started learning Servlets, so I downloaded the apache tomcat 7.x zip file(core--&gt; zip) from [here](http://tomcat.apache.org/download-70.cgi). I extracted it to my directory (D:\\), then I have just set up the `JAVA_HOME` System variable to a value of `C:\\Program Files\\Java\\jdk1.6.0`(My computer is running on **windows 7** Home basic). \r\n\r\nI have started up the server by **startup.bat** file in `bin` folder. When I just try to access `localhost:8080`, it always says `unable to connect` on the browser. So I changed the port number to `9999` in **server.xml** and restarted it. It again says unable to connect in my browser. When I start up the server it shows the following on the command shell. Can someone please help me solve this issue and make my server work? \r\n\r\nBy observing the following on the command shell, I could only find this line which seems to give some indication of the problem: **`Failed to initialize component [Standard Server[8005]]`**. I still don&#39;t know what it has to do with the unable to connect..\r\n\r\n\r\n    Feb 24, 2013 4:58:02 PM org.apache.catalina.core.AprLifecycleListener init\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performanc\r\n    e in production environments was not found on the java.library.path: C:\\Program\r\n    Files\\Java\\jdk1.6.0\\bin;.;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\system32;C:\\\r\n    Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\\r\n    Program Files\\Java\\jdk1.6.0\\bin\r\n    Feb 24, 2013 4:58:02 PM org.apache.catalina.startup.Catalina load\r\n    SEVERE: Catalina.start\r\n    org.apache.catalina.LifecycleException: Failed to initialize component [Standard\r\n    Server[8005]]\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:106)\r\n            at org.apache.catalina.startup.Catalina.load(Catalina.java:633)\r\n            at org.apache.catalina.startup.Catalina.load(Catalina.java:658)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:39)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:585)\r\n            at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:281)\r\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:455)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to initialize componen\r\n    t [StandardService[Catalina]]\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:106)\r\n            at org.apache.catalina.core.StandardServer.initInternal(StandardServer.j\r\n    ava:814)\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n            ... 8 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to initialize componen\r\n    t [StandardEngine[Catalina]]\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:106)\r\n            at org.apache.catalina.core.StandardService.initInternal(StandardService\r\n    .java:544)\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n            ... 10 more\r\n    Caused by: java.lang.NoSuchMethodError: java.util.concurrent.ThreadPoolExecutor.\r\n    allowCoreThreadTimeOut(Z)V\r\n            at org.apache.catalina.core.ContainerBase.initInternal(ContainerBase.jav\r\n    a:1083)\r\n            at org.apache.catalina.core.StandardEngine.initInternal(StandardEngine.j\r\n    ava:283)\r\n            at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n            ... 12 more\r\n    Feb 24, 2013 4:58:02 PM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 532 ms\r\n    Feb 24, 2013 4:58:02 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;http-bio-9999&quot;]\r\n    Feb 24, 2013 4:58:02 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Feb 24, 2013 4:58:02 PM org.apache.catalina.core.StandardService stopInternal\r\n    INFO: Stopping service Catalina\r\n    Feb 24, 2013 4:58:03 PM org.apache.catalina.startup.Catalina start\r\n    SEVERE: Catalina.start:\r\n    org.apache.catalina.LifecycleException: Failed to stop component [StandardServer\r\n    [8005]]\r\n            at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:141)\r\n            at org.apache.catalina.startup.Catalina.start(Catalina.java:684)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:39)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:585)\r\n            at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\r\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)\r\n    Caused by: org.apache.catalina.LifecycleException: An invalid Lifecycle transiti\r\n    on was attempted ([before_stop]) for component [org.apache.catalina.deploy.Namin\r\n    gResources@1807ca8] in state [INITIALIZED]\r\n            at org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBas\r\n    e.java:409)\r\n            at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:219)\r\n            at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.j\r\n    ava:756)\r\n            at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\r\n            ... 8 more\r\n    Feb 24, 2013 4:58:03 PM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 11 ms\r\n\r\n","title":"Unable to get started with apache tomcat","body":"<p>I have started learning Servlets, so I downloaded the apache tomcat 7.x zip file(core--> zip) from <a href=\"http://tomcat.apache.org/download-70.cgi\" rel=\"nofollow\">here</a>. I extracted it to my directory (D:), then I have just set up the <code>JAVA_HOME</code> System variable to a value of <code>C:\\Program Files\\Java\\jdk1.6.0</code>(My computer is running on <strong>windows 7</strong> Home basic). </p>\n\n<p>I have started up the server by <strong>startup.bat</strong> file in <code>bin</code> folder. When I just try to access <code>localhost:8080</code>, it always says <code>unable to connect</code> on the browser. So I changed the port number to <code>9999</code> in <strong>server.xml</strong> and restarted it. It again says unable to connect in my browser. When I start up the server it shows the following on the command shell. Can someone please help me solve this issue and make my server work? </p>\n\n<p>By observing the following on the command shell, I could only find this line which seems to give some indication of the problem: <strong><code>Failed to initialize component [Standard Server[8005]]</code></strong>. I still don't know what it has to do with the unable to connect..</p>\n\n<pre><code>Feb 24, 2013 4:58:02 PM org.apache.catalina.core.AprLifecycleListener init\nINFO: The APR based Apache Tomcat Native library which allows optimal performanc\ne in production environments was not found on the java.library.path: C:\\Program\nFiles\\Java\\jdk1.6.0\\bin;.;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\system32;C:\\\nWindows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\\nProgram Files\\Java\\jdk1.6.0\\bin\nFeb 24, 2013 4:58:02 PM org.apache.catalina.startup.Catalina load\nSEVERE: Catalina.start\norg.apache.catalina.LifecycleException: Failed to initialize component [Standard\nServer[8005]]\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:106)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:633)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:658)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:281)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:455)\nCaused by: org.apache.catalina.LifecycleException: Failed to initialize componen\nt [StandardService[Catalina]]\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:106)\n        at org.apache.catalina.core.StandardServer.initInternal(StandardServer.j\nava:814)\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n        ... 8 more\nCaused by: org.apache.catalina.LifecycleException: Failed to initialize componen\nt [StandardEngine[Catalina]]\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:106)\n        at org.apache.catalina.core.StandardService.initInternal(StandardService\n.java:544)\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n        ... 10 more\nCaused by: java.lang.NoSuchMethodError: java.util.concurrent.ThreadPoolExecutor.\nallowCoreThreadTimeOut(Z)V\n        at org.apache.catalina.core.ContainerBase.initInternal(ContainerBase.jav\na:1083)\n        at org.apache.catalina.core.StandardEngine.initInternal(StandardEngine.j\nava:283)\n        at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n        ... 12 more\nFeb 24, 2013 4:58:02 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 532 ms\nFeb 24, 2013 4:58:02 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"http-bio-9999\"]\nFeb 24, 2013 4:58:02 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"ajp-bio-8009\"]\nFeb 24, 2013 4:58:02 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service Catalina\nFeb 24, 2013 4:58:03 PM org.apache.catalina.startup.Catalina start\nSEVERE: Catalina.start:\norg.apache.catalina.LifecycleException: Failed to stop component [StandardServer\n[8005]]\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:141)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:684)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)\nCaused by: org.apache.catalina.LifecycleException: An invalid Lifecycle transiti\non was attempted ([before_stop]) for component [org.apache.catalina.deploy.Namin\ngResources@1807ca8] in state [INITIALIZED]\n        at org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBas\ne.java:409)\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:219)\n        at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.j\nava:756)\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)\n        ... 8 more\nFeb 24, 2013 4:58:03 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 11 ms\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","java-8"],"comments":[{"owner":{"account_id":7723583,"reputation":322,"user_id":5848998,"display_name":"Huntro"},"score":0,"creation_date":1516112319,"post_id":28753473,"comment_id":83550448,"body_markdown":"This worked for me: https://stackoverflow.com/a/41499934/5848998","body":"This worked for me: <a href=\"https://stackoverflow.com/a/41499934/5848998\">stackoverflow.com/a/41499934/5848998</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user4624689"},"down_vote_count":4,"up_vote_count":13,"is_accepted":true,"score":9,"last_activity_date":1425469303,"creation_date":1425469303,"answer_id":28853537,"question_id":28753473,"body_markdown":"This will prevent multiple context tags to be created upon each request\r\n\r\n***1)*** Stop the server  \r\n***2)*** Clean Tomcat&#39;s work directory \r\n\r\n![Screenshot for location: ][1]\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3NxMp.jpg","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>This will prevent multiple context tags to be created upon each request</p>\n\n<p><strong><em>1)</em></strong> Stop the server<br>\n<strong><em>2)</em></strong> Clean Tomcat's work directory </p>\n\n<p><img src=\"https://i.stack.imgur.com/3NxMp.jpg\" alt=\"Screenshot for location: \"></p>\n"},{"tags":[],"owner":{"account_id":8313090,"reputation":84,"user_id":6247435,"display_name":"Nirav Majevadiya"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1462256662,"creation_date":1462256662,"answer_id":36997066,"question_id":28753473,"body_markdown":"If you are not using annotation based Servlet then please remove annotation **@WebServlet(&quot;/YourServletName&quot;)**  from the starting of the servlet. This annotation confuses the mapping with web.xml, after removing this annotation Tomcat server will work properly.","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>If you are not using annotation based Servlet then please remove annotation <strong>@WebServlet(\"/YourServletName\")</strong>  from the starting of the servlet. This annotation confuses the mapping with web.xml, after removing this annotation Tomcat server will work properly.</p>\n"},{"tags":[],"owner":{"account_id":5846092,"reputation":27,"user_id":4606174,"display_name":"ShreyJo10"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1482086522,"creation_date":1482086522,"answer_id":41211613,"question_id":28753473,"body_markdown":"Go to the task manager, kill the java processes and turn the server back on.\r\nshould work fine.\r\n","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>Go to the task manager, kill the java processes and turn the server back on.\nshould work fine.</p>\n"},{"tags":[],"owner":{"account_id":9364821,"reputation":49,"user_id":7051714,"accept_rate":80,"display_name":"Taleev Aalam"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1482129363,"creation_date":1482128216,"answer_id":41216758,"question_id":28753473,"body_markdown":"Went through the various resources on the net but none of them helped then i deleted the existing server and added the same server again and now it is working fine and the steps are \r\n&gt;**Window&gt;&gt;ShowView&gt;&gt;Servers&gt;&gt;RightClick&gt;&gt;Delete** \r\n\r\nand then add the server again as you have added previously.\r\n ","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>Went through the various resources on the net but none of them helped then i deleted the existing server and added the same server again and now it is working fine and the steps are </p>\n\n<blockquote>\n  <p><strong>Window>>ShowView>>Servers>>RightClick>>Delete</strong> </p>\n</blockquote>\n\n<p>and then add the server again as you have added previously.</p>\n"},{"tags":[],"owner":{"account_id":8893760,"reputation":127,"user_id":6639501,"display_name":"Shivaramakrishna Agapu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1483416651,"creation_date":1483416651,"answer_id":41436302,"question_id":28753473,"body_markdown":"I think it is jar file version problem. I had the same issue and I fixed it by changing the commons-codec-1.6.jar file from the build path. Earlier I was using latest version 1.10. Gradually I decreased the versions and 1.6 version fixed my issue. ","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>I think it is jar file version problem. I had the same issue and I fixed it by changing the commons-codec-1.6.jar file from the build path. Earlier I was using latest version 1.10. Gradually I decreased the versions and 1.6 version fixed my issue. </p>\n"},{"tags":[],"owner":{"account_id":7958532,"reputation":189,"user_id":6007019,"display_name":"sofian"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1487727121,"creation_date":1487727121,"answer_id":42381115,"question_id":28753473,"body_markdown":"I had a similar error and fixed it by following steps:\r\n1. Under Servers project (which gets created itself when you add Apache Tomcat Server in Eclipse), open server.xml\r\n2. Comment out the line\r\n\r\n    &lt;Context docBase=... /&gt;","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>I had a similar error and fixed it by following steps:\n1. Under Servers project (which gets created itself when you add Apache Tomcat Server in Eclipse), open server.xml\n2. Comment out the line</p>\n\n<pre><code>&lt;Context docBase=... /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11248982,"reputation":1,"user_id":8250716,"display_name":"Sokranotes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531074740,"creation_date":1531074740,"answer_id":51234948,"question_id":28753473,"body_markdown":"In my case, the servlet-api.jar file in jre/lib/ext in the jdk directory conflicts with the servlet-api.jar file in tomcat, removing the servlet-api.jar in jre/lib/ext in the jdk directory can solve the problem.","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>In my case, the servlet-api.jar file in jre/lib/ext in the jdk directory conflicts with the servlet-api.jar file in tomcat, removing the servlet-api.jar in jre/lib/ext in the jdk directory can solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":13136723,"reputation":34,"user_id":9489458,"display_name":"Jagadeesh Sali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533225486,"creation_date":1533225486,"answer_id":51657832,"question_id":28753473,"body_markdown":"This seems to be an issue with local Maven repository. (i.e. .m2 folder) may be due to some corrupt .jar file\r\n\r\nFor me, the following actions helped to overcome this issue.\r\n\r\n1. On my local file system, I&#39;ve **deleted the directory .m2** (Maven local repository)  \r\n\r\n2. In **Eclipse**, updated the project (select **Maven &gt; Update Project**)\r\n\r\n3. Ran the app again on Tomcat server.","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>This seems to be an issue with local Maven repository. (i.e. .m2 folder) may be due to some corrupt .jar file</p>\n\n<p>For me, the following actions helped to overcome this issue.</p>\n\n<ol>\n<li><p>On my local file system, I've <strong>deleted the directory .m2</strong> (Maven local repository)  </p></li>\n<li><p>In <strong>Eclipse</strong>, updated the project (select <strong>Maven > Update Project</strong>)</p></li>\n<li><p>Ran the app again on Tomcat server.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10546108,"reputation":1143,"user_id":7770341,"display_name":"RAHUL KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553694343,"creation_date":1553694343,"answer_id":55378761,"question_id":28753473,"body_markdown":"**Just make sure build with correct  web.xml configuration.I have update web.xml with tomcat configuration and it worked for me.**\r\nSample :-\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n    \t&lt;display-name&gt;simulator&lt;/display-name&gt;\r\n    \t&lt;description&gt;simulator app&lt;/description&gt;\r\n\r\n\r\n        &lt;!-- File upload  --&gt;\r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n     &lt;!-- excel simulation --&gt;\r\n        &lt;display-name&gt;simulator&lt;/display-name&gt;\r\n        &lt;description&gt;simulator app&lt;/description&gt;\r\n        &lt;!-- File upload  --&gt;\r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;InsertPage.html&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;FileUploadServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;clari5.excel.FileUploadServlet&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;FileUploadServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/excelSimulator/FileUploadServlet&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n\r\n\r\n\r\n    &lt;/web-app&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p><strong>Just make sure build with correct  web.xml configuration.I have update web.xml with tomcat configuration and it worked for me.</strong>\nSample :-</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\r\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\txmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\r\n\txsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\r\n\tid=\"WebApp_ID\" version=\"2.5\"&gt;\r\n\t&lt;display-name&gt;simulator&lt;/display-name&gt;\r\n\t&lt;description&gt;simulator app&lt;/description&gt;\r\n\r\n\r\n    &lt;!-- File upload  --&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n &lt;!-- excel simulation --&gt;\r\n    &lt;display-name&gt;simulator&lt;/display-name&gt;\r\n    &lt;description&gt;simulator app&lt;/description&gt;\r\n    &lt;!-- File upload  --&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;InsertPage.html&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;FileUploadServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;clari5.excel.FileUploadServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;FileUploadServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/excelSimulator/FileUploadServlet&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n\r\n\r\n&lt;/web-app&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":4614214,"reputation":1,"user_id":11623293,"display_name":"Rafael Fernandes Vieira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562070691,"creation_date":1562070691,"answer_id":56852564,"question_id":28753473,"body_markdown":"One of the problems that can cause this is when you forget to put the / character in the WebServlet annotation @WebServlet(&quot;/example&quot;) @WebServlet(&quot;example&quot;)\r\nI hope it works, it worked for me.","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>One of the problems that can cause this is when you forget to put the / character in the WebServlet annotation @WebServlet(\"/example\") @WebServlet(\"example\")\nI hope it works, it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":10945374,"reputation":11,"user_id":8043702,"display_name":"Atunje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562672470,"creation_date":1562672470,"answer_id":56951778,"question_id":28753473,"body_markdown":"If you are using the following stack:\r\nServer Version: Apache Tomcat/9.0.21\r\nServlet Version: 4.0 JSP Version: 2.3 \r\n\r\nThen try adding `&lt;absolute-ordering /&gt;` to your web.xml file. So your file looks like this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n  &lt;display-name&gt;spring-mvc-crud-demo&lt;/display-name&gt;\r\n  \r\n  &lt;absolute-ordering /&gt;\r\n\r\n  &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n  &lt;/welcome-file-list&gt;\r\n\r\n  ......\r\n```","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>If you are using the following stack:\nServer Version: Apache Tomcat/9.0.21\nServlet Version: 4.0 JSP Version: 2.3 </p>\n\n<p>Then try adding <code>&lt;absolute-ordering /&gt;</code> to your web.xml file. So your file looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" id=\"WebApp_ID\" version=\"3.1\"&gt;\n  &lt;display-name&gt;spring-mvc-crud-demo&lt;/display-name&gt;\n\n  &lt;absolute-ordering /&gt;\n\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n\n  ......\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17924476,"reputation":21,"user_id":13023452,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592285763,"creation_date":1592285763,"answer_id":62401573,"question_id":28753473,"body_markdown":"Below solution worked for me:\r\nNavigate to Project-&gt;Clean..\r\nClean all the projects referenced by Tomcat server\r\nRefresh the project you&#39;re trying to run on Tomcat\r\n\r\nTry to run the server afterwards","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>Below solution worked for me:\nNavigate to Project->Clean..\nClean all the projects referenced by Tomcat server\nRefresh the project you're trying to run on Tomcat</p>\n\n<p>Try to run the server afterwards</p>\n"},{"tags":[],"owner":{"account_id":26924842,"reputation":1,"user_id":20498274,"display_name":"oo long"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694599502,"creation_date":1694599502,"answer_id":77096072,"question_id":28753473,"body_markdown":"We meet the same issue (failed to stop component)  in a container, \r\nalpine 316 , openjdk17 \r\nand fixed by remove the container and build (docker built -t ) it againt.\r\n\r\nanother error msg following: ERROR 1 --- [main] org.apache.catalina.core.ContainerBase - A child container failed during stop ","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>We meet the same issue (failed to stop component)  in a container,\nalpine 316 , openjdk17\nand fixed by remove the container and build (docker built -t ) it againt.</p>\n<p>another error msg following: ERROR 1 --- [main] org.apache.catalina.core.ContainerBase - A child container failed during stop</p>\n"}],"owner":{"account_id":4870584,"reputation":13948,"user_id":3927264,"accept_rate":68,"display_name":"Farhan stands with Palestine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209637,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":28853537,"answer_count":13,"score":16,"last_activity_date":1694599502,"creation_date":1424987580,"question_id":28753473,"body_markdown":"I am struggling for the past 6-7 hrs trying to figure out what went wrong with my Apache Tomcat Server. In all of my projects, the `jdk` version got switched to `1.6` from `1.8`. \r\n\r\nTo solve the `version conflict`, I verified whether compiled version and JVM of Tomcat version are same by taking help from [here][1].\r\n\r\nFor multiple contexts with the same path error, I know i need to remove duplicate Context tags in `server.xml`. So, first I check in Servers project (which gets created itself when you add Apache Tomcat Server in Eclipse) and find none there. So, I delve deep into the directory(Eclipse WorkSpace) `metadata\\.plugins\\org.eclipse.wst.server.core\\tmp3\\conf` and removed the duplicate Context tags over there, with help taken from [here][2].\r\n\r\nNow when i create a new Dynamic Web Project, everything works fine and I am able to see the web page. But if I try to access any of the HTML, XHTML files of those old project in which the jdk got changed, this `org.apache.catalina.LifecycleException` continues to pop up and the server fails to start, and consequently these duplicate Context tags continues to build up again and again every time i start the server.\r\n\r\nNone of my old Web application projects seems to work now. \r\n\r\n    \r\n\r\n&gt; java.util.concurrent.ExecutionException:\r\n&gt;     org.apache.catalina.LifecycleException: Failed to start component \r\n&gt;     [StandardEngine[Catalina].StandardHost[localhost].StandardContext\r\n&gt;     [/EdBurns_ChrisSchalk]].....\r\n&gt;     SEVERE: A child container failed during start\r\n&gt;     java.util.concurrent.ExecutionException: \r\n&gt;     org.apache.catalina.LifecycleException: Failed to start component \r\n&gt;     [StandardEngine[Catalina].StandardHost[localhost]]\r\n&gt;     ....\r\n&gt;     Caused by: java.lang.RuntimeException: Unexpected element value kind in \r\n&gt;     annotation: 0\r\n\r\nHow to prevent these **context tags** being build up again and again in **server.xml**.\r\nSecondly, how to get back those old web projects to working state again?\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14750747/org-apache-catalina-lifecycleexception-failed-to-start-component-standardengin\r\n  [2]: https://stackoverflow.com/questions/7239613/multiple-contexts-with-the-same-path-error-running-web-service-in-eclipse-using","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]A child container failed during start","body":"<p>I am struggling for the past 6-7 hrs trying to figure out what went wrong with my Apache Tomcat Server. In all of my projects, the <code>jdk</code> version got switched to <code>1.6</code> from <code>1.8</code>. </p>\n\n<p>To solve the <code>version conflict</code>, I verified whether compiled version and JVM of Tomcat version are same by taking help from <a href=\"https://stackoverflow.com/questions/14750747/org-apache-catalina-lifecycleexception-failed-to-start-component-standardengin\">here</a>.</p>\n\n<p>For multiple contexts with the same path error, I know i need to remove duplicate Context tags in <code>server.xml</code>. So, first I check in Servers project (which gets created itself when you add Apache Tomcat Server in Eclipse) and find none there. So, I delve deep into the directory(Eclipse WorkSpace) <code>metadata\\.plugins\\org.eclipse.wst.server.core\\tmp3\\conf</code> and removed the duplicate Context tags over there, with help taken from <a href=\"https://stackoverflow.com/questions/7239613/multiple-contexts-with-the-same-path-error-running-web-service-in-eclipse-using\">here</a>.</p>\n\n<p>Now when i create a new Dynamic Web Project, everything works fine and I am able to see the web page. But if I try to access any of the HTML, XHTML files of those old project in which the jdk got changed, this <code>org.apache.catalina.LifecycleException</code> continues to pop up and the server fails to start, and consequently these duplicate Context tags continues to build up again and again every time i start the server.</p>\n\n<p>None of my old Web application projects seems to work now. </p>\n\n<blockquote>\n  <p>java.util.concurrent.ExecutionException:\n      org.apache.catalina.LifecycleException: Failed to start component \n      [StandardEngine[Catalina].StandardHost[localhost].StandardContext\n      [/EdBurns_ChrisSchalk]].....\n      SEVERE: A child container failed during start\n      java.util.concurrent.ExecutionException: \n      org.apache.catalina.LifecycleException: Failed to start component \n      [StandardEngine[Catalina].StandardHost[localhost]]\n      ....\n      Caused by: java.lang.RuntimeException: Unexpected element value kind in \n      annotation: 0</p>\n</blockquote>\n\n<p>How to prevent these <strong>context tags</strong> being build up again and again in <strong>server.xml</strong>.\nSecondly, how to get back those old web projects to working state again?</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":1,"creation_date":1694535709,"post_id":77090848,"comment_id":135902714,"body_markdown":"Try not using a batch, so just [execute](https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#execute--) (and remember to close your PreparedStatement when done).","body":"Try not using a batch, so just <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#execute--\" rel=\"nofollow noreferrer\">execute</a> (and remember to close your PreparedStatement when done)."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1694535899,"post_id":77090848,"comment_id":135902759,"body_markdown":"You don&#39;t even need a `PreparedStatement` for this, a `Statement` is enough unless you intend to do something horrible with enums. I suggest you study harder though, because you&#39;ve clearly missed the _entire_ point of batching.","body":"You don&#39;t even need a <code>PreparedStatement</code> for this, a <code>Statement</code> is enough unless you intend to do something horrible with enums. I suggest you study harder though, because you&#39;ve clearly missed the <i>entire</i> point of batching."},{"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1694542953,"post_id":77090848,"comment_id":135904098,"body_markdown":"https://stackoverflow.com/questions/40356750/how-do-i-make-java-postgres-enums-work-together-for-update","body":"<a href=\"https://stackoverflow.com/questions/40356750/how-do-i-make-java-postgres-enums-work-together-for-update\" title=\"how do i make java postgres enums work together for update\">stackoverflow.com/questions/40356750/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694599195,"creation_date":1694542809,"answer_id":77091730,"question_id":77090848,"body_markdown":"Parameters in statements can only be used with `INSERT`, `SELECT`, `UPDATE`, `DELETE`, `MERGE` and `VALUES`, but not with `ALTER TYPE`.\r\n\r\nTo find this limitation in the documentation, you have to know that a JDBC prepared statement in time leads to a &amp;ldquo;server-side prepared statement&amp;rdquo;, which in PostgreSQL can be created with the SQL statement `PREPARE`. [The documentation for `PREPARE`][1] says:\r\n\r\n&gt; &lt;code&gt;***statement***&lt;/code&gt;\r\n&gt;\r\n&gt;    Any `SELECT`, `INSERT`, `UPDATE`, `DELETE`, `MERGE`, or `VALUES` statement.\r\n\r\n\r\nYou&#39;ll have to construct the query string yourself. To avoid SQL injection, quote the string properly with the built-in methods:\r\n\r\n```java\r\norg.postgresql.PGConnection pgconn = conn.unwrap(org.postgresql.PGConnection.class);\r\n\r\nString query = &quot;ALTER TYPE my_enum_type ADD VALUE &quot; + pgconn.escapeLiteral(&quot;value&quot;);\r\n\r\nconn.createStatement().executeUpdate(query);\r\n```\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/sql-prepare.html#id-1.9.3.159.7","title":"How to alter Postgres Enum type using JDBC","body":"<p>Parameters in statements can only be used with <code>INSERT</code>, <code>SELECT</code>, <code>UPDATE</code>, <code>DELETE</code>, <code>MERGE</code> and <code>VALUES</code>, but not with <code>ALTER TYPE</code>.</p>\n<p>To find this limitation in the documentation, you have to know that a JDBC prepared statement in time leads to a âserver-side prepared statementâ, which in PostgreSQL can be created with the SQL statement <code>PREPARE</code>. <a href=\"https://www.postgresql.org/docs/current/sql-prepare.html#id-1.9.3.159.7\" rel=\"nofollow noreferrer\">The documentation for <code>PREPARE</code></a> says:</p>\n<blockquote>\n<p><code><em><strong>statement</strong></em></code></p>\n<p>Any <code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>, <code>MERGE</code>, or <code>VALUES</code> statement.</p>\n</blockquote>\n<p>You'll have to construct the query string yourself. To avoid SQL injection, quote the string properly with the built-in methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.postgresql.PGConnection pgconn = conn.unwrap(org.postgresql.PGConnection.class);\n\nString query = &quot;ALTER TYPE my_enum_type ADD VALUE &quot; + pgconn.escapeLiteral(&quot;value&quot;);\n\nconn.createStatement().executeUpdate(query);\n</code></pre>\n"}],"owner":{"account_id":1582578,"reputation":71,"user_id":1467602,"display_name":"stelios"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77091730,"answer_count":1,"score":1,"last_activity_date":1694599195,"creation_date":1694534498,"question_id":77090848,"body_markdown":"I try to add values to a postgres enum type like this (removing the loop for the values):\r\n\r\n\r\n      \r\n```\r\n      PreparedStatement stmt = conn.prepareStatement(&quot;ALTER TYPE my_enum_type ADD VALUE ?;&quot;);\r\n      \r\n      stmt.setString(1, &quot;value&quot;);\r\n      stmt.addBatch();\r\n      stmt.executeBatch()\r\n     \t\t\r\n```\r\n\r\nWhen I run that I get:\r\n\r\n`Batch entry 0 ALTER TYPE my_enum_type ADD VALUE &#39;value&#39; was aborted: ERROR: syntax error at or near &quot;$1&quot;`\r\n\r\n\r\n\r\ngoogling I found out that it probably has to do with casting. I changed the query to:\r\n\r\n`ALTER TYPE my_enum_type ADD VALUE ?::my_enum_type`\r\n\r\nit gives the same error.\r\n\r\nand\r\n\r\n`ALTER TYPE my_enum_type ADD VALUE cast(? as my_enum_type)`\r\n\r\nit fails with syntax error on `cast`\r\n\r\nI worked around it by concatenating a string with the enum value and executing that, but there has to be a better way.\r\n\r\nI am new to postgres, is there a simple way to work around it?\r\n\r\n\r\nEDIT:\r\nIn response to comments and to avoid confusion: \r\n\r\n   1. https://stackoverflow.com/questions/40356750/how-do-i-make-java-postgres-enums-work-together-for-update is about executing updates and not ALTER. The solution there is to cast to the target type, which I tried and did not work.\r\n\r\nSolution:\r\n\r\nFollowing Laurenz Albe&#39;s comment I ended up modifying my solution to:\r\n\r\n```\r\n        try (Statement stmt = conn.createStatement()) {\r\n\r\n\t\t\tPGConnection pgconn = conn.unwrap(PGConnection.class);\r\n\r\n\t\t\tfor (String i : missingValues) { \r\n\r\n\t\t\t\tstmt.addBatch(&quot;ALTER TYPE my_enum_type ADD VALUE &#39;&quot; + pgconn.escapeLiteral(i) + &quot;&#39;&quot;);\r\n\t\t\t}\r\n\r\n\r\n\t\t\tstmt.executeBatch();\r\n\t\t}\r\n```","title":"How to alter Postgres Enum type using JDBC","body":"<p>I try to add values to a postgres enum type like this (removing the loop for the values):</p>\n<pre><code>      PreparedStatement stmt = conn.prepareStatement(&quot;ALTER TYPE my_enum_type ADD VALUE ?;&quot;);\n      \n      stmt.setString(1, &quot;value&quot;);\n      stmt.addBatch();\n      stmt.executeBatch()\n            \n</code></pre>\n<p>When I run that I get:</p>\n<p><code>Batch entry 0 ALTER TYPE my_enum_type ADD VALUE 'value' was aborted: ERROR: syntax error at or near &quot;$1&quot;</code></p>\n<p>googling I found out that it probably has to do with casting. I changed the query to:</p>\n<p><code>ALTER TYPE my_enum_type ADD VALUE ?::my_enum_type</code></p>\n<p>it gives the same error.</p>\n<p>and</p>\n<p><code>ALTER TYPE my_enum_type ADD VALUE cast(? as my_enum_type)</code></p>\n<p>it fails with syntax error on <code>cast</code></p>\n<p>I worked around it by concatenating a string with the enum value and executing that, but there has to be a better way.</p>\n<p>I am new to postgres, is there a simple way to work around it?</p>\n<p>EDIT:\nIn response to comments and to avoid confusion:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/40356750/how-do-i-make-java-postgres-enums-work-together-for-update\">How do I make Java &amp; Postgres enums work together for update?</a> is about executing updates and not ALTER. The solution there is to cast to the target type, which I tried and did not work.</li>\n</ol>\n<p>Solution:</p>\n<p>Following Laurenz Albe's comment I ended up modifying my solution to:</p>\n<pre><code>        try (Statement stmt = conn.createStatement()) {\n\n            PGConnection pgconn = conn.unwrap(PGConnection.class);\n\n            for (String i : missingValues) { \n\n                stmt.addBatch(&quot;ALTER TYPE my_enum_type ADD VALUE '&quot; + pgconn.escapeLiteral(i) + &quot;'&quot;);\n            }\n\n\n            stmt.executeBatch();\n        }\n</code></pre>\n"},{"tags":["java","arraylist","java-8","hashmap","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1694559422,"post_id":77093083,"comment_id":135906542,"body_markdown":"Maps are optimized for key lookup. Why would you iterate over the entry set to find a specific key?","body":"Maps are optimized for key lookup. Why would you iterate over the entry set to find a specific key?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1694560128,"post_id":77093083,"comment_id":135906629,"body_markdown":"Possibly the `ignoringCase` option isn&#39;t available to the OP.  I&#39;ll admit that this still doesn&#39;t seem like a good idea though.","body":"Possibly the <code>ignoringCase</code> option isn&#39;t available to the OP.  I&#39;ll admit that this still doesn&#39;t seem like a good idea though."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1694562491,"post_id":77093083,"comment_id":135906827,"body_markdown":"Youâd handle that by lower casing the keys when you add them to the map, and when you do a lookup.","body":"Youâd handle that by lower casing the keys when you add them to the map, and when you do a lookup."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1694602306,"post_id":77093083,"comment_id":135911993,"body_markdown":"@markspace well, having e.g. `equalsIgnoreCase(&quot;0&quot;)` in the OPâs code suggests that the OP didnât think about the semantics of the string comparison at all. Likewise, the spelling of `&quot;rateID&quot;` (and the identifier itself) suggests that actually, a case sensitive match is intended and therefore, just calling `get(&quot;rateID&quot;)` would do the job. I donât know why people so often use `equalsIgnoreCase` when they actually mean `equals`, but it happens quite often. Maybe, thereâs an editor automatically inserting the longest possible alternative on code completion?","body":"@markspace well, having e.g. <code>equalsIgnoreCase(&quot;0&quot;)</code> in the OPâs code suggests that the OP didnât think about the semantics of the string comparison at all. Likewise, the spelling of <code>&quot;rateID&quot;</code> (and the identifier itself) suggests that actually, a case sensitive match is intended and therefore, just calling <code>get(&quot;rateID&quot;)</code> would do the job. I donât know why people so often use <code>equalsIgnoreCase</code> when they actually mean <code>equals</code>, but it happens quite often. Maybe, thereâs an editor automatically inserting the longest possible alternative on code completion?"}],"answers":[{"tags":[],"owner":{"account_id":21444994,"reputation":1,"user_id":15798719,"display_name":"UoweMe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694599033,"creation_date":1694599033,"answer_id":77096007,"question_id":77093083,"body_markdown":"        List&lt;Map&lt;String, Object&gt;&gt; list1 = list.stream()\r\n                .filter(datElement -&gt; datElement.containsKey(&quot;rateID&quot;))\r\n                .filter(datElement -&gt; datElement.get(&quot;rateID&quot;).toString().equalsIgnoreCase(&quot;0&quot;))\r\n                .collect(Collectors.toList());\r\n\r\n        List&lt;Map&lt;String, Object&gt;&gt; list2 = list.stream()\r\n                .filter(datElement -&gt; datElement.containsKey(&quot;rateID&quot;))\r\n                .filter(datElement -&gt; datElement.get(&quot;rateID&quot;).toString().equalsIgnoreCase(&quot;1&quot;))\r\n                .collect(Collectors.toList());","title":"Java Streams to find elements in a list of mapLists","body":"<pre><code>    List&lt;Map&lt;String, Object&gt;&gt; list1 = list.stream()\n            .filter(datElement -&gt; datElement.containsKey(&quot;rateID&quot;))\n            .filter(datElement -&gt; datElement.get(&quot;rateID&quot;).toString().equalsIgnoreCase(&quot;0&quot;))\n            .collect(Collectors.toList());\n\n    List&lt;Map&lt;String, Object&gt;&gt; list2 = list.stream()\n            .filter(datElement -&gt; datElement.containsKey(&quot;rateID&quot;))\n            .filter(datElement -&gt; datElement.get(&quot;rateID&quot;).toString().equalsIgnoreCase(&quot;1&quot;))\n            .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":17689918,"reputation":21,"user_id":12841950,"display_name":"naveen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694599033,"creation_date":1694558982,"question_id":77093083,"body_markdown":"Can you help me converting the below logic to make use of streams. This works fine but i want to use streams instead of this\r\n\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; list1=new ArrayList&lt;&gt;();\r\nList&lt;Map&lt;String, Object&gt;&gt; list2= new ArrayList&lt;&gt;();\r\nfor ( Map&lt;String, Object&gt; datElement: list()) {\r\n   for (Entry&lt;String, Object&gt; val : datElement.entrySet()) {\r\n      if (val.getKey().equalsIgnoreCase(&quot;rateID&quot;) ) {\r\n         //int kel = (int) val.getValue();\r\n         if ( val.getValue().toString().equalsIgnoreCase(&quot;0&quot;)) {\r\n            list1.add(datElement);\r\n         } if (val.getValue().toString().equalsIgnoreCase(&quot;1&quot;)) {\r\n            list2.add(datElement);\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; list1= list().stream()\r\n      .map(l -&gt; \r\n            l.entrySet().stream()\r\n                  .filter( obj -&gt; obj.getKey().equalsIgnoreCase(&quot;rateID&quot;))\r\n                  .map( obj -&gt; obj.getValue().toString().equalsIgnoreCase(&quot;0&quot;))\r\n            \r\n      ).collect(Collectors.toList()));\r\n```","title":"Java Streams to find elements in a list of mapLists","body":"<p>Can you help me converting the below logic to make use of streams. This works fine but i want to use streams instead of this</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; list1=new ArrayList&lt;&gt;();\nList&lt;Map&lt;String, Object&gt;&gt; list2= new ArrayList&lt;&gt;();\nfor ( Map&lt;String, Object&gt; datElement: list()) {\n   for (Entry&lt;String, Object&gt; val : datElement.entrySet()) {\n      if (val.getKey().equalsIgnoreCase(&quot;rateID&quot;) ) {\n         //int kel = (int) val.getValue();\n         if ( val.getValue().toString().equalsIgnoreCase(&quot;0&quot;)) {\n            list1.add(datElement);\n         } if (val.getValue().toString().equalsIgnoreCase(&quot;1&quot;)) {\n            list2.add(datElement);\n         }\n      }\n   }\n}\n</code></pre>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; list1= list().stream()\n      .map(l -&gt; \n            l.entrySet().stream()\n                  .filter( obj -&gt; obj.getKey().equalsIgnoreCase(&quot;rateID&quot;))\n                  .map( obj -&gt; obj.getValue().toString().equalsIgnoreCase(&quot;0&quot;))\n            \n      ).collect(Collectors.toList()));\n</code></pre>\n"},{"tags":["java","spring-boot","maven","junit","camunda"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694201470,"post_id":77069425,"comment_id":135865172,"body_markdown":"Hello, welcome to Stack Overflow! Please, provide a [MCVE]","body":"Hello, welcome to Stack Overflow! Please, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":29397805,"reputation":63,"user_id":22524769,"display_name":"Shubham Shekhar"},"score":0,"creation_date":1694281091,"post_id":77069425,"comment_id":135871924,"body_markdown":"I am using Springboot 3.0.4, java 17 and camunda-bom 7.14.0-ee. The above service was running fine in java 11 but after upgrading it throws error in junit.","body":"I am using Springboot 3.0.4, java 17 and camunda-bom 7.14.0-ee. The above service was running fine in java 11 but after upgrading it throws error in junit."}],"answers":[{"tags":[],"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694336396,"creation_date":1694336396,"answer_id":77075413,"question_id":77069425,"body_markdown":"&quot;I am using Springboot 3.0.4, java 17 and camunda-bom 7.14.0-ee&quot;\r\n\r\nThat&#39;s the problem. As you can see in the [compatibiliy matrix](https://docs.camunda.org/manual/7.19/user-guide/spring-boot-integration/version-compatibility/), spring boot 3 is NOT supported right now,  Upgrade camunda to 7.19 and downgrade springboot to 2.7.x and it should work.","title":"org.camunda.bpm.engine.RuntimeService bean not found after upgrading to java 17","body":"<p>&quot;I am using Springboot 3.0.4, java 17 and camunda-bom 7.14.0-ee&quot;</p>\n<p>That's the problem. As you can see in the <a href=\"https://docs.camunda.org/manual/7.19/user-guide/spring-boot-integration/version-compatibility/\" rel=\"nofollow noreferrer\">compatibiliy matrix</a>, spring boot 3 is NOT supported right now,  Upgrade camunda to 7.19 and downgrade springboot to 2.7.x and it should work.</p>\n"},{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694598954,"creation_date":1694598954,"answer_id":77095997,"question_id":77069425,"body_markdown":"You need Camunda 7.20.x to run with Spring Boot 3.1.x.\r\n\r\nhttps://docs.camunda.org/manual/latest/user-guide/spring-boot-integration/version-compatibility/\r\n\r\nToday you could use **7.20.0-alpha5** \r\n\r\nhttps://github.com/camunda/camunda-bpm-platform/tags\r\n\r\n7.20 GA should be available on the second Tuesday of October = Oct 12","title":"org.camunda.bpm.engine.RuntimeService bean not found after upgrading to java 17","body":"<p>You need Camunda 7.20.x to run with Spring Boot 3.1.x.</p>\n<p><a href=\"https://docs.camunda.org/manual/latest/user-guide/spring-boot-integration/version-compatibility/\" rel=\"nofollow noreferrer\">https://docs.camunda.org/manual/latest/user-guide/spring-boot-integration/version-compatibility/</a></p>\n<p>Today you could use <strong>7.20.0-alpha5</strong></p>\n<p><a href=\"https://github.com/camunda/camunda-bpm-platform/tags\" rel=\"nofollow noreferrer\">https://github.com/camunda/camunda-bpm-platform/tags</a></p>\n<p>7.20 GA should be available on the second Tuesday of October = Oct 12</p>\n"}],"owner":{"account_id":29397805,"reputation":63,"user_id":22524769,"display_name":"Shubham Shekhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694598954,"creation_date":1694201224,"question_id":77069425,"body_markdown":"After I upgraded to java 17 I am getting error in my service:\r\n\r\n```java\r\n@Service\r\npublic class CallbackHandlerService {\r\n\r\n    public static final long DEFAULT_TIMEOUT_SECONDS = 30;\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(CallbackHandlerService.class);\r\n    \r\n    private RuntimeService runtimeService;\r\n\r\n    @Autowired(required = true)\r\n    public CallbackHandlerService(RuntimeService runtimeService) {\r\n        this.runtimeService = runtimeService;\r\n    }\r\n```\r\n\r\nError:\r\n\r\n```none\r\nParameter 0 of constructor in org.onap.so.bpmn.core.workflow.service.CallbackHandlerService required a bean of type &#39;org.camunda.bpm.engine.RuntimeService&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.camunda.bpm.engine.RuntimeService&#39; in your configuration\r\n```\r\n\r\nI tried to add `@Autowired(required=true)` but it does not work","title":"org.camunda.bpm.engine.RuntimeService bean not found after upgrading to java 17","body":"<p>After I upgraded to java 17 I am getting error in my service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CallbackHandlerService {\n\n    public static final long DEFAULT_TIMEOUT_SECONDS = 30;\n\n    private static final Logger logger = LoggerFactory.getLogger(CallbackHandlerService.class);\n    \n    private RuntimeService runtimeService;\n\n    @Autowired(required = true)\n    public CallbackHandlerService(RuntimeService runtimeService) {\n        this.runtimeService = runtimeService;\n    }\n</code></pre>\n<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Parameter 0 of constructor in org.onap.so.bpmn.core.workflow.service.CallbackHandlerService required a bean of type 'org.camunda.bpm.engine.RuntimeService' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.camunda.bpm.engine.RuntimeService' in your configuration\n</code></pre>\n<p>I tried to add <code>@Autowired(required=true)</code> but it does not work</p>\n"},{"tags":["java","eclipse","maven","netbeans","classnotfoundexception"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1399464307,"post_id":23517139,"comment_id":36070603,"body_markdown":"I would guess that there&#39;s a difference in your classpath.","body":"I would guess that there&#39;s a difference in your classpath."},{"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"score":0,"creation_date":1399464954,"post_id":23517139,"comment_id":36071076,"body_markdown":"classpath to what exactly?","body":"classpath to what exactly?"}],"answers":[{"tags":[],"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1399719015,"creation_date":1399468404,"answer_id":23518852,"question_id":23517139,"body_markdown":"The solution is to change this line \r\n\r\n    URL url = new URL(&quot;https://redmine.xxx.cz/time_entries.xml&quot;);\r\n\r\ninto this line\r\n\r\n    URL url = new URL(null, &quot;https://redmine.xxx.cz/time_entries.xml&quot;, new sun.net.www.protocol.https.Handler());","title":"java.lang.ClassCastException: com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>The solution is to change this line </p>\n\n<pre><code>URL url = new URL(\"https://redmine.xxx.cz/time_entries.xml\");\n</code></pre>\n\n<p>into this line</p>\n\n<pre><code>URL url = new URL(null, \"https://redmine.xxx.cz/time_entries.xml\", new sun.net.www.protocol.https.Handler());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10685304,"reputation":527,"user_id":7866019,"display_name":"Realdo Dias"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1574659203,"creation_date":1497577328,"answer_id":44579533,"question_id":23517139,"body_markdown":"If you are using simply `HTTP` protocol (not `HTTPS`), instead of:\r\n\r\n&gt; HttpsURLConnection httpCon = (HttpsURLConnection)\r\n&gt; url.openConnection();\r\n\r\nUse this:\r\n \r\n\r\n&gt; HttpURLConnection httpCon = (HttpURLConnection) url.openConnection();\r\n\r\nJust drop the &quot;**s**&quot; in  &quot;Http**s**URLConnection&quot;","title":"java.lang.ClassCastException: com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>If you are using simply <code>HTTP</code> protocol (not <code>HTTPS</code>), instead of:</p>\n\n<blockquote>\n  <p>HttpsURLConnection httpCon = (HttpsURLConnection)\n  url.openConnection();</p>\n</blockquote>\n\n<p>Use this:</p>\n\n<blockquote>\n  <p>HttpURLConnection httpCon = (HttpURLConnection) url.openConnection();</p>\n</blockquote>\n\n<p>Just drop the \"<strong>s</strong>\" in  \"Http<strong>s</strong>URLConnection\"</p>\n"},{"tags":[],"owner":{"account_id":8735742,"reputation":11,"user_id":6534463,"display_name":"Sachin Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513415487,"creation_date":1512993751,"answer_id":47752543,"question_id":23517139,"body_markdown":"It called if url starts with  &quot;https&quot;\r\n\r\n\r\n        if(url.startswith(&quot;https&quot;){ HttpsURLConnection httpCon = (HttpsURLConnection) url.openConnection(); }\r\n\r\nuse netty-3.9.2 &gt; .jar to solve this issue \r\nWhen you use this netty.jar. the process of post call changed.\r\n\r\n\r\nhttp://dl.bintray.com/netty/downloads/netty-3.9.12.Final.tar.bz2","title":"java.lang.ClassCastException: com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>It called if url starts with  \"https\"</p>\n\n<pre><code>    if(url.startswith(\"https\"){ HttpsURLConnection httpCon = (HttpsURLConnection) url.openConnection(); }\n</code></pre>\n\n<p>use netty-3.9.2 > .jar to solve this issue \nWhen you use this netty.jar. the process of post call changed.</p>\n\n<p><a href=\"http://dl.bintray.com/netty/downloads/netty-3.9.12.Final.tar.bz2\" rel=\"nofollow noreferrer\">http://dl.bintray.com/netty/downloads/netty-3.9.12.Final.tar.bz2</a></p>\n"},{"tags":[],"owner":{"account_id":290754,"reputation":3469,"user_id":592477,"accept_rate":62,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635500743,"creation_date":1557146260,"answer_id":56005426,"question_id":23517139,"body_markdown":"To avoid this kind of error you can use HttpUrlConnection (java.net.HttpUrlConnection) for both http and https url\r\n\r\nHttpsUrlConnection only add extra methods that &quot;can be used&quot; for https connection but you probably won&#39;t use these methods.\r\n\r\nBoth HttpsUrlConnection and HttpUrlConnection derives from UrlConnection which contains methods that permit to read the response like getInputStream(). HttpsUrlConnection derives from HttpUrlConnection which derived from UrlConnection.\r\n\r\njava.net.HttpUrlConnection just add methods relative to http protocol (these methods apply to https)\r\n\r\n[https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html][1]\r\n[https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/HttpsURLConnection.html][2]\r\n\r\nThus you can do this :\r\n\r\n    URL url = new URL(urlString);\r\n    HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n    con.setRequestMethod(&quot;GET&quot;);\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n\r\nAs well you can do this and obtain the same result, the connection will be the same :\r\n\r\n    URL url = new URL(urlString);\r\n    HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\r\n    con.setRequestMethod(&quot;GET&quot;);\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/HttpsURLConnection.html","title":"java.lang.ClassCastException: com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>To avoid this kind of error you can use HttpUrlConnection (java.net.HttpUrlConnection) for both http and https url</p>\n<p>HttpsUrlConnection only add extra methods that &quot;can be used&quot; for https connection but you probably won't use these methods.</p>\n<p>Both HttpsUrlConnection and HttpUrlConnection derives from UrlConnection which contains methods that permit to read the response like getInputStream(). HttpsUrlConnection derives from HttpUrlConnection which derived from UrlConnection.</p>\n<p>java.net.HttpUrlConnection just add methods relative to http protocol (these methods apply to https)</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html</a>\n<a href=\"https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/HttpsURLConnection.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/HttpsURLConnection.html</a></p>\n<p>Thus you can do this :</p>\n<pre><code>URL url = new URL(urlString);\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\ncon.setRequestMethod(&quot;GET&quot;);\nBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n</code></pre>\n<p>As well you can do this and obtain the same result, the connection will be the same :</p>\n<pre><code>URL url = new URL(urlString);\nHttpsURLConnection con = (HttpsURLConnection) url.openConnection();\ncon.setRequestMethod(&quot;GET&quot;);\nBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29430180,"reputation":1,"user_id":22550040,"display_name":"cbeMtp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694598753,"creation_date":1694598753,"answer_id":77095974,"question_id":23517139,"body_markdown":"    CookieHandler.setDefault(new CookieManager(null, CookiePolicy.ACCEPT_ALL));\r\n\t\tURL urlCopy = new URL(url);\r\n\t\tHttpsURLConnection httpconnect = (HttpsURLConnection)urlCopy.openConnection();\r\n\t\thttpconnect.setConnectTimeout(5000);\r\n\t\thttpconnect.connect();\r\n\t\tif(httpconnect.getResponseCode()&lt;=400) {\r\n\t\t\tSystem.out.println(url+&quot; - &quot;+httpconnect.getResponseMessage() +&quot; - &quot;+ httpconnect.getResponseCode());\r\n\t\t}\r\n\t}","title":"java.lang.ClassCastException: com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<pre><code>CookieHandler.setDefault(new CookieManager(null, CookiePolicy.ACCEPT_ALL));\n    URL urlCopy = new URL(url);\n    HttpsURLConnection httpconnect = (HttpsURLConnection)urlCopy.openConnection();\n    httpconnect.setConnectTimeout(5000);\n    httpconnect.connect();\n    if(httpconnect.getResponseCode()&lt;=400) {\n        System.out.println(url+&quot; - &quot;+httpconnect.getResponseMessage() +&quot; - &quot;+ httpconnect.getResponseCode());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72851,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":23518852,"answer_count":5,"score":19,"last_activity_date":1694598753,"creation_date":1399463722,"question_id":23517139,"body_markdown":"I tried this code in my Netbeans 7.4 and it works without problem\r\n\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    \r\n    public class JavaApplication148 {\r\n        public static void main(String[] args) throws IOException {\r\n            URL url = new URL(&quot;https://redmine.ackee.cz/time_entries.xml&quot;);\r\n            HttpsURLConnection httpCon = (HttpsURLConnection) url.openConnection();\r\n        }\r\n    }\r\n\r\nHowever then I used it in eclipse in my maven-driven project and it throws following exception :\r\n\r\n    java.lang.ClassCastException: com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl \r\n    cannot be cast to javax.net.ssl.HttpsURLConnection\r\n\r\nThis is following class in my maven project that throws an error\r\n\r\n    package cz.ackee.redmine.commands;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    \r\n    public abstract class RedmineCommand {    \t\r\n    \tpublic void write(String xmlAddress, String text, String requestMethod) throws IOException{    \t\t\r\n\t         URL url = new URL(&quot;https://redmine.xxx.cz/time_entries.xml&quot;);\r\n             HttpsURLConnection httpCon = (HttpsURLConnection) url.openConnection(); //this line throws exception\r\n    \t}    \t\r\n    }\r\n\r\nThis is my pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;cz.ackee&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;pan-unicorn-bot&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Pan Unicorn Bot&lt;/name&gt;\r\n    \t&lt;description&gt;Pan unicorn IRC Bot&lt;/description&gt;\r\n    \r\n      &lt;repositories&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;apache-snapshots&lt;/id&gt;\r\n        &lt;url&gt;http://repository.apache.org/snapshots/&lt;/url&gt;\r\n      &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.30&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.5.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.taskadapter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;redmine-java-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.23&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n    \t\t\t\t\t&lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n    \t\t\t\t\t&lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;descriptors&gt;\r\n    \t\t\t\t\t\t&lt;descriptor&gt;/src/main/assembly/binary.xml&lt;/descriptor&gt;\r\n    \t\t\t\t\t&lt;/descriptors&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;make-assembly&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;index&gt;true&lt;/index&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;cz.ackee.unicorn.PanUnicornMain&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t\t&lt;manifestEntries&gt;\r\n    \t\t\t\t\t\t\t&lt;mode&gt;development&lt;/mode&gt;\r\n    \t\t\t\t\t\t\t&lt;url&gt;${project.url}&lt;/url&gt;\r\n    \t\t\t\t\t\t\t&lt;key&gt;value&lt;/key&gt;\r\n    \t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nAny idea, why it does compile and run without problem on netbeans and why it does not go well on maven-eclipse project?\r\n\r\n(I compile through command line using `mvn package`, I run it through eclipse)","title":"java.lang.ClassCastException: com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>I tried this code in my Netbeans 7.4 and it works without problem</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.URL;\nimport javax.net.ssl.HttpsURLConnection;\n\npublic class JavaApplication148 {\n    public static void main(String[] args) throws IOException {\n        URL url = new URL(\"https://redmine.ackee.cz/time_entries.xml\");\n        HttpsURLConnection httpCon = (HttpsURLConnection) url.openConnection();\n    }\n}\n</code></pre>\n\n<p>However then I used it in eclipse in my maven-driven project and it throws following exception :</p>\n\n<pre><code>java.lang.ClassCastException: com.sun.net.ssl.internal.www.protocol.https.HttpsURLConnectionOldImpl \ncannot be cast to javax.net.ssl.HttpsURLConnection\n</code></pre>\n\n<p>This is following class in my maven project that throws an error</p>\n\n<pre><code>package cz.ackee.redmine.commands;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport javax.net.ssl.HttpsURLConnection;\n\npublic abstract class RedmineCommand {      \n    public void write(String xmlAddress, String text, String requestMethod) throws IOException{         \n         URL url = new URL(\"https://redmine.xxx.cz/time_entries.xml\");\n         HttpsURLConnection httpCon = (HttpsURLConnection) url.openConnection(); //this line throws exception\n    }       \n}\n</code></pre>\n\n<p>This is my pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;cz.ackee&lt;/groupId&gt;\n    &lt;artifactId&gt;pan-unicorn-bot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Pan Unicorn Bot&lt;/name&gt;\n    &lt;description&gt;Pan unicorn IRC Bot&lt;/description&gt;\n\n  &lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;apache-snapshots&lt;/id&gt;\n    &lt;url&gt;http://repository.apache.org/snapshots/&lt;/url&gt;\n  &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.30&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.3.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n            &lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.taskadapter&lt;/groupId&gt;\n            &lt;artifactId&gt;redmine-java-api&lt;/artifactId&gt;\n            &lt;version&gt;1.23&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n  &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;/src/main/assembly/binary.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;index&gt;true&lt;/index&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;cz.ackee.unicorn.PanUnicornMain&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;mode&gt;development&lt;/mode&gt;\n                            &lt;url&gt;${project.url}&lt;/url&gt;\n                            &lt;key&gt;value&lt;/key&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Any idea, why it does compile and run without problem on netbeans and why it does not go well on maven-eclipse project?</p>\n\n<p>(I compile through command line using <code>mvn package</code>, I run it through eclipse)</p>\n"},{"tags":["java","algorithm","data-structures","hashmap"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1694549503,"post_id":77092360,"comment_id":135905225,"body_markdown":"If you look at [`getNode`](https://github.com/openjdk/jdk/blob/ac2dfe45d1b7fb9b99b0ba1402189de1791319b8/src/java.base/share/classes/java/util/HashMap.java#L573), you&#39;ll see the index is computed by `(n - 1) &amp; hash(key)` (see line 576), where `hash` is [a method that computes the key&#39;s hash](https://github.com/openjdk/jdk/blob/ac2dfe45d1b7fb9b99b0ba1402189de1791319b8/src/java.base/share/classes/java/util/HashMap.java#L336).","body":"If you look at <a href=\"https://github.com/openjdk/jdk/blob/ac2dfe45d1b7fb9b99b0ba1402189de1791319b8/src/java.base/share/classes/java/util/HashMap.java#L573\" rel=\"nofollow noreferrer\"><code>getNode</code></a>, you&#39;ll see the index is computed by <code>(n - 1) &amp; hash(key)</code> (see line 576), where <code>hash</code> is <a href=\"https://github.com/openjdk/jdk/blob/ac2dfe45d1b7fb9b99b0ba1402189de1791319b8/src/java.base/share/classes/java/util/HashMap.java#L336\" rel=\"nofollow noreferrer\">a method that computes the key&#39;s hash</a>."},{"owner":{"account_id":29425921,"reputation":3,"user_id":22546643,"display_name":"Konstantin"},"score":0,"creation_date":1694550532,"post_id":77092360,"comment_id":135905412,"body_markdown":"God bless you, @Slaw :)","body":"God bless you, @Slaw :)"},{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":0,"creation_date":1694551862,"post_id":77092360,"comment_id":135905642,"body_markdown":"Does this answer your question? [How bucket number gets decide in HashMap](https://stackoverflow.com/questions/45387087/how-bucket-number-gets-decide-in-hashmap)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45387087/how-bucket-number-gets-decide-in-hashmap\">How bucket number gets decide in HashMap</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694563944,"post_id":77092360,"comment_id":135906953,"body_markdown":"(1) and (3) are the same by inspection, and (1) and (2) are the same because `h &amp; (n-1)` and `h % n` are equal provided `n` is a power of two.","body":"(1) and (3) are the same by inspection, and (1) and (2) are the same because <code>h &amp; (n-1)</code> and <code>h % n</code> are equal provided <code>n</code> is a power of two."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694598587,"creation_date":1694551168,"answer_id":77092563,"question_id":77092360,"body_markdown":"All 3 are the same.\r\n1 and 3 are the same: `h` is just `hashCode(key)`, and `n` and `length` are the same too, which means they are the same.\r\n\r\nThe second one is also the same: `n` is always a power of two, which in bit terms means it&#39;s 00100000000 (exactly a single one-bit, all others are a zero), which means `n-1` is, in bits, always something like 00011111111 - all zeroes, then all ones.\r\n\r\n`&amp; x` where x is such a number simply means: where our `n` has 1-bits, don&#39;t do anything. Where there are 0-bits, the end result should also have 0 bits. Under all these rather specific conditions, `%n` and `&amp; (n-1)` is actually the same mathematical operation.\r\n\r\nFor example, let&#39;s `n = 8`.\r\n\r\nThen `&amp; (n-1)` is the same as &#39;zero out all bits except the bottom 3.\r\n\r\nWhich is identical to `%8`. For example, `10 % 8` is 2, obviously. `10 &amp; 7` is.. also 2.\r\n\r\n&gt; I&#39;m just starting to learn Java and I can&#39;t understand the 2500-line hashmap code.\r\n\r\nHashMap is one of the most complicated classes in there. Tell me, what do you think of this situation:\r\n\r\nJane: Hey, Jack, turned 16 I see? Starting driving lessons yet?\r\n\r\nJack: Yes. It&#39;s going allright.. I haven&#39;t gotten behind the wheel quite yet, first I decided to take apart the entire engine. I think I worked it out but see this screw on the side of this spark plug? It&#39;s aluminimum instead of steel. I&#39;m looking for a book about material science because I really need to figure out this aluminium vs steel thing or I&#39;ll never be a good driver!\r\n\r\nJane: ....\r\n\r\n\r\nBecause.. you&#39;re Jack. Don&#39;t be like Jack.\r\n","title":"Bucket definition in HashMap","body":"<p>All 3 are the same.\n1 and 3 are the same: <code>h</code> is just <code>hashCode(key)</code>, and <code>n</code> and <code>length</code> are the same too, which means they are the same.</p>\n<p>The second one is also the same: <code>n</code> is always a power of two, which in bit terms means it's 00100000000 (exactly a single one-bit, all others are a zero), which means <code>n-1</code> is, in bits, always something like 00011111111 - all zeroes, then all ones.</p>\n<p><code>&amp; x</code> where x is such a number simply means: where our <code>n</code> has 1-bits, don't do anything. Where there are 0-bits, the end result should also have 0 bits. Under all these rather specific conditions, <code>%n</code> and <code>&amp; (n-1)</code> is actually the same mathematical operation.</p>\n<p>For example, let's <code>n = 8</code>.</p>\n<p>Then <code>&amp; (n-1)</code> is the same as 'zero out all bits except the bottom 3.</p>\n<p>Which is identical to <code>%8</code>. For example, <code>10 % 8</code> is 2, obviously. <code>10 &amp; 7</code> is.. also 2.</p>\n<blockquote>\n<p>I'm just starting to learn Java and I can't understand the 2500-line hashmap code.</p>\n</blockquote>\n<p>HashMap is one of the most complicated classes in there. Tell me, what do you think of this situation:</p>\n<p>Jane: Hey, Jack, turned 16 I see? Starting driving lessons yet?</p>\n<p>Jack: Yes. It's going allright.. I haven't gotten behind the wheel quite yet, first I decided to take apart the entire engine. I think I worked it out but see this screw on the side of this spark plug? It's aluminimum instead of steel. I'm looking for a book about material science because I really need to figure out this aluminium vs steel thing or I'll never be a good driver!</p>\n<p>Jane: ....</p>\n<p>Because.. you're Jack. Don't be like Jack.</p>\n"}],"owner":{"account_id":29425921,"reputation":3,"user_id":22546643,"display_name":"Konstantin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77092563,"answer_count":1,"score":0,"last_activity_date":1694598587,"creation_date":1694549034,"question_id":77092360,"body_markdown":"I&#39;m trying to understand how a bucket(index) is determined in a hashmap by the key and I&#39;ve read 3 ways to determine it, but there can&#39;t be 3. \r\n\r\n```\r\n1) index = hashCode(key) &amp; (n-1)\r\n2) index = hashcode % number of cells in the map\r\n3) static int indexFor(int h, int length) {\r\n   return h &amp; (length-1);\r\n}\r\n```\r\n\r\nI&#39;m just starting to learn Java and I can&#39;t understand the 2500-line hashmap code. Please tell me how the index (bucket) is determined, what is the name of the method that does this and what line is it on? What is needed is not speculation, but links to documentation.","title":"Bucket definition in HashMap","body":"<p>I'm trying to understand how a bucket(index) is determined in a hashmap by the key and I've read 3 ways to determine it, but there can't be 3.</p>\n<pre><code>1) index = hashCode(key) &amp; (n-1)\n2) index = hashcode % number of cells in the map\n3) static int indexFor(int h, int length) {\n   return h &amp; (length-1);\n}\n</code></pre>\n<p>I'm just starting to learn Java and I can't understand the 2500-line hashmap code. Please tell me how the index (bucket) is determined, what is the name of the method that does this and what line is it on? What is needed is not speculation, but links to documentation.</p>\n"},{"tags":["java","hibernate","intellij-idea","log4j","hikaricp"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1634739066,"post_id":69647519,"comment_id":123106663,"body_markdown":"check your logging, maybe you use also log4j2/slf4j configuration","body":"check your logging, maybe you use also log4j2/slf4j configuration"},{"owner":{"account_id":11190019,"reputation":1300,"user_id":8210794,"accept_rate":100,"display_name":"Ahmet Aziz BeÅli"},"score":0,"creation_date":1634739337,"post_id":69647519,"comment_id":123106793,"body_markdown":"@user7294900 yes I have , but what do I need to do ?","body":"@user7294900 yes I have , but what do I need to do ?"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1634739578,"post_id":69647519,"comment_id":123106922,"body_markdown":"you may be to add configuration to log4j2.xml","body":"you may be to add configuration to log4j2.xml"},{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1634742155,"post_id":69647519,"comment_id":123108197,"body_markdown":"Do you have a log4j2.properties file in your classpath? If so the configuration will be loaded from that file, not from log4j2.xml","body":"Do you have a log4j2.properties file in your classpath? If so the configuration will be loaded from that file, not from log4j2.xml"},{"owner":{"account_id":11190019,"reputation":1300,"user_id":8210794,"accept_rate":100,"display_name":"Ahmet Aziz BeÅli"},"score":0,"creation_date":1634743485,"post_id":69647519,"comment_id":123108842,"body_markdown":"@Guillaume I added it into my question","body":"@Guillaume I added it into my question"}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634813854,"creation_date":1634813854,"answer_id":69660688,"question_id":69647519,"body_markdown":"If you use [log4j2.properties][1] define the logger per package:\r\n\r\n    logger.hikari.name = com.zaxxer.hikari\r\n    logger.hikari.level = error\r\n\r\n[1]:https://logging.apache.org/log4j/2.x/manual/configuration.html","title":"HikariConfig DEBUG messages log4j","body":"<p>If you use <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">log4j2.properties</a> define the logger per package:</p>\n<pre><code>logger.hikari.name = com.zaxxer.hikari\nlogger.hikari.level = error\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12453755,"reputation":11,"user_id":9067622,"display_name":"surjeet singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694597936,"creation_date":1694596305,"answer_id":77095679,"question_id":69647519,"body_markdown":"To remove log HikariCP details simply add in application.properties the following settings:\r\n\r\n**logging.level.com.zaxxer.hikari.HikariConfig=INFO\r\n logging.level.com.zaxxer.hikari=INFO** \r\n\r\nIf you need a deeper level of details then replace INFO with TRACE. For DEBUG log change INFO to DEBUG","title":"HikariConfig DEBUG messages log4j","body":"<p>To remove log HikariCP details simply add in application.properties the following settings:</p>\n<p><strong>logging.level.com.zaxxer.hikari.HikariConfig=INFO\nlogging.level.com.zaxxer.hikari=INFO</strong></p>\n<p>If you need a deeper level of details then replace INFO with TRACE. For DEBUG log change INFO to DEBUG</p>\n"}],"owner":{"account_id":11190019,"reputation":1300,"user_id":8210794,"accept_rate":100,"display_name":"Ahmet Aziz BeÅli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694597936,"creation_date":1634738695,"question_id":69647519,"body_markdown":"For a long time, I am seeing this messages in the console\r\n\r\n    15:58:57.622 [main] DEBUG com.zaxxer.hikari.HikariConfig - ScraperPool - configuration:\r\n    15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - allowPoolSuspension.............false\r\n    15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - autoCommit......................true\r\n    15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - 15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionInitSql...............none\r\n    15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTestQuery.............none\r\n    15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTimeout...............10000\r\n    15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSource......................none\r\n    15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceClassName.............none\r\n    15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceJNDI..................none\r\n    15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceProperties............{password=&lt;masked&gt;, prepStmtCacheSqlLimit=2048, cachePrepStmts=true, prepStmtCacheSize=250, leakDetectionThreshold=15000}\r\n    15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - driverClassName.................none\r\n    15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - exceptionOverrideClassName......none\r\n    15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckProperties...........{}\r\n    15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckRegistry.............none\r\n    15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - idleTimeout.....................10000\r\n    15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - initializationFailTimeout.......1\r\n    15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - isolateInternalQueries..........false\r\n\r\nI tried to hide them with the configuration files. I didn&#39;t work. I couldn&#39;t find any solution to hide those messages.\r\n\r\nHere is the libraries that I am having the problem with;\r\n\r\n    &lt;Logger name=&quot;org.openqa.selenium&quot; level=&quot;ERROR&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;File&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n    \r\n            &lt;Logger name=&quot;org.apache.http&quot; level=&quot;ERROR&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;File&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n    \r\n            &lt;Logger name=&quot;com.zaxxer.hikari.HikariConfig&quot; level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;File&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n    \r\n    \r\n            &lt;logger name=&quot;org.hibernate&quot;&gt;\r\n                &lt;level value=&quot;info&quot;/&gt;\r\n            &lt;/logger&gt;\r\n\r\n\r\nI am having same problems with the other libraries, for example Apache HTTP, it is also printing lots of debug and unnecessary messages.\r\n\r\nI am looking for a solution , thanks..\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=OFF\r\n    log4j.appender.console=org.apache.log4j.ConsoleAppender\r\n    \r\n    log4j.logger.nz.ac.massey.cs.sdc.log4jassignment.s06005586.MemoryAppender = ERROR, MEMORY_APPENDER\r\n    log4j.additivity.nz.ac.massey.cs.sdc.log4jassignment.s06005586.MemoryAppender = false\r\n    \r\n    # Direct log messages to a log file\r\n    log4j.appender.file=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.file.File=logs\\\\logging.log\r\n    log4j.appender.file.MaxFileSize=10MB\r\n    log4j.appender.file.MaxBackupIndex=10\r\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n    \r\n    \r\n    # Direct log messages to stdout\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n    \r\n    log4j.logger.org.hibernate=OFF\r\n    log4j.logger.org.openqa.selenium = SEVERE\r\n    log4j.logger.com.zaxxer.hikari.HikariConfig = OFF\r\n\r\n","title":"HikariConfig DEBUG messages log4j","body":"<p>For a long time, I am seeing this messages in the console</p>\n<pre><code>15:58:57.622 [main] DEBUG com.zaxxer.hikari.HikariConfig - ScraperPool - configuration:\n15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - allowPoolSuspension.............false\n15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - autoCommit......................true\n15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - 15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionInitSql...............none\n15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTestQuery.............none\n15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTimeout...............10000\n15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSource......................none\n15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceClassName.............none\n15:58:57.627 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceJNDI..................none\n15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceProperties............{password=&lt;masked&gt;, prepStmtCacheSqlLimit=2048, cachePrepStmts=true, prepStmtCacheSize=250, leakDetectionThreshold=15000}\n15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - driverClassName.................none\n15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - exceptionOverrideClassName......none\n15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckProperties...........{}\n15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckRegistry.............none\n15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - idleTimeout.....................10000\n15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - initializationFailTimeout.......1\n15:58:57.628 [main] DEBUG com.zaxxer.hikari.HikariConfig - isolateInternalQueries..........false\n</code></pre>\n<p>I tried to hide them with the configuration files. I didn't work. I couldn't find any solution to hide those messages.</p>\n<p>Here is the libraries that I am having the problem with;</p>\n<pre><code>&lt;Logger name=&quot;org.openqa.selenium&quot; level=&quot;ERROR&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n            &lt;AppenderRef ref=&quot;File&quot;/&gt;\n        &lt;/Logger&gt;\n\n        &lt;Logger name=&quot;org.apache.http&quot; level=&quot;ERROR&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n            &lt;AppenderRef ref=&quot;File&quot;/&gt;\n        &lt;/Logger&gt;\n\n        &lt;Logger name=&quot;com.zaxxer.hikari.HikariConfig&quot; level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n            &lt;AppenderRef ref=&quot;File&quot;/&gt;\n        &lt;/Logger&gt;\n\n\n        &lt;logger name=&quot;org.hibernate&quot;&gt;\n            &lt;level value=&quot;info&quot;/&gt;\n        &lt;/logger&gt;\n</code></pre>\n<p>I am having same problems with the other libraries, for example Apache HTTP, it is also printing lots of debug and unnecessary messages.</p>\n<p>I am looking for a solution , thanks..</p>\n<pre><code># Root logger option\nlog4j.rootLogger=OFF\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\n\nlog4j.logger.nz.ac.massey.cs.sdc.log4jassignment.s06005586.MemoryAppender = ERROR, MEMORY_APPENDER\nlog4j.additivity.nz.ac.massey.cs.sdc.log4jassignment.s06005586.MemoryAppender = false\n\n# Direct log messages to a log file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=logs\\\\logging.log\nlog4j.appender.file.MaxFileSize=10MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n\n# Direct log messages to stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\nlog4j.logger.org.hibernate=OFF\nlog4j.logger.org.openqa.selenium = SEVERE\nlog4j.logger.com.zaxxer.hikari.HikariConfig = OFF\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":12856246,"reputation":1,"user_id":19071991,"display_name":"Aagaman Sharma"},"score":0,"creation_date":1694598008,"post_id":77095871,"comment_id":135911117,"body_markdown":"forgot to mention, the whole block of Cargo Ship code section is being exectued even when my title is All Cruise ships and when i comment out All Cargo Ships section then the code for All Cruise Ships executes","body":"forgot to mention, the whole block of Cargo Ship code section is being exectued even when my title is All Cruise ships and when i comment out All Cargo Ships section then the code for All Cruise Ships executes"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694606236,"post_id":77095871,"comment_id":135912818,"body_markdown":"Do you understand what a return value `&gt;=0` from `compareToIgnoreCase` means? Read [the methodâs documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#compareToIgnoreCase(java.lang.String)) and once you understood why this does not do what you want, look for a more appropriate method in the `String` class (maybe a method telling you whether the string *equals* another). But actually, you shouldnât make program code depending on the contents of a title string anyway. You could use an `enum` instead or better, split this into smaller reusable methods.","body":"Do you understand what a return value <code>&gt;=0</code> from <code>compareToIgnoreCase</code> means? Read <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#compareToIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\">the methodâs documentation</a> and once you understood why this does not do what you want, look for a more appropriate method in the <code>String</code> class (maybe a method telling you whether the string <i>equals</i> another). But actually, you shouldnât make program code depending on the contents of a title string anyway. You could use an <code>enum</code> instead or better, split this into smaller reusable methods."}],"owner":{"account_id":12856246,"reputation":1,"user_id":19071991,"display_name":"Aagaman Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694597828,"creation_date":1694597789,"question_id":77095871,"body_markdown":"Here I have set size for individual Cargo ship, Cruise ship and yacht but the size of Cruise ship is being affected by size of cargo ship window. This defeats the whole purpose of if..else if ladder\r\n\r\n```\r\n    private static void openNewFrame(String title, BufferedImage image, ArrayList&lt;Ship&gt; dataFromFile) {\r\n        JFrame newFrame = new JFrame(title);\r\n        newFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        \r\n        JPanel newPanel = new JPanel(new BorderLayout());\r\n\r\n        JLabel newImageLabel = new JLabel(new ImageIcon(image));\r\n        // Add padding between the image and text\r\n        newImageLabel.setBorder(new EmptyBorder(10, 10, 10, 10));\r\n        newPanel.add(newImageLabel, BorderLayout.WEST);\r\n\r\n        JTextArea newTextArea = new JTextArea(10, 20);\r\n        \r\n        \r\n        String text_to_be_set_in_specific_window = &quot;&quot;;\r\n        if (title.compareToIgnoreCase(&quot;All Yachts&quot;)&gt;=0){\r\n            newFrame.setSize(900, 250);\r\n            for(Ship for_yacht:dataFromFile){\r\n                if(for_yacht instanceof Yacht)\r\n                {\r\n                    Yacht yacht = (Yacht) for_yacht;\r\n                    text_to_be_set_in_specific_window += yacht.toString()+&quot;\\n&quot;;\r\n                    \r\n                }\r\n            }\r\n        }\r\n        else if (title.compareToIgnoreCase(&quot;All Cargo ships&quot;)&gt;=0 ){\r\n            newFrame.setSize(730, 250);\r\n            for(Ship for_cargo:dataFromFile){\r\n                if(for_cargo instanceof Cargo)\r\n                {\r\n                    Cargo cargo = (Cargo) for_cargo;\r\n                    text_to_be_set_in_specific_window += cargo.toString()+&quot;\\n&quot;;\r\n                    \r\n                }\r\n            }\r\n        }else if (title.compareToIgnoreCase(&quot;All Cruise ships&quot;)&gt;=0){\r\n            newFrame.setSize(500, 250);\r\n            for(Ship for_cruise: dataFromFile){\r\n                if(for_cruise instanceof Cruise)\r\n                {\r\n                    Cruise cruise = (Cruise) for_cruise;\r\n                    text_to_be_set_in_specific_window += cruise.toString()+&quot;\\n&quot;;\r\n                }\r\n            }           \r\n        }\r\n\r\n        newTextArea.setText(&quot;\\n\\n\\n\\n&quot; + text_to_be_set_in_specific_window+&quot; &quot;);\r\n        newTextArea.setWrapStyleWord(true);\r\n        newTextArea.setLineWrap(true);\r\n        newTextArea.setEditable(false);\r\n        \r\n\r\n        // Set the text area background color to be transparent\r\n        newTextArea.setOpaque(false);\r\n        Caret customCaret = new DefaultCaret() {\r\n            @Override\r\n            public void paint(Graphics g) {\r\n                // Do nothing to hide the cursor\r\n            }\r\n        };\r\n\r\n        // Set the custom caret for the JTextArea\r\n        newTextArea.setCaret(customCaret);\r\n        // Add padding between the text and the panel border\r\n        newTextArea.setBorder(new EmptyBorder(10, 10, 10, 10));\r\n        newPanel.add(newTextArea, BorderLayout.CENTER);\r\n\r\n        // Create a panel to hold the button and place it on the right\r\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\r\n        JButton closeButton = new JButton(&quot;Ok&quot;);\r\n        closeButton.setPreferredSize(new Dimension(80, 30)); // Set the button size\r\n        closeButton.addActionListener(e -&gt; newFrame.dispose());\r\n        buttonPanel.add(closeButton);\r\n        \r\n        \r\n        // Add the buttonPanel to the newPanel\r\n        newPanel.add(buttonPanel, BorderLayout.SOUTH);\r\n\r\n        newFrame.add(newPanel);\r\n        newPanel.requestFocusInWindow();\r\n        newFrame.setLocationRelativeTo(null);\r\n        newFrame.setVisible(true);\r\n        \r\n    }\r\n```\r\n\r\nThe section of the code which is problematic is:  \r\n```\r\n        else if (title.compareToIgnoreCase(&quot;All Cargo ships&quot;)&gt;=0 ){\r\n            newFrame.setSize(730, 250);\r\n            for(Ship for_cargo:dataFromFile){\r\n                if(for_cargo instanceof Cargo)\r\n                {\r\n                    Cargo cargo = (Cargo) for_cargo;\r\n                    text_to_be_set_in_specific_window += cargo.toString()+&quot;\\n&quot;;\r\n                    \r\n                }\r\n            }\r\n        }else if (title.compareToIgnoreCase(&quot;All Cruise ships&quot;)&gt;=0){\r\n            newFrame.setSize(500, 250);\r\n            for(Ship for_cruise: dataFromFile){\r\n                if(for_cruise instanceof Cruise)\r\n                {\r\n                    Cruise cruise = (Cruise) for_cruise;\r\n                    text_to_be_set_in_specific_window += cruise.toString()+&quot;\\n&quot;;\r\n                }\r\n            }           \r\n        }\r\n```\r\n\r\nI was trying to set the window size different for each individual cargo ship window, yacht window and cruise ship window","title":"SetSize inside one if clause is affecting the size of the another window","body":"<p>Here I have set size for individual Cargo ship, Cruise ship and yacht but the size of Cruise ship is being affected by size of cargo ship window. This defeats the whole purpose of if..else if ladder</p>\n<pre><code>    private static void openNewFrame(String title, BufferedImage image, ArrayList&lt;Ship&gt; dataFromFile) {\n        JFrame newFrame = new JFrame(title);\n        newFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        \n        JPanel newPanel = new JPanel(new BorderLayout());\n\n        JLabel newImageLabel = new JLabel(new ImageIcon(image));\n        // Add padding between the image and text\n        newImageLabel.setBorder(new EmptyBorder(10, 10, 10, 10));\n        newPanel.add(newImageLabel, BorderLayout.WEST);\n\n        JTextArea newTextArea = new JTextArea(10, 20);\n        \n        \n        String text_to_be_set_in_specific_window = &quot;&quot;;\n        if (title.compareToIgnoreCase(&quot;All Yachts&quot;)&gt;=0){\n            newFrame.setSize(900, 250);\n            for(Ship for_yacht:dataFromFile){\n                if(for_yacht instanceof Yacht)\n                {\n                    Yacht yacht = (Yacht) for_yacht;\n                    text_to_be_set_in_specific_window += yacht.toString()+&quot;\\n&quot;;\n                    \n                }\n            }\n        }\n        else if (title.compareToIgnoreCase(&quot;All Cargo ships&quot;)&gt;=0 ){\n            newFrame.setSize(730, 250);\n            for(Ship for_cargo:dataFromFile){\n                if(for_cargo instanceof Cargo)\n                {\n                    Cargo cargo = (Cargo) for_cargo;\n                    text_to_be_set_in_specific_window += cargo.toString()+&quot;\\n&quot;;\n                    \n                }\n            }\n        }else if (title.compareToIgnoreCase(&quot;All Cruise ships&quot;)&gt;=0){\n            newFrame.setSize(500, 250);\n            for(Ship for_cruise: dataFromFile){\n                if(for_cruise instanceof Cruise)\n                {\n                    Cruise cruise = (Cruise) for_cruise;\n                    text_to_be_set_in_specific_window += cruise.toString()+&quot;\\n&quot;;\n                }\n            }           \n        }\n\n        newTextArea.setText(&quot;\\n\\n\\n\\n&quot; + text_to_be_set_in_specific_window+&quot; &quot;);\n        newTextArea.setWrapStyleWord(true);\n        newTextArea.setLineWrap(true);\n        newTextArea.setEditable(false);\n        \n\n        // Set the text area background color to be transparent\n        newTextArea.setOpaque(false);\n        Caret customCaret = new DefaultCaret() {\n            @Override\n            public void paint(Graphics g) {\n                // Do nothing to hide the cursor\n            }\n        };\n\n        // Set the custom caret for the JTextArea\n        newTextArea.setCaret(customCaret);\n        // Add padding between the text and the panel border\n        newTextArea.setBorder(new EmptyBorder(10, 10, 10, 10));\n        newPanel.add(newTextArea, BorderLayout.CENTER);\n\n        // Create a panel to hold the button and place it on the right\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\n        JButton closeButton = new JButton(&quot;Ok&quot;);\n        closeButton.setPreferredSize(new Dimension(80, 30)); // Set the button size\n        closeButton.addActionListener(e -&gt; newFrame.dispose());\n        buttonPanel.add(closeButton);\n        \n        \n        // Add the buttonPanel to the newPanel\n        newPanel.add(buttonPanel, BorderLayout.SOUTH);\n\n        newFrame.add(newPanel);\n        newPanel.requestFocusInWindow();\n        newFrame.setLocationRelativeTo(null);\n        newFrame.setVisible(true);\n        \n    }\n</code></pre>\n<p>The section of the code which is problematic is:</p>\n<pre><code>        else if (title.compareToIgnoreCase(&quot;All Cargo ships&quot;)&gt;=0 ){\n            newFrame.setSize(730, 250);\n            for(Ship for_cargo:dataFromFile){\n                if(for_cargo instanceof Cargo)\n                {\n                    Cargo cargo = (Cargo) for_cargo;\n                    text_to_be_set_in_specific_window += cargo.toString()+&quot;\\n&quot;;\n                    \n                }\n            }\n        }else if (title.compareToIgnoreCase(&quot;All Cruise ships&quot;)&gt;=0){\n            newFrame.setSize(500, 250);\n            for(Ship for_cruise: dataFromFile){\n                if(for_cruise instanceof Cruise)\n                {\n                    Cruise cruise = (Cruise) for_cruise;\n                    text_to_be_set_in_specific_window += cruise.toString()+&quot;\\n&quot;;\n                }\n            }           \n        }\n</code></pre>\n<p>I was trying to set the window size different for each individual cargo ship window, yacht window and cruise ship window</p>\n"},{"tags":["java","kotlin","sdk","jvm"],"comments":[{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1691660802,"post_id":76874406,"comment_id":135522715,"body_markdown":"Can you add your build.gradle files ?","body":"Can you add your build.gradle files ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691677646,"post_id":76874406,"comment_id":135526300,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":19628545,"reputation":1,"user_id":14367360,"display_name":"Erfan mahdavi athar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691756545,"creation_date":1691756545,"answer_id":76883521,"question_id":76874406,"body_markdown":"The error message you&#39;re encountering indicates that there&#39;s a mismatch between the Java target versions set for the `compileJava` task and the `compileKotlin` task in your Gradle project. To resolve this issue, you need to ensure that both tasks are configured to use the same Java version.\r\n\r\nAccording to https://www.oracle.com/java/technologies/javase/jdk7-naming.html, in JDK 7 and JRE 7, the version strings are 1.7 and 1.7.0, so you should use &#39;1.7&#39; as the Kotlin compile target not &#39;17&#39;!\r\n\r\nI think it should be like this:\r\n```groovy\r\nkotlinOptions {\r\n    jvmTarget = &#39;1.7&#39;\r\n}\r\n```","title":"Error :jvm target compatibility should be set to the same Java version","body":"<p>The error message you're encountering indicates that there's a mismatch between the Java target versions set for the <code>compileJava</code> task and the <code>compileKotlin</code> task in your Gradle project. To resolve this issue, you need to ensure that both tasks are configured to use the same Java version.</p>\n<p>According to <a href=\"https://www.oracle.com/java/technologies/javase/jdk7-naming.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/jdk7-naming.html</a>, in JDK 7 and JRE 7, the version strings are 1.7 and 1.7.0, so you should use '1.7' as the Kotlin compile target not '17'!</p>\n<p>I think it should be like this:</p>\n<pre><code>kotlinOptions {\n    jvmTarget = '1.7'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14345234,"reputation":509,"user_id":10362244,"display_name":"Dev Soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694597728,"creation_date":1694597728,"answer_id":77095864,"question_id":76874406,"body_markdown":"I am able to fix this by using below code\r\n\r\n    subprojects {\r\n        afterEvaluate{\r\n            tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile) {\r\n                if (project.plugins.hasPlugin(&quot;com.android.application&quot;) || project.plugins.hasPlugin(&quot;com.android.library&quot;)) {\r\n                    kotlinOptions.jvmTarget = android.compileOptions.sourceCompatibility\r\n                } else {\r\n                    kotlinOptions.jvmTarget = sourceCompatibility\r\n                }\r\n            }\r\n        }\r\n    }","title":"Error :jvm target compatibility should be set to the same Java version","body":"<p>I am able to fix this by using below code</p>\n<pre><code>subprojects {\n    afterEvaluate{\n        tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile) {\n            if (project.plugins.hasPlugin(&quot;com.android.application&quot;) || project.plugins.hasPlugin(&quot;com.android.library&quot;)) {\n                kotlinOptions.jvmTarget = android.compileOptions.sourceCompatibility\n            } else {\n                kotlinOptions.jvmTarget = sourceCompatibility\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11738398,"reputation":1,"user_id":8591484,"display_name":"Ethan K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1694597728,"creation_date":1691659766,"question_id":76874406,"body_markdown":"im new to android . while running module i got following error :\r\n\r\nExecution failed for task &#39;:info:compileKotlin&#39;.\r\n&gt; &#39;compileJava&#39; task (current target is 1.7) and &#39;compileKotlin&#39; task (current target is 17) jvm target compatibility should be set to the same Java version.\r\n\r\nplease gimme solution\r\n\r\nI tried in project structure to change gradle plugin. and gradle jdk but nothing has happened","title":"Error :jvm target compatibility should be set to the same Java version","body":"<p>im new to android . while running module i got following error :</p>\n<p>Execution failed for task ':info:compileKotlin'.</p>\n<blockquote>\n<p>'compileJava' task (current target is 1.7) and 'compileKotlin' task (current target is 17) jvm target compatibility should be set to the same Java version.</p>\n</blockquote>\n<p>please gimme solution</p>\n<p>I tried in project structure to change gradle plugin. and gradle jdk but nothing has happened</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9806,"page":186,"page_size":100}
