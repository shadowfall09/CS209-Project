{"items":[{"tags":["java","macos","unsupported-class-version"],"comments":[{"owner":{"account_id":337407,"reputation":10009,"user_id":665657,"accept_rate":75,"display_name":"wjans"},"score":0,"creation_date":1309180354,"post_id":6493355,"comment_id":7635756,"body_markdown":"Do you have some libraries on your build path?","body":"Do you have some libraries on your build path?"},{"owner":{"account_id":273624,"reputation":7478,"user_id":565342,"accept_rate":100,"display_name":"gabuzo"},"score":0,"creation_date":1309180356,"post_id":6493355,"comment_id":7635757,"body_markdown":"Could you post the whole stacktrace especially the version of the `.class` file.","body":"Could you post the whole stacktrace especially the version of the <code>.class</code> file."},{"owner":{"account_id":191588,"reputation":3162,"user_id":432248,"accept_rate":100,"display_name":"Giann"},"score":0,"creation_date":1309180359,"post_id":6493355,"comment_id":7635759,"body_markdown":"Is your project at source level 1.5 ?","body":"Is your project at source level 1.5 ?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1309180387,"post_id":6493355,"comment_id":7635767,"body_markdown":"How are you running your code?","body":"How are you running your code?"},{"owner":{"account_id":77836,"reputation":1493,"user_id":221897,"accept_rate":100,"display_name":"nishu"},"score":0,"creation_date":1309180527,"post_id":6493355,"comment_id":7635814,"body_markdown":"are you trying to use class that was compiled using java 6","body":"are you trying to use class that was compiled using java 6"},{"owner":{"account_id":54861,"reputation":40695,"user_id":164230,"accept_rate":92,"display_name":"dotty"},"score":0,"creation_date":1309181088,"post_id":6493355,"comment_id":7635971,"body_markdown":"I&#39;ve updated my question to include new details.","body":"I&#39;ve updated my question to include new details."}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1309180426,"creation_date":1309180426,"answer_id":6493397,"question_id":6493355,"body_markdown":"You get this error when you try to run a class that was compiled for a Java version newer than what you have; for example, if you try to use a class that was compiled for Java 6 or newer on a Java 5 JVM.\r\n\r\nIt doesn&#39;t necessarily have to be your own class; you might be using some library that was built for Java 6 or newer.\r\n\r\nAre you using specific libraries (JAR files)? Check if these are compatible with Java 5 or not. Or upgrade your Java version to Java 6.","title":"java.lang.UnsupportedClassVersionError: Bad version number in .class file","body":"<p>You get this error when you try to run a class that was compiled for a Java version newer than what you have; for example, if you try to use a class that was compiled for Java 6 or newer on a Java 5 JVM.</p>\n\n<p>It doesn't necessarily have to be your own class; you might be using some library that was built for Java 6 or newer.</p>\n\n<p>Are you using specific libraries (JAR files)? Check if these are compatible with Java 5 or not. Or upgrade your Java version to Java 6.</p>\n"},{"tags":[],"owner":{"account_id":273624,"reputation":7478,"user_id":565342,"accept_rate":100,"display_name":"gabuzo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309180438,"creation_date":1309180438,"answer_id":6493399,"question_id":6493355,"body_markdown":"My guess is that you are using 3rd party libraries built with Java 1.6.\r\n\r\nBy the way is there any reason you are using Java 1.5? Java 1.6 is out for long and Java 1.5 will no longer be supported real soon (if not already).","title":"java.lang.UnsupportedClassVersionError: Bad version number in .class file","body":"<p>My guess is that you are using 3rd party libraries built with Java 1.6.</p>\n\n<p>By the way is there any reason you are using Java 1.5? Java 1.6 is out for long and Java 1.5 will no longer be supported real soon (if not already).</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309180453,"creation_date":1309180453,"answer_id":6493404,"question_id":6493355,"body_markdown":"You have a class compiled for a newer Java than the one you are using.\r\n\r\nThe stack trace should show the name of the troublesome class.   Perhaps it is a library you are using?  ","title":"java.lang.UnsupportedClassVersionError: Bad version number in .class file","body":"<p>You have a class compiled for a newer Java than the one you are using.</p>\n\n<p>The stack trace should show the name of the troublesome class.   Perhaps it is a library you are using?  </p>\n"},{"tags":[],"owner":{"account_id":79130,"reputation":833,"user_id":224625,"display_name":"JohnGH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358879592,"creation_date":1358879592,"answer_id":14465572,"question_id":6493355,"body_markdown":"You may find that the version of java that is being used is not the copy that the code was expecting.\r\n\r\nFor example, if your $PATH (this example is on Unix) is set to /usr/bin:(other directories) you would get /usr/bin/java when you run java:\r\n\r\n&lt;pre&gt;\r\n\r\n    $ java -version\r\n    java version &quot;1.5.0_18&quot;\r\n    Java(TM) Platform, Standard Edition for Business (build 1.5.0_18-b02)\r\n    Java HotSpot(TM) Server VM (build 1.5.0_18-b02, mixed mode)\r\n    $ which java\r\n    /usr/bin/java\r\n\r\n&lt;/pre&gt;\r\n\r\n...but your program needs something like this to work:\r\n\r\n&lt;pre&gt;\r\n\r\n    $ /usr/local/java/jdk1.6/bin/java -version\r\n    java version &quot;1.6.0_14&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_14-b08)\r\n    Java HotSpot(TM) Server VM (build 14.0-b16, mixed mode)\r\n\r\n&lt;/pre&gt;\r\n\r\nso the fix would be to add the directory where your correct version of java lives to the start of your path before calling java, or call the good version java by its absolute path.\r\n","title":"java.lang.UnsupportedClassVersionError: Bad version number in .class file","body":"<p>You may find that the version of java that is being used is not the copy that the code was expecting.</p>\n\n<p>For example, if your $PATH (this example is on Unix) is set to /usr/bin:(other directories) you would get /usr/bin/java when you run java:</p>\n\n<pre>\n\n    $ java -version\n    java version \"1.5.0_18\"\n    Java(TM) Platform, Standard Edition for Business (build 1.5.0_18-b02)\n    Java HotSpot(TM) Server VM (build 1.5.0_18-b02, mixed mode)\n    $ which java\n    /usr/bin/java\n\n</pre>\n\n<p>...but your program needs something like this to work:</p>\n\n<pre>\n\n    $ /usr/local/java/jdk1.6/bin/java -version\n    java version \"1.6.0_14\"\n    Java(TM) SE Runtime Environment (build 1.6.0_14-b08)\n    Java HotSpot(TM) Server VM (build 14.0-b16, mixed mode)\n\n</pre>\n\n<p>so the fix would be to add the directory where your correct version of java lives to the start of your path before calling java, or call the good version java by its absolute path.</p>\n"},{"tags":[],"owner":{"account_id":6730739,"reputation":1,"user_id":7210498,"display_name":"Mustafa Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480089690,"creation_date":1480089690,"answer_id":40808752,"question_id":6493355,"body_markdown":"If upgrading your JRE is not an option, you can compile your code with lower java version. \r\n\r\nFrom eclipise:\r\n\r\nProject properties &gt; Java compiler &gt; Compiler compliance level&gt; [Set to whatever JRE version you have]\r\n\r\nSee below screen for setting JRE 1.5 compatibility\r\n\r\n  [1]: https://i.stack.imgur.com/hnPoR.png","title":"java.lang.UnsupportedClassVersionError: Bad version number in .class file","body":"<p>If upgrading your JRE is not an option, you can compile your code with lower java version. </p>\n\n<p>From eclipise:</p>\n\n<p>Project properties > Java compiler > Compiler compliance level> [Set to whatever JRE version you have]</p>\n\n<p>See below screen for setting JRE 1.5 compatibility</p>\n"},{"tags":[],"owner":{"account_id":9136294,"reputation":186,"user_id":6795887,"accept_rate":0,"display_name":"Neo Sono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651236117,"creation_date":1651235437,"answer_id":72058020,"question_id":6493355,"body_markdown":"If you observe carefully, the project modules are not in the package icon... In IntelliJ or any IDE, it should be the same... Due how .jar or any bundle works. \r\n\r\nFollow this simple steps: \r\n\r\nright click on project&#39;s root folder, then select &#39;mark as directory&#39; option and select root folder option ...\r\n\r\nPS: (Optional part) \r\nExcuse me for not posting any screen shots... I just felt it&#39;s lil more straight forward.\r\n\r\nThe error is trying to say that the modules are not grouped, that&#39;s why the compiler says, not in root folder... Which is true, because your modules are scattered all over the IDE... For some reason. \r\n\r\nAnd as for the wording in the error... It means that the version is not included as part of the packages to be compiled, remember standard of programming... purpose of packages ... And When adding stuff to a jar... They must be grouped before. Into a folder as the root for jvm. \r\n\r\n\r\n\r\n\r\nThank you once more. ","title":"java.lang.UnsupportedClassVersionError: Bad version number in .class file","body":"<p>If you observe carefully, the project modules are not in the package icon... In IntelliJ or any IDE, it should be the same... Due how .jar or any bundle works.</p>\n<p>Follow this simple steps:</p>\n<p>right click on project's root folder, then select 'mark as directory' option and select root folder option ...</p>\n<p>PS: (Optional part)\nExcuse me for not posting any screen shots... I just felt it's lil more straight forward.</p>\n<p>The error is trying to say that the modules are not grouped, that's why the compiler says, not in root folder... Which is true, because your modules are scattered all over the IDE... For some reason.</p>\n<p>And as for the wording in the error... It means that the version is not included as part of the packages to be compiled, remember standard of programming... purpose of packages ... And When adding stuff to a jar... They must be grouped before. Into a folder as the root for jvm.</p>\n<p>Thank you once more.</p>\n"}],"owner":{"account_id":54861,"reputation":40695,"user_id":164230,"accept_rate":92,"display_name":"dotty"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40121,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":6493397,"answer_count":6,"score":6,"last_activity_date":1651236117,"creation_date":1309180217,"question_id":6493355,"body_markdown":"I&#39;m having this error in eclipes `java.lang.UnsupportedClassVersionError: Bad version number in .class file`.\r\n\r\nWhen I run `javac -version` it prints \r\n\r\n    javac 1.5.0_28\r\n\r\nWithin eclipes if I right click, properties-&gt;java compiler it says I&#39;m using `1.5` and if I then go to `java build path`, I have `JRE System Library [JVM 1.5.0 (MacOS X Default)]` in there.\r\n\r\nWhy am i getting this error and how do I fix it?\r\n\r\n**EDITS**\r\n\r\n`java -version` prints\r\n\r\n    java version &quot;1.5.0_28&quot;\r\n    Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_28-b04-382-9M3326)\r\n    Java HotSpot(TM) Client VM (build 1.5.0_28-157, mixed mode, sharing)\r\n\r\nThe other libraries in my application is the libgdx library.\r\n\r\nThe full error is \r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Bad version number in .class file\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:676)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:260)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:56)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:195)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:188)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:317)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:280)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:252)\r\n\tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:375)","title":"java.lang.UnsupportedClassVersionError: Bad version number in .class file","body":"<p>I'm having this error in eclipes <code>java.lang.UnsupportedClassVersionError: Bad version number in .class file</code>.</p>\n\n<p>When I run <code>javac -version</code> it prints </p>\n\n<pre><code>javac 1.5.0_28\n</code></pre>\n\n<p>Within eclipes if I right click, properties->java compiler it says I'm using <code>1.5</code> and if I then go to <code>java build path</code>, I have <code>JRE System Library [JVM 1.5.0 (MacOS X Default)]</code> in there.</p>\n\n<p>Why am i getting this error and how do I fix it?</p>\n\n<p><strong>EDITS</strong></p>\n\n<p><code>java -version</code> prints</p>\n\n<pre><code>java version \"1.5.0_28\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_28-b04-382-9M3326)\nJava HotSpot(TM) Client VM (build 1.5.0_28-157, mixed mode, sharing)\n</code></pre>\n\n<p>The other libraries in my application is the libgdx library.</p>\n\n<p>The full error is </p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsupportedClassVersionError: Bad version number in .class file\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:676)\nat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124)\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:260)\nat java.net.URLClassLoader.access$100(URLClassLoader.java:56)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:195)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(URLClassLoader.java:188)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:317)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:280)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:252)\nat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:375)\n</code></pre>\n"},{"tags":["java","arrays","function"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1651218313,"post_id":72054385,"comment_id":127316249,"body_markdown":"Welcome to Stack Overflow. Please show us your attempt at solving the problem, and ask specific questions that aren&#39;t as broad as &quot;do this for me&quot;. Stack Overflow is not a free coding service.","body":"Welcome to Stack Overflow. Please show us your attempt at solving the problem, and ask specific questions that aren&#39;t as broad as &quot;do this for me&quot;. Stack Overflow is not a free coding service."},{"owner":{"account_id":24719903,"reputation":11,"user_id":18609136,"display_name":"Christopher F."},"score":0,"creation_date":1651222351,"post_id":72054385,"comment_id":127317602,"body_markdown":"thank you for the tip there I didn&#39;t think to show what I was doing.","body":"thank you for the tip there I didn&#39;t think to show what I was doing."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1651232430,"post_id":72054385,"comment_id":127320835,"body_markdown":"Does your assignment allow you to use the Collections framework?  If yes, take a look at the Set interface and consider using a HashSet to identify unique values.","body":"Does your assignment allow you to use the Collections framework?  If yes, take a look at the Set interface and consider using a HashSet to identify unique values."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651236000,"creation_date":1651236000,"answer_id":72058134,"question_id":72054385,"body_markdown":"Without using anything too fancy:\r\n\r\n    static List&lt;Integer&gt; getUniqueNumbers(int arr2d[][]) {\r\n        List&lt;Integer&gt; unique = new ArrayList&lt;Integer&gt;();\r\n        for(int[] row : arr2d) {\r\n            for(int x : row) {\r\n                if (!unique.contains(x)) { \r\n                    unique.add(x);\r\n                }\r\n            }\r\n        }\r\n        return unique;\r\n    }\r\n\r\nYou can directly output the contents of a List:\r\n\r\n    List&lt;Integer&gt; results = getUniqueNumbers(arr);\r\n    System.out.println(results);\r\n\r\nYou&#39;d get something like:\r\n\r\n    [1, 4, 2]\r\n","title":"I&#39;m trying to make a function that takes a 2d array as a parameter and outputs a normal array containing every unique number, in java","body":"<p>Without using anything too fancy:</p>\n<pre><code>static List&lt;Integer&gt; getUniqueNumbers(int arr2d[][]) {\n    List&lt;Integer&gt; unique = new ArrayList&lt;Integer&gt;();\n    for(int[] row : arr2d) {\n        for(int x : row) {\n            if (!unique.contains(x)) { \n                unique.add(x);\n            }\n        }\n    }\n    return unique;\n}\n</code></pre>\n<p>You can directly output the contents of a List:</p>\n<pre><code>List&lt;Integer&gt; results = getUniqueNumbers(arr);\nSystem.out.println(results);\n</code></pre>\n<p>You'd get something like:</p>\n<pre><code>[1, 4, 2]\n</code></pre>\n"}],"owner":{"account_id":24719903,"reputation":11,"user_id":18609136,"display_name":"Christopher F."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651236000,"creation_date":1651218000,"question_id":72054385,"body_markdown":"The function needs to have a 2d array as a parameter and then return a normal array with all the unique numbers.\r\nIf the 2d array is \r\n\r\n    [\r\n    [1,1],\r\n    [4,2]\r\n    ]\r\n\r\nthen it should output\r\n\r\n    [1,4,2]\r\n\r\nI&#39;m still pretty new to coding so I&#39;m finding it difficult to wrap my head around this. \r\nthis is what I have currently \r\n\r\n    static void getUniqueNumbers(int arr[], int n) {\r\n        for (int i = 0; i &lt; n; i++) {\r\n    \r\n            int j;\r\n            for (j = 0; j &lt; i; j++)\r\n                if (arr[i] == arr[j])\r\n                    break;\r\n            if (i == j)\r\n                System.out.print(arr[i] + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nit works for a single array but I don&#39;t know how to adjust it to work with a 2d array.","title":"I&#39;m trying to make a function that takes a 2d array as a parameter and outputs a normal array containing every unique number, in java","body":"<p>The function needs to have a 2d array as a parameter and then return a normal array with all the unique numbers.\nIf the 2d array is</p>\n<pre><code>[\n[1,1],\n[4,2]\n]\n</code></pre>\n<p>then it should output</p>\n<pre><code>[1,4,2]\n</code></pre>\n<p>I'm still pretty new to coding so I'm finding it difficult to wrap my head around this.\nthis is what I have currently</p>\n<pre><code>static void getUniqueNumbers(int arr[], int n) {\n    for (int i = 0; i &lt; n; i++) {\n\n        int j;\n        for (j = 0; j &lt; i; j++)\n            if (arr[i] == arr[j])\n                break;\n        if (i == j)\n            System.out.print(arr[i] + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>it works for a single array but I don't know how to adjust it to work with a 2d array.</p>\n"},{"tags":["java","string","replace","encoding","utf-8"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651151247,"post_id":72044037,"comment_id":127298789,"body_markdown":"Is the original source a stream?","body":"Is the original source a stream?"},{"owner":{"account_id":2527137,"reputation":49,"user_id":2196276,"display_name":"Felipe"},"score":0,"creation_date":1651152037,"post_id":72044037,"comment_id":127299184,"body_markdown":"it&#39;s a json response","body":"it&#39;s a json response"},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1651153412,"post_id":72044037,"comment_id":127299780,"body_markdown":"Latin1 has only 256 characters (65 of them are control codes or DEL). So do not expect you can transcode all UTF-8 characters into Latin1. Probably you should consider to upgrade the encoding. Latin1 is old (and it doesn&#39;t include e.g. the Euro sign, so not much useful also in Europe).","body":"Latin1 has only 256 characters (65 of them are control codes or DEL). So do not expect you can transcode all UTF-8 characters into Latin1. Probably you should consider to upgrade the encoding. Latin1 is old (and it doesn&#39;t include e.g. the Euro sign, so not much useful also in Europe)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1651154709,"post_id":72044037,"comment_id":127300370,"body_markdown":"That doesn&#39;t answer the question ;) If you&#39;re reading a stream, I&#39;d probably use a `FilterReader`","body":"That doesn&#39;t answer the question ;) If you&#39;re reading a stream, I&#39;d probably use a <code>FilterReader</code>"}],"answers":[{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651152805,"creation_date":1651152805,"answer_id":72044620,"question_id":72044037,"body_markdown":"`UTF-8 0xe29ca8` is [sparkles](https://www.fileformat.info/info/unicode/char/2728/index.htm). Equivalently to how you already handle `UTF-8 0x2020`, you can manually replace it with any Latin1 character (combination) that resembles three sparkles. There is, however, no canonical way to do this. Essentially, you have to check all characters above `0xFF`.\r\n\r\nWhat is somehow weird here is that your code seems to handle `Strings` and strictly speaking, Java `Strings` are always UTF-16. However, UTF-8 is a subset of UTF-16, so it is safe to assume that a Java `String` can represent a sequence of UTF-8 characters.\r\n\r\nIn a scenario you are describing, you would usually receive byte data and use a [`CharsetDecoder`](https://docs.oracle.com/javase/8/docs/api/java/nio/charset/CharsetDecoder.html) to convert UTF-8 byte data to a character string and a [`CharsetEncoder`](https://docs.oracle.com/javase/8/docs/api/java/nio/charset/CharsetEncoder.html) to convert the character string to Latin1 byte data. Both classes have the method [`onUnmappableCharacter()`](https://docs.oracle.com/javase/8/docs/api/java/nio/charset/CharsetEncoder.html#onUnmappableCharacter-java.nio.charset.CodingErrorAction-) in order to specify the action to take if a character or byte sequence has no representation in the respective encoding. Receiving the input as `String` eliminates the possibility to control the encoding of the input bytes and forwarding the output as `String` eliminates the possibility to control the encoding of the output bytes.\r\n\r\nIn this specific case, the conversion from a character string to a Latin1 byte string is probably done by the database driver or database itself, over which there seems to be no control. You could work around this by converting the character string to a Latin1 byte string, handling all unmappable characters and then converting it back to a character string in order to pass it to the database driver.","title":"UTF-8 encoding java replacement with 3 hex character","body":"<p><code>UTF-8 0xe29ca8</code> is <a href=\"https://www.fileformat.info/info/unicode/char/2728/index.htm\" rel=\"nofollow noreferrer\">sparkles</a>. Equivalently to how you already handle <code>UTF-8 0x2020</code>, you can manually replace it with any Latin1 character (combination) that resembles three sparkles. There is, however, no canonical way to do this. Essentially, you have to check all characters above <code>0xFF</code>.</p>\n<p>What is somehow weird here is that your code seems to handle <code>Strings</code> and strictly speaking, Java <code>Strings</code> are always UTF-16. However, UTF-8 is a subset of UTF-16, so it is safe to assume that a Java <code>String</code> can represent a sequence of UTF-8 characters.</p>\n<p>In a scenario you are describing, you would usually receive byte data and use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/charset/CharsetDecoder.html\" rel=\"nofollow noreferrer\"><code>CharsetDecoder</code></a> to convert UTF-8 byte data to a character string and a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/charset/CharsetEncoder.html\" rel=\"nofollow noreferrer\"><code>CharsetEncoder</code></a> to convert the character string to Latin1 byte data. Both classes have the method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/charset/CharsetEncoder.html#onUnmappableCharacter-java.nio.charset.CodingErrorAction-\" rel=\"nofollow noreferrer\"><code>onUnmappableCharacter()</code></a> in order to specify the action to take if a character or byte sequence has no representation in the respective encoding. Receiving the input as <code>String</code> eliminates the possibility to control the encoding of the input bytes and forwarding the output as <code>String</code> eliminates the possibility to control the encoding of the output bytes.</p>\n<p>In this specific case, the conversion from a character string to a Latin1 byte string is probably done by the database driver or database itself, over which there seems to be no control. You could work around this by converting the character string to a Latin1 byte string, handling all unmappable characters and then converting it back to a character string in order to pass it to the database driver.</p>\n"},{"tags":[],"owner":{"account_id":2527137,"reputation":49,"user_id":2196276,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651235591,"creation_date":1651235591,"answer_id":72058048,"question_id":72044037,"body_markdown":"Thanks for the answers, they helped me.\r\nI realized that I would have to handle each encoding separately.\r\nI&#39;ll just complement the answer with the code I made.\r\n1) I did the accent substitutions (to pt-br);\r\n2) I applied the replacements of specific encodings by blank space;\r\n\r\nAnd as Izruo commented, I needed to use UTF-16 encoding.\r\nIn the example I gave (0xE2 0x9C 0xA8) I applied the replace &quot;\\u2728&quot;. In the &quot;face palm&quot; emoji (with the encoding 0xF0 0x9F 0xA4 0xA6) I applied two substitutions: &quot;\\uD83E&quot; and &quot;\\uDD26&quot;.\r\n\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        String rawString = &quot;Teste com acentua&#231;&#245;es&quot;;\r\n        byte[] bytes = rawString.getBytes(StandardCharsets.UTF_8);\r\n\r\n        String utf8EncodedString = new String(bytes, StandardCharsets.UTF_8);\r\n        System.out.println(convertToLatin1(utf8EncodedString));\r\n    }\r\n    \r\n    public static String convertToLatin1(String utf8String) throws Exception {\r\n        if (utf8String == null || utf8String.trim().length() == 0) {\r\n            return UtilString.EMPTY;\r\n        }\r\n        String newString = replaceAccents(utf8String);\r\n        newString = StringUtils.replace(newString, &quot;\\u2728&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\u277C&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\u277D&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\u277E&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\u277F&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\u2665&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\u2705&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\ud83d&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\ude4b&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\ud83c&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\udffb&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\u2340&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\u200d&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\u2640&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\ufe0f&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\uD83E&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\uDD70&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\uDD20&quot;, &quot; &quot;);\r\n        newString = StringUtils.replace(newString, &quot;\\uDD26&quot;, &quot; &quot;);\r\n        \r\n        return newString;\r\n    }\r\n\r\n    private static final String PLAIN_ASCII = &quot;AaEeIiOoUu&quot;    // \r\n            + &quot;&#193;&#225;&#201;&#233;&#205;&#237;&#211;&#243;&#218;&#250;&#221;&#253;&quot;  // \r\n            + &quot;&#194;&#226;&#202;&#234;&#206;&#238;&#212;&#244;&#219;&#251;Yy&quot;  // \r\n            + &quot;&#195;&#227;EeIi&#213;&#245;UuYy&quot;  // \r\n            + &quot;&#196;&#228;&#203;&#235;&#207;&#239;&#214;&#246;&#220;&#252;Yy&quot;  // \r\n            + &quot;Aa&quot;            // \r\n            + &quot;&#199;&#231;&quot;            // \r\n            + &quot;Nn&quot;            // \r\n    ;\r\n\r\n    private static final String UNICODE = &quot;\\u00C0\\u00E0\\u00C8\\u00E8\\u00CC\\u00EC\\u00D2\\u00F2\\u00D9\\u00F9&quot; //\r\n            + &quot;\\u00C1\\u00E1\\u00C9\\u00E9\\u00CD\\u00ED\\u00D3\\u00F3\\u00DA\\u00FA\\u00DD\\u00FD&quot; //\r\n            + &quot;\\u00C2\\u00E2\\u00CA\\u00EA\\u00CE\\u00EE\\u00D4\\u00F4\\u00DB\\u00FB\\u0176\\u0177&quot; //\r\n            + &quot;\\u00C2\\u00E2\\u00CA\\u00EA\\u00CE\\u00EE\\u00D4\\u00F4\\u00DB\\u00FB\\u0176\\u0177&quot; //\r\n            + &quot;\\u00C4\\u00E4\\u00CB\\u00EB\\u00CF\\u00EF\\u00D6\\u00F6\\u00DC\\u00FC\\u0178\\u00FF&quot; //\r\n            + &quot;\\u00C5\\u00E5&quot; // \r\n            + &quot;\\u00C7\\u00E7&quot; // \r\n            + &quot;\\u00D1\\u00F1&quot;;\r\n\r\n    public static String replaceAccents(String aString) {\r\n        StringBuilder stringbuilder = new StringBuilder();\r\n        for (int i = 0; i &lt; aString.length(); i++) {\r\n            char c = aString.charAt(i);\r\n            int position = UNICODE.indexOf(c);\r\n            if (position &gt; -1) {\r\n                stringbuilder.append(PLAIN_ASCII.charAt(position));\r\n            } else {\r\n                stringbuilder.append(c);\r\n            }\r\n        }\r\n        return stringbuilder.toString();\r\n    }\r\n\r\nSo if you are having a similar problem get the UTF-16 encoding (I found it on compart.com, but fileformat.info is ok) and apply the replacement you want.","title":"UTF-8 encoding java replacement with 3 hex character","body":"<p>Thanks for the answers, they helped me.\nI realized that I would have to handle each encoding separately.\nI'll just complement the answer with the code I made.</p>\n<ol>\n<li>I did the accent substitutions (to pt-br);</li>\n<li>I applied the replacements of specific encodings by blank space;</li>\n</ol>\n<p>And as Izruo commented, I needed to use UTF-16 encoding.\nIn the example I gave (0xE2 0x9C 0xA8) I applied the replace &quot;\\u2728&quot;. In the &quot;face palm&quot; emoji (with the encoding 0xF0 0x9F 0xA4 0xA6) I applied two substitutions: &quot;\\uD83E&quot; and &quot;\\uDD26&quot;.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    String rawString = &quot;Teste com acentuações&quot;;\n    byte[] bytes = rawString.getBytes(StandardCharsets.UTF_8);\n\n    String utf8EncodedString = new String(bytes, StandardCharsets.UTF_8);\n    System.out.println(convertToLatin1(utf8EncodedString));\n}\n\npublic static String convertToLatin1(String utf8String) throws Exception {\n    if (utf8String == null || utf8String.trim().length() == 0) {\n        return UtilString.EMPTY;\n    }\n    String newString = replaceAccents(utf8String);\n    newString = StringUtils.replace(newString, &quot;\\u2728&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\u277C&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\u277D&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\u277E&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\u277F&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\u2665&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\u2705&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\ud83d&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\ude4b&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\ud83c&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\udffb&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\u2340&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\u200d&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\u2640&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\ufe0f&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\uD83E&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\uDD70&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\uDD20&quot;, &quot; &quot;);\n    newString = StringUtils.replace(newString, &quot;\\uDD26&quot;, &quot; &quot;);\n    \n    return newString;\n}\n\nprivate static final String PLAIN_ASCII = &quot;AaEeIiOoUu&quot;    // \n        + &quot;ÁáÉéÍíÓóÚúÝý&quot;  // \n        + &quot;ÂâÊêÎîÔôÛûYy&quot;  // \n        + &quot;ÃãEeIiÕõUuYy&quot;  // \n        + &quot;ÄäËëÏïÖöÜüYy&quot;  // \n        + &quot;Aa&quot;            // \n        + &quot;Çç&quot;            // \n        + &quot;Nn&quot;            // \n;\n\nprivate static final String UNICODE = &quot;\\u00C0\\u00E0\\u00C8\\u00E8\\u00CC\\u00EC\\u00D2\\u00F2\\u00D9\\u00F9&quot; //\n        + &quot;\\u00C1\\u00E1\\u00C9\\u00E9\\u00CD\\u00ED\\u00D3\\u00F3\\u00DA\\u00FA\\u00DD\\u00FD&quot; //\n        + &quot;\\u00C2\\u00E2\\u00CA\\u00EA\\u00CE\\u00EE\\u00D4\\u00F4\\u00DB\\u00FB\\u0176\\u0177&quot; //\n        + &quot;\\u00C2\\u00E2\\u00CA\\u00EA\\u00CE\\u00EE\\u00D4\\u00F4\\u00DB\\u00FB\\u0176\\u0177&quot; //\n        + &quot;\\u00C4\\u00E4\\u00CB\\u00EB\\u00CF\\u00EF\\u00D6\\u00F6\\u00DC\\u00FC\\u0178\\u00FF&quot; //\n        + &quot;\\u00C5\\u00E5&quot; // \n        + &quot;\\u00C7\\u00E7&quot; // \n        + &quot;\\u00D1\\u00F1&quot;;\n\npublic static String replaceAccents(String aString) {\n    StringBuilder stringbuilder = new StringBuilder();\n    for (int i = 0; i &lt; aString.length(); i++) {\n        char c = aString.charAt(i);\n        int position = UNICODE.indexOf(c);\n        if (position &gt; -1) {\n            stringbuilder.append(PLAIN_ASCII.charAt(position));\n        } else {\n            stringbuilder.append(c);\n        }\n    }\n    return stringbuilder.toString();\n}\n</code></pre>\n<p>So if you are having a similar problem get the UTF-16 encoding (I found it on compart.com, but fileformat.info is ok) and apply the replacement you want.</p>\n"}],"owner":{"account_id":2527137,"reputation":49,"user_id":2196276,"display_name":"Felipe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72044620,"answer_count":2,"score":0,"last_activity_date":1651235591,"creation_date":1651150338,"question_id":72044037,"body_markdown":"My application is receiving data from an endpoint. I do some processing with the received data and insert it into the database.\r\n\r\nAt some point I had a problem with the encoding since the data received is UTF-8 and my database uses LATIN1. The error displayed is:\r\n\r\n&gt; [org.hibernate.util.JDBCExceptionReporter] ERROR: character with byte\r\n&gt; sequence 0x2020 in encoding &quot;UTF8&quot; has no equivalent in\r\n&gt; encoding &quot;LATIN1&quot;\r\n\r\nIn most cases I can solve it by replacing it like this:\r\n\r\n    String text = org.apache.commons.lang.StringUtils.replace(s, &quot;\\u2020&quot;, &quot;+&quot;);\r\n\r\nBut now the error is:\r\n&gt; ERROR [org.hibernate.util.JDBCExceptionReporter] ERROR: character with byte sequence 0xe2 0x9c 0xa8 in encoding &quot;UTF8&quot; has no equivalent in encoding &quot;LATIN1&quot;\r\n\r\nHow can I replace this hex?\r\nPS: Unfortunately changing the database encoding is not an option. It&#39;s a legacy system.","title":"UTF-8 encoding java replacement with 3 hex character","body":"<p>My application is receiving data from an endpoint. I do some processing with the received data and insert it into the database.</p>\n<p>At some point I had a problem with the encoding since the data received is UTF-8 and my database uses LATIN1. The error displayed is:</p>\n<blockquote>\n<p>[org.hibernate.util.JDBCExceptionReporter] ERROR: character with byte\nsequence 0x2020 in encoding &quot;UTF8&quot; has no equivalent in\nencoding &quot;LATIN1&quot;</p>\n</blockquote>\n<p>In most cases I can solve it by replacing it like this:</p>\n<pre><code>String text = org.apache.commons.lang.StringUtils.replace(s, &quot;\\u2020&quot;, &quot;+&quot;);\n</code></pre>\n<p>But now the error is:</p>\n<blockquote>\n<p>ERROR [org.hibernate.util.JDBCExceptionReporter] ERROR: character with byte sequence 0xe2 0x9c 0xa8 in encoding &quot;UTF8&quot; has no equivalent in encoding &quot;LATIN1&quot;</p>\n</blockquote>\n<p>How can I replace this hex?\nPS: Unfortunately changing the database encoding is not an option. It's a legacy system.</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1651245551,"post_id":72058026,"comment_id":127325763,"body_markdown":"The `PDFCleanUpProcessor` is designed for redaction purposes. Thus, it tries to remove all information in the clean-up locations. Nonetheless, it is open source, so you can try and change it to only remove certain information from there.","body":"The <code>PDFCleanUpProcessor</code> is designed for redaction purposes. Thus, it tries to remove all information in the clean-up locations. Nonetheless, it is open source, so you can try and change it to only remove certain information from there."}],"owner":{"account_id":17483040,"reputation":21,"user_id":12676660,"display_name":"yrag09"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651235460,"creation_date":1651235460,"question_id":72058026,"body_markdown":"Is there a way to get the PDFCleanUpProcessor from Itext to just remove text and not other items?\r\n\r\nThe code i&#39;ve got here removes part of a table border as well as the text from the PDF\r\n\r\nI guess thats because its replacing the text with the White Rectangle defined in the cleanuplocations list? \r\n\r\nCan i perhaps use a blank rectangle instead of white.\r\n\r\nI don&#39;t want to remove the table border, just any text found within the rectangle area&#160;\r\n\r\n    List&lt;PdfCleanUpLocation&gt; cleanUpLocations = new ArrayList&lt;PdfCleanUpLocation&gt;();&#160; &#160; &#160; &#160; &#160; &#160; \r\n    for (int x = 1; x &lt;= pagecount; x++) {&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; \r\n       if(x == pages.get(rectscount))&#160; {&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; \r\n       Rectangle rect = rects.get(rectscount)\r\n       cleanUpLocations.add(new PdfCleanUpLocation(x, rect,BaseColor.WHITE));&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; \r\n       rectscount++;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; \r\n       }&#160; &#160; &#160; &#160; &#160; &#160; \r\n    }&#160; &#160; &#160; &#160; &#160; &#160; //System.out.println(cleanUpLocations.size());&#160; &#160; &#160; &#160; &#160; &#160; \r\n    PdfCleanUpProcessor cleaner = new PdfCleanUpProcessor(cleanUpLocations, stamper);&#160; &#160; &#160; &#160; &#160; &#160; \r\n    cleaner.cleanUp();\r\n\r\n","title":"PDFCleanUpProcessor just remove text","body":"<p>Is there a way to get the PDFCleanUpProcessor from Itext to just remove text and not other items?</p>\n<p>The code i've got here removes part of a table border as well as the text from the PDF</p>\n<p>I guess thats because its replacing the text with the White Rectangle defined in the cleanuplocations list?</p>\n<p>Can i perhaps use a blank rectangle instead of white.</p>\n<p>I don't want to remove the table border, just any text found within the rectangle area </p>\n<pre><code>List&lt;PdfCleanUpLocation&gt; cleanUpLocations = new ArrayList&lt;PdfCleanUpLocation&gt;();            \nfor (int x = 1; x &lt;= pagecount; x++) {                                \n   if(x == pages.get(rectscount))  {                    \n   Rectangle rect = rects.get(rectscount)\n   cleanUpLocations.add(new PdfCleanUpLocation(x, rect,BaseColor.WHITE));                    \n   rectscount++;                \n   }            \n}            //System.out.println(cleanUpLocations.size());            \nPdfCleanUpProcessor cleaner = new PdfCleanUpProcessor(cleanUpLocations, stamper);            \ncleaner.cleanUp();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1651231953,"post_id":72057229,"comment_id":127320674,"body_markdown":"What exactly do you mean by &quot;paragraph&quot;?","body":"What exactly do you mean by &quot;paragraph&quot;?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1651232088,"post_id":72057229,"comment_id":127320724,"body_markdown":"And in the output file, where each line is split into a number of lines, how can you then tell if a certain line is the start of a new line from the original file, or a continuation of the previous long line?","body":"And in the output file, where each line is split into a number of lines, how can you then tell if a certain line is the start of a new line from the original file, or a continuation of the previous long line?"},{"owner":{"account_id":9533865,"reputation":27,"user_id":7084630,"accept_rate":50,"display_name":"Nis"},"score":0,"creation_date":1651232133,"post_id":72057229,"comment_id":127320735,"body_markdown":"to be more precise , you could say a file that contains &#39;n&#39; number of lines. So each line need to check for certain length and if that exceeds a given size , a new line should be introduced","body":"to be more precise , you could say a file that contains &#39;n&#39; number of lines. So each line need to check for certain length and if that exceeds a given size , a new line should be introduced"},{"owner":{"account_id":9533865,"reputation":27,"user_id":7084630,"accept_rate":50,"display_name":"Nis"},"score":0,"creation_date":1651232280,"post_id":72057229,"comment_id":127320787,"body_markdown":"from the input file , you can assume like A*, B* etc are all of segment identifiers or line identifiers . Does this answer your query ? And every line ends with &quot;\\n&quot; in the input file","body":"from the input file , you can assume like A*, B* etc are all of segment identifiers or line identifiers . Does this answer your query ? And every line ends with &quot;\\n&quot; in the input file"},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1651232458,"post_id":72057229,"comment_id":127320844,"body_markdown":"Please [edit] the question update it with your own attempt. Also, please use text instead of images.","body":"Please <a href=\"https://stackoverflow.com/posts/72057229/edit\">edit</a> the question update it with your own attempt. Also, please use text instead of images."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1651232812,"post_id":72057229,"comment_id":127320989,"body_markdown":"You can get some hints from this question: https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java","body":"You can get some hints from this question: <a href=\"https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java\" title=\"split string to equal length substrings in java\">stackoverflow.com/questions/3760152/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651235329,"creation_date":1651235329,"answer_id":72057998,"question_id":72057229,"body_markdown":"You can achieve it like this \r\n```\r\npublic static void main(String[] args) throws IOException {\r\n\t    \t\r\n\t    \tList&lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;C:\\\\Path\\\\to\\\\File\\\\Test.txt&quot;), StandardCharsets.US_ASCII);\r\n\t    \tfor(String s : lines) {\r\n\t    \t\tint count=s.length()/10;\r\n\t    \t\tif(s.length()%10!=0) {\r\n\t    \t\t\tcount=(s.length()/10)+1; \r\n\t    \t\t}\r\n\t    \t\tfor(int i=0;i&lt;count;i++) {\r\n\t    \t\t\tif(((i+1)*10)&gt;s.length()) {\r\n\t    \t\t\t\tSystem.out.println(s.substring(i*10,s.length()));\r\n\t    \t\t\t}else\r\n\t    \t\t\tSystem.out.println(s.substring(i*10,(i+1)*10));\r\n\t    \t\t}\r\n\t    \t}\r\n\t    \r\n\t    }\r\n```\r\nBy this way, you can split the file contents into your desired length.","title":"Large Paragraph where in each line if it exceeds certain length , should go to new line using Java","body":"<p>You can achieve it like this</p>\n<pre><code>public static void main(String[] args) throws IOException {\n            \n            List&lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;C:\\\\Path\\\\to\\\\File\\\\Test.txt&quot;), StandardCharsets.US_ASCII);\n            for(String s : lines) {\n                int count=s.length()/10;\n                if(s.length()%10!=0) {\n                    count=(s.length()/10)+1; \n                }\n                for(int i=0;i&lt;count;i++) {\n                    if(((i+1)*10)&gt;s.length()) {\n                        System.out.println(s.substring(i*10,s.length()));\n                    }else\n                    System.out.println(s.substring(i*10,(i+1)*10));\n                }\n            }\n        \n        }\n</code></pre>\n<p>By this way, you can split the file contents into your desired length.</p>\n"}],"owner":{"account_id":9533865,"reputation":27,"user_id":7084630,"accept_rate":50,"display_name":"Nis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72057998,"answer_count":1,"score":0,"last_activity_date":1651235329,"creation_date":1651231583,"question_id":72057229,"body_markdown":"Need help on solving below usecase using Java where in the below paragraph\r\n\r\n[![input][1]][1]\r\n\r\nA@123@456789@10111213&lt;br/&gt;\r\nB@123@456789&lt;br/&gt;\r\nC@123@456789@101112131415&lt;br/&gt;\r\nD@123@456789&lt;br/&gt;\r\nE@123@456789@101112131415161718&lt;br/&gt;\r\n\r\nhas to be changed to this way below\r\n\r\n[![output][2]][2]\r\n\r\nA@123@4567&lt;br/&gt;\r\n89@1011121&lt;br/&gt;\r\n3&lt;br/&gt;\r\nB@123@4567&lt;br/&gt;\r\n89&lt;br/&gt;\r\nC@123@4567&lt;br/&gt;\r\n89@1011121&lt;br/&gt;\r\n31415&lt;br/&gt;\r\nD@123@4567&lt;br/&gt;\r\n89&lt;br/&gt;\r\nE@123@4567&lt;br/&gt;\r\n89@1011121&lt;br/&gt;\r\n3141516171&lt;br/&gt;\r\n8&lt;br/&gt;\r\n\r\n\r\nmeaning each line in the given paragraph is checked for a certain length in this case 10 , and if it exceeds a newline has to be added. This behavior has to be applied on every line in the paragraph\r\n\r\nAny help ? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JiQfg.jpg\r\n  [2]: https://i.stack.imgur.com/1twM5.jpg","title":"Large Paragraph where in each line if it exceeds certain length , should go to new line using Java","body":"<p>Need help on solving below usecase using Java where in the below paragraph</p>\n<p><a href=\"https://i.stack.imgur.com/JiQfg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JiQfg.jpg\" alt=\"input\" /></a></p>\n<p>A@123@456789@10111213<br/>\nB@123@456789<br/>\nC@123@456789@101112131415<br/>\nD@123@456789<br/>\nE@123@456789@101112131415161718<br/></p>\n<p>has to be changed to this way below</p>\n<p><a href=\"https://i.stack.imgur.com/1twM5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1twM5.jpg\" alt=\"output\" /></a></p>\n<p>A@123@4567<br/>\n89@1011121<br/>\n3<br/>\nB@123@4567<br/>\n89<br/>\nC@123@4567<br/>\n89@1011121<br/>\n31415<br/>\nD@123@4567<br/>\n89<br/>\nE@123@4567<br/>\n89@1011121<br/>\n3141516171<br/>\n8<br/></p>\n<p>meaning each line in the given paragraph is checked for a certain length in this case 10 , and if it exceeds a newline has to be added. This behavior has to be applied on every line in the paragraph</p>\n<p>Any help ?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-room"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1651232202,"post_id":72057172,"comment_id":127320760,"body_markdown":"when in doubt, use android instead of android studio, unless you&#39;re asking about a feature of the IDE itself, if you use the wrong tag people wont see your question","body":"when in doubt, use android instead of android studio, unless you&#39;re asking about a feature of the IDE itself, if you use the wrong tag people wont see your question"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1651232582,"post_id":72057172,"comment_id":127320899,"body_markdown":"&quot;I couldn&#39;t solve it&quot; doesn&#39;t provide enough information so we can help. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors? Please respond with @AlexMamo","body":"&quot;I couldn&#39;t solve it&quot; doesn&#39;t provide enough information so we can help. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors? Please respond with @AlexMamo"},{"owner":{"account_id":22589758,"reputation":13,"user_id":16773064,"display_name":"Andrew K."},"score":0,"creation_date":1651233069,"post_id":72057172,"comment_id":127321072,"body_markdown":"@AlexMamo Hello!I have added the Dao interface and the database class.","body":"@AlexMamo Hello!I have added the Dao interface and the database class."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1651233364,"post_id":72057172,"comment_id":127321188,"body_markdown":"Can you please tell us how is this question related to Firebase?","body":"Can you please tell us how is this question related to Firebase?"},{"owner":{"account_id":22589758,"reputation":13,"user_id":16773064,"display_name":"Andrew K."},"score":0,"creation_date":1651234082,"post_id":72057172,"comment_id":127321450,"body_markdown":"@AlexMamo actually 2 of the requirements of the project are 2 databases.The first one has to be made using the Android Room and the second one using Firebase.Having done that,I then need to use these two to continue the assignment","body":"@AlexMamo actually 2 of the requirements of the project are 2 databases.The first one has to be made using the Android Room and the second one using Firebase.Having done that,I then need to use these two to continue the assignment"}],"answers":[{"tags":[],"owner":{"account_id":21319272,"reputation":809,"user_id":15692700,"display_name":"Muhammad Rio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651235205,"creation_date":1651235205,"answer_id":72057968,"question_id":72057172,"body_markdown":"Usually, Foreign key constraint failed happens when you try to constraint child column to an **empty** or **`null`** parent column, this usually happens when :\r\n\r\n 1. The child entity inserted to the database before the parent entity\r\n 2. The `childColumns` value doesn&#39;t match any `parentColumns` value    ","title":"foreign key constraint failed (code 787 sqlite_constraint foreign key)","body":"<p>Usually, Foreign key constraint failed happens when you try to constraint child column to an <strong>empty</strong> or <strong><code>null</code></strong> parent column, this usually happens when :</p>\n<ol>\n<li>The child entity inserted to the database before the parent entity</li>\n<li>The <code>childColumns</code> value doesn't match any <code>parentColumns</code> value</li>\n</ol>\n"}],"owner":{"account_id":22589758,"reputation":13,"user_id":16773064,"display_name":"Andrew K."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72057968,"answer_count":1,"score":1,"last_activity_date":1651235205,"creation_date":1651231354,"question_id":72057172,"body_markdown":"I have been using the Android Studio App for about a month now,in order to create a project for a university subject.\r\n    Unfortunatelly,I came across a problem while I was trying to create a database using Room that consists of 3 tables.\r\nJust to let you know,I have read all the threads reffering to this problem and unfortunatelly I couldn&#39;t solve it...\r\n\r\n    \r\n      \r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n    @Entity(tableName = &quot;travelAgencies&quot;)\r\n    public class travelAgency {\r\n        @PrimaryKey\r\n        @ColumnInfo(name = &quot;tACode&quot;)\r\n        private int agencyCode;\r\n\r\n    @ColumnInfo(name = &quot;tAName&quot;)\r\n    private String agencyName;\r\n\r\n    @ColumnInfo(name = &quot;tAAddress&quot;)\r\n    private String agencyAddress;\r\n\r\n    public int getAgencyCode() {\r\n        return agencyCode;\r\n    }\r\n\r\n    public void setAgencyCode(int agencyCode) {\r\n        this.agencyCode = agencyCode;\r\n    }\r\n\r\n    public String getAgencyName() {\r\n        return agencyName;\r\n    }\r\n\r\n    public void setAgencyName(String agencyName) {\r\n        this.agencyName = agencyName;\r\n    }\r\n\r\n    public String getAgencyAddress() {\r\n        return agencyAddress;\r\n    }\r\n\r\n    public void setAgencyAddress(String agencyAddress) {\r\n        this.agencyAddress = agencyAddress;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n        @Entity(tableName = &quot;suggetedVacations&quot;)\r\n    public class suggestedVacation {\r\n\r\n    @PrimaryKey\r\n    @ColumnInfo(name = &quot;sVCode&quot;)\r\n    private int suggestedVacationCode;\r\n\r\n    @ColumnInfo(name = &quot;sVCity&quot;)\r\n    private String suggestedVacationCity;\r\n\r\n    @ColumnInfo(name = &quot;sVCountry&quot;)\r\n    private String SuggestedVacationCountry;\r\n\r\n    @ColumnInfo(name = &quot;sVDuration&quot;)\r\n    private String SuggestedVacationDuration;\r\n\r\n    @ColumnInfo(name = &quot;sVType&quot;)\r\n    private String SuggestedVacationType;\r\n\r\n    public int getSuggestedVacationCode() {\r\n        return suggestedVacationCode;\r\n    }\r\n\r\n    public void setSuggestedVacationCode(int suggestedVacationCode) {\r\n        this.suggestedVacationCode = suggestedVacationCode;\r\n    }\r\n\r\n    public String getSuggestedVacationCity() {\r\n        return suggestedVacationCity;\r\n    }\r\n\r\n    public void setSuggestedVacationCity(String suggestedVacationCity) {\r\n        this.suggestedVacationCity = suggestedVacationCity;\r\n    }\r\n\r\n    public String getSuggestedVacationCountry() {\r\n        return SuggestedVacationCountry;\r\n    }\r\n\r\n    public void setSuggestedVacationCountry(String suggestedVacationCountry) {\r\n        SuggestedVacationCountry = suggestedVacationCountry;\r\n    }\r\n\r\n    public String getSuggestedVacationDuration() {\r\n        return SuggestedVacationDuration;\r\n    }\r\n\r\n    public void setSuggestedVacationDuration(String suggestedVacationDuration) {\r\n        SuggestedVacationDuration = suggestedVacationDuration;\r\n    }\r\n\r\n    public String getSuggestedVacationType() {\r\n        return SuggestedVacationType;\r\n    }\r\n\r\n        public void setSuggestedVacationType(String suggestedVacationType) {\r\n            SuggestedVacationType = suggestedVacationType;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Entity(tableName =&quot;theVacationPacket&quot;,\r\n        primaryKeys = {&quot;tVPAgencyCode&quot;,&quot;tVPVacationCode&quot;,&quot;tVPCode&quot;},\r\n        foreignKeys = {\r\n        @ForeignKey(entity = travelAgency.class,\r\n                    parentColumns = &quot;tACode&quot;,\r\n                    childColumns = &quot;tVPAgencyCode&quot;,\r\n                    onDelete = ForeignKey.CASCADE,\r\n                    onUpdate = ForeignKey.CASCADE),\r\n        @ForeignKey(entity = suggestedVacation.class,\r\n                    parentColumns = &quot;sVCode&quot;,\r\n                    childColumns = &quot;tVPVacationCode&quot;,\r\n                    onDelete = ForeignKey.CASCADE,\r\n                    onUpdate = ForeignKey.CASCADE)})\r\n    public class vacationPacket {\r\n        @ColumnInfo(name = &quot;tVPCode&quot;) @NonNull\r\n        private int tableVacationPacketCode;\r\n\r\n        @ColumnInfo(name = &quot;tVPAgencyCode&quot;) @NonNull\r\n        private int tableVacationPacketAgencyCode;\r\n\r\n        @ColumnInfo(name = &quot;tVPVacationCode&quot;) @NonNull\r\n        private int tableVacationPacketVacationCode;\r\n\r\n        @ColumnInfo(name = &quot;tVPDateOfDeparture&quot;)\r\n        private String tableVacationPacketDateOfDeparture;\r\n\r\n        @ColumnInfo(name = &quot;tVPPrice&quot;)\r\n        private double tableVacationPacketPrice;\r\n\r\n        public int getTableVacationPacketCode() {\r\n                return tableVacationPacketCode;\r\n        }\r\n\r\n        public void setTableVacationPacketCode(int tableVacationPacketCode) {\r\n                this.tableVacationPacketCode = tableVacationPacketCode;\r\n        }\r\n\r\n        public int getTableVacationPacketAgencyCode() {\r\n                return tableVacationPacketAgencyCode;\r\n        }\r\n\r\n        public void setTableVacationPacketAgencyCode(int tableVacationPacketAgencyCode) {\r\n                this.tableVacationPacketAgencyCode = tableVacationPacketAgencyCode;\r\n        }\r\n\r\n        public int getTableVacationPacketVacationCode() {\r\n                return tableVacationPacketVacationCode;\r\n        }\r\n\r\n        public void setTableVacationPacketVacationCode(int tableVacationPacketVacationCode) {\r\n                this.tableVacationPacketVacationCode = tableVacationPacketVacationCode;\r\n        }\r\n\r\n        public String getTableVacationPacketDateOfDeparture() {\r\n                return tableVacationPacketDateOfDeparture;\r\n        }\r\n\r\n        public void setTableVacationPacketDateOfDeparture(String tableVacationPacketDateOfDeparture) {\r\n                this.tableVacationPacketDateOfDeparture = tableVacationPacketDateOfDeparture;\r\n        }\r\n\r\n        public double getTableVacationPacketPrice() {\r\n                return tableVacationPacketPrice;\r\n        }\r\n\r\n        public void setTableVacationPacketPrice(double tableVacationPacketPrice) {\r\n                this.tableVacationPacketPrice = tableVacationPacketPrice;\r\n        }\r\n\r\n\r\n        @Database(entities ={suggestedVacation.class,travelAgency.class,vacationPacket.class},version = 1)\r\n    public abstract class roomApiDatabase extends RoomDatabase {\r\n        public abstract RoomApiDao roomApiDaoVariable();\r\n    }\r\n\r\n\r\n\r\n        @Dao\r\n    public interface RoomApiDao {\r\n        @Insert\r\n        public void insertTravelAgency(travelAgency travelAgency);\r\n\r\n    @Update\r\n    public void updateTravelAgency(travelAgency travelAgency);\r\n\r\n    @Delete\r\n    public void deleteTravelAgency(travelAgency travelAgency);\r\n\r\n    @Insert\r\n    public void insertSuggestedVacation(suggestedVacation suggestedVacation);\r\n\r\n    @Update\r\n    public void updateSuggestedVacation(suggestedVacation suggestedVacation);\r\n\r\n    @Delete\r\n    public void deleteSuggestedVacation(suggestedVacation suggestedVacation);\r\n\r\n    @Insert\r\n    public void insertVacationPacket(vacationPacket vacationPacket);\r\n\r\n    @Update\r\n    public void updateVacationPacket(vacationPacket vacationPacket);\r\n\r\n    @Delete\r\n    public void deleteVacationPacket(vacationPacket vacationPacket);\r\n\r\n    @Query(&quot;select * from travelAgencies&quot;)\r\n    public List&lt;travelAgency&gt; getTravelAgency();\r\n\r\n    @Query(&quot;select * from suggetedVacations&quot;)\r\n    public List&lt;suggestedVacation&gt; getSuggestedVacations();\r\n\r\n    @Query(&quot;select * from theVacationPacket&quot;)\r\n    public List&lt;vacationPacket&gt; getVacationPackets();\r\n}\r\n\r\n\r\n","title":"foreign key constraint failed (code 787 sqlite_constraint foreign key)","body":"<p>I have been using the Android Studio App for about a month now,in order to create a project for a university subject.\nUnfortunatelly,I came across a problem while I was trying to create a database using Room that consists of 3 tables.\nJust to let you know,I have read all the threads reffering to this problem and unfortunatelly I couldn't solve it...</p>\n<pre><code>@Entity(tableName = &quot;travelAgencies&quot;)\npublic class travelAgency {\n    @PrimaryKey\n    @ColumnInfo(name = &quot;tACode&quot;)\n    private int agencyCode;\n\n@ColumnInfo(name = &quot;tAName&quot;)\nprivate String agencyName;\n\n@ColumnInfo(name = &quot;tAAddress&quot;)\nprivate String agencyAddress;\n\npublic int getAgencyCode() {\n    return agencyCode;\n}\n\npublic void setAgencyCode(int agencyCode) {\n    this.agencyCode = agencyCode;\n}\n\npublic String getAgencyName() {\n    return agencyName;\n}\n\npublic void setAgencyName(String agencyName) {\n    this.agencyName = agencyName;\n}\n\npublic String getAgencyAddress() {\n    return agencyAddress;\n}\n\npublic void setAgencyAddress(String agencyAddress) {\n    this.agencyAddress = agencyAddress;\n}\n\n\n\n\n\n    @Entity(tableName = &quot;suggetedVacations&quot;)\npublic class suggestedVacation {\n\n@PrimaryKey\n@ColumnInfo(name = &quot;sVCode&quot;)\nprivate int suggestedVacationCode;\n\n@ColumnInfo(name = &quot;sVCity&quot;)\nprivate String suggestedVacationCity;\n\n@ColumnInfo(name = &quot;sVCountry&quot;)\nprivate String SuggestedVacationCountry;\n\n@ColumnInfo(name = &quot;sVDuration&quot;)\nprivate String SuggestedVacationDuration;\n\n@ColumnInfo(name = &quot;sVType&quot;)\nprivate String SuggestedVacationType;\n\npublic int getSuggestedVacationCode() {\n    return suggestedVacationCode;\n}\n\npublic void setSuggestedVacationCode(int suggestedVacationCode) {\n    this.suggestedVacationCode = suggestedVacationCode;\n}\n\npublic String getSuggestedVacationCity() {\n    return suggestedVacationCity;\n}\n\npublic void setSuggestedVacationCity(String suggestedVacationCity) {\n    this.suggestedVacationCity = suggestedVacationCity;\n}\n\npublic String getSuggestedVacationCountry() {\n    return SuggestedVacationCountry;\n}\n\npublic void setSuggestedVacationCountry(String suggestedVacationCountry) {\n    SuggestedVacationCountry = suggestedVacationCountry;\n}\n\npublic String getSuggestedVacationDuration() {\n    return SuggestedVacationDuration;\n}\n\npublic void setSuggestedVacationDuration(String suggestedVacationDuration) {\n    SuggestedVacationDuration = suggestedVacationDuration;\n}\n\npublic String getSuggestedVacationType() {\n    return SuggestedVacationType;\n}\n\n    public void setSuggestedVacationType(String suggestedVacationType) {\n        SuggestedVacationType = suggestedVacationType;\n    }\n}\n\n\n\n\n\n@Entity(tableName =&quot;theVacationPacket&quot;,\n    primaryKeys = {&quot;tVPAgencyCode&quot;,&quot;tVPVacationCode&quot;,&quot;tVPCode&quot;},\n    foreignKeys = {\n    @ForeignKey(entity = travelAgency.class,\n                parentColumns = &quot;tACode&quot;,\n                childColumns = &quot;tVPAgencyCode&quot;,\n                onDelete = ForeignKey.CASCADE,\n                onUpdate = ForeignKey.CASCADE),\n    @ForeignKey(entity = suggestedVacation.class,\n                parentColumns = &quot;sVCode&quot;,\n                childColumns = &quot;tVPVacationCode&quot;,\n                onDelete = ForeignKey.CASCADE,\n                onUpdate = ForeignKey.CASCADE)})\npublic class vacationPacket {\n    @ColumnInfo(name = &quot;tVPCode&quot;) @NonNull\n    private int tableVacationPacketCode;\n\n    @ColumnInfo(name = &quot;tVPAgencyCode&quot;) @NonNull\n    private int tableVacationPacketAgencyCode;\n\n    @ColumnInfo(name = &quot;tVPVacationCode&quot;) @NonNull\n    private int tableVacationPacketVacationCode;\n\n    @ColumnInfo(name = &quot;tVPDateOfDeparture&quot;)\n    private String tableVacationPacketDateOfDeparture;\n\n    @ColumnInfo(name = &quot;tVPPrice&quot;)\n    private double tableVacationPacketPrice;\n\n    public int getTableVacationPacketCode() {\n            return tableVacationPacketCode;\n    }\n\n    public void setTableVacationPacketCode(int tableVacationPacketCode) {\n            this.tableVacationPacketCode = tableVacationPacketCode;\n    }\n\n    public int getTableVacationPacketAgencyCode() {\n            return tableVacationPacketAgencyCode;\n    }\n\n    public void setTableVacationPacketAgencyCode(int tableVacationPacketAgencyCode) {\n            this.tableVacationPacketAgencyCode = tableVacationPacketAgencyCode;\n    }\n\n    public int getTableVacationPacketVacationCode() {\n            return tableVacationPacketVacationCode;\n    }\n\n    public void setTableVacationPacketVacationCode(int tableVacationPacketVacationCode) {\n            this.tableVacationPacketVacationCode = tableVacationPacketVacationCode;\n    }\n\n    public String getTableVacationPacketDateOfDeparture() {\n            return tableVacationPacketDateOfDeparture;\n    }\n\n    public void setTableVacationPacketDateOfDeparture(String tableVacationPacketDateOfDeparture) {\n            this.tableVacationPacketDateOfDeparture = tableVacationPacketDateOfDeparture;\n    }\n\n    public double getTableVacationPacketPrice() {\n            return tableVacationPacketPrice;\n    }\n\n    public void setTableVacationPacketPrice(double tableVacationPacketPrice) {\n            this.tableVacationPacketPrice = tableVacationPacketPrice;\n    }\n\n\n    @Database(entities ={suggestedVacation.class,travelAgency.class,vacationPacket.class},version = 1)\npublic abstract class roomApiDatabase extends RoomDatabase {\n    public abstract RoomApiDao roomApiDaoVariable();\n}\n\n\n\n    @Dao\npublic interface RoomApiDao {\n    @Insert\n    public void insertTravelAgency(travelAgency travelAgency);\n\n@Update\npublic void updateTravelAgency(travelAgency travelAgency);\n\n@Delete\npublic void deleteTravelAgency(travelAgency travelAgency);\n\n@Insert\npublic void insertSuggestedVacation(suggestedVacation suggestedVacation);\n\n@Update\npublic void updateSuggestedVacation(suggestedVacation suggestedVacation);\n\n@Delete\npublic void deleteSuggestedVacation(suggestedVacation suggestedVacation);\n\n@Insert\npublic void insertVacationPacket(vacationPacket vacationPacket);\n\n@Update\npublic void updateVacationPacket(vacationPacket vacationPacket);\n\n@Delete\npublic void deleteVacationPacket(vacationPacket vacationPacket);\n\n@Query(&quot;select * from travelAgencies&quot;)\npublic List&lt;travelAgency&gt; getTravelAgency();\n\n@Query(&quot;select * from suggetedVacations&quot;)\npublic List&lt;suggestedVacation&gt; getSuggestedVacations();\n\n@Query(&quot;select * from theVacationPacket&quot;)\npublic List&lt;vacationPacket&gt; getVacationPackets();\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","autowired","spring-bean","component-scan"],"comments":[{"owner":{"account_id":6816720,"reputation":473,"user_id":5245143,"accept_rate":25,"display_name":"Vijay Manohar"},"score":0,"creation_date":1651234669,"post_id":72057336,"comment_id":127321679,"body_markdown":"@Vusal My class is getting loaded , but i wanted to exclude loading one of the bean named &#39;cachingSession&#39; whereas rest of the beans in that class should still be loaded","body":"@Vusal My class is getting loaded , but i wanted to exclude loading one of the bean named &#39;cachingSession&#39; whereas rest of the beans in that class should still be loaded"},{"owner":{"account_id":14612279,"reputation":522,"user_id":10553411,"display_name":"Ganesh Thorat"},"score":1,"creation_date":1651246563,"post_id":72057336,"comment_id":127326171,"body_markdown":"See if the conditional spring annotations works in your case, there are these annotations available ConditionalOnBean, ConditionalOnClass, ConditionalOnExpression, ConditionalOnJava, ConditionalOnMissingBean,ConditionalOnMissingClass\netc. I am sure that will help you. Thanks","body":"See if the conditional spring annotations works in your case, there are these annotations available ConditionalOnBean, ConditionalOnClass, ConditionalOnExpression, ConditionalOnJava, ConditionalOnMissingBean,ConditionalOnMissingClass etc. I am sure that will help you. Thanks"}],"owner":{"account_id":6816720,"reputation":473,"user_id":5245143,"accept_rate":25,"display_name":"Vijay Manohar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651234617,"creation_date":1651232128,"question_id":72057336,"body_markdown":"I have lot of beans declared in a single class \r\n\r\n \r\n    package com.example;\r\n    @Configuration\r\n    public class MainBeanClass{\r\n    \r\n    @Override\r\n    @Bean(&quot;cachingSession&quot;)\r\n    @Lazy\r\n    public CqlSessionFactoryBean cassandraSession() {\r\n    /**/\r\n    }\r\n    \r\n    @Bean\r\n    public String createStringBean(){\r\n     System.out.println(&quot;createStringBean has been instantiated&quot;);\r\n    }\r\n    \r\n    }\r\n\r\nI wanted to exclude the this bean from loading for my testCases.\r\nIn my test-context.xml \r\n\r\n    &lt;context:component-scan base-package=&quot;com.example&quot;&gt;\r\n        &lt;context:exclude-filter&gt;&lt;!--Not able to exclude the bean cachingSession --&gt;\r\n    &lt;/context:component:scan&gt;\r\n\r\nis there any better way to exclude a bean on test-context.xml","title":"Excluding @bean from ComponentScan","body":"<p>I have lot of beans declared in a single class</p>\n<pre><code>package com.example;\n@Configuration\npublic class MainBeanClass{\n\n@Override\n@Bean(&quot;cachingSession&quot;)\n@Lazy\npublic CqlSessionFactoryBean cassandraSession() {\n/**/\n}\n\n@Bean\npublic String createStringBean(){\n System.out.println(&quot;createStringBean has been instantiated&quot;);\n}\n\n}\n</code></pre>\n<p>I wanted to exclude the this bean from loading for my testCases.\nIn my test-context.xml</p>\n<pre><code>&lt;context:component-scan base-package=&quot;com.example&quot;&gt;\n    &lt;context:exclude-filter&gt;&lt;!--Not able to exclude the bean cachingSession --&gt;\n&lt;/context:component:scan&gt;\n</code></pre>\n<p>is there any better way to exclude a bean on test-context.xml</p>\n"},{"tags":["java","garbage-collection","jvm"],"comments":[{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1651245751,"post_id":72057710,"comment_id":127325854,"body_markdown":"Are you missing any of your performance goals such as a latency or throughput? Otherwise I wouldn&#39;t worry/overoptimize too much.","body":"Are you missing any of your performance goals such as a latency or throughput? Otherwise I wouldn&#39;t worry/overoptimize too much."},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1651250113,"post_id":72057710,"comment_id":127327381,"body_markdown":"Yep - There are a lot of CPU spikes. The &quot;frequent&quot; GCs are 1 per second. In the bigger host it&#39;s 1 per 10 minutes. The smaller hosts go down after the CPU spikes. That&#39;s why.","body":"Yep - There are a lot of CPU spikes. The &quot;frequent&quot; GCs are 1 per second. In the bigger host it&#39;s 1 per 10 minutes. The smaller hosts go down after the CPU spikes. That&#39;s why."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":0,"creation_date":1651272074,"post_id":72057710,"comment_id":127333145,"body_markdown":"You&#39;re using a GCed language. The GC needs CPU cycles, so a priori a CPU spike is unexpected. Do you have any application-level measurements, other than CPU utilization, that are an actual problem that needs to be fixed?","body":"You&#39;re using a GCed language. The GC needs CPU cycles, so a priori a CPU spike is unexpected. Do you have any application-level measurements, other than CPU utilization, that are an actual problem that needs to be fixed?"}],"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651233896,"creation_date":1651233896,"question_id":72057710,"body_markdown":"We have a service, whose process sitting idle, takes a heap memory of 612 MB. \r\n\r\nThe heap of our service is given a initial and maximum size of 1GB. The young generation, as checked from gc logs, is ~400 MB. \r\n\r\nThere are a lot of minor GCs. \r\n\r\nIs this because the service by default takes more memory than the young generation?\r\n\r\nIn another bigger host, the young generation size is ~615 MB and there are very less number of minor GCs here. The initial size of heap here is 1 GB and max size is 2 GB. At the time of taking the note, the total size of heap was 1 GB. So with the same total heap size, the young generation size was different.\r\n\r\nWanted to understand these things:\r\n* Can this indeed be the problem?\r\n* Is there a standard practise to keep young generation size more than the heap consumption of the service&#39;s process?\r\n","title":"Should the young generation size be more than a service&#39;s normal heap consumption?","body":"<p>We have a service, whose process sitting idle, takes a heap memory of 612 MB.</p>\n<p>The heap of our service is given a initial and maximum size of 1GB. The young generation, as checked from gc logs, is ~400 MB.</p>\n<p>There are a lot of minor GCs.</p>\n<p>Is this because the service by default takes more memory than the young generation?</p>\n<p>In another bigger host, the young generation size is ~615 MB and there are very less number of minor GCs here. The initial size of heap here is 1 GB and max size is 2 GB. At the time of taking the note, the total size of heap was 1 GB. So with the same total heap size, the young generation size was different.</p>\n<p>Wanted to understand these things:</p>\n<ul>\n<li>Can this indeed be the problem?</li>\n<li>Is there a standard practise to keep young generation size more than the heap consumption of the service's process?</li>\n</ul>\n"},{"tags":["java","protocol-buffers","proto","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":25124191,"reputation":31,"user_id":18972158,"display_name":"Golly Ticker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651233308,"creation_date":1651233308,"answer_id":72057579,"question_id":63180847,"body_markdown":"You can use [protoCURL](https://github.com/qaware/protocurl) for this purpose. It&#39;s a command-line tool to send and receive protobuf HTTP REST requests while writing them in the Protobuf [Text](https://github.com/qaware/protocurl#protobuf-text-format) or [JSON](https://github.com/qaware/protocurl#protobuf-json-format) format.\r\n\r\nA request could look something like this:\r\n\r\n```\r\nprotocurl -I path/to/protos -i ..MyRequest -o ..MyResponse \\\r\n  -u http://host/path/o/endpoint -d &#39;someField: &quot;some-string&quot;, someIntField: 42&#39;\r\n```\r\n\r\nAnd the response may look like this:\r\n\r\n```\r\n=========================== Request Text     =========================== &gt;&gt;&gt;\r\nsomeField: &quot;my-string&quot;\r\nsomeIntField: 42\r\n=========================== Response Text    =========================== &lt;&lt;&lt;\r\nsomeResponseField: &quot;The answer for everything!&quot;\r\nsomeOtherResonseMessage: {\r\n  fooEnum: BAR\r\n}\r\n```\r\n\r\nYou can find more examples for how to use it in the [repository](https://github.com/qaware/protocurl/blob/main/EXAMPLES.md).\r\n\r\n(Disclaimer: I am the author of this tool and created it, because I had the same problem and needed a better tool.)","title":"How to curl a POST endpoint with a protobuf payload","body":"<p>You can use <a href=\"https://github.com/qaware/protocurl\" rel=\"nofollow noreferrer\">protoCURL</a> for this purpose. It's a command-line tool to send and receive protobuf HTTP REST requests while writing them in the Protobuf <a href=\"https://github.com/qaware/protocurl#protobuf-text-format\" rel=\"nofollow noreferrer\">Text</a> or <a href=\"https://github.com/qaware/protocurl#protobuf-json-format\" rel=\"nofollow noreferrer\">JSON</a> format.</p>\n<p>A request could look something like this:</p>\n<pre><code>protocurl -I path/to/protos -i ..MyRequest -o ..MyResponse \\\n  -u http://host/path/o/endpoint -d 'someField: &quot;some-string&quot;, someIntField: 42'\n</code></pre>\n<p>And the response may look like this:</p>\n<pre><code>=========================== Request Text     =========================== &gt;&gt;&gt;\nsomeField: &quot;my-string&quot;\nsomeIntField: 42\n=========================== Response Text    =========================== &lt;&lt;&lt;\nsomeResponseField: &quot;The answer for everything!&quot;\nsomeOtherResonseMessage: {\n  fooEnum: BAR\n}\n</code></pre>\n<p>You can find more examples for how to use it in the <a href=\"https://github.com/qaware/protocurl/blob/main/EXAMPLES.md\" rel=\"nofollow noreferrer\">repository</a>.</p>\n<p>(Disclaimer: I am the author of this tool and created it, because I had the same problem and needed a better tool.)</p>\n"}],"owner":{"account_id":5235346,"reputation":996,"user_id":4184113,"accept_rate":25,"display_name":"user4184113"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2647,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1651233308,"creation_date":1596140630,"question_id":63180847,"body_markdown":"I have a POST endpoint in my Java service that expects a protobuf 3 payload. This service is used by other services which send the protobuf payload. I would like to do some debugging and send a protobuf payload to the service via a `curl` command, however, I have no idea how to construct such a payload, given it&#39;s a binary protocol.   ","title":"How to curl a POST endpoint with a protobuf payload","body":"<p>I have a POST endpoint in my Java service that expects a protobuf 3 payload. This service is used by other services which send the protobuf payload. I would like to do some debugging and send a protobuf payload to the service via a <code>curl</code> command, however, I have no idea how to construct such a payload, given it's a binary protocol.</p>\n"},{"tags":["java","android","json","osmdroid","overpass-api"],"answers":[{"tags":[],"owner":{"account_id":23551801,"reputation":13,"user_id":17594387,"display_name":"account28100210"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651232884,"creation_date":1651232884,"answer_id":72057493,"question_id":72046977,"body_markdown":"Ah, I found the mistake myself.  \r\nIn this method:  \r\n\r\n    protected KmlGeometry buildGeometry(JsonObject jo, Polygon isoPolygon){\r\n     KmlGeometry geometry; //Kml Geometrie erstellen\r\n     String type = jo.get(&quot;type&quot;).getAsString(); \r\n     if (&quot;node&quot;.equals(type) &amp;&amp; isPointInCheckPolygon(isoPolygon, geoPointFromJson(jo))){ \r\n         geometry = new KmlPoint(geoPointFromJson(jo)); \r\n     } else if (&quot;way&quot;.equals(type)){ \r\n         ArrayList&lt;GeoPoint&gt; coords = parseGeometry(jo); \r\n         if (isAnArea(coords) &amp;&amp; isMultiPointInCheckPolygon(isoPolygon, coords)){ \r\n             geometry = new KmlPolygon(); \r\n             geometry.mCoordinates = coords; \r\n         } else if (!isAnArea(coords) &amp;&amp; isMultiPointInCheckPolygon(isoPolygon, coords)){ \r\n             geometry = new KmlLineString(); \r\n             geometry.mCoordinates = coords; \r\n         }\r\n         else {\r\n             return null;\r\n         }\r\n     } else { //relation:\r\n         //JsonArray jMembers = jo.get(&quot;members&quot;).getAsJsonArray();\r\n         //geometry = buildMultiGeometry(jMembers, isoPolygon);\r\n         return null;\r\n     }\r\n     return geometry;\r\n }\r\nit still builds a geometry even if the area is not within the polygon.  \r\nTo fix it I simply return null in the else statement instead.","title":"Osmdroid loading only Elements inside of a Polygon with OverpassAPIProvider","body":"<p>Ah, I found the mistake myself.<br />\nIn this method:</p>\n<pre><code>protected KmlGeometry buildGeometry(JsonObject jo, Polygon isoPolygon){\n KmlGeometry geometry; //Kml Geometrie erstellen\n String type = jo.get(&quot;type&quot;).getAsString(); \n if (&quot;node&quot;.equals(type) &amp;&amp; isPointInCheckPolygon(isoPolygon, geoPointFromJson(jo))){ \n     geometry = new KmlPoint(geoPointFromJson(jo)); \n } else if (&quot;way&quot;.equals(type)){ \n     ArrayList&lt;GeoPoint&gt; coords = parseGeometry(jo); \n     if (isAnArea(coords) &amp;&amp; isMultiPointInCheckPolygon(isoPolygon, coords)){ \n         geometry = new KmlPolygon(); \n         geometry.mCoordinates = coords; \n     } else if (!isAnArea(coords) &amp;&amp; isMultiPointInCheckPolygon(isoPolygon, coords)){ \n         geometry = new KmlLineString(); \n         geometry.mCoordinates = coords; \n     }\n     else {\n         return null;\n     }\n } else { //relation:\n     //JsonArray jMembers = jo.get(&quot;members&quot;).getAsJsonArray();\n     //geometry = buildMultiGeometry(jMembers, isoPolygon);\n     return null;\n }\n return geometry;\n</code></pre>\n<p>}\nit still builds a geometry even if the area is not within the polygon.<br />\nTo fix it I simply return null in the else statement instead.</p>\n"}],"owner":{"account_id":23551801,"reputation":13,"user_id":17594387,"display_name":"account28100210"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651232884,"creation_date":1651162166,"question_id":72046977,"body_markdown":"So I am trying the following: Using the Overpass API in osmdroid to only load those nodes, ways or relations that are within or partially within a Polygon. \r\nTweaking the [OverpassAPIProvider][1] class from osmbonuspack I&#39;ve managed to make it work with nodes (points), but for some reason it does not work for ways (areas/linestrings).  \r\nHere is my code:  \r\n\r\n   ```\r\npackage com.example.osmtestproject;\r\n\r\nimport android.content.Context;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.Display;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\n\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\nimport com.google.gson.JsonSyntaxException;\r\nimport com.snatik.polygon.Point;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\nimport org.osmdroid.bonuspack.kml.KmlFeature;\r\nimport org.osmdroid.bonuspack.kml.KmlFolder;\r\nimport org.osmdroid.bonuspack.kml.KmlGeometry;\r\nimport org.osmdroid.bonuspack.kml.KmlLineString;\r\nimport org.osmdroid.bonuspack.kml.KmlMultiGeometry;\r\nimport org.osmdroid.bonuspack.kml.KmlPlacemark;\r\nimport org.osmdroid.bonuspack.kml.KmlPoint;\r\nimport org.osmdroid.bonuspack.kml.KmlPolygon;\r\nimport org.osmdroid.bonuspack.location.POI;\r\nimport org.osmdroid.bonuspack.utils.BonusPackHelper;\r\nimport org.osmdroid.util.BoundingBox;\r\nimport org.osmdroid.util.GeoPoint;\r\nimport org.osmdroid.views.MapView;\r\nimport org.osmdroid.views.overlay.Marker;\r\nimport org.osmdroid.views.overlay.Polygon;\r\nimport org.osmdroid.views.overlay.Polyline;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\nimport java.util.Set;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class OverpassProvider {\r\n\r\n    \r\n    ArrayList&lt;KmlPlacemark&gt; myKmlPlacemarks = new ArrayList&lt;KmlPlacemark&gt;();\r\n\r\n\r\n    public OverpassProvider(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public String buildUrl(BoundingBox bb, String tag, int limit) {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        String mService = &quot;https://overpass-api.de/api/interpreter?data=[out:json][timeout:100];(&quot;;\r\n        stringBuilder.append(mService);\r\n        String sBB = &quot;(&quot;+bb.getLatSouth()+&quot;,&quot;+bb.getLonWest()+&quot;,&quot;+bb.getLatNorth()+&quot;,&quot;+bb.getLonEast()+&quot;)&quot;;\r\n        String data  =\r\n                &quot;node[&quot; + tag + &quot;]&quot; + sBB + &quot;;&quot; +\r\n                &quot;way[&quot; + tag + &quot;]&quot; + sBB + &quot;;&quot; +\r\n                &quot;);out%20qt%20center%20&quot; + limit + &quot;%20tags;&quot;;\r\n        stringBuilder.append(data);\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n    protected GeoPoint geoPointFromJson(JsonObject jLatLon){\r\n        double lat = jLatLon.get(&quot;lat&quot;).getAsDouble(); \r\n        double lon = jLatLon.get(&quot;lon&quot;).getAsDouble(); \r\n        return new GeoPoint(lat, lon); \r\n    }\r\n\r\n    protected String tagValueFromJson(String key, JsonObject jTags){\r\n        JsonElement jTag = jTags.get(key);\r\n        if (jTag == null)\r\n            return null;\r\n        else\r\n            return jTag.getAsString();\r\n    }\r\n\r\n    protected String tagValueFromJsonNotNull(String key, JsonObject jTags){\r\n        String v = tagValueFromJson(key, jTags);\r\n        return (v != null ? &quot;,&quot;+v : &quot;&quot;);\r\n    }\r\n\r\n    public ArrayList&lt;POI&gt; getPOIsFromUrl(String overpassUrl) {\r\n        getReturnAsString(overpassUrl);\r\n        if (jsonString == null) {\r\n            Log.e(BonusPackHelper.LOG_TAG, &quot;OverpassAPIProvider: request failed.&quot;);\r\n            return null;\r\n        }\r\n        try {\r\n            //parse JSON and build POIs\r\n            JsonParser parser = new JsonParser();\r\n            JsonElement json = parser.parse(jsonString);\r\n            JsonObject jResult = json.getAsJsonObject();\r\n            JsonArray jElements = jResult.get(&quot;elements&quot;).getAsJsonArray();\r\n            ArrayList&lt;POI&gt; pois = new ArrayList&lt;POI&gt;(jElements.size());\r\n            for (JsonElement j:jElements){\r\n                JsonObject jo = j.getAsJsonObject();\r\n                POI poi = new POI(POI.POI_SERVICE_OVERPASS_API);\r\n                poi.mId = jo.get(&quot;id&quot;).getAsLong();\r\n                poi.mCategory = jo.get(&quot;type&quot;).getAsString();\r\n                if (jo.has(&quot;tags&quot;)){\r\n                    JsonObject jTags = jo.get(&quot;tags&quot;).getAsJsonObject();\r\n                    poi.mType = tagValueFromJson(&quot;name&quot;, jTags);\r\n                    //Try to set a relevant POI type by searching for an OSM commonly used tag key, and getting its value:\r\n                    poi.mDescription = tagValueFromJsonNotNull(&quot;amenity&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;boundary&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;building&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;craft&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;emergency&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;highway&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;historic&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;landuse&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;leisure&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;natural&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;shop&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;sport&quot;, jTags)\r\n                            + tagValueFromJsonNotNull(&quot;tourism&quot;, jTags);\r\n\r\n                    if (poi.mDescription.length()&gt;0)\r\n                        poi.mDescription = poi.mDescription.substring(1);\r\n\r\n                    poi.mUrl = tagValueFromJson(&quot;website&quot;, jTags);\r\n                    if (poi.mUrl != null){\r\n\r\n                        if (!poi.mUrl.startsWith(&quot;http://&quot;) &amp;&amp; !poi.mUrl.startsWith(&quot;https://&quot;))\r\n                            poi.mUrl = &quot;http://&quot; + poi.mUrl;\r\n                    }\r\n                }\r\n                if (&quot;node&quot;.equals(poi.mCategory)){\r\n                    poi.mLocation = geoPointFromJson(jo);\r\n                } else {\r\n                    if (jo.has(&quot;center&quot;)){\r\n                        JsonObject jCenter = jo.get(&quot;center&quot;).getAsJsonObject();\r\n                        poi.mLocation = geoPointFromJson(jCenter);\r\n                    }\r\n                }\r\n                if (poi.mLocation != null)\r\n                    pois.add(poi);\r\n            }\r\n            return pois;\r\n        } catch (JsonSyntaxException e) {\r\n            Log.e(BonusPackHelper.LOG_TAG, &quot;OverpassAPIProvider: parsing error.&quot;);\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    public String buildUrlForTagSearchKml(String tag, BoundingBox bb, int limit, int timeout){\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        String mService = &quot;https://overpass-api.de/api/interpreter?data=[out:json][timeout:100];(&quot;;\r\n        stringBuilder.append(mService);\r\n        String sBB = &quot;(&quot;+bb.getLatSouth()+&quot;,&quot;+bb.getLonWest()+&quot;,&quot;+bb.getLatNorth()+&quot;,&quot;+bb.getLonEast()+&quot;)&quot;;\r\n        String data  =\r\n                &quot;node[&quot; + tag + &quot;]&quot; + sBB + &quot;;&quot; +\r\n                        &quot;way[&quot; + tag + &quot;]&quot; + sBB + &quot;;&quot; +\r\n                        &quot;);out%20qt%20geom%20tags%20&quot; + limit + &quot;;&quot; +\r\n                &quot;relation[&quot; + tag + &quot;]&quot; + sBB + &quot;;out%20qt%20geom%20body%20&quot; + limit + &quot;;&quot;;\r\n        stringBuilder.append(data);\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n    protected boolean isAnArea(ArrayList&lt;GeoPoint&gt; coords){\r\n        return (coords!=null) &amp;&amp; (coords.size()&gt;=3) &amp;&amp; (coords.get(0).equals(coords.get(coords.size()-1)));\r\n    }\r\n\r\n    protected ArrayList&lt;GeoPoint&gt; parseGeometry(JsonObject jo){\r\n        JsonArray jGeometry = jo.get(&quot;geometry&quot;).getAsJsonArray(); \r\n        ArrayList&lt;GeoPoint&gt; coords = new ArrayList&lt;GeoPoint&gt;(jGeometry.size()); \r\n        for (JsonElement j:jGeometry){ \r\n            JsonObject jLatLon = j.getAsJsonObject(); \r\n            GeoPoint p = geoPointFromJson(jLatLon); \r\n            coords.add(p); \r\n        }\r\n        return coords; \r\n    }\r\n\r\n    protected KmlMultiGeometry buildMultiGeometry(JsonArray jMembers, Polygon isoPolygon){\r\n        KmlMultiGeometry geometry = new KmlMultiGeometry();\r\n        for (JsonElement j:jMembers){\r\n            JsonObject jMember = j.getAsJsonObject();\r\n            KmlGeometry item = buildGeometry(jMember, isoPolygon);\r\n            geometry.addItem(item);\r\n        }\r\n        return geometry;\r\n    }\r\n\r\n    protected KmlGeometry buildGeometry(JsonObject jo, Polygon isoPolygon){\r\n        KmlGeometry geometry; //Kml Geometrie erstellen\r\n        String type = jo.get(&quot;type&quot;).getAsString(); \r\n        if (&quot;node&quot;.equals(type) &amp;&amp; isPointInCheckPolygon(isoPolygon, geoPointFromJson(jo))){ \r\n            geometry = new KmlPoint(geoPointFromJson(jo)); \r\n        } else if (&quot;way&quot;.equals(type)){ \r\n            ArrayList&lt;GeoPoint&gt; coords = parseGeometry(jo); \r\n            if (isAnArea(coords) &amp;&amp; isMultiPointInCheckPolygon(isoPolygon, coords)){ \r\n                geometry = new KmlPolygon(); \r\n                geometry.mCoordinates = coords; \r\n            } else if (!isAnArea(coords) &amp;&amp; isMultiPointInCheckPolygon(isoPolygon, coords)){ \r\n                geometry = new KmlLineString(); \r\n                geometry.mCoordinates = coords; \r\n            }\r\n            else {\r\n                geometry = new KmlLineString(); \r\n                geometry.mCoordinates = coords;\r\n            }\r\n        } else { //relation:\r\n            //JsonArray jMembers = jo.get(&quot;members&quot;).getAsJsonArray();\r\n            //geometry = buildMultiGeometry(jMembers, isoPolygon);\r\n            return null;\r\n        }\r\n        return geometry;\r\n    }\r\n\r\n    public boolean addInKmlFolder(KmlFolder kmlFolder, String overpassUrl, Polygon isoPolygon){\r\n\r\n        String jsonString = getReturnAsString(overpassUrl); \r\n        if (jsonString == null) {\r\n            Log.e(BonusPackHelper.LOG_TAG, &quot;OverpassAPIProvider: request failed.&quot;); \r\n            return false;\r\n        }\r\n        try {\r\n            //parse JSON and build KML\r\n            JsonParser parser = new JsonParser();\r\n            JsonElement json = parser.parse(jsonString); \r\n            JsonObject jResult = json.getAsJsonObject(); \r\n            Log.d(&quot;Test&quot;, json.toString());\r\n            JsonArray jElements = jResult.get(&quot;elements&quot;).getAsJsonArray(); \r\n            for (JsonElement j:jElements){ \r\n                JsonObject jo = j.getAsJsonObject(); \r\n                KmlPlacemark placemark = new KmlPlacemark(); \r\n                placemark.mGeometry = buildGeometry(jo, isoPolygon); \r\n                placemark.mId = jo.get(&quot;id&quot;).getAsString();\r\n                //Tags:\r\n                if (jo.has(&quot;tags&quot;)){\r\n                    JsonObject jTags = jo.get(&quot;tags&quot;).getAsJsonObject();\r\n                    if (jTags.has(&quot;name&quot;))\r\n                        placemark.mName = jTags.get(&quot;name&quot;).getAsString();\r\n                    //copy all tags as KML Extended Data:\r\n                    Set&lt;Map.Entry&lt;String,JsonElement&gt;&gt; entrySet = jTags.entrySet();\r\n                    for (Map.Entry&lt;String,JsonElement&gt; entry:entrySet){\r\n                        String key = entry.getKey();\r\n                        String value = entry.getValue().getAsString();\r\n                        placemark.setExtendedData(key, value);\r\n                    }\r\n                }\r\n                myKmlPlacemarks.add(placemark);\r\n                kmlFolder.add(placemark);\r\n            }\r\n            return true;\r\n        } catch (JsonSyntaxException e) {\r\n            Log.e(BonusPackHelper.LOG_TAG, &quot;OverpassAPIProvider: parsing error.&quot;);\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n    protected boolean isMultiPointInCheckPolygon(Polygon isoPolygon, ArrayList&lt;GeoPoint&gt; checkPoints) {\r\n        ArrayList&lt;Boolean&gt; containsAPoint = new ArrayList&lt;Boolean&gt;();\r\n        com.snatik.polygon.Polygon checkPolygon = checkPolygon(isoPolygon);\r\n        for (int i = 0; i &lt; checkPoints.size(); i++) {\r\n            Point point = new Point(checkPoints.get(i).getLatitude(), checkPoints.get(i).getLongitude());\r\n            boolean contains = checkPolygon.contains(point);\r\n            containsAPoint.add(contains);\r\n        }\r\n        for(boolean value: containsAPoint){\r\n            if(value){ return true;}\r\n        }\r\n        return false;\r\n    }\r\n\r\n    protected boolean isPointInCheckPolygon(Polygon isoPolygon, GeoPoint checkPoint) {\r\n        com.snatik.polygon.Polygon checkPolygon = checkPolygon(isoPolygon); \r\n        Point point = new Point(checkPoint.getLatitude(), checkPoint.getLongitude()); \r\n        return checkPolygon.contains(point); \r\n    }\r\n\r\n    protected com.snatik.polygon.Polygon checkPolygon(Polygon isoPolygon) {\r\n        List&lt;GeoPoint&gt; polygonPoints = isoPolygon.getActualPoints(); \r\n        com.snatik.polygon.Polygon.Builder builder = new com.snatik.polygon.Polygon.Builder(); \r\n\r\n       \r\n        for (int i = 0; i &lt; polygonPoints.size(); i++) {\r\n            Point point = new Point(polygonPoints.get(i).getLatitude(), polygonPoints.get(i).getLongitude());\r\n            builder.addVertex(point);\r\n        }\r\n        return builder.build(); \r\n    }\r\n\r\n    \r\n\r\n\r\n\r\n    protected String getReturnAsString(String overpassUrl) {\r\n        String result = new String();\r\n        try {\r\n            HttpURLConnection connection = (HttpURLConnection) new URL(overpassUrl).openConnection();\r\n            InputStream inputStream = connection.getInputStream();\r\n            Scanner s = new Scanner(inputStream).useDelimiter(&quot;\\\\A&quot;);\r\n            result = s.hasNext() ? s.next() : &quot;&quot;;\r\n\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\nI&#39;ve yet to try and implement a way to check if a relation is inside of a polygon.  \r\nMy idea to check if a way is, was to get all individual Points of the geometry, check each of the points individually and return true if at least one point is inside the polygon but as I mentioned, that didn&#39;t work.  \r\nHow could I change and improve the code so it works?\r\n\r\n\r\n  [1]: https://github.com/MKergall/osmbonuspack/blob/master/OSMBonusPack/src/main/java/org/osmdroid/bonuspack/location/OverpassAPIProvider.java","title":"Osmdroid loading only Elements inside of a Polygon with OverpassAPIProvider","body":"<p>So I am trying the following: Using the Overpass API in osmdroid to only load those nodes, ways or relations that are within or partially within a Polygon.\nTweaking the <a href=\"https://github.com/MKergall/osmbonuspack/blob/master/OSMBonusPack/src/main/java/org/osmdroid/bonuspack/location/OverpassAPIProvider.java\" rel=\"nofollow noreferrer\">OverpassAPIProvider</a> class from osmbonuspack I've managed to make it work with nodes (points), but for some reason it does not work for ways (areas/linestrings).<br />\nHere is my code:</p>\n<pre><code>package com.example.osmtestproject;\n\nimport android.content.Context;\nimport android.os.Handler;\nimport android.util.Log;\nimport android.view.Display;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\n\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport com.google.gson.JsonSyntaxException;\nimport com.snatik.polygon.Point;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.osmdroid.bonuspack.kml.KmlFeature;\nimport org.osmdroid.bonuspack.kml.KmlFolder;\nimport org.osmdroid.bonuspack.kml.KmlGeometry;\nimport org.osmdroid.bonuspack.kml.KmlLineString;\nimport org.osmdroid.bonuspack.kml.KmlMultiGeometry;\nimport org.osmdroid.bonuspack.kml.KmlPlacemark;\nimport org.osmdroid.bonuspack.kml.KmlPoint;\nimport org.osmdroid.bonuspack.kml.KmlPolygon;\nimport org.osmdroid.bonuspack.location.POI;\nimport org.osmdroid.bonuspack.utils.BonusPackHelper;\nimport org.osmdroid.util.BoundingBox;\nimport org.osmdroid.util.GeoPoint;\nimport org.osmdroid.views.MapView;\nimport org.osmdroid.views.overlay.Marker;\nimport org.osmdroid.views.overlay.Polygon;\nimport org.osmdroid.views.overlay.Polyline;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.Set;\nimport java.util.concurrent.TimeUnit;\n\npublic class OverpassProvider {\n\n \n ArrayList&lt;KmlPlacemark&gt; myKmlPlacemarks = new ArrayList&lt;KmlPlacemark&gt;();\n\n\n public OverpassProvider(Context context) {\n     this.context = context;\n }\n\n public String buildUrl(BoundingBox bb, String tag, int limit) {\n     StringBuilder stringBuilder = new StringBuilder();\n     String mService = &quot;https://overpass-api.de/api/interpreter?data=[out:json][timeout:100];(&quot;;\n     stringBuilder.append(mService);\n     String sBB = &quot;(&quot;+bb.getLatSouth()+&quot;,&quot;+bb.getLonWest()+&quot;,&quot;+bb.getLatNorth()+&quot;,&quot;+bb.getLonEast()+&quot;)&quot;;\n     String data  =\n             &quot;node[&quot; + tag + &quot;]&quot; + sBB + &quot;;&quot; +\n             &quot;way[&quot; + tag + &quot;]&quot; + sBB + &quot;;&quot; +\n             &quot;);out%20qt%20center%20&quot; + limit + &quot;%20tags;&quot;;\n     stringBuilder.append(data);\n     return stringBuilder.toString();\n }\n\n protected GeoPoint geoPointFromJson(JsonObject jLatLon){\n     double lat = jLatLon.get(&quot;lat&quot;).getAsDouble(); \n     double lon = jLatLon.get(&quot;lon&quot;).getAsDouble(); \n     return new GeoPoint(lat, lon); \n }\n\n protected String tagValueFromJson(String key, JsonObject jTags){\n     JsonElement jTag = jTags.get(key);\n     if (jTag == null)\n         return null;\n     else\n         return jTag.getAsString();\n }\n\n protected String tagValueFromJsonNotNull(String key, JsonObject jTags){\n     String v = tagValueFromJson(key, jTags);\n     return (v != null ? &quot;,&quot;+v : &quot;&quot;);\n }\n\n public ArrayList&lt;POI&gt; getPOIsFromUrl(String overpassUrl) {\n     getReturnAsString(overpassUrl);\n     if (jsonString == null) {\n         Log.e(BonusPackHelper.LOG_TAG, &quot;OverpassAPIProvider: request failed.&quot;);\n         return null;\n     }\n     try {\n         //parse JSON and build POIs\n         JsonParser parser = new JsonParser();\n         JsonElement json = parser.parse(jsonString);\n         JsonObject jResult = json.getAsJsonObject();\n         JsonArray jElements = jResult.get(&quot;elements&quot;).getAsJsonArray();\n         ArrayList&lt;POI&gt; pois = new ArrayList&lt;POI&gt;(jElements.size());\n         for (JsonElement j:jElements){\n             JsonObject jo = j.getAsJsonObject();\n             POI poi = new POI(POI.POI_SERVICE_OVERPASS_API);\n             poi.mId = jo.get(&quot;id&quot;).getAsLong();\n             poi.mCategory = jo.get(&quot;type&quot;).getAsString();\n             if (jo.has(&quot;tags&quot;)){\n                 JsonObject jTags = jo.get(&quot;tags&quot;).getAsJsonObject();\n                 poi.mType = tagValueFromJson(&quot;name&quot;, jTags);\n                 //Try to set a relevant POI type by searching for an OSM commonly used tag key, and getting its value:\n                 poi.mDescription = tagValueFromJsonNotNull(&quot;amenity&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;boundary&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;building&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;craft&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;emergency&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;highway&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;historic&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;landuse&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;leisure&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;natural&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;shop&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;sport&quot;, jTags)\n                         + tagValueFromJsonNotNull(&quot;tourism&quot;, jTags);\n\n                 if (poi.mDescription.length()&gt;0)\n                     poi.mDescription = poi.mDescription.substring(1);\n\n                 poi.mUrl = tagValueFromJson(&quot;website&quot;, jTags);\n                 if (poi.mUrl != null){\n\n                     if (!poi.mUrl.startsWith(&quot;http://&quot;) &amp;&amp; !poi.mUrl.startsWith(&quot;https://&quot;))\n                         poi.mUrl = &quot;http://&quot; + poi.mUrl;\n                 }\n             }\n             if (&quot;node&quot;.equals(poi.mCategory)){\n                 poi.mLocation = geoPointFromJson(jo);\n             } else {\n                 if (jo.has(&quot;center&quot;)){\n                     JsonObject jCenter = jo.get(&quot;center&quot;).getAsJsonObject();\n                     poi.mLocation = geoPointFromJson(jCenter);\n                 }\n             }\n             if (poi.mLocation != null)\n                 pois.add(poi);\n         }\n         return pois;\n     } catch (JsonSyntaxException e) {\n         Log.e(BonusPackHelper.LOG_TAG, &quot;OverpassAPIProvider: parsing error.&quot;);\n         return null;\n     }\n\n }\n\n public String buildUrlForTagSearchKml(String tag, BoundingBox bb, int limit, int timeout){\n     StringBuilder stringBuilder = new StringBuilder();\n     String mService = &quot;https://overpass-api.de/api/interpreter?data=[out:json][timeout:100];(&quot;;\n     stringBuilder.append(mService);\n     String sBB = &quot;(&quot;+bb.getLatSouth()+&quot;,&quot;+bb.getLonWest()+&quot;,&quot;+bb.getLatNorth()+&quot;,&quot;+bb.getLonEast()+&quot;)&quot;;\n     String data  =\n             &quot;node[&quot; + tag + &quot;]&quot; + sBB + &quot;;&quot; +\n                     &quot;way[&quot; + tag + &quot;]&quot; + sBB + &quot;;&quot; +\n                     &quot;);out%20qt%20geom%20tags%20&quot; + limit + &quot;;&quot; +\n             &quot;relation[&quot; + tag + &quot;]&quot; + sBB + &quot;;out%20qt%20geom%20body%20&quot; + limit + &quot;;&quot;;\n     stringBuilder.append(data);\n     return stringBuilder.toString();\n }\n\n protected boolean isAnArea(ArrayList&lt;GeoPoint&gt; coords){\n     return (coords!=null) &amp;&amp; (coords.size()&gt;=3) &amp;&amp; (coords.get(0).equals(coords.get(coords.size()-1)));\n }\n\n protected ArrayList&lt;GeoPoint&gt; parseGeometry(JsonObject jo){\n     JsonArray jGeometry = jo.get(&quot;geometry&quot;).getAsJsonArray(); \n     ArrayList&lt;GeoPoint&gt; coords = new ArrayList&lt;GeoPoint&gt;(jGeometry.size()); \n     for (JsonElement j:jGeometry){ \n         JsonObject jLatLon = j.getAsJsonObject(); \n         GeoPoint p = geoPointFromJson(jLatLon); \n         coords.add(p); \n     }\n     return coords; \n }\n\n protected KmlMultiGeometry buildMultiGeometry(JsonArray jMembers, Polygon isoPolygon){\n     KmlMultiGeometry geometry = new KmlMultiGeometry();\n     for (JsonElement j:jMembers){\n         JsonObject jMember = j.getAsJsonObject();\n         KmlGeometry item = buildGeometry(jMember, isoPolygon);\n         geometry.addItem(item);\n     }\n     return geometry;\n }\n\n protected KmlGeometry buildGeometry(JsonObject jo, Polygon isoPolygon){\n     KmlGeometry geometry; //Kml Geometrie erstellen\n     String type = jo.get(&quot;type&quot;).getAsString(); \n     if (&quot;node&quot;.equals(type) &amp;&amp; isPointInCheckPolygon(isoPolygon, geoPointFromJson(jo))){ \n         geometry = new KmlPoint(geoPointFromJson(jo)); \n     } else if (&quot;way&quot;.equals(type)){ \n         ArrayList&lt;GeoPoint&gt; coords = parseGeometry(jo); \n         if (isAnArea(coords) &amp;&amp; isMultiPointInCheckPolygon(isoPolygon, coords)){ \n             geometry = new KmlPolygon(); \n             geometry.mCoordinates = coords; \n         } else if (!isAnArea(coords) &amp;&amp; isMultiPointInCheckPolygon(isoPolygon, coords)){ \n             geometry = new KmlLineString(); \n             geometry.mCoordinates = coords; \n         }\n         else {\n             geometry = new KmlLineString(); \n             geometry.mCoordinates = coords;\n         }\n     } else { //relation:\n         //JsonArray jMembers = jo.get(&quot;members&quot;).getAsJsonArray();\n         //geometry = buildMultiGeometry(jMembers, isoPolygon);\n         return null;\n     }\n     return geometry;\n }\n\n public boolean addInKmlFolder(KmlFolder kmlFolder, String overpassUrl, Polygon isoPolygon){\n\n     String jsonString = getReturnAsString(overpassUrl); \n     if (jsonString == null) {\n         Log.e(BonusPackHelper.LOG_TAG, &quot;OverpassAPIProvider: request failed.&quot;); \n         return false;\n     }\n     try {\n         //parse JSON and build KML\n         JsonParser parser = new JsonParser();\n         JsonElement json = parser.parse(jsonString); \n         JsonObject jResult = json.getAsJsonObject(); \n         Log.d(&quot;Test&quot;, json.toString());\n         JsonArray jElements = jResult.get(&quot;elements&quot;).getAsJsonArray(); \n         for (JsonElement j:jElements){ \n             JsonObject jo = j.getAsJsonObject(); \n             KmlPlacemark placemark = new KmlPlacemark(); \n             placemark.mGeometry = buildGeometry(jo, isoPolygon); \n             placemark.mId = jo.get(&quot;id&quot;).getAsString();\n             //Tags:\n             if (jo.has(&quot;tags&quot;)){\n                 JsonObject jTags = jo.get(&quot;tags&quot;).getAsJsonObject();\n                 if (jTags.has(&quot;name&quot;))\n                     placemark.mName = jTags.get(&quot;name&quot;).getAsString();\n                 //copy all tags as KML Extended Data:\n                 Set&lt;Map.Entry&lt;String,JsonElement&gt;&gt; entrySet = jTags.entrySet();\n                 for (Map.Entry&lt;String,JsonElement&gt; entry:entrySet){\n                     String key = entry.getKey();\n                     String value = entry.getValue().getAsString();\n                     placemark.setExtendedData(key, value);\n                 }\n             }\n             myKmlPlacemarks.add(placemark);\n             kmlFolder.add(placemark);\n         }\n         return true;\n     } catch (JsonSyntaxException e) {\n         Log.e(BonusPackHelper.LOG_TAG, &quot;OverpassAPIProvider: parsing error.&quot;);\n         return false;\n     }\n }\n\n\n protected boolean isMultiPointInCheckPolygon(Polygon isoPolygon, ArrayList&lt;GeoPoint&gt; checkPoints) {\n     ArrayList&lt;Boolean&gt; containsAPoint = new ArrayList&lt;Boolean&gt;();\n     com.snatik.polygon.Polygon checkPolygon = checkPolygon(isoPolygon);\n     for (int i = 0; i &lt; checkPoints.size(); i++) {\n         Point point = new Point(checkPoints.get(i).getLatitude(), checkPoints.get(i).getLongitude());\n         boolean contains = checkPolygon.contains(point);\n         containsAPoint.add(contains);\n     }\n     for(boolean value: containsAPoint){\n         if(value){ return true;}\n     }\n     return false;\n }\n\n protected boolean isPointInCheckPolygon(Polygon isoPolygon, GeoPoint checkPoint) {\n     com.snatik.polygon.Polygon checkPolygon = checkPolygon(isoPolygon); \n     Point point = new Point(checkPoint.getLatitude(), checkPoint.getLongitude()); \n     return checkPolygon.contains(point); \n }\n\n protected com.snatik.polygon.Polygon checkPolygon(Polygon isoPolygon) {\n     List&lt;GeoPoint&gt; polygonPoints = isoPolygon.getActualPoints(); \n     com.snatik.polygon.Polygon.Builder builder = new com.snatik.polygon.Polygon.Builder(); \n\n    \n     for (int i = 0; i &lt; polygonPoints.size(); i++) {\n         Point point = new Point(polygonPoints.get(i).getLatitude(), polygonPoints.get(i).getLongitude());\n         builder.addVertex(point);\n     }\n     return builder.build(); \n }\n\n \n\n\n\n protected String getReturnAsString(String overpassUrl) {\n     String result = new String();\n     try {\n         HttpURLConnection connection = (HttpURLConnection) new URL(overpassUrl).openConnection();\n         InputStream inputStream = connection.getInputStream();\n         Scanner s = new Scanner(inputStream).useDelimiter(&quot;\\\\A&quot;);\n         result = s.hasNext() ? s.next() : &quot;&quot;;\n\n\n     } catch (IOException e) {\n         e.printStackTrace();\n     }\n     return result;\n }\n\n\n}\n\n</code></pre>\n<p>I've yet to try and implement a way to check if a relation is inside of a polygon.<br />\nMy idea to check if a way is, was to get all individual Points of the geometry, check each of the points individually and return true if at least one point is inside the polygon but as I mentioned, that didn't work.<br />\nHow could I change and improve the code so it works?</p>\n"},{"tags":["java","android","image-processing","bitmap","base64"],"answers":[{"tags":[],"owner":{"account_id":10726259,"reputation":1978,"user_id":7893686,"display_name":"Bhupat Bheda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1493117048,"creation_date":1493117048,"answer_id":43608483,"question_id":43608429,"body_markdown":"try this function :\r\n\r\n    public static String imageToString(Bitmap BitmapData) {\r\n    \r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            BitmapData.compress(Bitmap.CompressFormat.PNG, 100, bos);\r\n            byte[] byte_arr = bos.toByteArray();\r\n    \r\n            String file = Base64.encodeToString(byte_arr, Base64.DEFAULT);\r\n            //appendLog(file);\r\n            return file;\r\n        }","title":"Bitmap image to base64 conversion","body":"<p>try this function :</p>\n\n<pre><code>public static String imageToString(Bitmap BitmapData) {\n\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        BitmapData.compress(Bitmap.CompressFormat.PNG, 100, bos);\n        byte[] byte_arr = bos.toByteArray();\n\n        String file = Base64.encodeToString(byte_arr, Base64.DEFAULT);\n        //appendLog(file);\n        return file;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9274825,"reputation":4152,"user_id":6887777,"accept_rate":80,"display_name":"Luiz Fernando Salvaterra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493117386,"creation_date":1493117386,"answer_id":43608608,"question_id":43608429,"body_markdown":"There are some misunderstandings here. In your method you are receiving a bitmap (image) by parameter. If you want to pass it to `base64` format, you are doing it right because `base64` format is just a big String, as you can see in your return.\r\n\r\nIf the error is in your method and in de reverse process (parsing this `String` in `Base64` to `Bitmap`), you can try this function:\r\n\r\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();  \r\n    bitmap.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream);\r\n    byte[] byteArray = byteArrayOutputStream .toByteArray();\r\n   \r\n\r\n to encode `base64` from `byte array` use following method:\r\n\r\n    String encoded = Base64.encodeToString(byteArray, Base64.DEFAULT);\r\n\r\nAlso, try to use this method to reverse the process of encode:\r\n\r\n\r\n    byte[] decodedString = android.util.Base64.decode(yourString, android.util.Base64.DEFAULT);\r\n                                Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\r\n\r\n\r\n\r\n","title":"Bitmap image to base64 conversion","body":"<p>There are some misunderstandings here. In your method you are receiving a bitmap (image) by parameter. If you want to pass it to <code>base64</code> format, you are doing it right because <code>base64</code> format is just a big String, as you can see in your return.</p>\n\n<p>If the error is in your method and in de reverse process (parsing this <code>String</code> in <code>Base64</code> to <code>Bitmap</code>), you can try this function:</p>\n\n<pre><code>ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();  \nbitmap.compress(Bitmap.CompressFormat.PNG, 100, byteArrayOutputStream);\nbyte[] byteArray = byteArrayOutputStream .toByteArray();\n</code></pre>\n\n<p>to encode <code>base64</code> from <code>byte array</code> use following method:</p>\n\n<pre><code>String encoded = Base64.encodeToString(byteArray, Base64.DEFAULT);\n</code></pre>\n\n<p>Also, try to use this method to reverse the process of encode:</p>\n\n<pre><code>byte[] decodedString = android.util.Base64.decode(yourString, android.util.Base64.DEFAULT);\n                            Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\n</code></pre>\n"}],"owner":{"account_id":4014719,"reputation":2357,"user_id":3307233,"accept_rate":100,"display_name":"Pankaj Gaikar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677638045,"accepted_answer_id":43608483,"answer_count":2,"score":0,"last_activity_date":1651232844,"creation_date":1493116888,"question_id":43608429,"body_markdown":"I am trying to convert a bitcode image to base64 format. I tried to code like\r\n\r\n    public static String encodeToBase64(Bitmap image, Bitmap.CompressFormat compressFormat, int quality)\r\n    {\r\n        ByteArrayOutputStream byteArrayOS = new ByteArrayOutputStream();\r\n        image.compress(compressFormat, quality, byteArrayOS);\r\n        return Base64.encodeToString(byteArrayOS.toByteArray(), Base64.URL_SAFE);\r\n    }\r\n\r\ngenerated response is below which does not give me image again. \r\n\r\ncan someone provide some pointers here? What I might be doing wrong?\r\n\r\n&gt; /9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEB\r\n&gt;                                                                   AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEB\r\n&gt;                                                                   AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAMgAlgDASIA\r\n&gt;                                                                   AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA\r\n&gt;                                                                   AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3\r\n&gt;                                                                   ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm\r\n&gt;                                                                   p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA\r\n&gt;                                                                   AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx\r\n&gt;                                                                   BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK\r\n&gt;                                                                   U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3\r\n&gt;                                                                   uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+PXxv\r\n&gt;                                                                   b/u7W6/58cf+zd85H8OMDH615jP99q+hb+2tP7MvfwHfsJBnqeK8Gv8A7ILts2meD269ffj1/Lnr\r\n&gt;                                                                   Xz+D+Bf9w/8A3IfJ/wDyswp7fr/n+979en5gZO3J9Y+E/wBk861+0/7OPrluvv198deK88/0b/OK\r\n&gt;                                                                   uaL9qt83Vsc8Dt3y/v8A7vvnHUAiugzP1P8Ag9418L+Hs/6V2XuP9vHRu+OO/JyDk11nxf8Aj7pm\r\n&gt;                                                                   s27Wmmap068g926/Mcdz+J5BGa/FvxP4w8VW2rXv2XVPsf23rzz/ABdc/n3PJySTXPTeMPFXJudV\r\n&gt;                                                                   9Bj15b3/AMeM9CTXr691/wCAv/5I0+o/3f8Ayb/7c9Y+K2oXXjHXG/0o3lqMegzy455PYe/JPck1\r\n&gt;                                                                   7X8F/hfaYa6+1enPJ7t7/T15I5IXB+R9O8UXXn2o/D/x4D19ev4dRk13+r/FDVLfSDa2v22z6fzc\r\n&gt;                                                                   k/eOf/rj3JX2l8z28v8A4fz/APbsQe1/HD4o6t4qnPwq0O7xpVnnIsOe7Ed+4549RuIwCes+DAs/\r\n&gt;                                                                   A+60trb/AEpdv9pcc8k4789P1wcnGfEvg7BpVsb3XdTuueOST2yegOBjGOTn1JJGfrjwd/wimsi0\r\n&gt;                                                                   vLq7sucYX5ucEjOeozjcPoODt58DF/DJX6ytZN30mtrdVf06vqdOM/26706JNWdleadnr2evRWTd\r\n&gt;                                                                   3Jv7y+H3jC18Q6SxFvwB1x05YHg8ncfx6gjgEdbf+ILPTwQVwFx3J7vjgHI9cdsjJIOa80+H+v8A\r\n&gt;                                                                   ha2gtGtr3H1GRnpzz6g/r1xk+mX3h7SfEW4G6svsgxwew3P3yCQRyMngkDPBJrA8TPVXeiT1eu8+\r\n&gt;                                                                   sWlpfq5a9btHzeL4X05brv7y2d5Wdr7u92r2V46ttN8OP2gD4cJFpafbOcZz1Pz44ycY/XJ/unPP\r\n&gt;                                                                   6/8AFDU/iDBqGbX7H93PX1cDgH0HboccgjJ6Gb4L6XcS2v2RsAcZ29cs/QEE8bRke6n+7WB4vntP\r\n&gt;                                                                   BufD/hj/AEzxBd4yef8AiVcyHPJ746Z4H4bvGzrO9212SSvquaTi7OXbZdPefNfQ8bGY36hzK7au\r\n&gt;                                                                   rbeuztu07JNJbtNpt+cp4X8LeHTe/wBtH7bdDHoO7eufUn8Twc5pdOudVucjSrX+xrQYGbDkdW9e\r\n&gt;                                                                   eCPUnJBIyBWp4G+A3j3xjM13baXe3hPTg8YYg/XPX8VGTxn9B/hP+xN4sAYa50Uj04yTj8CVPvnu\r\n&gt;                                                                   D1/E864oy3Ac39pX7NO196i2TW/Nf4rXbV7qz+GxmMzHH36Wsr9U7yva+97qz1t3vLX4Z0XwrdXG\r\n&gt;                                                                   /wC122MYJwCeucHr7dOvI5Oa9k8L/BfVvEc32W1s+nfI5+ZvUDoF469yTnGf1X8HfsjeDLbKan3x\r\n&gt;                                                                   zwOhc8Lj8OvTPIIJPjXxt+KPgv4W2974d+FmlWXiTxV/z/8AbSsF8/xd8D0IxjJyTXFgOJ8ux6f9\r\n&gt;                                                                   m67Xemzv1lKzbdlrdq6V72v48cErP+0bLSyUvVuy95vXRu72srayPE5tK8AfATQjda7aWWseIL3H\r\n&gt;                                                                   9m6Dk9t3tz347bjnJC5+b/F3jjx58Q9UP9p3f2OzHTTrAN/xKfmbvuySSc+3TnOarW2na74p1069\r\n&gt;                                                                   4lu73Wbo/cxkY5bPOT1PXPI9ycH3fwt4GBa2zZ56cZxjr2x7Z6dxycGnjMaoqSV0+r1SspJdW3vf\r\n&gt;                                                                   S972WjSPGxmdL4bOya9N52Xu31sk303vrEzPh94dG20W6PpzjHGXPrnH491/ujP0x4f8Pldxzhjj\r\n&gt;                                                                   jGe7A/NnqcA/mM5BNL4O8E/KWtrT0H/jz47fiB7kYOK948L+D+ourTcR15292xx37j2wM84z4ywX\r\n&gt;                                                                   168d7a30tvN6pprfv1a1b35jkNO8EJz8uTx/Fx1k/wA+p6Emu407QFt85Xpj+I+p/wAOR7jkg4r2\r\n&gt;                                                                   TRvC8dvn/RTxjs3TLDPP+7+HfJNdYPB9hcZ/0Tp/vf7Q6cnjjOD3PJ5NL/Vj+7L+vket8pf+Bf8A\r\n&gt;                                                                   2584XPg7bu+yDAGTn1ycdCT9AR/9euT1jwwFZjjkY5yf+mnOCP0x6Anqa+0dM8EFdwJxjHG088nG\r\n&gt;                                                                   SOONpPXjp15OVe+CLScFTaew69CzHtnp/Mjrkmni+CrJ8rutb21b1l9l7bK+/ZyaUm0r/wCLZbvV\r\n&gt;                                                                   e/Ztu9/TVLXs7/Ctx4VM4JOMdj+LD1J7/Xkk5ODXFX/hltpzyD+B+Ut/U/8A1sGvvLV/huo3qbXG\r\n&gt;                                                                   duOCeMnnpk9D+L+gryjVfA93g7bXg+3QZk55OSSecnpkHOASfj8bwVmOA5nd6W10d3eVrbJvV295\r\n&gt;                                                                   vTvcNLeWmvld66Ws79PTd3R8F+MPhfpWsF/9EyPlBHI/vY5HI5bOPYg5yCef8EfD8Wur2lta47+v\r\n&gt;                                                                   PJHc+x/M5JJr7oHwn1XW2O21xjA3cdw3OD9ORz+nzUp9O8K/DVX/ALRb7bdfLnT8EZwzAY7ds8HI\r\n&gt;                                                                   3AHJJrtwPE+ZZBzLMmrO1tHZ3cvi1VnKyd73VopLW79jA43M8Am7N6a6tdWtLu6dl2cnpq07v0/w\r\n&gt;                                                                   Z9p8O6Va2drZ4zjPzZ6bsdT/AL3fPTg4Nfo5+yfnybQXQ3HIzyBnk474B24+o25yQcfjRqHxX8Va\r\n&gt;                                                                   hj+zzZaPac/hguOw75HHpnkYyf1K/YN1c3OkM2o6v9svOOMDP3mHc4BA6fVh1Bz+q+Hvi5lvFuZS\r\n&gt;                                                                   y3LV0vZ/zXlZtPdNq2stNNdY39nG8TfE35RT6byT0T/mUbpt2dnum3+gPi7+yrayv7rUrWy+yWWn\r\n&gt;                                                                   Lj1x82f5A/TcAMjn+Cv/AIKCfGfVfjn+0X4jutNu/slp/wAJnx/31IDxk5zgfXjuDn+xj/gpL8cL\r\n&gt;                                                                   T4a/BHW7XTNV+x6r40xpunen/LT1PPQdSev+1z/FL4D8D3XiHxF4j8Z3Nr9stP8AkG+HPt+f7z9/\r\n&gt;                                                                   8cckcjlj+rLeXpD/ANKqH0vDG0vWH/pVQ1NO0PG7n7ZpNkf7voX4+8T1/PoMnOPWPC3hs+Hrc3P2\r\n&gt;                                                                   Y2l3rWO3Xlz3PThf0zySTseHvAzAWlra2/237Fj+0eB2L9+fx9cgZOa7dZ2tg1rodve6xqv+6OmW\r\n&gt;                                                                   9+PuqT65HJ2jPxv1yXn90f8AI90xra30fw8tp9qP+i8HPP8AxNPmkB4z/u8dsn3J9Z8L/A/x9rdv\r\n&gt;                                                                   b6oNKFppQ249vmOTzjrxn8OpGB9z/sa/8E7vFHjGa0\r\n","title":"Bitmap image to base64 conversion","body":"<p>I am trying to convert a bitcode image to base64 format. I tried to code like</p>\n\n<pre><code>public static String encodeToBase64(Bitmap image, Bitmap.CompressFormat compressFormat, int quality)\n{\n    ByteArrayOutputStream byteArrayOS = new ByteArrayOutputStream();\n    image.compress(compressFormat, quality, byteArrayOS);\n    return Base64.encodeToString(byteArrayOS.toByteArray(), Base64.URL_SAFE);\n}\n</code></pre>\n\n<p>generated response is below which does not give me image again. </p>\n\n<p>can someone provide some pointers here? What I might be doing wrong?</p>\n\n<blockquote>\n  <p>/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEB\n                                                                    AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEB\n                                                                    AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAMgAlgDASIA\n                                                                    AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA\n                                                                    AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3\n                                                                    ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm\n                                                                    p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA\n                                                                    AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx\n                                                                    BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK\n                                                                    U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3\n                                                                    uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+PXxv\n                                                                    b/u7W6/58cf+zd85H8OMDH615jP99q+hb+2tP7MvfwHfsJBnqeK8Gv8A7ILts2meD269ffj1/Lnr\n                                                                    Xz+D+Bf9w/8A3IfJ/wDyswp7fr/n+979en5gZO3J9Y+E/wBk861+0/7OPrluvv198deK88/0b/OK\n                                                                    uaL9qt83Vsc8Dt3y/v8A7vvnHUAiugzP1P8Ag9418L+Hs/6V2XuP9vHRu+OO/JyDk11nxf8Aj7pm\n                                                                    s27Wmmap068g926/Mcdz+J5BGa/FvxP4w8VW2rXv2XVPsf23rzz/ABdc/n3PJySTXPTeMPFXJudV\n                                                                    9Bj15b3/AMeM9CTXr691/wCAv/5I0+o/3f8Ayb/7c9Y+K2oXXjHXG/0o3lqMegzy455PYe/JPck1\n                                                                    7X8F/hfaYa6+1enPJ7t7/T15I5IXB+R9O8UXXn2o/D/x4D19ev4dRk13+r/FDVLfSDa2v22z6fzc\n                                                                    k/eOf/rj3JX2l8z28v8A4fz/APbsQe1/HD4o6t4qnPwq0O7xpVnnIsOe7Ed+4549RuIwCes+DAs/\n                                                                    A+60trb/AEpdv9pcc8k4789P1wcnGfEvg7BpVsb3XdTuueOST2yegOBjGOTn1JJGfrjwd/wimsi0\n                                                                    vLq7sucYX5ucEjOeozjcPoODt58DF/DJX6ytZN30mtrdVf06vqdOM/26706JNWdleadnr2evRWTd\n                                                                    3Jv7y+H3jC18Q6SxFvwB1x05YHg8ncfx6gjgEdbf+ILPTwQVwFx3J7vjgHI9cdsjJIOa80+H+v8A\n                                                                    ha2gtGtr3H1GRnpzz6g/r1xk+mX3h7SfEW4G6svsgxwew3P3yCQRyMngkDPBJrA8TPVXeiT1eu8+\n                                                                    sWlpfq5a9btHzeL4X05brv7y2d5Wdr7u92r2V46ttN8OP2gD4cJFpafbOcZz1Pz44ycY/XJ/unPP\n                                                                    6/8AFDU/iDBqGbX7H93PX1cDgH0HboccgjJ6Gb4L6XcS2v2RsAcZ29cs/QEE8bRke6n+7WB4vntP\n                                                                    BufD/hj/AEzxBd4yef8AiVcyHPJ746Z4H4bvGzrO9212SSvquaTi7OXbZdPefNfQ8bGY36hzK7au\n                                                                    rbeuztu07JNJbtNpt+cp4X8LeHTe/wBtH7bdDHoO7eufUn8Twc5pdOudVucjSrX+xrQYGbDkdW9e\n                                                                    eCPUnJBIyBWp4G+A3j3xjM13baXe3hPTg8YYg/XPX8VGTxn9B/hP+xN4sAYa50Uj04yTj8CVPvnu\n                                                                    D1/E864oy3Ac39pX7NO196i2TW/Nf4rXbV7qz+GxmMzHH36Wsr9U7yva+97qz1t3vLX4Z0XwrdXG\n                                                                    /wC122MYJwCeucHr7dOvI5Oa9k8L/BfVvEc32W1s+nfI5+ZvUDoF469yTnGf1X8HfsjeDLbKan3x\n                                                                    zwOhc8Lj8OvTPIIJPjXxt+KPgv4W2974d+FmlWXiTxV/z/8AbSsF8/xd8D0IxjJyTXFgOJ8ux6f9\n                                                                    m67Xemzv1lKzbdlrdq6V72v48cErP+0bLSyUvVuy95vXRu72srayPE5tK8AfATQjda7aWWseIL3H\n                                                                    9m6Dk9t3tz347bjnJC5+b/F3jjx58Q9UP9p3f2OzHTTrAN/xKfmbvuySSc+3TnOarW2na74p1069\n                                                                    4lu73Wbo/cxkY5bPOT1PXPI9ycH3fwt4GBa2zZ56cZxjr2x7Z6dxycGnjMaoqSV0+r1SspJdW3vf\n                                                                    S972WjSPGxmdL4bOya9N52Xu31sk303vrEzPh94dG20W6PpzjHGXPrnH491/ujP0x4f8Pldxzhjj\n                                                                    jGe7A/NnqcA/mM5BNL4O8E/KWtrT0H/jz47fiB7kYOK948L+D+ourTcR15292xx37j2wM84z4ywX\n                                                                    168d7a30tvN6pprfv1a1b35jkNO8EJz8uTx/Fx1k/wA+p6Emu407QFt85Xpj+I+p/wAOR7jkg4r2\n                                                                    TRvC8dvn/RTxjs3TLDPP+7+HfJNdYPB9hcZ/0Tp/vf7Q6cnjjOD3PJ5NL/Vj+7L+vket8pf+Bf8A\n                                                                    2584XPg7bu+yDAGTn1ycdCT9AR/9euT1jwwFZjjkY5yf+mnOCP0x6Anqa+0dM8EFdwJxjHG088nG\n                                                                    SOONpPXjp15OVe+CLScFTaew69CzHtnp/Mjrkmni+CrJ8rutb21b1l9l7bK+/ZyaUm0r/wCLZbvV\n                                                                    e/Ztu9/TVLXs7/Ctx4VM4JOMdj+LD1J7/Xkk5ODXFX/hltpzyD+B+Ut/U/8A1sGvvLV/huo3qbXG\n                                                                    duOCeMnnpk9D+L+gryjVfA93g7bXg+3QZk55OSSecnpkHOASfj8bwVmOA5nd6W10d3eVrbJvV295\n                                                                    vTvcNLeWmvld66Ws79PTd3R8F+MPhfpWsF/9EyPlBHI/vY5HI5bOPYg5yCef8EfD8Wur2lta47+v\n                                                                    PJHc+x/M5JJr7oHwn1XW2O21xjA3cdw3OD9ORz+nzUp9O8K/DVX/ALRb7bdfLnT8EZwzAY7ds8HI\n                                                                    3AHJJrtwPE+ZZBzLMmrO1tHZ3cvi1VnKyd73VopLW79jA43M8Am7N6a6tdWtLu6dl2cnpq07v0/w\n                                                                    Z9p8O6Va2drZ4zjPzZ6bsdT/AL3fPTg4Nfo5+yfnybQXQ3HIzyBnk474B24+o25yQcfjRqHxX8Va\n                                                                    hj+zzZaPac/hguOw75HHpnkYyf1K/YN1c3OkM2o6v9svOOMDP3mHc4BA6fVh1Bz+q+Hvi5lvFuZS\n                                                                    y3LV0vZ/zXlZtPdNq2stNNdY39nG8TfE35RT6byT0T/mUbpt2dnum3+gPi7+yrayv7rUrWy+yWWn\n                                                                    Lj1x82f5A/TcAMjn+Cv/AIKCfGfVfjn+0X4jutNu/slp/wAJnx/31IDxk5zgfXjuDn+xj/gpL8cL\n                                                                    T4a/BHW7XTNV+x6r40xpunen/LT1PPQdSev+1z/FL4D8D3XiHxF4j8Z3Nr9stP8AkG+HPt+f7z9/\n                                                                    8cckcjlj+rLeXpD/ANKqH0vDG0vWH/pVQ1NO0PG7n7ZpNkf7voX4+8T1/PoMnOPWPC3hs+Hrc3P2\n                                                                    Y2l3rWO3Xlz3PThf0zySTseHvAzAWlra2/237Fj+0eB2L9+fx9cgZOa7dZ2tg1rodve6xqv+6OmW\n                                                                    9+PuqT65HJ2jPxv1yXn90f8AI90xra30fw8tp9qP+i8HPP8AxNPmkB4z/u8dsn3J9Z8L/A/x9rdv\n                                                                    b6oNKFppQ249vmOTzjrxn8OpGB9z/sa/8E7vFHjGa0</p>\n</blockquote>\n"},{"tags":["java","android","twitter-bootstrap","twitter","httpresponse"],"comments":[{"owner":{"account_id":7674343,"reputation":4141,"user_id":5815673,"accept_rate":0,"display_name":"Farmer"},"score":0,"creation_date":1497362141,"post_id":44523590,"comment_id":76039141,"body_markdown":"dear down voter can you please tell me why you give me down vote?","body":"dear down voter can you please tell me why you give me down vote?"}],"answers":[{"tags":[],"owner":{"account_id":7674343,"reputation":4141,"user_id":5815673,"accept_rate":0,"display_name":"Farmer"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1503999333,"creation_date":1497614317,"answer_id":44588740,"question_id":44523590,"body_markdown":"I have searched in one whole day and i found the below solution. I don&#39;t know but it is worked fine for me.\r\n\r\nI comment this line from the **Application.java** file.\r\n\r\n    //Twitter.initialize(this);\r\n\r\nI have initialize `Twitter` SDK as below and it will work for me.\r\n\r\n    //Initialize twitter SDK\r\n    TwitterConfig config = new TwitterConfig.Builder(this)\r\n                    .logger(new DefaultLogger(Log.DEBUG))\r\n                    .twitterAuthConfig(new TwitterAuthConfig(TWITTER_KEY, TWITTER_SECRET))\r\n                    .debug(true)\r\n                    .build();\r\n    Twitter.initialize(config);\r\n\r\nSet `callback` on twitter button as below.\r\n\r\n    loginButton.setCallback(new TwitterLogin.LoginHandler());","title":"com.twitter.sdk.android.core.TwitterApiException: HTTP request failed, Status: 403","body":"<p>I have searched in one whole day and i found the below solution. I don't know but it is worked fine for me.</p>\n\n<p>I comment this line from the <strong>Application.java</strong> file.</p>\n\n<pre><code>//Twitter.initialize(this);\n</code></pre>\n\n<p>I have initialize <code>Twitter</code> SDK as below and it will work for me.</p>\n\n<pre><code>//Initialize twitter SDK\nTwitterConfig config = new TwitterConfig.Builder(this)\n                .logger(new DefaultLogger(Log.DEBUG))\n                .twitterAuthConfig(new TwitterAuthConfig(TWITTER_KEY, TWITTER_SECRET))\n                .debug(true)\n                .build();\nTwitter.initialize(config);\n</code></pre>\n\n<p>Set <code>callback</code> on twitter button as below.</p>\n\n<pre><code>loginButton.setCallback(new TwitterLogin.LoginHandler());\n</code></pre>\n"}],"owner":{"account_id":7674343,"reputation":4141,"user_id":5815673,"accept_rate":0,"display_name":"Farmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5129,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":44588740,"answer_count":1,"score":1,"last_activity_date":1651232818,"creation_date":1497362011,"question_id":44523590,"body_markdown":"I have recently added fabric plugin in my android studio, but i am not finding twitter login option on that plugin. When i search on google then i found one  [question][1] that fabric has recently removed twitter login kit . so i integrate twitterkit using [twitter official documentation][2].\r\nI integrate twitterkit and implement code according to [twitter developer site][3], but i am facing issue.\r\n\r\nThis is the Error log:\r\n\r\n    E/Twitter: Failed to get app auth token\r\n    com.twitter.sdk.android.core.TwitterApiException: HTTP request failed, Status: 403\r\n     at com.twitter.sdk.android.core.Callback.onResponse(Callback.java:42)\r\n     at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:68)\r\n     at android.os.Handler.handleCallback(Handler.java:751)\r\n     at android.os.Handler.dispatchMessage(Handler.java:95)\r\n     at android.os.Looper.loop(Looper.java:154)\r\n     at android.app.ActivityThread.main(ActivityThread.java:6209)\r\n     at java.lang.reflect.Method.invoke(Native Method)\r\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n    \r\n    Authorization completed with an error\r\n    com.twitter.sdk.android.core.TwitterAuthException: Authorize failed.\r\n     at com.twitter.sdk.android.core.identity.AuthHandler.handleOnActivityResult(AuthHandler.java:98)\r\n     at com.twitter.sdk.android.core.identity.TwitterAuthClient.onActivityResult(TwitterAuthClient.java:161)\r\n     at com.twitter.sdk.android.core.identity.TwitterLoginButton.onActivityResult(TwitterLoginButton.java:131)\r\n     at in.crazyfingers.cyny.social_login.ActivitySocialSignIn.onActivityResult(ActivitySocialSignIn.java:305)\r\n     at android.app.Activity.dispatchActivityResult(Activity.java:7007)\r\n     at android.app.ActivityThread.deliverResults(ActivityThread.java:4173)\r\n     at android.app.ActivityThread.handleSendResult(ActivityThread.java:4220)\r\n     at android.app.ActivityThread.-wrap20(ActivityThread.java)\r\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1559)\r\n     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n     at android.os.Looper.loop(Looper.java:154)\r\n     at android.app.ActivityThread.main(ActivityThread.java:6209)\r\n     at java.lang.reflect.Method.invoke(Native Method)\r\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n\r\nI have checked [Question 1][4] and [Question 2][5] and other so many question which is related to this issue but its not worked for me. Help would be appreciate. Thanks in advance.\r\n\r\nThis is my app level **build.gradle** file\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &quot;25.0.2&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.twitter&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 25\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &#39;com.android.support:appcompat-v7:25.3.1&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        \r\n        // Include all the Twitter APIs\r\n        compile &#39;com.twitter.sdk.android:twitter:3.0.0&#39;\r\n    \r\n    }\r\n\r\nThis is my **CustomApplication.Java** file.\r\n\r\n    public class CustomApplication extends Application\r\n    {\r\n        public void onCreate() {\r\n            Twitter.initialize(this);\r\n        }\r\n    }\r\n\r\nThis is my **TwitterLogin.java** file\r\n\r\n    public class TwitterLogin extends AppCompatActivity\r\n    {\r\n        public static final String TAG = &quot;[TwitterLogin]&quot;;\r\n    \r\n        private String TWITTER_KEY = &quot;here my app twitter key&quot;;\r\n        private String TWITTER_SECRET = &quot;here my app secret key&quot;;\r\n    \r\n        private TwitterLoginButton loginButton;\r\n        private TextView status;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            setContentView(R.layout.activity_twitter_login);\r\n            \r\n            TwitterConfig config = new TwitterConfig.Builder(this)\r\n                    .logger(new DefaultLogger(Log.DEBUG))\r\n                    .twitterAuthConfig(new TwitterAuthConfig(TWITTER_KEY, TWITTER_SECRET))\r\n                    .debug(true)\r\n                    .build();\r\n            Twitter.initialize(config);\r\n    \r\n            loginButton = (TwitterLoginButton) findViewById(R.id.twitter_login_button);\r\n            loginButton.setCallback(new LoginHandler());\r\n        }\r\n    \r\n        private class LoginHandler extends Callback&lt;TwitterSession&gt; {\r\n            @Override\r\n            public void success(Result&lt;TwitterSession&gt; twitterSessionResult) {\r\n    \r\n    \t\t\tString output = &quot;Status: &quot; +\r\n                            &quot;Your login was successful &quot; +\r\n                            twitterSessionResult.data.getUserName() +\r\n                            &quot;nAuth Token Received: &quot; +\r\n                            twitterSessionResult.data.getAuthToken().token;\r\n                   \r\n    \t\t\tLog.e(TAG, &quot;twitterSessionResult : &quot; + output);      \r\n            }\r\n            @Override\r\n            public void failure(TwitterException e) {\r\n                status.setText(&quot;Status: Login Failed&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            // Pass the activity result to the login button.\r\n            loginButton.onActivityResult(requestCode, resultCode, data);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44350781/how-to-install-twitter-kit-using-fabric-plugin-in-android-studio\r\n  [2]: https://dev.twitter.com/twitterkit/android/overview\r\n  [3]: https://dev.twitter.com/twitterkit/android/installation\r\n  [4]: https://stackoverflow.com/questions/42832290/failed-to-get-app-auth-token-twitterapiexception-http-request-failed-status-4\r\n  [5]: https://twittercommunity.com/t/twitter-failed-to-get-app-auth-token-com-twitter-sdk-android-core-twitterapiexception-http-request-failed-status-403/72544/3","title":"com.twitter.sdk.android.core.TwitterApiException: HTTP request failed, Status: 403","body":"<p>I have recently added fabric plugin in my android studio, but i am not finding twitter login option on that plugin. When i search on google then i found one  <a href=\"https://stackoverflow.com/questions/44350781/how-to-install-twitter-kit-using-fabric-plugin-in-android-studio\">question</a> that fabric has recently removed twitter login kit . so i integrate twitterkit using <a href=\"https://dev.twitter.com/twitterkit/android/overview\" rel=\"nofollow noreferrer\">twitter official documentation</a>.\nI integrate twitterkit and implement code according to <a href=\"https://dev.twitter.com/twitterkit/android/installation\" rel=\"nofollow noreferrer\">twitter developer site</a>, but i am facing issue.</p>\n\n<p>This is the Error log:</p>\n\n<pre><code>E/Twitter: Failed to get app auth token\ncom.twitter.sdk.android.core.TwitterApiException: HTTP request failed, Status: 403\n at com.twitter.sdk.android.core.Callback.onResponse(Callback.java:42)\n at retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall$1$1.run(ExecutorCallAdapterFactory.java:68)\n at android.os.Handler.handleCallback(Handler.java:751)\n at android.os.Handler.dispatchMessage(Handler.java:95)\n at android.os.Looper.loop(Looper.java:154)\n at android.app.ActivityThread.main(ActivityThread.java:6209)\n at java.lang.reflect.Method.invoke(Native Method)\n at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n\nAuthorization completed with an error\ncom.twitter.sdk.android.core.TwitterAuthException: Authorize failed.\n at com.twitter.sdk.android.core.identity.AuthHandler.handleOnActivityResult(AuthHandler.java:98)\n at com.twitter.sdk.android.core.identity.TwitterAuthClient.onActivityResult(TwitterAuthClient.java:161)\n at com.twitter.sdk.android.core.identity.TwitterLoginButton.onActivityResult(TwitterLoginButton.java:131)\n at in.crazyfingers.cyny.social_login.ActivitySocialSignIn.onActivityResult(ActivitySocialSignIn.java:305)\n at android.app.Activity.dispatchActivityResult(Activity.java:7007)\n at android.app.ActivityThread.deliverResults(ActivityThread.java:4173)\n at android.app.ActivityThread.handleSendResult(ActivityThread.java:4220)\n at android.app.ActivityThread.-wrap20(ActivityThread.java)\n at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1559)\n at android.os.Handler.dispatchMessage(Handler.java:102)\n at android.os.Looper.loop(Looper.java:154)\n at android.app.ActivityThread.main(ActivityThread.java:6209)\n at java.lang.reflect.Method.invoke(Native Method)\n at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n</code></pre>\n\n<p>I have checked <a href=\"https://stackoverflow.com/questions/42832290/failed-to-get-app-auth-token-twitterapiexception-http-request-failed-status-4\">Question 1</a> and <a href=\"https://twittercommunity.com/t/twitter-failed-to-get-app-auth-token-com-twitter-sdk-android-core-twitterapiexception-http-request-failed-status-403/72544/3\" rel=\"nofollow noreferrer\">Question 2</a> and other so many question which is related to this issue but its not worked for me. Help would be appreciate. Thanks in advance.</p>\n\n<p>This is my app level <strong>build.gradle</strong> file</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.twitter\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    testCompile 'junit:junit:4.12'\n\n    // Include all the Twitter APIs\n    compile 'com.twitter.sdk.android:twitter:3.0.0'\n\n}\n</code></pre>\n\n<p>This is my <strong>CustomApplication.Java</strong> file.</p>\n\n<pre><code>public class CustomApplication extends Application\n{\n    public void onCreate() {\n        Twitter.initialize(this);\n    }\n}\n</code></pre>\n\n<p>This is my <strong>TwitterLogin.java</strong> file</p>\n\n<pre><code>public class TwitterLogin extends AppCompatActivity\n{\n    public static final String TAG = \"[TwitterLogin]\";\n\n    private String TWITTER_KEY = \"here my app twitter key\";\n    private String TWITTER_SECRET = \"here my app secret key\";\n\n    private TwitterLoginButton loginButton;\n    private TextView status;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_twitter_login);\n\n        TwitterConfig config = new TwitterConfig.Builder(this)\n                .logger(new DefaultLogger(Log.DEBUG))\n                .twitterAuthConfig(new TwitterAuthConfig(TWITTER_KEY, TWITTER_SECRET))\n                .debug(true)\n                .build();\n        Twitter.initialize(config);\n\n        loginButton = (TwitterLoginButton) findViewById(R.id.twitter_login_button);\n        loginButton.setCallback(new LoginHandler());\n    }\n\n    private class LoginHandler extends Callback&lt;TwitterSession&gt; {\n        @Override\n        public void success(Result&lt;TwitterSession&gt; twitterSessionResult) {\n\n            String output = \"Status: \" +\n                        \"Your login was successful \" +\n                        twitterSessionResult.data.getUserName() +\n                        \"nAuth Token Received: \" +\n                        twitterSessionResult.data.getAuthToken().token;\n\n            Log.e(TAG, \"twitterSessionResult : \" + output);      \n        }\n        @Override\n        public void failure(TwitterException e) {\n            status.setText(\"Status: Login Failed\");\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        // Pass the activity result to the login button.\n        loginButton.onActivityResult(requestCode, resultCode, data);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","bouncycastle"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1563218585,"post_id":57042763,"comment_id":100619492,"body_markdown":"What line is throwing the exception?","body":"What line is throwing the exception?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1563219210,"post_id":57042763,"comment_id":100619740,"body_markdown":"Also, it appears Flexiprovider hasn&#39;t been updated since 2014 and the website appears to be gone. That&#39;s a sign it&#39;s time to get rid of your dependence on it.","body":"Also, it appears Flexiprovider hasn&#39;t been updated since 2014 and the website appears to be gone. That&#39;s a sign it&#39;s time to get rid of your dependence on it."},{"owner":{"account_id":14802938,"reputation":23,"user_id":10690704,"display_name":"Majid"},"score":0,"creation_date":1563270286,"post_id":57042763,"comment_id":100634891,"body_markdown":"@JamesKPolk The last line is resulting in an exception. The question is updated. You&#39;re right. I plan to use SC instead of it. However, I&#39;d like to know how to prevent such conflict for the sake of learning.","body":"@JamesKPolk The last line is resulting in an exception. The question is updated. You&#39;re right. I plan to use SC instead of it. However, I&#39;d like to know how to prevent such conflict for the sake of learning."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1563280086,"post_id":57042763,"comment_id":100640150,"body_markdown":"OK, I&#39;ll see if I can reproduce this on an emulator.","body":"OK, I&#39;ll see if I can reproduce this on an emulator."}],"answers":[{"tags":[],"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1563287219,"creation_date":1563287219,"answer_id":57059595,"question_id":57042763,"body_markdown":"This problem is caused by the lack of support for that Brainpool curve in the Android-supplied &quot;BC&quot; provider. One fix is to remove the Android-supplied BC provider and install your own copy of BC provider that does support these curves. For example, I added a jar dependency on the latest bouncycastle jar `bcprov-jdk15on-161.jar` to my Android Studio project and added the following lines of code prior to executing your example code:\r\n\r\n```java\r\nSecurity.removeProvider(&quot;BC&quot;);\r\nSecurity.addProvider(new BouncyCastleProvider());\r\nSecurity.addProvider(new FlexiECProvider());\r\n```\r\n\r\nAnd the code ran without throwing an exception. You might also consider using a less obscure curve, like `secp256r1`.\r\n","title":"flexiprovider conflicts with bouncycastle when retrieving keys from string","body":"<p>This problem is caused by the lack of support for that Brainpool curve in the Android-supplied \"BC\" provider. One fix is to remove the Android-supplied BC provider and install your own copy of BC provider that does support these curves. For example, I added a jar dependency on the latest bouncycastle jar <code>bcprov-jdk15on-161.jar</code> to my Android Studio project and added the following lines of code prior to executing your example code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Security.removeProvider(\"BC\");\nSecurity.addProvider(new BouncyCastleProvider());\nSecurity.addProvider(new FlexiECProvider());\n</code></pre>\n\n<p>And the code ran without throwing an exception. You might also consider using a less obscure curve, like <code>secp256r1</code>.</p>\n"}],"owner":{"account_id":14802938,"reputation":23,"user_id":10690704,"display_name":"Majid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57059595,"answer_count":1,"score":0,"last_activity_date":1651232798,"creation_date":1563204031,"question_id":57042763,"body_markdown":"I have been using a solution, provided in bellow, to encrypt/decrypt using Flexiprovider for a while. The solution works on galaxy s5 and s6. However, in s9 it does not work because it conflicts with BouncyCastle.\r\nThe code that works in s5 and s6:\r\n\r\n\r\n   \r\n\r\n     KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;ECIES&quot;, &quot;FlexiEC&quot;);\r\n     CurveParams ecParams = new CurveRegistry.BrainpoolP512r1();\r\n     kpg.initialize(ecParams, new SecureRandom());\r\n     KeyPair keyPair = kpg.generateKeyPair();\r\n     PublicKey pubKey = keyPair.getPublic();\r\n     PrivateKey privKey = keyPair.getPrivate();\r\n     String STRpubKey = Base64.encodeToString(pubKey.getEncoded(), \r\n     Base64.DEFAULT);\r\n     byte[] decodedPublicKey = Base64.decode(STRpubKey, Base64.DEFAULT);\r\n     X509EncodedKeySpec X509spec = new X509EncodedKeySpec(decodedPublicKey);\r\n     KeyFactory keyFactory = KeyFactory.getInstance(&quot;ECIES&quot;,&quot;FlexiEC&quot;);\r\n     PublicKey pubkey = keyFactory.generatePublic(X509spec);\r\n\r\nThe above code gives the following error in s9:\r\n\r\n    java.lang.RuntimeException: java.lang.NullPointerException: Attempt to invoke virtual method &#39;com.android.org.bouncycastle.math.ec.ECCurve com.android.org.bouncycastle.asn1.x9.X9ECParameters.getCurve()&#39; on a null object reference\r\nThe exception happens here:\r\n\r\n     PublicKey pubkey = keyFactory.generatePublic(X509spec);\r\n","title":"flexiprovider conflicts with bouncycastle when retrieving keys from string","body":"<p>I have been using a solution, provided in bellow, to encrypt/decrypt using Flexiprovider for a while. The solution works on galaxy s5 and s6. However, in s9 it does not work because it conflicts with BouncyCastle.\nThe code that works in s5 and s6:</p>\n\n<pre><code> KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"ECIES\", \"FlexiEC\");\n CurveParams ecParams = new CurveRegistry.BrainpoolP512r1();\n kpg.initialize(ecParams, new SecureRandom());\n KeyPair keyPair = kpg.generateKeyPair();\n PublicKey pubKey = keyPair.getPublic();\n PrivateKey privKey = keyPair.getPrivate();\n String STRpubKey = Base64.encodeToString(pubKey.getEncoded(), \n Base64.DEFAULT);\n byte[] decodedPublicKey = Base64.decode(STRpubKey, Base64.DEFAULT);\n X509EncodedKeySpec X509spec = new X509EncodedKeySpec(decodedPublicKey);\n KeyFactory keyFactory = KeyFactory.getInstance(\"ECIES\",\"FlexiEC\");\n PublicKey pubkey = keyFactory.generatePublic(X509spec);\n</code></pre>\n\n<p>The above code gives the following error in s9:</p>\n\n<pre><code>java.lang.RuntimeException: java.lang.NullPointerException: Attempt to invoke virtual method 'com.android.org.bouncycastle.math.ec.ECCurve com.android.org.bouncycastle.asn1.x9.X9ECParameters.getCurve()' on a null object reference\n</code></pre>\n\n<p>The exception happens here:</p>\n\n<pre><code> PublicKey pubkey = keyFactory.generatePublic(X509spec);\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615266433,"creation_date":1615266433,"answer_id":66541121,"question_id":66540324,"body_markdown":"Sometimes if no other update method is called, the Hibernate context will not perform a save operation. it&#39;s always better to call the save method.","title":"Is it a good or bad convention to update entity / row without calling save() in hibernate / spring-jpa?","body":"<p>Sometimes if no other update method is called, the Hibernate context will not perform a save operation. it's always better to call the save method.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615370879,"creation_date":1615370879,"answer_id":66562506,"question_id":66540324,"body_markdown":"Why do you think would `@Transactional` not &quot;work&quot;? You are making use of the fact that the entity is &quot;managed&quot; in JPA terms, so that is totally fine. In fact, using `save` might even cause unnecessary operations as Hibernate has to synchronize the persistence context. It might be more efficient to do all operations, in case you have other operations in the transaction, at once, so I would not recommend calling save unless you really want the state to be synchronized.","title":"Is it a good or bad convention to update entity / row without calling save() in hibernate / spring-jpa?","body":"<p>Why do you think would <code>@Transactional</code> not &quot;work&quot;? You are making use of the fact that the entity is &quot;managed&quot; in JPA terms, so that is totally fine. In fact, using <code>save</code> might even cause unnecessary operations as Hibernate has to synchronize the persistence context. It might be more efficient to do all operations, in case you have other operations in the transaction, at once, so I would not recommend calling save unless you really want the state to be synchronized.</p>\n"},{"tags":[],"owner":{"account_id":13852503,"reputation":415,"user_id":10000110,"display_name":"st100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651232722,"creation_date":1651232722,"answer_id":72057464,"question_id":66540324,"body_markdown":"my understanding is that on transaction finish will be saved to DB all managed entities in JPA persistent context. It means that entities NOT managed will not be saved, e.g. new entities created by new operator (not read from DB, because all entities read from DB are managed ). I think save() must be used only for non managed entities. For managed entities it may be more efficient to NOT call save(). ","title":"Is it a good or bad convention to update entity / row without calling save() in hibernate / spring-jpa?","body":"<p>my understanding is that on transaction finish will be saved to DB all managed entities in JPA persistent context. It means that entities NOT managed will not be saved, e.g. new entities created by new operator (not read from DB, because all entities read from DB are managed ). I think save() must be used only for non managed entities. For managed entities it may be more efficient to NOT call save().</p>\n"}],"owner":{"account_id":5345230,"reputation":2477,"user_id":4260959,"accept_rate":70,"display_name":"auntyellow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1651232722,"creation_date":1615259958,"question_id":66540324,"body_markdown":"Recently I found it not necessary to call `repository.save()` if within a `@Transactional` block. Hibernate / Spring-JPA will update row automatically when exiting transaction. e.g.\r\n\r\n```\r\n@Transactional\r\npublic updateName(Long id, String name) {\r\n    User user = repository.findOneById(id);\r\n    user.setName(name);\r\n    // repository.save(user); // &lt;- looks not necessary?\r\n}\r\n```\r\n\r\nIs it a good or bad convention? I&#39;m afraid sometimes `@Transactional` doesn&#39;t work in some special conditions.","title":"Is it a good or bad convention to update entity / row without calling save() in hibernate / spring-jpa?","body":"<p>Recently I found it not necessary to call <code>repository.save()</code> if within a <code>@Transactional</code> block. Hibernate / Spring-JPA will update row automatically when exiting transaction. e.g.</p>\n<pre><code>@Transactional\npublic updateName(Long id, String name) {\n    User user = repository.findOneById(id);\n    user.setName(name);\n    // repository.save(user); // &lt;- looks not necessary?\n}\n</code></pre>\n<p>Is it a good or bad convention? I'm afraid sometimes <code>@Transactional</code> doesn't work in some special conditions.</p>\n"},{"tags":["java","spring","http","security"],"answers":[{"tags":[],"owner":{"account_id":8276195,"reputation":769,"user_id":6222302,"accept_rate":83,"display_name":"Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634567708,"creation_date":1634567708,"answer_id":69617958,"question_id":69616807,"body_markdown":"You have to add Basic Auth to your header which will look like,\r\n\r\n```\r\nAuthorization: Basic &lt;base64encode(userid:password)&gt;\r\n```\r\n\r\nTo achieve that,\r\n```\r\nString auth = username + &quot;:&quot; + password;\r\nbyte[] encodedAuth = Base64.encodeBase64(auth.getBytes(Charset.forName(&quot;US-ASCII&quot;)) );\r\nString authHeader = &quot;Basic &quot; + new String( encodedAuth );\r\n```\r\n\r\nThen set the `authHeader` to http header when you call api.","title":"How to add the username and passwords to a request in java spring","body":"<p>You have to add Basic Auth to your header which will look like,</p>\n<pre><code>Authorization: Basic &lt;base64encode(userid:password)&gt;\n</code></pre>\n<p>To achieve that,</p>\n<pre><code>String auth = username + &quot;:&quot; + password;\nbyte[] encodedAuth = Base64.encodeBase64(auth.getBytes(Charset.forName(&quot;US-ASCII&quot;)) );\nString authHeader = &quot;Basic &quot; + new String( encodedAuth );\n</code></pre>\n<p>Then set the <code>authHeader</code> to http header when you call api.</p>\n"}],"owner":{"account_id":19021181,"reputation":41,"user_id":13885235,"display_name":"Dunmol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":954,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651232363,"creation_date":1634562984,"question_id":69616807,"body_markdown":"I&#39;m currently trying to add security to my spring application and just want to know how can i add the credentials to the request so that it has the security access to access the getall URL\r\nThis is the post code on my client aplication \r\n \r\n\r\n        public void save(String object) {\r\n        try {\r\n            final String URL = &quot;http://localhost:8080/opject/getall&quot;;\r\n            Gson g = new Gson();\r\n            String jsonsStrinjg = g.toJson(object);\r\n            String p = post(URL, jsonsStrinjg);\r\n            if (p != null)\r\n                JOptionPane.showMessageDialog(null,&quot;Sucsess&quot;);\r\n            else\r\n                JOptionPane.showMessageDialog(null,&quot;Fail&quot;);\r\n\r\n\r\n        }catch (Exception e){\r\n            JOptionPane.showMessageDialog(null,e.getMessage());\r\n        }\r\n    }\r\n\r\n    public String post(final String url, String json) throws IOException {\r\n        RequestBody body = RequestBody.create(JSON, json);\r\n        Request request = new Request.Builder()\r\n                .url(url)\r\n                .post(body)\r\n                .build();\r\n        try(Response response= client.newCall(request).execute()){\r\n            return response.body().string();\r\n\r\n        }\r\n\r\n    }\r\n\r\nThis is the code on my server side handling security\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n      auth.inMemoryAuthentication()\r\n              .withUser(&quot;Admin&quot;)\r\n              .password(encoder().encode(&quot;123&quot;))\r\n              .roles(&quot;ADMIN&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.httpBasic()\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(HttpMethod.POST,&quot;**/getall&quot;).hasRole(&quot;ADMIN&quot;)\r\n                    .and()\r\n                    .csrf().disable()\r\n                    .formLogin().disable();\r\n    }\r\n    @Bean\r\n    public PasswordEncoder encoder(){\r\n\r\n        return  new BCryptPasswordEncoder();\r\n\r\n\r\n    }\r\n}\r\nSo is there something I have to add tot he body or the request where i can add the password and username.","title":"How to add the username and passwords to a request in java spring","body":"<p>I'm currently trying to add security to my spring application and just want to know how can i add the credentials to the request so that it has the security access to access the getall URL\nThis is the post code on my client aplication</p>\n<pre><code>    public void save(String object) {\n    try {\n        final String URL = &quot;http://localhost:8080/opject/getall&quot;;\n        Gson g = new Gson();\n        String jsonsStrinjg = g.toJson(object);\n        String p = post(URL, jsonsStrinjg);\n        if (p != null)\n            JOptionPane.showMessageDialog(null,&quot;Sucsess&quot;);\n        else\n            JOptionPane.showMessageDialog(null,&quot;Fail&quot;);\n\n\n    }catch (Exception e){\n        JOptionPane.showMessageDialog(null,e.getMessage());\n    }\n}\n\npublic String post(final String url, String json) throws IOException {\n    RequestBody body = RequestBody.create(JSON, json);\n    Request request = new Request.Builder()\n            .url(url)\n            .post(body)\n            .build();\n    try(Response response= client.newCall(request).execute()){\n        return response.body().string();\n\n    }\n\n}\n</code></pre>\n<p>This is the code on my server side handling security</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n  auth.inMemoryAuthentication()\n          .withUser(&quot;Admin&quot;)\n          .password(encoder().encode(&quot;123&quot;))\n          .roles(&quot;ADMIN&quot;);\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.httpBasic()\n                .and()\n                .authorizeRequests()\n                .antMatchers(HttpMethod.POST,&quot;**/getall&quot;).hasRole(&quot;ADMIN&quot;)\n                .and()\n                .csrf().disable()\n                .formLogin().disable();\n}\n@Bean\npublic PasswordEncoder encoder(){\n\n    return  new BCryptPasswordEncoder();\n\n\n}\n</code></pre>\n<p>}\nSo is there something I have to add tot he body or the request where i can add the password and username.</p>\n"},{"tags":["java","hibernate","jpa","caching"],"answers":[{"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548815039,"creation_date":1282852182,"answer_id":3578920,"question_id":3578711,"body_markdown":"What you want is a NamedQuery.  On your Order entity you put:\r\n\r\n    @NamedQueries({\r\n        @NamedQuery( name = &quot;getOrderByCustomerId&quot;, query = &quot;SELECT o FROM Order o WHERE o.customerId = :customerId&quot;)\r\n    })\r\n\r\nThen in your DAO use em.createNamedQuery(&quot;getOrderByCustomerId&quot;) instead of recreating the query.","title":"JPA: caching queries","body":"<p>What you want is a NamedQuery.  On your Order entity you put:</p>\n\n<pre><code>@NamedQueries({\n    @NamedQuery( name = \"getOrderByCustomerId\", query = \"SELECT o FROM Order o WHERE o.customerId = :customerId\")\n})\n</code></pre>\n\n<p>Then in your DAO use em.createNamedQuery(\"getOrderByCustomerId\") instead of recreating the query.</p>\n"},{"tags":[],"owner":{"account_id":110220,"reputation":37362,"user_id":291741,"accept_rate":87,"display_name":"Chris Lercher"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1282852195,"creation_date":1282852195,"answer_id":3578921,"question_id":3578711,"body_markdown":"[NamedQueries](http://docs.jboss.org/hibernate/stable/entitymanager/reference/en/html/objectstate.html#d0e1165) is the concept you&#39;re looking for.","title":"JPA: caching queries","body":"<p><a href=\"http://docs.jboss.org/hibernate/stable/entitymanager/reference/en/html/objectstate.html#d0e1165\" rel=\"nofollow noreferrer\">NamedQueries</a> is the concept you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1282852270,"creation_date":1282852270,"answer_id":3578931,"question_id":3578711,"body_markdown":"Use statically defined *named queries*. They are more efficient because the JPA persistence provider can translate the JP QL string to SQL once at application startup time, as opposed to every time the query is executed, and are recommended in particular for queries that are executed frequently.\r\n\r\nA named query is defined using the `@NamedQuery` annotation that is typically used on the entity class of the result. In your case, on the `Order` entity:\r\n\r\n    @Entity\r\n    @NamedQueries({\r\n        @NamedQuery(name=&quot;Order.findAll&quot;,\r\n                    query=&quot;SELECT o FROM Order o&quot;),\r\n        @NamedQuery(name=&quot;Order.findByPrimaryKey&quot;,\r\n                    query=&quot;SELECT o FROM Order o WHERE o.id = :id&quot;),\r\n        @NamedQuery(name=&quot;Order.findByCustomerId&quot;,\r\n                    query=&quot;SELECT o FROM Order o WHERE o.customerId = :customerId&quot;)\r\n    })\r\n    public class Order implements Serializable {\r\n        ...\r\n    }\r\n\r\nIt is also recommended to prefix named queries with the entity name (to have some kind of name space and avoid collisions).\r\n\r\nAnd then in the DAO:\r\n\r\n    class OrderDao {\r\n        EntityManager em;\r\n    \r\n        List getOrders(Long customerId) {\r\n            return em.createNamedQuery(&quot;Order.findByCustomerId&quot;)\r\n                     .setParameter(&quot;customerId&quot;, customerId);\r\n                     .getResultList();\r\n        }\r\n    }\r\n\r\nPS: I reused the query you suggested as example but it&#39;s somehow weird to have the `customerId` on the `Order`, I would expect a `Customer` instead.\r\n\r\n### References\r\n\r\n- JPA 1.0 Specification\r\n - Section 3.6.4 &quot;Named Queries&quot;\r\n","title":"JPA: caching queries","body":"<p>Use statically defined <em>named queries</em>. They are more efficient because the JPA persistence provider can translate the JP QL string to SQL once at application startup time, as opposed to every time the query is executed, and are recommended in particular for queries that are executed frequently.</p>\n\n<p>A named query is defined using the <code>@NamedQuery</code> annotation that is typically used on the entity class of the result. In your case, on the <code>Order</code> entity:</p>\n\n<pre><code>@Entity\n@NamedQueries({\n    @NamedQuery(name=\"Order.findAll\",\n                query=\"SELECT o FROM Order o\"),\n    @NamedQuery(name=\"Order.findByPrimaryKey\",\n                query=\"SELECT o FROM Order o WHERE o.id = :id\"),\n    @NamedQuery(name=\"Order.findByCustomerId\",\n                query=\"SELECT o FROM Order o WHERE o.customerId = :customerId\")\n})\npublic class Order implements Serializable {\n    ...\n}\n</code></pre>\n\n<p>It is also recommended to prefix named queries with the entity name (to have some kind of name space and avoid collisions).</p>\n\n<p>And then in the DAO:</p>\n\n<pre><code>class OrderDao {\n    EntityManager em;\n\n    List getOrders(Long customerId) {\n        return em.createNamedQuery(\"Order.findByCustomerId\")\n                 .setParameter(\"customerId\", customerId);\n                 .getResultList();\n    }\n}\n</code></pre>\n\n<p>PS: I reused the query you suggested as example but it's somehow weird to have the <code>customerId</code> on the <code>Order</code>, I would expect a <code>Customer</code> instead.</p>\n\n<h3>References</h3>\n\n<ul>\n<li>JPA 1.0 Specification\n\n<ul>\n<li>Section 3.6.4 \"Named Queries\"</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1059,"reputation":8462,"user_id":1406,"accept_rate":85,"display_name":"Thierry Roy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1651232166,"creation_date":1282852319,"answer_id":3578933,"question_id":3578711,"body_markdown":"There is a query plan cache in Hibernate. So the HQL is not parsed every time the DAO is called (so #1 really occurs only once in your application life-time). It&#39;s [QueryPlanCache][1]. It&#39;s not heavily documented, as it &quot;just works&quot;. But you can find more info [here][2].\r\n\r\n\r\n  [1]: http://www.docjar.com/html/api/org/hibernate/engine/query/QueryPlanCache.java.html\r\n  [2]: http://opensource.atlassian.com/projects/hibernate/browse/HHH-5300","title":"JPA: caching queries","body":"<p>There is a query plan cache in Hibernate. So the HQL is not parsed every time the DAO is called (so #1 really occurs only once in your application life-time). It's <a href=\"http://www.docjar.com/html/api/org/hibernate/engine/query/QueryPlanCache.java.html\" rel=\"nofollow noreferrer\">QueryPlanCache</a>. It's not heavily documented, as it &quot;just works&quot;. But you can find more info <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/HHH-5300\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1816124,"reputation":507,"user_id":1651169,"display_name":"ichalos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347206922,"creation_date":1347206922,"answer_id":12340656,"question_id":3578711,"body_markdown":"**You can&#39;t prepare queries that are not named**. That is the main reason you should try to have named queries rather than simple queries inside your code. \r\nAlso, named queries can be cached while simple queries inside your java code cannot. Of course this is an optional feature and is enabled using hints on your named query.","title":"JPA: caching queries","body":"<p><strong>You can't prepare queries that are not named</strong>. That is the main reason you should try to have named queries rather than simple queries inside your code. \nAlso, named queries can be cached while simple queries inside your java code cannot. Of course this is an optional feature and is enabled using hints on your named query.</p>\n"},{"tags":[],"owner":{"account_id":1322512,"reputation":18457,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497539917,"creation_date":1497539917,"answer_id":44571255,"question_id":3578711,"body_markdown":"JPA 2.1, section &quot;3.1.1 EntityManager Interface&quot;:\r\n\r\n&gt; The Query, TypedQuery, StoredProcedureQuery, CriteriaBuilder,\r\n&gt; Metamodel, and EntityTransaction objects obtained from an entity\r\n&gt; manager are valid while that entity manager is open.\r\n\r\nThe lesson to take home from this quote is that the enlisted query types can only be cached for as long as the entity manager remains open - which we have no saying about for container-managed entity managers.\r\n\r\nThree solutions come to mind. 1) Named queries as others have pointed out. 2) Cache a `CriteriaQuery` instead and hopefully the provider can toss in some kind of optimizations out of it. 3) Use an application-managed entity manager (that remains open).\r\n\r\nCache a CriteriaQuery\r\n---------------------\r\n\r\n    @Stateless\r\n    public class OrderRepository\r\n    {\r\n        @PersistenceUnit\r\n        EntityManagerFactory emf;\r\n        \r\n        @PersistenceContext\r\n        EntityManager em;\r\n        \r\n        private CriteriaQuery&lt;Order&gt; query;\r\n        \r\n        private Parameter&lt;Long&gt; param;\r\n        \r\n        @PostConstruct\r\n        private void constructQuery() {\r\n            CriteriaBuilder b = emf.getCriteriaBuilder();\r\n            query = b.createQuery(Order.class);\r\n            param = b.parameter(long.class);\r\n            ...\r\n        }\r\n        \r\n        public List&lt;Order&gt; findByCustomerKey(long key) {\r\n            return em.createQuery(query)\r\n                     .setParameter(param, key)\r\n                     .getResultList();\r\n        }\r\n    }\r\n\r\nUse an application-managed entity manager\r\n-----------------------------------------\r\n\r\n    @Stateless\r\n    public class OrderRepository\r\n    {\r\n        @PersistenceUnit\r\n        EntityManagerFactory emf;\r\n        \r\n        private EntityManager em;\r\n        \r\n        private TypedQuery&lt;Order&gt; query;\r\n        \r\n        @PostConstruct\r\n        private void initialize() {\r\n            em = emf.createEntityManager();\r\n            query = em.createQuery(&quot;SELECT o FROM Order o WHERE o.id = ?1&quot;, Order.class);\r\n        }\r\n        \r\n        public List&lt;Order&gt; findByCustomerKey(long key) {\r\n            try {\r\n                return query.setParameter(1, key)\r\n                            .getResultList();\r\n            }\r\n            finally {\r\n                em.clear(); // returned entities are detached\r\n            }\r\n        }\r\n        \r\n        @PreDestroy\r\n        private void closeEntityManager() {\r\n            em.close();\r\n        }\r\n    }","title":"JPA: caching queries","body":"<p>JPA 2.1, section \"3.1.1 EntityManager Interface\":</p>\n\n<blockquote>\n  <p>The Query, TypedQuery, StoredProcedureQuery, CriteriaBuilder,\n  Metamodel, and EntityTransaction objects obtained from an entity\n  manager are valid while that entity manager is open.</p>\n</blockquote>\n\n<p>The lesson to take home from this quote is that the enlisted query types can only be cached for as long as the entity manager remains open - which we have no saying about for container-managed entity managers.</p>\n\n<p>Three solutions come to mind. 1) Named queries as others have pointed out. 2) Cache a <code>CriteriaQuery</code> instead and hopefully the provider can toss in some kind of optimizations out of it. 3) Use an application-managed entity manager (that remains open).</p>\n\n<h2>Cache a CriteriaQuery</h2>\n\n<pre><code>@Stateless\npublic class OrderRepository\n{\n    @PersistenceUnit\n    EntityManagerFactory emf;\n\n    @PersistenceContext\n    EntityManager em;\n\n    private CriteriaQuery&lt;Order&gt; query;\n\n    private Parameter&lt;Long&gt; param;\n\n    @PostConstruct\n    private void constructQuery() {\n        CriteriaBuilder b = emf.getCriteriaBuilder();\n        query = b.createQuery(Order.class);\n        param = b.parameter(long.class);\n        ...\n    }\n\n    public List&lt;Order&gt; findByCustomerKey(long key) {\n        return em.createQuery(query)\n                 .setParameter(param, key)\n                 .getResultList();\n    }\n}\n</code></pre>\n\n<h2>Use an application-managed entity manager</h2>\n\n<pre><code>@Stateless\npublic class OrderRepository\n{\n    @PersistenceUnit\n    EntityManagerFactory emf;\n\n    private EntityManager em;\n\n    private TypedQuery&lt;Order&gt; query;\n\n    @PostConstruct\n    private void initialize() {\n        em = emf.createEntityManager();\n        query = em.createQuery(\"SELECT o FROM Order o WHERE o.id = ?1\", Order.class);\n    }\n\n    public List&lt;Order&gt; findByCustomerKey(long key) {\n        try {\n            return query.setParameter(1, key)\n                        .getResultList();\n        }\n        finally {\n            em.clear(); // returned entities are detached\n        }\n    }\n\n    @PreDestroy\n    private void closeEntityManager() {\n        em.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":191592,"reputation":3687,"user_id":432254,"accept_rate":64,"display_name":"Andrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27088,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":3578933,"answer_count":6,"score":17,"last_activity_date":1651232166,"creation_date":1282850548,"question_id":3578711,"body_markdown":"I&#39;m using JPA to load and persist entities in my Java EE-based web application. Hibernate is used as an implementation of JPA, but I don&#39;t use Hibernate-specific features and only work with pure JPA.\r\n\r\nHere is some DAO class, notice &lt;code&gt;getOrders&lt;/code&gt; method:\r\n\r\n&lt;pre&gt;class OrderDao {\r\n  EntityManager em;\r\n\r\n  List getOrders(Long customerId) {\r\n    Query q = em.createQuery(\r\n      &quot;&lt;i&gt;SELECT o FROM Order o WHERE o.customerId = :customerId&lt;/i&gt;&quot;);\r\n    q.setParameter(&quot;&lt;i&gt;customerId&lt;/i&gt;&quot;, customerId);\r\n    &lt;b&gt;return&lt;/b&gt; q.getResultList();\r\n  }\r\n}&lt;/pre&gt;\r\n\r\nMethod is pretty simple but it has a big drawback. Each time the method is called following actions are performed somewhere within JPA implementation:\r\n\r\n&lt;ol&gt;\r\n&lt;li&gt;JPQL expression is parsed and compiled to SQL.\r\n&lt;li&gt;Either Statement or PreparedStatement instance is created and initialized.\r\n&lt;li&gt;Statement instance is filled with parameters and executed.\r\n&lt;/ol&gt;\r\n\r\nI believe that steps 1 and 2 of above should be implemented once per application lifetime. But how to make it? In other words, I need that Query instances to be cached.\r\n\r\nOf course I can implement such a cache on my side. But wait, I am using modern powerful ORM&#39;s! Didn&#39;t they already made this for me?\r\n\r\nNotice that I&#39;m not mentioning something like Hibernate query cache which caches result of queries. Here I&#39;d like to execute my queries a bit more quickly.","title":"JPA: caching queries","body":"<p>I'm using JPA to load and persist entities in my Java EE-based web application. Hibernate is used as an implementation of JPA, but I don't use Hibernate-specific features and only work with pure JPA.</p>\n\n<p>Here is some DAO class, notice <code>getOrders</code> method:</p>\n\n<pre>class OrderDao {\n  EntityManager em;\n\n  List getOrders(Long customerId) {\n    Query q = em.createQuery(\n      \"<i>SELECT o FROM Order o WHERE o.customerId = :customerId</i>\");\n    q.setParameter(\"<i>customerId</i>\", customerId);\n    <b>return</b> q.getResultList();\n  }\n}</pre>\n\n<p>Method is pretty simple but it has a big drawback. Each time the method is called following actions are performed somewhere within JPA implementation:</p>\n\n<ol>\n<li>JPQL expression is parsed and compiled to SQL.\n<li>Either Statement or PreparedStatement instance is created and initialized.\n<li>Statement instance is filled with parameters and executed.\n</ol>\n\n<p>I believe that steps 1 and 2 of above should be implemented once per application lifetime. But how to make it? In other words, I need that Query instances to be cached.</p>\n\n<p>Of course I can implement such a cache on my side. But wait, I am using modern powerful ORM's! Didn't they already made this for me?</p>\n\n<p>Notice that I'm not mentioning something like Hibernate query cache which caches result of queries. Here I'd like to execute my queries a bit more quickly.</p>\n"},{"tags":["java","spring","spring-boot","pdf","itext"],"comments":[{"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"score":0,"creation_date":1650283637,"post_id":71911557,"comment_id":127072101,"body_markdown":"Welcome to Stack Overflow! Certain questions here are more likely to get helpful answers. Questions that don’t show what you’ve tried are generally more difficult to answer - people often skip right over them. So show your code for best results. If you encounter a specific technical problem during that attempt, we can help with that, and we want to - that’s part of why we’re here. To learn more about helping us help you, please start with [How to Ask](https://stackoverflow.com/questions/how-to-ask). If you’re really ambitious, read the [tour](https://stackoverflow.com/tour).","body":"Welcome to Stack Overflow! Certain questions here are more likely to get helpful answers. Questions that don’t show what you’ve tried are generally more difficult to answer - people often skip right over them. So show your code for best results. If you encounter a specific technical problem during that attempt, we can help with that, and we want to - that’s part of why we’re here. To learn more about helping us help you, please start with <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. If you’re really ambitious, read the <a href=\"https://stackoverflow.com/tour\">tour</a>."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1650285971,"post_id":71911557,"comment_id":127072766,"body_markdown":"Please describe technically what those rectangles in your image are - or better, share your example file.","body":"Please describe technically what those rectangles in your image are - or better, share your example file."},{"owner":{"account_id":21845217,"reputation":54,"user_id":16138165,"display_name":"Samriddha Bajpai"},"score":0,"creation_date":1650303166,"post_id":71911557,"comment_id":127078098,"body_markdown":"Rectangle box are nothing but just a design which i had given in place for input tag. i want to populate the dynamic values in those rectangles.","body":"Rectangle box are nothing but just a design which i had given in place for input tag. i want to populate the dynamic values in those rectangles."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1650312234,"post_id":71911557,"comment_id":127080759,"body_markdown":"Would it be possible to use AcroForm form fields instead? If you insist on using arbitrary rectangles, you&#39;ll make the code replacing them with some content unnecessarily complicated.","body":"Would it be possible to use AcroForm form fields instead? If you insist on using arbitrary rectangles, you&#39;ll make the code replacing them with some content unnecessarily complicated."},{"owner":{"account_id":21845217,"reputation":54,"user_id":16138165,"display_name":"Samriddha Bajpai"},"score":0,"creation_date":1650360377,"post_id":71911557,"comment_id":127090585,"body_markdown":"yes i can use that. Plesse help me out regarding the strategy and library whjich i should use to fulfill my requirement.","body":"yes i can use that. Plesse help me out regarding the strategy and library whjich i should use to fulfill my requirement."},{"owner":{"account_id":21845217,"reputation":54,"user_id":16138165,"display_name":"Samriddha Bajpai"},"score":0,"creation_date":1652173990,"post_id":71911557,"comment_id":127536264,"body_markdown":"thank you everyone for your quick responses. however, please upvote my question if you can as stack overflow has limited my ask of questions.","body":"thank you everyone for your quick responses. however, please upvote my question if you can as stack overflow has limited my ask of questions."}],"answers":[{"tags":[],"owner":{"account_id":21845217,"reputation":54,"user_id":16138165,"display_name":"Samriddha Bajpai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651232160,"creation_date":1650604692,"answer_id":71963760,"question_id":71911557,"body_markdown":"I have used now Itext version 7. Where i have created the exact replica of the existing PDF using Itext table cells.\r\n\r\nWhen you are writing the generation code itself in JAVA then there is no problem in mapping the data into the same.","title":"How to modify an existing PDF file contents in Java","body":"<p>I have used now Itext version 7. Where i have created the exact replica of the existing PDF using Itext table cells.</p>\n<p>When you are writing the generation code itself in JAVA then there is no problem in mapping the data into the same.</p>\n"}],"owner":{"account_id":21845217,"reputation":54,"user_id":16138165,"display_name":"Samriddha Bajpai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71963760,"answer_count":1,"score":0,"last_activity_date":1651232160,"creation_date":1650283297,"question_id":71911557,"body_markdown":"I am using a Spring Boot application and I need to dynamically populate the blanks in an existing PDF using the values from the database. I have attached the image of the PDF for your reference.\r\n\r\nI want to know the best practice to do so. Please guide me.\r\n\r\n\r\n[Image of the PDF which I want to dynamically populate][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NfrSJ.png","title":"How to modify an existing PDF file contents in Java","body":"<p>I am using a Spring Boot application and I need to dynamically populate the blanks in an existing PDF using the values from the database. I have attached the image of the PDF for your reference.</p>\n<p>I want to know the best practice to do so. Please guide me.</p>\n<p><a href=\"https://i.stack.imgur.com/NfrSJ.png\" rel=\"nofollow noreferrer\">Image of the PDF which I want to dynamically populate</a></p>\n"},{"tags":["java","debugging","intellij-idea","gradle","breakpoints"],"comments":[{"owner":{"account_id":2228889,"reputation":1776,"user_id":1967021,"display_name":"Ivan Pronin"},"score":0,"creation_date":1491765196,"post_id":43310760,"comment_id":73686391,"body_markdown":"Have you tried different solutions from this question: http://stackoverflow.com/questions/11591662/cannot-set-java-breakpoint-in-intellij-idea?rq=1 ?","body":"Have you tried different solutions from this question: <a href=\"http://stackoverflow.com/questions/11591662/cannot-set-java-breakpoint-in-intellij-idea?rq=1\" title=\"cannot set java breakpoint in intellij idea\">stackoverflow.com/questions/11591662/&hellip;</a> ?"},{"owner":{"account_id":1032424,"reputation":530,"user_id":1040484,"accept_rate":75,"display_name":"CatalinM"},"score":0,"creation_date":1491765707,"post_id":43310760,"comment_id":73686599,"body_markdown":"Yes, without success. When I start the project I get the expected ```22:21:01: Executing external task &#39;bootRun&#39;...\n:compileJava UP-TO-DATE\n:bootRun\nListening for transport dt_socket at address: 5005```","body":"Yes, without success. When I start the project I get the expected <code>22:21:01: Executing external task &#39;bootRun&#39;... :compileJava UP-TO-DATE :bootRun Listening for transport dt_socket at address: 5005</code>"},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1543795537,"post_id":43310760,"comment_id":94035163,"body_markdown":"I&#39;m having this issue with maven failsafe. Not sure if it&#39;s because of failsafe or not.  I&#39;ll have to investigate.  Usually i use surefire, which has no such problem.","body":"I&#39;m having this issue with maven failsafe. Not sure if it&#39;s because of failsafe or not.  I&#39;ll have to investigate.  Usually i use surefire, which has no such problem."},{"owner":{"account_id":1032424,"reputation":530,"user_id":1040484,"accept_rate":75,"display_name":"CatalinM"},"score":0,"creation_date":1543822838,"post_id":43310760,"comment_id":94041856,"body_markdown":"No idea about those, but have a look at the ports your application/debugger is working on. That tipped me off about the source of the problem","body":"No idea about those, but have a look at the ports your application/debugger is working on. That tipped me off about the source of the problem"}],"answers":[{"tags":[],"owner":{"account_id":1032424,"reputation":530,"user_id":1040484,"accept_rate":75,"display_name":"CatalinM"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1491852765,"creation_date":1491852765,"answer_id":43331568,"question_id":43310760,"body_markdown":"Well... for some reason, creating a Gradle run/debug config would make it connect to the wrong port (something random over 50000) while the application was running on 8080.\r\n\r\nAnyway, long story short, creating an Application run/debug config solved the issue and everything works fine now.","title":"IntelliJ IDEA 2017.1 does not stop on breakpoints","body":"<p>Well... for some reason, creating a Gradle run/debug config would make it connect to the wrong port (something random over 50000) while the application was running on 8080.</p>\n\n<p>Anyway, long story short, creating an Application run/debug config solved the issue and everything works fine now.</p>\n"},{"tags":[],"owner":{"account_id":7491103,"reputation":171,"user_id":5710331,"display_name":"Andriy Yarish"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1495612448,"creation_date":1495612448,"answer_id":44152280,"question_id":43310760,"body_markdown":"Confirm. Problem was that I try to debug using maven run configuration. Switching to Application configuration type helps. I&#39;ve spend half of a day on it (","title":"IntelliJ IDEA 2017.1 does not stop on breakpoints","body":"<p>Confirm. Problem was that I try to debug using maven run configuration. Switching to Application configuration type helps. I've spend half of a day on it (</p>\n"},{"tags":[],"owner":{"account_id":1519017,"reputation":833,"user_id":1419261,"display_name":"user1419261"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1607803682,"creation_date":1607803682,"answer_id":65269324,"question_id":43310760,"body_markdown":"If you are calling a rest api make sure the passed in param has the same fields as the param variable as shown here  @PostMapping(&quot;/user&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; updateUserProfile(@RequestBody UserDTO userDto) {\r\n\r\nThe passed in value for UserDTO obj should have the same instance variables list in the json passed....  also object reference from repos also should be checked.","title":"IntelliJ IDEA 2017.1 does not stop on breakpoints","body":"<p>If you are calling a rest api make sure the passed in param has the same fields as the param variable as shown here  @PostMapping(&quot;/user&quot;)\npublic ResponseEntity&lt;?&gt; updateUserProfile(@RequestBody UserDTO userDto) {</p>\n<p>The passed in value for UserDTO obj should have the same instance variables list in the json passed....  also object reference from repos also should be checked.</p>\n"},{"tags":[],"owner":{"account_id":18976215,"reputation":11,"user_id":13848633,"display_name":"Abhinov Gogoi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617696603,"creation_date":1617696603,"answer_id":66964906,"question_id":43310760,"body_markdown":"I have faced this problem.\r\n\r\n1. Invalidate caches and restart\r\n2. I was using Spring Boot rest api project in intellij so all debug breakponts were getting passed/ignored. But the programm started debug process whenI hit Api using postman \r\n","title":"IntelliJ IDEA 2017.1 does not stop on breakpoints","body":"<p>I have faced this problem.</p>\n<ol>\n<li>Invalidate caches and restart</li>\n<li>I was using Spring Boot rest api project in intellij so all debug breakponts were getting passed/ignored. But the programm started debug process whenI hit Api using postman</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16843719,"reputation":4256,"user_id":12178460,"display_name":"Zstack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622312728,"creation_date":1622312728,"answer_id":67754604,"question_id":43310760,"body_markdown":"This problem happens due to different reasons and you could find some of the answers on [Intellij Community pages][1].\r\n\r\nThat being said, one of the most common reasons are build plugins. If you really don&#39;t need the build plugins you could disable them and try again:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360009272660-IntelliJ-IDE-2020-1-2-debugger-not-stopping-at-breakpoints\r\n  [2]: https://i.stack.imgur.com/tDTz9.png","title":"IntelliJ IDEA 2017.1 does not stop on breakpoints","body":"<p>This problem happens due to different reasons and you could find some of the answers on <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360009272660-IntelliJ-IDE-2020-1-2-debugger-not-stopping-at-breakpoints\" rel=\"nofollow noreferrer\">Intellij Community pages</a>.</p>\n<p>That being said, one of the most common reasons are build plugins. If you really don't need the build plugins you could disable them and try again:</p>\n<p><a href=\"https://i.stack.imgur.com/tDTz9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tDTz9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630771991,"creation_date":1630771991,"answer_id":69056998,"question_id":43310760,"body_markdown":"Although 2017.1 is long past this is the top answer for &quot;intellij debugger not stopping at breakpoint java&quot; so I&#39;ll add another tricky way to have this problem here and associated solution.\r\n\r\nAnother way to cause this is to set your gradle settings to run tests with gradle, and also have a configuration for your tests that does something like:\r\n\r\n```\r\n  doFirst {\r\n    jvmArgs = [\r\n        &#39;--add-modules&#39;, &#39;ALL-MODULE-PATH&#39;,\r\n        &#39;--add-opens&#39;, &#39;java.base/java.lang.module=ALL-UNNAMED&#39;,\r\n        &#39;--add-opens&#39;, &#39;java.base/jdk.internal.loader=ALL-UNNAMED&#39;,\r\n```\r\n\r\nThe mistake here is that this replaces ALL jvm args with the ones supplied including the args that IntelliJ passes to open the debugger port. The fix is just one character... use `+=` instead of `=` like this:\r\n\r\n```\r\n  doFirst {\r\n    jvmArgs += [\r\n        &#39;--add-modules&#39;, &#39;ALL-MODULE-PATH&#39;,\r\n        &#39;--add-opens&#39;, &#39;java.base/java.lang.module=ALL-UNNAMED&#39;,\r\n        &#39;--add-opens&#39;, &#39;java.base/jdk.internal.loader=ALL-UNNAMED&#39;,\r\n```","title":"IntelliJ IDEA 2017.1 does not stop on breakpoints","body":"<p>Although 2017.1 is long past this is the top answer for &quot;intellij debugger not stopping at breakpoint java&quot; so I'll add another tricky way to have this problem here and associated solution.</p>\n<p>Another way to cause this is to set your gradle settings to run tests with gradle, and also have a configuration for your tests that does something like:</p>\n<pre><code>  doFirst {\n    jvmArgs = [\n        '--add-modules', 'ALL-MODULE-PATH',\n        '--add-opens', 'java.base/java.lang.module=ALL-UNNAMED',\n        '--add-opens', 'java.base/jdk.internal.loader=ALL-UNNAMED',\n</code></pre>\n<p>The mistake here is that this replaces ALL jvm args with the ones supplied including the args that IntelliJ passes to open the debugger port. The fix is just one character... use <code>+=</code> instead of <code>=</code> like this:</p>\n<pre><code>  doFirst {\n    jvmArgs += [\n        '--add-modules', 'ALL-MODULE-PATH',\n        '--add-opens', 'java.base/java.lang.module=ALL-UNNAMED',\n        '--add-opens', 'java.base/jdk.internal.loader=ALL-UNNAMED',\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13634501,"reputation":22293,"user_id":9835872,"display_name":"ruohola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651231781,"creation_date":1651139912,"answer_id":72041674,"question_id":43310760,"body_markdown":"The problem for me was that I was using `bootrun` as the command in Intellij&#39;s Gradle run config, instead of `bootRun`. Weirdly the application did start with the former, but it would not stop on any breakpoints. After switching to `bootRun`, breakpoints immediately started working.","title":"IntelliJ IDEA 2017.1 does not stop on breakpoints","body":"<p>The problem for me was that I was using <code>bootrun</code> as the command in Intellij's Gradle run config, instead of <code>bootRun</code>. Weirdly the application did start with the former, but it would not stop on any breakpoints. After switching to <code>bootRun</code>, breakpoints immediately started working.</p>\n"}],"owner":{"account_id":1032424,"reputation":530,"user_id":1040484,"accept_rate":75,"display_name":"CatalinM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20219,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":43331568,"answer_count":7,"score":15,"last_activity_date":1651231781,"creation_date":1491764939,"question_id":43310760,"body_markdown":"I have an old Gradle project that I&#39;ve opened recently using the new IDEA 2017 and I have just noticed it will not stop on breakpoints anymore (these are active, but not &quot;validated&quot; - no checkmark on them.\r\n\r\nThe code is run locally (a gradle run/debug config without any options) with `bootRun` as the gradle task.\r\n\r\nI have tried an Invalidate Caches/Restart without any success. I have also tried re-importing the project in IDEA.\r\n\r\nA while back I had the same issue after upgrading to Spring 1.4.5 (if I remember correctly). I couldn&#39;t figure out why, so I downgraded back to 1.4.2 and everything worked fine. However, this time I&#39;m running Spring 1.2.4 and I cannot upgrade to a newer version without changing some code (and I don&#39;t want that yet)","title":"IntelliJ IDEA 2017.1 does not stop on breakpoints","body":"<p>I have an old Gradle project that I've opened recently using the new IDEA 2017 and I have just noticed it will not stop on breakpoints anymore (these are active, but not \"validated\" - no checkmark on them.</p>\n\n<p>The code is run locally (a gradle run/debug config without any options) with <code>bootRun</code> as the gradle task.</p>\n\n<p>I have tried an Invalidate Caches/Restart without any success. I have also tried re-importing the project in IDEA.</p>\n\n<p>A while back I had the same issue after upgrading to Spring 1.4.5 (if I remember correctly). I couldn't figure out why, so I downgraded back to 1.4.2 and everything worked fine. However, this time I'm running Spring 1.2.4 and I cannot upgrade to a newer version without changing some code (and I don't want that yet)</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1651231077,"post_id":72057019,"comment_id":127320386,"body_markdown":"Do you want to use this &#39;logic&#39; in your application.properties/application.yml file?","body":"Do you want to use this &#39;logic&#39; in your application.properties/application.yml file?"},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1651231288,"post_id":72057019,"comment_id":127320461,"body_markdown":"@Mevl&#252;t&#214;zdemir, yes","body":"@Mevl&#252;t&#214;zdemir, yes"},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1651232312,"post_id":72057019,"comment_id":127320796,"body_markdown":"In `test2: ${TEST+1:2} ` if value of `TEST` env var is 5, you want `test2` property value to be 6 i.e. 5 + 1?","body":"In <code>test2: ${TEST+1:2} </code> if value of <code>TEST</code> env var is 5, you want <code>test2</code> property value to be 6 i.e. 5 + 1?"},{"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"score":0,"creation_date":1651232731,"post_id":72057019,"comment_id":127320960,"body_markdown":"@Smile, yes, but automatically, without touching it in the code","body":"@Smile, yes, but automatically, without touching it in the code"}],"answers":[{"tags":[],"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651231171,"creation_date":1651231171,"answer_id":72057140,"question_id":72057019,"body_markdown":"There&#39;s System.getEnv from the Java Standart Library to get Env Variables. ","title":"Spring environment variable values computing","body":"<p>There's System.getEnv from the Java Standart Library to get Env Variables.</p>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651231629,"creation_date":1651230672,"question_id":72057019,"body_markdown":"Can I somehow use environment variable to set a properties value, but using computing, something like this:\r\n```\r\ntest2: ${TEST+1:2} \r\ntest: ${TEST:1}\r\n```\r\nAs you can see the default values are `1` and `2` and I want the same if it&#39;s being set from environment variable. I want to do this in my `application.properties/application.yml` file, not in code.","title":"Spring environment variable values computing","body":"<p>Can I somehow use environment variable to set a properties value, but using computing, something like this:</p>\n<pre><code>test2: ${TEST+1:2} \ntest: ${TEST:1}\n</code></pre>\n<p>As you can see the default values are <code>1</code> and <code>2</code> and I want the same if it's being set from environment variable. I want to do this in my <code>application.properties/application.yml</code> file, not in code.</p>\n"},{"tags":["java","spring","validation","httpresponse"],"comments":[{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1651224616,"post_id":72053103,"comment_id":127318350,"body_markdown":"&quot;Validate the **returned output** data&quot; sounds like a nonsense. &quot;Validation&quot; is typically related to **input**. Normally your endpoint calls your internal service and this service is responsible for returning the correct data. If you just whish to ensure that the `SomeDTO` object is consistent, create it via a builder and modify accordingly its `build()` method.","body":"&quot;Validate the <b>returned output</b> data&quot; sounds like a nonsense. &quot;Validation&quot; is typically related to <b>input</b>. Normally your endpoint calls your internal service and this service is responsible for returning the correct data. If you just whish to ensure that the <code>SomeDTO</code> object is consistent, create it via a builder and modify accordingly its <code>build()</code> method."},{"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"score":0,"creation_date":1651315244,"post_id":72053103,"comment_id":127338724,"body_markdown":"I have a fairly complex code generating immutable response. It does involve also some external input, which I do not validate. I would like to check for any problems (invalid input data || bug in data processing) and check output of my processing code. I would like to keep business code as simple and readable, as possible and any checks put somewhere aside.","body":"I have a fairly complex code generating immutable response. It does involve also some external input, which I do not validate. I would like to check for any problems (invalid input data || bug in data processing) and check output of my processing code. I would like to keep business code as simple and readable, as possible and any checks put somewhere aside."}],"answers":[{"tags":[],"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651230888,"creation_date":1651230888,"answer_id":72057066,"question_id":72053103,"body_markdown":"If it should have default values whenever it&#39;s null, then I would prefer to do it in the object itself, like:\r\n\r\n    @GetMapping(value = &quot;/somethingEndpoint&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public SomeDTO getSomething(HttpServletRequest request) throws IOException, InterruptedException {\r\n        final String baseUrl = ServletUriComponentsBuilder.fromRequestUri(request)\r\n                .replacePath(null)\r\n            .build()\r\n            .toUriString();\r\n        return new SomeDTO(&quot;user accessed at &quot; + baseUrl, null, Collections.emptyList())\r\n                   .handleNullValues();\r\n    }\r\n\r\n    public record SomeDTO(String nameOfUser, String lastAccessedInfo, List&lt;SomeDTO&gt; recursiveIsFun) {\r\n        public SomeDTO handleNullValues(){\r\n          if(lastAccessedInfo == null){\r\n             lastAccessedInfo = &quot;default value&quot;;\r\n          }\r\n\r\n          return this;\r\n        }\r\n    }","title":"Spring framework validate response data","body":"<p>If it should have default values whenever it's null, then I would prefer to do it in the object itself, like:</p>\n<pre><code>@GetMapping(value = &quot;/somethingEndpoint&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic SomeDTO getSomething(HttpServletRequest request) throws IOException, InterruptedException {\n    final String baseUrl = ServletUriComponentsBuilder.fromRequestUri(request)\n            .replacePath(null)\n        .build()\n        .toUriString();\n    return new SomeDTO(&quot;user accessed at &quot; + baseUrl, null, Collections.emptyList())\n               .handleNullValues();\n}\n\npublic record SomeDTO(String nameOfUser, String lastAccessedInfo, List&lt;SomeDTO&gt; recursiveIsFun) {\n    public SomeDTO handleNullValues(){\n      if(lastAccessedInfo == null){\n         lastAccessedInfo = &quot;default value&quot;;\n      }\n\n      return this;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72057066,"answer_count":1,"score":0,"last_activity_date":1651230888,"creation_date":1651209093,"question_id":72053103,"body_markdown":"I have custom simple endpoint that returns some object (record in my case). I would like to validate correctness of returned output data (i.e., output DTO does have all fields set to non null values for example).\r\n\r\nWhere is the best place to perform such a validation?\r\nIs it possible to correct returned values in validator (i.e. changing value null for field &quot;last access of resource&quot; to &quot;Resource was not accessed yet&quot; for example)\r\n\r\nSample illustrative code:\r\n\r\n    public record SomeDTO(String nameOfUser, String lastAccessedInfo, List&lt;SomeDTO&gt; recursiveIsFun) {\r\n    }\r\n    \r\n    @GetMapping(value = &quot;/somethingEndpoint&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public SomeDTO getSomething(HttpServletRequest request) throws IOException, InterruptedException {\r\n        final String baseUrl = ServletUriComponentsBuilder.fromRequestUri(request)\r\n                .replacePath(null)\r\n                .build()\r\n                .toUriString();\r\n        return new SomeDTO(&quot;user accessed at &quot; + baseUrl, null, Collections.emptyList());\r\n    }","title":"Spring framework validate response data","body":"<p>I have custom simple endpoint that returns some object (record in my case). I would like to validate correctness of returned output data (i.e., output DTO does have all fields set to non null values for example).</p>\n<p>Where is the best place to perform such a validation?\nIs it possible to correct returned values in validator (i.e. changing value null for field &quot;last access of resource&quot; to &quot;Resource was not accessed yet&quot; for example)</p>\n<p>Sample illustrative code:</p>\n<pre><code>public record SomeDTO(String nameOfUser, String lastAccessedInfo, List&lt;SomeDTO&gt; recursiveIsFun) {\n}\n\n@GetMapping(value = &quot;/somethingEndpoint&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic SomeDTO getSomething(HttpServletRequest request) throws IOException, InterruptedException {\n    final String baseUrl = ServletUriComponentsBuilder.fromRequestUri(request)\n            .replacePath(null)\n            .build()\n            .toUriString();\n    return new SomeDTO(&quot;user accessed at &quot; + baseUrl, null, Collections.emptyList());\n}\n</code></pre>\n"},{"tags":["java","docker","ucanaccess","jaydebeapi"],"answers":[{"tags":[],"owner":{"account_id":16241802,"reputation":147,"user_id":11727912,"display_name":"average.everyman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651230809,"creation_date":1651230809,"answer_id":72057047,"question_id":71941073,"body_markdown":"What seemed to have fixed the problem was installing `sudo` in the docker image:\r\n```\r\nRUN apt-get install -y sudo\r\n```\r\n\r\nStrange, since I was executing `docker exec` as root already ... (?)","title":"python script error in docker detached mode, but executes correctly in docker attached mode","body":"<p>What seemed to have fixed the problem was installing <code>sudo</code> in the docker image:</p>\n<pre><code>RUN apt-get install -y sudo\n</code></pre>\n<p>Strange, since I was executing <code>docker exec</code> as root already ... (?)</p>\n"}],"owner":{"account_id":16241802,"reputation":147,"user_id":11727912,"display_name":"average.everyman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72057047,"answer_count":1,"score":0,"last_activity_date":1651230809,"creation_date":1650463267,"question_id":71941073,"body_markdown":"I am using [JayDeBeAPI][1] and [UCanAccess][2] to extract data from MS Access `.mdb` files (as per [this advice][3]). My python script runs in docker debian container (`FROM python:3.9-slim`) and everything is OK if it runs in the &quot;attached mode&quot;, but if I run the container in the &quot;detached mode&quot; and try to execute the script, I get this error: \r\n\r\n```\r\njdbc.UcanaccessSQLException: UCAExc:::5.0.1 user lacks privilege or object not found: EXPORT in statement [SELECT * from export]&quot;\r\n...\r\n```\r\n\r\nHow to make the script executing in the docker detached mode? What could be wrong?\r\n\r\n\r\n  [1]: https://pypi.org/project/JayDeBeApi/\r\n  [2]: https://sourceforge.net/projects/ucanaccess/\r\n  [3]: https://stackoverflow.com/a/25614063/11727912","title":"python script error in docker detached mode, but executes correctly in docker attached mode","body":"<p>I am using <a href=\"https://pypi.org/project/JayDeBeApi/\" rel=\"nofollow noreferrer\">JayDeBeAPI</a> and <a href=\"https://sourceforge.net/projects/ucanaccess/\" rel=\"nofollow noreferrer\">UCanAccess</a> to extract data from MS Access <code>.mdb</code> files (as per <a href=\"https://stackoverflow.com/a/25614063/11727912\">this advice</a>). My python script runs in docker debian container (<code>FROM python:3.9-slim</code>) and everything is OK if it runs in the &quot;attached mode&quot;, but if I run the container in the &quot;detached mode&quot; and try to execute the script, I get this error:</p>\n<pre><code>jdbc.UcanaccessSQLException: UCAExc:::5.0.1 user lacks privilege or object not found: EXPORT in statement [SELECT * from export]&quot;\n...\n</code></pre>\n<p>How to make the script executing in the docker detached mode? What could be wrong?</p>\n"},{"tags":["java","spring-boot","hibernate","liquibase","liquibase-hibernate"],"comments":[{"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"score":0,"creation_date":1652203227,"post_id":72057021,"comment_id":127548189,"body_markdown":"The answer on [this previous post](https://stackoverflow.com/questions/41990213/hibernate5-hhh000181-no-appropriate-connection-provider-encountered-assuming-a) may work to resolve the first error for you.\n\nHowever, it would be better to make separate posts for each individual error.","body":"The answer on <a href=\"https://stackoverflow.com/questions/41990213/hibernate5-hhh000181-no-appropriate-connection-provider-encountered-assuming-a\">this previous post</a> may work to resolve the first error for you.  However, it would be better to make separate posts for each individual error."},{"owner":{"account_id":9558533,"reputation":126,"user_id":7100210,"display_name":"Juan"},"score":0,"creation_date":1652933431,"post_id":72057021,"comment_id":127728819,"body_markdown":"Did you solve it? If you did, could you post the solution please?","body":"Did you solve it? If you did, could you post the solution please?"},{"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"score":1,"creation_date":1652980873,"post_id":72057021,"comment_id":127745211,"body_markdown":"I found another post on the liquibase forums: https://forum.liquibase.org/t/error-when-running-diff-with-spring-boot-and-postgres/5284\nsays &quot;it would always throw this error when running the diff command for generating migrations for new tables.&quot; as the accepted answer.","body":"I found another post on the liquibase forums: <a href=\"https://forum.liquibase.org/t/error-when-running-diff-with-spring-boot-and-postgres/5284\" rel=\"nofollow noreferrer\">forum.liquibase.org/t/&hellip;</a> says &quot;it would always throw this error when running the diff command for generating migrations for new tables.&quot; as the accepted answer."},{"owner":{"account_id":17302935,"reputation":169,"user_id":12532291,"display_name":"Vignesh Ravichandran"},"score":1,"creation_date":1653311918,"post_id":72057021,"comment_id":127813910,"body_markdown":"okay., I&#39;ll check out that one @tabbyfoo","body":"okay., I&#39;ll check out that one @tabbyfoo"},{"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"score":0,"creation_date":1662478575,"post_id":72057021,"comment_id":130012430,"body_markdown":"I am also getting this error.","body":"I am also getting this error."},{"owner":{"account_id":17302935,"reputation":169,"user_id":12532291,"display_name":"Vignesh Ravichandran"},"score":0,"creation_date":1662618958,"post_id":72057021,"comment_id":130048319,"body_markdown":"Yeah, for this one, I too haven&#39;t found a solution yet","body":"Yeah, for this one, I too haven&#39;t found a solution yet"},{"owner":{"account_id":7738097,"reputation":336,"user_id":5858995,"display_name":"Dzeri96"},"score":0,"creation_date":1676904013,"post_id":72057021,"comment_id":133225991,"body_markdown":"Relevant github issue for this problem: https://github.com/liquibase/liquibase-hibernate/issues/381","body":"Relevant github issue for this problem: <a href=\"https://github.com/liquibase/liquibase-hibernate/issues/381\" rel=\"nofollow noreferrer\">github.com/liquibase/liquibase-hibernate/issues/381</a>"}],"owner":{"account_id":17302935,"reputation":169,"user_id":12532291,"display_name":"Vignesh Ravichandran"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2050,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1651230699,"creation_date":1651230699,"question_id":72057021,"body_markdown":"I am trying to generate changelog based on DB and Entity class\r\n\r\nMy Liquibase properties file is as follows\r\n\r\n    `url=jdbc:h2:mem:testdb\r\n    changeLogFile=classpath:/db/changelog/liquibase-changelog.xml\r\n    username=sa\r\n    password=password\r\n    driver=org.h2.Driver\r\n    diffChangeLogFile=src/main/resources/liquibase-outputChangeLog1.sql\r\n    referenceUrl=hibernate:spring:com.weatherApi.cityData.City?dialect=org.hibernate.dialect.H2Dialect\r\n    `\r\n\r\nwhen I execute \r\n\r\n&gt; `mvn liquibase:diff`\r\n\r\n., the build is succeeded but the changelog generated is empty\r\n\r\nit throws this error\r\n\r\n&gt; [WARNING] HHH000181: No appropriate connection provider encountered,\r\n&gt; assuming application will be supplying connections [WARNING]\r\n&gt; HHH000342: Could not obtain connection to query metadata\r\n&gt; java.lang.UnsupportedOperationException: The application must supply\r\n&gt; JDBC connections\r\n\r\nI also use this dependency liquibase-hibernate5\r\n\r\n         &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"Hibernate- Liquibase throwing exception : java.lang.UnsupportedOperationException: The application must supply JDBC connections","body":"<p>I am trying to generate changelog based on DB and Entity class</p>\n<p>My Liquibase properties file is as follows</p>\n<pre><code>`url=jdbc:h2:mem:testdb\nchangeLogFile=classpath:/db/changelog/liquibase-changelog.xml\nusername=sa\npassword=password\ndriver=org.h2.Driver\ndiffChangeLogFile=src/main/resources/liquibase-outputChangeLog1.sql\nreferenceUrl=hibernate:spring:com.weatherApi.cityData.City?dialect=org.hibernate.dialect.H2Dialect\n`\n</code></pre>\n<p>when I execute</p>\n<blockquote>\n<p><code>mvn liquibase:diff</code></p>\n</blockquote>\n<p>., the build is succeeded but the changelog generated is empty</p>\n<p>it throws this error</p>\n<blockquote>\n<p>[WARNING] HHH000181: No appropriate connection provider encountered,\nassuming application will be supplying connections [WARNING]\nHHH000342: Could not obtain connection to query metadata\njava.lang.UnsupportedOperationException: The application must supply\nJDBC connections</p>\n</blockquote>\n<p>I also use this dependency liquibase-hibernate5</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651230516,"creation_date":1651230516,"answer_id":72056988,"question_id":72051833,"body_markdown":"when you create `contributor` using \r\n\r\n`Contributor contributor = new Contributor();`\r\n\r\nit will have `null` as value of `modifiedByUser` and `modifiedDatetime` (unless constructor sets those fields) so persisting that object saves those nulls to db\r\n\r\nmaybe simply marking those fields `not null` in Entity and database will work\r\n\r\nbut I think better aproach is setting default values in aplication (for example in constructor) , instead database","title":"DB default column value null while saving with Spring Data JPA","body":"<p>when you create <code>contributor</code> using</p>\n<p><code>Contributor contributor = new Contributor();</code></p>\n<p>it will have <code>null</code> as value of <code>modifiedByUser</code> and <code>modifiedDatetime</code> (unless constructor sets those fields) so persisting that object saves those nulls to db</p>\n<p>maybe simply marking those fields <code>not null</code> in Entity and database will work</p>\n<p>but I think better aproach is setting default values in aplication (for example in constructor) , instead database</p>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1494,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651230516,"creation_date":1651195444,"question_id":72051833,"body_markdown":"I have a JPA entity with the following fields:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;modified_by_user_id&quot;)\r\n    private User modifiedByUser;\r\n\r\n    @Convert(converter = LocalDatetimeAttributeConverter.class)\r\n    private LocalDateTime modifiedDatetime;\r\n\r\n&quot;modified_by_user_id&quot; and &quot;modified_datetime&quot; columns have a default value in the DB. If I do a manual insert into, the columns will get their default values without being explicitly specified.\r\n\r\nHowever, while saving the entity with Spring Data JPA, the default values is not being calculated and it shows null in the DB\r\n\r\n        Contributor contributor = new Contributor();\r\n        contributor.setName(&quot;a&quot;);\r\n        contributorRepository.save(contributor);\r\n\r\nWhy is not the default values being calculated when I save the entity with Spring Data JPA?","title":"DB default column value null while saving with Spring Data JPA","body":"<p>I have a JPA entity with the following fields:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;modified_by_user_id&quot;)\nprivate User modifiedByUser;\n\n@Convert(converter = LocalDatetimeAttributeConverter.class)\nprivate LocalDateTime modifiedDatetime;\n</code></pre>\n<p>&quot;modified_by_user_id&quot; and &quot;modified_datetime&quot; columns have a default value in the DB. If I do a manual insert into, the columns will get their default values without being explicitly specified.</p>\n<p>However, while saving the entity with Spring Data JPA, the default values is not being calculated and it shows null in the DB</p>\n<pre><code>    Contributor contributor = new Contributor();\n    contributor.setName(&quot;a&quot;);\n    contributorRepository.save(contributor);\n</code></pre>\n<p>Why is not the default values being calculated when I save the entity with Spring Data JPA?</p>\n"},{"tags":["java","swing","graphics"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1642154611,"post_id":70708858,"comment_id":125000844,"body_markdown":"Put relevant code in the question.","body":"Put relevant code in the question."},{"owner":{"account_id":21419874,"reputation":19,"user_id":15778393,"display_name":"123wa"},"score":0,"creation_date":1642155652,"post_id":70708858,"comment_id":125001176,"body_markdown":"@JustanotherJavaprogrammer The code referring to my issue is in the hyperlink attached at the end of the message","body":"@JustanotherJavaprogrammer The code referring to my issue is in the hyperlink attached at the end of the message"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1642155736,"post_id":70708858,"comment_id":125001201,"body_markdown":"That&#39;s the problem. Include the code in the question.","body":"That&#39;s the problem. Include the code in the question."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1642159227,"post_id":70708858,"comment_id":125002406,"body_markdown":"Override paintComponent instead of paint. paint is the old AWT way.","body":"Override paintComponent instead of paint. paint is the old AWT way."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1642170995,"post_id":70708858,"comment_id":125006758,"body_markdown":"Swing is double buffered by default so there is no need to explicitly set it for each panel.","body":"Swing is double buffered by default so there is no need to explicitly set it for each panel."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642161403,"creation_date":1642160368,"answer_id":70710031,"question_id":70708858,"body_markdown":"So yes, a JLayeredPane would allow easy overlap of Swing components such as JPanels, and there are also layouts others have created that allow this, one called &quot;overlay layout&quot;, but that&#39;s not what you want to for your currently stated problem.\r\n\r\nYours is an [XY Problem](http://xyproblem.info/) type question where you ask &quot;how do I solve X problem&quot; when the best solution is not to solve it in this way, but rather to do Y, something completely different. Here, to paint multiple different images, your best solution is *not* to create and overlap heavier-weight Swing components such as JPanels, but rather to draw in one single JPanel and overlap sprite images. Otherwise you&#39;re just making things unnecessarily harder for yourself and your code than is needed.\r\n\r\nFor example:\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Rectangle;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Example2 extends JPanel {\r\n\tprivate static final int MY_WIDTH = 1600;\r\n\tprivate static final int MY_HEIGHT = 720;\r\n\tList&lt;Rectangle&gt; rectangles = new ArrayList&lt;&gt;();\r\n\r\n\tpublic Example2() {\r\n\t\tsetPreferredSize(new Dimension(MY_WIDTH, MY_HEIGHT));\r\n\t\tsetBackground(Color.WHITE);\r\n\t\t\r\n\t\trectangles.add(new Rectangle(0, 0, 200, 200));\r\n\t\trectangles.add(new Rectangle(0, 80 + MY_HEIGHT / 2, 200, 200));\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\tfor (Rectangle rectangle : rectangles) {\r\n\t\t\tg2.fill(rectangle);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tExample2 example = new Example2();\r\n\t\t\t\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(example);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nAnd yes, as suggested in comments, override `paintComponent`, *not* `paint`. This reduces the risk of unwanted side effects that might come from painting child components or borders, and also allows for automatic double-buffering for when you do animation. \r\n\r\nAlso, a `while (true)` loop is not a healthy construct within an event-driven GUI program, not as you&#39;ve written it. If you need repeated actions in a Swing program (which you don&#39;t in your example, not yet), use a [Swing Timer](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) instead.\r\n\r\nSo doing this this way gives you good flexibility. For instance, if you wanted to modify the above program to allow addition of shapes on mouse click, it would be easy to do so:\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Point;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.Shape;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Example3 extends JPanel {\r\n\tprivate static final int MY_WIDTH = 1600;\r\n\tprivate static final int MY_HEIGHT = 720;\r\n\tList&lt;ColorShape&gt; colorShapes = new ArrayList&lt;&gt;();\r\n\r\n\tpublic Example3() {\r\n\t\tsetPreferredSize(new Dimension(MY_WIDTH, MY_HEIGHT));\r\n\t\tsetBackground(Color.WHITE);\r\n\t\t\r\n\t\taddMouseListener(new MyMouse());\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\tfor (ColorShape colorShape : colorShapes) {\r\n\t\t\tcolorShape.draw(g2);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate class MyMouse extends MouseAdapter {\r\n\t\t@Override\r\n\t\tpublic void mousePressed(MouseEvent e) {\r\n            // create a random color\r\n\t\t\tfloat hue = (float) Math.random();\r\n\t\t\tfloat saturation = 1f;\r\n\t\t\tfloat brightness = (float) (0.5 * Math.random() + 0.5);\r\n\t\t\tColor color = Color.getHSBColor(hue, saturation, brightness);\r\n\r\n            // create a new ColorShape, add to list, and repaint:\r\n\t\t\tcolorShapes.add(new ColorShape(e.getPoint(), color));\r\n\t\t\trepaint();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tExample3 example = new Example3();\r\n\t\t\t\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(example);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nclass ColorShape {\r\n\tprivate int width = 80;\r\n\tprivate Point location;\r\n\tprivate Color color;\r\n\tprivate Shape shape;\r\n\r\n\tpublic ColorShape(Point location, Color color) {\r\n\t\tthis.location = location;\r\n\t\tthis.color = color;\r\n\t\tint x = location.x - width / 2;\r\n\t\tint y = location.y - width / 2;\r\n\t\tshape = new Ellipse2D.Double(x, y, width, width);\r\n\t}\r\n\t\r\n\tpublic void draw(Graphics2D g2) {\r\n\t\tg2.setColor(color);\r\n\t\tg2.fill(shape);\r\n\t}\r\n\t\r\n\tpublic Point getLocation() {\r\n\t\treturn location;\r\n\t}\r\n}\r\n```","title":"How to Overlap Panels in Swing?","body":"<p>So yes, a JLayeredPane would allow easy overlap of Swing components such as JPanels, and there are also layouts others have created that allow this, one called &quot;overlay layout&quot;, but that's not what you want to for your currently stated problem.</p>\n<p>Yours is an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a> type question where you ask &quot;how do I solve X problem&quot; when the best solution is not to solve it in this way, but rather to do Y, something completely different. Here, to paint multiple different images, your best solution is <em>not</em> to create and overlap heavier-weight Swing components such as JPanels, but rather to draw in one single JPanel and overlap sprite images. Otherwise you're just making things unnecessarily harder for yourself and your code than is needed.</p>\n<p>For example:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Example2 extends JPanel {\n    private static final int MY_WIDTH = 1600;\n    private static final int MY_HEIGHT = 720;\n    List&lt;Rectangle&gt; rectangles = new ArrayList&lt;&gt;();\n\n    public Example2() {\n        setPreferredSize(new Dimension(MY_WIDTH, MY_HEIGHT));\n        setBackground(Color.WHITE);\n        \n        rectangles.add(new Rectangle(0, 0, 200, 200));\n        rectangles.add(new Rectangle(0, 80 + MY_HEIGHT / 2, 200, 200));\n    }\n    \n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        for (Rectangle rectangle : rectangles) {\n            g2.fill(rectangle);\n        }\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            Example2 example = new Example2();\n            \n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(example);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>And yes, as suggested in comments, override <code>paintComponent</code>, <em>not</em> <code>paint</code>. This reduces the risk of unwanted side effects that might come from painting child components or borders, and also allows for automatic double-buffering for when you do animation.</p>\n<p>Also, a <code>while (true)</code> loop is not a healthy construct within an event-driven GUI program, not as you've written it. If you need repeated actions in a Swing program (which you don't in your example, not yet), use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a> instead.</p>\n<p>So doing this this way gives you good flexibility. For instance, if you wanted to modify the above program to allow addition of shapes on mouse click, it would be easy to do so:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.RenderingHints;\nimport java.awt.Shape;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Ellipse2D;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Example3 extends JPanel {\n    private static final int MY_WIDTH = 1600;\n    private static final int MY_HEIGHT = 720;\n    List&lt;ColorShape&gt; colorShapes = new ArrayList&lt;&gt;();\n\n    public Example3() {\n        setPreferredSize(new Dimension(MY_WIDTH, MY_HEIGHT));\n        setBackground(Color.WHITE);\n        \n        addMouseListener(new MyMouse());\n    }\n    \n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        for (ColorShape colorShape : colorShapes) {\n            colorShape.draw(g2);\n        }\n    }\n    \n    private class MyMouse extends MouseAdapter {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            // create a random color\n            float hue = (float) Math.random();\n            float saturation = 1f;\n            float brightness = (float) (0.5 * Math.random() + 0.5);\n            Color color = Color.getHSBColor(hue, saturation, brightness);\n\n            // create a new ColorShape, add to list, and repaint:\n            colorShapes.add(new ColorShape(e.getPoint(), color));\n            repaint();\n        }\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            Example3 example = new Example3();\n            \n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(example);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<pre><code>class ColorShape {\n    private int width = 80;\n    private Point location;\n    private Color color;\n    private Shape shape;\n\n    public ColorShape(Point location, Color color) {\n        this.location = location;\n        this.color = color;\n        int x = location.x - width / 2;\n        int y = location.y - width / 2;\n        shape = new Ellipse2D.Double(x, y, width, width);\n    }\n    \n    public void draw(Graphics2D g2) {\n        g2.setColor(color);\n        g2.fill(shape);\n    }\n    \n    public Point getLocation() {\n        return location;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651230424,"creation_date":1642161941,"answer_id":70710315,"question_id":70708858,"body_markdown":"The last two parameteres in `setBounds(int x,int y, int width, int height)` are the width and height of your panel. In your case, these are the dimensions of your rectangle , thus you should set them to `200`, as below:\r\n```java\r\noverlappingPanel1.setBounds(0,0,200,200);\r\noverlappingPanel2.setBounds(0,720/2,200,200);\r\n```\r\n\r\nAlso, remove `setPreferredSize(new Dimension(1920,720));` in the `OverlappingPanel1` and `OverlappingPanel2` classes, as they are not needed.\r\n","title":"How to Overlap Panels in Swing?","body":"<p>The last two parameteres in <code>setBounds(int x,int y, int width, int height)</code> are the width and height of your panel. In your case, these are the dimensions of your rectangle , thus you should set them to <code>200</code>, as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>overlappingPanel1.setBounds(0,0,200,200);\noverlappingPanel2.setBounds(0,720/2,200,200);\n</code></pre>\n<p>Also, remove <code>setPreferredSize(new Dimension(1920,720));</code> in the <code>OverlappingPanel1</code> and <code>OverlappingPanel2</code> classes, as they are not needed.</p>\n"}],"owner":{"account_id":21419874,"reputation":19,"user_id":15778393,"display_name":"123wa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651230424,"creation_date":1642154511,"question_id":70708858,"body_markdown":"I am attempting to have multiple `JPanel`s that can &quot;overlap&quot;, also allowing me to perform custom painting.\r\n\r\nFor this I am using a `MainPanel`, which extends `JLayeredPane`, and from what I can see, I have set bounds and index correctly.\r\n\r\nThe expected result, would be two rectangles painting at the same time to the screen.\r\n\r\nThe result I get, is flickering on one of the two `OverlappingPanel`s, which I assume is from the `RepaintManager` fighting on which panel to draw ([Found this here][1]).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20834522/15778393\r\n\r\nMy question is, How can I properly overlap panels and retain painting capabilties, using Swing?\r\n\r\nEDIT:\r\n\r\nCode in question:\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Example extends JFrame {\r\n    public static class MainPanel extends JLayeredPane implements Runnable {\r\n        public OverlappingPanel1 overlappingPanel1;\r\n        public OverlappingPanel2 overlappingPanel2;\r\n\r\n        Thread mainThread;\r\n\r\n        public void startMainThread() {\r\n            mainThread = new Thread(this);\r\n            mainThread.start();\r\n        }\r\n\r\n        public MainPanel() {\r\n            this.setPreferredSize(new Dimension(1920,720));\r\n            this.setBackground(Color.BLACK);\r\n            this.setDoubleBuffered(true);\r\n\r\n            overlappingPanel1 = new OverlappingPanel1();\r\n            overlappingPanel2 = new OverlappingPanel2();\r\n\r\n            overlappingPanel1.setBounds(0,0,1920,720);\r\n            overlappingPanel2.setBounds(0,720/2,1920,720);\r\n\r\n            add(overlappingPanel1,1);\r\n            add(overlappingPanel2,2);\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            while(mainThread != null) {\r\n                overlappingPanel1.repaint();\r\n                overlappingPanel2.repaint();\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class OverlappingPanel1 extends JPanel {\r\n        public OverlappingPanel1() {\r\n            setDoubleBuffered(true);\r\n            setPreferredSize(new Dimension(1920,720));\r\n        }\r\n\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            Graphics2D graphics2D = (Graphics2D) g;\r\n\r\n            graphics2D.fillRect(0,0,200,200);\r\n        }\r\n    }\r\n\r\n    public static class OverlappingPanel2 extends JPanel {\r\n        public OverlappingPanel2() {\r\n            setDoubleBuffered(true);\r\n            setPreferredSize(new Dimension(1920,720));\r\n        }\r\n\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            Graphics2D graphics2D = (Graphics2D) g;\r\n\r\n            graphics2D.fillRect(0,80,200,200);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        JFrame window = new JFrame();\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        window.setResizable(false);\r\n\r\n        MainPanel mainPanel = new MainPanel();\r\n        window.add(mainPanel);\r\n        window.setBackground(Color.BLACK);\r\n        window.pack();\r\n\r\n        window.setLocationRelativeTo(null);\r\n        window.setVisible(true);\r\n\r\n        mainPanel.startMainThread();\r\n    }\r\n}\r\n```","title":"How to Overlap Panels in Swing?","body":"<p>I am attempting to have multiple <code>JPanel</code>s that can &quot;overlap&quot;, also allowing me to perform custom painting.</p>\n<p>For this I am using a <code>MainPanel</code>, which extends <code>JLayeredPane</code>, and from what I can see, I have set bounds and index correctly.</p>\n<p>The expected result, would be two rectangles painting at the same time to the screen.</p>\n<p>The result I get, is flickering on one of the two <code>OverlappingPanel</code>s, which I assume is from the <code>RepaintManager</code> fighting on which panel to draw (<a href=\"https://stackoverflow.com/a/20834522/15778393\">Found this here</a>).</p>\n<p>My question is, How can I properly overlap panels and retain painting capabilties, using Swing?</p>\n<p>EDIT:</p>\n<p>Code in question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Example extends JFrame {\n    public static class MainPanel extends JLayeredPane implements Runnable {\n        public OverlappingPanel1 overlappingPanel1;\n        public OverlappingPanel2 overlappingPanel2;\n\n        Thread mainThread;\n\n        public void startMainThread() {\n            mainThread = new Thread(this);\n            mainThread.start();\n        }\n\n        public MainPanel() {\n            this.setPreferredSize(new Dimension(1920,720));\n            this.setBackground(Color.BLACK);\n            this.setDoubleBuffered(true);\n\n            overlappingPanel1 = new OverlappingPanel1();\n            overlappingPanel2 = new OverlappingPanel2();\n\n            overlappingPanel1.setBounds(0,0,1920,720);\n            overlappingPanel2.setBounds(0,720/2,1920,720);\n\n            add(overlappingPanel1,1);\n            add(overlappingPanel2,2);\n        }\n\n        @Override\n        public void run() {\n            while(mainThread != null) {\n                overlappingPanel1.repaint();\n                overlappingPanel2.repaint();\n            }\n        }\n    }\n\n    public static class OverlappingPanel1 extends JPanel {\n        public OverlappingPanel1() {\n            setDoubleBuffered(true);\n            setPreferredSize(new Dimension(1920,720));\n        }\n\n        public void paint(Graphics g) {\n            super.paint(g);\n            Graphics2D graphics2D = (Graphics2D) g;\n\n            graphics2D.fillRect(0,0,200,200);\n        }\n    }\n\n    public static class OverlappingPanel2 extends JPanel {\n        public OverlappingPanel2() {\n            setDoubleBuffered(true);\n            setPreferredSize(new Dimension(1920,720));\n        }\n\n        public void paint(Graphics g) {\n            super.paint(g);\n            Graphics2D graphics2D = (Graphics2D) g;\n\n            graphics2D.fillRect(0,80,200,200);\n        }\n    }\n\n    public static void main(String[] args) {\n        JFrame window = new JFrame();\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setResizable(false);\n\n        MainPanel mainPanel = new MainPanel();\n        window.add(mainPanel);\n        window.setBackground(Color.BLACK);\n        window.pack();\n\n        window.setLocationRelativeTo(null);\n        window.setVisible(true);\n\n        mainPanel.startMainThread();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","jpa-2.0"],"answers":[{"tags":[],"owner":{"account_id":2751226,"reputation":413,"user_id":2370582,"display_name":"Vinh Truong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651229230,"creation_date":1651229230,"answer_id":72056747,"question_id":72056372,"body_markdown":"I think you will need to create a getter for `userrolename`:\r\n```\r\npublic String getUserRoleName() {\r\n  return userRole.getUserRoleName();\r\n}\r\n```\r\n\r\nTo ignore unwanted fields, annotate them with `@JsonIgnore`","title":"How to map specific column in entity class","body":"<p>I think you will need to create a getter for <code>userrolename</code>:</p>\n<pre><code>public String getUserRoleName() {\n  return userRole.getUserRoleName();\n}\n</code></pre>\n<p>To ignore unwanted fields, annotate them with <code>@JsonIgnore</code></p>\n"},{"tags":[],"owner":{"account_id":25141798,"reputation":1,"user_id":18988077,"display_name":"RichardSchulz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651229479,"creation_date":1651229479,"answer_id":72056801,"question_id":72056372,"body_markdown":"You can try to use the @Converter annotation in your entity. However this way you will have the string (or preferably an enum) in your entity and this will produce your wanted json.","title":"How to map specific column in entity class","body":"<p>You can try to use the @Converter annotation in your entity. However this way you will have the string (or preferably an enum) in your entity and this will produce your wanted json.</p>\n"},{"tags":[],"owner":{"account_id":13113269,"reputation":86,"user_id":9473464,"display_name":"Elie Azoury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651230296,"creation_date":1651230296,"answer_id":72056951,"question_id":72056372,"body_markdown":"you can achieve this using DTOs  and modelMapper library :\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n        &lt;version&gt;current version&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    public class UsersDTO {\r\n        String userid ; \r\n        String username ;\r\n        String userrolename ;\r\n      }\r\n\r\nUsersDTo dto= modelMapper.map(user, UsersDto.class);\r\n\r\n\r\n\r\nanother way  is to instantiate the dto  class in your repo\r\n\r\n \r\n\r\n     @Query(&quot;SELECT new de.smarterco.example.dto.UsersDTO(u.id, u.username ,ur.name ) \r\n    FROM Users u \r\n    join u.UsersRoles  ur&quot;)\r\n        List&lt;UsersDTO&gt; findUsersDTo();\r\n\r\n\r\nAnd the final way to do this is using jpa projection by creating your dto as interface \r\n\r\n    public intefaceUsersDTO {\r\n        String getuserid() ; \r\n        String username () ;\r\n        String userRoleName ();\r\n      }\r\n\r\n   and in your repo :\r\n\r\n    @Query(&quot;SELECT u.id , u.username ,ur.name as userRoleName  ) \r\n    FROM Users u \r\n    join u.UsersRoles  ur&quot;)\r\n        List&lt;UsersDTO&gt; findUsersDTo();\r\n\r\n   \r\n\r\n\r\n","title":"How to map specific column in entity class","body":"<p>you can achieve this using DTOs  and modelMapper library :</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n    &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n    &lt;version&gt;current version&lt;/version&gt;\n&lt;/dependency&gt;\n\npublic class UsersDTO {\n    String userid ; \n    String username ;\n    String userrolename ;\n  }\n</code></pre>\n<p>UsersDTo dto= modelMapper.map(user, UsersDto.class);</p>\n<p>another way  is to instantiate the dto  class in your repo</p>\n<pre><code> @Query(&quot;SELECT new de.smarterco.example.dto.UsersDTO(u.id, u.username ,ur.name ) \nFROM Users u \njoin u.UsersRoles  ur&quot;)\n    List&lt;UsersDTO&gt; findUsersDTo();\n</code></pre>\n<p>And the final way to do this is using jpa projection by creating your dto as interface</p>\n<pre><code>public intefaceUsersDTO {\n    String getuserid() ; \n    String username () ;\n    String userRoleName ();\n  }\n</code></pre>\n<p>and in your repo :</p>\n<pre><code>@Query(&quot;SELECT u.id , u.username ,ur.name as userRoleName  ) \nFROM Users u \njoin u.UsersRoles  ur&quot;)\n    List&lt;UsersDTO&gt; findUsersDTo();\n</code></pre>\n"}],"owner":{"account_id":8847917,"reputation":37,"user_id":6608149,"display_name":"saloni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1651230296,"creation_date":1651227337,"question_id":72056372,"body_markdown":"I have two tables Users and UserRoles. These are the entity class I have created,\r\n\r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public Users {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Long userId;\r\n\r\n    @ManyToOne(cascade=CaseCadeType.ALL)\r\n    @JoinColumn(&quot;user_role_id&quot;)\r\n    private UserRole userRole;\r\n\r\n    @Column(name = &quot;user_name&quot;)\r\n    private String userName;\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;users_Roles&quot;)\r\n    public UsersRoles {\r\n\r\n    @Id\r\n    @Column(name = &quot;user_role_id&quot;)\r\n    private Long userRoleId;\r\n\r\n    @Column(name = &quot;user_role_name&quot;)\r\n    private String userRoleName;\r\n    }\r\n\r\n\r\nRepository Class,\r\n\r\n    @Repository\r\n    public interface UsersRepository extends JpaRepository&lt;Users ,Long&gt;{\r\n     public List&lt;Users&gt; findByUserName(String userName);\r\n    }\r\n\r\nFor this I am able to get Json result like this.\r\n\r\n    [\r\n     { \r\n       &quot;userid&quot;:&quot;1&quot;,\r\n       &quot;username&quot;:&quot;user1&quot;,\r\n       &quot;userrole&quot;: {\r\n        &quot;userroleid&quot;:&quot;1&quot;,\r\n        &quot;userrolename&quot;:&quot;ADMIN&quot;,\r\n       }\r\n     },\r\n       { \r\n       &quot;userid&quot;:&quot;2&quot;,\r\n       &quot;username&quot;:&quot;user2&quot;,\r\n       &quot;userrole&quot;: {\r\n        &quot;userroleid&quot;:&quot;2&quot;,\r\n        &quot;userrolename&quot;:&quot;INTERN&quot;,\r\n       }\r\n    }  \r\n\r\n    ]\r\n\r\n \r\nInstead of this can I get something like this..\r\n\r\n     [\r\n      { \r\n       &quot;userid&quot;:&quot;1&quot;,\r\n       &quot;username&quot;:&quot;user1&quot;,\r\n       &quot;userrolename&quot;:&quot;ADMIN&quot;,\r\n       },\r\n      { \r\n       &quot;userid&quot;:&quot;2&quot;,\r\n       &quot;username&quot;:&quot;user2&quot;,\r\n       &quot;userrolename&quot;:&quot;INTERN&quot;,\r\n       }\r\n    ]\r\n\r\n\r\nWhat changes I need to do in my entity class for getting only **userrolename** in result.","title":"How to map specific column in entity class","body":"<p>I have two tables Users and UserRoles. These are the entity class I have created,</p>\n<pre><code>@Entity\n@Table(name=&quot;users&quot;)\npublic Users {\n\n@Id\n@Column(name = &quot;id&quot;)\nprivate Long userId;\n\n@ManyToOne(cascade=CaseCadeType.ALL)\n@JoinColumn(&quot;user_role_id&quot;)\nprivate UserRole userRole;\n\n@Column(name = &quot;user_name&quot;)\nprivate String userName;\n}\n\n\n@Entity\n@Table(name=&quot;users_Roles&quot;)\npublic UsersRoles {\n\n@Id\n@Column(name = &quot;user_role_id&quot;)\nprivate Long userRoleId;\n\n@Column(name = &quot;user_role_name&quot;)\nprivate String userRoleName;\n}\n</code></pre>\n<p>Repository Class,</p>\n<pre><code>@Repository\npublic interface UsersRepository extends JpaRepository&lt;Users ,Long&gt;{\n public List&lt;Users&gt; findByUserName(String userName);\n}\n</code></pre>\n<p>For this I am able to get Json result like this.</p>\n<pre><code>[\n { \n   &quot;userid&quot;:&quot;1&quot;,\n   &quot;username&quot;:&quot;user1&quot;,\n   &quot;userrole&quot;: {\n    &quot;userroleid&quot;:&quot;1&quot;,\n    &quot;userrolename&quot;:&quot;ADMIN&quot;,\n   }\n },\n   { \n   &quot;userid&quot;:&quot;2&quot;,\n   &quot;username&quot;:&quot;user2&quot;,\n   &quot;userrole&quot;: {\n    &quot;userroleid&quot;:&quot;2&quot;,\n    &quot;userrolename&quot;:&quot;INTERN&quot;,\n   }\n}  \n\n]\n</code></pre>\n<p>Instead of this can I get something like this..</p>\n<pre><code> [\n  { \n   &quot;userid&quot;:&quot;1&quot;,\n   &quot;username&quot;:&quot;user1&quot;,\n   &quot;userrolename&quot;:&quot;ADMIN&quot;,\n   },\n  { \n   &quot;userid&quot;:&quot;2&quot;,\n   &quot;username&quot;:&quot;user2&quot;,\n   &quot;userrolename&quot;:&quot;INTERN&quot;,\n   }\n]\n</code></pre>\n<p>What changes I need to do in my entity class for getting only <strong>userrolename</strong> in result.</p>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":25136370,"reputation":21,"user_id":18983091,"display_name":"jackma"},"score":0,"creation_date":1651195957,"post_id":72051853,"comment_id":127312242,"body_markdown":"in java, if I print &quot;123\\u202e987\\u202c456abc&quot; then result is 123‮987‬456abc. if I print &quot;123\\u202e987\\u202cxyzabc&quot; then result is 123‮987‬xyzabc. how it works, you see the &quot;456&quot; is changed to &quot;xyz&quot;, then the sequence be different","body":"in java, if I print &quot;123\\u202e987\\u202c456abc&quot; then result is 123‮987‬456abc. if I print &quot;123\\u202e987\\u202cxyzabc&quot; then result is 123‮987‬xyzabc. how it works, you see the &quot;456&quot; is changed to &quot;xyz&quot;, then the sequence be different"}],"answers":[{"tags":[],"owner":{"account_id":20649293,"reputation":356,"user_id":15445843,"display_name":"Aly Mobarak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651230092,"creation_date":1651196166,"answer_id":72051892,"question_id":72051853,"body_markdown":"The Unicode is doing that.\r\nBecause both depend on the text after them and edits them in a way.\r\n\r\n - \\u202e reverses text (RIGHT-TO-LEFT override)\r\n - \\u202c: POP DIRECTIONAL FORMATTING\r\n\r\nIn your question, `123\\u202e987\\u202cxyzabc` outputs `123‮987‬xyzabc`. \\u202e causes the 987 to be outputted (reversed) as 789. And \\u202c stops the RIGHT-TO-LEFT override.\r\n\r\nIn the second case, after the \\u202c are some digits, which have weak directionality. So, the unicode causes only the digits to be directed to before the \\u202e.\r\n\r\nEDIT: @skomisa&#39;s answer is better.","title":"Why Unicode u+202e and u+202c cause output text to have a different result","body":"<p>The Unicode is doing that.\nBecause both depend on the text after them and edits them in a way.</p>\n<ul>\n<li>\\u202e reverses text (RIGHT-TO-LEFT override)</li>\n<li>\\u202c: POP DIRECTIONAL FORMATTING</li>\n</ul>\n<p>In your question, <code>123\\u202e987\\u202cxyzabc</code> outputs <code>123‮987‬xyzabc</code>. \\u202e causes the 987 to be outputted (reversed) as 789. And \\u202c stops the RIGHT-TO-LEFT override.</p>\n<p>In the second case, after the \\u202c are some digits, which have weak directionality. So, the unicode causes only the digits to be directed to before the \\u202e.</p>\n<p>EDIT: @skomisa's answer is better.</p>\n"},{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651209943,"creation_date":1651209943,"answer_id":72053204,"question_id":72051853,"body_markdown":"TLDR: The effect you are seeing arises because digits and alphabetic characters are treated differently by the Unicode algorithm that determines the rendering of text containing format control characters.\r\n\r\nFor the texts you are displaying:\r\n- **\\u202e** is the [RIGHT-TO-LEFT OVERRIDE][1] (RLO) character. \r\n- **\\u202c** is the [POP DIRECTIONAL FORMATTING][2] (PDF) character.\r\n- Both are formatting control characters in Unicode, and their sole effect is to impact the appearance of output text.\r\n- In your examples the RLO character specifies that the text which follows is to be displayed from right to left (RLO), and PDF character cancels (&quot;pops&quot;) the effect of the RLO.\r\n\r\nThat explains why the text **123\\u202e987\\u202cxyzabc** in your example is rendered as **123‮987‬xyzabc**. The RLO (\\u202e) causes the text that follows to be rendered in right to left order (so **987** is displayed as **789**), and the PDF (\\u202c) terminates reversal for the subsequent text.\r\n\r\nBut it does not explain why **123\\u202e987\\u202c456abc** is rendered as 123**456**789abc. By that argument, the expected output should be 123789**456**abc instead.\r\n\r\nThe algorithm used to determine the output in scenarios like this is very complex, but one factor is the directionality of the characters being rendered. Alphabetic characters have strong directionality, but numbers (i.e. digit characters) have weak directionality. For full details see the Unicode document [Unicode&#174; Standard Annex #9\r\nUNICODE BIDIRECTIONAL ALGORITHM][3], and especially section [3.3.4 Resolving Weak Types][4]\r\n\r\nThat document [provides an example similar to yours][5], with text containing a [RIGHT-TO-LEFT EMBEDDING][6] (RLE) character (rather than an RLO), later followed by a PDF and some trailing text containing digits:\r\n\r\n&gt; Memory:  it is called &quot;[RLE]AN INTRODUCTION TO java[PDF]&quot; - $19.95 in\r\n&gt; hardcover.\r\n&gt; \r\n&gt; Display: it is called &quot;$19.95 - &quot;java OT NOITCUDORTNI NA in hardcover.\r\n\r\nNote that in their example it wasn&#39;t just the digits that were moved. The dollar sign and the period were as well, because all six of the characters in the text **$19.95** have weak directionality.\r\n\r\nNotes:\r\n\r\n- You can get the directionality category of any Unicode character in Java using [Character.getDirectionality(int codePoint)][7]\r\n- The Unicode document linked above is heavy reading. Basic introductions to bidirectional text include W3C&#39;s [Unicode Bidirectional Algorithm basics][8] and Unicode&#39;s [Writing Direction and Bidirectional Text FAQ][9].\r\n\r\n\r\n  [1]: https://www.fileformat.info/info/unicode/char/202e/index.htm\r\n  [2]: https://www.fileformat.info/info/unicode/char/202c/index.htm\r\n  [3]: https://www.unicode.org/reports/tr9/\r\n  [4]: https://www.unicode.org/reports/tr9/#Resolving_Weak_Types\r\n  [5]: https://www.unicode.org/reports/tr9/#Formatting\r\n  [6]: https://www.fileformat.info/info/unicode/char/202b/index.htm\r\n  [7]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Character.html#getDirectionality(int)\r\n  [8]: https://www.w3.org/International/articles/inline-bidi-markup/uba-basics\r\n  [9]: https://unicode.org/faq/bidi.html","title":"Why Unicode u+202e and u+202c cause output text to have a different result","body":"<p>TLDR: The effect you are seeing arises because digits and alphabetic characters are treated differently by the Unicode algorithm that determines the rendering of text containing format control characters.</p>\n<p>For the texts you are displaying:</p>\n<ul>\n<li><strong>\\u202e</strong> is the <a href=\"https://www.fileformat.info/info/unicode/char/202e/index.htm\" rel=\"nofollow noreferrer\">RIGHT-TO-LEFT OVERRIDE</a> (RLO) character.</li>\n<li><strong>\\u202c</strong> is the <a href=\"https://www.fileformat.info/info/unicode/char/202c/index.htm\" rel=\"nofollow noreferrer\">POP DIRECTIONAL FORMATTING</a> (PDF) character.</li>\n<li>Both are formatting control characters in Unicode, and their sole effect is to impact the appearance of output text.</li>\n<li>In your examples the RLO character specifies that the text which follows is to be displayed from right to left (RLO), and PDF character cancels (&quot;pops&quot;) the effect of the RLO.</li>\n</ul>\n<p>That explains why the text <strong>123\\u202e987\\u202cxyzabc</strong> in your example is rendered as <strong>123‮987‬xyzabc</strong>. The RLO (\\u202e) causes the text that follows to be rendered in right to left order (so <strong>987</strong> is displayed as <strong>789</strong>), and the PDF (\\u202c) terminates reversal for the subsequent text.</p>\n<p>But it does not explain why <strong>123\\u202e987\\u202c456abc</strong> is rendered as 123<strong>456</strong>789abc. By that argument, the expected output should be 123789<strong>456</strong>abc instead.</p>\n<p>The algorithm used to determine the output in scenarios like this is very complex, but one factor is the directionality of the characters being rendered. Alphabetic characters have strong directionality, but numbers (i.e. digit characters) have weak directionality. For full details see the Unicode document <a href=\"https://www.unicode.org/reports/tr9/\" rel=\"nofollow noreferrer\">Unicode® Standard Annex #9\nUNICODE BIDIRECTIONAL ALGORITHM</a>, and especially section <a href=\"https://www.unicode.org/reports/tr9/#Resolving_Weak_Types\" rel=\"nofollow noreferrer\">3.3.4 Resolving Weak Types</a></p>\n<p>That document <a href=\"https://www.unicode.org/reports/tr9/#Formatting\" rel=\"nofollow noreferrer\">provides an example similar to yours</a>, with text containing a <a href=\"https://www.fileformat.info/info/unicode/char/202b/index.htm\" rel=\"nofollow noreferrer\">RIGHT-TO-LEFT EMBEDDING</a> (RLE) character (rather than an RLO), later followed by a PDF and some trailing text containing digits:</p>\n<blockquote>\n<p>Memory:  it is called &quot;[RLE]AN INTRODUCTION TO java[PDF]&quot; - $19.95 in\nhardcover.</p>\n<p>Display: it is called &quot;$19.95 - &quot;java OT NOITCUDORTNI NA in hardcover.</p>\n</blockquote>\n<p>Note that in their example it wasn't just the digits that were moved. The dollar sign and the period were as well, because all six of the characters in the text <strong>$19.95</strong> have weak directionality.</p>\n<p>Notes:</p>\n<ul>\n<li>You can get the directionality category of any Unicode character in Java using <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Character.html#getDirectionality(int)\" rel=\"nofollow noreferrer\">Character.getDirectionality(int codePoint)</a></li>\n<li>The Unicode document linked above is heavy reading. Basic introductions to bidirectional text include W3C's <a href=\"https://www.w3.org/International/articles/inline-bidi-markup/uba-basics\" rel=\"nofollow noreferrer\">Unicode Bidirectional Algorithm basics</a> and Unicode's <a href=\"https://unicode.org/faq/bidi.html\" rel=\"nofollow noreferrer\">Writing Direction and Bidirectional Text FAQ</a>.</li>\n</ul>\n"}],"owner":{"account_id":25136370,"reputation":21,"user_id":18983091,"display_name":"jackma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1520,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1651230092,"creation_date":1651195700,"question_id":72051853,"body_markdown":"In Java:\r\n- If I print `&quot;123\\u202e987\\u202c456abc&quot;` then the result is **123‮987‬456abc**\r\n\r\n- If I print `&quot;123\\u202e987\\u202cxyzabc&quot;` then the result is **123‮987‬xyzabc**\r\n\r\nYou see that when &quot;456&quot; is changed to &quot;xyz&quot; inthe string to be printed the output sequences are different.\r\n\r\nHow does this work?","title":"Why Unicode u+202e and u+202c cause output text to have a different result","body":"<p>In Java:</p>\n<ul>\n<li><p>If I print <code>&quot;123\\u202e987\\u202c456abc&quot;</code> then the result is <strong>123‮987‬456abc</strong></p>\n</li>\n<li><p>If I print <code>&quot;123\\u202e987\\u202cxyzabc&quot;</code> then the result is <strong>123‮987‬xyzabc</strong></p>\n</li>\n</ul>\n<p>You see that when &quot;456&quot; is changed to &quot;xyz&quot; inthe string to be printed the output sequences are different.</p>\n<p>How does this work?</p>\n"},{"tags":["java","selenium","selenium-webdriver","automated-tests"],"comments":[{"owner":{"account_id":17549418,"reputation":4092,"user_id":12730112,"display_name":"vitaliis"},"score":0,"creation_date":1616769707,"post_id":66817315,"comment_id":118114716,"body_markdown":"HTML representation would be helpful. Please add it.","body":"HTML representation would be helpful. Please add it."},{"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"score":0,"creation_date":1616774548,"post_id":66817315,"comment_id":118116979,"body_markdown":"I cant access the html, thats the issue","body":"I cant access the html, thats the issue"},{"owner":{"account_id":17549418,"reputation":4092,"user_id":12730112,"display_name":"vitaliis"},"score":0,"creation_date":1616775057,"post_id":66817315,"comment_id":118117230,"body_markdown":"You cannot open browser&#39;s devtools?","body":"You cannot open browser&#39;s devtools?"},{"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"score":0,"creation_date":1616776031,"post_id":66817315,"comment_id":118117676,"body_markdown":"The alert/pop up cannot be accessed in the dev tools","body":"The alert/pop up cannot be accessed in the dev tools"}],"answers":[{"tags":[],"owner":{"account_id":18969236,"reputation":526,"user_id":13843087,"display_name":"Lia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617295472,"creation_date":1617295472,"answer_id":66908507,"question_id":66817315,"body_markdown":"You may need to disable notifications for a selenium web driver at a WebDriver level by adding options. Here is an example of how to do it for ChromeDriver:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--disable-notifications&quot;);\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/home/users/user.user/Desktop/softwares/chromedriver&quot;);\r\n    WebDriver driver =new ChromeDriver(options);\r\n    driver.get(&quot;http://your.url/&quot;);\r\n    driver.manage().window().maximize();\r\n        ","title":"Click on pop up/ alert to launch web app using selenium","body":"<p>You may need to disable notifications for a selenium web driver at a WebDriver level by adding options. Here is an example of how to do it for ChromeDriver:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--disable-notifications&quot;);\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/home/users/user.user/Desktop/softwares/chromedriver&quot;);\nWebDriver driver =new ChromeDriver(options);\ndriver.get(&quot;http://your.url/&quot;);\ndriver.manage().window().maximize();\n    \n</code></pre>\n"}],"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651229931,"creation_date":1616763102,"question_id":66817315,"body_markdown":"Currently in my tests when i select a button a pop up appears asking me to launch my web application\r\n[![Pop Up][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ph1fo.png\r\n\r\nHowever I cant seem to switch onto this pop up as if its a window \r\n\r\n\r\n        new WebDriverWait(driver,5).until(ExpectedConditions.numberOfWindowsToBe(2));\r\n\r\n\r\n        Set&lt;String&gt; allHandles = driver.getWindowHandles();\r\n        for(String winHandle:allHandles)\r\n        {\r\n            if (!first_handle.equalsIgnoreCase(winHandle))\r\n            {\r\n                driver.switchTo().window(winHandle);\r\n            }\r\n        }\r\n \r\n\r\nAnd I also attempted to accept it as an alert, but it didnt recognise it as an alert\r\n\r\n    Alert alert = driver.switchTo().alert();\r\n    // Alert present; set the flag\r\n    presentFlag = true;\r\n    // if present consume the alert\r\n    alert.accept();\r\n\r\nIve seen suggestions to disable notifications and they dont work either, my main aim is to select the open button but I cant get any elements to select from the console either","title":"Click on pop up/ alert to launch web app using selenium","body":"<p>Currently in my tests when i select a button a pop up appears asking me to launch my web application\n<a href=\"https://i.stack.imgur.com/Ph1fo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ph1fo.png\" alt=\"Pop Up\" /></a></p>\n<p>However I cant seem to switch onto this pop up as if its a window</p>\n<pre><code>    new WebDriverWait(driver,5).until(ExpectedConditions.numberOfWindowsToBe(2));\n\n\n    Set&lt;String&gt; allHandles = driver.getWindowHandles();\n    for(String winHandle:allHandles)\n    {\n        if (!first_handle.equalsIgnoreCase(winHandle))\n        {\n            driver.switchTo().window(winHandle);\n        }\n    }\n</code></pre>\n<p>And I also attempted to accept it as an alert, but it didnt recognise it as an alert</p>\n<pre><code>Alert alert = driver.switchTo().alert();\n// Alert present; set the flag\npresentFlag = true;\n// if present consume the alert\nalert.accept();\n</code></pre>\n<p>Ive seen suggestions to disable notifications and they dont work either, my main aim is to select the open button but I cant get any elements to select from the console either</p>\n"},{"tags":["java","eclipse","maven","jar"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1605536769,"post_id":64859630,"comment_id":114672588,"body_markdown":"First all your configuration is done in pluginmanagement wherer pluginManagement is intended to define versions of used plugin etc. But you have to add the maven-source-plugin for example outside the pluginManagement area ... furthermore packaging the source code into an existing JAR does not make sense nor a good idea cause no IDE will every recognize that correctly. Use the separate jar (-sources) which is identified by the IDE&#39;s... In Eclipse you can configure the download of -sources package see docs of Eclipse...","body":"First all your configuration is done in pluginmanagement wherer pluginManagement is intended to define versions of used plugin etc. But you have to add the maven-source-plugin for example outside the pluginManagement area ... furthermore packaging the source code into an existing JAR does not make sense nor a good idea cause no IDE will every recognize that correctly. Use the separate jar (-sources) which is identified by the IDE&#39;s... In Eclipse you can configure the download of -sources package see docs of Eclipse..."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1605539777,"creation_date":1605539777,"answer_id":64860608,"question_id":64859630,"body_markdown":"Putting the source code into the JAR is the wrong approach.\r\n\r\nYou create two JARs (as shown in your question). These JARs go to the repository. Then everyone who uses the JARS will automatically get the `-sources` as well. In the usual IDEs, like Eclipse and IntelliJ the `-sources` JAR is automatically used for debugging.\r\n\r\nInstead of two Maven runs, you should add the source plugin to your POM. Then the `-sources` JAR is created during the normal build.","title":"Packaging jar file with source code using Maven so breakpoints can be used in Eclipse","body":"<p>Putting the source code into the JAR is the wrong approach.</p>\n<p>You create two JARs (as shown in your question). These JARs go to the repository. Then everyone who uses the JARS will automatically get the <code>-sources</code> as well. In the usual IDEs, like Eclipse and IntelliJ the <code>-sources</code> JAR is automatically used for debugging.</p>\n<p>Instead of two Maven runs, you should add the source plugin to your POM. Then the <code>-sources</code> JAR is created during the normal build.</p>\n"}],"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64860608,"answer_count":1,"score":0,"last_activity_date":1651229889,"creation_date":1605536028,"question_id":64859630,"body_markdown":"# Requirements\r\nI am refactoring a Java application and am trying to move code out of a war file and into a jar file so it can be used across many different web applications. However, one of the requirements is that the developers still need to use breakpoints within the library.  To do so I believe I need to package the source with the compiled code.  Below is the build lifecycle\r\n\r\n# Build Lifecycle\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \r\n\t\t\t\tdefaults (may be moved to parent pom) --&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.7.1&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;attach-sources&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\r\n# Question\r\n\r\nWhen I run `mvn package` and `mvn source:jar package` it creates two jar files, respectively\r\n\r\n - db-0.0.1-SNAPSHOT.jar\r\n - db-0.0.1-SNAPSHOT-sources.jar\r\n\r\nThen I can attach the source to the dependency.\r\n\r\nMy question is two-fold\r\n\r\n1. Is there anyway to package the source code into the same jar file as the compiled classes, and\r\n2. Would this auto-attach the source code to the dependency in Eclipse, so that the developers don&#39;t need to do it automatically?","title":"Packaging jar file with source code using Maven so breakpoints can be used in Eclipse","body":"<h1>Requirements</h1>\n<p>I am refactoring a Java application and am trying to move code out of a war file and into a jar file so it can be used across many different web applications. However, one of the requirements is that the developers still need to use breakpoints within the library.  To do so I believe I need to package the source with the compiled code.  Below is the build lifecycle</p>\n<h1>Build Lifecycle</h1>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \n            defaults (may be moved to parent pom) --&gt;\n        &lt;plugins&gt;\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<h1>Question</h1>\n<p>When I run <code>mvn package</code> and <code>mvn source:jar package</code> it creates two jar files, respectively</p>\n<ul>\n<li>db-0.0.1-SNAPSHOT.jar</li>\n<li>db-0.0.1-SNAPSHOT-sources.jar</li>\n</ul>\n<p>Then I can attach the source to the dependency.</p>\n<p>My question is two-fold</p>\n<ol>\n<li>Is there anyway to package the source code into the same jar file as the compiled classes, and</li>\n<li>Would this auto-attach the source code to the dependency in Eclipse, so that the developers don't need to do it automatically?</li>\n</ol>\n"},{"tags":["java","android","database","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1605106611,"post_id":64778250,"comment_id":114550863,"body_markdown":"You are only removing the item from the adapter. You should definitely remove it from the database too.","body":"You are only removing the item from the adapter. You should definitely remove it from the database too."},{"owner":{"account_id":19945037,"reputation":1,"user_id":14615917,"display_name":"Rein Smasher"},"score":0,"creation_date":1605112757,"post_id":64778250,"comment_id":114553924,"body_markdown":"and how do I do that ? @AlexMamo","body":"and how do I do that ? @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1605130188,"post_id":64778250,"comment_id":114560826,"body_markdown":"What have you tried for that?","body":"What have you tried for that?"},{"owner":{"account_id":19945037,"reputation":1,"user_id":14615917,"display_name":"Rein Smasher"},"score":0,"creation_date":1605176111,"post_id":64778250,"comment_id":114572980,"body_markdown":"I have gotten the adapter position for the row I am removing from the recycle view. I have tried looping through a snapshot of the database and remove the object with the int position of the adapter. Eg int position = view.getAdapterPosition. I then loop through the DB and try to remove the object at int position but I am unsure as this does not work","body":"I have gotten the adapter position for the row I am removing from the recycle view. I have tried looping through a snapshot of the database and remove the object with the int position of the adapter. Eg int position = view.getAdapterPosition. I then loop through the DB and try to remove the object at int position but I am unsure as this does not work"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1605176283,"post_id":64778250,"comment_id":114573053,"body_markdown":"That code does not remove the record from the database, but only from the adapter. You should get a `DatabaseReference` object that points to the record you want to delete and then call removeValue().","body":"That code does not remove the record from the database, but only from the adapter. You should get a <code>DatabaseReference</code> object that points to the record you want to delete and then call removeValue()."},{"owner":{"account_id":19945037,"reputation":1,"user_id":14615917,"display_name":"Rein Smasher"},"score":1,"creation_date":1605180107,"post_id":64778250,"comment_id":114574655,"body_markdown":"okay I will look into this thank you @AlexMamo","body":"okay I will look into this thank you @AlexMamo"}],"owner":{"account_id":19945037,"reputation":1,"user_id":14615917,"display_name":"Rein Smasher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651229867,"creation_date":1605050551,"question_id":64778250,"body_markdown":"Hi I am trying to remove A row from a recycle view and once it is removed from the recycle view it should also be removed from the firebase realtime database. I am able to remove it from the recycle view but when I go back into my activity it repopulates with all the rows as I am unsure on how to remove it from Firebase. Can anyone help?\r\n\r\n    \r\n\r\n    public class FindAllContacts extends AppCompatActivity {\r\n        RecyclerView recyclerView;\r\n        RecyclerView.Adapter adapter;\r\n        ArrayList&lt;Contacts&gt; contacts = new ArrayList&lt;&gt;();\r\n        FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n        FirebaseUser firebaseUser = mAuth.getCurrentUser();\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_find_all);\r\n            getSupportActionBar().setTitle(&quot;View All Contacts&quot;);\r\n            getAllContacts();\r\n        }\r\n    \r\n        public void getAllContatcs() {\r\n            DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Contacts&quot;);\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot userSnapshot : snapshot.getChildren()) {\r\n                        Contact contact = userSnapshot.getValue(Contact.class);\r\n                        assert contact != null;\r\n                        contatcs.add(contact);\r\n                        recyclerView = findViewById(R.id.findAllRV);\r\n                        recyclerView.setHasFixedSize(true);\r\n                        recyclerView.setLayoutManager(new LinearLayoutManager(FindAll.this));\r\n                        adapter = new MainAdapter(contacts);\r\n                        new ItemTouchHelper(itemTouch).attachToRecyclerView(recyclerView);\r\n                        recyclerView.setAdapter(adapter);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    Toast.makeText(FindAll.this, &quot;Error Occurred: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    \r\n        ItemTouchHelper.SimpleCallback itemTouch = new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.RIGHT | ItemTouchHelper.LEFT) {\r\n            @Override\r\n            public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\r\n                int position = viewHolder.getAdapterPosition();\r\n                contatcs.remove(viewHolder.getAdapterPosition());\r\n                adapter.notifyDataSetChanged();\r\n    \r\n            }\r\n        };\r\n    }\r\n\r\n    \r\n\r\n","title":"Remove a Row from recycle view and Firebase","body":"<p>Hi I am trying to remove A row from a recycle view and once it is removed from the recycle view it should also be removed from the firebase realtime database. I am able to remove it from the recycle view but when I go back into my activity it repopulates with all the rows as I am unsure on how to remove it from Firebase. Can anyone help?</p>\n<pre><code>public class FindAllContacts extends AppCompatActivity {\n    RecyclerView recyclerView;\n    RecyclerView.Adapter adapter;\n    ArrayList&lt;Contacts&gt; contacts = new ArrayList&lt;&gt;();\n    FirebaseAuth mAuth = FirebaseAuth.getInstance();\n    FirebaseUser firebaseUser = mAuth.getCurrentUser();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_find_all);\n        getSupportActionBar().setTitle(&quot;View All Contacts&quot;);\n        getAllContacts();\n    }\n\n    public void getAllContatcs() {\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Contacts&quot;);\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot userSnapshot : snapshot.getChildren()) {\n                    Contact contact = userSnapshot.getValue(Contact.class);\n                    assert contact != null;\n                    contatcs.add(contact);\n                    recyclerView = findViewById(R.id.findAllRV);\n                    recyclerView.setHasFixedSize(true);\n                    recyclerView.setLayoutManager(new LinearLayoutManager(FindAll.this));\n                    adapter = new MainAdapter(contacts);\n                    new ItemTouchHelper(itemTouch).attachToRecyclerView(recyclerView);\n                    recyclerView.setAdapter(adapter);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(FindAll.this, &quot;Error Occurred: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    ItemTouchHelper.SimpleCallback itemTouch = new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.RIGHT | ItemTouchHelper.LEFT) {\n        @Override\n        public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n            return false;\n        }\n\n        @Override\n        public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\n            int position = viewHolder.getAdapterPosition();\n            contatcs.remove(viewHolder.getAdapterPosition());\n            adapter.notifyDataSetChanged();\n\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","swing","hidpi"],"owner":{"account_id":2152669,"reputation":1652,"user_id":1945316,"accept_rate":18,"display_name":"Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1651229863,"creation_date":1651229863,"question_id":72056880,"body_markdown":"I would like to influence the UI scale of a standard Swing application with default L&amp;F. Unfortunately scaling factor 1.0 is too small and 2.0 is too big. In my Linux fractional scaling factors are simply ignored. I searched already but can not find any solution to make it work. The scale is working for 1 or 2 but not in between:\r\n  \r\n–Dsun.java2d.uiScale=1.5\r\n\r\nJava is 1.15 but it does not matter in any way, I tried different flavors already. The Linux is a Ubuntu with XFCE window manager.\r\n","title":"Fractional Swing UI scale not supported in Java under Linux","body":"<p>I would like to influence the UI scale of a standard Swing application with default L&amp;F. Unfortunately scaling factor 1.0 is too small and 2.0 is too big. In my Linux fractional scaling factors are simply ignored. I searched already but can not find any solution to make it work. The scale is working for 1 or 2 but not in between:</p>\n<p>–Dsun.java2d.uiScale=1.5</p>\n<p>Java is 1.15 but it does not matter in any way, I tried different flavors already. The Linux is a Ubuntu with XFCE window manager.</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1651178807,"post_id":72049808,"comment_id":127309051,"body_markdown":"Can be an encoding issue on your end, or during transport. Impossible to say with the little code you posted; we need a [mcve]. To troubleshoot, look at the source of emails where the characters are correct and compare to yours.","body":"Can be an encoding issue on your end, or during transport. Impossible to say with the little code you posted; we need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. To troubleshoot, look at the source of emails where the characters are correct and compare to yours."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1651178977,"post_id":72049808,"comment_id":127309114,"body_markdown":"The characters you included are represented in UTF-8, but are not in ascii.  It seems likely that the @stdunbar is the answer you are looking for.  Note the &quot;charset=utf-8&quot; portion of the html mime body part","body":"The characters you included are represented in UTF-8, but are not in ascii.  It seems likely that the @stdunbar is the answer you are looking for.  Note the &quot;charset=utf-8&quot; portion of the html mime body part"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1651179318,"post_id":72049808,"comment_id":127309204,"body_markdown":"Looks like typical encoding issues,","body":"Looks like typical encoding issues,"}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651178666,"creation_date":1651178666,"answer_id":72050021,"question_id":72049808,"body_markdown":"What I&#39;ve had to do is to set the charset for the part.  I do something like:\r\n\r\n\r\n    Session session = Session.getDefaultInstance(new Properties());\r\n    MimeMessage mimeMessage = new MimeMessage(session);\r\n    mimeMessage.setFrom(fromEmail);\r\n\r\n    mimeMessage.setSubject(subject, StandardCharsets.UTF_8.name());\r\n\r\n    MimeBodyPart plainTextMimeBodyPart = new MimeBodyPart();\r\n    plainTextMimeBodyPart.setText(plainTextMessage, StandardCharsets.UTF_8.name());\r\n\r\n    Multipart messageMultiPart = new MimeMultipart(&quot;alternative&quot;);\r\n    messageMultiPart.addBodyPart(plainTextMimeBodyPart);\r\n\r\n    MimeBodyPart htmlBodyPart = new MimeBodyPart();\r\n    Multipart relatedMultiPart = new MimeMultipart(&quot;related&quot;);\r\n\r\n    htmlBodyPart.setContent(htmlMessage, &quot;text/html; charset=utf-8&quot;);\r\n\r\n    relatedMultiPart.addBodyPart(htmlBodyPart);","title":"Java replacing characters in email with?","body":"<p>What I've had to do is to set the charset for the part.  I do something like:</p>\n<pre><code>Session session = Session.getDefaultInstance(new Properties());\nMimeMessage mimeMessage = new MimeMessage(session);\nmimeMessage.setFrom(fromEmail);\n\nmimeMessage.setSubject(subject, StandardCharsets.UTF_8.name());\n\nMimeBodyPart plainTextMimeBodyPart = new MimeBodyPart();\nplainTextMimeBodyPart.setText(plainTextMessage, StandardCharsets.UTF_8.name());\n\nMultipart messageMultiPart = new MimeMultipart(&quot;alternative&quot;);\nmessageMultiPart.addBodyPart(plainTextMimeBodyPart);\n\nMimeBodyPart htmlBodyPart = new MimeBodyPart();\nMultipart relatedMultiPart = new MimeMultipart(&quot;related&quot;);\n\nhtmlBodyPart.setContent(htmlMessage, &quot;text/html; charset=utf-8&quot;);\n\nrelatedMultiPart.addBodyPart(htmlBodyPart);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651179363,"creation_date":1651179363,"answer_id":72050134,"question_id":72049808,"body_markdown":"You could do something like this:\r\n\r\n      MimeMessage message = new MimeMessage();\r\n      message.setText(&quot;ş and “&quot;, &quot;UTF-8&quot;);\r\n      // set recipients, etc\r\n    \r\n      send(transport, message);","title":"Java replacing characters in email with?","body":"<p>You could do something like this:</p>\n<pre><code>  MimeMessage message = new MimeMessage();\n  message.setText(&quot;ş and “&quot;, &quot;UTF-8&quot;);\n  // set recipients, etc\n\n  send(transport, message);\n</code></pre>\n"}],"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1651231740,"accepted_answer_id":72050021,"answer_count":2,"score":0,"last_activity_date":1651229795,"creation_date":1651177476,"question_id":72049808,"body_markdown":"Here is my email implementation:\r\n```\r\n    private void send(Transport transport, Message message) throws MessagingException\r\n    {\r\n        // bunch of fluff\r\n        transport.sendMessage(message, message.getAllRecipients());\r\n    }\r\n```\r\n\r\nBut when my message body contains chars like `ş` and `“` are replaced with a `?`. I assume this has something to do with a char-set issue, but im not sure what to do about it.\r\n\r\nAny help would be great.","title":"Java replacing characters in email with?","body":"<p>Here is my email implementation:</p>\n<pre><code>    private void send(Transport transport, Message message) throws MessagingException\n    {\n        // bunch of fluff\n        transport.sendMessage(message, message.getAllRecipients());\n    }\n</code></pre>\n<p>But when my message body contains chars like <code>ş</code> and <code>“</code> are replaced with a <code>?</code>. I assume this has something to do with a char-set issue, but im not sure what to do about it.</p>\n<p>Any help would be great.</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":15688791,"reputation":701,"user_id":11320586,"display_name":"Umesh Sanwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604591403,"creation_date":1604591403,"answer_id":64700642,"question_id":64700537,"body_markdown":"You need to use @MappedSuperclass annotation in your abstract class.\r\n\r\nref: https://vladmihalcea.com/how-to-inherit-properties-from-a-base-class-entity-using-mappedsuperclass-with-jpa-and-hibernate/","title":"Hibernate JPA error when inherited form other class","body":"<p>You need to use @MappedSuperclass annotation in your abstract class.</p>\n<p>ref: <a href=\"https://vladmihalcea.com/how-to-inherit-properties-from-a-base-class-entity-using-mappedsuperclass-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/how-to-inherit-properties-from-a-base-class-entity-using-mappedsuperclass-with-jpa-and-hibernate/</a></p>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651229714,"creation_date":1604591035,"question_id":64700537,"body_markdown":"I am trying to have a abstract common class for all my entity.  Here is my Entity class and abstract class:-\r\n\r\n    @Entity\r\n    @MappedSuperclass\r\n\t@Table(name=&quot;TBL_EMPLOYEES&quot;)\r\n\tpublic class EmployeeEntity extends IdVersion {\r\n\t\r\n\t\r\n\t\t@Column(name=&quot;first_name&quot;)\r\n\t\tprivate String firstName;\r\n\t\t\r\n\t\t@Column(name=&quot;last_name&quot;)\r\n\t\tprivate String lastName;\r\n\t\t\r\n\t\t@Column(name=&quot;email&quot;, nullable=false, length=200)\r\n\t\tprivate String email;\r\n\t\r\n\t\r\n\t\tpublic String getFirstName() {\r\n\t\t\treturn firstName;\r\n\t\t}\r\n\t\r\n\t\tpublic void setFirstName(String firstName) {\r\n\t\t\tthis.firstName = firstName;\r\n\t\t}\r\n\t\r\n\t\tpublic String getLastName() {\r\n\t\t\treturn lastName;\r\n\t\t}\r\n\t\r\n\t\tpublic void setLastName(String lastName) {\r\n\t\t\tthis.lastName = lastName;\r\n\t\t}\r\n\t\r\n\t\tpublic String getEmail() {\r\n\t\t\treturn email;\r\n\t\t}\r\n\t\r\n\t\tpublic void setEmail(String email) {\r\n\t\t\tthis.email = email;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;EmployeeEntity [firstName=&quot; + firstName +\r\n\t\t\t\t\t&quot;, lastName=&quot; + lastName + &quot;, email=&quot; + email   + &quot;]&quot;;\r\n\t\t}\r\n\t}\r\n\r\n \r\n     @MappedSuperclass\r\n     public abstract class IdVersion {\r\n    \r\n        @GeneratedValue\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @Version\r\n        private Long version;\r\n    \r\n        @CreatedBy\r\n        @Column(name = &quot;created_by&quot;)\r\n        private String createdBy;\r\n    \r\n        @CreatedDate\r\n        private Instant created;\r\n    \r\n        @LastModifiedBy\r\n        @Column(name = &quot;updated_by&quot;)\r\n        private String updatedBy;\r\n    \r\n        @LastModifiedDate\r\n        private Instant updated;\r\n    \r\n    }\r\n\r\nError:-\r\n\r\nHibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity: com.howtodoinjava.demo.model.EmployeeEntity\r\n\r\n\r\nWhat is wrong? \r\nHow to fix it?                                                            \r\n                                \r\n\r\n**Updated question:**\r\n\r\nNow I have a sub class as follows:-\r\n\r\n        @Entity\r\n    @Table(name=&quot;TBL_SUB_EMPLOYEES&quot;)\r\n    public class SubEmployeeEntity extends EmployeeEntity {\r\n    \r\n        @Column(name=&quot;sub_title&quot;)\r\n        private String subTitle;\r\n    \r\n        @Column(name=&quot;sub_role&quot;)\r\n        private String subRole;\r\n    }\r\n\r\nI got error as this:-\r\n\r\nInvocation of init method failed; nested exception is org.hibernate.AnnotationException: An entity cannot be annotated with both @Entity and @MappedSuperclass: com.test.EmployeeEntity \r\n\r\nThe error is clear I can&#39;t have both @Entity and @MappedSuperclass together. But it is common requirements. I need all the property from the parent class in my child class. How can I achieve this in my code?\r\n    \r\n\r\n","title":"Hibernate JPA error when inherited form other class","body":"<p>I am trying to have a abstract common class for all my entity.  Here is my Entity class and abstract class:-</p>\n<pre><code>@Entity\n@MappedSuperclass\n@Table(name=&quot;TBL_EMPLOYEES&quot;)\npublic class EmployeeEntity extends IdVersion {\n\n\n    @Column(name=&quot;first_name&quot;)\n    private String firstName;\n    \n    @Column(name=&quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name=&quot;email&quot;, nullable=false, length=200)\n    private String email;\n\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;EmployeeEntity [firstName=&quot; + firstName +\n                &quot;, lastName=&quot; + lastName + &quot;, email=&quot; + email   + &quot;]&quot;;\n    }\n}\n\n\n @MappedSuperclass\n public abstract class IdVersion {\n\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Version\n    private Long version;\n\n    @CreatedBy\n    @Column(name = &quot;created_by&quot;)\n    private String createdBy;\n\n    @CreatedDate\n    private Instant created;\n\n    @LastModifiedBy\n    @Column(name = &quot;updated_by&quot;)\n    private String updatedBy;\n\n    @LastModifiedDate\n    private Instant updated;\n\n}\n</code></pre>\n<p>Error:-</p>\n<p>HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: No identifier specified for entity: com.howtodoinjava.demo.model.EmployeeEntity</p>\n<p>What is wrong?\nHow to fix it?</p>\n<p><strong>Updated question:</strong></p>\n<p>Now I have a sub class as follows:-</p>\n<pre><code>    @Entity\n@Table(name=&quot;TBL_SUB_EMPLOYEES&quot;)\npublic class SubEmployeeEntity extends EmployeeEntity {\n\n    @Column(name=&quot;sub_title&quot;)\n    private String subTitle;\n\n    @Column(name=&quot;sub_role&quot;)\n    private String subRole;\n}\n</code></pre>\n<p>I got error as this:-</p>\n<p>Invocation of init method failed; nested exception is org.hibernate.AnnotationException: An entity cannot be annotated with both @Entity and @MappedSuperclass: com.test.EmployeeEntity</p>\n<p>The error is clear I can't have both @Entity and @MappedSuperclass together. But it is common requirements. I need all the property from the parent class in my child class. How can I achieve this in my code?</p>\n"},{"tags":["java","ssl","https","certificate","recaptcha"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1623792421,"post_id":67992893,"comment_id":120178259,"body_markdown":"What version of Java 11 do you use? Even root certificates expire or are replaced by other root certificates and every update of Java also contains the newest root certificates.","body":"What version of Java 11 do you use? Even root certificates expire or are replaced by other root certificates and every update of Java also contains the newest root certificates."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623834300,"creation_date":1623834300,"answer_id":67999587,"question_id":67992893,"body_markdown":"Not an answer (yet?) to the real problem, only to &quot;is it normal&quot;, but also much too long for comments.\r\n\r\nIt is possible for one SSL/TLS server to have more than one certificate, and provide different ones on connection requests, although it would be odd to so for the same domainname; this is more common on servers that support multiple domains -- either for different parts or services of one entity, or a CDN or frontend like Cloudflare or Fastly(!) that handles connections for multiple entities. However, in the specific case of `www.google.com` that is not a single server but hundreds or thousands, all over the world, and it is quite possible that different servers have different certificates, either intentionally (perhaps for testing) or because they are making a change which does not happen instantly everywhere.\r\n\r\nAccording to my notes recently www.google.com as accessed from my location was using certs under `GTS CA 1O1` with [this intermediate cert](https://crt.sh/?id=158511653) under `GlobalSign Root CA - R2` as shown in your first image. Note that intermediate cert expires in 6 months, as does the root it is under, which is a good reason to stop using it. (https://crt.sh/?caid=10 does show two &#39;cross&#39; certs for `R2` under `GlobalSign Root CA` (see below) with longer expiration, but they are both revoked.) \r\n\r\nAs of today I get a cert under `GTS CA 1C3` under `GTS Root R1` -- so far like your second figure -- but then crossed under `GlobalSign Root CA` WITHOUT `R1`. Specifically I get [this intermediate cert](https://crt.sh/?id=3233315902) for `GTS CA 1C3` and [this cross cert](https://crt.sh/?id=3001951960) for `GTS Root R1`, which are valid until 2027 and 2028 and appear [here on the GTS website](https://pki.goog/repository/) as `GTS CA 1C3` and `GTS Root R1 Cross` respectively. And [this cert](https://crt.sh/?id=88) for that GlobalSign root -- which in effect _is_ R1, since the other currently known GlobalSign roots are R2-6, but is _not named_ R1 -- has been in at least Java and Mozilla/Firefox truststores for long time; I can&#39;t easily check history on others. [crt.sh doesn&#39;t know of ANY cert named with R1](https://crt.sh/?Identity=GlobalSign+Root+CA+-+R1&amp;match==). I&#39;d note that Firefox does have in its truststore a _root_ cert for `GTS Root R1` (and also R2-R4) which means it could shorten the chain, but doesn&#39;t; AFAICS no Java has any of these GTS roots. \r\n\r\nMoreover the _leaf_ certs I get have both CommonName and SubjectAltName `www.google.com` NOT `*.google.com`. This pretty much confirms you are getting a different server than I am.\r\n\r\nIt might help if you can extract the &quot;GlobalSign R1&quot; cert you apparently have in some truststore, and post it to be looked at or searched for, and the rest of the chain which you can get with `keytool -printcert -rfc -sslserver www.google.com` and/or if you can identify which google address(es?) you are getting this cert chain from so others (like me) can try it -- although even one address might anycast to multiple physical servers.","title":"How many HTTPS certificates have the google reCaptcha endpoint? And where can I download them?","body":"<p>Not an answer (yet?) to the real problem, only to &quot;is it normal&quot;, but also much too long for comments.</p>\n<p>It is possible for one SSL/TLS server to have more than one certificate, and provide different ones on connection requests, although it would be odd to so for the same domainname; this is more common on servers that support multiple domains -- either for different parts or services of one entity, or a CDN or frontend like Cloudflare or Fastly(!) that handles connections for multiple entities. However, in the specific case of <code>www.google.com</code> that is not a single server but hundreds or thousands, all over the world, and it is quite possible that different servers have different certificates, either intentionally (perhaps for testing) or because they are making a change which does not happen instantly everywhere.</p>\n<p>According to my notes recently <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">www.google.com</a> as accessed from my location was using certs under <code>GTS CA 1O1</code> with <a href=\"https://crt.sh/?id=158511653\" rel=\"nofollow noreferrer\">this intermediate cert</a> under <code>GlobalSign Root CA - R2</code> as shown in your first image. Note that intermediate cert expires in 6 months, as does the root it is under, which is a good reason to stop using it. (<a href=\"https://crt.sh/?caid=10\" rel=\"nofollow noreferrer\">https://crt.sh/?caid=10</a> does show two 'cross' certs for <code>R2</code> under <code>GlobalSign Root CA</code> (see below) with longer expiration, but they are both revoked.)</p>\n<p>As of today I get a cert under <code>GTS CA 1C3</code> under <code>GTS Root R1</code> -- so far like your second figure -- but then crossed under <code>GlobalSign Root CA</code> WITHOUT <code>R1</code>. Specifically I get <a href=\"https://crt.sh/?id=3233315902\" rel=\"nofollow noreferrer\">this intermediate cert</a> for <code>GTS CA 1C3</code> and <a href=\"https://crt.sh/?id=3001951960\" rel=\"nofollow noreferrer\">this cross cert</a> for <code>GTS Root R1</code>, which are valid until 2027 and 2028 and appear <a href=\"https://pki.goog/repository/\" rel=\"nofollow noreferrer\">here on the GTS website</a> as <code>GTS CA 1C3</code> and <code>GTS Root R1 Cross</code> respectively. And <a href=\"https://crt.sh/?id=88\" rel=\"nofollow noreferrer\">this cert</a> for that GlobalSign root -- which in effect <em>is</em> R1, since the other currently known GlobalSign roots are R2-6, but is <em>not named</em> R1 -- has been in at least Java and Mozilla/Firefox truststores for long time; I can't easily check history on others. <a href=\"https://crt.sh/?Identity=GlobalSign+Root+CA+-+R1&amp;match==\" rel=\"nofollow noreferrer\">crt.sh doesn't know of ANY cert named with R1</a>. I'd note that Firefox does have in its truststore a <em>root</em> cert for <code>GTS Root R1</code> (and also R2-R4) which means it could shorten the chain, but doesn't; AFAICS no Java has any of these GTS roots.</p>\n<p>Moreover the <em>leaf</em> certs I get have both CommonName and SubjectAltName <code>www.google.com</code> NOT <code>*.google.com</code>. This pretty much confirms you are getting a different server than I am.</p>\n<p>It might help if you can extract the &quot;GlobalSign R1&quot; cert you apparently have in some truststore, and post it to be looked at or searched for, and the rest of the chain which you can get with <code>keytool -printcert -rfc -sslserver www.google.com</code> and/or if you can identify which google address(es?) you are getting this cert chain from so others (like me) can try it -- although even one address might anycast to multiple physical servers.</p>\n"},{"tags":[],"owner":{"account_id":377893,"reputation":666,"user_id":730304,"accept_rate":50,"display_name":"vivek241"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651185770,"creation_date":1651185770,"answer_id":72050979,"question_id":67992893,"body_markdown":"You can refer to [Google&#39;s PKI Repository](https://pki.goog/repository/) which lists 5 CAs.\r\n\r\nAs per the [FAQ](https://pki.goog/faq/#faq-27), they actually list 36 different CAs in the roots.pem file (as of 28th April, 2022).\r\n\r\nIdeally you will need to add all those CAs to your trust store to cover all bases.","title":"How many HTTPS certificates have the google reCaptcha endpoint? And where can I download them?","body":"<p>You can refer to <a href=\"https://pki.goog/repository/\" rel=\"nofollow noreferrer\">Google's PKI Repository</a> which lists 5 CAs.</p>\n<p>As per the <a href=\"https://pki.goog/faq/#faq-27\" rel=\"nofollow noreferrer\">FAQ</a>, they actually list 36 different CAs in the roots.pem file (as of 28th April, 2022).</p>\n<p>Ideally you will need to add all those CAs to your trust store to cover all bases.</p>\n"}],"owner":{"account_id":21934435,"reputation":1,"user_id":16215935,"display_name":"Diego Felipe Barreto Bernal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651229705,"creation_date":1623787839,"question_id":67992893,"body_markdown":"We have a Java web application that implements reCaptcha validation against URL https://www.google.com/recaptcha/api/siteverify in a microservice in Docker. This has been working for almost 2 years, but this Tuesday 8/06/2021, the app started throwing this exception:\r\n```none\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n        at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n        at java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n        at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313)\r\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222)\r\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\r\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1340)\r\n        ... 89 common frames omitted\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n        at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\r\n        ... 95 common frames omitted\r\n```\r\nWe find that the certificate that we have in Java 11 was one of GlobalSign but with name ending in &quot;R2&quot;:\r\n\r\n[Certificate R2 in truststore][1]\r\n\r\nHowever, in some cases the same Google endpoint returns one with name ending in &quot;R1&quot;:\r\n\r\n[Certificate R1 not in Truststore][2]\r\n\r\nAfter we add this certificate R1, the app started to work fine, but is it normal that the same endpoint returns two different certificates? And how can I obtain or add all the possible certificates in my truststore? Is there a pool of certificates that we need to add?\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DEPdM.png\r\n  [2]: https://i.stack.imgur.com/VCTaC.png","title":"How many HTTPS certificates have the google reCaptcha endpoint? And where can I download them?","body":"<p>We have a Java web application that implements reCaptcha validation against URL <a href=\"https://www.google.com/recaptcha/api/siteverify\" rel=\"nofollow noreferrer\">https://www.google.com/recaptcha/api/siteverify</a> in a microservice in Docker. This has been working for almost 2 years, but this Tuesday 8/06/2021, the app started throwing this exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n        at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n        at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n        at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313)\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222)\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1340)\n        ... 89 common frames omitted\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n        at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\n        ... 95 common frames omitted\n</code></pre>\n<p>We find that the certificate that we have in Java 11 was one of GlobalSign but with name ending in &quot;R2&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/DEPdM.png\" rel=\"nofollow noreferrer\">Certificate R2 in truststore</a></p>\n<p>However, in some cases the same Google endpoint returns one with name ending in &quot;R1&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/VCTaC.png\" rel=\"nofollow noreferrer\">Certificate R1 not in Truststore</a></p>\n<p>After we add this certificate R1, the app started to work fine, but is it normal that the same endpoint returns two different certificates? And how can I obtain or add all the possible certificates in my truststore? Is there a pool of certificates that we need to add?</p>\n"},{"tags":["java","maven","google-app-engine"],"comments":[{"owner":{"account_id":1747944,"reputation":1262,"user_id":1597697,"display_name":"gallen"},"score":0,"creation_date":1593044744,"post_id":62563907,"comment_id":110644984,"body_markdown":"I believe [this question](https://stackoverflow.com/questions/19850956/maven-java-the-parameters-mainclass-for-goal-org-codehaus-mojoexec-maven-p) might provide some insight. As a rule of thumb, if something breaks and you don&#39;t know why: Google the error. You&#39;d be surprised how often useful results pop up! I hope that didn&#39;t come across harsh. Good luck on your app!","body":"I believe <a href=\"https://stackoverflow.com/questions/19850956/maven-java-the-parameters-mainclass-for-goal-org-codehaus-mojoexec-maven-p\">this question</a> might provide some insight. As a rule of thumb, if something breaks and you don&#39;t know why: Google the error. You&#39;d be surprised how often useful results pop up! I hope that didn&#39;t come across harsh. Good luck on your app!"},{"owner":{"account_id":18925315,"reputation":11,"user_id":13808581,"display_name":"AlexT"},"score":1,"creation_date":1593076702,"post_id":62563907,"comment_id":110654861,"body_markdown":"I certainly agree and I did try. But it seems above my paygrade. I would have thought that cloning the GIT repo would at least allow me to run their sample code ...","body":"I certainly agree and I did try. But it seems above my paygrade. I would have thought that cloning the GIT repo would at least allow me to run their sample code ..."}],"owner":{"account_id":18925315,"reputation":11,"user_id":13808581,"display_name":"AlexT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651229688,"creation_date":1593031918,"question_id":62563907,"body_markdown":"I&#39;m getting started with GoogleCloudPlatform - I want to use it from Java on my Mac.\r\n\r\nI have followed the various installation instructions and have (presumably) all relevant material on my machine. However, launching a basic test app I get the error below.\r\n\r\n Quite honestly don&#39;t know where to start...\r\n\r\n    bash-3.2$ mvn exec:java -DQuickstart -X\r\n    Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\n    Maven home: /opt/apache-maven\r\n    Java version: 14.0.1, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-14.0.1.jdk/Contents/Home\r\n    Default locale: en_CH, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;10.14.6&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n    [DEBUG] Created new class realm maven.api\r\n\r\n(... lot of intermediate trace not allowed by post cop)\r\n\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java (default-cli) on project google-api-grpc: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java are missing or invalid -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java (default-cli) on project google-api-grpc: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java are missing or invalid\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:564)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.PluginParameterException: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java are missing or invalid\r\n        at org.apache.maven.plugin.internal.DefaultMavenPluginManager.populatePluginFields (DefaultMavenPluginManager.java:644)\r\n        \r\n\r\n","title":"Getting started with GoogleCloudPlatform / Java - basic app fails","body":"<p>I'm getting started with GoogleCloudPlatform - I want to use it from Java on my Mac.</p>\n<p>I have followed the various installation instructions and have (presumably) all relevant material on my machine. However, launching a basic test app I get the error below.</p>\n<p>Quite honestly don't know where to start...</p>\n<pre><code>bash-3.2$ mvn exec:java -DQuickstart -X\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: /opt/apache-maven\nJava version: 14.0.1, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-14.0.1.jdk/Contents/Home\nDefault locale: en_CH, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.14.6&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n[DEBUG] Created new class realm maven.api\n</code></pre>\n<p>(... lot of intermediate trace not allowed by post cop)</p>\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java (default-cli) on project google-api-grpc: The parameters 'mainClass' for goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java are missing or invalid -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java (default-cli) on project google-api-grpc: The parameters 'mainClass' for goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java are missing or invalid\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:564)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginParameterException: The parameters 'mainClass' for goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java are missing or invalid\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.populatePluginFields (DefaultMavenPluginManager.java:644)\n    \n</code></pre>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651229564,"creation_date":1651229564,"answer_id":72056815,"question_id":72055915,"body_markdown":"Id generation will work if you write entity to db\r\n\r\nif you execute simple\r\n`friendID = new FriendID();`\r\nit wont work\r\n\r\nsave `friendID` to database using for example `EntityManager.merge` od spring and than saved object should have id generated","title":"Custom IdentifierGenerator returns null","body":"<p>Id generation will work if you write entity to db</p>\n<p>if you execute simple\n<code>friendID = new FriendID();</code>\nit wont work</p>\n<p>save <code>friendID</code> to database using for example <code>EntityManager.merge</code> od spring and than saved object should have id generated</p>\n"}],"owner":{"account_id":21061130,"reputation":103,"user_id":15479495,"display_name":"Linus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72056815,"answer_count":1,"score":0,"last_activity_date":1651229564,"creation_date":1651225231,"question_id":72055915,"body_markdown":"So, I want to customize the ID for a &quot;FriendID&quot; with IdentifierGenerator, and I want to make it as simple as possible first just to make sure it works. Been watching tutorials and looked at code examples, but I can&#39;t get it to work even though it seems really simple... Might it be something else I&#39;m missing out?\r\n\r\nIt doesn&#39;t seem to reach the GenFriendID-class in the strategy-parameter, because the generator class name is grey and says &quot;Class &#39;GenFriendID&#39; is never used&quot;. The path should be right, and been trying moving them to same package and so on.\r\n\r\nAlso been trying to drop the DB and rerun the creation of the DB based on the changes (It was GenerationType.AUTO before)\r\n\r\nEntity class,\r\n\r\n```\r\npackage com.WineOutBE.entity;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\n\r\n@Entity\r\n@Table(name = &quot;FriendID&quot;)\r\npublic class FriendID implements Serializable {\r\n\r\n    @Id\r\n    @GenericGenerator(name = &quot;friend_id&quot;, strategy = &quot;com.WineOutBE.generator.GenFriendID&quot;)\r\n    @GeneratedValue(generator = &quot;friend_id&quot;)\r\n    @Column(name = &quot;FriendID&quot;, unique = true, length = 6)\r\n    private Long friendid;\r\n\r\n    public Long getId() {\r\n        return friendid;\r\n    }\r\n\r\n    public void setId(Long FID) {\r\n        this.friendid = FID;\r\n    }\r\n}\r\n```\r\n\r\nGenerator class that implements IdentifierGenerator,\r\n```\r\npackage com.WineOutBE.generator;\r\n\r\nimport org.hibernate.HibernateException;\r\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\r\nimport org.hibernate.id.IdentifierGenerator;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class GenFriendID implements IdentifierGenerator {\r\n\r\n    @Override\r\n    public Serializable generate(SharedSessionContractImplementor session, Object object) throws HibernateException {\r\n            return 1234L;\r\n    }\r\n}\r\n\r\n```\r\n\r\nTesting method which returns NULL and not 1234,\r\n\r\n```\r\npackage com.WineOutBE;\r\n\r\nimport com.WineOutBE.entity.FriendID;\r\nimport org.junit.jupiter.api.Test;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\n\r\nclass Testing {\r\n\r\n    FriendID friendID;\r\n\r\n    @Test\r\n    void checkCorrectIdValue(){\r\n        friendID = new FriendID();\r\n\r\n        assertEquals(1234L, friendID.getId());\r\n    }\r\n}\r\n```\r\n\r\nLet me know if there&#39;s any other code you need to see and I&#39;ll update the post!\r\nThank you in advance!","title":"Custom IdentifierGenerator returns null","body":"<p>So, I want to customize the ID for a &quot;FriendID&quot; with IdentifierGenerator, and I want to make it as simple as possible first just to make sure it works. Been watching tutorials and looked at code examples, but I can't get it to work even though it seems really simple... Might it be something else I'm missing out?</p>\n<p>It doesn't seem to reach the GenFriendID-class in the strategy-parameter, because the generator class name is grey and says &quot;Class 'GenFriendID' is never used&quot;. The path should be right, and been trying moving them to same package and so on.</p>\n<p>Also been trying to drop the DB and rerun the creation of the DB based on the changes (It was GenerationType.AUTO before)</p>\n<p>Entity class,</p>\n<pre><code>package com.WineOutBE.entity;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport javax.persistence.*;\nimport java.io.Serializable;\n\n@Entity\n@Table(name = &quot;FriendID&quot;)\npublic class FriendID implements Serializable {\n\n    @Id\n    @GenericGenerator(name = &quot;friend_id&quot;, strategy = &quot;com.WineOutBE.generator.GenFriendID&quot;)\n    @GeneratedValue(generator = &quot;friend_id&quot;)\n    @Column(name = &quot;FriendID&quot;, unique = true, length = 6)\n    private Long friendid;\n\n    public Long getId() {\n        return friendid;\n    }\n\n    public void setId(Long FID) {\n        this.friendid = FID;\n    }\n}\n</code></pre>\n<p>Generator class that implements IdentifierGenerator,</p>\n<pre><code>package com.WineOutBE.generator;\n\nimport org.hibernate.HibernateException;\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\nimport org.hibernate.id.IdentifierGenerator;\n\nimport java.io.Serializable;\n\npublic class GenFriendID implements IdentifierGenerator {\n\n    @Override\n    public Serializable generate(SharedSessionContractImplementor session, Object object) throws HibernateException {\n            return 1234L;\n    }\n}\n\n</code></pre>\n<p>Testing method which returns NULL and not 1234,</p>\n<pre><code>package com.WineOutBE;\n\nimport com.WineOutBE.entity.FriendID;\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\n\nclass Testing {\n\n    FriendID friendID;\n\n    @Test\n    void checkCorrectIdValue(){\n        friendID = new FriendID();\n\n        assertEquals(1234L, friendID.getId());\n    }\n}\n</code></pre>\n<p>Let me know if there's any other code you need to see and I'll update the post!\nThank you in advance!</p>\n"},{"tags":["java","linked-list"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651172573,"creation_date":1651172573,"answer_id":72048975,"question_id":72048950,"body_markdown":"`LinkedList` inherits its implementation of `toString()` from `java.util.AbstractCollection`, which simply calls `toString` on the objects in the collection.  (All objects have it from `Object`, so it can just call it.)","title":"Location of toString() Method of java.util.LinkedList","body":"<p><code>LinkedList</code> inherits its implementation of <code>toString()</code> from <code>java.util.AbstractCollection</code>, which simply calls <code>toString</code> on the objects in the collection.  (All objects have it from <code>Object</code>, so it can just call it.)</p>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651173112,"creation_date":1651173056,"answer_id":72049050,"question_id":72048950,"body_markdown":"The JavaDoc tells you which method is implement in whch parent class, for example the ones in [`AbstractCollection`][2]\r\n\r\n    Methods declared in class java.util.AbstractCollection\r\n    containsAll, isEmpty, removeAll, retainAll, toString\r\n\r\n---\r\n\r\nThe way is `LinkedList &gt; AbstractSequentialList &gt; AbstractList &gt; AbstractCollection`\r\n\r\n\r\n    public class LinkedList&lt;E&gt; extends AbstractSequentialList&lt;E&gt; \r\n                               implements List&lt;E&gt;, Deque&lt;E&gt;, Cloneable, java.io.Serializable\r\n\r\n    &gt;&gt; public abstract class AbstractSequentialList&lt;E&gt; extends AbstractList&lt;E&gt; {\r\n\r\n    &gt;&gt;&gt; public abstract class AbstractList&lt;E&gt; extends AbstractCollection&lt;E&gt; implements List&lt;E&gt; {\r\n\r\n----\r\n\r\nYou ends up with [`AbstractCollection.toString`][1] that iterates over each item to call their toString and join them with a comma, the whole enclosed in brackets\r\n\r\n    public String toString() {\r\n        Iterator&lt;E&gt; it = iterator();\r\n        if (! it.hasNext())\r\n            return &quot;[]&quot;;\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&#39;[&#39;);\r\n        for (;;) {\r\n            E e = it.next();\r\n            sb.append(e == this ? &quot;(this Collection)&quot; : e);\r\n            if (! it.hasNext())\r\n                return sb.append(&#39;]&#39;).toString();\r\n            sb.append(&#39;,&#39;).append(&#39; &#39;);\r\n        }\r\n    }\r\n\r\n[1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/AbstractCollection.java#L450\r\n[2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html#methods-inherited-from-class-java.util.AbstractCollection\r\n","title":"Location of toString() Method of java.util.LinkedList","body":"<p>The JavaDoc tells you which method is implement in whch parent class, for example the ones in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html#methods-inherited-from-class-java.util.AbstractCollection\" rel=\"nofollow noreferrer\"><code>AbstractCollection</code></a></p>\n<pre><code>Methods declared in class java.util.AbstractCollection\ncontainsAll, isEmpty, removeAll, retainAll, toString\n</code></pre>\n<hr />\n<p>The way is <code>LinkedList &gt; AbstractSequentialList &gt; AbstractList &gt; AbstractCollection</code></p>\n<pre><code>public class LinkedList&lt;E&gt; extends AbstractSequentialList&lt;E&gt; \n                           implements List&lt;E&gt;, Deque&lt;E&gt;, Cloneable, java.io.Serializable\n\n&gt;&gt; public abstract class AbstractSequentialList&lt;E&gt; extends AbstractList&lt;E&gt; {\n\n&gt;&gt;&gt; public abstract class AbstractList&lt;E&gt; extends AbstractCollection&lt;E&gt; implements List&lt;E&gt; {\n</code></pre>\n<hr />\n<p>You ends up with <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/AbstractCollection.java#L450\" rel=\"nofollow noreferrer\"><code>AbstractCollection.toString</code></a> that iterates over each item to call their toString and join them with a comma, the whole enclosed in brackets</p>\n<pre><code>public String toString() {\n    Iterator&lt;E&gt; it = iterator();\n    if (! it.hasNext())\n        return &quot;[]&quot;;\n\n    StringBuilder sb = new StringBuilder();\n    sb.append('[');\n    for (;;) {\n        E e = it.next();\n        sb.append(e == this ? &quot;(this Collection)&quot; : e);\n        if (! it.hasNext())\n            return sb.append(']').toString();\n        sb.append(',').append(' ');\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25132440,"reputation":11,"user_id":18979533,"display_name":"newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1651229486,"creation_date":1651172430,"question_id":72048950,"body_markdown":"I am studying LinkedLists and wanted to check Java&#39;s implementation. \r\n\r\nHowever, I have some questions. \r\n\r\nI saw that I can print the contents of java.util.LinkedList. \r\n\r\nLike this: \r\n\r\n    LinkedList ll = new LinkedList&lt;Integer&gt;();\r\n\r\n\tll.add(1);\r\n\tll.add(2);\r\n\r\n\tSystem.out.println(ll);\r\n\t\r\n\t// prints &quot;[1, 2]&quot;\r\n\r\nHowever, I can&#39;t find the toString() method of LinkedList. \r\n\r\nHow does Java do that? How can it trigger the toString() method of every data type it has? \r\n","title":"Location of toString() Method of java.util.LinkedList","body":"<p>I am studying LinkedLists and wanted to check Java's implementation.</p>\n<p>However, I have some questions.</p>\n<p>I saw that I can print the contents of java.util.LinkedList.</p>\n<p>Like this:</p>\n<pre><code>LinkedList ll = new LinkedList&lt;Integer&gt;();\n\nll.add(1);\nll.add(2);\n\nSystem.out.println(ll);\n\n// prints &quot;[1, 2]&quot;\n</code></pre>\n<p>However, I can't find the toString() method of LinkedList.</p>\n<p>How does Java do that? How can it trigger the toString() method of every data type it has?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":24989454,"reputation":411,"user_id":18850835,"display_name":"Michel K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651174224,"creation_date":1651174224,"answer_id":72049246,"question_id":72049108,"body_markdown":"The array is one element too small, it should be \r\n```java-lang\r\nint[] fact = new int[n+1];\r\n```\r\nAlso note that `sum+=1/fact[i]` will be an integer division. You can use \r\n```java-lang\r\nsum += 1.0/ fact[i]\r\n``` \r\nto get a floating point division. \r\n","title":"WAP to compute the sum of the first n terms of the following series","body":"<p>The array is one element too small, it should be</p>\n<pre><code>int[] fact = new int[n+1];\n</code></pre>\n<p>Also note that <code>sum+=1/fact[i]</code> will be an integer division. You can use</p>\n<pre><code>sum += 1.0/ fact[i]\n</code></pre>\n<p>to get a floating point division.</p>\n"},{"tags":[],"owner":{"account_id":11431782,"reputation":69532,"user_id":8380272,"display_name":"Onyambu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651174499,"creation_date":1651174499,"answer_id":72049288,"question_id":72049108,"body_markdown":"Also you do not need to store the factorials in an array as the purpose is just to sum. You could do the following:\r\n\r\n    int fact = 1;\r\n    double sum = 0;\r\n    int n = 15;\r\n    for(int i = 1; i&lt;=n; i++){\r\n       sum += 1.0/fact;\r\n       fact *= i;\r\n    }","title":"WAP to compute the sum of the first n terms of the following series","body":"<p>Also you do not need to store the factorials in an array as the purpose is just to sum. You could do the following:</p>\n<pre><code>int fact = 1;\ndouble sum = 0;\nint n = 15;\nfor(int i = 1; i&lt;=n; i++){\n   sum += 1.0/fact;\n   fact *= i;\n}\n</code></pre>\n"}],"owner":{"account_id":24926510,"reputation":1,"user_id":18794193,"display_name":"Abhishek Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1651229424,"answer_count":2,"score":-3,"last_activity_date":1651229409,"creation_date":1651173447,"question_id":72049108,"body_markdown":"S = 1 + 1/2! + 1/3! + 1/4!.....\r\n\r\nHere is my code:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class question{\r\n     public static void main(String[] args) {\r\n     Scanner sc = new Scanner(System.in);\r\n     int n =sc.nextInt();\r\n     int[] fact= new int[n];\r\n     fact[0] =fact[1] =1;\r\n     for(int i=2;i&lt;=n;i++)\r\n     {\r\n     fact[i]= fact[i-1]*i;\r\n     }\r\n     double sum=0;\r\n     for(int i=1;i&lt;=n;i++){\r\n     sum+=1/fact[i];\r\n      }\r\n     System.out.println(sum);\r\n   }\r\n}\r\n```\r\n\r\nThis code is giving error\r\n&gt; input:3  \r\n&gt; Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoindsException: Index 33 out of bounds for length 3 at question.main(question.java.12)\r\n\r\nWhat is the reason for this error? How to resolve it? \r\n","title":"WAP to compute the sum of the first n terms of the following series","body":"<p>S = 1 + 1/2! + 1/3! + 1/4!.....</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class question{\n     public static void main(String[] args) {\n     Scanner sc = new Scanner(System.in);\n     int n =sc.nextInt();\n     int[] fact= new int[n];\n     fact[0] =fact[1] =1;\n     for(int i=2;i&lt;=n;i++)\n     {\n     fact[i]= fact[i-1]*i;\n     }\n     double sum=0;\n     for(int i=1;i&lt;=n;i++){\n     sum+=1/fact[i];\n      }\n     System.out.println(sum);\n   }\n}\n</code></pre>\n<p>This code is giving error</p>\n<blockquote>\n<p>input:3<br />\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoindsException: Index 33 out of bounds for length 3 at question.main(question.java.12)</p>\n</blockquote>\n<p>What is the reason for this error? How to resolve it?</p>\n"},{"tags":["python","java","tensorflow","machine-learning","multidimensional-array"],"comments":[{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1651049500,"post_id":72015945,"comment_id":127267323,"body_markdown":"How are you resizing the image?","body":"How are you resizing the image?"},{"owner":{"account_id":20309229,"reputation":163,"user_id":14896726,"display_name":"user14896726"},"score":0,"creation_date":1651122138,"post_id":72015945,"comment_id":127288640,"body_markdown":"In this case manually, using the Preview App in Mac OS. I also thought this may be a problem as I alter the pixels. But if I load a video of a moving person and grab the frames one after another the precision is also not as good as expected. Some joints are recognized well, other (as the Elbow in the image above) are in totally other places. I also did use the absolut same Image Upload in a custom Jupyter notebook and in my class. There was also a difference like above. But I will repeat that again","body":"In this case manually, using the Preview App in Mac OS. I also thought this may be a problem as I alter the pixels. But if I load a video of a moving person and grab the frames one after another the precision is also not as good as expected. Some joints are recognized well, other (as the Elbow in the image above) are in totally other places. I also did use the absolut same Image Upload in a custom Jupyter notebook and in my class. There was also a difference like above. But I will repeat that again"},{"owner":{"account_id":20309229,"reputation":163,"user_id":14896726,"display_name":"user14896726"},"score":1,"creation_date":1651126000,"post_id":72015945,"comment_id":127289436,"body_markdown":"I now used the exactly same source image for both approaches (Python and Java) Therefore I uploaded the image with 256x256 pixels into my webspace in order to be able to include it in the Jupyter notebook in Python and in Java as well. In Python I get the same result as expected and as it is shown on the MoveNet website. The classification is as expected and exactly as shown in the original image that I used (from the MoveNet website). In Java there is still the difference that I described. I will edit the question above accordingly to be more precise.","body":"I now used the exactly same source image for both approaches (Python and Java) Therefore I uploaded the image with 256x256 pixels into my webspace in order to be able to include it in the Jupyter notebook in Python and in Java as well. In Python I get the same result as expected and as it is shown on the MoveNet website. The classification is as expected and exactly as shown in the original image that I used (from the MoveNet website). In Java there is still the difference that I described. I will edit the question above accordingly to be more precise."}],"answers":[{"tags":[],"owner":{"account_id":20309229,"reputation":163,"user_id":14896726,"display_name":"user14896726"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651229276,"creation_date":1651229276,"answer_id":72056758,"question_id":72015945,"body_markdown":"I found the answer. I mixed up **height** and **width** twice! No idea, why this behaves so strange (nearly correct but not perfect) but it works now.\r\n\r\nIn the Jupyter notebook it says: \r\n```\r\ninput_image: A [1, height, width, 3]\r\n```\r\n\r\nso I changed the method fillIntArray to:\r\n\r\n```\r\nprivate IntNdArray fillIntNdArray(IntNdArray pMatrix, BufferedImage pImage) {        \r\n        try {\r\n            int w = pImage.getWidth();\r\n            int h = pImage.getHeight();                \r\n\r\n            for (int i = 0; i &lt; h; i++) {\r\n                for (int j = 0; j &lt; w; j++) {                 \r\n                    Color mycolor = new Color(pImage.getRGB(j, i));\r\n                    int red = mycolor.getRed();\r\n                    int green = mycolor.getGreen();\r\n                    int blue = mycolor.getBlue();\r\n                    pMatrix.setInt(red, 0, i, j, 0); // switched j and i \r\n                    pMatrix.setInt(green, 0, i, j, 1); // switched j and i \r\n                    pMatrix.setInt(blue, 0, i, j, 2); // switched j and i                                    \r\n                }\r\n            }\r\n        }\r\n        catch (Exception e) {            \r\n        }\r\n        return pMatrix;        \r\n    }\r\n```\r\n\r\nand accordingly in the run()-method:\r\n\r\n```\r\nIntNdArray input_matrix = NdArrays.ofInts(Shape.of(1, height, width, 3));\r\n```\r\n\r\nIn the Jupyter notebook you can toggle the helper functions for visualization and see that at first y and then x coordinates are taken. Height first, then width. Changing this in the ImagePanel class too, solves the problem and the classification is as expected and the same quality as in the online demonstration!\r\n\r\n```\r\nif (points != null) {\r\n    for (int j=0; j&lt;17; j++) {                            \r\n        // switched 0 and 1\r\n        g.fillOval((int)points[j][1], (int)points[j][0], 5, 5);\r\n    } \r\n}\r\n```\r\n\r\nHere it is:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IjfRP.png","title":"Why do I get worse results in Java than in Python when using the same Tensorflow models?","body":"<p>I found the answer. I mixed up <strong>height</strong> and <strong>width</strong> twice! No idea, why this behaves so strange (nearly correct but not perfect) but it works now.</p>\n<p>In the Jupyter notebook it says:</p>\n<pre><code>input_image: A [1, height, width, 3]\n</code></pre>\n<p>so I changed the method fillIntArray to:</p>\n<pre><code>private IntNdArray fillIntNdArray(IntNdArray pMatrix, BufferedImage pImage) {        \n        try {\n            int w = pImage.getWidth();\n            int h = pImage.getHeight();                \n\n            for (int i = 0; i &lt; h; i++) {\n                for (int j = 0; j &lt; w; j++) {                 \n                    Color mycolor = new Color(pImage.getRGB(j, i));\n                    int red = mycolor.getRed();\n                    int green = mycolor.getGreen();\n                    int blue = mycolor.getBlue();\n                    pMatrix.setInt(red, 0, i, j, 0); // switched j and i \n                    pMatrix.setInt(green, 0, i, j, 1); // switched j and i \n                    pMatrix.setInt(blue, 0, i, j, 2); // switched j and i                                    \n                }\n            }\n        }\n        catch (Exception e) {            \n        }\n        return pMatrix;        \n    }\n</code></pre>\n<p>and accordingly in the run()-method:</p>\n<pre><code>IntNdArray input_matrix = NdArrays.ofInts(Shape.of(1, height, width, 3));\n</code></pre>\n<p>In the Jupyter notebook you can toggle the helper functions for visualization and see that at first y and then x coordinates are taken. Height first, then width. Changing this in the ImagePanel class too, solves the problem and the classification is as expected and the same quality as in the online demonstration!</p>\n<pre><code>if (points != null) {\n    for (int j=0; j&lt;17; j++) {                            \n        // switched 0 and 1\n        g.fillOval((int)points[j][1], (int)points[j][0], 5, 5);\n    } \n}\n</code></pre>\n<p>Here it is:\n<a href=\"https://i.stack.imgur.com/IjfRP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IjfRP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20309229,"reputation":163,"user_id":14896726,"display_name":"user14896726"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72056758,"answer_count":1,"score":3,"last_activity_date":1651229276,"creation_date":1650984050,"question_id":72015945,"body_markdown":"Introduction:\r\n-------------\r\n\r\nFor education purpose I developed a **Java** class that enables students to load **Tensorflow** models in the [Tensorflow SavedModel format][1] and use them for classification purpose in Java. For example, they can create a model online with [Google&#39;s Teachable Machine][2], download that and use that model right in Java. This also works with many image classification models on [tfhub.dev][3]. Thereby I tried to use the **new** but not well documented Java API and not the deprecated old *libtensorflow-API* (when I understood everything correctly). As I use **BlueJ** for that, everything is based on pure Java code linking the required libraries directly in BlueJ&#39;s preferences after downloading them. The documentation in the Java code shows where to download the libraries.\r\n\r\n***Note:** I know that &quot;the normal way today&quot; is using Gradle or Maven or sth. but students do not work with these tools. Another note: In the following I only use a few Code excerpts in order to simplify everything to fit into this minimum example.* \r\n\r\nProblem:\r\n--------\r\n\r\nThe results of all my loaded models in Java are OK but not that performant as in Python resp. the online demonstrations linked on the Tensorflow website, mainly in Jupyter notebooks. So there seems to be one step wrong in my code.\r\n\r\nAs a representative test I will now compare the performance of the **MoveNet** model when using Python and Java. The MoveNet model &quot;Thunder&quot; detects 17 keypoints of a body in an **image** with 256x256 pixels. I will use exactly the same image (the same file without touching and resizing it) in both setups (I uploaded it to my webspace; this step was done when updating this text, however there are no differences in the results).\r\n\r\n**Python:**\r\nThe MoveNet Model comes with a nice online Python demo in a Jupyter notebook:\r\n\r\n[https://www.tensorflow.org/hub/tutorials/movenet][4]\r\n\r\nThe code can be found [here][5] (Note: I linked to the same image as in my Java project by uploading it to my webspace and linking to it) and the classification result of the image looks like this:\r\n\r\n[![Python demo classification][6]][6]\r\n\r\n\r\n**Java:**\r\nMy Java-based approach ends up in an image like this:\r\n\r\n[![Java demo classification][7]][7]\r\n\r\nI think that it is not bad, but it isn&#39;t perfect. With other models like e.g. Google&#39;s *imagenet_mobilenet* model I get similar results that are ok, but I suppose they are always a bit better when running online demos in Jupyter notebooks. I do not have more evidence - only a feeling. Im some cases the same image from the online demo is recognized as a different class - but not always. I might provide more data on that later.\r\n\r\nAssumption and work done yet:\r\n-----------------------------\r\n\r\nThere might be an error in the data structures or algorithms on them in my Java code. I really searched the web for some weeks now, but I am unsure if my code really is precise, mainly as there are too few examples out there. E.g., I tried to change the order of RGB or the way it is calculated in the method that converts an image into a ND array. However, I saw no significant changes. Maybe the error is anywhere else. However, probably it is just as it is. If my code works well and is correct, that it is also ok for me - but I am still wondering why there are differences. Thanks for answers!\r\n\r\nCode:\r\n-----\r\n\r\nHere is a fully working example with two classes (I know, the Frame with the Panel drawing is bad - I coded this just fast for this example)\r\n\r\n```\r\n/**\r\n * 1. TensorFlow Core API Library: org.tensorflow -&gt; tensorflow-core-api\r\n *      https://mvnrepository.com/artifact/org.tensorflow/tensorflow-core-api\r\n *          -&gt; tensorflow-core-api-0.4.0.jar\r\n *      \r\n * 2.   additionally click &quot;View All&quot; and open:\r\n *      https://repo1.maven.org/maven2/org/tensorflow/tensorflow-core-api/0.4.0/\r\n *      Download the correct native library for your OS\r\n *          -&gt; tensorflow-core-api-0.4.0-macosx-x86_64.jar\r\n *          -&gt; tensorflow-core-api-0.4.0-windows-x86_64.jar\r\n *          -&gt; tensorflow-core-api-0.4.0-linux-x86_64.jar \r\n *      \r\n * 3. TensorFlow Framework Library:  org.tensorflow -&gt; tensorflow-framework\r\n *      https://mvnrepository.com/artifact/org.tensorflow/tensorflow-framework/0.4.0\r\n *          -&gt; tensorflow-framework-0.4.0.jar      \r\n *          \r\n * 4. Protocol Buffers [Core]: com.google.protobuf -&gt; protobuf-java\r\n *      https://mvnrepository.com/artifact/com.google.protobuf/protobuf-java\r\n *          -&gt; protobuf-java-4.0.0-rc-2.jar\r\n * \r\n * 5. JavaCPP: org.bytedeco -&gt; javacpp\r\n *      https://mvnrepository.com/artifact/org.bytedeco/javacpp\r\n *          -&gt; javacpp-1.5.7.jar\r\n * \r\n * 6. TensorFlow NdArray Library:  org.tensorflow -&gt; ndarray\r\n *      https://mvnrepository.com/artifact/org.tensorflow/ndarray\r\n *          -&gt; ndarray-0.3.3.jar\r\n */\r\nimport org.tensorflow.SavedModelBundle;\r\nimport org.tensorflow.Tensor;\r\nimport org.tensorflow.ndarray.IntNdArray;\r\nimport org.tensorflow.ndarray.NdArrays;\r\nimport org.tensorflow.ndarray.Shape;\r\nimport org.tensorflow.types.TInt32;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.Color;\r\nimport java.io.File;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JButton;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.BorderLayout;\r\n\r\npublic class MoveNetDemo {\r\n\r\n    private SavedModelBundle model;\r\n    private String inputLayerName;\r\n    private String outputLayerName;\r\n    private String keyName;\r\n    private BufferedImage image;\r\n    private float[][] output;    \r\n    private int width;\r\n    private int height;\r\n\r\n    public MoveNetDemo(String pFoldername, int pImageWidth, int pImageHeight) {\r\n        width = pImageWidth;\r\n        height = pImageHeight;\r\n\r\n        model = SavedModelBundle.load(pFoldername, &quot;serve&quot;);\r\n        // Read input and output layer names from file\r\n        inputLayerName = model.signatures().get(0).getInputs().keySet().toString();\r\n        outputLayerName = model.signatures().get(0).getOutputs().keySet().toString();\r\n        inputLayerName = inputLayerName.substring(1, inputLayerName.length()-1);\r\n        outputLayerName = outputLayerName.substring(1, outputLayerName.length()-1);\r\n        keyName = model.signatures().get(0).key();        \r\n    }\r\n\r\n    // not necessary here\r\n    public String getModelInformation() { \r\n        String infos = &quot;&quot;;\r\n        for (int i=0; i&lt;model.signatures().size(); i++) {\r\n            infos += model.signatures().get(i).toString();\r\n        }         \r\n        return infos;\r\n    }  \r\n\r\n    public void setData(String pFilename) {\r\n        image = null;\r\n        try {\r\n            image = ImageIO.read(new File(pFilename));            \r\n        } \r\n        catch (Exception e) {          \r\n        }\r\n    }\r\n\r\n    public BufferedImage getData() {\r\n        return image;\r\n    }\r\n\r\n    private IntNdArray fillIntNdArray(IntNdArray pMatrix, BufferedImage pImage) {        \r\n        try {\r\n            int w = pImage.getWidth();\r\n            int h = pImage.getHeight();                \r\n\r\n            for (int i = 0; i &lt; h; i++) {\r\n                for (int j = 0; j &lt; w; j++) {                 \r\n                    Color mycolor = new Color(pImage.getRGB(j, i));\r\n                    int red = mycolor.getRed();\r\n                    int green = mycolor.getGreen();\r\n                    int blue = mycolor.getBlue();\r\n                    pMatrix.setInt(red, 0, j, i, 0);\r\n                    pMatrix.setInt(green, 0, j, i, 1);\r\n                    pMatrix.setInt(blue, 0, j, i, 2);                                       \r\n                }\r\n            }\r\n        }\r\n        catch (Exception e) {            \r\n        }\r\n        return pMatrix;        \r\n    }\r\n\r\n    public void run() {\r\n        Map&lt;String, Tensor&gt; feed_dict = null;\r\n        IntNdArray input_matrix = NdArrays.ofInts(Shape.of(1, width, height, 3));\r\n        input_matrix = fillIntNdArray(input_matrix, image);            \r\n        Tensor input_tensor = TInt32.tensorOf(input_matrix);\r\n        feed_dict = new HashMap&lt;&gt;();\r\n        feed_dict.put(inputLayerName, input_tensor); \r\n        Map&lt;String, Tensor&gt; res = model.function(keyName).call(feed_dict);                \r\n        Tensor output_tensor = res.get(outputLayerName); \r\n\r\n        output = new float[17][3];\r\n        for (int i= 0; i&lt;17; i++) {\r\n            output[i][0] = output_tensor.asRawTensor().data().asFloats().getFloat(i*3)*256;                \r\n            output[i][1] = output_tensor.asRawTensor().data().asFloats().getFloat(i*3+1)*256;                \r\n            output[i][2] = output_tensor.asRawTensor().data().asFloats().getFloat(i*3+2);\r\n        }\r\n    }\r\n\r\n    public float[][] getOutputArray() {\r\n        return output;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MoveNetDemo im = new MoveNetDemo(&quot;/Users/myname/Downloads/Code/TF_Test_04_NEW/movenet_singlepose_thunder_4&quot;, 256, 256);        \r\n        im.setData(&quot;/Users/myname/Downloads/Code/TF_Test_04_NEW/test.jpeg&quot;);\r\n\r\n        JFrame jf = new JFrame(&quot;TEST&quot;);\r\n        jf.setSize(300, 300);\r\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        ImagePanel ip = new ImagePanel(im.getData());\r\n        jf.add(ip, BorderLayout.CENTER);\r\n\r\n        JButton st = new JButton(&quot;RUN&quot;);\r\n        st.addActionListener(new ActionListener() { \r\n                public void actionPerformed(ActionEvent e) {\r\n                    im.run();                            \r\n                    ip.update(im.getOutputArray());\r\n                    \r\n                } \r\n            });        \r\n        jf.add(st, BorderLayout.NORTH);\r\n\r\n        jf.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nand the ImagePanel class:\r\n\r\n```\r\nimport javax.swing.JPanel;\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.Graphics;\r\nimport java.awt.Color;\r\n\r\npublic class ImagePanel extends JPanel {\r\n\r\n    private BufferedImage image;\r\n    private float[][] points;\r\n\r\n    public ImagePanel(BufferedImage pImage) {        \r\n        image = pImage;        \r\n    }\r\n\r\n    public void update(float[][] pPoints) {\r\n        points = pPoints;\r\n        repaint();\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {                \r\n        super.paintComponent(g);        \r\n        g.drawImage(image, 0,0,null);\r\n        g.setColor(Color.GREEN);\r\n        if (points != null) {\r\n            for (int j=0; j&lt;17; j++) {                            \r\n                g.fillOval((int)points[j][0], (int)points[j][1], 5, 5);\r\n            } \r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://www.tensorflow.org/guide/saved_model\r\n  [2]: https://teachablemachine.withgoogle.com/train/image\r\n  [3]: https://tfhub.dev\r\n  [4]: https://www.tensorflow.org/hub/tutorials/movenet\r\n  [5]: https://github.com/djanssen79/test/blob/main/MoveNetDemo.ipynb\r\n  [6]: https://i.stack.imgur.com/xkgxo.png\r\n  [7]: https://i.stack.imgur.com/skOBh.png","title":"Why do I get worse results in Java than in Python when using the same Tensorflow models?","body":"<h2>Introduction:</h2>\n<p>For education purpose I developed a <strong>Java</strong> class that enables students to load <strong>Tensorflow</strong> models in the <a href=\"https://www.tensorflow.org/guide/saved_model\" rel=\"nofollow noreferrer\">Tensorflow SavedModel format</a> and use them for classification purpose in Java. For example, they can create a model online with <a href=\"https://teachablemachine.withgoogle.com/train/image\" rel=\"nofollow noreferrer\">Google's Teachable Machine</a>, download that and use that model right in Java. This also works with many image classification models on <a href=\"https://tfhub.dev\" rel=\"nofollow noreferrer\">tfhub.dev</a>. Thereby I tried to use the <strong>new</strong> but not well documented Java API and not the deprecated old <em>libtensorflow-API</em> (when I understood everything correctly). As I use <strong>BlueJ</strong> for that, everything is based on pure Java code linking the required libraries directly in BlueJ's preferences after downloading them. The documentation in the Java code shows where to download the libraries.</p>\n<p><em><strong>Note:</strong> I know that &quot;the normal way today&quot; is using Gradle or Maven or sth. but students do not work with these tools. Another note: In the following I only use a few Code excerpts in order to simplify everything to fit into this minimum example.</em></p>\n<h2>Problem:</h2>\n<p>The results of all my loaded models in Java are OK but not that performant as in Python resp. the online demonstrations linked on the Tensorflow website, mainly in Jupyter notebooks. So there seems to be one step wrong in my code.</p>\n<p>As a representative test I will now compare the performance of the <strong>MoveNet</strong> model when using Python and Java. The MoveNet model &quot;Thunder&quot; detects 17 keypoints of a body in an <strong>image</strong> with 256x256 pixels. I will use exactly the same image (the same file without touching and resizing it) in both setups (I uploaded it to my webspace; this step was done when updating this text, however there are no differences in the results).</p>\n<p><strong>Python:</strong>\nThe MoveNet Model comes with a nice online Python demo in a Jupyter notebook:</p>\n<p><a href=\"https://www.tensorflow.org/hub/tutorials/movenet\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/hub/tutorials/movenet</a></p>\n<p>The code can be found <a href=\"https://github.com/djanssen79/test/blob/main/MoveNetDemo.ipynb\" rel=\"nofollow noreferrer\">here</a> (Note: I linked to the same image as in my Java project by uploading it to my webspace and linking to it) and the classification result of the image looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/xkgxo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xkgxo.png\" alt=\"Python demo classification\" /></a></p>\n<p><strong>Java:</strong>\nMy Java-based approach ends up in an image like this:</p>\n<p><a href=\"https://i.stack.imgur.com/skOBh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/skOBh.png\" alt=\"Java demo classification\" /></a></p>\n<p>I think that it is not bad, but it isn't perfect. With other models like e.g. Google's <em>imagenet_mobilenet</em> model I get similar results that are ok, but I suppose they are always a bit better when running online demos in Jupyter notebooks. I do not have more evidence - only a feeling. Im some cases the same image from the online demo is recognized as a different class - but not always. I might provide more data on that later.</p>\n<h2>Assumption and work done yet:</h2>\n<p>There might be an error in the data structures or algorithms on them in my Java code. I really searched the web for some weeks now, but I am unsure if my code really is precise, mainly as there are too few examples out there. E.g., I tried to change the order of RGB or the way it is calculated in the method that converts an image into a ND array. However, I saw no significant changes. Maybe the error is anywhere else. However, probably it is just as it is. If my code works well and is correct, that it is also ok for me - but I am still wondering why there are differences. Thanks for answers!</p>\n<h2>Code:</h2>\n<p>Here is a fully working example with two classes (I know, the Frame with the Panel drawing is bad - I coded this just fast for this example)</p>\n<pre><code>/**\n * 1. TensorFlow Core API Library: org.tensorflow -&gt; tensorflow-core-api\n *      https://mvnrepository.com/artifact/org.tensorflow/tensorflow-core-api\n *          -&gt; tensorflow-core-api-0.4.0.jar\n *      \n * 2.   additionally click &quot;View All&quot; and open:\n *      https://repo1.maven.org/maven2/org/tensorflow/tensorflow-core-api/0.4.0/\n *      Download the correct native library for your OS\n *          -&gt; tensorflow-core-api-0.4.0-macosx-x86_64.jar\n *          -&gt; tensorflow-core-api-0.4.0-windows-x86_64.jar\n *          -&gt; tensorflow-core-api-0.4.0-linux-x86_64.jar \n *      \n * 3. TensorFlow Framework Library:  org.tensorflow -&gt; tensorflow-framework\n *      https://mvnrepository.com/artifact/org.tensorflow/tensorflow-framework/0.4.0\n *          -&gt; tensorflow-framework-0.4.0.jar      \n *          \n * 4. Protocol Buffers [Core]: com.google.protobuf -&gt; protobuf-java\n *      https://mvnrepository.com/artifact/com.google.protobuf/protobuf-java\n *          -&gt; protobuf-java-4.0.0-rc-2.jar\n * \n * 5. JavaCPP: org.bytedeco -&gt; javacpp\n *      https://mvnrepository.com/artifact/org.bytedeco/javacpp\n *          -&gt; javacpp-1.5.7.jar\n * \n * 6. TensorFlow NdArray Library:  org.tensorflow -&gt; ndarray\n *      https://mvnrepository.com/artifact/org.tensorflow/ndarray\n *          -&gt; ndarray-0.3.3.jar\n */\nimport org.tensorflow.SavedModelBundle;\nimport org.tensorflow.Tensor;\nimport org.tensorflow.ndarray.IntNdArray;\nimport org.tensorflow.ndarray.NdArrays;\nimport org.tensorflow.ndarray.Shape;\nimport org.tensorflow.types.TInt32;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\nimport java.awt.Color;\nimport java.io.File;\nimport javax.swing.JFrame;\nimport javax.swing.JButton;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.BorderLayout;\n\npublic class MoveNetDemo {\n\n    private SavedModelBundle model;\n    private String inputLayerName;\n    private String outputLayerName;\n    private String keyName;\n    private BufferedImage image;\n    private float[][] output;    \n    private int width;\n    private int height;\n\n    public MoveNetDemo(String pFoldername, int pImageWidth, int pImageHeight) {\n        width = pImageWidth;\n        height = pImageHeight;\n\n        model = SavedModelBundle.load(pFoldername, &quot;serve&quot;);\n        // Read input and output layer names from file\n        inputLayerName = model.signatures().get(0).getInputs().keySet().toString();\n        outputLayerName = model.signatures().get(0).getOutputs().keySet().toString();\n        inputLayerName = inputLayerName.substring(1, inputLayerName.length()-1);\n        outputLayerName = outputLayerName.substring(1, outputLayerName.length()-1);\n        keyName = model.signatures().get(0).key();        \n    }\n\n    // not necessary here\n    public String getModelInformation() { \n        String infos = &quot;&quot;;\n        for (int i=0; i&lt;model.signatures().size(); i++) {\n            infos += model.signatures().get(i).toString();\n        }         \n        return infos;\n    }  \n\n    public void setData(String pFilename) {\n        image = null;\n        try {\n            image = ImageIO.read(new File(pFilename));            \n        } \n        catch (Exception e) {          \n        }\n    }\n\n    public BufferedImage getData() {\n        return image;\n    }\n\n    private IntNdArray fillIntNdArray(IntNdArray pMatrix, BufferedImage pImage) {        \n        try {\n            int w = pImage.getWidth();\n            int h = pImage.getHeight();                \n\n            for (int i = 0; i &lt; h; i++) {\n                for (int j = 0; j &lt; w; j++) {                 \n                    Color mycolor = new Color(pImage.getRGB(j, i));\n                    int red = mycolor.getRed();\n                    int green = mycolor.getGreen();\n                    int blue = mycolor.getBlue();\n                    pMatrix.setInt(red, 0, j, i, 0);\n                    pMatrix.setInt(green, 0, j, i, 1);\n                    pMatrix.setInt(blue, 0, j, i, 2);                                       \n                }\n            }\n        }\n        catch (Exception e) {            \n        }\n        return pMatrix;        \n    }\n\n    public void run() {\n        Map&lt;String, Tensor&gt; feed_dict = null;\n        IntNdArray input_matrix = NdArrays.ofInts(Shape.of(1, width, height, 3));\n        input_matrix = fillIntNdArray(input_matrix, image);            \n        Tensor input_tensor = TInt32.tensorOf(input_matrix);\n        feed_dict = new HashMap&lt;&gt;();\n        feed_dict.put(inputLayerName, input_tensor); \n        Map&lt;String, Tensor&gt; res = model.function(keyName).call(feed_dict);                \n        Tensor output_tensor = res.get(outputLayerName); \n\n        output = new float[17][3];\n        for (int i= 0; i&lt;17; i++) {\n            output[i][0] = output_tensor.asRawTensor().data().asFloats().getFloat(i*3)*256;                \n            output[i][1] = output_tensor.asRawTensor().data().asFloats().getFloat(i*3+1)*256;                \n            output[i][2] = output_tensor.asRawTensor().data().asFloats().getFloat(i*3+2);\n        }\n    }\n\n    public float[][] getOutputArray() {\n        return output;\n    }\n\n    public static void main(String[] args) {\n        MoveNetDemo im = new MoveNetDemo(&quot;/Users/myname/Downloads/Code/TF_Test_04_NEW/movenet_singlepose_thunder_4&quot;, 256, 256);        \n        im.setData(&quot;/Users/myname/Downloads/Code/TF_Test_04_NEW/test.jpeg&quot;);\n\n        JFrame jf = new JFrame(&quot;TEST&quot;);\n        jf.setSize(300, 300);\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        ImagePanel ip = new ImagePanel(im.getData());\n        jf.add(ip, BorderLayout.CENTER);\n\n        JButton st = new JButton(&quot;RUN&quot;);\n        st.addActionListener(new ActionListener() { \n                public void actionPerformed(ActionEvent e) {\n                    im.run();                            \n                    ip.update(im.getOutputArray());\n                    \n                } \n            });        \n        jf.add(st, BorderLayout.NORTH);\n\n        jf.setVisible(true);\n    }\n}\n</code></pre>\n<p>and the ImagePanel class:</p>\n<pre><code>import javax.swing.JPanel;\nimport java.awt.image.BufferedImage;\nimport java.awt.Graphics;\nimport java.awt.Color;\n\npublic class ImagePanel extends JPanel {\n\n    private BufferedImage image;\n    private float[][] points;\n\n    public ImagePanel(BufferedImage pImage) {        \n        image = pImage;        \n    }\n\n    public void update(float[][] pPoints) {\n        points = pPoints;\n        repaint();\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {                \n        super.paintComponent(g);        \n        g.drawImage(image, 0,0,null);\n        g.setColor(Color.GREEN);\n        if (points != null) {\n            for (int j=0; j&lt;17; j++) {                            \n                g.fillOval((int)points[j][0], (int)points[j][1], 5, 5);\n            } \n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":8296744,"reputation":4073,"user_id":6236752,"accept_rate":100,"display_name":"Nouman Ch"},"score":0,"creation_date":1523100766,"post_id":49706889,"comment_id":86426982,"body_markdown":"check your user uid.","body":"check your user uid."},{"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"score":0,"creation_date":1523100808,"post_id":49706889,"comment_id":86426992,"body_markdown":"Did you authenticate the user?","body":"Did you authenticate the user?"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1523100855,"post_id":49706889,"comment_id":86427001,"body_markdown":"Debug the value of user.getUid() . If its ok then add a completion listener to check the error.","body":"Debug the value of user.getUid() . If its ok then add a completion listener to check the error."},{"owner":{"account_id":12434590,"reputation":47,"user_id":9055480,"display_name":"Đặng T&#226;m"},"score":0,"creation_date":1523100925,"post_id":49706889,"comment_id":86427017,"body_markdown":"@NoumanCh It&#39;s normal","body":"@NoumanCh It&#39;s normal"},{"owner":{"account_id":12434590,"reputation":47,"user_id":9055480,"display_name":"Đặng T&#226;m"},"score":0,"creation_date":1523100939,"post_id":49706889,"comment_id":86427019,"body_markdown":"@ADM How can i add completion listener?","body":"@ADM How can i add completion listener?"},{"owner":{"account_id":12434590,"reputation":47,"user_id":9055480,"display_name":"Đặng T&#226;m"},"score":0,"creation_date":1523101058,"post_id":49706889,"comment_id":86427057,"body_markdown":"@PeterHaddad i am trying to develop the register. After registing, i will add the info of users to the database and it&#39;s not working. The authentication is ok","body":"@PeterHaddad i am trying to develop the register. After registing, i will add the info of users to the database and it&#39;s not working. The authentication is ok"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1523101323,"post_id":49706889,"comment_id":86427126,"body_markdown":"https://www.firebase.com/docs/android/guide/saving-data.html#section-completion-callback","body":"<a href=\"https://www.firebase.com/docs/android/guide/saving-data.html#section-completion-callback\" rel=\"nofollow noreferrer\">firebase.com/docs/android/guide/&hellip;</a>"},{"owner":{"account_id":12282704,"reputation":739,"user_id":8963654,"display_name":"Mohammad"},"score":0,"creation_date":1523101706,"post_id":49706889,"comment_id":86427224,"body_markdown":"I think you are adding the value to NOT existed UID  node .. you need to save the UID to firebase database first","body":"I think you are adding the value to NOT existed UID  node .. you need to save the UID to firebase database first"},{"owner":{"account_id":12434590,"reputation":47,"user_id":9055480,"display_name":"Đặng T&#226;m"},"score":0,"creation_date":1523102546,"post_id":49706889,"comment_id":86427493,"body_markdown":"@Mohammad the  node exists :(","body":"@Mohammad the  node exists :("},{"owner":{"account_id":12282704,"reputation":739,"user_id":8963654,"display_name":"Mohammad"},"score":3,"creation_date":1523105129,"post_id":49706889,"comment_id":86428290,"body_markdown":"may be you need to change database rules to true if you haven&#39;t authenticated the user yet","body":"may be you need to change database rules to true if you haven&#39;t authenticated the user yet"}],"answers":[{"tags":[],"owner":{"account_id":17020749,"reputation":1278,"user_id":12313402,"display_name":"Vijay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587448505,"creation_date":1587448505,"answer_id":61336817,"question_id":49706889,"body_markdown":"Go to the console of firebase on firebase.google.com\r\nThen click on rules and then set rules like this \r\nyou can do this easily\r\n\r\n    &quot;.read&quot;: &quot;auth!=null&quot;,\r\n    &quot;.write&quot;: &quot;auth!=null&quot;\r\n\r\nand then click publish then try again it will work 100% sure.\r\n\r\nmake sure your code is also correct in your android studio.","title":"Android Firebase: Set Value not working","body":"<p>Go to the console of firebase on firebase.google.com\nThen click on rules and then set rules like this \nyou can do this easily</p>\n\n<pre><code>\".read\": \"auth!=null\",\n\".write\": \"auth!=null\"\n</code></pre>\n\n<p>and then click publish then try again it will work 100% sure.</p>\n\n<p>make sure your code is also correct in your android studio.</p>\n"},{"tags":[],"owner":{"account_id":11617817,"reputation":11,"user_id":8509937,"display_name":"Aditya Palange"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651229097,"creation_date":1651229097,"answer_id":72056723,"question_id":49706889,"body_markdown":"I&#39;ve had the same problem and I got the answer hope it&#39;s not too late for others.....\r\n\r\n1. After Creating Realtime database go to Project Settings in firebase dashboard -&gt; Project Overview -&gt; Gear Icon -&gt; Project Settings and scroll down and check google-services.json file and download it again and replace with same place in android studio -&gt; select project view -&gt; in app folder (you know the drill) .... and clean - rebuild app again...... it worked for me after hours of trying .....\r\n\r\n2. in short just redownload and replace google-services.json again and clean - rebuild project....","title":"Android Firebase: Set Value not working","body":"<p>I've had the same problem and I got the answer hope it's not too late for others.....</p>\n<ol>\n<li><p>After Creating Realtime database go to Project Settings in firebase dashboard -&gt; Project Overview -&gt; Gear Icon -&gt; Project Settings and scroll down and check google-services.json file and download it again and replace with same place in android studio -&gt; select project view -&gt; in app folder (you know the drill) .... and clean - rebuild app again...... it worked for me after hours of trying .....</p>\n</li>\n<li><p>in short just redownload and replace google-services.json again and clean - rebuild project....</p>\n</li>\n</ol>\n"}],"owner":{"account_id":12434590,"reputation":47,"user_id":9055480,"display_name":"Đặng T&#226;m"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8130,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1651229097,"creation_date":1523100469,"question_id":49706889,"body_markdown":"I am trying to add an test value to Firebase Database by following code:\n                       \n\n     FirebaseDatabase database = FirebaseDatabase.getInstance();\n     DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\n     DatabaseReference usersRef = ref.child(&quot;shop&quot;).child(&quot;Users&quot;);\n                       \n     usersRef.child(user.getUid()).setValue(&quot;test&quot;);\n\nAnd the database looks like this:\n\n![enter image description here][1]\n\nBut unfortunately, it&#39;s not working. Where am i wrong? Thanks in advance.\n\n  [1]: https://i.stack.imgur.com/5RI9z.jpg\n","title":"Android Firebase: Set Value not working","body":"<p>I am trying to add an test value to Firebase Database by following code:</p>\n<pre><code> FirebaseDatabase database = FirebaseDatabase.getInstance();\n DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\n DatabaseReference usersRef = ref.child(&quot;shop&quot;).child(&quot;Users&quot;);\n                   \n usersRef.child(user.getUid()).setValue(&quot;test&quot;);\n</code></pre>\n<p>And the database looks like this:</p>\n<p><img src=\"https://i.stack.imgur.com/5RI9z.jpg\" alt=\"enter image description here\" /></p>\n<p>But unfortunately, it's not working. Where am i wrong? Thanks in advance.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3589103,"reputation":726,"user_id":2995560,"display_name":"Benoit Cuvelier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651223606,"creation_date":1651223219,"answer_id":72055484,"question_id":72055393,"body_markdown":"You could filter the fooSet by removing all name that are not present in barSet : \r\n\r\n    fooSet.stream().filter(foo -&gt; !barSet.stream().map(Bar::getName).collect(Collectors.toList()).contains(foo.getName())).collect(Collectors.toList());\r\n\r\n","title":"How to all elements based on property that dont exist on another list","body":"<p>You could filter the fooSet by removing all name that are not present in barSet :</p>\n<pre><code>fooSet.stream().filter(foo -&gt; !barSet.stream().map(Bar::getName).collect(Collectors.toList()).contains(foo.getName())).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651223317,"creation_date":1651223317,"answer_id":72055499,"question_id":72055393,"body_markdown":"You want to search for each entry through the barSet and look if any entry matches the name from the Foo-Object or rather you want to remove the entry from the set when there is no entry in the `barSet` with the same name:\r\n\r\n```\r\nString name = &quot;Johnny&quot;;\r\nSet&lt;Foo&gt; foos = new HashSet&lt;&gt;( Arrays.asList( new Foo( name, 28 ), new Foo(&quot;Smith&quot;, 20 ) ) );\r\nSet&lt;Bar&gt; bars = Collections.singleton( new Bar( name ) );\r\nfoos.removeIf( foo -&gt; bars.stream().noneMatch( bar -&gt; bar.getName().equalsIgnoreCase( foo.getName() ) ) );\r\n```\r\n","title":"How to all elements based on property that dont exist on another list","body":"<p>You want to search for each entry through the barSet and look if any entry matches the name from the Foo-Object or rather you want to remove the entry from the set when there is no entry in the <code>barSet</code> with the same name:</p>\n<pre><code>String name = &quot;Johnny&quot;;\nSet&lt;Foo&gt; foos = new HashSet&lt;&gt;( Arrays.asList( new Foo( name, 28 ), new Foo(&quot;Smith&quot;, 20 ) ) );\nSet&lt;Bar&gt; bars = Collections.singleton( new Bar( name ) );\nfoos.removeIf( foo -&gt; bars.stream().noneMatch( bar -&gt; bar.getName().equalsIgnoreCase( foo.getName() ) ) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651228965,"creation_date":1651228965,"answer_id":72056701,"question_id":72055393,"body_markdown":"Those one-liners in the other answers are probably doing their job, but they are not necessarily readable. You could also instead do the following.\r\n\r\nFirst, create a `Set` with all `name`s of `Bar`, and *then* process all `Foo` objects:\r\n\r\n```java\r\nSet&lt;String&gt; names = barSet.stream()\r\n    .map(Bar::name)\r\n    .collect(Collections.toSet());\r\n\r\nSet&lt;Foo&gt; result = fooSet.stream()\r\n   .filter(foo -&gt; !names.contains(foo.name()))\r\n   .collect(Collectors.toSet());\r\n```","title":"How to all elements based on property that dont exist on another list","body":"<p>Those one-liners in the other answers are probably doing their job, but they are not necessarily readable. You could also instead do the following.</p>\n<p>First, create a <code>Set</code> with all <code>name</code>s of <code>Bar</code>, and <em>then</em> process all <code>Foo</code> objects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; names = barSet.stream()\n    .map(Bar::name)\n    .collect(Collections.toSet());\n\nSet&lt;Foo&gt; result = fooSet.stream()\n   .filter(foo -&gt; !names.contains(foo.name()))\n   .collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72056701,"answer_count":3,"score":-1,"last_activity_date":1651228965,"creation_date":1651222791,"question_id":72055393,"body_markdown":"I have two SETs `fooSet` and `barSet` of different objects `foo` and `bar` with properties:\r\n\r\n    Class Foo { String name, Integer age }\r\n\r\n    Class Bar { String name } \r\n\r\nI want to know ALL THE ELEMENTS of the `fooSet` where `name` does not exist in the `barSet`\r\n\r\nI did multiple things but dont work. I don&#39;t know how to fix this issue\r\n\r\n    barSet.forEach(b -&gt; fooSet.stream().anyMatch(f -&gt; f.getName().equals(b.getName())));\r\n\r\n\r\nExample:\r\n\r\n    [Foo: &quot;Johnny&quot;, 28; Foo: &quot;Travolta&quot;, 10; Foo: &quot;Smith&quot;, 15]\r\n    [Bar: &quot;Travolta&quot;; Bar: &quot;Smith&quot;]\r\n\r\n**I want to get Johnny**\r\n\r\nAny help?\r\n\r\n","title":"How to all elements based on property that dont exist on another list","body":"<p>I have two SETs <code>fooSet</code> and <code>barSet</code> of different objects <code>foo</code> and <code>bar</code> with properties:</p>\n<pre><code>Class Foo { String name, Integer age }\n\nClass Bar { String name } \n</code></pre>\n<p>I want to know ALL THE ELEMENTS of the <code>fooSet</code> where <code>name</code> does not exist in the <code>barSet</code></p>\n<p>I did multiple things but dont work. I don't know how to fix this issue</p>\n<pre><code>barSet.forEach(b -&gt; fooSet.stream().anyMatch(f -&gt; f.getName().equals(b.getName())));\n</code></pre>\n<p>Example:</p>\n<pre><code>[Foo: &quot;Johnny&quot;, 28; Foo: &quot;Travolta&quot;, 10; Foo: &quot;Smith&quot;, 15]\n[Bar: &quot;Travolta&quot;; Bar: &quot;Smith&quot;]\n</code></pre>\n<p><strong>I want to get Johnny</strong></p>\n<p>Any help?</p>\n"},{"tags":["java","simpledateformat","space","parseexception"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1586615746,"post_id":61116364,"comment_id":108194052,"body_markdown":"I recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDateTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":13725957,"reputation":191,"user_id":9904706,"display_name":"Saragada Ramesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586422260,"creation_date":1586421864,"answer_id":61117222,"question_id":61116364,"body_markdown":"Instead of using sc.next() use sc.nextLine()\r\n\r\nsc.next() will find the first string till space but nextLine() will accept the entire string including space.\r\n\r\nThat issue is not because of the space.","title":"java use simpledateformat to parse a input String get ParseException, and just because of a space","body":"<p>Instead of using sc.next() use sc.nextLine()</p>\n\n<p>sc.next() will find the first string till space but nextLine() will accept the entire string including space.</p>\n\n<p>That issue is not because of the space.</p>\n"}],"owner":{"account_id":13356510,"reputation":1,"user_id":9639852,"display_name":"黄鲁皖"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61117222,"answer_count":1,"score":0,"last_activity_date":1651228819,"creation_date":1586418811,"question_id":61116364,"body_markdown":"I input a string likes the SimpleDateFormat pattern asked, but it will be ParseException. I do several tests. If I change space between &quot;dd HH&quot; to &quot;dd-HH&quot;, the pattern becomes &quot;yyyy-MM-dd-HH:mm:ss&quot;, and it will be successful.\r\nThe second test is I write a string directly like \r\n`String birthdays = &quot;1998-08-12 12:12:12&quot;;`\r\nand parse it, it will also successful.\r\nso my conclusion is the space I input is not the same as the space in the pattern. what I used is IntelliJ.\r\n```\r\n        SimpleDateFormat datef = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Please input your birthday. the pattern is &quot; +\r\n                &quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        String birthday = sc.next();\r\n        Date date2 = datef.parse(birthday);\r\n//        String birthdays = &quot;1998-08-12 12:12:12&quot;;\r\n//        Date date2 = datef.parse(birthdays); //this will successful\r\n        System.out.println(date2);\r\n```","title":"java use simpledateformat to parse a input String get ParseException, and just because of a space","body":"<p>I input a string likes the SimpleDateFormat pattern asked, but it will be ParseException. I do several tests. If I change space between \"dd HH\" to \"dd-HH\", the pattern becomes \"yyyy-MM-dd-HH:mm:ss\", and it will be successful.\nThe second test is I write a string directly like \n<code>String birthdays = \"1998-08-12 12:12:12\";</code>\nand parse it, it will also successful.\nso my conclusion is the space I input is not the same as the space in the pattern. what I used is IntelliJ.</p>\n\n<pre><code>        SimpleDateFormat datef = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n        Scanner sc = new Scanner(System.in);\n        System.out.println(\"Please input your birthday. the pattern is \" +\n                \"yyyy-MM-dd HH:mm:ss\");\n        String birthday = sc.next();\n        Date date2 = datef.parse(birthday);\n//        String birthdays = \"1998-08-12 12:12:12\";\n//        Date date2 = datef.parse(birthdays); //this will successful\n        System.out.println(date2);\n</code></pre>\n"},{"tags":["java","gremlin","tinkerpop"],"answers":[{"tags":[],"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651228760,"creation_date":1651167776,"answer_id":72048121,"question_id":72023980,"body_markdown":"At this time, there is no good way to determine the type of the current object being carried by the traverser. For determining a vertex from an edge in the stream, one common workaround is to try to use the presence of a particular property to determine the type. Assume you have this query which returns a mix of vertices and edges:\r\n\r\n    gremlin&gt; g.V().optional(outE())\r\n    ==&gt;e[9][1-created-&gt;3]\r\n    ==&gt;e[7][1-knows-&gt;2]\r\n    ==&gt;e[8][1-knows-&gt;4]\r\n    ==&gt;v[2]\r\n    ==&gt;v[3]\r\n    ==&gt;e[10][4-created-&gt;5]\r\n    ==&gt;e[11][4-created-&gt;3]\r\n    ==&gt;v[5]\r\n    ==&gt;e[12][6-created-&gt;3]\r\n\r\nIn this graph the &quot;weight&quot; property can only be found on edges so therefore:\r\n\r\n    gremlin&gt; g.V().optional(outE()).\r\n    ......1&gt;   group().\r\n    ......2&gt;     by(choose(has(&#39;weight&#39;),constant(&#39;edge&#39;),constant(&#39;vertex&#39;))).\r\n    ......3&gt;   unfold()\r\n    ==&gt;edge=[e[9][1-created-&gt;3], e[7][1-knows-&gt;2], e[8][1-knows-&gt;4], e[10][4-created-&gt;5], e[11][4-created-&gt;3], e[12][6-created-&gt;3]]\r\n    ==&gt;vertex=[v[2], v[3], v[5]]\r\n\r\nHere&#39;s another example using `hasLabel()` which was the subject of your question:\r\n\r\n    gremlin&gt; g.V().optional(outE()).\r\n    ......1&gt;   choose(has(&#39;weight&#39;),\r\n    ......2&gt;          hasLabel(&#39;created&#39;),\r\n    ......3&gt;          hasLabel(&#39;software&#39;))\r\n    ==&gt;e[9][1-created-&gt;3]\r\n    ==&gt;v[3]\r\n    ==&gt;e[10][4-created-&gt;5]\r\n    ==&gt;e[11][4-created-&gt;3]\r\n    ==&gt;v[5]\r\n    ==&gt;e[12][6-created-&gt;3]\r\n\r\nThe pattern in either case is to write an if/then statement using `choose()`, where the if-condition is simply a property that uniquely identify an element as a vertex or an edge. \r\n\r\nThat said, I will say that I tend to avoid this problem all together when modelling and ensure that label values uniquely identify the vertex or edge. If you do that, you don&#39;t need to worry about this issue as you can then just do:\r\n\r\n    gremlin&gt; g.V().optional(outE()).\r\n    ......1&gt;   hasLabel(&#39;created&#39;,&#39;software&#39;)\r\n    ==&gt;e[9][1-created-&gt;3]\r\n    ==&gt;v[3]\r\n    ==&gt;e[10][4-created-&gt;5]\r\n    ==&gt;e[11][4-created-&gt;3]\r\n    ==&gt;v[5]\r\n    ==&gt;e[12][6-created-&gt;3]\r\n\r\nI would suggest taking that approach and simply preferring expressive verbs for the edges and noun representations for the vertices. If this modelling change is not possible or for some reason does not fit your use case then you will be forced to add a `choose()` step everywhere (or some similar approach). Of course, this situation would be a good opportunity to [use a DSL][1] to hide that complexity away and keep your Gremlin easy to read.\r\n\r\n\r\n  [1]: https://tinkerpop.apache.org/docs/current/reference/#dsl","title":"Gremlin HasStep label condition on vertex or edge","body":"<p>At this time, there is no good way to determine the type of the current object being carried by the traverser. For determining a vertex from an edge in the stream, one common workaround is to try to use the presence of a particular property to determine the type. Assume you have this query which returns a mix of vertices and edges:</p>\n<pre><code>gremlin&gt; g.V().optional(outE())\n==&gt;e[9][1-created-&gt;3]\n==&gt;e[7][1-knows-&gt;2]\n==&gt;e[8][1-knows-&gt;4]\n==&gt;v[2]\n==&gt;v[3]\n==&gt;e[10][4-created-&gt;5]\n==&gt;e[11][4-created-&gt;3]\n==&gt;v[5]\n==&gt;e[12][6-created-&gt;3]\n</code></pre>\n<p>In this graph the &quot;weight&quot; property can only be found on edges so therefore:</p>\n<pre><code>gremlin&gt; g.V().optional(outE()).\n......1&gt;   group().\n......2&gt;     by(choose(has('weight'),constant('edge'),constant('vertex'))).\n......3&gt;   unfold()\n==&gt;edge=[e[9][1-created-&gt;3], e[7][1-knows-&gt;2], e[8][1-knows-&gt;4], e[10][4-created-&gt;5], e[11][4-created-&gt;3], e[12][6-created-&gt;3]]\n==&gt;vertex=[v[2], v[3], v[5]]\n</code></pre>\n<p>Here's another example using <code>hasLabel()</code> which was the subject of your question:</p>\n<pre><code>gremlin&gt; g.V().optional(outE()).\n......1&gt;   choose(has('weight'),\n......2&gt;          hasLabel('created'),\n......3&gt;          hasLabel('software'))\n==&gt;e[9][1-created-&gt;3]\n==&gt;v[3]\n==&gt;e[10][4-created-&gt;5]\n==&gt;e[11][4-created-&gt;3]\n==&gt;v[5]\n==&gt;e[12][6-created-&gt;3]\n</code></pre>\n<p>The pattern in either case is to write an if/then statement using <code>choose()</code>, where the if-condition is simply a property that uniquely identify an element as a vertex or an edge.</p>\n<p>That said, I will say that I tend to avoid this problem all together when modelling and ensure that label values uniquely identify the vertex or edge. If you do that, you don't need to worry about this issue as you can then just do:</p>\n<pre><code>gremlin&gt; g.V().optional(outE()).\n......1&gt;   hasLabel('created','software')\n==&gt;e[9][1-created-&gt;3]\n==&gt;v[3]\n==&gt;e[10][4-created-&gt;5]\n==&gt;e[11][4-created-&gt;3]\n==&gt;v[5]\n==&gt;e[12][6-created-&gt;3]\n</code></pre>\n<p>I would suggest taking that approach and simply preferring expressive verbs for the edges and noun representations for the vertices. If this modelling change is not possible or for some reason does not fit your use case then you will be forced to add a <code>choose()</code> step everywhere (or some similar approach). Of course, this situation would be a good opportunity to <a href=\"https://tinkerpop.apache.org/docs/current/reference/#dsl\" rel=\"nofollow noreferrer\">use a DSL</a> to hide that complexity away and keep your Gremlin easy to read.</p>\n"}],"owner":{"account_id":4337370,"reputation":3797,"user_id":4788260,"display_name":"Sanjay Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72048121,"answer_count":1,"score":0,"last_activity_date":1651228760,"creation_date":1651039543,"question_id":72023980,"body_markdown":"Is there any way to find out if `hasLabel()` step is applied on vertices or edges? I know we can keep track of it while iterating through all the steps in recursion. But it may not be straight forward for the steps like `SelectStep` where we change the context. Is there any alternative way of doing it?\r\nFor example: `g.V().hasLabel(&quot;dataType1&quot;)`, here we applied hasLabel() on the vertices.","title":"Gremlin HasStep label condition on vertex or edge","body":"<p>Is there any way to find out if <code>hasLabel()</code> step is applied on vertices or edges? I know we can keep track of it while iterating through all the steps in recursion. But it may not be straight forward for the steps like <code>SelectStep</code> where we change the context. Is there any alternative way of doing it?\nFor example: <code>g.V().hasLabel(&quot;dataType1&quot;)</code>, here we applied hasLabel() on the vertices.</p>\n"},{"tags":["java","eclipse-plugin","google-cloud-sql"],"comments":[{"owner":{"account_id":2287802,"reputation":2787,"user_id":2011434,"accept_rate":54,"display_name":"BenB"},"score":0,"creation_date":1585182702,"post_id":60858940,"comment_id":107676706,"body_markdown":"Please provide the code you have in your app that does not work on the server","body":"Please provide the code you have in your app that does not work on the server"},{"owner":{"account_id":8486666,"reputation":9,"user_id":6364523,"display_name":"G Hilton"},"score":0,"creation_date":1585183512,"post_id":60858940,"comment_id":107676869,"body_markdown":"Its the connection to the database that is not working once it has been deployed. Img added to main post","body":"Its the connection to the database that is not working once it has been deployed. Img added to main post"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1585321922,"post_id":60858940,"comment_id":107726643,"body_markdown":"@GHilton: Putting the code in an image is a bad idea! It is better to paste the text in a block with the delimiter ``` before and after.","body":"@GHilton: Putting the code in an image is a bad idea! It is better to paste the text in a block with the delimiter ``` before and after."}],"answers":[{"tags":[],"owner":{"account_id":8486666,"reputation":9,"user_id":6364523,"display_name":"G Hilton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585220293,"creation_date":1585220293,"answer_id":60865692,"question_id":60858940,"body_markdown":"After a lot of reading, I made a couple of small changes like removing the port number and adding 0.0.0.0/0 into the SQL instance and the app now works really well.\r\n\r\nFrom this, I am now going to close this post.\r\n\r\nMany Thanks\r\n\r\nGraham","title":"Eclipse Google Cloud SQL connection","body":"<p>After a lot of reading, I made a couple of small changes like removing the port number and adding 0.0.0.0/0 into the SQL instance and the app now works really well.</p>\n\n<p>From this, I am now going to close this post.</p>\n\n<p>Many Thanks</p>\n\n<p>Graham</p>\n"}],"owner":{"account_id":8486666,"reputation":9,"user_id":6364523,"display_name":"G Hilton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651228750,"creation_date":1585179278,"question_id":60858940,"body_markdown":"I am writing a Java MVC web app in Eclipse using Google App Engine.\r\n\r\nI would like to know why once I have deployed the app to Google Cloud the Google Cloud MySQL connection stops working. I am not sure how I connect to this once deployed to the cloud but is is clearly not working. I have a connection when running locally?\r\n\r\n[![][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/5f2yZ.jpg","title":"Eclipse Google Cloud SQL connection","body":"<p>I am writing a Java MVC web app in Eclipse using Google App Engine.</p>\n\n<p>I would like to know why once I have deployed the app to Google Cloud the Google Cloud MySQL connection stops working. I am not sure how I connect to this once deployed to the cloud but is is clearly not working. I have a connection when running locally?</p>\n\n<p><a href=\"https://i.stack.imgur.com/5f2yZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5f2yZ.jpg\" alt=\"\"></a></p>\n"},{"tags":["java","swing","netbeans","netbeans-8","jinternalframe"],"answers":[{"tags":[],"owner":{"account_id":11236919,"reputation":145,"user_id":8242713,"display_name":"Dave Pradana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1584183938,"creation_date":1575953594,"answer_id":59260466,"question_id":59223796,"body_markdown":"The right click New menu only shows you options you have commonly used, or only several default options if you haven&#39;t used any.\r\n\r\nto find JInternalFrameFrom, select the `Other` Option on the bottom of the options,\r\n\r\nThen type in `JInternalFrame` in the search box of manually find the component inside the `Swing GUI Form` folder.\r\n\r\nsee the image below\r\n![how to find JInternalFrame Form][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6j8BK.png","title":"JInternalFrame Issue","body":"<p>The right click New menu only shows you options you have commonly used, or only several default options if you haven't used any.</p>\n\n<p>to find JInternalFrameFrom, select the <code>Other</code> Option on the bottom of the options,</p>\n\n<p>Then type in <code>JInternalFrame</code> in the search box of manually find the component inside the <code>Swing GUI Form</code> folder.</p>\n\n<p>see the image below\n<img src=\"https://i.stack.imgur.com/6j8BK.png\" alt=\"how to find JInternalFrame Form\"></p>\n"}],"owner":{"account_id":14950957,"reputation":23,"user_id":10794654,"display_name":"Buddika Abeykoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59260466,"answer_count":1,"score":0,"last_activity_date":1651228661,"creation_date":1575702483,"question_id":59223796,"body_markdown":"I could not use `JInternalFrameForm` in Netbeans.\r\n\r\nI did right click on my package and go new but I did not see JInternalFrameForm option. \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/adEvr.jpg&quot;&gt;","title":"JInternalFrame Issue","body":"<p>I could not use <code>JInternalFrameForm</code> in Netbeans.</p>\n\n<p>I did right click on my package and go new but I did not see JInternalFrameForm option. </p>\n\n<p><img src=\"https://i.stack.imgur.com/adEvr.jpg\"></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1574599705,"post_id":59017786,"comment_id":104281825,"body_markdown":"Could you please explain this line -&gt; I want to bass this x-Number from Textview to Textview?","body":"Could you please explain this line -&gt; I want to bass this x-Number from Textview to Textview?"},{"owner":{"account_id":17165807,"reputation":1,"user_id":12424200,"display_name":"Mohamed ElMasry"},"score":0,"creation_date":1574600172,"post_id":59017786,"comment_id":104281946,"body_markdown":"x-Number is in Textview other than the Cardview in Recyclerview, and I need to put this x-Number inside the Cardview.","body":"x-Number is in Textview other than the Cardview in Recyclerview, and I need to put this x-Number inside the Cardview."},{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1574600303,"post_id":59017786,"comment_id":104281978,"body_markdown":"is The x-Number is same for all cards ? or different for each cards ?","body":"is The x-Number is same for all cards ? or different for each cards ?"},{"owner":{"account_id":17165807,"reputation":1,"user_id":12424200,"display_name":"Mohamed ElMasry"},"score":0,"creation_date":1574600373,"post_id":59017786,"comment_id":104281990,"body_markdown":"There are different Data came from FireStore and x-Number will be same in all Cards.","body":"There are different Data came from FireStore and x-Number will be same in all Cards."},{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1574600612,"post_id":59017786,"comment_id":104282033,"body_markdown":"then just pass the x-Number data to the adapter class as a parameter and use it to place that in view","body":"then just pass the x-Number data to the adapter class as a parameter and use it to place that in view"},{"owner":{"account_id":17165807,"reputation":1,"user_id":12424200,"display_name":"Mohamed ElMasry"},"score":0,"creation_date":1574600846,"post_id":59017786,"comment_id":104282099,"body_markdown":"How to pass it? as I have Recycler Adaptor and in &quot;onBindViewHolder&quot; I need to pass this Number.","body":"How to pass it? as I have Recycler Adaptor and in &quot;onBindViewHolder&quot; I need to pass this Number."},{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1574602176,"post_id":59017786,"comment_id":104282423,"body_markdown":"Post Your Recycler Adapter code in the question","body":"Post Your Recycler Adapter code in the question"},{"owner":{"account_id":17165807,"reputation":1,"user_id":12424200,"display_name":"Mohamed ElMasry"},"score":0,"creation_date":1574610370,"post_id":59017786,"comment_id":104284721,"body_markdown":"The x-Number can be identified in it, but I don&#39;t know how to get the number from it and set to the Adapter.","body":"The x-Number can be identified in it, but I don&#39;t know how to get the number from it and set to the Adapter."}],"owner":{"account_id":17165807,"reputation":1,"user_id":12424200,"display_name":"Mohamed ElMasry"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651228640,"creation_date":1574599537,"question_id":59017786,"body_markdown":"I am new to Android Studio and I am facing a challenge.\r\n\r\nI have FireStore database and I retrieve the data to Textview inside CardView in the Recyclerview and &quot;it works well&quot; in Result_Activity.\r\n\r\nIn the same Result_Activity, I have Textview that gets x-Number from other activity &quot;Put &amp; Get extras&quot;, &quot;and it works well also&quot;.\r\n\r\nMy problem is, I want to pass this x-Number from Textview to Textview inside the Cardview to be shown in the Recyclerview.\r\n\r\nAnd the final result is Cardview with &quot;Data from FireStore in 3 TextView &amp; x-Number in 1 TextView&quot;.\r\n\r\nI tried to search many examples but nothing work. Is there any way to do this and also I hope there is an example for me to understand how it can be done.\r\n\r\nThe FirestoreRecyclerAdapter\r\n\r\npublic class BIRAdaptor extends FirestoreRecyclerAdapter&lt;BIR, BIRAdaptor.BRHolder&gt; {\r\n\r\n    public BIRAdaptor(@NonNull FirestoreRecyclerOptions&lt;BIR&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull BIRAdaptor.BRHolder holder, int position, @NonNull BIR model) {\r\n        holder.textViewName.setText(model.getName());\r\n        holder.textViewEmail.setText(model.getEmail());\r\n        holder.textViewInD.setText(model.getInD());\r\n        holder.textViewYs.setText(String.valueOf(model.getYs())); }\r\n\r\n    @NonNull\r\n    @Override\r\n    public BIRAdaptor.BRHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.rslt_item, parent, false);\r\n        return new BIRAdaptor.BRHolder(v);   }\r\n\r\n    public void deleteB(int position){\r\n        getSnapshots().getSnapshot(position).getReference().delete();    }\r\n\r\n    class BRHolder extends RecyclerView.ViewHolder {\r\n        TextView textViewName;\r\n        TextView textViewEmail;\r\n        TextView textViewInD;\r\n        TextView textViewYs;\r\n\r\n        TextView ttlIns;\r\n\r\n        public BRHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            textViewName =itemView.findViewById(R.id.text_view_name);\r\n            textViewEmail = itemView.findViewById(R.id.text_view_email);\r\n            textViewInD = itemView.findViewById(R.id.text_view_inD);\r\n            textViewYs = itemView.findViewById(R.id.text_view_ys);\r\n\r\n            //x-Number\r\n            ttlIns = itemView.findViewById(R.id.text_ins);\r\n        }}}\r\nHow to pass the x-Number from textview to Adapter?","title":"How to Pass data from TextView to CardView in Recyclerview which already have data from FireStore","body":"<p>I am new to Android Studio and I am facing a challenge.</p>\n\n<p>I have FireStore database and I retrieve the data to Textview inside CardView in the Recyclerview and \"it works well\" in Result_Activity.</p>\n\n<p>In the same Result_Activity, I have Textview that gets x-Number from other activity \"Put &amp; Get extras\", \"and it works well also\".</p>\n\n<p>My problem is, I want to pass this x-Number from Textview to Textview inside the Cardview to be shown in the Recyclerview.</p>\n\n<p>And the final result is Cardview with \"Data from FireStore in 3 TextView &amp; x-Number in 1 TextView\".</p>\n\n<p>I tried to search many examples but nothing work. Is there any way to do this and also I hope there is an example for me to understand how it can be done.</p>\n\n<p>The FirestoreRecyclerAdapter</p>\n\n<p>public class BIRAdaptor extends FirestoreRecyclerAdapter {</p>\n\n<pre><code>public BIRAdaptor(@NonNull FirestoreRecyclerOptions&lt;BIR&gt; options) {\n    super(options);\n}\n\n@Override\nprotected void onBindViewHolder(@NonNull BIRAdaptor.BRHolder holder, int position, @NonNull BIR model) {\n    holder.textViewName.setText(model.getName());\n    holder.textViewEmail.setText(model.getEmail());\n    holder.textViewInD.setText(model.getInD());\n    holder.textViewYs.setText(String.valueOf(model.getYs())); }\n\n@NonNull\n@Override\npublic BIRAdaptor.BRHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.rslt_item, parent, false);\n    return new BIRAdaptor.BRHolder(v);   }\n\npublic void deleteB(int position){\n    getSnapshots().getSnapshot(position).getReference().delete();    }\n\nclass BRHolder extends RecyclerView.ViewHolder {\n    TextView textViewName;\n    TextView textViewEmail;\n    TextView textViewInD;\n    TextView textViewYs;\n\n    TextView ttlIns;\n\n    public BRHolder(@NonNull View itemView) {\n        super(itemView);\n        textViewName =itemView.findViewById(R.id.text_view_name);\n        textViewEmail = itemView.findViewById(R.id.text_view_email);\n        textViewInD = itemView.findViewById(R.id.text_view_inD);\n        textViewYs = itemView.findViewById(R.id.text_view_ys);\n\n        //x-Number\n        ttlIns = itemView.findViewById(R.id.text_ins);\n    }}}\n</code></pre>\n\n<p>How to pass the x-Number from textview to Adapter?</p>\n"},{"tags":["java","spring-boot","java-17"],"comments":[{"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1638308939,"post_id":70036903,"comment_id":124053632,"body_markdown":"Duplicate. See https://stackoverflow.com/questions/70073748/i-cant-update-my-webapp-to-spring-boot-2-6-0-2-5-7-works-but-2-6-0-doesnt","body":"Duplicate. See <a href=\"https://stackoverflow.com/questions/70073748/i-cant-update-my-webapp-to-spring-boot-2-6-0-2-5-7-works-but-2-6-0-doesnt\" title=\"i cant update my webapp to spring boot 2 6 0 2 5 7 works but 2 6 0 doesnt\">stackoverflow.com/questions/70073748/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":1,"up_vote_count":66,"is_accepted":true,"score":65,"last_activity_date":1651228585,"creation_date":1637334337,"answer_id":70036904,"question_id":70036903,"body_markdown":"`Circular References Prohibited by Default` in spring boot version 2.6\r\n\r\nIf your application fails to start due to a BeanCurrentlyInCreationException you are strongly encouraged to update your configuration to break the dependency cycle. \r\n\r\nThe temporary solution is to restore 2.5’s behavior, set the following in `.properties/yml`,\r\n\r\n    spring: \r\n      main:\r\n        allow-circular-references: true\r\n\r\nSee [this article][1] for an in-depth description and some possible remedies.\r\n\r\n\r\n  [1]: https://www.baeldung.com/circular-dependencies-in-spring","title":"Spring boot application fails to start after upgrading to 2.6.0 due to circular dependency[ unresolvable circular reference]","body":"<p><code>Circular References Prohibited by Default</code> in spring boot version 2.6</p>\n<p>If your application fails to start due to a BeanCurrentlyInCreationException you are strongly encouraged to update your configuration to break the dependency cycle.</p>\n<p>The temporary solution is to restore 2.5’s behavior, set the following in <code>.properties/yml</code>,</p>\n<pre><code>spring: \n  main:\n    allow-circular-references: true\n</code></pre>\n<p>See <a href=\"https://www.baeldung.com/circular-dependencies-in-spring\" rel=\"noreferrer\">this article</a> for an in-depth description and some possible remedies.</p>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67715,"favorite_count":0,"down_vote_count":4,"up_vote_count":32,"closed_date":1637366444,"accepted_answer_id":70036904,"answer_count":1,"score":28,"last_activity_date":1651228585,"creation_date":1637334337,"question_id":70036903,"body_markdown":"Spring boot upgrade Error\r\n\r\nSpring boot application fails to start after upgrading to 2.6.0 due to circular dependency \r\n\r\n    Error creating bean with name &#39;securityConfig&#39;: \r\n    Requested bean is currently in creation: Is there an \r\n          unresolvable circular reference?","title":"Spring boot application fails to start after upgrading to 2.6.0 due to circular dependency[ unresolvable circular reference]","body":"<p>Spring boot upgrade Error</p>\n<p>Spring boot application fails to start after upgrading to 2.6.0 due to circular dependency</p>\n<pre><code>Error creating bean with name 'securityConfig': \nRequested bean is currently in creation: Is there an \n      unresolvable circular reference?\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1651222384,"post_id":72055287,"comment_id":127317618,"body_markdown":"What you are looking for is date formatting.","body":"What you are looking for is date formatting."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1651222644,"post_id":72055287,"comment_id":127317693,"body_markdown":"What part of doing this are you having trouble with?","body":"What part of doing this are you having trouble with?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1651223044,"post_id":72055287,"comment_id":127317828,"body_markdown":"Are you really sure you want to *convert 20220327 name to APR2022*? That numerical date is not in April 2022…","body":"Are you really sure you want to <i>convert 20220327 name to APR2022</i>? That numerical date is not in April 2022…"},{"owner":{"account_id":19524412,"reputation":3,"user_id":14285509,"display_name":"DilipSInghMehra"},"score":0,"creation_date":1651223208,"post_id":72055287,"comment_id":127317888,"body_markdown":"I am not that good in Java and work in another application where there is a need to convert a field with value KYB_FX_SPOT_AUTO.20220327 to AUTO_FXUPLOAD_APR2022.CSV, since there is no provision in application to do that , so just want java code piece for this. I am just trying calendar and date class to see if I can achieve this.please let me know if you can help.","body":"I am not that good in Java and work in another application where there is a need to convert a field with value KYB_FX_SPOT_AUTO.20220327 to AUTO_FXUPLOAD_APR2022.CSV, since there is no provision in application to do that , so just want java code piece for this. I am just trying calendar and date class to see if I can achieve this.please let me know if you can help."},{"owner":{"account_id":19524412,"reputation":3,"user_id":14285509,"display_name":"DilipSInghMehra"},"score":0,"creation_date":1651223254,"post_id":72055287,"comment_id":127317904,"body_markdown":"yes correct numerical date is not required in APR2022","body":"yes correct numerical date is not required in APR2022"}],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651223133,"creation_date":1651223133,"answer_id":72055470,"question_id":72055287,"body_markdown":"What you are looking for is [date formatting][1]. You can use Date formats to parse the date, then output it in a different format.\r\n\r\nThe relevant classes are [Date][2] and [SimpleDateFormat][3]. For the calculation part, use [Calendar][4].\r\n\r\n    // parse the date\r\n    String input = &quot;20220327&quot;;\r\n    SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    Date myDate = inputFormat.parse(input);\r\n    \r\n    // For the calculation part, refer to the javadoc of Calendar\r\n    // ...\r\n    \r\n    // output in new format\r\n    SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;MMMyyyy&quot;)\r\n    String output = outputFormat.format(myDate);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/i18n/format/simpleDateFormat.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html","title":"Need to convert file name based on date","body":"<p>What you are looking for is <a href=\"https://docs.oracle.com/javase/tutorial/i18n/format/simpleDateFormat.html\" rel=\"nofollow noreferrer\">date formatting</a>. You can use Date formats to parse the date, then output it in a different format.</p>\n<p>The relevant classes are <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">Date</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">SimpleDateFormat</a>. For the calculation part, use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">Calendar</a>.</p>\n<pre><code>// parse the date\nString input = &quot;20220327&quot;;\nSimpleDateFormat inputFormat = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\nDate myDate = inputFormat.parse(input);\n\n// For the calculation part, refer to the javadoc of Calendar\n// ...\n\n// output in new format\nSimpleDateFormat outputFormat = new SimpleDateFormat(&quot;MMMyyyy&quot;)\nString output = outputFormat.format(myDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651228584,"creation_date":1651225753,"answer_id":72056046,"question_id":72055287,"body_markdown":"If you are using Java 8 or any later version, you can use classes from `java.time`.\r\n\r\nYou can convert a date `String` of the pattern `&quot;uuuuMMdd&quot;` to one formatted as `&quot;MMMuuuu&quot;` like this:\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\r\n\t// your example String date\r\n\tString date = &quot;20220327&quot;;\r\n\t// prepare a parser for the pattern of your input\r\n\tDateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuuMMdd&quot;);\r\n\t// parse the String to a LocalDate using the parser\r\n\tLocalDate localDate = LocalDate.parse(date, parser);\r\n\t// prepare a formatter for your desired output\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMuuuu&quot;, Locale.ENGLISH);\r\n\t// prepare some result message using the parser and the formatter…\r\n\tString resMsg = String.format(&quot;%s ———&gt; %s&quot;, \r\n\t\t\t\t\t\t\t\tlocalDate.format(parser),\r\n\t\t\t\t\t\t\t\tlocalDate.format(formatter).toUpperCase());\r\n\t// … then print the message\r\n\tSystem.out.println(resMsg);\r\n}\r\n```\r\n\r\nThe output of this is\r\n\r\n```lang-none\r\n20220327 ———&gt; MAR2022\r\n```\r\n\r\nTo create your desired result considering year changes when adding or subtracting a month, maybe use a `YearMonth`. Create ony by getting the year and month of the `LocalDate` and safely add one month to it.\r\n\r\nHere&#39;s one option:\r\n\r\n```lang-java\r\n// extract the year month and add 1\r\nYearMonth yearMonth = YearMonth.from(localDate).plusMonths(1);\r\n// print the result\r\nSystem.out.println(&quot;+ 1 month ==&gt; &quot; + yearMonth.format(formatter).toUpperCase());\r\n```\r\n\r\nAppending the above lines to the example `main` would add another line to the output:\r\n\r\n```lang-none\r\n+ 1 month ==&gt; APR2022\r\n```","title":"Need to convert file name based on date","body":"<p>If you are using Java 8 or any later version, you can use classes from <code>java.time</code>.</p>\n<p>You can convert a date <code>String</code> of the pattern <code>&quot;uuuuMMdd&quot;</code> to one formatted as <code>&quot;MMMuuuu&quot;</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // your example String date\n    String date = &quot;20220327&quot;;\n    // prepare a parser for the pattern of your input\n    DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuuMMdd&quot;);\n    // parse the String to a LocalDate using the parser\n    LocalDate localDate = LocalDate.parse(date, parser);\n    // prepare a formatter for your desired output\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMuuuu&quot;, Locale.ENGLISH);\n    // prepare some result message using the parser and the formatter…\n    String resMsg = String.format(&quot;%s ———&gt; %s&quot;, \n                                localDate.format(parser),\n                                localDate.format(formatter).toUpperCase());\n    // … then print the message\n    System.out.println(resMsg);\n}\n</code></pre>\n<p>The output of this is</p>\n<pre class=\"lang-none prettyprint-override\"><code>20220327 ———&gt; MAR2022\n</code></pre>\n<p>To create your desired result considering year changes when adding or subtracting a month, maybe use a <code>YearMonth</code>. Create ony by getting the year and month of the <code>LocalDate</code> and safely add one month to it.</p>\n<p>Here's one option:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// extract the year month and add 1\nYearMonth yearMonth = YearMonth.from(localDate).plusMonths(1);\n// print the result\nSystem.out.println(&quot;+ 1 month ==&gt; &quot; + yearMonth.format(formatter).toUpperCase());\n</code></pre>\n<p>Appending the above lines to the example <code>main</code> would add another line to the output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>+ 1 month ==&gt; APR2022\n</code></pre>\n"}],"owner":{"account_id":19524412,"reputation":3,"user_id":14285509,"display_name":"DilipSInghMehra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1651227024,"answer_count":2,"score":-1,"last_activity_date":1651228584,"creation_date":1651222270,"question_id":72055287,"body_markdown":"We have a requirement to where the input file will be KYB_FX_SPOT_AUTO.20220327 where KYB_FX_SPOT_AUTO. would be a constant and 20220327 is dynamic part which is date in format yyyyddMM, we need to assign a variable then a name AUTO_FXUPLOAD_APR2022.CSV , where other than APR2022 , rest other part is constant.\r\nPlease help me with just a piece of code to convert 20220327 name to APR2022.Please note the month in source is march and APR in target which means month has to increment by one and accordingly the year might increase in case of December month.\r\nThanks.","title":"Need to convert file name based on date","body":"<p>We have a requirement to where the input file will be KYB_FX_SPOT_AUTO.20220327 where KYB_FX_SPOT_AUTO. would be a constant and 20220327 is dynamic part which is date in format yyyyddMM, we need to assign a variable then a name AUTO_FXUPLOAD_APR2022.CSV , where other than APR2022 , rest other part is constant.\nPlease help me with just a piece of code to convert 20220327 name to APR2022.Please note the month in source is march and APR in target which means month has to increment by one and accordingly the year might increase in case of December month.\nThanks.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651226252,"creation_date":1651226252,"answer_id":72056163,"question_id":72055921,"body_markdown":"Even though you have a student-subject table, it does not mean that you have meaning full values straight from that table. This middle table is mostly used for Many-to-Many relationship. But this can be also used for Unidirectional one to many relationships, where the ending entity does not need to know who are referencing it. For example User and Role relationship. In JPA we use one user can have many roles. But roles do not need to know who are using them as a role. So that is Uni directional Many-to-One. So I suggest something like this:\r\n\r\n    @OneToMany(fetch = FetchType.EAGER,cascade = CascadeType.PERSIST)\r\n    @JoinTable(\r\n            name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(\r\n                    name = &quot;user_id&quot;,\r\n                    referencedColumnName = &quot;id&quot;\r\n            ),\r\n            inverseJoinColumns = @JoinColumn(\r\n                    name = &quot;role_id&quot;,\r\n                    referencedColumnName = &quot;id&quot;\r\n            ))\r\n    private List&lt;Role&gt; roles;","title":"Spring one Controller for nested entities","body":"<p>Even though you have a student-subject table, it does not mean that you have meaning full values straight from that table. This middle table is mostly used for Many-to-Many relationship. But this can be also used for Unidirectional one to many relationships, where the ending entity does not need to know who are referencing it. For example User and Role relationship. In JPA we use one user can have many roles. But roles do not need to know who are using them as a role. So that is Uni directional Many-to-One. So I suggest something like this:</p>\n<pre><code>@OneToMany(fetch = FetchType.EAGER,cascade = CascadeType.PERSIST)\n@JoinTable(\n        name = &quot;user_role&quot;,\n        joinColumns = @JoinColumn(\n                name = &quot;user_id&quot;,\n                referencedColumnName = &quot;id&quot;\n        ),\n        inverseJoinColumns = @JoinColumn(\n                name = &quot;role_id&quot;,\n                referencedColumnName = &quot;id&quot;\n        ))\nprivate List&lt;Role&gt; roles;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651228444,"creation_date":1651228444,"answer_id":72056591,"question_id":72055921,"body_markdown":"Unless there is specific requirement, if `/student` service is used to create student then you can generally just return details of student ; even though `createStudent` is creating mapping for Student-Subject. This way your web service contract will look little bit clean &amp; clear i.e. inserting student &amp; returning details of it. \r\n\r\nYou can add another `@GetMapping` service in same `@RestController` with parameters(e.g. student id,student name )  of Student for fetching Student subject details. Any one calling this new service either need to know Student id or name details. \r\n\r\n\r\nIf your design require minimal approach then you can still return Student-subject in same `/student` service.\r\n","title":"Spring one Controller for nested entities","body":"<p>Unless there is specific requirement, if <code>/student</code> service is used to create student then you can generally just return details of student ; even though <code>createStudent</code> is creating mapping for Student-Subject. This way your web service contract will look little bit clean &amp; clear i.e. inserting student &amp; returning details of it.</p>\n<p>You can add another <code>@GetMapping</code> service in same <code>@RestController</code> with parameters(e.g. student id,student name )  of Student for fetching Student subject details. Any one calling this new service either need to know Student id or name details.</p>\n<p>If your design require minimal approach then you can still return Student-subject in same <code>/student</code> service.</p>\n"}],"owner":{"account_id":16954635,"reputation":135,"user_id":12263362,"display_name":"ThinkCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651228444,"creation_date":1651225247,"question_id":72055921,"body_markdown":"I&#39;m working on a school project and I&#39;m not sure how to implement this case. I would like to implement it as best practice.\r\n\r\nRight now I have 3 entities -&gt; Students, Subjects and StudentSubjects. For all of these enteties I have also a Service.\r\nSo simplify my entites I creates for each a DTO without any relation to nested Enteties (no Lists).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nFor the Students-Entity I have created a Controller &quot;StudentController&quot; for simple CRUD.\r\nThe use-case is that if I get a POST-Request to create a new Student. After the Insert into the Students-Table every Subject with is_default = true should automatically added into the table &quot;StudentSubjects&quot; and this values should be returned.\r\n\r\nMy question is if it&#39;s best practice to return the &quot;StudentSubject&quot;-Values from the POST-Endpoint which creates the Student or should I call a separate endpoint from the backend or should I just return the created Student-Object and the frontend has to call a separate endpoint to get the values of &quot;StudentSubjects&quot;?\r\n\r\nStudentDTO\r\n\r\n    public class StudentDTO {\r\n    \tprivate int studentId;\r\n    \tprivate String name;\r\n    \r\n    \tpublic StudentDTO() {\r\n    \r\n    \t}\r\n    \r\n    \tpublic Students buildStudent() {\r\n    \t\tStudents student = new Students();\r\n    \t\t//Mapping\r\n    \r\n    \t\treturn student;\r\n    \t}\r\n    \t\r\n    \t//Getter + Setter\r\n    }\r\n\r\nSubjectDTO\r\n\r\n    public class SubjectDTO {\r\n    \tprivate int subjectId;\r\n    \tprivate String name;\r\n    \tprivate boolean isDefault;\r\n    \r\n    \tpublic SubjectDTO() {\r\n    \r\n    \t}\r\n    \r\n    \tpublic Subjects buildSubject() {\r\n    \t\tSubjects subject = new Subjects();\r\n    \t\t//Mapping\r\n    \r\n    \t\treturn subject;\r\n    \t}\r\n    \t\r\n    \t//Getter + Setter\r\n    }\r\n\r\n\r\nStudentSubjectDTO\r\n\r\n    public class StudentSubjectDTO {\r\n    \tprivate int stuSubId;\r\n    \tprivate StudentDTO student;\r\n    \tprivate SubjectDTO subject;\r\n    \r\n    \tpublic StudentSubjectDTO() {\r\n    \r\n    \t}\r\n    \r\n    \tpublic StudentSubjects buildStudentSubject() {\r\n    \t\tStudentSubjects studentSubject = new StudentSubjects();\r\n    \t\t//Mapping\r\n    \r\n    \t\treturn studentSubject;\r\n    \t}\r\n    \t\r\n    \t//Getter + Setter\r\n    }\r\n\r\nStudentController\r\n\r\n    @RestController\r\n    public class StudentController {\r\n    \r\n    \t@Autowired\r\n    \tprivate StudentService studentService;\r\n    \r\n    \t@PostMapping(value = &quot;/student&quot;)\r\n    \t@ResponseBody\r\n    \tpublic StudentDTO createStudent(@RequestBody StudentDTO studentDTO) {\r\n    \t\tStudents student = studentDTO.buildStudent();\r\n    \t\tstudentService.createStudent(student);\r\n    \r\n    \t\tstudentDTO = new StudentDTO(student);\r\n    \t\t\r\n    \t\t// Should I return StudentSubjectDTO instead of StudentDTO\r\n    \r\n    \t\treturn studentDTO;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ke6vw.jpg\r\n","title":"Spring one Controller for nested entities","body":"<p>I'm working on a school project and I'm not sure how to implement this case. I would like to implement it as best practice.</p>\n<p>Right now I have 3 entities -&gt; Students, Subjects and StudentSubjects. For all of these enteties I have also a Service.\nSo simplify my entites I creates for each a DTO without any relation to nested Enteties (no Lists).</p>\n<p><a href=\"https://i.stack.imgur.com/ke6vw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ke6vw.jpg\" alt=\"enter image description here\" /></a></p>\n<p>For the Students-Entity I have created a Controller &quot;StudentController&quot; for simple CRUD.\nThe use-case is that if I get a POST-Request to create a new Student. After the Insert into the Students-Table every Subject with is_default = true should automatically added into the table &quot;StudentSubjects&quot; and this values should be returned.</p>\n<p>My question is if it's best practice to return the &quot;StudentSubject&quot;-Values from the POST-Endpoint which creates the Student or should I call a separate endpoint from the backend or should I just return the created Student-Object and the frontend has to call a separate endpoint to get the values of &quot;StudentSubjects&quot;?</p>\n<p>StudentDTO</p>\n<pre><code>public class StudentDTO {\n    private int studentId;\n    private String name;\n\n    public StudentDTO() {\n\n    }\n\n    public Students buildStudent() {\n        Students student = new Students();\n        //Mapping\n\n        return student;\n    }\n    \n    //Getter + Setter\n}\n</code></pre>\n<p>SubjectDTO</p>\n<pre><code>public class SubjectDTO {\n    private int subjectId;\n    private String name;\n    private boolean isDefault;\n\n    public SubjectDTO() {\n\n    }\n\n    public Subjects buildSubject() {\n        Subjects subject = new Subjects();\n        //Mapping\n\n        return subject;\n    }\n    \n    //Getter + Setter\n}\n</code></pre>\n<p>StudentSubjectDTO</p>\n<pre><code>public class StudentSubjectDTO {\n    private int stuSubId;\n    private StudentDTO student;\n    private SubjectDTO subject;\n\n    public StudentSubjectDTO() {\n\n    }\n\n    public StudentSubjects buildStudentSubject() {\n        StudentSubjects studentSubject = new StudentSubjects();\n        //Mapping\n\n        return studentSubject;\n    }\n    \n    //Getter + Setter\n}\n</code></pre>\n<p>StudentController</p>\n<pre><code>@RestController\npublic class StudentController {\n\n    @Autowired\n    private StudentService studentService;\n\n    @PostMapping(value = &quot;/student&quot;)\n    @ResponseBody\n    public StudentDTO createStudent(@RequestBody StudentDTO studentDTO) {\n        Students student = studentDTO.buildStudent();\n        studentService.createStudent(student);\n\n        studentDTO = new StudentDTO(student);\n        \n        // Should I return StudentSubjectDTO instead of StudentDTO\n\n        return studentDTO;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","mongodb-query","spring-data-mongodb","mongotemplate"],"owner":{"account_id":8879412,"reputation":159,"user_id":6630210,"display_name":"jundev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651228386,"creation_date":1651221712,"question_id":72055175,"body_markdown":"I use [```MongoTemplate```][1] to update a document using `findAndModify()` method. \r\nThere are nested documents inside one document. Example as following:\r\n\r\n    @Document\r\n    public class Company {\r\n        private Long id;\r\n        private String postalCode;\r\n        private int floorCount;\r\n        .....\r\n    \r\n        private Set&lt;Car&gt; cars;\r\n    }\r\n    \r\n    class Car {\r\n        private Long id;\r\n        private int seatCount;\r\n        private String color;\r\n        .....\r\n        private Engine engine;\r\n    }\r\n    \r\n    class Engine {\r\n        private Long id;\r\n        private float engineVolume;\r\n        .....\t\r\n    }\r\n\r\nIn order to send to `findAndModify()` method as a parameter, I created an `Update` object for a `Company` as following: \r\n\r\n    Update update = new Update();\r\n    update.set(&quot;postalCode&quot;, company.getPostalCode());\r\n    update.set(&quot;floorCount&quot;, company.getFloorCount());\r\n    ....\r\n\r\nThere are many `Car`s for a `Company` and update requests of `Company` comes with `Car` and `Engine` details. \r\nTo update `Car`s of `Company`, for nested `Car` documents, I write another separate `findAndModify()` method as following:\r\n\r\n    company.getCars().forEach(\r\n                    car -&gt; {\r\n                        mongoTemplate.findAndModify(\r\n                                new Query(where(&quot;car._id&quot;).is(car.getId())),\r\n                                new Update()\r\n                                        .set(&quot;car.$[].seatCount&quot;, car.getSeatCount())\r\n                                        .set(&quot;car.$[].color&quot;, car.getColor()),                                   \r\n                                Car.class\r\n                        );\r\n                    }\r\n            );\r\n\r\nWhat I want to do is I would like to build only one `Update` object for entire `Company` document with `Car` and `Engine` and set new values to only one `Update` object without iterating over `Car`s and without using  another separate `findAndModify()` method for `Car`. How can I do?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoTemplate.html","title":"Ways to update many nested Documents with MongoTemplate without creating additional Update object","body":"<p>I use <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/MongoTemplate.html\" rel=\"nofollow noreferrer\"><code>MongoTemplate</code></a> to update a document using <code>findAndModify()</code> method.\nThere are nested documents inside one document. Example as following:</p>\n<pre><code>@Document\npublic class Company {\n    private Long id;\n    private String postalCode;\n    private int floorCount;\n    .....\n\n    private Set&lt;Car&gt; cars;\n}\n\nclass Car {\n    private Long id;\n    private int seatCount;\n    private String color;\n    .....\n    private Engine engine;\n}\n\nclass Engine {\n    private Long id;\n    private float engineVolume;\n    .....   \n}\n</code></pre>\n<p>In order to send to <code>findAndModify()</code> method as a parameter, I created an <code>Update</code> object for a <code>Company</code> as following:</p>\n<pre><code>Update update = new Update();\nupdate.set(&quot;postalCode&quot;, company.getPostalCode());\nupdate.set(&quot;floorCount&quot;, company.getFloorCount());\n....\n</code></pre>\n<p>There are many <code>Car</code>s for a <code>Company</code> and update requests of <code>Company</code> comes with <code>Car</code> and <code>Engine</code> details.\nTo update <code>Car</code>s of <code>Company</code>, for nested <code>Car</code> documents, I write another separate <code>findAndModify()</code> method as following:</p>\n<pre><code>company.getCars().forEach(\n                car -&gt; {\n                    mongoTemplate.findAndModify(\n                            new Query(where(&quot;car._id&quot;).is(car.getId())),\n                            new Update()\n                                    .set(&quot;car.$[].seatCount&quot;, car.getSeatCount())\n                                    .set(&quot;car.$[].color&quot;, car.getColor()),                                   \n                            Car.class\n                    );\n                }\n        );\n</code></pre>\n<p>What I want to do is I would like to build only one <code>Update</code> object for entire <code>Company</code> document with <code>Car</code> and <code>Engine</code> and set new values to only one <code>Update</code> object without iterating over <code>Car</code>s and without using  another separate <code>findAndModify()</code> method for <code>Car</code>. How can I do?</p>\n"},{"tags":["java","variables","exception"],"comments":[{"owner":{"account_id":8291,"reputation":860447,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":1,"creation_date":1571451234,"post_id":58459957,"comment_id":103256509,"body_markdown":"You have multiple copies of the `bmi` variable that (other than the name itself) bear *no* relationship to each other. I suspect everything would be fine is you made it a class-level variable (i.e., just *before* the main function) rather than many function-level variables.","body":"You have multiple copies of the <code>bmi</code> variable that (other than the name itself) bear <i>no</i> relationship to each other. I suspect everything would be fine is you made it a class-level variable (i.e., just <i>before</i> the main function) rather than many function-level variables."},{"owner":{"account_id":16925652,"reputation":19,"user_id":12241312,"display_name":"Julie Cohen"},"score":0,"creation_date":1571451924,"post_id":58459957,"comment_id":103256581,"body_markdown":"Thanks! I declared the variable outside of, just before the main class if that is what you mean, and I got a different error:\nException in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable source code - non-static variable bmi cannot be referenced from a static context\n\tat BmiCalc.main(BmiCalc.java:9)","body":"Thanks! I declared the variable outside of, just before the main class if that is what you mean, and I got a different error: Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable source code - non-static variable bmi cannot be referenced from a static context \tat BmiCalc.main(BmiCalc.java:9)"},{"owner":{"account_id":16925652,"reputation":19,"user_id":12241312,"display_name":"Julie Cohen"},"score":0,"creation_date":1571460494,"post_id":58459957,"comment_id":103257589,"body_markdown":"Having read your comment many times it put me in the right direction to further research class and instance variables etc. and I finally got my program to run so thank you for your reply. I ended up taking out that &#39;if else if&#39; statement from the main method and putting it in to each of the other 2 methods and obviously declaring and initializing the variable in each of those 2 methods. I&#39;m not sure if it&#39;s &#39;good&#39; coding but it worked so thanks for your input. I&#39;m new here so not sure if I should post my edited code or should I replace the code above with it?","body":"Having read your comment many times it put me in the right direction to further research class and instance variables etc. and I finally got my program to run so thank you for your reply. I ended up taking out that &#39;if else if&#39; statement from the main method and putting it in to each of the other 2 methods and obviously declaring and initializing the variable in each of those 2 methods. I&#39;m not sure if it&#39;s &#39;good&#39; coding but it worked so thanks for your input. I&#39;m new here so not sure if I should post my edited code or should I replace the code above with it?"},{"owner":{"account_id":8291,"reputation":860447,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1571467402,"post_id":58459957,"comment_id":103258510,"body_markdown":"Julie, had you got an answer, I&#39;d leave the code as is since it was the code you were having troubles with (nobody wants to see their answers invalidated, and it&#39;s relatively cheap to ask another question). Since nobody&#39;s answered yet, if you have a *different* problem, you can just edit the question to ask that one. If you now have code that works, you should probably post it in an *answer* to this question (self-answering is considered okay).","body":"Julie, had you got an answer, I&#39;d leave the code as is since it was the code you were having troubles with (nobody wants to see their answers invalidated, and it&#39;s relatively cheap to ask another question). Since nobody&#39;s answered yet, if you have a <i>different</i> problem, you can just edit the question to ask that one. If you now have code that works, you should probably post it in an <i>answer</i> to this question (self-answering is considered okay)."}],"owner":{"account_id":16925652,"reputation":19,"user_id":12241312,"display_name":"Julie Cohen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1651228332,"creation_date":1571451009,"question_id":58459957,"body_markdown":"I&#39;m new to learning Java and am writing a BMI Calculator program. I&#39;ve fixed so many errors in my program but just cannot figure this one out! Hopefully, you can help and it will be the last error I need to fix so it will finally execute without errors.\r\n\r\nThen I can make some changes for it to do exactly what I want such as exception handling to deal with incorrect values entered etc.\r\n\r\nI&#39;ve spent so much time on this and have edited it so much that I have got myself so confused.\r\nAll feedback welcome, I&#39;m here to learn.\r\n\r\nThis is the error I am getting on Netbeans:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable\r\n&gt; source code - variable bmi might not have been initialized \tat\r\n&gt; BmiCalc.main(BmiCalc.java:9)\r\n\r\nHere is my code:\r\n\r\n```java\r\n{\r\n    double bmi;\r\n    if (bmi &lt; 18.5) {\r\n        System.out.println(&quot;You are underweight&quot;);\r\n    }\r\n    else if (bmi &gt;= 18.5 &amp;&amp; bmi &lt;= 24.9) {        \r\n        System.out.println(&quot;You are a healthy, normal weight&quot;);\r\n    }\r\n```","title":"I cannot figure out Uncompilable source code - variable might not have been initialized","body":"<p>I'm new to learning Java and am writing a BMI Calculator program. I've fixed so many errors in my program but just cannot figure this one out! Hopefully, you can help and it will be the last error I need to fix so it will finally execute without errors.</p>\n<p>Then I can make some changes for it to do exactly what I want such as exception handling to deal with incorrect values entered etc.</p>\n<p>I've spent so much time on this and have edited it so much that I have got myself so confused.\nAll feedback welcome, I'm here to learn.</p>\n<p>This is the error I am getting on Netbeans:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable\nsource code - variable bmi might not have been initialized    at\nBmiCalc.main(BmiCalc.java:9)</p>\n</blockquote>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n    double bmi;\n    if (bmi &lt; 18.5) {\n        System.out.println(&quot;You are underweight&quot;);\n    }\n    else if (bmi &gt;= 18.5 &amp;&amp; bmi &lt;= 24.9) {        \n        System.out.println(&quot;You are a healthy, normal weight&quot;);\n    }\n</code></pre>\n"},{"tags":["java","hive"],"owner":{"account_id":16074438,"reputation":601,"user_id":11601990,"display_name":"Shengmin Zhao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651228284,"creation_date":1574215682,"question_id":58945594,"body_markdown":"Our one of the Gateway machines getting a continuous error on Hive. \r\n\r\nWhile we are trying to execute any(select, Insert and drop) command in a beeline, frequently getting Thrift. transport Error. \r\n\r\nI have downloaded all hive, metastor logs and checked. we don&#39;t see any error&#39;s related to Thrifts or metadata. Please suggest to us for below errors.\r\n\r\nAuthentication is working fine.\r\n\r\nWe did not change any connection properties.\r\n\r\n3 days before it was working fine.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is the link for this question: [More...][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nqBSQ.png\r\n  [2]: https://forum.huawei.com/enterprise/en/error-org-apache-thrift-transport-ttransportexception-java-net-socketexception-broken-pipe-write-failed-state-08s01-code-0/thread/582622-899","title":"Error :org.apache.thrift.transport.TTransportException java.net.SocketException: Broken pipe (Write failed) (State=08S01,code=0)","body":"<p>Our one of the Gateway machines getting a continuous error on Hive. </p>\n\n<p>While we are trying to execute any(select, Insert and drop) command in a beeline, frequently getting Thrift. transport Error. </p>\n\n<p>I have downloaded all hive, metastor logs and checked. we don't see any error's related to Thrifts or metadata. Please suggest to us for below errors.</p>\n\n<p>Authentication is working fine.</p>\n\n<p>We did not change any connection properties.</p>\n\n<p>3 days before it was working fine.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nqBSQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nqBSQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the link for this question: <a href=\"https://forum.huawei.com/enterprise/en/error-org-apache-thrift-transport-ttransportexception-java-net-socketexception-broken-pipe-write-failed-state-08s01-code-0/thread/582622-899\" rel=\"nofollow noreferrer\">More...</a></p>\n"},{"tags":["java","database","hibernate"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1573136100,"post_id":58750574,"comment_id":103789442,"body_markdown":"Are you using Spring/Spring Boot, or is this just a standard Maven application?","body":"Are you using Spring/Spring Boot, or is this just a standard Maven application?"},{"owner":{"account_id":13500811,"reputation":35,"user_id":9740282,"display_name":"J. Valjean"},"score":0,"creation_date":1573136262,"post_id":58750574,"comment_id":103789564,"body_markdown":"I am indeed using hibernate with Spring","body":"I am indeed using hibernate with Spring"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1573136444,"post_id":58750574,"comment_id":103789670,"body_markdown":"Try doing a global search for `jdbc`.  You should see one or more results which is a JDBC URL.  That should immediately give away what the database is.  From there, find the credentials, and then connect to that database externally yourself, to answer your other questions.  [See here](https://www.baeldung.com/hibernate-4-spring).","body":"Try doing a global search for <code>jdbc</code>.  You should see one or more results which is a JDBC URL.  That should immediately give away what the database is.  From there, find the credentials, and then connect to that database externally yourself, to answer your other questions.  <a href=\"https://www.baeldung.com/hibernate-4-spring\" rel=\"nofollow noreferrer\">See here</a>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1573137696,"post_id":58750574,"comment_id":103790394,"body_markdown":"There isn&#39;t any schema definition in your source. That&#39;s hibernate&#39;s purpose; to write all the SQL for you. The class `BusinessProcessInstance` is (propably) an `@Entity` class and its fields represent the columns of a table (probably) called `business_process_instance`. Look at the annotations on that class and read up on them.","body":"There isn&#39;t any schema definition in your source. That&#39;s hibernate&#39;s purpose; to write all the SQL for you. The class <code>BusinessProcessInstance</code> is (propably) an <code>@Entity</code> class and its fields represent the columns of a table (probably) called <code>business_process_instance</code>. Look at the annotations on that class and read up on them."},{"owner":{"account_id":13500811,"reputation":35,"user_id":9740282,"display_name":"J. Valjean"},"score":0,"creation_date":1573139967,"post_id":58750574,"comment_id":103791706,"body_markdown":"Awesome ! Indeed there was a BusinessProcessInstance @Entity with other useful annotations such as the table, sequence generator etc.) Thank you !","body":"Awesome ! Indeed there was a BusinessProcessInstance @Entity with other useful annotations such as the table, sequence generator etc.) Thank you !"}],"answers":[{"tags":[],"owner":{"account_id":13500811,"reputation":35,"user_id":9740282,"display_name":"J. Valjean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573205647,"creation_date":1573205225,"answer_id":58763780,"question_id":58750574,"body_markdown":"The issue has been solved thanks to what Bohemian pinpointed in the comments : \r\n\r\nFor anybody who would have ended up here after facing the same interrogations as I did, just track down your code until you find some classes with various properties which are self explanatory and can be associated with database fields. When using Spring this is even easier, just look for an @Entity annotated class with @Table and @Column annotations and this is what you are looking for :D .","title":"Where can I find the database that I am trying to access with Hibernate?","body":"<p>The issue has been solved thanks to what Bohemian pinpointed in the comments : </p>\n\n<p>For anybody who would have ended up here after facing the same interrogations as I did, just track down your code until you find some classes with various properties which are self explanatory and can be associated with database fields. When using Spring this is even easier, just look for an @Entity annotated class with @Table and @Column annotations and this is what you are looking for :D .</p>\n"}],"owner":{"account_id":13500811,"reputation":35,"user_id":9740282,"display_name":"J. Valjean"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651228261,"creation_date":1573135846,"question_id":58750574,"body_markdown":"I am browsing through a code that is not mine and I would like to manually change a few pieces of data within the database of the application. The code is using hibernate to handle its communication with the db but I cannot figure out exactly where the db related information (table names, accesspoint, etc.) is mentioned. I have tried to find more by diving into the class tree but always end up finding the hibernate black box classes (that I cannot understand even by using decompilers).\r\n\r\nBasically the part that seems to be the closest to my point is this one : \r\n\r\n\t\t\tgetElements(String businessKey, String businessKeyBis, ProcessType processType) {\r\n\t\tSession session = getSession();\r\n\r\n\t\tBusinessProcessInstance result = null;\r\n\r\n        //Hibernate creates a criteria\r\n\t\tCriteria criteriaQuery = session.createCriteria(BusinessProcessInstance.class)\r\n\t\t\t\t.add(Restrictions.in(&quot;state&quot;, new ProcessState[]{ProcessState.RUNNING, ProcessState.NEW}))\r\n\t\t\t\t.add(Restrictions.eq(&quot;businessKey&quot;, businessKey))\r\n\t\t\t\t.add(Restrictions.eq(&quot;processType&quot;, processType))\r\n\t\t\t\t.addOrder(Order.desc(&quot;id&quot;));\r\n\t\t\r\n\t\tif (null != businessKeyBis) {\r\n\t\t\tcriteriaQuery.add(Restrictions.eq(&quot;businessKeyBis&quot;, businessKeyBis));\r\n\t\t}\r\n\t\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n        //Then at this point it uses the &#39;list&#39; method to question the database\r\n        List&lt;BusinessProcessInstance&gt; bpiList = criteriaQuery.list();\r\n\t\tif (bpiList.size() &gt; 0) {\r\n\t\t    result = bpiList.get(0);\r\n\t\t}\r\n\t\treturn result;\r\n\r\nIs there an hibernate expert around who could help me figure out if there is some kind of &#39;configuration&#39; document where we could mention all the relevant parameters for hibernate ? Or if there is anything that I should be aware of which could possibly help me comprehend the way the framework acts ?\r\n\r\nThank you !","title":"Where can I find the database that I am trying to access with Hibernate?","body":"<p>I am browsing through a code that is not mine and I would like to manually change a few pieces of data within the database of the application. The code is using hibernate to handle its communication with the db but I cannot figure out exactly where the db related information (table names, accesspoint, etc.) is mentioned. I have tried to find more by diving into the class tree but always end up finding the hibernate black box classes (that I cannot understand even by using decompilers).</p>\n\n<p>Basically the part that seems to be the closest to my point is this one : </p>\n\n<pre><code>        getElements(String businessKey, String businessKeyBis, ProcessType processType) {\n    Session session = getSession();\n\n    BusinessProcessInstance result = null;\n\n    //Hibernate creates a criteria\n    Criteria criteriaQuery = session.createCriteria(BusinessProcessInstance.class)\n            .add(Restrictions.in(\"state\", new ProcessState[]{ProcessState.RUNNING, ProcessState.NEW}))\n            .add(Restrictions.eq(\"businessKey\", businessKey))\n            .add(Restrictions.eq(\"processType\", processType))\n            .addOrder(Order.desc(\"id\"));\n\n    if (null != businessKeyBis) {\n        criteriaQuery.add(Restrictions.eq(\"businessKeyBis\", businessKeyBis));\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    //Then at this point it uses the 'list' method to question the database\n    List&lt;BusinessProcessInstance&gt; bpiList = criteriaQuery.list();\n    if (bpiList.size() &gt; 0) {\n        result = bpiList.get(0);\n    }\n    return result;\n</code></pre>\n\n<p>Is there an hibernate expert around who could help me figure out if there is some kind of 'configuration' document where we could mention all the relevant parameters for hibernate ? Or if there is anything that I should be aware of which could possibly help me comprehend the way the framework acts ?</p>\n\n<p>Thank you !</p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"score":0,"creation_date":1570085105,"post_id":58208632,"comment_id":102803762,"body_markdown":"How do you set attribute `&quot;ListeEvaluation&quot;`? Please add the code to your question.","body":"How do you set attribute <code>&quot;ListeEvaluation&quot;</code>? Please add the code to your question."},{"owner":{"account_id":15854265,"reputation":51,"user_id":11439157,"display_name":"M&#233;lanie N&#39;hammoucha"},"score":0,"creation_date":1570115860,"post_id":58208632,"comment_id":102819878,"body_markdown":"ok i will add the code","body":"ok i will add the code"}],"answers":[{"tags":[],"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570152112,"creation_date":1570152112,"answer_id":58228731,"question_id":58208632,"body_markdown":"If you want to get values of attribute `&quot;ListeEvaluation&quot;` from `request` in JSP as follows:\r\n\r\n```java\r\n&lt;% for(Evaluation e:(List&lt;Evaluation&gt;)request.getAttribute(&quot;ListeEvaluation&quot;)){%&gt;\r\n```\r\n\r\nyou should set attribute `&quot;ListeEvaluation&quot;` in your servlet:\r\n\r\n```java\r\nList&lt;Evaluation&gt; listeEvaluation = new ArrayList&lt;&gt;();\r\nfor (...) {\r\n    Evaluation evaluation = new Evaluation();\r\n    evaluation.setNumero(...);\r\n    evaluation.setNom(...);\r\n    ...\r\n    listeEvaluation.add(evaluation);\r\n}\r\nrequest.setAttribute(&quot;ListeEvaluation&quot;, listeEvaluation);\r\n```","title":"how to convert Calendar type to String?","body":"<p>If you want to get values of attribute <code>\"ListeEvaluation\"</code> from <code>request</code> in JSP as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>&lt;% for(Evaluation e:(List&lt;Evaluation&gt;)request.getAttribute(\"ListeEvaluation\")){%&gt;\n</code></pre>\n\n<p>you should set attribute <code>\"ListeEvaluation\"</code> in your servlet:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Evaluation&gt; listeEvaluation = new ArrayList&lt;&gt;();\nfor (...) {\n    Evaluation evaluation = new Evaluation();\n    evaluation.setNumero(...);\n    evaluation.setNom(...);\n    ...\n    listeEvaluation.add(evaluation);\n}\nrequest.setAttribute(\"ListeEvaluation\", listeEvaluation);\n</code></pre>\n"}],"owner":{"account_id":15854265,"reputation":51,"user_id":11439157,"display_name":"M&#233;lanie N&#39;hammoucha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651228173,"creation_date":1570046644,"question_id":58208632,"body_markdown":"i tried to convert calendar type to String for display the date in my jsp page\r\n\r\nhere is my servlet code where i convert string to calendar type\r\n\r\n    private Evaluation EvaluationMapper(HttpServletRequest request)\r\n    {\r\n        \r\n            try {\r\n                Evaluation eval = new Evaluation();\r\n                eval.setNumero(Integer.parseInt(request.getParameter(&quot;numero&quot;)));\r\n                eval.setNom(request.getParameter(&quot;nom&quot;));\r\n                eval.setPrenom(request.getParameter(&quot;prenom&quot;));\r\n                eval.setTelephone(request.getParameter(&quot;telephone&quot;));\r\n                eval.setCourriel(request.getParameter(&quot;courriel&quot;));\r\n                eval.setSexe(request.getParameter(&quot;sexe&quot;).charAt(0));\r\n                eval.setNote(request.getParameter(&quot;note&quot;));\r\n\r\n                DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n                Calendar cal = Calendar.getInstance();\r\n                cal.setTime(df.parse(request.getParameter(&quot;date&quot;)));\r\n                eval.setDateEvaluation(cal);\r\n\r\n                eval.setCommentaire(request.getParameter(&quot;commentaires&quot;));\r\n\r\n                return eval;\r\n            } catch (ParseException ex) {\r\n                throw new IllegalArgumentException(&quot;Erreur..??&quot;);\r\n            }\r\n        \r\n    \r\n    }\r\nand here is my code for my jsp page but its didn&#39;t display the date\r\n\r\n     &lt;% for(Evaluation e:(List&lt;Evaluation&gt;)request.getAttribute(&quot;ListeEvaluation&quot;)){%&gt;\r\n               &lt;tr&gt;&lt;td&gt;&lt;%= e.getNumero()%&gt; &lt;/td&gt;\r\n                   &lt;td&gt;&lt;%= e.getNom() %&gt; &lt;/td&gt;\r\n                   &lt;td&gt;&lt;%= e.getPrenom()%&gt; &lt;/td&gt;\r\n                   &lt;td&gt;&lt;%= e.getTelephone()%&gt; &lt;/td&gt;\r\n                   &lt;td&gt;&lt;%= e.getCourriel()%&gt; &lt;/td&gt;\r\n                   &lt;td&gt;&lt;%= e.getSexe()%&gt; &lt;/td&gt;\r\n                   &lt;td&gt;&lt;%= e.getNote()%&gt; &lt;/td&gt;\r\n                   &lt;td&gt;&lt;%= e.getDateEvaluation()%&gt; &lt;/td&gt;\r\n                   &lt;td&gt;&lt;%= e.getCommentaire()%&gt; &lt;/td&gt;\r\n                   &lt;td&gt;\r\n                       &lt;a href=&quot;/Labo2/SupprimerServlet?numero=&lt;%= e.getNumero()%&gt;&quot; &gt;Supprimer&lt;/a&gt; |\r\n                       &lt;a href=&quot;/Labo2/ModifierServlet?numero=&lt;%= e.getNumero()%&gt;&quot; &gt;Modifier&lt;/a&gt;\r\n                   &lt;/td&gt;\r\n               &lt;/tr&gt;               \r\n               &lt;%}%&gt;\r\nhere my listEvaluation\r\n\r\n    private static  List&lt;Evaluation&gt; ListeEvaluation = new ArrayList&lt;Evaluation&gt;();\r\n    \r\n    public Evaluation evaluation = new Evaluation();\r\n    \r\n    \r\n    //set method\r\n     public void setListeEvaluation(List value){this.ListeEvaluation = value;}\r\n     \r\n     //getmethod\r\n     public List&lt;Evaluation&gt; getListeEvaluation(){return this.ListeEvaluation;}\r\n    \r\n\r\n\r\nso how cant i convert getDateEvaluation in string?\r\n\r\n","title":"how to convert Calendar type to String?","body":"<p>i tried to convert calendar type to String for display the date in my jsp page</p>\n\n<p>here is my servlet code where i convert string to calendar type</p>\n\n<pre><code>private Evaluation EvaluationMapper(HttpServletRequest request)\n{\n\n        try {\n            Evaluation eval = new Evaluation();\n            eval.setNumero(Integer.parseInt(request.getParameter(\"numero\")));\n            eval.setNom(request.getParameter(\"nom\"));\n            eval.setPrenom(request.getParameter(\"prenom\"));\n            eval.setTelephone(request.getParameter(\"telephone\"));\n            eval.setCourriel(request.getParameter(\"courriel\"));\n            eval.setSexe(request.getParameter(\"sexe\").charAt(0));\n            eval.setNote(request.getParameter(\"note\"));\n\n            DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\n            Calendar cal = Calendar.getInstance();\n            cal.setTime(df.parse(request.getParameter(\"date\")));\n            eval.setDateEvaluation(cal);\n\n            eval.setCommentaire(request.getParameter(\"commentaires\"));\n\n            return eval;\n        } catch (ParseException ex) {\n            throw new IllegalArgumentException(\"Erreur..??\");\n        }\n\n\n}\n</code></pre>\n\n<p>and here is my code for my jsp page but its didn't display the date</p>\n\n<pre><code> &lt;% for(Evaluation e:(List&lt;Evaluation&gt;)request.getAttribute(\"ListeEvaluation\")){%&gt;\n           &lt;tr&gt;&lt;td&gt;&lt;%= e.getNumero()%&gt; &lt;/td&gt;\n               &lt;td&gt;&lt;%= e.getNom() %&gt; &lt;/td&gt;\n               &lt;td&gt;&lt;%= e.getPrenom()%&gt; &lt;/td&gt;\n               &lt;td&gt;&lt;%= e.getTelephone()%&gt; &lt;/td&gt;\n               &lt;td&gt;&lt;%= e.getCourriel()%&gt; &lt;/td&gt;\n               &lt;td&gt;&lt;%= e.getSexe()%&gt; &lt;/td&gt;\n               &lt;td&gt;&lt;%= e.getNote()%&gt; &lt;/td&gt;\n               &lt;td&gt;&lt;%= e.getDateEvaluation()%&gt; &lt;/td&gt;\n               &lt;td&gt;&lt;%= e.getCommentaire()%&gt; &lt;/td&gt;\n               &lt;td&gt;\n                   &lt;a href=\"/Labo2/SupprimerServlet?numero=&lt;%= e.getNumero()%&gt;\" &gt;Supprimer&lt;/a&gt; |\n                   &lt;a href=\"/Labo2/ModifierServlet?numero=&lt;%= e.getNumero()%&gt;\" &gt;Modifier&lt;/a&gt;\n               &lt;/td&gt;\n           &lt;/tr&gt;               \n           &lt;%}%&gt;\n</code></pre>\n\n<p>here my listEvaluation</p>\n\n<pre><code>private static  List&lt;Evaluation&gt; ListeEvaluation = new ArrayList&lt;Evaluation&gt;();\n\npublic Evaluation evaluation = new Evaluation();\n\n\n//set method\n public void setListeEvaluation(List value){this.ListeEvaluation = value;}\n\n //getmethod\n public List&lt;Evaluation&gt; getListeEvaluation(){return this.ListeEvaluation;}\n</code></pre>\n\n<p>so how cant i convert getDateEvaluation in string?</p>\n"},{"tags":["java","android-studio","android-camera2"],"comments":[{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1569064192,"post_id":58037416,"comment_id":102480133,"body_markdown":"It&#39;s not clear from your log what you complain about. Does your takePicture() succeed even once?","body":"It&#39;s not clear from your log what you complain about. Does your takePicture() succeed even once?"},{"owner":{"account_id":15380252,"reputation":1,"user_id":11095860,"display_name":"Samay Gupta"},"score":0,"creation_date":1569089573,"post_id":58037416,"comment_id":102486039,"body_markdown":"takePicture() succeeds only when i trigger the button via the UI. It doesn&#39;t matter when I trigger it. Only when I trigger it using code does it seem to fail. I&#39;m fairly inexperienced with android app development especially using camera2 api so i&#39;m confused. From the log, as far as i could figure out, It looks like a thread issue but since i&#39;m running it on the UI thread it shouldn&#39;t raise any errors.","body":"takePicture() succeeds only when i trigger the button via the UI. It doesn&#39;t matter when I trigger it. Only when I trigger it using code does it seem to fail. I&#39;m fairly inexperienced with android app development especially using camera2 api so i&#39;m confused. From the log, as far as i could figure out, It looks like a thread issue but since i&#39;m running it on the UI thread it shouldn&#39;t raise any errors."},{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1569126309,"post_id":58037416,"comment_id":102491612,"body_markdown":"I have a suspicion that &quot;from code&quot;, you call takePicture() too early. Make sure that onResume() and onSurfaceTextureAvailable() have completed before you call take picture(). On the other hand, I believe that you can call takePicture() from any thread.","body":"I have a suspicion that &quot;from code&quot;, you call takePicture() too early. Make sure that onResume() and onSurfaceTextureAvailable() have completed before you call take picture(). On the other hand, I believe that you can call takePicture() from any thread."}],"owner":{"account_id":15380252,"reputation":1,"user_id":11095860,"display_name":"Samay Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651228138,"creation_date":1569042206,"question_id":58037416,"body_markdown":"I am writing a code that should capture images and send it to a python server. One part of this code requires calling the camera. My solution for this was to simulate a button press for the button connected to the camera. When i trigger the camera using the button on the interface however if i simulate the button press from within the code it fails.\r\n\r\nAny help to fix this is appreciated\r\n\r\nCamera usage is modified from [here][1]\r\n\r\n\r\nCode (Comments for everywhere i face an issue):\r\n\r\n    private int captured = 0;\r\n    private final int REQ_CODE = 100;\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\n    private String res;\r\n    private TextureView textureView;\r\n    private static final SparseIntArray ORIENTATIONS = new SparseIntArray();\r\n    static {\r\n        ORIENTATIONS.append(Surface.ROTATION_0, 90);\r\n        ORIENTATIONS.append(Surface.ROTATION_90, 0);\r\n        ORIENTATIONS.append(Surface.ROTATION_180, 270);\r\n        ORIENTATIONS.append(Surface.ROTATION_270, 180);\r\n    }\r\n    private String cameraId;\r\n    protected CameraDevice cameraDevice;\r\n    protected CameraCaptureSession cameraCaptureSessions;\r\n    protected CaptureRequest.Builder captureRequestBuilder;\r\n    private Size imageDimension;\r\n    private ImageReader imageReader;\r\n    private File file;\r\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n    private Handler mBackgroundHandler;\r\n    private HandlerThread mBackgroundThread;\r\n    ImageButton initiateButton =  null;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        textureView = (TextureView) findViewById(R.id.textureView);\r\n        assert textureView != null;\r\n        currentMode = &quot;A&quot;;\r\n        initiateButton = findViewById(R.id.initiateButton);\r\n        initiateButton.setOnClickListener( new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        takePicture();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void captureImage(){\r\n        try {\r\n            initiateButton.callOnClick(); //Simulate a press of the camera image button\r\n        }catch (Exception E){\r\n            System.out.println(E);\r\n        }\r\n\r\n    }\r\n\r\n    public void runMain(){//Called after image is saved \r\n        if (captured == 0){\r\n            try {\r\n                TimeUnit.MILLISECONDS.sleep(1000);\r\n                captureImage();//Start point of issue with camera\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n            return ;\r\n        }\r\n        captured = 0;\r\n        String cat = currentMode.toUpperCase();\r\n        System.out.println(cat);\r\n        Thread t = null;\r\n        if (cat.equals(&quot;A&quot;)) {\r\n            /*\r\n            Some Code to run on a different thread\r\n             */\r\n        } else if (cat.equals(&quot;B&quot;)) {\r\n            /*\r\n            Some Code to run on a different thread\r\n             */\r\n        } else{\r\n            return ;\r\n        }\r\n        //t.start(); -&gt; start the thread\r\n        /*while (t.isAlive()){\r\n            Wait for thread to finish processing\r\n        }*/\r\n        if (currentMode.equalsIgnoreCase(&quot;A&quot;)){\r\n            runMain(); //recursive (value changes from thread A as exit condition)\r\n        }else{\r\n            currentMode = &quot;&quot;;\r\n        }\r\n\r\n    }\r\n\r\n    TextureView.SurfaceTextureListener textureListener = new TextureView.SurfaceTextureListener() {\r\n        @Override\r\n        public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\r\n            openCamera();\r\n        }\r\n        @Override\r\n        public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) {\r\n        }\r\n        @Override\r\n        public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\r\n            return false;\r\n        }\r\n        @Override\r\n        public void onSurfaceTextureUpdated(SurfaceTexture surface) {\r\n        }\r\n    };\r\n    private final CameraDevice.StateCallback stateCallback = new CameraDevice.StateCallback() {\r\n        @Override\r\n        public void onOpened(CameraDevice camera) {\r\n            Log.e(TAG, &quot;onOpened&quot;);\r\n            cameraDevice = camera;\r\n            createCameraPreview();\r\n        }\r\n        @Override\r\n        public void onDisconnected(CameraDevice camera) {\r\n            cameraDevice.close();\r\n        }\r\n        @Override\r\n        public void onError(CameraDevice camera, int error) {\r\n            cameraDevice.close();\r\n            cameraDevice = null;\r\n        }\r\n    };\r\n    final CameraCaptureSession.CaptureCallback captureCallbackListener = new CameraCaptureSession.CaptureCallback() {\r\n        @Override\r\n        public void onCaptureCompleted(CameraCaptureSession session, CaptureRequest request, TotalCaptureResult result) {\r\n            super.onCaptureCompleted(session, request, result);\r\n            Toast.makeText(MainActivity.this, &quot;Saved:&quot; + file, Toast.LENGTH_LONG).show();\r\n            createCameraPreview();\r\n        }\r\n    };\r\n    protected void startBackgroundThread() {\r\n        mBackgroundThread = new HandlerThread(&quot;Camera Background&quot;);\r\n        mBackgroundThread.start();\r\n        mBackgroundHandler = new Handler(mBackgroundThread.getLooper());\r\n    }\r\n    protected void stopBackgroundThread() {\r\n        mBackgroundThread.quitSafely();\r\n        try {\r\n            mBackgroundThread.join();\r\n            mBackgroundThread = null;\r\n            mBackgroundHandler = null;\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    protected void takePicture() {\r\n        if(null == cameraDevice) {\r\n            Log.e(TAG, &quot;cameraDevice is null&quot;);\r\n            return;\r\n        }\r\n        CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n        try {\r\n            int width = 640;\r\n            int height = 480;\r\n            CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraDevice.getId());\r\n            Size[] jpegSizes = null;\r\n            if (characteristics != null) {\r\n                jpegSizes = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP).getOutputSizes(ImageFormat.JPEG);\r\n            }\r\n\r\n            if (jpegSizes != null &amp;&amp; 0 &lt; jpegSizes.length) {\r\n                width = jpegSizes[0].getWidth();\r\n                height = jpegSizes[0].getHeight();\r\n            }\r\n            ImageReader reader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1);\r\n            List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;Surface&gt;(2);\r\n            outputSurfaces.add(reader.getSurface());\r\n            outputSurfaces.add(new Surface(textureView.getSurfaceTexture()));\r\n            final CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\r\n            captureBuilder.addTarget(reader.getSurface());\r\n            captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\r\n            int rotation = getWindowManager().getDefaultDisplay().getRotation();\r\n            captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));\r\n            final File file = new File(Environment.getExternalStorageDirectory()+&quot;/virtual_eye_image.jpg&quot;);\r\n            ImageReader.OnImageAvailableListener readerListener = new ImageReader.OnImageAvailableListener() {\r\n                @Override\r\n                public void onImageAvailable(ImageReader reader) {\r\n                    Image image = null;\r\n                    try {\r\n                        image = reader.acquireLatestImage();\r\n                        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\r\n                        byte[] bytes = new byte[buffer.capacity()];\r\n                        buffer.get(bytes);\r\n                        save(bytes);\r\n                    } catch (FileNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    } finally {\r\n                        if (image != null) {\r\n                            image.close();\r\n                        }\r\n                    }\r\n                }\r\n                private void save(byte[] bytes) throws IOException {\r\n                    OutputStream output = null;\r\n                    try {\r\n                        output = new FileOutputStream(file);\r\n                        output.write(bytes);\r\n                    } finally {\r\n                        if (null != output) {\r\n                            output.close();\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            reader.setOnImageAvailableListener(readerListener, mBackgroundHandler);\r\n            final CameraCaptureSession.CaptureCallback captureListener = new CameraCaptureSession.CaptureCallback() {\r\n                @Override\r\n                public void onCaptureCompleted(CameraCaptureSession session, CaptureRequest request, TotalCaptureResult result) {\r\n                    super.onCaptureCompleted(session, request, result);\r\n                    Toast.makeText(MainActivity.this, &quot;Saved:&quot; + file, Toast.LENGTH_SHORT).show();\r\n                    captured = 1;\r\n                    runMain();\r\n                }\r\n            };\r\n            cameraDevice.createCaptureSession(outputSurfaces, new CameraCaptureSession.StateCallback() {\r\n                @Override\r\n                public void onConfigured(CameraCaptureSession session) {\r\n                    try {\r\n                        session.capture(captureBuilder.build(), captureListener, mBackgroundHandler);\r\n                    } catch (CameraAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                @Override\r\n                public void onConfigureFailed(CameraCaptureSession session) {\r\n                }\r\n            }, mBackgroundHandler);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    protected void createCameraPreview() {\r\n        try {\r\n            SurfaceTexture texture = textureView.getSurfaceTexture();\r\n            assert texture != null;\r\n            texture.setDefaultBufferSize(imageDimension.getWidth(), imageDimension.getHeight());\r\n            Surface surface = new Surface(texture);\r\n            captureRequestBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n            captureRequestBuilder.addTarget(surface);\r\n            cameraDevice.createCaptureSession(Arrays.asList(surface), new CameraCaptureSession.StateCallback(){\r\n                @Override\r\n                public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                    if (null == cameraDevice) {\r\n                        return;\r\n                    }\r\n                    cameraCaptureSessions = cameraCaptureSession;\r\n                    updatePreview();\r\n                }\r\n                @Override\r\n                public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\r\n                    Toast.makeText(MainActivity.this, &quot;Configuration change&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }, null);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    private void openCamera() {\r\n        CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n        Log.e(TAG, &quot;is camera open&quot;);\r\n        try {\r\n            cameraId = manager.getCameraIdList()[0];\r\n            CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\r\n            StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n            assert map != null;\r\n            imageDimension = map.getOutputSizes(SurfaceTexture.class)[0];\r\n            // Add permission for camera and let user grant the permission\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_CAMERA_PERMISSION);\r\n                return;\r\n            }\r\n            manager.openCamera(cameraId, stateCallback, null);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n        Log.e(TAG, &quot;openCamera X&quot;);\r\n    }\r\n    protected void updatePreview() {\r\n        if(null == cameraDevice) {\r\n            Log.e(TAG, &quot;updatePreview error, return&quot;);\r\n        }\r\n        captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\r\n        try {\r\n            cameraCaptureSessions.setRepeatingRequest(captureRequestBuilder.build(), null, mBackgroundHandler);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if (requestCode == REQUEST_CAMERA_PERMISSION) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n                Toast.makeText(MainActivity.this, &quot;Sorry!!!, you can&#39;t use this app without granting permission&quot;, Toast.LENGTH_LONG).show();\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Log.e(TAG, &quot;onResume&quot;);\r\n        startBackgroundThread();\r\n        if (textureView.isAvailable()) {\r\n            openCamera();\r\n        } else {\r\n            textureView.setSurfaceTextureListener(textureListener);\r\n        }\r\n    }\r\n    @Override\r\n    protected void onPause() {\r\n        Log.e(TAG, &quot;onPause&quot;);\r\n        stopBackgroundThread();\r\n        super.onPause();\r\n    }\r\n\r\nRun Log:\r\n\r\n    E/MainActivity: onResume\r\n    E/MainActivity: is camera open\r\n    D/IMonitor: Load library imonitor_jni\r\n    D/: [ZeroHung]zrhung_send_event: wp=257, ret=-1\r\n    E/ZrHungImpl:  sendAppFreezeEvent failed!\r\n    I/PermissionManager: camera remind result:true\r\n    I/CameraManager: open camera: 0, package name: com.example.virtualeye\r\n    I/BackgroundPermManager: pkgName: com.example.virtualeye,pid: 10545 ,uidOf3RdApk: 10205 ,permType: 0 ,permCfg: 1\r\n    I/HwCameraUtil: notifySurfaceFlingerCameraStatus : isFront = false , isOpend = true\r\n    E/MainActivity: openCamera X\r\n    E/MainActivity: openCamera X\r\n    W/MessageQueue: Handler (android.os.Handler) {28a8a52} sending message to a Handler on a dead thread\r\n        java.lang.IllegalStateException: Handler (android.os.Handler) {28a8a52} sending message to a Handler on a dead thread\r\n            at android.os.MessageQueue.enqueueMessage(MessageQueue.java:654)\r\n            at android.os.Handler.enqueueMessage(Handler.java:769)\r\n            at android.os.Handler.sendMessageAtTime(Handler.java:718)\r\n            at android.os.Handler.sendMessageDelayed(Handler.java:688)\r\n            at android.os.Handler.post(Handler.java:405)\r\n            at android.hardware.camera2.impl.CameraDeviceImpl$CameraHandlerExecutor.execute(CameraDeviceImpl.java:2353)\r\n            at android.hardware.camera2.impl.CallbackProxies$SessionStateCallbackProxy.onClosed(CallbackProxies.java:104)\r\n            at android.hardware.camera2.impl.CameraCaptureSessionImpl$SequenceDrainListener.onDrained(CameraCaptureSessionImpl.java:886)\r\n            at android.hardware.camera2.utils.TaskDrainer.lambda$postDrained$0(TaskDrainer.java:207)\r\n            at android.hardware.camera2.utils.-$$Lambda$TaskDrainer$Jb53sDskEXp_qIjiikQeCRx0wJs.run(Unknown Source:2)\r\n            at android.os.Handler.handleCallback(Handler.java:907)\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:216)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\r\n    W/System.err: android.hardware.camera2.CameraAccessException: CAMERA_DISCONNECTED (2): checkPidStatus:1773: The camera device has been disconnected\r\n    W/System.err:     at android.hardware.camera2.CameraManager.throwAsPublicException(CameraManager.java:753)\r\n            at android.hardware.camera2.impl.ICameraDeviceUserWrapper.submitRequestList(ICameraDeviceUserWrapper.java:86)\r\n    W/System.err:     at android.hardware.camera2.impl.CameraDeviceImpl.submitCaptureRequest(CameraDeviceImpl.java:1051)\r\n            at android.hardware.camera2.impl.CameraDeviceImpl.capture(CameraDeviceImpl.java:918)\r\n            at android.hardware.camera2.impl.CameraCaptureSessionImpl.capture(CameraCaptureSessionImpl.java:173)\r\n            at com.example.virtualeye.MainActivity$11.onConfigured(MainActivity.java:394)\r\n            at android.hardware.camera2.impl.CallbackProxies$SessionStateCallbackProxy.lambda$onConfigured$0(CallbackProxies.java:53)\r\n            at android.hardware.camera2.impl.-$$Lambda$CallbackProxies$SessionStateCallbackProxy$soW0qC12Osypoky6AfL3P2-TeDw.run(Unknown Source:4)\r\n            at android.os.Handler.handleCallback(Handler.java:907)\r\n    W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:216)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\r\n        Caused by: android.os.ServiceSpecificException: checkPidStatus:1773: The camera device has been disconnected (code 4)\r\n    W/System.err:     at android.os.Parcel.createException(Parcel.java:1967)\r\n            at android.os.Parcel.readException(Parcel.java:1921)\r\n            at android.os.Parcel.readException(Parcel.java:1871)\r\n            at android.hardware.camera2.ICameraDeviceUser$Stub$Proxy.submitRequestList(ICameraDeviceUser.java:361)\r\n            at android.hardware.camera2.impl.ICameraDeviceUserWrapper.submitRequestList(ICameraDeviceUserWrapper.java:84)\r\n        \t... 13 more\r\n    I/CameraDevice-JV-0: close camera: 0, package name: com.example.virtualeye\r\n    I/BackgroundPermManager: pkgName: com.example.virtualeye,pid: 10545 ,uidOf3RdApk: 10205 ,permType: 0 ,permCfg: 0\r\n    I/HwCameraUtil: notifySurfaceFlingerCameraStatus : isFront = false , isOpend = false\r\n    E/MainActivity: onOpened\r\n    Process 10545 terminated.\r\n\r\n  [1]: https://inducesmile.com/android/android-camera2-api-example-tutorial/","title":"Calling of camera from different thread","body":"<p>I am writing a code that should capture images and send it to a python server. One part of this code requires calling the camera. My solution for this was to simulate a button press for the button connected to the camera. When i trigger the camera using the button on the interface however if i simulate the button press from within the code it fails.</p>\n\n<p>Any help to fix this is appreciated</p>\n\n<p>Camera usage is modified from <a href=\"https://inducesmile.com/android/android-camera2-api-example-tutorial/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Code (Comments for everywhere i face an issue):</p>\n\n<pre><code>private int captured = 0;\nprivate final int REQ_CODE = 100;\nprivate static final String TAG = MainActivity.class.getSimpleName();\nprivate String res;\nprivate TextureView textureView;\nprivate static final SparseIntArray ORIENTATIONS = new SparseIntArray();\nstatic {\n    ORIENTATIONS.append(Surface.ROTATION_0, 90);\n    ORIENTATIONS.append(Surface.ROTATION_90, 0);\n    ORIENTATIONS.append(Surface.ROTATION_180, 270);\n    ORIENTATIONS.append(Surface.ROTATION_270, 180);\n}\nprivate String cameraId;\nprotected CameraDevice cameraDevice;\nprotected CameraCaptureSession cameraCaptureSessions;\nprotected CaptureRequest.Builder captureRequestBuilder;\nprivate Size imageDimension;\nprivate ImageReader imageReader;\nprivate File file;\nprivate static final int REQUEST_CAMERA_PERMISSION = 200;\nprivate Handler mBackgroundHandler;\nprivate HandlerThread mBackgroundThread;\nImageButton initiateButton =  null;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    textureView = (TextureView) findViewById(R.id.textureView);\n    assert textureView != null;\n    currentMode = \"A\";\n    initiateButton = findViewById(R.id.initiateButton);\n    initiateButton.setOnClickListener( new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    takePicture();\n                }\n            });\n        }\n    });\n\n}\n\npublic void captureImage(){\n    try {\n        initiateButton.callOnClick(); //Simulate a press of the camera image button\n    }catch (Exception E){\n        System.out.println(E);\n    }\n\n}\n\npublic void runMain(){//Called after image is saved \n    if (captured == 0){\n        try {\n            TimeUnit.MILLISECONDS.sleep(1000);\n            captureImage();//Start point of issue with camera\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n        return ;\n    }\n    captured = 0;\n    String cat = currentMode.toUpperCase();\n    System.out.println(cat);\n    Thread t = null;\n    if (cat.equals(\"A\")) {\n        /*\n        Some Code to run on a different thread\n         */\n    } else if (cat.equals(\"B\")) {\n        /*\n        Some Code to run on a different thread\n         */\n    } else{\n        return ;\n    }\n    //t.start(); -&gt; start the thread\n    /*while (t.isAlive()){\n        Wait for thread to finish processing\n    }*/\n    if (currentMode.equalsIgnoreCase(\"A\")){\n        runMain(); //recursive (value changes from thread A as exit condition)\n    }else{\n        currentMode = \"\";\n    }\n\n}\n\nTextureView.SurfaceTextureListener textureListener = new TextureView.SurfaceTextureListener() {\n    @Override\n    public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height) {\n        openCamera();\n    }\n    @Override\n    public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height) {\n    }\n    @Override\n    public boolean onSurfaceTextureDestroyed(SurfaceTexture surface) {\n        return false;\n    }\n    @Override\n    public void onSurfaceTextureUpdated(SurfaceTexture surface) {\n    }\n};\nprivate final CameraDevice.StateCallback stateCallback = new CameraDevice.StateCallback() {\n    @Override\n    public void onOpened(CameraDevice camera) {\n        Log.e(TAG, \"onOpened\");\n        cameraDevice = camera;\n        createCameraPreview();\n    }\n    @Override\n    public void onDisconnected(CameraDevice camera) {\n        cameraDevice.close();\n    }\n    @Override\n    public void onError(CameraDevice camera, int error) {\n        cameraDevice.close();\n        cameraDevice = null;\n    }\n};\nfinal CameraCaptureSession.CaptureCallback captureCallbackListener = new CameraCaptureSession.CaptureCallback() {\n    @Override\n    public void onCaptureCompleted(CameraCaptureSession session, CaptureRequest request, TotalCaptureResult result) {\n        super.onCaptureCompleted(session, request, result);\n        Toast.makeText(MainActivity.this, \"Saved:\" + file, Toast.LENGTH_LONG).show();\n        createCameraPreview();\n    }\n};\nprotected void startBackgroundThread() {\n    mBackgroundThread = new HandlerThread(\"Camera Background\");\n    mBackgroundThread.start();\n    mBackgroundHandler = new Handler(mBackgroundThread.getLooper());\n}\nprotected void stopBackgroundThread() {\n    mBackgroundThread.quitSafely();\n    try {\n        mBackgroundThread.join();\n        mBackgroundThread = null;\n        mBackgroundHandler = null;\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\nprotected void takePicture() {\n    if(null == cameraDevice) {\n        Log.e(TAG, \"cameraDevice is null\");\n        return;\n    }\n    CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n    try {\n        int width = 640;\n        int height = 480;\n        CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraDevice.getId());\n        Size[] jpegSizes = null;\n        if (characteristics != null) {\n            jpegSizes = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP).getOutputSizes(ImageFormat.JPEG);\n        }\n\n        if (jpegSizes != null &amp;&amp; 0 &lt; jpegSizes.length) {\n            width = jpegSizes[0].getWidth();\n            height = jpegSizes[0].getHeight();\n        }\n        ImageReader reader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1);\n        List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;Surface&gt;(2);\n        outputSurfaces.add(reader.getSurface());\n        outputSurfaces.add(new Surface(textureView.getSurfaceTexture()));\n        final CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\n        captureBuilder.addTarget(reader.getSurface());\n        captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n        int rotation = getWindowManager().getDefaultDisplay().getRotation();\n        captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));\n        final File file = new File(Environment.getExternalStorageDirectory()+\"/virtual_eye_image.jpg\");\n        ImageReader.OnImageAvailableListener readerListener = new ImageReader.OnImageAvailableListener() {\n            @Override\n            public void onImageAvailable(ImageReader reader) {\n                Image image = null;\n                try {\n                    image = reader.acquireLatestImage();\n                    ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n                    byte[] bytes = new byte[buffer.capacity()];\n                    buffer.get(bytes);\n                    save(bytes);\n                } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } finally {\n                    if (image != null) {\n                        image.close();\n                    }\n                }\n            }\n            private void save(byte[] bytes) throws IOException {\n                OutputStream output = null;\n                try {\n                    output = new FileOutputStream(file);\n                    output.write(bytes);\n                } finally {\n                    if (null != output) {\n                        output.close();\n                    }\n                }\n            }\n        };\n        reader.setOnImageAvailableListener(readerListener, mBackgroundHandler);\n        final CameraCaptureSession.CaptureCallback captureListener = new CameraCaptureSession.CaptureCallback() {\n            @Override\n            public void onCaptureCompleted(CameraCaptureSession session, CaptureRequest request, TotalCaptureResult result) {\n                super.onCaptureCompleted(session, request, result);\n                Toast.makeText(MainActivity.this, \"Saved:\" + file, Toast.LENGTH_SHORT).show();\n                captured = 1;\n                runMain();\n            }\n        };\n        cameraDevice.createCaptureSession(outputSurfaces, new CameraCaptureSession.StateCallback() {\n            @Override\n            public void onConfigured(CameraCaptureSession session) {\n                try {\n                    session.capture(captureBuilder.build(), captureListener, mBackgroundHandler);\n                } catch (CameraAccessException e) {\n                    e.printStackTrace();\n                }\n            }\n            @Override\n            public void onConfigureFailed(CameraCaptureSession session) {\n            }\n        }, mBackgroundHandler);\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n}\nprotected void createCameraPreview() {\n    try {\n        SurfaceTexture texture = textureView.getSurfaceTexture();\n        assert texture != null;\n        texture.setDefaultBufferSize(imageDimension.getWidth(), imageDimension.getHeight());\n        Surface surface = new Surface(texture);\n        captureRequestBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n        captureRequestBuilder.addTarget(surface);\n        cameraDevice.createCaptureSession(Arrays.asList(surface), new CameraCaptureSession.StateCallback(){\n            @Override\n            public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\n                if (null == cameraDevice) {\n                    return;\n                }\n                cameraCaptureSessions = cameraCaptureSession;\n                updatePreview();\n            }\n            @Override\n            public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession) {\n                Toast.makeText(MainActivity.this, \"Configuration change\", Toast.LENGTH_SHORT).show();\n            }\n        }, null);\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n}\nprivate void openCamera() {\n    CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n    Log.e(TAG, \"is camera open\");\n    try {\n        cameraId = manager.getCameraIdList()[0];\n        CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\n        StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n        assert map != null;\n        imageDimension = map.getOutputSizes(SurfaceTexture.class)[0];\n        // Add permission for camera and let user grant the permission\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_CAMERA_PERMISSION);\n            return;\n        }\n        manager.openCamera(cameraId, stateCallback, null);\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n    Log.e(TAG, \"openCamera X\");\n}\nprotected void updatePreview() {\n    if(null == cameraDevice) {\n        Log.e(TAG, \"updatePreview error, return\");\n    }\n    captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n    try {\n        cameraCaptureSessions.setRepeatingRequest(captureRequestBuilder.build(), null, mBackgroundHandler);\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    if (requestCode == REQUEST_CAMERA_PERMISSION) {\n        if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\n            Toast.makeText(MainActivity.this, \"Sorry!!!, you can't use this app without granting permission\", Toast.LENGTH_LONG).show();\n            finish();\n        }\n    }\n}\n@Override\nprotected void onResume() {\n    super.onResume();\n    Log.e(TAG, \"onResume\");\n    startBackgroundThread();\n    if (textureView.isAvailable()) {\n        openCamera();\n    } else {\n        textureView.setSurfaceTextureListener(textureListener);\n    }\n}\n@Override\nprotected void onPause() {\n    Log.e(TAG, \"onPause\");\n    stopBackgroundThread();\n    super.onPause();\n}\n</code></pre>\n\n<p>Run Log:</p>\n\n<pre><code>E/MainActivity: onResume\nE/MainActivity: is camera open\nD/IMonitor: Load library imonitor_jni\nD/: [ZeroHung]zrhung_send_event: wp=257, ret=-1\nE/ZrHungImpl:  sendAppFreezeEvent failed!\nI/PermissionManager: camera remind result:true\nI/CameraManager: open camera: 0, package name: com.example.virtualeye\nI/BackgroundPermManager: pkgName: com.example.virtualeye,pid: 10545 ,uidOf3RdApk: 10205 ,permType: 0 ,permCfg: 1\nI/HwCameraUtil: notifySurfaceFlingerCameraStatus : isFront = false , isOpend = true\nE/MainActivity: openCamera X\nE/MainActivity: openCamera X\nW/MessageQueue: Handler (android.os.Handler) {28a8a52} sending message to a Handler on a dead thread\n    java.lang.IllegalStateException: Handler (android.os.Handler) {28a8a52} sending message to a Handler on a dead thread\n        at android.os.MessageQueue.enqueueMessage(MessageQueue.java:654)\n        at android.os.Handler.enqueueMessage(Handler.java:769)\n        at android.os.Handler.sendMessageAtTime(Handler.java:718)\n        at android.os.Handler.sendMessageDelayed(Handler.java:688)\n        at android.os.Handler.post(Handler.java:405)\n        at android.hardware.camera2.impl.CameraDeviceImpl$CameraHandlerExecutor.execute(CameraDeviceImpl.java:2353)\n        at android.hardware.camera2.impl.CallbackProxies$SessionStateCallbackProxy.onClosed(CallbackProxies.java:104)\n        at android.hardware.camera2.impl.CameraCaptureSessionImpl$SequenceDrainListener.onDrained(CameraCaptureSessionImpl.java:886)\n        at android.hardware.camera2.utils.TaskDrainer.lambda$postDrained$0(TaskDrainer.java:207)\n        at android.hardware.camera2.utils.-$$Lambda$TaskDrainer$Jb53sDskEXp_qIjiikQeCRx0wJs.run(Unknown Source:2)\n        at android.os.Handler.handleCallback(Handler.java:907)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\nW/System.err: android.hardware.camera2.CameraAccessException: CAMERA_DISCONNECTED (2): checkPidStatus:1773: The camera device has been disconnected\nW/System.err:     at android.hardware.camera2.CameraManager.throwAsPublicException(CameraManager.java:753)\n        at android.hardware.camera2.impl.ICameraDeviceUserWrapper.submitRequestList(ICameraDeviceUserWrapper.java:86)\nW/System.err:     at android.hardware.camera2.impl.CameraDeviceImpl.submitCaptureRequest(CameraDeviceImpl.java:1051)\n        at android.hardware.camera2.impl.CameraDeviceImpl.capture(CameraDeviceImpl.java:918)\n        at android.hardware.camera2.impl.CameraCaptureSessionImpl.capture(CameraCaptureSessionImpl.java:173)\n        at com.example.virtualeye.MainActivity$11.onConfigured(MainActivity.java:394)\n        at android.hardware.camera2.impl.CallbackProxies$SessionStateCallbackProxy.lambda$onConfigured$0(CallbackProxies.java:53)\n        at android.hardware.camera2.impl.-$$Lambda$CallbackProxies$SessionStateCallbackProxy$soW0qC12Osypoky6AfL3P2-TeDw.run(Unknown Source:4)\n        at android.os.Handler.handleCallback(Handler.java:907)\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\n    Caused by: android.os.ServiceSpecificException: checkPidStatus:1773: The camera device has been disconnected (code 4)\nW/System.err:     at android.os.Parcel.createException(Parcel.java:1967)\n        at android.os.Parcel.readException(Parcel.java:1921)\n        at android.os.Parcel.readException(Parcel.java:1871)\n        at android.hardware.camera2.ICameraDeviceUser$Stub$Proxy.submitRequestList(ICameraDeviceUser.java:361)\n        at android.hardware.camera2.impl.ICameraDeviceUserWrapper.submitRequestList(ICameraDeviceUserWrapper.java:84)\n        ... 13 more\nI/CameraDevice-JV-0: close camera: 0, package name: com.example.virtualeye\nI/BackgroundPermManager: pkgName: com.example.virtualeye,pid: 10545 ,uidOf3RdApk: 10205 ,permType: 0 ,permCfg: 0\nI/HwCameraUtil: notifySurfaceFlingerCameraStatus : isFront = false , isOpend = false\nE/MainActivity: onOpened\nProcess 10545 terminated.\n</code></pre>\n"},{"tags":["java","maven","testing","binary-compatibility"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1651235128,"post_id":72056421,"comment_id":127321837,"body_markdown":"You can run your tests in a different module, which has the compiled module as a dependency. In the test module you can use the other version of dbunit.","body":"You can run your tests in a different module, which has the compiled module as a dependency. In the test module you can use the other version of dbunit."},{"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":0,"creation_date":1651243398,"post_id":72056421,"comment_id":127324939,"body_markdown":"Good idea that pointed me to the right direction. I used the maven-invoker-plugin. Hope I will find time to post my own answer here soon.  For now I will just link the repo here [dbunit-extensions on github](https://github.com/link-intersystems/dbunit-extensions)","body":"Good idea that pointed me to the right direction. I used the maven-invoker-plugin. Hope I will find time to post my own answer here soon.  For now I will just link the repo here <a href=\"https://github.com/link-intersystems/dbunit-extensions\" rel=\"nofollow noreferrer\">dbunit-extensions on github</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1651250552,"post_id":72056421,"comment_id":127327511,"body_markdown":"First I would suggest not to introduce version ranges. Furthermore you should define the dependency as a provided scope.","body":"First I would suggest not to introduce version ranges. Furthermore you should define the dependency as a provided scope."},{"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":0,"creation_date":1651394868,"post_id":72056421,"comment_id":127350947,"body_markdown":"@khmarbaise That&#39;s a good suggestion. I guess you mean the problems that can arise with snapshot dependencies and version ranges. I removed the version range. I also figured out that the dependency mananagement is enough. If I put the version in the dependency management it is overridden by the client pom&#39;s dependency management version. Thus I don&#39;t need version ranges, nor set it provided.","body":"@khmarbaise That&#39;s a good suggestion. I guess you mean the problems that can arise with snapshot dependencies and version ranges. I removed the version range. I also figured out that the dependency mananagement is enough. If I put the version in the dependency management it is overridden by the client pom&#39;s dependency management version. Thus I don&#39;t need version ranges, nor set it provided."}],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651228041,"creation_date":1651227635,"question_id":72056421,"body_markdown":"I&#39;m currently working on a dbunit extension library. Thus this library depends on dbunit.\r\n\r\nI extracted the version as a maven property.\r\n\r\n    &lt;properties&gt;\r\n        &lt;dbunit.version&gt;2.4.8&lt;/dbunit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\r\n                &lt;version&gt;${dbunit.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nThis allows me to run the maven build with another dbunit version\r\n\r\n    mvn test -Ddbunit.version=2.7.3\r\n\r\nBut it also change the dbunit version that the compiler uses. Thus I test source code compatibility to another dbunit version.\r\n\r\nThe question I want to answer with my maven build is: \r\n\r\n&gt; Does my library work normal, as specified by the tests, if I use the library that was build against dbunit 2.4.8 with dbunit 2.7.3 at runtime?\r\n\r\nI would like to introduce version ranges so that clients of the library can choose which version they want to use, but to do that I want to test which versions work.\r\n\r\nThe `maven-surefire-plugin` allows me to add additional classpath entries. But only if I know the path of a lib. I would like to use the GAV (group artifact version) format.\r\n\r\nHow can I solve this? Do you know another plugin that can handle such cases.","title":"How to change the version of a dependency during test execution to test binary compatibility with maven?","body":"<p>I'm currently working on a dbunit extension library. Thus this library depends on dbunit.</p>\n<p>I extracted the version as a maven property.</p>\n<pre><code>&lt;properties&gt;\n    &lt;dbunit.version&gt;2.4.8&lt;/dbunit.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dbunit&lt;/groupId&gt;\n            &lt;artifactId&gt;dbunit&lt;/artifactId&gt;\n            &lt;version&gt;${dbunit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>This allows me to run the maven build with another dbunit version</p>\n<pre><code>mvn test -Ddbunit.version=2.7.3\n</code></pre>\n<p>But it also change the dbunit version that the compiler uses. Thus I test source code compatibility to another dbunit version.</p>\n<p>The question I want to answer with my maven build is:</p>\n<blockquote>\n<p>Does my library work normal, as specified by the tests, if I use the library that was build against dbunit 2.4.8 with dbunit 2.7.3 at runtime?</p>\n</blockquote>\n<p>I would like to introduce version ranges so that clients of the library can choose which version they want to use, but to do that I want to test which versions work.</p>\n<p>The <code>maven-surefire-plugin</code> allows me to add additional classpath entries. But only if I know the path of a lib. I would like to use the GAV (group artifact version) format.</p>\n<p>How can I solve this? Do you know another plugin that can handle such cases.</p>\n"},{"tags":["java","spring","entitymanager"],"comments":[{"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"score":1,"creation_date":1648157201,"post_id":71607279,"comment_id":126560555,"body_markdown":"I&#39;m not sure if I&#39;m tracking with you as to why you&#39;re using `EntityManager` (a JPA API) if you are not using an ORM framework, but you could put the query into a Text Block (multiline String) since Java 15.","body":"I&#39;m not sure if I&#39;m tracking with you as to why you&#39;re using <code>EntityManager</code> (a JPA API) if you are not using an ORM framework, but you could put the query into a Text Block (multiline String) since Java 15."},{"owner":{"account_id":6064119,"reputation":1809,"user_id":4735043,"display_name":"Jin Lim"},"score":0,"creation_date":1648157946,"post_id":71607279,"comment_id":126560744,"body_markdown":"Thanks @BriceRoncace, can you show me some example?","body":"Thanks @BriceRoncace, can you show me some example?"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1648159188,"post_id":71607279,"comment_id":126561078,"body_markdown":"See documentation regarding [text blocks](https://docs.oracle.com/en/java/javase/15/text-blocks/index.html#introduction)","body":"See documentation regarding <a href=\"https://docs.oracle.com/en/java/javase/15/text-blocks/index.html#introduction\" rel=\"nofollow noreferrer\">text blocks</a>"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1648159483,"post_id":71607279,"comment_id":126561144,"body_markdown":"(1) Define &#39;better&#39; (2) You don&#39;t *need* the `\\n` symbols, a space would do just as well","body":"(1) Define &#39;better&#39; (2) You don&#39;t <i>need</i> the <code>\\n</code> symbols, a space would do just as well"}],"answers":[{"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648159284,"creation_date":1648159284,"answer_id":71609942,"question_id":71607279,"body_markdown":"[Java Text Blocks][1] to the rescue!  (aka multiline Strings.) This has been a feature in Java since Java 15.  \r\n\r\nFormatting SQL in Java code is the primary use case in our environment.  Here&#39;s an example using your query:\r\n\r\n     String query = &quot;&quot;&quot;\r\n      SELECT clients.encoded_key FROM users\r\n      LEFT JOIN clients on clients.user_id = users.id AND (clients.currency = &#39;EUR&#39;)\r\n      WHERE users.user_type = &#39;Lender&#39; AND users.id = :user_id LIMIT 1\r\n      &quot;&quot;&quot;;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/text-blocks/index.html","title":"Is there a better way of writing native SQL query with EntityManager Java Spring Boot application?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/15/text-blocks/index.html\" rel=\"nofollow noreferrer\">Java Text Blocks</a> to the rescue!  (aka multiline Strings.) This has been a feature in Java since Java 15.</p>\n<p>Formatting SQL in Java code is the primary use case in our environment.  Here's an example using your query:</p>\n<pre><code> String query = &quot;&quot;&quot;\n  SELECT clients.encoded_key FROM users\n  LEFT JOIN clients on clients.user_id = users.id AND (clients.currency = 'EUR')\n  WHERE users.user_type = 'Lender' AND users.id = :user_id LIMIT 1\n  &quot;&quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":6064119,"reputation":1809,"user_id":4735043,"display_name":"Jin Lim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651227999,"creation_date":1648144472,"question_id":71607279,"body_markdown":"My current code look like this. I am not using any ORM framework like Hibernate. I need to use this raw SQL query. \r\n\r\n```java\r\npublic List&lt;String&gt; getEndcodedKeyByLenderId(String lenderId) {\r\n    Query q = (Query) entityManager.createNativeQuery(&quot;SELECT clients.encoded_key FROM `users`\\n&quot; +\r\n            &quot;LEFT JOIN clients on clients.`user_id` = users.id AND (clients.currency = &#39;EUR&#39;)\\n&quot; +\r\n            &quot;WHERE `users`.`user_type` = &#39;Lender&#39; AND `users`.`id` = :user_id LIMIT 1;&quot;);\r\n    q.setParameter(&quot;user_id&quot;, lenderId);\r\n    List&lt;String&gt; results = q.getResultList();\r\n    return results;\r\n}\r\n```\r\n\r\nI don&#39;t like so many &quot; and \\n  and + symbol. \r\n\r\nIs there better way to approach for same result?","title":"Is there a better way of writing native SQL query with EntityManager Java Spring Boot application?","body":"<p>My current code look like this. I am not using any ORM framework like Hibernate. I need to use this raw SQL query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;String&gt; getEndcodedKeyByLenderId(String lenderId) {\n    Query q = (Query) entityManager.createNativeQuery(&quot;SELECT clients.encoded_key FROM `users`\\n&quot; +\n            &quot;LEFT JOIN clients on clients.`user_id` = users.id AND (clients.currency = 'EUR')\\n&quot; +\n            &quot;WHERE `users`.`user_type` = 'Lender' AND `users`.`id` = :user_id LIMIT 1;&quot;);\n    q.setParameter(&quot;user_id&quot;, lenderId);\n    List&lt;String&gt; results = q.getResultList();\n    return results;\n}\n</code></pre>\n<p>I don't like so many &quot; and \\n  and + symbol.</p>\n<p>Is there better way to approach for same result?</p>\n"},{"tags":["java","android","audio","android-mediaplayer","media-player"],"comments":[{"owner":{"account_id":4597457,"reputation":392,"user_id":3729079,"display_name":"Aris_choice"},"score":0,"creation_date":1622628178,"post_id":57213629,"comment_id":119844285,"body_markdown":"try using this  if media player. stop() not work       try {\n                var audioManager =  mContext!!.getSystemService(AUDIO_SERVICE) as AudioManager\n                audioManager.setStreamVolume(AudioManager.STREAM_NOTIFICATION, 0, 0);\n            } catch (e: Exception) {\n            }","body":"try using this  if media player. stop() not work       try {                 var audioManager =  mContext!!.getSystemService(AUDIO_SERVICE) as AudioManager                 audioManager.setStreamVolume(AudioManager.STREAM_NOTIFICATIO&zwnj;&#8203;N, 0, 0);             } catch (e: Exception) {             }"}],"answers":[{"tags":[],"owner":{"account_id":3963360,"reputation":3969,"user_id":3269958,"display_name":"Shalu T D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1564121405,"creation_date":1564119237,"answer_id":57213702,"question_id":57213629,"body_markdown":"Please change your code like below:-\r\n\r\nMediaPlayer mediaPlayerOne;\r\nMediaPlayer mediaPlayerTwo;\r\n\r\n    public void playSound(View view) {\r\n    \r\n            Button soundButton = (Button) view;\r\n    \r\n      \r\n            mediaPlayerOne.start();\r\n            mediaPlayerTwo.start();\r\n        }\r\n\r\nYou are trying to stop a media player instance which is not started yet. You are playing a media player instance which is local to that method.\r\n\r\nIn oncreate method like below:-\r\n\r\n    mediaPlayerOne = MediaPlayer.create(this, R.raw.sound_01);\r\n    mediaPlayerTwo = MediaPlayer.create(this, R.raw.sound_02);\r\n\r\nWhen stop:-\r\n\r\n     mediaPlayerOne.stop();\r\n     mediaPlayerTwo.stop();\r\n\r\n","title":"Why mediaPlayer.stop(); is not working here?","body":"<p>Please change your code like below:-</p>\n\n<p>MediaPlayer mediaPlayerOne;\nMediaPlayer mediaPlayerTwo;</p>\n\n<pre><code>public void playSound(View view) {\n\n        Button soundButton = (Button) view;\n\n\n        mediaPlayerOne.start();\n        mediaPlayerTwo.start();\n    }\n</code></pre>\n\n<p>You are trying to stop a media player instance which is not started yet. You are playing a media player instance which is local to that method.</p>\n\n<p>In oncreate method like below:-</p>\n\n<pre><code>mediaPlayerOne = MediaPlayer.create(this, R.raw.sound_01);\nmediaPlayerTwo = MediaPlayer.create(this, R.raw.sound_02);\n</code></pre>\n\n<p>When stop:-</p>\n\n<pre><code> mediaPlayerOne.stop();\n mediaPlayerTwo.stop();\n</code></pre>\n"}],"owner":{"account_id":16136754,"reputation":99,"user_id":11649037,"display_name":"dewie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57213702,"answer_count":1,"score":4,"last_activity_date":1651227990,"creation_date":1564118719,"question_id":57213629,"body_markdown":"**[AS]** I&#39;ve loaded two sounds that can play and overlap with no problem, however I can&#39;t seem to stop or pause them.\r\n\r\nIn its current state, the stop button only writes to a log, but I can&#39;t seem to get mediaplayer.stop(); or mediaplayer.pause(); to work.\r\n\r\nTo be clear, I want stopSound to end all sounds currently playing and have each sound start from the beginning when called again.\r\n\r\nIs volumeControl creating a conflict? Am I missing something? Any help is greatly appreciated.\r\n\r\n**MainActivity.java**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        public MediaPlayer mediaPlayer;\r\n        AudioManager audioManager;\r\n    \r\n        public void playSound(View view) {\r\n    \r\n            Button soundButton = (Button) view;\r\n    \r\n            Log.i(&quot;INFO&quot;, soundButton.getTag().toString() + &quot; button pressed.&quot;);\r\n    \r\n            MediaPlayer mediaPlayer = MediaPlayer.create(this, getResources().getIdentifier(soundButton.getTag().toString(), &quot;raw&quot;, getPackageName()));\r\n    \r\n            mediaPlayer.start();\r\n    \r\n        }\r\n    \r\n        public void stopSound(View view) {\r\n    \r\n            Log.i(&quot;INFO&quot;, &quot;stop button pressed.&quot;);   \r\n       \r\n            mediaPlayer.stop();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            audioManager = (AudioManager) getSystemService(AUDIO_SERVICE);\r\n    \r\n            int maxVolume = audioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC);\r\n            int currentVolume = audioManager.getStreamVolume(AudioManager.STREAM_MUSIC);\r\n    \r\n            mediaPlayer = MediaPlayer.create(this, R.raw.sound_01);\r\n    \r\n            mediaPlayer = MediaPlayer.create(this, R.raw.sound_02);\r\n    \r\n            SeekBar volumeControl = (SeekBar) findViewById(R.id.seekBar);\r\n    \r\n            volumeControl.setMax(maxVolume);\r\n            volumeControl.setProgress(currentVolume);\r\n    \r\n            volumeControl.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n                @Override\r\n                public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n    \r\n                    Log.i(&quot;Seekbar changed&quot;, Integer.toString(i));\r\n    \r\n                    audioManager.setStreamVolume(AudioManager.STREAM_MUSIC, i, 0);\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onStartTrackingTouch(SeekBar seekBar) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onStopTrackingTouch(SeekBar seekBar) {\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n\r\n**activity_main.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@android:color/background_light&quot;\r\n        tools:context=&quot;com.example.company.app.MainActivity&quot;&gt;\r\n    \r\n        &lt;android.support.constraint.ConstraintLayout\r\n            android:id=&quot;@+id/constraintLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;ScrollView\r\n                android:id=&quot;@+id/scrollView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginBottom=&quot;128dp&quot;\r\n                android:layout_marginTop=&quot;64dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n                &lt;GridLayout\r\n                    android:id=&quot;@+id/gridLayout&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;@android:color/black&quot;\r\n                    android:columnCount=&quot;2&quot;\r\n                    android:paddingBottom=&quot;4dp&quot;\r\n                    android:paddingTop=&quot;4dp&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n                    &lt;Button\r\n                        android:id=&quot;@+id/buttonL1&quot;\r\n                        android:layout_columnWeight=&quot;1&quot;\r\n                        android:layout_gravity=&quot;center_vertical&quot;\r\n                        android:layout_marginLeft=&quot;6dp&quot;\r\n                        android:layout_marginRight=&quot;1dp&quot;\r\n                        android:layout_rowWeight=&quot;1&quot;\r\n                        android:onClick=&quot;playSound&quot;\r\n                        android:tag=&quot;sound_01&quot;\r\n                        android:text=&quot;Sound One&quot; /&gt;\r\n    \r\n                    &lt;Button\r\n                        android:id=&quot;@+id/buttonR1&quot;\r\n                        android:layout_columnWeight=&quot;1&quot;\r\n                        android:layout_gravity=&quot;center_vertical&quot;\r\n                        android:layout_marginLeft=&quot;1dp&quot;\r\n                        android:layout_marginRight=&quot;6dp&quot;\r\n                        android:layout_rowWeight=&quot;1&quot;\r\n                        android:onClick=&quot;playSound&quot;\r\n                        android:tag=&quot;sound_02&quot;\r\n                        android:text=&quot;Sound Two&quot; /&gt;\r\n    \r\n    \r\n                &lt;/GridLayout&gt;\r\n            &lt;/ScrollView&gt;\r\n    \r\n            &lt;SeekBar\r\n                android:id=&quot;@+id/seekBar&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;24dp&quot;\r\n                android:layout_marginStart=&quot;24dp&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/scrollView&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/stopButton&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:onClick=&quot;stopSound&quot;\r\n                android:text=&quot;stop&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/seekBar&quot; /&gt;\r\n    \r\n        &lt;/android.support.constraint.ConstraintLayout&gt;\r\n    \r\n    &lt;/android.support.constraint.ConstraintLayout&gt;","title":"Why mediaPlayer.stop(); is not working here?","body":"<p><strong>[AS]</strong> I've loaded two sounds that can play and overlap with no problem, however I can't seem to stop or pause them.</p>\n\n<p>In its current state, the stop button only writes to a log, but I can't seem to get mediaplayer.stop(); or mediaplayer.pause(); to work.</p>\n\n<p>To be clear, I want stopSound to end all sounds currently playing and have each sound start from the beginning when called again.</p>\n\n<p>Is volumeControl creating a conflict? Am I missing something? Any help is greatly appreciated.</p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public MediaPlayer mediaPlayer;\n    AudioManager audioManager;\n\n    public void playSound(View view) {\n\n        Button soundButton = (Button) view;\n\n        Log.i(\"INFO\", soundButton.getTag().toString() + \" button pressed.\");\n\n        MediaPlayer mediaPlayer = MediaPlayer.create(this, getResources().getIdentifier(soundButton.getTag().toString(), \"raw\", getPackageName()));\n\n        mediaPlayer.start();\n\n    }\n\n    public void stopSound(View view) {\n\n        Log.i(\"INFO\", \"stop button pressed.\");   \n\n        mediaPlayer.stop();\n\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        audioManager = (AudioManager) getSystemService(AUDIO_SERVICE);\n\n        int maxVolume = audioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC);\n        int currentVolume = audioManager.getStreamVolume(AudioManager.STREAM_MUSIC);\n\n        mediaPlayer = MediaPlayer.create(this, R.raw.sound_01);\n\n        mediaPlayer = MediaPlayer.create(this, R.raw.sound_02);\n\n        SeekBar volumeControl = (SeekBar) findViewById(R.id.seekBar);\n\n        volumeControl.setMax(maxVolume);\n        volumeControl.setProgress(currentVolume);\n\n        volumeControl.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n\n                Log.i(\"Seekbar changed\", Integer.toString(i));\n\n                audioManager.setStreamVolume(AudioManager.STREAM_MUSIC, i, 0);\n\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n            }\n        });\n\n    }\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@android:color/background_light\"\n    tools:context=\"com.example.company.app.MainActivity\"&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:id=\"@+id/constraintLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n        &lt;ScrollView\n            android:id=\"@+id/scrollView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_marginBottom=\"128dp\"\n            android:layout_marginTop=\"64dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n            &lt;GridLayout\n                android:id=\"@+id/gridLayout\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"@android:color/black\"\n                android:columnCount=\"2\"\n                android:paddingBottom=\"4dp\"\n                android:paddingTop=\"4dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n                &lt;Button\n                    android:id=\"@+id/buttonL1\"\n                    android:layout_columnWeight=\"1\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:layout_marginLeft=\"6dp\"\n                    android:layout_marginRight=\"1dp\"\n                    android:layout_rowWeight=\"1\"\n                    android:onClick=\"playSound\"\n                    android:tag=\"sound_01\"\n                    android:text=\"Sound One\" /&gt;\n\n                &lt;Button\n                    android:id=\"@+id/buttonR1\"\n                    android:layout_columnWeight=\"1\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:layout_marginLeft=\"1dp\"\n                    android:layout_marginRight=\"6dp\"\n                    android:layout_rowWeight=\"1\"\n                    android:onClick=\"playSound\"\n                    android:tag=\"sound_02\"\n                    android:text=\"Sound Two\" /&gt;\n\n\n            &lt;/GridLayout&gt;\n        &lt;/ScrollView&gt;\n\n        &lt;SeekBar\n            android:id=\"@+id/seekBar\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"24dp\"\n            android:layout_marginStart=\"24dp\"\n            android:layout_marginTop=\"16dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/scrollView\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/stopButton\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginTop=\"16dp\"\n            android:onClick=\"stopSound\"\n            android:text=\"stop\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@id/seekBar\" /&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","android","maps","fragment","manifest"],"answers":[{"tags":[],"owner":{"account_id":6011853,"reputation":280,"user_id":4722059,"display_name":"Brad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563591060,"creation_date":1563591060,"answer_id":57121441,"question_id":57120753,"body_markdown":"The answer should be tied to AndroidX and making sure you have all support libraries migrated to AndroidX.  This would include design libraries.  I had the same issue and once I migrated them over it worked.  Check out all possible libraries here https://developer.android.com/jetpack/androidx/migrate","title":"Android Studio Error when Creating a Project with a Google Maps Activity","body":"<p>The answer should be tied to AndroidX and making sure you have all support libraries migrated to AndroidX.  This would include design libraries.  I had the same issue and once I migrated them over it worked.  Check out all possible libraries here <a href=\"https://developer.android.com/jetpack/androidx/migrate\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/migrate</a></p>\n"},{"tags":[],"owner":{"account_id":11912970,"reputation":1,"user_id":8717624,"display_name":"eeobryanxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570691043,"creation_date":1570691043,"answer_id":58317232,"question_id":57120753,"body_markdown":"All you need to do is to update your android studio and you are good to go. I created a new project and it ran fine.","title":"Android Studio Error when Creating a Project with a Google Maps Activity","body":"<p>All you need to do is to update your android studio and you are good to go. I created a new project and it ran fine.</p>\n"},{"tags":[],"owner":{"account_id":8748709,"reputation":97,"user_id":6542863,"display_name":"Krista Marie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581478407,"creation_date":1581478407,"answer_id":60180698,"question_id":57120753,"body_markdown":"Migrating to androidX should do the trick, add these two flags to your gradle.properties file. Refactor by going to ```Refactor &gt; Migrate to AndroidX``` in android studio menu bar\r\n\r\n```\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\n```","title":"Android Studio Error when Creating a Project with a Google Maps Activity","body":"<p>Migrating to androidX should do the trick, add these two flags to your gradle.properties file. Refactor by going to <code>Refactor &gt; Migrate to AndroidX</code> in android studio menu bar</p>\n\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n"}],"owner":{"account_id":7217384,"reputation":101,"user_id":5509299,"display_name":"Daknife"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1651227905,"creation_date":1563580991,"question_id":57120753,"body_markdown":"When I create a new project in Android Studio with a Google Maps Activity I get the following error when I do the initial build of the project:\r\n\r\n&gt;Manifest merger failed : Attribute application@appComponentFactory value=(android.support.v4.app.CoreComponentFactory) from [com.android.support:support-compat:28.0.0] AndroidManifest.xml:22:18-91\r\n\tis also present at [androidx.core:core:1.0.0] AndroidManifest.xml:22:18-86 value=(androidx.core.app.CoreComponentFactory).\r\n\tSuggestion: add &#39;tools:replace=&quot;android:appComponentFactory&quot;&#39; to &lt;application&gt; element at AndroidManifest.xml:12:5-41:19 to override.\r\n\r\nWhen I add:\r\n\r\n`tools:replace=&quot;android:appComponentFactory`\r\n\r\nto my `AndroidManifest.xml` file I get the error below:\r\n\r\n&gt;Manifest merger failed with multiple errors, see logs\r\n\r\nI&#39;ve found several potential solutions on StackOverflow but none work.\r\n\r\n\r\n\r\n\r\nI&#39;ve tried several potential solutions that I&#39;ve found on StackOverflow including:\r\n\r\n- migrating to AndroidX\r\n\r\n- Adding the following lines to my \r\n  manifest\r\n\r\n  \r\n`tools:replace=&quot;android:appComponentFactory`\r\n  `android:appComponentFactory=&quot;whateverString&quot;`\r\n\r\n- Removing implementation `com.android.support:appcompat-v7:28.0.0-rc01`\r\n\r\n\r\n\r\n\r\nMain Activity code\r\n\r\n    import android.support.v4.app.FragmentActivity;\r\n    import android.os.Bundle;\r\n    \r\n    import com.google.android.gms.maps.CameraUpdateFactory;\r\n    import com.google.android.gms.maps.GoogleMap;\r\n    import com.google.android.gms.maps.OnMapReadyCallback;\r\n    import com.google.android.gms.maps.SupportMapFragment;\r\n    import com.google.android.gms.maps.model.LatLng;\r\n    import com.google.android.gms.maps.model.MarkerOptions;\r\n    \r\n    public class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\r\n    \r\n        private GoogleMap mMap;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_maps);\r\n            // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n            SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                    .findFragmentById(R.id.map);\r\n            mapFragment.getMapAsync(this);\r\n        }\r\n\r\nAndroid Manifest:\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;!--\r\n             The API key for Google Maps-based APIs is defined as a string resource.\r\n             (See the file &quot;res/values/google_maps_api.xml&quot;).\r\n             Note that the API key is linked to the encryption key used to sign the APK.\r\n             You need a different API key for each encryption key, including the release key that is used to\r\n             sign the APK for publishing.\r\n             You can define the keys for the debug and release targets in src/debug/ and src/release/.\r\n        --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;@string/google_maps_key&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MapsActivity&quot;\r\n            android:label=&quot;@string/title_activity_maps&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n\r\n\r\n","title":"Android Studio Error when Creating a Project with a Google Maps Activity","body":"<p>When I create a new project in Android Studio with a Google Maps Activity I get the following error when I do the initial build of the project:</p>\n\n<blockquote>\n  <p>Manifest merger failed : Attribute application@appComponentFactory value=(android.support.v4.app.CoreComponentFactory) from [com.android.support:support-compat:28.0.0] AndroidManifest.xml:22:18-91\n      is also present at [androidx.core:core:1.0.0] AndroidManifest.xml:22:18-86 value=(androidx.core.app.CoreComponentFactory).\n      Suggestion: add 'tools:replace=\"android:appComponentFactory\"' to  element at AndroidManifest.xml:12:5-41:19 to override.</p>\n</blockquote>\n\n<p>When I add:</p>\n\n<p><code>tools:replace=\"android:appComponentFactory</code></p>\n\n<p>to my <code>AndroidManifest.xml</code> file I get the error below:</p>\n\n<blockquote>\n  <p>Manifest merger failed with multiple errors, see logs</p>\n</blockquote>\n\n<p>I've found several potential solutions on StackOverflow but none work.</p>\n\n<p>I've tried several potential solutions that I've found on StackOverflow including:</p>\n\n<ul>\n<li><p>migrating to AndroidX</p></li>\n<li><p>Adding the following lines to my \nmanifest</p></li>\n</ul>\n\n<p><code>tools:replace=\"android:appComponentFactory</code>\n  <code>android:appComponentFactory=\"whateverString\"</code></p>\n\n<ul>\n<li>Removing implementation <code>com.android.support:appcompat-v7:28.0.0-rc01</code></li>\n</ul>\n\n<p>Main Activity code</p>\n\n<pre><code>import android.support.v4.app.FragmentActivity;\nimport android.os.Bundle;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n</code></pre>\n\n<p>Android Manifest:</p>\n\n<pre><code>&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n\n    &lt;!--\n         The API key for Google Maps-based APIs is defined as a string resource.\n         (See the file \"res/values/google_maps_api.xml\").\n         Note that the API key is linked to the encryption key used to sign the APK.\n         You need a different API key for each encryption key, including the release key that is used to\n         sign the APK for publishing.\n         You can define the keys for the debug and release targets in src/debug/ and src/release/.\n    --&gt;\n    &lt;meta-data\n        android:name=\"com.google.android.geo.API_KEY\"\n        android:value=\"@string/google_maps_key\" /&gt;\n\n    &lt;activity\n        android:name=\".MapsActivity\"\n        android:label=\"@string/title_activity_maps\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n"},{"tags":["java","indexing","numbers"],"answers":[{"tags":[],"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651227491,"creation_date":1651227491,"answer_id":72056398,"question_id":72056242,"body_markdown":"Your problem is with `List#indexOf(Object)` which always returns the index of the **first equal value encountered**.\r\n\r\nNow you&#39;re processing your values in a stream, so the subtracted values are returned into the stream but the original `numbers` list will not be modified. When the stream processes the 5th element, which in your example is 2 again, it will look for the index in the **original unmodified list** and therefore `numbers.indexOf( 2 )` returns index 1 which is odd and therefore `i - 1` will be executed.\r\n\r\nIf you want to learn more about how to use streams with indices while avoiding such issues take a look at for example [this tutorial](https://www.baeldung.com/java-stream-indices)","title":"Why do I subtract 1 from the element on an even position? I need only odd positions (odd indexes) Java","body":"<p>Your problem is with <code>List#indexOf(Object)</code> which always returns the index of the <strong>first equal value encountered</strong>.</p>\n<p>Now you're processing your values in a stream, so the subtracted values are returned into the stream but the original <code>numbers</code> list will not be modified. When the stream processes the 5th element, which in your example is 2 again, it will look for the index in the <strong>original unmodified list</strong> and therefore <code>numbers.indexOf( 2 )</code> returns index 1 which is odd and therefore <code>i - 1</code> will be executed.</p>\n<p>If you want to learn more about how to use streams with indices while avoiding such issues take a look at for example <a href=\"https://www.baeldung.com/java-stream-indices\" rel=\"nofollow noreferrer\">this tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651227845,"creation_date":1651227845,"answer_id":72056478,"question_id":72056242,"body_markdown":"In your stream you&#39;re using the `indexOf` method which \r\n\r\n&gt; Returns the index of the first occurrence of the specified element in this list, or -1 if this list does not contain the element.\r\n\r\nSince, 2 appears twice and you&#39;re working on the &lt;b&gt;stream&#39;s elements&lt;/b&gt; not the `numbers` list, when you invoke the method the second time you&#39;re still working on the first list&#39;s occurrence which happens to be in an odd (not even) position.\r\n\r\nYou should instead work directly with the indexes rather than the values. The `IntStream.range()` is exactly what you need.\r\n\r\n```\r\npublic static Double getOddNumsAverage(List&lt;Integer&gt; numbers) {\r\n        return IntStream.range(0, numbers.size())\r\n                .map(index -&gt; index % 2 != 0 ? numbers.get(index) - 1 : numbers.get(index))\r\n                .filter(value -&gt; value % 2 != 0)\r\n                .average()\r\n                .orElseThrow(NoSuchElementException::new);\r\n}\r\n```","title":"Why do I subtract 1 from the element on an even position? I need only odd positions (odd indexes) Java","body":"<p>In your stream you're using the <code>indexOf</code> method which</p>\n<blockquote>\n<p>Returns the index of the first occurrence of the specified element in this list, or -1 if this list does not contain the element.</p>\n</blockquote>\n<p>Since, 2 appears twice and you're working on the <b>stream's elements</b> not the <code>numbers</code> list, when you invoke the method the second time you're still working on the first list's occurrence which happens to be in an odd (not even) position.</p>\n<p>You should instead work directly with the indexes rather than the values. The <code>IntStream.range()</code> is exactly what you need.</p>\n<pre><code>public static Double getOddNumsAverage(List&lt;Integer&gt; numbers) {\n        return IntStream.range(0, numbers.size())\n                .map(index -&gt; index % 2 != 0 ? numbers.get(index) - 1 : numbers.get(index))\n                .filter(value -&gt; value % 2 != 0)\n                .average()\n                .orElseThrow(NoSuchElementException::new);\n}\n</code></pre>\n"}],"owner":{"account_id":25141671,"reputation":13,"user_id":18987962,"display_name":"Mila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72056478,"answer_count":2,"score":1,"last_activity_date":1651227845,"creation_date":1651226664,"question_id":72056242,"body_markdown":"I need your help. I have the task : \r\n* Given a List of Integer numbers, return the average of all odd numbers from the list or throw NoSuchElementException. But before that subtract 1 from each element on an odd position (having the odd index). This is my solution:\r\n```\r\nreturn numbers.stream().map(i -&gt; numbers.indexOf(i) % 2 != 0 ? i - 1 : i).filter(i -&gt; i % 2 != 0)\r\n.mapToDouble(Integer::doubleValue).average().orElseThrow(NoSuchElementException::new);\r\n````\r\nWhy do I subtract 1 from the element on an even position? I need only odd positions (odd indexes). \r\n[This is the picture][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tcdJd.jpg","title":"Why do I subtract 1 from the element on an even position? I need only odd positions (odd indexes) Java","body":"<p>I need your help. I have the task :</p>\n<ul>\n<li>Given a List of Integer numbers, return the average of all odd numbers from the list or throw NoSuchElementException. But before that subtract 1 from each element on an odd position (having the odd index). This is my solution:</li>\n</ul>\n<pre><code>return numbers.stream().map(i -&gt; numbers.indexOf(i) % 2 != 0 ? i - 1 : i).filter(i -&gt; i % 2 != 0)\n.mapToDouble(Integer::doubleValue).average().orElseThrow(NoSuchElementException::new);\n</code></pre>\n<p>Why do I subtract 1 from the element on an even position? I need only odd positions (odd indexes).\n<a href=\"https://i.stack.imgur.com/tcdJd.jpg\" rel=\"nofollow noreferrer\">This is the picture</a></p>\n"},{"tags":["java","oracle","hibernate","query-optimization"],"comments":[{"owner":{"account_id":177686,"reputation":35366,"user_id":409172,"accept_rate":50,"display_name":"Jon Heller"},"score":0,"creation_date":1560571172,"post_id":56606691,"comment_id":99790160,"body_markdown":"When executed in SQL Developer is the IDE returning all the rows or only the top N rows?  If the IDE is not retrieving all the rows it may not be a fair comparison.","body":"When executed in SQL Developer is the IDE returning all the rows or only the top N rows?  If the IDE is not retrieving all the rows it may not be a fair comparison."},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1560592203,"post_id":56606691,"comment_id":99793594,"body_markdown":"Your data suggest following interpretation. To get the first 20 rows (one page of data) the elapsed time is 400ms. Lineary scaling to get all 1000 rows you need 20 seconds. And btw. you need 2 to 3 thousend index access in your query - if the index blocks are on the disc you get approximately 100 disc access per seconds, which is near your 20 seconds observation.","body":"Your data suggest following interpretation. To get the first 20 rows (one page of data) the elapsed time is 400ms. Lineary scaling to get all 1000 rows you need 20 seconds. And btw. you need 2 to 3 thousend index access in your query - if the index blocks are on the disc you get approximately 100 disc access per seconds, which is near your 20 seconds observation."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560563074,"creation_date":1560563074,"answer_id":56606735,"question_id":56606691,"body_markdown":"I see nothing in your Hibernate code which alone would explain unusually slow performance.  The calls to `addScalar()` might slow things down slightly, but that should be minor.\r\n\r\nIf you want to make your query dramatically faster, then you need to think about tuning and optimization.  Here is one indexing strategy which should help:\r\n\r\n    CREATE INDEX country_idx ON Country (id, country_name);\r\n    CREATE INDEX dept_idx ON Dept (id, dept_name);\r\n\r\nThis strategy assumes that Oracle would do a full table scan on the `Employee` table. The above two indices would then allow for rapid lookup, for each record involved in the join.","title":"Hibernate 5 Native query support - Slow response generation","body":"<p>I see nothing in your Hibernate code which alone would explain unusually slow performance.  The calls to <code>addScalar()</code> might slow things down slightly, but that should be minor.</p>\n\n<p>If you want to make your query dramatically faster, then you need to think about tuning and optimization.  Here is one indexing strategy which should help:</p>\n\n<pre><code>CREATE INDEX country_idx ON Country (id, country_name);\nCREATE INDEX dept_idx ON Dept (id, dept_name);\n</code></pre>\n\n<p>This strategy assumes that Oracle would do a full table scan on the <code>Employee</code> table. The above two indices would then allow for rapid lookup, for each record involved in the join.</p>\n"}],"owner":{"account_id":4598492,"reputation":267,"user_id":3729902,"display_name":"SamDJava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651227708,"creation_date":1560562401,"question_id":56606691,"body_markdown":"I am trying to fetch 1000 rows using the Hibernate createNativeQuery. The query contains two joins. When I execute the same in SQL developer I see that response comes up in less than 400 ms but from the code it takes 20 sec to get the result. \r\n\r\n&gt; Table \r\n&gt; \r\nEmployee - id, name, country_id, dept_id\r\n&gt; \r\nCountry - id, country_name, office_count,inflation_rate\r\n&gt; \r\nDept - id, dept_name,manager\r\n\r\n    String queryStr = &quot;Select e.id as id, e.name as empName, c.country_name AS countryName,\r\n        d.dept_name AS deptName FROM  owner.Employee AS e LEFT OUTER JOIN owner.Country c\r\n            ON e.country_id = c.id LEFT OUTER JOIN owner.Dept AS d ON e.country_id = d.id&quot;;\r\n\r\n    List&lt;Object[]&gt; rows  = this.getSession().createNativeQuery(queryStr).setMaxResults(1000)\r\n        .addScalar( &quot;id&quot;, StringType.INSTANCE )\r\n        .addScalar( &quot;empName&quot;, StringType.INSTANCE )\r\n        .addScalar( &quot;countryName&quot;, StringType.INSTANCE )\r\n        .addScalar( &quot;deptName&quot;, StringType.INSTANCE )\r\n        .list();\r\n\r\nWhat is the additional processing that Hibernate is doing that could be causing this delay ? Is there someway I could optimize the code ?\r\n","title":"Hibernate 5 Native query support - Slow response generation","body":"<p>I am trying to fetch 1000 rows using the Hibernate createNativeQuery. The query contains two joins. When I execute the same in SQL developer I see that response comes up in less than 400 ms but from the code it takes 20 sec to get the result. </p>\n\n<blockquote>\n  <p>Table </p>\n  \n  <p>Employee - id, name, country_id, dept_id</p>\n  \n  <p>Country - id, country_name, office_count,inflation_rate</p>\n  \n  <p>Dept - id, dept_name,manager</p>\n</blockquote>\n\n<pre><code>String queryStr = \"Select e.id as id, e.name as empName, c.country_name AS countryName,\n    d.dept_name AS deptName FROM  owner.Employee AS e LEFT OUTER JOIN owner.Country c\n        ON e.country_id = c.id LEFT OUTER JOIN owner.Dept AS d ON e.country_id = d.id\";\n\nList&lt;Object[]&gt; rows  = this.getSession().createNativeQuery(queryStr).setMaxResults(1000)\n    .addScalar( \"id\", StringType.INSTANCE )\n    .addScalar( \"empName\", StringType.INSTANCE )\n    .addScalar( \"countryName\", StringType.INSTANCE )\n    .addScalar( \"deptName\", StringType.INSTANCE )\n    .list();\n</code></pre>\n\n<p>What is the additional processing that Hibernate is doing that could be causing this delay ? Is there someway I could optimize the code ?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2362295,"reputation":4187,"user_id":2068732,"accept_rate":67,"display_name":"matdev"},"score":0,"creation_date":1543333731,"post_id":53503154,"comment_id":93875985,"body_markdown":"Please post the code of your stopButton&#39;s onClick callback","body":"Please post the code of your stopButton&#39;s onClick callback"}],"answers":[{"tags":[],"owner":{"account_id":2362295,"reputation":4187,"user_id":2068732,"accept_rate":67,"display_name":"matdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543335476,"creation_date":1543335476,"answer_id":53503879,"question_id":53503154,"body_markdown":"The line \r\n\r\n    myChronometer.stop();\r\n\r\nis never called.\r\n\r\nIn your playAudio&#39;s onClick() method, you should set \r\n\r\n    running = true","title":"Play recorded audio with chronometer counter","body":"<p>The line </p>\n\n<pre><code>myChronometer.stop();\n</code></pre>\n\n<p>is never called.</p>\n\n<p>In your playAudio's onClick() method, you should set </p>\n\n<pre><code>running = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11552269,"reputation":856,"user_id":8464483,"display_name":"Sofiane Majdoub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1543339147,"creation_date":1543339147,"answer_id":53504920,"question_id":53503154,"body_markdown":"You can use OnCompletionListener, for example:\r\n\r\n    mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n        public void onCompletion(MediaPlayer mp) {\r\n            // your code to stop record\r\n        }\r\n    });\r\n\r\nfor more information :\r\nhttps://developer.android.com/reference/android/media/MediaPlayer.OnCompletionListener\r\n","title":"Play recorded audio with chronometer counter","body":"<p>You can use OnCompletionListener, for example:</p>\n\n<pre><code>mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n    public void onCompletion(MediaPlayer mp) {\n        // your code to stop record\n    }\n});\n</code></pre>\n\n<p>for more information :\n<a href=\"https://developer.android.com/reference/android/media/MediaPlayer.OnCompletionListener\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/MediaPlayer.OnCompletionListener</a></p>\n"}],"owner":{"account_id":9043393,"reputation":1,"user_id":6736780,"display_name":"colla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53504920,"answer_count":2,"score":0,"last_activity_date":1651227680,"creation_date":1543333235,"question_id":53503154,"body_markdown":"I&#39;m creating a recorder app with chronometer counter, the chronometer is working fine with start record, stop record and stop play.\r\n\r\nMy problem is only with start play, when pressing start play button, the chronometer start from 0 but I couldn&#39;t stop the chronometer when the audio file stops.\r\n\r\nThis is the start play code, please help. Any help I greatly appreciated \r\n\r\n    playAudio.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) throws IllegalArgumentException,\r\n                    SecurityException, IllegalStateException {\r\n\r\n                stopRecord.setEnabled(false);\r\n                startRecord.setEnabled(false);\r\n                stopAudio.setEnabled(true);\r\n                mediaPlayer = new MediaPlayer();\r\n                try {\r\n                    mediaPlayer.setDataSource(AudioSavePathInDevice);\r\n                    mediaPlayer.prepare();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                if (!running) {\r\n                    myChronometer.setBase(SystemClock.elapsedRealtime() - pauseOffset);\r\n                     myChronometer.start();\r\n                    running = true;\r\n\r\n                    // myChronometer.stop();\r\n                }\r\n                mediaPlayer.start();\r\n\r\n\r\n\r\n                Toast.makeText(MainActivity.this, &quot;Recording Playing&quot;,\r\n                        Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\nSir, this the code of stop audio \r\n\r\n    stopAudio.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if (running) {\r\n                    myChronometer.stop();\r\n                    myChronometer.setBase(SystemClock.elapsedRealtime());\r\n                    pauseOffset = 0;\r\n                    pauseOffset = SystemClock.elapsedRealtime() - myChronometer.getBase();\r\n                    running = false;\r\n                }\r\n\r\n                stopRecord.setEnabled(false);\r\n                startRecord.setEnabled(true);\r\n                stopAudio.setEnabled(false);\r\n                playAudio.setEnabled(true);\r\n\r\n\r\n                if(mediaPlayer != null){\r\n                    mediaPlayer.stop();\r\n                    mediaPlayer.release();\r\n                 //   MediaRecorderReady();\r\n\r\n                    //resetmymyChronometer\r\n                    myChronometer.setBase(SystemClock.elapsedRealtime());\r\n                    pauseOffset = 0;\r\n\r\n                }\r\n            }\r\n        });\r\n\r\nthis is the code of stop record\r\n\r\n    stopRecord.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if (running) {\r\n                    myChronometer.stop();\r\n                    myChronometer.setBase(SystemClock.elapsedRealtime());\r\n                    pauseOffset = 0;\r\n                    pauseOffset = SystemClock.elapsedRealtime() - myChronometer.getBase();\r\n                    running = false;\r\n                }\r\n                mediaRecorder.stop();\r\n                stopRecord.setEnabled(false);\r\n                playAudio.setEnabled(true);\r\n                startRecord.setEnabled(true);\r\n                stopAudio.setEnabled(false);\r\n\r\n                Toast.makeText(MainActivity.this, &quot;Recording Completed&quot;,\r\n                        Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\nMediaRecorderReady method\r\n\r\n\r\n    public void MediaRecorderReady(){\r\n            //myChronometer start\r\n            if (!running) {\r\n\r\n                myChronometer.setBase(SystemClock.elapsedRealtime() - pauseOffset);\r\n                myChronometer.start();\r\n                running = true;\r\n            //***********************\r\n\r\n            mediaRecorder = new MediaRecorder();\r\n            mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n            mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n            mediaRecorder.setAudioEncoder(MediaRecorder.OutputFormat.AMR_NB);\r\n            mediaRecorder.setOutputFile(AudioSavePathInDevice);\r\n\r\n        }\r\n    }\r\n\r\n\r\nstartRecord Listener\r\n\r\n    startRecord.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if(checkPermission()) {\r\n\r\n                    AudioSavePathInDevice =\r\n                            Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/&quot; +\r\n                                    CreateRandomAudioFileName(5) + &quot;AudioRecording.3gp&quot;;\r\n\r\n                    MediaRecorderReady();\r\n\r\n                    try {\r\n                        startRecord.setEnabled(true);\r\n                        mediaRecorder.prepare();\r\n                        mediaRecorder.start();\r\n\r\n                    } catch (IllegalStateException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    startRecord.setEnabled(false);\r\n                    stopRecord.setEnabled(true);\r\n\r\n                    Toast.makeText(MainActivity.this, &quot;Recording started&quot;,\r\n                            Toast.LENGTH_LONG).show();\r\n\r\n                } else {\r\n                    requestPermission();\r\n                }\r\n\r\n            }\r\n        });","title":"Play recorded audio with chronometer counter","body":"<p>I'm creating a recorder app with chronometer counter, the chronometer is working fine with start record, stop record and stop play.</p>\n\n<p>My problem is only with start play, when pressing start play button, the chronometer start from 0 but I couldn't stop the chronometer when the audio file stops.</p>\n\n<p>This is the start play code, please help. Any help I greatly appreciated </p>\n\n<pre><code>playAudio.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) throws IllegalArgumentException,\n                SecurityException, IllegalStateException {\n\n            stopRecord.setEnabled(false);\n            startRecord.setEnabled(false);\n            stopAudio.setEnabled(true);\n            mediaPlayer = new MediaPlayer();\n            try {\n                mediaPlayer.setDataSource(AudioSavePathInDevice);\n                mediaPlayer.prepare();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            if (!running) {\n                myChronometer.setBase(SystemClock.elapsedRealtime() - pauseOffset);\n                 myChronometer.start();\n                running = true;\n\n                // myChronometer.stop();\n            }\n            mediaPlayer.start();\n\n\n\n            Toast.makeText(MainActivity.this, \"Recording Playing\",\n                    Toast.LENGTH_LONG).show();\n        }\n    });\n</code></pre>\n\n<p>Sir, this the code of stop audio </p>\n\n<pre><code>stopAudio.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            if (running) {\n                myChronometer.stop();\n                myChronometer.setBase(SystemClock.elapsedRealtime());\n                pauseOffset = 0;\n                pauseOffset = SystemClock.elapsedRealtime() - myChronometer.getBase();\n                running = false;\n            }\n\n            stopRecord.setEnabled(false);\n            startRecord.setEnabled(true);\n            stopAudio.setEnabled(false);\n            playAudio.setEnabled(true);\n\n\n            if(mediaPlayer != null){\n                mediaPlayer.stop();\n                mediaPlayer.release();\n             //   MediaRecorderReady();\n\n                //resetmymyChronometer\n                myChronometer.setBase(SystemClock.elapsedRealtime());\n                pauseOffset = 0;\n\n            }\n        }\n    });\n</code></pre>\n\n<p>this is the code of stop record</p>\n\n<pre><code>stopRecord.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            if (running) {\n                myChronometer.stop();\n                myChronometer.setBase(SystemClock.elapsedRealtime());\n                pauseOffset = 0;\n                pauseOffset = SystemClock.elapsedRealtime() - myChronometer.getBase();\n                running = false;\n            }\n            mediaRecorder.stop();\n            stopRecord.setEnabled(false);\n            playAudio.setEnabled(true);\n            startRecord.setEnabled(true);\n            stopAudio.setEnabled(false);\n\n            Toast.makeText(MainActivity.this, \"Recording Completed\",\n                    Toast.LENGTH_LONG).show();\n        }\n    });\n</code></pre>\n\n<p>MediaRecorderReady method</p>\n\n<pre><code>public void MediaRecorderReady(){\n        //myChronometer start\n        if (!running) {\n\n            myChronometer.setBase(SystemClock.elapsedRealtime() - pauseOffset);\n            myChronometer.start();\n            running = true;\n        //***********************\n\n        mediaRecorder = new MediaRecorder();\n        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n        mediaRecorder.setAudioEncoder(MediaRecorder.OutputFormat.AMR_NB);\n        mediaRecorder.setOutputFile(AudioSavePathInDevice);\n\n    }\n}\n</code></pre>\n\n<p>startRecord Listener</p>\n\n<pre><code>startRecord.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            if(checkPermission()) {\n\n                AudioSavePathInDevice =\n                        Environment.getExternalStorageDirectory().getAbsolutePath() + \"/\" +\n                                CreateRandomAudioFileName(5) + \"AudioRecording.3gp\";\n\n                MediaRecorderReady();\n\n                try {\n                    startRecord.setEnabled(true);\n                    mediaRecorder.prepare();\n                    mediaRecorder.start();\n\n                } catch (IllegalStateException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n\n                startRecord.setEnabled(false);\n                stopRecord.setEnabled(true);\n\n                Toast.makeText(MainActivity.this, \"Recording started\",\n                        Toast.LENGTH_LONG).show();\n\n            } else {\n                requestPermission();\n            }\n\n        }\n    });\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3352154,"reputation":206,"user_id":2815984,"display_name":"Roopesh Payyanath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648226935,"creation_date":1648226935,"answer_id":71620472,"question_id":71620274,"body_markdown":" 1. Pass it as JVM args and use it using System.getProperty.\r\n 2. Use -Dspring-boot.run.arguments=--interceptor.enabled=true and keep a backup config in application.properties or using -Drun.arguments and access the property key directly in your interceptor","title":"How to set a variable for Controller from HttpInterceptor?","body":"<ol>\n<li>Pass it as JVM args and use it using System.getProperty.</li>\n<li>Use -Dspring-boot.run.arguments=--interceptor.enabled=true and keep a backup config in application.properties or using -Drun.arguments and access the property key directly in your interceptor</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648227620,"creation_date":1648227620,"answer_id":71620604,"question_id":71620274,"body_markdown":"You SET the variable in an HTTP interceptor? \r\nSo it&#39;s not a unique global variable, it&#39;s an ID that is different for every request? That&#39;s what request attributes are for:\r\n\r\n    @Component\r\n    public class MyInterceptor extends HandlerInterceptorAdapter {\r\n    \r\n        public boolean preHandle(HttpServletRequest request,\r\n                                 HttpServletResponse response,\r\n                                 Object handler) throws Exception {\r\n            if(request.getMethod().matches(RequestMethod.OPTIONS.name())) {\r\n                return true;\r\n            }\r\n            request.setAttribute(&quot;MY_ID&quot;, generateId(...));\r\n            return true;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n    @Controller\r\n    public class SampleController {\r\n    \r\n        @RequestMapping(...)\r\n        public String something(HttpServletRequest req, HttpServletResponse res){\r\n            System.out.println( req.getAttribute(&quot;MY_ID&quot;));\r\n        }\r\n    \r\n    }","title":"How to set a variable for Controller from HttpInterceptor?","body":"<p>You SET the variable in an HTTP interceptor?\nSo it's not a unique global variable, it's an ID that is different for every request? That's what request attributes are for:</p>\n<pre><code>@Component\npublic class MyInterceptor extends HandlerInterceptorAdapter {\n\n    public boolean preHandle(HttpServletRequest request,\n                             HttpServletResponse response,\n                             Object handler) throws Exception {\n        if(request.getMethod().matches(RequestMethod.OPTIONS.name())) {\n            return true;\n        }\n        request.setAttribute(&quot;MY_ID&quot;, generateId(...));\n        return true;\n    }\n\n\n}\n\n@Controller\npublic class SampleController {\n\n    @RequestMapping(...)\n    public String something(HttpServletRequest req, HttpServletResponse res){\n        System.out.println( req.getAttribute(&quot;MY_ID&quot;));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6064119,"reputation":1809,"user_id":4735043,"display_name":"Jin Lim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1651232049,"accepted_answer_id":71620604,"answer_count":2,"score":0,"last_activity_date":1651227668,"creation_date":1648226027,"question_id":71620274,"body_markdown":"I am building a Spring Boot application.\r\n\r\nI like to set a variable for the Spring Boot application. This variable should be set in an HTTP interceptor. The reason I do this, this variable will store some ID, and this ID will be used in methods in every controller. \r\n\r\nHow can I achieve this?","title":"How to set a variable for Controller from HttpInterceptor?","body":"<p>I am building a Spring Boot application.</p>\n<p>I like to set a variable for the Spring Boot application. This variable should be set in an HTTP interceptor. The reason I do this, this variable will store some ID, and this ID will be used in methods in every controller.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","shell","github","intellij-idea","classpath"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1650879439,"post_id":71996701,"comment_id":127219212,"body_markdown":"You don&#39;t mention how you recompiled...","body":"You don&#39;t mention how you recompiled..."},{"owner":{"account_id":20159943,"reputation":21,"user_id":14785191,"display_name":"Eric"},"score":0,"creation_date":1650957405,"post_id":71996701,"comment_id":127240251,"body_markdown":"I didn’t recompile it","body":"I didn’t recompile it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650961504,"post_id":71996701,"comment_id":127241623,"body_markdown":"So why would you expect edits to the source code to make any difference if you did not recompile?","body":"So why would you expect edits to the source code to make any difference if you did not recompile?"},{"owner":{"account_id":20159943,"reputation":21,"user_id":14785191,"display_name":"Eric"},"score":0,"creation_date":1650963381,"post_id":71996701,"comment_id":127242258,"body_markdown":"I didn’t know i had to do this. How do i recompile it properly?","body":"I didn’t know i had to do this. How do i recompile it properly?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650963599,"post_id":71996701,"comment_id":127242323,"body_markdown":"I don&#39;t know IntelliJ so can&#39;t say. I would have guessed that auto recompile would be in force. If so, if it isn&#39;t recompiling then you haven&#39;t added the project properly to the ide","body":"I don&#39;t know IntelliJ so can&#39;t say. I would have guessed that auto recompile would be in force. If so, if it isn&#39;t recompiling then you haven&#39;t added the project properly to the ide"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650969087,"post_id":71996701,"comment_id":127244328,"body_markdown":"Also make sure that you import the project correctly. The project directory is called &#39;AdX&#39; so should be the root of the Maven project","body":"Also make sure that you import the project correctly. The project directory is called &#39;AdX&#39; so should be the root of the Maven project"},{"owner":{"account_id":7323034,"reputation":121,"user_id":5578392,"display_name":"jjs"},"score":0,"creation_date":1651227412,"post_id":71996701,"comment_id":127319297,"body_markdown":"I have ```java -version\njava version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)```","body":"I have <code>java -version java version &quot;17.0.1&quot; 2021-10-19 LTS Java(TM) SE Runtime Environment (build 17.0.1+12-LTS-39) Java HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)</code>"}],"answers":[{"tags":[],"owner":{"account_id":7323034,"reputation":121,"user_id":5578392,"display_name":"jjs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651227595,"creation_date":1651227595,"answer_id":72056408,"question_id":71996701,"body_markdown":"I have ``java -version``\r\n```bash\r\njava version &quot;17.0.1&quot; 2021-10-19 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\r\n```\r\nand ``mvn -version``\r\n```bash\r\nApache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)\r\nMaven home: /opt/maven\r\nJava version: 11.0.15, vendor: Private Build, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.4.0-99-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\nrunning and ``mvn clean install`` in directory ``cd AdX`` returns a lot of working tests and two failures such that the whole build seems to fail. Probably minor fixes.\r\nIn IntelliJ you probably need to define the actual maven source folder as a &quot;source&quot; (I think in that IDE it then shows as a blue folder). No idea, however, whether there is more logic around the build with this server invocation script.","title":"changes in java code do not appear, program runs from a shell script","body":"<p>I have <code>java -version</code></p>\n<pre class=\"lang-sh prettyprint-override\"><code>java version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\n</code></pre>\n<p>and <code>mvn -version</code></p>\n<pre class=\"lang-sh prettyprint-override\"><code>Apache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)\nMaven home: /opt/maven\nJava version: 11.0.15, vendor: Private Build, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.4.0-99-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>running and <code>mvn clean install</code> in directory <code>cd AdX</code> returns a lot of working tests and two failures such that the whole build seems to fail. Probably minor fixes.\nIn IntelliJ you probably need to define the actual maven source folder as a &quot;source&quot; (I think in that IDE it then shows as a blue folder). No idea, however, whether there is more logic around the build with this server invocation script.</p>\n"}],"owner":{"account_id":20159943,"reputation":21,"user_id":14785191,"display_name":"Eric"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651227595,"creation_date":1650876055,"question_id":71996701,"body_markdown":"I cloned a GitHub repository (https://github.com/tomergreenwald/tac-adx) and did some changes in the code. But if i run the application with the runServer script: \r\n\r\n    #!/bin/bash\r\n    #\r\n    # Usage\r\n    #   sh ./runServer.sh\r\n    #\r\n    TACAA_HOME=`pwd`\r\n    echo $TACAA_HOME\r\n    echo $CLASSPATH\r\n    \r\n    java -cp &quot;lib/*&quot; se.sics.tasim.sim.Main\r\n\r\n \r\nand the runAgent script: \r\n\r\n    #!/bin/bash\r\n    #\r\n    # Usage\r\n    #   sh ./runServer.sh\r\n    #\r\n    TACAA_HOME=`pwd`\r\n    echo $TACAA_HOME\r\n    echo $CLASSPATH\r\n    \r\n    java -cp &quot;lib/*&quot; tau.tac.adx.agentware.Main -config config/aw-1.conf\r\n\r\nno changes appear. The program starts the simulation as if nothing had changed. I already tried to do some substantial code changes in the Main methods, like comment out everything, but it seems like the application is not using them.\r\n\r\nHow can i make my changes appear? (i use intelliJ as IDE)\r\n\r\n","title":"changes in java code do not appear, program runs from a shell script","body":"<p>I cloned a GitHub repository (<a href=\"https://github.com/tomergreenwald/tac-adx\" rel=\"nofollow noreferrer\">https://github.com/tomergreenwald/tac-adx</a>) and did some changes in the code. But if i run the application with the runServer script:</p>\n<pre><code>#!/bin/bash\n#\n# Usage\n#   sh ./runServer.sh\n#\nTACAA_HOME=`pwd`\necho $TACAA_HOME\necho $CLASSPATH\n\njava -cp &quot;lib/*&quot; se.sics.tasim.sim.Main\n</code></pre>\n<p>and the runAgent script:</p>\n<pre><code>#!/bin/bash\n#\n# Usage\n#   sh ./runServer.sh\n#\nTACAA_HOME=`pwd`\necho $TACAA_HOME\necho $CLASSPATH\n\njava -cp &quot;lib/*&quot; tau.tac.adx.agentware.Main -config config/aw-1.conf\n</code></pre>\n<p>no changes appear. The program starts the simulation as if nothing had changed. I already tried to do some substantial code changes in the Main methods, like comment out everything, but it seems like the application is not using them.</p>\n<p>How can i make my changes appear? (i use intelliJ as IDE)</p>\n"},{"tags":["java","json","sockets","objectoutputstream"],"comments":[{"owner":{"account_id":76141,"reputation":801331,"user_id":218196,"accept_rate":100,"display_name":"Felix Kling"},"score":1,"creation_date":1393070186,"post_id":21953958,"comment_id":33261106,"body_markdown":"Don&#39;t you think it would be relevant **which** exception you get?","body":"Don&#39;t you think it would be relevant <b>which</b> exception you get?"},{"owner":{"account_id":4063946,"reputation":101,"user_id":3339626,"display_name":"user3339626"},"score":1,"creation_date":1393070275,"post_id":21953958,"comment_id":33261137,"body_markdown":"@FelixKling sorry forget that updated the question","body":"@FelixKling sorry forget that updated the question"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1393070955,"post_id":21953958,"comment_id":33261370,"body_markdown":"Why use JSON if you use native Java serialization. Why not send a Java object directly? And which JSONOnject class are you talking about?","body":"Why use JSON if you use native Java serialization. Why not send a Java object directly? And which JSONOnject class are you talking about?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651213993,"post_id":21953958,"comment_id":127315023,"body_markdown":"This code does not throw that exception. You can only get `StreamCorruptedException` from the *reading* code, which you haven&#39;t shown.","body":"This code does not throw that exception. You can only get <code>StreamCorruptedException</code> from the <i>reading</i> code, which you haven&#39;t shown."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1393072574,"creation_date":1393070946,"answer_id":21954111,"question_id":21953958,"body_markdown":"Instead of using `ObjectOutputStream`, you should create an `OutputStreamWriter`, then use that to write the *JSON text* to the stream. You need to choose an encoding - I would suggest UTF-8. So for example:\r\n\r\n    JSONObject json = new JSONObject();\r\n    json.put(&quot;type&quot;, &quot;CONNECT&quot;);\r\n    Socket s = new Socket(&quot;192.168.0.100&quot;, 7777);\r\n    try (OutputStreamWriter out = new OutputStreamWriter(\r\n            s.getOutputStream(), StandardCharsets.UTF_8)) {\r\n        out.write(json.toString());\r\n    }","title":"How to send Json object through java sockets?","body":"<p>Instead of using <code>ObjectOutputStream</code>, you should create an <code>OutputStreamWriter</code>, then use that to write the <em>JSON text</em> to the stream. You need to choose an encoding - I would suggest UTF-8. So for example:</p>\n\n<pre><code>JSONObject json = new JSONObject();\njson.put(\"type\", \"CONNECT\");\nSocket s = new Socket(\"192.168.0.100\", 7777);\ntry (OutputStreamWriter out = new OutputStreamWriter(\n        s.getOutputStream(), StandardCharsets.UTF_8)) {\n    out.write(json.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20276345,"reputation":27,"user_id":14871277,"display_name":"Deepak Silver"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1651227428,"creation_date":1651207204,"answer_id":72052905,"question_id":21953958,"body_markdown":"An [ObjectOutputStream][1] writes primitive data types and graphs of Java objects to an OutputStream. The objects can be read (reconstituted) using an ObjectInputStream. Persistent storage of objects can be accomplished by using a file for the stream. If the stream is a network socket stream, the objects can be reconstituted on another host or in another process.\r\n\r\nA data output stream lets an application write primitive Java data types to an output stream in a portable way. An application can then use a data input stream to read the data back in.&quot; You don&#39;t need to write primitive data types in binary, so do not use [DataOutputStream][2]\r\n\r\nAn OutputStreamWriter is a bridge from character streams to byte streams: Characters written to it are encoded into bytes using a specified charset. The charset that it uses may be specified by name or may be given explicitly, or the platform&#39;s default charset may be accepted.\r\n\r\nYou need to create an OutputStreamWriter for sending json objects to the client \r\n\r\n```\r\nOutputStreamWriter out = new OutputStreamWriter(socket.getOutputStream());\r\nJSONObject obj = new JSONObject();\r\nobj.put(&quot;name&quot;, &quot;harris&quot;);\r\nobj.put(&quot;age&quot;, 23);\r\nout.write(obj.toString());\r\n```\r\n\r\nYou can read the output data from the client using InputStreamReader by this way \r\n```\r\nInputStreamReader input = new InputStreamReader(socket.getInputStream());\r\nint data = input.read();\r\nwhile (data != -1) {\r\n    System.out.print((char)data);\r\n    data = input.read();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html#:~:text=An%20ObjectOutputStream%20writes%20primitive%20data,a%20file%20for%20the%20stream.\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/DataOutputStream.html","title":"How to send Json object through java sockets?","body":"<p>An <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html#:%7E:text=An%20ObjectOutputStream%20writes%20primitive%20data,a%20file%20for%20the%20stream.\" rel=\"nofollow noreferrer\">ObjectOutputStream</a> writes primitive data types and graphs of Java objects to an OutputStream. The objects can be read (reconstituted) using an ObjectInputStream. Persistent storage of objects can be accomplished by using a file for the stream. If the stream is a network socket stream, the objects can be reconstituted on another host or in another process.</p>\n<p>A data output stream lets an application write primitive Java data types to an output stream in a portable way. An application can then use a data input stream to read the data back in.&quot; You don't need to write primitive data types in binary, so do not use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/DataOutputStream.html\" rel=\"nofollow noreferrer\">DataOutputStream</a></p>\n<p>An OutputStreamWriter is a bridge from character streams to byte streams: Characters written to it are encoded into bytes using a specified charset. The charset that it uses may be specified by name or may be given explicitly, or the platform's default charset may be accepted.</p>\n<p>You need to create an OutputStreamWriter for sending json objects to the client</p>\n<pre><code>OutputStreamWriter out = new OutputStreamWriter(socket.getOutputStream());\nJSONObject obj = new JSONObject();\nobj.put(&quot;name&quot;, &quot;harris&quot;);\nobj.put(&quot;age&quot;, 23);\nout.write(obj.toString());\n</code></pre>\n<p>You can read the output data from the client using InputStreamReader by this way</p>\n<pre><code>InputStreamReader input = new InputStreamReader(socket.getInputStream());\nint data = input.read();\nwhile (data != -1) {\n    System.out.print((char)data);\n    data = input.read();\n}\n</code></pre>\n"}],"owner":{"account_id":4063946,"reputation":101,"user_id":3339626,"display_name":"user3339626"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42709,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1651227428,"creation_date":1393070088,"question_id":21953958,"body_markdown":"How do you send Json object&#39;s through sockets preferable through ObjectOutputStream class in java this is what I got so far\r\n\r\n        s = new Socket(&quot;192.168.0.100&quot;, 7777);\r\n       \tObjectOutputStream out = new ObjectOutputStream(s.getOutputStream());\r\n        JSONObject object = new JSONObject();\r\n        object.put(&quot;type&quot;, &quot;CONNECT&quot;);\r\n        out.writeObject(object);\r\n\r\nBut this gives an java.io.streamcorruptedexception exception  any suggestions?","title":"How to send Json object through java sockets?","body":"<p>How do you send Json object's through sockets preferable through ObjectOutputStream class in java this is what I got so far</p>\n\n<pre><code>    s = new Socket(\"192.168.0.100\", 7777);\n    ObjectOutputStream out = new ObjectOutputStream(s.getOutputStream());\n    JSONObject object = new JSONObject();\n    object.put(\"type\", \"CONNECT\");\n    out.writeObject(object);\n</code></pre>\n\n<p>But this gives an java.io.streamcorruptedexception exception  any suggestions?</p>\n"},{"tags":["java","installation","libgdx","frameworks","game-development"],"comments":[{"owner":{"account_id":1050112,"reputation":7692,"user_id":1054268,"accept_rate":100,"display_name":"ThomasVdBerge"},"score":0,"creation_date":1525066134,"post_id":50093963,"comment_id":87204863,"body_markdown":"Can you describe what you have on the picture? Overtime the link might become broken","body":"Can you describe what you have on the picture? Overtime the link might become broken"}],"answers":[{"tags":[],"owner":{"account_id":6465028,"reputation":966,"user_id":5007340,"display_name":"exenza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525064187,"creation_date":1525063768,"answer_id":50094140,"question_id":50093963,"body_markdown":"This [documentation][1] explains how to run the downloaded `setup-gdx.jar` to create a new project.\r\n\r\nI guess, you&#39;re missing the part (or your OS is not picking up the correct application to run the `jar` file with [should be java]) how to run the downloaded jar:\r\n\r\n&gt; Open up your command line tool, go to the download folder and run:\r\n\r\n    java -jar gdx-setup.jar\r\n\r\nAfter that, if your OS has `java` or `jre` or `jdk` installed and configured correctly (`JAVA_HOME` variable set and exported) you should be able to see the UI.\r\n\r\n  [1]: https://libgdx.badlogicgames.com/documentation/gettingstarted/Creating%20Projects.html#quick-start","title":"Libgdx Installation gdx-setup.jar file missing","body":"<p>This <a href=\"https://libgdx.badlogicgames.com/documentation/gettingstarted/Creating%20Projects.html#quick-start\" rel=\"nofollow noreferrer\">documentation</a> explains how to run the downloaded <code>setup-gdx.jar</code> to create a new project.</p>\n\n<p>I guess, you're missing the part (or your OS is not picking up the correct application to run the <code>jar</code> file with [should be java]) how to run the downloaded jar:</p>\n\n<blockquote>\n  <p>Open up your command line tool, go to the download folder and run:</p>\n</blockquote>\n\n<pre><code>java -jar gdx-setup.jar\n</code></pre>\n\n<p>After that, if your OS has <code>java</code> or <code>jre</code> or <code>jdk</code> installed and configured correctly (<code>JAVA_HOME</code> variable set and exported) you should be able to see the UI.</p>\n"}],"owner":{"account_id":13471132,"reputation":1,"user_id":9719604,"display_name":"Jordan Ballard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651227250,"creation_date":1525062430,"question_id":50093963,"body_markdown":"So I have watched several videos  and read through many a forum post on installing libgdx with android development studio.  Every time someone opens the gdx-setup.jar download there is a file within names gdx-setup.jar that you click on and brings up a setup project menu.  However each time i download this file is missing and this is all I find within the download. \r\n\r\nHere is a link to the picture of what I get when I open the libgdx download, (since I do not have the 10 reputation yet to include the picture in my post.)\r\nhttps://i.stack.imgur.com/jei9d.png\r\n\r\nJust trying to get this framework setup so I can start learning more about using it in game development.","title":"Libgdx Installation gdx-setup.jar file missing","body":"<p>So I have watched several videos  and read through many a forum post on installing libgdx with android development studio.  Every time someone opens the gdx-setup.jar download there is a file within names gdx-setup.jar that you click on and brings up a setup project menu.  However each time i download this file is missing and this is all I find within the download. </p>\n\n<p>Here is a link to the picture of what I get when I open the libgdx download, (since I do not have the 10 reputation yet to include the picture in my post.)\n<a href=\"https://i.stack.imgur.com/jei9d.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/jei9d.png</a></p>\n\n<p>Just trying to get this framework setup so I can start learning more about using it in game development.</p>\n"},{"tags":["java","gps","distance","polyline","geopoints"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1651183125,"post_id":70672089,"comment_id":127310142,"body_markdown":"[JTS](https://github.com/locationtech/jts) has a lot of utility methods for calculations with geometries. Maybe it could help.","body":"<a href=\"https://github.com/locationtech/jts\" rel=\"nofollow noreferrer\">JTS</a> has a lot of utility methods for calculations with geometries. Maybe it could help."}],"answers":[{"tags":[],"owner":{"account_id":25134376,"reputation":21,"user_id":18981291,"display_name":"Projekt Check"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1651227154,"creation_date":1651182228,"answer_id":72050558,"question_id":70672089,"body_markdown":"After further improving my former post... this is good enough to not need an package method :) ;) good night\r\n\r\nthe GeoPoint is from the osmdroid package \r\n\r\n\r\n    public class MyGeoTool{\r\n\r\n        public double distanceToPolylineAsDouble(List&lt;GeoPoint&gt; polyline, GeoPoint actual_point) {\r\n            GeoPoint final_nearest_point;\r\n            Double approximation_to_line = null;\r\n\r\n            for (int i = 0; i &lt; polyline.size() - 1; i++) {\r\n                GeoPoint nearest_point = closestPointOnLine(polyline.get(i), polyline.get(i+1), actual_point);\r\n                Double approximation_here = nearest_point.distanceToAsDouble(actual_point);\r\n                if ((approximation_to_line == null) || (approximation_here &lt; approximation_to_line)) {\r\n                    approximation_to_line = approximation_here;\r\n                    final_nearest_point = nearest_point;\r\n                }\r\n            }\r\n            return approximation_to_line;\r\n        }\r\n\r\n        private GeoPoint closestPointOnLine(GeoPoint a, GeoPoint b, GeoPoint p) {\r\n\r\n            Vector a_to_p = new Vector(a, p);\r\n            Vector a_to_b = new Vector(a, b);\r\n\r\n            double square_magnitude = Math.pow(a_to_b.x, 2) + Math.pow(a_to_b.y, 2);\r\n            double atp_dot_atb = a_to_p.x * a_to_b.x + a_to_p.y * a_to_b.y;\r\n            double t = clamp(atp_dot_atb / square_magnitude, 0d, 1d);\r\n\r\n            return new GeoPoint(a.getLatitude() + a_to_b.x * t, a.getLongitude() + a_to_b.y * t);\r\n        }\r\n    }\r\n\r\n\r\n    class Vector {\r\n\r\n        GeoPoint a;\r\n        GeoPoint b;\r\n        public double x;\r\n        public double y;\r\n\r\n        protected Vector(GeoPoint a, GeoPoint b) {\r\n\r\n            this.a = a;\r\n            this.b = b;\r\n            this.x = this.X();\r\n            this.y = this.Y();\r\n        }\r\n\r\n        protected double X() {\r\n            return this.b.getLatitude() - this.a.getLatitude();\r\n        }\r\n\r\n        protected double Y() {\r\n            return this.b.getLongitude() - this.a.getLongitude();\r\n        }\r\n    }\r\n","title":"How to calculate the distance between GeoPoint and Polyline","body":"<p>After further improving my former post... this is good enough to not need an package method :) ;) good night</p>\n<p>the GeoPoint is from the osmdroid package</p>\n<pre><code>public class MyGeoTool{\n\n    public double distanceToPolylineAsDouble(List&lt;GeoPoint&gt; polyline, GeoPoint actual_point) {\n        GeoPoint final_nearest_point;\n        Double approximation_to_line = null;\n\n        for (int i = 0; i &lt; polyline.size() - 1; i++) {\n            GeoPoint nearest_point = closestPointOnLine(polyline.get(i), polyline.get(i+1), actual_point);\n            Double approximation_here = nearest_point.distanceToAsDouble(actual_point);\n            if ((approximation_to_line == null) || (approximation_here &lt; approximation_to_line)) {\n                approximation_to_line = approximation_here;\n                final_nearest_point = nearest_point;\n            }\n        }\n        return approximation_to_line;\n    }\n\n    private GeoPoint closestPointOnLine(GeoPoint a, GeoPoint b, GeoPoint p) {\n\n        Vector a_to_p = new Vector(a, p);\n        Vector a_to_b = new Vector(a, b);\n\n        double square_magnitude = Math.pow(a_to_b.x, 2) + Math.pow(a_to_b.y, 2);\n        double atp_dot_atb = a_to_p.x * a_to_b.x + a_to_p.y * a_to_b.y;\n        double t = clamp(atp_dot_atb / square_magnitude, 0d, 1d);\n\n        return new GeoPoint(a.getLatitude() + a_to_b.x * t, a.getLongitude() + a_to_b.y * t);\n    }\n}\n\n\nclass Vector {\n\n    GeoPoint a;\n    GeoPoint b;\n    public double x;\n    public double y;\n\n    protected Vector(GeoPoint a, GeoPoint b) {\n\n        this.a = a;\n        this.b = b;\n        this.x = this.X();\n        this.y = this.Y();\n    }\n\n    protected double X() {\n        return this.b.getLatitude() - this.a.getLatitude();\n    }\n\n    protected double Y() {\n        return this.b.getLongitude() - this.a.getLongitude();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12249909,"reputation":125,"user_id":13121591,"display_name":"user13121591"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651227154,"creation_date":1641927614,"question_id":70672089,"body_markdown":"Suppose i have:\r\n\r\n```\r\nGeoPoint p = new GeoPoint(10.08, 11.09); //(lat, long) \r\n```\r\n\r\nand a Polyline (a sequence of Geopoints)\r\n\r\n``` \r\nArrayList&lt;GeoPoint&gt; waypoints = new ArrayList&lt;&gt;()\r\nwaypoints.add(new GeoPoint(20.90, 20.80);\r\nwaypoints.add(new GeoPoint(30.90, 30.80);\r\n...\r\n...\r\n```\r\n\r\nHow can i calculate the distance between p and the Polyline? I&#39;m using Osmodroid https://github.com/osmdroid/osmdroid","title":"How to calculate the distance between GeoPoint and Polyline","body":"<p>Suppose i have:</p>\n<pre><code>GeoPoint p = new GeoPoint(10.08, 11.09); //(lat, long) \n</code></pre>\n<p>and a Polyline (a sequence of Geopoints)</p>\n<pre><code>ArrayList&lt;GeoPoint&gt; waypoints = new ArrayList&lt;&gt;()\nwaypoints.add(new GeoPoint(20.90, 20.80);\nwaypoints.add(new GeoPoint(30.90, 30.80);\n...\n...\n</code></pre>\n<p>How can i calculate the distance between p and the Polyline? I'm using Osmodroid <a href=\"https://github.com/osmdroid/osmdroid\" rel=\"nofollow noreferrer\">https://github.com/osmdroid/osmdroid</a></p>\n"},{"tags":["java","gradle","quarkus"],"owner":{"account_id":25129460,"reputation":11,"user_id":18976864,"display_name":"dalmo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651226822,"creation_date":1651158937,"question_id":72046260,"body_markdown":"I have a problem with logs displayed in Splunk. Every exception element stack trace being splitted into separated log. Unfortunately I don&#39;t have access to Splunk config files so I need to figure something else. I found some info about Quarkus extensions but I&#39;m not sure if it&#39;s right direction. Is it possible to create such extension which will allow to modify formatter (for example %e) and replace new line signs with empty spaces (Display whole stack trace in one line) or it can be achieved in a different way? I&#39;ve search for something similar but no luck. Custom format log which im using below.\r\n\r\n```\r\nquarkus.log.console.format=%p %d [%t] app=${app.name} ver=${app.version} cl=%c : %s%e%n\r\n```","title":"Create custom formatter for logging in Quarkus","body":"<p>I have a problem with logs displayed in Splunk. Every exception element stack trace being splitted into separated log. Unfortunately I don't have access to Splunk config files so I need to figure something else. I found some info about Quarkus extensions but I'm not sure if it's right direction. Is it possible to create such extension which will allow to modify formatter (for example %e) and replace new line signs with empty spaces (Display whole stack trace in one line) or it can be achieved in a different way? I've search for something similar but no luck. Custom format log which im using below.</p>\n<pre><code>quarkus.log.console.format=%p %d [%t] app=${app.name} ver=${app.version} cl=%c : %s%e%n\n</code></pre>\n"},{"tags":["java","spring-boot","graphql","graphql-java"],"owner":{"account_id":14052955,"reputation":31,"user_id":10151160,"display_name":"Michael schoenmaekers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1651226455,"creation_date":1650474246,"question_id":71943583,"body_markdown":"I&#39;m quite new to GraphQL and I&#39;m struggling with how to translate the concept of the GraphQL interface to proper java code that works with the graphql-java-kickstart library in Spring Boot. I&#39;ve spent quite some time searching online for answers but could not find a proper working example. Here my simple case I try to figure out:\r\n\r\n*GraphQL schema*\r\n\r\n``` \r\n  interface Notification {\r\n    id: ID!\r\n    date: String\r\n    isOpened: Boolean!\r\n    title: String\r\n    description: String\r\n  }\r\n  \r\n  type InvitationNotification implements  Notification {\r\n    id: ID!\r\n    date: String\r\n    isOpened: Boolean!\r\n    title: String\r\n    description: String\r\n    sendBy: String\r\n  }\r\n  \r\n  type Query {\r\n    notification(id: ID!): Notification!\r\n  }\r\n```\r\n*My (bad) translation*\r\n\r\n```\r\n\r\n# Query resolver\r\n@Component\r\npublic class Query implements GraphQLQueryResolver {\r\n\r\n    Notification notification(UUID id) {\r\n        return new InvitationNotification(id,\r\n                OffsetDateTime.now(),\r\n                false,\r\n                &quot;Connection request from notary xyz&quot;,\r\n                &quot;Blabla&quot;,\r\n                &quot;Notary xyz&quot;\r\n                );\r\n    }\r\n}\r\n\r\n# POJO abstract class, omitted getters\r\npublic abstract class Notification {\r\n\r\n    private final UUID id;\r\n\r\n    private final OffsetDateTime date;\r\n\r\n    private  final boolean isOpened;\r\n\r\n    private final String title;\r\n\r\n    private final String description;\r\n\r\n    public Notification(UUID id, OffsetDateTime date, boolean isOpened, String title, String description) {\r\n        this.id = id;\r\n        this.date = date;\r\n        this.isOpened = isOpened;\r\n        this.title = title;\r\n        this.description = description;\r\n    }\r\n\r\n# POJO that extends\r\npublic class InvitationNotification extends Notification {\r\n\r\n    private final String sendBy;\r\n\r\n    public InvitationNotification(UUID id, OffsetDateTime date, boolean isOpened, String title, String description, String sendBy) {\r\n        super(id, date, isOpened, title, description);\r\n        this.sendBy = sendBy;\r\n    }\r\n\r\n    public String getSendBy() {\r\n        return sendBy;\r\n    }\r\n}\r\n \r\n# Spring config bean\r\n\r\n@Configuration\r\npublic class GraphQLConfig {\r\n\r\n\t@Bean\r\n\tpublic SchemaParserDictionary schemaParserDictionary() {\r\n\t\treturn new SchemaParserDictionary().add(InvitationNotification.class);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nWith the above code, I can successfully execute the following query that only queries the common attributes\r\n\r\n```\r\n# Query\r\nquery aQuery {\r\n  notification(id: &quot;c782bbb2-7929-4694-9236-8108b49d5ba7&quot;) {\r\n    id,\r\n    title,\r\n    description,\r\n    isOpened,\r\n  }\r\n}\r\n# Result\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;notification&quot;: {\r\n      &quot;id&quot;: &quot;c782bbb2-7929-4694-9236-8108b49d5ba7&quot;,\r\n      &quot;title&quot;: &quot;Connection request from notary xyz&quot;,\r\n      &quot;description&quot;: &quot;Blabla&quot;,\r\n      &quot;isOpened&quot;: false\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nWith the above code, I get an error when I request the additional attribute\r\n\r\n```\r\n# Query\r\nquery aQuery {\r\n  notification(id: &quot;c782bbb2-7929-4694-9236-8108b49d5ba7&quot;) {\r\n    id,\r\n    title,\r\n    description,\r\n    isOpened,\r\n    sendBy\r\n  }\r\n}\r\n# Result\r\n{\r\n  &quot;errors&quot;: [\r\n    {\r\n      &quot;message&quot;: &quot;Validation error of type FieldUndefined: Field &#39;sendBy&#39; in type &#39;Notification&#39; is undefined @ &#39;notification/sendBy&#39;&quot;,\r\n      &quot;locations&quot;: [\r\n        {\r\n          &quot;line&quot;: 38,\r\n          &quot;column&quot;: 5\r\n        }\r\n      ],\r\n      &quot;extensions&quot;: {\r\n        &quot;classification&quot;: &quot;ValidationError&quot;\r\n      }\r\n    }\r\n  ],\r\n  &quot;data&quot;: null\r\n}\r\n```\r\n\r\nI&#39;m guessing I have to somewhere hint the library what classes implement the interface, so it can do an Instance Of type of thing, but I have no clue where.\r\n\r\nIt would be really helpful if an example was added to https://github.com/graphql-java-kickstart/samples\r\n\r\nNote that I also reached out on the discussion section of [graphql-java-kickstart/samples](https://github.com/graphql-java-kickstart/samples/discussions/162)","title":"How to translate GraphQL interfaces to the Java world with graphql-java-kickstart library using spring-boot","body":"<p>I'm quite new to GraphQL and I'm struggling with how to translate the concept of the GraphQL interface to proper java code that works with the graphql-java-kickstart library in Spring Boot. I've spent quite some time searching online for answers but could not find a proper working example. Here my simple case I try to figure out:</p>\n<p><em>GraphQL schema</em></p>\n<pre><code>  interface Notification {\n    id: ID!\n    date: String\n    isOpened: Boolean!\n    title: String\n    description: String\n  }\n  \n  type InvitationNotification implements  Notification {\n    id: ID!\n    date: String\n    isOpened: Boolean!\n    title: String\n    description: String\n    sendBy: String\n  }\n  \n  type Query {\n    notification(id: ID!): Notification!\n  }\n</code></pre>\n<p><em>My (bad) translation</em></p>\n<pre><code>\n# Query resolver\n@Component\npublic class Query implements GraphQLQueryResolver {\n\n    Notification notification(UUID id) {\n        return new InvitationNotification(id,\n                OffsetDateTime.now(),\n                false,\n                &quot;Connection request from notary xyz&quot;,\n                &quot;Blabla&quot;,\n                &quot;Notary xyz&quot;\n                );\n    }\n}\n\n# POJO abstract class, omitted getters\npublic abstract class Notification {\n\n    private final UUID id;\n\n    private final OffsetDateTime date;\n\n    private  final boolean isOpened;\n\n    private final String title;\n\n    private final String description;\n\n    public Notification(UUID id, OffsetDateTime date, boolean isOpened, String title, String description) {\n        this.id = id;\n        this.date = date;\n        this.isOpened = isOpened;\n        this.title = title;\n        this.description = description;\n    }\n\n# POJO that extends\npublic class InvitationNotification extends Notification {\n\n    private final String sendBy;\n\n    public InvitationNotification(UUID id, OffsetDateTime date, boolean isOpened, String title, String description, String sendBy) {\n        super(id, date, isOpened, title, description);\n        this.sendBy = sendBy;\n    }\n\n    public String getSendBy() {\n        return sendBy;\n    }\n}\n \n# Spring config bean\n\n@Configuration\npublic class GraphQLConfig {\n\n    @Bean\n    public SchemaParserDictionary schemaParserDictionary() {\n        return new SchemaParserDictionary().add(InvitationNotification.class);\n    }\n\n}\n\n</code></pre>\n<p>With the above code, I can successfully execute the following query that only queries the common attributes</p>\n<pre><code># Query\nquery aQuery {\n  notification(id: &quot;c782bbb2-7929-4694-9236-8108b49d5ba7&quot;) {\n    id,\n    title,\n    description,\n    isOpened,\n  }\n}\n# Result\n{\n  &quot;data&quot;: {\n    &quot;notification&quot;: {\n      &quot;id&quot;: &quot;c782bbb2-7929-4694-9236-8108b49d5ba7&quot;,\n      &quot;title&quot;: &quot;Connection request from notary xyz&quot;,\n      &quot;description&quot;: &quot;Blabla&quot;,\n      &quot;isOpened&quot;: false\n    }\n  }\n}\n</code></pre>\n<p>With the above code, I get an error when I request the additional attribute</p>\n<pre><code># Query\nquery aQuery {\n  notification(id: &quot;c782bbb2-7929-4694-9236-8108b49d5ba7&quot;) {\n    id,\n    title,\n    description,\n    isOpened,\n    sendBy\n  }\n}\n# Result\n{\n  &quot;errors&quot;: [\n    {\n      &quot;message&quot;: &quot;Validation error of type FieldUndefined: Field 'sendBy' in type 'Notification' is undefined @ 'notification/sendBy'&quot;,\n      &quot;locations&quot;: [\n        {\n          &quot;line&quot;: 38,\n          &quot;column&quot;: 5\n        }\n      ],\n      &quot;extensions&quot;: {\n        &quot;classification&quot;: &quot;ValidationError&quot;\n      }\n    }\n  ],\n  &quot;data&quot;: null\n}\n</code></pre>\n<p>I'm guessing I have to somewhere hint the library what classes implement the interface, so it can do an Instance Of type of thing, but I have no clue where.</p>\n<p>It would be really helpful if an example was added to <a href=\"https://github.com/graphql-java-kickstart/samples\" rel=\"nofollow noreferrer\">https://github.com/graphql-java-kickstart/samples</a></p>\n<p>Note that I also reached out on the discussion section of <a href=\"https://github.com/graphql-java-kickstart/samples/discussions/162\" rel=\"nofollow noreferrer\">graphql-java-kickstart/samples</a></p>\n"},{"tags":["java","classpath"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1651226662,"post_id":72056186,"comment_id":127319060,"body_markdown":"This is not a &quot;Java .classpath file&quot;, it is most likely an Eclipse classpath file for a Java project. It is specific to Eclipse. As I recall it is possible to use variables in the file to make them more portable, but I have not had to do that for more than ten years. Everyone should use Maven or Gradle by now. Manual builds are outdated.","body":"This is not a &quot;Java .classpath file&quot;, it is most likely an Eclipse classpath file for a Java project. It is specific to Eclipse. As I recall it is possible to use variables in the file to make them more portable, but I have not had to do that for more than ten years. Everyone should use Maven or Gradle by now. Manual builds are outdated."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1651234978,"post_id":72056186,"comment_id":127321782,"body_markdown":"@ewramner You’re right about the file, of course.  But I vehemently disagree with your claim that only Maven or Gradle is suitable for building.  Dependencies are an expensive penalty, which those tools portray as trivial.  And that’s just one issue with them.","body":"@ewramner You’re right about the file, of course.  But I vehemently disagree with your claim that only Maven or Gradle is suitable for building.  Dependencies are an expensive penalty, which those tools portray as trivial.  And that’s just one issue with them."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1651235610,"post_id":72056186,"comment_id":127322013,"body_markdown":"Well, you are entitled to your view and I agree about the dependency problem, but Maven and Gradle both solve the &quot;get those jar files without downloading one by one&quot; problem and any other tool that solves that problem will have the same side effect - dependencies become easy to add as there is no manual labor required to get them. The solution in the bad old days (with Ant or make files) was to check in the jar files as part of the project, perhaps in a thirdparty directory. Then all developers get them from there. You could try that.","body":"Well, you are entitled to your view and I agree about the dependency problem, but Maven and Gradle both solve the &quot;get those jar files without downloading one by one&quot; problem and any other tool that solves that problem will have the same side effect - dependencies become easy to add as there is no manual labor required to get them. The solution in the bad old days (with Ant or make files) was to check in the jar files as part of the project, perhaps in a thirdparty directory. Then all developers get them from there. You could try that."}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651226391,"creation_date":1651226391,"question_id":72056186,"body_markdown":"In the Java .classpath file, I see a lot of dependency paths, something like this:\r\n```\r\n&lt;classpathentry kind=&quot;lib&quot; path=&quot;/a/b/c/d/library.jar&quot;/&gt;\r\n```\r\nAre these paths absolute to local file system, or are they relative to some project folders?\r\n\r\nWithout using tools like Maven, how can multiple developers work on the same project sharing the same .classpath if they have different dependency repo location? If different developers of the same project work on different OS, like Windows and Linux, would these paths still work? Say for windows, can I have a path absolute to my file system (e.g. C:\\my_repo\\...)? Would that break something for the Linux developers if we share the same .classpath file?\r\n\r\nAnd if I pass the project to someone else to continue to work on, how can that person get those dependency jar files back on their local repo without downloading those jars one by one manually from the Internet/Maven central? (Without using Maven, that is...)","title":"How do the dependency paths work in Java .classpath file?","body":"<p>In the Java .classpath file, I see a lot of dependency paths, something like this:</p>\n<pre><code>&lt;classpathentry kind=&quot;lib&quot; path=&quot;/a/b/c/d/library.jar&quot;/&gt;\n</code></pre>\n<p>Are these paths absolute to local file system, or are they relative to some project folders?</p>\n<p>Without using tools like Maven, how can multiple developers work on the same project sharing the same .classpath if they have different dependency repo location? If different developers of the same project work on different OS, like Windows and Linux, would these paths still work? Say for windows, can I have a path absolute to my file system (e.g. C:\\my_repo...)? Would that break something for the Linux developers if we share the same .classpath file?</p>\n<p>And if I pass the project to someone else to continue to work on, how can that person get those dependency jar files back on their local repo without downloading those jars one by one manually from the Internet/Maven central? (Without using Maven, that is...)</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":23256531,"reputation":580,"user_id":17343501,"display_name":"AhmedSHA256"},"score":0,"creation_date":1651226368,"post_id":72056167,"comment_id":127318952,"body_markdown":"Are you working with vanilla java? I mean, the ExamGenerator project is a normal project?","body":"Are you working with vanilla java? I mean, the ExamGenerator project is a normal project?"},{"owner":{"account_id":23459569,"reputation":27,"user_id":18396158,"display_name":"Bubi"},"score":0,"creation_date":1651226424,"post_id":72056167,"comment_id":127318980,"body_markdown":"yes mate. just a normal console project","body":"yes mate. just a normal console project"},{"owner":{"account_id":23256531,"reputation":580,"user_id":17343501,"display_name":"AhmedSHA256"},"score":0,"creation_date":1651226656,"post_id":72056167,"comment_id":127319055,"body_markdown":"Then you can delete one of those 2 folders. It should work. I would recommend you to switch to Netbeans, in my personal opinion its better than eclipse and easier to work with. If you can switch, of course.","body":"Then you can delete one of those 2 folders. It should work. I would recommend you to switch to Netbeans, in my personal opinion its better than eclipse and easier to work with. If you can switch, of course."},{"owner":{"account_id":23459569,"reputation":27,"user_id":18396158,"display_name":"Bubi"},"score":0,"creation_date":1651226729,"post_id":72056167,"comment_id":127319084,"body_markdown":"Yesterday I tried to delete one of the folders, and eclipse just deleted both of them together ..","body":"Yesterday I tried to delete one of the folders, and eclipse just deleted both of them together .."},{"owner":{"account_id":23256531,"reputation":580,"user_id":17343501,"display_name":"AhmedSHA256"},"score":0,"creation_date":1651226928,"post_id":72056167,"comment_id":127319141,"body_markdown":"Does it happen everytime you create a project?","body":"Does it happen everytime you create a project?"},{"owner":{"account_id":23459569,"reputation":27,"user_id":18396158,"display_name":"Bubi"},"score":0,"creation_date":1651227270,"post_id":72056167,"comment_id":127319249,"body_markdown":"no, only at this project.. also when im trying to change only one src, it changes for the second folder too","body":"no, only at this project.. also when im trying to change only one src, it changes for the second folder too"},{"owner":{"account_id":23256531,"reputation":580,"user_id":17343501,"display_name":"AhmedSHA256"},"score":0,"creation_date":1651227434,"post_id":72056167,"comment_id":127319309,"body_markdown":"I would just create a new project and move everything to the new one","body":"I would just create a new project and move everything to the new one"},{"owner":{"account_id":23459569,"reputation":27,"user_id":18396158,"display_name":"Bubi"},"score":0,"creation_date":1651229358,"post_id":72056167,"comment_id":127319847,"body_markdown":"i tried to do it too, but every change im doind at the new project (just copy and paste all the classes) all the work still saved on the last project folder and not at the new one..","body":"i tried to do it too, but every change im doind at the new project (just copy and paste all the classes) all the work still saved on the last project folder and not at the new one.."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1651255636,"post_id":72056167,"comment_id":127329217,"body_markdown":"`src` is shown twice, first as nested project (is this what you really want? If not, delete the nested project without deleting its content) and a second time as source folder.","body":"<code>src</code> is shown twice, first as nested project (is this what you really want? If not, delete the nested project without deleting its content) and a second time as source folder."}],"owner":{"account_id":23459569,"reputation":27,"user_id":18396158,"display_name":"Bubi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651226265,"creation_date":1651226265,"question_id":72056167,"body_markdown":"Yesterday I was working on my project, and suddenly eclipse built me 2 identical source folder.. \r\ni dont know what happend. but i hope you cant help me to delete it.. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LAjEY.png","title":"Why did eclipse build me 2 identical source folders?","body":"<p>Yesterday I was working on my project, and suddenly eclipse built me 2 identical source folder..\ni dont know what happend. but i hope you cant help me to delete it..</p>\n<p><a href=\"https://i.stack.imgur.com/LAjEY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LAjEY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","indexing","boolean","maze"],"answers":[{"tags":[],"owner":{"account_id":123783,"reputation":595,"user_id":318460,"display_name":"Narmo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651225052,"creation_date":1651225052,"answer_id":72055875,"question_id":72055703,"body_markdown":"The problem with your code is that you check wrong items in your `maze` array:\r\n\r\n- `maze[0]` is the first &quot;line&quot; of your 2d-array\r\n- `maze[1]` is the second &quot;line&quot; of your 2d-array\r\n\r\nProper way of traversing 2d-array is following (I&#39;ve replaced your `location` array with separate `x` and `y` variables to better visualize the algorithm).\r\n\r\nMy algorithm enters the 2d `mazeArray` line by line and then iterates each line&#39;s elements.\r\n\r\n```java\r\npublic class Maze {\r\n\tpublic static void main(String[] args) {\r\n\t\tint width = 20;\r\n\t\tint height = 20;\r\n\r\n\t\tboolean[][] mazeArray = new boolean[width][height];\r\n\r\n\t\tint x = 0;\r\n\t\tint y = 0;\r\n\r\n\t\twhile (y &lt; mazeArray.length) {\r\n\t\t\twhile (x &lt; mazeArray[y].length) {\r\n\t\t\t\tSystem.out.println(&quot;Traverse at (&quot; + x + &quot;, &quot; + y + &quot;)&quot;);\r\n\r\n\t\t\t\tx += 1;\r\n\t\t\t}\r\n\r\n\t\t\tx = 0;\r\n\t\t\ty += 1;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n","title":"How to check if a traversion has reached a certain Index in a 2D-Array in Java?","body":"<p>The problem with your code is that you check wrong items in your <code>maze</code> array:</p>\n<ul>\n<li><code>maze[0]</code> is the first &quot;line&quot; of your 2d-array</li>\n<li><code>maze[1]</code> is the second &quot;line&quot; of your 2d-array</li>\n</ul>\n<p>Proper way of traversing 2d-array is following (I've replaced your <code>location</code> array with separate <code>x</code> and <code>y</code> variables to better visualize the algorithm).</p>\n<p>My algorithm enters the 2d <code>mazeArray</code> line by line and then iterates each line's elements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Maze {\n    public static void main(String[] args) {\n        int width = 20;\n        int height = 20;\n\n        boolean[][] mazeArray = new boolean[width][height];\n\n        int x = 0;\n        int y = 0;\n\n        while (y &lt; mazeArray.length) {\n            while (x &lt; mazeArray[y].length) {\n                System.out.println(&quot;Traverse at (&quot; + x + &quot;, &quot; + y + &quot;)&quot;);\n\n                x += 1;\n            }\n\n            x = 0;\n            y += 1;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651226218,"creation_date":1651225581,"answer_id":72056004,"question_id":72055703,"body_markdown":"You&#39;re making everything so much harder for yourself. Go easier ways.\r\n\r\nUse simpler locations handling\r\n-\r\nInstead of a location[], simlpy use `int destinyX` and `int destinyY`. And as your current position, you should use `int positionX` and `int positionY`. \r\n\r\nIf you&#39;d like the OO-stlye more, or maybe wanna keep the gates open for a solution in 3D or n-D, you could introduce a Location class that has X and Y, and all movement and checks could be handled by that class. Then you&#39;d have `Location targetLocation = new Location(x,y);` and your current position as `Location currentPosition = new Location(x,y);`. You then could check with `if (currentPosition.equals(targetLocation))...;` or in your case `while(!currentPosition.equals(targetLocation)) {...}`\r\n\r\nIt seems you have misunderstood the `array.length` function, or you&#39;re using it in an awfully inconvenient way.\r\n-\r\n At the moment you&#39;re blindly shooting at the array lengths of maze[]. This is bad for 2 reasons: \r\n1) array lengths should not have anything to do with positions inside the array (logical paradox), and \r\n2) because you could never freely move your destination, it would always stick to the right or bottom outsides of the maze\r\n\r\nUse the positioning above, this will clear up that problem.\r\n\r\nSuggestion: use a `byte[][]` or `enum[][]` for maze\r\n-\r\nAt the moment, you only know if you have a wall at a certain location. If you wanna include other elements, like water, treasure, or the target location, wormholes etc, then you should either:\r\n\r\n - Use a `byte[][]` and fill it with values\r\n - - value 0 could be pathways\r\n - - value 1 could be walls\r\n - - value 2 could be the exit\r\n - - value 3 could be the water etc.\r\n - Use constants, like `static public final int WATER_CODE = 3;`\r\n\r\nOr, alternatively, create your own enum:\r\n\r\n    public enum LocationType {PATH, WALL,EXIT,WATER}\r\n\r\nand then have maze be like: \r\n\r\n    LocationType[][] mazeArray = new LocationType[width][height];\r\n\r\nand everything is PATH in the beginning, and you can set up WALLS like this:\r\n\r\n    mazeArray[x][y] = LocationType.WALL;\r\n\r\nor water:\r\n\r\n    mazeArray[x][y] = LocationType.WATER;\r\n\r\nUse class or interface for maze[][]\r\n-\r\nFor the sake of Wormhole or extended functionality, you could also use a class instead of an enum:\r\n\r\n    abstract class LocationType {}\r\n\r\nand then implement certain types, like\r\n\r\n    class Wall extends LocationType {}\r\n\r\nor even \r\n\r\n    class Wormhole extends LocationType {\r\n        public Location leadsTo() { /* */ };\r\n    }\r\n\r\nand \r\n\r\n    class Treasure extends LocationType {\r\n        public int getAmoundOfGoldCoinsFound() { /* */ };\r\n    }\r\n\r\nIf you implement LocationType as an interface, replace &#39;extends&#39; by &#39;implements&#39; ","title":"How to check if a traversion has reached a certain Index in a 2D-Array in Java?","body":"<p>You're making everything so much harder for yourself. Go easier ways.</p>\n<h2>Use simpler locations handling</h2>\n<p>Instead of a location[], simlpy use <code>int destinyX</code> and <code>int destinyY</code>. And as your current position, you should use <code>int positionX</code> and <code>int positionY</code>.</p>\n<p>If you'd like the OO-stlye more, or maybe wanna keep the gates open for a solution in 3D or n-D, you could introduce a Location class that has X and Y, and all movement and checks could be handled by that class. Then you'd have <code>Location targetLocation = new Location(x,y);</code> and your current position as <code>Location currentPosition = new Location(x,y);</code>. You then could check with <code>if (currentPosition.equals(targetLocation))...;</code> or in your case <code>while(!currentPosition.equals(targetLocation)) {...}</code></p>\n<h2>It seems you have misunderstood the <code>array.length</code> function, or you're using it in an awfully inconvenient way.</h2>\n<p>At the moment you're blindly shooting at the array lengths of maze[]. This is bad for 2 reasons:</p>\n<ol>\n<li>array lengths should not have anything to do with positions inside the array (logical paradox), and</li>\n<li>because you could never freely move your destination, it would always stick to the right or bottom outsides of the maze</li>\n</ol>\n<p>Use the positioning above, this will clear up that problem.</p>\n<h2>Suggestion: use a <code>byte[][]</code> or <code>enum[][]</code> for maze</h2>\n<p>At the moment, you only know if you have a wall at a certain location. If you wanna include other elements, like water, treasure, or the target location, wormholes etc, then you should either:</p>\n<ul>\n<li>Use a <code>byte[][]</code> and fill it with values</li>\n<li>\n<ul>\n<li>value 0 could be pathways</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>value 1 could be walls</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>value 2 could be the exit</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>value 3 could be the water etc.</li>\n</ul>\n</li>\n<li>Use constants, like <code>static public final int WATER_CODE = 3;</code></li>\n</ul>\n<p>Or, alternatively, create your own enum:</p>\n<pre><code>public enum LocationType {PATH, WALL,EXIT,WATER}\n</code></pre>\n<p>and then have maze be like:</p>\n<pre><code>LocationType[][] mazeArray = new LocationType[width][height];\n</code></pre>\n<p>and everything is PATH in the beginning, and you can set up WALLS like this:</p>\n<pre><code>mazeArray[x][y] = LocationType.WALL;\n</code></pre>\n<p>or water:</p>\n<pre><code>mazeArray[x][y] = LocationType.WATER;\n</code></pre>\n<h2>Use class or interface for maze[][]</h2>\n<p>For the sake of Wormhole or extended functionality, you could also use a class instead of an enum:</p>\n<pre><code>abstract class LocationType {}\n</code></pre>\n<p>and then implement certain types, like</p>\n<pre><code>class Wall extends LocationType {}\n</code></pre>\n<p>or even</p>\n<pre><code>class Wormhole extends LocationType {\n    public Location leadsTo() { /* */ };\n}\n</code></pre>\n<p>and</p>\n<pre><code>class Treasure extends LocationType {\n    public int getAmoundOfGoldCoinsFound() { /* */ };\n}\n</code></pre>\n<p>If you implement LocationType as an interface, replace 'extends' by 'implements'</p>\n"}],"owner":{"account_id":25141139,"reputation":388,"user_id":18987462,"display_name":"HeapUnderStop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72055875,"answer_count":2,"score":2,"last_activity_date":1651226218,"creation_date":1651224199,"question_id":72055703,"body_markdown":"Let&#39;s say we have a 2D-boolean Array as a presentation of a maze, the size of the Array is not fixed and random. The walls are depicted as true:\n\n    boolean[][] mazeArray = new boolean[width][height];\n\nThe exit of the maze is at a fixed Index. How can I check wether the traversion has reached this certain index or not?\nMy idea was to create an int[ ] to keep track of the position, it gets updated and overwritten with every step:\n\n    int[] location = {1,0};\n\n... But I don&#39;t understand why my check in the while-loop doesn&#39;t work:\n\n    while( location[0] != (maze[0].length-1) &amp;&amp; location[1] != (maze[1].length-2) ) {\n       // traversion with pledge algorithm\n\t\t}\n","title":"How to check if a traversion has reached a certain Index in a 2D-Array in Java?","body":"<p>Let's say we have a 2D-boolean Array as a presentation of a maze, the size of the Array is not fixed and random. The walls are depicted as true:</p>\n<pre><code>boolean[][] mazeArray = new boolean[width][height];\n</code></pre>\n<p>The exit of the maze is at a fixed Index. How can I check wether the traversion has reached this certain index or not?\nMy idea was to create an int[ ] to keep track of the position, it gets updated and overwritten with every step:</p>\n<pre><code>int[] location = {1,0};\n</code></pre>\n<p>... But I don't understand why my check in the while-loop doesn't work:</p>\n<pre><code>while( location[0] != (maze[0].length-1) &amp;&amp; location[1] != (maze[1].length-2) ) {\n   // traversion with pledge algorithm\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","stripe-payments"],"comments":[{"owner":{"account_id":13542367,"reputation":5828,"user_id":9769731,"display_name":"karllekko"},"score":0,"creation_date":1651225361,"post_id":72053924,"comment_id":127318589,"body_markdown":"&quot;that says I need an integration using Stripe.js where I can fill my card info&quot; — \nyep! That&#39;s the next step, the code you shared is just step 1. You return that information back to the frontend and use a form to collect payment information. https://stripe.com/docs/payments/accept-a-payment","body":"&quot;that says I need an integration using Stripe.js where I can fill my card info&quot; —  yep! That&#39;s the next step, the code you shared is just step 1. You return that information back to the frontend and use a form to collect payment information. <a href=\"https://stripe.com/docs/payments/accept-a-payment\" rel=\"nofollow noreferrer\">stripe.com/docs/payments/accept-a-payment</a>"}],"answers":[{"tags":[],"owner":{"account_id":25111109,"reputation":1244,"user_id":18960736,"display_name":"yuting"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651226013,"creation_date":1651226013,"answer_id":72056105,"question_id":72053924,"body_markdown":"If you have the payment method saved on the customer, adding following to PaymentIntentCreateParams should be able to charge customer&#39;s saved payment method (provided no additional action such as 3DS authentication is required):\r\n* [`.setPaymentMethod({PaymentMethodID})`][1] and \r\n* [`.setConfirm(true)`][2]\r\n\r\nIf there&#39;s no saved payment method, then the card details can only be collected via Payment Element at frontend using StripeJS: https://stripe.com/docs/payments/accept-a-payment?platform=web&amp;ui=elements\r\n\r\nIf you do not wish to integrate frontend, you can use the pre-built checkout page instead of integrating with Payment Intent directly: https://stripe.com/docs/payments/accept-a-payment?platform=web&amp;ui=checkout\r\n\r\n  [1]: https://stripe.com/docs/api/payment_intents/create#create_payment_intent-payment_method\r\n  [2]: https://stripe.com/docs/api/payment_intents/create#create_payment_intent-confirm","title":"Java Stripe : How to Complete an &quot;Incomplete&quot; Payment","body":"<p>If you have the payment method saved on the customer, adding following to PaymentIntentCreateParams should be able to charge customer's saved payment method (provided no additional action such as 3DS authentication is required):</p>\n<ul>\n<li><a href=\"https://stripe.com/docs/api/payment_intents/create#create_payment_intent-payment_method\" rel=\"nofollow noreferrer\"><code>.setPaymentMethod({PaymentMethodID})</code></a> and</li>\n<li><a href=\"https://stripe.com/docs/api/payment_intents/create#create_payment_intent-confirm\" rel=\"nofollow noreferrer\"><code>.setConfirm(true)</code></a></li>\n</ul>\n<p>If there's no saved payment method, then the card details can only be collected via Payment Element at frontend using StripeJS: <a href=\"https://stripe.com/docs/payments/accept-a-payment?platform=web&amp;ui=elements\" rel=\"nofollow noreferrer\">https://stripe.com/docs/payments/accept-a-payment?platform=web&amp;ui=elements</a></p>\n<p>If you do not wish to integrate frontend, you can use the pre-built checkout page instead of integrating with Payment Intent directly: <a href=\"https://stripe.com/docs/payments/accept-a-payment?platform=web&amp;ui=checkout\" rel=\"nofollow noreferrer\">https://stripe.com/docs/payments/accept-a-payment?platform=web&amp;ui=checkout</a></p>\n"}],"owner":{"account_id":15841617,"reputation":19,"user_id":11429952,"display_name":"RABII SISSI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72056105,"answer_count":1,"score":0,"last_activity_date":1651226145,"creation_date":1651215422,"question_id":72053924,"body_markdown":"I&#39;m using PaymentIntent to make a payment. I specify the customer that has all the billing info, but the payment is specified as &quot;Incomplete&quot;, I checked this\r\nhttps://stackoverflow.com/questions/65715937/stripe-api-payment-intent-incomplete-payment that says I need an integration using Stripe.js where I can fill my card info.\r\n\r\nIs there any way I let the payment access the customer info, or at least accept the credit card info?\r\n\r\nHere&#39;s my code:\r\n\r\n\t@PostMapping (&quot;/create-payment-intent&quot;)\r\n\tpublic CreatePaymentResponse createSub () throws StripeException {\r\n\t\tStripe.apiKey = API_SECRET_KEY;\r\n\r\n\t\tPaymentIntentCreateParams params = new PaymentIntentCreateParams.Builder()\r\n\t\t\t\t.setCurrency(&quot;eur&quot;)\r\n\t\t\t\t.setAmount(20 * 100L)\r\n\t\t\t\t.setCustomer(&quot;cus_Layhq7Kj0U6xem&quot;)\r\n\t\t\t\t.setReceiptEmail(&quot;mailTest@gmail.com&quot;)\r\n\t\t\t\t.build();\r\n\r\n\t\tPaymentIntent paymentIntent = PaymentIntent.create(params);\r\n\t\treturn\tnew CreatePaymentResponse(paymentIntent.getClientSecret());\r\n\t}\r\n\r\n","title":"Java Stripe : How to Complete an &quot;Incomplete&quot; Payment","body":"<p>I'm using PaymentIntent to make a payment. I specify the customer that has all the billing info, but the payment is specified as &quot;Incomplete&quot;, I checked this\n<a href=\"https://stackoverflow.com/questions/65715937/stripe-api-payment-intent-incomplete-payment\">STRIPE API Payment Intent incomplete payment</a> that says I need an integration using Stripe.js where I can fill my card info.</p>\n<p>Is there any way I let the payment access the customer info, or at least accept the credit card info?</p>\n<p>Here's my code:</p>\n<pre><code>@PostMapping (&quot;/create-payment-intent&quot;)\npublic CreatePaymentResponse createSub () throws StripeException {\n    Stripe.apiKey = API_SECRET_KEY;\n\n    PaymentIntentCreateParams params = new PaymentIntentCreateParams.Builder()\n            .setCurrency(&quot;eur&quot;)\n            .setAmount(20 * 100L)\n            .setCustomer(&quot;cus_Layhq7Kj0U6xem&quot;)\n            .setReceiptEmail(&quot;mailTest@gmail.com&quot;)\n            .build();\n\n    PaymentIntent paymentIntent = PaymentIntent.create(params);\n    return  new CreatePaymentResponse(paymentIntent.getClientSecret());\n}\n</code></pre>\n"},{"tags":["java","maven","aem"],"comments":[{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":1,"creation_date":1650352671,"post_id":71919722,"comment_id":127087947,"body_markdown":"If you can see the lib in maven repo locally then issue with IntelliJ, try to clean cache and restart the IntelliJ. It might help you.","body":"If you can see the lib in maven repo locally then issue with IntelliJ, try to clean cache and restart the IntelliJ. It might help you."},{"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"score":0,"creation_date":1650353011,"post_id":71919722,"comment_id":127088040,"body_markdown":"@prost&#253;člověk clearing the cache fixed the no.3. Let me see if I can step through my code. Thanks!","body":"@prost&#253;člověk clearing the cache fixed the no.3. Let me see if I can step through my code. Thanks!"},{"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"score":0,"creation_date":1650357243,"post_id":71919722,"comment_id":127089433,"body_markdown":"@prost&#253;člověk IntelliJ can recognize the libraries now but my breakpoints are still not working. But at least my problem moved forward! I&#39;ll try again later. Thank you.","body":"@prost&#253;člověk IntelliJ can recognize the libraries now but my breakpoints are still not working. But at least my problem moved forward! I&#39;ll try again later. Thank you."},{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1650357326,"post_id":71919722,"comment_id":127089456,"body_markdown":"Great to hear that! I will post in answer&#39;s place and please accept that as answer.","body":"Great to hear that! I will post in answer&#39;s place and please accept that as answer."}],"answers":[{"tags":[],"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650357343,"creation_date":1650357343,"answer_id":71921956,"question_id":71919722,"body_markdown":"If you can see the lib in maven repo locally then issue with IntelliJ, try to clean cache and restart the IntelliJ.","title":"how do I use BouncyCastle libraries in my AEM maven project?","body":"<p>If you can see the lib in maven repo locally then issue with IntelliJ, try to clean cache and restart the IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":2060082,"reputation":31,"user_id":1836865,"display_name":"Raphael Krausz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651225623,"creation_date":1651225623,"answer_id":72056014,"question_id":71919722,"body_markdown":"Your question is neither clear nor specific.\r\n\r\nBouncyCastle must be working if your code is compiling. The `PEMParser` class belongs to the `org.bouncycastle.openssl` package which simply isn&#39;t available if BouncyCastle isn&#39;t available. So, if BouncyCastle wasn&#39;t available, your code wouldn&#39;t compile.\r\n\r\nAre you having a problem with IntelliJ or with BouncyCastle?\r\n\r\nWhat issues are being reported by IntelliJ?\r\n\r\nHave you configured BouncyCastle as a Security provider?\r\n\r\n    if (Security.getProvider(&quot;BC&quot;) == null) {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n    }\r\n\r\nHowever, it sounds more like you are having an issue with IntelliJ but it&#39;s simply not clear.\r\n\r\nTo avoid any problems (for the moment) with IntelliJ, please use the command line with the `mvn` command.\r\n\r\nWhat do you mean by &quot;it&#39;s not working&quot;. This is not clear. What error are you receiving?  How is it not working?","title":"how do I use BouncyCastle libraries in my AEM maven project?","body":"<p>Your question is neither clear nor specific.</p>\n<p>BouncyCastle must be working if your code is compiling. The <code>PEMParser</code> class belongs to the <code>org.bouncycastle.openssl</code> package which simply isn't available if BouncyCastle isn't available. So, if BouncyCastle wasn't available, your code wouldn't compile.</p>\n<p>Are you having a problem with IntelliJ or with BouncyCastle?</p>\n<p>What issues are being reported by IntelliJ?</p>\n<p>Have you configured BouncyCastle as a Security provider?</p>\n<pre><code>if (Security.getProvider(&quot;BC&quot;) == null) {\n    Security.addProvider(new BouncyCastleProvider());\n}\n</code></pre>\n<p>However, it sounds more like you are having an issue with IntelliJ but it's simply not clear.</p>\n<p>To avoid any problems (for the moment) with IntelliJ, please use the command line with the <code>mvn</code> command.</p>\n<p>What do you mean by &quot;it's not working&quot;. This is not clear. What error are you receiving?  How is it not working?</p>\n"}],"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651225623,"creation_date":1650342915,"question_id":71919722,"body_markdown":"**problem:** My Java code cannot see BouncyCastle libraries.\r\n\r\n\r\n----------------\r\n**situation:** I have a component that needs to use BouncyCastle libraries. The other vendor has provided some Java examples on how to use their API and the examples uses BouncyCastle.I have tried using regular Java libraries (java.*) and it&#39;s not working. I&#39;m just testing to see if the implementation requires BouncyCastle.\r\n\r\n----------------\r\n**mvn integration with BouncyCastle:**\r\n\r\nTo integrate BouncyCastle into my maven project, I changed core/pom.xml and added these lines\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.71&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.71&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n \r\n\r\nAccording to this https://www.bouncycastle.org/latest_releases.html, I need to use jdk18on for Java 8+. I&#39;m on Java11.\r\n\r\n\r\n----------------\r\n**observations:**\r\n\r\n1. When running an &quot;mvn clean install&quot;, mvn fetches the BouncyCastle libraries. (I previously didn&#39;t have the bouncycastle folder prior to running the nvm command. Also mvn does not produce any compilation errors)\r\n\r\n         my-work-desktop-mac in repository/org/bouncycastle \r\n         ➜  pwd\r\n         /Users/myuser/.m2/repository/org/bouncycastle\r\n         my-work-desktop-mac in repository/org/bouncycastle \r\n         ➜  ls -al\r\n         0755 - myuser 18 Apr 09:59 bcpkix-jdk18on\r\n         0755 - myuser 18 Apr 09:59 bcprov-jdk18on\r\n         0755 - myuser 18 Apr 09:59 bcutil-jdk18on\r\n         my-work-desktop-mac in repository/org/bouncycastle \r\n         ➜  find . -iname &quot;*.jar&quot; -type f                                            \r\n         ./bcprov-jdk18on/1.71/bcprov-jdk18on-1.71.jar\r\n         ./bcutil-jdk18on/1.71/bcutil-jdk18on-1.71.jar\r\n         ./bcpkix-jdk18on/1.71/bcpkix-jdk18on-1.71.jar\r\n\r\n2. When I try to debug this code, my execution never stops at the 2nd or 3rd breakpoint after &quot;stepping over&quot; on the 1st breakpoint.\r\n\r\n        try {\r\n            String publicKeyAsString = &quot;my-public-key-here&quot;;\r\n\r\n            PEMParser pemParser = new PEMParser(new StringReader(publicKeyAsString)); //1st breakpoint\r\n\r\n            String test=&quot;&quot;; //2nd breakpoint\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;error in here&quot;); //3rd breakpoint\r\n        }\r\n\r\n\r\n3. I&#39;m using IntelliJ and IntelliJ often highlights possible issues/problems in my code. Right now, it&#39;s highlighting all the import statements I have for &quot;org.bouncycastle&quot; and  &quot;PEMParser&quot; line in no2.","title":"how do I use BouncyCastle libraries in my AEM maven project?","body":"<p><strong>problem:</strong> My Java code cannot see BouncyCastle libraries.</p>\n<hr />\n<p><strong>situation:</strong> I have a component that needs to use BouncyCastle libraries. The other vendor has provided some Java examples on how to use their API and the examples uses BouncyCastle.I have tried using regular Java libraries (java.*) and it's not working. I'm just testing to see if the implementation requires BouncyCastle.</p>\n<hr />\n<p><strong>mvn integration with BouncyCastle:</strong></p>\n<p>To integrate BouncyCastle into my maven project, I changed core/pom.xml and added these lines</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\n        &lt;version&gt;1.71&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\n        &lt;version&gt;1.71&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>According to this <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">https://www.bouncycastle.org/latest_releases.html</a>, I need to use jdk18on for Java 8+. I'm on Java11.</p>\n<hr />\n<p><strong>observations:</strong></p>\n<ol>\n<li><p>When running an &quot;mvn clean install&quot;, mvn fetches the BouncyCastle libraries. (I previously didn't have the bouncycastle folder prior to running the nvm command. Also mvn does not produce any compilation errors)</p>\n<pre><code>  my-work-desktop-mac in repository/org/bouncycastle \n  ➜  pwd\n  /Users/myuser/.m2/repository/org/bouncycastle\n  my-work-desktop-mac in repository/org/bouncycastle \n  ➜  ls -al\n  0755 - myuser 18 Apr 09:59 bcpkix-jdk18on\n  0755 - myuser 18 Apr 09:59 bcprov-jdk18on\n  0755 - myuser 18 Apr 09:59 bcutil-jdk18on\n  my-work-desktop-mac in repository/org/bouncycastle \n  ➜  find . -iname &quot;*.jar&quot; -type f                                            \n  ./bcprov-jdk18on/1.71/bcprov-jdk18on-1.71.jar\n  ./bcutil-jdk18on/1.71/bcutil-jdk18on-1.71.jar\n  ./bcpkix-jdk18on/1.71/bcpkix-jdk18on-1.71.jar\n</code></pre>\n</li>\n<li><p>When I try to debug this code, my execution never stops at the 2nd or 3rd breakpoint after &quot;stepping over&quot; on the 1st breakpoint.</p>\n<pre><code> try {\n     String publicKeyAsString = &quot;my-public-key-here&quot;;\n\n     PEMParser pemParser = new PEMParser(new StringReader(publicKeyAsString)); //1st breakpoint\n\n     String test=&quot;&quot;; //2nd breakpoint\n\n } catch (Exception e) {\n     System.out.println(&quot;error in here&quot;); //3rd breakpoint\n }\n</code></pre>\n</li>\n<li><p>I'm using IntelliJ and IntelliJ often highlights possible issues/problems in my code. Right now, it's highlighting all the import statements I have for &quot;org.bouncycastle&quot; and  &quot;PEMParser&quot; line in no2.</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-mvc","logging"],"comments":[{"owner":{"account_id":22772894,"reputation":3,"user_id":16930005,"display_name":"kushinier"},"score":0,"creation_date":1651177270,"post_id":72049752,"comment_id":127308580,"body_markdown":"The log file is created on the start of the application that&#39;s why i can&#39;t read the file ? But in the second time the log file is already created so the endpoint can read the file and return.","body":"The log file is created on the start of the application that&#39;s why i can&#39;t read the file ? But in the second time the log file is already created so the endpoint can read the file and return."}],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651225591,"creation_date":1651177391,"answer_id":72049797,"question_id":72049752,"body_markdown":"Yes the exception is right. When there are logs, it start printing into .log file and if it is not there, it will create one. In your case you could log something in when the app starts.\r\n\r\n\r\nYou could try something like this and see if the file exist and log something and then try again.\r\n\r\n    Path path = Paths.get(&quot;/path/to/spring.log&quot;);\r\n    \r\n    // file exists and it is not a directory\r\n    if(Files.exists(path) &amp;&amp; !Files.isDirectory(path)) {\r\n        log.info(&quot;file created&quot;);\r\n    }","title":"Spring Boot Creating endpoint for download logs","body":"<p>Yes the exception is right. When there are logs, it start printing into .log file and if it is not there, it will create one. In your case you could log something in when the app starts.</p>\n<p>You could try something like this and see if the file exist and log something and then try again.</p>\n<pre><code>Path path = Paths.get(&quot;/path/to/spring.log&quot;);\n\n// file exists and it is not a directory\nif(Files.exists(path) &amp;&amp; !Files.isDirectory(path)) {\n    log.info(&quot;file created&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":22772894,"reputation":3,"user_id":16930005,"display_name":"kushinier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651225591,"creation_date":1651177070,"question_id":72049752,"body_markdown":"I created an endpoint in spring boot to download logs of the application:\n```\n@Service\npublic class LogService {\n\n    public byte[] obterLog() {\n\n        try {\n            InputStream inputStream = new ClassPathResource(&quot;spring.log&quot;).getInputStream();\n\n            byte[] log = FileCopyUtils.copyToByteArray(inputStream);\n\n            return log;\n\n        } catch (IOException e) {\n            throw new FileException(e.getMessage());\n        }\n    }\n```\nAnd the controller \n\n\n\n    @Autowired\n    private LogService logService;\n\n    @GetMapping\n    public ResponseEntity&lt;byte[]&gt; getLog() {\n        byte[] log = logService.obterLog();\n\n        return ResponseEntity.ok().body(log);\n    }\n\nBut I can only get the log on the second time that I run the application and the log file is on the target/classes folder.\n\nOn the first time that I run the application I get a exception:\n```\nClass path resource [spring.log] cannot be opened because it does not exist\n```\n\nWhy is this happening?","title":"Spring Boot Creating endpoint for download logs","body":"<p>I created an endpoint in spring boot to download logs of the application:</p>\n<pre><code>@Service\npublic class LogService {\n\n    public byte[] obterLog() {\n\n        try {\n            InputStream inputStream = new ClassPathResource(&quot;spring.log&quot;).getInputStream();\n\n            byte[] log = FileCopyUtils.copyToByteArray(inputStream);\n\n            return log;\n\n        } catch (IOException e) {\n            throw new FileException(e.getMessage());\n        }\n    }\n</code></pre>\n<p>And the controller</p>\n<pre><code>@Autowired\nprivate LogService logService;\n\n@GetMapping\npublic ResponseEntity&lt;byte[]&gt; getLog() {\n    byte[] log = logService.obterLog();\n\n    return ResponseEntity.ok().body(log);\n}\n</code></pre>\n<p>But I can only get the log on the second time that I run the application and the log file is on the target/classes folder.</p>\n<p>On the first time that I run the application I get a exception:</p>\n<pre><code>Class path resource [spring.log] cannot be opened because it does not exist\n</code></pre>\n<p>Why is this happening?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":23095038,"reputation":146,"user_id":17205307,"display_name":"Johannes"},"score":1,"creation_date":1649427638,"post_id":71796733,"comment_id":126880125,"body_markdown":"I&#39;m not sure that it is possible for in memory authentication.\nHowever all you would need is your own implementation of UserDetailsService which you would use in your config instead of the in memory authentication. There is a good article from [baeldung](https://www.baeldung.com/registration-with-spring-mvc-and-spring-security) regarding that + password encoding and user registration... which I used in the past","body":"I&#39;m not sure that it is possible for in memory authentication. However all you would need is your own implementation of UserDetailsService which you would use in your config instead of the in memory authentication. There is a good article from <a href=\"https://www.baeldung.com/registration-with-spring-mvc-and-spring-security\" rel=\"nofollow noreferrer\">baeldung</a> regarding that + password encoding and user registration... which I used in the past"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649879570,"creation_date":1649680707,"answer_id":71827993,"question_id":71796733,"body_markdown":"[InMemoryUserDetailsManager][1] implements [UserDetailsPasswordService][2] and [UserDetailsManager][3]. You can use either to change the password:\r\n\r\nFor `UserDetailsPasswordService` you can do:\r\n```\r\nprivate final UserDetailsPasswordService passwordService;\r\nprivate final PasswordEncoder passwordEncoder;\r\n\r\n@Autowired\r\npublic MyController(UserDetailsPasswordService passwordService, PasswordEncoder passwordEncoder) {\r\n    this.passwordService = passwordService;\r\n    this.passwordEncoder = passwordEncoder;\r\n}\r\n\r\n@PostMapping\r\npublic void update(@Valid @RequestBody SecurityDto dto) {\r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    Object principal = authentication.getPrincipal();\r\n    UserDetails userDetails;\r\n    if (principal instanceof UserDetails) {\r\n        userDetails = (UserDetails) principal;\r\n    } else {\r\n        userDetails = new User(authentication.getName(), &quot;&quot;, authentication.getAuthorities());\r\n    }\r\n    String newPass = dto.getApiKey();\r\n    String pass = this.passwordEncoder.encode(newPass);\r\n    this.passwordService.updatePassword(userDetails, pass);\r\n\r\n    securityService.save(dto.getApiKey());\r\n    SecurityContextHolder.clearContext();\r\n}\r\n```\r\nIf you don&#39;t use password encoder, just remove it, and manually prepend the `{noop}` prefix to the password. The important method is `updatePassword()`.\r\n\r\nYou can refer to this [question][4] for how to do it with `UserDetailsManager`. The method is `changePassword​()`.\r\n\r\n**Edit:** You can declare , and populate the bean with users manually in any `@Configuration` class:\r\n```\r\n@Bean\r\npublic InMemoryUserDetailsManager inMemoryUserDetailsManager() {\r\n  InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\r\n  String password = &quot;{noop}&quot; + this.securityService.getApiKey();\r\n  manager.createUser(new User(&quot;admin&quot;, password, Collections.singletonList(new SimpleGrantedAuthority(&quot;ADMIN&quot;))));\r\n  return manager;\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/provisioning/InMemoryUserDetailsManager.html\r\n  [2]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/userdetails/UserDetailsPasswordService.html\r\n  [3]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/provisioning/UserDetailsManager.html\r\n  [4]: https://stackoverflow.com/questions/68194572/how-to-reconfigure-springboots-in-memory-authentication-on-change-of-users-pas","title":"How to update the password in Spring SecurityContext?","body":"<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/provisioning/InMemoryUserDetailsManager.html\" rel=\"nofollow noreferrer\">InMemoryUserDetailsManager</a> implements <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/userdetails/UserDetailsPasswordService.html\" rel=\"nofollow noreferrer\">UserDetailsPasswordService</a> and <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/provisioning/UserDetailsManager.html\" rel=\"nofollow noreferrer\">UserDetailsManager</a>. You can use either to change the password:</p>\n<p>For <code>UserDetailsPasswordService</code> you can do:</p>\n<pre><code>private final UserDetailsPasswordService passwordService;\nprivate final PasswordEncoder passwordEncoder;\n\n@Autowired\npublic MyController(UserDetailsPasswordService passwordService, PasswordEncoder passwordEncoder) {\n    this.passwordService = passwordService;\n    this.passwordEncoder = passwordEncoder;\n}\n\n@PostMapping\npublic void update(@Valid @RequestBody SecurityDto dto) {\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    Object principal = authentication.getPrincipal();\n    UserDetails userDetails;\n    if (principal instanceof UserDetails) {\n        userDetails = (UserDetails) principal;\n    } else {\n        userDetails = new User(authentication.getName(), &quot;&quot;, authentication.getAuthorities());\n    }\n    String newPass = dto.getApiKey();\n    String pass = this.passwordEncoder.encode(newPass);\n    this.passwordService.updatePassword(userDetails, pass);\n\n    securityService.save(dto.getApiKey());\n    SecurityContextHolder.clearContext();\n}\n</code></pre>\n<p>If you don't use password encoder, just remove it, and manually prepend the <code>{noop}</code> prefix to the password. The important method is <code>updatePassword()</code>.</p>\n<p>You can refer to this <a href=\"https://stackoverflow.com/questions/68194572/how-to-reconfigure-springboots-in-memory-authentication-on-change-of-users-pas\">question</a> for how to do it with <code>UserDetailsManager</code>. The method is <code>changePassword​()</code>.</p>\n<p><strong>Edit:</strong> You can declare , and populate the bean with users manually in any <code>@Configuration</code> class:</p>\n<pre><code>@Bean\npublic InMemoryUserDetailsManager inMemoryUserDetailsManager() {\n  InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n  String password = &quot;{noop}&quot; + this.securityService.getApiKey();\n  manager.createUser(new User(&quot;admin&quot;, password, Collections.singletonList(new SimpleGrantedAuthority(&quot;ADMIN&quot;))));\n  return manager;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650265091,"creation_date":1650265091,"answer_id":71908564,"question_id":71796733,"body_markdown":"You can create an interceptor for your http calls and then get the UserContext from there; usually the principal object will have all the headers in a map available which you can use to get the key which you are looking for authentication\r\n\r\n````\r\n//Create a USER object where your updating the specific attributes\r\n    Optional&lt;User&gt; user = Optional.ofNullable(SecurityContextHolder.getContext())\r\n        .map(SecurityContext::getAuthentication) // can override to update the authentication ideally change your password here\r\n        .filter(Authentication::isAuthenticated)\r\n        .map(Authentication::getPrincipal)\r\n        .filter(DefaultOAuth2AuthenticatedPrincipal.class::isInstance)\r\n        .map(DefaultOAuth2AuthenticatedPrincipal.class::cast)\r\n        .map(principal -&gt; getUser(principal.getAttributes()));\r\n\r\n````","title":"How to update the password in Spring SecurityContext?","body":"<p>You can create an interceptor for your http calls and then get the UserContext from there; usually the principal object will have all the headers in a map available which you can use to get the key which you are looking for authentication</p>\n<pre><code>//Create a USER object where your updating the specific attributes\n    Optional&lt;User&gt; user = Optional.ofNullable(SecurityContextHolder.getContext())\n        .map(SecurityContext::getAuthentication) // can override to update the authentication ideally change your password here\n        .filter(Authentication::isAuthenticated)\n        .map(Authentication::getPrincipal)\n        .filter(DefaultOAuth2AuthenticatedPrincipal.class::isInstance)\n        .map(DefaultOAuth2AuthenticatedPrincipal.class::cast)\n        .map(principal -&gt; getUser(principal.getAttributes()));\n\n</code></pre>\n"}],"owner":{"account_id":1613111,"reputation":2349,"user_id":1491537,"accept_rate":42,"display_name":"kostepanych"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651225500,"creation_date":1649419647,"question_id":71796733,"body_markdown":"Using Spring Boot 2.6.4.\r\nHere is my SecurityConfig class:\r\n\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter\r\n    {\r\n      @Autowired\r\n      SecurityService securityService;\r\n\r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception\r\n      {\r\n        http.csrf().disable()\r\n        .authorizeRequests().anyRequest().authenticated()\r\n        .and()\r\n        .httpBasic();\r\n      }\r\n\r\n      @Autowired\r\n      public void configureGlobal(AuthenticationManagerBuilder auth)\r\n      throws Exception\r\n      {\r\n        auth.inMemoryAuthentication()\r\n        .withUser(&quot;admin&quot;)\r\n        .password(&quot;{noop}&quot;+securityService.getApiKey())\r\n        .roles(&quot;ADMIN&quot;);\r\n      }\r\n     }\r\nI&#39;m entering here only when starting application. How to get to the `configureGlobal` method after changing the password?\r\n\r\nHere is how I change my password in the @RestController class (just store it in DB):\r\n\r\n    @PostMapping\r\n    public void update(@Valid @RequestBody SecurityDto dto) {\r\n        securityService.save(dto.getApiKey());\r\n        SecurityContextHolder.clearContext();\r\n      }\r\n\r\nSo my old password remains valid until restarting the application. Thats because I get to the SecurityConfig.configureGlobal method only when application starts. \r\nSo how to change the password properly?\r\n\r\n**UPDATE:**\r\nResolved by implementing own UserDetailsService and using it instead of inMemoryAuthentication\r\n\r\n    auth.userDetailsService(userDetailsService);\r\n\r\n","title":"How to update the password in Spring SecurityContext?","body":"<p>Using Spring Boot 2.6.4.\nHere is my SecurityConfig class:</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter\n{\n  @Autowired\n  SecurityService securityService;\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception\n  {\n    http.csrf().disable()\n    .authorizeRequests().anyRequest().authenticated()\n    .and()\n    .httpBasic();\n  }\n\n  @Autowired\n  public void configureGlobal(AuthenticationManagerBuilder auth)\n  throws Exception\n  {\n    auth.inMemoryAuthentication()\n    .withUser(&quot;admin&quot;)\n    .password(&quot;{noop}&quot;+securityService.getApiKey())\n    .roles(&quot;ADMIN&quot;);\n  }\n }\n</code></pre>\n<p>I'm entering here only when starting application. How to get to the <code>configureGlobal</code> method after changing the password?</p>\n<p>Here is how I change my password in the @RestController class (just store it in DB):</p>\n<pre><code>@PostMapping\npublic void update(@Valid @RequestBody SecurityDto dto) {\n    securityService.save(dto.getApiKey());\n    SecurityContextHolder.clearContext();\n  }\n</code></pre>\n<p>So my old password remains valid until restarting the application. Thats because I get to the SecurityConfig.configureGlobal method only when application starts.\nSo how to change the password properly?</p>\n<p><strong>UPDATE:</strong>\nResolved by implementing own UserDetailsService and using it instead of inMemoryAuthentication</p>\n<pre><code>auth.userDetailsService(userDetailsService);\n</code></pre>\n"},{"tags":["java","json","rest-assured","serenity-bdd","gpath"],"comments":[{"owner":{"account_id":18969236,"reputation":526,"user_id":13843087,"display_name":"Lia"},"score":0,"creation_date":1617464595,"post_id":66883727,"comment_id":118313401,"body_markdown":"Doesn&#39;t your `body(&quot;events&quot;)` return you a list of events? Try to iterate them first and reach `status` for each event after.","body":"Doesn&#39;t your <code>body(&quot;events&quot;)</code> return you a list of events? Try to iterate them first and reach <code>status</code> for each event after."}],"answers":[{"tags":[],"owner":{"account_id":10445532,"reputation":51,"user_id":7700689,"display_name":"Joe Phan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617778244,"creation_date":1617778244,"answer_id":66980910,"question_id":66883727,"body_markdown":"I think you should store UUID as a variable, and change your locator from your response. \r\n\r\n    response.getBody().jsonPath().get(&quot;events.&quot;+yourUUID+&quot;.status&quot;);","title":"Getting the value from the response element using GPath and Rest Assured","body":"<p>I think you should store UUID as a variable, and change your locator from your response.</p>\n<pre><code>response.getBody().jsonPath().get(&quot;events.&quot;+yourUUID+&quot;.status&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":271557,"reputation":12418,"user_id":562154,"accept_rate":75,"display_name":"Xiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651225249,"creation_date":1651218102,"answer_id":72054404,"question_id":66883727,"body_markdown":"Groovy JsonSlurper does not support `*` `breadthFirst()` or `**` `depthFirst()` tokens.\r\n\r\nYou could use below one to get the String result:\r\n\r\n```java    \r\nresponse.getBody().jsonPath().get(&quot;events.collect{it.value.status}.find()&quot;);\r\n// would return &quot;BOOKING_OPEN&quot;\r\n```\r\n\r\n\r\nor below one to get a List result:\r\n\r\n```java\r\nresponse.getBody().jsonPath().get(&quot;events.collect{it.value.status}&quot;);\r\n//would return [&quot;BOOKING_OPEN&quot;]\r\n```","title":"Getting the value from the response element using GPath and Rest Assured","body":"<p>Groovy JsonSlurper does not support <code>*</code> <code>breadthFirst()</code> or <code>**</code> <code>depthFirst()</code> tokens.</p>\n<p>You could use below one to get the String result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>response.getBody().jsonPath().get(&quot;events.collect{it.value.status}.find()&quot;);\n// would return &quot;BOOKING_OPEN&quot;\n</code></pre>\n<p>or below one to get a List result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>response.getBody().jsonPath().get(&quot;events.collect{it.value.status}&quot;);\n//would return [&quot;BOOKING_OPEN&quot;]\n</code></pre>\n"}],"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66980910,"answer_count":2,"score":1,"last_activity_date":1651225249,"creation_date":1617176949,"question_id":66883727,"body_markdown":"I want to get the value of `status` from my response. So that i can assert it. I&#39;m using rest assured with java &amp; serenity BDD.\r\n\r\n**Response**\r\n\r\n    {\r\n        &quot;locationType&quot;: &quot;STORE&quot;,\r\n        &quot;locationId&quot;: &quot;0003&quot;,\r\n        &quot;events&quot;: {\r\n            &quot;66e326db-fbfb-4f6e-9d2b-9425e7test5&quot;: {\r\n                &quot;status&quot;: &quot;BOOKING_OPEN&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nSo, here the `event id (66e326db-fbfb-4f6e-9d2b-9425e7test5)` is dynamic, which means for each run this UUID will get change.\r\n\r\n**Code**\r\n\r\n    Response response = SerenityRest.lastResponse();\r\n    \t\tfinal ValidatableResponse validatableResponse = response.then();\r\n    \t\tvalidatableResponse.assertThat().body(&quot;events.*.status&quot;, containsString(expectedResponse));\r\n\r\nWhen i run this, i&#39;m getting **Unrecognized Exception** from serenity BDD. I think, that there is some issue in traversing in JSON. &lt;br&gt;\r\nCan someone please help me on getting the value of status here? So in this case, i&#39;m looking for \r\n**BOOKING_OPEN**\r\n\r\n","title":"Getting the value from the response element using GPath and Rest Assured","body":"<p>I want to get the value of <code>status</code> from my response. So that i can assert it. I'm using rest assured with java &amp; serenity BDD.</p>\n<p><strong>Response</strong></p>\n<pre><code>{\n    &quot;locationType&quot;: &quot;STORE&quot;,\n    &quot;locationId&quot;: &quot;0003&quot;,\n    &quot;events&quot;: {\n        &quot;66e326db-fbfb-4f6e-9d2b-9425e7test5&quot;: {\n            &quot;status&quot;: &quot;BOOKING_OPEN&quot;\n        }\n    }\n}\n</code></pre>\n<p>So, here the <code>event id (66e326db-fbfb-4f6e-9d2b-9425e7test5)</code> is dynamic, which means for each run this UUID will get change.</p>\n<p><strong>Code</strong></p>\n<pre><code>Response response = SerenityRest.lastResponse();\n        final ValidatableResponse validatableResponse = response.then();\n        validatableResponse.assertThat().body(&quot;events.*.status&quot;, containsString(expectedResponse));\n</code></pre>\n<p>When i run this, i'm getting <strong>Unrecognized Exception</strong> from serenity BDD. I think, that there is some issue in traversing in JSON. <br>\nCan someone please help me on getting the value of status here? So in this case, i'm looking for\n<strong>BOOKING_OPEN</strong></p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":8302543,"reputation":1,"user_id":6240744,"display_name":"NMP263"},"score":0,"creation_date":1651152392,"post_id":72044349,"comment_id":127318506,"body_markdown":"Please take a look at this link from the official documentation. It will assist you. The code is only working on refresh or restart because you do not have an event listener for firestore. https://firebase.google.com/docs/firestore/query-data/listen#java","body":"Please take a look at this link from the official documentation. It will assist you. The code is only working on refresh or restart because you do not have an event listener for firestore. <a href=\"https://firebase.google.com/docs/firestore/query-data/listen#java\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/query-data/listen#java</a>"},{"owner":{"account_id":152400,"reputation":240438,"user_id":366904,"accept_rate":82,"display_name":"Cody Gray - on strike"},"score":0,"creation_date":1651225124,"post_id":72044349,"comment_id":127318504,"body_markdown":"Do not vandalize your posts. By posting on this site, you&#39;ve irrevocably granted the Stack Exchange network the right to distribute that content under the [CC BY-SA 4.0 license](//creativecommons.org/licenses/by-sa/4.0/) for as long as it sees fit to do so. For alternatives to deletion, see: [I&#39;ve thought better of my question; can I delete it?](https://stackoverflow.com/help/what-to-do-instead-of-deleting-question)","body":"Do not vandalize your posts. By posting on this site, you&#39;ve irrevocably granted the Stack Exchange network the right to distribute that content under the <a href=\"//creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a> for as long as it sees fit to do so. For alternatives to deletion, see: <a href=\"https://stackoverflow.com/help/what-to-do-instead-of-deleting-question\">I&#39;ve thought better of my question; can I delete it?</a>"}],"owner":{"account_id":14530020,"reputation":1,"user_id":10495227,"display_name":"Nadeem Ahmad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1651152586,"answer_count":0,"score":-3,"last_activity_date":1651225116,"creation_date":1651151670,"question_id":72044349,"body_markdown":"this code isn&#39;t working in **real-time**.. it works only whenever I restart/refresh the app. I am using Cloud **Firestore**. plzz change code am noob help me. &amp; sorry For My bad English\r\n\r\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n \r\n    \r\n   \r\n\r\n     public class Category_List_Activity extends BaseActivity {\r\n        \r\n            List&lt;CardModel&gt; list = new ArrayList&lt;&gt;();\r\n            RecyclerView recyclerView;\r\n            RecyclerAdapter adapter;\r\n            android.app.AlertDialog dialog;\r\n            private static final String TAG = &quot;CategoryListActivity&quot;;\r\n            FirebaseFirestore db;\r\n            String name, id,node,lastid,time;\r\n            boolean islast;\r\n            SessionManager sessionManager;\r\n            LinearLayout banner;\r\n            private InterstitialAd interstitial;\r\n            TextView settitel;\r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.category_list);\r\n                FirebaseApp.initializeApp(this);\r\n                db = FirebaseFirestore.getInstance();\r\n                Bundle bundle = getIntent().getExtras();\r\n                banner = findViewById(R.id.banner_bottom_main);\r\n                sessionManager=new SessionManager(this);\r\n                getWindow().setFlags(WindowManager.LayoutParams.FLAG_SECURE, WindowManager.LayoutParams.FLAG_SECURE);\r\n        \r\n                StartAppAd.showAd(this);\r\n        \r\n                new AdsHelper().createBanner(this, banner, sessionManager.getBanner());\r\n        \r\n                if (bundle != null) {\r\n                    name = bundle.getString(&quot;name&quot;);\r\n                    id = bundle.getString(&quot;id&quot;);\r\n                    lastid = bundle.getString(&quot;lastid&quot;);\r\n                    node=bundle.getString(&quot;node&quot;);\r\n                    islast=bundle.getBoolean(&quot;islast&quot;);\r\n                }\r\n        ///////////////////////////Action bar custiom//////////////////////////////////////////\r\n                ImageView imgFavorite = (ImageView) findViewById(R.id.previous);\r\n                imgFavorite.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        onBackPressed();\r\n                    }\r\n                });\r\n        \r\n                ImageView imgFavorsite = (ImageView) findViewById(R.id.refrashing);\r\n                imgFavorsite.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        getData();\r\n                    }\r\n                });\r\n        \r\n        \r\n                settitel = findViewById(R.id.event_name);\r\n                settitel.setText(name);\r\n        ///////////////////////Action bar custiom end///////////////////////\r\n        \r\n        \r\n                recyclerView = findViewById(R.id.rec);\r\n                adapter = new RecyclerAdapter(list, this);\r\n                recyclerView.setHasFixedSize(true);\r\n                AutoFitGridLayoutManager layoutManager = new AutoFitGridLayoutManager(this, 10000);\r\n                recyclerView.setLayoutManager(layoutManager);\r\n        //        recyclerView.setLayoutManager(new GridLayoutManager(this,1));\r\n        \r\n                recyclerView.setAdapter(adapter);\r\n        \r\n        \r\n                getData();\r\n        \r\n                if(isCastApiAvailable()) {\r\n                    castContext = CastContext.getSharedInstance(this);\r\n                    if (castContext.getCastState() == CastState.CONNECTED) {\r\n                        findViewById(R.id.castMiniController).setVisibility(View.VISIBLE);\r\n                    }else{\r\n                        findViewById(R.id.castMiniController).setVisibility(View.GONE);\r\n                    }\r\n                }else{\r\n                    findViewById(R.id.castMiniController).setVisibility(View.GONE);\r\n                }\r\n        \r\n        \r\n        \r\n            }\r\n        \r\n            CastContext castContext;\r\n        \r\n        \r\n            @Override\r\n            protected void onResume() {\r\n                super.onResume();\r\n        \r\n                try {\r\n                    if (HelperClass.vpn(this)) {\r\n                        finish();\r\n                    }\r\n                }catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n            }\r\n        \r\n        \r\n        \r\n            @Override\r\n            public boolean onCreateOptionsMenu(@NonNull Menu menu) {\r\n                // Inflate the menu; this adds items to the action bar if it is present.\r\n                getMenuInflater().inflate(R.menu.main, menu);\r\n                return true;\r\n            }\r\n        \r\n        \r\n            @Override\r\n            public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n                if(item.getItemId() == R.id.refrish){\r\n                    getData();\r\n                    return true;\r\n                }\r\n        \r\n                else if (item.getItemId() == android.R.id.home) {\r\n                    onBackPressed();\r\n                }\r\n        \r\n                return super.onOptionsItemSelected(item);\r\n            }\r\n        \r\n        \r\n        //    @Override\r\n        //    public boolean onOptionsItemSelected(MenuItem item) {\r\n        //\r\n        //        if (item.getItemId() == android.R.id.home) {\r\n        //            onBackPressed();\r\n        //        }\r\n        //\r\n        //        return true;\r\n        //    }\r\n        \r\n            //////////////////sports diglo start///////////////\r\n            @Override\r\n            public void onDestroy() {\r\n                dismissProgressDialog();\r\n                super.onDestroy();\r\n            }\r\n            private void showProgressDialog() {\r\n                if (dialog == null) {\r\n                    dialog = new SpotsDialog.Builder().setContext(this).build();\r\n                    dialog.setMessage(&quot;Please wait...&quot;);\r\n                    dialog.setCancelable(false);\r\n                }\r\n                dialog.show();\r\n            }\r\n        \r\n            private void dismissProgressDialog() {\r\n                if (dialog != null &amp;&amp; dialog.isShowing()) {\r\n                    dialog.dismiss();\r\n                }\r\n            }\r\n        //////////////////sports diglo end///////////////\r\n        \r\n        \r\n        \r\n        \r\n            private void getData() {\r\n                showProgressDialog();\r\n                Query query;\r\n                if (islast) {\r\n                    query = db.collection(node)\r\n                            .document(lastid)\r\n                            .collection(&quot;list&quot;)\r\n                            .document(id)\r\n                            .collection(&quot;list&quot;);\r\n                } else {\r\n                    query = db.collection(node)\r\n                            .document(id)\r\n                            .collection(&quot;list&quot;);\r\n                }\r\n        \r\n                query.get()\r\n                        .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                                dismissProgressDialog();\r\n                                if (task.isSuccessful()) {\r\n        \r\n                                    list.clear();\r\n                                    int i = 0;\r\n                                    boolean match = false;\r\n                                    try {\r\n                                        for (DocumentSnapshot snapshot : task.getResult().getDocuments()) {\r\n                                            CardModel mainModel = snapshot.toObject(CardModel.class);\r\n                                            mainModel.setId(snapshot.getId());\r\n                                            if (mainModel.enable) {\r\n                                                boolean onOff=mainModel.cOnOff;\r\n                                                if (mainModel.countries != null\r\n                                                        &amp;&amp; mainModel.countries.size() &gt; 0) {\r\n                                                    if (!sessionManager.getLocation().isEmpty()) {\r\n                                                        if(onOff) {\r\n                                                            if (mainModel.countries.contains(sessionManager.getLocation())) {\r\n                                                                match = true;\r\n                                                                list.add(mainModel);\r\n                                                            } else {\r\n                                                                list.remove(mainModel);\r\n                                                            }\r\n        \r\n                                                        }else{\r\n                                                            if (mainModel.countries.contains(sessionManager.getLocation())) {\r\n                                                                match = true;\r\n                                                                list.remove(mainModel);\r\n                                                            } else {\r\n                                                                list.add(mainModel);\r\n                                                            }\r\n                                                        }\r\n                                                    } else {\r\n                                                        list.add(mainModel);\r\n                                                    }\r\n                                                } else {\r\n                                                    list.add(mainModel);\r\n                                                }\r\n                                            } else {\r\n                                                list.remove(mainModel);\r\n                                            }\r\n                                            Log.d(&quot;view imgs&quot;, &quot;data is &quot; + mainModel.toString());\r\n        \r\n                                        }\r\n                                    } catch (Exception e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n                                    adapter.notifyDataSetChanged();\r\n        \r\n                                }\r\n                                adapter.notifyDataSetChanged();\r\n                                dismissProgressDialog();\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                              dismissProgressDialog();\r\n                                Toast.makeText(Category_List_Activity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        })\r\n                ;\r\n            }\r\n        \r\n        }\r\n\r\n\r\n\r\n","title":"why this code isn&#39;t working in real-time pleace cheack this code","body":"<p>this code isn't working in <strong>real-time</strong>.. it works only whenever I restart/refresh the app. I am using Cloud <strong>Firestore</strong>. plzz change code am noob help me. &amp; sorry For My bad English</p>\n<p>/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p>\n<pre><code> public class Category_List_Activity extends BaseActivity {\n    \n        List&lt;CardModel&gt; list = new ArrayList&lt;&gt;();\n        RecyclerView recyclerView;\n        RecyclerAdapter adapter;\n        android.app.AlertDialog dialog;\n        private static final String TAG = &quot;CategoryListActivity&quot;;\n        FirebaseFirestore db;\n        String name, id,node,lastid,time;\n        boolean islast;\n        SessionManager sessionManager;\n        LinearLayout banner;\n        private InterstitialAd interstitial;\n        TextView settitel;\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.category_list);\n            FirebaseApp.initializeApp(this);\n            db = FirebaseFirestore.getInstance();\n            Bundle bundle = getIntent().getExtras();\n            banner = findViewById(R.id.banner_bottom_main);\n            sessionManager=new SessionManager(this);\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_SECURE, WindowManager.LayoutParams.FLAG_SECURE);\n    \n            StartAppAd.showAd(this);\n    \n            new AdsHelper().createBanner(this, banner, sessionManager.getBanner());\n    \n            if (bundle != null) {\n                name = bundle.getString(&quot;name&quot;);\n                id = bundle.getString(&quot;id&quot;);\n                lastid = bundle.getString(&quot;lastid&quot;);\n                node=bundle.getString(&quot;node&quot;);\n                islast=bundle.getBoolean(&quot;islast&quot;);\n            }\n    ///////////////////////////Action bar custiom//////////////////////////////////////////\n            ImageView imgFavorite = (ImageView) findViewById(R.id.previous);\n            imgFavorite.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    onBackPressed();\n                }\n            });\n    \n            ImageView imgFavorsite = (ImageView) findViewById(R.id.refrashing);\n            imgFavorsite.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    getData();\n                }\n            });\n    \n    \n            settitel = findViewById(R.id.event_name);\n            settitel.setText(name);\n    ///////////////////////Action bar custiom end///////////////////////\n    \n    \n            recyclerView = findViewById(R.id.rec);\n            adapter = new RecyclerAdapter(list, this);\n            recyclerView.setHasFixedSize(true);\n            AutoFitGridLayoutManager layoutManager = new AutoFitGridLayoutManager(this, 10000);\n            recyclerView.setLayoutManager(layoutManager);\n    //        recyclerView.setLayoutManager(new GridLayoutManager(this,1));\n    \n            recyclerView.setAdapter(adapter);\n    \n    \n            getData();\n    \n            if(isCastApiAvailable()) {\n                castContext = CastContext.getSharedInstance(this);\n                if (castContext.getCastState() == CastState.CONNECTED) {\n                    findViewById(R.id.castMiniController).setVisibility(View.VISIBLE);\n                }else{\n                    findViewById(R.id.castMiniController).setVisibility(View.GONE);\n                }\n            }else{\n                findViewById(R.id.castMiniController).setVisibility(View.GONE);\n            }\n    \n    \n    \n        }\n    \n        CastContext castContext;\n    \n    \n        @Override\n        protected void onResume() {\n            super.onResume();\n    \n            try {\n                if (HelperClass.vpn(this)) {\n                    finish();\n                }\n            }catch (Exception e){\n                e.printStackTrace();\n            }\n    \n        }\n    \n    \n    \n        @Override\n        public boolean onCreateOptionsMenu(@NonNull Menu menu) {\n            // Inflate the menu; this adds items to the action bar if it is present.\n            getMenuInflater().inflate(R.menu.main, menu);\n            return true;\n        }\n    \n    \n        @Override\n        public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n            if(item.getItemId() == R.id.refrish){\n                getData();\n                return true;\n            }\n    \n            else if (item.getItemId() == android.R.id.home) {\n                onBackPressed();\n            }\n    \n            return super.onOptionsItemSelected(item);\n        }\n    \n    \n    //    @Override\n    //    public boolean onOptionsItemSelected(MenuItem item) {\n    //\n    //        if (item.getItemId() == android.R.id.home) {\n    //            onBackPressed();\n    //        }\n    //\n    //        return true;\n    //    }\n    \n        //////////////////sports diglo start///////////////\n        @Override\n        public void onDestroy() {\n            dismissProgressDialog();\n            super.onDestroy();\n        }\n        private void showProgressDialog() {\n            if (dialog == null) {\n                dialog = new SpotsDialog.Builder().setContext(this).build();\n                dialog.setMessage(&quot;Please wait...&quot;);\n                dialog.setCancelable(false);\n            }\n            dialog.show();\n        }\n    \n        private void dismissProgressDialog() {\n            if (dialog != null &amp;&amp; dialog.isShowing()) {\n                dialog.dismiss();\n            }\n        }\n    //////////////////sports diglo end///////////////\n    \n    \n    \n    \n        private void getData() {\n            showProgressDialog();\n            Query query;\n            if (islast) {\n                query = db.collection(node)\n                        .document(lastid)\n                        .collection(&quot;list&quot;)\n                        .document(id)\n                        .collection(&quot;list&quot;);\n            } else {\n                query = db.collection(node)\n                        .document(id)\n                        .collection(&quot;list&quot;);\n            }\n    \n            query.get()\n                    .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                            dismissProgressDialog();\n                            if (task.isSuccessful()) {\n    \n                                list.clear();\n                                int i = 0;\n                                boolean match = false;\n                                try {\n                                    for (DocumentSnapshot snapshot : task.getResult().getDocuments()) {\n                                        CardModel mainModel = snapshot.toObject(CardModel.class);\n                                        mainModel.setId(snapshot.getId());\n                                        if (mainModel.enable) {\n                                            boolean onOff=mainModel.cOnOff;\n                                            if (mainModel.countries != null\n                                                    &amp;&amp; mainModel.countries.size() &gt; 0) {\n                                                if (!sessionManager.getLocation().isEmpty()) {\n                                                    if(onOff) {\n                                                        if (mainModel.countries.contains(sessionManager.getLocation())) {\n                                                            match = true;\n                                                            list.add(mainModel);\n                                                        } else {\n                                                            list.remove(mainModel);\n                                                        }\n    \n                                                    }else{\n                                                        if (mainModel.countries.contains(sessionManager.getLocation())) {\n                                                            match = true;\n                                                            list.remove(mainModel);\n                                                        } else {\n                                                            list.add(mainModel);\n                                                        }\n                                                    }\n                                                } else {\n                                                    list.add(mainModel);\n                                                }\n                                            } else {\n                                                list.add(mainModel);\n                                            }\n                                        } else {\n                                            list.remove(mainModel);\n                                        }\n                                        Log.d(&quot;view imgs&quot;, &quot;data is &quot; + mainModel.toString());\n    \n                                    }\n                                } catch (Exception e) {\n                                    e.printStackTrace();\n                                }\n                                adapter.notifyDataSetChanged();\n    \n                            }\n                            adapter.notifyDataSetChanged();\n                            dismissProgressDialog();\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                          dismissProgressDialog();\n                            Toast.makeText(Category_List_Activity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    })\n            ;\n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":381789,"reputation":814,"user_id":736643,"accept_rate":71,"display_name":"Desenfoque"},"score":0,"creation_date":1434482785,"post_id":30875148,"comment_id":49794025,"body_markdown":"I doesn&#39;t matter. I&#39;m not using it in this case.","body":"I doesn&#39;t matter. I&#39;m not using it in this case."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1434484993,"post_id":30875148,"comment_id":49795210,"body_markdown":"Have you had a look if there is something in the header?","body":"Have you had a look if there is something in the header?"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1434519461,"post_id":30875148,"comment_id":49806704,"body_markdown":"If URI is using the Camel file component, then various file information is stored as headers, also the relative and absolute path, file size, etc.","body":"If URI is using the Camel file component, then various file information is stored as headers, also the relative and absolute path, file size, etc."}],"answers":[{"tags":[],"owner":{"account_id":6459931,"reputation":541,"user_id":5004120,"display_name":"ingrid.e"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578531414,"creation_date":1434491528,"answer_id":30878906,"question_id":30875148,"body_markdown":"Get the file: \r\n\r\n    ClassLoader classLoader = getClass().getClassLoader();\r\n    File file = new File(classLoader.getResource(&quot;llave.txt&quot;).getFile());\r\nGet the path:\r\n\r\n    //full path ( including the file ) \r\n    String absolutePath = file.getAbsolutePath();\r\n    // path only\r\n    String filePath = absolutePath.\r\n        substring(0, absolutePath.lastIndexOf(File.separator));","title":"Get file name (with path) from resources","body":"<p>Get the file: </p>\n\n<pre><code>ClassLoader classLoader = getClass().getClassLoader();\nFile file = new File(classLoader.getResource(\"llave.txt\").getFile());\n</code></pre>\n\n<p>Get the path:</p>\n\n<pre><code>//full path ( including the file ) \nString absolutePath = file.getAbsolutePath();\n// path only\nString filePath = absolutePath.\n    substring(0, absolutePath.lastIndexOf(File.separator));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2913002,"reputation":790,"user_id":2496830,"accept_rate":67,"display_name":"Ramin Arabbagheri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434578190,"creation_date":1434578190,"answer_id":30903105,"question_id":30875148,"body_markdown":"You can access the path using the headers that Camel sets after calling the File component:\r\n\r\n    from(URI)\r\n     .log(&quot;$simple{headers.CamelFileAbsolutePath}&quot;)\r\n\r\nYou can read more about the File component here:\r\nhttp://camel.apache.org/file2.html","title":"Get file name (with path) from resources","body":"<p>You can access the path using the headers that Camel sets after calling the File component:</p>\n\n<pre><code>from(URI)\n .log(\"$simple{headers.CamelFileAbsolutePath}\")\n</code></pre>\n\n<p>You can read more about the File component here:\n<a href=\"http://camel.apache.org/file2.html\" rel=\"nofollow\">http://camel.apache.org/file2.html</a></p>\n"},{"tags":[],"owner":{"account_id":7381582,"reputation":1,"user_id":5618103,"display_name":"Blubber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651225113,"creation_date":1651225113,"answer_id":72055890,"question_id":30875148,"body_markdown":"With [java.nio][1] you can get the full path:\r\n\r\n    String fullPath = Paths.get(getClass().getResource(&quot;llave.txt&quot;).toURI()).toString();\r\n\r\nAnd the file name:\r\n    \r\n    String fileName = Paths.get(getClass().getResource(&quot;llave.txt&quot;).toURI()).getFileName();\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/package-summary.html","title":"Get file name (with path) from resources","body":"<p>With <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/package-summary.html\" rel=\"nofollow noreferrer\">java.nio</a> you can get the full path:</p>\n<pre><code>String fullPath = Paths.get(getClass().getResource(&quot;llave.txt&quot;).toURI()).toString();\n</code></pre>\n<p>And the file name:</p>\n<pre><code>String fileName = Paths.get(getClass().getResource(&quot;llave.txt&quot;).toURI()).getFileName();\n</code></pre>\n"}],"owner":{"account_id":381789,"reputation":814,"user_id":736643,"accept_rate":71,"display_name":"Desenfoque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7811,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1651225113,"creation_date":1434478509,"question_id":30875148,"body_markdown":"I&#39;m using camel to create some routes.\r\n\r\nI have a file in the resources folder and I only want the file path + name. Not the content.\r\n\r\nWhen I use:\r\n\r\n    from(URI)\r\n     .log(&quot;resource:classpath:llave.txt&quot;)\r\n\r\nI got the content of llave.txt but I need something like \r\n\r\n&gt; C:\\something\\llave.txt\r\n\r\n\r\nThanks!!\r\n\r\nEdit for clarity: I do not need the file information from a **File endpoint** (also, is easy get that info using file language or the exchange&#39;s header).\r\n\r\nI need the info of a file located in the **resource folder** in the project.\r\n\r\n","title":"Get file name (with path) from resources","body":"<p>I'm using camel to create some routes.</p>\n\n<p>I have a file in the resources folder and I only want the file path + name. Not the content.</p>\n\n<p>When I use:</p>\n\n<pre><code>from(URI)\n .log(\"resource:classpath:llave.txt\")\n</code></pre>\n\n<p>I got the content of llave.txt but I need something like </p>\n\n<blockquote>\n  <p>C:\\something\\llave.txt</p>\n</blockquote>\n\n<p>Thanks!!</p>\n\n<p>Edit for clarity: I do not need the file information from a <strong>File endpoint</strong> (also, is easy get that info using file language or the exchange's header).</p>\n\n<p>I need the info of a file located in the <strong>resource folder</strong> in the project.</p>\n"},{"tags":["java","sockets","inputstream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1651226700,"post_id":72055634,"comment_id":127319073,"body_markdown":"As folks have said, using the same streams twice for different purposes is going to give you problems. You could try using a different port for each","body":"As folks have said, using the same streams twice for different purposes is going to give you problems. You could try using a different port for each"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651225089,"creation_date":1651224729,"answer_id":72055809,"question_id":72055634,"body_markdown":"You are using both `connection.getInputStream()` **and** `connection.getOutputStream()` in two different ways. You should use *one* and only *one* way of reading from and writing to streams, don&#39;t mix multiple ways. \r\n\r\nWhen you execute `reader.readLine()`, the `BufferedReader` called `reader` will read up-to 8192 characters from the input stream into its buffer, likely consuming all bytes your client has written. This means that when you construct your `DataInputStream` around that same input stream and try to read it, there is no data available to read, causing the `receiver.read()` to block waiting for data. That data is never received as your client has sent all its data, which is now buffered in `reader`.\r\n\r\nIn addition, unless your client has closed its output stream, [`InputStream.readAllBytes()`][1] will block indefinitely anyway, because it is only finished when the end-of-stream has been reached. And for socket communication, that only happens when the other side closed its output stream.\r\n\r\nChange your code so there is only one way of writing data (though not relevant here), and one way of reading data. In addition, you should establish clearly how you need to read and write data in a protocol, so to avoid consuming too much data at the wrong point, and to know how much data you need to read when.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html#readAllBytes()","title":"DataInputStream stuck when initialized","body":"<p>You are using both <code>connection.getInputStream()</code> <strong>and</strong> <code>connection.getOutputStream()</code> in two different ways. You should use <em>one</em> and only <em>one</em> way of reading from and writing to streams, don't mix multiple ways.</p>\n<p>When you execute <code>reader.readLine()</code>, the <code>BufferedReader</code> called <code>reader</code> will read up-to 8192 characters from the input stream into its buffer, likely consuming all bytes your client has written. This means that when you construct your <code>DataInputStream</code> around that same input stream and try to read it, there is no data available to read, causing the <code>receiver.read()</code> to block waiting for data. That data is never received as your client has sent all its data, which is now buffered in <code>reader</code>.</p>\n<p>In addition, unless your client has closed its output stream, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html#readAllBytes()\" rel=\"nofollow noreferrer\"><code>InputStream.readAllBytes()</code></a> will block indefinitely anyway, because it is only finished when the end-of-stream has been reached. And for socket communication, that only happens when the other side closed its output stream.</p>\n<p>Change your code so there is only one way of writing data (though not relevant here), and one way of reading data. In addition, you should establish clearly how you need to read and write data in a protocol, so to avoid consuming too much data at the wrong point, and to know how much data you need to read when.</p>\n"},{"tags":[],"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651224750,"creation_date":1651224750,"answer_id":72055814,"question_id":72055634,"body_markdown":"Of course it does nothing but wait as specified in the [javadoc](https://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html#read(byte[])) a call to `DataInputStream#read()` blocks the current thread until data can be read from the input stream.\r\n\r\nYour `reader = BufferedReader(...)` uses the same underlying InputStream which means the all the data the client sent is most likely already consumed by  the &#39;login&#39; logic.\r\n\r\nSince neither the client nor the server close their respective streams no EOF is emitted either which leads to the stream &#39;just dangling&#39; around waiting for more data.\r\n\r\nUnless your client sends more data the server will wait eternally.\r\n\r\nThere are two solutions for your issue.\r\nEither thread you application so that the &#39;await input&#39; logic is in it&#39;s own thread or take a look at javas [NIO package](https://www.baeldung.com/java-io-vs-nio) (more precisely Channels and Selectors)","title":"DataInputStream stuck when initialized","body":"<p>Of course it does nothing but wait as specified in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/DataInputStream.html#read(byte%5B%5D)\" rel=\"nofollow noreferrer\">javadoc</a> a call to <code>DataInputStream#read()</code> blocks the current thread until data can be read from the input stream.</p>\n<p>Your <code>reader = BufferedReader(...)</code> uses the same underlying InputStream which means the all the data the client sent is most likely already consumed by  the 'login' logic.</p>\n<p>Since neither the client nor the server close their respective streams no EOF is emitted either which leads to the stream 'just dangling' around waiting for more data.</p>\n<p>Unless your client sends more data the server will wait eternally.</p>\n<p>There are two solutions for your issue.\nEither thread you application so that the 'await input' logic is in it's own thread or take a look at javas <a href=\"https://www.baeldung.com/java-io-vs-nio\" rel=\"nofollow noreferrer\">NIO package</a> (more precisely Channels and Selectors)</p>\n"}],"owner":{"account_id":22740783,"reputation":15,"user_id":16902311,"display_name":"MarkoPlazmer8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72055809,"answer_count":2,"score":1,"last_activity_date":1651225089,"creation_date":1651223852,"question_id":72055634,"body_markdown":"I have been trying to send a byte[] array across my client / server application using Sockets, DataInputStream and DataOutputStream, but on the server side, the program just gets stuck when I try to initialise the DataInputStream.\r\n\r\nHere is the code on the client side (it works fine):\r\n\r\n\tDataOutputStream datas = new DataOutputStream(connection.getOutputStream());\r\n\tdatas.flush();\r\n\tbyte[] send = identityKeyPair.serialize();\r\n\tdatas.write(send);\r\n\tdatas.flush();\r\n\r\nHere is the code on the server side:\r\n\r\n    reader = new BufferedReader(new InputStreamReader(connection.getInputStream()) );\r\n    \r\n    sender = new PrintWriter(connection.getOutputStream());\r\n    \r\n    \r\n    newUser = new BasicUserData();\r\n\t\r\n\tSystem.out.println(&quot;New registration from: &quot; + connection.getInetAddress());\r\n\tSystem.out.println(&quot;Data:&quot;);\r\n\t\r\n    String un = reader.readLine();\r\n    newUser.USERNAME = un;\r\n    System.out.println(newUser.USERNAME);\r\n    String pw = reader.readLine();\r\n    newUser.PASSWORD = pw;\r\n    System.out.println(newUser.PASSWORD);\r\n\t\r\n    DataOutputStream dataout = new DataOutputStream(connection.getOutputStream());\r\n    System.out.println(&quot;Opened data output stream&quot;);\r\n    DataInputStream receiver = new DataInputStream(connection.getInputStream());\r\n    //It gets stuck here, and the program doesn&#39;t read anything further\r\n    receiver.read();\r\n    byte[] id = receiver.readAllBytes();\r\n                \r\n    System.out.println(&quot;Opened data input stream&quot;);\r\n\r\n","title":"DataInputStream stuck when initialized","body":"<p>I have been trying to send a byte[] array across my client / server application using Sockets, DataInputStream and DataOutputStream, but on the server side, the program just gets stuck when I try to initialise the DataInputStream.</p>\n<p>Here is the code on the client side (it works fine):</p>\n<pre><code>DataOutputStream datas = new DataOutputStream(connection.getOutputStream());\ndatas.flush();\nbyte[] send = identityKeyPair.serialize();\ndatas.write(send);\ndatas.flush();\n</code></pre>\n<p>Here is the code on the server side:</p>\n<pre><code>reader = new BufferedReader(new InputStreamReader(connection.getInputStream()) );\n\nsender = new PrintWriter(connection.getOutputStream());\n\n\nnewUser = new BasicUserData();\n\nSystem.out.println(&quot;New registration from: &quot; + connection.getInetAddress());\nSystem.out.println(&quot;Data:&quot;);\n\nString un = reader.readLine();\nnewUser.USERNAME = un;\nSystem.out.println(newUser.USERNAME);\nString pw = reader.readLine();\nnewUser.PASSWORD = pw;\nSystem.out.println(newUser.PASSWORD);\n\nDataOutputStream dataout = new DataOutputStream(connection.getOutputStream());\nSystem.out.println(&quot;Opened data output stream&quot;);\nDataInputStream receiver = new DataInputStream(connection.getInputStream());\n//It gets stuck here, and the program doesn't read anything further\nreceiver.read();\nbyte[] id = receiver.readAllBytes();\n            \nSystem.out.println(&quot;Opened data input stream&quot;);\n</code></pre>\n"},{"tags":["java","xml","csv","parsing"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1649688423,"post_id":71829856,"comment_id":126933449,"body_markdown":"[&quot;`StringTokenizer` is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. It is recommended that anyone seeking this functionality use the split method of String or the java.util.regex package instead.&quot;](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/StringTokenizer.html) (but I don&#39;t think you actually use the `StringTokenizer` you create)","body":"<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/StringTokenizer.html\" rel=\"nofollow noreferrer\">&quot;<code>StringTokenizer</code> is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. It is recommended that anyone seeking this functionality use the split method of String or the java.util.regex package instead.&quot;</a> (but I don&#39;t think you actually use the <code>StringTokenizer</code> you create)"},{"owner":{"account_id":915477,"reputation":3493,"user_id":948359,"accept_rate":0,"display_name":"schlebe"},"score":0,"creation_date":1649692610,"post_id":71829856,"comment_id":126935110,"body_markdown":"StringTokenizer st = line do nothing ! The &quot;st&quot; variable isn&#39;t used anywhere in your program.","body":"StringTokenizer st = line do nothing ! The &quot;st&quot; variable isn&#39;t used anywhere in your program."},{"owner":{"account_id":915477,"reputation":3493,"user_id":948359,"accept_rate":0,"display_name":"schlebe"},"score":0,"creation_date":1649692800,"post_id":71829856,"comment_id":126935191,"body_markdown":"your program will crash when a value between quotes contains a &quot;,&quot; !!!","body":"your program will crash when a value between quotes contains a &quot;,&quot; !!!"}],"answers":[{"tags":[],"owner":{"account_id":8108667,"reputation":74,"user_id":6109467,"display_name":"ArcticDoom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649689030,"creation_date":1649689030,"answer_id":71830010,"question_id":71829856,"body_markdown":"Before you run your conversion, do a \r\n\r\n```\r\nString.replaceAll(&quot;\\&quot;&quot;, &quot;####&quot;)\r\n```\r\n\r\nThen run the conversion and when it is complete, reverse it and replace all the &quot;####&quot; in the string with double quotes","title":"In Java, how do you deal with double quote inside of a CSV that you need to parse","body":"<p>Before you run your conversion, do a</p>\n<pre><code>String.replaceAll(&quot;\\&quot;&quot;, &quot;####&quot;)\n</code></pre>\n<p>Then run the conversion and when it is complete, reverse it and replace all the &quot;####&quot; in the string with double quotes</p>\n"},{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649716662,"creation_date":1649715234,"answer_id":71834891,"question_id":71829856,"body_markdown":"Another possible approach using OpenCsv and Jackson:\r\n\r\n    public class FileProcessor {\r\n        public static void main(String[] args) throws IOException {\r\n            List&lt;DataStructure&gt; importList =  new CsvToBeanBuilder&lt;DataStructure&gt;(\r\n                    new FileReader(&quot;pathIn&quot;))\r\n                        .withIgnoreEmptyLine(true)\r\n                        .withType(DataStructure.class)\r\n                        .build()\r\n                        .parse();\r\n    \r\n            ListLoader exportList = new ListLoader(importList);\r\n    \r\n            XmlMapper xmlMapper = new XmlMapper();\r\n            xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true)\r\n                    .enable(SerializationFeature.INDENT_OUTPUT)\r\n                    .writeValue(new File(&quot;pathOut&quot;), exportList);\r\n        }\r\n    }\r\n\r\nClass to serialize each element:\r\n\r\n    @Data\r\n    public class DataStructure {\r\n        @CsvBindByName\r\n        @JacksonXmlProperty(isAttribute = true, localName = &quot;DATE&quot;)\r\n        private String date;\r\n        @CsvBindByName\r\n        @JacksonXmlProperty(localName = &quot;DESC&quot;)\r\n        private String description;\r\n        @CsvBindByName\r\n        @JacksonXmlProperty(localName = &quot;DETAIL&quot;)\r\n        private String detail;\r\n        @CsvBindByName\r\n        @JacksonXmlProperty(localName = &quot;AMOUNT&quot;)\r\n        private String amount;\r\n    }\r\n    \r\nClass to serialize full list: \r\n\r\n    @JacksonXmlRootElement(localName = &quot;SPEND&quot;)\r\n    public class ListLoader {\r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        @JacksonXmlProperty(localName = &quot;RECORD&quot;)\r\n        private List&lt;DataStructure&gt; list;\r\n    \r\n        public ListLoader(List&lt;DataStructure&gt; list){\r\n            this.list = list;\r\n        }\r\n    }\r\n\r\n","title":"In Java, how do you deal with double quote inside of a CSV that you need to parse","body":"<p>Another possible approach using OpenCsv and Jackson:</p>\n<pre><code>public class FileProcessor {\n    public static void main(String[] args) throws IOException {\n        List&lt;DataStructure&gt; importList =  new CsvToBeanBuilder&lt;DataStructure&gt;(\n                new FileReader(&quot;pathIn&quot;))\n                    .withIgnoreEmptyLine(true)\n                    .withType(DataStructure.class)\n                    .build()\n                    .parse();\n\n        ListLoader exportList = new ListLoader(importList);\n\n        XmlMapper xmlMapper = new XmlMapper();\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true)\n                .enable(SerializationFeature.INDENT_OUTPUT)\n                .writeValue(new File(&quot;pathOut&quot;), exportList);\n    }\n}\n</code></pre>\n<p>Class to serialize each element:</p>\n<pre><code>@Data\npublic class DataStructure {\n    @CsvBindByName\n    @JacksonXmlProperty(isAttribute = true, localName = &quot;DATE&quot;)\n    private String date;\n    @CsvBindByName\n    @JacksonXmlProperty(localName = &quot;DESC&quot;)\n    private String description;\n    @CsvBindByName\n    @JacksonXmlProperty(localName = &quot;DETAIL&quot;)\n    private String detail;\n    @CsvBindByName\n    @JacksonXmlProperty(localName = &quot;AMOUNT&quot;)\n    private String amount;\n}\n</code></pre>\n<p>Class to serialize full list:</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;SPEND&quot;)\npublic class ListLoader {\n    @JacksonXmlElementWrapper(useWrapping = false)\n    @JacksonXmlProperty(localName = &quot;RECORD&quot;)\n    private List&lt;DataStructure&gt; list;\n\n    public ListLoader(List&lt;DataStructure&gt; list){\n        this.list = list;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23488443,"reputation":25,"user_id":17539725,"display_name":"Khysra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71830010,"answer_count":2,"score":0,"last_activity_date":1651224980,"creation_date":1649688364,"question_id":71829856,"body_markdown":"here is what I want to do,\r\n\r\nThis my spend.csv file :\r\n\r\n    &quot;Date&quot;,&quot;Description&quot;,&quot;Detail&quot;,&quot;Amount&quot;\r\n    &quot;5/03/21&quot;,&quot;Cinema&quot;,&quot;Batman&quot;,&quot;7.90&quot;\r\n    &quot;15/02/20&quot;,&quot;Groceries&quot;,&quot;Potatoes&quot;,&quot;23.00&quot;\r\n    &quot;9/12/21&quot;,&quot;DIY&quot;,&quot;Wood Plates&quot;,&quot;33.99&quot;\r\n    &quot;9/07/22&quot;,&quot;Fuel&quot;,&quot;Shell&quot;,&quot;$56.00&quot;\r\n    &quot;23/08/19&quot;,&quot;Lamborghini&quot;,&quot;Aventador&quot;,&quot;800,000.00&quot;\r\n\r\nFrom a table view :\r\n\r\n[Table View of the csv][1]\r\n\r\n And here is what I want as my output file named spend.xml :\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;SPEND&gt;\r\n        &lt;RECORD DATE=&quot;5/03/21&quot;&gt;\r\n        \t&lt;DESC&gt;Cinema&lt;/DESC&gt;\r\n        \t&lt;DETAIL&gt;Batman&lt;/DETAIL&gt;\r\n        \t&lt;AMOUNT&gt;7.90&lt;/AMOUNT&gt;\r\n        &lt;/RECORD&gt;\r\n        &lt;RECORD DATE=&quot;15/02/20&quot;&gt;\r\n        \t&lt;DESC&gt;Groceries&lt;/DESC&gt;\r\n        \t&lt;DETAIL&gt;Potatoes&lt;/DETAIL&gt;\r\n        \t&lt;AMOUNT&gt;23.00&lt;/AMOUNT&gt;\r\n        &lt;/RECORD&gt;\r\n        &lt;RECORD DATE=&quot;9/12/21&quot;&gt;\r\n        \t&lt;DESC&gt;DIY&lt;/DESC&gt;\r\n        \t&lt;DETAIL&gt;Wood Plates&lt;/DETAIL&gt;\r\n        \t&lt;AMOUNT&gt;33.99&lt;/AMOUNT&gt;\r\n        &lt;/RECORD&gt;\r\n        &lt;RECORD DATE=&quot;9/07/22&quot;&gt;\r\n        \t&lt;DESC&gt;Fuel&lt;/DESC&gt;\r\n        \t&lt;DETAIL&gt;Shell&lt;/DETAIL&gt;\r\n        \t&lt;AMOUNT&gt;$56.00&lt;/AMOUNT&gt;\r\n        &lt;/RECORD&gt;\r\n        &lt;RECORD DATE=&quot;23/08/19&quot;&gt;\r\n        \t&lt;DESC&gt;Lamborghini&lt;/DESC&gt;\r\n        \t&lt;DETAIL&gt;Aventador&lt;/DETAIL&gt;\r\n        \t&lt;AMOUNT&gt;800,000.00&lt;/AMOUNT&gt;\r\n        &lt;/RECORD&gt;\r\n        &lt;/SPEND&gt;\r\n\r\n\r\n In order to do that, I found some stuff here and there and managed to get this :\r\n\r\n```\r\n    public class Main {\r\n    \r\n       public static void main(String[] args) throws FileNotFoundException {\r\n         \r\n            List&lt;String&gt; headers = new ArrayList&lt;String&gt;(5);\r\n    \r\n            File file = new File(&quot;spend.csv&quot;);\r\n            BufferedReader reader = null;\r\n    \r\n            try {\r\n    \r\n                DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();\r\n                DocumentBuilder domBuilder = domFactory.newDocumentBuilder();\r\n    \r\n                Document newDoc = domBuilder.newDocument();\r\n                // Root element\r\n                Element rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\r\n                newDoc.appendChild(rootElement);\r\n    \r\n                reader = new BufferedReader(new FileReader(file));\r\n                int line = 0;\r\n    \r\n                String text = null;\r\n                while ((text = reader.readLine()) != null) {\r\n    \r\n                    StringTokenizer st = new StringTokenizer(text, &quot;&quot;, false);\r\n    \r\n                    int index = 0;\r\n    \r\n    \r\n                    String[] rowValues = text.split(&quot;,&quot;);\r\n    \r\n                    if (line == 0) { // Header row\r\n                        for (String col : rowValues) {\r\n                            headers.add(col);\r\n                        }\r\n                    } else { // Data row\r\n                        Element rowElement = newDoc.createElement(&quot;RECORDS&quot;);\r\n                        rootElement.appendChild(rowElement);\r\n                        for (int col = 0; col &lt; headers.size(); col++) {\r\n                            String header = headers.get(col);\r\n                            String value = null;\r\n    \r\n                            if (col &lt; rowValues.length) {\r\n                                value = rowValues[col];\r\n                            } else {\r\n                                value = &quot;&quot;;\r\n                            }\r\n    \r\n                            Element curElement = newDoc.createElement(header);\r\n                            curElement.appendChild(newDoc.createTextNode(value));\r\n                            rowElement.appendChild(curElement);\r\n                        }\r\n                    }\r\n                    line++;\r\n                }\r\n    \r\n                ByteArrayOutputStream baos = null;\r\n                OutputStreamWriter osw = null;\r\n    \r\n                try {\r\n                    baos = new ByteArrayOutputStream();\r\n                    osw = new OutputStreamWriter(baos);\r\n    \r\n                    TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n                    Transformer aTransformer = tranFactory.newTransformer();\r\n                    aTransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                    aTransformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n                    aTransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n    \r\n                    Source src = new DOMSource(newDoc);\r\n                    Result result = new StreamResult(osw);\r\n                    aTransformer.transform(src, result);\r\n    \r\n                    osw.flush();\r\n                    System.out.println(new String(baos.toByteArray()));\r\n                } catch (Exception exp) {\r\n                    exp.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        osw.close();\r\n                    } catch (Exception e) {\r\n                    }\r\n                    try {\r\n                        baos.close();\r\n                    } catch (Exception e) {\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n```\r\n\r\n   \r\n\r\n At this point the programm should print in the terminal the XML file but;\r\n\r\n\r\nSadly, because of the double quotes of each value in my CSV file, I&#39;m having this issue :\r\n    \r\njava org.w3c.dom.domexception invalid_character_err an invalid or illegal xml character is specified\r\n    \r\nI think I&#39;m missing something around those lines :\r\n\r\n```\r\n\r\n    StringTokenizer st = new StringTokenizer(text, &quot;&quot;, false);\r\n    int index = 0;\r\n    String[] rowValues = text.split(&quot;,&quot;);\r\n\r\n```\r\nI would like to keep the double quotes in my CSV, if anyone as an idea feel free to tell me please!\r\n\r\n  [1]: https://i.stack.imgur.com/XVpqL.png\r\n\r\n\r\n\r\n","title":"In Java, how do you deal with double quote inside of a CSV that you need to parse","body":"<p>here is what I want to do,</p>\n<p>This my spend.csv file :</p>\n<pre><code>&quot;Date&quot;,&quot;Description&quot;,&quot;Detail&quot;,&quot;Amount&quot;\n&quot;5/03/21&quot;,&quot;Cinema&quot;,&quot;Batman&quot;,&quot;7.90&quot;\n&quot;15/02/20&quot;,&quot;Groceries&quot;,&quot;Potatoes&quot;,&quot;23.00&quot;\n&quot;9/12/21&quot;,&quot;DIY&quot;,&quot;Wood Plates&quot;,&quot;33.99&quot;\n&quot;9/07/22&quot;,&quot;Fuel&quot;,&quot;Shell&quot;,&quot;$56.00&quot;\n&quot;23/08/19&quot;,&quot;Lamborghini&quot;,&quot;Aventador&quot;,&quot;800,000.00&quot;\n</code></pre>\n<p>From a table view :</p>\n<p><a href=\"https://i.stack.imgur.com/XVpqL.png\" rel=\"nofollow noreferrer\">Table View of the csv</a></p>\n<p>And here is what I want as my output file named spend.xml :</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;SPEND&gt;\n    &lt;RECORD DATE=&quot;5/03/21&quot;&gt;\n        &lt;DESC&gt;Cinema&lt;/DESC&gt;\n        &lt;DETAIL&gt;Batman&lt;/DETAIL&gt;\n        &lt;AMOUNT&gt;7.90&lt;/AMOUNT&gt;\n    &lt;/RECORD&gt;\n    &lt;RECORD DATE=&quot;15/02/20&quot;&gt;\n        &lt;DESC&gt;Groceries&lt;/DESC&gt;\n        &lt;DETAIL&gt;Potatoes&lt;/DETAIL&gt;\n        &lt;AMOUNT&gt;23.00&lt;/AMOUNT&gt;\n    &lt;/RECORD&gt;\n    &lt;RECORD DATE=&quot;9/12/21&quot;&gt;\n        &lt;DESC&gt;DIY&lt;/DESC&gt;\n        &lt;DETAIL&gt;Wood Plates&lt;/DETAIL&gt;\n        &lt;AMOUNT&gt;33.99&lt;/AMOUNT&gt;\n    &lt;/RECORD&gt;\n    &lt;RECORD DATE=&quot;9/07/22&quot;&gt;\n        &lt;DESC&gt;Fuel&lt;/DESC&gt;\n        &lt;DETAIL&gt;Shell&lt;/DETAIL&gt;\n        &lt;AMOUNT&gt;$56.00&lt;/AMOUNT&gt;\n    &lt;/RECORD&gt;\n    &lt;RECORD DATE=&quot;23/08/19&quot;&gt;\n        &lt;DESC&gt;Lamborghini&lt;/DESC&gt;\n        &lt;DETAIL&gt;Aventador&lt;/DETAIL&gt;\n        &lt;AMOUNT&gt;800,000.00&lt;/AMOUNT&gt;\n    &lt;/RECORD&gt;\n    &lt;/SPEND&gt;\n</code></pre>\n<p>In order to do that, I found some stuff here and there and managed to get this :</p>\n<pre><code>    public class Main {\n    \n       public static void main(String[] args) throws FileNotFoundException {\n         \n            List&lt;String&gt; headers = new ArrayList&lt;String&gt;(5);\n    \n            File file = new File(&quot;spend.csv&quot;);\n            BufferedReader reader = null;\n    \n            try {\n    \n                DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();\n                DocumentBuilder domBuilder = domFactory.newDocumentBuilder();\n    \n                Document newDoc = domBuilder.newDocument();\n                // Root element\n                Element rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\n                newDoc.appendChild(rootElement);\n    \n                reader = new BufferedReader(new FileReader(file));\n                int line = 0;\n    \n                String text = null;\n                while ((text = reader.readLine()) != null) {\n    \n                    StringTokenizer st = new StringTokenizer(text, &quot;&quot;, false);\n    \n                    int index = 0;\n    \n    \n                    String[] rowValues = text.split(&quot;,&quot;);\n    \n                    if (line == 0) { // Header row\n                        for (String col : rowValues) {\n                            headers.add(col);\n                        }\n                    } else { // Data row\n                        Element rowElement = newDoc.createElement(&quot;RECORDS&quot;);\n                        rootElement.appendChild(rowElement);\n                        for (int col = 0; col &lt; headers.size(); col++) {\n                            String header = headers.get(col);\n                            String value = null;\n    \n                            if (col &lt; rowValues.length) {\n                                value = rowValues[col];\n                            } else {\n                                value = &quot;&quot;;\n                            }\n    \n                            Element curElement = newDoc.createElement(header);\n                            curElement.appendChild(newDoc.createTextNode(value));\n                            rowElement.appendChild(curElement);\n                        }\n                    }\n                    line++;\n                }\n    \n                ByteArrayOutputStream baos = null;\n                OutputStreamWriter osw = null;\n    \n                try {\n                    baos = new ByteArrayOutputStream();\n                    osw = new OutputStreamWriter(baos);\n    \n                    TransformerFactory tranFactory = TransformerFactory.newInstance();\n                    Transformer aTransformer = tranFactory.newTransformer();\n                    aTransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n                    aTransformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\n                    aTransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\n    \n                    Source src = new DOMSource(newDoc);\n                    Result result = new StreamResult(osw);\n                    aTransformer.transform(src, result);\n    \n                    osw.flush();\n                    System.out.println(new String(baos.toByteArray()));\n                } catch (Exception exp) {\n                    exp.printStackTrace();\n                } finally {\n                    try {\n                        osw.close();\n                    } catch (Exception e) {\n                    }\n                    try {\n                        baos.close();\n                    } catch (Exception e) {\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n    \n        }\n    }\n</code></pre>\n<p>At this point the programm should print in the terminal the XML file but;</p>\n<p>Sadly, because of the double quotes of each value in my CSV file, I'm having this issue :</p>\n<p>java org.w3c.dom.domexception invalid_character_err an invalid or illegal xml character is specified</p>\n<p>I think I'm missing something around those lines :</p>\n<pre><code>\n    StringTokenizer st = new StringTokenizer(text, &quot;&quot;, false);\n    int index = 0;\n    String[] rowValues = text.split(&quot;,&quot;);\n\n</code></pre>\n<p>I would like to keep the double quotes in my CSV, if anyone as an idea feel free to tell me please!</p>\n"},{"tags":["java","openstreetmap"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1650507348,"post_id":71947732,"comment_id":127135611,"body_markdown":"So what response code *do* you have?","body":"So what response code <i>do</i> you have?"},{"owner":{"account_id":22991736,"reputation":13,"user_id":17117110,"display_name":"StepZ"},"score":0,"creation_date":1650507745,"post_id":71947732,"comment_id":127135673,"body_markdown":"none, it doesnt show","body":"none, it doesnt show"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1650508008,"post_id":71947732,"comment_id":127135710,"body_markdown":"you&#39;re the programmer. make your code show it","body":"you&#39;re the programmer. make your code show it"},{"owner":{"account_id":1414758,"reputation":20542,"user_id":1340631,"accept_rate":75,"display_name":"scai"},"score":1,"creation_date":1650548791,"post_id":71947732,"comment_id":127148280,"body_markdown":"Make sure to set a valid HTTP User-Agent. See [Nominatim Usage Policy](https://operations.osmfoundation.org/policies/nominatim/) for more information.","body":"Make sure to set a valid HTTP User-Agent. See <a href=\"https://operations.osmfoundation.org/policies/nominatim/\" rel=\"nofollow noreferrer\">Nominatim Usage Policy</a> for more information."},{"owner":{"account_id":22991736,"reputation":13,"user_id":17117110,"display_name":"StepZ"},"score":0,"creation_date":1650549508,"post_id":71947732,"comment_id":127148542,"body_markdown":"I did already, I&#39;ve put\n        con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36&quot;);","body":"I did already, I&#39;ve put         con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36&quot;);"},{"owner":{"account_id":1881001,"reputation":486,"user_id":1701206,"display_name":"crnm"},"score":1,"creation_date":1651153615,"post_id":71947732,"comment_id":127299868,"body_markdown":"@StepZ That&#39;s not a valid but an invalid User-Agent. Don&#39;t expect anything but being blocked if you go that way.","body":"@StepZ That&#39;s not a valid but an invalid User-Agent. Don&#39;t expect anything but being blocked if you go that way."},{"owner":{"account_id":22991736,"reputation":13,"user_id":17117110,"display_name":"StepZ"},"score":0,"creation_date":1651258754,"post_id":71947732,"comment_id":127330122,"body_markdown":"what&#39;s an example of a valid user-agent?","body":"what&#39;s an example of a valid user-agent?"},{"owner":{"account_id":1881001,"reputation":486,"user_id":1701206,"display_name":"crnm"},"score":1,"creation_date":1651317124,"post_id":71947732,"comment_id":127339041,"body_markdown":"As the policy states: a User-Agent that reflects your application. E.g. &quot;MySuperbJavaGeocoderClient v0.1 alpha&quot;. And then it would be best to add an email address as well.","body":"As the policy states: a User-Agent that reflects your application. E.g. &quot;MySuperbJavaGeocoderClient v0.1 alpha&quot;. And then it would be best to add an email address as well."}],"answers":[{"tags":[],"owner":{"account_id":135415,"reputation":2265,"user_id":338265,"accept_rate":77,"display_name":"Harry Wood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651222884,"creation_date":1650932656,"answer_id":72007032,"question_id":71947732,"body_markdown":"You&#39;ve got to do some better error handling. You&#39;re quietly throwing away all the error information that you get back.\r\n\r\nIt&#39;s rarely a good idea to squash exceptions entirely like this:\r\n \r\n    } catch (Exception e) {\r\n            \r\n    }\r\n\r\nSo change it to this:\r\n\r\n    } catch (Exception e) {\r\n        System.err.println(e);\r\n    }\r\n\r\nAnd then you can throw an exception with more information in your `getRequest` method.\r\n\r\nYou need to check for response codes other than 200. I think for 500 errors you also ideally read from errorStream, although _[correcting earlier version of this answer]_ maybe it&#39;s not strictly necessary. Hopefully useful error content is in the main response stream so you need something like this:\r\n\r\n    StringBuffer response = new StringBuffer();\r\n    try {\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n        String inputLine;\r\n        while ((inputLine = in.readLine()) != null) {\r\n            response.append(inputLine);\r\n        }\r\n        in.close();\r\n    } catch (Exception e) {\r\n        System.err.println(&quot;Error reading input stream&quot;);\r\n        e.printStackTrace();\r\n    }\r\n\r\n    if (con.getResponseCode() != 200) {\r\n        throw new RuntimeException(&quot;Response &quot; + con.getResponseCode() + &quot; : &quot; + response.toString());\r\n    }\r\n    return response.toString();\r\n\r\nThat should at least blurt out something to System.err \r\n\r\nIt might not be very exciting error information. Maybe just a &quot;403 forbidden&quot; coming back from OpenStreetMap&#39;s nominatim server (due to violating [the usage policy](https://operations.osmfoundation.org/policies/nominatim/)) but start by setting it up so you can see what you&#39;re getting back.","title":"Can&#39;t access the OpenStreetMap to get coordinates for address","body":"<p>You've got to do some better error handling. You're quietly throwing away all the error information that you get back.</p>\n<p>It's rarely a good idea to squash exceptions entirely like this:</p>\n<pre><code>} catch (Exception e) {\n        \n}\n</code></pre>\n<p>So change it to this:</p>\n<pre><code>} catch (Exception e) {\n    System.err.println(e);\n}\n</code></pre>\n<p>And then you can throw an exception with more information in your <code>getRequest</code> method.</p>\n<p>You need to check for response codes other than 200. I think for 500 errors you also ideally read from errorStream, although <em>[correcting earlier version of this answer]</em> maybe it's not strictly necessary. Hopefully useful error content is in the main response stream so you need something like this:</p>\n<pre><code>StringBuffer response = new StringBuffer();\ntry {\n    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n    String inputLine;\n    while ((inputLine = in.readLine()) != null) {\n        response.append(inputLine);\n    }\n    in.close();\n} catch (Exception e) {\n    System.err.println(&quot;Error reading input stream&quot;);\n    e.printStackTrace();\n}\n\nif (con.getResponseCode() != 200) {\n    throw new RuntimeException(&quot;Response &quot; + con.getResponseCode() + &quot; : &quot; + response.toString());\n}\nreturn response.toString();\n</code></pre>\n<p>That should at least blurt out something to System.err</p>\n<p>It might not be very exciting error information. Maybe just a &quot;403 forbidden&quot; coming back from OpenStreetMap's nominatim server (due to violating <a href=\"https://operations.osmfoundation.org/policies/nominatim/\" rel=\"nofollow noreferrer\">the usage policy</a>) but start by setting it up so you can see what you're getting back.</p>\n"},{"tags":[],"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651224821,"creation_date":1651224821,"answer_id":72055831,"question_id":71947732,"body_markdown":"In your case you receive `301` status code because you try to use non-secure version of `nominatim` API. Try to change `http` to `https` and you wil get a result.\r\nBtw as mentioned @HarryWood you should work with exceptions properly and just ignoring them; and you should use loggers for this.","title":"Can&#39;t access the OpenStreetMap to get coordinates for address","body":"<p>In your case you receive <code>301</code> status code because you try to use non-secure version of <code>nominatim</code> API. Try to change <code>http</code> to <code>https</code> and you wil get a result.\nBtw as mentioned @HarryWood you should work with exceptions properly and just ignoring them; and you should use loggers for this.</p>\n"}],"owner":{"account_id":22991736,"reputation":13,"user_id":17117110,"display_name":"StepZ"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":764,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1651224821,"creation_date":1650502161,"question_id":71947732,"body_markdown":"I&#39;m trying to retrieve coordinates for a given address using an API I found for OpenStreetMap\r\n\r\nThe API is as follows:\r\n```\r\npackage com.sges.commons.utils.coordenada;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.JSONValue;\r\nimport org.json.simple.parser.JSONParser;\r\n\r\nimport com.sges.commons.generic.entities.GenConcelho;\r\n\r\npublic class OpenStreetMapUtils {\r\n\r\n    private static OpenStreetMapUtils instance = null;\r\n    private JSONParser jsonParser;\r\n    \r\n    public OpenStreetMapUtils() {\r\n    \tjsonParser = new JSONParser();\r\n       }\r\n\r\n    public static OpenStreetMapUtils getInstance() {\r\n        if (instance == null) {\r\n            instance = new OpenStreetMapUtils();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    private static  String getRequest(String url) throws Exception {\r\n\r\n        final URL obj = new URL(url);\r\n        final HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n\r\n        con.setRequestMethod(&quot;GET&quot;);\r\n        \r\n        int a = con.getResponseCode();\r\n\r\n        if (con.getResponseCode() != 200) {\r\n            return null;\r\n        }\r\n\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n        String inputLine;\r\n        StringBuffer response = new StringBuffer();\r\n\r\n        while ((inputLine = in.readLine()) != null) {\r\n            response.append(inputLine);\r\n        }\r\n        in.close();\r\n\r\n        return response.toString();\r\n    }\r\n\r\n    public static Map&lt;String, Double&gt; getCoordinates(String address, String concelho) {\r\n        Map&lt;String, Double&gt; res;\r\n        StringBuffer query;\r\n        String join_morada_concelho = address + &quot; &quot; + concelho;\r\n        String[] split = join_morada_concelho.split(&quot; &quot;);\r\n        String queryResult = null;\r\n\r\n        query = new StringBuffer();\r\n        res = new HashMap&lt;String, Double&gt;();\r\n\r\n        query.append(&quot;http://nominatim.openstreetmap.org/search?q=&quot;);\r\n\r\n        if (split.length == 0) {\r\n            return null;\r\n        }\r\n\r\n        for (int i = 0; i &lt; split.length; i++) {\r\n            query.append(split[i]);\r\n            if (i &lt; (split.length - 1)) {\r\n                query.append(&quot;+&quot;);\r\n            }\r\n        }\r\n        query.append(&quot;&amp;format=json&amp;addressdetails=1&quot;);\r\n\r\n       \r\n\r\n        try {\r\n            queryResult = getRequest(query.toString());\r\n        } catch (Exception e) {\r\n            \r\n        }\r\n\r\n        if (queryResult == null) {\r\n            return null;\r\n        }\r\n        \r\n        Object obj = JSONValue.parse(queryResult);\r\n        if (obj instanceof JSONArray) {\r\n            JSONArray array = (JSONArray) obj;\r\n            if (array.size() &gt; 0) {\r\n                JSONObject jsonObject = (JSONObject) array.get(0);\r\n\r\n                String lon = (String) jsonObject.get(&quot;lon&quot;);\r\n                String lat = (String) jsonObject.get(&quot;lat&quot;);\r\n                res.put(&quot;lon&quot;, Double.parseDouble(lon));\r\n                res.put(&quot;lat&quot;, Double.parseDouble(lat));\r\n\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nThe problem is that when it gets to the getRequest() method, it shows me that I don&#39;t have a response code 200:\r\n[variable &quot;con&quot;][1]\r\n\r\nAnd yes, it generates a valid URL because I pasted it on chrome and it showed me coordinates for my address.\r\nThe problem seems to be the connection between my project and OpenStreetMap. \r\n\r\nAny ideas?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e30u8.png","title":"Can&#39;t access the OpenStreetMap to get coordinates for address","body":"<p>I'm trying to retrieve coordinates for a given address using an API I found for OpenStreetMap</p>\n<p>The API is as follows:</p>\n<pre><code>package com.sges.commons.utils.coordenada;\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.JSONValue;\nimport org.json.simple.parser.JSONParser;\n\nimport com.sges.commons.generic.entities.GenConcelho;\n\npublic class OpenStreetMapUtils {\n\n    private static OpenStreetMapUtils instance = null;\n    private JSONParser jsonParser;\n    \n    public OpenStreetMapUtils() {\n        jsonParser = new JSONParser();\n       }\n\n    public static OpenStreetMapUtils getInstance() {\n        if (instance == null) {\n            instance = new OpenStreetMapUtils();\n        }\n        return instance;\n    }\n\n    private static  String getRequest(String url) throws Exception {\n\n        final URL obj = new URL(url);\n        final HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n\n        con.setRequestMethod(&quot;GET&quot;);\n        \n        int a = con.getResponseCode();\n\n        if (con.getResponseCode() != 200) {\n            return null;\n        }\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n        in.close();\n\n        return response.toString();\n    }\n\n    public static Map&lt;String, Double&gt; getCoordinates(String address, String concelho) {\n        Map&lt;String, Double&gt; res;\n        StringBuffer query;\n        String join_morada_concelho = address + &quot; &quot; + concelho;\n        String[] split = join_morada_concelho.split(&quot; &quot;);\n        String queryResult = null;\n\n        query = new StringBuffer();\n        res = new HashMap&lt;String, Double&gt;();\n\n        query.append(&quot;http://nominatim.openstreetmap.org/search?q=&quot;);\n\n        if (split.length == 0) {\n            return null;\n        }\n\n        for (int i = 0; i &lt; split.length; i++) {\n            query.append(split[i]);\n            if (i &lt; (split.length - 1)) {\n                query.append(&quot;+&quot;);\n            }\n        }\n        query.append(&quot;&amp;format=json&amp;addressdetails=1&quot;);\n\n       \n\n        try {\n            queryResult = getRequest(query.toString());\n        } catch (Exception e) {\n            \n        }\n\n        if (queryResult == null) {\n            return null;\n        }\n        \n        Object obj = JSONValue.parse(queryResult);\n        if (obj instanceof JSONArray) {\n            JSONArray array = (JSONArray) obj;\n            if (array.size() &gt; 0) {\n                JSONObject jsonObject = (JSONObject) array.get(0);\n\n                String lon = (String) jsonObject.get(&quot;lon&quot;);\n                String lat = (String) jsonObject.get(&quot;lat&quot;);\n                res.put(&quot;lon&quot;, Double.parseDouble(lon));\n                res.put(&quot;lat&quot;, Double.parseDouble(lat));\n\n            }\n        }\n        return res;\n    }\n    \n}\n\n</code></pre>\n<p>The problem is that when it gets to the getRequest() method, it shows me that I don't have a response code 200:\n<a href=\"https://i.stack.imgur.com/e30u8.png\" rel=\"nofollow noreferrer\">variable &quot;con&quot;</a></p>\n<p>And yes, it generates a valid URL because I pasted it on chrome and it showed me coordinates for my address.\nThe problem seems to be the connection between my project and OpenStreetMap.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","android","android-studio","oop"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651219371,"post_id":72054543,"comment_id":127316623,"body_markdown":"This has nothing to do with Android per se. Not only that method is abstract, but the whole class. So there are definitely SUBCLASSES of the SensorManager somewhere. And at RUNTIME, you are dealing with instances of those SUBCLASSES. So when code is running, the object on which you are calling getFullSensorList() is a subclass that has the method, and that will return a valid result when invoked.","body":"This has nothing to do with Android per se. Not only that method is abstract, but the whole class. So there are definitely SUBCLASSES of the SensorManager somewhere. And at RUNTIME, you are dealing with instances of those SUBCLASSES. So when code is running, the object on which you are calling getFullSensorList() is a subclass that has the method, and that will return a valid result when invoked."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651219560,"post_id":72054543,"comment_id":127316690,"body_markdown":"Now the problem might be: if the Android folks want to &quot;hide&quot; those subclasses from you for some reason ... you might have a hard time. So it kind of depends ... if you have the Android source code locally available, and maybe even setup in your IDE ... then you can use the capabilities of your IDE to identify subclasses.","body":"Now the problem might be: if the Android folks want to &quot;hide&quot; those subclasses from you for some reason ... you might have a hard time. So it kind of depends ... if you have the Android source code locally available, and maybe even setup in your IDE ... then you can use the capabilities of your IDE to identify subclasses."}],"owner":{"account_id":19778087,"reputation":83,"user_id":14483632,"display_name":"brzi_gonzales"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651224770,"creation_date":1651218812,"question_id":72054543,"body_markdown":"I have been going over the android package a bit. I am using sdk 30 and for example in *SensorManager.java* there is a function\r\n\r\n    protected abstract List&lt;Sensor&gt; getFullSensorList();\r\n\r\nNow, even though it is not implemented, *getFullSensor();* list is used in \r\n\r\n        public List&lt;Sensor&gt; getSensorList(int type) \r\n\r\nCan someone explain me how is this possible? Also how can I see the implementation of *getFullSensorList();* ?\r\nI understand that I can implement the method via a subclass and that they use *@hide* annotation in the comment because they don&#39;t want me to use it in their API, but I just want to see the read-only implementation. How does this work in here if it is not implemented since it&#39;s abstract though I am using it to for, for example read sensor data and similar?\r\n","title":"Can&#39;t see implementation of protected abstract functions in Android package","body":"<p>I have been going over the android package a bit. I am using sdk 30 and for example in <em>SensorManager.java</em> there is a function</p>\n<pre><code>protected abstract List&lt;Sensor&gt; getFullSensorList();\n</code></pre>\n<p>Now, even though it is not implemented, <em>getFullSensor();</em> list is used in</p>\n<pre><code>    public List&lt;Sensor&gt; getSensorList(int type) \n</code></pre>\n<p>Can someone explain me how is this possible? Also how can I see the implementation of <em>getFullSensorList();</em> ?\nI understand that I can implement the method via a subclass and that they use <em>@hide</em> annotation in the comment because they don't want me to use it in their API, but I just want to see the read-only implementation. How does this work in here if it is not implemented since it's abstract though I am using it to for, for example read sensor data and similar?</p>\n"},{"tags":["java","maven","security","bouncycastle"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1537620548,"post_id":52456785,"comment_id":91855867,"body_markdown":"You have made contradictory claims here. How are you using bouncycastle?","body":"You have made contradictory claims here. How are you using bouncycastle?"},{"owner":{"account_id":8510108,"reputation":279,"user_id":6380415,"accept_rate":75,"display_name":"Omarkad"},"score":0,"creation_date":1537623000,"post_id":52456785,"comment_id":91856470,"body_markdown":"I’m using the maven dependency but after packaging the app I can no more use bouncyCastle capabilities.","body":"I’m using the maven dependency but after packaging the app I can no more use bouncyCastle capabilities."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1537624904,"post_id":52456785,"comment_id":91856999,"body_markdown":"I&#39;m asking how you are using bouncycastle in your program.","body":"I&#39;m asking how you are using bouncycastle in your program."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1537625015,"post_id":52456785,"comment_id":91857026,"body_markdown":"You can pack BouncyCastle as jar into your jar and then use a special class-loader that is able to load the classes from within the jar. See for example https://github.com/nthuemmel/executable-packer-maven-plugin","body":"You can pack BouncyCastle as jar into your jar and then use a special class-loader that is able to load the classes from within the jar. See for example <a href=\"https://github.com/nthuemmel/executable-packer-maven-plugin\" rel=\"nofollow noreferrer\">github.com/nthuemmel/executable-packer-maven-plugin</a>"},{"owner":{"account_id":8510108,"reputation":279,"user_id":6380415,"accept_rate":75,"display_name":"Omarkad"},"score":0,"creation_date":1537635598,"post_id":52456785,"comment_id":91859928,"body_markdown":"Thanks @Robert it did work","body":"Thanks @Robert it did work"}],"answers":[{"tags":[],"owner":{"account_id":2060082,"reputation":31,"user_id":1836865,"display_name":"Raphael Krausz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651224392,"creation_date":1651224392,"answer_id":72055741,"question_id":52456785,"body_markdown":"Please ensure you have some reasonable expectations and understanding regarding on how BouncyCastle and other security providers work.\r\n\r\nFor the latest BouncyCastle package and version information please review: https://www.bouncycastle.org/latest_releases.html\r\n\r\nYou don&#39;t have to download the JAR files from the above link. For the appropriate signed Maven packages see: https://mvnrepository.com/artifact/org.bouncycastle\r\n\r\nThe solution to this problem is to use https://github.com/nthuemmel/executable-packer-maven-plugin as suggested in the comments. Using the shade plugin (or many others) results in the BC JARs being repacked, breaking the security of the packages - causing failures when you attempt to run your uber JAR.\r\n\r\nYou still need to set the provider as BouncyCastle regardless.\r\n\r\nThe `pom.xml` file should have BouncyCastle listed as a dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\r\n      &lt;version&gt;1.71&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\r\n      &lt;version&gt;1.71&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n(Which specific packages you need may vary.)\r\n\r\nIn your `pom.xml` you should also have something like the following in the plugins section:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;de.ntcomputer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;executable-packer-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;mainClass&gt;com.ericsson.ml66.pki.Pki&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;pack-executable-jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\nIn your code, within your class initialisation or other pertinent location, you should have:\r\n\r\n    if (Security.getProvider(&quot;BC&quot;) == null) {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n    }\r\n\r\n\r\nFor good measure and to ensure the correct provider is used, I would also do specify the BouncyCastle provided where needed, such as:\r\n\r\n    PEMEncryptor encryptor =\r\n        new JcePEMEncryptorBuilder(&quot;AES-256-CBC&quot;).setProvider(&quot;BC&quot;).build(passphrase);\r\n","title":"Packaging Java application with BouncyCastle in a single JAR","body":"<p>Please ensure you have some reasonable expectations and understanding regarding on how BouncyCastle and other security providers work.</p>\n<p>For the latest BouncyCastle package and version information please review: <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">https://www.bouncycastle.org/latest_releases.html</a></p>\n<p>You don't have to download the JAR files from the above link. For the appropriate signed Maven packages see: <a href=\"https://mvnrepository.com/artifact/org.bouncycastle\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.bouncycastle</a></p>\n<p>The solution to this problem is to use <a href=\"https://github.com/nthuemmel/executable-packer-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/nthuemmel/executable-packer-maven-plugin</a> as suggested in the comments. Using the shade plugin (or many others) results in the BC JARs being repacked, breaking the security of the packages - causing failures when you attempt to run your uber JAR.</p>\n<p>You still need to set the provider as BouncyCastle regardless.</p>\n<p>The <code>pom.xml</code> file should have BouncyCastle listed as a dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n  &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\n  &lt;version&gt;1.71&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n  &lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\n  &lt;version&gt;1.71&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>(Which specific packages you need may vary.)</p>\n<p>In your <code>pom.xml</code> you should also have something like the following in the plugins section:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;de.ntcomputer&lt;/groupId&gt;\n    &lt;artifactId&gt;executable-packer-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;mainClass&gt;com.ericsson.ml66.pki.Pki&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;pack-executable-jar&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>In your code, within your class initialisation or other pertinent location, you should have:</p>\n<pre><code>if (Security.getProvider(&quot;BC&quot;) == null) {\n    Security.addProvider(new BouncyCastleProvider());\n}\n</code></pre>\n<p>For good measure and to ensure the correct provider is used, I would also do specify the BouncyCastle provided where needed, such as:</p>\n<pre><code>PEMEncryptor encryptor =\n    new JcePEMEncryptorBuilder(&quot;AES-256-CBC&quot;).setProvider(&quot;BC&quot;).build(passphrase);\n</code></pre>\n"}],"owner":{"account_id":8510108,"reputation":279,"user_id":6380415,"accept_rate":75,"display_name":"Omarkad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651224392,"creation_date":1537620317,"question_id":52456785,"body_markdown":"Is it possible to package a Java app using BouncyCastle as security provider in a single JAR ?\r\n\r\nPS: I expect to run the JAR without changing java security properties (in other words, without adding BouncyCastle as Security provider in JRE)","title":"Packaging Java application with BouncyCastle in a single JAR","body":"<p>Is it possible to package a Java app using BouncyCastle as security provider in a single JAR ?</p>\n\n<p>PS: I expect to run the JAR without changing java security properties (in other words, without adding BouncyCastle as Security provider in JRE)</p>\n"},{"tags":["java","h2"],"answers":[{"tags":[],"owner":{"account_id":24588167,"reputation":21,"user_id":18492412,"display_name":"aleksf16"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651224231,"creation_date":1651224231,"answer_id":72055714,"question_id":71693016,"body_markdown":"After some research i found new way of executing sql before tests:\r\n\r\n    Mono.from(connectionFactory.create())\r\n        .map(\r\n            c -&gt; {\r\n              ScriptUtils.executeSqlScript(c, new ClassPathResource(&quot;scripts/create.sql&quot;))\r\n                  .subscribe();\r\n              return &quot;123&quot;;\r\n            })\r\n        .subscribe();\r\n\r\nHere u create connection from your connection factory, then using sql file(in my case it is create.sql at scripts package at resources),execute your sql script","title":"I cant create h2 database before tests, but after first test other tests work fine","body":"<p>After some research i found new way of executing sql before tests:</p>\n<pre><code>Mono.from(connectionFactory.create())\n    .map(\n        c -&gt; {\n          ScriptUtils.executeSqlScript(c, new ClassPathResource(&quot;scripts/create.sql&quot;))\n              .subscribe();\n          return &quot;123&quot;;\n        })\n    .subscribe();\n</code></pre>\n<p>Here u create connection from your connection factory, then using sql file(in my case it is create.sql at scripts package at resources),execute your sql script</p>\n"}],"owner":{"account_id":24588167,"reputation":21,"user_id":18492412,"display_name":"aleksf16"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72055714,"answer_count":1,"score":1,"last_activity_date":1651224231,"creation_date":1648731921,"question_id":71693016,"body_markdown":"i am trying to make my tests on h2 database. But my first test always falling with error\r\n\r\n```\r\nnested exception is io.r2dbc.spi.R2dbcBadGrammarException: [90079] [90079] Schema &quot;DEF&quot; not found; SQL statement:\r\n```\r\n\r\nalthough other tests for fine.\r\n\r\nFor making database i use @BeforeEach annotation\r\nhere code:\r\n\r\n```\r\n String sql =\r\n                /*&quot;DROP SCHEMA DEF;\\n&quot; +*/\r\n                &quot;CREATE SCHEMA IF NOT EXISTS DEF; \\n &quot; +\r\n                        &quot;CREATE TABLE IF NOT EXISTS def.definition ();\\n&quot; +\r\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS id  varchar NOT NULL ;\\n&quot; +\r\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS path varchar NOT NULL default NULL;\\n&quot; +\r\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS name varchar NULL;\\n&quot; +\r\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS description varchar NULL;\\n&quot; +\r\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS type varchar NULL;\\n&quot; +\r\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS \\&quot;schema\\&quot; json NULL;\\n&quot; +\r\n                        &quot;ALTER TABLE def.definition ADD CONSTRAINT IF NOT EXISTS definition_pk PRIMARY KEY (id);\\n&quot; +\r\n                        &quot;ALTER TABLE def.definition ADD CONSTRAINT IF NOT EXISTS definition_un UNIQUE (path);\\n&quot; +\r\n                        &quot;CREATE INDEX IF NOT EXISTS definition_name_idx ON def.definition (name);\\n&quot; +\r\n                        &quot;CREATE INDEX IF NOT EXISTS definition_description_idx ON def.definition (description);&quot;;\r\n\r\n        Mono&lt;Integer&gt; integerMono = databaseClient.sql(sql)\r\n                .fetch()\r\n                .rowsUpdated();\r\n\r\n        StepVerifier.create(integerMono)\r\n                .expectNextCount(1)\r\n                .verifyComplete();\r\n```\r\n\r\nI tried rewriting sql code, or using another sql dialect","title":"I cant create h2 database before tests, but after first test other tests work fine","body":"<p>i am trying to make my tests on h2 database. But my first test always falling with error</p>\n<pre><code>nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [90079] [90079] Schema &quot;DEF&quot; not found; SQL statement:\n</code></pre>\n<p>although other tests for fine.</p>\n<p>For making database i use @BeforeEach annotation\nhere code:</p>\n<pre><code> String sql =\n                /*&quot;DROP SCHEMA DEF;\\n&quot; +*/\n                &quot;CREATE SCHEMA IF NOT EXISTS DEF; \\n &quot; +\n                        &quot;CREATE TABLE IF NOT EXISTS def.definition ();\\n&quot; +\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS id  varchar NOT NULL ;\\n&quot; +\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS path varchar NOT NULL default NULL;\\n&quot; +\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS name varchar NULL;\\n&quot; +\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS description varchar NULL;\\n&quot; +\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS type varchar NULL;\\n&quot; +\n                        &quot;ALTER TABLE def.definition ADD COLUMN IF NOT EXISTS \\&quot;schema\\&quot; json NULL;\\n&quot; +\n                        &quot;ALTER TABLE def.definition ADD CONSTRAINT IF NOT EXISTS definition_pk PRIMARY KEY (id);\\n&quot; +\n                        &quot;ALTER TABLE def.definition ADD CONSTRAINT IF NOT EXISTS definition_un UNIQUE (path);\\n&quot; +\n                        &quot;CREATE INDEX IF NOT EXISTS definition_name_idx ON def.definition (name);\\n&quot; +\n                        &quot;CREATE INDEX IF NOT EXISTS definition_description_idx ON def.definition (description);&quot;;\n\n        Mono&lt;Integer&gt; integerMono = databaseClient.sql(sql)\n                .fetch()\n                .rowsUpdated();\n\n        StepVerifier.create(integerMono)\n                .expectNextCount(1)\n                .verifyComplete();\n</code></pre>\n<p>I tried rewriting sql code, or using another sql dialect</p>\n"},{"tags":["java","eclipse","ibm-rational"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1546635475,"post_id":54044908,"comment_id":94927403,"body_markdown":"Weird. Try removing the properties related to memory usage. Or try higher values... Worst case, turn to ibm developer forums. In the end, this is a commercial product (you pay money for it, right) so talk to the people you paid for delivering a working product to you!","body":"Weird. Try removing the properties related to memory usage. Or try higher values... Worst case, turn to ibm developer forums. In the end, this is a commercial product (you pay money for it, right) so talk to the people you paid for delivering a working product to you!"},{"owner":{"account_id":14585391,"reputation":43,"user_id":10534384,"display_name":"MatKravi"},"score":0,"creation_date":1546637032,"post_id":54044908,"comment_id":94928036,"body_markdown":"It&#39;s the trial version. I just need it for one month for a study project.","body":"It&#39;s the trial version. I just need it for one month for a study project."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1546640422,"post_id":54044908,"comment_id":94929301,"body_markdown":"The VM must be specified before `-vmargs`, not at the beginning. Does moving the first two lines down directly before `-vmargs` solve your issue? If not, try to remove all lines after `-vmargs` except those that start with `-Xm` or `-D`.","body":"The VM must be specified before <code>-vmargs</code>, not at the beginning. Does moving the first two lines down directly before <code>-vmargs</code> solve your issue? If not, try to remove all lines after <code>-vmargs</code> except those that start with <code>-Xm</code> or <code>-D</code>."},{"owner":{"account_id":14585391,"reputation":43,"user_id":10534384,"display_name":"MatKravi"},"score":0,"creation_date":1546645437,"post_id":54044908,"comment_id":94930609,"body_markdown":"Didn&#39;t work, still the same.","body":"Didn&#39;t work, still the same."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1546695962,"post_id":54044908,"comment_id":94939447,"body_markdown":"At least the error message cannot be the same. What do you get if you execute `&quot;E:\\Program Files\\IBM\\SDP\\jdk\\jre\\bin\\java.exe&quot; -version` on the command line? Can folders and files be created in `E:\\Program Files\\IBM\\SDP` without admin rights? What exactly did you install (please add the download links to your question)? Where did you get the incorrect `eclipse.ini` from and which lines did you change?","body":"At least the error message cannot be the same. What do you get if you execute <code>&quot;E:\\Program Files\\IBM\\SDP\\jdk\\jre\\bin\\java.exe&quot; -version</code> on the command line? Can folders and files be created in <code>E:\\Program Files\\IBM\\SDP</code> without admin rights? What exactly did you install (please add the download links to your question)? Where did you get the incorrect <code>eclipse.ini</code> from and which lines did you change?"}],"owner":{"account_id":14585391,"reputation":43,"user_id":10534384,"display_name":"MatKravi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651224112,"creation_date":1546630088,"question_id":54044908,"body_markdown":"I&#39;m trying to install IBM rational software architect 9.7, but i get the following error all time. It appeared during installation and does the same every time I run it.\r\n[error message][1]\r\n  [1]: https://i.stack.imgur.com/ZRigo.jpg\r\n\r\nHere&#39;s the eclipse.ini file from the IBM source folder:  \r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    -vm  \r\n    E:\\Program Files\\IBM\\SDP\\jdk\\jre\\bin\\javaw.exe  \r\n    -startup  \r\n    plugins/org.eclipse.equinox.launcher_1.4.0.v20161219-1356.jar \r\n    --launcher.library    \r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.551.v20171108-1834    \r\n    -install  \r\n    E:/Program Files/IBM/SDP  \r\n    -vmargs  \r\n    -Dorg.eclipse.swt.browser.IEVersion=11001  \r\n    -Xquickstart  \r\n    -Xms512m  \r\n    -Xmx1536m  \r\n    -Xmnx64m  \r\n    -Xgcpolicy:gencon  \r\n    -Xscmx96m  \r\n    -Xshareclasses:name=IBMSDP_%u  \r\n    -XX:MaxPermSize=512M  \r\n    -Xcompressedrefs  \r\n    -Dcom.ibm.ws.management.event.max_polling_interval=1000  \r\n    -Djava.util.Arrays.useLegacyMergeSort=true \r\n\r\n  \r\n\r\nI&#39;ve reinstalled java jdk, eclipse and the IBM itself several times, this time on different disk E, instead of C, but still the same. Tried to install on ubuntu and it works normally. I&#39;ve tried latest jdk 8u192 in both 32 and 64bit version, but nothing helps.\r\n","title":"IBM software architect, Eclipse error: &quot;Java was started but returned exit code=-1&quot;","body":"<p>I'm trying to install IBM rational software architect 9.7, but i get the following error all time. It appeared during installation and does the same every time I run it.\n<a href=\"https://i.stack.imgur.com/ZRigo.jpg\" rel=\"nofollow noreferrer\">error message</a>\nHere's the eclipse.ini file from the IBM source folder:<br>\n</p>\n\n<pre><code>-vm  \nE:\\Program Files\\IBM\\SDP\\jdk\\jre\\bin\\javaw.exe  \n-startup  \nplugins/org.eclipse.equinox.launcher_1.4.0.v20161219-1356.jar \n--launcher.library    \nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.551.v20171108-1834    \n-install  \nE:/Program Files/IBM/SDP  \n-vmargs  \n-Dorg.eclipse.swt.browser.IEVersion=11001  \n-Xquickstart  \n-Xms512m  \n-Xmx1536m  \n-Xmnx64m  \n-Xgcpolicy:gencon  \n-Xscmx96m  \n-Xshareclasses:name=IBMSDP_%u  \n-XX:MaxPermSize=512M  \n-Xcompressedrefs  \n-Dcom.ibm.ws.management.event.max_polling_interval=1000  \n-Djava.util.Arrays.useLegacyMergeSort=true \n</code></pre>\n\n<p>I've reinstalled java jdk, eclipse and the IBM itself several times, this time on different disk E, instead of C, but still the same. Tried to install on ubuntu and it works normally. I've tried latest jdk 8u192 in both 32 and 64bit version, but nothing helps.</p>\n"},{"tags":["java","x509certificate","bouncycastle","csr"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1646069176,"post_id":71296120,"comment_id":126028425,"body_markdown":"If using BouncyCastle as tagged, see https://stackoverflow.com/questions/70494089/how-to-add-multi-dns-line-in-a-subjectaltname-in-java-with-bouncycastle except use one element, type directoryName and LDAP syntax (comma between not slash before) and I don&#39;t think Bouncy has all the OIDs OpenSSL does so you may need to do some explicitly","body":"If using BouncyCastle as tagged, see <a href=\"https://stackoverflow.com/questions/70494089/how-to-add-multi-dns-line-in-a-subjectaltname-in-java-with-bouncycastle\" title=\"how to add multi dns line in a subjectaltname in java with bouncycastle\">stackoverflow.com/questions/70494089/&hellip;</a> except use one element, type directoryName and LDAP syntax (comma between not slash before) and I don&#39;t think Bouncy has all the OIDs OpenSSL does so you may need to do some explicitly"}],"answers":[{"tags":[],"owner":{"account_id":23824799,"reputation":49,"user_id":17832003,"display_name":"Tavark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646073086,"creation_date":1646073086,"answer_id":71299525,"question_id":71296120,"body_markdown":"I had the similar problem just last week, but with additional signing of rootCA key:\r\n\r\n    function genExtfile() {\r\n        domain=$1\r\n        cat &lt;&lt; EOF\r\n            authorityKeyIdentifier=keyid,issuer\\n\r\n            keyUsage=critical,digitalSignature,keyEncipherment\\n\r\n            extendedKeyUsage = serverAuth, clientAuth\\n\r\n        subjectAltName = @alt_names\\n\r\n        [alt_names]\\n\r\n            DNS.1 = $domain\r\n            DNS.2 = $domain/foobar\r\n        EOF\r\n    }\r\n\r\n    extFile=$(genExtfile mydomain.com)\r\n\r\n    openssl x509 -req -in mydomain.com.csr -CA rootCA.crt -CAkey rootCA.key -CAcreateserial \\\r\n      -out mydomain.com.crt -days 4000 -sha512 -passin pass:rootCAPwd -extfile &lt;(printf &quot;$extFile&quot;) ","title":"How to set custom value in SAN while generating CSR in java?","body":"<p>I had the similar problem just last week, but with additional signing of rootCA key:</p>\n<pre><code>function genExtfile() {\n    domain=$1\n    cat &lt;&lt; EOF\n        authorityKeyIdentifier=keyid,issuer\\n\n        keyUsage=critical,digitalSignature,keyEncipherment\\n\n        extendedKeyUsage = serverAuth, clientAuth\\n\n    subjectAltName = @alt_names\\n\n    [alt_names]\\n\n        DNS.1 = $domain\n        DNS.2 = $domain/foobar\n    EOF\n}\n\nextFile=$(genExtfile mydomain.com)\n\nopenssl x509 -req -in mydomain.com.csr -CA rootCA.crt -CAkey rootCA.key -CAcreateserial \\\n  -out mydomain.com.crt -days 4000 -sha512 -passin pass:rootCAPwd -extfile &lt;(printf &quot;$extFile&quot;) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20392184,"reputation":21,"user_id":14959869,"display_name":"Renjith V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651223718,"creation_date":1649162484,"answer_id":71751983,"question_id":71296120,"body_markdown":"Able to add directory names using bouncy castle except title and registeredAddress. \r\n\r\nThose two are throwing error as invalid OID&#39;s..\r\n\r\n    GeneralName[] subjectAltNames = new GeneralName[] {\r\n                            new GeneralName(GeneralName.directoryName, &quot;SN=2222232444343jff432,UID=310175397400003,&quot; +\r\n    //                                &quot;title=1011,registeredAddress=Sample E,&quot; +\r\n                                    &quot;businessCategory=Sample Business&quot;) };\r\n    \r\n    Extension subjectAltName =\r\n                    Extension.create(Extension.subjectAlternativeName, false, new GeneralNames(subjectAltNames));\r\n\r\nAny idea on how to add the invalid OIDs?\r\n","title":"How to set custom value in SAN while generating CSR in java?","body":"<p>Able to add directory names using bouncy castle except title and registeredAddress.</p>\n<p>Those two are throwing error as invalid OID's..</p>\n<pre><code>GeneralName[] subjectAltNames = new GeneralName[] {\n                        new GeneralName(GeneralName.directoryName, &quot;SN=2222232444343jff432,UID=310175397400003,&quot; +\n//                                &quot;title=1011,registeredAddress=Sample E,&quot; +\n                                &quot;businessCategory=Sample Business&quot;) };\n\nExtension subjectAltName =\n                Extension.create(Extension.subjectAlternativeName, false, new GeneralNames(subjectAltNames));\n</code></pre>\n<p>Any idea on how to add the invalid OIDs?</p>\n"}],"owner":{"account_id":19503945,"reputation":31,"user_id":14269384,"display_name":"keerthana k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651223724,"creation_date":1646056705,"question_id":71296120,"body_markdown":"Need to generate CSR with SAN like this\r\n\r\nSubject Alternative Names: DirName:/SN=1345332443jff432/UID=12347577400003/title=0011/registeredAddress=Sample E/businessCategory=Sample Business","title":"How to set custom value in SAN while generating CSR in java?","body":"<p>Need to generate CSR with SAN like this</p>\n<p>Subject Alternative Names: DirName:/SN=1345332443jff432/UID=12347577400003/title=0011/registeredAddress=Sample E/businessCategory=Sample Business</p>\n"},{"tags":["java","google-sheets"],"answers":[{"tags":[],"owner":{"account_id":12329796,"reputation":1924,"user_id":8996211,"display_name":"Kessy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651223720,"creation_date":1651223720,"answer_id":72055600,"question_id":72032564,"body_markdown":"There is a limit on read and write requests `per minute` and `per minute per user per project`.\r\n\r\nIt is unlimited on read and write `per day per project`.\r\n\r\nYou can check it on the documentation on [usage limits for the Sheets API](https://developers.google.com/sheets/api/limits):\r\n\r\n| Quotas         |                                 |           |   |   |\r\n|----------------|---------------------------------|-----------|---|---|\r\n| Read requests  | Per day per project             | Unlimited |   |   |\r\n|                | Per minute per project          | 300       |   |   |\r\n|                | Per minute per user per project | 60        |   |   |\r\n| Write requests | Per day per project             | Unlimited |   |   |\r\n|                | Per minute per project          | 300       |   |   |\r\n|                | Per minute per user per project | 60        |   |   |\r\n\r\nAlso, to check your personal quotas you can use the Cloud Console as mentioned on [Request a quota increase](https://developers.google.com/sheets/api/limits#increase):\r\n\r\n - [View your current quota usage and limits](https://console.cloud.google.com/apis/api/sheets.googleapis.com/quotas)","title":"Google Sheets Batch Update payload Limits","body":"<p>There is a limit on read and write requests <code>per minute</code> and <code>per minute per user per project</code>.</p>\n<p>It is unlimited on read and write <code>per day per project</code>.</p>\n<p>You can check it on the documentation on <a href=\"https://developers.google.com/sheets/api/limits\" rel=\"nofollow noreferrer\">usage limits for the Sheets API</a>:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Quotas</th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Read requests</td>\n<td>Per day per project</td>\n<td>Unlimited</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>Per minute per project</td>\n<td>300</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>Per minute per user per project</td>\n<td>60</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>Write requests</td>\n<td>Per day per project</td>\n<td>Unlimited</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>Per minute per project</td>\n<td>300</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>Per minute per user per project</td>\n<td>60</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Also, to check your personal quotas you can use the Cloud Console as mentioned on <a href=\"https://developers.google.com/sheets/api/limits#increase\" rel=\"nofollow noreferrer\">Request a quota increase</a>:</p>\n<ul>\n<li><a href=\"https://console.cloud.google.com/apis/api/sheets.googleapis.com/quotas\" rel=\"nofollow noreferrer\">View your current quota usage and limits</a></li>\n</ul>\n"}],"owner":{"account_id":19206462,"reputation":193,"user_id":14033226,"display_name":"njari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651223720,"creation_date":1651078144,"question_id":72032564,"body_markdown":"So I&#39;m doing a batchUpdate for a lot of data. Personally, I&#39;d love to upload all of it in one shot. \r\nHowever, I suspect there might be some limitations as to the number of rows updated per call or the payload size. I couldn&#39;t find any documentation on this. \r\n\r\nI want to know what is the best practice here. Do I assume there is no limit because of the lack of documentation? Or I set a conservative limit on my end (this could mean multiple calls for me).","title":"Google Sheets Batch Update payload Limits","body":"<p>So I'm doing a batchUpdate for a lot of data. Personally, I'd love to upload all of it in one shot.\nHowever, I suspect there might be some limitations as to the number of rows updated per call or the payload size. I couldn't find any documentation on this.</p>\n<p>I want to know what is the best practice here. Do I assume there is no limit because of the lack of documentation? Or I set a conservative limit on my end (this could mean multiple calls for me).</p>\n"},{"tags":["java","jwt"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651230500,"post_id":72055515,"comment_id":127320202,"body_markdown":"There are no KIDs in a Java keystore, only aliases. You will have to arrange matters so that they are the same thing. But how is the peer going to know your private KID?","body":"There are no KIDs in a Java keystore, only aliases. You will have to arrange matters so that they are the same thing. But how is the peer going to know your private KID?"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1651234730,"post_id":72055515,"comment_id":127321702,"body_markdown":"Why do you want the _private_ key? You should verify a JWT using the issuer&#39;s public key, which you should be able to find at `ISSUER_URL/.well-known/jwks.json`. And, of course, you need to have the `ISSUER_URL` configured in your application; don&#39;t use the `iss` claim in the JWT!","body":"Why do you want the <i>private</i> key? You should verify a JWT using the issuer&#39;s public key, which you should be able to find at <code>ISSUER_URL&#47;.well-known&#47;jwks.json</code>. And, of course, you need to have the <code>ISSUER_URL</code> configured in your application; don&#39;t use the <code>iss</code> claim in the JWT!"},{"owner":{"account_id":1268545,"reputation":31,"user_id":1225321,"display_name":"BKruger"},"score":0,"creation_date":1651235252,"post_id":72055515,"comment_id":127321880,"body_markdown":"I am the issuer, the client will send me a message. I then need to use that KID to see which private cert I must use to decrypt the message. There will be multiple private certs in my key-store. So I use the private key with - RSADecryptor(privateKey)","body":"I am the issuer, the client will send me a message. I then need to use that KID to see which private cert I must use to decrypt the message. There will be multiple private certs in my key-store. So I use the private key with - RSADecryptor(privateKey)"},{"owner":{"account_id":1268545,"reputation":31,"user_id":1225321,"display_name":"BKruger"},"score":0,"creation_date":1651235809,"post_id":72055515,"comment_id":127322106,"body_markdown":"This is not my implementation, it is a big international company that use the KID to find the key dynamically between other keys.","body":"This is not my implementation, it is a big international company that use the KID to find the key dynamically between other keys."},{"owner":{"account_id":1268545,"reputation":31,"user_id":1225321,"display_name":"BKruger"},"score":0,"creation_date":1651236453,"post_id":72055515,"comment_id":127322349,"body_markdown":"Just to clarify, the KID in the key-store is part of a few bytes in the private key. Seems I will have to read every private key and compare those bytes at a certain position with the KID then. Will cache it for the day not to go through the process every time.","body":"Just to clarify, the KID in the key-store is part of a few bytes in the private key. Seems I will have to read every private key and compare those bytes at a certain position with the KID then. Will cache it for the day not to go through the process every time."}],"owner":{"account_id":1268545,"reputation":31,"user_id":1225321,"display_name":"BKruger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651223378,"creation_date":1651223378,"question_id":72055515,"body_markdown":"Good day. Is there a call in a Java that can use a KID from a JWT header that will find the correct private key in the key-store? I know how to do it, using the alias, but do not see anything using the KID. Thank you.","title":"JWT - Find private key by using the KID in key-store in Java","body":"<p>Good day. Is there a call in a Java that can use a KID from a JWT header that will find the correct private key in the key-store? I know how to do it, using the alias, but do not see anything using the KID. Thank you.</p>\n"},{"tags":["java","unit-testing","testing","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1651123506,"post_id":72030264,"comment_id":127288877,"body_markdown":"You mean that you want to have one `QuarkusTestResourceLifecycleManager` apply to one `QuarkusTestProfile` and another applying to second test profile?","body":"You mean that you want to have one <code>QuarkusTestResourceLifecycleManager</code> apply to one <code>QuarkusTestProfile</code> and another applying to second test profile?"},{"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"score":0,"creation_date":1651128997,"post_id":72030264,"comment_id":127290381,"body_markdown":"Exactly, that&#39;s what I want to achieve!","body":"Exactly, that&#39;s what I want to achieve!"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651223190,"creation_date":1651223190,"answer_id":72055481,"question_id":72030264,"body_markdown":"`QuarkusTestProfile` has the `testResources` method that you can use for this case. See https://github.com/quarkusio/quarkus/blob/2.9.0.CR1/integration-tests/spring-web/src/test/java/io/quarkus/it/spring/web/testprofile/Profiles.java#L35 for an example usage.","title":"Different @QuarkusTestResource per Quarkus profile","body":"<p><code>QuarkusTestProfile</code> has the <code>testResources</code> method that you can use for this case. See <a href=\"https://github.com/quarkusio/quarkus/blob/2.9.0.CR1/integration-tests/spring-web/src/test/java/io/quarkus/it/spring/web/testprofile/Profiles.java#L35\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/blob/2.9.0.CR1/integration-tests/spring-web/src/test/java/io/quarkus/it/spring/web/testprofile/Profiles.java#L35</a> for an example usage.</p>\n"}],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651223190,"creation_date":1651068501,"question_id":72030264,"body_markdown":"I have just set up my project to use `H2DatabaseTestResource` in the tests. \r\nI also have created a custom `PostgresDatabaseTestResource`, following [this brilliant blog][1]\r\n\r\nIf I manually change the `***DatabaseTestResource` written in the `@QuarkusTestResource` annotation, they both work separately.\r\n\r\nWhat I want to achieve now is to use one resource or the other based on a Quarkus profile or something similar, but I could not find a way to do this.\r\n\r\nAny idea?\r\n\r\n\r\n  [1]: https://www.morling.dev/blog/quarkus-and-testcontainers/","title":"Different @QuarkusTestResource per Quarkus profile","body":"<p>I have just set up my project to use <code>H2DatabaseTestResource</code> in the tests.\nI also have created a custom <code>PostgresDatabaseTestResource</code>, following <a href=\"https://www.morling.dev/blog/quarkus-and-testcontainers/\" rel=\"nofollow noreferrer\">this brilliant blog</a></p>\n<p>If I manually change the <code>***DatabaseTestResource</code> written in the <code>@QuarkusTestResource</code> annotation, they both work separately.</p>\n<p>What I want to achieve now is to use one resource or the other based on a Quarkus profile or something similar, but I could not find a way to do this.</p>\n<p>Any idea?</p>\n"},{"tags":["java","list","java-stream","mapping"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1651221158,"post_id":72051450,"comment_id":127317176,"body_markdown":"Don’t use minus as comparator function. Minus can overflow. Minus has no advantage over a straightforward `Integer.compare(y ,x)`. Instead of mapping to a property before sorting, you have to use a comparator for a property, `a.sorted(Comparator.comparingInt((Avenger x) -&gt; x.appearances).reversed()).map(x -&gt; name).collect(Collectors.toList())` The code would benefit from getter methods, as then, you can write `a.sorted(Comparator.comparingInt(Avenger::getAppearances).reverse()).map(Avenger::getName).collect(Collectors.toList())`","body":"Don’t use minus as comparator function. Minus can overflow. Minus has no advantage over a straightforward <code>Integer.compare(y ,x)</code>. Instead of mapping to a property before sorting, you have to use a comparator for a property, <code>a.sorted(Comparator.comparingInt((Avenger x) -&gt; x.appearances).reversed()).map(x -&gt; name).collect(Collectors.toList())</code> The code would benefit from getter methods, as then, you can write <code>a.sorted(Comparator.comparingInt(Avenger::getAppearances).re&zwnj;&#8203;verse()).map(Avenger&zwnj;&#8203;::getName).collect(C&zwnj;&#8203;ollectors.toList())</code>"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651222142,"creation_date":1651221120,"answer_id":72055026,"question_id":72051450,"body_markdown":"I think it should be enough to only remove the first `map` operation and perform the comparing like so \r\n\r\n`sorted(Comparator.comparingInt((Avenger x) -&gt; x.appearances).reversed())` \r\n\r\nThen, you sort of keep things how you&#39;ve done in your code. You limit the top 10 results, map each avenger to their name and finally collect the results.\r\n\r\n```\r\nstatic Function&lt;Stream&lt;Avenger&gt;, List&lt;String&gt;&gt; getTop10ByAppearances = a -&gt;\r\n                a.sorted(Comparator.comparingInt((Avenger x) -&gt; x.appearances).reversed())\r\n                .limit(10)\r\n                .map(p -&gt; p.name)\r\n                .collect(Collectors.toList());\r\n```","title":"(Java) How to map one column of a CSV file to another column of a different type?","body":"<p>I think it should be enough to only remove the first <code>map</code> operation and perform the comparing like so</p>\n<p><code>sorted(Comparator.comparingInt((Avenger x) -&gt; x.appearances).reversed())</code></p>\n<p>Then, you sort of keep things how you've done in your code. You limit the top 10 results, map each avenger to their name and finally collect the results.</p>\n<pre><code>static Function&lt;Stream&lt;Avenger&gt;, List&lt;String&gt;&gt; getTop10ByAppearances = a -&gt;\n                a.sorted(Comparator.comparingInt((Avenger x) -&gt; x.appearances).reversed())\n                .limit(10)\n                .map(p -&gt; p.name)\n                .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":24239469,"reputation":37,"user_id":18192067,"display_name":"John Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72055026,"answer_count":1,"score":0,"last_activity_date":1651222142,"creation_date":1651190628,"question_id":72051450,"body_markdown":"So for this problem, my function is supposed to return the top-10 list of avengers with the most appearances (in\r\ndecreasing order). &lt;br/&gt;\r\nIn the `Avenger` class it is much like a basic `Person` class however there are no getter functions, just fields that represent their name, gender, appearances, etc. \r\n\r\n    public class Avenger {\r\n        public final String name;\r\n        public final int appearances;\r\n        public final String gender;\r\n        public final int year;\r\n        public final String honorary;\r\n        public final String[] deaths;\r\n        public final String[] returns;\r\n        public final String notes;\r\n    \r\n        public Avenger(String name,\r\n                       int appearances,\r\n                       String gender,\r\n                       int year,\r\n                       String honorary,\r\n                       String[] deaths,\r\n                       String[] returns,\r\n                       String notes) {\r\n            this.name = name;\r\n            this.appearances = appearances;\r\n            this.gender = gender;\r\n            this.year = year;\r\n            this.honorary = honorary;\r\n            this.deaths = deaths;\r\n            this.returns = returns;\r\n            this.notes = notes;\r\n        }\r\n    \r\n        public static Avenger valueOf(String line) {\r\n            String[] array = line.split(&quot;,&quot;);\r\n            String name = array[0];\r\n            int appearances = Integer.valueOf(array[1]);\r\n            String gender = array[2];\r\n            int year = Integer.valueOf(array[3]);\r\n            String honorary = array[4];\r\n            String[] deaths = new String[5];\r\n            String[] returns = new String[5];\r\n            String notes = array[15];\r\n    \r\n            int index = 5;\r\n            int i = 0;\r\n            while (index &lt; 15) {\r\n                deaths[i] = array[index++];\r\n                returns[i] = array[index++];\r\n                i++;\r\n            }\r\n            return new Avenger(name, appearances, gender, year, honorary, deaths, returns, notes);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Avenger [name=&quot; + name + &quot;, appearances=&quot; + appearances + &quot;, gender=&quot; + gender + &quot;, year=&quot; + year\r\n                    + &quot;, honorary=&quot; + honorary + &quot;, deaths=&quot; + Arrays.toString(deaths) + &quot;, returns=&quot;\r\n                    + Arrays.toString(returns) + &quot;, notes=&quot; + notes + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\nMy function is getting the top `10 APPEARANCES`, and the numbers it is returning are correct.\r\n\r\n    static Function&lt;Stream&lt;Avenger&gt;, List&lt;String&gt;&gt; getTop10ByAppearances = a -&gt; \r\n    a.map(s -&gt; s.appearances).sorted((x, y) -&gt; y - x).limit(10)\r\n    .map(p -&gt; p.toString()).collect(Collectors.toList());\r\n\r\nHowever, I don&#39;t need it to return the numbers, I need it to return the `NAMES` that correspond to those numbers. So my question is How can I map what I have here to the names and then return the `List&lt;String&gt;` of those names?\r\n\r\n","title":"(Java) How to map one column of a CSV file to another column of a different type?","body":"<p>So for this problem, my function is supposed to return the top-10 list of avengers with the most appearances (in\ndecreasing order). <br/>\nIn the <code>Avenger</code> class it is much like a basic <code>Person</code> class however there are no getter functions, just fields that represent their name, gender, appearances, etc.</p>\n<pre><code>public class Avenger {\n    public final String name;\n    public final int appearances;\n    public final String gender;\n    public final int year;\n    public final String honorary;\n    public final String[] deaths;\n    public final String[] returns;\n    public final String notes;\n\n    public Avenger(String name,\n                   int appearances,\n                   String gender,\n                   int year,\n                   String honorary,\n                   String[] deaths,\n                   String[] returns,\n                   String notes) {\n        this.name = name;\n        this.appearances = appearances;\n        this.gender = gender;\n        this.year = year;\n        this.honorary = honorary;\n        this.deaths = deaths;\n        this.returns = returns;\n        this.notes = notes;\n    }\n\n    public static Avenger valueOf(String line) {\n        String[] array = line.split(&quot;,&quot;);\n        String name = array[0];\n        int appearances = Integer.valueOf(array[1]);\n        String gender = array[2];\n        int year = Integer.valueOf(array[3]);\n        String honorary = array[4];\n        String[] deaths = new String[5];\n        String[] returns = new String[5];\n        String notes = array[15];\n\n        int index = 5;\n        int i = 0;\n        while (index &lt; 15) {\n            deaths[i] = array[index++];\n            returns[i] = array[index++];\n            i++;\n        }\n        return new Avenger(name, appearances, gender, year, honorary, deaths, returns, notes);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Avenger [name=&quot; + name + &quot;, appearances=&quot; + appearances + &quot;, gender=&quot; + gender + &quot;, year=&quot; + year\n                + &quot;, honorary=&quot; + honorary + &quot;, deaths=&quot; + Arrays.toString(deaths) + &quot;, returns=&quot;\n                + Arrays.toString(returns) + &quot;, notes=&quot; + notes + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>My function is getting the top <code>10 APPEARANCES</code>, and the numbers it is returning are correct.</p>\n<pre><code>static Function&lt;Stream&lt;Avenger&gt;, List&lt;String&gt;&gt; getTop10ByAppearances = a -&gt; \na.map(s -&gt; s.appearances).sorted((x, y) -&gt; y - x).limit(10)\n.map(p -&gt; p.toString()).collect(Collectors.toList());\n</code></pre>\n<p>However, I don't need it to return the numbers, I need it to return the <code>NAMES</code> that correspond to those numbers. So my question is How can I map what I have here to the names and then return the <code>List&lt;String&gt;</code> of those names?</p>\n"},{"tags":["javascript","java","selenium"],"owner":{"account_id":24109599,"reputation":85,"user_id":18080361,"display_name":"Pratik P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651222082,"creation_date":1651222082,"question_id":72055236,"body_markdown":"I am trying to access values in a drop down which when I inspect, nothing is been in element inspector. I confirmed with developer what type of drop down is that he said agSelectCellEditor drop down. We then tried using following Javascript code in console which was changing the drop down values. \r\n\r\n    var x=document.querySelector(&quot;div[aria-colindex=&#39;3&#39;][class=&#39;ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value ag-cell-wrap-text ag-cell-focus&#39;]\r\n    x.textContent=&quot;Custodian&quot;\r\n\r\nSo that changed the drop down value from default value to Custodian. \r\nNow I tried to inject this code in JavaScriptExecutor like this. \r\n\r\n    JavascriptExecutor js = (JavascriptExecutor)driver;\r\n    js.executeScript(&quot;var x=document.querySelector(\\&quot;div[aria-colindex=&#39;3&#39;][class=&#39;ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value ag-cell-wrap-text ag-cell-focus&#39;]\\&quot;)&quot;\r\n    + &quot;x.textContent=\\&quot;Custodian\\&quot;;&quot;);\r\n\r\nIt is giving me exception\r\norg.openqa.selenium.JavascriptException: javascript error: Unexpected identifier\r\n\r\nPlease help me automating this using Selenium. How to deal with this dropdown? \r\n\r\n","title":"Change a agSelectCellEditor drop down value using selenium","body":"<p>I am trying to access values in a drop down which when I inspect, nothing is been in element inspector. I confirmed with developer what type of drop down is that he said agSelectCellEditor drop down. We then tried using following Javascript code in console which was changing the drop down values.</p>\n<pre><code>var x=document.querySelector(&quot;div[aria-colindex='3'][class='ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value ag-cell-wrap-text ag-cell-focus']\nx.textContent=&quot;Custodian&quot;\n</code></pre>\n<p>So that changed the drop down value from default value to Custodian.\nNow I tried to inject this code in JavaScriptExecutor like this.</p>\n<pre><code>JavascriptExecutor js = (JavascriptExecutor)driver;\njs.executeScript(&quot;var x=document.querySelector(\\&quot;div[aria-colindex='3'][class='ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value ag-cell-wrap-text ag-cell-focus']\\&quot;)&quot;\n+ &quot;x.textContent=\\&quot;Custodian\\&quot;;&quot;);\n</code></pre>\n<p>It is giving me exception\norg.openqa.selenium.JavascriptException: javascript error: Unexpected identifier</p>\n<p>Please help me automating this using Selenium. How to deal with this dropdown?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":9598629,"reputation":486,"user_id":7126967,"display_name":"Raw"},"score":0,"creation_date":1651219842,"post_id":72054361,"comment_id":127316768,"body_markdown":"Show stacktrace .\nI think you should try with in Platform.runlater(() -&gt;{...});","body":"Show stacktrace . I think you should try with in Platform.runlater(() -&gt;{...});"},{"owner":{"account_id":24965226,"reputation":1,"user_id":18828820,"display_name":"Ayesha Chowdhury Rimi"},"score":0,"creation_date":1651222021,"post_id":72054361,"comment_id":127317485,"body_markdown":"Updated with error list @Raw","body":"Updated with error list @Raw"},{"owner":{"account_id":24965226,"reputation":1,"user_id":18828820,"display_name":"Ayesha Chowdhury Rimi"},"score":0,"creation_date":1651223706,"post_id":72054361,"comment_id":127318049,"body_markdown":"It&#39;s solved actually I misspelled the path","body":"It&#39;s solved actually I misspelled the path"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1651259488,"post_id":72054361,"comment_id":127330349,"body_markdown":"Note the suggestion for using `Platform.runLater` would only be applicable if you had a multi-threaded app, which you don&#39;t (as far as I can tell).","body":"Note the suggestion for using <code>Platform.runLater</code> would only be applicable if you had a multi-threaded app, which you don&#39;t (as far as I can tell)."}],"owner":{"account_id":24965226,"reputation":1,"user_id":18828820,"display_name":"Ayesha Chowdhury Rimi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651223632,"answer_count":0,"score":0,"last_activity_date":1651221984,"creation_date":1651217841,"question_id":72054361,"body_markdown":"I tried to add 3options for signup using the choice box in javafx and I write the code below to open 3 different windows for signup. From the signup windows i wanted to add a back button so that it returns to the homepage but when I click back button it shows error-\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\r\n```\r\npackage Ayesha.Controller;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ChoiceBox;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.shape.Arc;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class HomePageController {\r\n\r\n    @FXML\r\n    private ResourceBundle resources;\r\n\r\n    @FXML\r\n    private URL location;\r\n\r\n    @FXML\r\n    private Label Appname;\r\n\r\n    @FXML\r\n    private Label Llogo;\r\n\r\n    @FXML\r\n    private Label Slogo;\r\n\r\n    @FXML\r\n    private ImageView appHomeImg;\r\n\r\n    @FXML\r\n    private Button contact;\r\n\r\n    @FXML\r\n    private Button dashboard;\r\n\r\n    @FXML\r\n    private Button SignUp;\r\n\r\n    @FXML\r\n    private Button login;\r\n\r\n    @FXML\r\n    private Arc logo;\r\n\r\n    @FXML\r\n    private ChoiceBox&lt;String&gt; typeOfUser;\r\n\r\n    @FXML\r\n    private Label welcomeText;\r\n\r\n    @FXML\r\n    void loginAction(ActionEvent event) throws IOException {\r\n        Slogo.getScene().getWindow().hide();\r\n        Stage logIN = new Stage();\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/design.fxml&quot;));\r\n        Scene sc = new Scene(root);\r\n        logIN.setScene(sc);\r\n        logIN.show();\r\n        logIN.setResizable(false);\r\n    }\r\n\r\n    @FXML\r\n    void signUpAction(ActionEvent event) throws IOException {\r\n        Slogo.getScene().getWindow().hide();\r\n        Stage signup = new Stage();\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/StudentSignUp.fxml&quot;));\r\n        Scene scene = new Scene(root);\r\n        signup.setScene(scene);\r\n        signup.setTitle(&quot;Student Signup Form&quot;);\r\n        if(typeOfUser.getSelectionModel().getSelectedItem().equals(&quot;Student&quot;)){\r\n             root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/StudentSignUp.fxml&quot;));\r\n             scene = new Scene(root);\r\n            signup.setScene(scene);\r\n            signup.setTitle(&quot;Student Signup Form&quot;);\r\n        }\r\n        if(typeOfUser.getSelectionModel().getSelectedItem().equals(&quot;Teacher&quot;)){\r\n             root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/TeacherSignUp.fxml&quot;));\r\n             scene = new Scene(root);\r\n            signup.setScene(scene);\r\n            signup.setTitle(&quot;Teacher Signup Form&quot;);\r\n        }\r\n        if(typeOfUser.getSelectionModel().getSelectedItem().equals(&quot;Instructor&quot;)){\r\n             root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/InstructorSignUp.fxml&quot;));\r\n             scene = new Scene(root);\r\n            signup.setScene(scene);\r\n            signup.setTitle(&quot;Instructor Signup Form&quot;);\r\n        }\r\n        signup.show();\r\n        signup.setResizable(false);\r\n    }\r\n\r\n    /*@FXML\r\n    void signUpAction(ActionEvent event) throws IOException {\r\n        Slogo.getScene().getWindow().hide();\r\n        Stage signup = new Stage();\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/SignUp.fxml&quot;));\r\n        Scene scene = new Scene(root);\r\n        signup.setScene(scene);\r\n        signup.show();\r\n        signup.setResizable(false);\r\n    }*/\r\n\r\n    @FXML\r\n    void initialize() {\r\n        typeOfUser.getItems().addAll(&quot;Student&quot;,&quot;Teacher&quot;,&quot;Instructor&quot;);\r\n        typeOfUser.setValue(&quot;Student&quot;);\r\n    }\r\n}\r\n```\r\nerrors\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@18/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml@18/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@18/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@18/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@18/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@18/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@18/javafx.scene.Node.fireEvent(Node.java:8797)\r\n\tat javafx.controls@18/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@18/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\r\n\tat javafx.controls@18/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@18/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@18/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@18/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@18/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@18/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@18/javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\r\n\tat javafx.graphics@18/javafx.scene.Scene.processMouseEvent(Scene.java:1874)\r\n\tat javafx.graphics@18/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\r\n\tat javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@18/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@18/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@18/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@18/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@18/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat javafx.base@18/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@18/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@18/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\r\n\t... 46 more\r\nCaused by: java.lang.IllegalStateException: Location is not set.\r\n\tat javafx.fxml@18/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)\r\n\tat javafx.fxml@18/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n\tat ayesha/Ayesha.Controller.StudentSignUpController.backHome(StudentSignUpController.java:63)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 53 more\r\n\r\nProcess finished with exit code 0\r\n```","title":"Thread exception","body":"<p>I tried to add 3options for signup using the choice box in javafx and I write the code below to open 3 different windows for signup. From the signup windows i wanted to add a back button so that it returns to the homepage but when I click back button it shows error-\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException</p>\n<pre><code>package Ayesha.Controller;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ChoiceBox;\nimport javafx.scene.control.Label;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.shape.Arc;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class HomePageController {\n\n    @FXML\n    private ResourceBundle resources;\n\n    @FXML\n    private URL location;\n\n    @FXML\n    private Label Appname;\n\n    @FXML\n    private Label Llogo;\n\n    @FXML\n    private Label Slogo;\n\n    @FXML\n    private ImageView appHomeImg;\n\n    @FXML\n    private Button contact;\n\n    @FXML\n    private Button dashboard;\n\n    @FXML\n    private Button SignUp;\n\n    @FXML\n    private Button login;\n\n    @FXML\n    private Arc logo;\n\n    @FXML\n    private ChoiceBox&lt;String&gt; typeOfUser;\n\n    @FXML\n    private Label welcomeText;\n\n    @FXML\n    void loginAction(ActionEvent event) throws IOException {\n        Slogo.getScene().getWindow().hide();\n        Stage logIN = new Stage();\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/design.fxml&quot;));\n        Scene sc = new Scene(root);\n        logIN.setScene(sc);\n        logIN.show();\n        logIN.setResizable(false);\n    }\n\n    @FXML\n    void signUpAction(ActionEvent event) throws IOException {\n        Slogo.getScene().getWindow().hide();\n        Stage signup = new Stage();\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/StudentSignUp.fxml&quot;));\n        Scene scene = new Scene(root);\n        signup.setScene(scene);\n        signup.setTitle(&quot;Student Signup Form&quot;);\n        if(typeOfUser.getSelectionModel().getSelectedItem().equals(&quot;Student&quot;)){\n             root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/StudentSignUp.fxml&quot;));\n             scene = new Scene(root);\n            signup.setScene(scene);\n            signup.setTitle(&quot;Student Signup Form&quot;);\n        }\n        if(typeOfUser.getSelectionModel().getSelectedItem().equals(&quot;Teacher&quot;)){\n             root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/TeacherSignUp.fxml&quot;));\n             scene = new Scene(root);\n            signup.setScene(scene);\n            signup.setTitle(&quot;Teacher Signup Form&quot;);\n        }\n        if(typeOfUser.getSelectionModel().getSelectedItem().equals(&quot;Instructor&quot;)){\n             root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/InstructorSignUp.fxml&quot;));\n             scene = new Scene(root);\n            signup.setScene(scene);\n            signup.setTitle(&quot;Instructor Signup Form&quot;);\n        }\n        signup.show();\n        signup.setResizable(false);\n    }\n\n    /*@FXML\n    void signUpAction(ActionEvent event) throws IOException {\n        Slogo.getScene().getWindow().hide();\n        Stage signup = new Stage();\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/Ayesha/FXML/SignUp.fxml&quot;));\n        Scene scene = new Scene(root);\n        signup.setScene(scene);\n        signup.show();\n        signup.setResizable(false);\n    }*/\n\n    @FXML\n    void initialize() {\n        typeOfUser.getItems().addAll(&quot;Student&quot;,&quot;Teacher&quot;,&quot;Instructor&quot;);\n        typeOfUser.setValue(&quot;Student&quot;);\n    }\n}\n</code></pre>\n<p>errors</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@18/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@18/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@18/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@18/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@18/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@18/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@18/javafx.scene.Node.fireEvent(Node.java:8797)\n    at javafx.controls@18/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@18/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\n    at javafx.controls@18/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@18/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@18/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@18/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@18/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@18/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@18/javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\n    at javafx.graphics@18/javafx.scene.Scene.processMouseEvent(Scene.java:1874)\n    at javafx.graphics@18/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\n    at javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@18/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@18/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@18/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@18/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@18/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at javafx.base@18/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@18/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@18/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\n    ... 46 more\nCaused by: java.lang.IllegalStateException: Location is not set.\n    at javafx.fxml@18/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)\n    at javafx.fxml@18/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\n    at ayesha/Ayesha.Controller.StudentSignUpController.backHome(StudentSignUpController.java:63)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 53 more\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","dataframe","apache-spark","transform","apache-spark-mllib"],"comments":[{"owner":{"account_id":8805149,"reputation":1215,"user_id":6580080,"display_name":"bonnal-enzo"},"score":0,"creation_date":1650979664,"post_id":72013742,"comment_id":127248450,"body_markdown":"You can be inspired and adapt the answer for PySpark from https://stackoverflow.com/questions/32331848/create-a-custom-transformer-in-pyspark-ml","body":"You can be inspired and adapt the answer for PySpark from <a href=\"https://stackoverflow.com/questions/32331848/create-a-custom-transformer-in-pyspark-ml\" title=\"create a custom transformer in pyspark ml\">stackoverflow.com/questions/32331848/&hellip;</a>"},{"owner":{"account_id":24741800,"reputation":51,"user_id":18628457,"display_name":"ngi"},"score":0,"creation_date":1650987061,"post_id":72013742,"comment_id":127251604,"body_markdown":"@bonnal-enzo I am new to big data and really not getting this how to do and even not getting and sample or any example in java that how to use it.","body":"@bonnal-enzo I am new to big data and really not getting this how to do and even not getting and sample or any example in java that how to use it."}],"answers":[{"tags":[],"owner":{"account_id":8809997,"reputation":345,"user_id":6583329,"accept_rate":67,"display_name":"MostlyJava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651221809,"creation_date":1651220900,"answer_id":72054980,"question_id":72013742,"body_markdown":"You need to extends **org.apache.spark.ml.Transformer** class, this is an abstract class so you have to provide implementation of abstract methods.&lt;br&gt;\r\nAs I have seen that in most of the cases we needs to provide implementation of **transform(Dataset&lt;?&gt; dataset)** method and  implementation of **String uid(**) .&lt;br&gt;\r\nExample:&lt;br&gt;\r\n\r\n    public class CustomTransformer extends Transformer{\r\n    \r\n     private final String uid_;\r\n    \r\n     public CustomTransformer(){\r\n      this(Identifiable.randomUID(&quot;Custom Transformer&quot;));\r\n     }\r\n    \r\n     @Override\r\n     public String uid(){\r\n      return uid_;\r\n     }\r\n    \r\n    @Override\r\n    public Transformer copy(ParamMap extra){\r\n      return defaultCopy(extra);\r\n    }\r\n    \r\n    @Override\r\n    public Dataset&lt;Row&gt; transform(Dataset&lt;?&gt; dataset){\r\n     // do your work and return Dataset object\r\n    }\r\n    \r\n    @Override\r\n    public StructType transformSchema(StructType schema){\r\n      return schema;\r\n    }\r\n   }\r\n&lt;br&gt;I am also new in this so I suggest you should learn what are the uses of these abstract methods.","title":"Best way to Create a custom Transformer In Java spark ml","body":"<p>You need to extends <strong>org.apache.spark.ml.Transformer</strong> class, this is an abstract class so you have to provide implementation of abstract methods.<br>\nAs I have seen that in most of the cases we needs to provide implementation of <strong>transform(Dataset&lt;?&gt; dataset)</strong> method and  implementation of <strong>String uid(</strong>) .<br>\nExample:<br></p>\n<pre><code>public class CustomTransformer extends Transformer{\n\n private final String uid_;\n\n public CustomTransformer(){\n  this(Identifiable.randomUID(&quot;Custom Transformer&quot;));\n }\n\n @Override\n public String uid(){\n  return uid_;\n }\n\n@Override\npublic Transformer copy(ParamMap extra){\n  return defaultCopy(extra);\n}\n\n@Override\npublic Dataset&lt;Row&gt; transform(Dataset&lt;?&gt; dataset){\n // do your work and return Dataset object\n}\n\n@Override\npublic StructType transformSchema(StructType schema){\n  return schema;\n}\n</code></pre>\n<p>}\n<br>I am also new in this so I suggest you should learn what are the uses of these abstract methods.</p>\n"}],"owner":{"account_id":24741800,"reputation":51,"user_id":18628457,"display_name":"ngi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72054980,"answer_count":1,"score":0,"last_activity_date":1651221809,"creation_date":1650975165,"question_id":72013742,"body_markdown":"I am learning Big data using Apache spark and I want to create a custom transformer for Spark ml so that I can execute some aggregate functions or can perform other possible operation on it&lt;br&gt;\r\n\r\n","title":"Best way to Create a custom Transformer In Java spark ml","body":"<p>I am learning Big data using Apache spark and I want to create a custom transformer for Spark ml so that I can execute some aggregate functions or can perform other possible operation on it<br></p>\n"},{"tags":["java","sorting","java-8"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651131383,"post_id":72039443,"comment_id":127291241,"body_markdown":"Never use minus to implement a comparator. Even for `int` values, it can overflow. Not to speak of the `long` results you simply cast to `int`, truncating the upper bits.","body":"Never use minus to implement a comparator. Even for <code>int</code> values, it can overflow. Not to speak of the <code>long</code> results you simply cast to <code>int</code>, truncating the upper bits."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651133668,"post_id":72039443,"comment_id":127292038,"body_markdown":"Instead of `a - b`, use [`Long.compare(a, b)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html#compare(long,long)) resp. the `compare` method of the particular class `Integer.compare(…, …)`, `Double.compare(…, …)`, etc. However, when you use, e.g. `Comparator.comparingLong(arr -&gt; Long.parseLong(arr[3]))`, like the answer also uses, you get the correct behavior for free anyway.","body":"Instead of <code>a - b</code>, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html#compare(long,long)\" rel=\"nofollow noreferrer\"><code>Long.compare(a, b)</code></a> resp. the <code>compare</code> method of the particular class <code>Integer.compare(…, …)</code>, <code>Double.compare(…, …)</code>, etc. However, when you use, e.g. <code>Comparator.comparingLong(arr -&gt; Long.parseLong(arr[3]))</code>, like the answer also uses, you get the correct behavior for free anyway."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1651135083,"post_id":72039443,"comment_id":127292602,"body_markdown":"Code has a tendency to persist and evolve, to be used in scenarios not originally foreseen. Also habits are hard to overcome. So it’s better to always use the `compare` methods instead of minus, to avoid any future trouble, right from the start.","body":"Code has a tendency to persist and evolve, to be used in scenarios not originally foreseen. Also habits are hard to overcome. So it’s better to always use the <code>compare</code> methods instead of minus, to avoid any future trouble, right from the start."}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651131332,"creation_date":1651131332,"answer_id":72039723,"question_id":72039443,"body_markdown":"An easy way is to just compose your `Comparator` based on the int array:\r\n\r\n    public static Sheet sortSheet(Sheet sheet, int...indices) {\r\n        \r\n        if(indices.length == 0) throw new IllegalArgumentException();\r\n        \r\n\t\tComparator&lt;String[]&gt; comp = Comparator.comparingLong(s -&gt; Long.parseLong(s[indices[0]]));\r\n\t\tfor(int i = 1; i &lt; indices.length; i++) {\r\n\t\t\tint e = i;\r\n\t\t\tcomp = comp.thenComparing(Comparator.comparingLong(s -&gt; Long.parseLong(s[indices[e]])));\r\n\t\t}\r\n\t\t\r\n\t\tList&lt;String[]&gt; list = sheet.getSheet().stream().collect(Collectors.toList());\r\n        Collections.sort(list, comp);\r\n        sheet.setSheet(list);\r\n        \r\n        return sheet;\r\n    }\r\n\r\n`comp` above is created by composing other `Comparator`s based on indices after `indices[0]`.","title":"How to generalize the implementation the .thenby of excel in Java 8?","body":"<p>An easy way is to just compose your <code>Comparator</code> based on the int array:</p>\n<pre><code>public static Sheet sortSheet(Sheet sheet, int...indices) {\n    \n    if(indices.length == 0) throw new IllegalArgumentException();\n    \n    Comparator&lt;String[]&gt; comp = Comparator.comparingLong(s -&gt; Long.parseLong(s[indices[0]]));\n    for(int i = 1; i &lt; indices.length; i++) {\n        int e = i;\n        comp = comp.thenComparing(Comparator.comparingLong(s -&gt; Long.parseLong(s[indices[e]])));\n    }\n    \n    List&lt;String[]&gt; list = sheet.getSheet().stream().collect(Collectors.toList());\n    Collections.sort(list, comp);\n    sheet.setSheet(list);\n    \n    return sheet;\n}\n</code></pre>\n<p><code>comp</code> above is created by composing other <code>Comparator</code>s based on indices after <code>indices[0]</code>.</p>\n"},{"tags":[],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651221506,"creation_date":1651221506,"answer_id":72055127,"question_id":72039443,"body_markdown":"My Solution based on the accepted answer:\r\n```lang-java\r\npublic static Sheet sortSheet(Sheet sheet, Integer... indices) {\r\n\r\n    List&lt;String[]&gt; list = new ArrayList&lt;&gt;(sheet.getSheet());\r\n    Collections.sort(list, new Comparator&lt;String[]&gt;() {\r\n        \r\n        @Override\r\n        public int compare(String[] arr1, String[] arr2) {\r\n            for (int i = 0; i &lt; indices.length;) {\r\n                if (Long.parseLong(arr1[i]) == Long.parseLong(arr2[i])) {\r\n                    i++;\r\n                }\r\n                else {\r\n                    return Long.compare(Long.parseLong(arr1[i]), Long.parseLong(arr2[i]));\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    });\r\n    sheet.setSheet(list);\r\n    return sheet;\r\n}\r\n```","title":"How to generalize the implementation the .thenby of excel in Java 8?","body":"<p>My Solution based on the accepted answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Sheet sortSheet(Sheet sheet, Integer... indices) {\n\n    List&lt;String[]&gt; list = new ArrayList&lt;&gt;(sheet.getSheet());\n    Collections.sort(list, new Comparator&lt;String[]&gt;() {\n        \n        @Override\n        public int compare(String[] arr1, String[] arr2) {\n            for (int i = 0; i &lt; indices.length;) {\n                if (Long.parseLong(arr1[i]) == Long.parseLong(arr2[i])) {\n                    i++;\n                }\n                else {\n                    return Long.compare(Long.parseLong(arr1[i]), Long.parseLong(arr2[i]));\n                }\n            }\n            return 0;\n        }\n    });\n    sheet.setSheet(list);\n    return sheet;\n}\n</code></pre>\n"}],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72039723,"answer_count":2,"score":1,"last_activity_date":1651221535,"creation_date":1651129904,"question_id":72039443,"body_markdown":"I have the following service class:\r\n\r\n```lang-java\r\npublic class SheetSorter {\r\n\r\n\t// sorts the sheet\r\n\tpublic static Sheet sortSheet(Sheet sheet) {\r\n\t\tList&lt;String[]&gt; list = sheet.getSheet().stream().collect(Collectors.toList());\r\n\t\tCollections.sort(list, new Comparator&lt;String[]&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(String[] arr1, String[] arr2) {\r\n\t\t\t\tif (Long.parseLong(arr1[3]) == Long.parseLong(arr2[3])) {\r\n\t\t\t\t\treturn (int) (Long.parseLong(arr1[4]) - Long.parseLong(arr2[4]));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn (int) (Long.parseLong(arr1[3]) - Long.parseLong(arr2[3]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tsheet.setSheet(list);\r\n\t\treturn sheet;\r\n\t}\r\n}\r\n```\r\n\r\nAs you can see, the `sortSheet` methods implements `sort` on `column 4` and `thenby` on `column 5`. Is there any way I can convert this to take an `Integer... columnOrder` as parameter so that this will run sort on `columnOrder[0]` and &#39;thenBies&#39; (or is it &#39;thenBys&#39;?) on the remaining arguments supplied in that order?\r\n\r\n\r\n----------\r\n\r\nEDIT:\r\n\r\n@Holger&#39;s Suggestion\r\n```lang-java\r\n// sorts the sheet\r\npublic static Sheet sortSheet(Sheet sheet) {\r\n\tList&lt;String[]&gt; list = new ArrayList&lt;&gt;(sheet.getSheet());\r\n\tCollections.sort(list, new Comparator&lt;String[]&gt;() {\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic int compare(String[] arr1, String[] arr2) {\r\n\t\t\tif (Long.parseLong(arr1[3]) == Long.parseLong(arr2[3])) {\r\n\t\t\t\treturn Long.compare(Long.parseLong(arr1[4]), Long.parseLong(arr2[4]));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn Long.compare(Long.parseLong(arr1[3]), Long.parseLong(arr2[3]));\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tsheet.setSheet(list);\r\n\treturn sheet;\r\n}\r\n```","title":"How to generalize the implementation the .thenby of excel in Java 8?","body":"<p>I have the following service class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SheetSorter {\n\n    // sorts the sheet\n    public static Sheet sortSheet(Sheet sheet) {\n        List&lt;String[]&gt; list = sheet.getSheet().stream().collect(Collectors.toList());\n        Collections.sort(list, new Comparator&lt;String[]&gt;() {\n            @Override\n            public int compare(String[] arr1, String[] arr2) {\n                if (Long.parseLong(arr1[3]) == Long.parseLong(arr2[3])) {\n                    return (int) (Long.parseLong(arr1[4]) - Long.parseLong(arr2[4]));\n                }\n                else {\n                    return (int) (Long.parseLong(arr1[3]) - Long.parseLong(arr2[3]));\n                }\n            }\n        });\n        sheet.setSheet(list);\n        return sheet;\n    }\n}\n</code></pre>\n<p>As you can see, the <code>sortSheet</code> methods implements <code>sort</code> on <code>column 4</code> and <code>thenby</code> on <code>column 5</code>. Is there any way I can convert this to take an <code>Integer... columnOrder</code> as parameter so that this will run sort on <code>columnOrder[0]</code> and 'thenBies' (or is it 'thenBys'?) on the remaining arguments supplied in that order?</p>\n<hr />\n<p>EDIT:</p>\n<p>@Holger's Suggestion</p>\n<pre class=\"lang-java prettyprint-override\"><code>// sorts the sheet\npublic static Sheet sortSheet(Sheet sheet) {\n    List&lt;String[]&gt; list = new ArrayList&lt;&gt;(sheet.getSheet());\n    Collections.sort(list, new Comparator&lt;String[]&gt;() {\n        \n        @Override\n        public int compare(String[] arr1, String[] arr2) {\n            if (Long.parseLong(arr1[3]) == Long.parseLong(arr2[3])) {\n                return Long.compare(Long.parseLong(arr1[4]), Long.parseLong(arr2[4]));\n            }\n            else {\n                return Long.compare(Long.parseLong(arr1[3]), Long.parseLong(arr2[3]));\n            }\n        }\n    });\n    sheet.setSheet(list);\n    return sheet;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651221453,"creation_date":1651220929,"answer_id":72054984,"question_id":72054896,"body_markdown":"1) You can add `@ConditionalOnProperty` to your controller and specify the property based on which that controller&#39;s bean to be initialized or not.\r\n\r\n```java\r\n@ConditionalOnProperty(name = &quot;enable.test.controller&quot;, havingValue = &quot;true&quot;)\r\n```\r\n2) And for `@CrossOrigin`, if you want to add this annotation to single controller, you can specify the `origins` attribute in the annotation and specify the allowed origin URLs.\r\n\r\n OR\r\n\r\nYou can create a global CORS configuration which can be easily turned off or on using a profile. for eg. `@Profile(&quot;CORS_enabled_profile&quot;)`\r\n```java\r\n\tpublic WebMvcConfigurer corsConfigurer() {\r\n\t\treturn new WebMvcConfigurer() {\r\n\t\t\t@Override\r\n\t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\t\t\tregistry.addMapping(&quot;/greeting-javaconfig&quot;).allowedOrigins(&quot;http://localhost:8080&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n```","title":"Is there any way to enable/disable a annotation by property in Spring Boot?","body":"<ol>\n<li>You can add <code>@ConditionalOnProperty</code> to your controller and specify the property based on which that controller's bean to be initialized or not.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@ConditionalOnProperty(name = &quot;enable.test.controller&quot;, havingValue = &quot;true&quot;)\n</code></pre>\n<ol start=\"2\">\n<li>And for <code>@CrossOrigin</code>, if you want to add this annotation to single controller, you can specify the <code>origins</code> attribute in the annotation and specify the allowed origin URLs.</li>\n</ol>\n<p>OR</p>\n<p>You can create a global CORS configuration which can be easily turned off or on using a profile. for eg. <code>@Profile(&quot;CORS_enabled_profile&quot;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/greeting-javaconfig&quot;).allowedOrigins(&quot;http://localhost:8080&quot;);\n            }\n        };\n    }\n</code></pre>\n"}],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2454,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72054984,"answer_count":1,"score":2,"last_activity_date":1651221453,"creation_date":1651220519,"question_id":72054896,"body_markdown":"I have some property file like:\r\n\r\n**application.properties**\r\n```\r\nenable.test.controller=true\r\nenable.cross.origin=false\r\n```\r\n\r\nI want to enable/disable some functions based on the profile. For example, I have a controller which only opening in specific environment:\r\n\r\n```java\r\n@Controller(enable=${enable.test.controller})\r\npublic class TestController() {\r\n\r\n}\r\n```\r\n\r\nAnd I also want to enable/disable annotation `@CrossOrigin` property\r\n\r\n```java\r\n@Controller\r\n@CrossOrigin(enable=${enable.cross.origin})\r\npublic class TestController2() {\r\n\r\n}\r\n```\r\n\r\nIs there any way to make `@Annotation(enable=${property})` work?\r\n\r\nAny suggestion will be appreciated!\r\n","title":"Is there any way to enable/disable a annotation by property in Spring Boot?","body":"<p>I have some property file like:</p>\n<p><strong>application.properties</strong></p>\n<pre><code>enable.test.controller=true\nenable.cross.origin=false\n</code></pre>\n<p>I want to enable/disable some functions based on the profile. For example, I have a controller which only opening in specific environment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller(enable=${enable.test.controller})\npublic class TestController() {\n\n}\n</code></pre>\n<p>And I also want to enable/disable annotation <code>@CrossOrigin</code> property</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@CrossOrigin(enable=${enable.cross.origin})\npublic class TestController2() {\n\n}\n</code></pre>\n<p>Is there any way to make <code>@Annotation(enable=${property})</code> work?</p>\n<p>Any suggestion will be appreciated!</p>\n"},{"tags":["java","android","futuretask"],"owner":{"account_id":24134801,"reputation":31,"user_id":18101894,"display_name":"error404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651221312,"creation_date":1651221149,"question_id":72055034,"body_markdown":"I&#39;m very new to Android so maybe my question is a bit of a beginner. I want to use the futureTask method in my program, but I really do not know how to use it. I have a sample code of this method and I want to combine it with my own code. `onActivityResult()` is my code that I want to process in the background. I tried to embed the code in the sample code instead of `call()` but got an error\r\n\r\nthis is `sample code`:\r\n\r\n    private static final ExecutorService pool = Executors.newFixedThreadPool(10);\r\n     \r\n    public static Future&lt;String&gt; startComputation() throws IOException {\r\n        return pool.submit(new Callable&lt;String&gt;() {\r\n            @Override\r\n            public String call() throws Exception {\r\n                Thread.currentThread().sleep(3000);\r\n                return &quot;finish computation&quot;;\r\n            }\r\n        });\r\n    }\r\n     \r\n    public static void main(String[] args) throws IOException, InterruptedException, ExecutionException {\r\n        final Future&lt;String&gt; contentsFuture = startComputation();\r\n         \r\n        while (!contentsFuture.isDone()) {\r\n            System.out.println(&quot;computation in progress...&quot;);\r\n            System.out.println(&quot;do another work&quot;);\r\n            Thread.currentThread().sleep(1000);\r\n        }\r\n         \r\n        System.out.println(contentsFuture.get());\r\n         \r\n        System.exit(0);\r\n    }\r\n\r\n and my `MainAvtivity` code:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    package com.example.imen_yar;\r\n    \r\n    import android.Manifest;\r\n    import android.annotation.SuppressLint;\r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.graphics.Point;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.view.Display;\r\n    import android.view.MenuItem;\r\n    import android.widget.Button;\r\n    import android.widget.ImageButton;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.RequiresApi;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    import androidx.core.view.GravityCompat;\r\n    import androidx.drawerlayout.widget.DrawerLayout;\r\n    \r\n    import com.chaquo.python.PyException;\r\n    import com.chaquo.python.PyObject;\r\n    import com.chaquo.python.Python;\r\n    import com.chaquo.python.android.AndroidPlatform;\r\n    import com.google.android.material.navigation.NavigationView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        ImageButton b_main;\r\n        Button b_link;\r\n        TextView text;\r\n        \r\n        String interpreterOutput = &quot;&quot;;\r\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n        @SuppressLint({&quot;UseCompatLoadingForDrawables&quot;, &quot;SetTextI18n&quot;})\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            b_main = findViewById(R.id.b_main);\r\n            b_link = findViewById(R.id.b_link);\r\n            text = findViewById(R.id.textView);\r\n            b_link.setOnClickListener(v -&gt; {\r\n                Intent intent = new Intent(MainActivity.this, MainActivity3.class);\r\n                startActivity(intent);\r\n            });\r\n            NavigationView nvDrawer = findViewById(R.id.nvView);\r\n            setupDrawerContent(nvDrawer);\r\n            // To run Python Interpreter\r\n            if(!Python.isStarted()){\r\n                Python.start(new AndroidPlatform(this));\r\n            }\r\n            b_main.setOnClickListener(view -&gt;{\r\n                Intent intent = new Intent();\r\n                intent.setType(&quot;*/*&quot;);\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(intent,1);\r\n            });\r\n        }\r\n    \r\n    \r\n \r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        public void onActivityResult(int requestCode, int resultCode, Intent data){\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 1);\r\n            }\r\n            if(requestCode == 1 &amp;&amp; resultCode == Activity.RESULT_OK){\r\n                Uri uri = data.getData();\r\n                Context context = this;\r\n    \r\n                String path = RealPathUtil.getRealPath(context,uri);\r\n    \r\n                if(path != null){\r\n                    Python py = Python.getInstance();\r\n    \r\n                    String code = &quot;import vt\\n&quot;;\r\n                    code += &quot;import hashlib\\n&quot;;\r\n                    code += &quot;import time\\n&quot;;\r\n    \r\n                    code += &quot;client = vt.Client(\\&quot;e9481497c3198559e299e966ec79be2ece56bf903cd0308474f8e3059aad6ee5\\&quot;)\\n&quot;;\r\n    \r\n                    code += &quot;def check():\\n&quot;;\r\n                    code += &quot;    try:\\n&quot;;\r\n                    code += &quot;        with open(r\\&quot;&quot; + path + &quot;\\&quot;,\\&quot;rb\\&quot;) as f:\\n&quot;;\r\n                    code += &quot;            bytes = f.read() # read the entire file as bytes\\n&quot;;\r\n                    code += &quot;            readable_hash = hashlib.sha256(bytes).hexdigest()\\n&quot;;\r\n                    code += &quot;        file = client.get_object(\\&quot;/files/\\&quot; + readable_hash)\\n&quot;;\r\n                    code += &quot;        x = str(file.last_analysis_stats)\\n&quot;;\r\n                    code += &quot;        n = 109\\n&quot;;\r\n                    code += &quot;        if x[n] + x[n+1] + x[n+2] + x[n+3] + x[n+4] + x[n+5] + x[n+6] + x[n+7] + x[n+8] == \\&quot;malicious\\&quot;:\\n&quot;;\r\n                    code += &quot;            t = x[n + 12]\\n&quot;;\r\n                    code += &quot;        elif x[n+1] + x[n+2] + x[n+3] + x[n+4] + x[n+5] + x[n+6] + x[n+7] + x[n+8] + x[n+9] == \\&quot;malicious\\&quot;:\\n&quot;;\r\n                    code += &quot;            t = x[n + 13]\\n&quot;;\r\n                    code += &quot;        elif x[n+2] + x[n+3] + x[n+4] + x[n+5] + x[n+6] + x[n+7] + x[n+8] + x[n+9] + x[n+10] == \\&quot;malicious\\&quot;:\\n&quot;;\r\n                    code += &quot;            t = x[n + 14]\\n&quot;;\r\n                    code += &quot;        elif x[n+3] + x[n+4] + x[n+5] + x[n+6] + x[n+7] + x[n+8] + x[n+9] + x[n+10] + x[n+11] == \\&quot;malicious\\&quot;:\\n&quot;;\r\n                    code += &quot;            t = x[n + 15]\\n&quot;;\r\n                    code += &quot;        elif x[n+4] + x[n+5] + x[n+6] + x[n+7] + x[n+8] + x[n+9] + x[n+10] + x[n+11] + x[n+12] == \\&quot;malicious\\&quot;:\\n&quot;;\r\n                    code += &quot;            t = x[n + 16]\\n&quot;;\r\n                    code += &quot;        elif x[n+5] + x[n+6] + x[n+7] + x[n+8] + x[n+9] + x[n+10] + x[n+11] + x[n+12] + x[n+13] == \\&quot;malicious\\&quot;:\\n&quot;;\r\n                    code += &quot;            t = x[n + 17]\\n&quot;;\r\n                    code += &quot;        elif x[n+6] + x[n+7] + x[n+8] + x[n+9] + x[n+10] + x[n+11] + x[n+12] + x[n+13] + x[n+14] == \\&quot;malicious\\&quot;:\\n&quot;;\r\n                    code += &quot;            t = x[n + 18]\\n&quot;;\r\n                    code += &quot;        if t == \\&quot;0\\&quot;:\\n&quot;;\r\n                    code += &quot;            print(\\&quot;file is safe\\&quot;)\\n&quot;;\r\n                    code += &quot;        else:\\n&quot;;\r\n                    code += &quot;            print(\\&quot;file isn&#39;t safe\\&quot;)\\n&quot;;\r\n                    code += &quot;    except:\\n&quot;;\r\n                    code += &quot;        #print(\\&quot;oh. it&#39;s a new file!!\\&quot;)\\n&quot;;\r\n                    code += &quot;        check2()\\n&quot;;\r\n    \r\n                    code += &quot;def check2(): \\n&quot;;\r\n                    code += &quot;    with open(r\\&quot;&quot; + path + &quot;\\&quot;, \\&quot;rb\\&quot;) as f:\\n&quot;;\r\n                    code += &quot;        analysis = client.scan_file(f, wait_for_completion=True)\\n&quot;;\r\n                    code += &quot;    while True:\\n&quot;;\r\n                    code += &quot;        print(\\&quot;checking\\&quot;)\\n&quot;;\r\n                    code += &quot;        analysis = client.get_object(\\&quot;/analyses/{}\\&quot;, analysis.id)\\n&quot;;\r\n                    code += &quot;        #print(analysis.status)\\n&quot;;\r\n                    code += &quot;        if analysis.status == \\&quot;completed\\&quot;:\\n&quot;;\r\n                    code += &quot;            check()\\n&quot;;\r\n                    code += &quot;            break\\n&quot;;\r\n                    code += &quot;        time.sleep(10)\\n&quot;;\r\n    \r\n                    code += &quot;check()\\n&quot;;\r\n    \r\n                    PyObject sys = py.getModule(&quot;sys&quot;);\r\n                    PyObject io = py.getModule(&quot;io&quot;);\r\n                    PyObject console = py.getModule(&quot;interpreter&quot;);\r\n                    PyObject textOutputStream = io.callAttr(&quot;StringIO&quot;);\r\n    \r\n                    sys.put(&quot;stdout&quot;, textOutputStream);\r\n    \r\n                    try {\r\n                        console.callAttrThrows(&quot;mainTextCode&quot;, code);\r\n                        interpreterOutput = String.valueOf(textOutputStream.callAttr(&quot;getvalue&quot;));\r\n                    }catch (PyException e){\r\n                        interpreterOutput = e.getMessage();\r\n                    } catch (Throwable throwable) {\r\n                        throwable.printStackTrace();\r\n                    }\r\n    \r\n                    String output_one = &quot;safe\\n&quot;;\r\n                    output_one += &quot;Unclosed client session\\n&quot;;\r\n                    output_one += &quot;client_session: &lt;aiohttp.client.ClientSession object at 0x00000252B05A5F40&gt;\\n&quot;;\r\n                    output_one += &quot;Unclosed connector\\n&quot;;\r\n                    output_one += &quot;connections: [&#39;[(&lt;aiohttp.client_proto.ResponseHandler object at 0x00000252B05D3640&gt;, 243493.796)]&#39;]\\n&quot;;\r\n                    output_one += &quot;connector: &lt;aiohttp.connector.TCPConnector object at 0x00000252ADC3CA90&gt;&quot;;\r\n    \r\n                    String output_two = &quot;isn&#39;t safe\\n&quot;;\r\n                    output_two += &quot;Unclosed client session\\n&quot;;\r\n                    output_two += &quot;client_session: &lt;aiohttp.client.ClientSession object at 0x00000252B05A5F40&gt;\\n&quot;;\r\n                    output_two += &quot;Unclosed connector\\n&quot;;\r\n                    output_two += &quot;connections: [&#39;[(&lt;aiohttp.client_proto.ResponseHandler object at 0x00000252B05D3640&gt;, 243493.796)]&#39;]\\n&quot;;\r\n                    output_two += &quot;connector: &lt;aiohttp.connector.TCPConnector object at 0x00000252ADC3CA90&gt;&quot;;\r\n    \r\n                    if (interpreterOutput != null) {\r\n                        if(interpreterOutput.equals(output_one)){\r\n                            System.out.println(&quot;file is safe&quot;);\r\n                            text.setText(&quot;safe&quot;);\r\n                        }else if(interpreterOutput.equals(output_two)){\r\n                            System.out.println(&quot;file isn&#39;t safe!&quot;);\r\n                            text.setText(&quot;isn&#39;t safe!&quot;);\r\n                        }\r\n    \r\n                    }\r\n                    ///System.out.println(interpreterOutput);\r\n                    //text.setText(&quot;not run&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    //salam\r\n\r\n\r\n\r\n\r\ncan you help me?","title":"FutureTask in android","body":"<p>I'm very new to Android so maybe my question is a bit of a beginner. I want to use the futureTask method in my program, but I really do not know how to use it. I have a sample code of this method and I want to combine it with my own code. <code>onActivityResult()</code> is my code that I want to process in the background. I tried to embed the code in the sample code instead of <code>call()</code> but got an error</p>\n<p>this is <code>sample code</code>:</p>\n<pre><code>private static final ExecutorService pool = Executors.newFixedThreadPool(10);\n \npublic static Future&lt;String&gt; startComputation() throws IOException {\n    return pool.submit(new Callable&lt;String&gt;() {\n        @Override\n        public String call() throws Exception {\n            Thread.currentThread().sleep(3000);\n            return &quot;finish computation&quot;;\n        }\n    });\n}\n \npublic static void main(String[] args) throws IOException, InterruptedException, ExecutionException {\n    final Future&lt;String&gt; contentsFuture = startComputation();\n     \n    while (!contentsFuture.isDone()) {\n        System.out.println(&quot;computation in progress...&quot;);\n        System.out.println(&quot;do another work&quot;);\n        Thread.currentThread().sleep(1000);\n    }\n     \n    System.out.println(contentsFuture.get());\n     \n    System.exit(0);\n}\n</code></pre>\n<p>and my <code>MainAvtivity</code> code:</p>\n<pre><code>package com.example.imen_yar;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.graphics.Point;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.Display;\nimport android.view.MenuItem;\nimport android.widget.Button;\nimport android.widget.ImageButton;\nimport android.widget.TextView;\n\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\nimport com.chaquo.python.PyException;\nimport com.chaquo.python.PyObject;\nimport com.chaquo.python.Python;\nimport com.chaquo.python.android.AndroidPlatform;\nimport com.google.android.material.navigation.NavigationView;\n\npublic class MainActivity extends AppCompatActivity {\n    ImageButton b_main;\n    Button b_link;\n    TextView text;\n    \n    String interpreterOutput = &quot;&quot;;\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @SuppressLint({&quot;UseCompatLoadingForDrawables&quot;, &quot;SetTextI18n&quot;})\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        b_main = findViewById(R.id.b_main);\n        b_link = findViewById(R.id.b_link);\n        text = findViewById(R.id.textView);\n        b_link.setOnClickListener(v -&gt; {\n            Intent intent = new Intent(MainActivity.this, MainActivity3.class);\n            startActivity(intent);\n        });\n        NavigationView nvDrawer = findViewById(R.id.nvView);\n        setupDrawerContent(nvDrawer);\n        // To run Python Interpreter\n        if(!Python.isStarted()){\n            Python.start(new AndroidPlatform(this));\n        }\n        b_main.setOnClickListener(view -&gt;{\n            Intent intent = new Intent();\n            intent.setType(&quot;*/*&quot;);\n            intent.setAction(Intent.ACTION_GET_CONTENT);\n            startActivityForResult(intent,1);\n        });\n    }\n\n\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    public void onActivityResult(int requestCode, int resultCode, Intent data){\n        super.onActivityResult(requestCode, resultCode, data);\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, 1);\n        }\n        if(requestCode == 1 &amp;&amp; resultCode == Activity.RESULT_OK){\n            Uri uri = data.getData();\n            Context context = this;\n\n            String path = RealPathUtil.getRealPath(context,uri);\n\n            if(path != null){\n                Python py = Python.getInstance();\n\n                String code = &quot;import vt\\n&quot;;\n                code += &quot;import hashlib\\n&quot;;\n                code += &quot;import time\\n&quot;;\n\n                code += &quot;client = vt.Client(\\&quot;e9481497c3198559e299e966ec79be2ece56bf903cd0308474f8e3059aad6ee5\\&quot;)\\n&quot;;\n\n                code += &quot;def check():\\n&quot;;\n                code += &quot;    try:\\n&quot;;\n                code += &quot;        with open(r\\&quot;&quot; + path + &quot;\\&quot;,\\&quot;rb\\&quot;) as f:\\n&quot;;\n                code += &quot;            bytes = f.read() # read the entire file as bytes\\n&quot;;\n                code += &quot;            readable_hash = hashlib.sha256(bytes).hexdigest()\\n&quot;;\n                code += &quot;        file = client.get_object(\\&quot;/files/\\&quot; + readable_hash)\\n&quot;;\n                code += &quot;        x = str(file.last_analysis_stats)\\n&quot;;\n                code += &quot;        n = 109\\n&quot;;\n                code += &quot;        if x[n] + x[n+1] + x[n+2] + x[n+3] + x[n+4] + x[n+5] + x[n+6] + x[n+7] + x[n+8] == \\&quot;malicious\\&quot;:\\n&quot;;\n                code += &quot;            t = x[n + 12]\\n&quot;;\n                code += &quot;        elif x[n+1] + x[n+2] + x[n+3] + x[n+4] + x[n+5] + x[n+6] + x[n+7] + x[n+8] + x[n+9] == \\&quot;malicious\\&quot;:\\n&quot;;\n                code += &quot;            t = x[n + 13]\\n&quot;;\n                code += &quot;        elif x[n+2] + x[n+3] + x[n+4] + x[n+5] + x[n+6] + x[n+7] + x[n+8] + x[n+9] + x[n+10] == \\&quot;malicious\\&quot;:\\n&quot;;\n                code += &quot;            t = x[n + 14]\\n&quot;;\n                code += &quot;        elif x[n+3] + x[n+4] + x[n+5] + x[n+6] + x[n+7] + x[n+8] + x[n+9] + x[n+10] + x[n+11] == \\&quot;malicious\\&quot;:\\n&quot;;\n                code += &quot;            t = x[n + 15]\\n&quot;;\n                code += &quot;        elif x[n+4] + x[n+5] + x[n+6] + x[n+7] + x[n+8] + x[n+9] + x[n+10] + x[n+11] + x[n+12] == \\&quot;malicious\\&quot;:\\n&quot;;\n                code += &quot;            t = x[n + 16]\\n&quot;;\n                code += &quot;        elif x[n+5] + x[n+6] + x[n+7] + x[n+8] + x[n+9] + x[n+10] + x[n+11] + x[n+12] + x[n+13] == \\&quot;malicious\\&quot;:\\n&quot;;\n                code += &quot;            t = x[n + 17]\\n&quot;;\n                code += &quot;        elif x[n+6] + x[n+7] + x[n+8] + x[n+9] + x[n+10] + x[n+11] + x[n+12] + x[n+13] + x[n+14] == \\&quot;malicious\\&quot;:\\n&quot;;\n                code += &quot;            t = x[n + 18]\\n&quot;;\n                code += &quot;        if t == \\&quot;0\\&quot;:\\n&quot;;\n                code += &quot;            print(\\&quot;file is safe\\&quot;)\\n&quot;;\n                code += &quot;        else:\\n&quot;;\n                code += &quot;            print(\\&quot;file isn't safe\\&quot;)\\n&quot;;\n                code += &quot;    except:\\n&quot;;\n                code += &quot;        #print(\\&quot;oh. it's a new file!!\\&quot;)\\n&quot;;\n                code += &quot;        check2()\\n&quot;;\n\n                code += &quot;def check2(): \\n&quot;;\n                code += &quot;    with open(r\\&quot;&quot; + path + &quot;\\&quot;, \\&quot;rb\\&quot;) as f:\\n&quot;;\n                code += &quot;        analysis = client.scan_file(f, wait_for_completion=True)\\n&quot;;\n                code += &quot;    while True:\\n&quot;;\n                code += &quot;        print(\\&quot;checking\\&quot;)\\n&quot;;\n                code += &quot;        analysis = client.get_object(\\&quot;/analyses/{}\\&quot;, analysis.id)\\n&quot;;\n                code += &quot;        #print(analysis.status)\\n&quot;;\n                code += &quot;        if analysis.status == \\&quot;completed\\&quot;:\\n&quot;;\n                code += &quot;            check()\\n&quot;;\n                code += &quot;            break\\n&quot;;\n                code += &quot;        time.sleep(10)\\n&quot;;\n\n                code += &quot;check()\\n&quot;;\n\n                PyObject sys = py.getModule(&quot;sys&quot;);\n                PyObject io = py.getModule(&quot;io&quot;);\n                PyObject console = py.getModule(&quot;interpreter&quot;);\n                PyObject textOutputStream = io.callAttr(&quot;StringIO&quot;);\n\n                sys.put(&quot;stdout&quot;, textOutputStream);\n\n                try {\n                    console.callAttrThrows(&quot;mainTextCode&quot;, code);\n                    interpreterOutput = String.valueOf(textOutputStream.callAttr(&quot;getvalue&quot;));\n                }catch (PyException e){\n                    interpreterOutput = e.getMessage();\n                } catch (Throwable throwable) {\n                    throwable.printStackTrace();\n                }\n\n                String output_one = &quot;safe\\n&quot;;\n                output_one += &quot;Unclosed client session\\n&quot;;\n                output_one += &quot;client_session: &lt;aiohttp.client.ClientSession object at 0x00000252B05A5F40&gt;\\n&quot;;\n                output_one += &quot;Unclosed connector\\n&quot;;\n                output_one += &quot;connections: ['[(&lt;aiohttp.client_proto.ResponseHandler object at 0x00000252B05D3640&gt;, 243493.796)]']\\n&quot;;\n                output_one += &quot;connector: &lt;aiohttp.connector.TCPConnector object at 0x00000252ADC3CA90&gt;&quot;;\n\n                String output_two = &quot;isn't safe\\n&quot;;\n                output_two += &quot;Unclosed client session\\n&quot;;\n                output_two += &quot;client_session: &lt;aiohttp.client.ClientSession object at 0x00000252B05A5F40&gt;\\n&quot;;\n                output_two += &quot;Unclosed connector\\n&quot;;\n                output_two += &quot;connections: ['[(&lt;aiohttp.client_proto.ResponseHandler object at 0x00000252B05D3640&gt;, 243493.796)]']\\n&quot;;\n                output_two += &quot;connector: &lt;aiohttp.connector.TCPConnector object at 0x00000252ADC3CA90&gt;&quot;;\n\n                if (interpreterOutput != null) {\n                    if(interpreterOutput.equals(output_one)){\n                        System.out.println(&quot;file is safe&quot;);\n                        text.setText(&quot;safe&quot;);\n                    }else if(interpreterOutput.equals(output_two)){\n                        System.out.println(&quot;file isn't safe!&quot;);\n                        text.setText(&quot;isn't safe!&quot;);\n                    }\n\n                }\n                ///System.out.println(interpreterOutput);\n                //text.setText(&quot;not run&quot;);\n            }\n        }\n    }\n}\n//salam\n</code></pre>\n<p>can you help me?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10979530,"reputation":164,"user_id":8067131,"display_name":"paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651220327,"creation_date":1651220327,"answer_id":72054852,"question_id":72054817,"body_markdown":"You can transform an Int to a String with `String.valueOf(i)`. Then, you only have to take the 3 last characters of the string and adding 0. Because your &quot;027&quot; is a String, it isn&#39;t an Int","title":"Printing out 3 of numbers in java","body":"<p>You can transform an Int to a String with <code>String.valueOf(i)</code>. Then, you only have to take the 3 last characters of the string and adding 0. Because your &quot;027&quot; is a String, it isn't an Int</p>\n"},{"tags":[],"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1651220670,"creation_date":1651220670,"answer_id":72054926,"question_id":72054817,"body_markdown":"Assuming your inputs are actually `int`s:\r\n\r\n    System.out.printf(&quot;%03d&quot;,inputvalue%1000); \r\n\r\n\r\nshould give the result you want:\r\n- `&quot;%03d&quot;` forces output with zero padding\r\n- `inputvalue%1000` calculates the remainder of division by 1000 (modulo), which will chop off all digits to the left of the three last\r\n","title":"Printing out 3 of numbers in java","body":"<p>Assuming your inputs are actually <code>int</code>s:</p>\n<pre><code>System.out.printf(&quot;%03d&quot;,inputvalue%1000); \n</code></pre>\n<p>should give the result you want:</p>\n<ul>\n<li><code>&quot;%03d&quot;</code> forces output with zero padding</li>\n<li><code>inputvalue%1000</code> calculates the remainder of division by 1000 (modulo), which will chop off all digits to the left of the three last</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18213949,"reputation":227,"user_id":13255918,"display_name":"DereckChamboko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651221210,"creation_date":1651221210,"answer_id":72055052,"question_id":72054817,"body_markdown":"        public static void main(String... args) {\r\n      \r\n        Random rand = new Random();\r\n        int upperbound = 100000;\r\n        int lowerbound = 10;\r\n        int random_integer = rand.nextInt(upperbound - lowerbound) + lowerbound;\r\n\r\n        String output = String.valueOf(random_integer);\r\n        String finaloutput = output;\r\n        if (output.length() &lt;= 3) {\r\n\r\n            for (int i = 0; i &lt; 3 - output.length(); i++) {\r\n                finaloutput = &quot;0&quot; + finaloutput;\r\n            }\r\n        } else {\r\n            finaloutput = output.substring(0, 3);\r\n        }\r\n\r\n        System.out.println(random_integer + &quot;-&gt;&quot; + finaloutput);\r\n\r\n    }\r\n","title":"Printing out 3 of numbers in java","body":"<pre><code>    public static void main(String... args) {\n  \n    Random rand = new Random();\n    int upperbound = 100000;\n    int lowerbound = 10;\n    int random_integer = rand.nextInt(upperbound - lowerbound) + lowerbound;\n\n    String output = String.valueOf(random_integer);\n    String finaloutput = output;\n    if (output.length() &lt;= 3) {\n\n        for (int i = 0; i &lt; 3 - output.length(); i++) {\n            finaloutput = &quot;0&quot; + finaloutput;\n        }\n    } else {\n        finaloutput = output.substring(0, 3);\n    }\n\n    System.out.println(random_integer + &quot;-&gt;&quot; + finaloutput);\n\n}\n</code></pre>\n"}],"owner":{"account_id":25140506,"reputation":13,"user_id":18986888,"display_name":"koyang2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72054926,"answer_count":3,"score":1,"last_activity_date":1651221210,"creation_date":1651220090,"question_id":72054817,"body_markdown":"\r\nThe output value is 100000 to 10 random natural numbers\r\nWhat should I do to print out only from the right end to the third?\r\nAnd if you print it out with multiple of ten, an error appears\r\nso, if we get a multiple of 10, i want to put out 010 something\r\n\r\nfor example, input -&gt; 6545 output -&gt; 545, \r\n             input -&gt; 27 output -&gt; 027 \r\n\r\nand i&#39;m using java.\r\npls help me","title":"Printing out 3 of numbers in java","body":"<p>The output value is 100000 to 10 random natural numbers\nWhat should I do to print out only from the right end to the third?\nAnd if you print it out with multiple of ten, an error appears\nso, if we get a multiple of 10, i want to put out 010 something</p>\n<p>for example, input -&gt; 6545 output -&gt; 545,\ninput -&gt; 27 output -&gt; 027</p>\n<p>and i'm using java.\npls help me</p>\n"},{"tags":["java","sorting","arraylist"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1651216420,"post_id":72054058,"comment_id":127315686,"body_markdown":"You need to write proper Comparator, that is not just a lexicographical, e.g. convert each month into a integer, dezember being 12, january being 1 and then sort on that.","body":"You need to write proper Comparator, that is not just a lexicographical, e.g. convert each month into a integer, dezember being 12, january being 1 and then sort on that."},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":1,"creation_date":1651216458,"post_id":72054058,"comment_id":127315705,"body_markdown":"I suggest that you use `enum` to represent the month, and the sorting rule is obvious.","body":"I suggest that you use <code>enum</code> to represent the month, and the sorting rule is obvious."},{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1651216710,"post_id":72054058,"comment_id":127315779,"body_markdown":"@chenzhongpu could you please guide a bit how do I do that using enum? I can write enums for this but not getting an idea to sort","body":"@chenzhongpu could you please guide a bit how do I do that using enum? I can write enums for this but not getting an idea to sort"}],"answers":[{"tags":[],"owner":{"account_id":14330558,"reputation":89,"user_id":10351393,"display_name":"Anubhav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651217008,"creation_date":1651217008,"answer_id":72054217,"question_id":72054058,"body_markdown":"Try below code if you are using java8\r\n\r\n     List&lt;FeatureAnalyzeDTO&gt; featureAnalyzeInterfaceListUpdated= featureAnalyzeInterfaceList.stream().sorted(\r\n                    Comparator.comparingInt(o -&gt; Month.valueOf(o.month.toUpperCase()).getValue())).collect(Collectors.toList());","title":"Sort List&lt;Object&gt; by month name in Java","body":"<p>Try below code if you are using java8</p>\n<pre><code> List&lt;FeatureAnalyzeDTO&gt; featureAnalyzeInterfaceListUpdated= featureAnalyzeInterfaceList.stream().sorted(\n                Comparator.comparingInt(o -&gt; Month.valueOf(o.month.toUpperCase()).getValue())).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651217939,"creation_date":1651217939,"answer_id":72054375,"question_id":72054058,"body_markdown":"First, create a monthList which contains January to December .\r\n\r\n```java\r\nList&lt;String&gt; monthList = Arrays.asList(&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;,\r\n    &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;,\r\n    &quot;October&quot;, &quot;November&quot;, &quot;December&quot;);\r\n```\r\n\r\nThen, use `List.sort` and implement `Comparator` which compare month by descending order.\r\n\r\n```java\r\nfeatureAnalyzeInterfaceList.sort((dto1, dto2) -&gt; {\r\n    if (monthList.indexOf(dto1.month) &gt; monthList.indexOf(dto2.month)) {\r\n        return -1;\r\n    } else if (monthList.indexOf(dto1.month) &lt; monthList.indexOf(dto2.month)) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n});\r\n```","title":"Sort List&lt;Object&gt; by month name in Java","body":"<p>First, create a monthList which contains January to December .</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; monthList = Arrays.asList(&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;,\n    &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;,\n    &quot;October&quot;, &quot;November&quot;, &quot;December&quot;);\n</code></pre>\n<p>Then, use <code>List.sort</code> and implement <code>Comparator</code> which compare month by descending order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>featureAnalyzeInterfaceList.sort((dto1, dto2) -&gt; {\n    if (monthList.indexOf(dto1.month) &gt; monthList.indexOf(dto2.month)) {\n        return -1;\n    } else if (monthList.indexOf(dto1.month) &lt; monthList.indexOf(dto2.month)) {\n        return 1;\n    }\n    return 0;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651221184,"creation_date":1651221184,"answer_id":72055043,"question_id":72054058,"body_markdown":"If you are using at least Java 8, then you should use the [java.time.Month][1] &amp;nbsp; [enum][2]. I use it in the below code.\r\n\r\nIf you are using [at least] Java 14, then you can use a `record` rather than a class. Refer to [JEP 395][3]. In the below code, `FeatureAnalyzeDTO` is a record and not a class. I assume that the _DTO_ in the [class] name means _Data Transfer Object_ which implies to me that it may need to be serializable. Note that a java record can also be serializable. Refer to the article from Chris Hegarty entitled [Serializable Records][4]. Using a record simply saves you from writing the usual methods including *getter*s, [equals][5] and [toString][6]. Note, however, that records are [meant to be] [immutable][7].\r\n\r\nIn the below code, I create a `List` of `FeatureAnalyzeDTO` instances as well as a [Comparator][8] for sorting the list by month, descending, i.e. `FeatureAnalyzeDTO` instances whose `month` is _December_ are first in the list while those whose `month` is _January_ are last. The `Comparator` is implemented via a [lambda expression][9]. Lambda expressions were added in Java 8.\r\n```java\r\nimport java.io.Serializable;\r\nimport java.time.Month;\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\npublic record FeatureAnalyzeDTO(String featureName,\r\n                                String month,\r\n                                int featureCount,\r\n                                String appName) implements Serializable {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;FeatureAnalyzeDTO&gt; list = new ArrayList&lt;&gt;(List.of(new FeatureAnalyzeDTO(&quot;login&quot;, &quot;April&quot;, 1, &quot;Mobile Banking&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;login&quot;, &quot;April&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;S3&quot;, &quot;April&quot;, 1, &quot;Mobile Banking&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;update profile&quot;, &quot;April&quot;, 1, &quot;Markets Research Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;update profile&quot;, &quot;April&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;login&quot;, &quot;December&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;Replace PAN Card&quot;, &quot;December&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;update profile&quot;, &quot;December&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;update user profile api&quot;, &quot;December&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;FI unfreeze PAN Card&quot;, &quot;January&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;login&quot;, &quot;January&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;Replace PAN Card&quot;, &quot;January&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;login&quot;, &quot;March&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;update profile&quot;, &quot;March&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;login&quot;, &quot;November&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;Replace PAN Card&quot;, &quot;November&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;Replace PAN Card&quot;, &quot;October&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;S3&quot;, &quot;October&quot;, 1, &quot;Retail Bank Portal&quot;),\r\n                                                               new FeatureAnalyzeDTO(&quot;View Account Summary&quot;, &quot;October&quot;, 1, &quot;Retail Bank Portal&quot;)));\r\n        Comparator&lt;FeatureAnalyzeDTO&gt; comp = (o1, o2) -&gt; Month.valueOf(o2.month().toUpperCase()).getValue() - Month.valueOf(o1.month().toUpperCase()).getValue();\r\n        list.sort(comp);\r\n        list.forEach(System.out::println);\r\n    }\r\n}\r\n```\r\nRunning the above code produces the following:\r\n```none\r\nFeatureAnalyzeDTO[featureName=login, month=December, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=Replace PAN Card, month=December, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=update profile, month=December, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=update user profile api, month=December, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=login, month=November, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=Replace PAN Card, month=November, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=Replace PAN Card, month=October, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=S3, month=October, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=View Account Summary, month=October, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=login, month=April, featureCount=1, appName=Mobile Banking]\r\nFeatureAnalyzeDTO[featureName=login, month=April, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=S3, month=April, featureCount=1, appName=Mobile Banking]\r\nFeatureAnalyzeDTO[featureName=update profile, month=April, featureCount=1, appName=Markets Research Portal]\r\nFeatureAnalyzeDTO[featureName=update profile, month=April, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=login, month=March, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=update profile, month=March, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=FI unfreeze PAN Card, month=January, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=login, month=January, featureCount=1, appName=Retail Bank Portal]\r\nFeatureAnalyzeDTO[featureName=Replace PAN Card, month=January, featureCount=1, appName=Retail Bank Portal]\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Month.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [3]: https://openjdk.java.net/jeps/395\r\n  [4]: https://docs.oracle.com/en/java/javase/15/serializable-records/index.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()\r\n  [7]: https://www.selikoff.net/2021/08/01/why-java-records-arent-quite-immutable/\r\n  [8]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\r\n  [9]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"Sort List&lt;Object&gt; by month name in Java","body":"<p>If you are using at least Java 8, then you should use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Month.html\" rel=\"nofollow noreferrer\">java.time.Month</a>   <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">enum</a>. I use it in the below code.</p>\n<p>If you are using [at least] Java 14, then you can use a <code>record</code> rather than a class. Refer to <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a>. In the below code, <code>FeatureAnalyzeDTO</code> is a record and not a class. I assume that the <em>DTO</em> in the [class] name means <em>Data Transfer Object</em> which implies to me that it may need to be serializable. Note that a java record can also be serializable. Refer to the article from Chris Hegarty entitled <a href=\"https://docs.oracle.com/en/java/javase/15/serializable-records/index.html\" rel=\"nofollow noreferrer\">Serializable Records</a>. Using a record simply saves you from writing the usual methods including <em>getter</em>s, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">equals</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\">toString</a>. Note, however, that records are [meant to be] <a href=\"https://www.selikoff.net/2021/08/01/why-java-records-arent-quite-immutable/\" rel=\"nofollow noreferrer\">immutable</a>.</p>\n<p>In the below code, I create a <code>List</code> of <code>FeatureAnalyzeDTO</code> instances as well as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> for sorting the list by month, descending, i.e. <code>FeatureAnalyzeDTO</code> instances whose <code>month</code> is <em>December</em> are first in the list while those whose <code>month</code> is <em>January</em> are last. The <code>Comparator</code> is implemented via a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a>. Lambda expressions were added in Java 8.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.Serializable;\nimport java.time.Month;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic record FeatureAnalyzeDTO(String featureName,\n                                String month,\n                                int featureCount,\n                                String appName) implements Serializable {\n\n    public static void main(String[] args) {\n        List&lt;FeatureAnalyzeDTO&gt; list = new ArrayList&lt;&gt;(List.of(new FeatureAnalyzeDTO(&quot;login&quot;, &quot;April&quot;, 1, &quot;Mobile Banking&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;login&quot;, &quot;April&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;S3&quot;, &quot;April&quot;, 1, &quot;Mobile Banking&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;update profile&quot;, &quot;April&quot;, 1, &quot;Markets Research Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;update profile&quot;, &quot;April&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;login&quot;, &quot;December&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;Replace PAN Card&quot;, &quot;December&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;update profile&quot;, &quot;December&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;update user profile api&quot;, &quot;December&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;FI unfreeze PAN Card&quot;, &quot;January&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;login&quot;, &quot;January&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;Replace PAN Card&quot;, &quot;January&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;login&quot;, &quot;March&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;update profile&quot;, &quot;March&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;login&quot;, &quot;November&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;Replace PAN Card&quot;, &quot;November&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;Replace PAN Card&quot;, &quot;October&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;S3&quot;, &quot;October&quot;, 1, &quot;Retail Bank Portal&quot;),\n                                                               new FeatureAnalyzeDTO(&quot;View Account Summary&quot;, &quot;October&quot;, 1, &quot;Retail Bank Portal&quot;)));\n        Comparator&lt;FeatureAnalyzeDTO&gt; comp = (o1, o2) -&gt; Month.valueOf(o2.month().toUpperCase()).getValue() - Month.valueOf(o1.month().toUpperCase()).getValue();\n        list.sort(comp);\n        list.forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>Running the above code produces the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>FeatureAnalyzeDTO[featureName=login, month=December, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=Replace PAN Card, month=December, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=update profile, month=December, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=update user profile api, month=December, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=login, month=November, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=Replace PAN Card, month=November, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=Replace PAN Card, month=October, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=S3, month=October, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=View Account Summary, month=October, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=login, month=April, featureCount=1, appName=Mobile Banking]\nFeatureAnalyzeDTO[featureName=login, month=April, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=S3, month=April, featureCount=1, appName=Mobile Banking]\nFeatureAnalyzeDTO[featureName=update profile, month=April, featureCount=1, appName=Markets Research Portal]\nFeatureAnalyzeDTO[featureName=update profile, month=April, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=login, month=March, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=update profile, month=March, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=FI unfreeze PAN Card, month=January, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=login, month=January, featureCount=1, appName=Retail Bank Portal]\nFeatureAnalyzeDTO[featureName=Replace PAN Card, month=January, featureCount=1, appName=Retail Bank Portal]\n</code></pre>\n"}],"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":72055043,"answer_count":3,"score":-2,"last_activity_date":1651221184,"creation_date":1651216223,"question_id":72054058,"body_markdown":"I am having following data in ArrayList in Java. I am trying to sort it by month in a year. It should sort by December, November, and so on. I have tried different techniques but none of those is working.\r\n\r\n| month | featureName | featureCount | appName |\r\n| --- | --- | --- | --- |\r\n| April | login | 1 | Mobile Banking |\r\n| April | login | 1 | Retail Bank Portal |\r\n| April | S3 | 1 | Mobile Banking |\r\n| April | update profile | 1 | Markets Research Portal |\r\n| April | update profile | 1 | Retail Bank Portal |\r\n| December | login | 1 | Retail Bank Portal |\r\n| December | Replace PAN Card | 1 | Retail Bank Portal |\r\n| December | update profile | 1 | Retail Bank Portal |\r\n| December | update user profile api | 1 | Retail Bank Portal |\r\n| January | FI unfreeze PAN Card | 1 | Retail Bank Portal |\r\n| January | login | 1 | Retail Bank Portal |\r\n| January | Replace PAN Card | 1 | Retail Bank Portal |\r\n| March | login | 1 | Retail Bank Portal |\r\n| March | update profile | 1 | Retail Bank Portal |\r\n| November | login | 1 | Retail Bank Portal |\r\n| November | Replace PAN Card | 1 | Retail Bank Portal |\r\n| October | Replace PAN Card | 1 | Retail Bank Portal |\r\n| October | S3 | 1 | Retail Bank Portal |\r\n| October | View Account Summary | 1 | Retail Bank Portal |    \r\n\r\nHere is my Code:    \r\n\r\n    \r\n    public class FeatureAnalyzeDTO {\r\n    private String featureName;\r\n    private String month;\r\n    private int featureCount;\r\n    private String appName;\r\n\r\n    private int featureCountForAMonth;\r\n    private double percentage;\r\n    private int cumulativeSum;\r\n    }\r\n\r\n\r\n    List&lt;FeatureAnalyzeDTO&gt; featureAnalyzeDTOList = getFeatureAnalyzeDTOS(featureAnalyzeInterfaceList);\r\n\r\nI have tried using a Comparator but that did not work. How could I sort it by month name?","title":"Sort List&lt;Object&gt; by month name in Java","body":"<p>I am having following data in ArrayList in Java. I am trying to sort it by month in a year. It should sort by December, November, and so on. I have tried different techniques but none of those is working.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>month</th>\n<th>featureName</th>\n<th>featureCount</th>\n<th>appName</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>April</td>\n<td>login</td>\n<td>1</td>\n<td>Mobile Banking</td>\n</tr>\n<tr>\n<td>April</td>\n<td>login</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>April</td>\n<td>S3</td>\n<td>1</td>\n<td>Mobile Banking</td>\n</tr>\n<tr>\n<td>April</td>\n<td>update profile</td>\n<td>1</td>\n<td>Markets Research Portal</td>\n</tr>\n<tr>\n<td>April</td>\n<td>update profile</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>December</td>\n<td>login</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>December</td>\n<td>Replace PAN Card</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>December</td>\n<td>update profile</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>December</td>\n<td>update user profile api</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>January</td>\n<td>FI unfreeze PAN Card</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>January</td>\n<td>login</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>January</td>\n<td>Replace PAN Card</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>March</td>\n<td>login</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>March</td>\n<td>update profile</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>November</td>\n<td>login</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>November</td>\n<td>Replace PAN Card</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>October</td>\n<td>Replace PAN Card</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>October</td>\n<td>S3</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n<tr>\n<td>October</td>\n<td>View Account Summary</td>\n<td>1</td>\n<td>Retail Bank Portal</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Here is my Code:</p>\n<pre><code>public class FeatureAnalyzeDTO {\nprivate String featureName;\nprivate String month;\nprivate int featureCount;\nprivate String appName;\n\nprivate int featureCountForAMonth;\nprivate double percentage;\nprivate int cumulativeSum;\n}\n\n\nList&lt;FeatureAnalyzeDTO&gt; featureAnalyzeDTOList = getFeatureAnalyzeDTOS(featureAnalyzeInterfaceList);\n</code></pre>\n<p>I have tried using a Comparator but that did not work. How could I sort it by month name?</p>\n"},{"tags":["java","spring","kotlin","datetime-format"],"answers":[{"tags":[],"owner":{"account_id":18696867,"reputation":860,"user_id":13629974,"display_name":"&#214;mer Seyfettin Yavuzyiğit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651221164,"creation_date":1651221164,"answer_id":72055039,"question_id":72054832,"body_markdown":" date if milliseconds and 13 digits(hex to date)    \r\n\r\n    val dtlong = Date(date)    \r\n    val sdfdate = SimpleDateFormat(&quot;dd.MM.yyyy&#39;T&#39;HH:mm:ss&quot;, Locale.getDefault()).format(dtlong)\r\n\r\ndate if milliseconds and 10 digits(hex to date)    \r\n\r\n    val dtlong = Date(date*1000)    \r\n    val sdfdate = SimpleDateFormat(&quot;dd.MM.yyyy&#39;T&#39;HH:mm:ss&quot;, Locale.getDefault()).format(dtlong)\r\n\r\nstring to date\r\n\r\n    val formatter = SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;, Locale.ENGLISH)\r\n    val mDate = formatter.parse(dateStr)","title":"Spring&#39;s @DateTimeFormat ignores wanted date format pattern","body":"<p>date if milliseconds and 13 digits(hex to date)</p>\n<pre><code>val dtlong = Date(date)    \nval sdfdate = SimpleDateFormat(&quot;dd.MM.yyyy'T'HH:mm:ss&quot;, Locale.getDefault()).format(dtlong)\n</code></pre>\n<p>date if milliseconds and 10 digits(hex to date)</p>\n<pre><code>val dtlong = Date(date*1000)    \nval sdfdate = SimpleDateFormat(&quot;dd.MM.yyyy'T'HH:mm:ss&quot;, Locale.getDefault()).format(dtlong)\n</code></pre>\n<p>string to date</p>\n<pre><code>val formatter = SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;, Locale.ENGLISH)\nval mDate = formatter.parse(dateStr)\n</code></pre>\n"}],"owner":{"account_id":20738066,"reputation":164,"user_id":15228464,"display_name":"agingcabbage32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651221164,"creation_date":1651220189,"question_id":72054832,"body_markdown":"Can&#39;t get my head on how date formatting using @DateTimeFormat works.\r\nI send query with date params being:\r\n\r\n    dateCreateFrom - 01.04.2022T00%3A00%3A00\r\n    dateCreateTo   - 30.04.2022T00%3A00%3A00\r\n\r\nBut at the controller endpoint I get dates like: `2022-04-30T00:00`\r\n\r\nController looks like:\r\n\r\n    @DateTimeFormat(pattern = &quot;dd.MM.yyyy&#39;T&#39;HH:mm:ss&quot;)\r\n    dateCreateFrom: LocalDateTime? = null,\r\n    @DateTimeFormat(pattern = &quot;dd.MM.yyyy&#39;T&#39;HH:mm:ss&quot;)\r\n    dateCreateTo: LocalDateTime? = null,\r\n\r\nMaybe someone can explain me why I get such results and how can I get results that I want to (dd.MM.yyyy&#39;T&#39;HH:mm:ss)\r\n\r\nAny help appreciated\r\n        \r\n\r\n","title":"Spring&#39;s @DateTimeFormat ignores wanted date format pattern","body":"<p>Can't get my head on how date formatting using @DateTimeFormat works.\nI send query with date params being:</p>\n<pre><code>dateCreateFrom - 01.04.2022T00%3A00%3A00\ndateCreateTo   - 30.04.2022T00%3A00%3A00\n</code></pre>\n<p>But at the controller endpoint I get dates like: <code>2022-04-30T00:00</code></p>\n<p>Controller looks like:</p>\n<pre><code>@DateTimeFormat(pattern = &quot;dd.MM.yyyy'T'HH:mm:ss&quot;)\ndateCreateFrom: LocalDateTime? = null,\n@DateTimeFormat(pattern = &quot;dd.MM.yyyy'T'HH:mm:ss&quot;)\ndateCreateTo: LocalDateTime? = null,\n</code></pre>\n<p>Maybe someone can explain me why I get such results and how can I get results that I want to (dd.MM.yyyy'T'HH:mm:ss)</p>\n<p>Any help appreciated</p>\n"},{"tags":["java","weblogic","log4j2"],"owner":{"account_id":3605790,"reputation":27,"user_id":3007979,"display_name":"SAXAS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651220828,"creation_date":1651220828,"question_id":72054965,"body_markdown":"So i have a simple properties handler java code which prints these loggers . I am using commons logging and log4j2 \r\n\r\n```\r\nimport org.apache.commons.vfs2.FileObject;\r\nimport org.apache.commons.vfs2.FileSystemException;\r\nimport org.apache.commons.vfs2.FileSystemManager;\r\nimport org.apache.commons.vfs2.VFS;\r\nimport org.apache.commons.vfs2.impl.DefaultFileMonitor;\r\n\r\nimport org.apache.commons.logging.Log; \r\nimport org.apache.commons.logging.LogFactory;\r\n\r\n\r\n/**\r\n * Provides functions to get the property file from cache or load it into cache.\r\n *\r\n */\r\npublic final class PropertiesHandler {\r\n\t\r\n\tprivate static final Log logger = LogFactory.getLog(PropertiesHandler.class);\r\n\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t\r\n  logger.debug(&quot;(((((New debug logger used in Log4j2)))))&quot;);\r\n\t   logger.warn(&quot;(((((New warn logger used in Log4j2)))))&quot;);\r\n\t   logger.info(&quot;(((((New info logger used in Log4j2)))))&quot;);\r\n\t   logger.error(&quot;(((((New error logger used in Log4j2)))))&quot;);\r\n      logger.debug(&quot;Entering getPropertyValue&quot;);\r\n      logger.debug(&quot;propertyKey : [&quot; + propertyKey + &quot;]&quot;);\r\n      logger.debug(&quot;propertyFile : [&quot; + propertyFile + &quot;]&quot;);\r\n\t\t   \t\t}\r\n\r\n.... \r\n&lt;&lt;Some other code&gt;&gt;\r\n\r\n\t \r\n```\r\nwhich is packaged as a jar and used inside a service inside weblogic server. \r\n\r\nmy log4j2.xml which is packaged as part of the jar  looks like hthis \r\n\r\n```\r\n&lt;Configuration status=&quot;error&quot;&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;Console name=&quot;consoleLogger&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n\t\t\t&lt;PatternLayout pattern=&quot;%-7p %d [%t] %c %x - %m%n&quot; /&gt;\r\n\t\t&lt;/Console&gt;\r\n\t\t&lt;RollingFile name=&quot;fileLogger&quot;\r\n\t\t\tfileName=&quot;propertieshelper.log&quot;\r\n\t\t\tfilePattern=&quot;${filename}.%d{yyyy-MM-dd}&quot; append=&quot;true&quot;&gt;\r\n\t\t\t&lt;PatternLayout pattern=&quot; %-7p %d [%t] %c %x - %m%n&quot; /&gt;\r\n\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;102400KB&quot; /&gt;\r\n\t\t\t&lt;DefaultRolloverStrategy max=&quot;5&quot; /&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Loggers&gt;\r\n\t&lt;Logger name=&quot;ca.bell&quot; level =&quot;debug&quot;&gt;\r\n\t\t\t\r\n\t\t\t&lt;AppenderRef ref=&quot;fileLogger&quot; /&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;consoleLogger&quot; /&gt;\r\n\t\t&lt;/Logger&gt;\r\n\r\n\t\t&lt;Root level=&quot;error&quot;&gt;\r\n\t\t&lt;AppenderRef ref=&quot;fileLogger&quot; /&gt;\r\n\t\t\r\n\t\t&lt;/Root&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nnow when i run my jar as a standalone in eclipse it prints my needed loggers.\r\n\r\n```\r\n.\r\n.\r\n.\r\n\r\nERROR   2022-04-29 13:45:36,705 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - Unable to lookup startup property appConfigPath, using propertieshelper.properties embedded in the jar\r\nDEBUG   2022-04-29 13:45:36,712 [main] ca.bell.common.utlis.PropertiesLoader [] - Loading properties from class path : propertieshelper.properties\r\nDEBUG   2022-04-29 13:45:36,712 [main] ca.bell.common.utlis.PropertiesLoader [] - Loading properties using input stream \r\nDEBUG   2022-04-29 13:45:36,713 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - Derived default properties file : /opt/oracle/OSM/env.properties\r\nDEBUG   2022-04-29 13:45:36,713 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - (((((New debug logger used in Log4j2)))))\r\nWARN    2022-04-29 13:45:36,714 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - (((((New warn logger used in Log4j2)))))\r\nINFO    2022-04-29 13:45:36,714 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - (((((New info logger used in Log4j2)))))\r\nERROR   2022-04-29 13:45:36,714 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - (((((New error logger used in Log4j2)))))\r\nDEBUG   2022-04-29 13:45:36,714 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - Entering getPropertyValue\r\nDEBUG   2022-04-29 13:45:36,718 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - propertyKey : [text]\r\nDEBUG   2022-04-29 13:45:36,718 [main] ca.bell.dao.properties.handler.PropertiesHandler [\r\n.\r\n.\r\n.\r\n\r\n```\r\n\r\nbut when i use this jar within my service and deploy the app to weblogic jar it does NOT print the &quot;debug&quot; logs ONLY.  it does Prints the rest. So what am i doing wrong ?\r\n\r\n\r\n--\r\nserver side logs for this properties handler app\r\n\r\n```\r\n.\r\n.\r\n.\r\n5:19 AM EDT&gt; &lt;Warning&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New warn logger used in Log4j2)))))&gt;\r\n&lt;Apr 29, 2022 3:15:19 AM EDT&gt; &lt;Info&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New info logger used in Log4j2)))))&gt;\r\n&lt;Apr 29, 2022 3:15:19 AM EDT&gt; &lt;Error&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New error logger used in Log4j2)))))&gt;\r\n&lt;Apr 29, 2022 3:15:19 AM EDT&gt; &lt;Warning&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New warn logger used in Log4j2)))))&gt;\r\n&lt;Apr 29, 2022 3:15:19 AM EDT&gt; &lt;Info&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New info logger used in Log4j2)))))&gt;\r\n&lt;Apr 29, 2022 3:15:19 AM EDT&gt; &lt;Error&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New error logger used in Log4j2)))))&gt;\r\n.\r\n.\r\n.\r\n```\r\n","title":"Weblogic Log4j2 setup not printing Debug messages","body":"<p>So i have a simple properties handler java code which prints these loggers . I am using commons logging and log4j2</p>\n<pre><code>import org.apache.commons.vfs2.FileObject;\nimport org.apache.commons.vfs2.FileSystemException;\nimport org.apache.commons.vfs2.FileSystemManager;\nimport org.apache.commons.vfs2.VFS;\nimport org.apache.commons.vfs2.impl.DefaultFileMonitor;\n\nimport org.apache.commons.logging.Log; \nimport org.apache.commons.logging.LogFactory;\n\n\n/**\n * Provides functions to get the property file from cache or load it into cache.\n *\n */\npublic final class PropertiesHandler {\n    \n    private static final Log logger = LogFactory.getLog(PropertiesHandler.class);\n\n    \n    public static void main(String[] args) throws Exception {\n        \n  logger.debug(&quot;(((((New debug logger used in Log4j2)))))&quot;);\n       logger.warn(&quot;(((((New warn logger used in Log4j2)))))&quot;);\n       logger.info(&quot;(((((New info logger used in Log4j2)))))&quot;);\n       logger.error(&quot;(((((New error logger used in Log4j2)))))&quot;);\n      logger.debug(&quot;Entering getPropertyValue&quot;);\n      logger.debug(&quot;propertyKey : [&quot; + propertyKey + &quot;]&quot;);\n      logger.debug(&quot;propertyFile : [&quot; + propertyFile + &quot;]&quot;);\n                }\n\n.... \n&lt;&lt;Some other code&gt;&gt;\n\n     \n</code></pre>\n<p>which is packaged as a jar and used inside a service inside weblogic server.</p>\n<p>my log4j2.xml which is packaged as part of the jar  looks like hthis</p>\n<pre><code>&lt;Configuration status=&quot;error&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;consoleLogger&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%-7p %d [%t] %c %x - %m%n&quot; /&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;fileLogger&quot;\n            fileName=&quot;propertieshelper.log&quot;\n            filePattern=&quot;${filename}.%d{yyyy-MM-dd}&quot; append=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot; %-7p %d [%t] %c %x - %m%n&quot; /&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;102400KB&quot; /&gt;\n            &lt;DefaultRolloverStrategy max=&quot;5&quot; /&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n    &lt;Logger name=&quot;ca.bell&quot; level =&quot;debug&quot;&gt;\n            \n            &lt;AppenderRef ref=&quot;fileLogger&quot; /&gt;\n            &lt;AppenderRef ref=&quot;consoleLogger&quot; /&gt;\n        &lt;/Logger&gt;\n\n        &lt;Root level=&quot;error&quot;&gt;\n        &lt;AppenderRef ref=&quot;fileLogger&quot; /&gt;\n        \n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>now when i run my jar as a standalone in eclipse it prints my needed loggers.</p>\n<pre><code>.\n.\n.\n\nERROR   2022-04-29 13:45:36,705 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - Unable to lookup startup property appConfigPath, using propertieshelper.properties embedded in the jar\nDEBUG   2022-04-29 13:45:36,712 [main] ca.bell.common.utlis.PropertiesLoader [] - Loading properties from class path : propertieshelper.properties\nDEBUG   2022-04-29 13:45:36,712 [main] ca.bell.common.utlis.PropertiesLoader [] - Loading properties using input stream \nDEBUG   2022-04-29 13:45:36,713 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - Derived default properties file : /opt/oracle/OSM/env.properties\nDEBUG   2022-04-29 13:45:36,713 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - (((((New debug logger used in Log4j2)))))\nWARN    2022-04-29 13:45:36,714 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - (((((New warn logger used in Log4j2)))))\nINFO    2022-04-29 13:45:36,714 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - (((((New info logger used in Log4j2)))))\nERROR   2022-04-29 13:45:36,714 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - (((((New error logger used in Log4j2)))))\nDEBUG   2022-04-29 13:45:36,714 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - Entering getPropertyValue\nDEBUG   2022-04-29 13:45:36,718 [main] ca.bell.dao.properties.handler.PropertiesHandler [] - propertyKey : [text]\nDEBUG   2022-04-29 13:45:36,718 [main] ca.bell.dao.properties.handler.PropertiesHandler [\n.\n.\n.\n\n</code></pre>\n<p>but when i use this jar within my service and deploy the app to weblogic jar it does NOT print the &quot;debug&quot; logs ONLY.  it does Prints the rest. So what am i doing wrong ?</p>\n<p>--\nserver side logs for this properties handler app</p>\n<pre><code>.\n.\n.\n5:19 AM EDT&gt; &lt;Warning&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New warn logger used in Log4j2)))))&gt;\n&lt;Apr 29, 2022 3:15:19 AM EDT&gt; &lt;Info&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New info logger used in Log4j2)))))&gt;\n&lt;Apr 29, 2022 3:15:19 AM EDT&gt; &lt;Error&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New error logger used in Log4j2)))))&gt;\n&lt;Apr 29, 2022 3:15:19 AM EDT&gt; &lt;Warning&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New warn logger used in Log4j2)))))&gt;\n&lt;Apr 29, 2022 3:15:19 AM EDT&gt; &lt;Info&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New info logger used in Log4j2)))))&gt;\n&lt;Apr 29, 2022 3:15:19 AM EDT&gt; &lt;Error&gt; &lt;ca.bell.dao.properties.handler.PropertiesHandler&gt; &lt;BEA-000000&gt; &lt;(((((New error logger used in Log4j2)))))&gt;\n.\n.\n.\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8603,"page":1389,"page_size":100}
