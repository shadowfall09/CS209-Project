{"items":[{"tags":["java","while-loop","count","sum","integer"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668848842,"post_id":74498718,"comment_id":131509392,"body_markdown":"And the question is?","body":"And the question is?"},{"owner":{"account_id":26982146,"reputation":3,"user_id":20546326,"display_name":"Leka"},"score":0,"creation_date":1668849018,"post_id":74498718,"comment_id":131509418,"body_markdown":"@ChristophDahlen How do I accumulate a sum of a series of input values?","body":"@ChristophDahlen How do I accumulate a sum of a series of input values?"},{"owner":{"account_id":26982146,"reputation":3,"user_id":20546326,"display_name":"Leka"},"score":0,"creation_date":1668858862,"post_id":74498718,"comment_id":131511114,"body_markdown":"Modify the program from the previous exercise, so that it displays the sum of a series of input numbers. You should prompt the user for the number of input numbers to be entered, and use this number as your loop counter.\nHow can I do that?","body":"Modify the program from the previous exercise, so that it displays the sum of a series of input numbers. You should prompt the user for the number of input numbers to be entered, and use this number as your loop counter. How can I do that?"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668849856,"creation_date":1668849856,"answer_id":74498840,"question_id":74498718,"body_markdown":"You asked\r\n\r\n&gt; How do I accumulate a sum of a series of input values?\r\n\r\nIn the mentioned practice you need to separate your numbers with whitespace, there are many more advance approach like using [IntStream][1] api.\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class Example5 {\r\n        public static void main(String[] args) {\r\n            int sum = 0;\r\n            System.out.println(&quot;Add your numbers to sum: &quot;);\r\n            Scanner in = new Scanner(new Scanner(System.in).nextLine());\r\n            while (in.hasNext()) {\r\n                sum += in.nextInt();\r\n            }\r\n            System.out.println(sum);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html","title":"How do I accumulate a sum of a series of input values?","body":"<p>You asked</p>\n<blockquote>\n<p>How do I accumulate a sum of a series of input values?</p>\n</blockquote>\n<p>In the mentioned practice you need to separate your numbers with whitespace, there are many more advance approach like using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\">IntStream</a> api.</p>\n<pre class=\"lang-html prettyprint-override\"><code>public class Example5 {\n    public static void main(String[] args) {\n        int sum = 0;\n        System.out.println(&quot;Add your numbers to sum: &quot;);\n        Scanner in = new Scanner(new Scanner(System.in).nextLine());\n        while (in.hasNext()) {\n            sum += in.nextInt();\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":26896439,"reputation":151,"user_id":20474278,"display_name":"m3ow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668850373,"creation_date":1668850271,"answer_id":74498885,"question_id":74498718,"body_markdown":"This code gives an output based on the statement, &quot;Given that code I have to modify the program that it displays the sum from 1 to the input number.&quot;\r\n````\r\nimport java.util.Scanner;\r\n\r\npublic class Example5 {\r\n\r\n    public static void main(String[] args) {\r\n        int sum = 0, number;\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter a number: &quot;);\r\n        number = in.nextInt();\r\n\r\n        for (int i = 1; i &lt;= number; i++) sum += i;\r\n\r\n        System.out.println(sum);\r\n    }\r\n}\r\n````\r\n\r\n","title":"How do I accumulate a sum of a series of input values?","body":"<p>This code gives an output based on the statement, &quot;Given that code I have to modify the program that it displays the sum from 1 to the input number.&quot;</p>\n<pre><code>import java.util.Scanner;\n\npublic class Example5 {\n\n    public static void main(String[] args) {\n        int sum = 0, number;\n        Scanner in = new Scanner(System.in);\n\n        System.out.println(&quot;Enter a number: &quot;);\n        number = in.nextInt();\n\n        for (int i = 1; i &lt;= number; i++) sum += i;\n\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26982146,"reputation":3,"user_id":20546326,"display_name":"Leka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668850373,"creation_date":1668848663,"question_id":74498718,"body_markdown":"//Modify the program from the previous exercise, so that it displays just the sum of all of the numbers from one to the input number. Be sure to test your program with several inputs.\r\n\r\n\r\n```\r\n// Example5.java\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Example5 {\r\n\r\n    public static void main(String[] args) {\r\n        int count = 0;\r\n\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter a number: &quot;);\r\n        int number = in.nextInt();\r\n        while (count &lt;= number) {\r\n            System.out.println(count);\r\n            ++count;\r\n\r\n        }\r\n    }\r\n```\r\n\r\nGiven that code I have to modify the program that it displays the sum from 1 to the input number.","title":"How do I accumulate a sum of a series of input values?","body":"<p>//Modify the program from the previous exercise, so that it displays just the sum of all of the numbers from one to the input number. Be sure to test your program with several inputs.</p>\n<pre><code>// Example5.java\n\nimport java.util.Scanner;\n\npublic class Example5 {\n\n    public static void main(String[] args) {\n        int count = 0;\n\n        Scanner in = new Scanner(System.in);\n\n        System.out.println(&quot;Enter a number: &quot;);\n        int number = in.nextInt();\n        while (count &lt;= number) {\n            System.out.println(count);\n            ++count;\n\n        }\n    }\n</code></pre>\n<p>Given that code I have to modify the program that it displays the sum from 1 to the input number.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","multipartform-data"],"comments":[{"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"score":0,"creation_date":1662819768,"post_id":73636534,"comment_id":130096741,"body_markdown":"From the stacktrace, it looks like Jackson is parsing an `Integer` but your code is expecting an `ArrayList&lt;Integer&gt;`. Consider creating a minimal sample showing the problem and share it here.","body":"From the stacktrace, it looks like Jackson is parsing an <code>Integer</code> but your code is expecting an <code>ArrayList&lt;Integer&gt;</code>. Consider creating a minimal sample showing the problem and share it here."},{"owner":{"account_id":26260167,"reputation":1,"user_id":19931610,"display_name":"Vogap"},"score":0,"creation_date":1662964680,"post_id":73636534,"comment_id":130118942,"body_markdown":"@JanNielsen you can find the request sample in the topic","body":"@JanNielsen you can find the request sample in the topic"},{"owner":{"account_id":26260167,"reputation":1,"user_id":19931610,"display_name":"Vogap"},"score":0,"creation_date":1663846127,"post_id":73636534,"comment_id":130337860,"body_markdown":"@JanNielsen please find the sample https://github.com/alxxyz/spring-request-part-demo","body":"@JanNielsen please find the sample <a href=\"https://github.com/alxxyz/spring-request-part-demo\" rel=\"nofollow noreferrer\">github.com/alxxyz/spring-request-part-demo</a>"}],"answers":[{"comments":[{"owner":{"account_id":26260167,"reputation":1,"user_id":19931610,"display_name":"Vogap"},"score":0,"creation_date":1663922854,"post_id":73816175,"comment_id":130357989,"body_markdown":"The issue is that the request from the client is sending 2 records, not one record with an array, and this can not be changed","body":"The issue is that the request from the client is sending 2 records, not one record with an array, and this can not be changed"}],"tags":[],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663855977,"creation_date":1663855977,"answer_id":73816175,"question_id":73636534,"body_markdown":"If you form your IDs as an array, they will be handled corrected:\r\n\r\n```\r\n\t\tMultipartBodyBuilder bodyBuilder = new MultipartBodyBuilder();\r\n\t\tbodyBuilder.part(&quot;ids&quot;, Arrays.asList(22, 33));\r\n\t\t//bodyBuilder.part(&quot;ids&quot;, 33);\r\n\r\n\t\twebTestClient.post()\r\n\t\t\t\t.uri(&quot;/create&quot;)\r\n\t\t\t\t.contentType(MediaType.MULTIPART_FORM_DATA)\r\n\t\t\t\t.body(BodyInserters.fromMultipartData(bodyBuilder.build()))\r\n\t\t\t\t.exchange()\r\n\t\t\t\t.expectStatus().isOk();\r\n```\r\n","title":"Receive multiple multipart/form-data properties with the same name in Spring WebFlux","body":"<p>If you form your IDs as an array, they will be handled corrected:</p>\n<pre><code>        MultipartBodyBuilder bodyBuilder = new MultipartBodyBuilder();\n        bodyBuilder.part(&quot;ids&quot;, Arrays.asList(22, 33));\n        //bodyBuilder.part(&quot;ids&quot;, 33);\n\n        webTestClient.post()\n                .uri(&quot;/create&quot;)\n                .contentType(MediaType.MULTIPART_FORM_DATA)\n                .body(BodyInserters.fromMultipartData(bodyBuilder.build()))\n                .exchange()\n                .expectStatus().isOk();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26260167,"reputation":1,"user_id":19931610,"display_name":"Vogap"},"score":0,"creation_date":1668940995,"post_id":74498884,"comment_id":131523976,"body_markdown":"I need all IDs, not just the first one","body":"I need all IDs, not just the first one"}],"tags":[],"owner":{"account_id":2252657,"reputation":51,"user_id":1984574,"display_name":"Maarten"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668850222,"creation_date":1668850222,"answer_id":74498884,"question_id":73636534,"body_markdown":"Try this:\r\n\r\n\r\n```java\r\nimport org.springframework.http.codec.multipart.Part;\r\nimport java.nio.charset.Charset;\r\n\r\n@PostMapping(value = &quot;/create&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic Mono&lt;String&gt; create(@RequestPart(&quot;ids&quot;) List&lt;Part&gt; ids) {\r\n  var utf8 = Charset.fromString(&quot;UTF-8&quot;);\r\n\r\n  // Part.content() returns a Flux&lt;DataBuffer&gt;.\r\n  // This returns &quot;33&quot;:\r\n  return ids.get(1).content().map(dataBuffer -&gt; dataBuffer.toString(utf8)).next();\r\n}\r\n```","title":"Receive multiple multipart/form-data properties with the same name in Spring WebFlux","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.http.codec.multipart.Part;\nimport java.nio.charset.Charset;\n\n@PostMapping(value = &quot;/create&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic Mono&lt;String&gt; create(@RequestPart(&quot;ids&quot;) List&lt;Part&gt; ids) {\n  var utf8 = Charset.fromString(&quot;UTF-8&quot;);\n\n  // Part.content() returns a Flux&lt;DataBuffer&gt;.\n  // This returns &quot;33&quot;:\n  return ids.get(1).content().map(dataBuffer -&gt; dataBuffer.toString(utf8)).next();\n}\n</code></pre>\n"}],"owner":{"account_id":26260167,"reputation":1,"user_id":19931610,"display_name":"Vogap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668850222,"creation_date":1662557976,"question_id":73636534,"body_markdown":"On the frontend we have a form which send the data as multipart/form-data and we need to receive the data in the controller, and there could be a couple of records for the same property\r\n```\r\nContent-Disposition: form-data; name=&quot;ids&quot;\r\n\r\n30\r\n-----------------------------313589022531437741264012237550\r\nContent-Disposition: form-data; name=&quot;ids&quot;\r\n\r\n225\r\n-----------------------------313589022531437741264012237550\r\nContent-Disposition: form-data; name=&quot;ids&quot;\r\n\r\n226\r\n-----------------------------313589022531437741264012237550\r\nContent-Disposition: form-data; name=&quot;ids&quot;\r\n```\r\nHow to receive these values in the controller?\r\n```\r\n@PostMapping(value = &quot;/create&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\npublic Mono&lt;String&gt; create(@RequestPart(&quot;ids&quot;) List&lt;Long&gt; ids) {\r\n// ...\r\n}\r\n```\r\n\r\n`List&lt;Long&gt;` and `Long[]` doesn&#39;t work.\r\n\r\nThe request\r\n```\r\nMultipartBodyBuilder bodyBuilder = new MultipartBodyBuilder();\r\nbodyBuilder.part(&quot;ids&quot;, 22);\r\nbodyBuilder.part(&quot;ids&quot;, 33);\r\n\r\nwebTestClient.post()\r\n\t\t.uri(&quot;/create&quot;)\r\n\t\t.contentType(MediaType.MULTIPART_FORM_DATA)\r\n\t\t.body(BodyInserters.fromMultipartData(bodyBuilder.build()))\r\n\t\t.exchange()\r\n\t\t.expectStatus().isOk();\r\n```\r\nThe error\r\n```\r\norg.springframework.web.server.ServerWebInputException: 400 BAD_REQUEST &quot;Failed to read HTTP message&quot;; nested exception is org.springframework.core.codec.DecodingException: JSON decoding error: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Integer&gt;` from Integer value (token `JsonToken.VALUE_NUMBER_INT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Integer&gt;` from Integer value (token `JsonToken.VALUE_NUMBER_INT`)\r\n at [Source: (org.springframework.core.io.buffer.DefaultDataBuffer$DefaultDataBufferInputStream); line: 1, column: 1]\r\n\tat org.springframework.web.reactive.result.method.annotation.AbstractMessageReaderArgumentResolver.handleReadError(AbstractMessageReaderArgumentResolver.java:224)\r\n\tat org.springframework.web.reactive.result.method.annotation.AbstractMessageReaderArgumentResolver.lambda$readBody$3(AbstractMessageReaderArgumentResolver.java:190)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n```\r\n\r\nHere&#39;s a repo to demonstrate the problem:\r\n\r\n  https://github.com/alxxyz/spring-request-part-demo\r\n\r\n","title":"Receive multiple multipart/form-data properties with the same name in Spring WebFlux","body":"<p>On the frontend we have a form which send the data as multipart/form-data and we need to receive the data in the controller, and there could be a couple of records for the same property</p>\n<pre><code>Content-Disposition: form-data; name=&quot;ids&quot;\n\n30\n-----------------------------313589022531437741264012237550\nContent-Disposition: form-data; name=&quot;ids&quot;\n\n225\n-----------------------------313589022531437741264012237550\nContent-Disposition: form-data; name=&quot;ids&quot;\n\n226\n-----------------------------313589022531437741264012237550\nContent-Disposition: form-data; name=&quot;ids&quot;\n</code></pre>\n<p>How to receive these values in the controller?</p>\n<pre><code>@PostMapping(value = &quot;/create&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic Mono&lt;String&gt; create(@RequestPart(&quot;ids&quot;) List&lt;Long&gt; ids) {\n// ...\n}\n</code></pre>\n<p><code>List&lt;Long&gt;</code> and <code>Long[]</code> doesn't work.</p>\n<p>The request</p>\n<pre><code>MultipartBodyBuilder bodyBuilder = new MultipartBodyBuilder();\nbodyBuilder.part(&quot;ids&quot;, 22);\nbodyBuilder.part(&quot;ids&quot;, 33);\n\nwebTestClient.post()\n        .uri(&quot;/create&quot;)\n        .contentType(MediaType.MULTIPART_FORM_DATA)\n        .body(BodyInserters.fromMultipartData(bodyBuilder.build()))\n        .exchange()\n        .expectStatus().isOk();\n</code></pre>\n<p>The error</p>\n<pre><code>org.springframework.web.server.ServerWebInputException: 400 BAD_REQUEST &quot;Failed to read HTTP message&quot;; nested exception is org.springframework.core.codec.DecodingException: JSON decoding error: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Integer&gt;` from Integer value (token `JsonToken.VALUE_NUMBER_INT`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;java.lang.Integer&gt;` from Integer value (token `JsonToken.VALUE_NUMBER_INT`)\n at [Source: (org.springframework.core.io.buffer.DefaultDataBuffer$DefaultDataBufferInputStream); line: 1, column: 1]\n    at org.springframework.web.reactive.result.method.annotation.AbstractMessageReaderArgumentResolver.handleReadError(AbstractMessageReaderArgumentResolver.java:224)\n    at org.springframework.web.reactive.result.method.annotation.AbstractMessageReaderArgumentResolver.lambda$readBody$3(AbstractMessageReaderArgumentResolver.java:190)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\n</code></pre>\n<p>Here's a repo to demonstrate the problem:</p>\n<p><a href=\"https://github.com/alxxyz/spring-request-part-demo\" rel=\"nofollow noreferrer\">https://github.com/alxxyz/spring-request-part-demo</a></p>\n"},{"tags":["java","parsing","hash"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668864301,"post_id":74498874,"comment_id":131512158,"body_markdown":"I&#39;ve [already dealt](https://stackoverflow.com/questions/74450047/what-is-the-best-way-to-hash-lines-from-text-file-using-java) with this. Why did you delete it?","body":"I&#39;ve <a href=\"https://stackoverflow.com/questions/74450047/what-is-the-best-way-to-hash-lines-from-text-file-using-java\">already dealt</a> with this. Why did you delete it?"},{"owner":{"account_id":26865114,"reputation":1,"user_id":20447997,"display_name":"Zee-bot404"},"score":0,"creation_date":1669017873,"post_id":74498874,"comment_id":131538266,"body_markdown":"@g00se I realised I didn’t post the question properly so I was getting answers to irrelevant things. Thank you for your help much appreciated","body":"@g00se I realised I didn’t post the question properly so I was getting answers to irrelevant things. Thank you for your help much appreciated"}],"owner":{"account_id":26865114,"reputation":1,"user_id":20447997,"display_name":"Zee-bot404"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668850158,"creation_date":1668850158,"question_id":74498874,"body_markdown":"I am trying to parse data from a file and hash the output data. I can extract the data from a file using multiple methods however I am unable to store the output into a variable for it to get hashed. \r\n\r\nWhat is the best method to extract data?\r\nstore the data in a variable?\r\nhash that variable? (I have been using ```org.apache.commons.codec.digest.DigestUtils```) \r\n\r\nCan someone please guide me? I am still new to OOP.\r\n\r\n\r\n\r\nI tried using the following method below I get the output from the file:\r\n\r\n`\r\n```\r\npublic static void main(String[] args)\r\n        throws IOException {\r\n    List&lt;String&gt; stngFile = new ArrayList&lt;String&gt;();\r\n    BufferedReader bfredr = new BufferedReader(new FileReader\r\n            (&quot;MyFile.txt&quot;));\r\n\r\n    String text = bfredr.readLine();\r\n    while (text != null) {\r\n        stngFile.add(text);\r\n        text = bfredr.readLine();\r\n    }\r\n    bfredr.close();\r\n    String[] array = stngFile.toArray(new String[0]);\r\n\r\n    Arrays.toString(array);\r\n    for (String eachstring : array) {\r\n        System.out.println(eachstring);\r\n    }\r\n\r\n}\r\n\r\n\r\npublic String calculateHash() {\r\n    return Crypt.calculateHash(array.toString()\r\n            +timestamp.toString()\r\n            + nonce);\r\n}\r\n```\r\n`\r\n\r\n\r\n\r\nHow can I take the extracted data and store it in a String variable that I can use to hash that data? The above code gives me Null as the return value. ","title":"What method is best used to parse data from a .txt file and store it in an variable to be hashed?","body":"<p>I am trying to parse data from a file and hash the output data. I can extract the data from a file using multiple methods however I am unable to store the output into a variable for it to get hashed.</p>\n<p>What is the best method to extract data?\nstore the data in a variable?\nhash that variable? (I have been using <code>org.apache.commons.codec.digest.DigestUtils</code>)</p>\n<p>Can someone please guide me? I am still new to OOP.</p>\n<p>I tried using the following method below I get the output from the file:</p>\n<p>`</p>\n<pre><code>public static void main(String[] args)\n        throws IOException {\n    List&lt;String&gt; stngFile = new ArrayList&lt;String&gt;();\n    BufferedReader bfredr = new BufferedReader(new FileReader\n            (&quot;MyFile.txt&quot;));\n\n    String text = bfredr.readLine();\n    while (text != null) {\n        stngFile.add(text);\n        text = bfredr.readLine();\n    }\n    bfredr.close();\n    String[] array = stngFile.toArray(new String[0]);\n\n    Arrays.toString(array);\n    for (String eachstring : array) {\n        System.out.println(eachstring);\n    }\n\n}\n\n\npublic String calculateHash() {\n    return Crypt.calculateHash(array.toString()\n            +timestamp.toString()\n            + nonce);\n}\n</code></pre>\n<p>`</p>\n<p>How can I take the extracted data and store it in a String variable that I can use to hash that data? The above code gives me Null as the return value.</p>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":6985029,"reputation":3345,"user_id":5356349,"display_name":"Albin Paul"},"score":0,"creation_date":1668849772,"post_id":74498823,"comment_id":131509527,"body_markdown":"you can use System.out.print it wont print new line.","body":"you can use System.out.print it wont print new line."}],"answers":[{"comments":[{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":0,"creation_date":1668850787,"post_id":74498844,"comment_id":131509675,"body_markdown":"This results in expected output","body":"This results in expected output"}],"tags":[],"owner":{"account_id":8490654,"reputation":593,"user_id":6367109,"display_name":"Rahul"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668849878,"creation_date":1668849878,"answer_id":74498844,"question_id":74498823,"body_markdown":"Use `print` instead of `println`.\r\n\r\n```\r\nfor (int i = 1; i &lt;= 5; i++) {\r\n    for (int j = 1; j &lt;= i; j++) {\r\n        System.out.print(&quot;A&quot;);\r\n    }\r\n    for (int k = 5; k &gt;= i; k--) {\r\n        System.out.print(&quot;B&quot;);\r\n    }\r\n    System.out.println();\r\n}\r\n```","title":"How to make a Java loop not print vertically","body":"<p>Use <code>print</code> instead of <code>println</code>.</p>\n<pre><code>for (int i = 1; i &lt;= 5; i++) {\n    for (int j = 1; j &lt;= i; j++) {\n        System.out.print(&quot;A&quot;);\n    }\n    for (int k = 5; k &gt;= i; k--) {\n        System.out.print(&quot;B&quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21464609,"reputation":46,"user_id":15814754,"display_name":"Umair Ali Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668850127,"creation_date":1668850127,"answer_id":74498872,"question_id":74498823,"body_markdown":"all you have to do is replace the println with print \r\n\r\n    system.out.println(&quot;A&quot;); \r\nthe above code would print the text and then shift the curser to the next line\r\n\r\n\r\n    system.out.print(&quot;B&quot;);\r\nthis should do the thing \r\n\r\n","title":"How to make a Java loop not print vertically","body":"<p>all you have to do is replace the println with print</p>\n<pre><code>system.out.println(&quot;A&quot;); \n</code></pre>\n<p>the above code would print the text and then shift the curser to the next line</p>\n<pre><code>system.out.print(&quot;B&quot;);\n</code></pre>\n<p>this should do the thing</p>\n"}],"owner":{"account_id":26287653,"reputation":11,"user_id":19955084,"display_name":"cinquepeat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668850127,"creation_date":1668849608,"question_id":74498823,"body_markdown":"I want to print a square using two half pyramids but it&#39;s displaying it vertically instead of printing out a square. I also encounter this problem in other patterns that I create using loops and I don&#39;t know how to resolve it. Here&#39;s my code:\r\n\r\n\r\n```\r\nfor (int i = 1; i &lt;= 5; i++) {\r\n    for (int j = 1; j &lt;= i; j++) {\r\n        System.out.println(&quot;A&quot;);\r\n    }\r\n    for (int k = 5; k &gt;= i; k--) {\r\n        System.out.println(&quot;B&quot;);\r\n    }\r\n    System.out.println();\r\n}\r\n```\r\nExpected result:\r\n\r\nA\r\nB\r\nB\r\nB\r\nB\r\nB\r\n\r\nA\r\nA\r\nB\r\nB\r\nB\r\nB\r\n\r\nA\r\nA\r\nA\r\nB\r\nB\r\nB\r\n\r\nA\r\nA\r\nA\r\nA\r\nB\r\nB\r\n\r\nA\r\nA\r\nA\r\nA\r\nA\r\nB\r\n\r\n","title":"How to make a Java loop not print vertically","body":"<p>I want to print a square using two half pyramids but it's displaying it vertically instead of printing out a square. I also encounter this problem in other patterns that I create using loops and I don't know how to resolve it. Here's my code:</p>\n<pre><code>for (int i = 1; i &lt;= 5; i++) {\n    for (int j = 1; j &lt;= i; j++) {\n        System.out.println(&quot;A&quot;);\n    }\n    for (int k = 5; k &gt;= i; k--) {\n        System.out.println(&quot;B&quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>Expected result:</p>\n<p>A\nB\nB\nB\nB\nB</p>\n<p>A\nA\nB\nB\nB\nB</p>\n<p>A\nA\nA\nB\nB\nB</p>\n<p>A\nA\nA\nA\nB\nB</p>\n<p>A\nA\nA\nA\nA\nB</p>\n"},{"tags":["java","newline","inputstream","bufferedreader","line-separator"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668864473,"post_id":74498825,"comment_id":131512213,"body_markdown":"Seek to the end with `RandomAccessFile` and search the last couple of bytes backwards","body":"Seek to the end with <code>RandomAccessFile</code> and search the last couple of bytes backwards"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668864908,"post_id":74498825,"comment_id":131512294,"body_markdown":"(I&#39;m assuming it&#39;s a file as you&#39;d know if you&#39;d created it yourself in code as per your example above)","body":"(I&#39;m assuming it&#39;s a file as you&#39;d know if you&#39;d created it yourself in code as per your example above)"},{"owner":{"account_id":11339884,"reputation":37,"user_id":8314350,"display_name":"Annie T"},"score":0,"creation_date":1668888077,"post_id":74498825,"comment_id":131517344,"body_markdown":"Yes, it is a file. I was able to implement this using RandomAccessFile to read the last 2 bytes.","body":"Yes, it is a file. I was able to implement this using RandomAccessFile to read the last 2 bytes."}],"owner":{"account_id":11339884,"reputation":37,"user_id":8314350,"display_name":"Annie T"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668849680,"creation_date":1668849680,"question_id":74498825,"body_markdown":"I want to check if the last line of a file is new line terminated in Java. If it is new line terminated then my program can continue but if not then I have to throw an error.\r\n\r\nThe problem is I don&#39;t know in advance what the system is. Without knowing this, the new line terminated can be &#39;\\n&#39; or &#39;\\r\\n&#39;. I know I can use `System.lineSeparator()` to get the new line termination of the system but I can&#39;t think of any way to check if the last line of the file is new line terminated. \r\n\r\nFor example, the file can contain the following input:\r\n```\r\nString input = &quot;The quick brown &quot; + System.lineSeparator() + &quot;jumps over &quot; + System.lineSeparator() + &quot;the lazy dog.&quot; +  System.lineSeparator();\r\n```\r\nHow can I check if the last line(the lazy dog) is new line terminated? \r\n\r\nI tried using BufferedReader.readLine() but it excludes any new line termination so I can&#39;t check after reading the line in. I know BufferedReader.read() will preserve the new line termination but it reads every character byte and I&#39;m not sure how to check for new line termination without knowing the systems in advanced. Also I&#39;m not sure how to detect if I&#39;m reading the last line if I am using BufferedReader.read() or how to get the last 2 or 1 character?\r\n\r\nIs there any other input stream I can use to do this?\r\n\r\nI do not want to append a new line when reading in but I just want to check if the original file&#39;s last line is new line terminated. ","title":"How to check if last line of a file is new line terminated without knowing exact system in advance in Java?","body":"<p>I want to check if the last line of a file is new line terminated in Java. If it is new line terminated then my program can continue but if not then I have to throw an error.</p>\n<p>The problem is I don't know in advance what the system is. Without knowing this, the new line terminated can be '\\n' or '\\r\\n'. I know I can use <code>System.lineSeparator()</code> to get the new line termination of the system but I can't think of any way to check if the last line of the file is new line terminated.</p>\n<p>For example, the file can contain the following input:</p>\n<pre><code>String input = &quot;The quick brown &quot; + System.lineSeparator() + &quot;jumps over &quot; + System.lineSeparator() + &quot;the lazy dog.&quot; +  System.lineSeparator();\n</code></pre>\n<p>How can I check if the last line(the lazy dog) is new line terminated?</p>\n<p>I tried using BufferedReader.readLine() but it excludes any new line termination so I can't check after reading the line in. I know BufferedReader.read() will preserve the new line termination but it reads every character byte and I'm not sure how to check for new line termination without knowing the systems in advanced. Also I'm not sure how to detect if I'm reading the last line if I am using BufferedReader.read() or how to get the last 2 or 1 character?</p>\n<p>Is there any other input stream I can use to do this?</p>\n<p>I do not want to append a new line when reading in but I just want to check if the original file's last line is new line terminated.</p>\n"},{"tags":["java","spring","docker","apache-kafka","docker-compose"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668848746,"post_id":74498707,"comment_id":131509381,"body_markdown":"Can‘t see the error, cause it‘s an image but dependency in docker compose is limited to starting a container. It does not wait for the application in that container to start. If required, you need to use some kind of „wait-for“ script as entrypoint at your depending containers.","body":"Can‘t see the error, cause it‘s an image but dependency in docker compose is limited to starting a container. It does not wait for the application in that container to start. If required, you need to use some kind of „wait-for“ script as entrypoint at your depending containers."},{"owner":{"account_id":23258664,"reputation":39,"user_id":17345313,"display_name":"Gumaniuc Alexandru"},"score":0,"creation_date":1668849348,"post_id":74498707,"comment_id":131509462,"body_markdown":"I edited , now you can see the error","body":"I edited , now you can see the error"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1668862301,"post_id":74498707,"comment_id":131511725,"body_markdown":"`kafka.bootstrapAddress = localhost:9092` - I think this needs to be `kafka:9092`, as the server is not running in you application‘s container (though both are running on your localhost).","body":"<code>kafka.bootstrapAddress = localhost:9092</code> - I think this needs to be <code>kafka:9092</code>, as the server is not running in you application‘s container (though both are running on your localhost)."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1668863713,"post_id":74498707,"comment_id":131512020,"body_markdown":"Yes. Localhost refers to the spring app, not the Kafka container","body":"Yes. Localhost refers to the spring app, not the Kafka container"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1668863768,"post_id":74498707,"comment_id":131512037,"body_markdown":"Also, it&#39;s `spring.kafka.bootstrap-servers` https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka","body":"Also, it&#39;s <code>spring.kafka.bootstrap-servers</code> <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"owner":{"account_id":23258664,"reputation":39,"user_id":17345313,"display_name":"Gumaniuc Alexandru"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668863686,"answer_count":0,"score":0,"last_activity_date":1668849331,"creation_date":1668848461,"question_id":74498707,"body_markdown":"i try to dockerize my apps and i am tryimng to start 3 containers with docker compose.\r\nMy docker-compose:\r\n\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  zookeeper:\r\n    image: wurstmeister/zookeeper\r\n    ports:\r\n    - &quot;2181:2181&quot;\r\n  kafka:\r\n    image: wurstmeister/kafka\r\n    ports:\r\n    - &quot;9092:9092&quot;\r\n    depends_on:\r\n       - zookeeper\r\n    healthcheck:\r\n      test: nc -z localhost 9092 || exit -1\r\n      start_period: 15s\r\n      interval: 5s\r\n      timeout: 10s\r\n      retries: 10\r\n    environment:\r\n      KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\r\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: &#39;false&#39; \r\n  humanresources:\r\n      image: univer-anu4/humanresources:latest\r\n      ports:\r\n       - &quot;8081:8081&quot;\r\n      depends_on:\r\n        kafka:\r\n          condition: service_healthy\r\n      deploy:\r\n        restart_policy:\r\n          condition: on-failure\r\n          delay: 10s\r\n          max_attempts: 3\r\n          window: 30s  \r\n```\r\n\r\nThe problem is that i get this error each time i staty docvker compose up:\r\n\r\n    compose-humanresources-1  | 2022-11-19 09:14:59.941  WARN 1 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n\r\n\r\n\r\n\r\n\r\nBut if i remove my service hu7manresources from docker compose and starting only zookeper and kafka containers then app from intelijidee its starting properly.\r\nDo you guys have some ideea why this happening?\r\n\r\nMy application.properties:\r\n\r\n```\r\nspring.h2.console.enabled=true\r\n\r\nspring.datasource.url=jdbc:h2:mem:DB\r\nspring.datasource.driver-class-name=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.kafka.template.default-topic=pad2\r\neureka.client.service-url.defaultZone = http://localhost:7080/eureka/\r\nkafka.bootstrapAddress = localhost:9092\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.flyway.locations=classpath:db/migration\r\nspring.flyway.enabled=true\r\nspring.application.name=hr\r\n\r\neureka.instance.prefer-ip-address=true\r\neureka.client.register-with-eureka=true\r\neureka.client.fetch-registry=true\r\neureka.instance.lease-renewal-interval-in-seconds=30\r\nspring.kafka.consumer.group-id=${random.uuid}\r\n```","title":"Docker compose - kafka and zookeper starting before an web app","body":"<p>i try to dockerize my apps and i am tryimng to start 3 containers with docker compose.\nMy docker-compose:</p>\n<pre><code>version: '3'\nservices:\n  zookeeper:\n    image: wurstmeister/zookeeper\n    ports:\n    - &quot;2181:2181&quot;\n  kafka:\n    image: wurstmeister/kafka\n    ports:\n    - &quot;9092:9092&quot;\n    depends_on:\n       - zookeeper\n    healthcheck:\n      test: nc -z localhost 9092 || exit -1\n      start_period: 15s\n      interval: 5s\n      timeout: 10s\n      retries: 10\n    environment:\n      KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: 'false' \n  humanresources:\n      image: univer-anu4/humanresources:latest\n      ports:\n       - &quot;8081:8081&quot;\n      depends_on:\n        kafka:\n          condition: service_healthy\n      deploy:\n        restart_policy:\n          condition: on-failure\n          delay: 10s\n          max_attempts: 3\n          window: 30s  \n</code></pre>\n<p>The problem is that i get this error each time i staty docvker compose up:</p>\n<pre><code>compose-humanresources-1  | 2022-11-19 09:14:59.941  WARN 1 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n</code></pre>\n<p>But if i remove my service hu7manresources from docker compose and starting only zookeper and kafka containers then app from intelijidee its starting properly.\nDo you guys have some ideea why this happening?</p>\n<p>My application.properties:</p>\n<pre><code>spring.h2.console.enabled=true\n\nspring.datasource.url=jdbc:h2:mem:DB\nspring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.kafka.template.default-topic=pad2\neureka.client.service-url.defaultZone = http://localhost:7080/eureka/\nkafka.bootstrapAddress = localhost:9092\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.flyway.locations=classpath:db/migration\nspring.flyway.enabled=true\nspring.application.name=hr\n\neureka.instance.prefer-ip-address=true\neureka.client.register-with-eureka=true\neureka.client.fetch-registry=true\neureka.instance.lease-renewal-interval-in-seconds=30\nspring.kafka.consumer.group-id=${random.uuid}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":24824254,"reputation":3,"user_id":18704259,"display_name":"choijjjj"},"score":0,"creation_date":1668847739,"post_id":74498636,"comment_id":131509226,"body_markdown":"Used Git Source =&gt; https://github.com/pompitzz/msa-study","body":"Used Git Source =&gt; <a href=\"https://github.com/pompitzz/msa-study\" rel=\"nofollow noreferrer\">github.com/pompitzz/msa-study</a>"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668849039,"creation_date":1668849039,"answer_id":74498759,"question_id":74498636,"body_markdown":"I translate your question into two part.\r\n\r\n&gt; BeanInstantiationException\r\n\r\nThis [exception][1] thrown when instantiation of a bean failed. Carries the offending bean class. more specifically IOC experienced error on creating bean with name &#39;jwtAccessTokenConverter&#39; defined in class path resource `[.../springbootstudy/config/oauth/AuthorizationServer.class`. \r\n\r\n\r\n&gt; JwtAccessTokenConverter\r\n\r\nIt translates between JWT encoded token values and OAuth authentication information (in both directions). Also acts as a TokenEnhancer when tokens are granted.Furthermore log translator suggest that string argument (please read the field [sumery][2]) with in `jwtAccessTokenConverter ` must have text; it must not be null, empty, or blank. this may cause by miss configuration but more debugging details required for this.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanInstantiationException.html\r\n  [2]: https://docs.spring.io/spring-security/oauth/site/docs/2.4.0.RELEASE/apidocs/org/springframework/security/oauth2/provider/token/store/JwtAccessTokenConverter.html","title":"Factory method &#39;jwtAccessTokenConverter&#39; threw exception; nested exception is java.lang.IllegalArgumentException:","body":"<p>I translate your question into two part.</p>\n<blockquote>\n<p>BeanInstantiationException</p>\n</blockquote>\n<p>This <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanInstantiationException.html\" rel=\"nofollow noreferrer\">exception</a> thrown when instantiation of a bean failed. Carries the offending bean class. more specifically IOC experienced error on creating bean with name 'jwtAccessTokenConverter' defined in class path resource <code>[.../springbootstudy/config/oauth/AuthorizationServer.class</code>.</p>\n<blockquote>\n<p>JwtAccessTokenConverter</p>\n</blockquote>\n<p>It translates between JWT encoded token values and OAuth authentication information (in both directions). Also acts as a TokenEnhancer when tokens are granted.Furthermore log translator suggest that string argument (please read the field <a href=\"https://docs.spring.io/spring-security/oauth/site/docs/2.4.0.RELEASE/apidocs/org/springframework/security/oauth2/provider/token/store/JwtAccessTokenConverter.html\" rel=\"nofollow noreferrer\">sumery</a>) with in <code>jwtAccessTokenConverter </code> must have text; it must not be null, empty, or blank. this may cause by miss configuration but more debugging details required for this.</p>\n"}],"owner":{"account_id":24824254,"reputation":3,"user_id":18704259,"display_name":"choijjjj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74498759,"answer_count":1,"score":0,"last_activity_date":1668849039,"creation_date":1668847628,"question_id":74498636,"body_markdown":"It&#39;s an error that comes out during spring build. I changed the difference from the existing source code to mariaDB -&gt; mysqlDB. I wonder why this error is coming out.\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerEndpointsConfiguration&#39;: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Cannot configure enpdoints\r\n  \r\nCaused by: java.lang.IllegalStateException: Cannot configure enpdoints\r\n  \r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;tokenStore&#39; defined in class path resource [me/sun/springbootstudy/config/oauth/AuthorizationServer.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.TokenStore]: Factory method &#39;tokenStore&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jwtAccessTokenConverter&#39; defined in class path resource [me/sun/springbootstudy/config/oauth/AuthorizationServer.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter]: Factory method &#39;jwtAccessTokenConverter&#39; threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this String argument must have text; it must not be null, empty, or blank\r\n \r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.TokenStore]: Factory method &#39;tokenStore&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jwtAccessTokenConverter&#39; defined in class path resource [me/sun/springbootstudy/config/oauth/AuthorizationServer.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter]: Factory method &#39;jwtAccessTokenConverter&#39; threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this String argument must have text; it must not be null, empty, or blank\r\n    \r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jwtAccessTokenConverter&#39; defined in class path resource [me/sun/springbootstudy/config/oauth/AuthorizationServer.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter]: Factory method &#39;jwtAccessTokenConverter&#39; threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this String argument must have text; it must not be null, empty, or blank\r\n  \r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter]: Factory method &#39;jwtAccessTokenConverter&#39; threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this String argument must have text; it must not be null, empty, or blank\r\n \r\nCaused by: java.lang.IllegalArgumentException: [Assertion failed] - this String argument must have text; it must not be null, empty, or blank\r\n```\r\n","title":"Factory method &#39;jwtAccessTokenConverter&#39; threw exception; nested exception is java.lang.IllegalArgumentException:","body":"<p>It's an error that comes out during spring build. I changed the difference from the existing source code to mariaDB -&gt; mysqlDB. I wonder why this error is coming out.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerEndpointsConfiguration': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Cannot configure enpdoints\n  \nCaused by: java.lang.IllegalStateException: Cannot configure enpdoints\n  \nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tokenStore' defined in class path resource [me/sun/springbootstudy/config/oauth/AuthorizationServer.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.TokenStore]: Factory method 'tokenStore' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtAccessTokenConverter' defined in class path resource [me/sun/springbootstudy/config/oauth/AuthorizationServer.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter]: Factory method 'jwtAccessTokenConverter' threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this String argument must have text; it must not be null, empty, or blank\n \nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.TokenStore]: Factory method 'tokenStore' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtAccessTokenConverter' defined in class path resource [me/sun/springbootstudy/config/oauth/AuthorizationServer.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter]: Factory method 'jwtAccessTokenConverter' threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this String argument must have text; it must not be null, empty, or blank\n    \nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtAccessTokenConverter' defined in class path resource [me/sun/springbootstudy/config/oauth/AuthorizationServer.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter]: Factory method 'jwtAccessTokenConverter' threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this String argument must have text; it must not be null, empty, or blank\n  \nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter]: Factory method 'jwtAccessTokenConverter' threw exception; nested exception is java.lang.IllegalArgumentException: [Assertion failed] - this String argument must have text; it must not be null, empty, or blank\n \nCaused by: java.lang.IllegalArgumentException: [Assertion failed] - this String argument must have text; it must not be null, empty, or blank\n</code></pre>\n"},{"tags":["java","operating-system"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1668846520,"post_id":74498516,"comment_id":131509054,"body_markdown":"You&#39;re creating the arrays while `numberOfProcess` is still 0. You should only create the arrays *after* you&#39;ve found out how many processes you need... or use an `ArrayList` or similar so that you don&#39;t need to know in advance. (I&#39;d also strongly advice you to find out about Java naming conventions, and be a bit more liberal with whitespace for the sake of readability. You should also consider a class to represent &quot;a process&quot; so that you only need a single collection. I appreciate you&#39;re new, so some of that may sound a little tricky.)","body":"You&#39;re creating the arrays while <code>numberOfProcess</code> is still 0. You should only create the arrays <i>after</i> you&#39;ve found out how many processes you need... or use an <code>ArrayList</code> or similar so that you don&#39;t need to know in advance. (I&#39;d also strongly advice you to find out about Java naming conventions, and be a bit more liberal with whitespace for the sake of readability. You should also consider a class to represent &quot;a process&quot; so that you only need a single collection. I appreciate you&#39;re new, so some of that may sound a little tricky.)"},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1668846944,"post_id":74498516,"comment_id":131509114,"body_markdown":"The great @JonSkeet, correct +1","body":"The great @JonSkeet, correct +1"}],"answers":[{"tags":[],"owner":{"account_id":17019125,"reputation":362,"user_id":12312179,"display_name":"mvn.2047"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1668848946,"creation_date":1668847444,"answer_id":74498621,"question_id":74498516,"body_markdown":"The problem with your code is that you initialize arrays of int (ProcessID..) with the ```static int numberOfProcess``` - which initialized by default as 0. \r\n\r\nYou update it from Scanner at ```takeInput``` method but length of the arrays have been already initialized as 0 length. \r\n\r\nYou have to work with the initialization process to set initial arrays values only after you get your ```numberOfProcesses``` variable value from Scanner. You can read more about default initialization at Java Official [Documentation][1]. \r\n\r\nAs fast workaround for learning purpose just change default value. But remember that error returns if numberOfProcess will be higher, so to modify code is mandatory for solid code practice and passing of automation tests.\r\n \r\n```\r\n    static int numberOfProcess = 10;\r\n\r\n``` \r\n\r\nAs more solid (but not a very nice one solution) initialize your arrays only after you know the correct value of ```numberOfProcess``` variable:\r\n```\r\n    int numberOfProcess;\r\n    int[]ProcessID;\r\n    int[]ArrivalTime;\r\n    int[]BurstTime;\r\n    int[]CompletionTime;\r\n    int[]TurnAroundTime;\r\n    int[]WaitingTime;\r\n\r\n\r\n    public void takeInput(){\r\n        System.out.println(&quot;Enter the number of process: &quot;);\r\n        numberOfProcess = scanner.nextInt();\r\n        ProcessID = new int[numberOfProcess];\r\n        ArrivalTime  = new int[numberOfProcess];\r\n        BurstTime = new int[numberOfProcess];\r\n        CompletionTime = new int[numberOfProcess];\r\n        TurnAroundTime = new int[numberOfProcess];\r\n        WaitingTime = new int[numberOfProcess];\r\n    }\r\n\r\n``` \r\n\r\nIf you use ArrayList&lt;Integer&gt; instead of []int you don&#39;t need to set array length. However, you have also to learn deep the difference between ArrayList (resizable array) and array - there are tasks where array is preferable. \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"getting ArrayIndexOutBoundException","body":"<p>The problem with your code is that you initialize arrays of int (ProcessID..) with the <code>static int numberOfProcess</code> - which initialized by default as 0.</p>\n<p>You update it from Scanner at <code>takeInput</code> method but length of the arrays have been already initialized as 0 length.</p>\n<p>You have to work with the initialization process to set initial arrays values only after you get your <code>numberOfProcesses</code> variable value from Scanner. You can read more about default initialization at Java Official <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Documentation</a>.</p>\n<p>As fast workaround for learning purpose just change default value. But remember that error returns if numberOfProcess will be higher, so to modify code is mandatory for solid code practice and passing of automation tests.</p>\n<pre><code>    static int numberOfProcess = 10;\n\n</code></pre>\n<p>As more solid (but not a very nice one solution) initialize your arrays only after you know the correct value of <code>numberOfProcess</code> variable:</p>\n<pre><code>    int numberOfProcess;\n    int[]ProcessID;\n    int[]ArrivalTime;\n    int[]BurstTime;\n    int[]CompletionTime;\n    int[]TurnAroundTime;\n    int[]WaitingTime;\n\n\n    public void takeInput(){\n        System.out.println(&quot;Enter the number of process: &quot;);\n        numberOfProcess = scanner.nextInt();\n        ProcessID = new int[numberOfProcess];\n        ArrivalTime  = new int[numberOfProcess];\n        BurstTime = new int[numberOfProcess];\n        CompletionTime = new int[numberOfProcess];\n        TurnAroundTime = new int[numberOfProcess];\n        WaitingTime = new int[numberOfProcess];\n    }\n\n</code></pre>\n<p>If you use ArrayList instead of []int you don't need to set array length. However, you have also to learn deep the difference between ArrayList (resizable array) and array - there are tasks where array is preferable.</p>\n"}],"owner":{"account_id":26981196,"reputation":13,"user_id":20545530,"display_name":"Amit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668855571,"accepted_answer_id":74498621,"answer_count":1,"score":0,"last_activity_date":1668848946,"creation_date":1668846168,"question_id":74498516,"body_markdown":"i am very new to programming. I am implementing FirstComeFirstServe(FCFS) Scheduling. I am getting array index out of bound exception while entering first input in ArrivalTime array. It can be a silly mistake, but I cannot figure it out,\r\nPlease help me, Thank You for your time.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class FCFS_Practice {\r\n    public static Scanner scanner = new Scanner(System.in);\r\n    static int numberOfProcess;\r\n    int[]ProcessID = new int[numberOfProcess];\r\n    int[]ArrivalTime  = new int[numberOfProcess];\r\n    int[]BurstTime = new int[numberOfProcess];\r\n    int[]CompletionTime = new int[numberOfProcess];\r\n    int[]TurnAroundTime = new int[numberOfProcess];\r\n    int[]WaitingTime = new int[numberOfProcess];\r\n    float avgWaitingTime,avgTurnAroundTime;\r\n\r\n    public void takeInput(){\r\n        System.out.println(&quot;Enter the number of process: &quot;);\r\n        numberOfProcess = scanner.nextInt();\r\n    }\r\n    public void inputArrivalAndBurstTime(){\r\n        for(int i = 0;i &lt; numberOfProcess;i++){\r\n            System.out.printf(&quot;Enter Arrival Time for Process %d: &quot;,i+1);\r\n            ArrivalTime[i] = scanner.nextInt();\r\n            scanner.nextLine(); // Buffer Flush\r\n            System.out.printf(&quot;Enter Burst Time for Process %d: &quot;,i+1);\r\n            BurstTime[i] = scanner.nextInt();\r\n            scanner.nextLine(); // buffer flush\r\n            ProcessID[i] = i+1;\r\n        }\r\n    }\r\n    public void calculateCompletionTime(){\r\n        for(int i = 0 ; i &lt; numberOfProcess ; i++){\r\n            if(i==0){\r\n                CompletionTime[0]=BurstTime[0];\r\n            } else if (ArrivalTime[i]&lt;CompletionTime[i-1]) {\r\n                CompletionTime[i]=CompletionTime[i-1]+BurstTime[i];\r\n            } else {\r\n                 CompletionTime[i]=ArrivalTime[i]+BurstTime[i];\r\n            }\r\n        }\r\n    }\r\n    public void calculateTurnAroundAndWaitingTime(){\r\n        for(int i = 0 ; i &lt; numberOfProcess ; i++){\r\n            TurnAroundTime[i]=CompletionTime[i]+ArrivalTime[i];\r\n            WaitingTime[i]=TurnAroundTime[i]-BurstTime[i];\r\n        }\r\n    }\r\n    public void getAvgWaitingTimeAndAvgTurnAroundTime(){\r\n        for(int i = 0 ; i&lt;numberOfProcess;i++){\r\n            avgTurnAroundTime+=TurnAroundTime[i];\r\n            avgWaitingTime+=WaitingTime[i];\r\n        }\r\n        avgWaitingTime = avgWaitingTime/numberOfProcess;\r\n        avgTurnAroundTime = avgTurnAroundTime/numberOfProcess;\r\n    }\r\n    public void getTable(){\r\n        System.out.println(&quot;ProcessNo.  ArrivalTime  BurstTime  CompletionTime  TurnAroundTime  WaitingTime&quot;);\r\n        for(int i = 0 ; i &lt; numberOfProcess ; i++){\r\n            System.out.println(ProcessID[i]+&quot;\\t\\t&quot;+ArrivalTime[i]+&quot;\\t\\t&quot;+BurstTime[i]+&quot;\\t\\t&quot;+CompletionTime[i]+&quot;\\t\\t\\t&quot;+TurnAroundTime[i]+&quot;\\t\\t\\t&quot;+WaitingTime[i]);\r\n        }\r\n    scanner.close();\r\n    }\r\n}\r\n```\r\n\r\n[OutPut](https://i.stack.imgur.com/g3gQ3.png)","title":"getting ArrayIndexOutBoundException","body":"<p>i am very new to programming. I am implementing FirstComeFirstServe(FCFS) Scheduling. I am getting array index out of bound exception while entering first input in ArrivalTime array. It can be a silly mistake, but I cannot figure it out,\nPlease help me, Thank You for your time.</p>\n<pre><code>import java.util.Scanner;\n\npublic class FCFS_Practice {\n    public static Scanner scanner = new Scanner(System.in);\n    static int numberOfProcess;\n    int[]ProcessID = new int[numberOfProcess];\n    int[]ArrivalTime  = new int[numberOfProcess];\n    int[]BurstTime = new int[numberOfProcess];\n    int[]CompletionTime = new int[numberOfProcess];\n    int[]TurnAroundTime = new int[numberOfProcess];\n    int[]WaitingTime = new int[numberOfProcess];\n    float avgWaitingTime,avgTurnAroundTime;\n\n    public void takeInput(){\n        System.out.println(&quot;Enter the number of process: &quot;);\n        numberOfProcess = scanner.nextInt();\n    }\n    public void inputArrivalAndBurstTime(){\n        for(int i = 0;i &lt; numberOfProcess;i++){\n            System.out.printf(&quot;Enter Arrival Time for Process %d: &quot;,i+1);\n            ArrivalTime[i] = scanner.nextInt();\n            scanner.nextLine(); // Buffer Flush\n            System.out.printf(&quot;Enter Burst Time for Process %d: &quot;,i+1);\n            BurstTime[i] = scanner.nextInt();\n            scanner.nextLine(); // buffer flush\n            ProcessID[i] = i+1;\n        }\n    }\n    public void calculateCompletionTime(){\n        for(int i = 0 ; i &lt; numberOfProcess ; i++){\n            if(i==0){\n                CompletionTime[0]=BurstTime[0];\n            } else if (ArrivalTime[i]&lt;CompletionTime[i-1]) {\n                CompletionTime[i]=CompletionTime[i-1]+BurstTime[i];\n            } else {\n                 CompletionTime[i]=ArrivalTime[i]+BurstTime[i];\n            }\n        }\n    }\n    public void calculateTurnAroundAndWaitingTime(){\n        for(int i = 0 ; i &lt; numberOfProcess ; i++){\n            TurnAroundTime[i]=CompletionTime[i]+ArrivalTime[i];\n            WaitingTime[i]=TurnAroundTime[i]-BurstTime[i];\n        }\n    }\n    public void getAvgWaitingTimeAndAvgTurnAroundTime(){\n        for(int i = 0 ; i&lt;numberOfProcess;i++){\n            avgTurnAroundTime+=TurnAroundTime[i];\n            avgWaitingTime+=WaitingTime[i];\n        }\n        avgWaitingTime = avgWaitingTime/numberOfProcess;\n        avgTurnAroundTime = avgTurnAroundTime/numberOfProcess;\n    }\n    public void getTable(){\n        System.out.println(&quot;ProcessNo.  ArrivalTime  BurstTime  CompletionTime  TurnAroundTime  WaitingTime&quot;);\n        for(int i = 0 ; i &lt; numberOfProcess ; i++){\n            System.out.println(ProcessID[i]+&quot;\\t\\t&quot;+ArrivalTime[i]+&quot;\\t\\t&quot;+BurstTime[i]+&quot;\\t\\t&quot;+CompletionTime[i]+&quot;\\t\\t\\t&quot;+TurnAroundTime[i]+&quot;\\t\\t\\t&quot;+WaitingTime[i]);\n        }\n    scanner.close();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/g3gQ3.png\" rel=\"nofollow noreferrer\">OutPut</a></p>\n"},{"tags":["java","spring-security","spring-security-ldap","spring-thymeleaf"],"owner":{"account_id":26887803,"reputation":11,"user_id":20467081,"display_name":"Sazi Mtandabuzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668847851,"creation_date":1668847851,"question_id":74498661,"body_markdown":"I am getting bean creation exception when trying to run a Spring Boot application with Spring LDAP Security and Thymeleaf. The application runs when authenticating via username and password but throws the exception when changing authentication to username and password. The github for this project is at https://github.com/smtandabuzo/txsis-web-restriction\r\n\r\nBelow is the pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n   &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n      &lt;!--&lt;version&gt;2.7.0&lt;/version&gt;--&gt;\r\n      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n   &lt;/parent&gt;\r\n   &lt;groupId&gt;net.javaguides&lt;/groupId&gt;\r\n   &lt;artifactId&gt;registration-login-spring-boot-security-thymeleaf&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   &lt;packaging&gt;war&lt;/packaging&gt;\r\n   &lt;name&gt;registration-login-spring-boot-security-thymeleaf&lt;/name&gt;\r\n   &lt;description&gt;Demo project for Spring Boot Thymeleaf and Hibernate &lt;/description&gt;\r\n\r\n   &lt;properties&gt;\r\n      &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      \r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n         &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- tag::security[] --&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!--&lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;--&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n         &lt;version&gt;5.7.5&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.unboundid&lt;/groupId&gt;\r\n         &lt;artifactId&gt;unboundid-ldapsdk&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;!-- end::security[] --&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n         &lt;scope&gt;runtime&lt;/scope&gt;\r\n         &lt;optional&gt;true&lt;/optional&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n         &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n         &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n               &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n               &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n         &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n   &lt;/dependencies&gt;\r\n\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n         &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nBelow is an except of the code changes:\r\n\r\nAuthentication with username and password:\r\n\r\n```\r\n@Override\r\n   protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n       auth.authenticationProvider(authenticationProvider());\r\n}\r\n```\r\n \r\nAuthentication with LDAP Security:\r\n\r\n```\r\n@Override\r\n   protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n       //auth.authenticationProvider(authenticationProvider());\r\n   auth\r\n         .ldapAuthentication()\r\n         .userDnPatterns(&quot;uid={0},ou=people&quot;)\r\n         .groupSearchBase(&quot;ou=groups&quot;)\r\n         .contextSource()\r\n         .url(&quot;ldap://localhost:8389/dc=springframework,dc=org&quot;)\r\n         .and()\r\n         .passwordCompare()\r\n         .passwordEncoder(new BCryptPasswordEncoder())\r\n         .passwordAttribute(&quot;userPassword&quot;);\r\n   }\r\n```\r\n\r\nBelow is the stack trace:\r\n\r\n\r\n```\r\nException in thread &quot;task-2&quot; java.lang.IllegalStateException: EntityManagerFactory is closed\r\n\tat org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:507)\r\n\tat org.hibernate.internal.SessionFactoryImpl.getProperties(SessionFactoryImpl.java:501)\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.findDataSource(DataSourceInitializedPublisher.java:105)\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:97)\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$100(DataSourceInitializedPublisher.java:50)\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:200)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n2022-11-19 10:21:44.911  INFO 8532 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2022-11-19 10:21:44.915  INFO 8532 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-11-19 10:21:44.941  INFO 8532 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-11-19 10:21:44.950 ERROR 8532 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/ldap/authentication/AbstractLdapAuthenticator\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:484) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:895) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat net.javaguides.springboot.RegistrationLoginSpringBootSecurityThymeleafApplication.main(RegistrationLoginSpringBootSecurityThymeleafApplication.java:10) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/ldap/authentication/AbstractLdapAuthenticator\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 27 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/ldap/authentication/AbstractLdapAuthenticator\r\n\tat org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder.ldapAuthentication(AuthenticationManagerBuilder.java:206) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\r\n\tat net.javaguides.springboot.config.SecurityConfiguration.configure(SecurityConfiguration.java:40) ~[classes/:na]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.authenticationManager(WebSecurityConfigurerAdapter.java:266) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:202) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:94) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\r\n\tat net.javaguides.springboot.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$61a2c1f2.init(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:370) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:324) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\r\n\tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 28 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.ldap.authentication.AbstractLdapAuthenticator\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387) ~[na:1.8.0_311]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418) ~[na:1.8.0_311]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355) ~[na:1.8.0_311]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351) ~[na:1.8.0_311]\r\n\t... 44 common frames omitted\r\n\r\n2022-11-19 10:21:44.956  WARN 8532 --- [  restartedMain] o.s.boot.SpringApplication               : Unable to close ApplicationContext\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;applicationAvailability&#39; defined in class path resource [org/springframework/boot/autoconfigure/availability/ApplicationAvailabilityAutoConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:512) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:245) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:197) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:134) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:403) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:81) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:67) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:167) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:978) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:814) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:325) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat net.javaguides.springboot.RegistrationLoginSpringBootSecurityThymeleafApplication.main(RegistrationLoginSpringBootSecurityThymeleafApplication.java:10) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:109) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:251) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1141) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1114) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:506) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 23 common frames omitted\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:814) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1282) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:297) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor.postProcessBeforeInitialization(ConfigurationClassPostProcessor.java:456) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 45 common frames omitted\r\n```\r\n\r\n\r\n\r\nI tried to compile the project without the LDAP security changes and it works. When authentication via LDAP the application fails to startup with the given exception. The expectation is for the application to startup without any errors and the login to work with LDAP.","title":"No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available","body":"<p>I am getting bean creation exception when trying to run a Spring Boot application with Spring LDAP Security and Thymeleaf. The application runs when authenticating via username and password but throws the exception when changing authentication to username and password. The github for this project is at <a href=\"https://github.com/smtandabuzo/txsis-web-restriction\" rel=\"nofollow noreferrer\">https://github.com/smtandabuzo/txsis-web-restriction</a></p>\n<p>Below is the pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n      &lt;!--&lt;version&gt;2.7.0&lt;/version&gt;--&gt;\n      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;net.javaguides&lt;/groupId&gt;\n   &lt;artifactId&gt;registration-login-spring-boot-security-thymeleaf&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;packaging&gt;war&lt;/packaging&gt;\n   &lt;name&gt;registration-login-spring-boot-security-thymeleaf&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot Thymeleaf and Hibernate &lt;/description&gt;\n\n   &lt;properties&gt;\n      &lt;java.version&gt;1.8&lt;/java.version&gt;\n   &lt;/properties&gt;\n\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      \n      &lt;dependency&gt;\n         &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n         &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;!-- tag::security[] --&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;!--&lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n      &lt;/dependency&gt;--&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n         &lt;version&gt;5.7.5&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.unboundid&lt;/groupId&gt;\n         &lt;artifactId&gt;unboundid-ldapsdk&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;!-- end::security[] --&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n         &lt;optional&gt;true&lt;/optional&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;mysql&lt;/groupId&gt;\n         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n         &lt;exclusions&gt;\n            &lt;exclusion&gt;\n               &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n               &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n         &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Below is an except of the code changes:</p>\n<p>Authentication with username and password:</p>\n<pre><code>@Override\n   protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n       auth.authenticationProvider(authenticationProvider());\n}\n</code></pre>\n<p>Authentication with LDAP Security:</p>\n<pre><code>@Override\n   protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n       //auth.authenticationProvider(authenticationProvider());\n   auth\n         .ldapAuthentication()\n         .userDnPatterns(&quot;uid={0},ou=people&quot;)\n         .groupSearchBase(&quot;ou=groups&quot;)\n         .contextSource()\n         .url(&quot;ldap://localhost:8389/dc=springframework,dc=org&quot;)\n         .and()\n         .passwordCompare()\n         .passwordEncoder(new BCryptPasswordEncoder())\n         .passwordAttribute(&quot;userPassword&quot;);\n   }\n</code></pre>\n<p>Below is the stack trace:</p>\n<pre><code>Exception in thread &quot;task-2&quot; java.lang.IllegalStateException: EntityManagerFactory is closed\n    at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:507)\n    at org.hibernate.internal.SessionFactoryImpl.getProperties(SessionFactoryImpl.java:501)\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.findDataSource(DataSourceInitializedPublisher.java:105)\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:97)\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$100(DataSourceInitializedPublisher.java:50)\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:200)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n2022-11-19 10:21:44.911  INFO 8532 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2022-11-19 10:21:44.915  INFO 8532 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-11-19 10:21:44.941  INFO 8532 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-11-19 10:21:44.950 ERROR 8532 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/ldap/authentication/AbstractLdapAuthenticator\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:484) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:895) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at net.javaguides.springboot.RegistrationLoginSpringBootSecurityThymeleafApplication.main(RegistrationLoginSpringBootSecurityThymeleafApplication.java:10) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.3.0.RELEASE.jar:2.3.0.RELEASE]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/ldap/authentication/AbstractLdapAuthenticator\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 27 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/ldap/authentication/AbstractLdapAuthenticator\n    at org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder.ldapAuthentication(AuthenticationManagerBuilder.java:206) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\n    at net.javaguides.springboot.config.SecurityConfiguration.configure(SecurityConfiguration.java:40) ~[classes/:na]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.authenticationManager(WebSecurityConfigurerAdapter.java:266) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.getHttp(WebSecurityConfigurerAdapter.java:202) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:322) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter.init(WebSecurityConfigurerAdapter.java:94) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\n    at net.javaguides.springboot.config.SecurityConfiguration$$EnhancerBySpringCGLIB$$61a2c1f2.init(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:370) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:324) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:104) ~[spring-security-config-5.3.2.RELEASE.jar:5.3.2.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 28 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.ldap.authentication.AbstractLdapAuthenticator\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387) ~[na:1.8.0_311]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418) ~[na:1.8.0_311]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355) ~[na:1.8.0_311]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351) ~[na:1.8.0_311]\n    ... 44 common frames omitted\n\n2022-11-19 10:21:44.956  WARN 8532 --- [  restartedMain] o.s.boot.SpringApplication               : Unable to close ApplicationContext\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationAvailability' defined in class path resource [org/springframework/boot/autoconfigure/availability/ApplicationAvailabilityAutoConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:512) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:245) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:197) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:134) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:403) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:81) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:67) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:167) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:978) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:814) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:325) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at net.javaguides.springboot.RegistrationLoginSpringBootSecurityThymeleafApplication.main(RegistrationLoginSpringBootSecurityThymeleafApplication.java:10) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.3.0.RELEASE.jar:2.3.0.RELEASE]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:109) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:251) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1141) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1114) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:506) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 23 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:814) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1282) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:297) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor.postProcessBeforeInitialization(ConfigurationClassPostProcessor.java:456) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 45 common frames omitted\n</code></pre>\n<p>I tried to compile the project without the LDAP security changes and it works. When authentication via LDAP the application fails to startup with the given exception. The expectation is for the application to startup without any errors and the login to work with LDAP.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1668856577,"post_id":74498659,"comment_id":131510709,"body_markdown":"Why are you overriding onCreateOptionsMenu() if you are using a custom toolbar? you can use onClick with the toolbar image.","body":"Why are you overriding onCreateOptionsMenu() if you are using a custom toolbar? you can use onClick with the toolbar image."},{"owner":{"account_id":24391342,"reputation":47,"user_id":18321269,"display_name":"Elfadil Sulieman"},"score":0,"creation_date":1668857534,"post_id":74498659,"comment_id":131510878,"body_markdown":"@Aditya how I can use onClick to open option menu?.","body":"@Aditya how I can use onClick to open option menu?."}],"owner":{"account_id":24391342,"reputation":47,"user_id":18321269,"display_name":"Elfadil Sulieman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668847810,"creation_date":1668847810,"question_id":74498659,"body_markdown":"I have a custom toolbar which is contain two imageView to open custom navigation drawer and option menu. the problem is how can override onCreateOptionsMenu method to open option menu when the imageView is clicked.\r\n\r\n","title":"open option menu when the imageview was clicked","body":"<p>I have a custom toolbar which is contain two imageView to open custom navigation drawer and option menu. the problem is how can override onCreateOptionsMenu method to open option menu when the imageView is clicked.</p>\n"},{"tags":["java","apache-kafka-streams","ktable"],"comments":[{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":0,"creation_date":1669144270,"post_id":74498547,"comment_id":131576314,"body_markdown":"Have you tried to use composed key and range method https://kafka.apache.org/22/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#range-K-K- ?","body":"Have you tried to use composed key and range method <a href=\"https://kafka.apache.org/22/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#range-K-K-\" rel=\"nofollow noreferrer\">kafka.apache.org/22/javadoc/org/apache/kafka/streams/state/&hellip;</a> ?"},{"owner":{"account_id":425600,"reputation":22417,"user_id":806299,"accept_rate":63,"display_name":"cppcoder"},"score":0,"creation_date":1669179852,"post_id":74498547,"comment_id":131583329,"body_markdown":"This is to get range of keys. But I need a way to filter by field in the values","body":"This is to get range of keys. But I need a way to filter by field in the values"}],"owner":{"account_id":425600,"reputation":22417,"user_id":806299,"accept_rate":63,"display_name":"cppcoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668846482,"creation_date":1668846482,"question_id":74498547,"body_markdown":"I have a state store which is defined like below:  \r\n\r\n    StoreBuilder&lt;KeyValueStore&lt;String, DataDocument&gt;&gt; indexStore = Stores.keyValueStoreBuilder(\r\n                Stores.persistentKeyValueStore(&quot;Data&quot;), Serdes.String(), DataDocumentSerDes.dataDocumentSerDes())\r\n                .withLoggingEnabled(changelogConfig);  \r\n\r\nI have processor defined which will process source topic and write it to this state store.\r\n\r\nI have a use-case to get list of keys based on a field in the `DataDocument` which is the value in the state store. Is there a way I can achieve it?\r\n\r\nOne way I can think of is get all the keys and then perform filter. But it&#39;s going to be expensive as we iterate all keys always.  \r\n\r\n    ReadOnlyKeyValueStore&lt;String, DataDocument&gt; roStore = streams.store(StoreQueryParameters.fromNameAndType(&quot;Data&quot;,\r\n                QueryableStoreTypes.&lt;String, DataDocument&gt;keyValueStore()));\r\n        KeyValueIterator&lt;String, DataDocument&gt; kvItr = roStore.all();\r\n        while(kvItr.hasNext()) {\r\n            if(kvItr.next().value.isField()) {\r\n                //Store to a list\r\n            }\r\n        }\r\n\r\nAnother approach is create state stores for all fields which has to be queryable with field as key and list of keys. But this is not scalable.\r\nIs there a better way I can achieve it with kafka topology?","title":"How to get list of keys based on a field in value from Kafka state store","body":"<p>I have a state store which is defined like below:</p>\n<pre><code>StoreBuilder&lt;KeyValueStore&lt;String, DataDocument&gt;&gt; indexStore = Stores.keyValueStoreBuilder(\n            Stores.persistentKeyValueStore(&quot;Data&quot;), Serdes.String(), DataDocumentSerDes.dataDocumentSerDes())\n            .withLoggingEnabled(changelogConfig);  \n</code></pre>\n<p>I have processor defined which will process source topic and write it to this state store.</p>\n<p>I have a use-case to get list of keys based on a field in the <code>DataDocument</code> which is the value in the state store. Is there a way I can achieve it?</p>\n<p>One way I can think of is get all the keys and then perform filter. But it's going to be expensive as we iterate all keys always.</p>\n<pre><code>ReadOnlyKeyValueStore&lt;String, DataDocument&gt; roStore = streams.store(StoreQueryParameters.fromNameAndType(&quot;Data&quot;,\n            QueryableStoreTypes.&lt;String, DataDocument&gt;keyValueStore()));\n    KeyValueIterator&lt;String, DataDocument&gt; kvItr = roStore.all();\n    while(kvItr.hasNext()) {\n        if(kvItr.next().value.isField()) {\n            //Store to a list\n        }\n    }\n</code></pre>\n<p>Another approach is create state stores for all fields which has to be queryable with field as key and list of keys. But this is not scalable.\nIs there a better way I can achieve it with kafka topology?</p>\n"},{"tags":["java","spring-boot","rest","oauth","basic-authentication"],"answers":[{"tags":[],"owner":{"account_id":2861986,"reputation":365,"user_id":2457058,"display_name":"artild"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668845821,"creation_date":1668845821,"answer_id":74498474,"question_id":74498222,"body_markdown":"It may be helpfull to use `spring.profiles` feature:\r\n\r\n    @Profile(&quot;basic-auth&quot;)\r\n    @Bean(name=&quot;Bobresttemplate&quot;)\r\n    public RestTemplate resttemplateBasic(RestTemplateBuilder restTemplateBuilder) {\r\n        return restTemplateBuilder\r\n                .basicAuthentication(&quot;username&quot;, &quot;password&quot;)\r\n                .build();\r\n    }\r\n\r\n    @Profile(&quot;jwt&quot;)\r\n    @Bean(name=&quot;Bobresttemplate&quot;)\r\n    public RestTemplate resttemplateJwt(RestTemplateBuilder restTemplateBuilder) {\r\n        return restTemplateBuilder\r\n                ...\r\n                .build();\r\n    }\r\n\r\nso in config you just enable profile that you need (no changes in place of injecting resttemplate bean):\r\n\r\n    spring.profiles.active=jwt\r\nor\r\n\r\n    spring.profiles.active=basic-auth","title":"Is there any way to toggle Rest template to use Basic Auth or OAuth token?","body":"<p>It may be helpfull to use <code>spring.profiles</code> feature:</p>\n<pre><code>@Profile(&quot;basic-auth&quot;)\n@Bean(name=&quot;Bobresttemplate&quot;)\npublic RestTemplate resttemplateBasic(RestTemplateBuilder restTemplateBuilder) {\n    return restTemplateBuilder\n            .basicAuthentication(&quot;username&quot;, &quot;password&quot;)\n            .build();\n}\n\n@Profile(&quot;jwt&quot;)\n@Bean(name=&quot;Bobresttemplate&quot;)\npublic RestTemplate resttemplateJwt(RestTemplateBuilder restTemplateBuilder) {\n    return restTemplateBuilder\n            ...\n            .build();\n}\n</code></pre>\n<p>so in config you just enable profile that you need (no changes in place of injecting resttemplate bean):</p>\n<pre><code>spring.profiles.active=jwt\n</code></pre>\n<p>or</p>\n<pre><code>spring.profiles.active=basic-auth\n</code></pre>\n"}],"owner":{"account_id":8405500,"reputation":430,"user_id":6309111,"display_name":"Dev-vruper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668845821,"creation_date":1668842525,"question_id":74498222,"body_markdown":"My Service A makes a GET call to Service B , to get some details . In my code , I&#39;ve configured below  that builds RestTemplate with Basic Auth creds.\r\n\r\n```\r\n@Bean(name=Bobresttemplate)\r\npublic RestTemplate resttemplate(RestTemplateBuilder restTemplateBuilder) {\r\n        this.restTemplate = restTemplateBuilder\r\n                .basicAuthentication(&quot;username&quot;, &quot;password&quot;)\r\n                .build();\r\n    }\r\n```\r\n\r\nI use this in my RestClient.Java/ @Service classes by Autowiring.\r\n\r\n```\r\n@Autowired\r\n@Qualifier(&quot;Bobresttemplate&quot;)\r\nRestTemplate restTemplate;\r\n```\r\n\r\nMy Question : I&#39;m building **`Bobresttemplate`** with Basic Auth , now if I want to use this same Rest template but instead of Basic Auth , I want to use OAuth token to call 3rd party service .I want to acheive a functionality where based on a Toggle , I can use this same **`BobRestTemplate`** but with either of Basic Auth or OAuth .\r\n\r\nWhat extra config do I need to do ? Do I need to create another Bean and build this RestTemplate with OAuth creds ?\r\n\r\nI&#39;m looking to understand whether do I need to create another Bean for configuring this template ? Or can I use Interceptors ?","title":"Is there any way to toggle Rest template to use Basic Auth or OAuth token?","body":"<p>My Service A makes a GET call to Service B , to get some details . In my code , I've configured below  that builds RestTemplate with Basic Auth creds.</p>\n<pre><code>@Bean(name=Bobresttemplate)\npublic RestTemplate resttemplate(RestTemplateBuilder restTemplateBuilder) {\n        this.restTemplate = restTemplateBuilder\n                .basicAuthentication(&quot;username&quot;, &quot;password&quot;)\n                .build();\n    }\n</code></pre>\n<p>I use this in my RestClient.Java/ @Service classes by Autowiring.</p>\n<pre><code>@Autowired\n@Qualifier(&quot;Bobresttemplate&quot;)\nRestTemplate restTemplate;\n</code></pre>\n<p>My Question : I'm building <strong><code>Bobresttemplate</code></strong> with Basic Auth , now if I want to use this same Rest template but instead of Basic Auth , I want to use OAuth token to call 3rd party service .I want to acheive a functionality where based on a Toggle , I can use this same <strong><code>BobRestTemplate</code></strong> but with either of Basic Auth or OAuth .</p>\n<p>What extra config do I need to do ? Do I need to create another Bean and build this RestTemplate with OAuth creds ?</p>\n<p>I'm looking to understand whether do I need to create another Bean for configuring this template ? Or can I use Interceptors ?</p>\n"},{"tags":["java","spring-boot","tomcat","spring-security"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1668604902,"post_id":74459588,"comment_id":131445394,"body_markdown":"404 is a page not found - so the URL returning the error is the one not found? Perhaps sharing the URL in question will help get an answer.","body":"404 is a page not found - so the URL returning the error is the one not found? Perhaps sharing the URL in question will help get an answer."},{"owner":{"account_id":14047551,"reputation":138,"user_id":10147317,"display_name":"mehran arbabian"},"score":0,"creation_date":1668606135,"post_id":74459588,"comment_id":131445875,"body_markdown":"myApp_war_exploded/logout    returning 404","body":"myApp_war_exploded/logout    returning 404"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1668622225,"post_id":74459588,"comment_id":131452508,"body_markdown":"Context root is created after the war name, is the war named `myApp_war_exploded.war`? Case sensitive as I recall.","body":"Context root is created after the war name, is the war named <code>myApp_war_exploded.war</code>? Case sensitive as I recall."},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1668673410,"post_id":74459588,"comment_id":131464214,"body_markdown":"I think the &#39;exploded&#39; part of the name is IntelliJ specific? As @LMC says, tomcat will just unpack the WAR to it&#39;s own name and that probably does not include &#39;exploded&#39; in there. So I suspect somewhere in the application config you have defined a reference to the logout page as being on ``myApp_war_exploded/logout``? I think it should just be a relative link (not including the app name) or try and derive the app name from the application context itself as the app name (and thus deployed URL) does not have to be the same as the application WAR name.","body":"I think the &#39;exploded&#39; part of the name is IntelliJ specific? As @LMC says, tomcat will just unpack the WAR to it&#39;s own name and that probably does not include &#39;exploded&#39; in there. So I suspect somewhere in the application config you have defined a reference to the logout page as being on <code>myApp_war_exploded&#47;logout</code>? I think it should just be a relative link (not including the app name) or try and derive the app name from the application context itself as the app name (and thus deployed URL) does not have to be the same as the application WAR name."},{"owner":{"account_id":14047551,"reputation":138,"user_id":10147317,"display_name":"mehran arbabian"},"score":0,"creation_date":1668694410,"post_id":74459588,"comment_id":131472229,"body_markdown":"i try this :      `http.logout().logoutUrl(&quot;/myApp_war_exploded/logout&quot;).logoutSuccessUrl(&quot;/&quot;);`                                  \n   and try this :                     `http.logout().logoutUrl(&quot;/myApp_war_exploded/logout&quot;).logoutSuccessUrl(&quot;/myApp_war_exploded&quot;); `                                                                                                                            doesn&#39;t help","body":"i try this :      <code>http.logout().logoutUrl(&quot;&#47;myApp_war_exploded&#47;logout&quot;).logout&zwnj;&#8203;SuccessUrl(&quot;&#47;&quot;);</code>                                      and try this :                     <code>http.logout().logoutUrl(&quot;&#47;myApp_war_exploded&#47;logout&quot;).logout&zwnj;&#8203;SuccessUrl(&quot;&#47;myApp_w&zwnj;&#8203;ar_exploded&quot;); </code>                                                                                                                            doesn&#39;t help"},{"owner":{"account_id":14047551,"reputation":138,"user_id":10147317,"display_name":"mehran arbabian"},"score":0,"creation_date":1668695503,"post_id":74459588,"comment_id":131472698,"body_markdown":"`http://localhost:8080/myApp_war_exploded`                         this is my url","body":"<code>http:&#47;&#47;localhost:8080&#47;myApp_war_exploded</code>                         this is my url"},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1668704961,"post_id":74459588,"comment_id":131476592,"body_markdown":"I&#39;m not a spring boot expert, but I would think you do not mention the WAR name in any of those URLs. The app should figure out the relative URL itself. So try ``http.logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/&quot;);``","body":"I&#39;m not a spring boot expert, but I would think you do not mention the WAR name in any of those URLs. The app should figure out the relative URL itself. So try <code>http.logout().logoutUrl(&quot;&#47;logout&quot;).logoutSuccessUrl(&quot;&#47;&quot;);</code>"},{"owner":{"account_id":14047551,"reputation":138,"user_id":10147317,"display_name":"mehran arbabian"},"score":0,"creation_date":1668708977,"post_id":74459588,"comment_id":131477938,"body_markdown":"i tried this too :(","body":"i tried this too :("}],"answers":[{"tags":[],"owner":{"account_id":14047551,"reputation":138,"user_id":10147317,"display_name":"mehran arbabian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668845599,"creation_date":1668845599,"answer_id":74498449,"question_id":74459588,"body_markdown":"I figured out tomcat has promblem with api without page then i create a button and call the method :\r\n  \r\n\r\n     public void logout(){\r\n        userAuthService.logout();\r\n        FacesContext.getCurrentInstance().getExternalContext()\r\n             .invalidateSession();\r\n        FacesContext.getCurrentInstance().getExternalContext()\r\n             .redirect(&quot;login.xhtml?faces-redirect=true&quot;);\r\n    }","title":"404 error on logout with WAR exploded to Tomcat","body":"<p>I figured out tomcat has promblem with api without page then i create a button and call the method :</p>\n<pre><code> public void logout(){\n    userAuthService.logout();\n    FacesContext.getCurrentInstance().getExternalContext()\n         .invalidateSession();\n    FacesContext.getCurrentInstance().getExternalContext()\n         .redirect(&quot;login.xhtml?faces-redirect=true&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":14047551,"reputation":138,"user_id":10147317,"display_name":"mehran arbabian"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74498449,"answer_count":1,"score":0,"last_activity_date":1668845599,"creation_date":1668597580,"question_id":74459588,"body_markdown":"My application works fine when I use embedded Tomcat (with IntelliJ) but when I deploy WAR file on Tomcat 8 one of my URLs response with 404 (I can sign in into my application but logout with URL responses with 404). This problem doesn&#39;t happen when I use IntelliJ with Tomcat. \r\n\r\nMy POM file: \r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;\r\n    &lt;/parent&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nConfig file: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        http\r\n            .csrf().disable();\r\n        http\r\n            .headers()\r\n                .frameOptions().disable();\r\n\r\n        http\r\n            .authorizeRequests()\r\n                .anyRequest().permitAll();\r\n    }\r\n\r\n\r\n**Update**\r\n\r\nI change to Tomcat 9 and I still have the problem.\r\n\r\n**Update_2**\r\n\r\nI have JSF view","title":"404 error on logout with WAR exploded to Tomcat","body":"<p>My application works fine when I use embedded Tomcat (with IntelliJ) but when I deploy WAR file on Tomcat 8 one of my URLs response with 404 (I can sign in into my application but logout with URL responses with 404). This problem doesn't happen when I use IntelliJ with Tomcat.</p>\n<p>My POM file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;\n&lt;/parent&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Config file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void configure(HttpSecurity http) throws Exception {\n\n    http\n        .csrf().disable();\n    http\n        .headers()\n            .frameOptions().disable();\n\n    http\n        .authorizeRequests()\n            .anyRequest().permitAll();\n}\n</code></pre>\n<p><strong>Update</strong></p>\n<p>I change to Tomcat 9 and I still have the problem.</p>\n<p><strong>Update_2</strong></p>\n<p>I have JSF view</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668815881,"post_id":74496434,"comment_id":131505687,"body_markdown":"I do not understand the question. When working with `Stream`s, the source is (normally) unmodified. Please [edit] the post and clarify the question.","body":"I do not understand the question. When working with <code>Stream</code>s, the source is (normally) unmodified. Please <a href=\"https://stackoverflow.com/posts/74496434/edit\">edit</a> the post and clarify the question."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1668815922,"post_id":74496434,"comment_id":131505696,"body_markdown":"If I&#39;m understanding, you want to store the intermediate result? Just collect without doing the map operation, bind that to a variable, and then do your further processing starting from that.","body":"If I&#39;m understanding, you want to store the intermediate result? Just collect without doing the map operation, bind that to a variable, and then do your further processing starting from that."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1668916119,"post_id":74496434,"comment_id":131521157,"body_markdown":"`vehicles.forEach(v -&gt; v.services.keySet().removeIf(k -&gt; !k.equals(&quot;s-1&quot;)));`","body":"<code>vehicles.forEach(v -&gt; v.services.keySet().removeIf(k -&gt; !k.equals(&quot;s-1&quot;)));</code>"}],"answers":[{"comments":[{"owner":{"account_id":25715231,"reputation":31,"user_id":19473122,"display_name":"Minimum"},"score":0,"creation_date":1668845344,"post_id":74496639,"comment_id":131508907,"body_markdown":"I do not have constructor for inner static class `Vehicle`","body":"I do not have constructor for inner static class <code>Vehicle</code>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668851593,"post_id":74496639,"comment_id":131509801,"body_markdown":"@Minimum Then use your usual way to create its instances (builder, static method whatever), or introduce a new static factory method (all-args constructor). I don&#39;t see any problem with it. The thing is that you need a new instance, otherwise it defeats the whole idea of using streams (you can modify existing objects without streams). Does it make sense to you?","body":"@Minimum Then use your usual way to create its instances (builder, static method whatever), or introduce a new static factory method (all-args constructor). I don&#39;t see any problem with it. The thing is that you need a new instance, otherwise it defeats the whole idea of using streams (you can modify existing objects without streams). Does it make sense to you?"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668817755,"creation_date":1668817755,"answer_id":74496639,"question_id":74496434,"body_markdown":"Basically, you need to filter a `services` Map and then create a new instance of `Vehicle` based on newly created Map and initial `name`, `model` properties.\r\n\r\n***Note:** it would be cleaner to extract the logic for generating a new map of services into a separate method instead of creating a stream inside the collector.*\r\n\r\n```\r\nMap&lt;String, Manage.Vehicle&gt; vehicles = // initializing the map\r\n        \r\nMap&lt;String, Manage.Vehicle&gt; vehiclesFiltered = vehicles.entrySet()\r\n    .stream()\r\n    .filter(entry -&gt; entry.getValue().getServices().containsKey(&quot;s-1&quot;))\r\n    .collect(Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        entry -&gt; {\r\n            Map&lt;String, Manage.Vehicle.Service&gt; filteredServices =\r\n                entry.getValue().getServices()\r\n                    .entrySet().stream()\r\n                    .filter(subEntry -&gt; subEntry.getKey().equals(&quot;s-1&quot;))\r\n                    .collect(Collectors.toMap(\r\n                        Map.Entry::getKey,\r\n                        Map.Entry::getValue\r\n                    ));\r\n            return new Manage.Vehicle(\r\n                entry.getValue().getName(),\r\n                entry.getValue().getModel(),\r\n                filteredServices\r\n            );\r\n        }\r\n    ));\r\n```","title":"How to keep original data structure after processing with Stream API?","body":"<p>Basically, you need to filter a <code>services</code> Map and then create a new instance of <code>Vehicle</code> based on newly created Map and initial <code>name</code>, <code>model</code> properties.</p>\n<p><em><strong>Note:</strong> it would be cleaner to extract the logic for generating a new map of services into a separate method instead of creating a stream inside the collector.</em></p>\n<pre><code>Map&lt;String, Manage.Vehicle&gt; vehicles = // initializing the map\n        \nMap&lt;String, Manage.Vehicle&gt; vehiclesFiltered = vehicles.entrySet()\n    .stream()\n    .filter(entry -&gt; entry.getValue().getServices().containsKey(&quot;s-1&quot;))\n    .collect(Collectors.toMap(\n        Map.Entry::getKey,\n        entry -&gt; {\n            Map&lt;String, Manage.Vehicle.Service&gt; filteredServices =\n                entry.getValue().getServices()\n                    .entrySet().stream()\n                    .filter(subEntry -&gt; subEntry.getKey().equals(&quot;s-1&quot;))\n                    .collect(Collectors.toMap(\n                        Map.Entry::getKey,\n                        Map.Entry::getValue\n                    ));\n            return new Manage.Vehicle(\n                entry.getValue().getName(),\n                entry.getValue().getModel(),\n                filteredServices\n            );\n        }\n    ));\n</code></pre>\n"}],"owner":{"account_id":25715231,"reputation":31,"user_id":19473122,"display_name":"Minimum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668844664,"creation_date":1668815640,"question_id":74496434,"body_markdown":"```\r\npublic class Manage {\r\n\t\r\n    Map&lt;String, Vehicle&gt; vehicles;\r\n\r\n    public static class Vehicle {\r\n        \r\n         String name;\r\n         String model;\r\n         Map&lt;String, Service&gt; services;\r\n         \r\n         public static class Service {\r\n        \tString id;\r\n        \tString report;\r\n         }\r\n     } \r\n}\r\n```\r\n\r\nI have these objects where I want to filter out by `services` key. However, I would like to keep the original data structure. Let say, I want to keep the services where the key is `s-1` and keep the structure as the input. \r\n\r\nHere is what I have tried. However, the final output of structure is different than the input as it removes `name` and `model` \r\n```\r\n\r\n\r\n` vehicles.entrySet()\r\n         .stream()\r\n         .filter(entry -&gt; entry.getValue().getServices().containsKey(&quot;s-1&quot;))\r\n         .collect(Collectors.toMap(Map.Entry::getKey,\r\n             entry -&gt; entry.getValue()\r\n                 .getServices()\r\n                 .entrySet()\r\n                 .stream()\r\n                 .filter(subEntry -&gt; subEntry.getKey().equals(&quot;s-1&quot;))\r\n                 .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue))));`\r\n\r\n```\r\n**Update**\r\nBasically, I want to keep everything(all fields &amp; data) except in `services` map, I don&#39;t want to keep the records where the key is Not equal to `s-1`\r\n","title":"How to keep original data structure after processing with Stream API?","body":"<pre><code>public class Manage {\n    \n    Map&lt;String, Vehicle&gt; vehicles;\n\n    public static class Vehicle {\n        \n         String name;\n         String model;\n         Map&lt;String, Service&gt; services;\n         \n         public static class Service {\n            String id;\n            String report;\n         }\n     } \n}\n</code></pre>\n<p>I have these objects where I want to filter out by <code>services</code> key. However, I would like to keep the original data structure. Let say, I want to keep the services where the key is <code>s-1</code> and keep the structure as the input.</p>\n<p>Here is what I have tried. However, the final output of structure is different than the input as it removes <code>name</code> and <code>model</code></p>\n<pre><code>\n\n` vehicles.entrySet()\n         .stream()\n         .filter(entry -&gt; entry.getValue().getServices().containsKey(&quot;s-1&quot;))\n         .collect(Collectors.toMap(Map.Entry::getKey,\n             entry -&gt; entry.getValue()\n                 .getServices()\n                 .entrySet()\n                 .stream()\n                 .filter(subEntry -&gt; subEntry.getKey().equals(&quot;s-1&quot;))\n                 .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue))));`\n\n</code></pre>\n<p><strong>Update</strong>\nBasically, I want to keep everything(all fields &amp; data) except in <code>services</code> map, I don't want to keep the records where the key is Not equal to <code>s-1</code></p>\n"},{"tags":["java","android","intellij-idea","jetbrains-ide","dagger"],"comments":[{"owner":{"account_id":969586,"reputation":2499,"user_id":992380,"display_name":"Alexey Belkov"},"score":0,"creation_date":1666598050,"post_id":74087797,"comment_id":130966248,"body_markdown":"Please file an issue to Dagger issue tracker with a sample project to reproduce.","body":"Please file an issue to Dagger issue tracker with a sample project to reproduce."}],"answers":[{"tags":[],"owner":{"account_id":5114369,"reputation":743,"user_id":4100017,"accept_rate":24,"display_name":"amit srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668843506,"creation_date":1668843506,"answer_id":74498295,"question_id":74087797,"body_markdown":"To fix this error, a possible workaround is to use this in `gradle.properties` \r\n\r\n    kotlin.daemon.jvmargs=-Didea.max.content.load.filesize=300000 -Didea.max.intellisense.filesize=300000\r\n\r\n\r\nNote: *300000 here will be equivalent to 30 MB.*","title":"Project not compiling after Dagger version update (FileTooBigException)","body":"<p>To fix this error, a possible workaround is to use this in <code>gradle.properties</code></p>\n<pre><code>kotlin.daemon.jvmargs=-Didea.max.content.load.filesize=300000 -Didea.max.intellisense.filesize=300000\n</code></pre>\n<p>Note: <em>300000 here will be equivalent to 30 MB.</em></p>\n"}],"owner":{"account_id":5114369,"reputation":743,"user_id":4100017,"accept_rate":24,"display_name":"amit srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668843506,"creation_date":1665929308,"question_id":74087797,"body_markdown":"I have upgraded my project **Dagger version from 2.29.1 to 2.44**, but after the upgrade I am not able to compile the code.\r\n\r\nThis is the error I am getting:\r\n\r\n\r\n    e: org.jetbrains.kotlin.util.KotlinFrontEndException: Front-end Internal error: Failed to analyze declaration SomeExtnContractImpl\r\n    File being compiled: (97,1) in FILE_NAME.kt\r\n    The root cause org.jetbrains.kotlin.com.intellij.openapi.util.io.FileTooBigException was thrown at: org.jetbrains.kotlin.com.intellij.openapi.util.io.FileUtil.loadFileBytes(FileUtil.java:201)\r\n    \r\n    Caused by: org.jetbrains.kotlin.com.intellij.openapi.util.io.FileTooBigException: Attempt to load &#39;PROJECT_PATH/DaggeAppComponent.java&#39; in memory buffer, file length is 24808949 bytes.\r\n\r\n\r\nI have tired setting custom editor properties with these values (in KB):\r\n\r\n```lang-ini\r\nidea.max.content.load.filesize=30000  \r\nidea.max.intellisense.filesize=35000  \r\nidea.max.vcs.loaded.size.kb=30000\r\n```\r\n\r\nBut I&#39;m still getting the same error. Please suggest what can be done to fix this?\r\n","title":"Project not compiling after Dagger version update (FileTooBigException)","body":"<p>I have upgraded my project <strong>Dagger version from 2.29.1 to 2.44</strong>, but after the upgrade I am not able to compile the code.</p>\n<p>This is the error I am getting:</p>\n<pre><code>e: org.jetbrains.kotlin.util.KotlinFrontEndException: Front-end Internal error: Failed to analyze declaration SomeExtnContractImpl\nFile being compiled: (97,1) in FILE_NAME.kt\nThe root cause org.jetbrains.kotlin.com.intellij.openapi.util.io.FileTooBigException was thrown at: org.jetbrains.kotlin.com.intellij.openapi.util.io.FileUtil.loadFileBytes(FileUtil.java:201)\n\nCaused by: org.jetbrains.kotlin.com.intellij.openapi.util.io.FileTooBigException: Attempt to load 'PROJECT_PATH/DaggeAppComponent.java' in memory buffer, file length is 24808949 bytes.\n</code></pre>\n<p>I have tired setting custom editor properties with these values (in KB):</p>\n<pre class=\"lang-ini prettyprint-override\"><code>idea.max.content.load.filesize=30000  \nidea.max.intellisense.filesize=35000  \nidea.max.vcs.loaded.size.kb=30000\n</code></pre>\n<p>But I'm still getting the same error. Please suggest what can be done to fix this?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":14549133,"reputation":525,"user_id":10508565,"display_name":"Mieczkoni"},"score":1,"creation_date":1668797073,"post_id":74493535,"comment_id":131501598,"body_markdown":"Did you check if the wishlistModels list actually have anything inside before calling the wishlistModels.get(position)?","body":"Did you check if the wishlistModels list actually have anything inside before calling the wishlistModels.get(position)?"},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668842675,"post_id":74493535,"comment_id":131508556,"body_markdown":"so it deleted the very first item&#39;s data in the recyclerview but after that it throws the exception","body":"so it deleted the very first item&#39;s data in the recyclerview but after that it throws the exception"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668853417,"post_id":74493535,"comment_id":131510138,"body_markdown":"That&#39;s most likely happening because of the addition of the snapshot listener. However, if you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf) or even this [resource](https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166) might help.","body":"That&#39;s most likely happening because of the addition of the snapshot listener. However, if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf\" rel=\"nofollow noreferrer\">resource</a> or even this <a href=\"https://medium.com/firebase-tips-tricks/how-to-delete-multiple-records-from-firestore-using-recyclerview-multi-selection-96108e4c6166\" rel=\"nofollow noreferrer\">resource</a> might help."},{"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"score":0,"creation_date":1668854806,"post_id":74493535,"comment_id":131510368,"body_markdown":"i dont know kotlin sir please explain in java","body":"i dont know kotlin sir please explain in java"}],"owner":{"account_id":26351131,"reputation":79,"user_id":20397293,"display_name":"Puru Chaudhary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668842789,"creation_date":1668793558,"question_id":74493535,"body_markdown":"I am building an app where users can add item from home fragment to wishlist fragment by tapping on the heart icon. now when i am trying to delete the wishlist items from home fragment it is throwing array index out of bound exception, i am confuse why this is happening please guide me how can i solve this problem?\r\n\r\nthis is image \r\n\r\n[![check the image here][1]][1]\r\n\r\nSo i am writing this code from the homeAdapter of Home Fragment to delete that particular item from wishlist fragment when user tap the heart icon from home fragment\r\n \r\n\r\n     public void deleteData(int position)\r\n    {\r\n\r\n\r\n        wishlistModels = new ArrayList&lt;&gt;();\r\n\r\n        //CODE TO GET THE CURRENT USERS WISHLIST DETAILS\r\n        FirebaseAuth auth = FirebaseAuth.getInstance();\r\n        DocumentReference uidRef =  firebaseFirestore.collection(&quot;Wishlist_Details&quot;).document(auth.getUid());\r\n        CollectionReference wishlistDetaialRef = uidRef.collection(&quot;added_wishlist&quot;);\r\n\r\n        wishlistDetaialRef.addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n\r\n                for (DocumentSnapshot snapshots : value.getDocuments())\r\n                {\r\n                   WishlistModel wishlistModelobj = snapshots.toObject(WishlistModel.class);\r\n                        wishlistModels.add(wishlistModelobj);\r\n\r\n                }\r\n\r\n                wishlistDetaialRef.document(wishlistModels.get(position).getId()).delete().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n\r\n                        Toast.makeText(context, &quot;wishlist item removed&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                })\r\n                        .addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n\r\n\r\n                                Toast.makeText(context, &quot;data deletion failure&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n**Image of my firebase datastructure**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bpzNv.jpg\r\n  [2]: https://i.stack.imgur.com/zAX9f.png","title":"firebase item deletion throwing array index out of bound exception","body":"<p>I am building an app where users can add item from home fragment to wishlist fragment by tapping on the heart icon. now when i am trying to delete the wishlist items from home fragment it is throwing array index out of bound exception, i am confuse why this is happening please guide me how can i solve this problem?</p>\n<p>this is image</p>\n<p><a href=\"https://i.stack.imgur.com/bpzNv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bpzNv.jpg\" alt=\"check the image here\" /></a></p>\n<p>So i am writing this code from the homeAdapter of Home Fragment to delete that particular item from wishlist fragment when user tap the heart icon from home fragment</p>\n<pre><code> public void deleteData(int position)\n{\n\n\n    wishlistModels = new ArrayList&lt;&gt;();\n\n    //CODE TO GET THE CURRENT USERS WISHLIST DETAILS\n    FirebaseAuth auth = FirebaseAuth.getInstance();\n    DocumentReference uidRef =  firebaseFirestore.collection(&quot;Wishlist_Details&quot;).document(auth.getUid());\n    CollectionReference wishlistDetaialRef = uidRef.collection(&quot;added_wishlist&quot;);\n\n    wishlistDetaialRef.addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n\n            for (DocumentSnapshot snapshots : value.getDocuments())\n            {\n               WishlistModel wishlistModelobj = snapshots.toObject(WishlistModel.class);\n                    wishlistModels.add(wishlistModelobj);\n\n            }\n\n            wishlistDetaialRef.document(wishlistModels.get(position).getId()).delete().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void unused) {\n\n                    Toast.makeText(context, &quot;wishlist item removed&quot;, Toast.LENGTH_SHORT).show();\n                }\n            })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n\n\n                            Toast.makeText(context, &quot;data deletion failure&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n        }\n    });\n\n\n}\n</code></pre>\n<p><strong>Image of my firebase datastructure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/zAX9f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zAX9f.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","for-loop","iteration"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668840984,"creation_date":1668840984,"answer_id":74498106,"question_id":74498051,"body_markdown":"A simple pen and paper exercise will uncover the details.\r\n\r\n    for(int i = 1; i &lt;= k; i++) {\r\n        for(int j = i; j &lt;= k; j++) {\r\n        ...\r\n       }\r\n    }\r\n\r\nWhen `i = 1`, `j` runs from `1` to `k`. So, it will print the star `k` times. That is how you get `k` stars in row 1.\r\n\r\nWhen `i = 2`, `j` runs from `2` to `k`. So, it will print the star `k - 1` times. That is how you get `k - 1` stars in row 2.\r\n\r\nAnd so on...\r\n\r\nWhen `i = k`, `j` runs from `k` to `k` which is one time and hence you get only one star in the last row.","title":"How does this for loop output a decending number of &quot;#&quot; (top being most amount while bottom being least)?","body":"<p>A simple pen and paper exercise will uncover the details.</p>\n<pre><code>for(int i = 1; i &lt;= k; i++) {\n    for(int j = i; j &lt;= k; j++) {\n    ...\n   }\n}\n</code></pre>\n<p>When <code>i = 1</code>, <code>j</code> runs from <code>1</code> to <code>k</code>. So, it will print the star <code>k</code> times. That is how you get <code>k</code> stars in row 1.</p>\n<p>When <code>i = 2</code>, <code>j</code> runs from <code>2</code> to <code>k</code>. So, it will print the star <code>k - 1</code> times. That is how you get <code>k - 1</code> stars in row 2.</p>\n<p>And so on...</p>\n<p>When <code>i = k</code>, <code>j</code> runs from <code>k</code> to <code>k</code> which is one time and hence you get only one star in the last row.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668841943,"creation_date":1668841558,"answer_id":74498157,"question_id":74498051,"body_markdown":"Initial value of `j` is set to incrementing `i` and the inner loop is limited with the fixed value `k`.  That is, the first run prints `#` from 1 to 5 (5 times), the second run prints from 2 to 5, etc. and the number of prints is _decreasing_.\r\n\r\nTo print the lower part in _increasing_ way, the limit should be set to `i`: `for (int j = 1; j &lt;= i; j++0) System.out.print(&quot;#&quot;)`.\r\n\r\nAlso, the inner loops may be replaced with the method `String::repeat` available since Java 11:\r\n```java\r\npublic static void diamond(int k) {\r\n    // upper part, decreasing # increasing *\r\n    for (int i = 1; i &lt;= k; i++) {\r\n        System.out.println(&quot;#&quot;.repeat(k - i) + &quot;*&quot;.repeat(2 * i - 1) + &quot;#&quot;.repeat(k - i));\r\n    }\r\n    \r\n    // lower part, decreasing * increasing #\r\n    for (int i = 1; i &lt; k; i++) {\r\n        System.out.println(&quot;#&quot;.repeat(i) + &quot;*&quot;.repeat(2 * (k - i) - 1) + &quot;#&quot;.repeat(i));\r\n    }\r\n}\r\n```","title":"How does this for loop output a decending number of &quot;#&quot; (top being most amount while bottom being least)?","body":"<p>Initial value of <code>j</code> is set to incrementing <code>i</code> and the inner loop is limited with the fixed value <code>k</code>.  That is, the first run prints <code>#</code> from 1 to 5 (5 times), the second run prints from 2 to 5, etc. and the number of prints is <em>decreasing</em>.</p>\n<p>To print the lower part in <em>increasing</em> way, the limit should be set to <code>i</code>: <code>for (int j = 1; j &lt;= i; j++0) System.out.print(&quot;#&quot;)</code>.</p>\n<p>Also, the inner loops may be replaced with the method <code>String::repeat</code> available since Java 11:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void diamond(int k) {\n    // upper part, decreasing # increasing *\n    for (int i = 1; i &lt;= k; i++) {\n        System.out.println(&quot;#&quot;.repeat(k - i) + &quot;*&quot;.repeat(2 * i - 1) + &quot;#&quot;.repeat(k - i));\n    }\n    \n    // lower part, decreasing * increasing #\n    for (int i = 1; i &lt; k; i++) {\n        System.out.println(&quot;#&quot;.repeat(i) + &quot;*&quot;.repeat(2 * (k - i) - 1) + &quot;#&quot;.repeat(i));\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user18984687"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74498106,"answer_count":2,"score":0,"last_activity_date":1668841943,"creation_date":1668840210,"question_id":74498051,"body_markdown":"I&#39;m attempting to solve some Java questions and I came across a question that asked me to print out a diamond of size `n`. \r\n\r\nSince I got stumped on this question, I decided to look up other&#39;s solutions to get an idea as to how I could tackle this problem. \r\n\r\nA diamond of size 2 should look like this by the way.\r\n\r\n    ##*##\r\n    #***#\r\n    ##*##\r\n\r\nHowever, one part of the code really stumped me out and that is how does the `#` get printed out in that manner.\r\n\r\nHere is what I found for the top left bit of the diamond, basically this bit:\r\n\r\n    ##\r\n    #\r\n\r\nHere is the code for that:\r\n\r\n     public static void printDiamond(int k){\r\n            for(int i=1; i &lt;= k; i++) {\r\n                for(int j = i; j &lt;= k; j++) {\r\n                    System.out.print(&quot;#&quot;);\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n             }\r\n     }\r\n\r\n\r\n\r\nand the output when k = 5:\r\n\r\n    #####\r\n    ####\r\n    ###\r\n    ##\r\n    #\r\n\r\nFrom my understanding, int `j` is looping upwards since it&#39;s declared as `i` which also loops upwards until it reaches `k`.\r\n\r\nShouldn&#39;t that print out 1,2,3,4,5 diamonds instead since the loop goes from 0 to k, which is 5?\r\n\r\nI was expecting the output to be like:\r\n\r\n    #\r\n    ##\r\n    ###\r\n    ####\r\n    #####\r\n\r\nCan someone explain how does the code snippet I attached returns the output from top to bottom?\r\n\r\n","title":"How does this for loop output a decending number of &quot;#&quot; (top being most amount while bottom being least)?","body":"<p>I'm attempting to solve some Java questions and I came across a question that asked me to print out a diamond of size <code>n</code>.</p>\n<p>Since I got stumped on this question, I decided to look up other's solutions to get an idea as to how I could tackle this problem.</p>\n<p>A diamond of size 2 should look like this by the way.</p>\n<pre><code>##*##\n#***#\n##*##\n</code></pre>\n<p>However, one part of the code really stumped me out and that is how does the <code>#</code> get printed out in that manner.</p>\n<p>Here is what I found for the top left bit of the diamond, basically this bit:</p>\n<pre><code>##\n#\n</code></pre>\n<p>Here is the code for that:</p>\n<pre><code> public static void printDiamond(int k){\n        for(int i=1; i &lt;= k; i++) {\n            for(int j = i; j &lt;= k; j++) {\n                System.out.print(&quot;#&quot;);\n            }\n            System.out.println(&quot;&quot;);\n         }\n }\n</code></pre>\n<p>and the output when k = 5:</p>\n<pre><code>#####\n####\n###\n##\n#\n</code></pre>\n<p>From my understanding, int <code>j</code> is looping upwards since it's declared as <code>i</code> which also loops upwards until it reaches <code>k</code>.</p>\n<p>Shouldn't that print out 1,2,3,4,5 diamonds instead since the loop goes from 0 to k, which is 5?</p>\n<p>I was expecting the output to be like:</p>\n<pre><code>#\n##\n###\n####\n#####\n</code></pre>\n<p>Can someone explain how does the code snippet I attached returns the output from top to bottom?</p>\n"},{"tags":["java","exception","nullpointerexception","console","system.in"],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668840417,"creation_date":1668839948,"answer_id":74498028,"question_id":74498009,"body_markdown":"Are you running this from an IDE? If yes then that is the problem since `System.console()` is not available in an IDE environment. \r\n\r\nTry running it from the console (Command Prompt / Terminal) and it should work fine.\r\n\r\nEdit: Just tried in my console and it worked (see screenshot below)\r\n\r\n[![Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4O0qc.png","title":"Cannot invoke &quot;java.io.Console.readLine()&quot; because &quot;c&quot; is null","body":"<p>Are you running this from an IDE? If yes then that is the problem since <code>System.console()</code> is not available in an IDE environment.</p>\n<p>Try running it from the console (Command Prompt / Terminal) and it should work fine.</p>\n<p>Edit: Just tried in my console and it worked (see screenshot below)</p>\n<p><a href=\"https://i.stack.imgur.com/4O0qc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4O0qc.png\" alt=\"Screenshot\" /></a></p>\n"}],"owner":{"account_id":26981211,"reputation":1,"user_id":20545539,"display_name":"Santhosh Kumar A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668842538,"answer_count":1,"score":0,"last_activity_date":1668841744,"creation_date":1668839641,"question_id":74498009,"body_markdown":"I am trying to get the input from user by using `System.console`. However, I get a `NullPointerException` when I run the following code (I am trying to get input from the user).\r\n\r\n```\r\nimport java.io.*;\r\npublic class Systemlearn {\r\n\tpublic static void main(String[] args)throws IOException {\r\n\t\tConsole c=System.console();\r\n\t\tSystem.out.println(&quot;Enter the Name:&quot;);\r\n\t\tString str=c.readLine();\r\n\t\tSystem.out.println(str);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nEnter the Name:\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.io.Console.readLine()&quot; because &quot;c&quot; is null\r\n\tat week5.Systemlearn.main(Systemlearn.java:7)\r\n```\r\n\r\n","title":"Cannot invoke &quot;java.io.Console.readLine()&quot; because &quot;c&quot; is null","body":"<p>I am trying to get the input from user by using <code>System.console</code>. However, I get a <code>NullPointerException</code> when I run the following code (I am trying to get input from the user).</p>\n<pre><code>import java.io.*;\npublic class Systemlearn {\n    public static void main(String[] args)throws IOException {\n        Console c=System.console();\n        System.out.println(&quot;Enter the Name:&quot;);\n        String str=c.readLine();\n        System.out.println(str);\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Enter the Name:\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.io.Console.readLine()&quot; because &quot;c&quot; is null\n    at week5.Systemlearn.main(Systemlearn.java:7)\n</code></pre>\n"},{"tags":["java","string","format","string.format"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1668841081,"post_id":74498026,"comment_id":131508400,"body_markdown":"Running your code the output is „a10“. Also when running the alternative `System.out.printf(&quot;a%02d%n&quot;, num);`. Must be related to your terminal or the code shown is not the one producing that output.","body":"Running your code the output is „a10“. Also when running the alternative <code>System.out.printf(&quot;a%02d%n&quot;, num);</code>. Must be related to your terminal or the code shown is not the one producing that output."},{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1668841489,"post_id":74498026,"comment_id":131508439,"body_markdown":"How are you running this code (IDE / console)? As @Christoper mentioned above, the code works fine - this most likely is related to your terminal settings.","body":"How are you running this code (IDE / console)? As @Christoper mentioned above, the code works fine - this most likely is related to your terminal settings."},{"owner":{"account_id":14236099,"reputation":1,"user_id":10283882,"display_name":"Ronit Mathur"},"score":0,"creation_date":1668841986,"post_id":74498026,"comment_id":131508485,"body_markdown":"@vini, I&#39;m running this code on Eclipse 2022-09 (4.25.0) version, and I haven&#39;t changed default setting of IDE.","body":"@vini, I&#39;m running this code on Eclipse 2022-09 (4.25.0) version, and I haven&#39;t changed default setting of IDE."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668843211,"post_id":74498026,"comment_id":131508609,"body_markdown":"Which is your default locale? May it use digits that your console cannot display correctly? Could this explain he question marks? `String.format()` does use localized digits, for example `١٠` for Arabic.","body":"Which is your default locale? May it use digits that your console cannot display correctly? Could this explain he question marks? <code>String.format()</code> does use localized digits, for example <code>١٠</code> for Arabic."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1668844268,"post_id":74498026,"comment_id":131508735,"body_markdown":"test `format(Locale.ROOT, &quot;%02d&quot;, num)` or set the default Locale: `Locale.setDefault(Locale.Category.FORMAT, ...`","body":"test <code>format(Locale.ROOT, &quot;%02d&quot;, num)</code> or set the default Locale: <code>Locale.setDefault(Locale.Category.FORMAT, ...</code>"},{"owner":{"account_id":14236099,"reputation":1,"user_id":10283882,"display_name":"Ronit Mathur"},"score":0,"creation_date":1669086635,"post_id":74498026,"comment_id":131558135,"body_markdown":"Thanks @user16320675, it run successfully using Locale.ROOT.","body":"Thanks @user16320675, it run successfully using Locale.ROOT."}],"owner":{"account_id":14236099,"reputation":1,"user_id":10283882,"display_name":"Ronit Mathur"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668839859,"creation_date":1668839859,"question_id":74498026,"body_markdown":"I am writing code for formating using String.format. so in genral it should print number only but instead of printing number it is printing ??. here is code.\r\n\r\n\r\nAny suggestion please what i&#39;m doing wrong here. Thanks in advance.\r\n\r\n**code**\r\n\r\n```\r\nint num=10;\r\nString str=&#39;a&#39;+String.format(&quot;%02d&quot;, num);\r\nSystem.out.println(str);\r\n```\r\n\r\n**output:**\r\n```\r\na??\r\n```","title":"Printing ?? instead of number in String.format(&quot;%02d&quot;,10) in java","body":"<p>I am writing code for formating using String.format. so in genral it should print number only but instead of printing number it is printing ??. here is code.</p>\n<p>Any suggestion please what i'm doing wrong here. Thanks in advance.</p>\n<p><strong>code</strong></p>\n<pre><code>int num=10;\nString str='a'+String.format(&quot;%02d&quot;, num);\nSystem.out.println(str);\n</code></pre>\n<p><strong>output:</strong></p>\n<pre><code>a??\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1314975196,"post_id":7285228,"comment_id":8773260,"body_markdown":"Ctrl+Shift+L shows them all. You can also just rightclick in source code file and peek around in the options. All shortcuts are mentioned there as well.","body":"Ctrl+Shift+L shows them all. You can also just rightclick in source code file and peek around in the options. All shortcuts are mentioned there as well."},{"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"score":0,"creation_date":1314975246,"post_id":7285228,"comment_id":8773283,"body_markdown":"keep a copy of (http://eclipse-tools.sourceforge.net/Keyboard_shortcuts_(3.0).pdf) on your desk","body":"keep a copy of (<a href=\"http://eclipse-tools.sourceforge.net/Keyboard_shortcuts_(3.0).pdf\" rel=\"nofollow noreferrer\">eclipse-tools.sourceforge.net/Keyboard_shortcuts_(3.0).pdf</a>) on your desk"}],"answers":[{"comments":[{"owner":{"account_id":206658,"reputation":1026,"user_id":456081,"display_name":"gastush"},"score":3,"creation_date":1314975177,"post_id":7285241,"comment_id":8773257,"body_markdown":"and it&#39;s simply called &quot;rename&quot; in the &quot;refactor&quot; submenu","body":"and it&#39;s simply called &quot;rename&quot; in the &quot;refactor&quot; submenu"},{"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"score":3,"creation_date":1314976166,"post_id":7285241,"comment_id":8773604,"body_markdown":"note that if the os intersepts alt+shift (most likely to alter the keyboard layout) it might not work","body":"note that if the os intersepts alt+shift (most likely to alter the keyboard layout) it might not work"}],"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"comment_count":2,"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1334494703,"creation_date":1314975083,"answer_id":7285241,"question_id":7285228,"body_markdown":"The shortcut combination is &lt;kbd&gt;ALT&lt;/kbd&gt; + &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;R&lt;/kbd&gt;.","title":"Can&#39;t find Eclipse shortcut for Renaming","body":"<p>The shortcut combination is <kbd>ALT</kbd> + <kbd>SHIFT</kbd> + <kbd>R</kbd>.</p>\n"},{"comments":[{"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"score":0,"creation_date":1314975226,"post_id":7285245,"comment_id":8773272,"body_markdown":"How do you format in your answer the buttons so nice? I can&#39;t figure it out:)","body":"How do you format in your answer the buttons so nice? I can&#39;t figure it out:)"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":4,"creation_date":1314975275,"post_id":7285245,"comment_id":8773286,"body_markdown":"@Petar use the HTML tag `&lt;kbd&gt;`","body":"@Petar use the HTML tag <code>&lt;kbd&gt;</code>"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1314975113,"creation_date":1314975113,"answer_id":7285245,"question_id":7285228,"body_markdown":"The key combination is\r\n\r\n&gt; &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;R&lt;/kbd&gt;\r\n\r\nThe corresponding menu (and context menu) entry is\r\n\r\n&gt; Refactor &gt; Rename ...","title":"Can&#39;t find Eclipse shortcut for Renaming","body":"<p>The key combination is</p>\n\n<blockquote>\n  <p><kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd></p>\n</blockquote>\n\n<p>The corresponding menu (and context menu) entry is</p>\n\n<blockquote>\n  <p>Refactor > Rename ...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":117541,"reputation":7467,"user_id":307767,"accept_rate":92,"display_name":"oliholz"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1314975139,"creation_date":1314975139,"answer_id":7285254,"question_id":7285228,"body_markdown":"&lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;SHIFT&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt; list of all shortcuts.","title":"Can&#39;t find Eclipse shortcut for Renaming","body":"<p><kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>L</kbd> list of all shortcuts.</p>\n"},{"comments":[{"owner":{"account_id":31954,"reputation":31454,"user_id":88111,"accept_rate":89,"display_name":"Craig Otis"},"score":1,"creation_date":1351598729,"post_id":12393101,"comment_id":17869445,"body_markdown":"This doesn&#39;t seem to be the case under 4.2 Juno. :(","body":"This doesn&#39;t seem to be the case under 4.2 Juno. :("}],"tags":[],"owner":{"account_id":975872,"reputation":1015,"user_id":997099,"accept_rate":83,"display_name":"Julian J. Tejera"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1347469391,"creation_date":1347469391,"answer_id":12393101,"question_id":7285228,"body_markdown":"I wanted to specify that the shortcut is &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Command&lt;/kbd&gt; + &lt;kbd&gt;R&lt;/kbd&gt; if you&#39;re using Mac OS X.","title":"Can&#39;t find Eclipse shortcut for Renaming","body":"<p>I wanted to specify that the shortcut is <kbd>Alt</kbd> + <kbd>Command</kbd> + <kbd>R</kbd> if you're using Mac OS X.</p>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1409515288,"creation_date":1409514459,"answer_id":25595660,"question_id":7285228,"body_markdown":"### PC\nThe shortcut for rename is:\n&gt; &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;r&lt;/kbd&gt;.\n\nAnd the list of shortcuts will be displayed with:\n&gt; &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt; \n\n### **Mac OS x**\nThe shortcut defined for rename/refactoring  will work:\n\n&gt; &lt;kbd&gt;option&lt;/kbd&gt; + &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;R&lt;/kbd&gt;\n\nThe option for rename is:\n&gt; &lt;kbd&gt;F2&lt;/kbd&gt;\n\nBoth are shortcuts defined for Mac, open the Shortcuts List with \n&gt; &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;L&lt;/kbd&gt;:\n\n![enter image description here][1]\n\n  [1]: http://i.stack.imgur.com/eES4X.png","title":"Can&#39;t find Eclipse shortcut for Renaming","body":"<h3>PC</h3>\n<p>The shortcut for rename is:</p>\n<blockquote>\n<p><kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>r</kbd>.</p>\n</blockquote>\n<p>And the list of shortcuts will be displayed with:</p>\n<blockquote>\n<p><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>L</kbd></p>\n</blockquote>\n<h3><strong>Mac OS x</strong></h3>\n<p>The shortcut defined for rename/refactoring  will work:</p>\n<blockquote>\n<p><kbd>option</kbd> + <kbd>⌘</kbd> + <kbd>R</kbd></p>\n</blockquote>\n<p>The option for rename is:</p>\n<blockquote>\n<p><kbd>F2</kbd></p>\n</blockquote>\n<p>Both are shortcuts defined for Mac, open the Shortcuts List with</p>\n<blockquote>\n<p><kbd>Shift</kbd> + <kbd>⌘</kbd> + <kbd>L</kbd>:</p>\n</blockquote>\n<p><img src=\"https://i.stack.imgur.com/eES4X.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":5832048,"reputation":27,"user_id":4596216,"accept_rate":50,"display_name":"Robin Dhiman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446018487,"creation_date":1446018487,"answer_id":33385541,"question_id":7285228,"body_markdown":"Simply select the file and press F2. The rename option will open. Other option is ALt + Shift + R. But I prefer F2 is much easier way.","title":"Can&#39;t find Eclipse shortcut for Renaming","body":"<p>Simply select the file and press F2. The rename option will open. Other option is ALt + Shift + R. But I prefer F2 is much easier way.</p>\n"},{"tags":[],"owner":{"account_id":5594196,"reputation":473,"user_id":4432432,"accept_rate":100,"display_name":"el.nicko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575213837,"creation_date":1575213837,"answer_id":59126933,"question_id":7285228,"body_markdown":"For renaming a file, the F2 works in all cases I&#39;ve encountered. \r\n\r\nHowever my experience shows that refactoring a class or a method can behave differently in different OS and desktop environments and that they may intercept key modifiers and thus render shortcuts ineffective. \r\n\r\nHowever, eclipse is good at accessing its main menu from the keyboard. For instance, in plasma in linux (tested with eclipse 2019-09 and older) renaming is achieved pressing **Alt-T**, then releasing it and pressing **N** afterwards. The Alt-T effectively opens up the refactoring menu and the N orders eclipse to rename the selected element. Actually, the whole refactoring menu can be addressed in that manner, this achieving the goal with less friction.","title":"Can&#39;t find Eclipse shortcut for Renaming","body":"<p>For renaming a file, the F2 works in all cases I've encountered. </p>\n\n<p>However my experience shows that refactoring a class or a method can behave differently in different OS and desktop environments and that they may intercept key modifiers and thus render shortcuts ineffective. </p>\n\n<p>However, eclipse is good at accessing its main menu from the keyboard. For instance, in plasma in linux (tested with eclipse 2019-09 and older) renaming is achieved pressing <strong>Alt-T</strong>, then releasing it and pressing <strong>N</strong> afterwards. The Alt-T effectively opens up the refactoring menu and the N orders eclipse to rename the selected element. Actually, the whole refactoring menu can be addressed in that manner, this achieving the goal with less friction.</p>\n"},{"tags":[],"owner":{"account_id":8592069,"reputation":509,"user_id":6436354,"display_name":"gobi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668839690,"creation_date":1668839690,"answer_id":74498014,"question_id":7285228,"body_markdown":"For Mac, use the below keys\r\n\r\n    OPTION + COMMAND + R","title":"Can&#39;t find Eclipse shortcut for Renaming","body":"<p>For Mac, use the below keys</p>\n<pre><code>OPTION + COMMAND + R\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21517,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7285241,"answer_count":8,"score":8,"last_activity_date":1668839690,"creation_date":1314974998,"question_id":7285228,"body_markdown":"Used to know this, think its something like `Ctrl + ??? + F11`. Or something.\r\n\r\nI have a class member/property that I would like to change the name of. Unfortunately it is sprinkled all over the class, some 100+ references to it. Throughout the various methods.\r\n\r\nEclipse has a shortcut that allows you to click on an identifier, hit the hotkey (whatever it is), and then modify the text composing the identifier. Then, once you click off of that text, it searches and replaces all references of the &quot;old&quot; identifier and replaces them with the new one.\r\n\r\nI know I could just do a search &amp; replace.  I don&#39;t want that.  I want the shortcut/hotkey. And its driving me crazy because I can&#39;t find it because I don&#39;t know what it&#39;s called!\r\n\r\nThanks to any Eclipse gurus that can help.","title":"Can&#39;t find Eclipse shortcut for Renaming","body":"<p>Used to know this, think its something like <code>Ctrl + ??? + F11</code>. Or something.</p>\n\n<p>I have a class member/property that I would like to change the name of. Unfortunately it is sprinkled all over the class, some 100+ references to it. Throughout the various methods.</p>\n\n<p>Eclipse has a shortcut that allows you to click on an identifier, hit the hotkey (whatever it is), and then modify the text composing the identifier. Then, once you click off of that text, it searches and replaces all references of the \"old\" identifier and replaces them with the new one.</p>\n\n<p>I know I could just do a search &amp; replace.  I don't want that.  I want the shortcut/hotkey. And its driving me crazy because I can't find it because I don't know what it's called!</p>\n\n<p>Thanks to any Eclipse gurus that can help.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668838687,"creation_date":1668838687,"answer_id":74497944,"question_id":74497654,"body_markdown":"You don&#39;t.  You NEVER wait on the main thread.  Attempting to do so will cause an unresponsive UI and a system popup telling the user your app is unresponsive.  It can even cause a watchdog to trip and your app to be killed with an ANR.  Instead, let it run in the background and put up a loading screen if you need to until the result is done.\r\n\r\nAlso, that&#39;s not how you use wait().  Wait in Java has to do with concurrency locking.  Every object has a wait function, it has nothing to do with threads.  It doesn&#39;t wait for a thread to be done.  You use join for that.  But you should still never call join on the main thread.\r\n\r\n","title":"How can I let a thread wait successfully in Android?","body":"<p>You don't.  You NEVER wait on the main thread.  Attempting to do so will cause an unresponsive UI and a system popup telling the user your app is unresponsive.  It can even cause a watchdog to trip and your app to be killed with an ANR.  Instead, let it run in the background and put up a loading screen if you need to until the result is done.</p>\n<p>Also, that's not how you use wait().  Wait in Java has to do with concurrency locking.  Every object has a wait function, it has nothing to do with threads.  It doesn't wait for a thread to be done.  You use join for that.  But you should still never call join on the main thread.</p>\n"}],"owner":{"account_id":26563540,"reputation":37,"user_id":20190994,"display_name":"nor1take"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74497944,"answer_count":1,"score":1,"last_activity_date":1668838687,"creation_date":1668833910,"question_id":74497654,"body_markdown":"I start 2 threads to receive messages in different pages (A and B) but cannot let one `wait` successfully. \r\n\r\nHere is the code of the `receiveMsg` thread.\r\n\r\n```\r\n//BufferedReader brClient = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\nprivate class receiveMsg implements Runnable {\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            String data;\r\n            while ((data = brClient.readLine()) != null) {\r\n                // diffent operations to fit page A and B\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen switching pages (A -\\&gt; B), I tried to let one thread in A wait to avoid competing for the same message with the other in B.\r\n\r\n```\r\n// page A\r\n@Override\r\npublic void onPause() {\r\n    super.onPause();\r\n    System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; onPause&quot;);\r\n    try {\r\n        receiveMsgThread.wait();\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nonly to find a exception\r\n\r\n```\r\njava.lang.RuntimeException: Unable to pause activity {com.example.chat/com.example.chat.B_Container_Activity}: java.lang.IllegalMonitorStateException: object not locked by thread before wait()\r\n```\r\n\r\nand I found a [solution](https://stackoverflow.com/questions/26590542/java-lang-illegalmonitorstateexception-object-not-locked-by-thread-before-wait) in the StackOverflow but **it didn&#39;t work** in my project.\r\n\r\n```\r\nsynchronized(receiveMsgThread) {\r\n    try {\r\n        receiveMsgThread.wait();\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n&quot;didn&#39;t work&quot; means there is no exception but the App is stucked when clicking the button in A and trying to swithing pages (A -\\&gt; B).\r\n```\r\nI/System.out: &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; onPause\r\nI/ZrHungImpl: sendRawEvent. wpId = 257\r\nE/HiView.HiEvent: length is 0 or exceed MAX: 1024\r\nI/om.example.cha: Thread[7,tid=21291,WaitingInMainSignalCatcherLoop,Thread*=0x7b849a5c00,peer=0x16644030,&quot;Signal Catcher&quot;]: reacting to signal 3\r\nI/om.example.cha: \r\nI/om.example.cha: Wrote stack traces to tombstoned\r\nI/ZrHungImpl: sendRawEvent. wpId = 258\r\nE/HiView.HiEvent: length is 0 or exceed MAX: 1024\r\n```","title":"How can I let a thread wait successfully in Android?","body":"<p>I start 2 threads to receive messages in different pages (A and B) but cannot let one <code>wait</code> successfully.</p>\n<p>Here is the code of the <code>receiveMsg</code> thread.</p>\n<pre><code>//BufferedReader brClient = new BufferedReader(new InputStreamReader(socket.getInputStream()));\nprivate class receiveMsg implements Runnable {\n    @Override\n    public void run() {\n        try {\n            String data;\n            while ((data = brClient.readLine()) != null) {\n                // diffent operations to fit page A and B\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>When switching pages (A -&gt; B), I tried to let one thread in A wait to avoid competing for the same message with the other in B.</p>\n<pre><code>// page A\n@Override\npublic void onPause() {\n    super.onPause();\n    System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; onPause&quot;);\n    try {\n        receiveMsgThread.wait();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>only to find a exception</p>\n<pre><code>java.lang.RuntimeException: Unable to pause activity {com.example.chat/com.example.chat.B_Container_Activity}: java.lang.IllegalMonitorStateException: object not locked by thread before wait()\n</code></pre>\n<p>and I found a <a href=\"https://stackoverflow.com/questions/26590542/java-lang-illegalmonitorstateexception-object-not-locked-by-thread-before-wait\">solution</a> in the StackOverflow but <strong>it didn't work</strong> in my project.</p>\n<pre><code>synchronized(receiveMsgThread) {\n    try {\n        receiveMsgThread.wait();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>&quot;didn't work&quot; means there is no exception but the App is stucked when clicking the button in A and trying to swithing pages (A -&gt; B).</p>\n<pre><code>I/System.out: &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; onPause\nI/ZrHungImpl: sendRawEvent. wpId = 257\nE/HiView.HiEvent: length is 0 or exceed MAX: 1024\nI/om.example.cha: Thread[7,tid=21291,WaitingInMainSignalCatcherLoop,Thread*=0x7b849a5c00,peer=0x16644030,&quot;Signal Catcher&quot;]: reacting to signal 3\nI/om.example.cha: \nI/om.example.cha: Wrote stack traces to tombstoned\nI/ZrHungImpl: sendRawEvent. wpId = 258\nE/HiView.HiEvent: length is 0 or exceed MAX: 1024\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668821753,"post_id":74496880,"comment_id":131506566,"body_markdown":"You forgot to ask an actual question. Please [edit] the post and add a focused question.","body":"You forgot to ask an actual question. Please <a href=\"https://stackoverflow.com/posts/74496880/edit\">edit</a> the post and add a focused question."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668822185,"post_id":74496880,"comment_id":131506617,"body_markdown":"If you question should be &quot;*How do I implement a graph ADT?*&quot;, then I recommend reading some tutorial. [The wikipedia article on graph ADT](https://en.wikipedia.org/wiki/Graph_(abstract_data_type)) is a good place to start.","body":"If you question should be &quot;<i>How do I implement a graph ADT?</i>&quot;, then I recommend reading some tutorial. <a href=\"https://en.wikipedia.org/wiki/Graph_(abstract_data_type)\" rel=\"nofollow noreferrer\">The wikipedia article on graph ADT</a> is a good place to start."}],"answers":[{"comments":[{"owner":{"account_id":26978222,"reputation":11,"user_id":20543853,"display_name":"Demali Gregg"},"score":0,"creation_date":1668905256,"post_id":74497931,"comment_id":131520117,"body_markdown":"Thank you. This help to receive the data in a more usable format.","body":"Thank you. This help to receive the data in a more usable format."}],"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668838557,"creation_date":1668838557,"answer_id":74497931,"question_id":74496880,"body_markdown":"&gt; It appears you are not storing read Persons, and activities in while\r\n&gt; loops. \r\n\r\n**Step 1**\r\ndecalare 2 ArrayLists (one for persons, and one for Activities) as:\r\n\r\n    ArrayList&lt;Person&gt; persons = new ArrayList()\r\n    ArrayList&lt;Activities&gt; activities = new ArrayList()\r\n\r\n**Step 2**\r\nstore Persons and activities read from files:\r\nin First loop reading person after  newPerson.setPrivacy(privacy); add line\r\n\r\n    persons.add(newPerson);\r\n\r\nIn second loop reading acvities  add \r\n\r\n    activities.add(newActivity);\r\n\r\n**Step 3**\r\nthen search persons, and activities arrayList and match contacts using for loop\r\n\r\n","title":"How to code a graph and its relationships (unweighted graph)","body":"<blockquote>\n<p>It appears you are not storing read Persons, and activities in while\nloops.</p>\n</blockquote>\n<p><strong>Step 1</strong>\ndecalare 2 ArrayLists (one for persons, and one for Activities) as:</p>\n<pre><code>ArrayList&lt;Person&gt; persons = new ArrayList()\nArrayList&lt;Activities&gt; activities = new ArrayList()\n</code></pre>\n<p><strong>Step 2</strong>\nstore Persons and activities read from files:\nin First loop reading person after  newPerson.setPrivacy(privacy); add line</p>\n<pre><code>persons.add(newPerson);\n</code></pre>\n<p>In second loop reading acvities  add</p>\n<pre><code>activities.add(newActivity);\n</code></pre>\n<p><strong>Step 3</strong>\nthen search persons, and activities arrayList and match contacts using for loop</p>\n"}],"owner":{"account_id":26978222,"reputation":11,"user_id":20543853,"display_name":"Demali Gregg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668838557,"creation_date":1668820790,"question_id":74496880,"body_markdown":"I have been given an Analysis of algorithms group project in which we are tasked to create a recommendation system for a list of persons. We have been given 2 files, a list of people with their information and a list of people along with the activity they are involved in. we are to make recommendations based on who is considered a close contact and if the person waved privacy. A close contact is a person who shares the same community, school, or employer. If a person requested privacy then no recommendations are to be sent to that person. I have loaded the files into a class object but I have hit a roadblock on how to structure the data after the capture. I do not know how to code a graph and from my understanding and visualization of the problem, I believe a graph is the appropriate data structure for this problem. I will attach my code for how I captured the data and the format for the files below.\r\n\r\nFile formats: \r\n\r\nActivity File:\r\n\r\n    Winston, William, Bought Samsung Galaxy Watch 4 \r\n    Thomas, Williams, Watching Blackout on Netflix \r\n    John, Warren, Bought Samsung Galaxy Watch 4\r\n    Tanisha, Thompson, Listening I&#39;ll be with You by Grace Thrillers\r\n    Owen, Mendez, Bought FitBit Charge 5\r\n\r\nPerson File:\r\n\r\n    Rajay, Mccalla, 3151288155, RaMccalla38@gmail.com, Hope Flat, Pap High, eGov, Bronks, N\r\n\r\nCode:\r\n\r\n    public class InfoReader {\r\n    \r\n        public void ReadInfo(){\r\n            //find file with person data\r\n            try {\r\n                String fileLocation = File.separator + &quot;Users&quot; + File.separator + &quot;user&quot; + File.separator + &quot;Downloads&quot; + File.separator + &quot;SamplefilePersons2022Oct31text.csv&quot;;\r\n    \r\n                File personList = new File(fileLocation);\r\n                //scanner to read from file\r\n                Scanner personScanner = new Scanner(personList);\r\n    \r\n                while (personScanner.hasNextLine()) {\r\n                    String nextline = personScanner.nextLine();\r\n                    // split file into parts\r\n                    String[] personComponents = nextline.split(&quot;,&quot;);\r\n                    //get components of Persons\r\n                    String firstname = personComponents[0];\r\n                    String lastname = personComponents[1];\r\n                    String phone = personComponents[2];\r\n                    String email = personComponents[3];\r\n                    String community = personComponents[4];\r\n                    String school = personComponents[5];\r\n                    String employer = personComponents[6];\r\n                    String privacy = personComponents[7];\r\n    \r\n                    //creating new person\r\n                    Person newPerson = new Person();\r\n    \r\n                    //set data attributes for persons as we read from file\r\n                    newPerson.setFirstname(firstname);\r\n                    newPerson.setLastname(lastname);\r\n                    newPerson.setPhone(phone);\r\n                    newPerson.setEmail(email);\r\n                    newPerson.setCommunity(community);\r\n                    newPerson.setSchool(school);\r\n                    newPerson.setEmployer(employer);\r\n                    newPerson.setPrivacy(privacy);\r\n                    //System.out.println(newPerson);\r\n    \r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            //find file with activity data\r\n            try {\r\n                String fileLocation = File.separator + &quot;Users&quot; + File.separator + &quot;user&quot; + File.separator + &quot;Downloads&quot; + File.separator + &quot;SamplefileActivities2022Oct31text.csv&quot;;\r\n    \r\n                File activityList = new File(fileLocation);\r\n                //scanner to read from file\r\n                Scanner activityScanner = new Scanner(activityList);\r\n                while (activityScanner.hasNextLine()) {\r\n                    String nextLine = activityScanner.nextLine();\r\n                    // split file into parts\r\n                    String[] activityComponents = nextLine.split(&quot;,&quot;);\r\n                    //get components of Persons Activities\r\n                    String firstname = activityComponents[0];\r\n                    String lastname = activityComponents[1];\r\n                    String Activity = activityComponents[2];\r\n                    //creating new person activity\r\n                    Activities newActivity = new Activities();\r\n                    //set data attributes for persons as we read from file\r\n                    newActivity.setFirstname(firstname);\r\n                    newActivity.setLastname(lastname);\r\n                    newActivity.setActivity(Activity);\r\n                    //System.out.println(newActivity);\r\n                }\r\n            }catch (FileNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to code a graph and its relationships (unweighted graph)","body":"<p>I have been given an Analysis of algorithms group project in which we are tasked to create a recommendation system for a list of persons. We have been given 2 files, a list of people with their information and a list of people along with the activity they are involved in. we are to make recommendations based on who is considered a close contact and if the person waved privacy. A close contact is a person who shares the same community, school, or employer. If a person requested privacy then no recommendations are to be sent to that person. I have loaded the files into a class object but I have hit a roadblock on how to structure the data after the capture. I do not know how to code a graph and from my understanding and visualization of the problem, I believe a graph is the appropriate data structure for this problem. I will attach my code for how I captured the data and the format for the files below.</p>\n<p>File formats:</p>\n<p>Activity File:</p>\n<pre><code>Winston, William, Bought Samsung Galaxy Watch 4 \nThomas, Williams, Watching Blackout on Netflix \nJohn, Warren, Bought Samsung Galaxy Watch 4\nTanisha, Thompson, Listening I'll be with You by Grace Thrillers\nOwen, Mendez, Bought FitBit Charge 5\n</code></pre>\n<p>Person File:</p>\n<pre><code>Rajay, Mccalla, 3151288155, RaMccalla38@gmail.com, Hope Flat, Pap High, eGov, Bronks, N\n</code></pre>\n<p>Code:</p>\n<pre><code>public class InfoReader {\n\n    public void ReadInfo(){\n        //find file with person data\n        try {\n            String fileLocation = File.separator + &quot;Users&quot; + File.separator + &quot;user&quot; + File.separator + &quot;Downloads&quot; + File.separator + &quot;SamplefilePersons2022Oct31text.csv&quot;;\n\n            File personList = new File(fileLocation);\n            //scanner to read from file\n            Scanner personScanner = new Scanner(personList);\n\n            while (personScanner.hasNextLine()) {\n                String nextline = personScanner.nextLine();\n                // split file into parts\n                String[] personComponents = nextline.split(&quot;,&quot;);\n                //get components of Persons\n                String firstname = personComponents[0];\n                String lastname = personComponents[1];\n                String phone = personComponents[2];\n                String email = personComponents[3];\n                String community = personComponents[4];\n                String school = personComponents[5];\n                String employer = personComponents[6];\n                String privacy = personComponents[7];\n\n                //creating new person\n                Person newPerson = new Person();\n\n                //set data attributes for persons as we read from file\n                newPerson.setFirstname(firstname);\n                newPerson.setLastname(lastname);\n                newPerson.setPhone(phone);\n                newPerson.setEmail(email);\n                newPerson.setCommunity(community);\n                newPerson.setSchool(school);\n                newPerson.setEmployer(employer);\n                newPerson.setPrivacy(privacy);\n                //System.out.println(newPerson);\n\n            }\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        //find file with activity data\n        try {\n            String fileLocation = File.separator + &quot;Users&quot; + File.separator + &quot;user&quot; + File.separator + &quot;Downloads&quot; + File.separator + &quot;SamplefileActivities2022Oct31text.csv&quot;;\n\n            File activityList = new File(fileLocation);\n            //scanner to read from file\n            Scanner activityScanner = new Scanner(activityList);\n            while (activityScanner.hasNextLine()) {\n                String nextLine = activityScanner.nextLine();\n                // split file into parts\n                String[] activityComponents = nextLine.split(&quot;,&quot;);\n                //get components of Persons Activities\n                String firstname = activityComponents[0];\n                String lastname = activityComponents[1];\n                String Activity = activityComponents[2];\n                //creating new person activity\n                Activities newActivity = new Activities();\n                //set data attributes for persons as we read from file\n                newActivity.setFirstname(firstname);\n                newActivity.setLastname(lastname);\n                newActivity.setActivity(Activity);\n                //System.out.println(newActivity);\n            }\n        }catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","universe","u2"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659363149,"post_id":73192672,"comment_id":129270521,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":26981137,"reputation":1,"user_id":20545477,"display_name":"user20545477"},"score":0,"creation_date":1669302531,"post_id":74497928,"comment_id":131617925,"body_markdown":"URL should be in below format\n\nspring.datasource.url=jdbc:rs-u2://hostname//Account?dbmstype=UNIDATA\n\nDailect will be \n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.DB2Dialect\n\nyou can see the more information regarding Dailect class in below url\n\nhttps://ri-doc-lts-html5.identitymgmt.net/en/jdbc-drivers.html","body":"URL should be in below format  spring.datasource.url=jdbc:rs-u2://hostname//Account?dbmstyp&zwnj;&#8203;e=UNIDATA  Dailect will be   spring.jpa.properties.hibernate.dialect=org.hibernate.dialec&zwnj;&#8203;t.DB2Dialect  you can see the more information regarding Dailect class in below url  <a href=\"https://ri-doc-lts-html5.identitymgmt.net/en/jdbc-drivers.html\" rel=\"nofollow noreferrer\">ri-doc-lts-html5.identitymgmt.net/en/jdbc-drivers.html</a>"}],"tags":[],"owner":{"account_id":26981137,"reputation":1,"user_id":20545477,"display_name":"user20545477"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668838495,"creation_date":1668838495,"answer_id":74497928,"question_id":73192672,"body_markdown":"STEP 1: Install Rocket software and download unijdbc&lt;latest-version&gt;.jar(you can find the jar inside the path \\U2\\UniDK\\jdbc\\lib).\r\n\r\nSTEP 2 : Create Lib folder in your spring boot project and put the jar inside the folder. \r\n\r\nSTEP 3 : go to pom.xml file and add below dependency    \r\n\r\n     &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;uni-jdbc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;uni-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.161.2&lt;/version&gt;\r\n    \t\t&lt;scope&gt;system&lt;/scope&gt;\r\n    \t\t&lt;systemPath&gt;${project.basedir}/libs/uni-jdbc.jar&lt;/systemPath&gt;\r\n     &lt;/dependency&gt;\r\n\r\nSTEP 4 : In application.properties file provide the datasourse details.\r\n\r\n         spring.datasource.url=jdbc:rs-u2://hostname/Account?dbmstype=UNIDATA\r\n         spring.datasource.username=username\r\n         spring.datasource.password=Password\r\n         spring.datasource.driver-class-name=com.rs.u2.jdbc.UniJDBCDriver\r\n\r\nMake sure your URL details is correct.\r\njdbc:rs-u2://&quot;+host+&quot;/&quot;+account+&quot;?dbmstype=&quot;+dbmstype+\r\n\r\nSTEP 5: to check the connection, run your application in debug level by adding below properties in application.properties.\r\n\r\nlogging.level.com.zaxxer.hikari=DEBUG \r\n\r\n","title":"How to connect Spring boot application with U2 universe database?","body":"<p>STEP 1: Install Rocket software and download unijdbc.jar(you can find the jar inside the path \\U2\\UniDK\\jdbc\\lib).</p>\n<p>STEP 2 : Create Lib folder in your spring boot project and put the jar inside the folder.</p>\n<p>STEP 3 : go to pom.xml file and add below dependency</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;uni-jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;uni-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;2.161.2&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/libs/uni-jdbc.jar&lt;/systemPath&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>STEP 4 : In application.properties file provide the datasourse details.</p>\n<pre><code>     spring.datasource.url=jdbc:rs-u2://hostname/Account?dbmstype=UNIDATA\n     spring.datasource.username=username\n     spring.datasource.password=Password\n     spring.datasource.driver-class-name=com.rs.u2.jdbc.UniJDBCDriver\n</code></pre>\n<p>Make sure your URL details is correct.\njdbc:rs-u2://&quot;+host+&quot;/&quot;+account+&quot;?dbmstype=&quot;+dbmstype+</p>\n<p>STEP 5: to check the connection, run your application in debug level by adding below properties in application.properties.</p>\n<p>logging.level.com.zaxxer.hikari=DEBUG</p>\n"}],"owner":{"account_id":25946781,"reputation":1,"user_id":19665413,"display_name":"herv&#233; 2 iko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668838495,"creation_date":1659351301,"question_id":73192672,"body_markdown":"I am using Spring boot version 2.6 , i want to use U2 universe as database. My question is how to setting a connection in application.properties?","title":"How to connect Spring boot application with U2 universe database?","body":"<p>I am using Spring boot version 2.6 , i want to use U2 universe as database. My question is how to setting a connection in application.properties?</p>\n"},{"tags":["java","javafx","fullscreen","game-development"],"answers":[{"comments":[{"owner":{"account_id":25060162,"reputation":59,"user_id":18969521,"display_name":"Providence"},"score":0,"creation_date":1668916792,"post_id":74497881,"comment_id":131521212,"body_markdown":"I understand where you&#39;re coming from. Maybe the title is inaccurate to the problem. What I&#39;m getting is adding ```inputBar``` to both ```getChildren()``` and ```setBottom()``` is what&#39;s causing the duplicate error issue. So going deeper into this, the ```BorderPane``` is needed within the class just for it to function properly I&#39;m guessing? thus having ```BorderPane``` in the actual ```Parent``` method causing the similar duplicate issue?","body":"I understand where you&#39;re coming from. Maybe the title is inaccurate to the problem. What I&#39;m getting is adding <code>inputBar</code> to both <code>getChildren()</code> and <code>setBottom()</code> is what&#39;s causing the duplicate error issue. So going deeper into this, the <code>BorderPane</code> is needed within the class just for it to function properly I&#39;m guessing? thus having <code>BorderPane</code> in the actual <code>Parent</code> method causing the similar duplicate issue?"},{"owner":{"account_id":25060162,"reputation":59,"user_id":18969521,"display_name":"Providence"},"score":0,"creation_date":1668917453,"post_id":74497881,"comment_id":131521257,"body_markdown":"to add on to this, the console works when it&#39;s made as a ```Parent``` method. I&#39;m getting size working for it as a class but the layout is the issue now as it only shows a white screen.","body":"to add on to this, the console works when it&#39;s made as a <code>Parent</code> method. I&#39;m getting size working for it as a class but the layout is the issue now as it only shows a white screen."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1668930523,"post_id":74497881,"comment_id":131522508,"body_markdown":"For this issue, there is nothing deeper.  You can&#39;t add a node to the scene graph more than once.  If you try to do so, sometimes the system will detect it and throw an exception, as you have seen in this question, sometimes it will silently remove the node from some place in the scene graph and move it somewhere else.  This is documented in the node and [scene javadoc](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/package-summary.html).","body":"For this issue, there is nothing deeper.  You can&#39;t add a node to the scene graph more than once.  If you try to do so, sometimes the system will detect it and throw an exception, as you have seen in this question, sometimes it will silently remove the node from some place in the scene graph and move it somewhere else.  This is documented in the node and <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/package-summary.html\" rel=\"nofollow noreferrer\">scene javadoc</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668930663,"post_id":74497881,"comment_id":131522527,"body_markdown":"With regards to the remainder of your code in the question, as I noted, there is a lot of it and I won&#39;t discuss it here at this time, I just don&#39;t think I would be able to assist with it easily and stackoverflow isn&#39;t really setup for that.  If you have further queries, my advice is that you can always ask new questions, if you do so, please keep them focused to a single specific question with a good title and provide a [mcve], which is minimal and replicates any issue via copy and paste (no addition).  Doing so will allow you to get more higher quality answers.","body":"With regards to the remainder of your code in the question, as I noted, there is a lot of it and I won&#39;t discuss it here at this time, I just don&#39;t think I would be able to assist with it easily and stackoverflow isn&#39;t really setup for that.  If you have further queries, my advice is that you can always ask new questions, if you do so, please keep them focused to a single specific question with a good title and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which is minimal and replicates any issue via copy and paste (no addition).  Doing so will allow you to get more higher quality answers."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668837663,"creation_date":1668837663,"answer_id":74497881,"question_id":74497798,"body_markdown":"There is a lot of code in your question, most is irrelevant to your issue, so I won’t discuss it here.  In particular your problem has nothing to do with scaling.\r\n\r\nThe error message tells you what you did wrong:\r\n\r\n    duplicate children added: parent = BorderPane\r\n\r\nThe code which caused that is this:\r\n\r\n    this.root = new BorderPane();\r\n    // . . .\r\n    root.getChildren().addAll(\r\n        console, \r\n        scroll, \r\n        inputBar\r\n    );\r\n    root.setBottom(inputBar);\r\n\r\nYou added `inputBar` to the `root` BorderPane twice.\r\n\r\nI don’t advise adding to the children of a border pane directly either.  Instead, use the positional setters on the borderPane to set the positions of the children (those setters will internally add the set nodes as children).  Study the [`BorderPane`](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/BorderPane.html) documentation.","title":"Full screen scaling application JavaFX 8","body":"<p>There is a lot of code in your question, most is irrelevant to your issue, so I won’t discuss it here.  In particular your problem has nothing to do with scaling.</p>\n<p>The error message tells you what you did wrong:</p>\n<pre><code>duplicate children added: parent = BorderPane\n</code></pre>\n<p>The code which caused that is this:</p>\n<pre><code>this.root = new BorderPane();\n// . . .\nroot.getChildren().addAll(\n    console, \n    scroll, \n    inputBar\n);\nroot.setBottom(inputBar);\n</code></pre>\n<p>You added <code>inputBar</code> to the <code>root</code> BorderPane twice.</p>\n<p>I don’t advise adding to the children of a border pane directly either.  Instead, use the positional setters on the borderPane to set the positions of the children (those setters will internally add the set nodes as children).  Study the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/BorderPane.html\" rel=\"nofollow noreferrer\"><code>BorderPane</code></a> documentation.</p>\n"}],"owner":{"account_id":25060162,"reputation":59,"user_id":18969521,"display_name":"Providence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668837663,"creation_date":1668836307,"question_id":74497798,"body_markdown":"this is going to be a second part to my first post about full screening.\r\n\r\n[Scaling start screen with full screen in JavaFX][1] \r\n\r\nWith a little bit of tweaking the start screen scales when full screen but now, I can&#39;t seem to get the game itself to scale correctly.\r\n\r\n    package application.console;\r\n\r\n    import java.util.List;\r\n\r\n    import application.areas.startingArea.SA;\r\n    import application.areas.vanguardForest.VFCmds;\r\n    import application.areas.vanguardForest.VFNavi;\r\n    import application.areas.vanguardForest.VFPkups;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.scene.control.ScrollPane;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.control.ScrollPane.ScrollBarPolicy;\r\n    import javafx.scene.layout.Background;\r\n    import javafx.scene.layout.BackgroundFill;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.Region;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.text.Font;\r\n    import javafx.scene.text.Text;\r\n\r\n    public class Console extends Region {\r\n\r\n    \tpublic static double WIDTH = 990;\r\n    \tpublic static double HEIGHT = 525;\r\n    \t\r\n    \tprivate final Font cinzel;\r\n    \t\r\n    \tprivate final BorderPane root;\r\n    \t\r\n    \tprivate final VBox console;\r\n    \tprivate final ScrollPane scroll;\r\n    \t\r\n    \tprivate final HBox inputBar;\r\n    \tprivate final TextField input;\r\n    \tprivate final Text carrot;\r\n    \t\r\n    \tpublic Console() {\r\n    \t\tthis.root = new BorderPane();\r\n    \t\troot.setStyle(&quot;-fx-background-color: #232323;&quot;);\r\n    \t\t\r\n    \t\tthis.cinzel = Font.loadFont(&quot;file:fonts/static/Cinzel-Medium.ttf&quot;, 16);\r\n    \t\t\r\n    \t\tthis.console = new VBox();\r\n    \t\tconsole.setPrefWidth(WIDTH);\r\n    \t\tconsole.setPrefHeight(HEIGHT);\r\n    \t\t\r\n    \t\tthis.scroll = new ScrollPane();\r\n    \t\tscroll.setContent(console);\r\n    \t\tscroll.setStyle(&quot;-fx-background: #232323;&quot;\r\n    \t\t\t\t+ &quot;-fx-background-color: transparent;&quot;\r\n    \t\t\t\t+ &quot;-fx-border-color: #232323;&quot;\r\n    \t\t\t\t+ &quot;-fx-focus-color: #232323;&quot;);\r\n    \t\tscroll.setHbarPolicy(ScrollBarPolicy.NEVER);\r\n    \t\tscroll.setVbarPolicy(ScrollBarPolicy.NEVER);\r\n    \t\tscroll.setBackground(new Background(new BackgroundFill(Color.TRANSPARENT, null, null)));\r\n    \t\t\r\n    \t\tconsole.setStyle(&quot;-fx-background-color: #232323;&quot;\r\n    \t\t\t\t+ &quot;-fx-focus-color: #232323;&quot;);\r\n    \t\t\r\n    \t\tconsole.heightProperty().addListener(new ChangeListener&lt;Object&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void changed(ObservableValue&lt;?&gt; observable, Object oldValue, Object newValue) {\r\n    \t\t\t\t\r\n    \t\t\t\tscroll.setVvalue((Double)newValue);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t});\r\n    \t\t\r\n    \t\tthis.inputBar = new HBox();\r\n    \t\tinputBar.setPrefSize(WIDTH, 16);\r\n    \t\t\r\n    \t\tthis.input = new TextField();\r\n    \t\tinput.setStyle(&quot;-fx-background-color: transparent;&quot;\r\n    \t\t\t\t+ &quot;-fx-text-fill: #FFFFFF;&quot;\r\n    \t\t\t\t+ &quot;-fx-highlight-fill: #FFFFFF;&quot;\r\n    \t\t\t\t+ &quot;-fx-highlight-text-fill: #232323;&quot;\r\n    \t\t\t\t);\r\n    \t\tinput.setFont(cinzel);\r\n    \t\tinput.setPrefWidth(WIDTH);\r\n    \t\t\r\n    \t\tthis.carrot = new Text(&quot; &gt; &quot;);\r\n    \t\tcarrot.setFont(Font.loadFont(&quot;file:fonts/static/Cinzel-Medium.ttf&quot;, 24));\r\n    \t\tcarrot.setFill(Color.WHITE);\r\n    \t\t\r\n    \t\t\r\n    \t\tinputBar.getChildren().addAll(carrot, input);\r\n    \t\t\r\n    \t\troot.setMinSize(WIDTH, (HEIGHT - input.getHeight()));\r\n    \t\t\r\n    \t\tinput.setOnAction(e -&gt; {\r\n    \t\t\t\r\n    \t\t\tString s = (input.getText()).stripTrailing();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tif ((SA.isBuried || SA.inVF) &amp;&amp; SS.gameStart) {\r\n    \t\t\t\tCmds.commands(s);\t//has general functions\r\n    \t\t\t\tVFCmds.commands(s); //doesn&#39;t have function until specific command \r\n    \t\t\t\tVFPkups.pickUp(s); //commands that allows pickups to be made within the game\r\n    \t\t\t\tVFNavi.commands(s); //commands navigation for selected area\r\n    \t\t\t} else {\r\n    \t\t\t\tCmds.commands(s);\r\n    \t\t\t}\r\n\r\n    \t\t\tinput.clear();\r\n    \t\t});\r\n    \t\t\r\n    \t\troot.getChildren().addAll(console, scroll, inputBar);\r\n    \t\troot.setBottom(inputBar);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override \r\n    \tprotected void layoutChildren() {\r\n    \t\tdouble xScale = getWidth() / root.getWidth();\r\n    \t\tdouble yScale = getHeight() / root.getHeight();\r\n    \t\tdouble scale = Math.min(xScale, yScale);\r\n    \t\t\r\n    \t\tfor (BorderPane bp : List.of(root)) {\r\n    \t\t\tscaleAndCenter(bp, scale); \r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (VBox vb : List.of(console)) {\r\n    \t\t\tscaleAndCenter(vb, scale);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (HBox hb : List.of(inputBar)) {\r\n    \t\t\tscaleAndCenter(hb, scale);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (ScrollPane sp : List.of(scroll)) {\r\n    \t\t\tscaleAndCenter(sp, scale); \r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (TextField tf : List.of(input)) {\r\n    \t\t\tscaleAndCenter(tf, scale);\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (Text text : List.of(carrot)) {\r\n    \t\t\tscaleAndCenter(text, scale); \r\n    \t\t}\r\n    \t}\r\n\r\n    \tprivate void scaleAndCenter(BorderPane root, double scale) {\r\n    \t\tdouble w = scale * root.getWidth();\r\n    \t\tdouble h = scale * root.getHeight();\r\n    \t\t\r\n\r\n    \t\troot.setPrefSize(w, h);\r\n    \t\troot.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\r\n    \t}\r\n    \t\r\n    \tprivate void scaleAndCenter(VBox vb, double scale) {\r\n    \t\tdouble w = scale * vb.getWidth();\r\n    \t\tdouble h = scale * vb.getHeight();\r\n    \t\t\r\n    \t\tvb.setPrefSize(w, h);\r\n    \t\tvb.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\r\n    \t}\r\n    \t\r\n    \tprivate void scaleAndCenter(HBox hb, double scale) {\r\n    \t\tdouble w = scale * hb.getWidth();\r\n    \t\tdouble h = scale * hb.getHeight();\r\n    \t\t\r\n    \t\thb.setPrefSize(w, h);\r\n    \t\thb.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\r\n    \t}\r\n    \t\r\n    \tprivate void scaleAndCenter(TextField input, double scale) {\r\n    \t\tdouble w = scale * input.getWidth();\r\n    \t\tdouble h = scale * input.getHeight();\r\n    \t\t\r\n    \t\tinput.setPrefSize(w, 16);\r\n    \t\tinput.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\r\n\r\n    \t}\r\n    \t\r\n    \tprivate void scaleAndCenter(ScrollPane scroll, double scale) {\r\n    \t\tdouble w = scale * scroll.getWidth();\r\n    \t\tdouble h = scale * scroll.getHeight();\r\n    \t\t\r\n    \t\tscroll.setPrefSize(w, h);\r\n    \t\tscroll.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\r\n    \t}\r\n    \t\r\n    \tprivate void scaleAndCenter(Text text, double scale) {\r\n    \t\tdouble w = scale * text.getLayoutBounds().getWidth();\r\n    \t\tdouble h = scale * text.getLayoutBounds().getHeight();\r\n    \t\tdouble size = scale * text.getFont().getSize();\r\n    \t\t\r\n    \t\ttext.setFont(Font.font(\r\n    \t\t\t\ttext.getFont().getFamily(),\r\n    \t\t\t\tsize));\r\n    \t\ttext.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\r\n    \t}\r\n    }\r\n\r\nDoing it this way, I get an error saying\r\n```\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalArgumentException: Children: duplicate children added: parent = BorderPane@56dca201\r\n```\r\n\r\nIf I were to remove the ```BorderPane``` from the class, it&#39;ll just show up a white window.\r\n\r\n    package application.console;\r\n\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.scene.layout.BorderPane;\r\n\r\n    public class game {\r\n\r\n    \tpublic static Parent runGame() {\r\n    \t\t\r\n    \t\tConsole c = new Console();\r\n    \t\tAnchorPane anchor = new AnchorPane(c); \r\n    \t\t\r\n    \t\tAnchorPane.setTopAnchor(c, 0.0);\r\n    \t\tAnchorPane.setRightAnchor(c, 0.0);\r\n    \t\tAnchorPane.setBottomAnchor(c, 0.0);\r\n    \t\tAnchorPane.setLeftAnchor(c, 0.0);\r\n    \t\t\r\n    \t\tBorderPane root = new BorderPane();\r\n    \t\troot.setCenter(anchor);\r\n    \t\t\r\n    \t\treturn root;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nReasoning onto why making it a ```Parent```: It allows me to turn it into a scene.(though there could be many different ways to do that) How would I implement full screening to the console and get it to show?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74397750/scaling-start-screen-with-fullscreen-javafx","title":"Full screen scaling application JavaFX 8","body":"<p>this is going to be a second part to my first post about full screening.</p>\n<p><a href=\"https://stackoverflow.com/questions/74397750/scaling-start-screen-with-fullscreen-javafx\">Scaling start screen with full screen in JavaFX</a></p>\n<p>With a little bit of tweaking the start screen scales when full screen but now, I can't seem to get the game itself to scale correctly.</p>\n<pre><code>package application.console;\n\nimport java.util.List;\n\nimport application.areas.startingArea.SA;\nimport application.areas.vanguardForest.VFCmds;\nimport application.areas.vanguardForest.VFNavi;\nimport application.areas.vanguardForest.VFPkups;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.scene.control.ScrollPane;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.ScrollPane.ScrollBarPolicy;\nimport javafx.scene.layout.Background;\nimport javafx.scene.layout.BackgroundFill;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Region;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\n\npublic class Console extends Region {\n\n    public static double WIDTH = 990;\n    public static double HEIGHT = 525;\n    \n    private final Font cinzel;\n    \n    private final BorderPane root;\n    \n    private final VBox console;\n    private final ScrollPane scroll;\n    \n    private final HBox inputBar;\n    private final TextField input;\n    private final Text carrot;\n    \n    public Console() {\n        this.root = new BorderPane();\n        root.setStyle(&quot;-fx-background-color: #232323;&quot;);\n        \n        this.cinzel = Font.loadFont(&quot;file:fonts/static/Cinzel-Medium.ttf&quot;, 16);\n        \n        this.console = new VBox();\n        console.setPrefWidth(WIDTH);\n        console.setPrefHeight(HEIGHT);\n        \n        this.scroll = new ScrollPane();\n        scroll.setContent(console);\n        scroll.setStyle(&quot;-fx-background: #232323;&quot;\n                + &quot;-fx-background-color: transparent;&quot;\n                + &quot;-fx-border-color: #232323;&quot;\n                + &quot;-fx-focus-color: #232323;&quot;);\n        scroll.setHbarPolicy(ScrollBarPolicy.NEVER);\n        scroll.setVbarPolicy(ScrollBarPolicy.NEVER);\n        scroll.setBackground(new Background(new BackgroundFill(Color.TRANSPARENT, null, null)));\n        \n        console.setStyle(&quot;-fx-background-color: #232323;&quot;\n                + &quot;-fx-focus-color: #232323;&quot;);\n        \n        console.heightProperty().addListener(new ChangeListener&lt;Object&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;?&gt; observable, Object oldValue, Object newValue) {\n                \n                scroll.setVvalue((Double)newValue);\n            }\n            \n        });\n        \n        this.inputBar = new HBox();\n        inputBar.setPrefSize(WIDTH, 16);\n        \n        this.input = new TextField();\n        input.setStyle(&quot;-fx-background-color: transparent;&quot;\n                + &quot;-fx-text-fill: #FFFFFF;&quot;\n                + &quot;-fx-highlight-fill: #FFFFFF;&quot;\n                + &quot;-fx-highlight-text-fill: #232323;&quot;\n                );\n        input.setFont(cinzel);\n        input.setPrefWidth(WIDTH);\n        \n        this.carrot = new Text(&quot; &gt; &quot;);\n        carrot.setFont(Font.loadFont(&quot;file:fonts/static/Cinzel-Medium.ttf&quot;, 24));\n        carrot.setFill(Color.WHITE);\n        \n        \n        inputBar.getChildren().addAll(carrot, input);\n        \n        root.setMinSize(WIDTH, (HEIGHT - input.getHeight()));\n        \n        input.setOnAction(e -&gt; {\n            \n            String s = (input.getText()).stripTrailing();\n            \n            \n            if ((SA.isBuried || SA.inVF) &amp;&amp; SS.gameStart) {\n                Cmds.commands(s);   //has general functions\n                VFCmds.commands(s); //doesn't have function until specific command \n                VFPkups.pickUp(s); //commands that allows pickups to be made within the game\n                VFNavi.commands(s); //commands navigation for selected area\n            } else {\n                Cmds.commands(s);\n            }\n\n            input.clear();\n        });\n        \n        root.getChildren().addAll(console, scroll, inputBar);\n        root.setBottom(inputBar);\n        \n    }\n    \n    @Override \n    protected void layoutChildren() {\n        double xScale = getWidth() / root.getWidth();\n        double yScale = getHeight() / root.getHeight();\n        double scale = Math.min(xScale, yScale);\n        \n        for (BorderPane bp : List.of(root)) {\n            scaleAndCenter(bp, scale); \n        }\n        \n        for (VBox vb : List.of(console)) {\n            scaleAndCenter(vb, scale);\n        }\n        \n        for (HBox hb : List.of(inputBar)) {\n            scaleAndCenter(hb, scale);\n        }\n        \n        for (ScrollPane sp : List.of(scroll)) {\n            scaleAndCenter(sp, scale); \n        }\n        \n        for (TextField tf : List.of(input)) {\n            scaleAndCenter(tf, scale);\n        }\n        \n        for (Text text : List.of(carrot)) {\n            scaleAndCenter(text, scale); \n        }\n    }\n\n    private void scaleAndCenter(BorderPane root, double scale) {\n        double w = scale * root.getWidth();\n        double h = scale * root.getHeight();\n        \n\n        root.setPrefSize(w, h);\n        root.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\n    }\n    \n    private void scaleAndCenter(VBox vb, double scale) {\n        double w = scale * vb.getWidth();\n        double h = scale * vb.getHeight();\n        \n        vb.setPrefSize(w, h);\n        vb.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\n    }\n    \n    private void scaleAndCenter(HBox hb, double scale) {\n        double w = scale * hb.getWidth();\n        double h = scale * hb.getHeight();\n        \n        hb.setPrefSize(w, h);\n        hb.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\n    }\n    \n    private void scaleAndCenter(TextField input, double scale) {\n        double w = scale * input.getWidth();\n        double h = scale * input.getHeight();\n        \n        input.setPrefSize(w, 16);\n        input.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\n\n    }\n    \n    private void scaleAndCenter(ScrollPane scroll, double scale) {\n        double w = scale * scroll.getWidth();\n        double h = scale * scroll.getHeight();\n        \n        scroll.setPrefSize(w, h);\n        scroll.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\n    }\n    \n    private void scaleAndCenter(Text text, double scale) {\n        double w = scale * text.getLayoutBounds().getWidth();\n        double h = scale * text.getLayoutBounds().getHeight();\n        double size = scale * text.getFont().getSize();\n        \n        text.setFont(Font.font(\n                text.getFont().getFamily(),\n                size));\n        text.relocate((getWidth() - w) / 2, (getHeight() - h) / 2);\n    }\n}\n</code></pre>\n<p>Doing it this way, I get an error saying</p>\n<pre><code>Caused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@18.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalArgumentException: Children: duplicate children added: parent = BorderPane@56dca201\n</code></pre>\n<p>If I were to remove the <code>BorderPane</code> from the class, it'll just show up a white window.</p>\n<pre><code>package application.console;\n\nimport javafx.scene.Parent;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.BorderPane;\n\npublic class game {\n\n    public static Parent runGame() {\n        \n        Console c = new Console();\n        AnchorPane anchor = new AnchorPane(c); \n        \n        AnchorPane.setTopAnchor(c, 0.0);\n        AnchorPane.setRightAnchor(c, 0.0);\n        AnchorPane.setBottomAnchor(c, 0.0);\n        AnchorPane.setLeftAnchor(c, 0.0);\n        \n        BorderPane root = new BorderPane();\n        root.setCenter(anchor);\n        \n        return root;\n    }\n    \n}\n</code></pre>\n<p>Reasoning onto why making it a <code>Parent</code>: It allows me to turn it into a scene.(though there could be many different ways to do that) How would I implement full screening to the console and get it to show?</p>\n"},{"tags":["java","eclipse","scala","maven","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":257549,"reputation":4998,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"score":0,"creation_date":1614295089,"post_id":48094748,"comment_id":117349799,"body_markdown":"The last bit (adding an explicit `jackson-module-scala` dependency is the best option because it lets you use an arbitrary version of Jackson and Scala together, instead of being at the mercy of whatever Jackson version a specific version of Scala defaults to.","body":"The last bit (adding an explicit <code>jackson-module-scala</code> dependency is the best option because it lets you use an arbitrary version of Jackson and Scala together, instead of being at the mercy of whatever Jackson version a specific version of Scala defaults to."}],"tags":[],"owner":{"account_id":319648,"reputation":6146,"user_id":637517,"accept_rate":85,"display_name":"subodh"},"comment_count":1,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1517291728,"creation_date":1515066958,"answer_id":48094748,"question_id":47951910,"body_markdown":"Spark 2.x contains the `jackson 2.6.5`  and `neo4j-jdbc-driver` uses `jackson 2.8.8` version, here the dependency conflict between two different version of jackson library.\r\nThat&#39;s why you are getting this `Incompatible Jackson version: 2.8.8` error.\r\n\r\nTry to override the dependency version for these[below] modules inside your `pom.xml` and see if works,\r\n\r\n 1. jackson-core\r\n 2. jackson-databind\r\n 3. jackson-module-scala_2.x\r\n\r\nor try adding below dependency into your pom.xml \r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-module-scala_2.11&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.8.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt; \r\n\r\n ","title":"Spark2.2.1 incompatible Jackson version 2.8.8","body":"<p>Spark 2.x contains the <code>jackson 2.6.5</code>  and <code>neo4j-jdbc-driver</code> uses <code>jackson 2.8.8</code> version, here the dependency conflict between two different version of jackson library.\nThat's why you are getting this <code>Incompatible Jackson version: 2.8.8</code> error.</p>\n\n<p>Try to override the dependency version for these[below] modules inside your <code>pom.xml</code> and see if works,</p>\n\n<ol>\n<li>jackson-core</li>\n<li>jackson-databind</li>\n<li>jackson-module-scala_2.x</li>\n</ol>\n\n<p>or try adding below dependency into your pom.xml </p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-scala_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.8.8&lt;/version&gt;\n        &lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12696761,"reputation":215,"user_id":9224959,"display_name":"Lorenz Bernauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516115155,"creation_date":1516115155,"answer_id":48284244,"question_id":47951910,"body_markdown":"I did run into the same version conflict of Jackson. In addition to override jackson-core, jackson-databind, jackson-module-scala_2.x, I also defined jackson-annotations in my pom.xml, which solved the conflict. ","title":"Spark2.2.1 incompatible Jackson version 2.8.8","body":"<p>I did run into the same version conflict of Jackson. In addition to override jackson-core, jackson-databind, jackson-module-scala_2.x, I also defined jackson-annotations in my pom.xml, which solved the conflict. </p>\n"},{"tags":[],"owner":{"account_id":241000,"reputation":815,"user_id":511554,"accept_rate":0,"display_name":"David Urry"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1569805236,"creation_date":1569805236,"answer_id":58160367,"question_id":47951910,"body_markdown":"Scala version 2.1.1 works with Jackson 2.6.5.  Use the following:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t        &lt;version&gt;2.6.5&lt;/version&gt;\r\n\t    &lt;/dependency&gt;","title":"Spark2.2.1 incompatible Jackson version 2.8.8","body":"<p>Scala version 2.1.1 works with Jackson 2.6.5.  Use the following:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.6.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180874,"reputation":873,"user_id":1196458,"display_name":"Ankur Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573103657,"creation_date":1573103657,"answer_id":58742323,"question_id":47951910,"body_markdown":"    Below is the combination that worked for me .\r\n    \r\n     aws-java-sdk-1.7.4.jar\r\n     hadoop-aws-2.7.3.jar\r\n     joda-time-2.9.6.jar\r\n     hadoop-client-2.7.3-sources.jar\r\n     hadoop-client-2.7.3.jar\r\n     hadoop-client-2.6.0-javadoc.jar\r\n     hadoop-client-2.6.0.jar\r\n     jets3t-0.9.4.jar\r\n     jackson-core-2.10.0.jar\r\n     jackson-databind-2.8.6.jar\r\n     jackson-module-scala_2.11-2.8.5.jar\r\n     jackson-annotations-2.8.7.jar","title":"Spark2.2.1 incompatible Jackson version 2.8.8","body":"<pre><code>Below is the combination that worked for me .\n\n aws-java-sdk-1.7.4.jar\n hadoop-aws-2.7.3.jar\n joda-time-2.9.6.jar\n hadoop-client-2.7.3-sources.jar\n hadoop-client-2.7.3.jar\n hadoop-client-2.6.0-javadoc.jar\n hadoop-client-2.6.0.jar\n jets3t-0.9.4.jar\n jackson-core-2.10.0.jar\n jackson-databind-2.8.6.jar\n jackson-module-scala_2.11-2.8.5.jar\n jackson-annotations-2.8.7.jar\n</code></pre>\n"},{"comments":[{"owner":{"account_id":318130,"reputation":4243,"user_id":635171,"accept_rate":78,"display_name":"Arun Manivannan"},"score":0,"creation_date":1600789401,"post_id":61339354,"comment_id":113195992,"body_markdown":"You saved me a ton of time ! Thanks !","body":"You saved me a ton of time ! Thanks !"}],"tags":[],"owner":{"account_id":944832,"reputation":634,"user_id":972272,"display_name":"Friggles"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1587458580,"creation_date":1587458580,"answer_id":61339354,"question_id":47951910,"body_markdown":"Not sure if this helps anyone whos had the problem with an sbt project thats using scala 2.12. Putting in **jackson-module-scala_2.11** doesn&#39;t quite work. There a single version of jackson-module-scala 2.6.7 that has a scala 2.12 build\r\n\r\nFollowing line in build.sbt worked\r\n\r\n\r\n    dependencyOverrides ++= {\r\n      Seq(\r\n        &quot;com.fasterxml.jackson.module&quot; %% &quot;jackson-module-scala&quot; % &quot;2.6.7.1&quot;,\r\n        &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-databind&quot; % &quot;2.6.7&quot;,\r\n        &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-core&quot; % &quot;2.6.7&quot;\r\n      )\r\n    }\r\n\r\n\r\n\r\nThis fixed the problem for spark 2.4.5\r\n","title":"Spark2.2.1 incompatible Jackson version 2.8.8","body":"<p>Not sure if this helps anyone whos had the problem with an sbt project thats using scala 2.12. Putting in <strong>jackson-module-scala_2.11</strong> doesn't quite work. There a single version of jackson-module-scala 2.6.7 that has a scala 2.12 build</p>\n\n<p>Following line in build.sbt worked</p>\n\n<pre><code>dependencyOverrides ++= {\n  Seq(\n    \"com.fasterxml.jackson.module\" %% \"jackson-module-scala\" % \"2.6.7.1\",\n    \"com.fasterxml.jackson.core\" % \"jackson-databind\" % \"2.6.7\",\n    \"com.fasterxml.jackson.core\" % \"jackson-core\" % \"2.6.7\"\n  )\n}\n</code></pre>\n\n<p>This fixed the problem for spark 2.4.5</p>\n"},{"tags":[],"owner":{"account_id":8859262,"reputation":405,"user_id":6615961,"display_name":"Zied Yazidi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632956238,"creation_date":1632956238,"answer_id":69384173,"question_id":47951910,"body_markdown":"**Explanation:** \r\n\r\nThis exception occurs when there is a dependency conflict between two different versions of the Jackson library.\r\n\r\nTo resolve conflicts maven proceeds as follows:\r\n\r\n 1. It uses a a nearest-wins strategy.\r\n 2. If dependencies are on the same level, in that case maven would resolve the conflict by simply using the one, which has a higher position in pom.\r\n\r\nThis can lead to picking to wrong Jackson version.\r\n\r\n**Solution:**\r\n\r\nTo detect the conflict, you can use in intelliJ the plugin [Maven Helper][1]. It will allow you to exclude conflictuel dependencies using the `&lt;exclusions&gt;` element in the &lt;dependency&gt; element by which the problematic jar is included.\r\n\r\n\r\n**Note**: \r\nThis error can also happen when trying to launch a spark Job on cluster mode. In this case, you have to specify explicitally the jar using the **spark.driver.extraClassPath** and **spark.executor.extraClassPath** configurations with the **spark-submit** command.\r\n\r\n    --conf spark.driver.extraClassPath\r\n    --conf spark.executor.extraClassPath\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/7179-maven-helper","title":"Spark2.2.1 incompatible Jackson version 2.8.8","body":"<p><strong>Explanation:</strong></p>\n<p>This exception occurs when there is a dependency conflict between two different versions of the Jackson library.</p>\n<p>To resolve conflicts maven proceeds as follows:</p>\n<ol>\n<li>It uses a a nearest-wins strategy.</li>\n<li>If dependencies are on the same level, in that case maven would resolve the conflict by simply using the one, which has a higher position in pom.</li>\n</ol>\n<p>This can lead to picking to wrong Jackson version.</p>\n<p><strong>Solution:</strong></p>\n<p>To detect the conflict, you can use in intelliJ the plugin <a href=\"https://plugins.jetbrains.com/plugin/7179-maven-helper\" rel=\"nofollow noreferrer\">Maven Helper</a>. It will allow you to exclude conflictuel dependencies using the <code>&lt;exclusions&gt;</code> element in the  element by which the problematic jar is included.</p>\n<p><strong>Note</strong>:\nThis error can also happen when trying to launch a spark Job on cluster mode. In this case, you have to specify explicitally the jar using the <strong>spark.driver.extraClassPath</strong> and <strong>spark.executor.extraClassPath</strong> configurations with the <strong>spark-submit</strong> command.</p>\n<pre><code>--conf spark.driver.extraClassPath\n--conf spark.executor.extraClassPath\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6743109,"reputation":251,"user_id":5195636,"display_name":"J.Hammond"},"score":0,"creation_date":1671727780,"post_id":74497866,"comment_id":132164847,"body_markdown":"I was getting error:  Incompatible Jackson version: 2.12.7-1  and this 2.14.0 version of jackson-module-scala worked for me as well.","body":"I was getting error:  Incompatible Jackson version: 2.12.7-1  and this 2.14.0 version of jackson-module-scala worked for me as well."}],"tags":[],"owner":{"account_id":8724588,"reputation":11,"user_id":6526585,"display_name":"rajashree"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668837400,"creation_date":1668837400,"answer_id":74497866,"question_id":47951910,"body_markdown":"I was getting error Incompatible Jackson version: 2.9.9-3\r\n\r\nI added \r\nlibraryDependencies += &quot;com.fasterxml.jackson.module&quot; %% &quot;jackson-module-scala&quot; % &quot;2.14.0&quot; in build.sbt\r\n.build project(Build =&gt; Rebuild project)\r\n.Invalidate and restart(file=&gt;Invalidate cache)\r\nit&#39;s worked for me","title":"Spark2.2.1 incompatible Jackson version 2.8.8","body":"<p>I was getting error Incompatible Jackson version: 2.9.9-3</p>\n<p>I added\nlibraryDependencies += &quot;com.fasterxml.jackson.module&quot; %% &quot;jackson-module-scala&quot; % &quot;2.14.0&quot; in build.sbt\n.build project(Build =&gt; Rebuild project)\n.Invalidate and restart(file=&gt;Invalidate cache)\nit's worked for me</p>\n"}],"owner":{"account_id":2811698,"reputation":435,"user_id":2418162,"accept_rate":50,"display_name":"Fobi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38555,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":7,"score":20,"last_activity_date":1668837400,"creation_date":1514026738,"question_id":47951910,"body_markdown":"My configuration is:\r\n\r\n- Scala 2.11 (plugin Scala IDE)\r\n- Eclipse Neon.3 Release (4.6.3)\r\n- Windows 7 64bit\r\n\r\nI want run this simple scala code (Esempio.scala):\r\n\r\n    package it.scala\r\n\r\n    // importo packages di Spark\r\n    import org.apache.spark.SparkContext\r\n    import org.apache.spark.SparkConf\r\n\r\n \r\n    object Wordcount {\r\n        def main(args: Array[String]) {\r\n   \r\n            val inputs: Array[String] = new Array[String](2)\r\n            inputs(0) = &quot;C:\\\\Users\\\\FobiDell\\\\Desktop\\\\input&quot;\r\n            inputs(1) = &quot;C:\\\\Users\\\\FobiDell\\\\Desktop\\\\output&quot;\r\n   \r\n            // oggetto SparkConf per settare i parametri sulla propria applicazione \r\n            // da fornire poi al cluster manager scelto (Yarn, Mesos o Standalone).\r\n            val conf = new SparkConf()\r\n            conf.setAppName(&quot;Smartphone Addiction&quot;)\r\n            conf.setMaster(&quot;local&quot;)\r\n   \r\n            // oggetto SparkContext per connessione al cluster manager scelto\r\n            val sc = new SparkContext(conf)\r\n   \r\n            //Read file and create RDD\r\n            val rawData = sc.textFile(inputs(0))\r\n  \r\n            //convert the lines into words using flatMap operation\r\n            val words = rawData.flatMap(line =&gt; line.split(&quot; &quot;))\r\n  \r\n            //count the individual words using map and reduceByKey operation\r\n            val wordCount = words.map(word =&gt; (word, 1)).reduceByKey(_ + _)\r\n  \r\n            //Save the result\r\n            wordCount.saveAsTextFile(inputs(1))\r\n \r\n           //stop the spark context\r\n           sc.stop\r\n    \r\n       }\r\n  \r\n    }\r\n\r\nSo, if I use the Spark-shell everything is ok otherwise, from Eclipse IDE, if I select the file (Esempio.scala) and run it via Run-&gt;Run as-&gt;Scala application, I obtain this Exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\t    at org.apache.spark.SparkContext.withScope(SparkContext.scala:701)\r\n\t    at org.apache.spark.SparkContext.textFile(SparkContext.scala:830)\r\n\t    at it.scala.Wordcount$.main(Esempio.scala:47)\r\n\t    at it.scala.Wordcount.main(Esempio.scala)\r\n    Caused by: com.fasterxml.jackson.databind.JsonMappingException: Incompatible Jackson version: 2.8.8\r\n\t    at com.fasterxml.jackson.module.scala.JacksonModule$class.setupModule(JacksonModule.scala:64)\r\n\t    at com.fasterxml.jackson.module.scala.DefaultScalaModule.setupModule(DefaultScalaModule.scala:19)\r\n\t    at com.fasterxml.jackson.databind.ObjectMapper.registerModule(ObjectMapper.java:745)\r\n\t    at org.apache.spark.rdd.RDDOperationScope$.&lt;init&gt;(RDDOperationScope.scala:82)\r\n\t    at org.apache.spark.rdd.RDDOperationScope$.&lt;clinit&gt;(RDDOperationScope.scala)\r\n\t    ... 4 more  \r\n\r\nMy pom.xml file is:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n      &lt;groupId&gt;it.hgfhgf.xhgfghf&lt;/groupId&gt;\r\n      &lt;artifactId&gt;progetto&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n      &lt;name&gt;progetto&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n      &lt;properties&gt;\r\n         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Neo4j JDBC DRIVER --&gt;\r\n        &lt;dependency&gt;\r\n    \t  &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;neo4j-jdbc-driver&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Scala --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n          &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n          &lt;version&gt;2.11.11&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n\r\n\t    &lt;!-- Spark --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n          &lt;version&gt;2.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    \r\n      &lt;/dependencies&gt;\r\n  \r\n  \r\n    &lt;/project&gt;\r\n\r\n\r\nI noticed that the .jar files that are into spark-2.2.1-bin-hadoop2.7/jars directory are: \r\n\r\n- jackson-core-2.6.5.jar\r\n- jackson-databind-2.6.5.jar\r\n- jackson-module-paranamer-2.6.5.jar\r\n- jackson-module-scala_2.11-2.6.5.jar\r\n- jackson-annotations-2.6.5.jar\r\n\r\nCan anyone explain to me in simple terms what this exception is and how can it be resolved?\r\n\r\n\r\n\r\n\r\n","title":"Spark2.2.1 incompatible Jackson version 2.8.8","body":"<p>My configuration is:</p>\n\n<ul>\n<li>Scala 2.11 (plugin Scala IDE)</li>\n<li>Eclipse Neon.3 Release (4.6.3)</li>\n<li>Windows 7 64bit</li>\n</ul>\n\n<p>I want run this simple scala code (Esempio.scala):</p>\n\n<pre><code>package it.scala\n\n// importo packages di Spark\nimport org.apache.spark.SparkContext\nimport org.apache.spark.SparkConf\n\n\nobject Wordcount {\n    def main(args: Array[String]) {\n\n        val inputs: Array[String] = new Array[String](2)\n        inputs(0) = \"C:\\\\Users\\\\FobiDell\\\\Desktop\\\\input\"\n        inputs(1) = \"C:\\\\Users\\\\FobiDell\\\\Desktop\\\\output\"\n\n        // oggetto SparkConf per settare i parametri sulla propria applicazione \n        // da fornire poi al cluster manager scelto (Yarn, Mesos o Standalone).\n        val conf = new SparkConf()\n        conf.setAppName(\"Smartphone Addiction\")\n        conf.setMaster(\"local\")\n\n        // oggetto SparkContext per connessione al cluster manager scelto\n        val sc = new SparkContext(conf)\n\n        //Read file and create RDD\n        val rawData = sc.textFile(inputs(0))\n\n        //convert the lines into words using flatMap operation\n        val words = rawData.flatMap(line =&gt; line.split(\" \"))\n\n        //count the individual words using map and reduceByKey operation\n        val wordCount = words.map(word =&gt; (word, 1)).reduceByKey(_ + _)\n\n        //Save the result\n        wordCount.saveAsTextFile(inputs(1))\n\n       //stop the spark context\n       sc.stop\n\n   }\n\n}\n</code></pre>\n\n<p>So, if I use the Spark-shell everything is ok otherwise, from Eclipse IDE, if I select the file (Esempio.scala) and run it via Run->Run as->Scala application, I obtain this Exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ExceptionInInitializerError\n    at org.apache.spark.SparkContext.withScope(SparkContext.scala:701)\n    at org.apache.spark.SparkContext.textFile(SparkContext.scala:830)\n    at it.scala.Wordcount$.main(Esempio.scala:47)\n    at it.scala.Wordcount.main(Esempio.scala)\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: Incompatible Jackson version: 2.8.8\n    at com.fasterxml.jackson.module.scala.JacksonModule$class.setupModule(JacksonModule.scala:64)\n    at com.fasterxml.jackson.module.scala.DefaultScalaModule.setupModule(DefaultScalaModule.scala:19)\n    at com.fasterxml.jackson.databind.ObjectMapper.registerModule(ObjectMapper.java:745)\n    at org.apache.spark.rdd.RDDOperationScope$.&lt;init&gt;(RDDOperationScope.scala:82)\n    at org.apache.spark.rdd.RDDOperationScope$.&lt;clinit&gt;(RDDOperationScope.scala)\n    ... 4 more  \n</code></pre>\n\n<p>My pom.xml file is:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;it.hgfhgf.xhgfghf&lt;/groupId&gt;\n  &lt;artifactId&gt;progetto&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;progetto&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n     &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Neo4j JDBC DRIVER --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n      &lt;artifactId&gt;neo4j-jdbc-driver&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Scala --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n      &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n      &lt;version&gt;2.11.11&lt;/version&gt;\n    &lt;/dependency&gt; \n\n    &lt;!-- Spark --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n      &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n      &lt;version&gt;2.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I noticed that the .jar files that are into spark-2.2.1-bin-hadoop2.7/jars directory are: </p>\n\n<ul>\n<li>jackson-core-2.6.5.jar</li>\n<li>jackson-databind-2.6.5.jar</li>\n<li>jackson-module-paranamer-2.6.5.jar</li>\n<li>jackson-module-scala_2.11-2.6.5.jar</li>\n<li>jackson-annotations-2.6.5.jar</li>\n</ul>\n\n<p>Can anyone explain to me in simple terms what this exception is and how can it be resolved?</p>\n"},{"tags":["java","mysql","jsf","jakarta-ee"],"answers":[{"comments":[{"owner":{"account_id":15527643,"reputation":3,"user_id":11225383,"display_name":"Aris Martin Accola"},"score":0,"creation_date":1668845596,"post_id":74494509,"comment_id":131508938,"body_markdown":"Thanks.\n\nThe project still not loads the data from the database.\n\nI tried to print out the loaded strings to the console whilst loaded from the database but it seems they are not even loaded as there is no output on the console as far as I can see.\n\nThe database contains elements as follows:\n\n[table cars][1]\n\nThe database connection itselfs seems working otherwise the login would not be even able.\n\nI have pushed the amended project to [Github][2]\n\nAny other idea?\n\n\n  [1]: https://i.stack.imgur.com/Ahp9e.png\n  [2]: https://github.com/ArisAccola/carsharing","body":"Thanks.  The project still not loads the data from the database.  I tried to print out the loaded strings to the console whilst loaded from the database but it seems they are not even loaded as there is no output on the console as far as I can see.  The database contains elements as follows:  [table cars][1]  The database connection itselfs seems working otherwise the login would not be even able.  I have pushed the amended project to [Github][2]  Any other idea?     [1]: <a href=\"https://i.stack.imgur.com/Ahp9e.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/Ahp9e.png</a>   [2]: <a href=\"https://github.com/ArisAccola/carsharing\" rel=\"nofollow noreferrer\">github.com/ArisAccola/carsharing</a>"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1668858186,"post_id":74494509,"comment_id":131510988,"body_markdown":"You have to remove `cars = new ArrayList&lt;&gt;()` from you constructor, because otherwise `cars` will never be `null` in `setup()`.","body":"You have to remove <code>cars = new ArrayList&lt;&gt;()</code> from you constructor, because otherwise <code>cars</code> will never be <code>null</code> in <code>setup()</code>."}],"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668799895,"creation_date":1668799895,"answer_id":74494509,"question_id":74494186,"body_markdown":"The value of your data-table points to a method which returns nothing. Change the value to\r\n\r\n```html\r\n&lt;h:dataTable value=&quot;#{carController.cars}&quot; var=&quot;car&quot; border=&quot;1&quot;&gt;\r\n```\r\n\r\nFrom now on, `getCars()` will be called to get the list of cars.\r\n\r\nThis leads to a new problem: carsController hasn&#39;t yet loaded the cars. You can do this from within your constructor, but it&#39;s better to use a lifecycle method:\r\n\r\n```\r\n@PostConstruct\r\npublic void setup() {\r\n    if (cars == null) {\r\n        loadCars();\r\n    }\r\n}\r\n```\r\n\r\nIn `loadCars()` don&#39;t clear the list. This is not neccessary as you replace the whole list:\r\n\r\n```\r\npublic void loadCars () {\r\n    try {\r\n        cars = carsHelper.getCars();\r\n    }catch (Exception e) {\r\n        addErrorMessage (e);\r\n    }\r\n}\r\n```\r\n\r\nAnd, you should not place your bean in the default scope (that&#39;s the &#39;dependent scope&#39; for CDI beans). See [this answer](https://stackoverflow.com/a/7031941/19657183) for details.\r\n\r\nI hope, that I haven&#39;t missed anything.","title":"JSF Content of Database not loaded","body":"<p>The value of your data-table points to a method which returns nothing. Change the value to</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h:dataTable value=&quot;#{carController.cars}&quot; var=&quot;car&quot; border=&quot;1&quot;&gt;\n</code></pre>\n<p>From now on, <code>getCars()</code> will be called to get the list of cars.</p>\n<p>This leads to a new problem: carsController hasn't yet loaded the cars. You can do this from within your constructor, but it's better to use a lifecycle method:</p>\n<pre><code>@PostConstruct\npublic void setup() {\n    if (cars == null) {\n        loadCars();\n    }\n}\n</code></pre>\n<p>In <code>loadCars()</code> don't clear the list. This is not neccessary as you replace the whole list:</p>\n<pre><code>public void loadCars () {\n    try {\n        cars = carsHelper.getCars();\n    }catch (Exception e) {\n        addErrorMessage (e);\n    }\n}\n</code></pre>\n<p>And, you should not place your bean in the default scope (that's the 'dependent scope' for CDI beans). See <a href=\"https://stackoverflow.com/a/7031941/19657183\">this answer</a> for details.</p>\n<p>I hope, that I haven't missed anything.</p>\n"}],"owner":{"account_id":15527643,"reputation":3,"user_id":11225383,"display_name":"Aris Martin Accola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74494509,"answer_count":1,"score":0,"last_activity_date":1668837296,"creation_date":1668797549,"question_id":74494186,"body_markdown":"I have an issue with loding content from my database into Jakarta Faces.\r\n\r\nThe following Java Code should get the data and load into home.xhtml:\r\n\r\n**CarController.java**\r\n\r\n    package com.ffhs.carsharing_v2.controllers;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.ffhs.carsharing_v2.helpers.CarsHelper;\r\n    import com.ffhs.carsharing_v2.pojos.Cars;\r\n    \r\n    import jakarta.faces.application.FacesMessage;\r\n    import jakarta.faces.context.FacesContext;\r\n    import jakarta.inject.Named;\r\n    \r\n    \r\n    @Named\r\n    public class CarController implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private List&lt;Cars&gt; cars;\r\n        private CarsHelper carsHelper;\r\n    \r\n        public CarController() throws Exception {\r\n            cars = new ArrayList&lt;Cars&gt;();\r\n            carsHelper = CarsHelper.getInstance();\r\n        }\r\n    \r\n        public List&lt;Cars&gt; getCars() {\r\n            return cars;\r\n        }\r\n    \r\n        public void loadCars () {\r\n            cars.clear();\r\n            try {\r\n                cars = carsHelper.getCars();\r\n            }catch (Exception e) {\r\n                addErrorMessage (e);\r\n            }\r\n        }\r\n    \r\n        private void addErrorMessage(Exception ex) {\r\n            FacesMessage message = new FacesMessage(ex.getMessage());\r\n            FacesContext.getCurrentInstance().addMessage(null, message);\r\n        }\r\n    }\r\n\r\n**CarsHelper**\r\n\r\n    package com.ffhs.carsharing_v2.helpers;\r\n    \r\n    import com.ffhs.carsharing_v2.pojos.Cars;\r\n    import com.ffhs.carsharing_v2.utilities.DataConnection;\r\n    \r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class CarsHelper {\r\n        private static CarsHelper instance;\r\n           \r\n        public static CarsHelper getInstance() throws Exception {\r\n            if (instance == null) {\r\n                instance = new CarsHelper();\r\n            }\r\n            return instance;\r\n        }\r\n      \r\n        public List&lt;Cars&gt; getCars() throws Exception {\r\n            List&lt;Cars&gt; cars = new ArrayList&lt;&gt;();\r\n            Connection connection = null;\r\n            PreparedStatement carsStatement;\r\n    \r\n            try {\r\n                connection = DataConnection.getConnection();\r\n                carsStatement = connection.prepareStatement(&quot;select * from cars&quot;);\r\n                            ResultSet rs = carsStatement.executeQuery();\r\n    \r\n                while(rs.next()) {\r\n                    String carManufacturer = rs.getString(&quot;carManufacturer&quot;);\r\n                    String carModel = rs.getString(&quot;carModel&quot;);\r\n                    String carType = rs.getString(&quot;carType&quot;);\r\n                    String plateNumber = rs.getString(&quot;plateNumber&quot;);\r\n                    String status = rs.getString(&quot;status&quot;);\r\n    \r\n                    Cars car = new Cars(carManufacturer, carModel,carType,plateNumber,status);\r\n                    cars.add(car);\r\n                }\r\n                return cars;\r\n            }\r\n            catch(Exception e) {\r\n                System.out.println(e.getClass().getName() + &quot;: &quot; + e.getMessage());\r\n                return null;\r\n            }\r\n            finally {\r\n                DataConnection.close(connection);\r\n            }\r\n        }\r\n    }\r\n\r\n**Cars.java**\r\n\r\n    package com.ffhs.carsharing_v2.pojos;\r\n    \r\n    public class Cars {\r\n    \r\n       private String carManufacturer;\r\n    \r\n        private String carModel;\r\n    \r\n        private String carType;\r\n    \r\n        private String plateNumber;\r\n    \r\n        private String status;\r\n    \r\n        public Cars(String carManufacturer, String carModel, String carType, String plateNumber, String status) {\r\n            this.carManufacturer = carManufacturer;\r\n            this.carModel = carModel;\r\n            this.carType = carType;\r\n            this.plateNumber = plateNumber;\r\n            this.status = status;\r\n        }\r\n    \r\n        public String getCarManufacturer(){\r\n            return carManufacturer;\r\n        }\r\n    \r\n        public void setCarManufacturer(){\r\n            this.carManufacturer = carManufacturer;\r\n        }\r\n    \r\n    \r\n        public String getCarModel() {\r\n            return carModel;\r\n        }\r\n    \r\n        public void setCarModel(String carModel) {\r\n            this.carModel = carModel;\r\n        }\r\n    \r\n        public String getCarType() {\r\n            return carType;\r\n        }\r\n    \r\n        public void setCarType(String carType) {\r\n            this.carType = carType;\r\n        }\r\n    \r\n        public String getPlateNumber() {\r\n            return plateNumber;\r\n        }\r\n    \r\n        public void setPlateNumber(String plateNumber) {\r\n            this.plateNumber = plateNumber;\r\n        }\r\n    \r\n        public String getStatus() {\r\n            return status;\r\n        }\r\n    \r\n        public void setStatus(String status) {\r\n            this.status = status;\r\n        }\r\n    }\r\n\r\n**DataConnection.java**\r\n\r\n    package com.ffhs.carsharing_v2.utilities;\r\n    \r\n    import java.sql.*;\r\n    public class DataConnection\r\n    {\r\n        public static Connection getConnection()\r\n        {\r\n            try {\r\n                // Set up connection\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/carsharing&quot;, &quot;root&quot;, &quot;root&quot;);\r\n                return connection;\r\n            } catch (Exception e) {\r\n                System.out.println(e.getClass().getName() + &quot;: &quot; + e.getMessage());\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public static void close(Connection connection)\r\n        {\r\n            try {\r\n                connection.close();\r\n            } catch (Exception e) {\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n**home.xhtml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\r\n            &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\r\n          xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;\r\n          xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;&gt;\r\n    \r\n    &lt;h:head&gt;\r\n        &lt;title&gt;Car Reservation System - Home&lt;/title&gt;\r\n        &lt;h:outputStylesheet name=&quot;css/footer.css&quot; /&gt;\r\n        &lt;h:outputStylesheet name=&quot;css/home.css&quot; /&gt;\r\n        &lt;h:outputStylesheet name=&quot;css/header.css&quot; /&gt;\r\n        &lt;h:outputStylesheet library=&quot;webjars&quot; name=&quot;font-awesome/6.2.0/css/all.min-jsf.css&quot; /&gt;\r\n    &lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n        &lt;ui:insert name=&quot;header&quot;&gt;\r\n        &lt;ui:include src=&quot;templates/commonHeader.xhtml&quot;&gt;&lt;/ui:include&gt;\r\n        &lt;/ui:insert&gt;\r\n    \r\n        &lt;div class=&quot;content&quot;&gt;\r\n            &lt;h1&gt; Welcome #{login.username}&lt;/h1&gt;\r\n    \r\n            &lt;div&gt;\r\n                &lt;h2&gt;Employees List&lt;/h2&gt;\r\n                &lt;hr/&gt;\r\n                &lt;h:dataTable value=&quot;#{carController.loadCars()}&quot; var=&quot;car&quot; border=&quot;1&quot;&gt;\r\n    \r\n                    &lt;h:column&gt;\r\n    \r\n                        &lt;f:facet name=&quot;header&quot;&gt;Manufacturer&lt;/f:facet&gt;\r\n                        #{car.carManufacturer}\r\n    \r\n                    &lt;/h:column&gt;\r\n                    &lt;h:column&gt;\r\n    \r\n                        &lt;f:facet name=&quot;header&quot;&gt;Model&lt;/f:facet&gt;\r\n                        #{car.carModel}\r\n    \r\n                    &lt;/h:column&gt;\r\n                    &lt;h:column&gt;\r\n    \r\n                        &lt;f:facet name=&quot;header&quot;&gt;Type&lt;/f:facet&gt;\r\n                        #{car.carType}\r\n    \r\n                    &lt;/h:column&gt;\r\n                    &lt;h:column&gt;\r\n    \r\n                        &lt;f:facet name=&quot;header&quot;&gt;Plate Number&lt;/f:facet&gt;\r\n                        #{car.plateNumber}\r\n    \r\n                    &lt;/h:column&gt;\r\n                    &lt;h:column&gt;\r\n    \r\n                        &lt;f:facet name=&quot;header&quot;&gt;Status&lt;/f:facet&gt;\r\n                        #{car.status}\r\n    \r\n                    &lt;/h:column&gt;\r\n                &lt;/h:dataTable&gt;\r\n    \r\n                &lt;h:messages /&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    \r\n    \r\n    \r\n    \r\n        &lt;ui:insert name=&quot;footer&quot;&gt;\r\n            &lt;ui:include src=&quot;templates/commonFooter.xhtml&quot;&gt;&lt;/ui:include&gt;\r\n        &lt;/ui:insert&gt;\r\n    &lt;/h:body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\nThe full code is available on [https://github.com/ArisAccola/carsharing][1]\r\n\r\n\r\n  [1]: https://github.com/ArisAccola/carsharing\r\n\r\nHope that somebody can assist me despite the enourmous quantity of code ;)\r\n\r\nThanks","title":"JSF Content of Database not loaded","body":"<p>I have an issue with loding content from my database into Jakarta Faces.</p>\n<p>The following Java Code should get the data and load into home.xhtml:</p>\n<p><strong>CarController.java</strong></p>\n<pre><code>package com.ffhs.carsharing_v2.controllers;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.ffhs.carsharing_v2.helpers.CarsHelper;\nimport com.ffhs.carsharing_v2.pojos.Cars;\n\nimport jakarta.faces.application.FacesMessage;\nimport jakarta.faces.context.FacesContext;\nimport jakarta.inject.Named;\n\n\n@Named\npublic class CarController implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    private List&lt;Cars&gt; cars;\n    private CarsHelper carsHelper;\n\n    public CarController() throws Exception {\n        cars = new ArrayList&lt;Cars&gt;();\n        carsHelper = CarsHelper.getInstance();\n    }\n\n    public List&lt;Cars&gt; getCars() {\n        return cars;\n    }\n\n    public void loadCars () {\n        cars.clear();\n        try {\n            cars = carsHelper.getCars();\n        }catch (Exception e) {\n            addErrorMessage (e);\n        }\n    }\n\n    private void addErrorMessage(Exception ex) {\n        FacesMessage message = new FacesMessage(ex.getMessage());\n        FacesContext.getCurrentInstance().addMessage(null, message);\n    }\n}\n</code></pre>\n<p><strong>CarsHelper</strong></p>\n<pre><code>package com.ffhs.carsharing_v2.helpers;\n\nimport com.ffhs.carsharing_v2.pojos.Cars;\nimport com.ffhs.carsharing_v2.utilities.DataConnection;\n\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CarsHelper {\n    private static CarsHelper instance;\n       \n    public static CarsHelper getInstance() throws Exception {\n        if (instance == null) {\n            instance = new CarsHelper();\n        }\n        return instance;\n    }\n  \n    public List&lt;Cars&gt; getCars() throws Exception {\n        List&lt;Cars&gt; cars = new ArrayList&lt;&gt;();\n        Connection connection = null;\n        PreparedStatement carsStatement;\n\n        try {\n            connection = DataConnection.getConnection();\n            carsStatement = connection.prepareStatement(&quot;select * from cars&quot;);\n                        ResultSet rs = carsStatement.executeQuery();\n\n            while(rs.next()) {\n                String carManufacturer = rs.getString(&quot;carManufacturer&quot;);\n                String carModel = rs.getString(&quot;carModel&quot;);\n                String carType = rs.getString(&quot;carType&quot;);\n                String plateNumber = rs.getString(&quot;plateNumber&quot;);\n                String status = rs.getString(&quot;status&quot;);\n\n                Cars car = new Cars(carManufacturer, carModel,carType,plateNumber,status);\n                cars.add(car);\n            }\n            return cars;\n        }\n        catch(Exception e) {\n            System.out.println(e.getClass().getName() + &quot;: &quot; + e.getMessage());\n            return null;\n        }\n        finally {\n            DataConnection.close(connection);\n        }\n    }\n}\n</code></pre>\n<p><strong>Cars.java</strong></p>\n<pre><code>package com.ffhs.carsharing_v2.pojos;\n\npublic class Cars {\n\n   private String carManufacturer;\n\n    private String carModel;\n\n    private String carType;\n\n    private String plateNumber;\n\n    private String status;\n\n    public Cars(String carManufacturer, String carModel, String carType, String plateNumber, String status) {\n        this.carManufacturer = carManufacturer;\n        this.carModel = carModel;\n        this.carType = carType;\n        this.plateNumber = plateNumber;\n        this.status = status;\n    }\n\n    public String getCarManufacturer(){\n        return carManufacturer;\n    }\n\n    public void setCarManufacturer(){\n        this.carManufacturer = carManufacturer;\n    }\n\n\n    public String getCarModel() {\n        return carModel;\n    }\n\n    public void setCarModel(String carModel) {\n        this.carModel = carModel;\n    }\n\n    public String getCarType() {\n        return carType;\n    }\n\n    public void setCarType(String carType) {\n        this.carType = carType;\n    }\n\n    public String getPlateNumber() {\n        return plateNumber;\n    }\n\n    public void setPlateNumber(String plateNumber) {\n        this.plateNumber = plateNumber;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n}\n</code></pre>\n<p><strong>DataConnection.java</strong></p>\n<pre><code>package com.ffhs.carsharing_v2.utilities;\n\nimport java.sql.*;\npublic class DataConnection\n{\n    public static Connection getConnection()\n    {\n        try {\n            // Set up connection\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/carsharing&quot;, &quot;root&quot;, &quot;root&quot;);\n            return connection;\n        } catch (Exception e) {\n            System.out.println(e.getClass().getName() + &quot;: &quot; + e.getMessage());\n            return null;\n        }\n    }\n\n    public static void close(Connection connection)\n    {\n        try {\n            connection.close();\n        } catch (Exception e) {\n\n        }\n    }\n}\n</code></pre>\n<p><strong>home.xhtml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\n        &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\n      xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;\n      xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;&gt;\n\n&lt;h:head&gt;\n    &lt;title&gt;Car Reservation System - Home&lt;/title&gt;\n    &lt;h:outputStylesheet name=&quot;css/footer.css&quot; /&gt;\n    &lt;h:outputStylesheet name=&quot;css/home.css&quot; /&gt;\n    &lt;h:outputStylesheet name=&quot;css/header.css&quot; /&gt;\n    &lt;h:outputStylesheet library=&quot;webjars&quot; name=&quot;font-awesome/6.2.0/css/all.min-jsf.css&quot; /&gt;\n&lt;/h:head&gt;\n&lt;h:body&gt;\n    &lt;ui:insert name=&quot;header&quot;&gt;\n    &lt;ui:include src=&quot;templates/commonHeader.xhtml&quot;&gt;&lt;/ui:include&gt;\n    &lt;/ui:insert&gt;\n\n    &lt;div class=&quot;content&quot;&gt;\n        &lt;h1&gt; Welcome #{login.username}&lt;/h1&gt;\n\n        &lt;div&gt;\n            &lt;h2&gt;Employees List&lt;/h2&gt;\n            &lt;hr/&gt;\n            &lt;h:dataTable value=&quot;#{carController.loadCars()}&quot; var=&quot;car&quot; border=&quot;1&quot;&gt;\n\n                &lt;h:column&gt;\n\n                    &lt;f:facet name=&quot;header&quot;&gt;Manufacturer&lt;/f:facet&gt;\n                    #{car.carManufacturer}\n\n                &lt;/h:column&gt;\n                &lt;h:column&gt;\n\n                    &lt;f:facet name=&quot;header&quot;&gt;Model&lt;/f:facet&gt;\n                    #{car.carModel}\n\n                &lt;/h:column&gt;\n                &lt;h:column&gt;\n\n                    &lt;f:facet name=&quot;header&quot;&gt;Type&lt;/f:facet&gt;\n                    #{car.carType}\n\n                &lt;/h:column&gt;\n                &lt;h:column&gt;\n\n                    &lt;f:facet name=&quot;header&quot;&gt;Plate Number&lt;/f:facet&gt;\n                    #{car.plateNumber}\n\n                &lt;/h:column&gt;\n                &lt;h:column&gt;\n\n                    &lt;f:facet name=&quot;header&quot;&gt;Status&lt;/f:facet&gt;\n                    #{car.status}\n\n                &lt;/h:column&gt;\n            &lt;/h:dataTable&gt;\n\n            &lt;h:messages /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n\n\n    &lt;ui:insert name=&quot;footer&quot;&gt;\n        &lt;ui:include src=&quot;templates/commonFooter.xhtml&quot;&gt;&lt;/ui:include&gt;\n    &lt;/ui:insert&gt;\n&lt;/h:body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>The full code is available on <a href=\"https://github.com/ArisAccola/carsharing\" rel=\"nofollow noreferrer\">https://github.com/ArisAccola/carsharing</a></p>\n<p>Hope that somebody can assist me despite the enourmous quantity of code ;)</p>\n<p>Thanks</p>\n"},{"tags":["java","arrays","data-structures","binary-tree","subtree"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668836463,"post_id":74497785,"comment_id":131507960,"body_markdown":"Without seeing your code and the full stack trace of the exception, it is impossible to say.","body":"Without seeing your code and the full stack trace of the exception, it is impossible to say."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668844221,"post_id":74497785,"comment_id":131508732,"body_markdown":"That array is not related to the error. Search for other arrays of length 7.","body":"That array is not related to the error. Search for other arrays of length 7."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668855371,"post_id":74497785,"comment_id":131510498,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":22901252,"reputation":1,"user_id":17039925,"display_name":"Divyanshu Rawat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668856066,"answer_count":0,"score":0,"last_activity_date":1668836000,"creation_date":1668836000,"question_id":74497785,"body_markdown":"why this error is occuring?\r\n\r\n\r\nthis is my array declaration :\r\nint[] mainTree = {1,2,4,-1,-1,5,-1,-1,3,-1,-1};\r\n\r\n\r\nThis array is being used to make a binary tree, and here -1 indicates a null value, but I cannot figure out why this error is being displayed.","title":"Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 11 out of bounds for length 7","body":"<p>why this error is occuring?</p>\n<p>this is my array declaration :\nint[] mainTree = {1,2,4,-1,-1,5,-1,-1,3,-1,-1};</p>\n<p>This array is being used to make a binary tree, and here -1 indicates a null value, but I cannot figure out why this error is being displayed.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1668331437,"post_id":74184130,"comment_id":131375301,"body_markdown":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting.","body":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting."},{"owner":{"account_id":11115010,"reputation":15,"user_id":8159582,"display_name":"whiteRabbit"},"score":0,"creation_date":1668420892,"post_id":74184130,"comment_id":131392558,"body_markdown":"you&#39;re right, sorry about that. I&#39;ve noticed your response last week but I&#39;ve been pretty busy and I haven&#39;t took the time to check it out yet. I&#39;m going to try it out before this week end and tell you if it&#39;s working.","body":"you&#39;re right, sorry about that. I&#39;ve noticed your response last week but I&#39;ve been pretty busy and I haven&#39;t took the time to check it out yet. I&#39;m going to try it out before this week end and tell you if it&#39;s working."}],"answers":[{"comments":[{"owner":{"account_id":11115010,"reputation":15,"user_id":8159582,"display_name":"whiteRabbit"},"score":0,"creation_date":1666709452,"post_id":74194583,"comment_id":130998191,"body_markdown":"Hello, thanks for your answer. Well that&#39;s the purpose of @configurable actually. What I don&#39;t understand is why the aspect thing isn&#39;t working. It&#39;s like it&#39;s deactivated.","body":"Hello, thanks for your answer. Well that&#39;s the purpose of @configurable actually. What I don&#39;t understand is why the aspect thing isn&#39;t working. It&#39;s like it&#39;s deactivated."},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1666728603,"post_id":74194583,"comment_id":131004286,"body_markdown":"Reading about it might be some problem with &#39;aspectjweaver&#39;  previous answer had it, but current solution has &#39;spring-boot-starter-aop&#39;\nAfyer reading this https://stackoverflow.com/questions/4703206/spring-autowiring-using-configurable it looks like it might be many reasons it might not work :/","body":"Reading about it might be some problem with &#39;aspectjweaver&#39;  previous answer had it, but current solution has &#39;spring-boot-starter-aop&#39; Afyer reading this <a href=\"https://stackoverflow.com/questions/4703206/spring-autowiring-using-configurable\" title=\"spring autowiring using configurable\">stackoverflow.com/questions/4703206/&hellip;</a> it looks like it might be many reasons it might not work :/"},{"owner":{"account_id":11115010,"reputation":15,"user_id":8159582,"display_name":"whiteRabbit"},"score":0,"creation_date":1666739562,"post_id":74194583,"comment_id":131006764,"body_markdown":"Yeah I tried a lot of different things, including the code of the previous answer without changing anything. And also upgrading everything (spring, java, eclispe etc). Or testing on two different computers. Or with different libraries (I used spring-boot-starter-aop this time to be sure to use the officials one for this example).","body":"Yeah I tried a lot of different things, including the code of the previous answer without changing anything. And also upgrading everything (spring, java, eclispe etc). Or testing on two different computers. Or with different libraries (I used spring-boot-starter-aop this time to be sure to use the officials one for this example)."}],"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666703192,"creation_date":1666703192,"answer_id":74194583,"question_id":74184130,"body_markdown":"You are creating service manually using `new HelloWorldClient()` `@Autowired` works only when bean/service is created by spring\r\n\r\ntry autowiring `HelloWorldClient` in `Demo2Application` and not creating it manually\r\n\r\nMaybe You could try https://stackoverflow.com/questions/52355132/spring-autowired-on-a-class-new-instance maybe it works","title":"Spring @configurable NullPointerException, @autowired service is null","body":"<p>You are creating service manually using <code>new HelloWorldClient()</code> <code>@Autowired</code> works only when bean/service is created by spring</p>\n<p>try autowiring <code>HelloWorldClient</code> in <code>Demo2Application</code> and not creating it manually</p>\n<p>Maybe You could try <a href=\"https://stackoverflow.com/questions/52355132/spring-autowired-on-a-class-new-instance\">Spring @Autowired on a class new instance</a> maybe it works</p>\n"},{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1667841451,"post_id":74350133,"comment_id":131258878,"body_markdown":"Please note the update, adding a link to a GitHub repository with an [MCVE](https://stackoverflow.com/help/mcve) solving your problem.","body":"Please note the update, adding a link to a GitHub repository with an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> solving your problem."},{"owner":{"account_id":11115010,"reputation":15,"user_id":8159582,"display_name":"whiteRabbit"},"score":0,"creation_date":1668803406,"post_id":74350133,"comment_id":131503168,"body_markdown":"Hi, sorry for the long wait. I tried your mvce and it&#39;s working. So at least it doesn&#39;t come from my computer. Yeah it&#39;s really not trivial for me. I don&#39;t understand the difference between different type of weaving, I thought the aspect oriented programming would include native aspectJ and other stuff. You&#39;re answer is very professional and gives me hint to understand what I missed, I&#39;m going to look more deeply into it. Thank you very much.","body":"Hi, sorry for the long wait. I tried your mvce and it&#39;s working. So at least it doesn&#39;t come from my computer. Yeah it&#39;s really not trivial for me. I don&#39;t understand the difference between different type of weaving, I thought the aspect oriented programming would include native aspectJ and other stuff. You&#39;re answer is very professional and gives me hint to understand what I missed, I&#39;m going to look more deeply into it. Thank you very much."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668835772,"creation_date":1667840038,"answer_id":74350133,"question_id":74184130,"body_markdown":"`@Configurable` should be used in connection with native AspectJ, not with Spring AOP, see [here](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-atconfigurable). Because the annotation is meant to be used with POJOs rather than Spring beans, this makes sense.\r\n\r\nIn [my answer to your first question](https://stackoverflow.com/a/71620434/1082681), we used AspectJ Maven Plugin to do compile-time weaving (CTW). Either you need to do the same here or configure [load-time weaving (LTW)](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-aj-ltw) instead.\r\n\r\nWhen using LTW, in order for `org.springframework.beans.factory.aspectj.AnnotationBeanConfigurerAspect` to work, which is responsible for achieving the POJO dependency injection, you need either of\r\n  * `-javaagent:/path/to/aspectjweaver.jar` on the JVM command line or\r\n  * `-javaagent:/path/to/spring-instrument.jar` on the JVM command line and `@EnableLoadTimeWeaving` in your Spring configuration or\r\n  * `de.invesdwin:invesdwin-instrument` in the dependency list plus a code snippet initialising the weaver in your application. On more recent Java versions, you probably also need `--add-opens java.base/java.lang=ALL-UNNAMED` on the JVM command line to enable _invesdwin-instrument_ to work correctly, using reflection.\r\n\r\nYou also need `spring-aspects` for the `AnnotationBeanConfigurerAspect` to be found. Optionally, you might want to add your own _META-INF/aop.xml_ (or _org/aspectj/aop.xml_) file in the resources directory, if you want to configure certain weaving options or deactivate unneeded aspects from `spring-aspects`, if the corresponding warning messages on the console get on your nerves.\r\n\r\nI know that this is not trivial, which is why I think that the CTW approach is easier to set up. But if you want to apply aspects dynamically via LTW, you need to use one of the approaches mentioned above. It is not rocket science, just a bit complicated when doing it the first time. But like Miyamoto Musashi said: _&quot;It may seem difficult at first, but all things are difficult at first.&quot;_\r\n\r\n---\r\n\r\n**Update:** Here is an [MCVE](https://stackoverflow.com/help/mcve) for you, i.e. a full, minimal example:\r\n\r\nhttps://github.com/kriegaex/SO_AJ_SpringMavenConfigurableNPE_74184130\r\n\r\nFeel free to play with it and remove the code using `invesdwin-instrument` and the corresponding dependency, if you want to use `-javaagent` and Spring on-board means. I actually recommend that.","title":"Spring @configurable NullPointerException, @autowired service is null","body":"<p><code>@Configurable</code> should be used in connection with native AspectJ, not with Spring AOP, see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-atconfigurable\" rel=\"nofollow noreferrer\">here</a>. Because the annotation is meant to be used with POJOs rather than Spring beans, this makes sense.</p>\n<p>In <a href=\"https://stackoverflow.com/a/71620434/1082681\">my answer to your first question</a>, we used AspectJ Maven Plugin to do compile-time weaving (CTW). Either you need to do the same here or configure <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-aj-ltw\" rel=\"nofollow noreferrer\">load-time weaving (LTW)</a> instead.</p>\n<p>When using LTW, in order for <code>org.springframework.beans.factory.aspectj.AnnotationBeanConfigurerAspect</code> to work, which is responsible for achieving the POJO dependency injection, you need either of</p>\n<ul>\n<li><code>-javaagent:/path/to/aspectjweaver.jar</code> on the JVM command line or</li>\n<li><code>-javaagent:/path/to/spring-instrument.jar</code> on the JVM command line and <code>@EnableLoadTimeWeaving</code> in your Spring configuration or</li>\n<li><code>de.invesdwin:invesdwin-instrument</code> in the dependency list plus a code snippet initialising the weaver in your application. On more recent Java versions, you probably also need <code>--add-opens java.base/java.lang=ALL-UNNAMED</code> on the JVM command line to enable <em>invesdwin-instrument</em> to work correctly, using reflection.</li>\n</ul>\n<p>You also need <code>spring-aspects</code> for the <code>AnnotationBeanConfigurerAspect</code> to be found. Optionally, you might want to add your own <em>META-INF/aop.xml</em> (or <em>org/aspectj/aop.xml</em>) file in the resources directory, if you want to configure certain weaving options or deactivate unneeded aspects from <code>spring-aspects</code>, if the corresponding warning messages on the console get on your nerves.</p>\n<p>I know that this is not trivial, which is why I think that the CTW approach is easier to set up. But if you want to apply aspects dynamically via LTW, you need to use one of the approaches mentioned above. It is not rocket science, just a bit complicated when doing it the first time. But like Miyamoto Musashi said: <em>&quot;It may seem difficult at first, but all things are difficult at first.&quot;</em></p>\n<hr />\n<p><strong>Update:</strong> Here is an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> for you, i.e. a full, minimal example:</p>\n<p><a href=\"https://github.com/kriegaex/SO_AJ_SpringMavenConfigurableNPE_74184130\" rel=\"nofollow noreferrer\">https://github.com/kriegaex/SO_AJ_SpringMavenConfigurableNPE_74184130</a></p>\n<p>Feel free to play with it and remove the code using <code>invesdwin-instrument</code> and the corresponding dependency, if you want to use <code>-javaagent</code> and Spring on-board means. I actually recommend that.</p>\n"}],"owner":{"account_id":11115010,"reputation":15,"user_id":8159582,"display_name":"whiteRabbit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74350133,"answer_count":2,"score":1,"last_activity_date":1668835772,"creation_date":1666628872,"question_id":74184130,"body_markdown":"I&#39;m trying to use @configurable in spring to use a @autowired service in a non bean class I create.  \r\nIt doesn&#39;t want to work anymore whatever I try.  \r\nCan someone tell me what I&#39;m doing wrong? (I did some research but I&#39;m totally clueless now)  \r\nHere is a very basic code example I made :\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;demo2&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;name&gt;demo2&lt;/name&gt;\r\n\t\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t\r\n\t&lt;/project&gt;\r\n\r\nConfiguration ComponentScan class\r\n\r\n\tpackage com.example.demo2;\r\n\t\r\n\timport org.springframework.context.annotation.ComponentScan;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.context.annotation.aspectj.EnableSpringConfigured;\r\n\t\r\n\t@Configuration\r\n\t@ComponentScan\r\n\t@EnableSpringConfigured\r\n\tpublic class AspectJConfig\r\n\t{\r\n\t\t\r\n\t}\r\n\r\n@SpringBootApplication class\r\n\r\n\tpackage com.example.demo2;\r\n\t\r\n\timport javax.annotation.PostConstruct;\r\n\t\r\n\t//import org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\timport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n\t\r\n\t@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\r\n\tpublic class Demo2Application\r\n\t{\r\n\t    //@Autowired\r\n\t    //private HelloWorldService helloWorldService;\r\n\t\t\r\n\t\tpublic static void main(String[] args)\r\n\t\t{\r\n\t\t\tSpringApplication.run(Demo2Application.class, args);\r\n\t\t}\r\n\t\t\r\n\t\t@PostConstruct\r\n\t\tpublic void doSomethingIProbablyShouldNotBeDoing()\r\n\t\t{\r\n\t\t\t//helloWorldService.sayHello();\r\n\t\t\tHelloWorldClient client = new HelloWorldClient();\r\n\t\t\tclient.sayHello();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nclass with @Configurable and @Autowired service\r\n\r\n\tpackage com.example.demo2;\r\n\t\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.beans.factory.annotation.Configurable;\r\n\t\r\n\t@Configurable\r\n\tpublic class HelloWorldClient\r\n\t{\r\n\t\t@Autowired\r\n\t\tprivate HelloWorldService service;\r\n\t\t\r\n\t\tpublic void sayHello()\r\n\t\t{\r\n\t\t\t// Used injected instance of service\r\n\t\t\tservice.sayHello();\r\n\t\t}\r\n\t}\r\n\r\n@Service class\r\n\r\n\tpackage com.example.demo2;\r\n\t\r\n\timport org.springframework.stereotype.Service;\r\n\t\r\n\t@Service\r\n\tpublic class HelloWorldService\r\n\t{\r\n\t\tpublic void sayHello()\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Hello world!&quot;);\r\n\t\t}\r\n\t}\r\n\r\nAlso here is a link to my previous post on that subject. I did received an answer to my question that was working. But for whatever reason it doesn&#39;t work anymore on my side.  \r\n[https://stackoverflow.com/questions/71613523/spring-configurable-nullpointerexception][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71613523/spring-configurable-nullpointerexception","title":"Spring @configurable NullPointerException, @autowired service is null","body":"<p>I'm trying to use @configurable in spring to use a @autowired service in a non bean class I create.<br />\nIt doesn't want to work anymore whatever I try.<br />\nCan someone tell me what I'm doing wrong? (I did some research but I'm totally clueless now)<br />\nHere is a very basic code example I made :</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Configuration ComponentScan class</p>\n<pre><code>package com.example.demo2;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.aspectj.EnableSpringConfigured;\n\n@Configuration\n@ComponentScan\n@EnableSpringConfigured\npublic class AspectJConfig\n{\n    \n}\n</code></pre>\n<p>@SpringBootApplication class</p>\n<pre><code>package com.example.demo2;\n\nimport javax.annotation.PostConstruct;\n\n//import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\npublic class Demo2Application\n{\n    //@Autowired\n    //private HelloWorldService helloWorldService;\n    \n    public static void main(String[] args)\n    {\n        SpringApplication.run(Demo2Application.class, args);\n    }\n    \n    @PostConstruct\n    public void doSomethingIProbablyShouldNotBeDoing()\n    {\n        //helloWorldService.sayHello();\n        HelloWorldClient client = new HelloWorldClient();\n        client.sayHello();\n    }\n    \n}\n</code></pre>\n<p>class with @Configurable and @Autowired service</p>\n<pre><code>package com.example.demo2;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Configurable;\n\n@Configurable\npublic class HelloWorldClient\n{\n    @Autowired\n    private HelloWorldService service;\n    \n    public void sayHello()\n    {\n        // Used injected instance of service\n        service.sayHello();\n    }\n}\n</code></pre>\n<p>@Service class</p>\n<pre><code>package com.example.demo2;\n\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class HelloWorldService\n{\n    public void sayHello()\n    {\n        System.out.println(&quot;Hello world!&quot;);\n    }\n}\n</code></pre>\n<p>Also here is a link to my previous post on that subject. I did received an answer to my question that was working. But for whatever reason it doesn't work anymore on my side.<br />\n<a href=\"https://stackoverflow.com/questions/71613523/spring-configurable-nullpointerexception\">Spring @configurable NullPointerException</a></p>\n"},{"tags":["java","netbeans","expand","code-organization"],"answers":[{"comments":[{"owner":{"account_id":4044682,"reputation":11563,"user_id":3326275,"accept_rate":67,"display_name":"Pratik Joshi"},"score":2,"creation_date":1447913548,"post_id":2965258,"comment_id":55359330,"body_markdown":"He said **ONLY HIDE Functions** ! Not if else , for loop etc blocks inside function.","body":"He said <b>ONLY HIDE Functions</b> ! Not if else , for loop etc blocks inside function."},{"owner":{"account_id":5895835,"reputation":2456,"user_id":4641017,"accept_rate":93,"display_name":"Captain Hypertext"},"score":0,"creation_date":1459654964,"post_id":2965258,"comment_id":60380120,"body_markdown":"@PratikCJoshi I don&#39;t believe Netbeans differentiates between functions, loops, and if / else statements.  They&#39;re all just collapsible code blocks.","body":"@PratikCJoshi I don&#39;t believe Netbeans differentiates between functions, loops, and if / else statements.  They&#39;re all just collapsible code blocks."},{"owner":{"account_id":4044682,"reputation":11563,"user_id":3326275,"accept_rate":67,"display_name":"Pratik Joshi"},"score":2,"creation_date":1459661066,"post_id":2965258,"comment_id":60381089,"body_markdown":"@CaptainHypertext what to do now ? :( I am sad ! :(","body":"@CaptainHypertext what to do now ? :( I am sad ! :("}],"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"comment_count":3,"down_vote_count":1,"up_vote_count":127,"is_accepted":true,"score":126,"last_activity_date":1658966934,"creation_date":1275562769,"answer_id":2965258,"question_id":2965200,"body_markdown":"I copied a piece from [http://wiki.netbeans.org/KeymapProfileFor60][1]. \r\n\r\nThe first option is for Win/Lin and the second for Mac.\r\n\r\n| Command                                   | Windows                                           | Mac                                            |\r\n|-------------------------------------------|---------------------------------------------------|------------------------------------------------|\r\n| Collapse (hide) a block                   | &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;-&lt;/kbd&gt;                    | &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;-&lt;/kbd&gt;                    |\r\n| Expand a Collapsed Block (expand-fold)    | &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;+&lt;/kbd&gt;                    | &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;+&lt;/kbd&gt;                    |\r\n| Collapse (hide) all code blocks           | &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;-&lt;/kbd&gt; | &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;-&lt;/kbd&gt; |\r\n| Expand all code blocks (expand-all-folds) | &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;+&lt;/kbd&gt; | &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;+&lt;/kbd&gt; |\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; On Windows you can also use the numpad &lt;kbd&gt;+&lt;/kbd&gt; and &lt;kbd&gt;-&lt;/kbd&gt;   \r\n&lt;sup&gt;2&lt;/sup&gt; It says &lt;kbd&gt;+&lt;/kbd&gt;, *achkatually* it&#39;s the &lt;kbd&gt;=&lt;/kbd&gt; key\r\n\r\n\r\n  [1]: http://wiki.netbeans.org/KeymapProfileFor60","title":"NetBeans shortcut key for collapsing/expanding a method","body":"<p>I copied a piece from <a href=\"http://wiki.netbeans.org/KeymapProfileFor60\" rel=\"nofollow noreferrer\">http://wiki.netbeans.org/KeymapProfileFor60</a>.</p>\n<p>The first option is for Win/Lin and the second for Mac.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Command</th>\n<th>Windows</th>\n<th>Mac</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Collapse (hide) a block</td>\n<td><kbd>Ctrl</kbd> + <kbd>-</kbd></td>\n<td><kbd>⌘</kbd> + <kbd>-</kbd></td>\n</tr>\n<tr>\n<td>Expand a Collapsed Block (expand-fold)</td>\n<td><kbd>Ctrl</kbd> + <kbd>+</kbd></td>\n<td><kbd>⌘</kbd> + <kbd>+</kbd></td>\n</tr>\n<tr>\n<td>Collapse (hide) all code blocks</td>\n<td><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>-</kbd></td>\n<td><kbd>⌘</kbd> + <kbd>Shift</kbd> + <kbd>-</kbd></td>\n</tr>\n<tr>\n<td>Expand all code blocks (expand-all-folds)</td>\n<td><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>+</kbd></td>\n<td><kbd>⌘</kbd> + <kbd>Shift</kbd> + <kbd>+</kbd></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><sup>1</sup> On Windows you can also use the numpad <kbd>+</kbd> and <kbd>-</kbd><br />\n<sup>2</sup> It says <kbd>+</kbd>, <em>achkatually</em> it's the <kbd>=</kbd> key</p>\n"},{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1275563473,"creation_date":1275563473,"answer_id":2965340,"question_id":2965200,"body_markdown":"Just to offer an alternative, have you considered using the Navigator View to navigate within the members instead? I usually just leave all methods uncollapsed, and double click on the method in the Navigator view to go to that method. What&#39;s nice about the Navigator View are the icons which provide visual indicators of the type and visibility of methods and fields.","title":"NetBeans shortcut key for collapsing/expanding a method","body":"<p>Just to offer an alternative, have you considered using the Navigator View to navigate within the members instead? I usually just leave all methods uncollapsed, and double click on the method in the Navigator view to go to that method. What's nice about the Navigator View are the icons which provide visual indicators of the type and visibility of methods and fields.</p>\n"},{"tags":[],"owner":{"account_id":160773,"reputation":4709,"user_id":381083,"accept_rate":60,"display_name":"AmanicA"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398257269,"creation_date":1398257269,"answer_id":23244760,"question_id":2965200,"body_markdown":"The best workaround I&#39;ve found sofar is to right-click in the white space next to  the file tree and then click on &quot;Collapse All&quot;","title":"NetBeans shortcut key for collapsing/expanding a method","body":"<p>The best workaround I've found sofar is to right-click in the white space next to  the file tree and then click on \"Collapse All\"</p>\n"},{"tags":[],"owner":{"account_id":3613844,"reputation":107,"user_id":3014240,"display_name":"JasonRobinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422929296,"creation_date":1422929296,"answer_id":28290213,"question_id":2965200,"body_markdown":"The navigator view does not show loop blocks, logic blocks, etc.  So there is no way to collapse that section under the &quot;if this&quot; so you can focus on the &quot;else that&quot; section.\r\n\r\nNetBeans only supports collapsing functions/methods (Java) or collapsing based on their XML formatted comment strings (a terrible solution that is IDE specific and leaves traces of your IDE all over your code).","title":"NetBeans shortcut key for collapsing/expanding a method","body":"<p>The navigator view does not show loop blocks, logic blocks, etc.  So there is no way to collapse that section under the \"if this\" so you can focus on the \"else that\" section.</p>\n\n<p>NetBeans only supports collapsing functions/methods (Java) or collapsing based on their XML formatted comment strings (a terrible solution that is IDE specific and leaves traces of your IDE all over your code).</p>\n"},{"tags":[],"owner":{"account_id":11245815,"reputation":41,"user_id":8248610,"display_name":"SirMedvind"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499088341,"creation_date":1499086998,"answer_id":44886321,"question_id":2965200,"body_markdown":"Right click the *window -&gt; Code Folds -&gt; Collapse All* or *Ctrl+Shift+Minus*\r\nSounds like what you ar looking for","title":"NetBeans shortcut key for collapsing/expanding a method","body":"<p>Right click the <em>window -> Code Folds -> Collapse All</em> or <em>Ctrl+Shift+Minus</em>\nSounds like what you ar looking for</p>\n"},{"tags":[],"owner":{"account_id":10817793,"reputation":11,"user_id":7956169,"display_name":"shivakumar hk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533387838,"creation_date":1533387838,"answer_id":51685873,"question_id":2965200,"body_markdown":"To set default collapsing in netbean tool\r\nclick Tools-&gt;Option-&gt;Editor-&gt;Folding, enable checkboxes\r\n\r\n","title":"NetBeans shortcut key for collapsing/expanding a method","body":"<p>To set default collapsing in netbean tool\nclick Tools->Option->Editor->Folding, enable checkboxes</p>\n"}],"owner":{"account_id":142373,"reputation":10607,"user_id":350061,"accept_rate":100,"display_name":"Stefanos Kargas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45452,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":2965258,"answer_count":6,"score":52,"last_activity_date":1668835405,"creation_date":1275562173,"question_id":2965200,"body_markdown":"This is an IDE question\r\n\r\nI am always working with collapsed methods, because I want to be able to see my methods all together. This is a little time consuming because I have to use the mouse to scroll up to the declaration of the method and click on the - (minus) icon. And then respectively go to the method I want to work on and click on the + (plus) icon.\r\n\r\nIs there a way through a keyboard shortcut to do the collapse (and respectively the expand)?\r\n","title":"NetBeans shortcut key for collapsing/expanding a method","body":"<p>This is an IDE question</p>\n<p>I am always working with collapsed methods, because I want to be able to see my methods all together. This is a little time consuming because I have to use the mouse to scroll up to the declaration of the method and click on the - (minus) icon. And then respectively go to the method I want to work on and click on the + (plus) icon.</p>\n<p>Is there a way through a keyboard shortcut to do the collapse (and respectively the expand)?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668834997,"creation_date":1668834997,"answer_id":74497733,"question_id":74497527,"body_markdown":"Couple of things here.\r\n\r\n 1. I would recommend the service layer not to return the `ResponseEntity&lt;T&gt;` object instead it should return the DTO or just string in your case.\r\n 2. Also for request body validation use @Valid annotation on the request body model in controller or if you want to handle the validation do that in controller not in service.\r\n 3. The controller class should be responsible for to convert/create the `ResponseEntity&lt;?&gt;` which sends to server.\r\n 4. In your controller class you can define the method with `@ExceptionHandler` annotation and specify how you would handle that request. Alternative to that if the exception you are handling is thrown from diffrent services then you can define the class with `@ControllerAdvice` and specify the exception handling methods there.\r\n\r\nWith regards to your code you should do the following:\r\n\r\n    //Controller\r\n    @Override\r\n    public ResponseEntity&lt;String&gt; updateCustomer(String id, Customer customer)\r\n    throws ResourceNotFoundException, BadRequestBodyException {\r\n        if (Strings.isNullOrEmpty(customer.getCustomerName())\r\n            || Strings.isNullOrEmpty(customer.getCustomerType())) {\r\n            throw new BadRequestBodyException(&quot;Error: request body can not be null or empty!&quot;);\r\n        }\r\n        log.info(&quot;Updating customer.&quot;);\r\n        return ResponseEntity.ok(customerService.updateCustomer(id, customer);\r\n    }\r\n\r\n    // The below exception handling method can be part of your controller or you can centralise them \r\n    // in class annotated with ControllerAdvice \r\n    @ExceptionHandler(BadRequestBodyException.class)\r\n    public ResponseEntity&lt;Object&gt; handleBadRequestBodyException(BadRequestBodyException ex) {\r\n        var response = new HashMap&lt;String, Object&gt;();\r\n        response.put(&quot;status&quot;, &quot;failure&quot;);\r\n        response.put(&quot;message&quot;, &quot;Request body Validation failed.&quot;);\r\n        response.put(&quot;detailMessage&quot;, ex.getLocalizedMessage());\r\n        return ResponseEntity.internalServerError().body(response);\r\n    }\r\n    \r\n    @ExceptionHandler(ResourceNotFoundException.class)\r\n    public ResponseEntity&lt;Object&gt; handle(ResourceNotFoundException ex) {\r\n        var response = new HashMap&lt;String, Object&gt;();\r\n        response.put(&quot;status&quot;, &quot;failure&quot;);\r\n        response.put(&quot;message&quot;, &quot;Resource not found.&quot;);\r\n        response.put(&quot;detailMessage&quot;, ex.getLocalizedMessage());\r\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(response);\r\n    }\r\n\r\n\r\n    //Service\r\n    @Override\r\n    public String updateCustomer(String id, Customer customer) throws ResourceNotFoundException, BadRequestBodyException {\r\n        log.info(&quot;Updating customer.&quot;);\r\n        Customer existingCustomer = customerRepository\r\n                .findCustomerById(id)\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Error: Customer not found for id - &quot; + id));\r\n        existingCustomer.setCustomerName(customer.getCustomerName());\r\n        existingCustomer.setCustomerType(customer.getCustomerType());\r\n        customerRepository.save(existingCustomer);\r\n        return &quot;Customer updated successfully.&quot;;\r\n    }\r\n\r\nHope this helps!","title":"How to handle BadRequestBodyException and ResouceNotFoundException","body":"<p>Couple of things here.</p>\n<ol>\n<li>I would recommend the service layer not to return the <code>ResponseEntity&lt;T&gt;</code> object instead it should return the DTO or just string in your case.</li>\n<li>Also for request body validation use @Valid annotation on the request body model in controller or if you want to handle the validation do that in controller not in service.</li>\n<li>The controller class should be responsible for to convert/create the <code>ResponseEntity&lt;?&gt;</code> which sends to server.</li>\n<li>In your controller class you can define the method with <code>@ExceptionHandler</code> annotation and specify how you would handle that request. Alternative to that if the exception you are handling is thrown from diffrent services then you can define the class with <code>@ControllerAdvice</code> and specify the exception handling methods there.</li>\n</ol>\n<p>With regards to your code you should do the following:</p>\n<pre><code>//Controller\n@Override\npublic ResponseEntity&lt;String&gt; updateCustomer(String id, Customer customer)\nthrows ResourceNotFoundException, BadRequestBodyException {\n    if (Strings.isNullOrEmpty(customer.getCustomerName())\n        || Strings.isNullOrEmpty(customer.getCustomerType())) {\n        throw new BadRequestBodyException(&quot;Error: request body can not be null or empty!&quot;);\n    }\n    log.info(&quot;Updating customer.&quot;);\n    return ResponseEntity.ok(customerService.updateCustomer(id, customer);\n}\n\n// The below exception handling method can be part of your controller or you can centralise them \n// in class annotated with ControllerAdvice \n@ExceptionHandler(BadRequestBodyException.class)\npublic ResponseEntity&lt;Object&gt; handleBadRequestBodyException(BadRequestBodyException ex) {\n    var response = new HashMap&lt;String, Object&gt;();\n    response.put(&quot;status&quot;, &quot;failure&quot;);\n    response.put(&quot;message&quot;, &quot;Request body Validation failed.&quot;);\n    response.put(&quot;detailMessage&quot;, ex.getLocalizedMessage());\n    return ResponseEntity.internalServerError().body(response);\n}\n\n@ExceptionHandler(ResourceNotFoundException.class)\npublic ResponseEntity&lt;Object&gt; handle(ResourceNotFoundException ex) {\n    var response = new HashMap&lt;String, Object&gt;();\n    response.put(&quot;status&quot;, &quot;failure&quot;);\n    response.put(&quot;message&quot;, &quot;Resource not found.&quot;);\n    response.put(&quot;detailMessage&quot;, ex.getLocalizedMessage());\n    return ResponseEntity.status(HttpStatus.NOT_FOUND).body(response);\n}\n\n\n//Service\n@Override\npublic String updateCustomer(String id, Customer customer) throws ResourceNotFoundException, BadRequestBodyException {\n    log.info(&quot;Updating customer.&quot;);\n    Customer existingCustomer = customerRepository\n            .findCustomerById(id)\n            .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Error: Customer not found for id - &quot; + id));\n    existingCustomer.setCustomerName(customer.getCustomerName());\n    existingCustomer.setCustomerType(customer.getCustomerType());\n    customerRepository.save(existingCustomer);\n    return &quot;Customer updated successfully.&quot;;\n}\n</code></pre>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":18727290,"reputation":137,"user_id":13653602,"display_name":"noBoom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668834997,"creation_date":1668831599,"question_id":74497527,"body_markdown":"I am new in java world. In service layer i have this `updateCustomer` method. \r\n\r\nAm i handling exceptions correctly? \r\nIs there a better way to do it? \r\nAny pros and cons with my way of doing it?\r\n\r\n```\r\n    @Override\r\n    public ResponseEntity&lt;String&gt; updateCustomer(String id, Customer customer) throws ResourceNotFoundException, BadRequestBodyException {\r\n        log.info(&quot;Updating customer.&quot;);\r\n\r\n        if(!Strings.isNullOrEmpty(customer.getCustomerName())\r\n                &amp;&amp; !Strings.isNullOrEmpty(customer.getCustomerType())){\r\n\r\n            Customer existingCustomer =  customerRepository.findCustomerById(id)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Error: Customer not found for id - &quot; + id));\r\n\r\n            existingCustomer.setCustomerName(customer.getCustomerName());\r\n            existingCustomer.setCustomerType(customer.getCustomerType());\r\n\r\n            customerRepository.save(existingCustomer);\r\n\r\n            return ResponseEntity.ok().body(&quot;Customer updated successfully.&quot;);\r\n        } else {\r\n            throw new BadRequestBodyException(&quot;Error: request body can not be null or empty!&quot;);\r\n        }\r\n    }\r\n```","title":"How to handle BadRequestBodyException and ResouceNotFoundException","body":"<p>I am new in java world. In service layer i have this <code>updateCustomer</code> method.</p>\n<p>Am i handling exceptions correctly?\nIs there a better way to do it?\nAny pros and cons with my way of doing it?</p>\n<pre><code>    @Override\n    public ResponseEntity&lt;String&gt; updateCustomer(String id, Customer customer) throws ResourceNotFoundException, BadRequestBodyException {\n        log.info(&quot;Updating customer.&quot;);\n\n        if(!Strings.isNullOrEmpty(customer.getCustomerName())\n                &amp;&amp; !Strings.isNullOrEmpty(customer.getCustomerType())){\n\n            Customer existingCustomer =  customerRepository.findCustomerById(id)\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Error: Customer not found for id - &quot; + id));\n\n            existingCustomer.setCustomerName(customer.getCustomerName());\n            existingCustomer.setCustomerType(customer.getCustomerType());\n\n            customerRepository.save(existingCustomer);\n\n            return ResponseEntity.ok().body(&quot;Customer updated successfully.&quot;);\n        } else {\n            throw new BadRequestBodyException(&quot;Error: request body can not be null or empty!&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","apache-httpclient-4.x"],"answers":[{"comments":[{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":0,"creation_date":1547401704,"post_id":54170304,"comment_id":95171981,"body_markdown":"Yes, HttpClient based on the classic (blocking) I/O mode is unable to handle out of sequence responses due to limitations of that said model.","body":"Yes, HttpClient based on the classic (blocking) I/O mode is unable to handle out of sequence responses due to limitations of that said model."},{"owner":{"account_id":5098045,"reputation":325,"user_id":6372089,"display_name":"tdudgeon"},"score":0,"creation_date":1547501882,"post_id":54170304,"comment_id":95207243,"body_markdown":"Thank you. That example helped me enormously.\nI was of the misunderstanding that traditional HttpClient was already handling async requests when you used the InputStream variants of getting the response body.","body":"Thank you. That example helped me enormously. I was of the misunderstanding that traditional HttpClient was already handling async requests when you used the InputStream variants of getting the response body."},{"owner":{"account_id":5098045,"reputation":325,"user_id":6372089,"display_name":"tdudgeon"},"score":0,"creation_date":1547641154,"post_id":54170304,"comment_id":95259482,"body_markdown":"Actually, I spoke too soon. It&#39;s not working as expected. What I&#39;m finding is that the `onResponseReceived()` method is not being called until the response has been completely written on the server side. Only then does processing commence.\nWith `curl` as described above the the response starts getting consumed as soon as it starts to be written on the server side.","body":"Actually, I spoke too soon. It&#39;s not working as expected. What I&#39;m finding is that the <code>onResponseReceived()</code> method is not being called until the response has been completely written on the server side. Only then does processing commence. With <code>curl</code> as described above the the response starts getting consumed as soon as it starts to be written on the server side."},{"owner":{"account_id":5098045,"reputation":325,"user_id":6372089,"display_name":"tdudgeon"},"score":0,"creation_date":1547735765,"post_id":54170304,"comment_id":95300899,"body_markdown":"Turns out that the problem was on the server causing the response not to be sent. The async processing is running fine.","body":"Turns out that the problem was on the server causing the response not to be sent. The async processing is running fine."}],"tags":[],"owner":{"account_id":8131187,"reputation":11065,"user_id":6124411,"display_name":"cody"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1547393087,"creation_date":1547393087,"answer_id":54170304,"question_id":54168960,"body_markdown":"I believe you will need to to use [`HttpAsyncClient`][1] to achieve asynchronous request handling.\r\n\r\nConsider the following example, it will stream the response in chunks which you can handle in the overridden `onCharReceived` method. For the purposes of this example, I just have it printing the length of each chunk.\r\n\r\nObviously you will need to modify the endpoint, headers and request data to your needs:\r\n\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.concurrent.FutureCallback;\r\n    import org.apache.http.entity.StringEntity;\r\n    import org.apache.http.impl.nio.client.CloseableHttpAsyncClient;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClients;\r\n    import org.apache.http.nio.IOControl;\r\n    import org.apache.http.nio.client.methods.AsyncCharConsumer;\r\n    import org.apache.http.nio.client.methods.HttpAsyncMethods;\r\n    import org.apache.http.nio.protocol.HttpAsyncRequestProducer;\r\n    import org.apache.http.protocol.HttpContext;\r\n    \r\n    import java.nio.CharBuffer;\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    public class HttpAsyncTest {\r\n    \r\n        public static void main(String[] args) {\r\n            try (CloseableHttpAsyncClient httpclient = HttpAsyncClients.createDefault()) {\r\n                httpclient.start();\r\n    \r\n                final CountDownLatch latch = new CountDownLatch(1);\r\n                final HttpPost request = new HttpPost(&quot;https://postman-echo.com/post&quot;);\r\n                request.setEntity(new StringEntity(&quot;This is the request data&quot;));\r\n                request.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    \r\n                HttpAsyncRequestProducer producer = HttpAsyncMethods.create(request);\r\n                AsyncCharConsumer&lt;HttpResponse&gt; consumer = new AsyncCharConsumer&lt;HttpResponse&gt;() {\r\n                    HttpResponse response;\r\n    \r\n                    @Override\r\n                    protected void onResponseReceived(final HttpResponse response) {\r\n                        this.response = response;\r\n                    }\r\n    \r\n                    @Override\r\n                    protected void onCharReceived(final CharBuffer buf, final IOControl ioctrl) {\r\n                        System.out.printf(&quot;onCharReceived: %d\\n&quot;, buf.length());\r\n                    }\r\n    \r\n                    @Override\r\n                    protected HttpResponse buildResult(final HttpContext context) {\r\n                        return this.response;\r\n                    }\r\n                };\r\n    \r\n                httpclient.execute(producer, consumer, new FutureCallback&lt;HttpResponse&gt;() {\r\n                    public void completed(final HttpResponse response3) {\r\n                        latch.countDown();\r\n                        System.out.println(request.getRequestLine() + &quot;-&gt;&quot; + response3.getStatusLine());\r\n                    }\r\n    \r\n                    public void failed(final Exception ex) {\r\n                        latch.countDown();\r\n                        System.out.println(request.getRequestLine() + &quot;-&gt;&quot; + ex);\r\n                    }\r\n    \r\n                    public void cancelled() {\r\n                        latch.countDown();\r\n                        System.out.println(request.getRequestLine() + &quot; cancelled&quot;);\r\n                    }\r\n                });\r\n    \r\n                latch.await();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-asyncclient-ga/index.html","title":"Response not returned until data is complete","body":"<p>I believe you will need to to use <a href=\"https://hc.apache.org/httpcomponents-asyncclient-ga/index.html\" rel=\"nofollow noreferrer\"><code>HttpAsyncClient</code></a> to achieve asynchronous request handling.</p>\n\n<p>Consider the following example, it will stream the response in chunks which you can handle in the overridden <code>onCharReceived</code> method. For the purposes of this example, I just have it printing the length of each chunk.</p>\n\n<p>Obviously you will need to modify the endpoint, headers and request data to your needs:</p>\n\n<pre><code>import org.apache.http.HttpResponse;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.concurrent.FutureCallback;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.nio.client.CloseableHttpAsyncClient;\nimport org.apache.http.impl.nio.client.HttpAsyncClients;\nimport org.apache.http.nio.IOControl;\nimport org.apache.http.nio.client.methods.AsyncCharConsumer;\nimport org.apache.http.nio.client.methods.HttpAsyncMethods;\nimport org.apache.http.nio.protocol.HttpAsyncRequestProducer;\nimport org.apache.http.protocol.HttpContext;\n\nimport java.nio.CharBuffer;\nimport java.util.concurrent.CountDownLatch;\n\npublic class HttpAsyncTest {\n\n    public static void main(String[] args) {\n        try (CloseableHttpAsyncClient httpclient = HttpAsyncClients.createDefault()) {\n            httpclient.start();\n\n            final CountDownLatch latch = new CountDownLatch(1);\n            final HttpPost request = new HttpPost(\"https://postman-echo.com/post\");\n            request.setEntity(new StringEntity(\"This is the request data\"));\n            request.setHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n            HttpAsyncRequestProducer producer = HttpAsyncMethods.create(request);\n            AsyncCharConsumer&lt;HttpResponse&gt; consumer = new AsyncCharConsumer&lt;HttpResponse&gt;() {\n                HttpResponse response;\n\n                @Override\n                protected void onResponseReceived(final HttpResponse response) {\n                    this.response = response;\n                }\n\n                @Override\n                protected void onCharReceived(final CharBuffer buf, final IOControl ioctrl) {\n                    System.out.printf(\"onCharReceived: %d\\n\", buf.length());\n                }\n\n                @Override\n                protected HttpResponse buildResult(final HttpContext context) {\n                    return this.response;\n                }\n            };\n\n            httpclient.execute(producer, consumer, new FutureCallback&lt;HttpResponse&gt;() {\n                public void completed(final HttpResponse response3) {\n                    latch.countDown();\n                    System.out.println(request.getRequestLine() + \"-&gt;\" + response3.getStatusLine());\n                }\n\n                public void failed(final Exception ex) {\n                    latch.countDown();\n                    System.out.println(request.getRequestLine() + \"-&gt;\" + ex);\n                }\n\n                public void cancelled() {\n                    latch.countDown();\n                    System.out.println(request.getRequestLine() + \" cancelled\");\n                }\n            });\n\n            latch.await();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5098045,"reputation":325,"user_id":6372089,"display_name":"tdudgeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54170304,"answer_count":1,"score":0,"last_activity_date":1668834840,"creation_date":1547383242,"question_id":54168960,"body_markdown":"I&#39;ve having problems with using Apache HttpClient4 to read a large response stream with a POST operation. The response is being sent but is of unknown length.\r\nWhen I consume it with `curl` it starts getting consumed immediately, but the HttpClient it waits till the entire response is received before it starts consuming. \r\n\r\nWith `curl` the activity looks like this and the output starts getting written almost immediately:\r\n```\r\n$ curl -v -X POST --data-binary @input.gz http://chemservices:8080/chem-services-cdk-basic/rest/v1/converters/dataset_to_sdf  -H &#39;Content-Type: application/x-squonk-dataset-molecule+json&#39; -H &#39;Content-Encoding: gzip&#39; -H &#39;Accept: chemical/x-mdl-sdfile&#39; -o output.sdf -v\r\nNote: Unnecessary use of -X or --request, POST is already inferred.\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 172.18.0.6...\r\n* TCP_NODELAY set\r\n* Connected to chemservices (172.18.0.6) port 8080 (#0)\r\n&gt; POST /chem-services-cdk-basic/rest/v1/converters/dataset_to_sdf HTTP/1.1\r\n&gt; Host: chemservices:8080\r\n&gt; User-Agent: curl/7.58.0\r\n&gt; Content-Type: application/x-squonk-dataset-molecule+json\r\n&gt; Content-Encoding: gzip\r\n&gt; Accept: chemical/x-mdl-sdfile\r\n&gt; Content-Length: 19397182\r\n&gt; Expect: 100-continue\r\n&gt; \r\n&lt; HTTP/1.1 100 Continue\r\n} [16384 bytes data]\r\n* We are completely uploaded and fine\r\n&lt; HTTP/1.1 200 OK\r\n&lt; Server: Apache-Coyote/1.1\r\n&lt; Access-Control-Allow-Origin: *\r\n&lt; Access-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, CONNECT, PATCH\r\n&lt; Access-Control-Max-Age: 3600\r\n&lt; Access-Control-Allow-Headers: Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers\r\n&lt; Content-Type: chemical/x-mdl-sdfile\r\n&lt; Transfer-Encoding: chunked\r\n&lt; Date: Sun, 13 Jan 2019 12:30:18 GMT\r\n&lt; \r\n{ [1031 bytes data]\r\n100  172M    0  154M  100 18.4M  7103k   851k  0:00:22  0:00:22 --:--:-- 7301k\r\n* Connection #0 to host chemservices left intact\r\n```\r\n\r\nBut when I use HttpClient the execute() operation blocks until the entire response has been written:\r\n```\r\nLOG.info(&quot;Posting commencing&quot;);\r\nCloseableHttpResponse resp = httpclient.execute(httpPost);\r\nLOG.info(&quot;Posting complete&quot;);\r\n```\r\n\r\nThe `Content-Type`, `Content-Encoding`, `Accept` and `Accept-Encoding` headers are being set on the request.\r\n\r\nIf I set the `SocketTimeout` parameter to a large enough value I can get the response, but clearly this is not the right solution!\r\n\r\nAny suggestions for how to handle this correctly?\r\n\r\n","title":"Response not returned until data is complete","body":"<p>I've having problems with using Apache HttpClient4 to read a large response stream with a POST operation. The response is being sent but is of unknown length.\nWhen I consume it with <code>curl</code> it starts getting consumed immediately, but the HttpClient it waits till the entire response is received before it starts consuming. </p>\n\n<p>With <code>curl</code> the activity looks like this and the output starts getting written almost immediately:</p>\n\n<pre><code>$ curl -v -X POST --data-binary @input.gz http://chemservices:8080/chem-services-cdk-basic/rest/v1/converters/dataset_to_sdf  -H 'Content-Type: application/x-squonk-dataset-molecule+json' -H 'Content-Encoding: gzip' -H 'Accept: chemical/x-mdl-sdfile' -o output.sdf -v\nNote: Unnecessary use of -X or --request, POST is already inferred.\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 172.18.0.6...\n* TCP_NODELAY set\n* Connected to chemservices (172.18.0.6) port 8080 (#0)\n&gt; POST /chem-services-cdk-basic/rest/v1/converters/dataset_to_sdf HTTP/1.1\n&gt; Host: chemservices:8080\n&gt; User-Agent: curl/7.58.0\n&gt; Content-Type: application/x-squonk-dataset-molecule+json\n&gt; Content-Encoding: gzip\n&gt; Accept: chemical/x-mdl-sdfile\n&gt; Content-Length: 19397182\n&gt; Expect: 100-continue\n&gt; \n&lt; HTTP/1.1 100 Continue\n} [16384 bytes data]\n* We are completely uploaded and fine\n&lt; HTTP/1.1 200 OK\n&lt; Server: Apache-Coyote/1.1\n&lt; Access-Control-Allow-Origin: *\n&lt; Access-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, CONNECT, PATCH\n&lt; Access-Control-Max-Age: 3600\n&lt; Access-Control-Allow-Headers: Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers\n&lt; Content-Type: chemical/x-mdl-sdfile\n&lt; Transfer-Encoding: chunked\n&lt; Date: Sun, 13 Jan 2019 12:30:18 GMT\n&lt; \n{ [1031 bytes data]\n100  172M    0  154M  100 18.4M  7103k   851k  0:00:22  0:00:22 --:--:-- 7301k\n* Connection #0 to host chemservices left intact\n</code></pre>\n\n<p>But when I use HttpClient the execute() operation blocks until the entire response has been written:</p>\n\n<pre><code>LOG.info(\"Posting commencing\");\nCloseableHttpResponse resp = httpclient.execute(httpPost);\nLOG.info(\"Posting complete\");\n</code></pre>\n\n<p>The <code>Content-Type</code>, <code>Content-Encoding</code>, <code>Accept</code> and <code>Accept-Encoding</code> headers are being set on the request.</p>\n\n<p>If I set the <code>SocketTimeout</code> parameter to a large enough value I can get the response, but clearly this is not the right solution!</p>\n\n<p>Any suggestions for how to handle this correctly?</p>\n"},{"tags":["java","smtp","wildfly","mail-server"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1667894198,"post_id":74356608,"comment_id":131270047,"body_markdown":"Your JNDI configuration to get your mail session looks wrong. Paste the mail subsystem configuration to see where the issue is.","body":"Your JNDI configuration to get your mail session looks wrong. Paste the mail subsystem configuration to see where the issue is."}],"answers":[{"tags":[],"owner":{"account_id":22401625,"reputation":11,"user_id":16611956,"display_name":"durga murugan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668834664,"creation_date":1668834664,"answer_id":74497704,"question_id":74356608,"body_markdown":"&quot;GmailSES&quot;-is the  Resource(lookup) name \tlike this &quot;**@Resource(lookup = &quot;java:jboss/mail/GmailSES&quot;)*&quot;&quot; in my Backend java code,\r\nthis name missed in my Data Source list in a standalone.xml..after added it the error went. GmailSES** is a custom name ,So whenever you face the *Required services that are not installed* try to check the **name**...and the line where it is showing ;);):(","title":"Required services that are not installed &quot;jboss.naming.context.java.jboss.mail.GmailSES&quot;,","body":"<p>&quot;GmailSES&quot;-is the  Resource(lookup) name    like this &quot;<strong>@Resource(lookup = &quot;java:jboss/mail/GmailSES&quot;)*&quot;&quot; in my Backend java code,\nthis name missed in my Data Source list in a standalone.xml..after added it the error went. GmailSES</strong> is a custom name ,So whenever you face the <em>Required services that are not installed</em> try to check the <strong>name</strong>...and the line where it is showing ;);):(</p>\n"}],"owner":{"account_id":22401625,"reputation":11,"user_id":16611956,"display_name":"durga murugan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74497704,"answer_count":1,"score":0,"last_activity_date":1668834664,"creation_date":1667889793,"question_id":74356608,"body_markdown":"```\r\n&quot;jboss.deployment.unit.\\&quot;EmployeeAttendenceAPI.war\\component.CommonMailTemplateWebService.START&quot;,\r\n&quot;jboss.deployment.unit.\\&quot;EmployeeAttendenceAPI.war\\component.ShiftAutomationNewMail.START&quot;,      &quot;jboss.deployment.unit.\\&quot;EmployeeAttendenceAPI.war\\&quot;.component.ShiftAutomationNewMail.WeldInstantiator&quot;,etc\r\n```\r\n\r\nI tried to generate the war in my java application, unable to do, my wild fly server showing this error ,\r\n\r\nchecked  mail server smtp-its configured well in my standalone.bat, also added java mail jar file,\r\nthe same mail configuration working fine in another project, why here it showing error\r\n","title":"Required services that are not installed &quot;jboss.naming.context.java.jboss.mail.GmailSES&quot;,","body":"<pre><code>&quot;jboss.deployment.unit.\\&quot;EmployeeAttendenceAPI.war\\component.CommonMailTemplateWebService.START&quot;,\n&quot;jboss.deployment.unit.\\&quot;EmployeeAttendenceAPI.war\\component.ShiftAutomationNewMail.START&quot;,      &quot;jboss.deployment.unit.\\&quot;EmployeeAttendenceAPI.war\\&quot;.component.ShiftAutomationNewMail.WeldInstantiator&quot;,etc\n</code></pre>\n<p>I tried to generate the war in my java application, unable to do, my wild fly server showing this error ,</p>\n<p>checked  mail server smtp-its configured well in my standalone.bat, also added java mail jar file,\nthe same mail configuration working fine in another project, why here it showing error</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1544079011,"post_id":53645969,"comment_id":94150477,"body_markdown":"this code doesn&#39;t have or use a variable with that name. did you re-compile before running?","body":"this code doesn&#39;t have or use a variable with that name. did you re-compile before running?"},{"owner":{"account_id":1669558,"reputation":2825,"user_id":1536286,"accept_rate":50,"display_name":"Mete"},"score":0,"creation_date":1544079560,"post_id":53645969,"comment_id":94150701,"body_markdown":"Are you sure you use the correct layout? (R.layout.item)","body":"Are you sure you use the correct layout? (R.layout.item)"},{"owner":{"account_id":2416969,"reputation":1082,"user_id":2110812,"display_name":"Kush"},"score":0,"creation_date":1544080458,"post_id":53645969,"comment_id":94151040,"body_markdown":"share your &quot;item&quot; layout","body":"share your &quot;item&quot; layout"}],"answers":[{"tags":[],"owner":{"account_id":12726293,"reputation":49,"user_id":9244715,"display_name":"Shubham Mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668833213,"creation_date":1544079241,"answer_id":53646034,"question_id":53645969,"body_markdown":"Make `ItemAdapter` like this:\r\n\r\n    public class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ViewHolder&gt; { … }","title":"Cannot Resolve Symbol &#39;textView&#39; in onBindViewHolder","body":"<p>Make <code>ItemAdapter</code> like this:</p>\n<pre><code>public class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ViewHolder&gt; { … }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6754395,"reputation":1,"user_id":5203388,"display_name":"Charlyge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544081734,"creation_date":1544079441,"answer_id":53646076,"question_id":53645969,"body_markdown":"Change RecyclerView.Adapter to `RecyclerView.Adapter&lt;ItemAdapter.ViewHolder&gt;`","title":"Cannot Resolve Symbol &#39;textView&#39; in onBindViewHolder","body":"<p>Change RecyclerView.Adapter to <code>RecyclerView.Adapter&lt;ItemAdapter.ViewHolder&gt;</code></p>\n"},{"comments":[{"owner":{"account_id":6123934,"reputation":585,"user_id":4776577,"accept_rate":100,"display_name":"Karan Khurana"},"score":0,"creation_date":1544081828,"post_id":53646281,"comment_id":94151532,"body_markdown":"try now, i&#39;ve made a change.","body":"try now, i&#39;ve made a change."}],"tags":[],"owner":{"account_id":6123934,"reputation":585,"user_id":4776577,"accept_rate":100,"display_name":"Karan Khurana"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544081759,"creation_date":1544080366,"answer_id":53646281,"question_id":53645969,"body_markdown":"You need to add adapter name with holder name. I&#39;ve made changes it will work.\r\n\r\n    public class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ViewHolder&gt; {\r\n    private ArrayList&lt;Item&gt; items;\r\n\r\n    public ItemAdapter(ArrayList&lt;Item&gt; items){\r\n        this.items = items;\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        public final View view;\r\n        public final TextView textView8;\r\n        public final TextView textView7;\r\n        public final TextView textView10;\r\n\r\n        public ViewHolder(@NonNull View view) {\r\n            super(view);\r\n            this.view = view;\r\n            textView8 = view.findViewById(R.id.textView8);\r\n            textView7 = view.findViewById(R.id.textView7);\r\n            textView10 = view.findViewById(R.id.textView10);\r\n        }\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ItemAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int i) {\r\n        View v = (View) LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false);\r\n        return new ViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        Item item = items.get(position);\r\n\r\n        holder.textView8.setText(item.getTextView8());\r\n        holder.textView7.setText(item.getTextView7());\r\n        holder.textView10.setText(item.getTextView10());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        if(items != null){\r\n            return items.size();\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n\r\n}","title":"Cannot Resolve Symbol &#39;textView&#39; in onBindViewHolder","body":"<p>You need to add adapter name with holder name. I've made changes it will work.</p>\n\n<pre><code>public class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ViewHolder&gt; {\nprivate ArrayList&lt;Item&gt; items;\n\npublic ItemAdapter(ArrayList&lt;Item&gt; items){\n    this.items = items;\n}\n\npublic static class ViewHolder extends RecyclerView.ViewHolder {\n    public final View view;\n    public final TextView textView8;\n    public final TextView textView7;\n    public final TextView textView10;\n\n    public ViewHolder(@NonNull View view) {\n        super(view);\n        this.view = view;\n        textView8 = view.findViewById(R.id.textView8);\n        textView7 = view.findViewById(R.id.textView7);\n        textView10 = view.findViewById(R.id.textView10);\n    }\n}\n\n@NonNull\n@Override\npublic ItemAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int i) {\n    View v = (View) LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false);\n    return new ViewHolder(v);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    Item item = items.get(position);\n\n    holder.textView8.setText(item.getTextView8());\n    holder.textView7.setText(item.getTextView7());\n    holder.textView10.setText(item.getTextView10());\n}\n\n@Override\npublic int getItemCount() {\n    if(items != null){\n        return items.size();\n    } else {\n        return 0;\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":12154859,"reputation":946,"user_id":8874071,"display_name":"iFanie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544080817,"creation_date":1544080817,"answer_id":53646385,"question_id":53645969,"body_markdown":"Cast the ViewHolder provided by the function you override to your ViewHolder type and then use that.\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n        Item item = items.get(position);\r\n        \r\n        /* Cast first */\r\n        ViewHolder viewHolder = (ViewHolder) holder;\r\n\r\n        /* Then use */\r\n        viewHolder.textView8.setText(item.getTextView8());\r\n        viewHolder.textView7.setText(item.getTextView7());\r\n        viewHolder.textView10.setText(item.getTextView10());\r\n    }\r\n\r\nYour ViewHolder type is ```ViewHolder``` (you could change your class name to something more appropriate), whilst the function override provides the type you extend, which is ```RecyclerView.ViewHolder```.","title":"Cannot Resolve Symbol &#39;textView&#39; in onBindViewHolder","body":"<p>Cast the ViewHolder provided by the function you override to your ViewHolder type and then use that.</p>\n\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n    Item item = items.get(position);\n\n    /* Cast first */\n    ViewHolder viewHolder = (ViewHolder) holder;\n\n    /* Then use */\n    viewHolder.textView8.setText(item.getTextView8());\n    viewHolder.textView7.setText(item.getTextView7());\n    viewHolder.textView10.setText(item.getTextView10());\n}\n</code></pre>\n\n<p>Your ViewHolder type is <code>ViewHolder</code> (you could change your class name to something more appropriate), whilst the function override provides the type you extend, which is <code>RecyclerView.ViewHolder</code>.</p>\n"},{"tags":[],"owner":{"account_id":6697526,"reputation":168,"user_id":5165127,"display_name":"zaheer ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544090904,"creation_date":1544090904,"answer_id":53648914,"question_id":53645969,"body_markdown":"i think you should extend ItemAdapter like this:\r\n\r\n    public class ItemAdapter extends RecyclerView.Adapter&lt;Itemadpater.ViewHolder&gt;","title":"Cannot Resolve Symbol &#39;textView&#39; in onBindViewHolder","body":"<p>i think you should extend ItemAdapter like this:</p>\n\n<pre><code>public class ItemAdapter extends RecyclerView.Adapter&lt;Itemadpater.ViewHolder&gt;\n</code></pre>\n"}],"owner":{"account_id":14353847,"reputation":75,"user_id":10368422,"display_name":"Abel Herlambang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1153,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":53646034,"answer_count":5,"score":2,"last_activity_date":1668833213,"creation_date":1544078923,"question_id":53645969,"body_markdown":"I&#39;m still learning to create a mobile app so i guess i make some small mistake here...\r\n\r\nI&#39;m trying to make a recyclerView, But there&#39;s an error in the Adapter.\r\ni&#39;ve been searching for the answer here, nothing worked for me. Here&#39;s my code\r\n\r\n    package com.abelherl.carttest;\r\n\r\n    import android.support.annotation.NonNull;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n\r\n    import org.w3c.dom.Text;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class ItemAdapter extends RecyclerView.Adapter {\r\n    private ArrayList&lt;Item&gt; items;\r\n\r\n    public ItemAdapter(ArrayList&lt;Item&gt; items){\r\n        this.items = items;\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        public final View view;\r\n        public final TextView textView8;\r\n        public final TextView textView7;\r\n        public final TextView textView10;\r\n\r\n        public ViewHolder(@NonNull View view) {\r\n            super(view);\r\n            this.view = view;\r\n            textView8 = view.findViewById(R.id.textView8);\r\n            textView7 = view.findViewById(R.id.textView7);\r\n            textView10 = view.findViewById(R.id.textView10);\r\n        }\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int i) {\r\n        View v = (View) LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false);\r\n        return new ViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n        Item item = items.get(position);\r\n\r\n        holder.textView8.setText(item.getTextView8());\r\n        holder.textView7.setText(item.getTextView7());\r\n        holder.textView10.setText(item.getTextView10());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        if(items != null){\r\n            return items.size();\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n\r\n    }\r\n\r\nThanks for your answer.\r\n","title":"Cannot Resolve Symbol &#39;textView&#39; in onBindViewHolder","body":"<p>I'm still learning to create a mobile app so i guess i make some small mistake here...</p>\n\n<p>I'm trying to make a recyclerView, But there's an error in the Adapter.\ni've been searching for the answer here, nothing worked for me. Here's my code</p>\n\n<pre><code>package com.abelherl.carttest;\n\nimport android.support.annotation.NonNull;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport org.w3c.dom.Text;\n\nimport java.util.ArrayList;\n\npublic class ItemAdapter extends RecyclerView.Adapter {\nprivate ArrayList&lt;Item&gt; items;\n\npublic ItemAdapter(ArrayList&lt;Item&gt; items){\n    this.items = items;\n}\n\npublic static class ViewHolder extends RecyclerView.ViewHolder {\n    public final View view;\n    public final TextView textView8;\n    public final TextView textView7;\n    public final TextView textView10;\n\n    public ViewHolder(@NonNull View view) {\n        super(view);\n        this.view = view;\n        textView8 = view.findViewById(R.id.textView8);\n        textView7 = view.findViewById(R.id.textView7);\n        textView10 = view.findViewById(R.id.textView10);\n    }\n}\n\n@NonNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int i) {\n    View v = (View) LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false);\n    return new ViewHolder(v);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n    Item item = items.get(position);\n\n    holder.textView8.setText(item.getTextView8());\n    holder.textView7.setText(item.getTextView7());\n    holder.textView10.setText(item.getTextView10());\n}\n\n@Override\npublic int getItemCount() {\n    if(items != null){\n        return items.size();\n    } else {\n        return 0;\n    }\n}\n\n\n}\n</code></pre>\n\n<p>Thanks for your answer.</p>\n"},{"tags":["java","mysql","jsp","servlets","dao"],"comments":[{"owner":{"account_id":2517962,"reputation":12778,"user_id":10195153,"display_name":"danblack"},"score":0,"creation_date":1582839283,"post_id":60441736,"comment_id":106925353,"body_markdown":"Like [Java - escape string to prevent SQL injection](https://stackoverflow.com/questions/1812891/java-escape-string-to-prevent-sql-injection). Add `%` to search string and then treat that as the param to the prepared statement.","body":"Like <a href=\"https://stackoverflow.com/questions/1812891/java-escape-string-to-prevent-sql-injection\">Java - escape string to prevent SQL injection</a>. Add <code>%</code> to search string and then treat that as the param to the prepared statement."},{"owner":{"account_id":16719514,"reputation":608,"user_id":12084800,"display_name":"Eric"},"score":0,"creation_date":1582849614,"post_id":60441736,"comment_id":106928254,"body_markdown":"show us the final html in browser. (the 4 or 5 first &lt;tr&gt; in table)","body":"show us the final html in browser. (the 4 or 5 first &lt;tr&gt; in table)"},{"owner":{"account_id":13235523,"reputation":11,"user_id":9557795,"display_name":"Macca99"},"score":0,"creation_date":1582881338,"post_id":60441736,"comment_id":106936871,"body_markdown":"Added images there of the final HTML. @Eric","body":"Added images there of the final HTML. @Eric"},{"owner":{"account_id":13235523,"reputation":11,"user_id":9557795,"display_name":"Macca99"},"score":0,"creation_date":1582881421,"post_id":60441736,"comment_id":106936905,"body_markdown":"Thank you @danblack I&#39;ll add that to my search code!","body":"Thank you @danblack I&#39;ll add that to my search code!"},{"owner":{"account_id":14686604,"reputation":28244,"user_id":10606400,"display_name":"Swati"},"score":0,"creation_date":1582900234,"post_id":60441736,"comment_id":106946632,"body_markdown":"You cannot use same `id` to multiple html elements, in your jsp code your quantity have `id=&quot;randomno&quot;` this will work for first row and afterwards it will return `null` thats the reason of error you are getting in servlet.","body":"You cannot use same <code>id</code> to multiple html elements, in your jsp code your quantity have <code>id=&quot;randomno&quot;</code> this will work for first row and afterwards it will return <code>null</code> thats the reason of error you are getting in servlet."},{"owner":{"account_id":13235523,"reputation":11,"user_id":9557795,"display_name":"Macca99"},"score":0,"creation_date":1582902572,"post_id":60441736,"comment_id":106947937,"body_markdown":"@Swati - that stopped the error, however it still not adding to the order. What do you suggest I do?","body":"@Swati - that stopped the error, however it still not adding to the order. What do you suggest I do?"},{"owner":{"account_id":14686604,"reputation":28244,"user_id":10606400,"display_name":"Swati"},"score":0,"creation_date":1582903240,"post_id":60441736,"comment_id":106948328,"body_markdown":"alternative here may be to assign dynamic `id` to your quantity input and passing the same to your servlet.","body":"alternative here may be to assign dynamic <code>id</code> to your quantity input and passing the same to your servlet."},{"owner":{"account_id":13235523,"reputation":11,"user_id":9557795,"display_name":"Macca99"},"score":0,"creation_date":1582972562,"post_id":60441736,"comment_id":106965668,"body_markdown":"@Swati I will try that. Thank you very much for your suggestion and help!","body":"@Swati I will try that. Thank you very much for your suggestion and help!"}],"answers":[{"comments":[{"owner":{"account_id":13235523,"reputation":11,"user_id":9557795,"display_name":"Macca99"},"score":0,"creation_date":1582881573,"post_id":60443643,"comment_id":106936976,"body_markdown":"Thank you @Eric, I have changed my code to replicate your answer above. Still encountering the same error. Could it be that I&#39;m using a table format? Might it work without the table?","body":"Thank you @Eric, I have changed my code to replicate your answer above. Still encountering the same error. Could it be that I&#39;m using a table format? Might it work without the table?"},{"owner":{"account_id":16719514,"reputation":608,"user_id":12084800,"display_name":"Eric"},"score":0,"creation_date":1582914876,"post_id":60443643,"comment_id":106953516,"body_markdown":"I wanted to say: show the source code of the html code produced for a few lines, especially the onclick = xxxx part","body":"I wanted to say: show the source code of the html code produced for a few lines, especially the onclick = xxxx part"}],"tags":[],"owner":{"account_id":16719514,"reputation":608,"user_id":12084800,"display_name":"Eric"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582850042,"creation_date":1582849321,"answer_id":60443643,"question_id":60441736,"body_markdown":"your html structure is wrong. It&#39;s first step for your issue.\r\n\r\n\r\nYour template\r\n--\r\n\r\n    &lt;table&gt;\r\n      &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n        &lt;th&gt;ID&lt;/td&gt;\r\n        &lt;th&gt;Name&lt;/td&gt;\r\n        &lt;tr&gt;\r\n    \r\n        &lt;% while (rs.next()) {%&gt;\r\n          &lt;tr&gt;    \r\n            &lt;td&gt;some things&lt;/td&gt;\r\n            &lt;td&gt;some things&lt;/td&gt;\r\n          &lt;/tr&gt;\r\n        &lt;% }%&gt;\r\n      &lt;/tbody&gt;\r\n    &lt;/table&gt;    \r\n\r\n \r\n\r\n\r\nCorrect Template\r\n-----\r\n   \r\n\r\n     &lt;table&gt;\r\n        &lt;thead&gt;\r\n          &lt;tr&gt;\r\n            &lt;th&gt;ID&lt;/th&gt;\r\n            &lt;th&gt;Name&lt;/th&gt;\r\n          &lt;/tr&gt;\r\n        &lt;/thead&gt; \r\n        &lt;tbody&gt;\r\n          &lt;% while (rs.next()) {%&gt;\r\n           &lt;tr&gt;    \r\n             &lt;td&gt;some things&lt;/td&gt;\r\n           &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n\r\nupperCase and lowerCase\r\n---\r\nwarn on \r\n\r\n     &lt;td width=&quot;5%&quot;&gt;&lt;a href=&quot;&quot; onclick=&quot;this.href=&#39;${pageContext.request.contextPath}/orderservlet1?productID=&lt;%=rs.getInt(&quot;productid&quot;)%&gt;&amp;productName=&lt;%=rs.getString(&quot;pname&quot;)%&gt;&amp;pricePerUnit=&lt;%=rs.getDouble(&quot;pricePerUnit&quot;)%&gt;&amp;quantity=&#39;+document.getElementById(&#39;randomno&#39;).value&quot;&gt;Add to Order&lt;/a&gt;&lt;/td&gt;                           \r\n\r\nis not product**I**d and p**N**ame ? instead productid and pname.\r\n","title":"&quot; Error HTTP Status 500 - For input string: &quot;&quot; &quot;, Adding to order function only works for top row in the table, not for any row below it","body":"<p>your html structure is wrong. It's first step for your issue.</p>\n\n<h2>Your template</h2>\n\n<pre><code>&lt;table&gt;\n  &lt;tbody&gt;\n    &lt;tr&gt;\n    &lt;th&gt;ID&lt;/td&gt;\n    &lt;th&gt;Name&lt;/td&gt;\n    &lt;tr&gt;\n\n    &lt;% while (rs.next()) {%&gt;\n      &lt;tr&gt;    \n        &lt;td&gt;some things&lt;/td&gt;\n        &lt;td&gt;some things&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;% }%&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;    \n</code></pre>\n\n<h2>Correct Template</h2>\n\n<pre><code> &lt;table&gt;\n    &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th&gt;ID&lt;/th&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt; \n    &lt;tbody&gt;\n      &lt;% while (rs.next()) {%&gt;\n       &lt;tr&gt;    \n         &lt;td&gt;some things&lt;/td&gt;\n       &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<h2>upperCase and lowerCase</h2>\n\n<p>warn on </p>\n\n<pre><code> &lt;td width=\"5%\"&gt;&lt;a href=\"\" onclick=\"this.href='${pageContext.request.contextPath}/orderservlet1?productID=&lt;%=rs.getInt(\"productid\")%&gt;&amp;productName=&lt;%=rs.getString(\"pname\")%&gt;&amp;pricePerUnit=&lt;%=rs.getDouble(\"pricePerUnit\")%&gt;&amp;quantity='+document.getElementById('randomno').value\"&gt;Add to Order&lt;/a&gt;&lt;/td&gt;                           \n</code></pre>\n\n<p>is not product<strong>I</strong>d and p<strong>N</strong>ame ? instead productid and pname.</p>\n"},{"tags":[],"owner":{"account_id":26980677,"reputation":1,"user_id":20545078,"display_name":"user20545078"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668833152,"creation_date":1668833152,"answer_id":74497615,"question_id":60441736,"body_markdown":"change input type number to text in &quot;CustomerProductsNew.jsp&quot;\r\n\r\n &lt;td width=&quot;5%&quot;&gt;&lt;input type=&quot;number&quot; name=&quot;pricePerUnit&quot; value=&quot;&lt;%=rs.getDouble(&quot;pricePerUnit&quot;)%&gt;&quot; class=&quot;border-0&quot; size=&quot;1&quot; readonly&gt;&lt;/td&gt;\r\n\r\n                        &lt;td width=&quot;5%&quot;&gt;&lt;input id=&quot;randomno&quot; type=&quot;number&quot; name=&quot;quantity&quot; size=&quot;1&quot;&gt;&lt;/td&gt;\r\n\r\n\r\n above input type is wrong because you trying to store integer in string \r\n\r\n &lt;td width=&quot;5%&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;pricePerUnit&quot; value=&quot;&lt;%=rs.getDouble(&quot;pricePerUnit&quot;)%&gt;&quot; class=&quot;border-0&quot; size=&quot;1&quot; readonly&gt;&lt;/td&gt;\r\n\r\n                        &lt;td width=&quot;5%&quot;&gt;&lt;input id=&quot;randomno&quot; type=&quot;text&quot; name=&quot;quantity&quot; size=&quot;1&quot;&gt;&lt;/td&gt;","title":"&quot; Error HTTP Status 500 - For input string: &quot;&quot; &quot;, Adding to order function only works for top row in the table, not for any row below it","body":"<p>change input type number to text in &quot;CustomerProductsNew.jsp&quot;</p>\n \" class=\"border-0\" size=\"1\" readonly>\n<pre><code>                    &lt;td width=&quot;5%&quot;&gt;&lt;input id=&quot;randomno&quot; type=&quot;number&quot; name=&quot;quantity&quot; size=&quot;1&quot;&gt;&lt;/td&gt;\n</code></pre>\n<p>above input type is wrong because you trying to store integer in string</p>\n \" class=\"border-0\" size=\"1\" readonly>\n<pre><code>                    &lt;td width=&quot;5%&quot;&gt;&lt;input id=&quot;randomno&quot; type=&quot;text&quot; name=&quot;quantity&quot; size=&quot;1&quot;&gt;&lt;/td&gt;\n</code></pre>\n"}],"owner":{"account_id":13235523,"reputation":11,"user_id":9557795,"display_name":"Macca99"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668833152,"creation_date":1582837560,"question_id":60441736,"body_markdown":"I am currently working on a project, and one aspect is adding products to an order. \r\nCurrently, the products are displayed in a table, with a button &quot;add to order&quot; next to each row. \r\nThe issue I am encountering is that the &quot;Add to order&quot; button will only work for the top row, and will cause an error for the below row(s)/products when I try to add to order. \r\nAny help on why this is the case would be greatly appreciated! Thank you.\r\n\r\n**The error itself: HTTP Status 500 - For input string: &quot;&quot;**\r\n(Invokes error when I click the add order button below the first row.)\r\n\r\nNote: working with JSP&#39;s, java servlets and MySQL workbench.\r\n\r\n**Code:**\r\n\r\n**&quot;CustomerProductsNew.jsp&quot;:**\r\n\r\n    &lt;%    Statement stat = null;\r\n        ResultSet rs = null;\r\n        stat = conn.createStatement(); \r\n        String search = request.getParameter(&quot;productSearch&quot;);\r\n        String qry; //sets data variable to hold the SQL query\r\n        \r\n        String q = request.getParameter(&quot;cmbCategory&quot;);\r\n\r\n        if (search != null) {\r\n            qry = &quot;SELECT productid, pname, category, priceperunit, qtyavailable, pdesc FROM product WHERE pname LIKE &#39;%&quot; + search + &quot;%&#39; OR category LIKE &#39;%&quot; + search + &quot;%&#39; OR priceperunit LIKE &#39;%&quot; + search + &quot;%&#39; OR pdesc LIKE &#39;%&quot; + search + &quot;%&#39;&quot;;\r\n        } else {\r\n            qry = &quot;SELECT productid, pname, category, priceperunit, qtyavailable, pdesc FROM product&quot;;\r\n        }\r\n\r\n        rs = stat.executeQuery(qry); //executes SQL query\r\n\r\n\r\n    %&gt;\r\n    &lt;table class=&quot;table table-bordered&quot; id=&quot;dataTable&quot; width=&quot;100%&quot; cellspacing=&quot;0&quot;&gt;\r\n                    &lt;thead&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;th&gt;ID&lt;/th&gt;\r\n                            &lt;th&gt;Name&lt;/th&gt;\r\n                            &lt;th&gt;Category&lt;/th&gt;\r\n                            &lt;th&gt;Description&lt;/th&gt;\r\n                            &lt;th&gt;Stock Available&lt;/th&gt;\r\n                            &lt;th&gt;Unit Price&lt;/th&gt;\r\n                            &lt;th&gt;Quantity Required&lt;/th&gt;\r\n                            &lt;th&gt;Add To Order&lt;/th&gt;\r\n                        &lt;/tr&gt;\r\n                    &lt;/thead&gt;\r\n                    &lt;tbody&gt;\r\n\r\n\r\n                        &lt;% while (rs.next()) {%&gt;\r\n                    \r\n                        &lt;tr&gt;    \r\n                            &lt;td width=&quot;5%&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;productID&quot; value=&quot;&lt;%=rs.getInt(&quot;productid&quot;)%&gt;&quot; class=&quot;border-0&quot; size=&quot;1&quot; readonly&gt;&lt;/td&gt;\r\n                            &lt;td width=&quot;5%&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;productName&quot; value=&quot;&lt;%=rs.getString(&quot;pname&quot;)%&gt;&quot; class=&quot;border-0&quot; size=&quot;20&quot; readonly&gt;&lt;/td&gt;\r\n                            &lt;td width=&quot;8%&quot;&gt;&lt;%=rs.getString(&quot;category&quot;)%&gt;&lt;/td&gt;\r\n                            &lt;td width=&quot;25%&quot;&gt;&lt;%=rs.getString(&quot;pdesc&quot;)%&gt;&lt;/td&gt;\r\n                            \r\n                            &lt;td width=&quot;5%&quot;&gt;&lt;%=rs.getDouble(&quot;qtyavailable&quot;)%&gt;&lt;/td&gt;\r\n                            &lt;td width=&quot;5%&quot;&gt;&lt;input type=&quot;number&quot; name=&quot;pricePerUnit&quot; value=&quot;&lt;%=rs.getDouble(&quot;pricePerUnit&quot;)%&gt;&quot; class=&quot;border-0&quot; size=&quot;1&quot; readonly&gt;&lt;/td&gt;\r\n                     \r\n                            &lt;td width=&quot;5%&quot;&gt;&lt;input id=&quot;randomno&quot; type=&quot;number&quot; name=&quot;quantity&quot; size=&quot;1&quot;&gt;&lt;/td&gt;\r\n                            \r\n                            &lt;td width=&quot;5%&quot;&gt;&lt;a href=&quot;&quot; onclick=&quot;this.href=&#39;${pageContext.request.contextPath}/orderservlet1?productID=&lt;%=rs.getInt(&quot;productid&quot;)%&gt;&amp;productName=&lt;%=rs.getString(&quot;pname&quot;)%&gt;&amp;pricePerUnit=&lt;%=rs.getDouble(&quot;pricePerUnit&quot;)%&gt;&amp;quantity=&#39;+document.getElementById(&#39;randomno&#39;).value&quot;&gt;Add to Order&lt;/a&gt;&lt;/td&gt;                           \r\n                            \r\n                        &lt;/tr&gt;\r\n                    \r\n                        &lt;% }%&gt;\r\n\r\n                    &lt;/tbody&gt;\r\n                &lt;/table&gt;\r\n**&quot;OrderServlet1.java&quot;:**\r\n\r\n    @WebServlet(&quot;/orderservlet1&quot;)\r\n    public class OrderServlet1 extends HttpServlet {\r\n\r\n    @Override\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            processRequest(request, response);\r\n            \r\n             HttpSession session = request.getSession();\r\n            \r\n            int productID = Integer.parseInt(request.getParameter(&quot;productID&quot;));\r\n            String productName = request.getParameter(&quot;productName&quot;);\r\n            double pricePerUnit = Double.parseDouble(request.getParameter(&quot;pricePerUnit&quot;));\r\n            int quantity = Integer.parseInt(request.getParameter(&quot;quantity&quot;));\r\n    \r\n            OrderDAO orderBean = null;\r\n    \r\n            Object objOrderBean = session.getAttribute(&quot;order&quot;);\r\n    \r\n            if (objOrderBean != null) {\r\n                orderBean = (OrderDAO) objOrderBean;\r\n            } else {\r\n                orderBean = new OrderDAO();\r\n                session.setAttribute(&quot;order&quot;, orderBean);\r\n            }\r\n    \r\n            orderBean.addOrderItem(productID, productName, pricePerUnit, quantity);\r\n            response.sendRedirect(&quot;CustomerProductsNew.jsp&quot;);\r\n            \r\n        }\r\n    }\r\n**&quot;OrderDAO.java&quot;:**\r\n\r\n    public class OrderDAO {\r\n         private ArrayList allOrderItems = new ArrayList();\r\n        private double orderTotal;\r\n    \r\n        public int getOrderItemCount() {\r\n            return allOrderItems.size();\r\n        }\r\n     public void addOrderItem(int prodID, String prodName, double pricePerU, int qty) {\r\n            double dblTotalCost = 0.0;\r\n            double pricePerUnit = 0.0;\r\n            int iQty = 0;\r\n            OrderItem orderItem = new OrderItem();\r\n            try {\r\n                pricePerUnit = pricePerU;\r\n                iQty = qty;\r\n                if (iQty &gt; 0) {\r\n                    dblTotalCost = pricePerUnit * iQty;\r\n                    orderItem.setProductID(prodID);\r\n                    orderItem.setProductName(prodName);\r\n                    \r\n                    orderItem.setPricePerUnit(pricePerU);\r\n                    orderItem.setQuantity(iQty);\r\n                    orderItem.setTotalCost(dblTotalCost);\r\n                    allOrderItems.add(orderItem);\r\n                    calculateOrderTotal();\r\n                }\r\n            } catch (NumberFormatException nfe) {\r\n                System.out.println(&quot;Error while parsing from String to primitive types: &quot; + nfe.getMessage());\r\n                nfe.printStackTrace();\r\n            }\r\n        }\r\n        \r\n        public void addOrderItem(OrderItem orderItem) {\r\n        allOrderItems.add(orderItem);\r\n     }\r\n      \r\n     public OrderItem getOrderItem(int iItemIndex) {\r\n      OrderItem orderItem = null;\r\n      if(allOrderItems.size()&gt;iItemIndex) {\r\n       orderItem = (OrderItem) allOrderItems.get(iItemIndex);\r\n      }\r\n      return orderItem;\r\n     }\r\n      \r\n     public ArrayList getOrderItems() {\r\n      return allOrderItems;\r\n     }\r\n     public void setOrderItems(ArrayList allOrderItems) {\r\n      this.allOrderItems = allOrderItems;\r\n     }\r\n     public double getOrderTotal() {\r\n      return orderTotal;\r\n     }\r\n     public void setOrderTotal(double dblOrderTotal) {\r\n      this.orderTotal = dblOrderTotal;\r\n     }\r\n      \r\n     protected void calculateOrderTotal() {\r\n      double dblTotal = 0;\r\n      for(int counter=0;counter&lt;allOrderItems.size();counter++) {\r\n       OrderItem orderItem = (OrderItem) allOrderItems.get(counter);\r\n       dblTotal+=orderItem.getTotalCost();\r\n        \r\n      }\r\n      setOrderTotal(dblTotal);\r\n     }\r\n    \r\n    }\r\n\r\n**&quot;OrderItem.java&quot;:**\r\n\r\n    public class OrderItem {\r\n    private int productID;\r\n    private String productName;\r\n    private String category;\r\n    private String pdesc;\r\n    private double pricePerUnit;\r\n    private int quantity;\r\n    private double totalCost;\r\n\r\n    public int getProductID() {\r\n        return productID;\r\n    }\r\n\r\n    public void setProductID(int productID) {\r\n        this.productID = productID;\r\n    }\r\n\r\n    public String getProductName() {\r\n        return productName;\r\n    }\r\n\r\n    public void setProductName(String productName) {\r\n        this.productName = productName;\r\n    }\r\n\r\n    public String getCategory() {\r\n        return category;\r\n    }\r\n\r\n    public void setCategory(String category) {\r\n        this.category = category;\r\n    }\r\n    \r\n    public String getPdesc() {\r\n        return pdesc;\r\n    }\r\n\r\n    public void setPdesc(String pdesc) {\r\n        this.pdesc = pdesc;\r\n    }\r\n\r\n    public double getPricePerUnit() {\r\n        return pricePerUnit;\r\n    }\r\n\r\n    public void setPricePerUnit(double pricePerUnit) {\r\n        this.pricePerUnit = pricePerUnit;\r\n    }\r\n\r\n    public int getQuantity() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(int quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public double getTotalCost() {\r\n        return totalCost;\r\n    }\r\n\r\n    public void setTotalCost(double totalCost) {\r\n        this.totalCost = totalCost;\r\n    }\r\n    }\r\n    }\r\n\r\n**Edit:**\r\n\r\nHave to use links to images as I can&#39;t place them directly here yet.\r\n**Final HTML for Product page:**\r\n![Product homepage][1]\r\n\r\n**Error I&#39;m getting:**\r\n![Error HTTP Status 500...][2]\r\n\r\n  [1]: https://i.stack.imgur.com/4v14j.png\r\n  [2]: https://i.stack.imgur.com/N1ct6.png","title":"&quot; Error HTTP Status 500 - For input string: &quot;&quot; &quot;, Adding to order function only works for top row in the table, not for any row below it","body":"<p>I am currently working on a project, and one aspect is adding products to an order. \nCurrently, the products are displayed in a table, with a button \"add to order\" next to each row. \nThe issue I am encountering is that the \"Add to order\" button will only work for the top row, and will cause an error for the below row(s)/products when I try to add to order. \nAny help on why this is the case would be greatly appreciated! Thank you.</p>\n\n<p><strong>The error itself: HTTP Status 500 - For input string: \"\"</strong>\n(Invokes error when I click the add order button below the first row.)</p>\n\n<p>Note: working with JSP's, java servlets and MySQL workbench.</p>\n\n<p><strong>Code:</strong></p>\n\n<p><strong>\"CustomerProductsNew.jsp\":</strong></p>\n\n<pre><code>&lt;%    Statement stat = null;\n    ResultSet rs = null;\n    stat = conn.createStatement(); \n    String search = request.getParameter(\"productSearch\");\n    String qry; //sets data variable to hold the SQL query\n\n    String q = request.getParameter(\"cmbCategory\");\n\n    if (search != null) {\n        qry = \"SELECT productid, pname, category, priceperunit, qtyavailable, pdesc FROM product WHERE pname LIKE '%\" + search + \"%' OR category LIKE '%\" + search + \"%' OR priceperunit LIKE '%\" + search + \"%' OR pdesc LIKE '%\" + search + \"%'\";\n    } else {\n        qry = \"SELECT productid, pname, category, priceperunit, qtyavailable, pdesc FROM product\";\n    }\n\n    rs = stat.executeQuery(qry); //executes SQL query\n\n\n%&gt;\n&lt;table class=\"table table-bordered\" id=\"dataTable\" width=\"100%\" cellspacing=\"0\"&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;ID&lt;/th&gt;\n                        &lt;th&gt;Name&lt;/th&gt;\n                        &lt;th&gt;Category&lt;/th&gt;\n                        &lt;th&gt;Description&lt;/th&gt;\n                        &lt;th&gt;Stock Available&lt;/th&gt;\n                        &lt;th&gt;Unit Price&lt;/th&gt;\n                        &lt;th&gt;Quantity Required&lt;/th&gt;\n                        &lt;th&gt;Add To Order&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n\n\n                    &lt;% while (rs.next()) {%&gt;\n\n                    &lt;tr&gt;    \n                        &lt;td width=\"5%\"&gt;&lt;input type=\"text\" name=\"productID\" value=\"&lt;%=rs.getInt(\"productid\")%&gt;\" class=\"border-0\" size=\"1\" readonly&gt;&lt;/td&gt;\n                        &lt;td width=\"5%\"&gt;&lt;input type=\"text\" name=\"productName\" value=\"&lt;%=rs.getString(\"pname\")%&gt;\" class=\"border-0\" size=\"20\" readonly&gt;&lt;/td&gt;\n                        &lt;td width=\"8%\"&gt;&lt;%=rs.getString(\"category\")%&gt;&lt;/td&gt;\n                        &lt;td width=\"25%\"&gt;&lt;%=rs.getString(\"pdesc\")%&gt;&lt;/td&gt;\n\n                        &lt;td width=\"5%\"&gt;&lt;%=rs.getDouble(\"qtyavailable\")%&gt;&lt;/td&gt;\n                        &lt;td width=\"5%\"&gt;&lt;input type=\"number\" name=\"pricePerUnit\" value=\"&lt;%=rs.getDouble(\"pricePerUnit\")%&gt;\" class=\"border-0\" size=\"1\" readonly&gt;&lt;/td&gt;\n\n                        &lt;td width=\"5%\"&gt;&lt;input id=\"randomno\" type=\"number\" name=\"quantity\" size=\"1\"&gt;&lt;/td&gt;\n\n                        &lt;td width=\"5%\"&gt;&lt;a href=\"\" onclick=\"this.href='${pageContext.request.contextPath}/orderservlet1?productID=&lt;%=rs.getInt(\"productid\")%&gt;&amp;productName=&lt;%=rs.getString(\"pname\")%&gt;&amp;pricePerUnit=&lt;%=rs.getDouble(\"pricePerUnit\")%&gt;&amp;quantity='+document.getElementById('randomno').value\"&gt;Add to Order&lt;/a&gt;&lt;/td&gt;                           \n\n                    &lt;/tr&gt;\n\n                    &lt;% }%&gt;\n\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n</code></pre>\n\n<p><strong>\"OrderServlet1.java\":</strong></p>\n\n<pre><code>@WebServlet(\"/orderservlet1\")\npublic class OrderServlet1 extends HttpServlet {\n\n@Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        processRequest(request, response);\n\n         HttpSession session = request.getSession();\n\n        int productID = Integer.parseInt(request.getParameter(\"productID\"));\n        String productName = request.getParameter(\"productName\");\n        double pricePerUnit = Double.parseDouble(request.getParameter(\"pricePerUnit\"));\n        int quantity = Integer.parseInt(request.getParameter(\"quantity\"));\n\n        OrderDAO orderBean = null;\n\n        Object objOrderBean = session.getAttribute(\"order\");\n\n        if (objOrderBean != null) {\n            orderBean = (OrderDAO) objOrderBean;\n        } else {\n            orderBean = new OrderDAO();\n            session.setAttribute(\"order\", orderBean);\n        }\n\n        orderBean.addOrderItem(productID, productName, pricePerUnit, quantity);\n        response.sendRedirect(\"CustomerProductsNew.jsp\");\n\n    }\n}\n</code></pre>\n\n<p><strong>\"OrderDAO.java\":</strong></p>\n\n<pre><code>public class OrderDAO {\n     private ArrayList allOrderItems = new ArrayList();\n    private double orderTotal;\n\n    public int getOrderItemCount() {\n        return allOrderItems.size();\n    }\n public void addOrderItem(int prodID, String prodName, double pricePerU, int qty) {\n        double dblTotalCost = 0.0;\n        double pricePerUnit = 0.0;\n        int iQty = 0;\n        OrderItem orderItem = new OrderItem();\n        try {\n            pricePerUnit = pricePerU;\n            iQty = qty;\n            if (iQty &gt; 0) {\n                dblTotalCost = pricePerUnit * iQty;\n                orderItem.setProductID(prodID);\n                orderItem.setProductName(prodName);\n\n                orderItem.setPricePerUnit(pricePerU);\n                orderItem.setQuantity(iQty);\n                orderItem.setTotalCost(dblTotalCost);\n                allOrderItems.add(orderItem);\n                calculateOrderTotal();\n            }\n        } catch (NumberFormatException nfe) {\n            System.out.println(\"Error while parsing from String to primitive types: \" + nfe.getMessage());\n            nfe.printStackTrace();\n        }\n    }\n\n    public void addOrderItem(OrderItem orderItem) {\n    allOrderItems.add(orderItem);\n }\n\n public OrderItem getOrderItem(int iItemIndex) {\n  OrderItem orderItem = null;\n  if(allOrderItems.size()&gt;iItemIndex) {\n   orderItem = (OrderItem) allOrderItems.get(iItemIndex);\n  }\n  return orderItem;\n }\n\n public ArrayList getOrderItems() {\n  return allOrderItems;\n }\n public void setOrderItems(ArrayList allOrderItems) {\n  this.allOrderItems = allOrderItems;\n }\n public double getOrderTotal() {\n  return orderTotal;\n }\n public void setOrderTotal(double dblOrderTotal) {\n  this.orderTotal = dblOrderTotal;\n }\n\n protected void calculateOrderTotal() {\n  double dblTotal = 0;\n  for(int counter=0;counter&lt;allOrderItems.size();counter++) {\n   OrderItem orderItem = (OrderItem) allOrderItems.get(counter);\n   dblTotal+=orderItem.getTotalCost();\n\n  }\n  setOrderTotal(dblTotal);\n }\n\n}\n</code></pre>\n\n<p><strong>\"OrderItem.java\":</strong></p>\n\n<pre><code>public class OrderItem {\nprivate int productID;\nprivate String productName;\nprivate String category;\nprivate String pdesc;\nprivate double pricePerUnit;\nprivate int quantity;\nprivate double totalCost;\n\npublic int getProductID() {\n    return productID;\n}\n\npublic void setProductID(int productID) {\n    this.productID = productID;\n}\n\npublic String getProductName() {\n    return productName;\n}\n\npublic void setProductName(String productName) {\n    this.productName = productName;\n}\n\npublic String getCategory() {\n    return category;\n}\n\npublic void setCategory(String category) {\n    this.category = category;\n}\n\npublic String getPdesc() {\n    return pdesc;\n}\n\npublic void setPdesc(String pdesc) {\n    this.pdesc = pdesc;\n}\n\npublic double getPricePerUnit() {\n    return pricePerUnit;\n}\n\npublic void setPricePerUnit(double pricePerUnit) {\n    this.pricePerUnit = pricePerUnit;\n}\n\npublic int getQuantity() {\n    return quantity;\n}\n\npublic void setQuantity(int quantity) {\n    this.quantity = quantity;\n}\n\npublic double getTotalCost() {\n    return totalCost;\n}\n\npublic void setTotalCost(double totalCost) {\n    this.totalCost = totalCost;\n}\n}\n}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>Have to use links to images as I can't place them directly here yet.\n<strong>Final HTML for Product page:</strong>\n<img src=\"https://i.stack.imgur.com/4v14j.png\" alt=\"Product homepage\"></p>\n\n<p><strong>Error I'm getting:</strong>\n<img src=\"https://i.stack.imgur.com/N1ct6.png\" alt=\"Error HTTP Status 500...\"></p>\n"},{"tags":["java","servlets","browser","form-submit","back-button"],"comments":[{"owner":{"account_id":6805869,"reputation":3143,"user_id":5237611,"accept_rate":71,"display_name":"Michael"},"score":1,"creation_date":1505244838,"post_id":46183325,"comment_id":79330931,"body_markdown":"I understand you can&#39;t share exact code, but is there a way you could generalize your code to make it not company specific?","body":"I understand you can&#39;t share exact code, but is there a way you could generalize your code to make it not company specific?"},{"owner":{"account_id":11749730,"reputation":202,"user_id":8599392,"display_name":"Lucy Ferrier"},"score":0,"creation_date":1505316319,"post_id":46183325,"comment_id":79365490,"body_markdown":"I am sorry Michael but it is a complex code and I do not know what are the relevant parts that you want. Thanks for the reply.","body":"I am sorry Michael but it is a complex code and I do not know what are the relevant parts that you want. Thanks for the reply."}],"answers":[{"comments":[{"owner":{"account_id":11749730,"reputation":202,"user_id":8599392,"display_name":"Lucy Ferrier"},"score":0,"creation_date":1505316576,"post_id":46183797,"comment_id":79365687,"body_markdown":"Thanks for the suggestion and the resource. But I am afraid I will not be allowed to do dramatic changes to the already existing code. Anyway I will try to explain to my superiors if nothing else works out :)","body":"Thanks for the suggestion and the resource. But I am afraid I will not be allowed to do dramatic changes to the already existing code. Anyway I will try to explain to my superiors if nothing else works out :)"},{"owner":{"account_id":4845979,"reputation":809,"user_id":3909596,"display_name":"szczepanpp"},"score":1,"creation_date":1505317767,"post_id":46183797,"comment_id":79366568,"body_markdown":"Actually, it should be pretty straight-forward. For an invalid input you don&#39;t change anything - user will see a page with rendered error messages and if he resubmits the form - it&#39;ll just display the same validation errors. For a successful submit though, you perform a redirect instead of rendering a page. It&#39;s a good practice to redirect to a confirmation page, so user knows that his action really succeeded (probably an additional work in your case) but you could also simply redirect to the same page.","body":"Actually, it should be pretty straight-forward. For an invalid input you don&#39;t change anything - user will see a page with rendered error messages and if he resubmits the form - it&#39;ll just display the same validation errors. For a successful submit though, you perform a redirect instead of rendering a page. It&#39;s a good practice to redirect to a confirmation page, so user knows that his action really succeeded (probably an additional work in your case) but you could also simply redirect to the same page."}],"tags":[],"owner":{"account_id":4845979,"reputation":809,"user_id":3909596,"display_name":"szczepanpp"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505243877,"creation_date":1505243512,"answer_id":46183797,"question_id":46183325,"body_markdown":"You must use a Post-Redirect-Get pattern: [https://en.m.wikipedia.org/wiki/Post/Redirect/Get][1].\n\nActually, every use of standard HTML forms with `method=&quot;post&quot;` should be implemented with that pattern. It doesn&#39;t have any use for AJAX-posted forms, which actually could be another solution but will require more work and probably some architectural changes.\n\n\n  [1]: https://en.m.wikipedia.org/wiki/Post/Redirect/Get","title":"Prevent form resubmit after pressing back button","body":"<p>You must use a Post-Redirect-Get pattern: <a href=\"https://en.m.wikipedia.org/wiki/Post/Redirect/Get\" rel=\"nofollow noreferrer\">https://en.m.wikipedia.org/wiki/Post/Redirect/Get</a>.</p>\n\n<p>Actually, every use of standard HTML forms with <code>method=\"post\"</code> should be implemented with that pattern. It doesn't have any use for AJAX-posted forms, which actually could be another solution but will require more work and probably some architectural changes.</p>\n"},{"comments":[{"owner":{"account_id":4845979,"reputation":809,"user_id":3909596,"display_name":"szczepanpp"},"score":1,"creation_date":1505264196,"post_id":46185754,"comment_id":79337230,"body_markdown":"Same thing happens to me on a `POST` form in Firefox on Android 6. You get back to the page with a form and it is already populated so you can submit it again.","body":"Same thing happens to me on a <code>POST</code> form in Firefox on Android 6. You get back to the page with a form and it is already populated so you can submit it again."},{"owner":{"account_id":11749730,"reputation":202,"user_id":8599392,"display_name":"Lucy Ferrier"},"score":1,"creation_date":1505316441,"post_id":46185754,"comment_id":79365581,"body_markdown":"Thanks Jonathan I will try your suggestion and let you know the results.","body":"Thanks Jonathan I will try your suggestion and let you know the results."}],"tags":[],"owner":{"account_id":6991584,"reputation":2672,"user_id":5360672,"accept_rate":86,"display_name":"Jonathan Laliberte"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505264272,"creation_date":1505252537,"answer_id":46185754,"question_id":46183325,"body_markdown":"&gt; When the user press the browser&#39;s back button, user can come to the\r\n&gt; previous page where he submitted the details. And when the user submit\r\n&gt; this, data is saved once more to the database.\r\n\r\nAccording to how you described it, that is based on a doGet request. Which means every time you visit that URL, it will send the request with whatever parameters were added. \r\n\r\nAs someone already mentioned, if you **switch the form to a post method** and **switch the Servlet to a doPost**, you won&#39;t have this issue anymore.\r\n\r\nAlternatively you can circumvent this with a javascript solution. Here are some options:\r\n\r\n - You can check if the user [clicked the back button][1], disable form if true.\r\n\r\n - Another way is by [storing a cookie][2] which you check on page load, if it exists you can disable the form. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6359327/detect-back-button-click-in-browser\r\n  [2]: https://stackoverflow.com/questions/8013429/how-do-i-detect-a-page-refresh-using-jquery","title":"Prevent form resubmit after pressing back button","body":"<blockquote>\n  <p>When the user press the browser's back button, user can come to the\n  previous page where he submitted the details. And when the user submit\n  this, data is saved once more to the database.</p>\n</blockquote>\n\n<p>According to how you described it, that is based on a doGet request. Which means every time you visit that URL, it will send the request with whatever parameters were added. </p>\n\n<p>As someone already mentioned, if you <strong>switch the form to a post method</strong> and <strong>switch the Servlet to a doPost</strong>, you won't have this issue anymore.</p>\n\n<p>Alternatively you can circumvent this with a javascript solution. Here are some options:</p>\n\n<ul>\n<li><p>You can check if the user <a href=\"https://stackoverflow.com/questions/6359327/detect-back-button-click-in-browser\">clicked the back button</a>, disable form if true.</p></li>\n<li><p>Another way is by <a href=\"https://stackoverflow.com/questions/8013429/how-do-i-detect-a-page-refresh-using-jquery\">storing a cookie</a> which you check on page load, if it exists you can disable the form. </p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":11749730,"reputation":202,"user_id":8599392,"display_name":"Lucy Ferrier"},"score":0,"creation_date":1505316629,"post_id":46192640,"comment_id":79365730,"body_markdown":"Thanks for the answer. Will try out and let you know :)","body":"Thanks for the answer. Will try out and let you know :)"}],"tags":[],"owner":{"account_id":8888387,"reputation":1443,"user_id":6635927,"accept_rate":100,"display_name":"Supun Amarasinghe"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1505291486,"creation_date":1505291486,"answer_id":46192640,"question_id":46183325,"body_markdown":"You can use a javascript function with the help of a hidden attribute to reload the web page. When the user press the back button,based on the value of the hidden attribute, page will be reloaded without loading the cached page. \r\n\r\nYour approach of clearing cache is correct. Coupled with that, you can use this approach.\r\n\r\n    &lt;input type=&quot;hidden&quot; id=&quot;refreshed&quot; value=&quot;no&quot;&gt;\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n    \r\n               onload=function(){\r\n                   var e=document.getElementById(&quot;refreshed&quot;);\r\n                   if(e.value==&quot;no&quot;)e.value=&quot;yes&quot;;\r\n                   else{e.value=&quot;no&quot;;location.reload();}\r\n               }\r\n    \r\n        &lt;/script&gt;\r\n\r\nOne drawback of this approach is if your clients&#39; browsers have disabled JS, this will not work.Otherwise it should work.\r\n\r\n","title":"Prevent form resubmit after pressing back button","body":"<p>You can use a javascript function with the help of a hidden attribute to reload the web page. When the user press the back button,based on the value of the hidden attribute, page will be reloaded without loading the cached page. </p>\n\n<p>Your approach of clearing cache is correct. Coupled with that, you can use this approach.</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"refreshed\" value=\"no\"&gt;\n    &lt;script type=\"text/javascript\"&gt;\n\n           onload=function(){\n               var e=document.getElementById(\"refreshed\");\n               if(e.value==\"no\")e.value=\"yes\";\n               else{e.value=\"no\";location.reload();}\n           }\n\n    &lt;/script&gt;\n</code></pre>\n\n<p>One drawback of this approach is if your clients' browsers have disabled JS, this will not work.Otherwise it should work.</p>\n"},{"tags":[],"owner":{"account_id":9428442,"reputation":31,"user_id":7012711,"display_name":"Romi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516445473,"creation_date":1516444400,"answer_id":48355043,"question_id":46183325,"body_markdown":"You can use this code also\r\n\r\n    $(document).ready(function() {\r\n        function disableBack() { window.history.forward() }\r\n    \r\n        window.onload = disableBack();\r\n        window.onpageshow = function(evt) { if (evt.persisted) disableBack() }\r\n    });","title":"Prevent form resubmit after pressing back button","body":"<p>You can use this code also</p>\n\n<pre><code>$(document).ready(function() {\n    function disableBack() { window.history.forward() }\n\n    window.onload = disableBack();\n    window.onpageshow = function(evt) { if (evt.persisted) disableBack() }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17064199,"reputation":11,"user_id":12346836,"display_name":"Samuel Padilla "},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613949706,"creation_date":1613942327,"answer_id":66307226,"question_id":46183325,"body_markdown":"\r\nI had this same problem while building a django web app, and my solution was to not allow caching of the html that contains the form. In your request handler, do not allow the browser to cache the page. This will force the browser to get the page fresh from the document.\r\n\r\nWhich, in this case, you can just verify in your request handler if the requested form has already been submitted.\r\n\r\nMy code for reference:\r\n\r\n    \r\n\r\n    from django.views.decorators.cache import never_cache\r\n        @never_cache\r\n          def GetForm(request, pk):\r\n              # Logic #\r\n              if (IsFormCompleted(pk)):\r\n                 # Handle request #\r\n\r\n","title":"Prevent form resubmit after pressing back button","body":"<p>I had this same problem while building a django web app, and my solution was to not allow caching of the html that contains the form. In your request handler, do not allow the browser to cache the page. This will force the browser to get the page fresh from the document.</p>\n<p>Which, in this case, you can just verify in your request handler if the requested form has already been submitted.</p>\n<p>My code for reference:</p>\n<pre><code>from django.views.decorators.cache import never_cache\n    @never_cache\n      def GetForm(request, pk):\n          # Logic #\n          if (IsFormCompleted(pk)):\n             # Handle request #\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6200340,"reputation":11,"user_id":4855712,"display_name":"Ken Xu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668830564,"creation_date":1668830466,"answer_id":74497464,"question_id":46183325,"body_markdown":"Here is a solution.\r\n\r\ngive a random id in a hidden field on the form.  Then on the server side, if the user resubmit, check if the random id already on the database. If so, redirect user.  ","title":"Prevent form resubmit after pressing back button","body":"<p>Here is a solution.</p>\n<p>give a random id in a hidden field on the form.  Then on the server side, if the user resubmit, check if the random id already on the database. If so, redirect user.</p>\n"}],"owner":{"account_id":11749730,"reputation":202,"user_id":8599392,"display_name":"Lucy Ferrier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18508,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":46192640,"answer_count":6,"score":9,"last_activity_date":1668830564,"creation_date":1505241361,"question_id":46183325,"body_markdown":"I am in bit of a delicate situation here. In my organization we design stock management systems and it is a web application based on JSP pages and servlets which handles them.\r\n\r\nI have been asked to fix a specific problem. We have a JSP page with an HTML form table where there are stock details. When user enters the details manually and submit the form, stock details updated in the database and it works fine. \r\n\r\nProblem is this : When the user press the browser&#39;s back button, user can come to the previous page where he submitted the details. And when the user submit this, data is saved once more to the database.I need to prevent this behaviour.(Something likeclear and reload the page.)\r\n\r\nThings I did so far : clear the browser cache.Code works fine but not the expected result. \r\n\r\nUnfortunately I cannot share the code due to company regulations. What I need is a help to prevent this behaviour or a workaround. \r\n\r\nThanks in advance..\r\n\r\n","title":"Prevent form resubmit after pressing back button","body":"<p>I am in bit of a delicate situation here. In my organization we design stock management systems and it is a web application based on JSP pages and servlets which handles them.</p>\n\n<p>I have been asked to fix a specific problem. We have a JSP page with an HTML form table where there are stock details. When user enters the details manually and submit the form, stock details updated in the database and it works fine. </p>\n\n<p>Problem is this : When the user press the browser's back button, user can come to the previous page where he submitted the details. And when the user submit this, data is saved once more to the database.I need to prevent this behaviour.(Something likeclear and reload the page.)</p>\n\n<p>Things I did so far : clear the browser cache.Code works fine but not the expected result. </p>\n\n<p>Unfortunately I cannot share the code due to company regulations. What I need is a help to prevent this behaviour or a workaround. </p>\n\n<p>Thanks in advance..</p>\n"},{"tags":["java","spring","spring-boot","openid-connect","spring-security-oauth2"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1666792364,"post_id":74208747,"comment_id":131019764,"body_markdown":"Remove the management for Spring, Spring Integration, Hibernate and AspectJ and use the versions as provided by Spring Boot. You are working around the Spring Boot starters/management which will result in incompatible versions on the classpath leading to all sorts of interesting issues.","body":"Remove the management for Spring, Spring Integration, Hibernate and AspectJ and use the versions as provided by Spring Boot. You are working around the Spring Boot starters/management which will result in incompatible versions on the classpath leading to all sorts of interesting issues."},{"owner":{"account_id":2432294,"reputation":598,"user_id":2122943,"accept_rate":28,"display_name":"Sel_va"},"score":0,"creation_date":1666840389,"post_id":74208747,"comment_id":131032407,"body_markdown":"@M.Deinum - &quot;use the versions as provided by Spring Boot.&quot; &gt;&gt; do u suggest to use springboot starter parent ?? or how to use get the versions of those ?? this is basically a legacy web app that have &quot;spring-boot&quot; , &quot;spring-boot-autoconfigure&quot;, &quot;spring-boot-starter-test&quot;, &quot;spring-boot-starter-jersey&quot;, &quot;spring-boot-starter-web&quot;, &quot;spring-boot-starter-jetty&quot;, &quot;spring-orm&quot;, hibernate and other dependencies included separately..!!","body":"@M.Deinum - &quot;use the versions as provided by Spring Boot.&quot; &gt;&gt; do u suggest to use springboot starter parent ?? or how to use get the versions of those ?? this is basically a legacy web app that have &quot;spring-boot&quot; , &quot;spring-boot-autoconfigure&quot;, &quot;spring-boot-starter-test&quot;, &quot;spring-boot-starter-jersey&quot;, &quot;spring-boot-starter-web&quot;, &quot;spring-boot-starter-jetty&quot;, &quot;spring-orm&quot;, hibernate and other dependencies included separately..!!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1666849348,"post_id":74208747,"comment_id":131033666,"body_markdown":"That or use the dependency management way. The problem with manually pulling in those dependencies is you will endup with conflicting or non-compatible versions leading to weird issues. If it is legacy why use Spring Boot? The fact that web and jersey are in there probably already means there is an `@SpringBootAPplication` annotated that and thus it is a Spring Boot project (migrated from the time it was a real legacy app, but the migration is done half).","body":"That or use the dependency management way. The problem with manually pulling in those dependencies is you will endup with conflicting or non-compatible versions leading to weird issues. If it is legacy why use Spring Boot? The fact that web and jersey are in there probably already means there is an <code>@SpringBootAPplication</code> annotated that and thus it is a Spring Boot project (migrated from the time it was a real legacy app, but the migration is done half)."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669117547,"post_id":74497388,"comment_id":131566223,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74497388/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26980071,"reputation":1,"user_id":20544566,"display_name":"user20544566"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668829368,"creation_date":1668829368,"answer_id":74497388,"question_id":74208747,"body_markdown":"framework Spring Authorization Server maybe better for OIDC implementation.","title":"OIDC implementation - Upgrade from Spring boot v 1.3.5 to 2.7.1 and Spring versions","body":"<p>framework Spring Authorization Server maybe better for OIDC implementation.</p>\n"}],"owner":{"account_id":2432294,"reputation":598,"user_id":2122943,"accept_rate":28,"display_name":"Sel_va"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668829368,"creation_date":1666791334,"question_id":74208747,"body_markdown":"I am trying to upgrade my web application that is running on Spring boot 1.3.5-Release to 2.7.1. The ultimate goal for this is to implement OIDC authentication in my web app. \r\n\r\nThe below are the current versions used \r\n\r\n    &lt;spring.boot.version&gt;1.3.5.RELEASE&lt;/spring.boot.version&gt;\r\n  \t&lt;spring.version&gt;4.1.3.RELEASE&lt;/spring.version&gt;\r\n  \t&lt;spring.integration.version&gt;4.1.3.RELEASE&lt;/spring.integration.version&gt;\r\n  \t&lt;org.hibernate.version&gt;4.3.10.Final&lt;/org.hibernate.version&gt;\r\n  \t&lt;aspectj.version&gt;1.8.7&lt;/aspectj.version&gt;\r\n\r\nTo implement OIDC authentication I am supposed to use OAuth2 client dependency. To use this dependency I need to use Spring Security version 5.x.x(I guess so - correct me plz). With these lower versions how can I implement the thing I wanted? \r\n\r\nI just tried to upgrade Spring boot to 2.7.1 by resolving some multiple build issues. But finally while running the application I am getting the below error.\r\n\r\n&gt; 2022-10-26 21:26:31.251  INFO 14788 --- [main] o.s.core.annotation.MergedAnnotation     : Failed to introspect annotations on public org.springframework.transaction.PlatformTransactionManager org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.transactionManager(org.springframework.beans.factory.ObjectProvider): java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\r\n\r\nWhat am I missing here?? What is the minimum version of Spring and Springboot that I need to use for implementing OIDC Auth?? \r\n ","title":"OIDC implementation - Upgrade from Spring boot v 1.3.5 to 2.7.1 and Spring versions","body":"<p>I am trying to upgrade my web application that is running on Spring boot 1.3.5-Release to 2.7.1. The ultimate goal for this is to implement OIDC authentication in my web app.</p>\n<p>The below are the current versions used</p>\n<pre><code>&lt;spring.boot.version&gt;1.3.5.RELEASE&lt;/spring.boot.version&gt;\n&lt;spring.version&gt;4.1.3.RELEASE&lt;/spring.version&gt;\n&lt;spring.integration.version&gt;4.1.3.RELEASE&lt;/spring.integration.version&gt;\n&lt;org.hibernate.version&gt;4.3.10.Final&lt;/org.hibernate.version&gt;\n&lt;aspectj.version&gt;1.8.7&lt;/aspectj.version&gt;\n</code></pre>\n<p>To implement OIDC authentication I am supposed to use OAuth2 client dependency. To use this dependency I need to use Spring Security version 5.x.x(I guess so - correct me plz). With these lower versions how can I implement the thing I wanted?</p>\n<p>I just tried to upgrade Spring boot to 2.7.1 by resolving some multiple build issues. But finally while running the application I am getting the below error.</p>\n<blockquote>\n<p>2022-10-26 21:26:31.251  INFO 14788 --- [main] o.s.core.annotation.MergedAnnotation     : Failed to introspect annotations on public org.springframework.transaction.PlatformTransactionManager org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.transactionManager(org.springframework.beans.factory.ObjectProvider): java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy</p>\n</blockquote>\n<p>What am I missing here?? What is the minimum version of Spring and Springboot that I need to use for implementing OIDC Auth??</p>\n"},{"tags":["java","algorithm","bufferedreader","minmax"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668819859,"post_id":74496301,"comment_id":131506363,"body_markdown":"You&#39;ve shown the output, but not the input.","body":"You&#39;ve shown the output, but not the input."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668819949,"post_id":74496301,"comment_id":131506381,"body_markdown":"Step through your code with the debugger. I assume the second line of the input is empty.","body":"Step through your code with the debugger. I assume the second line of the input is empty."}],"answers":[{"tags":[],"owner":{"account_id":26896439,"reputation":151,"user_id":20474278,"display_name":"m3ow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668828260,"creation_date":1668828260,"answer_id":74497325,"question_id":74496301,"body_markdown":"I&#39;ve made many corrections to your code.\r\n\r\n1. You are not reading every N of every test case, you only read it once. You have to put it inside the while loop.\r\n2. Method trim is unnecessary because inputs from the problems are always in the right manner.\r\n3. Use &gt; not &gt;= when comparing using array lengths or the number of test cases, because it will iterate once more even if the index is already beyond the array&#39;s capacity or 0.\r\n````\r\npublic static void main(String args[] ) throws Exception {\r\n    //BufferedReader\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    int T = Integer.parseInt(br.readLine());\r\n        \r\n    while (T-- &gt; 0) {\r\n        br.readLine(); // to read N\r\n        String[] line = br.readLine().split(&quot; &quot;);\r\n        int min = Integer.MAX_VALUE;\r\n        for (int i = 0; i &lt; line.length; i++) {\r\n            min = Math.min(min, Integer.parseInt(line[i]));\r\n        }\r\n\r\n        System.out.println(min);\r\n    }\r\n}\r\n````","title":"Non-empty subsets from HackerEarth exercises","body":"<p>I've made many corrections to your code.</p>\n<ol>\n<li>You are not reading every N of every test case, you only read it once. You have to put it inside the while loop.</li>\n<li>Method trim is unnecessary because inputs from the problems are always in the right manner.</li>\n<li>Use &gt; not &gt;= when comparing using array lengths or the number of test cases, because it will iterate once more even if the index is already beyond the array's capacity or 0.</li>\n</ol>\n<pre><code>public static void main(String args[] ) throws Exception {\n    //BufferedReader\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    int T = Integer.parseInt(br.readLine());\n        \n    while (T-- &gt; 0) {\n        br.readLine(); // to read N\n        String[] line = br.readLine().split(&quot; &quot;);\n        int min = Integer.MAX_VALUE;\n        for (int i = 0; i &lt; line.length; i++) {\n            min = Math.min(min, Integer.parseInt(line[i]));\n        }\n\n        System.out.println(min);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16165075,"reputation":351,"user_id":11670246,"display_name":"IlCorsaroNero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74497325,"answer_count":1,"score":1,"last_activity_date":1668828260,"creation_date":1668813995,"question_id":74496301,"body_markdown":"Actually, I am doing an [exercise from HackerEarth](https://www.hackerearth.com/practice/data-structures/arrays/1-d/practice-problems/algorithm/minor-4-41918cb8/).\r\n\r\nThe exercise is pretty simple: I have to use a min-max algorithm but I have some struggles when I use the `readLine` method from the variable `BufferReader`.\r\n\r\nI cannot figure out why but my `min` variable for an iteration keep the `Integer.MAX_VALUE`.\r\n\r\n#### Code\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.util.*;\r\n\r\nclass TestClass {\r\n    public static void main(String args[] ) throws Exception {\r\n        //BufferedReader\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        int T = Integer.parseInt(br.readLine());\r\n        int N = Integer.parseInt(br.readLine()); \r\n        \r\n        while (T-- &gt;= 0) {\r\n            String[] line = br.readLine().trim().split(&quot;\\\\s&quot;);\r\n            int min = Integer.MAX_VALUE;\r\n            for (int i = 0; i &lt; line.length - 1; i++) {\r\n                min = Math.min(min, Integer.parseInt(line[i]));\r\n            }\r\n\r\n            System.out.println(min);\r\n        }\r\n\r\n        \r\n    }\r\n}\r\n```\r\n\r\n#### Output\r\n\r\n```\r\n1\r\n2147483647\r\n2\r\n```","title":"Non-empty subsets from HackerEarth exercises","body":"<p>Actually, I am doing an <a href=\"https://www.hackerearth.com/practice/data-structures/arrays/1-d/practice-problems/algorithm/minor-4-41918cb8/\" rel=\"nofollow noreferrer\">exercise from HackerEarth</a>.</p>\n<p>The exercise is pretty simple: I have to use a min-max algorithm but I have some struggles when I use the <code>readLine</code> method from the variable <code>BufferReader</code>.</p>\n<p>I cannot figure out why but my <code>min</code> variable for an iteration keep the <code>Integer.MAX_VALUE</code>.</p>\n<h4>Code</h4>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.*;\n\nclass TestClass {\n    public static void main(String args[] ) throws Exception {\n        //BufferedReader\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        int T = Integer.parseInt(br.readLine());\n        int N = Integer.parseInt(br.readLine()); \n        \n        while (T-- &gt;= 0) {\n            String[] line = br.readLine().trim().split(&quot;\\\\s&quot;);\n            int min = Integer.MAX_VALUE;\n            for (int i = 0; i &lt; line.length - 1; i++) {\n                min = Math.min(min, Integer.parseInt(line[i]));\n            }\n\n            System.out.println(min);\n        }\n\n        \n    }\n}\n</code></pre>\n<h4>Output</h4>\n<pre><code>1\n2147483647\n2\n</code></pre>\n"},{"tags":["java","json","regex","validation","hashmap"],"comments":[{"owner":{"account_id":7017323,"reputation":3426,"user_id":5378187,"display_name":"Rubydesic"},"score":1,"creation_date":1668838843,"post_id":74497262,"comment_id":131508182,"body_markdown":"Have you considered using JSON Schema?","body":"Have you considered using JSON Schema?"},{"owner":{"account_id":18469626,"reputation":13,"user_id":15170229,"display_name":"Irregularz"},"score":0,"creation_date":1668851758,"post_id":74497262,"comment_id":131509836,"body_markdown":"@Rubydesic I have no idea what a JSON Schema is &#128517;. Could you kindly explain me how it will be useful to me in this case or direct to any resource regarding JSON Schema","body":"@Rubydesic I have no idea what a JSON Schema is 😅. Could you kindly explain me how it will be useful to me in this case or direct to any resource regarding JSON Schema"},{"owner":{"account_id":18469626,"reputation":13,"user_id":15170229,"display_name":"Irregularz"},"score":0,"creation_date":1668916074,"post_id":74497262,"comment_id":131521156,"body_markdown":"@Rubydesic I looked into JSON Schema. It is not suitable for my problem, as I need a library to use the validation in my java code and importantly, I cannot define the values of fields as certain format which can give me a more proper validation","body":"@Rubydesic I looked into JSON Schema. It is not suitable for my problem, as I need a library to use the validation in my java code and importantly, I cannot define the values of fields as certain format which can give me a more proper validation"},{"owner":{"account_id":7017323,"reputation":3426,"user_id":5378187,"display_name":"Rubydesic"},"score":0,"creation_date":1668927782,"post_id":74497262,"comment_id":131522237,"body_markdown":"JSON Schema can do [regex validation](https://json-schema.org/understanding-json-schema/reference/regular_expressions.html) as you are doing, although you can replace most of your validations with required types (i.e.` \\\\d+` is really just validating that the field is an [`integer`](https://json-schema.org/understanding-json-schema/reference/numeric.html#integer)). And there are libraries that implement JSON schema validation in Java, such as [json-schema-validator](https://github.com/networknt/json-schema-validator).","body":"JSON Schema can do <a href=\"https://json-schema.org/understanding-json-schema/reference/regular_expressions.html\" rel=\"nofollow noreferrer\">regex validation</a> as you are doing, although you can replace most of your validations with required types (i.e.` \\\\d+` is really just validating that the field is an <a href=\"https://json-schema.org/understanding-json-schema/reference/numeric.html#integer\" rel=\"nofollow noreferrer\"><code>integer</code></a>). And there are libraries that implement JSON schema validation in Java, such as <a href=\"https://github.com/networknt/json-schema-validator\" rel=\"nofollow noreferrer\">json-schema-validator</a>."},{"owner":{"account_id":18469626,"reputation":13,"user_id":15170229,"display_name":"Irregularz"},"score":0,"creation_date":1669225132,"post_id":74497262,"comment_id":131598359,"body_markdown":"@Rubydesic As for now, I have done the validation by creating a java properties file to have the fields and create a hash-map from the properties. JSON Schema seems cool, but I have a constraint of not including any new library into the project. Thanks for the JSON Schema &#128588;","body":"@Rubydesic As for now, I have done the validation by creating a java properties file to have the fields and create a hash-map from the properties. JSON Schema seems cool, but I have a constraint of not including any new library into the project. Thanks for the JSON Schema 🙌"}],"owner":{"account_id":18469626,"reputation":13,"user_id":15170229,"display_name":"Irregularz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668827216,"creation_date":1668827216,"question_id":74497262,"body_markdown":"I have to validate the values of output json file. First validation is all the key value pairs needed are in the file and the second one, values are in the correct format as expected ( say, timestamp, string, integer ...). I cannot compare the values directly with another file having same content as some of the values like timestamp, id are random. \r\n\r\nJSON File:\r\n```\r\n[\r\n  {\r\n    &quot;metadata&quot;: {\r\n      &quot;RecordEnd&quot;: 19,\r\n      &quot;Type&quot;: null,\r\n      &quot;RecordOffset&quot;: 0,\r\n      &quot;Character_Set&quot;: &quot;UTF-8&quot;,\r\n      &quot;MsgType&quot;: 8,\r\n      &quot;Expire&quot;: 0,\r\n      &quot;Name&quot;: &quot;y1&quot;,\r\n      &quot;delivered&quot;: false,\r\n      &quot;Timestamp&quot;: 1664189426609,\r\n      &quot;UserID&quot;: &quot;1jnj2232&quot;,\r\n      &quot;Encoding&quot;: 273,\r\n      &quot;id&quot;: &quot;ID:414d51205120202020210040&quot;,\r\n      &quot;DType&quot;: &quot;type1&quot;\r\n    }\r\n]\r\n```\r\nI have two approches to do this.\r\n\r\n1. Create a hashmap with keys as same in the JSON file and have values as regex patterns and compare each key value pairs with the regex matching the keys.\r\n\r\n```\r\nHashMap&lt;String,String&gt; metaData = new HashMap();\r\nmetaData.put(&quot;RecordEnd&quot;,&quot;\\\\d+&quot;);metaData.put(&quot;Type&quot;,&quot;\\\\w+&quot;);\r\nmetaData.put(&quot;RecordOffset&quot;,&quot;\\\\d+&quot;);metaData.put(&quot;Character_Set&quot;,&quot;UTF-8&quot;);\r\nmetaData.put(&quot;MsgType&quot;,&quot;\\\\d+&quot;);metaData.put(&quot;Expire&quot;,&quot;\\\\w+&quot;);\r\nmetaData.put(&quot;Name&quot;,&quot;\\\\w+&quot;);metaData.put(&quot;delivered&quot;,&quot;\\\\w+&quot;);\r\nmetaData.put(&quot;Timestamp&quot;,&quot;\\\\d+&quot;);metaData.put(&quot;UserID&quot;,&quot;\\\\w+&quot;);\r\nmetaData.put(&quot;Encoding&quot;,&quot;\\\\d+&quot;);metaData.put(&quot;id&quot;,&quot;ID\\\\:\\\\w+&quot;);\r\nmetaData.put(&quot;DType&quot;,&quot;type1&quot;);\r\n\r\n\r\nObjectMapper mapper = new ObjectMapper();\r\nString json = FileUtils.readFileToString(new File(outputJSONFile),&quot;UTF-8&quot;);\r\njson = json.substring(1, json.length() - 1);\r\nMap&lt;?, ?&gt; map = mapper.readValue(json, Map.class);\r\n\r\nHashMap&lt;String,Object&gt; metaMap = (HashMap&lt;String, Object&gt;) map.get(&quot;metadata&quot;);\r\nmetaMap.entrySet().forEach(e-&gt; {\r\n  if (!(e.getValue() == null)) {\r\n    if (e.getValue().toString().matches(metaData.get(e.getKey()))) {\r\n      log.info(e + &quot;- Matched&quot;);\r\n    } else {\r\n      throw new RuntimeException(\r\n          &quot;MetaData key &quot; + e.getKey() + &quot; data is invalid&quot;);\r\n    }\r\n  }\r\n});\r\n\r\n```\r\n\r\nHere, if the fields size become larger ( say 40+ fields) , I have to add hashmap values for all the fields , it becomes a tedious process and reduces readability.\r\n\r\n2. Create a static json file with the all the keys and the values in the regex format. Then, compare the two files based on regex of one file to match with another file. I haven&#39;t tried this yet.\r\n\r\n\r\n\r\nIs the second approach more efficient or is there a more suitable approach to do this?","title":"Best way to compare JSON array with another JSON array with Regex Values?","body":"<p>I have to validate the values of output json file. First validation is all the key value pairs needed are in the file and the second one, values are in the correct format as expected ( say, timestamp, string, integer ...). I cannot compare the values directly with another file having same content as some of the values like timestamp, id are random.</p>\n<p>JSON File:</p>\n<pre><code>[\n  {\n    &quot;metadata&quot;: {\n      &quot;RecordEnd&quot;: 19,\n      &quot;Type&quot;: null,\n      &quot;RecordOffset&quot;: 0,\n      &quot;Character_Set&quot;: &quot;UTF-8&quot;,\n      &quot;MsgType&quot;: 8,\n      &quot;Expire&quot;: 0,\n      &quot;Name&quot;: &quot;y1&quot;,\n      &quot;delivered&quot;: false,\n      &quot;Timestamp&quot;: 1664189426609,\n      &quot;UserID&quot;: &quot;1jnj2232&quot;,\n      &quot;Encoding&quot;: 273,\n      &quot;id&quot;: &quot;ID:414d51205120202020210040&quot;,\n      &quot;DType&quot;: &quot;type1&quot;\n    }\n]\n</code></pre>\n<p>I have two approches to do this.</p>\n<ol>\n<li>Create a hashmap with keys as same in the JSON file and have values as regex patterns and compare each key value pairs with the regex matching the keys.</li>\n</ol>\n<pre><code>HashMap&lt;String,String&gt; metaData = new HashMap();\nmetaData.put(&quot;RecordEnd&quot;,&quot;\\\\d+&quot;);metaData.put(&quot;Type&quot;,&quot;\\\\w+&quot;);\nmetaData.put(&quot;RecordOffset&quot;,&quot;\\\\d+&quot;);metaData.put(&quot;Character_Set&quot;,&quot;UTF-8&quot;);\nmetaData.put(&quot;MsgType&quot;,&quot;\\\\d+&quot;);metaData.put(&quot;Expire&quot;,&quot;\\\\w+&quot;);\nmetaData.put(&quot;Name&quot;,&quot;\\\\w+&quot;);metaData.put(&quot;delivered&quot;,&quot;\\\\w+&quot;);\nmetaData.put(&quot;Timestamp&quot;,&quot;\\\\d+&quot;);metaData.put(&quot;UserID&quot;,&quot;\\\\w+&quot;);\nmetaData.put(&quot;Encoding&quot;,&quot;\\\\d+&quot;);metaData.put(&quot;id&quot;,&quot;ID\\\\:\\\\w+&quot;);\nmetaData.put(&quot;DType&quot;,&quot;type1&quot;);\n\n\nObjectMapper mapper = new ObjectMapper();\nString json = FileUtils.readFileToString(new File(outputJSONFile),&quot;UTF-8&quot;);\njson = json.substring(1, json.length() - 1);\nMap&lt;?, ?&gt; map = mapper.readValue(json, Map.class);\n\nHashMap&lt;String,Object&gt; metaMap = (HashMap&lt;String, Object&gt;) map.get(&quot;metadata&quot;);\nmetaMap.entrySet().forEach(e-&gt; {\n  if (!(e.getValue() == null)) {\n    if (e.getValue().toString().matches(metaData.get(e.getKey()))) {\n      log.info(e + &quot;- Matched&quot;);\n    } else {\n      throw new RuntimeException(\n          &quot;MetaData key &quot; + e.getKey() + &quot; data is invalid&quot;);\n    }\n  }\n});\n\n</code></pre>\n<p>Here, if the fields size become larger ( say 40+ fields) , I have to add hashmap values for all the fields , it becomes a tedious process and reduces readability.</p>\n<ol start=\"2\">\n<li>Create a static json file with the all the keys and the values in the regex format. Then, compare the two files based on regex of one file to match with another file. I haven't tried this yet.</li>\n</ol>\n<p>Is the second approach more efficient or is there a more suitable approach to do this?</p>\n"},{"tags":["java","spring","spring-boot","spring-security-oauth2","spring-cloud-contract"],"answers":[{"comments":[{"owner":{"account_id":8319542,"reputation":55,"user_id":6251738,"display_name":"whyuenacccc"},"score":0,"creation_date":1668773254,"post_id":74486784,"comment_id":131493455,"body_markdown":"After I added the annotations, the error still exists... I tested both the Reactive and non-reactive annotations...","body":"After I added the annotations, the error still exists... I tested both the Reactive and non-reactive annotations..."},{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1668776296,"post_id":74486784,"comment_id":131494426,"body_markdown":"There are a lot of problems in your codes, you mixed a lot of test features. Please read the [Testing part](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing) to get started.","body":"There are a lot of problems in your codes, you mixed a lot of test features. Please read the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing\" rel=\"nofollow noreferrer\">Testing part</a> to get started."},{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1668776483,"post_id":74486784,"comment_id":131494491,"body_markdown":"And of course, I hope you have read the  [official Spring Cloud Contract workshop](https://spring-cloud-samples.github.io/spring-cloud-contract-samples/workshops.htmlc) to get to know how to use Spring Cloud Contract.","body":"And of course, I hope you have read the  <a href=\"https://spring-cloud-samples.github.io/spring-cloud-contract-samples/workshops.htmlc\" rel=\"nofollow noreferrer\">official Spring Cloud Contract workshop</a> to get to know how to use Spring Cloud Contract."},{"owner":{"account_id":8319542,"reputation":55,"user_id":6251738,"display_name":"whyuenacccc"},"score":0,"creation_date":1668779225,"post_id":74486784,"comment_id":131495457,"body_markdown":"Agree mixed a lot of test features. I am having some trouble separating the integration test and the functional test elements...  I wanted to not create the same POJOs again and again. If you were I, how would you separate them?? Do you have any advice??","body":"Agree mixed a lot of test features. I am having some trouble separating the integration test and the functional test elements...  I wanted to not create the same POJOs again and again. If you were I, how would you separate them?? Do you have any advice??"},{"owner":{"account_id":8319542,"reputation":55,"user_id":6251738,"display_name":"whyuenacccc"},"score":0,"creation_date":1668780342,"post_id":74486784,"comment_id":131495888,"body_markdown":"your sample repo looks great. Let me study study","body":"your sample repo looks great. Let me study study"},{"owner":{"account_id":8319542,"reputation":55,"user_id":6251738,"display_name":"whyuenacccc"},"score":0,"creation_date":1669013190,"post_id":74486784,"comment_id":131537138,"body_markdown":"This answer solves the autoconfiguration related to spring security but it is short of solving my issue in the spring cloud contract with Kafka...","body":"This answer solves the autoconfiguration related to spring security but it is short of solving my issue in the spring cloud contract with Kafka..."}],"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668825079,"creation_date":1668759924,"answer_id":74486784,"question_id":74484699,"body_markdown":"There are some issues on the BaseClass. \r\n1. If you are using the latest Spring Boot, use `@SpringBootTest` is enough. No need the `@ExtendedWith`\r\n2. Use a Mock env, set webEnvironment = Mock\r\n3. If you decided to use RestAssuredMockMvc, you should use this mockMvc instead of the standard MockMVC in your tests.\r\n4. The `Mockito.reset` in cleanup is no need at all.\r\n\r\nIn a WebMvc project, exclude the `UserDetailsServiceAutoConfiguration` and `SecurityAutoConfiguration` in your test context, check [my example](https://github.com/hantsy/spring-webmvc-jwt-sample/blob/master/src/test/java/com/example/demo/VehicleControllerTest.java#L29-L34).\r\n\r\nIn a WebFlux project, just exclude `ReactiveUserDetailsServiceAutoConfiguration` and `ReactiveSecurityAutoConfiguration` and `ReactiveOAuth2ResourceServerAutoConfiguration`(if oauth2 resource server is enabled.) on your testing codes.\r\n\r\n```java\r\n@SpringBootTest\r\n@ImportAutoConfiguration(exclude = {ReactiveUserDetailsServiceAutoConfiguration.class, ReactiveSecurityAutoConfiguration.class})\r\nclass YourTest{\r\n}\r\n```\r\n\r\nOr test web controller.\r\n\r\n```java\r\n@WebFluxTest(controller=YourController.calss, excludeAutoConfigurations = {ReactiveUserDetailsServiceAutoConfiguration.class, ReactiveSecurityAutoConfiguration.class})\r\nclass YourTest{\r\n}\r\n```\r\n\r\nI have created a simple Microservice sample several years ago, which used Spring Cloud Contract and Pact to implement the CDC pattern in the API testing and verify, check [spring-microservice-sample](https://github.com/hantsy/spring-microservice-sample).","title":"How to disable springSecurityFilterChain in test case?","body":"<p>There are some issues on the BaseClass.</p>\n<ol>\n<li>If you are using the latest Spring Boot, use <code>@SpringBootTest</code> is enough. No need the <code>@ExtendedWith</code></li>\n<li>Use a Mock env, set webEnvironment = Mock</li>\n<li>If you decided to use RestAssuredMockMvc, you should use this mockMvc instead of the standard MockMVC in your tests.</li>\n<li>The <code>Mockito.reset</code> in cleanup is no need at all.</li>\n</ol>\n<p>In a WebMvc project, exclude the <code>UserDetailsServiceAutoConfiguration</code> and <code>SecurityAutoConfiguration</code> in your test context, check <a href=\"https://github.com/hantsy/spring-webmvc-jwt-sample/blob/master/src/test/java/com/example/demo/VehicleControllerTest.java#L29-L34\" rel=\"nofollow noreferrer\">my example</a>.</p>\n<p>In a WebFlux project, just exclude <code>ReactiveUserDetailsServiceAutoConfiguration</code> and <code>ReactiveSecurityAutoConfiguration</code> and <code>ReactiveOAuth2ResourceServerAutoConfiguration</code>(if oauth2 resource server is enabled.) on your testing codes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@ImportAutoConfiguration(exclude = {ReactiveUserDetailsServiceAutoConfiguration.class, ReactiveSecurityAutoConfiguration.class})\nclass YourTest{\n}\n</code></pre>\n<p>Or test web controller.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebFluxTest(controller=YourController.calss, excludeAutoConfigurations = {ReactiveUserDetailsServiceAutoConfiguration.class, ReactiveSecurityAutoConfiguration.class})\nclass YourTest{\n}\n</code></pre>\n<p>I have created a simple Microservice sample several years ago, which used Spring Cloud Contract and Pact to implement the CDC pattern in the API testing and verify, check <a href=\"https://github.com/hantsy/spring-microservice-sample\" rel=\"nofollow noreferrer\">spring-microservice-sample</a>.</p>\n"}],"owner":{"account_id":8319542,"reputation":55,"user_id":6251738,"display_name":"whyuenacccc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74486784,"answer_count":1,"score":0,"last_activity_date":1668825079,"creation_date":1668743028,"question_id":74484699,"body_markdown":"Hi I have a spring project that has spring security to authenticate users using OAUTH provider, and I have to use Spring Cloud Contract to build up a mock server for consumer testing.\r\n\r\nrepo: https://github.com/Isaacwhyuenac/spring-cloud-contract-poc/blob/main/order-service/src/test/java/com/example/producer/BaseClass.java\r\n\r\nWhen I run `./gradlew clean :order-service:contractTest`. The following error is thrown\r\n\r\n```txt\r\ndelegate cannot be null. Ensure a Bean with the name springSecurityFilterChain implementing Filter is present or inject the Filter to be used.\r\njava.lang.IllegalStateException: delegate cannot be null. Ensure a Bean with the name springSecurityFilterChain implementing Filter is present or inject the Filter to be used.\r\n```\r\n\r\nIf you look at my SecurityConfig\r\n\r\nhttps://github.com/Isaacwhyuenac/spring-cloud-contract-poc/blob/main/order-service/src/main/java/com/example/producer/config/SecurityConfig.java\r\n\r\nThe security filter is already setup. So, how to resolve this error and have my `contractTest` running properly??","title":"How to disable springSecurityFilterChain in test case?","body":"<p>Hi I have a spring project that has spring security to authenticate users using OAUTH provider, and I have to use Spring Cloud Contract to build up a mock server for consumer testing.</p>\n<p>repo: <a href=\"https://github.com/Isaacwhyuenac/spring-cloud-contract-poc/blob/main/order-service/src/test/java/com/example/producer/BaseClass.java\" rel=\"nofollow noreferrer\">https://github.com/Isaacwhyuenac/spring-cloud-contract-poc/blob/main/order-service/src/test/java/com/example/producer/BaseClass.java</a></p>\n<p>When I run <code>./gradlew clean :order-service:contractTest</code>. The following error is thrown</p>\n<pre><code>delegate cannot be null. Ensure a Bean with the name springSecurityFilterChain implementing Filter is present or inject the Filter to be used.\njava.lang.IllegalStateException: delegate cannot be null. Ensure a Bean with the name springSecurityFilterChain implementing Filter is present or inject the Filter to be used.\n</code></pre>\n<p>If you look at my SecurityConfig</p>\n<p><a href=\"https://github.com/Isaacwhyuenac/spring-cloud-contract-poc/blob/main/order-service/src/main/java/com/example/producer/config/SecurityConfig.java\" rel=\"nofollow noreferrer\">https://github.com/Isaacwhyuenac/spring-cloud-contract-poc/blob/main/order-service/src/main/java/com/example/producer/config/SecurityConfig.java</a></p>\n<p>The security filter is already setup. So, how to resolve this error and have my <code>contractTest</code> running properly??</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"score":3,"creation_date":1560354086,"post_id":56565642,"comment_id":99711192,"body_markdown":"As per my knowledge your approach does not work, because the moment you hit `WebElement element=driver.findElement(XXX)` line selenium will try to return the element which does not exist on the page. So you will get `NoSuchElement` exception before hitting `isElementExists` method if element not exist on the page.","body":"As per my knowledge your approach does not work, because the moment you hit <code>WebElement element=driver.findElement(XXX)</code> line selenium will try to return the element which does not exist on the page. So you will get <code>NoSuchElement</code> exception before hitting <code>isElementExists</code> method if element not exist on the page."},{"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"score":1,"creation_date":1560354237,"post_id":56565642,"comment_id":99711260,"body_markdown":"If still you want to stick to your idea, then you can take this approach - using `findElements` and then send that as param to `isElementExists(listofEelement, indexOfInteresedElement)` method.","body":"If still you want to stick to your idea, then you can take this approach - using <code>findElements</code> and then send that as param to <code>isElementExists(listofEelement, indexOfInteresedElement)</code> method."},{"owner":{"account_id":11305234,"reputation":117,"user_id":8290055,"display_name":"pityo10000"},"score":0,"creation_date":1560354832,"post_id":56565642,"comment_id":99711612,"body_markdown":"Well the problem is, I got a big UI test system, which I have to fix at a lot of point. And there are already Page objects, which have WebElement properties. These properties are used at least a 1000 places and there are no checks if these exist. I want to create a Util class, which would have this method, and I would call it. But most of the places, I don&#39;t have an ID, or any information about the element&#39;s properties, just the WebElement and Page objects, and I have to deal with it somehow. So probably I could not use findElements in these circumstances.","body":"Well the problem is, I got a big UI test system, which I have to fix at a lot of point. And there are already Page objects, which have WebElement properties. These properties are used at least a 1000 places and there are no checks if these exist. I want to create a Util class, which would have this method, and I would call it. But most of the places, I don&#39;t have an ID, or any information about the element&#39;s properties, just the WebElement and Page objects, and I have to deal with it somehow. So probably I could not use findElements in these circumstances."},{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":1,"creation_date":1560355783,"post_id":56565642,"comment_id":99712109,"body_markdown":"You might be better off creating a custom implementation of the WebElement interface that wraps another WebElement in order to catch the NoSuchElementException that gets thrown when an element doesn&#39;t exist. Are you sure you aren&#39;t looking for something to test if an element is something you can interact with? That&#39;s an entirely different problem to solve.","body":"You might be better off creating a custom implementation of the WebElement interface that wraps another WebElement in order to catch the NoSuchElementException that gets thrown when an element doesn&#39;t exist. Are you sure you aren&#39;t looking for something to test if an element is something you can interact with? That&#39;s an entirely different problem to solve."},{"owner":{"account_id":11305234,"reputation":117,"user_id":8290055,"display_name":"pityo10000"},"score":0,"creation_date":1560356302,"post_id":56565642,"comment_id":99712379,"body_markdown":"Well maybe. So the actual system does not check if an element exists so it just try to e.g. click on non existing buttons and send text to non existing input elements. In this prespective, I can say I can&#39;t interact with them, but if you mean, the elements exist, it is just disabled or anything, then no, it&#39;s not what I&#39;m looking for. Does it make sense? I try to write here an example soon.","body":"Well maybe. So the actual system does not check if an element exists so it just try to e.g. click on non existing buttons and send text to non existing input elements. In this prespective, I can say I can&#39;t interact with them, but if you mean, the elements exist, it is just disabled or anything, then no, it&#39;s not what I&#39;m looking for. Does it make sense? I try to write here an example soon."},{"owner":{"account_id":11305234,"reputation":117,"user_id":8290055,"display_name":"pityo10000"},"score":0,"creation_date":1560357089,"post_id":56565642,"comment_id":99712728,"body_markdown":"Added some example code","body":"Added some example code"}],"answers":[{"comments":[{"owner":{"account_id":11305234,"reputation":117,"user_id":8290055,"display_name":"pityo10000"},"score":0,"creation_date":1560358626,"post_id":56566964,"comment_id":99713398,"body_markdown":"And how much the try-catch solution would make slower the processes? If I would have to click for example about a 200 times in a test case?","body":"And how much the try-catch solution would make slower the processes? If I would have to click for example about a 200 times in a test case?"},{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":1,"creation_date":1560358775,"post_id":56566964,"comment_id":99713478,"body_markdown":"@pityo10000: I doubt the difference will be noticeable. It&#39;s usually the `catch`/exception stack-unwinding part of a `try-catch` that is slower, and even then you need to benchmark the performance to know if the difference in speed in _actually_ a problem.","body":"@pityo10000: I doubt the difference will be noticeable. It&#39;s usually the <code>catch</code>/exception stack-unwinding part of a <code>try-catch</code> that is slower, and even then you need to benchmark the performance to know if the difference in speed in <i>actually</i> a problem."},{"owner":{"account_id":11305234,"reputation":117,"user_id":8290055,"display_name":"pityo10000"},"score":0,"creation_date":1560359144,"post_id":56566964,"comment_id":99713669,"body_markdown":"Ok, then probably, I&#39;ll use this solution. It seems there is no other way (which would be beautiful). Thank you very much!","body":"Ok, then probably, I&#39;ll use this solution. It seems there is no other way (which would be beautiful). Thank you very much!"}],"tags":[],"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1560358122,"creation_date":1560358122,"answer_id":56566964,"question_id":56565642,"body_markdown":"Since Selenium throws a NoSuchElementException when attempting to click on the second button, create a method in your page object that does the clicking:\r\n\r\n```java\r\npublic class FooPage {\r\n    @FindBy(how = How.ID, using = &quot;button1&quot;)\r\n    public WebElement firstButton;\r\n\r\n    //Missing button\r\n    @FindBy(how = How.ID, using = &quot;button2&quot;)\r\n    public WebElement secondButton;\r\n\r\n    public FooPage(WebDriver driver) {\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n\r\n    public void clickThebuttons() {\r\n        firstButton.click();\r\n\r\n        try {\r\n            secondButton.click();\r\n        } catch (NoSuchElementException ex) {\r\n            // Do something when the second button does not exist\r\n        }\r\n    }\r\n}\r\n```","title":"How can I check if a web element exists in Selenium?","body":"<p>Since Selenium throws a NoSuchElementException when attempting to click on the second button, create a method in your page object that does the clicking:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class FooPage {\n    @FindBy(how = How.ID, using = \"button1\")\n    public WebElement firstButton;\n\n    //Missing button\n    @FindBy(how = How.ID, using = \"button2\")\n    public WebElement secondButton;\n\n    public FooPage(WebDriver driver) {\n        PageFactory.initElements(driver, this);\n    }\n\n    public void clickThebuttons() {\n        firstButton.click();\n\n        try {\n            secondButton.click();\n        } catch (NoSuchElementException ex) {\n            // Do something when the second button does not exist\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11305234,"reputation":117,"user_id":8290055,"display_name":"pityo10000"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1986,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56566964,"answer_count":1,"score":1,"last_activity_date":1668822979,"creation_date":1560353024,"question_id":56565642,"body_markdown":"I want to create a Java method which can check if an actual Selenium webelement exists.\r\n\r\nIt&#39;s important that I need to create a method, which would get a Webelement as a parameter, not a *By* or *String* id. And I want to avoid a try-catch solution, which would return a false if a NoSuchElementException would occur.\r\n\r\n```lang-java\r\npublic boolean isElementExists(WebElement element) {\r\n    // TODO Implement...\r\n}\r\n```\r\n\r\nExample:\r\n\r\n### File *foo.html*\r\n\r\n```lang-html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;body&gt;\r\n\r\n&lt;button id=&quot;button1&quot; type=&quot;button&quot;&gt;First button&lt;/button&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n### File *FooPage.java*\r\n\r\n```lang-java\r\npublic class FooPage {\r\n\r\n    @FindBy(how = How.ID, using = &quot;button1&quot;)\r\n    public WebElement fistButton;\r\n\r\n    //Missing button\r\n    @FindBy(how = How.ID, using = &quot;button2&quot;)\r\n    public WebElement secondButton;\r\n}\r\n```\r\n\r\n### File *FooPageTest.java*\r\n\r\n```lang-java\r\npublic class FooPageTest {\r\n    public void test(FooPage page) {\r\n        page.firstButton.click(); // OK\r\n        page.secondButton.click(); // NoSuchElementException\r\n        // So I need to check if element exists in this class.\r\n        // I can access here to the FooPage, the webelement to check, and to the driver.\r\n    }\r\n}\r\n```\r\n\r\n","title":"How can I check if a web element exists in Selenium?","body":"<p>I want to create a Java method which can check if an actual Selenium webelement exists.</p>\n<p>It's important that I need to create a method, which would get a Webelement as a parameter, not a <em>By</em> or <em>String</em> id. And I want to avoid a try-catch solution, which would return a false if a NoSuchElementException would occur.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isElementExists(WebElement element) {\n    // TODO Implement...\n}\n</code></pre>\n<p>Example:</p>\n<h3>File <em>foo.html</em></h3>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;button id=&quot;button1&quot; type=&quot;button&quot;&gt;First button&lt;/button&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h3>File <em>FooPage.java</em></h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooPage {\n\n    @FindBy(how = How.ID, using = &quot;button1&quot;)\n    public WebElement fistButton;\n\n    //Missing button\n    @FindBy(how = How.ID, using = &quot;button2&quot;)\n    public WebElement secondButton;\n}\n</code></pre>\n<h3>File <em>FooPageTest.java</em></h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooPageTest {\n    public void test(FooPage page) {\n        page.firstButton.click(); // OK\n        page.secondButton.click(); // NoSuchElementException\n        // So I need to check if element exists in this class.\n        // I can access here to the FooPage, the webelement to check, and to the driver.\n    }\n}\n</code></pre>\n"},{"tags":["java","android","jakarta-mail","verifyerror"],"comments":[{"owner":{"account_id":12177834,"reputation":2263,"user_id":8890345,"display_name":"Nathan Mills"},"score":1,"creation_date":1600382542,"post_id":63946383,"comment_id":113078897,"body_markdown":"Welcome to Stack Overflow. Have you tried using [version 1.6.5](https://mvnrepository.com/artifact/com.sun.mail/android-mail/1.6.5)?","body":"Welcome to Stack Overflow. Have you tried using <a href=\"https://mvnrepository.com/artifact/com.sun.mail/android-mail/1.6.5\" rel=\"nofollow noreferrer\">version 1.6.5</a>?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1600384322,"post_id":63946383,"comment_id":113079282,"body_markdown":"`VerifyError` is perfectly normal. It means that the class does not exist. So long as no code tries using that class, the fact that it does not exist will not be a problem.","body":"<code>VerifyError</code> is perfectly normal. It means that the class does not exist. So long as no code tries using that class, the fact that it does not exist will not be a problem."},{"owner":{"account_id":19538667,"reputation":11,"user_id":14296923,"display_name":"enannenen"},"score":0,"creation_date":1600384963,"post_id":63946383,"comment_id":113079426,"body_markdown":"Yes, I tried 1.6.5 and various others.","body":"Yes, I tried 1.6.5 and various others."},{"owner":{"account_id":19538667,"reputation":11,"user_id":14296923,"display_name":"enannenen"},"score":0,"creation_date":1600514713,"post_id":63946383,"comment_id":113115895,"body_markdown":"AS uses jdk 1.8.0.242. android-mail uses jdk 1.8.0.202. Can this be a significant difference?","body":"AS uses jdk 1.8.0.242. android-mail uses jdk 1.8.0.202. Can this be a significant difference?"},{"owner":{"account_id":19538667,"reputation":11,"user_id":14296923,"display_name":"enannenen"},"score":0,"creation_date":1600597817,"post_id":63946383,"comment_id":113132593,"body_markdown":"I think android-activation i the dependencies is meant to replace older javax.activation. But how do i remove/delete/suspend/skip these classes from jre?","body":"I think android-activation i the dependencies is meant to replace older javax.activation. But how do i remove/delete/suspend/skip these classes from jre?"},{"owner":{"account_id":428382,"reputation":1246,"user_id":810674,"accept_rate":19,"display_name":"gbotha"},"score":0,"creation_date":1601959722,"post_id":63946383,"comment_id":113560562,"body_markdown":"I am seeing this error when targeting Android 11 (SDK 30).  Targeting Android 10 (SDK 29) does not give the error.","body":"I am seeing this error when targeting Android 11 (SDK 30).  Targeting Android 10 (SDK 29) does not give the error."},{"owner":{"account_id":3600016,"reputation":355,"user_id":3003519,"display_name":"Vijay Patole"},"score":1,"creation_date":1610104322,"post_id":63946383,"comment_id":116032569,"body_markdown":"I am facing the same issue on Android 11, Targetting SDK 30 and using version 1.6.5. Caused by java.lang.VerifyError Verifier rejected class com.sun.mail.handlers.handler_base:","body":"I am facing the same issue on Android 11, Targetting SDK 30 and using version 1.6.5. Caused by java.lang.VerifyError Verifier rejected class com.sun.mail.handlers.handler_base:"}],"owner":{"account_id":19538667,"reputation":11,"user_id":14296923,"display_name":"enannenen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1668781439,"answer_count":0,"score":1,"last_activity_date":1668822929,"creation_date":1600377855,"question_id":63946383,"body_markdown":"The code giving the error (simplified):\r\n\r\n            store = session.getStore(&quot;imaps&quot;);\r\n            store.connect();\r\n            inbox = store.getFolder(&quot;INBOX&quot;);\r\n            inbox.open(Folder.READ_ONLY);\r\n            Message message = inbox.getMessage(1);\r\n       --&gt;  mailContent = message.getContent().toString();  \r\n\r\nError message\r\n\r\n    java.lang.VerifyError: Rejecting class com.sun.mail.handlers.text_plain that attempts to sub-type erroneous class com.sun.mail.handlers.handler_base (declaration of &#39;com.sun.mail.handlers.text_plain&#39; appears in /data/app/~~Z3AcOYbtbz2T2e7VoPzr3w==/com.example.epistula-WhLKom1ZTZ24Nr1ACPcg8Q==/base.apk)\r\n        at java.lang.Class.newInstance(Native Method)\r\n...\r\n\r\n        Caused by: java.lang.VerifyError: Verifier rejected class com.sun.mail.handlers.handler_base: java.awt.datatransfer.DataFlavor[] com.sun.mail.handlers.handler_base.getTransferDataFlavors() failed to verify: java.awt.datatransfer.DataFlavor[] com.sun.mail.handlers.handler_base.getTransferDataFlavors(): [0x4]  can&#39;t resolve returned type &#39;Unresolved Reference: java.awt.datatransfer.DataFlavor[]&#39; or &#39;Reference: javax.activation.ActivationDataFlavor[]&#39; (declaration of &#39;com.sun.mail.handlers.handler_base&#39; appears in /data/app/~~Z3AcOYbtbz2T2e7VoPzr3w==/com.example.epistula-WhLKom1ZTZ24Nr1ACPcg8Q==/base.apk)\r\n        at java.lang.Class.newInstance(Native Method)&#160;\r\n...\r\n\r\nMy dependencies\r\n\r\n            implementation &#39;com.sun.mail:android-mail:1.6.4&#39;\r\n            implementation &#39;com.sun.mail:android-activation:1.6.4&#39;\r\n\r\nEvrything worked fine until I tried getting the actual mail content. Reading folders and Subject etc ok. I am new to Android Studio (and Java), but I can guess this is some kind of versoning conflict.\r\n\r\nBut what version of what should be changed in what direction and how I am not able to figure out.\r\n\r\nCurrent theory is that the problem is caused by the interface DataContentHandler. The &quot;erroneous&quot; class handler_base implements this interface. Android studio comes with a predefined version of the interface, in package javax.activation. android-activation reimplements (and changes) this interface (and probably the whole package). This is of some reason no problem to the compiler, but when the sub-typing happens in run-time, there is a conflict.\r\n\r\nBut how do I remove, or suspend, the old version of the interface? I have tried to delete it in the jar-file, but that has no consequence. I have not access to the source code, so I cannot change the name. And I don&#39;t even know if the theory holds.\r\n\r\nUpdate\r\n\r\nNow I sort of &quot;fixed&quot; the error by swapping to another device. I will not add this as an answer since I have no idea what devices will allow the code to run and why. ","title":"How to resolve java.lang.VerifyError when using javamail on android","body":"<p>The code giving the error (simplified):</p>\n<pre><code>        store = session.getStore(&quot;imaps&quot;);\n        store.connect();\n        inbox = store.getFolder(&quot;INBOX&quot;);\n        inbox.open(Folder.READ_ONLY);\n        Message message = inbox.getMessage(1);\n   --&gt;  mailContent = message.getContent().toString();  \n</code></pre>\n<p>Error message</p>\n<pre><code>java.lang.VerifyError: Rejecting class com.sun.mail.handlers.text_plain that attempts to sub-type erroneous class com.sun.mail.handlers.handler_base (declaration of 'com.sun.mail.handlers.text_plain' appears in /data/app/~~Z3AcOYbtbz2T2e7VoPzr3w==/com.example.epistula-WhLKom1ZTZ24Nr1ACPcg8Q==/base.apk)\n    at java.lang.Class.newInstance(Native Method)\n</code></pre>\n<p>...</p>\n<pre><code>    Caused by: java.lang.VerifyError: Verifier rejected class com.sun.mail.handlers.handler_base: java.awt.datatransfer.DataFlavor[] com.sun.mail.handlers.handler_base.getTransferDataFlavors() failed to verify: java.awt.datatransfer.DataFlavor[] com.sun.mail.handlers.handler_base.getTransferDataFlavors(): [0x4]  can't resolve returned type 'Unresolved Reference: java.awt.datatransfer.DataFlavor[]' or 'Reference: javax.activation.ActivationDataFlavor[]' (declaration of 'com.sun.mail.handlers.handler_base' appears in /data/app/~~Z3AcOYbtbz2T2e7VoPzr3w==/com.example.epistula-WhLKom1ZTZ24Nr1ACPcg8Q==/base.apk)\n    at java.lang.Class.newInstance(Native Method) \n</code></pre>\n<p>...</p>\n<p>My dependencies</p>\n<pre><code>        implementation 'com.sun.mail:android-mail:1.6.4'\n        implementation 'com.sun.mail:android-activation:1.6.4'\n</code></pre>\n<p>Evrything worked fine until I tried getting the actual mail content. Reading folders and Subject etc ok. I am new to Android Studio (and Java), but I can guess this is some kind of versoning conflict.</p>\n<p>But what version of what should be changed in what direction and how I am not able to figure out.</p>\n<p>Current theory is that the problem is caused by the interface DataContentHandler. The &quot;erroneous&quot; class handler_base implements this interface. Android studio comes with a predefined version of the interface, in package javax.activation. android-activation reimplements (and changes) this interface (and probably the whole package). This is of some reason no problem to the compiler, but when the sub-typing happens in run-time, there is a conflict.</p>\n<p>But how do I remove, or suspend, the old version of the interface? I have tried to delete it in the jar-file, but that has no consequence. I have not access to the source code, so I cannot change the name. And I don't even know if the theory holds.</p>\n<p>Update</p>\n<p>Now I sort of &quot;fixed&quot; the error by swapping to another device. I will not add this as an answer since I have no idea what devices will allow the code to run and why.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1668820923,"post_id":74496862,"comment_id":131506486,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question) --- I recommend contacting your instructor/professor/teacher. --- Please read: [Open letter to students with homework problems](https://softwareengineering.meta.stackexchange.com/questions/6166/open-letter-to-students-with-homework-problems) --- You forgot to ask an actual question. Please [edit] the post and add a focused question.","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a> --- I recommend contacting your instructor/professor/teacher. --- Please read: <a href=\"https://softwareengineering.meta.stackexchange.com/questions/6166/open-letter-to-students-with-homework-problems\">Open letter to students with homework problems</a> --- You forgot to ask an actual question. Please <a href=\"https://stackoverflow.com/posts/74496862/edit\">edit</a> the post and add a focused question."},{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1668822401,"post_id":74496862,"comment_id":131506654,"body_markdown":"What have you tried till now? Try reading about the concepts that were taught in the class the day you were not able to attend and make your way forward from there.","body":"What have you tried till now? Try reading about the concepts that were taught in the class the day you were not able to attend and make your way forward from there."}],"answers":[{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668821485,"post_id":74496912,"comment_id":131506528,"body_markdown":"Code-only answers are discouraged. We should rather explain the challenge and how our solution overcomes it. --- The code presented will not compile.","body":"Code-only answers are discouraged. We should rather explain the challenge and how our solution overcomes it. --- The code presented will not compile."},{"owner":{"account_id":26697856,"reputation":3,"user_id":20305399,"display_name":"Parmingo"},"score":0,"creation_date":1668821944,"post_id":74496912,"comment_id":131506592,"body_markdown":"Oh, my bad. Sorry!","body":"Oh, my bad. Sorry!"}],"tags":[],"owner":{"account_id":26697856,"reputation":3,"user_id":20305399,"display_name":"Parmingo"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668821327,"creation_date":1668821327,"answer_id":74496912,"question_id":74496862,"body_markdown":"You could try the following:\r\n\r\n```\r\nString diff: StringUtils.difference(one, two);\r\nSystem.out.println(diff);\r\n```","title":"Display elements of a String which are not found on the other","body":"<p>You could try the following:</p>\n<pre><code>String diff: StringUtils.difference(one, two);\nSystem.out.println(diff);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668822606,"creation_date":1668822606,"answer_id":74496997,"question_id":74496862,"body_markdown":"There are many ways to do this. I&#39;m going to give you some parts you can put together. They are not the shortest or simplest way to solve this particular problem, but they will be useful for other small programs you write.\r\n\r\nHere are some hints:\r\n\r\nFirst, figure out how to step through your code with a debugger.\r\nSecond, figure out how to find the Javadoc for Java library classes and their methods.\r\n\r\nYou need to do something for each character in a string. Use a for loop for that:\r\n```\r\nfor (int i = 0; i &lt; one.length(); i++) {\r\n // your code here\r\n}\r\n```\r\n\r\nYou need to get a particular character of a `String`.\r\n```\r\nString c = one.substring(i, i+1);\r\n```\r\nRead the Javadoc for `String.substring` to understand what the `i` and `i+1` parameters do.\r\n\r\nNow you need to find a way to check whether a `String` `contains` another `String`. Look at the Javadoc for the `String` class.\r\n\r\nThen you can put all this together.","title":"Display elements of a String which are not found on the other","body":"<p>There are many ways to do this. I'm going to give you some parts you can put together. They are not the shortest or simplest way to solve this particular problem, but they will be useful for other small programs you write.</p>\n<p>Here are some hints:</p>\n<p>First, figure out how to step through your code with a debugger.\nSecond, figure out how to find the Javadoc for Java library classes and their methods.</p>\n<p>You need to do something for each character in a string. Use a for loop for that:</p>\n<pre><code>for (int i = 0; i &lt; one.length(); i++) {\n // your code here\n}\n</code></pre>\n<p>You need to get a particular character of a <code>String</code>.</p>\n<pre><code>String c = one.substring(i, i+1);\n</code></pre>\n<p>Read the Javadoc for <code>String.substring</code> to understand what the <code>i</code> and <code>i+1</code> parameters do.</p>\n<p>Now you need to find a way to check whether a <code>String</code> <code>contains</code> another <code>String</code>. Look at the Javadoc for the <code>String</code> class.</p>\n<p>Then you can put all this together.</p>\n"}],"owner":{"account_id":26979648,"reputation":1,"user_id":20544206,"display_name":"troy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668822606,"creation_date":1668820523,"question_id":74496862,"body_markdown":"We were told to do a program on stings and I wasn&#39;t able to attend class because I was sick. I am asking for your help on this task that was given to us.\r\n\r\n\r\n\r\nCreate a java program that will ask the user to input two Strings. Compare the two strings and display the letters that are found on the first string but are not found on the second string.\r\n\r\nHere is what I have at the moment https://pastebin.com/7a4dHecR\r\n\r\nI really have no Idea what to do so any help would be appreciated!\r\n\r\nhttps://pastebin.com/7a4dHecR\r\n\r\n```\r\nimport java.util.*;\r\npublic class filename{\r\n\tpublic static void main(String[] args){\r\n\t\tScanner sc =new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Input first string: &quot;);\r\n\t\tString one=sc.next();\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.print(&quot;Input second string: &quot;);\r\n\t\tString two=sc.next();\r\n\t\r\n\t}\r\n}\r\n```\r\n","title":"Display elements of a String which are not found on the other","body":"<p>We were told to do a program on stings and I wasn't able to attend class because I was sick. I am asking for your help on this task that was given to us.</p>\n<p>Create a java program that will ask the user to input two Strings. Compare the two strings and display the letters that are found on the first string but are not found on the second string.</p>\n<p>Here is what I have at the moment <a href=\"https://pastebin.com/7a4dHecR\" rel=\"nofollow noreferrer\">https://pastebin.com/7a4dHecR</a></p>\n<p>I really have no Idea what to do so any help would be appreciated!</p>\n<p><a href=\"https://pastebin.com/7a4dHecR\" rel=\"nofollow noreferrer\">https://pastebin.com/7a4dHecR</a></p>\n<pre><code>import java.util.*;\npublic class filename{\n    public static void main(String[] args){\n        Scanner sc =new Scanner(System.in);\n        \n        System.out.print(&quot;Input first string: &quot;);\n        String one=sc.next();\n        System.out.println();\n        System.out.print(&quot;Input second string: &quot;);\n        String two=sc.next();\n    \n    }\n}\n</code></pre>\n"},{"tags":["java","list","collections","hashmap","java-stream"],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668814933,"post_id":74496342,"comment_id":131505530,"body_markdown":"Thank you for your answer. I tried to use this resource (https://stackoverflow.com/questions/34997501/java-8-stream-groupingby-summing-an-attributevalue) but it didn&#39;t help.","body":"Thank you for your answer. I tried to use this resource (<a href=\"https://stackoverflow.com/questions/34997501/java-8-stream-groupingby-summing-an-attributevalue\" title=\"java 8 stream groupingby summing an attributevalue\">stackoverflow.com/questions/34997501/&hellip;</a>) but it didn&#39;t help."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668815069,"post_id":74496342,"comment_id":131505546,"body_markdown":"@S.N Sorry, I didn&#39;t understand how the link you&#39;ve posted is connected to my answer?","body":"@S.N Sorry, I didn&#39;t understand how the link you&#39;ve posted is connected to my answer?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668815133,"post_id":74496342,"comment_id":131505559,"body_markdown":"I don&#39;t want to use Consumer. Is it impossible to handle with that without Consumer? What I want to do is to group by id to sum salary and convert the object to dto.","body":"I don&#39;t want to use Consumer. Is it impossible to handle with that without Consumer? What I want to do is to group by id to sum salary and convert the object to dto."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668815190,"post_id":74496342,"comment_id":131505568,"body_markdown":"@S.N Just remove it the `implements` clause.  If you&#39;ve any other points of confusion?","body":"@S.N Just remove it the <code>implements</code> clause.  If you&#39;ve any other points of confusion?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668815491,"post_id":74496342,"comment_id":131505623,"body_markdown":"I want to use flatMap and then map the object to dto while calculating the total amount? Which way should I use? Can you also share the information with me?","body":"I want to use flatMap and then map the object to dto while calculating the total amount? Which way should I use? Can you also share the information with me?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668815810,"post_id":74496342,"comment_id":131505680,"body_markdown":"@S.N You don&#39;t need `flatMap` in this case (to understand why, try to visualize the operations by writing the required operations on a paper).","body":"@S.N You don&#39;t need <code>flatMap</code> in this case (to understand why, try to visualize the operations by writing the required operations on a paper)."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669035405,"post_id":74496342,"comment_id":131544188,"body_markdown":"@AlexanderIvanchenko I tried to use your approach like merge but I couldn&#39;t solve my issue. Here is the link : https://stackoverflow.com/questions/74512927/java-stream-issue-of-calculating-count-sum-of-one-value-and-multiple-group-by-c","body":"@AlexanderIvanchenko I tried to use your approach like merge but I couldn&#39;t solve my issue. Here is the link : <a href=\"https://stackoverflow.com/questions/74512927/java-stream-issue-of-calculating-count-sum-of-one-value-and-multiple-group-by-c\" title=\"java stream issue of calculating count sum of one value and multiple group by c\">stackoverflow.com/questions/74512927/&hellip;</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669038514,"post_id":74496342,"comment_id":131545341,"body_markdown":"@qwercan You&#39;re getting incorrect count `totalPerson` because you&#39;re not taking into account person `id` (i.e. you&#39;re treating each DTO in your code as representing a distinct `Person` which is not true). You can create a intermediate object maintaining a `Set` of `id` to accumulate the `Person` instances. And then turn these objects into DTO by using the `size` of their Sets of ids as the person count.","body":"@qwercan You&#39;re getting incorrect count <code>totalPerson</code> because you&#39;re not taking into account person <code>id</code> (i.e. you&#39;re treating each DTO in your code as representing a distinct <code>Person</code> which is not true). You can create a intermediate object maintaining a <code>Set</code> of <code>id</code> to accumulate the <code>Person</code> instances. And then turn these objects into DTO by using the <code>size</code> of their Sets of ids as the person count."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669039718,"post_id":74496342,"comment_id":131545789,"body_markdown":"@AlexanderIvanchenko I tried to use `.collect(Collectors.groupingBy(\n                        p -&gt; new GroupDto(p.getEventDate().getMonthValue(), p.getId()),\n                        Collectors.counting()\n                ))` before but I have problem in map part. Can you help me?","body":"@AlexanderIvanchenko I tried to use <code>.collect(Collectors.groupingBy(                         p -&gt; new GroupDto(p.getEventDate().getMonthValue(), p.getId()),                         Collectors.counting()                 ))</code> before but I have problem in map part. Can you help me?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669049590,"post_id":74496342,"comment_id":131549584,"body_markdown":"@AlexanderIvanchenko I just tried to follow your approach but I have no idea how to implement it after creating an another `DTO` containg `Set&lt;String&gt; personId`","body":"@AlexanderIvanchenko I just tried to follow your approach but I have no idea how to implement it after creating an another <code>DTO</code> containg <code>Set&lt;String&gt; personId</code>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669049794,"post_id":74496342,"comment_id":131549652,"body_markdown":"@qwercan Feel free to post the question regarding this problem with your attempt.","body":"@qwercan Feel free to post the question regarding this problem with your attempt."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669050252,"post_id":74496342,"comment_id":131549812,"body_markdown":"@AlexanderIvanchenko I already asked it. Here is the link : https://stackoverflow.com/questions/74512927/java-stream-issue-of-calculating-count-sum-of-one-value-and-multiple-group-by-c","body":"@AlexanderIvanchenko I already asked it. Here is the link : <a href=\"https://stackoverflow.com/questions/74512927/java-stream-issue-of-calculating-count-sum-of-one-value-and-multiple-group-by-c\" title=\"java stream issue of calculating count sum of one value and multiple group by c\">stackoverflow.com/questions/74512927/&hellip;</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669050818,"post_id":74496342,"comment_id":131549992,"body_markdown":"@qwercan But the code **doesn&#39;t** contain the attempt you&#39;ve mentioned. I would not suggest instead of editing the existing question (which invalidates the answer you received, it&#39;s not good), to open a **new question**, provide a code attempt (with the `Set&lt;String&gt; personId`) and thorough problem description.","body":"@qwercan But the code <b>doesn&#39;t</b> contain the attempt you&#39;ve mentioned. I would not suggest instead of editing the existing question (which invalidates the answer you received, it&#39;s not good), to open a <b>new question</b>, provide a code attempt (with the <code>Set&lt;String&gt; personId</code>) and thorough problem description."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669051206,"post_id":74496342,"comment_id":131550123,"body_markdown":"@AlexanderIvanchenko I asked it as a new question. Here is the link : https://stackoverflow.com/questions/74522647/java-stream-cannot-calculate-total-value-after-grouping-and-filtering","body":"@AlexanderIvanchenko I asked it as a new question. Here is the link : <a href=\"https://stackoverflow.com/questions/74522647/java-stream-cannot-calculate-total-value-after-grouping-and-filtering\" title=\"java stream cannot calculate total value after grouping and filtering\">stackoverflow.com/questions/74522647/&hellip;</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669051320,"post_id":74496342,"comment_id":131550162,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249791/discussion-between-alexander-ivanchenko-and-qwercan).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249791/discussion-between-alexander-ivanchenko-and-qwercan\">continue this discussion in chat</a>."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669058790,"post_id":74496342,"comment_id":131552458,"body_markdown":"@AlexanderIvanchenko I still couldn&#39;t solve the issue even if the answer of the post can be tried. How can I do that? Can you help me?","body":"@AlexanderIvanchenko I still couldn&#39;t solve the issue even if the answer of the post can be tried. How can I do that? Can you help me?"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":16,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668821614,"creation_date":1668814423,"answer_id":74496342,"question_id":74496084,"body_markdown":"You can define a custom accumulation type for calculating the total salary for each id (*it&#39;s a common practice to keep DTO immutable, but if you want to avoid introducing new types you can add a new behaviour into `SalaryDto` but I would not advice to do so*).\r\n\r\n    public class SalaryAccumulator implements Consumer&lt;Employee&gt; {\r\n        private String id;\r\n        private String name;\r\n        private String surname;\r\n        private BigDecimal totalSalary = BigDecimal.ZERO;\r\n        \r\n        public void accept(Employee e) {\r\n            if (id == null) id = e.getId();\r\n            if (name == null) name = e.getName();\r\n            if (surname == null) surname = e.getSurname();\r\n            totalSalary = totalSalary.add(e.getSalary());\r\n        }\r\n        \r\n        public SalaryAccumulator merge(SalaryAccumulator other) {\r\n            totalSalary = totalSalary.add(other.getTotalSalary());\r\n            return this;\r\n        }\r\n        \r\n        public SalaryDto toSalaryDto() {\r\n            return new SalaryDto(id, name, surname, totalSalary);\r\n        }\r\n    }\r\n\r\nAnd in the stream in order to turn each `List` of `Employee` into a `SalaryDto` you can generate a stream over the list and apply `collect()` passing a custom Collector as an argument.\r\n\r\nTo define a custom Collector, we need to make of the static factory method [`Collector.of()`][of]. That&#39;s where `SalaryAccumulator` would come into play, it would serve as a mutable container of the collector.\r\n\r\n```\r\nMap&lt;String, List&lt;Employee&gt;&gt; employees = // initializing the map\r\n        \r\nList&lt;SalaryDto&gt; totalSalary = employees.values().stream()\r\n    .map(list -&gt; list.stream()\r\n        .collect(Collector.of(\r\n            SalaryAccumulator::new,\r\n            SalaryAccumulator::accept,\r\n            SalaryAccumulator::merge,\r\n            SalaryAccumulator::toSalaryDto\r\n        ))\r\n    ).toList();\r\n```\r\n\r\nAlternatively, in the nested stream, we can make use of the combination of Collectors [`collectingAndThen()`][collectingAndThen] and [`reducing()`][reducing]:\r\n\r\n```\r\nMap&lt;String, List&lt;Employee&gt;&gt; employees = // initializing the map\r\n        \r\nList&lt;SalaryDto&gt; totalSalary = employees.values().stream()\r\n    .map(l -&gt; l.stream()\r\n        .map(Employee::getSalary)\r\n        .collect(Collectors.collectingAndThen(\r\n            Collectors.reducing(BigDecimal::add),\r\n            salary -&gt; new SalaryDto(l.get(0).getId(),\r\n                l.get(0).getName(),\r\n                l.get(0).getSurname(),\r\n                salary.orElseThrow())\r\n        ))\r\n    ).toList();\r\n```\r\n\r\n   [of]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\r\n\r\n   [collectingAndThen]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\r\n\r\n   [reducing]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#reducing(java.util.function.BinaryOperator)","title":"Using Java Streams Map&lt;String,List&lt;Object&gt;&gt; filter specific value and convert Object to Dto","body":"<p>You can define a custom accumulation type for calculating the total salary for each id (<em>it's a common practice to keep DTO immutable, but if you want to avoid introducing new types you can add a new behaviour into <code>SalaryDto</code> but I would not advice to do so</em>).</p>\n<pre><code>public class SalaryAccumulator implements Consumer&lt;Employee&gt; {\n    private String id;\n    private String name;\n    private String surname;\n    private BigDecimal totalSalary = BigDecimal.ZERO;\n    \n    public void accept(Employee e) {\n        if (id == null) id = e.getId();\n        if (name == null) name = e.getName();\n        if (surname == null) surname = e.getSurname();\n        totalSalary = totalSalary.add(e.getSalary());\n    }\n    \n    public SalaryAccumulator merge(SalaryAccumulator other) {\n        totalSalary = totalSalary.add(other.getTotalSalary());\n        return this;\n    }\n    \n    public SalaryDto toSalaryDto() {\n        return new SalaryDto(id, name, surname, totalSalary);\n    }\n}\n</code></pre>\n<p>And in the stream in order to turn each <code>List</code> of <code>Employee</code> into a <code>SalaryDto</code> you can generate a stream over the list and apply <code>collect()</code> passing a custom Collector as an argument.</p>\n<p>To define a custom Collector, we need to make of the static factory method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>. That's where <code>SalaryAccumulator</code> would come into play, it would serve as a mutable container of the collector.</p>\n<pre><code>Map&lt;String, List&lt;Employee&gt;&gt; employees = // initializing the map\n        \nList&lt;SalaryDto&gt; totalSalary = employees.values().stream()\n    .map(list -&gt; list.stream()\n        .collect(Collector.of(\n            SalaryAccumulator::new,\n            SalaryAccumulator::accept,\n            SalaryAccumulator::merge,\n            SalaryAccumulator::toSalaryDto\n        ))\n    ).toList();\n</code></pre>\n<p>Alternatively, in the nested stream, we can make use of the combination of Collectors <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#collectingAndThen(java.util.stream.Collector,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>collectingAndThen()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#reducing(java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>reducing()</code></a>:</p>\n<pre><code>Map&lt;String, List&lt;Employee&gt;&gt; employees = // initializing the map\n        \nList&lt;SalaryDto&gt; totalSalary = employees.values().stream()\n    .map(l -&gt; l.stream()\n        .map(Employee::getSalary)\n        .collect(Collectors.collectingAndThen(\n            Collectors.reducing(BigDecimal::add),\n            salary -&gt; new SalaryDto(l.get(0).getId(),\n                l.get(0).getName(),\n                l.get(0).getSurname(),\n                salary.orElseThrow())\n        ))\n    ).toList();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668815059,"post_id":74496374,"comment_id":131505544,"body_markdown":"Thank you for your answer. How can I group by id to sum salary and convert the object to dto?","body":"Thank you for your answer. How can I group by id to sum salary and convert the object to dto?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668815399,"post_id":74496374,"comment_id":131505605,"body_markdown":"What is forEmployee method?","body":"What is forEmployee method?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1668817921,"post_id":74496374,"comment_id":131506063,"body_markdown":"It&#39;s a static factory method that accepts `(Employee, BigDecimal)`. You didn&#39;t provide any details as to how the DTO is constructed, so I used my imagination.","body":"It&#39;s a static factory method that accepts <code>(Employee, BigDecimal)</code>. You didn&#39;t provide any details as to how the DTO is constructed, so I used my imagination."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668863798,"post_id":74496374,"comment_id":131512044,"body_markdown":"I asked what is the body part of forEmployee method?","body":"I asked what is the body part of forEmployee method?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1668914537,"post_id":74496374,"comment_id":131521011,"body_markdown":"It&#39;s not a real method. It&#39;s a stand-in for whatever logic you have to convert `Employee` to  `SalaryDto`. Feel free to implement it however makes sense or use whatever constructor/factory you have already have defined.","body":"It&#39;s not a real method. It&#39;s a stand-in for whatever logic you have to convert <code>Employee</code> to  <code>SalaryDto</code>. Feel free to implement it however makes sense or use whatever constructor/factory you have already have defined."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669035438,"post_id":74496374,"comment_id":131544202,"body_markdown":"@shmosel I tried to use your approach like forEmployee but I couldn&#39;t solve my issue. Here is the link : https://stackoverflow.com/questions/74512927/java-stream-issue-of-calculating-count-sum-of-one-value-and-multiple-group-by-c","body":"@shmosel I tried to use your approach like forEmployee but I couldn&#39;t solve my issue. Here is the link : <a href=\"https://stackoverflow.com/questions/74512927/java-stream-issue-of-calculating-count-sum-of-one-value-and-multiple-group-by-c\" title=\"java stream issue of calculating count sum of one value and multiple group by c\">stackoverflow.com/questions/74512927/&hellip;</a>"}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668814854,"creation_date":1668814854,"answer_id":74496374,"question_id":74496084,"body_markdown":"They&#39;re already grouped, so all you need to do is reduce each list to a single `SalaryDto`:\r\n\r\n    SalaryDto flatten(List&lt;Employee&gt; employees) {\r\n        BigDecimal totalSalary = employees.stream()\r\n                .map(Employee::getSalary)\r\n                .reduce(BigDecimal::add).get();\r\n        return SalaryDto.forEmployee(employees.get(0), totalSalary);\r\n    }\r\n\r\nAnd now it&#39;s a simple `map` call:\r\n\r\n    List&lt;SalaryDto&gt; salaries = employees.values()\r\n            .stream()\r\n            .map(this::flatten)\r\n            .collect(toMap(SalaryDto::getId, s -&gt; s));","title":"Using Java Streams Map&lt;String,List&lt;Object&gt;&gt; filter specific value and convert Object to Dto","body":"<p>They're already grouped, so all you need to do is reduce each list to a single <code>SalaryDto</code>:</p>\n<pre><code>SalaryDto flatten(List&lt;Employee&gt; employees) {\n    BigDecimal totalSalary = employees.stream()\n            .map(Employee::getSalary)\n            .reduce(BigDecimal::add).get();\n    return SalaryDto.forEmployee(employees.get(0), totalSalary);\n}\n</code></pre>\n<p>And now it's a simple <code>map</code> call:</p>\n<pre><code>List&lt;SalaryDto&gt; salaries = employees.values()\n        .stream()\n        .map(this::flatten)\n        .collect(toMap(SalaryDto::getId, s -&gt; s));\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668822292,"creation_date":1668811974,"question_id":74496084,"body_markdown":"I want to calculate the total sum of Salary by personalId.\r\n\r\nMy map is of type `Map&lt;String, List&lt;Employee&gt;&gt;`. Where employee  `id` is used a Key, while value is a list of employee instances having the same `id`.\r\n\r\nHere is the list of map shown below\r\n\r\n    Id, Name , Surname, Salary\r\n    personalId1, &quot;Name 1&quot;,&quot;Surname 1&quot;, 100\r\n    personalId2, &quot;Name 2&quot;,&quot;Surname 2&quot;, 100\r\n    personalId3, &quot;Name 3&quot;,&quot;Surname 3&quot;, 100\r\n    personalId1, &quot;Name 1&quot;,&quot;Surname 1&quot;, 100\r\n    personalId2, &quot;Name 2&quot;,&quot;Surname 2&quot;, 100\r\n    personalId2, &quot;Name 2&quot;,&quot;Surname 2&quot;, 100\r\n    .........................\r\n\r\nWhat I really want to get this result shown below.\r\n\r\n    personalId1, &quot;Name 1&quot;,&quot;Surname 1&quot;, 200\r\n    personalId2, &quot;Name 2&quot;,&quot;Surname 2&quot;, 300\r\n    personalId3, &quot;Name 3&quot;,&quot;Surname 3&quot;, 100\r\n\r\nHere is my dto class shown below\r\n\r\n    public class SalaryDto {\r\n        private String id;\r\n        private String name;\r\n        private String surname;\r\n        private BigDecimal totalSalary;\r\n    }\r\n\r\nI tried to use java stream to get this result but I have a problem after `flatMap`. To get the total by personalId, I want to use &quot;reduce&quot;.\r\n\r\nHere is the code snippet shown below.\r\n```\r\nList&lt;SalaryDto&gt; totalSalary = employees.values().stream()\r\n    .flatMap(List::stream)\r\n    .map(e-&gt; new SalaryDto(...))\r\n    .collect(groupingBy(Personal::getID, Collectors.toList()));\r\n```\r\nHow can I do that?","title":"Using Java Streams Map&lt;String,List&lt;Object&gt;&gt; filter specific value and convert Object to Dto","body":"<p>I want to calculate the total sum of Salary by personalId.</p>\n<p>My map is of type <code>Map&lt;String, List&lt;Employee&gt;&gt;</code>. Where employee  <code>id</code> is used a Key, while value is a list of employee instances having the same <code>id</code>.</p>\n<p>Here is the list of map shown below</p>\n<pre><code>Id, Name , Surname, Salary\npersonalId1, &quot;Name 1&quot;,&quot;Surname 1&quot;, 100\npersonalId2, &quot;Name 2&quot;,&quot;Surname 2&quot;, 100\npersonalId3, &quot;Name 3&quot;,&quot;Surname 3&quot;, 100\npersonalId1, &quot;Name 1&quot;,&quot;Surname 1&quot;, 100\npersonalId2, &quot;Name 2&quot;,&quot;Surname 2&quot;, 100\npersonalId2, &quot;Name 2&quot;,&quot;Surname 2&quot;, 100\n.........................\n</code></pre>\n<p>What I really want to get this result shown below.</p>\n<pre><code>personalId1, &quot;Name 1&quot;,&quot;Surname 1&quot;, 200\npersonalId2, &quot;Name 2&quot;,&quot;Surname 2&quot;, 300\npersonalId3, &quot;Name 3&quot;,&quot;Surname 3&quot;, 100\n</code></pre>\n<p>Here is my dto class shown below</p>\n<pre><code>public class SalaryDto {\n    private String id;\n    private String name;\n    private String surname;\n    private BigDecimal totalSalary;\n}\n</code></pre>\n<p>I tried to use java stream to get this result but I have a problem after <code>flatMap</code>. To get the total by personalId, I want to use &quot;reduce&quot;.</p>\n<p>Here is the code snippet shown below.</p>\n<pre><code>List&lt;SalaryDto&gt; totalSalary = employees.values().stream()\n    .flatMap(List::stream)\n    .map(e-&gt; new SalaryDto(...))\n    .collect(groupingBy(Personal::getID, Collectors.toList()));\n</code></pre>\n<p>How can I do that?</p>\n"},{"tags":["java","arraylist","collections"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1668682984,"post_id":74474205,"comment_id":131467804,"body_markdown":"Please add a description to your question, for which test data you want which result, including how the current output deviates from your expected results.","body":"Please add a description to your question, for which test data you want which result, including how the current output deviates from your expected results."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668683111,"post_id":74474205,"comment_id":131467852,"body_markdown":"&quot;Problem is that this code is returning  ....&quot; &lt;- The code you posted doesn&#39;t contain any return statement. So I would be very surprised if it returned anything at all.","body":"&quot;Problem is that this code is returning  ....&quot; &lt;- The code you posted doesn&#39;t contain any return statement. So I would be very surprised if it returned anything at all."}],"answers":[{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668684649,"creation_date":1668683868,"answer_id":74474562,"question_id":74474205,"body_markdown":"So, as I understand your question now after your edit, you are making it too difficult. There is no need for `Collections.disjoint()` here, if you are only looking for _non-equal_ lists.\r\nIf you want to print `false` if you come across a List with identical contents, why not simply use `equals()`?\r\n\r\nSo the check becomes\r\n\r\n ```lang-java\r\nfor (int i = 0; i &lt; pairs.size(); i++) {\r\n\tSystem.out.println(!properties.equals(pairs.get(i)));\r\n}\r\n```\r\n\r\nprinting the following output\r\n\r\n```lang-none\r\ntrue\r\ntrue\r\nfalse\r\n```\r\n","title":"Check if two lists (one is nested) are mutually exclusive","body":"<p>So, as I understand your question now after your edit, you are making it too difficult. There is no need for <code>Collections.disjoint()</code> here, if you are only looking for <em>non-equal</em> lists.\nIf you want to print <code>false</code> if you come across a List with identical contents, why not simply use <code>equals()</code>?</p>\n<p>So the check becomes</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; pairs.size(); i++) {\n   System.out.println(!properties.equals(pairs.get(i)));\n}\n</code></pre>\n<p>printing the following output</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\ntrue\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668806040,"creation_date":1668804528,"answer_id":74495182,"question_id":74474205,"body_markdown":"# [`Collection.containsAll()`][containsAll]\r\n\r\n&gt; I want to compare two list (one is nested) for mutual exclusivity. Problem is that this code is printing `false` even if they have only one element in common. I need it to print `false` if they have **both elements in common**.\r\n\r\nIf you want to make sure if two Lists having equal size contain the same elements **regardless** of their order, then you can make use of the method `Collection.containsAll()`.\r\n\r\n```\r\nList&lt;String&gt; properties = List.of(&quot;A&quot;, &quot;B&quot;);\r\nList&lt;List&lt;String&gt;&gt; pairs = List.of(\r\n    List.of(&quot;A&quot;, &quot;C&quot;), List.of(&quot;D&quot;, &quot;C&quot;), List.of(&quot;A&quot;, &quot;B&quot;)\r\n);\r\n        \r\nfor (List&lt;String&gt; pair : pairs) {\r\n    System.out.println(!properties.containsAll(pair));\r\n}\r\n```\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\n* `equals` method of all implementations of the `List` interface would return `true` only if two lists contain the same elements in the **same order** (if you don&#39;t want the order to be taken into account, then `equals` is not suitable for this task).\r\n\r\n* Usage of `containsAll()` is justifiable only if the list on which you&#39;re invoking this method is **moderate** in size. In this case, it&#39;s perfectly acceptable because there are only `2` elements in the list. Otherwise, it would be performance-wise create a `HashSet` based on the `properties` list (if all elements are unique) and perform checks against this set (if there could be duplicates in the list we can generate a `HashMap` of element-frequencies).\r\n\r\n* You might want to read https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\r\n\r\n\r\n   [containsAll]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#containsAll(java.util.Collection)","title":"Check if two lists (one is nested) are mutually exclusive","body":"<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#containsAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>Collection.containsAll()</code></a></h1>\n<blockquote>\n<p>I want to compare two list (one is nested) for mutual exclusivity. Problem is that this code is printing <code>false</code> even if they have only one element in common. I need it to print <code>false</code> if they have <strong>both elements in common</strong>.</p>\n</blockquote>\n<p>If you want to make sure if two Lists having equal size contain the same elements <strong>regardless</strong> of their order, then you can make use of the method <code>Collection.containsAll()</code>.</p>\n<pre><code>List&lt;String&gt; properties = List.of(&quot;A&quot;, &quot;B&quot;);\nList&lt;List&lt;String&gt;&gt; pairs = List.of(\n    List.of(&quot;A&quot;, &quot;C&quot;), List.of(&quot;D&quot;, &quot;C&quot;), List.of(&quot;A&quot;, &quot;B&quot;)\n);\n        \nfor (List&lt;String&gt; pair : pairs) {\n    System.out.println(!properties.containsAll(pair));\n}\n</code></pre>\n<h3>Note</h3>\n<ul>\n<li><p><code>equals</code> method of all implementations of the <code>List</code> interface would return <code>true</code> only if two lists contain the same elements in the <strong>same order</strong> (if you don't want the order to be taken into account, then <code>equals</code> is not suitable for this task).</p>\n</li>\n<li><p>Usage of <code>containsAll()</code> is justifiable only if the list on which you're invoking this method is <strong>moderate</strong> in size. In this case, it's perfectly acceptable because there are only <code>2</code> elements in the list. Otherwise, it would be performance-wise create a <code>HashSet</code> based on the <code>properties</code> list (if all elements are unique) and perform checks against this set (if there could be duplicates in the list we can generate a <code>HashMap</code> of element-frequencies).</p>\n</li>\n<li><p>You might want to read <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74474562,"answer_count":2,"score":1,"last_activity_date":1668821967,"creation_date":1668682497,"question_id":74474205,"body_markdown":"I want to compare two list (one is nested) for mutual exclusivity. Problem is that this code is printing false even if they have only one element in common. I need it to print false if they have both elements in common. \r\n\r\noutput I&#39;m getting:\r\n`false\r\ntrue\r\nfalse`\r\n\r\nDesired output:\r\n`true\r\ntrue\r\nfalse`\r\n``` \r\n...\r\nArrayList&lt;String&gt; properties = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;));\r\nArrayList&lt;ArrayList&lt;String&gt; &gt; pairs = new ArrayList&lt;ArrayList&lt;String&gt; &gt;();\r\n\r\npairs.add(new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;C&quot;)));\r\npairs.add(new ArrayList&lt;&gt;(Arrays.asList(&quot;D&quot;, &quot;C&quot;)));\r\npairs.add(new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;)));\r\n\r\nfor(int i = 0; i&lt; pairs.size(); i++) {\r\n    System.out.println(Collections.disjoint(properties, pairs.get(i)));\r\n} \r\n```","title":"Check if two lists (one is nested) are mutually exclusive","body":"<p>I want to compare two list (one is nested) for mutual exclusivity. Problem is that this code is printing false even if they have only one element in common. I need it to print false if they have both elements in common.</p>\n<p>output I'm getting:\n<code>false true false</code></p>\n<p>Desired output:\n<code>true true false</code></p>\n<pre><code>...\nArrayList&lt;String&gt; properties = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;));\nArrayList&lt;ArrayList&lt;String&gt; &gt; pairs = new ArrayList&lt;ArrayList&lt;String&gt; &gt;();\n\npairs.add(new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;C&quot;)));\npairs.add(new ArrayList&lt;&gt;(Arrays.asList(&quot;D&quot;, &quot;C&quot;)));\npairs.add(new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;)));\n\nfor(int i = 0; i&lt; pairs.size(); i++) {\n    System.out.println(Collections.disjoint(properties, pairs.get(i)));\n} \n</code></pre>\n"},{"tags":["java","operators"],"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1668813208,"post_id":74496192,"comment_id":131505260,"body_markdown":"Because [order of operations](https://www.mathsisfun.com/operation-order-pemdas.html). In `exp1`, 2 * 5 is 10, and 10 / 2 is 5. In `exp2`, 5 / 2 is 2 (remainder is ignored), and 2 * 2 is 4.","body":"Because <a href=\"https://www.mathsisfun.com/operation-order-pemdas.html\" rel=\"nofollow noreferrer\">order of operations</a>. In <code>exp1</code>, 2 * 5 is 10, and 10 / 2 is 5. In <code>exp2</code>, 5 / 2 is 2 (remainder is ignored), and 2 * 2 is 4."}],"answers":[{"tags":[],"owner":{"account_id":26697856,"reputation":3,"user_id":20305399,"display_name":"Parmingo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668821910,"creation_date":1668821910,"answer_id":74496947,"question_id":74496192,"body_markdown":"Adding onto what the other person said, integer does not account for remainder so (y/x) results in 2 instead of 2.5. The .5 is gone, since the variable is declared as an integer. Thus 2*2 = 4. You could fix this by using double instead of integer.","title":"Not getting the satisfactory output. why?","body":"<p>Adding onto what the other person said, integer does not account for remainder so (y/x) results in 2 instead of 2.5. The .5 is gone, since the variable is declared as an integer. Thus 2*2 = 4. You could fix this by using double instead of integer.</p>\n"}],"owner":{"account_id":26979047,"reputation":1,"user_id":20543702,"display_name":"forgotten rival"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668821910,"creation_date":1668812980,"question_id":74496192,"body_markdown":"Im new to java.. and after writing a code im getting a solution which was unexpected from my side. Please guide me why my output isnt 5 , 5 ?\r\n\r\nI had written a code -\r\n\r\n\r\n```\r\nimport java.util.*;\r\npublic class hwlec3 {\r\n    public static void main(String args[]) {\r\n    int x = 2;\r\n    int y = 5;\r\n    int exp1 = (x * y / x);\r\n    int exp2 = (x * (y / x));\r\n\r\n    System.out.print(exp1 + &quot; , &quot;);\r\n    System.out.print(exp2);\r\n    }\r\n}\r\n```\r\n\r\nI was expecting an output -\r\n5,5 \r\nBut i got an output -\r\n5,4","title":"Not getting the satisfactory output. why?","body":"<p>Im new to java.. and after writing a code im getting a solution which was unexpected from my side. Please guide me why my output isnt 5 , 5 ?</p>\n<p>I had written a code -</p>\n<pre><code>import java.util.*;\npublic class hwlec3 {\n    public static void main(String args[]) {\n    int x = 2;\n    int y = 5;\n    int exp1 = (x * y / x);\n    int exp2 = (x * (y / x));\n\n    System.out.print(exp1 + &quot; , &quot;);\n    System.out.print(exp2);\n    }\n}\n</code></pre>\n<p>I was expecting an output -\n5,5\nBut i got an output -\n5,4</p>\n"},{"tags":["java","number-formatting","bigdecimal"],"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1668806340,"post_id":74495372,"comment_id":131503930,"body_markdown":"`BigDecimal` is a numeric type. You can&#39;t prepend zeros to a number, because as far as the memory is concerned, there already are zeros there. It would be weird under normal circumstances to display them, so it doesn&#39;t display them. Convert it to a string then prepend them to the string.","body":"<code>BigDecimal</code> is a numeric type. You can&#39;t prepend zeros to a number, because as far as the memory is concerned, there already are zeros there. It would be weird under normal circumstances to display them, so it doesn&#39;t display them. Convert it to a string then prepend them to the string."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1668806386,"post_id":74495372,"comment_id":131503940,"body_markdown":"Firstly, numeric types have no inherent formatting options like padding. Do you want to force output to a fixed length of 10 digits? What is to happen if the BigDecimal has more than that many digits? Are digits after the decimal point counted? Does the decimal point itself count for length?","body":"Firstly, numeric types have no inherent formatting options like padding. Do you want to force output to a fixed length of 10 digits? What is to happen if the BigDecimal has more than that many digits? Are digits after the decimal point counted? Does the decimal point itself count for length?"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1668806779,"post_id":74495372,"comment_id":131504033,"body_markdown":"Why would you want this?  If you are performing math operations with the numbers, why would you need leading zeroes.  If you are not performing math on the numbers then you don&#39;t need `BigDecimal` and you can just use `String` to store the values., including leading zeroes.  If you need to perform math _then_ display with leading zeroes, then you simply add the padding when displaying.","body":"Why would you want this?  If you are performing math operations with the numbers, why would you need leading zeroes.  If you are not performing math on the numbers then you don&#39;t need <code>BigDecimal</code> and you can just use <code>String</code> to store the values., including leading zeroes.  If you need to perform math <i>then</i> display with leading zeroes, then you simply add the padding when displaying."},{"owner":{"account_id":22773857,"reputation":69,"user_id":16930849,"display_name":"Noname"},"score":0,"creation_date":1668806817,"post_id":74495372,"comment_id":131504037,"body_markdown":"@Bohemian Exactly. The output has to be exactly 10 digits and there should be zeros in front of the number. If there is no numeric way of doing that using the BigDecimal type, then I need to use a string probably. Decimal points are not permitted, so I just want to add zeros to an integral type. If the number itself has ten digits already. Nothing should happen..","body":"@Bohemian Exactly. The output has to be exactly 10 digits and there should be zeros in front of the number. If there is no numeric way of doing that using the BigDecimal type, then I need to use a string probably. Decimal points are not permitted, so I just want to add zeros to an integral type. If the number itself has ten digits already. Nothing should happen.."},{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1668806891,"post_id":74495372,"comment_id":131504053,"body_markdown":"If all you want is to print the number with zeros and you don&#39;t care about the number itself, you can format the output like that `System.out.printf(&quot;%s%s&quot;, &quot;0&quot;.repeat(Math.max(0, 10 - String.valueOf(num).length())), num);`","body":"If all you want is to print the number with zeros and you don&#39;t care about the number itself, you can format the output like that <code>System.out.printf(&quot;%s%s&quot;, &quot;0&quot;.repeat(Math.max(0, 10 - String.valueOf(num).length())), num);</code>"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1668807048,"post_id":74495372,"comment_id":131504083,"body_markdown":"Also, if no decimal numbers are permitted, then you don&#39;t need a `BigDecimal`, not even a `BigInteger`. `Long` should do.","body":"Also, if no decimal numbers are permitted, then you don&#39;t need a <code>BigDecimal</code>, not even a <code>BigInteger</code>. <code>Long</code> should do."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1668810644,"post_id":74495372,"comment_id":131504796,"body_markdown":"If decimal points are not permitted, you should use `BigInteger`, not `BigDecimal`","body":"If decimal points are not permitted, you should use <code>BigInteger</code>, not <code>BigDecimal</code>"}],"answers":[{"comments":[{"owner":{"account_id":22773857,"reputation":69,"user_id":16930849,"display_name":"Noname"},"score":0,"creation_date":1668806492,"post_id":74495409,"comment_id":131503967,"body_markdown":"Ok interesting. So when I would use a string and then convert it afterwards to a BigDecimal.. would the zeros get truncated afterwards either way?","body":"Ok interesting. So when I would use a string and then convert it afterwards to a BigDecimal.. would the zeros get truncated afterwards either way?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1668806691,"post_id":74495409,"comment_id":131504007,"body_markdown":"@Eldinur No. &quot;outputting&quot; means *rendering* as a string, which is not strictly reversible. To output with leading zero padding, convert to a string then add the zeros. When parsing a string to a numeric type leading zeroes are ignored.","body":"@Eldinur No. &quot;outputting&quot; means <i>rendering</i> as a string, which is not strictly reversible. To output with leading zero padding, convert to a string then add the zeros. When parsing a string to a numeric type leading zeroes are ignored."},{"owner":{"account_id":22773857,"reputation":69,"user_id":16930849,"display_name":"Noname"},"score":0,"creation_date":1668807037,"post_id":74495409,"comment_id":131504082,"body_markdown":"@Bohemian Ok. Then there is no such thing as a BigDecimal, which carries zeros in front of its actual number, right?","body":"@Bohemian Ok. Then there is no such thing as a BigDecimal, which carries zeros in front of its actual number, right?"},{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1668807446,"post_id":74495409,"comment_id":131504170,"body_markdown":"@Eldinur Every single number does that. If you have a `short` that has a `2` in it, the binary representation (converted to human-readable form) is `00002`. A short always has 5 digits, no more, no less. However as I said in my previous comment, under normal circumstances it would be weird, and frankly quite annoying to display it this way, so part of converting it to human-readable format (a string) is removing these redundant zeros. If you want zeros there, put them back after it&#39;s converted to a string.","body":"@Eldinur Every single number does that. If you have a <code>short</code> that has a <code>2</code> in it, the binary representation (converted to human-readable form) is <code>00002</code>. A short always has 5 digits, no more, no less. However as I said in my previous comment, under normal circumstances it would be weird, and frankly quite annoying to display it this way, so part of converting it to human-readable format (a string) is removing these redundant zeros. If you want zeros there, put them back after it&#39;s converted to a string."}],"tags":[],"owner":{"account_id":23073129,"reputation":847,"user_id":17186475,"display_name":"human bean"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668806294,"creation_date":1668806294,"answer_id":74495409,"question_id":74495372,"body_markdown":"`BigDecimal` is meant to be used for storing large floating point numbers. Since in a floating-point number there isn&#39;t any difference between 0000002353 and 2353, there is no reasonable way to append leading 0&#39;s to a `BigDecimal` just as there is no reasonable way to append leading 0&#39;s to a normal `float`. According to the behavior you&#39;re looking for, I would suggest using a `String` to store your number, and then convert to and from `BigDecimal` when you want to perform any operations.\r\n\r\nTo compare an integral type to a `BigDecimal`, first convert the variable to a `BigDecimal` and then call `BigDecimal`&#39;s `compareTo` method. More info is in [this](https://stackoverflow.com/questions/34677644/how-to-use-comparison-operators-like-on-bigdecimal) question.","title":"BigDecimal Java. How to append zeros in front","body":"<p><code>BigDecimal</code> is meant to be used for storing large floating point numbers. Since in a floating-point number there isn't any difference between 0000002353 and 2353, there is no reasonable way to append leading 0's to a <code>BigDecimal</code> just as there is no reasonable way to append leading 0's to a normal <code>float</code>. According to the behavior you're looking for, I would suggest using a <code>String</code> to store your number, and then convert to and from <code>BigDecimal</code> when you want to perform any operations.</p>\n<p>To compare an integral type to a <code>BigDecimal</code>, first convert the variable to a <code>BigDecimal</code> and then call <code>BigDecimal</code>'s <code>compareTo</code> method. More info is in <a href=\"https://stackoverflow.com/questions/34677644/how-to-use-comparison-operators-like-on-bigdecimal\">this</a> question.</p>\n"},{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668807462,"creation_date":1668807462,"answer_id":74495589,"question_id":74495372,"body_markdown":"If you use a `BigInteger` instead (or any integer type, such as `int` or `long`) you can format the value with\r\n\r\n    String.format(&quot;%010d&quot;, BigInteger.valueOf(2353))\r\n\r\nThe leading `0` in the format strings means pad with 0, the following `10` is the desired length...","title":"BigDecimal Java. How to append zeros in front","body":"<p>If you use a <code>BigInteger</code> instead (or any integer type, such as <code>int</code> or <code>long</code>) you can format the value with</p>\n<pre><code>String.format(&quot;%010d&quot;, BigInteger.valueOf(2353))\n</code></pre>\n<p>The leading <code>0</code> in the format strings means pad with 0, the following <code>10</code> is the desired length...</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668807968,"creation_date":1668807527,"answer_id":74495597,"question_id":74495372,"body_markdown":"Since you&#39;re interested in formatting the number, you might want to look at [`DecimalFormat`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DecimalFormat.html) class, which allows to format floating point and integer numbers according to the specified pattern.\r\n\r\n```\r\nBigDecimal num = new BigDecimal(2353);\r\n        \r\nDecimalFormat f1 = new DecimalFormat(&quot;0000000000&quot;);\r\nDecimalFormat f2 = new DecimalFormat(&quot;0,000,000,000&quot;);\r\n        \r\nSystem.out.println(f1.format(num));\r\nSystem.out.println(f2.format(num));\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n0000002353\r\n0,000,002,353\r\n```","title":"BigDecimal Java. How to append zeros in front","body":"<p>Since you're interested in formatting the number, you might want to look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\"><code>DecimalFormat</code></a> class, which allows to format floating point and integer numbers according to the specified pattern.</p>\n<pre><code>BigDecimal num = new BigDecimal(2353);\n        \nDecimalFormat f1 = new DecimalFormat(&quot;0000000000&quot;);\nDecimalFormat f2 = new DecimalFormat(&quot;0,000,000,000&quot;);\n        \nSystem.out.println(f1.format(num));\nSystem.out.println(f2.format(num));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>0000002353\n0,000,002,353\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668816777,"creation_date":1668816777,"answer_id":74496545,"question_id":74495372,"body_markdown":"If the maximum number of digits is 10 and only whole numbers are allowed you don&#39;t need anything more than to use `long` with standard formatting:\r\n\r\n    long myNumber = 123456;\r\n    System.out.printf(&quot;%010d%n&quot;, myNumber);\r\n\r\n    ","title":"BigDecimal Java. How to append zeros in front","body":"<p>If the maximum number of digits is 10 and only whole numbers are allowed you don't need anything more than to use <code>long</code> with standard formatting:</p>\n<pre><code>long myNumber = 123456;\nSystem.out.printf(&quot;%010d%n&quot;, myNumber);\n</code></pre>\n"}],"owner":{"account_id":22773857,"reputation":69,"user_id":16930849,"display_name":"Noname"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1059,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1668821824,"creation_date":1668805998,"question_id":74495372,"body_markdown":"My question is basically the following:\r\n\r\nWhen I use a value with BigDecimal, how do I append zeros in front of a random number?\r\nSay I want to have a number &lt;10 following an entirely random pattern. Now i want to add zeros in front of the number, so the actual amount adds up to 10 numbers.\r\n\r\nHere&#39;s an example:\r\n*BigDecimal num = new BigDecimal(2353);*\r\n\r\nNow I want to have that ouput:\r\n0000002353\r\n\r\nIs there a function that appends numbers to a BigDecimal type?\r\nI couldn&#39;t find any.\r\n\r\n\r\nI tried using a while loop that checks whether the number is less than ten. But I don&#39;t understand the Big Decimal well enough to actually compare integral values to the BigDecimal types.\r\nThanks for any help in advance! ","title":"BigDecimal Java. How to append zeros in front","body":"<p>My question is basically the following:</p>\n<p>When I use a value with BigDecimal, how do I append zeros in front of a random number?\nSay I want to have a number &lt;10 following an entirely random pattern. Now i want to add zeros in front of the number, so the actual amount adds up to 10 numbers.</p>\n<p>Here's an example:\n<em>BigDecimal num = new BigDecimal(2353);</em></p>\n<p>Now I want to have that ouput:\n0000002353</p>\n<p>Is there a function that appends numbers to a BigDecimal type?\nI couldn't find any.</p>\n<p>I tried using a while loop that checks whether the number is less than ten. But I don't understand the Big Decimal well enough to actually compare integral values to the BigDecimal types.\nThanks for any help in advance!</p>\n"},{"tags":["java","html","image","jtextpane"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668798590,"post_id":74494183,"comment_id":131502004,"body_markdown":"`src=&quot;icons/roles/seer_icon.png&quot;` is relative to the document base.  If there were an actual HTML file, the document base would be that file.  If you load the content as a String instead of from a URL, you need to [set the base yourself](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/text/html/HTMLDocument.html#setBase(java.net.URL)) so relative URLs will resolve correctly.","body":"<code>src=&quot;icons&#47;roles&#47;seer_icon.png&quot;</code> is relative to the document base.  If there were an actual HTML file, the document base would be that file.  If you load the content as a String instead of from a URL, you need to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/text/html/HTMLDocument.html#setBase(java.net.URL)\" rel=\"nofollow noreferrer\">set the base yourself</a> so relative URLs will resolve correctly."},{"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"score":0,"creation_date":1668799628,"post_id":74494183,"comment_id":131502277,"body_markdown":"@VGR my folder structure looks like that [link](https://imgur.com/a/AoIYa9f) meaning my html should be edited to that right? `&lt;img src=&quot;../../../../../resources/icons/roles/villager_icon.png&quot; align=&quot;left&quot; height=&quot;64&quot;/&gt;`","body":"@VGR my folder structure looks like that <a href=\"https://imgur.com/a/AoIYa9f\" rel=\"nofollow noreferrer\">link</a> meaning my html should be edited to that right? <code>&lt;img src=&quot;..&#47;..&#47;..&#47;..&#47;..&#47;resources&#47;icons&#47;roles&#47;villager_icon.png&quot; align=&quot;left&quot; height=&quot;64&quot;&#47;&gt;</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668799798,"post_id":74494183,"comment_id":131502320,"body_markdown":"No.  I repeat that the src attribute is relative to the document base.  Adding `../` will not address that, because there is no document base when you load the content from a String.","body":"No.  I repeat that the src attribute is relative to the document base.  Adding <code>..&#47;</code> will not address that, because there is no document base when you load the content from a String."},{"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"score":0,"creation_date":1668800040,"post_id":74494183,"comment_id":131502378,"body_markdown":"@VGR oh okay, now I understand, but as far as I know I cant use setBase() inside of a properties file, so where should I use it inside my gui file?","body":"@VGR oh okay, now I understand, but as far as I know I cant use setBase() inside of a properties file, so where should I use it inside my gui file?"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668820209,"creation_date":1668820209,"answer_id":74496838,"question_id":74494183,"body_markdown":"Because `src=&quot;icons/roles/seer_icon.png&quot;` does not start with http: or https:, it is a *relative URL.*  A relative URL’s true location depends on the URL which acts as the base context for the HTML document.\r\n\r\nIf you load HTML content from a URL using [setPage](), the base is that URL.  But if you load from a String, as you’re probably doing since you are getting the content from a properties file, there is no base URL.  Which means `src=&quot;icons/roles/seer_icon.png&quot;` makes no sense—there is no base to resolve it against.\r\n\r\nBut you can specify the base yourself:\r\n\r\n    HTMLDocument doc = (HTMLDocument) textPane.getStyledDocument();\r\n    doc.setBase(MyApplication.class.getResource(&quot;/&quot;));\r\n\r\nNote that HTML may not be the best way to show content, unless you need to give the user the ability to copy and paste it.  You can always create the content yourself:\r\n\r\n    // Properties file contains:\r\n    // text=Seer:\r\n    // icon=/icons/roles/seer_icon.png\r\n\r\n    String headingText = properties.getProperty(&quot;text&quot;);\r\n    String iconPath = properties.getProperty(&quot;icon&quot;);\r\n\r\n    JLabel headingLabel = new JLabel(headingText);\r\n    Font font = headingLabel.getFont();\r\n    font = font.deriveFont(24f);\r\n    headingLabel.setFont(font);\r\n\r\n    headingLabel.setBorder(BorderFactory.createEmptyBorder(0, 0, 12, 0));\r\n\r\n    Icon icon = new ImageIcon(MyApplication.class.getResource(iconPath));\r\n    JLabel iconLabel = new JLabel(icon);\r\n\r\n    JPanel content = new JPanel(new BorderLayout());\r\n    content.add(headingLabel, BorderLayout.PAGE_START);\r\n    content.add(iconLabel, BorderLayout.CENTER);\r\n","title":"jtextpane html image doesnt load","body":"<p>Because <code>src=&quot;icons/roles/seer_icon.png&quot;</code> does not start with http: or https:, it is a <em>relative URL.</em>  A relative URL’s true location depends on the URL which acts as the base context for the HTML document.</p>\n<p>If you load HTML content from a URL using setPage, the base is that URL.  But if you load from a String, as you’re probably doing since you are getting the content from a properties file, there is no base URL.  Which means <code>src=&quot;icons/roles/seer_icon.png&quot;</code> makes no sense—there is no base to resolve it against.</p>\n<p>But you can specify the base yourself:</p>\n<pre><code>HTMLDocument doc = (HTMLDocument) textPane.getStyledDocument();\ndoc.setBase(MyApplication.class.getResource(&quot;/&quot;));\n</code></pre>\n<p>Note that HTML may not be the best way to show content, unless you need to give the user the ability to copy and paste it.  You can always create the content yourself:</p>\n<pre><code>// Properties file contains:\n// text=Seer:\n// icon=/icons/roles/seer_icon.png\n\nString headingText = properties.getProperty(&quot;text&quot;);\nString iconPath = properties.getProperty(&quot;icon&quot;);\n\nJLabel headingLabel = new JLabel(headingText);\nFont font = headingLabel.getFont();\nfont = font.deriveFont(24f);\nheadingLabel.setFont(font);\n\nheadingLabel.setBorder(BorderFactory.createEmptyBorder(0, 0, 12, 0));\n\nIcon icon = new ImageIcon(MyApplication.class.getResource(iconPath));\nJLabel iconLabel = new JLabel(icon);\n\nJPanel content = new JPanel(new BorderLayout());\ncontent.add(headingLabel, BorderLayout.PAGE_START);\ncontent.add(iconLabel, BorderLayout.CENTER);\n</code></pre>\n"}],"owner":{"account_id":21411227,"reputation":59,"user_id":15771391,"display_name":"Obscuritas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74496838,"answer_count":1,"score":0,"last_activity_date":1668820209,"creation_date":1668797537,"question_id":74494183,"body_markdown":"I wanted to create a scrollable jtextpane with some html text. Inside, there are some image elements. If I open the file with a browser the image show up correctly and everything is fine.\r\n\r\nMy problem is that I cant just simply modify the text with some java code because its located inside a properties file, so Im kind of forced to get the right location path.\r\n\r\nDoes someone know a trick to still use the html text with an properties file with working images?\r\n\r\n\r\n```properties\r\ntext=&lt;html&gt;\r\n  &lt;head&gt;&lt;/head&gt;\r\n  &lt;body&gt;\r\n     &lt;h3&gt;Seer:&lt;/h3&gt;\r\n     &lt;img src=&quot;icons/roles/seer_icon.png&quot; align=&quot;left&quot; height=&quot;64&quot;/&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"jtextpane html image doesnt load","body":"<p>I wanted to create a scrollable jtextpane with some html text. Inside, there are some image elements. If I open the file with a browser the image show up correctly and everything is fine.</p>\n<p>My problem is that I cant just simply modify the text with some java code because its located inside a properties file, so Im kind of forced to get the right location path.</p>\n<p>Does someone know a trick to still use the html text with an properties file with working images?</p>\n<pre><code>text=&lt;html&gt;\n  &lt;head&gt;&lt;/head&gt;\n  &lt;body&gt;\n     &lt;h3&gt;Seer:&lt;/h3&gt;\n     &lt;img src=&quot;icons/roles/seer_icon.png&quot; align=&quot;left&quot; height=&quot;64&quot;/&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","sql","javadb"],"answers":[{"comments":[{"owner":{"account_id":40256,"reputation":46484,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1344516224,"post_id":4144450,"comment_id":15813151,"body_markdown":"@hemu: Post that as a new question. This is not the place to discuss it.","body":"@hemu: Post that as a new question. This is not the place to discuss it."}],"tags":[],"owner":{"account_id":40256,"reputation":46484,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1289392043,"creation_date":1289392043,"answer_id":4144450,"question_id":4143500,"body_markdown":"Did you try clicking on the link &#39;a simple fix&#39; in that post on java.net? The first comment shows how to run the tool. If you read [the code to ASTParser.java][1], you can see the code you need to write to use the parser.\r\n\r\n  [1]: https://issues.apache.org/jira/secure/attachment/12417626/ASTParser.java","title":"How to use JavaDB as SQL parser","body":"<p>Did you try clicking on the link 'a simple fix' in that post on java.net? The first comment shows how to run the tool. If you read <a href=\"https://issues.apache.org/jira/secure/attachment/12417626/ASTParser.java\" rel=\"nofollow\">the code to ASTParser.java</a>, you can see the code you need to write to use the parser.</p>\n"},{"tags":[],"owner":{"account_id":1292377,"reputation":1026,"user_id":1244215,"display_name":"user1244215"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352943725,"creation_date":1352943725,"answer_id":13390372,"question_id":4143500,"body_markdown":"The link you have given uses Internal APIs of Derby, it also requires the debug version of Derby.\r\n\r\nAs of version 10.10, it still cannot be used as a general SQL Parser as it requires the tables in the SQL to exist - not a good sign that their parser is separate enough for use as a parser! (And in general a worrying sign that their architecture is crap)\r\n\r\n","title":"How to use JavaDB as SQL parser","body":"<p>The link you have given uses Internal APIs of Derby, it also requires the debug version of Derby.</p>\n\n<p>As of version 10.10, it still cannot be used as a general SQL Parser as it requires the tables in the SQL to exist - not a good sign that their parser is separate enough for use as a parser! (And in general a worrying sign that their architecture is crap)</p>\n"}],"owner":{"account_id":111454,"reputation":1898,"user_id":294415,"accept_rate":51,"display_name":"Reusable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1675,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4144450,"answer_count":2,"score":4,"last_activity_date":1668820206,"creation_date":1289385243,"question_id":4143500,"body_markdown":"About a month ago I built an application that used zSQL as the SQL parser to parse SQL. However, just few days ago, a heavy duty user sent in  a multi row insert statement which zSQL doesn&#39;t support. This is the sample:\r\n\r\n    INSERT INTO MyTable (FirstCol, SecondCol)\r\n    SELECT &#39;First&#39; ,1\r\n    UNION ALL\r\n    SELECT &#39;Second&#39; ,2\r\n    UNION ALL\r\n    SELECT &#39;Third&#39; ,3\r\n    UNION ALL\r\n    SELECT &#39;Fourth&#39; ,4\r\n    UNION ALL\r\n    SELECT &#39;Fifth&#39; ,5\r\n\r\nThen I found this link: [http://weblogs.java.net/blog/2008/11/23/stand-alone-sql-parser-java][1], it says &quot;With a simple fix, Rick Hillegas has ensured that developers can have access to a powerful SQL parser that comes with Apache/Derby&quot;. However, I can&#39;t find any relevant documentation to achieve this. \r\n\r\nAny idea?\r\n\r\n  [1]: http://weblogs.java.net/blog/2008/11/23/stand-alone-sql-parser-java","title":"How to use JavaDB as SQL parser","body":"<p>About a month ago I built an application that used zSQL as the SQL parser to parse SQL. However, just few days ago, a heavy duty user sent in  a multi row insert statement which zSQL doesn't support. This is the sample:</p>\n<pre><code>INSERT INTO MyTable (FirstCol, SecondCol)\nSELECT 'First' ,1\nUNION ALL\nSELECT 'Second' ,2\nUNION ALL\nSELECT 'Third' ,3\nUNION ALL\nSELECT 'Fourth' ,4\nUNION ALL\nSELECT 'Fifth' ,5\n</code></pre>\n<p>Then I found this link: <a href=\"http://weblogs.java.net/blog/2008/11/23/stand-alone-sql-parser-java\" rel=\"nofollow noreferrer\">http://weblogs.java.net/blog/2008/11/23/stand-alone-sql-parser-java</a>, it says &quot;With a simple fix, Rick Hillegas has ensured that developers can have access to a powerful SQL parser that comes with Apache/Derby&quot;. However, I can't find any relevant documentation to achieve this.</p>\n<p>Any idea?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1551434237,"post_id":54941743,"comment_id":96647112,"body_markdown":"I can&#39;t give you an answer because I don&#39;t know what extension handles this but I didn&#39;t only install the language support but also an extension named &quot;Java Extension Pack&quot;, maybe it will help resolve this issue. I think it something you should check-out and possibly install anyway since it contains a lot of useful stuff.","body":"I can&#39;t give you an answer because I don&#39;t know what extension handles this but I didn&#39;t only install the language support but also an extension named &quot;Java Extension Pack&quot;, maybe it will help resolve this issue. I think it something you should check-out and possibly install anyway since it contains a lot of useful stuff."},{"owner":{"account_id":10853619,"reputation":964,"user_id":7980673,"display_name":"Quinten Scheppermans"},"score":0,"creation_date":1551435746,"post_id":54941743,"comment_id":96647906,"body_markdown":"@JoakimDanielson I have that pack installed as well... :)","body":"@JoakimDanielson I have that pack installed as well... :)"}],"answers":[{"comments":[{"owner":{"account_id":881914,"reputation":1409,"user_id":303623,"display_name":"Rick O&#39;Shea"},"score":1,"creation_date":1659720806,"post_id":54943978,"comment_id":129369908,"body_markdown":"well, this does nothing to restore intellisense and why would it.  The buggy-ass plug-in does not work","body":"well, this does nothing to restore intellisense and why would it.  The buggy-ass plug-in does not work"}],"tags":[],"owner":{"account_id":10853619,"reputation":964,"user_id":7980673,"display_name":"Quinten Scheppermans"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1551440643,"creation_date":1551440643,"answer_id":54943978,"question_id":54941743,"body_markdown":"Solution: This can now be done from within VS Code as of Language Support for Java(TM) by Red Hat Version 0.33.0. Open the command palette and type &quot;java clean&quot; (see official description in link).","title":"Visual Studio Code doesn&#39;t give java import suggestions with Language support for java plugin","body":"<p>Solution: This can now be done from within VS Code as of Language Support for Java(TM) by Red Hat Version 0.33.0. Open the command palette and type \"java clean\" (see official description in link).</p>\n"},{"tags":[],"owner":{"account_id":7229929,"reputation":5475,"user_id":5517161,"display_name":"Mo D Genesis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668820030,"creation_date":1668820030,"answer_id":74496828,"question_id":54941743,"body_markdown":"vscode didn&#39;t show me the imports of `java.awt`\r\n\r\nFollow the steps on this link https://stackoverflow.com/a/72851417/5517161\r\n\r\nto have the import suggestions.","title":"Visual Studio Code doesn&#39;t give java import suggestions with Language support for java plugin","body":"<p>vscode didn't show me the imports of <code>java.awt</code></p>\n<p>Follow the steps on this link <a href=\"https://stackoverflow.com/a/72851417/5517161\">https://stackoverflow.com/a/72851417/5517161</a></p>\n<p>to have the import suggestions.</p>\n"}],"owner":{"account_id":10853619,"reputation":964,"user_id":7980673,"display_name":"Quinten Scheppermans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2515,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54943978,"answer_count":2,"score":4,"last_activity_date":1668820030,"creation_date":1551432860,"question_id":54941743,"body_markdown":"I&#39;ve installed the Language support for Java ™ for Visual Studio Code plugin.\r\nSet JDK_HOME and JRE_HOME environment variables and even edited the settings.json file from Visual Studio code to point java.home to the right place.\r\n\r\nHowever Visual Studio code is still not suggesting imports.\r\n\r\nWhat am I doing wrong?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThe plugin seems active as indicated by the thumbs up:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Zyku.png\r\n  [2]: https://i.stack.imgur.com/rO6wE.png\r\n  [3]: https://i.stack.imgur.com/tgtyS.png","title":"Visual Studio Code doesn&#39;t give java import suggestions with Language support for java plugin","body":"<p>I've installed the Language support for Java ™ for Visual Studio Code plugin.\nSet JDK_HOME and JRE_HOME environment variables and even edited the settings.json file from Visual Studio code to point java.home to the right place.</p>\n\n<p>However Visual Studio code is still not suggesting imports.</p>\n\n<p>What am I doing wrong?</p>\n\n<p><a href=\"https://i.stack.imgur.com/1Zyku.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Zyku.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/rO6wE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rO6wE.png\" alt=\"enter image description here\"></a></p>\n\n<p>The plugin seems active as indicated by the thumbs up:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tgtyS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tgtyS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks</p>\n"},{"tags":["java","date","date-format","android-calendar"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668696769,"post_id":74475783,"comment_id":131473239,"body_markdown":"Use java.time, the modern Java date and time API through desugaring. You want classes `Instant`, `ZonedId` , `DateTimeFormatter` and possibly more. They are safe and a pleasure to use IMHO.","body":"Use java.time, the modern Java date and time API through desugaring. You want classes <code>Instant</code>, <code>ZonedId</code> , <code>DateTimeFormatter</code> and possibly more. They are safe and a pleasure to use IMHO."}],"answers":[{"comments":[{"owner":{"account_id":18661585,"reputation":3,"user_id":18100204,"display_name":"ilias reventon"},"score":0,"creation_date":1668818605,"post_id":74494479,"comment_id":131506188,"body_markdown":"Ok I achieved to get the results that I want using LocalDateTime, and DateTimeFormatter I read in documentations that these are classes of java.time library so I guess that is a better approach than the intial one isn&#39;t it? Should I go for ZonedDateTime? and what should I use for older Android versions? my app starts from api lvl 21.","body":"Ok I achieved to get the results that I want using LocalDateTime, and DateTimeFormatter I read in documentations that these are classes of java.time library so I guess that is a better approach than the intial one isn&#39;t it? Should I go for ZonedDateTime? and what should I use for older Android versions? my app starts from api lvl 21."},{"owner":{"account_id":18661585,"reputation":3,"user_id":18100204,"display_name":"ilias reventon"},"score":0,"creation_date":1668820446,"post_id":74494479,"comment_id":131506443,"body_markdown":"The second scenario of your question is the one that fits to my thread, I have read many threads here on stack but I cannot find anything that comes close enough to my thread.","body":"The second scenario of your question is the one that fits to my thread, I have read many threads here on stack but I cannot find anything that comes close enough to my thread."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668821969,"post_id":74494479,"comment_id":131506598,"body_markdown":"@iliasreventon Sorry, my previous Comment (now deleted) was not for your Question here, my mistake.","body":"@iliasreventon Sorry, my previous Comment (now deleted) was not for your Question here, my mistake."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668822167,"post_id":74494479,"comment_id":131506615,"body_markdown":"@iliasreventon The `LocalDateTime` class is exactly the *wrong* class to use with `firebase.database.ServerValue.TIMESTAMP`. That class cannot represent a moment, a point on the timeline as it lacks the context of a time zone or offset.","body":"@iliasreventon The <code>LocalDateTime</code> class is exactly the <i>wrong</i> class to use with <code>firebase.database.ServerValue.TIMESTAMP</code>. That class cannot represent a moment, a point on the timeline as it lacks the context of a time zone or offset."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668822305,"post_id":74494479,"comment_id":131506636,"body_markdown":"@iliasreventon Regarding Android, reread my Answer more carefully.","body":"@iliasreventon Regarding Android, reread my Answer more carefully."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668822400,"post_id":74494479,"comment_id":131506653,"body_markdown":"@iliasreventon All of this has been covered many many times already as Stack Overflow. Search to learn more.","body":"@iliasreventon All of this has been covered many many times already as Stack Overflow. Search to learn more."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668819617,"creation_date":1668799693,"answer_id":74494479,"question_id":74475783,"body_markdown":"# Avoid legacy classes\r\n\r\nNever use `SimpleDateFormat`, `Calendar`, or either `Date` class. These legacy classes are terribly flawed with poor design decisions by people who did not understand date-time handling. \r\n\r\nTheir modern replacements are the *java.time* classes defined in JSR 310.\r\n\r\n\r\n\r\n# *java.time*\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\nThough not [documented clearly][1], apparently a `firebase.database.ServerValue.TIMESTAMP` type represents a moment as a count of milliseconds since the [epoch reference][2] of the first moment of 1970 in [UTC][3], 1970-01-01T00:00:00Z. \r\n\r\n## `java.time.Instant`\r\n\r\nThe matching class in Java is [`java.time.Instant`][4]. \r\n\r\n    Instant instant = Instant.ofEpochMilli( millisSinceEpoch ) ;\r\n\r\nYou can extract that millisecond count from an `Instant`. Beware of data loss: A `Instant` has a resolution of nanoseconds, so getting a count of milliseconds ignores the microseconds/nanoseconds. \r\n\r\n    Instant instant = Instant.now() ;  // Capture the current moment as seen with an offset of zero hours-minutes-seconds from UTC.\r\n    long millisSinceEpoch = instant.toEpochMilli() ;\r\n\r\n## `java.time.ZonedDateTime`\r\n\r\n&gt; convert milliseconds to a safe date format which will have a pattern like &quot;Thursday, 11th November 2022, 14:42&quot; \r\n\r\nTo generate text in formats other than standard [ISO 8601][5], we need a class more flexible than `Instant`. And we need to adjust that moment from an offset of zero hours-minutes-seconds from UTC to a time zone (or offset) expected by the user.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\n## `java.time.format.DateTimeFormatter`\r\n\r\nTo generate text, we must specify a format. You can hard-code a format, or you can let *java.time* automatically localize. To localize, we specify a `Locale` to determine the human language and cultural norms needed for localization such as name of day of week.\r\n\r\n    Locale locale = Locale.UK ;\r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.LONG ).withLocale( locale ) ;\r\n    String output = zdt.format( f ) ;\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( &quot;instant = &quot; + instant );\r\nSystem.out.println( &quot;millisSinceEpoch = &quot; + millisSinceEpoch );\r\nSystem.out.println( &quot;output = &quot; + output );\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\ninstant = 2022-11-18T19:27:22.561715Z\r\nmillisSinceEpoch = 1668799642561\r\noutput = Saturday, November 19, 2022 at 4:27:22 AM Japan Standard Time\r\n```\r\n\r\n\r\n----------\r\n\r\nAndroid 26+ carries an implementation of the *java.time* classes. For earlier Android, the latest tooling provides access to most of the *java.time* functionality via “API desugaring”. \r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/js/v8/firebase.database.ServerValue#timestamp\r\n  [2]: https://en.wikipedia.org/wiki/Epoch_(computing)\r\n  [3]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [5]: https://en.wikipedia.org/wiki/ISO_8601","title":"Which is the correct way to use Java&#39;s date formats in Android Studio?","body":"<h1>Avoid legacy classes</h1>\n<p>Never use <code>SimpleDateFormat</code>, <code>Calendar</code>, or either <code>Date</code> class. These legacy classes are terribly flawed with poor design decisions by people who did not understand date-time handling.</p>\n<p>Their modern replacements are the <em>java.time</em> classes defined in JSR 310.</p>\n<h1><em>java.time</em></h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Though not <a href=\"https://firebase.google.com/docs/reference/js/v8/firebase.database.ServerValue#timestamp\" rel=\"nofollow noreferrer\">documented clearly</a>, apparently a <code>firebase.database.ServerValue.TIMESTAMP</code> type represents a moment as a count of milliseconds since the <a href=\"https://en.wikipedia.org/wiki/Epoch_(computing)\" rel=\"nofollow noreferrer\">epoch reference</a> of the first moment of 1970 in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a>, 1970-01-01T00:00:00Z.</p>\n<h2><code>java.time.Instant</code></h2>\n<p>The matching class in Java is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>java.time.Instant</code></a>.</p>\n<pre><code>Instant instant = Instant.ofEpochMilli( millisSinceEpoch ) ;\n</code></pre>\n<p>You can extract that millisecond count from an <code>Instant</code>. Beware of data loss: A <code>Instant</code> has a resolution of nanoseconds, so getting a count of milliseconds ignores the microseconds/nanoseconds.</p>\n<pre><code>Instant instant = Instant.now() ;  // Capture the current moment as seen with an offset of zero hours-minutes-seconds from UTC.\nlong millisSinceEpoch = instant.toEpochMilli() ;\n</code></pre>\n<h2><code>java.time.ZonedDateTime</code></h2>\n<blockquote>\n<p>convert milliseconds to a safe date format which will have a pattern like &quot;Thursday, 11th November 2022, 14:42&quot;</p>\n</blockquote>\n<p>To generate text in formats other than standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>, we need a class more flexible than <code>Instant</code>. And we need to adjust that moment from an offset of zero hours-minutes-seconds from UTC to a time zone (or offset) expected by the user.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<h2><code>java.time.format.DateTimeFormatter</code></h2>\n<p>To generate text, we must specify a format. You can hard-code a format, or you can let <em>java.time</em> automatically localize. To localize, we specify a <code>Locale</code> to determine the human language and cultural norms needed for localization such as name of day of week.</p>\n<pre><code>Locale locale = Locale.UK ;\nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.LONG ).withLocale( locale ) ;\nString output = zdt.format( f ) ;\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;instant = &quot; + instant );\nSystem.out.println( &quot;millisSinceEpoch = &quot; + millisSinceEpoch );\nSystem.out.println( &quot;output = &quot; + output );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>instant = 2022-11-18T19:27:22.561715Z\nmillisSinceEpoch = 1668799642561\noutput = Saturday, November 19, 2022 at 4:27:22 AM Japan Standard Time\n</code></pre>\n<hr />\n<p>Android 26+ carries an implementation of the <em>java.time</em> classes. For earlier Android, the latest tooling provides access to most of the <em>java.time</em> functionality via “API desugaring”.</p>\n"}],"owner":{"account_id":18661585,"reputation":3,"user_id":18100204,"display_name":"ilias reventon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74494479,"answer_count":1,"score":0,"last_activity_date":1668819617,"creation_date":1668689520,"question_id":74475783,"body_markdown":"I am trying to build a chat app and I want to store date for every message in Firebase RealTime-Database using `ServerValue.TIMESTAMP` which stores date and time in milliseconds and it is server sided. All I want to achieve is to convert milliseconds to a safe date format which will have a pattern like &quot;Thursday, 11th November 2022, 14:42&quot; but I read a lot of things about Java&#39;s unsafe date and format libraries. My app uses FirebaseUI which is like an asynchronous way to observe/notify/listen to changes of my db so I need something that will be safe and supported from API/SDK level 21+\r\n\r\nHere is my code that I currently have \r\n\r\n`Calendar calendar = Calendar.getInstance();\r\ncalendar.setTimeInMillis(model.sentOnDateInMilliseconds);\r\nString date = DateFormat.getDateInstance(DateFormat.FULL).format(calendar.getTime());\r\n`\r\n\r\nand I make attempts to preview the format that I want like this\r\n\r\n`\r\ntextView.setText(MessageFormat.format(&quot;{0} {1}:{2} {3}&quot;, date, calendar.get(Calendar.HOUR), calendar.get(Calendar.MINUTE), calendar.get(Calendar.AM_PM)));\r\n`\r\n\r\nany suggestions?\r\n","title":"Which is the correct way to use Java&#39;s date formats in Android Studio?","body":"<p>I am trying to build a chat app and I want to store date for every message in Firebase RealTime-Database using <code>ServerValue.TIMESTAMP</code> which stores date and time in milliseconds and it is server sided. All I want to achieve is to convert milliseconds to a safe date format which will have a pattern like &quot;Thursday, 11th November 2022, 14:42&quot; but I read a lot of things about Java's unsafe date and format libraries. My app uses FirebaseUI which is like an asynchronous way to observe/notify/listen to changes of my db so I need something that will be safe and supported from API/SDK level 21+</p>\n<p>Here is my code that I currently have</p>\n<p><code>Calendar calendar = Calendar.getInstance(); calendar.setTimeInMillis(model.sentOnDateInMilliseconds); String date = DateFormat.getDateInstance(DateFormat.FULL).format(calendar.getTime()); </code></p>\n<p>and I make attempts to preview the format that I want like this</p>\n<p><code>textView.setText(MessageFormat.format(&quot;{0} {1}:{2} {3}&quot;, date, calendar.get(Calendar.HOUR), calendar.get(Calendar.MINUTE), calendar.get(Calendar.AM_PM)));</code></p>\n<p>any suggestions?</p>\n"},{"tags":["java","elasticsearch","elastic-stack"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1668718952,"post_id":74482030,"comment_id":131481201,"body_markdown":"Maybe: https://github.com/elastic/elasticsearch/issues/23218","body":"Maybe: <a href=\"https://github.com/elastic/elasticsearch/issues/23218\" rel=\"nofollow noreferrer\">github.com/elastic/elasticsearch/issues/23218</a>"},{"owner":{"account_id":11774674,"reputation":628,"user_id":8779552,"display_name":"OlaJ"},"score":0,"creation_date":1668721841,"post_id":74482030,"comment_id":131482058,"body_markdown":"Hey @JorgeCampos I found the same thread, but they did not suggest a generalized solution... They didn&#39;t suggest any solution at all. \nIf you can find a solution on that thread that I can&#39;t find, can you kindly post it here?!","body":"Hey @JorgeCampos I found the same thread, but they did not suggest a generalized solution... They didn&#39;t suggest any solution at all.  If you can find a solution on that thread that I can&#39;t find, can you kindly post it here?!"},{"owner":{"account_id":5742767,"reputation":9245,"user_id":4534923,"display_name":"Paulo"},"score":1,"creation_date":1668724181,"post_id":74482030,"comment_id":131482695,"body_markdown":"Hello Olaj, 5.2 has been end of life for a while now. I do think if possible the solution is to use a more up to date version of Elasticsearch","body":"Hello Olaj, 5.2 has been end of life for a while now. I do think if possible the solution is to use a more up to date version of Elasticsearch"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1668724619,"post_id":74482030,"comment_id":131482808,"body_markdown":"@Paulo beat me to it. Upgrade it :)","body":"@Paulo beat me to it. Upgrade it :)"},{"owner":{"account_id":11774674,"reputation":628,"user_id":8779552,"display_name":"OlaJ"},"score":0,"creation_date":1668726154,"post_id":74482030,"comment_id":131483189,"body_markdown":"Unfortunately, I did that (used v8.5) and things worked fine, but that was not the requirement for the project and I had to revert because the dashboard, visualization, and search files provided to us only work on v5.2.0 (I am yet to try 5.2.2). Trying to get v5.2.0 working is a pain","body":"Unfortunately, I did that (used v8.5) and things worked fine, but that was not the requirement for the project and I had to revert because the dashboard, visualization, and search files provided to us only work on v5.2.0 (I am yet to try 5.2.2). Trying to get v5.2.0 working is a pain"}],"answers":[{"tags":[],"owner":{"account_id":11774674,"reputation":628,"user_id":8779552,"display_name":"OlaJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668819593,"creation_date":1668819593,"answer_id":74496798,"question_id":74482030,"body_markdown":"apparently the problem was not with the ELK stack version, but with the OS version (see [Elastic Support Matrix][1]. I had to downgrade from Ubuntu 20.04 to Ubuntu 16.04 because ES 5.2.* works well on 16.04 but with some of its own bugs. Thanks for your help!\r\n\r\n\r\n  [1]: https://www.elastic.co/support/matrix","title":"Elasticsearch Fails to Start Java Lang Illegal State Exception: No match found","body":"<p>apparently the problem was not with the ELK stack version, but with the OS version (see <a href=\"https://www.elastic.co/support/matrix\" rel=\"nofollow noreferrer\">Elastic Support Matrix</a>. I had to downgrade from Ubuntu 20.04 to Ubuntu 16.04 because ES 5.2.* works well on 16.04 but with some of its own bugs. Thanks for your help!</p>\n"}],"owner":{"account_id":11774674,"reputation":628,"user_id":8779552,"display_name":"OlaJ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668819593,"creation_date":1668718794,"question_id":74482030,"body_markdown":"I have been trying to get Elastic Stack to run for at least 2 days now, I have been given a project in school that requires me to use Elasticsearch 5.2.0 specifically (Logstash 5.2.0, and Kibana 5.2.0) I have not been able to get past installing Elasticsearch yet because it always fails to run the service. I have Java8 and Java11 (using Java8 for ES 5.2.0). The service always fails to run and anytime I check the error logs I keep getting the below:\r\n\r\n```\r\n[2022-11-17T20:37:58,110][INFO ][o.e.p.PluginsService     ] [F-2-m97] loaded module [reindex]\r\n[2022-11-17T20:37:58,110][INFO ][o.e.p.PluginsService     ] [F-2-m97] loaded module [transport-netty3]\r\n[2022-11-17T20:37:58,110][INFO ][o.e.p.PluginsService     ] [F-2-m97] loaded module [transport-netty4]\r\n[2022-11-17T20:37:58,110][INFO ][o.e.p.PluginsService     ] [F-2-m97] no plugins loaded\r\n[2022-11-17T20:37:58,779][ERROR][o.e.b.Bootstrap          ] Exception\r\njava.lang.IllegalStateException: No match found\r\n        at java.util.regex.Matcher.group(Matcher.java:645) ~[?:?]\r\n        at org.elasticsearch.monitor.os.OsProbe.getControlGroups(OsProbe.java:216) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.monitor.os.OsProbe.getCgroup(OsProbe.java:414) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.monitor.os.OsProbe.osStats(OsProbe.java:466) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.monitor.os.OsService.&lt;init&gt;(OsService.java:45) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.monitor.MonitorService.&lt;init&gt;(MonitorService.java:45) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:345) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:232) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap$6.&lt;init&gt;(Bootstrap.java:241) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:241) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333) [elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121) [elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112) [elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.cli.SettingCommand.execute(SettingCommand.java:54) [elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122) [elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.cli.Command.main(Command.java:88) [elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:89) [elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:82) [elasticsearch-5.2.0.jar:5.2.0]\r\n[2022-11-17T20:37:58,788][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: java.lang.IllegalStateException: No match found\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:125) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.cli.SettingCommand.execute(SettingCommand.java:54) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.cli.Command.main(Command.java:88) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:89) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:82) ~[elasticsearch-5.2.0.jar:5.2.0]\r\nCaused by: java.lang.IllegalStateException: No match found\r\n        at java.util.regex.Matcher.group(Matcher.java:645) ~[?:?]\r\n        at org.elasticsearch.monitor.os.OsProbe.getControlGroups(OsProbe.java:216) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.monitor.os.OsProbe.getCgroup(OsProbe.java:414) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.monitor.os.OsProbe.osStats(OsProbe.java:466) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.monitor.os.OsService.&lt;init&gt;(OsService.java:45) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.monitor.MonitorService.&lt;init&gt;(MonitorService.java:45) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:345) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:232) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap$6.&lt;init&gt;(Bootstrap.java:241) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:241) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121) ~[elasticsearch-5.2.0.jar:5.2.0]\r\n        ... 6 more\r\n```\r\n\r\nI have checked almost all online resource there is, with no luck! No one has a solution to this issue, at least not one I have been able to figure out... Does anyone have a fix for this?","title":"Elasticsearch Fails to Start Java Lang Illegal State Exception: No match found","body":"<p>I have been trying to get Elastic Stack to run for at least 2 days now, I have been given a project in school that requires me to use Elasticsearch 5.2.0 specifically (Logstash 5.2.0, and Kibana 5.2.0) I have not been able to get past installing Elasticsearch yet because it always fails to run the service. I have Java8 and Java11 (using Java8 for ES 5.2.0). The service always fails to run and anytime I check the error logs I keep getting the below:</p>\n<pre><code>[2022-11-17T20:37:58,110][INFO ][o.e.p.PluginsService     ] [F-2-m97] loaded module [reindex]\n[2022-11-17T20:37:58,110][INFO ][o.e.p.PluginsService     ] [F-2-m97] loaded module [transport-netty3]\n[2022-11-17T20:37:58,110][INFO ][o.e.p.PluginsService     ] [F-2-m97] loaded module [transport-netty4]\n[2022-11-17T20:37:58,110][INFO ][o.e.p.PluginsService     ] [F-2-m97] no plugins loaded\n[2022-11-17T20:37:58,779][ERROR][o.e.b.Bootstrap          ] Exception\njava.lang.IllegalStateException: No match found\n        at java.util.regex.Matcher.group(Matcher.java:645) ~[?:?]\n        at org.elasticsearch.monitor.os.OsProbe.getControlGroups(OsProbe.java:216) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.monitor.os.OsProbe.getCgroup(OsProbe.java:414) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.monitor.os.OsProbe.osStats(OsProbe.java:466) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.monitor.os.OsService.&lt;init&gt;(OsService.java:45) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.monitor.MonitorService.&lt;init&gt;(MonitorService.java:45) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:345) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:232) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Bootstrap$6.&lt;init&gt;(Bootstrap.java:241) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:241) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333) [elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121) [elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112) [elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.cli.SettingCommand.execute(SettingCommand.java:54) [elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122) [elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.cli.Command.main(Command.java:88) [elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:89) [elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:82) [elasticsearch-5.2.0.jar:5.2.0]\n[2022-11-17T20:37:58,788][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [] uncaught exception in thread [main]\norg.elasticsearch.bootstrap.StartupException: java.lang.IllegalStateException: No match found\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:125) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.cli.SettingCommand.execute(SettingCommand.java:54) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.cli.Command.main(Command.java:88) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:89) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:82) ~[elasticsearch-5.2.0.jar:5.2.0]\nCaused by: java.lang.IllegalStateException: No match found\n        at java.util.regex.Matcher.group(Matcher.java:645) ~[?:?]\n        at org.elasticsearch.monitor.os.OsProbe.getControlGroups(OsProbe.java:216) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.monitor.os.OsProbe.getCgroup(OsProbe.java:414) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.monitor.os.OsProbe.osStats(OsProbe.java:466) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.monitor.os.OsService.&lt;init&gt;(OsService.java:45) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.monitor.MonitorService.&lt;init&gt;(MonitorService.java:45) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:345) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:232) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Bootstrap$6.&lt;init&gt;(Bootstrap.java:241) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:241) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333) ~[elasticsearch-5.2.0.jar:5.2.0]\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121) ~[elasticsearch-5.2.0.jar:5.2.0]\n        ... 6 more\n</code></pre>\n<p>I have checked almost all online resource there is, with no luck! No one has a solution to this issue, at least not one I have been able to figure out... Does anyone have a fix for this?</p>\n"},{"tags":["java","maven","jetty","dropwizard","embedded-jetty"],"answers":[{"comments":[{"owner":{"account_id":26977665,"reputation":3,"user_id":20542561,"display_name":"unknownWalker"},"score":0,"creation_date":1668883804,"post_id":74496752,"comment_id":131516488,"body_markdown":"We are using 1.3.29. Can you point to what version of Dropwizard pulls in `SslContextFactory.Server` correctly? @joakim-erdfelt","body":"We are using 1.3.29. Can you point to what version of Dropwizard pulls in <code>SslContextFactory.Server</code> correctly? @joakim-erdfelt"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1668949776,"post_id":74496752,"comment_id":131525473,"body_markdown":"[Dropwizard 1.x was declared End of Life back in Dec 2020](https://github.com/dropwizard/dropwizard/issues/3338) - Use any recent release of any supported major version of Dropwizard.","body":"<a href=\"https://github.com/dropwizard/dropwizard/issues/3338\" rel=\"nofollow noreferrer\">Dropwizard 1.x was declared End of Life back in Dec 2020</a> - Use any recent release of any supported major version of Dropwizard."}],"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668818999,"creation_date":1668818999,"answer_id":74496752,"question_id":74494464,"body_markdown":"Your version of Dropwizard is too old.\r\n\r\nDropwizard properly uses the `SslContextFactory.Server` where appropriate.","title":"Jetty and Dropwizard: KeyStores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory","body":"<p>Your version of Dropwizard is too old.</p>\n<p>Dropwizard properly uses the <code>SslContextFactory.Server</code> where appropriate.</p>\n"}],"owner":{"account_id":26977665,"reputation":3,"user_id":20542561,"display_name":"unknownWalker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74496752,"answer_count":1,"score":0,"last_activity_date":1668818999,"creation_date":1668799579,"question_id":74494464,"body_markdown":"I am running into the follow error while upgrading my versions of Jetty for a Dropwizard project:\r\n\r\n```\r\njava.lang.IllegalStateException: KeyStores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory. (Use org.eclipse.jetty.util.ssl.SslContextFactory$Server or org.eclipse.jetty.util.ssl.SslContextFactory$Client instead)\r\n```\r\n\r\nThe tricky part is that I do not directly set up my SslContextFactory in code. Instead, Dropwizard sets it up behind the scenes at application startup, where it quickly runs into this issue and fails.\r\n\r\nI see from the [Dropwizard documentation](https://www.dropwizard.io/en/latest/manual/configuration.html) that certain environment variables can be set on the Jetty server that it spins up, but I do not see documentation on how to modify specific classes.\r\n\r\nIf I add a jetty.xml file within $JETTY_HOME$/etc/config, will Dropwizard know how to pick this up?\r\n\r\nI just need to understand how Dropwizard picks up settings on Jetty so I can use SslContextFactory.Server and resolve this error at startup.","title":"Jetty and Dropwizard: KeyStores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory","body":"<p>I am running into the follow error while upgrading my versions of Jetty for a Dropwizard project:</p>\n<pre><code>java.lang.IllegalStateException: KeyStores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory. (Use org.eclipse.jetty.util.ssl.SslContextFactory$Server or org.eclipse.jetty.util.ssl.SslContextFactory$Client instead)\n</code></pre>\n<p>The tricky part is that I do not directly set up my SslContextFactory in code. Instead, Dropwizard sets it up behind the scenes at application startup, where it quickly runs into this issue and fails.</p>\n<p>I see from the <a href=\"https://www.dropwizard.io/en/latest/manual/configuration.html\" rel=\"nofollow noreferrer\">Dropwizard documentation</a> that certain environment variables can be set on the Jetty server that it spins up, but I do not see documentation on how to modify specific classes.</p>\n<p>If I add a jetty.xml file within $JETTY_HOME$/etc/config, will Dropwizard know how to pick this up?</p>\n<p>I just need to understand how Dropwizard picks up settings on Jetty so I can use SslContextFactory.Server and resolve this error at startup.</p>\n"},{"tags":["java","stack"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1668822548,"post_id":74496650,"comment_id":131506685,"body_markdown":"Would you consider `)))(((` to be balanced?","body":"Would you consider <code>)))(((</code> to be balanced?"},{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1668839103,"post_id":74496650,"comment_id":131508204,"body_markdown":"You don&#39;t need to use the stack. Just count the number of &#39;(&#39; and &#39;)&#39; and check that they are equal.","body":"You don&#39;t need to use the stack. Just count the number of &#39;(&#39; and &#39;)&#39; and check that they are equal."}],"answers":[{"comments":[{"owner":{"account_id":26575078,"reputation":1,"user_id":20200634,"display_name":"pokemonmater940"},"score":0,"creation_date":1668819235,"post_id":74496725,"comment_id":131506280,"body_markdown":"I did while(stack1 != null &amp;&amp; stack2 != null) {\n          stack1.pop();\n          stack2.pop();\n  }\nand I got a infinite loop","body":"I did while(stack1 != null &amp;&amp; stack2 != null) {           stack1.pop();           stack2.pop();   } and I got a infinite loop"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668819444,"post_id":74496725,"comment_id":131506310,"body_markdown":"@pokemonmater940 As you&#39;ve most probably figured out already, this does not work. Ask yourself: do you set either `stack1` or `stack2` to `null` anywhere? Is this what you want to check? Hint: all necessary pieces are there, we do not need to implement new new methods.","body":"@pokemonmater940 As you&#39;ve most probably figured out already, this does not work. Ask yourself: do you set either <code>stack1</code> or <code>stack2</code> to <code>null</code> anywhere? Is this what you want to check? Hint: all necessary pieces are there, we do not need to implement new new methods."},{"owner":{"account_id":26575078,"reputation":1,"user_id":20200634,"display_name":"pokemonmater940"},"score":1,"creation_date":1668819944,"post_id":74496725,"comment_id":131506380,"body_markdown":"Ok I got it, I did the is empty method is false and the while loop and it worked, thank you!","body":"Ok I got it, I did the is empty method is false and the while loop and it worked, thank you!"}],"tags":[],"owner":{"account_id":20276690,"reputation":31,"user_id":14871546,"display_name":"Nesmeg"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668818723,"creation_date":1668818723,"answer_id":74496725,"question_id":74496650,"body_markdown":"If I understood the problem correctly, then your mistake is in your second for loop.\r\n\r\n      for(int i = 0; i&lt; expr.length(); i++) {\r\n        stack1.pop();\r\n        stack2.pop();\r\n      }\r\n\r\nYou are going to pop from each stack expr.length() elements so both stacks are going to be empty at one point.\r\n\r\nOne possible solution would be to use a while loop whose loop condition is that neither of the 2 stacks are empty. \r\n\r\nThe moment that one stack is empty you stop the loop, and then your return statement will work just fine because in the moment that one stack is empty, if the other one isn’t also empty the expression isn’t balanced and if they are both empty they are balanced (according to what I understood from your definition of the problem)","title":"Stack isn&#39;t pushing element correctly","body":"<p>If I understood the problem correctly, then your mistake is in your second for loop.</p>\n<pre><code>  for(int i = 0; i&lt; expr.length(); i++) {\n    stack1.pop();\n    stack2.pop();\n  }\n</code></pre>\n<p>You are going to pop from each stack expr.length() elements so both stacks are going to be empty at one point.</p>\n<p>One possible solution would be to use a while loop whose loop condition is that neither of the 2 stacks are empty.</p>\n<p>The moment that one stack is empty you stop the loop, and then your return statement will work just fine because in the moment that one stack is empty, if the other one isn’t also empty the expression isn’t balanced and if they are both empty they are balanced (according to what I understood from your definition of the problem)</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668818763,"creation_date":1668818763,"answer_id":74496730,"question_id":74496650,"body_markdown":"The 2nd `for`-loop:\r\n\r\n          ...\r\n          for(int i = 0; i&lt; expr.length(); i++) {\r\n            stack1.pop();\r\n            stack2.pop();\r\n          }\r\n          ...\r\n\r\nruns &quot;too often&quot;. In a balanced scenario, both stacks hold `expr.length() / 2`-may elements, i.e. they are `empty()` after `expr.length()  / 2` `pop()`s, but we `pop()` `expr.length()`-times. \r\n\r\nThe issue can be easily fixed by replacing the 2nd `for`-loop with a `while`-loop. I leave the exact condition as an exercise for the reader to figure out.","title":"Stack isn&#39;t pushing element correctly","body":"<p>The 2nd <code>for</code>-loop:</p>\n<pre><code>      ...\n      for(int i = 0; i&lt; expr.length(); i++) {\n        stack1.pop();\n        stack2.pop();\n      }\n      ...\n</code></pre>\n<p>runs &quot;too often&quot;. In a balanced scenario, both stacks hold <code>expr.length() / 2</code>-may elements, i.e. they are <code>empty()</code> after <code>expr.length()  / 2</code> <code>pop()</code>s, but we <code>pop()</code> <code>expr.length()</code>-times.</p>\n<p>The issue can be easily fixed by replacing the 2nd <code>for</code>-loop with a <code>while</code>-loop. I leave the exact condition as an exercise for the reader to figure out.</p>\n"}],"owner":{"account_id":26575078,"reputation":1,"user_id":20200634,"display_name":"pokemonmater940"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1668818763,"creation_date":1668817846,"question_id":74496650,"body_markdown":"I am trying to push parts of a string into two different stacks and popping them out so I can see if the string is balanced. For example, we have the sample input of ((())), it would push ( into one stack and it would push ) into another stack. Then it would enter a loop that pops all the characters and if both stacks are empty, it would be balanced. But Im getting this out when I run it.\r\n```\r\nTrying to pop when stack is empty\r\nTrying to pop when stack is empty\r\nTrying to pop when stack is empty\r\nTrying to pop when stack is empty\r\nTrying to pop when stack is empty\r\nTrying to pop when stack is empty\r\ntrue\r\n ```\r\nWhich I am assuming is that it isn&#39;t pushing the characters correctly, I do not know why. Here is a the method\r\n``` \r\n  static boolean isBalanced(String expr){\r\n      // base case: length of the expression must be even\r\n        if (expr == null || expr.length() % 2 == 1) {\r\n            return false;\r\n        }\r\n \r\n        Stack stack1 = new Stack();\r\n        Stack stack2 = new Stack();\r\n \r\n        // traverse the input expression\r\n        for (int i = 0; i&lt; expr.length(); i++){ \r\n            // if the current character in the expression is an opening brace,\r\n            // push it into the stack\r\n            if (expr.charAt(i) == &#39;(&#39;) {\r\n                stack1.push(expr.charAt(i));\r\n            } \r\n \r\n            // if the current character is closing brace\r\n            if (expr.charAt(i) == &#39;)&#39;) {\r\n               stack2.push(expr.charAt(i));\r\n        }\r\n      }\r\n      for(int i = 0; i&lt; expr.length(); i++) {\r\n        stack1.pop();\r\n        stack2.pop();\r\n      }\r\n      return (stack1.isEmpty() &amp;&amp; stack2.isEmpty()) ; \r\n    }\r\n``` \r\nHere is the stack class\r\n```\r\npublic class Stack{\r\n    private Node top;\r\n\r\n    public Stack() {\r\n        top = null;\r\n    }\r\n\r\n    public boolean isEmpty(){\r\n        return (top ==null);\r\n    }\r\n\r\n    public void push(Object newItem){\r\n        top = new Node(newItem,  top);\r\n    }\r\n\r\n    public Object pop(){\r\n        if (isEmpty()){\r\n            System.out.println(\r\n             &quot;Trying to pop when stack is empty&quot;);\r\n            return null;\r\n        }else{\r\n            Node temp = top;\r\n            top = top.next;\r\n            return temp.info;\r\n        }\r\n    }\r\n\r\n\r\n    void popAll(){\r\n        top = null;\r\n    }\r\n\r\n    public Object peek(){\r\n        if (isEmpty()){\r\n           System.out.println(\r\n            &quot;Trying to peek when stack is empty&quot;);\r\n           return null;\r\n        }else{\t\r\n           return top.info;\r\n        }\r\n    }\r\n}// End of Stack using a linked list\r\n``` \r\nHere is the node class\r\n``` \r\npublic class Node {\r\n    Object info;\r\n    Node next;\r\n    \r\n    Node(Object info, Node next){\r\n        this.info=info;\r\n        this.next=next;\r\n    }    \r\n}\r\n``` \r\nI am not allowed to import anything and I am only allowed to changed the method, thank you","title":"Stack isn&#39;t pushing element correctly","body":"<p>I am trying to push parts of a string into two different stacks and popping them out so I can see if the string is balanced. For example, we have the sample input of ((())), it would push ( into one stack and it would push ) into another stack. Then it would enter a loop that pops all the characters and if both stacks are empty, it would be balanced. But Im getting this out when I run it.</p>\n<pre><code>Trying to pop when stack is empty\nTrying to pop when stack is empty\nTrying to pop when stack is empty\nTrying to pop when stack is empty\nTrying to pop when stack is empty\nTrying to pop when stack is empty\ntrue\n</code></pre>\n<p>Which I am assuming is that it isn't pushing the characters correctly, I do not know why. Here is a the method</p>\n<pre><code>  static boolean isBalanced(String expr){\n      // base case: length of the expression must be even\n        if (expr == null || expr.length() % 2 == 1) {\n            return false;\n        }\n \n        Stack stack1 = new Stack();\n        Stack stack2 = new Stack();\n \n        // traverse the input expression\n        for (int i = 0; i&lt; expr.length(); i++){ \n            // if the current character in the expression is an opening brace,\n            // push it into the stack\n            if (expr.charAt(i) == '(') {\n                stack1.push(expr.charAt(i));\n            } \n \n            // if the current character is closing brace\n            if (expr.charAt(i) == ')') {\n               stack2.push(expr.charAt(i));\n        }\n      }\n      for(int i = 0; i&lt; expr.length(); i++) {\n        stack1.pop();\n        stack2.pop();\n      }\n      return (stack1.isEmpty() &amp;&amp; stack2.isEmpty()) ; \n    }\n</code></pre>\n<p>Here is the stack class</p>\n<pre><code>public class Stack{\n    private Node top;\n\n    public Stack() {\n        top = null;\n    }\n\n    public boolean isEmpty(){\n        return (top ==null);\n    }\n\n    public void push(Object newItem){\n        top = new Node(newItem,  top);\n    }\n\n    public Object pop(){\n        if (isEmpty()){\n            System.out.println(\n             &quot;Trying to pop when stack is empty&quot;);\n            return null;\n        }else{\n            Node temp = top;\n            top = top.next;\n            return temp.info;\n        }\n    }\n\n\n    void popAll(){\n        top = null;\n    }\n\n    public Object peek(){\n        if (isEmpty()){\n           System.out.println(\n            &quot;Trying to peek when stack is empty&quot;);\n           return null;\n        }else{  \n           return top.info;\n        }\n    }\n}// End of Stack using a linked list\n</code></pre>\n<p>Here is the node class</p>\n<pre><code>public class Node {\n    Object info;\n    Node next;\n    \n    Node(Object info, Node next){\n        this.info=info;\n        this.next=next;\n    }    \n}\n</code></pre>\n<p>I am not allowed to import anything and I am only allowed to changed the method, thank you</p>\n"},{"tags":["java","eclipse","maven","java-8","multi-module"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1668808448,"post_id":74493838,"comment_id":131504365,"body_markdown":"Most likely you are using different JDK in Eclipse and in command line. Either apply the recommendation: &quot;Built-in RMIC compiler not available in JDK9. Add a dependency on org.glassfish.corba:rmic to the plugin.&quot; OR change java version in your command line (precise instructions depend on OS)","body":"Most likely you are using different JDK in Eclipse and in command line. Either apply the recommendation: &quot;Built-in RMIC compiler not available in JDK9. Add a dependency on org.glassfish.corba:rmic to the plugin.&quot; OR change java version in your command line (precise instructions depend on OS)"},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1668812300,"post_id":74493838,"comment_id":131505104,"body_markdown":"In eclipse, I use JDK 1.8, however, in the command line `java -version` is 18.0.1.1. Since the env. variable is `JAVA_HOME=C:\\Program Files\\Java\\jdk-18.0.1.1`. I will try to change the JAVA_HOME in the same command prompt and try again.","body":"In eclipse, I use JDK 1.8, however, in the command line <code>java -version</code> is 18.0.1.1. Since the env. variable is <code>JAVA_HOME=C:\\Program Files\\Java\\jdk-18.0.1.1</code>. I will try to change the JAVA_HOME in the same command prompt and try again."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1668817886,"post_id":74493838,"comment_id":131506058,"body_markdown":"I change the environment variables `PATH` and `JAVAN_HOME` to point to JDK 1.8, and all worked fine. I noticed that changing the JDK inside the POM.xml file has no effect. Any idea how to solve this problem? I don&#39;t want to keep on changing the environment variables everytime I use maven command lines.","body":"I change the environment variables <code>PATH</code> and <code>JAVAN_HOME</code> to point to JDK 1.8, and all worked fine. I noticed that changing the JDK inside the POM.xml file has no effect. Any idea how to solve this problem? I don&#39;t want to keep on changing the environment variables everytime I use maven command lines."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1668819005,"post_id":74493838,"comment_id":131506258,"body_markdown":"I recommend using https://sdkman.io for managing different versions of Java in your environment. Or for this particular project you can create a .bat file to do the work for you, set the environment and run maven.","body":"I recommend using <a href=\"https://sdkman.io\" rel=\"nofollow noreferrer\">sdkman.io</a> for managing different versions of Java in your environment. Or for this particular project you can create a .bat file to do the work for you, set the environment and run maven."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1668836358,"post_id":74493838,"comment_id":131507946,"body_markdown":"`Built-in RMIC compiler not available in JDK9. Add a dependency on org.glassfish.corba:rmic to the plugin.`","body":"<code>Built-in RMIC compiler not available in JDK9. Add a dependency on org.glassfish.corba:rmic to the plugin.</code>"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668818196,"creation_date":1668795369,"question_id":74493838,"body_markdown":"A relatively huge maven project with 7 modules compiles using Eclipse but fails in the command line. The project is checked out in eclipse from SVN and a few steps are carried out to configure the JRE and other items. Then, I build the project using `right-click-project/Run as/Maven build ...` and then type the goals as `clean install`, select the skip tests checkbox, and click run. The build completes without any problem.\r\n\r\nNow, I try to build the project using `mvn clean install` and some projects will succeed, one fails with errors, and the others are skipped. The output is as follows:\r\n\r\n```\r\n[ERROR] Failed to execute goal org.codehaus.mojo:rmic-maven-plugin:1.3:rmic (rmi-compile) on project adaptersansa: Error while executing the RMI compiler.:  Built-in RMIC compiler not available in JDK9. Add a dependency on org.glassfish.corba:rmic to the plugin. -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :adaptersansa\r\n```\r\n\r\nAny idea how to troubleshoot and solve this problem to be able to compile the project using the maven command line?\r\n\r\n---\r\n\r\nUpdate 1:\r\n===\r\n\r\nThanks to `Lesiak` for the hint. Before running the command `mvn clean install`, I changed the environment variables `PATH` and `JAVAN_HOME` to point to JDK 1.8, and all worked fine. The default was pointing to JDK 18. I noticed that changing the JDK version inside the POM.xml file has no effect. Any idea how to solve this problem? I don&#39;t want to keep on changing the environment variables every time I use maven command lines.\r\n\r\nCan I configure a Maven Java Project to use `JDK 1.8` regardless of the system environment variable settings?\r\n","title":"Maven multi-module project compiles in eclipse but fails with maven command line","body":"<p>A relatively huge maven project with 7 modules compiles using Eclipse but fails in the command line. The project is checked out in eclipse from SVN and a few steps are carried out to configure the JRE and other items. Then, I build the project using <code>right-click-project/Run as/Maven build ...</code> and then type the goals as <code>clean install</code>, select the skip tests checkbox, and click run. The build completes without any problem.</p>\n<p>Now, I try to build the project using <code>mvn clean install</code> and some projects will succeed, one fails with errors, and the others are skipped. The output is as follows:</p>\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:rmic-maven-plugin:1.3:rmic (rmi-compile) on project adaptersansa: Error while executing the RMI compiler.:  Built-in RMIC compiler not available in JDK9. Add a dependency on org.glassfish.corba:rmic to the plugin. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :adaptersansa\n</code></pre>\n<p>Any idea how to troubleshoot and solve this problem to be able to compile the project using the maven command line?</p>\n<hr />\n<h1>Update 1:</h1>\n<p>Thanks to <code>Lesiak</code> for the hint. Before running the command <code>mvn clean install</code>, I changed the environment variables <code>PATH</code> and <code>JAVAN_HOME</code> to point to JDK 1.8, and all worked fine. The default was pointing to JDK 18. I noticed that changing the JDK version inside the POM.xml file has no effect. Any idea how to solve this problem? I don't want to keep on changing the environment variables every time I use maven command lines.</p>\n<p>Can I configure a Maven Java Project to use <code>JDK 1.8</code> regardless of the system environment variable settings?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":96341,"reputation":2862,"user_id":261887,"display_name":"black panda"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1636123000,"creation_date":1324032144,"answer_id":8532998,"question_id":8532957,"body_markdown":"Cannot find a direct equivalence to your `strtr` in the JDK. In Apache Commons StringUtils, there is [StringUtils.replaceChars][1]\r\n\r\n[String.replace][2] Does not really fit your case, unless you use it for each letter in your `$from` argument and replace it with the `$to` substitute. It&#39;s pretty easy to implement your own utility function using StringBuilder and replacing it yourself, though. Which is pretty much what StringUtils.replace does.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceChars-java.lang.String-java.lang.String-java.lang.String-\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace%28char,%20char%29","title":"php strtr equivalent in java","body":"<p>Cannot find a direct equivalence to your <code>strtr</code> in the JDK. In Apache Commons StringUtils, there is <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceChars-java.lang.String-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">StringUtils.replaceChars</a></p>\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replace%28char,%20char%29\" rel=\"nofollow noreferrer\">String.replace</a> Does not really fit your case, unless you use it for each letter in your <code>$from</code> argument and replace it with the <code>$to</code> substitute. It's pretty easy to implement your own utility function using StringBuilder and replacing it yourself, though. Which is pretty much what StringUtils.replace does.</p>\n"},{"comments":[{"owner":{"account_id":1039648,"reputation":12287,"user_id":1046007,"display_name":"Walter Tross"},"score":0,"creation_date":1602232275,"post_id":8533048,"comment_id":113660987,"body_markdown":"this is O(n m), where n is the size of the string and m is the number of character replacements","body":"this is O(n m), where n is the size of the string and m is the number of character replacements"}],"tags":[],"owner":{"account_id":1110272,"reputation":181,"user_id":1100872,"display_name":"Egor"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1324033042,"creation_date":1324032394,"answer_id":8533048,"question_id":8532957,"body_markdown":"You can call `String.replace(char oldChar, char newChar)` in a cycle. For example:\r\n\r\n    String from = &quot;abc&quot;;\r\n    String   to = &quot;xyz&quot;;\r\n    String str = &quot;abc string&quot;;\r\n    for( int i = 0; i &lt; from.length(); i++ )\r\n      str = str.replace(from.charAt(i), to.charAt(i));","title":"php strtr equivalent in java","body":"<p>You can call <code>String.replace(char oldChar, char newChar)</code> in a cycle. For example:</p>\n\n<pre><code>String from = \"abc\";\nString   to = \"xyz\";\nString str = \"abc string\";\nfor( int i = 0; i &lt; from.length(); i++ )\n  str = str.replace(from.charAt(i), to.charAt(i));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406112114,"creation_date":1352680458,"answer_id":13337004,"question_id":8532957,"body_markdown":"Here&#39;s an implementation I wrote before. You&#39;re welcome to it.\r\n\r\n\tpublic static String strtr(String str, String from, String to) {\r\n\t\tchar[] out = null;\r\n\t\tfor (int i = 0, len = str.length(); i &lt; len; i++) {\r\n\t\t\tchar c = str.charAt(i);\r\n\t\t\tint p = from.indexOf(c);\r\n\t\t\tif (p &gt;= 0) {\r\n\t\t\t\tif (out == null) out = str.toCharArray();\r\n\t\t\t\tout[i] = to.charAt(p);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn out != null ? new String(out) : str;\r\n\t}","title":"php strtr equivalent in java","body":"<p>Here's an implementation I wrote before. You're welcome to it.</p>\n\n<pre><code>public static String strtr(String str, String from, String to) {\n    char[] out = null;\n    for (int i = 0, len = str.length(); i &lt; len; i++) {\n        char c = str.charAt(i);\n        int p = from.indexOf(c);\n        if (p &gt;= 0) {\n            if (out == null) out = str.toCharArray();\n            out[i] = to.charAt(p);\n        }\n    }\n    return out != null ? new String(out) : str;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97390,"reputation":12553,"user_id":264181,"display_name":"diyism"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668817502,"creation_date":1376046332,"answer_id":18145288,"question_id":8532957,"body_markdown":"My method:\r\n\r\n    public static String strtr(String str, String froms, String tos) { \r\n\r\n          char[] str1 = str.toCharArray();\r\n\r\n          for (int i=0,len=str.length(); i&lt;len; ++i){\r\n              int j = froms.indexOf(str.charAt(i));\r\n              if (j != -1)\r\n                 str1[i]=tos.charAt(j);\r\n\r\n          return String.valueOf(str1);\r\n     }","title":"php strtr equivalent in java","body":"<p>My method:</p>\n<pre><code>public static String strtr(String str, String froms, String tos) { \n\n      char[] str1 = str.toCharArray();\n\n      for (int i=0,len=str.length(); i&lt;len; ++i){\n          int j = froms.indexOf(str.charAt(i));\n          if (j != -1)\n             str1[i]=tos.charAt(j);\n\n      return String.valueOf(str1);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153021,"reputation":8348,"user_id":367988,"accept_rate":71,"display_name":"Basil Musa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458397342,"creation_date":1458396064,"answer_id":36102675,"question_id":8532957,"body_markdown":"Wrote the following two methods, since I was looking for something similar to the strtr functionality. Just copy and paste this code in your java project and use the two methods provided (Apache License 2.0):\r\n\r\n#Example Usage\r\n\r\n\tMap&lt;String, String&gt; replacements = new TreeMap&lt;String, String&gt;();\r\n\treplacements.put(&quot;this&quot;, &quot;that&quot;);\r\n\treplacements.put(&quot;that&quot;, &quot;this&quot;);\r\n\treplacements.put(&quot;Nothing much&quot;, &quot;Everything&quot;);\r\n\t\t\t\r\n\tString example = Strtr.replaceStringUsingMap(&quot;Whether this or that, whats the difference? Nothing much.&quot;, replacements);\r\n\r\n\tSystem.out.println(example);\r\n\r\n#Output\r\n\r\nInput String:\r\n\r\n    &quot;Whether this or that, whats the difference? Nothing much.&quot;\r\n\r\nOutput String:\r\n\r\n    &quot;Whether that or this, whats the difference? Everything.&quot;\r\n\r\n#Source Code\r\n\r\n\timport java.util.ArrayList;\r\n\timport java.util.Collections;\r\n\timport java.util.Comparator;\r\n\timport java.util.HashMap;\r\n\timport java.util.List;\r\n\timport java.util.Map;\r\n\timport java.util.Set;\r\n\timport java.util.TreeMap;\r\n\t\r\n\t/**\r\n\t * Two public methods can be used, mimicing strtr in php:\r\n\t * \r\n\t * {@link #replaceStringUsingChars(String, String, String)}\r\n\t * \r\n\t * {@link #replaceStringUsingMap(String, Map)}\r\n\r\n     * Apache 2.0 License\r\n\t * \r\n     * @author Basil Musa\r\n\t */\r\n\tpublic class Strtr {\r\n\t\t\r\n\t\t/**\r\n\t\t * Similar to strtr in php, characters in &#39;from&#39; will be replaced by characters in &#39;to&#39;\r\n\t\t * in the same order character by character.\r\n\t\t * \r\n\t\t * @param haystack\r\n\t\t * @param from\r\n\t\t * @param to\r\n\t\t * @return String having the replacements made\r\n\t\t */\r\n\t\tpublic static String replaceStringUsingChars(String haystack, String from, String to) {\r\n\t\t\tif (from.length() != to.length()) {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;from and to should have same number of characters.&quot;);\r\n\t\t\t}\r\n\t\t\tMap&lt;String, String&gt; replacements = new HashMap&lt;String, String&gt;();\r\n\t\t\tint length = from.length();\r\n\t\t\tfor (int i = 0; i &lt; length; i++) {\r\n\t\t\t\treplacements.put(String.valueOf(from.charAt(i)), String.valueOf(to.charAt(i)));\r\n\t\t\t}\r\n\t\t\treturn replaceStringUsingMap(haystack, replacements);\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * This method will return a string by replacing all occurrences of keys in needle2replacement occurring in\r\n\t\t * haystack with the corresponding values. Once a replacement is made, it wont be replaced again.\r\n\t\t * \r\n\t\t * The method will start with the longest keys first.\r\n\t\t * Keys of &quot;&quot; (empty strings) will be ignored.\r\n\t\t * \r\n\t\t * If the map is empty, the method returns the same haystack String directly.\r\n\t\t * \r\n\t\t * @param haystack The string to be replaced\r\n\t\t * @param needle2replacement The map of keys to search and values to be replaced\r\n\t\t * @return String containing haystack with all the replacements in needle2replacement made\r\n\t\t */\r\n\t\tpublic static String replaceStringUsingMap(String haystack, Map&lt;String, String&gt; needle2replacement)\r\n\t\t{\r\n\t\t\t// To optimize, just return the haystack if the map has no items\r\n\t\t\tif (needle2replacement.isEmpty()) {\r\n\t\t\t\treturn haystack;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Sort map by length of keys please by longest string first\r\n\t\t\tMap&lt;String, String&gt; sortedNeedle2replacement = sortKeysByLengthDescending(needle2replacement);\r\n\t\t\t\r\n\t\t\tSet&lt;String&gt; arrNeedles = sortedNeedle2replacement.keySet();\r\n\t\t\tList&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\r\n\t\t\t\r\n\t\t\tint lengthDifference = 0;\r\n\t\t\tfor (String needle : arrNeedles) {\r\n\t\t\t\t\r\n\t\t\t\tint indexOf = -1;\r\n\t\t\t\t\r\n\t\t\t\t// Ignore needles whom are empty strings\r\n\t\t\t\tif (needle.equals(&quot;&quot;)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\twhile(-1 != (indexOf = haystack.indexOf(needle, indexOf + 1))) {\r\n\t\t\t\t\tString replacement = sortedNeedle2replacement.get(needle);\r\n\t\t\t\t\tif (replacement == null) {\r\n\t\t\t\t\t\tthrow new IllegalArgumentException(&quot;Map value of null found in key [&#39;&quot; + needle + &quot;&#39;]&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tRange range = new Range(indexOf, indexOf + needle.length() - 1, needle, replacement);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Check for any overlaps\r\n\t\t\t\t\tboolean addRange = true;\r\n\t\t\t\t\tfor (Range target : ranges) {\r\n\t\t\t\t\t\tif (range.isOverlappingWith(target)) {\r\n\t\t\t\t\t\t\taddRange = false;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (addRange) {\r\n\t\t\t\t\t\tranges.add(range);\r\n\t\t\t\t\t\tlengthDifference += range.replacement.length() - range.needle.length();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Sort ranges please\r\n\t\t\tCollections.sort(ranges, new Comparator&lt;Range&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int compare(Range o1, Range o2) {\r\n\t\t\t\t\treturn o1.begin - o2.begin;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// type them\r\n\t\t\tStringBuilder stringBuilder = new StringBuilder(haystack.length() + lengthDifference);\r\n\t\t\t\r\n\t\t\tint startAt = 0;\r\n\t\t\tfor (Range range : ranges) {\r\n\t\t\t\tstringBuilder.append(haystack.substring(startAt, range.begin));\r\n\t\t\t\tstringBuilder.append(range.replacement);\r\n\t\t\t\tstartAt = range.end + 1;\r\n\t\t\t}\r\n\t\t\tstringBuilder.append(haystack.substring(startAt));\r\n\t\t\t\r\n\t\t\treturn stringBuilder.toString();\r\n\t\t}\r\n\t\t\r\n\t\tprivate static class Range\r\n\t\t{\r\n\t\t\tpublic Range(int begin, int end, String needle, String replacement) {\r\n\t\t\t\tsuper();\r\n\t\t\t\tif (begin &gt; end) {\r\n\t\t\t\t\tthrow new RuntimeException(&quot;begin [&quot; + begin + &quot;] should be smaller or equal to end [&quot; + end + &quot;]&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tthis.begin = begin;\r\n\t\t\t\tthis.end = end;\r\n\t\t\t\tthis.needle = needle;\r\n\t\t\t\tthis.replacement = replacement;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpublic final int begin;\r\n\t\t\tpublic final int end;\r\n\t\t\tpublic final String needle;\r\n\t\t\tpublic final String replacement;\r\n\t\t\t\r\n\t\t\tpublic String toString() {\r\n\t\t\t\treturn String.format(&quot;{%d,%d,%s,%s}&quot;, begin, end, needle, replacement);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @param target\r\n\t\t\t * @return\r\n\t\t\t */\r\n\t\t\tpublic boolean isOverlappingWith(Range target) {\r\n\t\t\t\tfinal boolean liesBefore = this.end &lt; target.begin;\r\n\t\t\t\tfinal boolean liesAfter = this.begin &gt; target.end;\r\n\t\t\t\tif (liesBefore || liesAfter) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n\t\t\t *             XXXXXX\r\n\t\t\t *          YYYYYYYYYYYYYYYY\r\n\t\t\t *          \r\n\t\t\t * Y is surround X as shown above\r\n\t\t\t * \r\n\t\t\t * @param target\r\n\t\t\t * @return\r\n\t\t\t */\r\n\t\t\tpublic boolean isSurrounding(Range target) {\r\n\t\t\t\tif (this.begin &lt; target.begin &amp;&amp; this.end &gt; target.end) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\r\n\t\tprivate static Map&lt;String, String&gt; sortKeysByLengthDescending(\r\n\t\t\t\tMap&lt;String, String&gt; needle2replacement) {\r\n\t\t\tMap&lt;String, String&gt; sortedNeedle2replacement = new TreeMap&lt;String, String&gt;(new Comparator&lt;String&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int compare(String s1, String s2) {\r\n\t\t\t\t\tif (s1.length() &gt; s2.length()) {\r\n\t\t                return -1;\r\n\t\t            } else if (s1.length() &lt; s2.length()) {\r\n\t\t                return 1;\r\n\t\t            } else {\r\n\t\t                return s1.compareTo(s2);\r\n\t\t            }\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsortedNeedle2replacement.putAll(needle2replacement);\r\n\t\t\t\r\n\t\t\treturn sortedNeedle2replacement;\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"php strtr equivalent in java","body":"<p>Wrote the following two methods, since I was looking for something similar to the strtr functionality. Just copy and paste this code in your java project and use the two methods provided (Apache License 2.0):</p>\n\n<h1>Example Usage</h1>\n\n<pre><code>Map&lt;String, String&gt; replacements = new TreeMap&lt;String, String&gt;();\nreplacements.put(\"this\", \"that\");\nreplacements.put(\"that\", \"this\");\nreplacements.put(\"Nothing much\", \"Everything\");\n\nString example = Strtr.replaceStringUsingMap(\"Whether this or that, whats the difference? Nothing much.\", replacements);\n\nSystem.out.println(example);\n</code></pre>\n\n<h1>Output</h1>\n\n<p>Input String:</p>\n\n<pre><code>\"Whether this or that, whats the difference? Nothing much.\"\n</code></pre>\n\n<p>Output String:</p>\n\n<pre><code>\"Whether that or this, whats the difference? Everything.\"\n</code></pre>\n\n<h1>Source Code</h1>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.TreeMap;\n\n/**\n * Two public methods can be used, mimicing strtr in php:\n * \n * {@link #replaceStringUsingChars(String, String, String)}\n * \n * {@link #replaceStringUsingMap(String, Map)}\n\n * Apache 2.0 License\n * \n * @author Basil Musa\n */\npublic class Strtr {\n\n    /**\n     * Similar to strtr in php, characters in 'from' will be replaced by characters in 'to'\n     * in the same order character by character.\n     * \n     * @param haystack\n     * @param from\n     * @param to\n     * @return String having the replacements made\n     */\n    public static String replaceStringUsingChars(String haystack, String from, String to) {\n        if (from.length() != to.length()) {\n            throw new IllegalArgumentException(\"from and to should have same number of characters.\");\n        }\n        Map&lt;String, String&gt; replacements = new HashMap&lt;String, String&gt;();\n        int length = from.length();\n        for (int i = 0; i &lt; length; i++) {\n            replacements.put(String.valueOf(from.charAt(i)), String.valueOf(to.charAt(i)));\n        }\n        return replaceStringUsingMap(haystack, replacements);\n    }\n\n    /**\n     * This method will return a string by replacing all occurrences of keys in needle2replacement occurring in\n     * haystack with the corresponding values. Once a replacement is made, it wont be replaced again.\n     * \n     * The method will start with the longest keys first.\n     * Keys of \"\" (empty strings) will be ignored.\n     * \n     * If the map is empty, the method returns the same haystack String directly.\n     * \n     * @param haystack The string to be replaced\n     * @param needle2replacement The map of keys to search and values to be replaced\n     * @return String containing haystack with all the replacements in needle2replacement made\n     */\n    public static String replaceStringUsingMap(String haystack, Map&lt;String, String&gt; needle2replacement)\n    {\n        // To optimize, just return the haystack if the map has no items\n        if (needle2replacement.isEmpty()) {\n            return haystack;\n        }\n\n        // Sort map by length of keys please by longest string first\n        Map&lt;String, String&gt; sortedNeedle2replacement = sortKeysByLengthDescending(needle2replacement);\n\n        Set&lt;String&gt; arrNeedles = sortedNeedle2replacement.keySet();\n        List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\n\n        int lengthDifference = 0;\n        for (String needle : arrNeedles) {\n\n            int indexOf = -1;\n\n            // Ignore needles whom are empty strings\n            if (needle.equals(\"\")) {\n                continue;\n            }\n\n            while(-1 != (indexOf = haystack.indexOf(needle, indexOf + 1))) {\n                String replacement = sortedNeedle2replacement.get(needle);\n                if (replacement == null) {\n                    throw new IllegalArgumentException(\"Map value of null found in key ['\" + needle + \"']\");\n                }\n\n                Range range = new Range(indexOf, indexOf + needle.length() - 1, needle, replacement);\n\n                // Check for any overlaps\n                boolean addRange = true;\n                for (Range target : ranges) {\n                    if (range.isOverlappingWith(target)) {\n                        addRange = false;\n                        break;\n                    }\n                }\n                if (addRange) {\n                    ranges.add(range);\n                    lengthDifference += range.replacement.length() - range.needle.length();\n                }\n            }\n        }\n\n        // Sort ranges please\n        Collections.sort(ranges, new Comparator&lt;Range&gt;() {\n            @Override\n            public int compare(Range o1, Range o2) {\n                return o1.begin - o2.begin;\n            }\n        });\n\n        // type them\n        StringBuilder stringBuilder = new StringBuilder(haystack.length() + lengthDifference);\n\n        int startAt = 0;\n        for (Range range : ranges) {\n            stringBuilder.append(haystack.substring(startAt, range.begin));\n            stringBuilder.append(range.replacement);\n            startAt = range.end + 1;\n        }\n        stringBuilder.append(haystack.substring(startAt));\n\n        return stringBuilder.toString();\n    }\n\n    private static class Range\n    {\n        public Range(int begin, int end, String needle, String replacement) {\n            super();\n            if (begin &gt; end) {\n                throw new RuntimeException(\"begin [\" + begin + \"] should be smaller or equal to end [\" + end + \"]\");\n            }\n            this.begin = begin;\n            this.end = end;\n            this.needle = needle;\n            this.replacement = replacement;\n        }\n\n        public final int begin;\n        public final int end;\n        public final String needle;\n        public final String replacement;\n\n        public String toString() {\n            return String.format(\"{%d,%d,%s,%s}\", begin, end, needle, replacement);\n        }\n\n        /**\n         * @param target\n         * @return\n         */\n        public boolean isOverlappingWith(Range target) {\n            final boolean liesBefore = this.end &lt; target.begin;\n            final boolean liesAfter = this.begin &gt; target.end;\n            if (liesBefore || liesAfter) {\n                return false;\n            }\n            return true;\n        }\n\n        /**\n         * +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n         *             XXXXXX\n         *          YYYYYYYYYYYYYYYY\n         *          \n         * Y is surround X as shown above\n         * \n         * @param target\n         * @return\n         */\n        public boolean isSurrounding(Range target) {\n            if (this.begin &lt; target.begin &amp;&amp; this.end &gt; target.end) {\n                return true;\n            }\n            return false;\n        }\n    }\n\n\n    private static Map&lt;String, String&gt; sortKeysByLengthDescending(\n            Map&lt;String, String&gt; needle2replacement) {\n        Map&lt;String, String&gt; sortedNeedle2replacement = new TreeMap&lt;String, String&gt;(new Comparator&lt;String&gt;() {\n            @Override\n            public int compare(String s1, String s2) {\n                if (s1.length() &gt; s2.length()) {\n                    return -1;\n                } else if (s1.length() &lt; s2.length()) {\n                    return 1;\n                } else {\n                    return s1.compareTo(s2);\n                }\n            }\n        });\n        sortedNeedle2replacement.putAll(needle2replacement);\n\n        return sortedNeedle2replacement;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":238900,"reputation":4064,"user_id":508126,"accept_rate":67,"display_name":"kjurkovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3095,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":8532998,"answer_count":5,"score":5,"last_activity_date":1668817502,"creation_date":1324031944,"question_id":8532957,"body_markdown":"Is there a function in Java which is equivalent to php&#39;s `strtr`?\r\n\r\n    string strtr ( string $str , string $from , string $to )\r\n\r\nIf given three arguments, `strtr` function returns a copy of string where all occurrences of each (single-byte) character in `$from` have been translated to the corresponding character in `$to`, i.e., every occurrence of `$from[$n]` has been replaced with `$to[$n]`, where `$n` is a valid offset in both arguments. ","title":"php strtr equivalent in java","body":"<p>Is there a function in Java which is equivalent to php's <code>strtr</code>?</p>\n\n<pre><code>string strtr ( string $str , string $from , string $to )\n</code></pre>\n\n<p>If given three arguments, <code>strtr</code> function returns a copy of string where all occurrences of each (single-byte) character in <code>$from</code> have been translated to the corresponding character in <code>$to</code>, i.e., every occurrence of <code>$from[$n]</code> has been replaced with <code>$to[$n]</code>, where <code>$n</code> is a valid offset in both arguments. </p>\n"},{"tags":["java","scala","apache-spark","serialization"],"comments":[{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":3,"creation_date":1668766626,"post_id":74487510,"comment_id":131491331,"body_markdown":"Hmm I&#39;m wondering what that `words` object is that you&#39;re doing `words.contains()` and `words.size` on. For each serialized task you will need to ship over that entire object. Could that be the object that is not serializable?","body":"Hmm I&#39;m wondering what that <code>words</code> object is that you&#39;re doing <code>words.contains()</code> and <code>words.size</code> on. For each serialized task you will need to ship over that entire object. Could that be the object that is not serializable?"},{"owner":{"account_id":10930114,"reputation":794,"user_id":8033562,"display_name":"Geoff Langenderfer"},"score":0,"creation_date":1668767788,"post_id":74487510,"comment_id":131491733,"body_markdown":"[I think you are right](https://stackoverflow.com/questions/32900862/map-can-not-be-serializable-in-scala). Looks like it&#39;s a known scala bug.","body":"<a href=\"https://stackoverflow.com/questions/32900862/map-can-not-be-serializable-in-scala\">I think you are right</a>. Looks like it&#39;s a known scala bug."},{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1668780590,"post_id":74487510,"comment_id":131495975,"body_markdown":"@GeoffLangenderfer It’s not actually a bug, the answer of the link you provided only mentions one part of the actual thing that is happening. That’s because doing operations such as mapValues on a Map object, returns a view over the map, which is not serializable. You can use .toMap or something on the view to make it a Map object again.","body":"@GeoffLangenderfer It’s not actually a bug, the answer of the link you provided only mentions one part of the actual thing that is happening. That’s because doing operations such as mapValues on a Map object, returns a view over the map, which is not serializable. You can use .toMap or something on the view to make it a Map object again."},{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":1,"creation_date":1668780653,"post_id":74487510,"comment_id":131495998,"body_markdown":"Also, if(words contains domain) true else false is redundant, words contains domain would be enough :)","body":"Also, if(words contains domain) true else false is redundant, words contains domain would be enough :)"}],"owner":{"account_id":10930114,"reputation":794,"user_id":8033562,"display_name":"Geoff Langenderfer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668817324,"creation_date":1668763855,"question_id":74487510,"body_markdown":"task not serializable gives us a Serialization stack. I&#39;m sure this will tell me what the issue is, but I don&#39;t know how to read this stack. Can anyone help?\r\n\r\n[here are the official spark docs for udfs](https://spark.apache.org/docs/latest/sql-ref-functions-udf-scalar.html)\r\n\r\nMy failing code:\r\n```\r\nobject Godaddy {\r\n  def main(args: Array[String]): Unit = {\r\n    val spark = SparkSession.builder()\r\n      .appName(&quot;Simple Application&quot;)\r\n      .config(&quot;spark.driver.extraJavaOptions&quot;, &quot;-Dsun.io.serialization.extendedDebugInfo=true&quot;)\r\n      .config(&quot;spark.executor.extraJavaOptions&quot;, &quot;-Dsun.io.serialization.extendedDebugInfo=true&quot;)\r\n      .getOrCreate()\r\n    ...\r\n    // I believe it&#39;s failing to serialize these udfs?\r\n    val oneWord = udf((domain: String) =&gt; {\r\n      if (words.contains(domain)) {\r\n        true\r\n      } else {\r\n        false\r\n      }\r\n    })\r\n    val twoWords = udf((domain: String) =&gt; {\r\n      for (i &lt;- 1 to words.size) {\r\n        val head = domain.slice(0,i)\r\n        val tail = domain.slice(i, domain.length)\r\n        if (words.contains(head) &amp;&amp; words.contains(tail)) {\r\n          return true\r\n        }\r\n      }\r\n      false\r\n    })\r\n    spark.udf.register(&quot;oneWord&quot;, oneWord)\r\n    spark.udf.register(&quot;twoWords&quot;, twoWords)\r\n    val oneWordCsv = onlyLetters\r\n      .filter(oneWord(col(&quot;Domain&quot;)))\r\n      .filter(col(&quot;tld&quot;) === &quot;com&quot;)\r\n      .filter(col(&quot;Backlinks&quot;).isNotNull)\r\n      .withColumn(&quot;Backlinks&quot;, col(&quot;Backlinks&quot;).cast(&quot;int&quot;))\r\n      .filter(col(&quot;Backlinks&quot;) &gt; 0)\r\n      .sort(col(&quot;Backlinks&quot;).desc)\r\n\r\n    val twoWordsCsv = onlyLetters\r\n      .filter(twoWords(col(&quot;Domain&quot;)))\r\n      .filter(col(&quot;tld&quot;) === &quot;com&quot;)\r\n      .filter(col(&quot;Backlinks&quot;).isNotNull)\r\n      .withColumn(&quot;Backlinks&quot;, col(&quot;Backlinks&quot;).cast(&quot;int&quot;))\r\n      .filter(col(&quot;Backlinks&quot;) &gt; 0)\r\n      .sort(col(&quot;Backlinks&quot;).desc)\r\n\r\n    oneWordCsv.coalesce(1)\r\n      .write.mode(SaveMode.Overwrite).json(&quot;oneWord.json&quot;)\r\n    twoWordsCsv.coalesce(1)\r\n      .write.mode(SaveMode.Overwrite).json(&quot;twoWords.json&quot;)\r\n\r\n\r\n    spark.stop()\r\n  }\r\n}\r\n\r\n```\r\n\r\nerror:\r\n\r\n```\r\n22/11/18 01:22:31 ERROR FileFormatWriter: Aborting job 9c85a949-c16a-4ce0-b3db-04045fc54701.\r\norg.apache.spark.SparkException: Task not serializable\r\n        ...\r\nCaused by: java.io.NotSerializableException: java.lang.Object\r\nSerialization stack:\r\n        - object not serializable (class: java.lang.Object, value: java.lang.Object@757b8c47)\r\n        - element of array (index: 1)\r\n        - array (class [Ljava.lang.Object;, size 2)\r\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class langenderfer.Godaddy$, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic langenderfer/Godaddy$.$anonfun$main$3$adapted:(Lscala/collection/immutable/Map;Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/String;)Ljava/lang/Object;, numCaptured=2])\r\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n        - object (class langenderfer.Godaddy$$$Lambda$3114/0x0000000801321040, langenderfer.Godaddy$$$Lambda$3114/0x0000000801321040@4a9d0c6f)\r\n        - element of array (index: 1)\r\n        - array (class [Ljava.lang.Object;, size 4)\r\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$f$2:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Lorg/apache/spark/sql/catalyst/expressions/Expression;Lscala/runtime/LazyRef;Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, instantiatedMethodType=(Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, numCaptured=4])\r\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3117/0x0000000801323840, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3117/0x0000000801323840@345f429)\r\n        - field (class: org.apache.spark.sql.catalyst.expressions.ScalaUDF, name: f, type: interface scala.Function1)\r\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF, UDF(split(input[1, string, false], \\., -1)[0]))\r\n        - element of array (index: 0)\r\n        - array (class [Ljava.lang.Object;, size 2)\r\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$catalystConverter$3:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Ljava/lang/Object;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/Object;)Ljava/lang/Object;, numCaptured=2])\r\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3119/0x0000000801325040, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3119/0x0000000801325040@2c9542eb)\r\n        - element of array (index: 1)\r\n        - array (class [Lscala.Function1;, size 2)\r\n        - element of array (index: 2)\r\n        - array (class [Ljava.lang.Object;, size 8)\r\n        - element of array (index: 1)\r\n        - array (class [Ljava.lang.Object;, size 3)\r\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\r\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n        - object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2225/0x0000000800fdf040, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2225/0x0000000800fdf040@661fe6c4)\r\n        at org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\r\n        at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\r\n        at org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\r\n        at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\r\n        ... 92 more\r\nException in thread &quot;main&quot; org.apache.spark.SparkException: Job aborted.\r\n        at org.apache.spark.sql.errors.QueryExecutionErrors$.jobAbortedError(QueryExecutionErrors.scala:496)\r\n        at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:251)\r\n        at org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:186)\r\n        at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:113)\r\n        at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:111)\r\n        at org.apache.spark.sql.execution.command.DataWritingCommandExec.executeCollect(commands.scala:125)\r\n        at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.$anonfun$applyOrElse$1(QueryExecution.scala:110)\r\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n        at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n        at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n        at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:110)\r\n        at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:106)\r\n        at org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$1(TreeNode.scala:481)\r\n        at org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:82)\r\n        at org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:481)\r\n        at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.org$apache$spark$sql$catalyst$plans$logical$AnalysisHelper$$super$transformDownWithPruning(LogicalPlan.scala:30)\r\n        at org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning(AnalysisHelper.scala:267)\r\n        at org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning$(AnalysisHelper.scala:263)\r\n        at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n        at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n        at org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:457)\r\n        at org.apache.spark.sql.execution.QueryExecution.eagerlyExecuteCommands(QueryExecution.scala:106)\r\n        at org.apache.spark.sql.execution.QueryExecution.commandExecuted$lzycompute(QueryExecution.scala:93)\r\n        at org.apache.spark.sql.execution.QueryExecution.commandExecuted(QueryExecution.scala:91)\r\n        at org.apache.spark.sql.execution.QueryExecution.assertCommandExecuted(QueryExecution.scala:128)\r\n        at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:848)\r\n        at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:382)\r\n        at org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:355)\r\n        at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:239)\r\n        at org.apache.spark.sql.DataFrameWriter.json(DataFrameWriter.scala:763)\r\n        at langenderfer.Godaddy$.main(Godaddy.scala:66)\r\n        at langenderfer.Godaddy.main(Godaddy.scala)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:955)\r\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1043)\r\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1052)\r\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\nCaused by: org.apache.spark.SparkException: Task not serializable\r\n        at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\r\n        at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\r\n        at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\r\n        at org.apache.spark.SparkContext.clean(SparkContext.scala:2477)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$1(RDD.scala:912)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n        at org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\r\n        at org.apache.spark.rdd.RDD.mapPartitionsWithIndex(RDD.scala:911)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenExec.doExecute(WholeStageCodegenExec.scala:753)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:184)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:222)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n        at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:219)\r\n        at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:180)\r\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.inputRDD$lzycompute(ShuffleExchangeExec.scala:135)\r\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.inputRDD(ShuffleExchangeExec.scala:135)\r\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.mapOutputStatisticsFuture$lzycompute(ShuffleExchangeExec.scala:140)\r\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.mapOutputStatisticsFuture(ShuffleExchangeExec.scala:139)\r\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeLike.$anonfun$submitShuffleJob$1(ShuffleExchangeExec.scala:68)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:222)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n        at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:219)\r\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeLike.submitShuffleJob(ShuffleExchangeExec.scala:68)\r\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeLike.submitShuffleJob$(ShuffleExchangeExec.scala:67)\r\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.submitShuffleJob(ShuffleExchangeExec.scala:115)\r\n        at org.apache.spark.sql.execution.adaptive.ShuffleQueryStageExec.shuffleFuture$lzycompute(QueryStageExec.scala:170)\r\n        at org.apache.spark.sql.execution.adaptive.ShuffleQueryStageExec.shuffleFuture(QueryStageExec.scala:170)\r\n        at org.apache.spark.sql.execution.adaptive.ShuffleQueryStageExec.doMaterialize(QueryStageExec.scala:172)\r\n        at org.apache.spark.sql.execution.adaptive.QueryStageExec.materialize(QueryStageExec.scala:82)\r\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.$anonfun$getFinalPhysicalPlan$5(AdaptiveSparkPlanExec.scala:256)\r\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.$anonfun$getFinalPhysicalPlan$5$adapted(AdaptiveSparkPlanExec.scala:254)\r\n        at scala.collection.Iterator.foreach(Iterator.scala:943)\r\n        at scala.collection.Iterator.foreach$(Iterator.scala:943)\r\n        at scala.collection.AbstractIterator.foreach(Iterator.scala:1431)\r\n        at scala.collection.IterableLike.foreach(IterableLike.scala:74)\r\n        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)\r\n        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)\r\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.$anonfun$getFinalPhysicalPlan$1(AdaptiveSparkPlanExec.scala:254)\r\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.getFinalPhysicalPlan(AdaptiveSparkPlanExec.scala:226)\r\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.withFinalPlanUpdate(AdaptiveSparkPlanExec.scala:365)\r\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.doExecute(AdaptiveSparkPlanExec.scala:350)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:184)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:222)\r\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n        at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:219)\r\n        at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:180)\r\n        at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:186)\r\n        ... 44 more\r\nCaused by: java.io.NotSerializableException: java.lang.Object\r\nSerialization stack:\r\n        - object not serializable (class: java.lang.Object, value: java.lang.Object@757b8c47)\r\n        - element of array (index: 1)\r\n        - array (class [Ljava.lang.Object;, size 2)\r\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class langenderfer.Godaddy$, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic langenderfer/Godaddy$.$anonfun$main$3$adapted:(Lscala/collection/immutable/Map;Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/String;)Ljava/lang/Object;, numCaptured=2])\r\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n        - object (class langenderfer.Godaddy$$$Lambda$3114/0x0000000801321040, langenderfer.Godaddy$$$Lambda$3114/0x0000000801321040@4a9d0c6f)\r\n        - element of array (index: 1)\r\n        - array (class [Ljava.lang.Object;, size 4)\r\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$f$2:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Lorg/apache/spark/sql/catalyst/expressions/Expression;Lscala/runtime/LazyRef;Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, instantiatedMethodType=(Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, numCaptured=4])\r\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3117/0x0000000801323840, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3117/0x0000000801323840@345f429)\r\n        - field (class: org.apache.spark.sql.catalyst.expressions.ScalaUDF, name: f, type: interface scala.Function1)\r\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF, UDF(split(input[1, string, false], \\., -1)[0]))\r\n        - element of array (index: 0)\r\n        - array (class [Ljava.lang.Object;, size 2)\r\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$catalystConverter$3:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Ljava/lang/Object;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/Object;)Ljava/lang/Object;, numCaptured=2])\r\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3119/0x0000000801325040, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3119/0x0000000801325040@2c9542eb)\r\n        - element of array (index: 1)\r\n        - array (class [Lscala.Function1;, size 2)\r\n        - element of array (index: 2)\r\n        - array (class [Ljava.lang.Object;, size 8)\r\n        - element of array (index: 1)\r\n        - array (class [Ljava.lang.Object;, size 3)\r\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\r\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n        - object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2225/0x0000000800fdf040, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2225/0x0000000800fdf040@661fe6c4)\r\n        at org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\r\n        at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\r\n        at org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\r\n        at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\r\n        ... 92 more\r\n```\r\n\r\nhere&#39;s some more text to get around the silly &quot;not enough details&quot; error from SO.\r\n\r\n[github pr that added serialization debugger](https://github.com/apache/spark/pull/4098/files)\r\n\r\n[useful stack trace info](https://stackoverflow.com/questions/39150003/user-defined-variables-in-spark-org-apache-spark-sparkexception-task-not-seri)","title":"SparkException: Task not serializable..how to read serialization stack","body":"<p>task not serializable gives us a Serialization stack. I'm sure this will tell me what the issue is, but I don't know how to read this stack. Can anyone help?</p>\n<p><a href=\"https://spark.apache.org/docs/latest/sql-ref-functions-udf-scalar.html\" rel=\"nofollow noreferrer\">here are the official spark docs for udfs</a></p>\n<p>My failing code:</p>\n<pre><code>object Godaddy {\n  def main(args: Array[String]): Unit = {\n    val spark = SparkSession.builder()\n      .appName(&quot;Simple Application&quot;)\n      .config(&quot;spark.driver.extraJavaOptions&quot;, &quot;-Dsun.io.serialization.extendedDebugInfo=true&quot;)\n      .config(&quot;spark.executor.extraJavaOptions&quot;, &quot;-Dsun.io.serialization.extendedDebugInfo=true&quot;)\n      .getOrCreate()\n    ...\n    // I believe it's failing to serialize these udfs?\n    val oneWord = udf((domain: String) =&gt; {\n      if (words.contains(domain)) {\n        true\n      } else {\n        false\n      }\n    })\n    val twoWords = udf((domain: String) =&gt; {\n      for (i &lt;- 1 to words.size) {\n        val head = domain.slice(0,i)\n        val tail = domain.slice(i, domain.length)\n        if (words.contains(head) &amp;&amp; words.contains(tail)) {\n          return true\n        }\n      }\n      false\n    })\n    spark.udf.register(&quot;oneWord&quot;, oneWord)\n    spark.udf.register(&quot;twoWords&quot;, twoWords)\n    val oneWordCsv = onlyLetters\n      .filter(oneWord(col(&quot;Domain&quot;)))\n      .filter(col(&quot;tld&quot;) === &quot;com&quot;)\n      .filter(col(&quot;Backlinks&quot;).isNotNull)\n      .withColumn(&quot;Backlinks&quot;, col(&quot;Backlinks&quot;).cast(&quot;int&quot;))\n      .filter(col(&quot;Backlinks&quot;) &gt; 0)\n      .sort(col(&quot;Backlinks&quot;).desc)\n\n    val twoWordsCsv = onlyLetters\n      .filter(twoWords(col(&quot;Domain&quot;)))\n      .filter(col(&quot;tld&quot;) === &quot;com&quot;)\n      .filter(col(&quot;Backlinks&quot;).isNotNull)\n      .withColumn(&quot;Backlinks&quot;, col(&quot;Backlinks&quot;).cast(&quot;int&quot;))\n      .filter(col(&quot;Backlinks&quot;) &gt; 0)\n      .sort(col(&quot;Backlinks&quot;).desc)\n\n    oneWordCsv.coalesce(1)\n      .write.mode(SaveMode.Overwrite).json(&quot;oneWord.json&quot;)\n    twoWordsCsv.coalesce(1)\n      .write.mode(SaveMode.Overwrite).json(&quot;twoWords.json&quot;)\n\n\n    spark.stop()\n  }\n}\n\n</code></pre>\n<p>error:</p>\n<pre><code>22/11/18 01:22:31 ERROR FileFormatWriter: Aborting job 9c85a949-c16a-4ce0-b3db-04045fc54701.\norg.apache.spark.SparkException: Task not serializable\n        ...\nCaused by: java.io.NotSerializableException: java.lang.Object\nSerialization stack:\n        - object not serializable (class: java.lang.Object, value: java.lang.Object@757b8c47)\n        - element of array (index: 1)\n        - array (class [Ljava.lang.Object;, size 2)\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class langenderfer.Godaddy$, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic langenderfer/Godaddy$.$anonfun$main$3$adapted:(Lscala/collection/immutable/Map;Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/String;)Ljava/lang/Object;, numCaptured=2])\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\n        - object (class langenderfer.Godaddy$$$Lambda$3114/0x0000000801321040, langenderfer.Godaddy$$$Lambda$3114/0x0000000801321040@4a9d0c6f)\n        - element of array (index: 1)\n        - array (class [Ljava.lang.Object;, size 4)\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$f$2:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Lorg/apache/spark/sql/catalyst/expressions/Expression;Lscala/runtime/LazyRef;Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, instantiatedMethodType=(Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, numCaptured=4])\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3117/0x0000000801323840, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3117/0x0000000801323840@345f429)\n        - field (class: org.apache.spark.sql.catalyst.expressions.ScalaUDF, name: f, type: interface scala.Function1)\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF, UDF(split(input[1, string, false], \\., -1)[0]))\n        - element of array (index: 0)\n        - array (class [Ljava.lang.Object;, size 2)\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$catalystConverter$3:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Ljava/lang/Object;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/Object;)Ljava/lang/Object;, numCaptured=2])\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3119/0x0000000801325040, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3119/0x0000000801325040@2c9542eb)\n        - element of array (index: 1)\n        - array (class [Lscala.Function1;, size 2)\n        - element of array (index: 2)\n        - array (class [Ljava.lang.Object;, size 8)\n        - element of array (index: 1)\n        - array (class [Ljava.lang.Object;, size 3)\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\n        - object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2225/0x0000000800fdf040, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2225/0x0000000800fdf040@661fe6c4)\n        at org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\n        at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\n        at org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\n        at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\n        ... 92 more\nException in thread &quot;main&quot; org.apache.spark.SparkException: Job aborted.\n        at org.apache.spark.sql.errors.QueryExecutionErrors$.jobAbortedError(QueryExecutionErrors.scala:496)\n        at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:251)\n        at org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:186)\n        at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:113)\n        at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:111)\n        at org.apache.spark.sql.execution.command.DataWritingCommandExec.executeCollect(commands.scala:125)\n        at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.$anonfun$applyOrElse$1(QueryExecution.scala:110)\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n        at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n        at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n        at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:110)\n        at org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:106)\n        at org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$1(TreeNode.scala:481)\n        at org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:82)\n        at org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:481)\n        at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.org$apache$spark$sql$catalyst$plans$logical$AnalysisHelper$$super$transformDownWithPruning(LogicalPlan.scala:30)\n        at org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning(AnalysisHelper.scala:267)\n        at org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning$(AnalysisHelper.scala:263)\n        at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\n        at org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\n        at org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:457)\n        at org.apache.spark.sql.execution.QueryExecution.eagerlyExecuteCommands(QueryExecution.scala:106)\n        at org.apache.spark.sql.execution.QueryExecution.commandExecuted$lzycompute(QueryExecution.scala:93)\n        at org.apache.spark.sql.execution.QueryExecution.commandExecuted(QueryExecution.scala:91)\n        at org.apache.spark.sql.execution.QueryExecution.assertCommandExecuted(QueryExecution.scala:128)\n        at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:848)\n        at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:382)\n        at org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:355)\n        at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:239)\n        at org.apache.spark.sql.DataFrameWriter.json(DataFrameWriter.scala:763)\n        at langenderfer.Godaddy$.main(Godaddy.scala:66)\n        at langenderfer.Godaddy.main(Godaddy.scala)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:955)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1043)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1052)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: org.apache.spark.SparkException: Task not serializable\n        at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\n        at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\n        at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\n        at org.apache.spark.SparkContext.clean(SparkContext.scala:2477)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$1(RDD.scala:912)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n        at org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\n        at org.apache.spark.rdd.RDD.mapPartitionsWithIndex(RDD.scala:911)\n        at org.apache.spark.sql.execution.WholeStageCodegenExec.doExecute(WholeStageCodegenExec.scala:753)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:184)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:222)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n        at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:219)\n        at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:180)\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.inputRDD$lzycompute(ShuffleExchangeExec.scala:135)\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.inputRDD(ShuffleExchangeExec.scala:135)\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.mapOutputStatisticsFuture$lzycompute(ShuffleExchangeExec.scala:140)\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.mapOutputStatisticsFuture(ShuffleExchangeExec.scala:139)\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeLike.$anonfun$submitShuffleJob$1(ShuffleExchangeExec.scala:68)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:222)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n        at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:219)\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeLike.submitShuffleJob(ShuffleExchangeExec.scala:68)\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeLike.submitShuffleJob$(ShuffleExchangeExec.scala:67)\n        at org.apache.spark.sql.execution.exchange.ShuffleExchangeExec.submitShuffleJob(ShuffleExchangeExec.scala:115)\n        at org.apache.spark.sql.execution.adaptive.ShuffleQueryStageExec.shuffleFuture$lzycompute(QueryStageExec.scala:170)\n        at org.apache.spark.sql.execution.adaptive.ShuffleQueryStageExec.shuffleFuture(QueryStageExec.scala:170)\n        at org.apache.spark.sql.execution.adaptive.ShuffleQueryStageExec.doMaterialize(QueryStageExec.scala:172)\n        at org.apache.spark.sql.execution.adaptive.QueryStageExec.materialize(QueryStageExec.scala:82)\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.$anonfun$getFinalPhysicalPlan$5(AdaptiveSparkPlanExec.scala:256)\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.$anonfun$getFinalPhysicalPlan$5$adapted(AdaptiveSparkPlanExec.scala:254)\n        at scala.collection.Iterator.foreach(Iterator.scala:943)\n        at scala.collection.Iterator.foreach$(Iterator.scala:943)\n        at scala.collection.AbstractIterator.foreach(Iterator.scala:1431)\n        at scala.collection.IterableLike.foreach(IterableLike.scala:74)\n        at scala.collection.IterableLike.foreach$(IterableLike.scala:73)\n        at scala.collection.AbstractIterable.foreach(Iterable.scala:56)\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.$anonfun$getFinalPhysicalPlan$1(AdaptiveSparkPlanExec.scala:254)\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.getFinalPhysicalPlan(AdaptiveSparkPlanExec.scala:226)\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.withFinalPlanUpdate(AdaptiveSparkPlanExec.scala:365)\n        at org.apache.spark.sql.execution.adaptive.AdaptiveSparkPlanExec.doExecute(AdaptiveSparkPlanExec.scala:350)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:184)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:222)\n        at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n        at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:219)\n        at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:180)\n        at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:186)\n        ... 44 more\nCaused by: java.io.NotSerializableException: java.lang.Object\nSerialization stack:\n        - object not serializable (class: java.lang.Object, value: java.lang.Object@757b8c47)\n        - element of array (index: 1)\n        - array (class [Ljava.lang.Object;, size 2)\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class langenderfer.Godaddy$, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic langenderfer/Godaddy$.$anonfun$main$3$adapted:(Lscala/collection/immutable/Map;Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/String;)Ljava/lang/Object;, numCaptured=2])\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\n        - object (class langenderfer.Godaddy$$$Lambda$3114/0x0000000801321040, langenderfer.Godaddy$$$Lambda$3114/0x0000000801321040@4a9d0c6f)\n        - element of array (index: 1)\n        - array (class [Ljava.lang.Object;, size 4)\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$f$2:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Lorg/apache/spark/sql/catalyst/expressions/Expression;Lscala/runtime/LazyRef;Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, instantiatedMethodType=(Lorg/apache/spark/sql/catalyst/InternalRow;)Ljava/lang/Object;, numCaptured=4])\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3117/0x0000000801323840, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3117/0x0000000801323840@345f429)\n        - field (class: org.apache.spark.sql.catalyst.expressions.ScalaUDF, name: f, type: interface scala.Function1)\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF, UDF(split(input[1, string, false], \\., -1)[0]))\n        - element of array (index: 0)\n        - array (class [Ljava.lang.Object;, size 2)\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.catalyst.expressions.ScalaUDF, functionalInterfaceMethod=scala/Function1.apply:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/catalyst/expressions/ScalaUDF.$anonfun$catalystConverter$3:(Lorg/apache/spark/sql/catalyst/expressions/ScalaUDF;Lscala/Function1;Ljava/lang/Object;)Ljava/lang/Object;, instantiatedMethodType=(Ljava/lang/Object;)Ljava/lang/Object;, numCaptured=2])\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\n        - object (class org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3119/0x0000000801325040, org.apache.spark.sql.catalyst.expressions.ScalaUDF$$Lambda$3119/0x0000000801325040@2c9542eb)\n        - element of array (index: 1)\n        - array (class [Lscala.Function1;, size 2)\n        - element of array (index: 2)\n        - array (class [Ljava.lang.Object;, size 8)\n        - element of array (index: 1)\n        - array (class [Ljava.lang.Object;, size 3)\n        - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n        - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\n        - writeReplace data (class: java.lang.invoke.SerializedLambda)\n        - object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2225/0x0000000800fdf040, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$2225/0x0000000800fdf040@661fe6c4)\n        at org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\n        at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\n        at org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\n        at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\n        ... 92 more\n</code></pre>\n<p>here's some more text to get around the silly &quot;not enough details&quot; error from SO.</p>\n<p><a href=\"https://github.com/apache/spark/pull/4098/files\" rel=\"nofollow noreferrer\">github pr that added serialization debugger</a></p>\n<p><a href=\"https://stackoverflow.com/questions/39150003/user-defined-variables-in-spark-org-apache-spark-sparkexception-task-not-seri\">useful stack trace info</a></p>\n"},{"tags":["java","mysql","sql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668802476,"post_id":74494819,"comment_id":131502981,"body_markdown":"Asking for the &quot;best way&quot; is almost always opinion-based. --- The question might be better suited for [dba](https://dba.stackexchange.com/). --- Assuming that this table is used to get all users that upvoted a comment or all comments a user upvoted, the schema looks good to me (classic join table).","body":"Asking for the &quot;best way&quot; is almost always opinion-based. --- The question might be better suited for <a href=\"https://dba.stackexchange.com/\">dba</a>. --- Assuming that this table is used to get all users that upvoted a comment or all comments a user upvoted, the schema looks good to me (classic join table)."},{"owner":{"account_id":15297769,"reputation":3,"user_id":11037241,"display_name":"Chen Cohen"},"score":0,"creation_date":1668812804,"post_id":74494819,"comment_id":131505202,"body_markdown":"Yes, you are right, there is no such thing &quot;the best way&quot; :)\nfor each comment, we can see the button &quot;Helpful&quot; and users can like this comment, so the BE is supposed to send all the likes about this comment, and there are more comments below, so it will send also all the likes for them.","body":"Yes, you are right, there is no such thing &quot;the best way&quot; :) for each comment, we can see the button &quot;Helpful&quot; and users can like this comment, so the BE is supposed to send all the likes about this comment, and there are more comments below, so it will send also all the likes for them."}],"answers":[{"comments":[{"owner":{"account_id":15297769,"reputation":3,"user_id":11037241,"display_name":"Chen Cohen"},"score":0,"creation_date":1668845944,"post_id":74496565,"comment_id":131508977,"body_markdown":"OK, so this is from DB perspective.. \nBUT, what about spring boot perspective?\nI want to make a model to make my life easier, so not just binding a table, got my point?","body":"OK, so this is from DB perspective..  BUT, what about spring boot perspective? I want to make a model to make my life easier, so not just binding a table, got my point?"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1668886608,"post_id":74496565,"comment_id":131517051,"body_markdown":"@ChenCohen - When the dataset becomes big, you must learn not just the framework (Spring) or the database (MySQL), but _both_.  Frameworks are a crutch to get you started; they rarely scale to huge datasets.","body":"@ChenCohen - When the dataset becomes big, you must learn not just the framework (Spring) or the database (MySQL), but <i>both</i>.  Frameworks are a crutch to get you started; they rarely scale to huge datasets."}],"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668816968,"creation_date":1668816968,"answer_id":74496565,"question_id":74494819,"body_markdown":"Case 1:  Many users upvoting many comments -- a classic &quot;many-to-many&quot; relationship.  _There is one best way_\r\n\r\n    -- no id\r\n    PRIMARY KEY(comment_id, user_who_upvoted)\r\n    INDEX(user_who_upvoted, comment_id)\r\n\r\nOne index makes one direction efficient; the other takes care of the other direction.\r\n\r\nCase 2:  (This is where the &quot;user_id&quot; wrote the &quot;comment&quot;.)\r\n\r\nSince you have a &quot;natural&quot; `PRIMARY KEY(user_id, comment_id)`, there is no need to add an artificial ID.\r\n\r\nAlthough this looks like a &quot;many-to-many&quot; mapping table, I don&#39;t think it really is.  I expect that one &#39;user&#39; can have many &#39;comments&#39;.  But can one &#39;comment&#39; have many &#39;users&#39;?\r\n\r\nIf not, then it is really a &quot;1-to-many&quot; relationship.  Such a relationship should _not_ be implemented with an extra table.  Instead\r\n\r\n* `users` has no mention of the comment\r\n* `comments` -- each row has the `user_id` that it relates to.\r\n* `comments` probably needs `PRIMARY KEY(comment_id), INDEX(user_id)`.\r\n* `comment_id is `AUTO_INCREMENT` and is probably used only for providing a unique key for that table.  (It is unlikely to have a &#39;natural&#39; PK.)\r\n* If you are frequently fetching all the comments for one user, then this is slightly better than the indexing suggestion above:  \r\n\r\n      PRIMARY KEY(user_id, comment_id),  -- for efficient access\r\n      INDEX(comment_id)  -- to keep auto_increment happy","title":"Building a table of &quot;Likes for feedbacks&quot;, SQL","body":"<p>Case 1:  Many users upvoting many comments -- a classic &quot;many-to-many&quot; relationship.  <em>There is one best way</em></p>\n<pre><code>-- no id\nPRIMARY KEY(comment_id, user_who_upvoted)\nINDEX(user_who_upvoted, comment_id)\n</code></pre>\n<p>One index makes one direction efficient; the other takes care of the other direction.</p>\n<p>Case 2:  (This is where the &quot;user_id&quot; wrote the &quot;comment&quot;.)</p>\n<p>Since you have a &quot;natural&quot; <code>PRIMARY KEY(user_id, comment_id)</code>, there is no need to add an artificial ID.</p>\n<p>Although this looks like a &quot;many-to-many&quot; mapping table, I don't think it really is.  I expect that one 'user' can have many 'comments'.  But can one 'comment' have many 'users'?</p>\n<p>If not, then it is really a &quot;1-to-many&quot; relationship.  Such a relationship should <em>not</em> be implemented with an extra table.  Instead</p>\n<ul>\n<li><p><code>users</code> has no mention of the comment</p>\n</li>\n<li><p><code>comments</code> -- each row has the <code>user_id</code> that it relates to.</p>\n</li>\n<li><p><code>comments</code> probably needs <code>PRIMARY KEY(comment_id), INDEX(user_id)</code>.</p>\n</li>\n<li><p><code>comment_id is </code>AUTO_INCREMENT` and is probably used only for providing a unique key for that table.  (It is unlikely to have a 'natural' PK.)</p>\n</li>\n<li><p>If you are frequently fetching all the comments for one user, then this is slightly better than the indexing suggestion above:</p>\n<pre><code>PRIMARY KEY(user_id, comment_id),  -- for efficient access\nINDEX(comment_id)  -- to keep auto_increment happy\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":15297769,"reputation":3,"user_id":11037241,"display_name":"Chen Cohen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74496565,"answer_count":1,"score":0,"last_activity_date":1668816968,"creation_date":1668801965,"question_id":74494819,"body_markdown":"Im building a new table related to my feedback feature.\r\nMy backend build with Java, spring boot, Im using hibernate. The question is if to insert column of ID or WITHOUT?\r\nBecause I have an ID and hibernate knows what he is looking..\r\n\r\n```\r\nCREATE TABLE feedback_helpful (\r\nuser_id BIGINT NOT NULL,\r\ncomment_id BIGINT NOT NULL,\r\ntimestamp TIMESTAMP DEFAULT NOW(),\r\nFOREIGN KEY(user_id) REFERENCES users(id),\r\nFOREIGN KEY(comment_id) REFERENCES feedback_comment_public(id),\r\nPRIMARY KEY(user_id, comment_id)\r\n);\r\n```\r\n\r\nThe question is if will it afect on the speed? The binding models from the DB will be faster? What is the best way to build it?\r\n\r\n\r\nThanks","title":"Building a table of &quot;Likes for feedbacks&quot;, SQL","body":"<p>Im building a new table related to my feedback feature.\nMy backend build with Java, spring boot, Im using hibernate. The question is if to insert column of ID or WITHOUT?\nBecause I have an ID and hibernate knows what he is looking..</p>\n<pre><code>CREATE TABLE feedback_helpful (\nuser_id BIGINT NOT NULL,\ncomment_id BIGINT NOT NULL,\ntimestamp TIMESTAMP DEFAULT NOW(),\nFOREIGN KEY(user_id) REFERENCES users(id),\nFOREIGN KEY(comment_id) REFERENCES feedback_comment_public(id),\nPRIMARY KEY(user_id, comment_id)\n);\n</code></pre>\n<p>The question is if will it afect on the speed? The binding models from the DB will be faster? What is the best way to build it?</p>\n<p>Thanks</p>\n"},{"tags":["java","mysql","hibernate","jpa","playframework"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1668770441,"post_id":74488837,"comment_id":131492609,"body_markdown":"Usually this happens when JPA starts to eagerly load data and suddenly there are 10s on 100s of statements going to the DB. This becomes more noticeable if the DB and app are not collocated. If you run the app locally and configure hibernate to show the SQL statements, do you see a lot of queries being executed? And I assume you are using a connection pool, it would be good to know its configuration.","body":"Usually this happens when JPA starts to eagerly load data and suddenly there are 10s on 100s of statements going to the DB. This becomes more noticeable if the DB and app are not collocated. If you run the app locally and configure hibernate to show the SQL statements, do you see a lot of queries being executed? And I assume you are using a connection pool, it would be good to know its configuration."},{"owner":{"account_id":9371512,"reputation":1243,"user_id":8958651,"accept_rate":10,"display_name":"Jonio"},"score":0,"creation_date":1668779555,"post_id":74488837,"comment_id":131495586,"body_markdown":"The connection pool is the default managed by the applications. I do not see a lot of query executed at startup... This latency occurs for all calls, whenever a new entity manager is created, for this reasong I do not thinks that is a eager/lazy loading data...","body":"The connection pool is the default managed by the applications. I do not see a lot of query executed at startup... This latency occurs for all calls, whenever a new entity manager is created, for this reasong I do not thinks that is a eager/lazy loading data..."}],"answers":[{"comments":[{"owner":{"account_id":9371512,"reputation":1243,"user_id":8958651,"accept_rate":10,"display_name":"Jonio"},"score":0,"creation_date":1669212150,"post_id":74496487,"comment_id":131593163,"body_markdown":"Thanks to answer. After hours of debugging I figure out better the connection beahviour I understand that is too slowly the creation of database connections, and also obtaing a connections from the connections pool. So Is there  a way to improve this performance?","body":"Thanks to answer. After hours of debugging I figure out better the connection beahviour I understand that is too slowly the creation of database connections, and also obtaing a connections from the connections pool. So Is there  a way to improve this performance?"}],"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668816195,"creation_date":1668816195,"answer_id":74496487,"question_id":74488837,"body_markdown":"How long does `SELECT 1` take?  That gives you a good clue of the _new_ overhead for _every_ SQL statement because of reaching into &quot;another country&quot;.\r\n\r\nIf it turns out that there are &quot;too many&quot; queries, consider wrapping a set of them in a Stored Procedure.  Then have your app `CALL` the SP -- this will be one roundtrip, not many.","title":"Slow connection between java jpa application and a remote Mysql database?","body":"<p>How long does <code>SELECT 1</code> take?  That gives you a good clue of the <em>new</em> overhead for <em>every</em> SQL statement because of reaching into &quot;another country&quot;.</p>\n<p>If it turns out that there are &quot;too many&quot; queries, consider wrapping a set of them in a Stored Procedure.  Then have your app <code>CALL</code> the SP -- this will be one roundtrip, not many.</p>\n"}],"owner":{"account_id":9371512,"reputation":1243,"user_id":8958651,"accept_rate":10,"display_name":"Jonio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668816195,"creation_date":1668770112,"question_id":74488837,"body_markdown":"I have a strange situation with my java play framework (2.3) application. All works fine If I have deployed my applications close (geographically) my database mysql. The request, with connections to database works fine and fast. But, last day, I moved the database remotely, in another country. The application go on  fine, but, each time I create a JPA Entity Manager (and I think the application create a new connections to remote database)  the connections is very very slowly. And the result is that all request are extremely slow.\r\n\r\nAccording your experience there is a way to optimize this situation via application?\r\n\r\nBelow my controller java code:\r\n\r\n    @Transactional\r\n    public Result testperson() {\r\n        Person person= JPAEntityManager.find(Person .class, &quot;XXXXXX&quot;);\r\n        person.setAddress(&quot;XXXXXXX&quot;);\r\n        JPA.em().persist(person);\r\n        return ok(&quot;&quot;);\r\n    }\r\n\r\n\r\nThe @Transactional annotation intercept a play framework jpa implementation for the connections:\r\n\r\n    public static &lt;T&gt; F.Promise&lt;T&gt; withTransactionAsync(String name, boolean readOnly, play.libs.F.Function0&lt;F.Promise&lt;T&gt;&gt; block) throws Throwable {\r\n            EntityManager em = null;\r\n            EntityTransaction tx = null;\r\n            try {\r\n    \r\n                em = JPA.em(name);\r\n                JPA.bindForCurrentThread(em);\r\n    \r\n                if(!readOnly) {\r\n                    tx = em.getTransaction();\r\n                    tx.begin();\r\n                }\r\n    \r\n                F.Promise&lt;T&gt; result = block.apply();\r\n    \r\n                final EntityManager fem = em;\r\n                final EntityTransaction ftx = tx;\r\n    \r\n                F.Promise&lt;T&gt; committedResult = result.map(new F.Function&lt;T, T&gt;() {\r\n                    @Override\r\n                    public T apply(T t) throws Throwable {\r\n                        try {\r\n                            if(ftx != null) {\r\n                                if(ftx.getRollbackOnly()) {\r\n                                    ftx.rollback();\r\n                                } else {\r\n                                    ftx.commit();\r\n                                }\r\n                            }\r\n                        } finally {\r\n                            fem.close();\r\n                        }\r\n                        return t;\r\n                    }\r\n                });\r\n    \r\n                committedResult.onFailure(new F.Callback&lt;Throwable&gt;() {\r\n                    @Override\r\n                    public void invoke(Throwable t) {\r\n                        if (ftx != null) {\r\n                            try { if (ftx.isActive()) ftx.rollback(); } catch(Throwable e) {}\r\n                        }\r\n                        fem.close();\r\n                    }\r\n                });\r\n    \r\n                return committedResult;\r\n    \r\n            } catch(Throwable t) {\r\n                if(tx != null) {\r\n                    try { tx.rollback(); } catch(Throwable e) {}\r\n                }\r\n                if(em != null) {\r\n                    em.close();\r\n                }\r\n                throw t;\r\n            } finally {\r\n                JPA.bindForCurrentThread(null);\r\n            }\r\n        }\r\n\r\nThe JPA.em() create a new EntityManager...\r\n\r\n\r\nAll connections details are default for the play framework: https://www.playframework.com/documentation/2.3.x/SettingsJDBC\r\n\r\nMaybe Is there a problem with MySQl database during remote connections?\r\nCan there be some settings to set on the database side to improve a remote connection?\r\n\r\nThanks in advance!\r\n\r\n\r\n\r\n","title":"Slow connection between java jpa application and a remote Mysql database?","body":"<p>I have a strange situation with my java play framework (2.3) application. All works fine If I have deployed my applications close (geographically) my database mysql. The request, with connections to database works fine and fast. But, last day, I moved the database remotely, in another country. The application go on  fine, but, each time I create a JPA Entity Manager (and I think the application create a new connections to remote database)  the connections is very very slowly. And the result is that all request are extremely slow.</p>\n<p>According your experience there is a way to optimize this situation via application?</p>\n<p>Below my controller java code:</p>\n<pre><code>@Transactional\npublic Result testperson() {\n    Person person= JPAEntityManager.find(Person .class, &quot;XXXXXX&quot;);\n    person.setAddress(&quot;XXXXXXX&quot;);\n    JPA.em().persist(person);\n    return ok(&quot;&quot;);\n}\n</code></pre>\n<p>The @Transactional annotation intercept a play framework jpa implementation for the connections:</p>\n<pre><code>public static &lt;T&gt; F.Promise&lt;T&gt; withTransactionAsync(String name, boolean readOnly, play.libs.F.Function0&lt;F.Promise&lt;T&gt;&gt; block) throws Throwable {\n        EntityManager em = null;\n        EntityTransaction tx = null;\n        try {\n\n            em = JPA.em(name);\n            JPA.bindForCurrentThread(em);\n\n            if(!readOnly) {\n                tx = em.getTransaction();\n                tx.begin();\n            }\n\n            F.Promise&lt;T&gt; result = block.apply();\n\n            final EntityManager fem = em;\n            final EntityTransaction ftx = tx;\n\n            F.Promise&lt;T&gt; committedResult = result.map(new F.Function&lt;T, T&gt;() {\n                @Override\n                public T apply(T t) throws Throwable {\n                    try {\n                        if(ftx != null) {\n                            if(ftx.getRollbackOnly()) {\n                                ftx.rollback();\n                            } else {\n                                ftx.commit();\n                            }\n                        }\n                    } finally {\n                        fem.close();\n                    }\n                    return t;\n                }\n            });\n\n            committedResult.onFailure(new F.Callback&lt;Throwable&gt;() {\n                @Override\n                public void invoke(Throwable t) {\n                    if (ftx != null) {\n                        try { if (ftx.isActive()) ftx.rollback(); } catch(Throwable e) {}\n                    }\n                    fem.close();\n                }\n            });\n\n            return committedResult;\n\n        } catch(Throwable t) {\n            if(tx != null) {\n                try { tx.rollback(); } catch(Throwable e) {}\n            }\n            if(em != null) {\n                em.close();\n            }\n            throw t;\n        } finally {\n            JPA.bindForCurrentThread(null);\n        }\n    }\n</code></pre>\n<p>The JPA.em() create a new EntityManager...</p>\n<p>All connections details are default for the play framework: <a href=\"https://www.playframework.com/documentation/2.3.x/SettingsJDBC\" rel=\"nofollow noreferrer\">https://www.playframework.com/documentation/2.3.x/SettingsJDBC</a></p>\n<p>Maybe Is there a problem with MySQl database during remote connections?\nCan there be some settings to set on the database side to improve a remote connection?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","json","jaxb","moxy"],"answers":[{"tags":[],"owner":{"account_id":282482,"reputation":1196,"user_id":579400,"accept_rate":50,"display_name":"Rick Barkhouse"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668815688,"creation_date":1342209466,"answer_id":11477503,"question_id":11467530,"body_markdown":"EclipseLink actually expects the &quot;$&quot; separator when specifying inner classes in OXM.  I reproduced your issue, and fixed it by changing this in your oxm file.\r\n\r\n    &lt;java-type name=&quot;Medium$TrackList&quot;&gt;\r\n      &lt;java-attributes&gt;\r\n        &lt;xml-element java-attribute=&quot;artistList&quot; xml-path=&quot;.&quot;/&gt;\r\n      &lt;/java-attributes&gt;\r\n    &lt;/java-type&gt;\r\n\r\n","title":"How do you get MOXy oxml mapping file to recognise static classes","body":"<p>EclipseLink actually expects the &quot;$&quot; separator when specifying inner classes in OXM.  I reproduced your issue, and fixed it by changing this in your oxm file.</p>\n<pre><code>&lt;java-type name=&quot;Medium$TrackList&quot;&gt;\n  &lt;java-attributes&gt;\n    &lt;xml-element java-attribute=&quot;artistList&quot; xml-path=&quot;.&quot;/&gt;\n  &lt;/java-attributes&gt;\n&lt;/java-type&gt;\n</code></pre>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":11477503,"answer_count":1,"score":4,"last_activity_date":1668815688,"creation_date":1342170936,"question_id":11467530,"body_markdown":"Using MOXy I can  flatten parts of my object model in my json output\r\n\r\ni.e \r\n\r\n    &lt;java-type name=&quot;Medium&quot;&gt;\r\n      &lt;java-attributes&gt;\r\n        &lt;xml-element java-attribute=&quot;trackList&quot; xml-path=&quot;.&quot;/&gt;\r\n      &lt;/java-attributes&gt;\r\n    &lt;/java-type&gt;\r\n            \r\nbut when I want to fold in a class that is a child of a static class as follows\r\n\r\n    &lt;java-type name=&quot;Medium.TrackList&quot;&gt;\r\n      &lt;java-attributes&gt;\r\n        &lt;xml-element java-attribute=&quot;artistList&quot; xml-path=&quot;.&quot;/&gt;\r\n      &lt;/java-attributes&gt;\r\n    &lt;/java-type&gt;\r\n\r\nit complains \r\n\r\n    Exception Description: Could not load class [Medium.TrackList] declared in the external metadata file.  Please ensure that the class name is correct, and that the correct ClassLoader has been set.\r\n    \tat org.eclipse.persistence.exceptions.JAXBException.couldNotLoadClassFromMetadata(JAXBException.java:376)\r\n    \tat org.eclipse.persistence.jaxb.JAXBContext$TypeMappingInfoInput.getXmlBindingsClasses(JAXBContext.java:979)\r\n    \tat org.eclipse.persistence.jaxb.JAXBContext$TypeMappingInfoInput.createContextState(JAXBContext.java:879)\r\n    \tat org.eclipse.persistence.jaxb.JAXBContext.&lt;init&gt;(JAXBContext.java:157)\r\n\r\nHow do I resolve this ?","title":"How do you get MOXy oxml mapping file to recognise static classes","body":"<p>Using MOXy I can  flatten parts of my object model in my json output</p>\n\n<p>i.e </p>\n\n<pre><code>&lt;java-type name=\"Medium\"&gt;\n  &lt;java-attributes&gt;\n    &lt;xml-element java-attribute=\"trackList\" xml-path=\".\"/&gt;\n  &lt;/java-attributes&gt;\n&lt;/java-type&gt;\n</code></pre>\n\n<p>but when I want to fold in a class that is a child of a static class as follows</p>\n\n<pre><code>&lt;java-type name=\"Medium.TrackList\"&gt;\n  &lt;java-attributes&gt;\n    &lt;xml-element java-attribute=\"artistList\" xml-path=\".\"/&gt;\n  &lt;/java-attributes&gt;\n&lt;/java-type&gt;\n</code></pre>\n\n<p>it complains </p>\n\n<pre><code>Exception Description: Could not load class [Medium.TrackList] declared in the external metadata file.  Please ensure that the class name is correct, and that the correct ClassLoader has been set.\n    at org.eclipse.persistence.exceptions.JAXBException.couldNotLoadClassFromMetadata(JAXBException.java:376)\n    at org.eclipse.persistence.jaxb.JAXBContext$TypeMappingInfoInput.getXmlBindingsClasses(JAXBContext.java:979)\n    at org.eclipse.persistence.jaxb.JAXBContext$TypeMappingInfoInput.createContextState(JAXBContext.java:879)\n    at org.eclipse.persistence.jaxb.JAXBContext.&lt;init&gt;(JAXBContext.java:157)\n</code></pre>\n\n<p>How do I resolve this ?</p>\n"},{"tags":["java","unit-testing","tags","aem"],"answers":[{"tags":[],"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668815349,"creation_date":1668815349,"answer_id":74496412,"question_id":72341601,"body_markdown":"In your test method `testGetDataTags` you are mocking the method `getTransform()`. You are returning the iteratorResource instead of the &quot;real&quot; TransformIterator inside the class under test `CareerPageCategoryLevelTwo`.\r\n\r\nYou should change your line from\r\n```\r\nMockito.when(careerPageCategoryLevelTwo.getTransform(tagIterator, locale request)).thenReturn(iteratorResource):\r\n```\r\nto\r\n\r\n`Iterator iteratorFromCareer = careerPageCategoryLevelTwo.getTransform(tagIterator, locale, request)`\r\n\r\nand you should do something with the `iteratorFromCareer` - this should call the `transform` method.\r\n\r\nBut I recommend you to use less Mockito and more [Sling Mocks][1] or [AEM Mocks][2]\r\n\r\n\r\n  [1]: https://sling.apache.org/documentation/development/sling-mock.html\r\n  [2]: https://wcm.io/testing/aem-mock/","title":"AEM JAVA Unit test for tags","body":"<p>In your test method <code>testGetDataTags</code> you are mocking the method <code>getTransform()</code>. You are returning the iteratorResource instead of the &quot;real&quot; TransformIterator inside the class under test <code>CareerPageCategoryLevelTwo</code>.</p>\n<p>You should change your line from</p>\n<pre><code>Mockito.when(careerPageCategoryLevelTwo.getTransform(tagIterator, locale request)).thenReturn(iteratorResource):\n</code></pre>\n<p>to</p>\n<p><code>Iterator iteratorFromCareer = careerPageCategoryLevelTwo.getTransform(tagIterator, locale, request)</code></p>\n<p>and you should do something with the <code>iteratorFromCareer</code> - this should call the <code>transform</code> method.</p>\n<p>But I recommend you to use less Mockito and more <a href=\"https://sling.apache.org/documentation/development/sling-mock.html\" rel=\"nofollow noreferrer\">Sling Mocks</a> or <a href=\"https://wcm.io/testing/aem-mock/\" rel=\"nofollow noreferrer\">AEM Mocks</a></p>\n"}],"owner":{"account_id":3338979,"reputation":15534,"user_id":4452553,"accept_rate":73,"display_name":"guradio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74496412,"answer_count":1,"score":0,"last_activity_date":1668815349,"creation_date":1653257231,"question_id":72341601,"body_markdown":"In AEM JAVA I created a function that gets a list of tags from Tag Manager . I was able to get the data that I need and the tags are correctly retrieved from the Tag Manager. But in the Unit Test this part below is always excluded from the test. I only included the code that is relevant to the question. \r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic Iterator&lt;Resource&gt; getTransform(Iterator&lt;Tag&gt; childTagItr, Locale locale, SlingHttpServletRequest request) {\r\n    \t\treturn new TransformIterator(childTagItr, new Transformer() {\r\n    \t\t    public Object transform(Object o) {\r\n    \t\t        Tag tag = (Tag) o;\r\n    \r\n    \t\t        String tagId = tag.getTagID();\r\n    \t\t        ValueMap vm = new ValueMapDecorator(new HashMap&lt;String, Object&gt;());\r\n    \t\t        vm.put(&quot;value&quot;, tagId);\r\n    \t\t        vm.put(&quot;text&quot;, tag.getTitlePath(locale));\r\n    \t\t        return new ValueMapResource(request.getResourceResolver(), new ResourceMetadata(), &quot;nt:unstructured&quot;, vm);\r\n    \t\t    }\r\n    \t\t});\r\n    \t}\r\n\r\n\r\n\r\nI tried with below test :\r\n\r\n    @Test\r\n\tvoid testGetDataTags() throws ServletException, IOException {\r\n\t\t// Arrange\r\n\t\tMockito.when(request.getAttribute(Mockito.anyString())).thenReturn(slingBindings);\r\n\t\tMockito.when(slingBindings.getSling()).thenReturn(sling);\r\n\t\tMockito.when(request.getResourceResolver()).thenReturn(resolver);\r\n\t\tMockito.when(request.getResourceResolver().adaptTo(TagManager.class)).thenReturn(tagManager);\r\n\t\t//Mockito.when(config.get(PATH)).thenReturn(PATH);\r\n\r\n\t\t//Mockito.when(expressionHelper.getString(PATH)).thenReturn(PATH_VALUE);\r\n\t\tMockito.when(tagManager.resolve(Mockito.anyString())).thenReturn(parentTag);\r\n\r\n\t\tgetTags();\r\n\t\t\r\n\t\t// Act\r\n\t\tfinal Locale locale = request.getLocale();\r\n\t\tCareerPageCategoryLevelTwo careerPageCategoryLevelTwo = new CareerPageCategoryLevelTwo();\r\n\t\tTransformer tagResource = new Transformer() {\r\n\t\t    public Object transform(Object o) {\r\n\t\t        Tag tag = (Tag) o;\r\n\r\n\t\t        String tagId = tag.getTagID();\r\n\t\t        ValueMap vm = new ValueMapDecorator(new HashMap&lt;String, Object&gt;());\r\n\t\t        vm.put(&quot;value&quot;, tagId);\r\n\t\t        vm.put(&quot;text&quot;, tag.getTitlePath(locale));\r\n\t\t        return new ValueMapResource(request.getResourceResolver(), new ResourceMetadata(), &quot;nt:unstructured&quot;, vm);\r\n\t\t    }\r\n\t\t};\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tIterator&lt;Resource&gt; iteratorResource= new TransformIterator(tagIterator, tagResource);\r\n\t\tMockito.when(careerPageCategoryLevelTwo.getTransform(tagIterator, locale, request)).thenReturn(iteratorResource);\r\n\t\t// Assert\r\n\t\tassertNotNull(iteratorResource);\r\n\t}\r\n\r\nStill the part :\r\n[![enter image description here][1]][1]\r\n\r\nis excluded.\r\nMy question is how can I include this part in the Unit Test?\r\n\r\nUpdate: careerPageCategoryLevelTwo is the implementation class\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tDanc.png\r\n  [2]: https://i.stack.imgur.com/eblpi.png","title":"AEM JAVA Unit test for tags","body":"<p>In AEM JAVA I created a function that gets a list of tags from Tag Manager . I was able to get the data that I need and the tags are correctly retrieved from the Tag Manager. But in the Unit Test this part below is always excluded from the test. I only included the code that is relevant to the question.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\n    public Iterator&lt;Resource&gt; getTransform(Iterator&lt;Tag&gt; childTagItr, Locale locale, SlingHttpServletRequest request) {\n        return new TransformIterator(childTagItr, new Transformer() {\n            public Object transform(Object o) {\n                Tag tag = (Tag) o;\n\n                String tagId = tag.getTagID();\n                ValueMap vm = new ValueMapDecorator(new HashMap&lt;String, Object&gt;());\n                vm.put(&quot;value&quot;, tagId);\n                vm.put(&quot;text&quot;, tag.getTitlePath(locale));\n                return new ValueMapResource(request.getResourceResolver(), new ResourceMetadata(), &quot;nt:unstructured&quot;, vm);\n            }\n        });\n    }\n</code></pre>\n<p>I tried with below test :</p>\n<pre><code>@Test\nvoid testGetDataTags() throws ServletException, IOException {\n    // Arrange\n    Mockito.when(request.getAttribute(Mockito.anyString())).thenReturn(slingBindings);\n    Mockito.when(slingBindings.getSling()).thenReturn(sling);\n    Mockito.when(request.getResourceResolver()).thenReturn(resolver);\n    Mockito.when(request.getResourceResolver().adaptTo(TagManager.class)).thenReturn(tagManager);\n    //Mockito.when(config.get(PATH)).thenReturn(PATH);\n\n    //Mockito.when(expressionHelper.getString(PATH)).thenReturn(PATH_VALUE);\n    Mockito.when(tagManager.resolve(Mockito.anyString())).thenReturn(parentTag);\n\n    getTags();\n    \n    // Act\n    final Locale locale = request.getLocale();\n    CareerPageCategoryLevelTwo careerPageCategoryLevelTwo = new CareerPageCategoryLevelTwo();\n    Transformer tagResource = new Transformer() {\n        public Object transform(Object o) {\n            Tag tag = (Tag) o;\n\n            String tagId = tag.getTagID();\n            ValueMap vm = new ValueMapDecorator(new HashMap&lt;String, Object&gt;());\n            vm.put(&quot;value&quot;, tagId);\n            vm.put(&quot;text&quot;, tag.getTitlePath(locale));\n            return new ValueMapResource(request.getResourceResolver(), new ResourceMetadata(), &quot;nt:unstructured&quot;, vm);\n        }\n    };\n    @SuppressWarnings(&quot;unchecked&quot;)\n    Iterator&lt;Resource&gt; iteratorResource= new TransformIterator(tagIterator, tagResource);\n    Mockito.when(careerPageCategoryLevelTwo.getTransform(tagIterator, locale, request)).thenReturn(iteratorResource);\n    // Assert\n    assertNotNull(iteratorResource);\n}\n</code></pre>\n<p>Still the part :\n<a href=\"https://i.stack.imgur.com/tDanc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tDanc.png\" alt=\"enter image description here\" /></a></p>\n<p>is excluded.\nMy question is how can I include this part in the Unit Test?</p>\n<p>Update: careerPageCategoryLevelTwo is the implementation class\n<a href=\"https://i.stack.imgur.com/eblpi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eblpi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-spark","apache-spark-sql","dataset"],"comments":[{"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"score":0,"creation_date":1663060302,"post_id":73698160,"comment_id":130144442,"body_markdown":"Can you also add an example of tables that you have and what you want them to be? It&#39;s much easier for us to understand and suggest things","body":"Can you also add an example of tables that you have and what you want them to be? It&#39;s much easier for us to understand and suggest things"},{"owner":{"account_id":14559953,"reputation":31,"user_id":10516308,"display_name":"Sun Yuting"},"score":0,"creation_date":1663135863,"post_id":73698160,"comment_id":130164894,"body_markdown":"Just updated with an example","body":"Just updated with an example"}],"owner":{"account_id":14559953,"reputation":31,"user_id":10516308,"display_name":"Sun Yuting"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668814776,"creation_date":1663049073,"question_id":73698160,"body_markdown":"I need to filter out rows based on 3 rules, and there are correlations between them.\r\n\r\nBasically, the final dataset should match rule1&amp;&amp;(rule2||rule3).\r\n\r\n1. If pid is &quot;aaa&quot; for all the rows in col1, then filter out all of them.\r\n2. If pid is &quot;aaa&quot; and col1 is null, then filter it out.\r\n3. If pid is &quot;aaa&quot; for all rows in (col2 and col3) key, then filter it out.\r\n\r\nExample:\r\n```\r\npid      col1            col2                 col3  \r\nabaa     111             apple                red\r\naaa      111             apple                red \r\naaa      222             banana               yellow\r\naaa      222             apple                green  \r\naaa      333             apple                green\r\naaa      333             null                 green\r\naaa      444             apple                red\r\n```\r\n\r\n1&amp;&amp;(2||3) = (1&amp;&amp;2)||(1&amp;&amp;3)\r\n\r\nRow：\r\n```\r\naaa      333             null                 green \r\n```\r\nsatisfied rule1&amp;2, should be filter out.\r\n\r\nRows:\r\n```\r\nno_fdl      222             banana               yellow\r\nno_fdl      222             apple                green  \r\nno_fdl      333             apple                green\r\nno_fdl      444             apple                red\r\n```\r\nsatisfied rule1&amp;3, should be filter out.\r\n\r\nAnd union those filter out rows, then what&#39;s left are \r\n```\r\nacc_id      netg_set_id     netting_id           gfcid  \r\nabaa        111             apple                red\r\nno_fdl      111             apple                red\r\n```\r\nHow can I filter out these at same time to get correct answer by using spark api？","title":"Java Spark SQL, how to merge 3 datasets like 1&amp;&amp;(2||3)？These datasets have exactly same columns","body":"<p>I need to filter out rows based on 3 rules, and there are correlations between them.</p>\n<p>Basically, the final dataset should match rule1&amp;&amp;(rule2||rule3).</p>\n<ol>\n<li>If pid is &quot;aaa&quot; for all the rows in col1, then filter out all of them.</li>\n<li>If pid is &quot;aaa&quot; and col1 is null, then filter it out.</li>\n<li>If pid is &quot;aaa&quot; for all rows in (col2 and col3) key, then filter it out.</li>\n</ol>\n<p>Example:</p>\n<pre><code>pid      col1            col2                 col3  \nabaa     111             apple                red\naaa      111             apple                red \naaa      222             banana               yellow\naaa      222             apple                green  \naaa      333             apple                green\naaa      333             null                 green\naaa      444             apple                red\n</code></pre>\n<p>1&amp;&amp;(2||3) = (1&amp;&amp;2)||(1&amp;&amp;3)</p>\n<p>Row：</p>\n<pre><code>aaa      333             null                 green \n</code></pre>\n<p>satisfied rule1&amp;2, should be filter out.</p>\n<p>Rows:</p>\n<pre><code>no_fdl      222             banana               yellow\nno_fdl      222             apple                green  \nno_fdl      333             apple                green\nno_fdl      444             apple                red\n</code></pre>\n<p>satisfied rule1&amp;3, should be filter out.</p>\n<p>And union those filter out rows, then what's left are</p>\n<pre><code>acc_id      netg_set_id     netting_id           gfcid  \nabaa        111             apple                red\nno_fdl      111             apple                red\n</code></pre>\n<p>How can I filter out these at same time to get correct answer by using spark api？</p>\n"},{"tags":["java","android","xml","firebase"],"answers":[{"comments":[{"owner":{"display_name":"user15273228"},"score":0,"creation_date":1614155856,"post_id":66347015,"comment_id":117296257,"body_markdown":"It is giving me error ??\n```public void onClick(View v) {\n                Intent userdetail = new Intent(View.getContext(), userdetail.class);\n                userdetail.putExtra(&quot;username&quot;, datalist.get(position).getUsername());\n                context.startActivity(userdetail);\n            }```","body":"It is giving me error ?? <code>public void onClick(View v) {                 Intent userdetail = new Intent(View.getContext(), userdetail.class);                 userdetail.putExtra(&quot;username&quot;, datalist.get(position).getUsername());                 context.startActivity(userdetail);             }</code>"},{"owner":{"display_name":"user15273228"},"score":0,"creation_date":1614155946,"post_id":66347015,"comment_id":117296306,"body_markdown":"Please Tell Me Something","body":"Please Tell Me Something"},{"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"score":0,"creation_date":1614156300,"post_id":66347015,"comment_id":117296475,"body_markdown":"Updated view to v","body":"Updated view to v"},{"owner":{"display_name":"user15273228"},"score":0,"creation_date":1614160694,"post_id":66347015,"comment_id":117298483,"body_markdown":"It Worked Before I Did Some Editing There Please Upvote My Question","body":"It Worked Before I Did Some Editing There Please Upvote My Question"},{"owner":{"display_name":"user15273228"},"score":0,"creation_date":1614162931,"post_id":66347015,"comment_id":117299505,"body_markdown":"Thanks Rajan Kali I Upvoted Your Answer And Marked It As Answer","body":"Thanks Rajan Kali I Upvoted Your Answer And Marked It As Answer"}],"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1614156286,"creation_date":1614154637,"answer_id":66347015,"question_id":66346951,"body_markdown":"`this` inside `OnClickListener` refers to instance of Listener, where as `Intent` needs a context, you can pass context which would be in `Adapter` or can get it from `View`, do null checks on context before accessing them\r\n```Java\r\nIntent userdetaile = Intent(v.getContext(), userdetail.class);\r\nv.getContext().startActivity(intent);\r\n```","title":"this not working in android recycler view adapter Intent","body":"<p><code>this</code> inside <code>OnClickListener</code> refers to instance of Listener, where as <code>Intent</code> needs a context, you can pass context which would be in <code>Adapter</code> or can get it from <code>View</code>, do null checks on context before accessing them</p>\n<pre><code>Intent userdetaile = Intent(v.getContext(), userdetail.class);\nv.getContext().startActivity(intent);\n</code></pre>\n"}],"owner":{"display_name":"user15273228"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66347015,"answer_count":1,"score":1,"last_activity_date":1668814174,"creation_date":1614154361,"question_id":66346951,"body_markdown":"**```this``` not working in android recycler view adapter Intent**\r\n\r\n**What I Have To Do:**\r\n\r\n*Open Activity Onclick On Card And Show Details In The Activity*\r\n```\r\n@Override\r\n    public void onBindViewHolder(@NonNull myviewholder holder, int position) {\r\n        holder.username.setText(datalist.get(position).getUsername());\r\n        holder.email.setText(datalist.get(position).getEmail());\r\n        holder.aadhar.setText(&quot;Aadhar: &quot;+datalist.get(position).getAadhar());\r\n        holder.dob.setText(&quot;DOB: &quot;+datalist.get(position).getDob());\r\n        holder.dl.setText(&quot;DL: &quot;+datalist.get(position).getDl());\r\n        Picasso.get().load(datalist.get(position).getPhotourl()).into(holder.user_Image);\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent userdetaile = new Intent(this, userdetail.class);\r\n            }\r\n        });\r\n    }\r\n```\r\n**This Line Is Giving Me Error**\r\n```\r\nIntent userdetaile = new Intent(this, userdetail.class);\r\n```\r\n**Mainly ```this``` is giving me error**\r\n\r\n","title":"this not working in android recycler view adapter Intent","body":"<p><strong><code>this</code> not working in android recycler view adapter Intent</strong></p>\n<p><strong>What I Have To Do:</strong></p>\n<p><em>Open Activity Onclick On Card And Show Details In The Activity</em></p>\n<pre><code>@Override\n    public void onBindViewHolder(@NonNull myviewholder holder, int position) {\n        holder.username.setText(datalist.get(position).getUsername());\n        holder.email.setText(datalist.get(position).getEmail());\n        holder.aadhar.setText(&quot;Aadhar: &quot;+datalist.get(position).getAadhar());\n        holder.dob.setText(&quot;DOB: &quot;+datalist.get(position).getDob());\n        holder.dl.setText(&quot;DL: &quot;+datalist.get(position).getDl());\n        Picasso.get().load(datalist.get(position).getPhotourl()).into(holder.user_Image);\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent userdetaile = new Intent(this, userdetail.class);\n            }\n        });\n    }\n</code></pre>\n<p><strong>This Line Is Giving Me Error</strong></p>\n<pre><code>Intent userdetaile = new Intent(this, userdetail.class);\n</code></pre>\n<p><strong>Mainly <code>this</code> is giving me error</strong></p>\n"},{"tags":["java","while-loop","count","numbers","descendant"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668812060,"post_id":74496086,"comment_id":131505069,"body_markdown":"Instead of starting at `count` and count down, start at `1` and count up.","body":"Instead of starting at <code>count</code> and count down, start at <code>1</code> and count up."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1668812207,"post_id":74496086,"comment_id":131505089,"body_markdown":"You&#39;ll need another variable.","body":"You&#39;ll need another variable."},{"owner":{"account_id":24800946,"reputation":9,"user_id":18683337,"display_name":"Karl"},"score":0,"creation_date":1668812519,"post_id":74496086,"comment_id":131505145,"body_markdown":"@Turing85 how Is that done?","body":"@Turing85 how Is that done?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668812598,"post_id":74496086,"comment_id":131505160,"body_markdown":"@Karl create a new variable, let it start by `0`, rewrite the `while`-condition, print the new variable instead of `count` and increment the new variable instead of decrementing `count`. A more detailed answer would give a full working solution, which I will not provide since this is an exercise, and there is no point in me solving the exercise for you.","body":"@Karl create a new variable, let it start by <code>0</code>, rewrite the <code>while</code>-condition, print the new variable instead of <code>count</code> and increment the new variable instead of decrementing <code>count</code>. A more detailed answer would give a full working solution, which I will not provide since this is an exercise, and there is no point in me solving the exercise for you."}],"answers":[{"tags":[],"owner":{"account_id":25005419,"reputation":23,"user_id":18865421,"display_name":"Codere"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668812819,"creation_date":1668812819,"answer_id":74496171,"question_id":74496086,"body_markdown":"I think that&#39;s a better way to do it:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Example5 {\r\n    \r\n       public static void main(String[] args) {\r\n    \r\n    \t\t int count=0;\r\n    \t        Scanner in = new Scanner(System.in);\r\n    \r\n    \t        System.out.println(&quot;Enter a number: &quot;);\r\n    \t       int number = in.nextInt();\r\n    \t        while (count &lt;= number) {\r\n    \t            System.out.println(count);\r\n    \t            count++;\r\n    \t        }\r\n    \t}\r\n    \r\n    }\r\n\r\nHaving a variable for the number and a variable for the counter is easier to understand\r\n**if you want it in ascending order, you should start from the smaller number (0) and then increase the counter to get to the greater number (input)** ","title":"We want to display values in an ascending order using while loop","body":"<p>I think that's a better way to do it:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Example5 {\n\n   public static void main(String[] args) {\n\n         int count=0;\n            Scanner in = new Scanner(System.in);\n\n            System.out.println(&quot;Enter a number: &quot;);\n           int number = in.nextInt();\n            while (count &lt;= number) {\n                System.out.println(count);\n                count++;\n            }\n    }\n\n}\n</code></pre>\n<p>Having a variable for the number and a variable for the counter is easier to understand\n<strong>if you want it in ascending order, you should start from the smaller number (0) and then increase the counter to get to the greater number (input)</strong></p>\n"}],"owner":{"account_id":24800946,"reputation":9,"user_id":18683337,"display_name":"Karl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668812819,"creation_date":1668811987,"question_id":74496086,"body_markdown":"I have the following code and when I enter a number, the terminal should display the values from 1 to the entered number, meaning in an ascending order.\r\nAs the code is, it displays values in descending order.\r\nHow can I change my code to make it to an ascending order?\r\n\r\n```\r\n// Example5.java\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Example5 {\r\n\r\n    public static void main(String[] args) {\r\n        int count;\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter a number: &quot;);\r\n        count = in.nextInt();\r\n        while (count &gt; 0) {\r\n            System.out.println(count);\r\n            --count;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"We want to display values in an ascending order using while loop","body":"<p>I have the following code and when I enter a number, the terminal should display the values from 1 to the entered number, meaning in an ascending order.\nAs the code is, it displays values in descending order.\nHow can I change my code to make it to an ascending order?</p>\n<pre><code>// Example5.java\n\nimport java.util.Scanner;\n\npublic class Example5 {\n\n    public static void main(String[] args) {\n        int count;\n        Scanner in = new Scanner(System.in);\n\n        System.out.println(&quot;Enter a number: &quot;);\n        count = in.nextInt();\n        while (count &gt; 0) {\n            System.out.println(count);\n            --count;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"owner":{"account_id":26786036,"reputation":21,"user_id":20380214,"display_name":"Zdrzalik Przemyslaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668812696,"creation_date":1668812696,"question_id":74496161,"body_markdown":"I am currently trying to figure out the best way to handle errors in a spring boot app.\r\nAssume that the app consists of thymeleaf templates served on paths starting with /admin, and a REST API served on other URIs. \r\n\r\nMy project currently has the following configuration:\r\n\r\n- Thymeleaf error templates located at /src/main/resources/templates/error/{id}.html, defined for errors 400, 401, 403, 404, 500.\r\n- Default thymeleaf error template /src/main/resources/templates/error.html\r\n- HttpSecurity configuration:\r\n\r\n```\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n    (...)\r\n    http\r\n        .anonymous();\r\n    http\r\n        .exceptionHandling()\r\n            .authenticationEntryPoint((request, response, authException) -&gt; response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase()))\r\n            .accessDeniedHandler(new AccessDeniedHandlerImpl());\r\n    (...)\r\n}\r\n```\r\n\r\n- Exception Handlers for both rest and MVC:\r\n\r\n```\r\n@ControllerAdvice\r\npublic class ExceptionHandlers {\r\n\r\n    private final BasicErrorController basicErrorController;\r\n\r\n    public ExceptionHandlers(BasicErrorController basicErrorController) {\r\n        this.basicErrorController = basicErrorController;\r\n    }\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    public Object handleAllExceptions(Exception e, HttpServletRequest request, HttpServletResponse response) {\r\n        return handle(e, request, response, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n\r\n    @ExceptionHandler(EntityNotFoundException.class)\r\n    public Object handleEntityNotFoundException(EntityNotFoundException e, HttpServletRequest request, HttpServletResponse response) {\r\n        return handle(e, request, response, HttpStatus.NOT_FOUND, I18nCodes.ENTITY_NOT_FOUND);\r\n    }\r\n\r\n    /**\r\n     * We exclude all exceptions deriving from {@link AccessDeniedException} from custom exception handling.\r\n     */\r\n    @ExceptionHandler(AccessDeniedException.class)\r\n    public Object handleAccessDeniedException(AccessDeniedException e, HttpServletRequest request, HttpServletResponse response) {\r\n        throw e;\r\n    }\r\n\r\n    /**\r\n     * We exclude all exceptions deriving from {@link AppBaseException} from custom exception handling.\r\n     */\r\n    @ExceptionHandler(AppBaseException.class)\r\n    public Object handleAppBaseException(AppBaseException e, HttpServletRequest request, HttpServletResponse response) {\r\n        throw e;\r\n    }\r\n\r\n    private Object handle(Exception e, HttpServletRequest request, HttpServletResponse response, HttpStatus status) {\r\n        return handle(e, request, response, HttpStatus.INTERNAL_SERVER_ERROR, I18nCodes.getCodeByStatus(status));\r\n    }\r\n\r\n    private Object handle(Exception e, HttpServletRequest request, HttpServletResponse response, HttpStatus status, String message) {\r\n        String header = request.getHeader(&quot;Accept&quot;);\r\n        if (header != null &amp;&amp; header.contains(&quot;text/html&quot;)) {\r\n            setErrorCode(request, response, status);\r\n            return basicErrorController.errorHtml(request, response);\r\n        }\r\n        return createJsonResponse(message, status, request.getRequestURI());\r\n    }\r\n\r\n    private ResponseEntity&lt;ErrorResponseDTO&gt; createJsonResponse(String message, HttpStatus status, String path) {\r\n        ErrorResponseDTO errorResponseDTO = new ErrorResponseDTO()\r\n                .setTimestamp(new Timestamp(System.currentTimeMillis()))\r\n                .setStatus(status.value())\r\n                .setMessage(message)\r\n                .setPath(path)\r\n                .setError(status.name().toLowerCase());\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n        return ResponseEntity.status(status).headers(httpHeaders).body(errorResponseDTO);\r\n    }\r\n\r\n\r\n    private void setErrorCode(HttpServletRequest request, HttpServletResponse response, HttpStatus httpStatus) {\r\n        request.setAttribute(RequestDispatcher.ERROR_STATUS_CODE, httpStatus.value());\r\n        response.setStatus(httpStatus.value());\r\n    }\r\n\r\n}\r\n```\r\n\r\nWithout the Exception handlers everything works about as expected, I get 401 error when I am not authenticated, and 403 when authenticated but lacking authorities. My custom exceptions are correctly mapped according to their message and Status defined in @ResponseStatus eg:\r\n\r\n\r\n```\r\n@ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\npublic class AccountInfoException extends AppBaseException {\r\n    protected AccountInfoException(String message) {\r\n        super(message);\r\n    }\r\n\r\n    protected AccountInfoException(String message, Throwable cause) {\r\n        super(message, cause);\r\n    }\r\n\r\n    public static AccountInfoException emailAlreadyExists() {\r\n        return new AccountInfoException(I18nCodes.EMAIL_EXIST);\r\n    }\r\n\r\n    public static AccountInfoException accountNotFound() {\r\n        return new AccountInfoException(I18nCodes.ACCOUNT_NOT_FOUND);\r\n    }\r\n}\r\n\r\n```\r\nWill map to status 400 with one of two messages I18nCodes.EMAIL_EXIST or I18nCodes.ACCOUNT_NOT_FOUND.\r\n\r\nI arrive on the correct thymeleaf error page depending on the status code - life is perfect.\r\n\r\nThe issue comes with the requirement of handling all other exceptions. It&#39;s not a possibility to let an unexpected error to the client. So for that I&#39;ve defined an exception handler handing Exception, to return a generic 500 message. This breaks everything. I&#39;m unable to access the Status codes of my custom exceptions\r\nAuthentication entry point and access denied handler are both ignored, and both cases of being not authenticated and having insufficient authority are handles in the same exception(AccessDeniedException). I also lose default mappings for some exceptions eg. org.springframework.security.authentication.LockedException returns status 401.\r\n\r\n\r\n\r\nMy temporary workaround was to handle all exceptions, and to create methods handling exceptions that I want to ignore and just rethrow the exception. I feel like the best thing I could do is remove all exception handlers and repack all container exceptions to my own custom exceptions, only issue is that there doesn&#39;t seem to be a way to do it. \r\n\r\nI&#39;m looking for a more permanent solution - what would be the best approach? ","title":"Spring Boot error handling in app combining MVC and rest api","body":"<p>I am currently trying to figure out the best way to handle errors in a spring boot app.\nAssume that the app consists of thymeleaf templates served on paths starting with /admin, and a REST API served on other URIs.</p>\n<p>My project currently has the following configuration:</p>\n<ul>\n<li>Thymeleaf error templates located at /src/main/resources/templates/error/{id}.html, defined for errors 400, 401, 403, 404, 500.</li>\n<li>Default thymeleaf error template /src/main/resources/templates/error.html</li>\n<li>HttpSecurity configuration:</li>\n</ul>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    (...)\n    http\n        .anonymous();\n    http\n        .exceptionHandling()\n            .authenticationEntryPoint((request, response, authException) -&gt; response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase()))\n            .accessDeniedHandler(new AccessDeniedHandlerImpl());\n    (...)\n}\n</code></pre>\n<ul>\n<li>Exception Handlers for both rest and MVC:</li>\n</ul>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlers {\n\n    private final BasicErrorController basicErrorController;\n\n    public ExceptionHandlers(BasicErrorController basicErrorController) {\n        this.basicErrorController = basicErrorController;\n    }\n\n    @ExceptionHandler(Exception.class)\n    public Object handleAllExceptions(Exception e, HttpServletRequest request, HttpServletResponse response) {\n        return handle(e, request, response, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n    @ExceptionHandler(EntityNotFoundException.class)\n    public Object handleEntityNotFoundException(EntityNotFoundException e, HttpServletRequest request, HttpServletResponse response) {\n        return handle(e, request, response, HttpStatus.NOT_FOUND, I18nCodes.ENTITY_NOT_FOUND);\n    }\n\n    /**\n     * We exclude all exceptions deriving from {@link AccessDeniedException} from custom exception handling.\n     */\n    @ExceptionHandler(AccessDeniedException.class)\n    public Object handleAccessDeniedException(AccessDeniedException e, HttpServletRequest request, HttpServletResponse response) {\n        throw e;\n    }\n\n    /**\n     * We exclude all exceptions deriving from {@link AppBaseException} from custom exception handling.\n     */\n    @ExceptionHandler(AppBaseException.class)\n    public Object handleAppBaseException(AppBaseException e, HttpServletRequest request, HttpServletResponse response) {\n        throw e;\n    }\n\n    private Object handle(Exception e, HttpServletRequest request, HttpServletResponse response, HttpStatus status) {\n        return handle(e, request, response, HttpStatus.INTERNAL_SERVER_ERROR, I18nCodes.getCodeByStatus(status));\n    }\n\n    private Object handle(Exception e, HttpServletRequest request, HttpServletResponse response, HttpStatus status, String message) {\n        String header = request.getHeader(&quot;Accept&quot;);\n        if (header != null &amp;&amp; header.contains(&quot;text/html&quot;)) {\n            setErrorCode(request, response, status);\n            return basicErrorController.errorHtml(request, response);\n        }\n        return createJsonResponse(message, status, request.getRequestURI());\n    }\n\n    private ResponseEntity&lt;ErrorResponseDTO&gt; createJsonResponse(String message, HttpStatus status, String path) {\n        ErrorResponseDTO errorResponseDTO = new ErrorResponseDTO()\n                .setTimestamp(new Timestamp(System.currentTimeMillis()))\n                .setStatus(status.value())\n                .setMessage(message)\n                .setPath(path)\n                .setError(status.name().toLowerCase());\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n        return ResponseEntity.status(status).headers(httpHeaders).body(errorResponseDTO);\n    }\n\n\n    private void setErrorCode(HttpServletRequest request, HttpServletResponse response, HttpStatus httpStatus) {\n        request.setAttribute(RequestDispatcher.ERROR_STATUS_CODE, httpStatus.value());\n        response.setStatus(httpStatus.value());\n    }\n\n}\n</code></pre>\n<p>Without the Exception handlers everything works about as expected, I get 401 error when I am not authenticated, and 403 when authenticated but lacking authorities. My custom exceptions are correctly mapped according to their message and Status defined in @ResponseStatus eg:</p>\n<pre><code>@ResponseStatus(value = HttpStatus.BAD_REQUEST)\npublic class AccountInfoException extends AppBaseException {\n    protected AccountInfoException(String message) {\n        super(message);\n    }\n\n    protected AccountInfoException(String message, Throwable cause) {\n        super(message, cause);\n    }\n\n    public static AccountInfoException emailAlreadyExists() {\n        return new AccountInfoException(I18nCodes.EMAIL_EXIST);\n    }\n\n    public static AccountInfoException accountNotFound() {\n        return new AccountInfoException(I18nCodes.ACCOUNT_NOT_FOUND);\n    }\n}\n\n</code></pre>\n<p>Will map to status 400 with one of two messages I18nCodes.EMAIL_EXIST or I18nCodes.ACCOUNT_NOT_FOUND.</p>\n<p>I arrive on the correct thymeleaf error page depending on the status code - life is perfect.</p>\n<p>The issue comes with the requirement of handling all other exceptions. It's not a possibility to let an unexpected error to the client. So for that I've defined an exception handler handing Exception, to return a generic 500 message. This breaks everything. I'm unable to access the Status codes of my custom exceptions\nAuthentication entry point and access denied handler are both ignored, and both cases of being not authenticated and having insufficient authority are handles in the same exception(AccessDeniedException). I also lose default mappings for some exceptions eg. org.springframework.security.authentication.LockedException returns status 401.</p>\n<p>My temporary workaround was to handle all exceptions, and to create methods handling exceptions that I want to ignore and just rethrow the exception. I feel like the best thing I could do is remove all exception handlers and repack all container exceptions to my own custom exceptions, only issue is that there doesn't seem to be a way to do it.</p>\n<p>I'm looking for a more permanent solution - what would be the best approach?</p>\n"},{"tags":["java","list","matching"],"answers":[{"tags":[],"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668811070,"creation_date":1668811070,"answer_id":74495997,"question_id":74495936,"body_markdown":"`if (k == unmatchingPositions.get(k)) {`\r\nThis is saying if the value stored in position k of the unmatched list == k then replace it. That makes no sense. You know it&#39;s not matched so just replace it. No need for an `if`\r\n\r\nYou could do it all in one pass:\r\n\r\n    int listASz = listA.size();\r\n    for(int i = 0; i &lt; listASz; i++)\r\n    {\r\n        if (listA[i] != listB[i])\r\n        {\r\n            listB[i] = /*something*/\r\n\r\nYou need to extend this a bit to handle cases where the lists aren&#39;t the same size","title":"Compare two lists of strings and replace values that don&#39;t match [Java]","body":"<p><code>if (k == unmatchingPositions.get(k)) {</code>\nThis is saying if the value stored in position k of the unmatched list == k then replace it. That makes no sense. You know it's not matched so just replace it. No need for an <code>if</code></p>\n<p>You could do it all in one pass:</p>\n<pre><code>int listASz = listA.size();\nfor(int i = 0; i &lt; listASz; i++)\n{\n    if (listA[i] != listB[i])\n    {\n        listB[i] = /*something*/\n</code></pre>\n<p>You need to extend this a bit to handle cases where the lists aren't the same size</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668811660,"creation_date":1668811660,"answer_id":74496054,"question_id":74495936,"body_markdown":"You don&#39;t need two lists and redundant nested loop, instead identify the indices of elements that don&#39;t match and store them into a list.\r\n\r\nAnd then iterate of this list of indices and replace each corresponding element in the `listB` using method `List.set()`.\r\n\r\n```\r\nList&lt;String&gt; listA = // initializing the list\r\nList&lt;String&gt; listB = // initializing the list\r\n        \r\nList&lt;Integer&gt; notMatchingPositions = new ArrayList&lt;&gt;();\r\n        \r\nfor (int i = 0; i &lt; listA.size() &amp;&amp; i &lt; listB.size(); i++) {\r\n    if (!listA.get(i).equals(listB.get(i))) notMatchingPositions.add(i);\r\n}\r\n        \r\nfor (int i : notMatchingPositions) {\r\n    String newValue = someListOfValues.get(rand.nextInt(someListOfValues.size()));\r\n    listB.set(i, newValue);\r\n}\r\n```","title":"Compare two lists of strings and replace values that don&#39;t match [Java]","body":"<p>You don't need two lists and redundant nested loop, instead identify the indices of elements that don't match and store them into a list.</p>\n<p>And then iterate of this list of indices and replace each corresponding element in the <code>listB</code> using method <code>List.set()</code>.</p>\n<pre><code>List&lt;String&gt; listA = // initializing the list\nList&lt;String&gt; listB = // initializing the list\n        \nList&lt;Integer&gt; notMatchingPositions = new ArrayList&lt;&gt;();\n        \nfor (int i = 0; i &lt; listA.size() &amp;&amp; i &lt; listB.size(); i++) {\n    if (!listA.get(i).equals(listB.get(i))) notMatchingPositions.add(i);\n}\n        \nfor (int i : notMatchingPositions) {\n    String newValue = someListOfValues.get(rand.nextInt(someListOfValues.size()));\n    listB.set(i, newValue);\n}\n</code></pre>\n"}],"owner":{"account_id":19829970,"reputation":13,"user_id":14677576,"display_name":"KonTiki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668815239,"accepted_answer_id":74495997,"answer_count":2,"score":0,"last_activity_date":1668811660,"creation_date":1668810532,"question_id":74495936,"body_markdown":"So if we have a list of strings, for example\r\n\r\n```\r\nArrayList&lt;String&gt; listA = new ArrayList(Arrays.asList(&quot;C&quot;, &quot;E&quot;, &quot;B&quot;, &quot;F&quot;, **&quot;E&quot;**, &quot;A&quot;, &quot;G&quot;, &quot;G&quot;, &quot;C&quot;, &quot;A&quot;, &quot;B&quot;, **&quot;G&quot;**));\r\n```\r\n\r\nAnd there&#39;s another list:\r\n\r\n```\r\nArrayList&lt;String&gt; listB = new ArrayList&lt;&gt;(Arrays.asList(&quot;E&quot;, &quot;D&quot;, &quot;C&quot;, &quot;D&quot;, **&quot;E&quot;**, &quot;E&quot;, &quot;E&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;E&quot;, **&quot;G&quot;**));\r\n```\r\n\r\nAs you can see, these two lists match on positions 4 and 11, E and G are two letters that match that is it&#39;s the same letter on the same position.\r\n\r\nWhat I want to do is replace values in listB that don&#39;t match values in listA, that is all other letters that are not E on 4 and G on 11 should be new random letters from this list\r\n\r\n```\r\nArrayList&lt;String&gt; someListOfValues = new ArrayList(Arrays.asList(&quot;C&quot;, &quot;C#&quot;, &quot;D&quot;, &quot;Eb&quot;, &quot;E&quot;, &quot;F&quot;, &quot;F#&quot;, &quot;G&quot;, &quot;G#&quot;, &quot;A&quot;, &quot;Bb&quot;, &quot;B&quot;));\r\n```\r\n\r\nbut two that match should remain.\r\n\r\nI tried creating a new list that would remember positions where lists didn&#39;t match\r\n\r\nLike this\r\n\r\n```\r\n\r\n            ArrayList&lt;Integer&gt; unmatchingPositions = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;Integer&gt; matchingPositions = new ArrayList&lt;&gt;();\r\n            for (int j = 0; j &lt; listA.size(); j++) {\r\n\r\n                if (ListA.get(j).equals(ListB.get(j))) {\r\n\r\n                    matchingPositions.add(j);\r\n\r\n                } else unmatchingPositions.add(j);\r\n\r\n            }\r\n```\r\n\r\nThen I want to find these values in listB and replace them with random values\r\n\r\n```\r\nfor (int j = 0; j &lt; listA.size(); j++) {\r\n\r\n    for (int k = 0; k &lt; unmatchingPositions.size(); k++) {\r\n\r\n        if (k == unmatchingPositions.get(k)) {\r\n            listB.set(k, someListOfValues.get(rand.nextInt(someListOfValues.size())));\r\n        }\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nBut this doesn&#39;t work and I can&#39;t figure out what&#39;s the problem.","title":"Compare two lists of strings and replace values that don&#39;t match [Java]","body":"<p>So if we have a list of strings, for example</p>\n<pre><code>ArrayList&lt;String&gt; listA = new ArrayList(Arrays.asList(&quot;C&quot;, &quot;E&quot;, &quot;B&quot;, &quot;F&quot;, **&quot;E&quot;**, &quot;A&quot;, &quot;G&quot;, &quot;G&quot;, &quot;C&quot;, &quot;A&quot;, &quot;B&quot;, **&quot;G&quot;**));\n</code></pre>\n<p>And there's another list:</p>\n<pre><code>ArrayList&lt;String&gt; listB = new ArrayList&lt;&gt;(Arrays.asList(&quot;E&quot;, &quot;D&quot;, &quot;C&quot;, &quot;D&quot;, **&quot;E&quot;**, &quot;E&quot;, &quot;E&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;E&quot;, **&quot;G&quot;**));\n</code></pre>\n<p>As you can see, these two lists match on positions 4 and 11, E and G are two letters that match that is it's the same letter on the same position.</p>\n<p>What I want to do is replace values in listB that don't match values in listA, that is all other letters that are not E on 4 and G on 11 should be new random letters from this list</p>\n<pre><code>ArrayList&lt;String&gt; someListOfValues = new ArrayList(Arrays.asList(&quot;C&quot;, &quot;C#&quot;, &quot;D&quot;, &quot;Eb&quot;, &quot;E&quot;, &quot;F&quot;, &quot;F#&quot;, &quot;G&quot;, &quot;G#&quot;, &quot;A&quot;, &quot;Bb&quot;, &quot;B&quot;));\n</code></pre>\n<p>but two that match should remain.</p>\n<p>I tried creating a new list that would remember positions where lists didn't match</p>\n<p>Like this</p>\n<pre><code>\n            ArrayList&lt;Integer&gt; unmatchingPositions = new ArrayList&lt;&gt;();\n            ArrayList&lt;Integer&gt; matchingPositions = new ArrayList&lt;&gt;();\n            for (int j = 0; j &lt; listA.size(); j++) {\n\n                if (ListA.get(j).equals(ListB.get(j))) {\n\n                    matchingPositions.add(j);\n\n                } else unmatchingPositions.add(j);\n\n            }\n</code></pre>\n<p>Then I want to find these values in listB and replace them with random values</p>\n<pre><code>for (int j = 0; j &lt; listA.size(); j++) {\n\n    for (int k = 0; k &lt; unmatchingPositions.size(); k++) {\n\n        if (k == unmatchingPositions.get(k)) {\n            listB.set(k, someListOfValues.get(rand.nextInt(someListOfValues.size())));\n        }\n\n\n    }\n\n}\n</code></pre>\n<p>But this doesn't work and I can't figure out what's the problem.</p>\n"},{"tags":["java","inheritance","arraylist","subclass","superclass"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668809038,"post_id":74495764,"comment_id":131504489,"body_markdown":"Please [edit} the post and format the code properly. --- &quot;*obviously, me using `this.getSubjects()` is not correct ...*&quot; - Why? Please [edit] the post and provide a precise problem description, as well as a [MRE].","body":"Please [edit} the post and format the code properly. --- &quot;<i>obviously, me using <code>this.getSubjects()</code> is not correct ...</i>&quot; - Why? Please <a href=\"https://stackoverflow.com/posts/74495764/edit\">edit</a> the post and provide a precise problem description, as well as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1668809195,"post_id":74495764,"comment_id":131504518,"body_markdown":"There&#39;s the `protected` access modifier which makes an element visible to itself and subclasses. The fact you stated &quot;I tried to override but the list was empty&quot; tells me you might have a duplicate `List&lt;Subject&gt;` in your subclass, and you&#39;re not referencing the superclass&#39;s list via `super.subjects` (or `super.getSubjects()`, or even `this.getSubjects()` if you did not override it).","body":"There&#39;s the <code>protected</code> access modifier which makes an element visible to itself and subclasses. The fact you stated &quot;I tried to override but the list was empty&quot; tells me you might have a duplicate <code>List&lt;Subject&gt;</code> in your subclass, and you&#39;re not referencing the superclass&#39;s list via <code>super.subjects</code> (or <code>super.getSubjects()</code>, or even <code>this.getSubjects()</code> if you did not override it)."},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1668810487,"post_id":74495764,"comment_id":131504760,"body_markdown":"https://www.javatpoint.com/access-modifiers","body":"<a href=\"https://www.javatpoint.com/access-modifiers\" rel=\"nofollow noreferrer\">javatpoint.com/access-modifiers</a>"}],"owner":{"account_id":25005419,"reputation":23,"user_id":18865421,"display_name":"Codere"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668810001,"creation_date":1668808907,"question_id":74495764,"body_markdown":"I have the following problem:\r\nI have four classes (Student, Subject, HighSchool, Scientific)\r\nthe class HighSchool extends Student and the class Scientific extends HighSchool.\r\n\r\nin the class HighSchool I made an ArrayList of objects of type Subject (and named it &quot;subjects&quot;) and I made a method to calculate the average using that ArrayList.\r\n\r\nNow, I want to override that method in the class Scientific (it was used in the parent class and I want to use it in the child class), but for that I need to use the arraylist of subjects and I don&#39;t know how to access it in the Scientific class.\r\nI tried doing this:\r\n\r\nin the super class, the method looks like this and it works perfectly fine\r\n\r\n```\r\npublic double calculateAverage() {\r\n\t\tif (this.subjects.size()&lt;=0) \r\n\t\t\treturn 0;\r\n\t\tdouble sum=0;\r\n\t\tfor(int i=0; i&lt;this.subjects.size(); i++) {\r\n\t\t\tsum+=this.subjects.get(i).getMark();\r\n\t\t}\r\n\t\treturn (sum/this.subjects.size());\r\n\r\n```\r\n\r\n\r\n\r\nHere I tried to override it but it didn&#39;t work (the arraylist stays empty, the subjects are not being added to the arraylist). It&#39;s much complicated than that but I tried to simplify it\r\n```\r\npublic double calculateAverage() {\r\n\t\tif (this.getSubjects().size() &lt;= 0) \r\n\t\t\treturn 0;\r\n\t\t\r\n\t\tdouble sum = 0;\r\nelse{\r\nfor (int i = 0; i &lt; getSubjects().size(); i++) {\r\n\r\n\r\nsum += this.getSubjects().get(i).getMark();\r\n\t\t\t\t\r\n\t\t\t}\r\n```\r\n\r\n\r\nobviously, me using `this.getSubjects()` is not correct but I don&#39;t know what else I could use\r\n\r\nNOTE: I&#39;m not very experienced with this website so I&#39;m sorry if my question isn&#39;t formatted well! \r\n\r\nEdit: I tried using the `super` keyword and tried changing modifiers but that doesn&#39;t seem to be the problem.\r\n\r\n","title":"How do I access an ArrayList (that was implemented in a superclass) in a subclass?","body":"<p>I have the following problem:\nI have four classes (Student, Subject, HighSchool, Scientific)\nthe class HighSchool extends Student and the class Scientific extends HighSchool.</p>\n<p>in the class HighSchool I made an ArrayList of objects of type Subject (and named it &quot;subjects&quot;) and I made a method to calculate the average using that ArrayList.</p>\n<p>Now, I want to override that method in the class Scientific (it was used in the parent class and I want to use it in the child class), but for that I need to use the arraylist of subjects and I don't know how to access it in the Scientific class.\nI tried doing this:</p>\n<p>in the super class, the method looks like this and it works perfectly fine</p>\n<pre><code>public double calculateAverage() {\n        if (this.subjects.size()&lt;=0) \n            return 0;\n        double sum=0;\n        for(int i=0; i&lt;this.subjects.size(); i++) {\n            sum+=this.subjects.get(i).getMark();\n        }\n        return (sum/this.subjects.size());\n\n</code></pre>\n<p>Here I tried to override it but it didn't work (the arraylist stays empty, the subjects are not being added to the arraylist). It's much complicated than that but I tried to simplify it</p>\n<pre><code>public double calculateAverage() {\n        if (this.getSubjects().size() &lt;= 0) \n            return 0;\n        \n        double sum = 0;\nelse{\nfor (int i = 0; i &lt; getSubjects().size(); i++) {\n\n\nsum += this.getSubjects().get(i).getMark();\n                \n            }\n</code></pre>\n<p>obviously, me using <code>this.getSubjects()</code> is not correct but I don't know what else I could use</p>\n<p>NOTE: I'm not very experienced with this website so I'm sorry if my question isn't formatted well!</p>\n<p>Edit: I tried using the <code>super</code> keyword and tried changing modifiers but that doesn't seem to be the problem.</p>\n"},{"tags":["java","path"],"answers":[{"comments":[{"owner":{"account_id":10694367,"reputation":1404,"user_id":7872110,"display_name":"Islam Assem"},"score":0,"creation_date":1564869328,"post_id":52755937,"comment_id":101172929,"body_markdown":"i&#39;m trying to build javafx and don&#39;t know how to solve this problem","body":"i&#39;m trying to build javafx and don&#39;t know how to solve this problem"},{"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"score":0,"creation_date":1585922198,"post_id":52755937,"comment_id":107942451,"body_markdown":"when / and when to use \\\\, please explain!!","body":"when / and when to use \\\\, please explain!!"},{"owner":{"account_id":15068489,"reputation":604,"user_id":10874806,"display_name":"Hamza Khattabi"},"score":0,"creation_date":1674124893,"post_id":52755937,"comment_id":132649718,"body_markdown":"&quot;/&quot; is used for defining a Unix path, &quot;\\&quot; is used for defining a Windows path. But since &quot;\\&quot; is used to escape a character, the &quot;\\&quot; character will not be take into account. So escaping the escaping character will take the &quot;\\&quot; into account","body":"&quot;/&quot; is used for defining a Unix path, &quot;\\&quot; is used for defining a Windows path. But since &quot;\\&quot; is used to escape a character, the &quot;\\&quot; character will not be take into account. So escaping the escaping character will take the &quot;\\&quot; into account"}],"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1539247705,"creation_date":1539247705,"answer_id":52755937,"question_id":52755854,"body_markdown":"Your directory path contains `/` try using\r\n\r\n        Paths.get(&quot;C:\\\\Users\\\\Desktop\\\\workspaces\\\\sra\\\\emm-be\\\\wsm-kap-api-server\\\\target\\\\test-classes\\\\swagger\\\\swagger.json&quot;);","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; when using Paths.get()","body":"<p>Your directory path contains <code>/</code> try using</p>\n\n<pre><code>    Paths.get(\"C:\\\\Users\\\\Desktop\\\\workspaces\\\\sra\\\\emm-be\\\\wsm-kap-api-server\\\\target\\\\test-classes\\\\swagger\\\\swagger.json\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14494283,"reputation":31,"user_id":10469406,"display_name":"Filip Hartman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539249269,"creation_date":1539249269,"answer_id":52756417,"question_id":52755854,"body_markdown":"You have `/` before C in Your directory path. If you remove it it should work on Windows too.\r\n\r\n     Paths.get(C:/Users/Desktop/workspaces/sra/emm-be/wsm-kap-api-server/target/test-classes/swagger/swagger.json);","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; when using Paths.get()","body":"<p>You have <code>/</code> before C in Your directory path. If you remove it it should work on Windows too.</p>\n\n<pre><code> Paths.get(C:/Users/Desktop/workspaces/sra/emm-be/wsm-kap-api-server/target/test-classes/swagger/swagger.json);\n</code></pre>\n"}],"owner":{"account_id":7199845,"reputation":277,"user_id":10353383,"display_name":"EDR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19456,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":52755937,"answer_count":2,"score":9,"last_activity_date":1668809651,"creation_date":1539247432,"question_id":52755854,"body_markdown":"When I use Paths.get() to create a directory I encounter exception below.\r\n\r\n    java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:/Users/Desktop/workspaces/sra/emm-be/wsm-kap-api-server/target/test-classes/swagger\\swagger.json\r\n\r\n\r\nThis happens when I use the workspace of my Windows machine. For linux, it&#39;s working fine.\r\n\r\n\r\n","title":"java.nio.file.InvalidPathException: Illegal char &lt;:&gt; when using Paths.get()","body":"<p>When I use Paths.get() to create a directory I encounter exception below.</p>\n<pre><code>java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:/Users/Desktop/workspaces/sra/emm-be/wsm-kap-api-server/target/test-classes/swagger\\swagger.json\n</code></pre>\n<p>This happens when I use the workspace of my Windows machine. For linux, it's working fine.</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":6441975,"reputation":351,"user_id":4991722,"display_name":"Mahesh Biradar"},"score":1,"creation_date":1668807293,"post_id":74495477,"comment_id":131504131,"body_markdown":"Can you please take a loot at this example - https://www.baeldung.com/spring-security-authentication-with-a-database .. It&#39;s same Database backed auth using userdetailsService... You need to register the bean in context.","body":"Can you please take a loot at this example - <a href=\"https://www.baeldung.com/spring-security-authentication-with-a-database\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-authentication-with-a-database</a> .. It&#39;s same Database backed auth using userdetailsService... You need to register the bean in context."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1668808431,"post_id":74495477,"comment_id":131504363,"body_markdown":"@MaheshBiradar thank you! So if I am not mistaken, I just need to add `@Service` to the class `CustomUserDetailService`.","body":"@MaheshBiradar thank you! So if I am not mistaken, I just need to add <code>@Service</code> to the class <code>CustomUserDetailService</code>."},{"owner":{"account_id":6441975,"reputation":351,"user_id":4991722,"display_name":"Mahesh Biradar"},"score":0,"creation_date":1668808554,"post_id":74495477,"comment_id":131504396,"body_markdown":"Yes,that is correct","body":"Yes,that is correct"}],"answers":[{"comments":[{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1668808565,"post_id":74495706,"comment_id":131504398,"body_markdown":"Yes, probably I was just missing `@Service`. Thank you!","body":"Yes, probably I was just missing <code>@Service</code>. Thank you!"}],"tags":[],"owner":{"account_id":6432817,"reputation":26,"user_id":4985267,"display_name":"AlekseyVasiliev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668808413,"creation_date":1668808413,"answer_id":74495706,"question_id":74495477,"body_markdown":"CustomUserDetailService must be annotate @Service or @Component for register  to spring bean context.\r\n\r\nAlso you can read more about UserDetailsService: https://howtodoinjava.com/spring-security/inmemory-jdbc-userdetails-service/","title":"Created CustomUserDetailService. Now what?","body":"<p>CustomUserDetailService must be annotate @Service or @Component for register  to spring bean context.</p>\n<p>Also you can read more about UserDetailsService: <a href=\"https://howtodoinjava.com/spring-security/inmemory-jdbc-userdetails-service/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring-security/inmemory-jdbc-userdetails-service/</a></p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74495706,"answer_count":1,"score":0,"last_activity_date":1668808413,"creation_date":1668806800,"question_id":74495477,"body_markdown":"I am just learning Spring Security. My goal is to authenticate the user by their username and password, which are stored in PostgreSQL.\r\n\r\nSo far, this is what I have:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class configurator {\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .authorizeHttpRequests(auth -&gt;\r\n                                auth\r\n                                        .anyRequest().authenticated()\r\n                        )\r\n                .httpBasic();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n```java\r\npublic class CustomUserDetails implements UserDetails {\r\n    private final User user;\r\n\r\n    public CustomUserDetails(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return user.getPassword();\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return user.getUsername();\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n```java\r\npublic class CustomUserDetailService implements UserDetailsService {\r\n    private final UserRepository userRepository;\r\n\r\n    public CustomUserDetailService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepository.findByUsername(username);\r\n        return new CustomUserDetails(user);\r\n    }\r\n}\r\n```\r\nYou may also find this code on https://github.com/RezaS/Login-with-Spring-Security.\r\n\r\nMy question is, what do I do with `CustomUserDetailService` now? Should it be implemented in `Configurator` class? If so, how do I do this?","title":"Created CustomUserDetailService. Now what?","body":"<p>I am just learning Spring Security. My goal is to authenticate the user by their username and password, which are stored in PostgreSQL.</p>\n<p>So far, this is what I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class configurator {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeHttpRequests(auth -&gt;\n                                auth\n                                        .anyRequest().authenticated()\n                        )\n                .httpBasic();\n        return http.build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomUserDetails implements UserDetails {\n    private final User user;\n\n    public CustomUserDetails(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return null;\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getUsername();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomUserDetailService implements UserDetailsService {\n    private final UserRepository userRepository;\n\n    public CustomUserDetailService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);\n        return new CustomUserDetails(user);\n    }\n}\n</code></pre>\n<p>You may also find this code on <a href=\"https://github.com/RezaS/Login-with-Spring-Security\" rel=\"nofollow noreferrer\">https://github.com/RezaS/Login-with-Spring-Security</a>.</p>\n<p>My question is, what do I do with <code>CustomUserDetailService</code> now? Should it be implemented in <code>Configurator</code> class? If so, how do I do this?</p>\n"},{"tags":["java","html","jsp","spring-mvc"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1460129674,"post_id":36503589,"comment_id":60614370,"body_markdown":"It&#39;s a character encoding issue. Your server is sending data in an encoding other than what your browser expects.","body":"It&#39;s a character encoding issue. Your server is sending data in an encoding other than what your browser expects."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1460129684,"post_id":36503589,"comment_id":60614379,"body_markdown":"What&#39;s the encoding of your website?","body":"What&#39;s the encoding of your website?"},{"owner":{"account_id":6228758,"reputation":13,"user_id":4846221,"display_name":"vbr"},"score":0,"creation_date":1460130163,"post_id":36503589,"comment_id":60614676,"body_markdown":"if this is an encoding issue with the server then it should be with all the users right? and also the code to add this &gt;&gt; is hard coded in jsp.  &lt;span class=&quot;separator&quot;&gt;\n\t\t\t&#187; &lt;/span&gt;","body":"if this is an encoding issue with the server then it should be with all the users right? and also the code to add this &gt;&gt; is hard coded in jsp.  &lt;span class=&quot;separator&quot;&gt; \t\t\t&#187; &lt;/span&gt;"}],"answers":[{"tags":[],"owner":{"account_id":2433438,"reputation":1759,"user_id":2123877,"display_name":"Ali Seyedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1460131088,"creation_date":1460130344,"answer_id":36503913,"question_id":36503589,"body_markdown":"You should have this on top of your `jsp` files:\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n\r\nIf you have that, the problem is with your client&#39;s browser which hasn&#39;t chosen the proper encoding.  \r\n\r\nAdditionally, you may find useful information in this SO question: https://stackoverflow.com/questions/1488866/how-to-replace-%C3%AF-%C2%BD-in-a-string","title":"&gt;&gt; converted to &#239;&#191;&#189;","body":"<p>You should have this on top of your <code>jsp</code> files:</p>\n\n<pre><code>&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\n</code></pre>\n\n<p>If you have that, the problem is with your client's browser which hasn't chosen the proper encoding.  </p>\n\n<p>Additionally, you may find useful information in this SO question: <a href=\"https://stackoverflow.com/questions/1488866/how-to-replace-%C3%AF-%C2%BD-in-a-string\">How to replace &#239;&#191;&#189; in a string</a></p>\n"}],"owner":{"account_id":6228758,"reputation":13,"user_id":4846221,"display_name":"vbr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3680,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36503913,"answer_count":1,"score":1,"last_activity_date":1668808283,"creation_date":1460129459,"question_id":36503589,"body_markdown":"One of the application user has reported that they are seeing &#239;&#191;&#189;  instartd of &gt;&gt; on their home and other pages. There are about 100 users and only one user has this issue. The user is using IE11. what may be the cause of this issue.","title":"&gt;&gt; converted to &#239;&#191;&#189;","body":"<p>One of the application user has reported that they are seeing ï¿½  instartd of >> on their home and other pages. There are about 100 users and only one user has this issue. The user is using IE11. what may be the cause of this issue.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1668807545,"post_id":74495577,"comment_id":131504197,"body_markdown":"You&#39;d have to close the input console somehow.  I think it&#39;s ctrl-D on Unix and ctrl-Z on Windows.  But if you&#39;re inside an IDE then I don&#39;t know.  Also this is kind of a bad idea, the usual method is to add a flag to the input, like typing &quot;quit&quot;.","body":"You&#39;d have to close the input console somehow.  I think it&#39;s ctrl-D on Unix and ctrl-Z on Windows.  But if you&#39;re inside an IDE then I don&#39;t know.  Also this is kind of a bad idea, the usual method is to add a flag to the input, like typing &quot;quit&quot;."},{"owner":{"account_id":26978543,"reputation":11,"user_id":20543280,"display_name":"Ivan LIU"},"score":0,"creation_date":1668808085,"post_id":74495577,"comment_id":131504300,"body_markdown":"@chptr-one I just upload the code","body":"@chptr-one I just upload the code"},{"owner":{"account_id":26978543,"reputation":11,"user_id":20543280,"display_name":"Ivan LIU"},"score":0,"creation_date":1668808191,"post_id":74495577,"comment_id":131504315,"body_markdown":"@markspace I know your mean by use the flag to terminate the program? Is that the only way to terminate the program?","body":"@markspace I know your mean by use the flag to terminate the program? Is that the only way to terminate the program?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668808466,"post_id":74495577,"comment_id":131504370,"body_markdown":"The system cannot tell the difference between a slow typist and someone who is done.","body":"The system cannot tell the difference between a slow typist and someone who is done."}],"owner":{"account_id":26978543,"reputation":11,"user_id":20543280,"display_name":"Ivan LIU"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668808045,"creation_date":1668807388,"question_id":74495577,"body_markdown":"I trying to use scanner to read an arbitrary number of Strings, I use the while loop, the condition is (in.hasNext()). but when I finish type my input the system still wait for you next input which means in.hasNext() is always true. I want to find out if I finish type my input how could I let in.hasNext() return false.\r\n\r\nwhen I finish typing my input, i need the in.hasNext() return false instead of waiting you next input\r\n\r\n    public class Test {\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        \r\n        ArrayList&lt;String&gt; str = new ArrayList&lt;String&gt;();\r\n        \r\n        while (in.hasNext()){\r\n            str.add(in.next());\r\n        }\r\n    }\r\n}","title":"For the in.hasNext() function, how does the scanner know we are not past any input","body":"<p>I trying to use scanner to read an arbitrary number of Strings, I use the while loop, the condition is (in.hasNext()). but when I finish type my input the system still wait for you next input which means in.hasNext() is always true. I want to find out if I finish type my input how could I let in.hasNext() return false.</p>\n<p>when I finish typing my input, i need the in.hasNext() return false instead of waiting you next input</p>\n<pre><code>public class Test {\npublic static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    \n    ArrayList&lt;String&gt; str = new ArrayList&lt;String&gt;();\n    \n    while (in.hasNext()){\n        str.add(in.next());\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","ethereum","smartcontracts","web3-java"],"answers":[{"tags":[],"owner":{"account_id":2852138,"reputation":1036,"user_id":2449110,"accept_rate":52,"display_name":"Sorin Grecu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619557283,"creation_date":1619557283,"answer_id":67290627,"question_id":67287219,"body_markdown":"Funny how posting a question here helps with rubber ducking, isn&#39;t it? \r\n\r\nLooked at the contract and it reads msg.value. Guess what, we&#39;re not sending that. Even though the `swapExactEthForTokens` is a payable, the wrapper isn&#39;t generating a parameter for it.\r\n\r\nFollow this bug for more info: https://github.com/web3j/web3j/issues/1268\r\n\r\nI was basically sending a transaction with 0 ether, ofc it returned `INSUFFICIENT_INPUT_AMOUNT`. Thought that if the Java Wrapper only gave me that first amount it would automatically take care of it but nope.\r\n\r\nWhat I had to do was manually add the weiValue to `executeRemoteCallTransaction(function, weiValue)` because the wrapper doesn&#39;t do that, look at the above bug report.\r\n\r\nAnyway, I&#39;ll leave this open in case anyone wants to chime-in with more insights.","title":"Web3j and Uniswap Router V2, converting wei to uint256","body":"<p>Funny how posting a question here helps with rubber ducking, isn't it?</p>\n<p>Looked at the contract and it reads msg.value. Guess what, we're not sending that. Even though the <code>swapExactEthForTokens</code> is a payable, the wrapper isn't generating a parameter for it.</p>\n<p>Follow this bug for more info: <a href=\"https://github.com/web3j/web3j/issues/1268\" rel=\"nofollow noreferrer\">https://github.com/web3j/web3j/issues/1268</a></p>\n<p>I was basically sending a transaction with 0 ether, ofc it returned <code>INSUFFICIENT_INPUT_AMOUNT</code>. Thought that if the Java Wrapper only gave me that first amount it would automatically take care of it but nope.</p>\n<p>What I had to do was manually add the weiValue to <code>executeRemoteCallTransaction(function, weiValue)</code> because the wrapper doesn't do that, look at the above bug report.</p>\n<p>Anyway, I'll leave this open in case anyone wants to chime-in with more insights.</p>\n"}],"owner":{"account_id":2852138,"reputation":1036,"user_id":2449110,"accept_rate":52,"display_name":"Sorin Grecu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1789,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":67290627,"answer_count":1,"score":3,"last_activity_date":1668807466,"creation_date":1619541569,"question_id":67287219,"body_markdown":"the issue I&#39;m having is that I&#39;m trying to send a value in wei to `swapExactETHForTokens`, but it returns `Fail with error &#39;UniswapV2Library: INSUFFICIENT_INPUT_AMOUNT&#39;`. If I convert 1 ETH to wei (in code) it comes out as `1000000000000000000`. When doing a swap from the Uniswap GUI it turns 1 ETH to `1059503741842561918508100943433`. \r\nI&#39;ll put my code below, guess I&#39;ll look into the Uniswap frontend project to see how it converts the 1 ETH in the GUI to that value (guess it also adds the fees before calling the smart contract)\r\n\r\n```\r\n  web3j = Web3j.build(web3jService);\r\n        UniswapV2Router02 uniSwapRouter = UniswapV2Router02.load(UNISWAP_V2_RINKEBY, \r\n                web3j, \r\n                credentials, \r\n                new DefaultGasProvider());\r\n        uniSwapRouter.swapExactETHForTokens(\r\n                Convert.toWei(&quot;1&quot;, Convert.Unit.ETHER).toBigInteger(),\r\n                Arrays.asList(WETH_ADDRESS, DAI_ADDRESS),\r\n                credentials.getAddress(),\r\n                BigInteger.valueOf(DEADLINE_TIMESTAMP)).send();\r\n\r\n```\r\nWhat I will try: \r\n- try and convert the amount to uint256, trailing zeros and all (not sure how though)\r\n- look at how the frontend is doing it, not sure if I should call `swapExactETHForTokens` directly, without calling some other function before\r\n\r\nSo some questions would be:\r\n- how can I turn lets say a value of 1 ETH to a BigInteger representing that uint256 number?\r\n- should I call other functions beforehand?\r\n- how do I set the gas? I guess through the `new DefaultGasProvider()`\r\n- I saw that in Javascript they do something like `const MIN_TOKENS = web3.utils.toHex(0.2 * 10 ** 18)`, how can I do this in Web3 without being hackish and add trailing zeros?","title":"Web3j and Uniswap Router V2, converting wei to uint256","body":"<p>the issue I'm having is that I'm trying to send a value in wei to <code>swapExactETHForTokens</code>, but it returns <code>Fail with error 'UniswapV2Library: INSUFFICIENT_INPUT_AMOUNT'</code>. If I convert 1 ETH to wei (in code) it comes out as <code>1000000000000000000</code>. When doing a swap from the Uniswap GUI it turns 1 ETH to <code>1059503741842561918508100943433</code>.\nI'll put my code below, guess I'll look into the Uniswap frontend project to see how it converts the 1 ETH in the GUI to that value (guess it also adds the fees before calling the smart contract)</p>\n<pre><code>  web3j = Web3j.build(web3jService);\n        UniswapV2Router02 uniSwapRouter = UniswapV2Router02.load(UNISWAP_V2_RINKEBY, \n                web3j, \n                credentials, \n                new DefaultGasProvider());\n        uniSwapRouter.swapExactETHForTokens(\n                Convert.toWei(&quot;1&quot;, Convert.Unit.ETHER).toBigInteger(),\n                Arrays.asList(WETH_ADDRESS, DAI_ADDRESS),\n                credentials.getAddress(),\n                BigInteger.valueOf(DEADLINE_TIMESTAMP)).send();\n\n</code></pre>\n<p>What I will try:</p>\n<ul>\n<li>try and convert the amount to uint256, trailing zeros and all (not sure how though)</li>\n<li>look at how the frontend is doing it, not sure if I should call <code>swapExactETHForTokens</code> directly, without calling some other function before</li>\n</ul>\n<p>So some questions would be:</p>\n<ul>\n<li>how can I turn lets say a value of 1 ETH to a BigInteger representing that uint256 number?</li>\n<li>should I call other functions beforehand?</li>\n<li>how do I set the gas? I guess through the <code>new DefaultGasProvider()</code></li>\n<li>I saw that in Javascript they do something like <code>const MIN_TOKENS = web3.utils.toHex(0.2 * 10 ** 18)</code>, how can I do this in Web3 without being hackish and add trailing zeros?</li>\n</ul>\n"},{"tags":["java","android","material-ui","material-components-android"],"comments":[{"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1651854787,"post_id":72111416,"comment_id":127471471,"body_markdown":"How do you get `inflter`?","body":"How do you get <code>inflter</code>?"},{"owner":{"account_id":8341728,"reputation":514,"user_id":6266842,"accept_rate":64,"display_name":"Anon"},"score":0,"creation_date":1652088825,"post_id":72111416,"comment_id":127512691,"body_markdown":"@GabrieleMariotti inflter = (LayoutInflater.from(applicationContext));","body":"@GabrieleMariotti inflter = (LayoutInflater.from(applicationContext));"},{"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1652089392,"post_id":72111416,"comment_id":127512872,"body_markdown":"You can find the [answer below](https://stackoverflow.com/a/72169923/2016562). The issue is the application context. it doesn&#39;t have the app theme.","body":"You can find the <a href=\"https://stackoverflow.com/a/72169923/2016562\">answer below</a>. The issue is the application context. it doesn&#39;t have the app theme."}],"answers":[{"tags":[],"owner":{"account_id":13406308,"reputation":4142,"user_id":9674249,"display_name":"i30mb1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651661357,"creation_date":1651661357,"answer_id":72111736,"question_id":72111416,"body_markdown":"Check your AndroidManifest.xml that you are using right theme for your app also\r\n```\r\n    &lt;application\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        ...&gt;\r\n```\r\n\r\n\r\n","title":"Error inflating class com.google.android.material.button.MaterialButton","body":"<p>Check your AndroidManifest.xml that you are using right theme for your app also</p>\n<pre><code>    &lt;application\n        android:theme=&quot;@style/AppTheme&quot;\n        ...&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8341728,"reputation":514,"user_id":6266842,"accept_rate":64,"display_name":"Anon"},"score":0,"creation_date":1651667078,"post_id":72112236,"comment_id":127416563,"body_markdown":"tried but same result","body":"tried but same result"},{"owner":{"account_id":4019267,"reputation":740,"user_id":3310235,"display_name":"William"},"score":0,"creation_date":1682200354,"post_id":72112236,"comment_id":134178625,"body_markdown":"This worked for me. I switched to MaterialButton but my theme was still default.","body":"This worked for me. I switched to MaterialButton but my theme was still default."}],"tags":[],"owner":{"account_id":15750890,"reputation":529,"user_id":11365488,"display_name":"Elfnan Sherif"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1651663879,"creation_date":1651663879,"answer_id":72112236,"question_id":72111416,"body_markdown":"change your theme\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n\r\nto\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar.Bridge&quot;&gt;","title":"Error inflating class com.google.android.material.button.MaterialButton","body":"<p>change your theme</p>\n<pre><code>&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar.Bridge&quot;&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8341728,"reputation":514,"user_id":6266842,"accept_rate":64,"display_name":"Anon"},"score":1,"creation_date":1652093612,"post_id":72169923,"comment_id":127514397,"body_markdown":"thanks, using the context of an activity was the fix","body":"thanks, using the context of an activity was the fix"}],"tags":[],"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652089345,"creation_date":1652089345,"answer_id":72169923,"question_id":72111416,"body_markdown":"The issue is here.\r\n\r\n    inflter = (LayoutInflater.from(applicationContext)); \r\n\r\n\r\nThe **Application context** doesn&#39;t have your app theme.  \r\nYou have to use a themed context like an `Activity`.\r\n\r\n","title":"Error inflating class com.google.android.material.button.MaterialButton","body":"<p>The issue is here.</p>\n<pre><code>inflter = (LayoutInflater.from(applicationContext)); \n</code></pre>\n<p>The <strong>Application context</strong> doesn't have your app theme.<br />\nYou have to use a themed context like an <code>Activity</code>.</p>\n"},{"tags":[],"owner":{"account_id":3406367,"reputation":51,"user_id":2857321,"display_name":"m0thman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663258479,"creation_date":1663258479,"answer_id":73734414,"question_id":72111416,"body_markdown":"If you&#39;ve got a separate theme for night don&#39;t forget to change to the Theme.MaterialComponents theme there too.","title":"Error inflating class com.google.android.material.button.MaterialButton","body":"<p>If you've got a separate theme for night don't forget to change to the Theme.MaterialComponents theme there too.</p>\n"}],"owner":{"account_id":8341728,"reputation":514,"user_id":6266842,"accept_rate":64,"display_name":"Anon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5602,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":72169923,"answer_count":4,"score":8,"last_activity_date":1668806794,"creation_date":1651659761,"question_id":72111416,"body_markdown":"What i&#39;m trying to achieve is having a gridview with some materialButton inside.\r\nI tried to create the gridview like : \r\n\r\n    &lt;GridView\r\n                android:id=&quot;@+id/login_gridview_code_input&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:numColumns=&quot;3&quot;\r\n                android:horizontalSpacing=&quot;15dp&quot;\r\n                android:verticalSpacing=&quot;15dp&quot;&gt;\r\n            &lt;/GridView&gt;\r\n\r\n\r\nAnd the element to be inflated like:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.button.MaterialButton\r\n                android:id=&quot;@+id/button_code_digit&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.Button.OutlinedButton.Icon&quot;\r\n                android:layout_width=&quot;50dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:insetLeft=&quot;0dp&quot;\r\n                android:insetTop=&quot;0dp&quot;\r\n                android:insetRight=&quot;0dp&quot;\r\n                android:insetBottom=&quot;0dp&quot;\r\n                android:padding=&quot;0dp&quot;\r\n                app:iconGravity=&quot;textStart&quot;\r\n                app:iconPadding=&quot;0dp&quot;\r\n                app:iconSize=&quot;40dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:shapeAppearanceOverlay=&quot;@style/ShapeAppearanceOverlay.pswStorer.Button.Circle&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nthe adapter inflates the button :\r\n\r\n    inflter = (LayoutInflater.from(applicationContext)); \r\n    view = inflter.inflate(R.layout.button_code, null); // inflate the layout\r\n\r\n\r\nbut I always receive this stacktrace :\r\n\r\n    Error inflating class com.google.android.material.button.MaterialButton\r\n    Caused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).\r\n\r\nI checked the appTheme but seems correct to me:\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n            &lt;item name=&quot;materialAlertDialogTheme&quot;&gt;@style/AlertDialogMaterialTheme&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\nAny ideas?\r\n\r\nEDIT: I tried to check and my app has the correct theme\r\n\r\n    android:theme=&quot;@style/AppTheme&quot;\r\n\r\nI also changed the theme to **Theme.MaterialComponents.DayNight.NoActionBar.Bridge** but nothing changed","title":"Error inflating class com.google.android.material.button.MaterialButton","body":"<p>What i'm trying to achieve is having a gridview with some materialButton inside.\nI tried to create the gridview like :</p>\n<pre><code>&lt;GridView\n            android:id=&quot;@+id/login_gridview_code_input&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:numColumns=&quot;3&quot;\n            android:horizontalSpacing=&quot;15dp&quot;\n            android:verticalSpacing=&quot;15dp&quot;&gt;\n        &lt;/GridView&gt;\n</code></pre>\n<p>And the element to be inflated like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/button_code_digit&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.OutlinedButton.Icon&quot;\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:insetLeft=&quot;0dp&quot;\n            android:insetTop=&quot;0dp&quot;\n            android:insetRight=&quot;0dp&quot;\n            android:insetBottom=&quot;0dp&quot;\n            android:padding=&quot;0dp&quot;\n            app:iconGravity=&quot;textStart&quot;\n            app:iconPadding=&quot;0dp&quot;\n            app:iconSize=&quot;40dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:shapeAppearanceOverlay=&quot;@style/ShapeAppearanceOverlay.pswStorer.Button.Circle&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>the adapter inflates the button :</p>\n<pre><code>inflter = (LayoutInflater.from(applicationContext)); \nview = inflter.inflate(R.layout.button_code, null); // inflate the layout\n</code></pre>\n<p>but I always receive this stacktrace :</p>\n<pre><code>Error inflating class com.google.android.material.button.MaterialButton\nCaused by: java.lang.IllegalArgumentException: The style on this component requires your app theme to be Theme.MaterialComponents (or a descendant).\n</code></pre>\n<p>I checked the appTheme but seems correct to me:</p>\n<pre><code>&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=&quot;materialAlertDialogTheme&quot;&gt;@style/AlertDialogMaterialTheme&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>Any ideas?</p>\n<p>EDIT: I tried to check and my app has the correct theme</p>\n<pre><code>android:theme=&quot;@style/AppTheme&quot;\n</code></pre>\n<p>I also changed the theme to <strong>Theme.MaterialComponents.DayNight.NoActionBar.Bridge</strong> but nothing changed</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","illegalargumentexception"],"comments":[{"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"score":0,"creation_date":1668804514,"post_id":74494684,"comment_id":131503471,"body_markdown":"still same error comes","body":"still same error comes"}],"answers":[{"comments":[{"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"score":0,"creation_date":1668807428,"post_id":74495298,"comment_id":131504165,"body_markdown":"Thanks man, as you suggested I have just added dummy WHERE expression to the count query and problem solved","body":"Thanks man, as you suggested I have just added dummy WHERE expression to the count query and problem solved"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668807553,"post_id":74495298,"comment_id":131504198,"body_markdown":"I am glad to have helped you. Apparently you have another question on the same subject on which I left a comment.","body":"I am glad to have helped you. Apparently you have another question on the same subject on which I left a comment."}],"tags":[],"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668806737,"creation_date":1668805468,"answer_id":74495298,"question_id":74494684,"body_markdown":"The problem is in the count query. Hibernate does not know what to do with the method  parameter since the count query does not have any. It is not consistent for hibernate that the count query does use the same parameters as the &quot;normal&quot; query.\r\nSince your count query really does not need it, just add a dummy where clause like `([?1] is null or [?1] is not null)`","title":"How to fetch data as pageable with custom query in Jpa without IllegalArgumentException?","body":"<p>The problem is in the count query. Hibernate does not know what to do with the method  parameter since the count query does not have any. It is not consistent for hibernate that the count query does use the same parameters as the &quot;normal&quot; query.\nSince your count query really does not need it, just add a dummy where clause like <code>([?1] is null or [?1] is not null)</code></p>\n"}],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74495298,"answer_count":1,"score":0,"last_activity_date":1668806737,"creation_date":1668801126,"question_id":74494684,"body_markdown":"I am fetching data with custom query by applying the way [on this post][1].\r\n\r\nAnd here is my repository method that returns a page sorted by distance which is a mysql function:\r\n\r\n    @Query(value = &quot;SELECT *, ST_Distance_Sphere(ST_GeomFromText(?1, 4326), location) AS distance FROM Advert_Search ORDER BY distance &quot;,\r\n                countQuery = &quot;SELECT count(*) FROM Advert_Search&quot;,\r\n                nativeQuery = true)\r\n        Page&lt;AdvertSearch&gt; findAllSortByDistance(String point, Pageable pageable);\r\n\r\n\r\nThe result is working good but I am getting `IllegalArgumentException` even if the query result is correct.\r\n\r\nHere is the output:\r\n\r\n    Hibernate: SELECT *, ST_Distance_Sphere(ST_GeomFromText(?, 4326), location) AS distance FROM Advert_Search ORDER BY distance  limit ?\r\n    2022-11-18 22:49:48.157  INFO 29564 --- [nio-8080-exec-5] j.r.q.QueryParameterSetter$ErrorHandling : Silently ignoring\r\n    \r\n    java.lang.IllegalArgumentException: Could not locate ordinal parameter [1], expecting one of []\r\n    \tat org.hibernate.query.internal.ParameterMetadataImpl.getOrdinalParameterDescriptor(ParameterMetadataImpl.java:154) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.query.internal.ParameterMetadataImpl.getQueryParameter(ParameterMetadataImpl.java:204) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.query.internal.QueryParameterBindingsImpl.getBinding(QueryParameterBindingsImpl.java:183) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:519) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:656) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:66) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:334) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$5(QueryParameterSetter.java:127) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$2.execute(QueryParameterSetter.java:150) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:127) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:82) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateCountQuery(AbstractStringBasedJpaQuery.java:129) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createCountQuery(AbstractJpaQuery.java:259) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.count(JpaQueryExecution.java:185) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.lambda$doExecute$0(JpaQueryExecution.java:180) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:63) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy158.findAllSortByDistance(Unknown Source) ~[na:na]\r\n    \tat com.aleflet.alefletbackend.controller.TestController.getTest(TestController.java:36) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat com.aleflet.alefletbackend.config.jwt.JwtFilter.doFilterInternal(JwtFilter.java:56) ~[classes/:na]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    \r\n    Hibernate: SELECT count(*) FROM Advert_Search\r\n\r\n\r\nWhy I get this exception and how can I fix that ?\r\n\r\nNote: dialect is: `&quot;org.hibernate.spatial.dialect.mysql.MySQL56SpatialDialect&quot;`\r\n\r\n  [1]: https://stackoverflow.com/questions/22345081/spring-data-jpa-query-and-pageable\r\n\r\n\r\n\r\n\r\n","title":"How to fetch data as pageable with custom query in Jpa without IllegalArgumentException?","body":"<p>I am fetching data with custom query by applying the way <a href=\"https://stackoverflow.com/questions/22345081/spring-data-jpa-query-and-pageable\">on this post</a>.</p>\n<p>And here is my repository method that returns a page sorted by distance which is a mysql function:</p>\n<pre><code>@Query(value = &quot;SELECT *, ST_Distance_Sphere(ST_GeomFromText(?1, 4326), location) AS distance FROM Advert_Search ORDER BY distance &quot;,\n            countQuery = &quot;SELECT count(*) FROM Advert_Search&quot;,\n            nativeQuery = true)\n    Page&lt;AdvertSearch&gt; findAllSortByDistance(String point, Pageable pageable);\n</code></pre>\n<p>The result is working good but I am getting <code>IllegalArgumentException</code> even if the query result is correct.</p>\n<p>Here is the output:</p>\n<pre><code>Hibernate: SELECT *, ST_Distance_Sphere(ST_GeomFromText(?, 4326), location) AS distance FROM Advert_Search ORDER BY distance  limit ?\n2022-11-18 22:49:48.157  INFO 29564 --- [nio-8080-exec-5] j.r.q.QueryParameterSetter$ErrorHandling : Silently ignoring\n\njava.lang.IllegalArgumentException: Could not locate ordinal parameter [1], expecting one of []\n    at org.hibernate.query.internal.ParameterMetadataImpl.getOrdinalParameterDescriptor(ParameterMetadataImpl.java:154) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.query.internal.ParameterMetadataImpl.getQueryParameter(ParameterMetadataImpl.java:204) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.query.internal.QueryParameterBindingsImpl.getBinding(QueryParameterBindingsImpl.java:183) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:519) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:656) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:66) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:334) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$5(QueryParameterSetter.java:127) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$2.execute(QueryParameterSetter.java:150) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:127) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:82) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateCountQuery(AbstractStringBasedJpaQuery.java:129) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createCountQuery(AbstractJpaQuery.java:259) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.count(JpaQueryExecution.java:185) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.lambda$doExecute$0(JpaQueryExecution.java:180) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.support.PageableExecutionUtils.getPage(PageableExecutionUtils.java:63) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n    at jdk.proxy2/jdk.proxy2.$Proxy158.findAllSortByDistance(Unknown Source) ~[na:na]\n    at com.aleflet.alefletbackend.controller.TestController.getTest(TestController.java:36) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at com.aleflet.alefletbackend.config.jwt.JwtFilter.doFilterInternal(JwtFilter.java:56) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.3.jar:2.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\nHibernate: SELECT count(*) FROM Advert_Search\n</code></pre>\n<p>Why I get this exception and how can I fix that ?</p>\n<p>Note: dialect is: <code>&quot;org.hibernate.spatial.dialect.mysql.MySQL56SpatialDialect&quot;</code></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"display_name":"user10367961"},"score":1,"creation_date":1538405990,"post_id":52593811,"comment_id":92122513,"body_markdown":"Is the `protected` intended?","body":"Is the <code>protected</code> intended?"},{"owner":{"account_id":2704985,"reputation":1156,"user_id":2334771,"accept_rate":82,"display_name":"Arthur"},"score":0,"creation_date":1538414577,"post_id":52593811,"comment_id":92126580,"body_markdown":"Thx!!!! Protected is a kind of typo here.","body":"Thx!!!! Protected is a kind of typo here."},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1538439012,"post_id":52593811,"comment_id":92135269,"body_markdown":"what do you want to fix?","body":"what do you want to fix?"}],"answers":[{"tags":[],"owner":{"account_id":1028763,"reputation":649,"user_id":1037492,"display_name":"Nitin1706"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538442728,"creation_date":1538431044,"answer_id":52599425,"question_id":52593811,"body_markdown":"based on information provided, you its not able to create the DataSource bean for which &#39;db.driver&#39; value is required. This property needs to be mentioned in application properties. Try adding this property in propertySource. \r\nor you provide some default value for this property, something like this:\r\n\r\n    @Value(&quot;${db.driver:&#39;defaultValue&#39;}&quot;\r\n\r\nif error still exists, pls add stack trace and code-snippet for info to determine whats going on.","title":"Spring boot with profiles: javax.sql.DataSource&#39; that could not be found","body":"<p>based on information provided, you its not able to create the DataSource bean for which 'db.driver' value is required. This property needs to be mentioned in application properties. Try adding this property in propertySource. \nor you provide some default value for this property, something like this:</p>\n\n<pre><code>@Value(\"${db.driver:'defaultValue'}\"\n</code></pre>\n\n<p>if error still exists, pls add stack trace and code-snippet for info to determine whats going on.</p>\n"}],"owner":{"account_id":2704985,"reputation":1156,"user_id":2334771,"accept_rate":82,"display_name":"Arthur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668806360,"creation_date":1538405789,"question_id":52593811,"body_markdown":"I have application.properties in resource dir\r\n\r\n    server.port = 8888\r\nPool bean\r\n\r\n    @Bean\r\n    @Profile(&quot;local&quot;)\r\n    protected DataSource dataSource(@Value(&quot;${db.driver}&quot;) String driver,...) {\r\n        HikariConfig configuration = new HikariConfig();//........\r\n        return new HikariDataSource(configuration);\r\n    }\r\nConfig\r\n\r\n    @EnableAutoConfiguration(exclude = {SecurityAutoConfiguration.class,\r\n        DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\r\nSkipped other my configs, because all works without profile annotation.\r\n\r\nApp runs with\r\n\r\n    -Dspring.profiles.active=local\r\nHow to fix this?","title":"Spring boot with profiles: javax.sql.DataSource&#39; that could not be found","body":"<p>I have application.properties in resource dir</p>\n<pre><code>server.port = 8888\n</code></pre>\n<p>Pool bean</p>\n<pre><code>@Bean\n@Profile(&quot;local&quot;)\nprotected DataSource dataSource(@Value(&quot;${db.driver}&quot;) String driver,...) {\n    HikariConfig configuration = new HikariConfig();//........\n    return new HikariDataSource(configuration);\n}\n</code></pre>\n<p>Config</p>\n<pre><code>@EnableAutoConfiguration(exclude = {SecurityAutoConfiguration.class,\n    DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\n</code></pre>\n<p>Skipped other my configs, because all works without profile annotation.</p>\n<p>App runs with</p>\n<pre><code>-Dspring.profiles.active=local\n</code></pre>\n<p>How to fix this?</p>\n"},{"tags":["java","concurrentmodificationexception"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1668796212,"post_id":74493817,"comment_id":131501375,"body_markdown":"Can you show how you are modifying the list?","body":"Can you show how you are modifying the list?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1668796832,"post_id":74493817,"comment_id":131501529,"body_markdown":"In the body of the inner loop, you are modifying `list2`. The solution is.. not to do that. CoModEx means: Something changed the underlying list during iteration. If you must, either &#39;cache&#39; the changes you want to make and do them after, or use CopyOnWriteList, or make the changes on the (list)iterator (e.g. call `iterator.remove()`, do not call `list.remove(idx)`.","body":"In the body of the inner loop, you are modifying <code>list2</code>. The solution is.. not to do that. CoModEx means: Something changed the underlying list during iteration. If you must, either &#39;cache&#39; the changes you want to make and do them after, or use CopyOnWriteList, or make the changes on the (list)iterator (e.g. call <code>iterator.remove()</code>, do not call <code>list.remove(idx)</code>."},{"owner":{"account_id":15833778,"reputation":319,"user_id":11424259,"display_name":"janusz j"},"score":0,"creation_date":1668800041,"post_id":74493817,"comment_id":131502380,"body_markdown":"I am not modyfing list2, but the ConcurrentModificationException is thrown. I could use casual for each loop, but for that is also thrown ConcurrentModificationException.","body":"I am not modyfing list2, but the ConcurrentModificationException is thrown. I could use casual for each loop, but for that is also thrown ConcurrentModificationException."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1668800810,"post_id":74493817,"comment_id":131502567,"body_markdown":"What does the body of the inner loop do? Could list2 be modified concurrently from another thread? I think we’ll need a minimal, reproducible example to be able to answer definitively.","body":"What does the body of the inner loop do? Could list2 be modified concurrently from another thread? I think we’ll need a minimal, reproducible example to be able to answer definitively."},{"owner":{"account_id":15833778,"reputation":319,"user_id":11424259,"display_name":"janusz j"},"score":0,"creation_date":1668800964,"post_id":74493817,"comment_id":131502599,"body_markdown":"It shouldn&#39;t be and it&#39;s not.","body":"It shouldn&#39;t be and it&#39;s not."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1668801577,"post_id":74493817,"comment_id":131502764,"body_markdown":"What is `requirementsListIterator`? It is used, but never defined in the example.","body":"What is <code>requirementsListIterator</code>? It is used, but never defined in the example."},{"owner":{"account_id":15833778,"reputation":319,"user_id":11424259,"display_name":"janusz j"},"score":0,"creation_date":1668801676,"post_id":74493817,"comment_id":131502792,"body_markdown":"It&#39;s indeed listIterator.","body":"It&#39;s indeed listIterator."},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1668805971,"post_id":74493817,"comment_id":131503844,"body_markdown":"Are you sure the `while` is correct? You are nonstop and endlessly submitting tasks for execution.","body":"Are you sure the <code>while</code> is correct? You are nonstop and endlessly submitting tasks for execution."},{"owner":{"account_id":15833778,"reputation":319,"user_id":11424259,"display_name":"janusz j"},"score":0,"creation_date":1668806039,"post_id":74493817,"comment_id":131503865,"body_markdown":"The while is shown as example here and it was not the problem.","body":"The while is shown as example here and it was not the problem."},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1668806333,"post_id":74493817,"comment_id":131503925,"body_markdown":"You should post code that reproduces the problem, not some pseudocode. There&#39;s lots of edits and the snippet still wouldn&#39;t even compile (`list2.next()`, `Storage` is missing etc.).","body":"You should post code that reproduces the problem, not some pseudocode. There&#39;s lots of edits and the snippet still wouldn&#39;t even compile (<code>list2.next()</code>, <code>Storage</code> is missing etc.)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669202933,"post_id":74493817,"comment_id":131589829,"body_markdown":"If `list1` and `list2` are sublists, they are still backed by the original list. Modifications of any of those lists (the original and its sublists) will be seen as concurrent modification of all of those lists.","body":"If <code>list1</code> and <code>list2</code> are sublists, they are still backed by the original list. Modifications of any of those lists (the original and its sublists) will be seen as concurrent modification of all of those lists."}],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1668851223,"post_id":74495289,"comment_id":131509745,"body_markdown":"`sublist` does _not_ create a new list. It is a _view_ on the original list. Modifying the sublist will modify the original list (and vice-versa).","body":"<code>sublist</code> does <i>not</i> create a new list. It is a <i>view</i> on the original list. Modifying the sublist will modify the original list (and vice-versa)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1669203562,"post_id":74495289,"comment_id":131590054,"body_markdown":"Using `.stream().toList()` is inefficient, use `new ArrayList(...)` to create a copy of the sublist to a new list.","body":"Using <code>.stream().toList()</code> is inefficient, use <code>new ArrayList(...)</code> to create a copy of the sublist to a new list."}],"tags":[],"owner":{"account_id":15833778,"reputation":319,"user_id":11424259,"display_name":"janusz j"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668805419,"creation_date":1668805419,"answer_id":74495289,"question_id":74493817,"body_markdown":"I found solution for this I ended up extending `list2.sublist();` with list recreation, adding `.stream().toList()`. As I don&#39;t need `Iterator` for this solution I exchanged it for each loop. It seems that there is problem with iteration on `List` created by method `sublist()` within `ListIterator`.","title":"How to recreate Iterator within ListIterator? ConcurrentModificationException","body":"<p>I found solution for this I ended up extending <code>list2.sublist();</code> with list recreation, adding <code>.stream().toList()</code>. As I don't need <code>Iterator</code> for this solution I exchanged it for each loop. It seems that there is problem with iteration on <code>List</code> created by method <code>sublist()</code> within <code>ListIterator</code>.</p>\n"}],"owner":{"account_id":15833778,"reputation":319,"user_id":11424259,"display_name":"janusz j"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668806050,"creation_date":1668795248,"question_id":74493817,"body_markdown":"I have `ListIterator` and within it there is `list2.iterator()` which throws `ConcurrentModificationException` when 2nd iteration goes through `ListIterator`\r\n\r\n        ExecutorService executorService  = new ThreadPoolExecutor(\r\n                1,       // Initial pool size\r\n                1,       // Max pool size\r\n                1,\r\n                TimeUnit.SECONDS,\r\n                new LinkedBlockingQueue&lt;Runnable&gt;()\r\n        );\r\n        while(true){\r\n \t\t   executorService.execute(() -&gt; {                              \r\n\t\t\t   List&lt;String&gt; list = Storage.list;\r\n\t\t\t   for (ListIterator&lt;String&gt; listIterator = list.listIterator(); listIterator.hasNext(); ) {\r\n\t\t\t\t   String s = listIterator.next();\r\n\t\t\t\t   // string modification\r\n\t\t\t\t   listIterator.set(s);\r\n\t\t\t\t   List&lt;String&gt; list2 = Storage.list2;\r\n\t\t\t\t   // calling list2.iterator(); on 2nd iteration of listIterator throws ConcurrentModificationException\r\n\t\t\t\t   for (Iterator&lt;String&gt; iter2 = list2.iterator(); iter2 .hasNext(); ) {\r\n\t\t\t\t       String s2 = list2.next();\r\n\t\t\t\t       // no modifications of list2\r\n\t\t\t\t   }\r\n\t\t\t    }\r\n\t\t    });\r\n        }\r\n\r\n`list1` and `list2` are created as `sublist()` of another List.\r\nHow to avoid this exception and recreate list2 `Iterator` for 2nd iteration?\r\n","title":"How to recreate Iterator within ListIterator? ConcurrentModificationException","body":"<p>I have <code>ListIterator</code> and within it there is <code>list2.iterator()</code> which throws <code>ConcurrentModificationException</code> when 2nd iteration goes through <code>ListIterator</code></p>\n<pre><code>    ExecutorService executorService  = new ThreadPoolExecutor(\n            1,       // Initial pool size\n            1,       // Max pool size\n            1,\n            TimeUnit.SECONDS,\n            new LinkedBlockingQueue&lt;Runnable&gt;()\n    );\n    while(true){\n       executorService.execute(() -&gt; {                              \n           List&lt;String&gt; list = Storage.list;\n           for (ListIterator&lt;String&gt; listIterator = list.listIterator(); listIterator.hasNext(); ) {\n               String s = listIterator.next();\n               // string modification\n               listIterator.set(s);\n               List&lt;String&gt; list2 = Storage.list2;\n               // calling list2.iterator(); on 2nd iteration of listIterator throws ConcurrentModificationException\n               for (Iterator&lt;String&gt; iter2 = list2.iterator(); iter2 .hasNext(); ) {\n                   String s2 = list2.next();\n                   // no modifications of list2\n               }\n            }\n        });\n    }\n</code></pre>\n<p><code>list1</code> and <code>list2</code> are created as <code>sublist()</code> of another List.\nHow to avoid this exception and recreate list2 <code>Iterator</code> for 2nd iteration?</p>\n"},{"tags":["java","spring","spring-security","multiple-login"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1668779951,"post_id":74478246,"comment_id":131495747,"body_markdown":"When using a `SecurityFilterChain` bean, the `@Order` annotation goes on the `SecurityFilterChain` bean, not the parent class. You can see how to set up multiple filter chains in the Spring Security [reference documentation](https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#_multiple_httpsecurity).","body":"When using a <code>SecurityFilterChain</code> bean, the <code>@Order</code> annotation goes on the <code>SecurityFilterChain</code> bean, not the parent class. You can see how to set up multiple filter chains in the Spring Security <a href=\"https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#_multiple_httpsecurity\" rel=\"nofollow noreferrer\">reference documentation</a>."},{"owner":{"account_id":26754611,"reputation":11,"user_id":20353426,"display_name":"DESTROYER GG"},"score":0,"creation_date":1668783481,"post_id":74478246,"comment_id":131497074,"body_markdown":"Thanks for helping! I remember having made that same configuration without any result at some point, so I unconsciously rescued it, I must have coded it in the wrong way, I am new to the spring framework, and thanks for correcting me.","body":"Thanks for helping! I remember having made that same configuration without any result at some point, so I unconsciously rescued it, I must have coded it in the wrong way, I am new to the spring framework, and thanks for correcting me."}],"owner":{"account_id":26754611,"reputation":11,"user_id":20353426,"display_name":"DESTROYER GG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668805968,"creation_date":1668699728,"question_id":74478246,"body_markdown":"I have a problem in the SecurityFilterChain configuration for multiple http requests, the &quot;CLIENT&quot; configuration works, I don&#39;t need a redirect to a dedicated login, but the authentication is according to my requirements.\r\nThe problem lies in the Admin configuration, which completely ignores it, does not redirect to the declared login and does not set any restrictions.\r\nIt should be noted that this problem only happens in the Railway.app hosting, where I want to migrate the project, this project was deployed on heroku and localhost but there was no such problem.\r\n\r\nThis is the admin configuration class\r\n```\r\n@Configuration\r\n@Order(1)\r\npublic class adminSecurityConfig {\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return new CustomUserDetailsService();\r\n    }\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain1(HttpSecurity http) throws Exception {\r\n        //http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll();\r\n\r\n        http // ...\r\n                .csrf().disable();\r\n\r\n        http.antMatcher(&quot;/dashboard/**&quot;)\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n\t\t\t\t.anyRequest().hasRole(&quot;ADMIN&quot;)\r\n\t\t\t)\r\n                .formLogin()\r\n                .loginPage(&quot;/dashboard/login_admin&quot;)\r\n                .usernameParameter(&quot;email&quot;)\r\n                .loginProcessingUrl(&quot;/dashboard/login_admin&quot;)\r\n                .defaultSuccessUrl(&quot;/dashboard/home&quot;)\r\n                .and()\r\n                .logout()\r\n                .logoutUrl(&quot;/dashboard/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/&quot;)\r\n                .and()\r\n                .exceptionHandling().accessDeniedPage(&quot;/403&quot;);\r\n        System.out.println(&quot;Configuracion de Admin&quot;);\r\n        return http.build();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nThis is the configuration class &#39;client&#39;\r\n\r\n\r\n```\r\n@Configuration\r\n@Order(2)\r\npublic class clienteSecurityConfig {\r\n    /*\r\n    @Bean\r\n    public AuthenticationSuccessHandler successHandler() {\r\n        SimpleUrlAuthenticationSuccessHandler handler = new SimpleUrlAuthenticationSuccessHandler();\r\n        handler.setUseReferer(true);\r\n        return handler;\r\n    }*/\r\n    \r\n    @Autowired\r\n    AuthFailuredHandler authFailureHandler;\r\n    \r\n    @Autowired\r\n    AuthSuccesHandler authAuthSuccesHandle;\r\n  \r\n    @Bean\r\n    public SecurityFilterChain filterChain2(HttpSecurity http) throws Exception {\r\n\r\n         http \r\n                .csrf().disable();\r\n        \r\n        http\r\n                .requestCache().disable().authorizeRequests()\r\n                .antMatchers(&quot;/detalle-pago&quot;,&quot;/validarCupon&quot;,&quot;/pago2&quot;,&quot;/pagar&quot;)\r\n                .hasAuthority(&quot;CLIENTE&quot;)\r\n                //\r\n            .and()\r\n            \r\n            .formLogin()\r\n            .usernameParameter(&quot;email&quot;)\r\n            .passwordParameter(&quot;password&quot;)\r\n            .loginProcessingUrl(&quot;/login_cliente&quot;)\r\n            .successHandler(authAuthSuccesHandle)\r\n            .failureHandler(authFailureHandler)\r\n            .permitAll()\r\n            .and()\r\n            .logout()\r\n            .logoutUrl(&quot;/logout&quot;)\r\n            .logoutSuccessUrl(&quot;/&quot;)\r\n                .and()\r\n                .exceptionHandling().accessDeniedPage(&quot;/403&quot;);\r\n        System.out.println(&quot;Configuracion de Cliente&quot;);\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs you can see, it has a different @Order annotation with priority for the Admin. In theory the client should not Override the admin, and in fact it should not happen because on localhost and on heroku they work perfectly.\r\nPlease, if someone could help me find the error, it would be very helpful.\r\nThanks in advance\r\n","title":"Why does spring security ignore http configuration?","body":"<p>I have a problem in the SecurityFilterChain configuration for multiple http requests, the &quot;CLIENT&quot; configuration works, I don't need a redirect to a dedicated login, but the authentication is according to my requirements.\nThe problem lies in the Admin configuration, which completely ignores it, does not redirect to the declared login and does not set any restrictions.\nIt should be noted that this problem only happens in the Railway.app hosting, where I want to migrate the project, this project was deployed on heroku and localhost but there was no such problem.</p>\n<p>This is the admin configuration class</p>\n<pre><code>@Configuration\n@Order(1)\npublic class adminSecurityConfig {\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new CustomUserDetailsService();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain1(HttpSecurity http) throws Exception {\n        //http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll();\n\n        http // ...\n                .csrf().disable();\n\n        http.antMatcher(&quot;/dashboard/**&quot;)\n                .authorizeHttpRequests(authorize -&gt; authorize\n                .anyRequest().hasRole(&quot;ADMIN&quot;)\n            )\n                .formLogin()\n                .loginPage(&quot;/dashboard/login_admin&quot;)\n                .usernameParameter(&quot;email&quot;)\n                .loginProcessingUrl(&quot;/dashboard/login_admin&quot;)\n                .defaultSuccessUrl(&quot;/dashboard/home&quot;)\n                .and()\n                .logout()\n                .logoutUrl(&quot;/dashboard/logout&quot;)\n                .logoutSuccessUrl(&quot;/&quot;)\n                .and()\n                .exceptionHandling().accessDeniedPage(&quot;/403&quot;);\n        System.out.println(&quot;Configuracion de Admin&quot;);\n        return http.build();\n    }\n    \n}\n</code></pre>\n<p>This is the configuration class 'client'</p>\n<pre><code>@Configuration\n@Order(2)\npublic class clienteSecurityConfig {\n    /*\n    @Bean\n    public AuthenticationSuccessHandler successHandler() {\n        SimpleUrlAuthenticationSuccessHandler handler = new SimpleUrlAuthenticationSuccessHandler();\n        handler.setUseReferer(true);\n        return handler;\n    }*/\n    \n    @Autowired\n    AuthFailuredHandler authFailureHandler;\n    \n    @Autowired\n    AuthSuccesHandler authAuthSuccesHandle;\n  \n    @Bean\n    public SecurityFilterChain filterChain2(HttpSecurity http) throws Exception {\n\n         http \n                .csrf().disable();\n        \n        http\n                .requestCache().disable().authorizeRequests()\n                .antMatchers(&quot;/detalle-pago&quot;,&quot;/validarCupon&quot;,&quot;/pago2&quot;,&quot;/pagar&quot;)\n                .hasAuthority(&quot;CLIENTE&quot;)\n                //\n            .and()\n            \n            .formLogin()\n            .usernameParameter(&quot;email&quot;)\n            .passwordParameter(&quot;password&quot;)\n            .loginProcessingUrl(&quot;/login_cliente&quot;)\n            .successHandler(authAuthSuccesHandle)\n            .failureHandler(authFailureHandler)\n            .permitAll()\n            .and()\n            .logout()\n            .logoutUrl(&quot;/logout&quot;)\n            .logoutSuccessUrl(&quot;/&quot;)\n                .and()\n                .exceptionHandling().accessDeniedPage(&quot;/403&quot;);\n        System.out.println(&quot;Configuracion de Cliente&quot;);\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>As you can see, it has a different @Order annotation with priority for the Admin. In theory the client should not Override the admin, and in fact it should not happen because on localhost and on heroku they work perfectly.\nPlease, if someone could help me find the error, it would be very helpful.\nThanks in advance</p>\n"},{"tags":["java","maven","visual-studio-code","slf4j"],"comments":[{"owner":{"account_id":4978006,"reputation":592,"user_id":4003819,"display_name":"Killer"},"score":0,"creation_date":1549028138,"post_id":54480503,"comment_id":95768106,"body_markdown":"please check this link: https://stackoverflow.com/questions/19656496/multiple-slf4j-bindings-cause-error?rq=1","body":"please check this link: <a href=\"https://stackoverflow.com/questions/19656496/multiple-slf4j-bindings-cause-error?rq=1\" title=\"multiple slf4j bindings cause error\">stackoverflow.com/questions/19656496/&hellip;</a>"},{"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"score":0,"creation_date":1549028389,"post_id":54480503,"comment_id":95768228,"body_markdown":"@Killer As I said, It works great when I&#39;m building the war, so it should be good, it&#39;s not working when I&#39;m debugging the app","body":"@Killer As I said, It works great when I&#39;m building the war, so it should be good, it&#39;s not working when I&#39;m debugging the app"},{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1668810921,"post_id":54480503,"comment_id":131504846,"body_markdown":"Could you try to clear `.m2` folder or simply just libs in `vscode`? But for safety put `.m2` folder into a zip archive. \n\nAlso as an alternative way you can try to do the same with another IDE as an `Intellij IDEA` and check the difference and result of it.","body":"Could you try to clear <code>.m2</code> folder or simply just libs in <code>vscode</code>? But for safety put <code>.m2</code> folder into a zip archive.   Also as an alternative way you can try to do the same with another IDE as an <code>Intellij IDEA</code> and check the difference and result of it."},{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1668872584,"post_id":54480503,"comment_id":131514013,"body_markdown":"Or try to print the maven dependency tree this should show you all the bindings and help you resolve the issue.","body":"Or try to print the maven dependency tree this should show you all the bindings and help you resolve the issue."}],"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668805908,"creation_date":1549027579,"question_id":54480503,"body_markdown":"I&#39;m building a Java API and this happens on my vsCode when I try to debug my main class : \r\n\r\n    SLF4J: Class path contains multiple SLF4J bindings.\r\n    SLF4J: Found binding in [jar:file:/C:/Users/CDINDELE/.m2/repository/org/slf4j/slf4j-log4j12/1.7.25/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n\r\nI know this is a exclusion issue, so I&#39;ve excluded the `slf4j` from my dependencies like this: \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n         &lt;exclusion&gt;\r\n             &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n             &lt;artifactId&gt;slf4j-over-log4j12&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n     &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nIt works well with `mvn` install, and my API is working great with \r\n\r\n    java -jar myWar\r\n\r\nHowever when I&#39;m trying to use the debug with vscode on my main class (using the java plugin) the issue is coming back so it&#39;s impossible for me to debug this app which is not very convenient.\r\n\r\nAny ideas ? Thanks","title":"JAVA SLF4J: Class path contains multiple SLF4J bindings on debug","body":"<p>I'm building a Java API and this happens on my vsCode when I try to debug my main class : </p>\n\n<pre><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/Users/CDINDELE/.m2/repository/org/slf4j/slf4j-log4j12/1.7.25/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\n</code></pre>\n\n<p>I know this is a exclusion issue, so I've excluded the <code>slf4j</code> from my dependencies like this: </p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;exclusions&gt;\n     &lt;exclusion&gt;\n         &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n         &lt;artifactId&gt;slf4j-over-log4j12&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>It works well with <code>mvn</code> install, and my API is working great with </p>\n\n<pre><code>java -jar myWar\n</code></pre>\n\n<p>However when I'm trying to use the debug with vscode on my main class (using the java plugin) the issue is coming back so it's impossible for me to debug this app which is not very convenient.</p>\n\n<p>Any ideas ? Thanks</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1668806499,"post_id":74495238,"comment_id":131503968,"body_markdown":"In Java, variable names should be `lowerCamelCase`, not `UpperCamelCase`. There is nothing wrong with the latter, it&#39;s convention, and Spring is [Convention over configuration](https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch16s10.html). Probably by changing this the error will go away. What is happening is that the repository call `findDeliveryStatusIDByOrderID` is looking for the property `orderID` as you see in the trace, but you have `OrderID`. If you don&#39;t want to change your models then change the `@Query` so it looks for `s.OrderID` instead of `s.orderID`.","body":"In Java, variable names should be <code>lowerCamelCase</code>, not <code>UpperCamelCase</code>. There is nothing wrong with the latter, it&#39;s convention, and Spring is <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch16s10.html\" rel=\"nofollow noreferrer\">Convention over configuration</a>. Probably by changing this the error will go away. What is happening is that the repository call <code>findDeliveryStatusIDByOrderID</code> is looking for the property <code>orderID</code> as you see in the trace, but you have <code>OrderID</code>. If you don&#39;t want to change your models then change the <code>@Query</code> so it looks for <code>s.OrderID</code> instead of <code>s.orderID</code>."},{"owner":{"account_id":20051333,"reputation":13,"user_id":16999176,"display_name":"Imytnotbedumb"},"score":0,"creation_date":1668844688,"post_id":74495238,"comment_id":131508788,"body_markdown":"I think that worked because no errors have come up yet but it seems to be taking forever to debug. Been about 20 mins now and its last log entry is               \nHikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=48s242ms415&#181;s300ns). Is this somethin i should worry about? @JettoMart&#237;nez","body":"I think that worked because no errors have come up yet but it seems to be taking forever to debug. Been about 20 mins now and its last log entry is                HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=48s242ms415&#181;s300ns). Is this somethin i should worry about? @JettoMart&#237;nez"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1668870714,"post_id":74495238,"comment_id":131513542,"body_markdown":"Seems like a connection leak. That is totally different. To your `application.properties` file, add `logging.level.ROOT=debug`, restart the project and try again. You will see more output in the console and perhaps youll have a better idea of the new problem if it occurs again. If that&#39;s the case, you&#39;ll need to do some research and if you can&#39;t figure out, come back to StackOverflow with a new question.","body":"Seems like a connection leak. That is totally different. To your <code>application.properties</code> file, add <code>logging.level.ROOT=debug</code>, restart the project and try again. You will see more output in the console and perhaps youll have a better idea of the new problem if it occurs again. If that&#39;s the case, you&#39;ll need to do some research and if you can&#39;t figure out, come back to StackOverflow with a new question."}],"owner":{"account_id":20051333,"reputation":13,"user_id":16999176,"display_name":"Imytnotbedumb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668805001,"creation_date":1668805001,"question_id":74495238,"body_markdown":"Im totally new to springboot and it get these errors when i try debugging them. They include;\r\n\r\n    could not resolve property: orderID of: com.DigitalVision.service.models.DeliveryStatus\r\n    \r\n    could not resolve property: orderID of: com.DigitalVision.service.models.DeliveryStatus [Select s from com.DigitalVision.service.models.DeliveryStatus s where s.orderID = ?1]\r\n    Among a few of them, some included that there was an error creating bean with name deliveryStatusRepository.\r\n\r\nCourier controller class\r\n\r\n    package com.DigitalVision.service.controllers;\r\n\r\n    import com.DigitalVision.service.models.Courier;\r\n    import com.DigitalVision.service.services.CourierService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/courier&quot;)\r\n    @Service\r\n    public class CourierController\r\n    \r\n    {\r\n    \r\n        private CourierService courierService;\r\n        @Autowired\r\n        public CourierController(CourierService courierService) {\r\n            this.courierService = courierService;\r\n        }\r\n    \r\n    \r\n        @CrossOrigin\r\n        @RequestMapping(path = &quot;/update-status/{status}/order-id/{orderId}&quot;,\r\n                method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity getAttendanceByDateRange(@PathVariable(&quot;status&quot;) String status,\r\n                                                       @PathVariable(&quot;orderId&quot;) Long orderId) throws Exception {\r\n    \r\n            Courier courier = courierService.updatestatus(status,orderId);\r\n            if (courier == null ) {\r\n    \r\n                return new ResponseEntity(HttpStatus.NO_CONTENT);\r\n            }\r\n            return new ResponseEntity(courier, HttpStatus.ACCEPTED);\r\n        }\r\n    \r\n    \r\n    }\r\nI have not done a controller class for the delivery status one yet\r\n\r\nCourier class\r\n\r\n    @Entity\r\n    @Table\r\n    public class Courier implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        public Long CourierID;\r\n        public  Long OrderID;\r\n        public  String Status;\r\n\r\nDelivery status\r\n\r\n    @Entity\r\n    @Table\r\n    public class DeliveryStatus implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        public Long DeliveryStatusID;\r\n        public Long OrderID;\r\n        public String Status;\r\n        public LocalDate Date;\r\n\r\nOrder class\r\n\r\n\r\n    public class Order implements Serializable {\r\n    \r\n        public Long OrderID;\r\n        public Long CustomerID;\r\n        public Long ProductID;\r\n        public String Quantity;\r\n\r\nDeliverystatusrepository\r\n\r\n    import com.DigitalVision.service.models.DeliveryStatus;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface DeliveryStatusRepository extends JpaRepository&lt;DeliveryStatus, Long&gt; {\r\n    \r\n        @Query(&quot;Select s from DeliveryStatus s where s.orderID = ?1&quot;)\r\n        DeliveryStatus findDeliveryStatusIDByOrderID(Long id);\r\n    \r\n    \r\n    }\r\nCourier service \r\n\r\n     public Courier updatestatus(String Status, Long courierID){\r\n            Courier courier = courierRepository.getReferenceById(courierID);\r\n            courier.setStatus(Status);\r\n            Courier courierSave = courierRepository.save(courier);\r\n            if(courierSave == null ){\r\n    \r\n                return null;\r\n            }\r\n           \r\n            deliveryStatusService.updatestatus(courierSave);\r\n            return courierSave;\r\n        }\r\nDelivery status service\r\n\r\n    public DeliveryStatus updatestatus (Courier courier ){\r\n            DeliveryStatus deliveryStatus = deliveryStatusRepository.findDeliveryStatusIDByOrderID(courier.OrderID);\r\n            deliveryStatus.setStatus(courier.Status);\r\n            return deliveryStatusRepository.save(deliveryStatus);\r\n        }\r\n\r\nThe purpose of this code is to automatically change the status in the deliverystatus table when the courier status column is updated. \r\nIf anyone can help me find the error it would be greatly appreciated","title":"Could not resolve property error when debugging application","body":"<p>Im totally new to springboot and it get these errors when i try debugging them. They include;</p>\n<pre><code>could not resolve property: orderID of: com.DigitalVision.service.models.DeliveryStatus\n\ncould not resolve property: orderID of: com.DigitalVision.service.models.DeliveryStatus [Select s from com.DigitalVision.service.models.DeliveryStatus s where s.orderID = ?1]\nAmong a few of them, some included that there was an error creating bean with name deliveryStatusRepository.\n</code></pre>\n<p>Courier controller class</p>\n<pre><code>package com.DigitalVision.service.controllers;\n\nimport com.DigitalVision.service.models.Courier;\nimport com.DigitalVision.service.services.CourierService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(&quot;/courier&quot;)\n@Service\npublic class CourierController\n\n{\n\n    private CourierService courierService;\n    @Autowired\n    public CourierController(CourierService courierService) {\n        this.courierService = courierService;\n    }\n\n\n    @CrossOrigin\n    @RequestMapping(path = &quot;/update-status/{status}/order-id/{orderId}&quot;,\n            method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity getAttendanceByDateRange(@PathVariable(&quot;status&quot;) String status,\n                                                   @PathVariable(&quot;orderId&quot;) Long orderId) throws Exception {\n\n        Courier courier = courierService.updatestatus(status,orderId);\n        if (courier == null ) {\n\n            return new ResponseEntity(HttpStatus.NO_CONTENT);\n        }\n        return new ResponseEntity(courier, HttpStatus.ACCEPTED);\n    }\n\n\n}\n</code></pre>\n<p>I have not done a controller class for the delivery status one yet</p>\n<p>Courier class</p>\n<pre><code>@Entity\n@Table\npublic class Courier implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    public Long CourierID;\n    public  Long OrderID;\n    public  String Status;\n</code></pre>\n<p>Delivery status</p>\n<pre><code>@Entity\n@Table\npublic class DeliveryStatus implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    public Long DeliveryStatusID;\n    public Long OrderID;\n    public String Status;\n    public LocalDate Date;\n</code></pre>\n<p>Order class</p>\n<pre><code>public class Order implements Serializable {\n\n    public Long OrderID;\n    public Long CustomerID;\n    public Long ProductID;\n    public String Quantity;\n</code></pre>\n<p>Deliverystatusrepository</p>\n<pre><code>import com.DigitalVision.service.models.DeliveryStatus;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface DeliveryStatusRepository extends JpaRepository&lt;DeliveryStatus, Long&gt; {\n\n    @Query(&quot;Select s from DeliveryStatus s where s.orderID = ?1&quot;)\n    DeliveryStatus findDeliveryStatusIDByOrderID(Long id);\n\n\n}\n</code></pre>\n<p>Courier service</p>\n<pre><code> public Courier updatestatus(String Status, Long courierID){\n        Courier courier = courierRepository.getReferenceById(courierID);\n        courier.setStatus(Status);\n        Courier courierSave = courierRepository.save(courier);\n        if(courierSave == null ){\n\n            return null;\n        }\n       \n        deliveryStatusService.updatestatus(courierSave);\n        return courierSave;\n    }\n</code></pre>\n<p>Delivery status service</p>\n<pre><code>public DeliveryStatus updatestatus (Courier courier ){\n        DeliveryStatus deliveryStatus = deliveryStatusRepository.findDeliveryStatusIDByOrderID(courier.OrderID);\n        deliveryStatus.setStatus(courier.Status);\n        return deliveryStatusRepository.save(deliveryStatus);\n    }\n</code></pre>\n<p>The purpose of this code is to automatically change the status in the deliverystatus table when the courier status column is updated.\nIf anyone can help me find the error it would be greatly appreciated</p>\n"},{"tags":["java","oracle","date","timestamp"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1668802676,"post_id":74494864,"comment_id":131503016,"body_markdown":"please post a [mcve]","body":"please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1668802796,"post_id":74494864,"comment_id":131503040,"body_markdown":"What *exactly* is the data type of your Oracle DB column?","body":"What <i>exactly</i> is the data type of your Oracle DB column?"},{"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"score":0,"creation_date":1668802841,"post_id":74494864,"comment_id":131503046,"body_markdown":"What is the exact type of the field in the database? What have you tried?","body":"What is the exact type of the field in the database? What have you tried?"},{"owner":{"account_id":20058592,"reputation":75,"user_id":14705773,"display_name":"llandino"},"score":0,"creation_date":1668803446,"post_id":74494864,"comment_id":131503182,"body_markdown":"The column in the Oracle db has been declared as Timestamp","body":"The column in the Oracle db has been declared as Timestamp"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668803451,"post_id":74494864,"comment_id":131503184,"body_markdown":"Do not retrieve the timestamp as a string from your Oracle database. For most databases you should retrieve a `LocalDateTime`, and you’d better know what time zone was understood, or you can’t do anything with it anyway. Some say that no Oracle JDBC driver supports JDBC 4.2 anyway, so you may need to retrieve an old-fashioned `java.sql.Timestamp`, which you may in turn convert to a modern `Instant`. For the millisecond value `Instant.ofEpochMilli()` works, I can’t guess what you may have done wrong there.","body":"Do not retrieve the timestamp as a string from your Oracle database. For most databases you should retrieve a <code>LocalDateTime</code>, and you’d better know what time zone was understood, or you can’t do anything with it anyway. Some say that no Oracle JDBC driver supports JDBC 4.2 anyway, so you may need to retrieve an old-fashioned <code>java.sql.Timestamp</code>, which you may in turn convert to a modern <code>Instant</code>. For the millisecond value <code>Instant.ofEpochMilli()</code> works, I can’t guess what you may have done wrong there."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668803786,"post_id":74494864,"comment_id":131503289,"body_markdown":"@llandino And the *[(fractional_seconds_precision)]* of `TIMESTAMP` type in Oracle? See [doc](https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Types.html#GUID-7B72E154-677A-4342-A1EA-C74C1EA928E6).","body":"@llandino And the <i>[(fractional_seconds_precision)]</i> of <code>TIMESTAMP</code> type in Oracle? See <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Types.html#GUID-7B72E154-677A-4342-A1EA-C74C1EA928E6\" rel=\"nofollow noreferrer\">doc</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1668803923,"post_id":74494864,"comment_id":131503321,"body_markdown":"FYI, the `TIMESTAMP` column in Oracle DB is the **wrong type to use to record a moment**, a specific point on the timeline. This Oracle type is akin to the SQL standard type `TIMESTAMP WITHOUT TIME ZONE`, and maps to Java class `LocalDateTime`.","body":"FYI, the <code>TIMESTAMP</code> column in Oracle DB is the <b>wrong type to use to record a moment</b>, a specific point on the timeline. This Oracle type is akin to the SQL standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>, and maps to Java class <code>LocalDateTime</code>."},{"owner":{"account_id":20058592,"reputation":75,"user_id":14705773,"display_name":"llandino"},"score":0,"creation_date":1668804266,"post_id":74494864,"comment_id":131503397,"body_markdown":"@BasilBourque the [(fractional_seconds_precision)] is 9 (but the last 6 digits are always 0, not sure why there is this precision if not used), so when i try to compare my Instant (obtained by Instant.ofEpochMilli()) with the Oracle Timestamp in the db, I don&#39;t have the same precision, so I don&#39;t find the record to update","body":"@BasilBourque the [(fractional_seconds_precision)] is 9 (but the last 6 digits are always 0, not sure why there is this precision if not used), so when i try to compare my Instant (obtained by Instant.ofEpochMilli()) with the Oracle Timestamp in the db, I don&#39;t have the same precision, so I don&#39;t find the record to update"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668804346,"post_id":74494864,"comment_id":131503420,"body_markdown":"@llandino These details would have been nice to have in the body of your Question *before* posting and others answering.","body":"@llandino These details would have been nice to have in the body of your Question <i>before</i> posting and others answering."},{"owner":{"account_id":20058592,"reputation":75,"user_id":14705773,"display_name":"llandino"},"score":0,"creation_date":1668805001,"post_id":74494864,"comment_id":131503609,"body_markdown":"@BasilBourque My bad, i&#39;ve added as many details as possible to the question.","body":"@BasilBourque My bad, i&#39;ve added as many details as possible to the question."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668807535,"post_id":74494864,"comment_id":131504195,"body_markdown":"`Instant` always has a precision of 8 decimals of fraction of second (AKA nanoeconds). Its `toString`method may leave out decimals that are zero, which may have fooled you. And `Instant.ofEpochMilli(1_666_682_820_002L)` yields `2022-10-25T07:27:00.002Z` (with the last 6 decimals, the zeroed, not printed).","body":"<code>Instant</code> always has a precision of 8 decimals of fraction of second (AKA nanoeconds). Its <code>toString</code>method may leave out decimals that are zero, which may have fooled you. And <code>Instant.ofEpochMilli(1_666_682_820_002L)</code> yields <code>2022-10-25T07:27:00.002Z</code> (with the last 6 decimals, the zeroed, not printed)."},{"owner":{"account_id":20058592,"reputation":75,"user_id":14705773,"display_name":"llandino"},"score":0,"creation_date":1668850418,"post_id":74494864,"comment_id":131509622,"body_markdown":"@OleV.V. ok got it, then it would be enough just to use the Instant value in the UPDATE query, although is the first thing I&#39;ve tried and the comparison failed :/","body":"@OleV.V. ok got it, then it would be enough just to use the Instant value in the UPDATE query, although is the first thing I&#39;ve tried and the comparison failed :/"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668850972,"post_id":74494864,"comment_id":131509706,"body_markdown":"It’s about 25 years ago I accessed Oracle database from Java, so won’t try to help there myself. If you post a [mre], I hope and think that someone can.","body":"It’s about 25 years ago I accessed Oracle database from Java, so won’t try to help there myself. If you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, I hope and think that someone can."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668873088,"post_id":74494864,"comment_id":131514157,"body_markdown":"@llandino The `Instant` class is not mapped to any SQL type in JDBC.","body":"@llandino The <code>Instant</code> class is not mapped to any SQL type in JDBC."},{"owner":{"account_id":20058592,"reputation":75,"user_id":14705773,"display_name":"llandino"},"score":0,"creation_date":1668882226,"post_id":74494864,"comment_id":131516146,"body_markdown":"So thank you both, I&#39;ll try to use LocalDateTime, I hope I&#39;ll have more luck with that @OleV.V. and BasilBourque","body":"So thank you both, I&#39;ll try to use LocalDateTime, I hope I&#39;ll have more luck with that @OleV.V. and BasilBourque"}],"answers":[{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1668867891,"post_id":74494966,"comment_id":131512906,"body_markdown":"I do not see a reason why one should DV this answer.","body":"I do not see a reason why one should DV this answer."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1668803623,"creation_date":1668803000,"answer_id":74494966,"question_id":74494864,"body_markdown":"Regarding the part of your question about a count of what appears to be milliseconds since the first moment of 1970 in UTC, 1970-01-01T00:00:00Z…\r\n\r\nCall [`Instant.ofEpochMilli`][1].\r\n\r\n    Instant instant = Instant.ofEpochMilli( 1_666_682_820_002L ) ;\r\n    String output = instant.toString() ;\r\n\r\nSee this [code run at Ideone.com][2].\r\n    \r\n&gt;2022-10-25T07:27:00.002Z\r\n\r\nIf you want to clear the fractional second, truncate.\r\n\r\n    Instant instantTrunc = instant.truncatedTo( ChronoUnit.SECONDS ) ;\r\n\r\nTo search in the database, use the `java.time.OffsetDateTime` class that maps to the SQL standard type of `TIMESTAMP WITH TIME ZONE`. \r\n\r\n    OffsetDateTime odt = instantTrunc.atOffset( ZoneOffset.UTC ) ;\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieve from database column of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`. \r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nGet the count of milliseconds since the [epoch reference][3] of 1970-01-01T00:00:00Z. Beware of data loss, as this ignores the microseconds/nanoseconds available in an `Instant` object.\r\n\r\n    long epochMilli = odt.toInstant().toEpochMilli() ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [2]: https://ideone.com/lDM8Di\r\n  [3]: https://en.wikipedia.org/wiki/Epoch_(computing)","title":"Compare Long timestamp to Oracle timestamp","body":"<p>Regarding the part of your question about a count of what appears to be milliseconds since the first moment of 1970 in UTC, 1970-01-01T00:00:00Z…</p>\n<p>Call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant.ofEpochMilli</code></a>.</p>\n<pre><code>Instant instant = Instant.ofEpochMilli( 1_666_682_820_002L ) ;\nString output = instant.toString() ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/lDM8Di\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>2022-10-25T07:27:00.002Z</p>\n</blockquote>\n<p>If you want to clear the fractional second, truncate.</p>\n<pre><code>Instant instantTrunc = instant.truncatedTo( ChronoUnit.SECONDS ) ;\n</code></pre>\n<p>To search in the database, use the <code>java.time.OffsetDateTime</code> class that maps to the SQL standard type of <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<pre><code>OffsetDateTime odt = instantTrunc.atOffset( ZoneOffset.UTC ) ;\nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieve from database column of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>Get the count of milliseconds since the <a href=\"https://en.wikipedia.org/wiki/Epoch_(computing)\" rel=\"nofollow noreferrer\">epoch reference</a> of 1970-01-01T00:00:00Z. Beware of data loss, as this ignores the microseconds/nanoseconds available in an <code>Instant</code> object.</p>\n<pre><code>long epochMilli = odt.toInstant().toEpochMilli() ;\n</code></pre>\n"}],"owner":{"account_id":20058592,"reputation":75,"user_id":14705773,"display_name":"llandino"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668804870,"creation_date":1668802294,"question_id":74494864,"body_markdown":"I&#39;m trying to compare a timestamp like \r\n`Long tms = 1666682820002` in millisec by using\r\n`Instant date = Instant.ofEpochMilli(tms)` to a date which is saved in Oracle db with this format **25-Oct-22 09.27.00,000000000** - the last 6 digits are always zero.\r\nThe column in the Oracle Db has been declared as Timestamp with 9 as fractional_seconds_precision.\r\n\r\nI&#39;ve tried to convert the Long value to Instant but somehow I don&#39;t have the precision I&#39;m looking for - I obtain \t**2022-10-25T07:27:00.002Z** - , thus when I search by this Instant value in the UPDATE query I don&#39;t find any records. \r\n\r\nIs there a better way of solving this? \r\n\r\nI&#39;ve also considered transforming the Long date in Timestamp, adding the missing microseconds and nanoseconds as zero, convert into a String and comparing them with what&#39;s in the db.\r\n\r\nThank you","title":"Compare Long timestamp to Oracle timestamp","body":"<p>I'm trying to compare a timestamp like\n<code>Long tms = 1666682820002</code> in millisec by using\n<code>Instant date = Instant.ofEpochMilli(tms)</code> to a date which is saved in Oracle db with this format <strong>25-Oct-22 09.27.00,000000000</strong> - the last 6 digits are always zero.\nThe column in the Oracle Db has been declared as Timestamp with 9 as fractional_seconds_precision.</p>\n<p>I've tried to convert the Long value to Instant but somehow I don't have the precision I'm looking for - I obtain   <strong>2022-10-25T07:27:00.002Z</strong> - , thus when I search by this Instant value in the UPDATE query I don't find any records.</p>\n<p>Is there a better way of solving this?</p>\n<p>I've also considered transforming the Long date in Timestamp, adding the missing microseconds and nanoseconds as zero, convert into a String and comparing them with what's in the db.</p>\n<p>Thank you</p>\n"},{"tags":["java","macos","squirrel-sql"],"answers":[{"tags":[],"owner":{"account_id":60700,"reputation":1459,"user_id":181238,"accept_rate":31,"display_name":"Alex O"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668804870,"creation_date":1668804553,"answer_id":74495186,"question_id":74483367,"body_markdown":"The problem was that I forgot to symlink the JDK into the /Library/Java/JavaVirtualMachines directory, so the system could not find a Java installation.  It worked from the shell because I set the path.\r\n\r\nThis fixed it:  \r\n`sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk`","title":"MacOS: SquirrelSQL will not run from launchpad","body":"<p>The problem was that I forgot to symlink the JDK into the /Library/Java/JavaVirtualMachines directory, so the system could not find a Java installation.  It worked from the shell because I set the path.</p>\n<p>This fixed it:<br />\n<code>sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk</code></p>\n"}],"owner":{"account_id":60700,"reputation":1459,"user_id":181238,"accept_rate":31,"display_name":"Alex O"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668804870,"creation_date":1668728126,"question_id":74483367,"body_markdown":"I installed jenv, OpenJDK, and SquirrelSQL on MacOS 13.\r\n\r\nI am able to run SquirrelSQL from the terminal, but it would not run from launchpad: the icon gets displayed in the dock, bounces once, and then nothing.\r\n\r\nWhat am I missing?","title":"MacOS: SquirrelSQL will not run from launchpad","body":"<p>I installed jenv, OpenJDK, and SquirrelSQL on MacOS 13.</p>\n<p>I am able to run SquirrelSQL from the terminal, but it would not run from launchpad: the icon gets displayed in the dock, bounces once, and then nothing.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","kotlin","return"],"comments":[{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":0,"creation_date":1668793996,"post_id":74493315,"comment_id":131500799,"body_markdown":"What are you expecting for this to do: `for (i in arraylist) return i`?","body":"What are you expecting for this to do: <code>for (i in arraylist) return i</code>?"},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1668803788,"post_id":74493315,"comment_id":131503290,"body_markdown":"You have three bizarre uses of for loops in your code. You might want to reread the documentation about what a for loop does to understand it better.","body":"You have three bizarre uses of for loops in your code. You might want to reread the documentation about what a for loop does to understand it better."},{"owner":{"account_id":26961415,"reputation":1,"user_id":20529042,"display_name":"Samandeep Singh"},"score":0,"creation_date":1670572627,"post_id":74493315,"comment_id":131909619,"body_markdown":"@Alex.T `for (i in arraylist)` is fetching the elements of arraylist, and and i am tringto return the arrylist from the function","body":"@Alex.T <code>for (i in arraylist)</code> is fetching the elements of arraylist, and and i am tringto return the arrylist from the function"},{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":0,"creation_date":1670578256,"post_id":74493315,"comment_id":131911194,"body_markdown":"so why not do `return arrayList`? Having the return in a loop, will just return the first element in the array (if there is one), since you can&#39;t return more than once from any function. Like Tenfour04, I suggest you do some reading.","body":"so why not do <code>return arrayList</code>? Having the return in a loop, will just return the first element in the array (if there is one), since you can&#39;t return more than once from any function. Like Tenfour04, I suggest you do some reading."}],"owner":{"account_id":26961415,"reputation":1,"user_id":20529042,"display_name":"Samandeep Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668804552,"creation_date":1668792345,"question_id":74493315,"body_markdown":"here is my code:\r\n\r\n```kotlin\r\nclass AddScenarioFragment : Fragment() {\r\n    private lateinit var binding:FragmentAddScenarioBinding\r\n    private val arraylist = ArrayList&lt;String&gt;()\r\n\r\n    @RequiresApi(Build.VERSION_CODES.M)\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_add_scenario, container, false)\r\n\r\n        daysBg(binding.tvDayMon)\r\n        daysBg(binding.tvDayTue)\r\n        daysBg(binding.tvDayWed)\r\n        daysBg(binding.tvDayThu)\r\n        daysBg(binding.tvDayFri)\r\n        daysBg(binding.tvDaySat)\r\n        daysBg(binding.tvDaySun)\r\n\r\n        return binding.root\r\n    }\r\n    @RequiresApi(Build.VERSION_CODES.M)\r\n    private fun daysBg(day_id:TextView): String {\r\n\r\n        day_id.setOnClickListener {\r\n            val buttonColor = day_id.background as ColorDrawable\r\n            val color = buttonColor.color\r\n            if (color == resources.getColor(android.R.color.transparent)) {\r\n                day_id.setBackgroundTintList(resources.getColorStateList(R.color.app_primary));\r\n                day_id.setTextColor(resources.getColor(R.color.white_light))\r\n                arraylist.add(day_id.text.toString())\r\n                for (i in arraylist)\r\n                    when (i.length) {\r\n                        0 -&gt; binding.tvGetDays.text = resources.getString(R.string.never)\r\n                        1 -&gt; binding.tvGetDays.text = i\r\n                        else -&gt; binding.tvGetDays.text = &quot;$i &quot;\r\n                    }\r\n            }\r\n\r\n            else if(color == resources.getColor(R.color.app_primary)){\r\n                day_id.setBackgroundTintList(resources.getColorStateList(android.R.color.transparent));\r\n                day_id.setTextColor(resources.getColor(R.color.text_color))\r\n                arraylist.remove(day_id.text.toString())\r\n                for (i in arraylist)\r\n                    when (i.length) {\r\n                        0 -&gt; binding.tvGetDays.text = resources.getString(R.string.never)\r\n                        1 -&gt; binding.tvGetDays.text = i\r\n                        else -&gt; binding.tvGetDays.text = &quot;$i &quot;\r\n                    }\r\n            }\r\n\r\n        }\r\n        for (i in arraylist)\r\n        return i\r\n    }\r\n}\r\n```\r\n\r\n\r\nthe function &#39;daysBg&#39; is giving error and asking to remove explicitly return type &#39;string&#39; from function. and if i do so my arraylist is not getting return it asks for unit return type.\r\ni want to return in string please help with the code","title":"return type string conflicts with function working","body":"<p>here is my code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class AddScenarioFragment : Fragment() {\n    private lateinit var binding:FragmentAddScenarioBinding\n    private val arraylist = ArrayList&lt;String&gt;()\n\n    @RequiresApi(Build.VERSION_CODES.M)\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_add_scenario, container, false)\n\n        daysBg(binding.tvDayMon)\n        daysBg(binding.tvDayTue)\n        daysBg(binding.tvDayWed)\n        daysBg(binding.tvDayThu)\n        daysBg(binding.tvDayFri)\n        daysBg(binding.tvDaySat)\n        daysBg(binding.tvDaySun)\n\n        return binding.root\n    }\n    @RequiresApi(Build.VERSION_CODES.M)\n    private fun daysBg(day_id:TextView): String {\n\n        day_id.setOnClickListener {\n            val buttonColor = day_id.background as ColorDrawable\n            val color = buttonColor.color\n            if (color == resources.getColor(android.R.color.transparent)) {\n                day_id.setBackgroundTintList(resources.getColorStateList(R.color.app_primary));\n                day_id.setTextColor(resources.getColor(R.color.white_light))\n                arraylist.add(day_id.text.toString())\n                for (i in arraylist)\n                    when (i.length) {\n                        0 -&gt; binding.tvGetDays.text = resources.getString(R.string.never)\n                        1 -&gt; binding.tvGetDays.text = i\n                        else -&gt; binding.tvGetDays.text = &quot;$i &quot;\n                    }\n            }\n\n            else if(color == resources.getColor(R.color.app_primary)){\n                day_id.setBackgroundTintList(resources.getColorStateList(android.R.color.transparent));\n                day_id.setTextColor(resources.getColor(R.color.text_color))\n                arraylist.remove(day_id.text.toString())\n                for (i in arraylist)\n                    when (i.length) {\n                        0 -&gt; binding.tvGetDays.text = resources.getString(R.string.never)\n                        1 -&gt; binding.tvGetDays.text = i\n                        else -&gt; binding.tvGetDays.text = &quot;$i &quot;\n                    }\n            }\n\n        }\n        for (i in arraylist)\n        return i\n    }\n}\n</code></pre>\n<p>the function 'daysBg' is giving error and asking to remove explicitly return type 'string' from function. and if i do so my arraylist is not getting return it asks for unit return type.\ni want to return in string please help with the code</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1668803190,"post_id":74494915,"comment_id":131503124,"body_markdown":"How are you getting the result?  How do you get from a byte array to that output?","body":"How are you getting the result?  How do you get from a byte array to that output?"},{"owner":{"account_id":26317818,"reputation":1,"user_id":19980315,"display_name":"thmthm123123"},"score":0,"creation_date":1668803457,"post_id":74494915,"comment_id":131503187,"body_markdown":"I linked hex as a string, but it doesn&#39;t give me the desired result.","body":"I linked hex as a string, but it doesn&#39;t give me the desired result."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1668803489,"post_id":74494915,"comment_id":131503199,"body_markdown":"Show us code.  &quot;I linked hex as a string&quot; is not enough information, and it&#39;s very possible that the bug is in _that_ code, not the code you&#39;ve shown us.  Show us the exact code that &quot;linked hex as a string.&quot;","body":"Show us code.  &quot;I linked hex as a string&quot; is not enough information, and it&#39;s very possible that the bug is in <i>that</i> code, not the code you&#39;ve shown us.  Show us the exact code that &quot;linked hex as a string.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668804198,"creation_date":1668804198,"answer_id":74495133,"question_id":74494915,"body_markdown":"You cannot make an integer by catenating strings.\r\n\r\nTry that : \r\n\r\n    String[] macAddressParts = &quot;e8:9f:6d:d3:1c:0e&quot;.split(&quot;:&quot;);\r\n\r\n    Byte[] macAddressBytes = new Byte[6];\r\n    long addressAsInteger = 0;\r\n    for (int i = 0; i &lt; 6; i++) {\r\n        Integer hex = Integer.parseInt(macAddressParts[i], 16);\r\n        addressAsInteger = addressAsInteger * 256 + hex;\r\n    }\r\n    System.out.println(&quot;Addresse as an integer : &quot; + addressAsInteger);\r\n\r\nIt gives the right answer : 255771439995918.","title":"Convert Mac Address to Integer","body":"<p>You cannot make an integer by catenating strings.</p>\n<p>Try that :</p>\n<pre><code>String[] macAddressParts = &quot;e8:9f:6d:d3:1c:0e&quot;.split(&quot;:&quot;);\n\nByte[] macAddressBytes = new Byte[6];\nlong addressAsInteger = 0;\nfor (int i = 0; i &lt; 6; i++) {\n    Integer hex = Integer.parseInt(macAddressParts[i], 16);\n    addressAsInteger = addressAsInteger * 256 + hex;\n}\nSystem.out.println(&quot;Addresse as an integer : &quot; + addressAsInteger);\n</code></pre>\n<p>It gives the right answer : 255771439995918.</p>\n"}],"owner":{"account_id":26317818,"reputation":1,"user_id":19980315,"display_name":"thmthm123123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74495133,"answer_count":1,"score":-2,"last_activity_date":1668804198,"creation_date":1668802612,"question_id":74494915,"body_markdown":"Im trying convert mac adress to integer:\r\n\r\n\r\nResult is: 2321591092112814\r\n\r\nIt should be: 255771439995918\r\n\r\nIm trying:\r\n\r\n\r\n```\r\n\r\nString[] macAddressParts = device.getAddress().split(&quot;:&quot;);\r\n\r\nByte[] macAddressBytes = new Byte[6];\r\nString macAddressString = &quot;&quot;;\r\n\r\nfor(int i=0; i&lt;6; i++){\r\n   Integer hex = Integer.parseInt(macAddressParts[i], 16);\r\n   macAddressString += hex.toString();\r\n\r\n}\r\nSystem.out.println(macAddressString);\r\n\r\n// 2321591092112814\r\n```\r\n\r\n","title":"Convert Mac Address to Integer","body":"<p>Im trying convert mac adress to integer:</p>\n<p>Result is: 2321591092112814</p>\n<p>It should be: 255771439995918</p>\n<p>Im trying:</p>\n<pre><code>\nString[] macAddressParts = device.getAddress().split(&quot;:&quot;);\n\nByte[] macAddressBytes = new Byte[6];\nString macAddressString = &quot;&quot;;\n\nfor(int i=0; i&lt;6; i++){\n   Integer hex = Integer.parseInt(macAddressParts[i], 16);\n   macAddressString += hex.toString();\n\n}\nSystem.out.println(macAddressString);\n\n// 2321591092112814\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-security-oauth2","spring-oauth2"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1666693969,"post_id":74189931,"comment_id":130992609,"body_markdown":"What is your `@Contriller` code (and whatever component with SpEL expression like `@PreAuthorize`)?","body":"What is your <code>@Contriller</code> code (and whatever component with SpEL expression like <code>@PreAuthorize</code>)?"},{"owner":{"account_id":5856547,"reputation":62,"user_id":7491393,"display_name":"flxkrmr"},"score":1,"creation_date":1666695335,"post_id":74189931,"comment_id":130993063,"body_markdown":"Good catch! There was still a @PreAuthorize annotation in the Controller. When I removed it the exception is gone.","body":"Good catch! There was still a @PreAuthorize annotation in the Controller. When I removed it the exception is gone."}],"answers":[{"tags":[],"owner":{"account_id":5856547,"reputation":62,"user_id":7491393,"display_name":"flxkrmr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668803313,"creation_date":1668803313,"answer_id":74495012,"question_id":74189931,"body_markdown":"The problem was, that I had the @PreAuthorize annotation in the Controller, which did not seem to work in this context. After deletion, everything worked.","title":"Spring Security Resource Server throws &quot;SpelEvaluationException: EL1011E&quot;","body":"<p>The problem was, that I had the @PreAuthorize annotation in the Controller, which did not seem to work in this context. After deletion, everything worked.</p>\n"}],"owner":{"account_id":5856547,"reputation":62,"user_id":7491393,"display_name":"flxkrmr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74495012,"answer_count":1,"score":0,"last_activity_date":1668803313,"creation_date":1666679741,"question_id":74189931,"body_markdown":"I&#39;m setting up a Resource Server with Spring Security 5.7.3 which authenticates against a Spring Authorization Server 0.3.1. I followed the instructions on https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html by setting the isser uri (which seems to work properly) but I always get an exception when I call the secured resource endpoint. Any idea what I am missing here?\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class ResourceServerConfiguration {\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.authorizeHttpRequests(authorize -&gt; authorize\r\n\t\t\t\t.anyRequest().hasAuthority(&quot;SCOPE_read_connect&quot;))\r\n\t\t\t.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nspring.security.oauth2.resourceserver.jwt.issuer-uri=https://authentication:8443\r\n```\r\nThese are the dependencies:\r\n```\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server&#39;\r\n```\r\n\r\nThe full Stacktrace is:\r\n```\r\n2022-10-25 08:05:36.617 DEBUG 104 --- [nio-8443-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /kostenstellen/bezeichnungen/12345\r\n2022-10-25 08:05:36.889 TRACE 104 --- [nio-8443-exec-4] o.s.s.a.i.a.MethodSecurityInterceptor    : Did not re-authenticate JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4c0bce55, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=10.0.3.76, SessionId=null], Granted Authorities=[SCOPE_read_connect]] before authorizing\r\n2022-10-25 08:05:36.889 TRACE 104 --- [nio-8443-exec-4] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity de.swr.miss.connect.api.KostenstellenBezeichnungenController.getKostenstellenBezeichnungen(java.lang.String); target is of class [de.swr.miss.connect.api.KostenstellenBezeichnungenController] with attributes [[authorize: &#39;#oauth2.hasScope(&#39;read_connect&#39;)&#39;, filter: &#39;null&#39;, filterTarget: &#39;null&#39;]]\r\n2022-10-25 08:05:36.916 DEBUG 104 --- [nio-8443-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n2022-10-25 08:05:36.958 ERROR 104 --- [nio-8443-exec-4] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/connect] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Failed to evaluate expression &#39;#oauth2.hasScope(&#39;read_connect&#39;)&#39;] with root cause\r\n\r\norg.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method hasScope(java.lang.String) on null context object\r\n        at org.springframework.expression.spel.ast.MethodReference.throwIfNotNullSafe(MethodReference.java:154) ~[spring-expression-5.3.22.jar:5.3.22]\r\n        at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:83) ~[spring-expression-5.3.22.jar:5.3.22]\r\n        at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:70) ~[spring-expression-5.3.22.jar:5.3.22]\r\n        at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:91) ~[spring-expression-5.3.22.jar:5.3.22]\r\n        at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117) ~[spring-expression-5.3.22.jar:5.3.22]\r\n        at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:309) ~[spring-expression-5.3.22.jar:5.3.22]\r\n        at org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:30) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.access.expression.method.ExpressionBasedPreInvocationAdvice.before(ExpressionBasedPreInvocationAdvice.java:51) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:71) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:42) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:60) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:239) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:208) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58) ~[spring-security-core-5.7.3.jar:5.7.3]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at de.swr.miss.connect.api.KostenstellenBezeichnungenController$$EnhancerBySpringCGLIB$$1.getKostenstellenBezeichnungen(&lt;generated&gt;) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.zalando.logbook.servlet.NormalStrategy.doFilter(NormalStrategy.java:38) ~[logbook-servlet-1.13.0.jar:na]\r\n        at org.zalando.logbook.servlet.LogbookFilter.doFilter(LogbookFilter.java:39) ~[logbook-servlet-1.13.0.jar:na]\r\n        at org.zalando.logbook.servlet.HttpFilter.doFilter(HttpFilter.java:31) ~[logbook-servlet-1.13.0.jar:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:73) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:142) ~[spring-security-oauth2-resource-server-5.7.3.jar:5.7.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.zalando.logbook.servlet.SecurityStrategy.doFilter(SecurityStrategy.java:33) ~[logbook-servlet-1.13.0.jar:na]\r\n        at org.zalando.logbook.servlet.LogbookFilter.doFilter(LogbookFilter.java:39) ~[logbook-servlet-1.13.0.jar:na]\r\n        at org.zalando.logbook.servlet.HttpFilter.doFilter(HttpFilter.java:31) ~[logbook-servlet-1.13.0.jar:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.3.jar:2.7.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:41002) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n        at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\n```","title":"Spring Security Resource Server throws &quot;SpelEvaluationException: EL1011E&quot;","body":"<p>I'm setting up a Resource Server with Spring Security 5.7.3 which authenticates against a Spring Authorization Server 0.3.1. I followed the instructions on <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html</a> by setting the isser uri (which seems to work properly) but I always get an exception when I call the secured resource endpoint. Any idea what I am missing here?</p>\n<pre><code>@EnableWebSecurity\npublic class ResourceServerConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests(authorize -&gt; authorize\n                .anyRequest().hasAuthority(&quot;SCOPE_read_connect&quot;))\n            .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n\n        return http.build();\n    }\n}\n</code></pre>\n<pre><code>spring.security.oauth2.resourceserver.jwt.issuer-uri=https://authentication:8443\n</code></pre>\n<p>These are the dependencies:</p>\n<pre><code>    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-resource-server'\n</code></pre>\n<p>The full Stacktrace is:</p>\n<pre><code>2022-10-25 08:05:36.617 DEBUG 104 --- [nio-8443-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /kostenstellen/bezeichnungen/12345\n2022-10-25 08:05:36.889 TRACE 104 --- [nio-8443-exec-4] o.s.s.a.i.a.MethodSecurityInterceptor    : Did not re-authenticate JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@4c0bce55, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=10.0.3.76, SessionId=null], Granted Authorities=[SCOPE_read_connect]] before authorizing\n2022-10-25 08:05:36.889 TRACE 104 --- [nio-8443-exec-4] o.s.s.a.i.a.MethodSecurityInterceptor    : Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity de.swr.miss.connect.api.KostenstellenBezeichnungenController.getKostenstellenBezeichnungen(java.lang.String); target is of class [de.swr.miss.connect.api.KostenstellenBezeichnungenController] with attributes [[authorize: '#oauth2.hasScope('read_connect')', filter: 'null', filterTarget: 'null']]\n2022-10-25 08:05:36.916 DEBUG 104 --- [nio-8443-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2022-10-25 08:05:36.958 ERROR 104 --- [nio-8443-exec-4] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/connect] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Failed to evaluate expression '#oauth2.hasScope('read_connect')'] with root cause\n\norg.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method hasScope(java.lang.String) on null context object\n        at org.springframework.expression.spel.ast.MethodReference.throwIfNotNullSafe(MethodReference.java:154) ~[spring-expression-5.3.22.jar:5.3.22]\n        at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:83) ~[spring-expression-5.3.22.jar:5.3.22]\n        at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:70) ~[spring-expression-5.3.22.jar:5.3.22]\n        at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:91) ~[spring-expression-5.3.22.jar:5.3.22]\n        at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117) ~[spring-expression-5.3.22.jar:5.3.22]\n        at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:309) ~[spring-expression-5.3.22.jar:5.3.22]\n        at org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:30) ~[spring-security-core-5.7.3.jar:5.7.3]\n        at org.springframework.security.access.expression.method.ExpressionBasedPreInvocationAdvice.before(ExpressionBasedPreInvocationAdvice.java:51) ~[spring-security-core-5.7.3.jar:5.7.3]\n        at org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:71) ~[spring-security-core-5.7.3.jar:5.7.3]\n        at org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:42) ~[spring-security-core-5.7.3.jar:5.7.3]\n        at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:60) ~[spring-security-core-5.7.3.jar:5.7.3]\n        at org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:239) ~[spring-security-core-5.7.3.jar:5.7.3]\n        at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:208) ~[spring-security-core-5.7.3.jar:5.7.3]\n        at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58) ~[spring-security-core-5.7.3.jar:5.7.3]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\n        at de.swr.miss.connect.api.KostenstellenBezeichnungenController$$EnhancerBySpringCGLIB$$1.getKostenstellenBezeichnungen(&lt;generated&gt;) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.zalando.logbook.servlet.NormalStrategy.doFilter(NormalStrategy.java:38) ~[logbook-servlet-1.13.0.jar:na]\n        at org.zalando.logbook.servlet.LogbookFilter.doFilter(LogbookFilter.java:39) ~[logbook-servlet-1.13.0.jar:na]\n        at org.zalando.logbook.servlet.HttpFilter.doFilter(HttpFilter.java:31) ~[logbook-servlet-1.13.0.jar:na]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:73) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:142) ~[spring-security-oauth2-resource-server-5.7.3.jar:5.7.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.zalando.logbook.servlet.SecurityStrategy.doFilter(SecurityStrategy.java:33) ~[logbook-servlet-1.13.0.jar:na]\n        at org.zalando.logbook.servlet.LogbookFilter.doFilter(LogbookFilter.java:39) ~[logbook-servlet-1.13.0.jar:na]\n        at org.zalando.logbook.servlet.HttpFilter.doFilter(HttpFilter.java:31) ~[logbook-servlet-1.13.0.jar:na]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.3.jar:2.7.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:41002) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n        at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":5272541,"reputation":151,"user_id":4210386,"display_name":"davidleongz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663068808,"creation_date":1663068808,"answer_id":73702271,"question_id":70352122,"body_markdown":"Instead of use setRecordInterceptor you can use setRecordFilterStrategy:\r\n\t\t\r\nYou can filter by param of message:\r\n\r\n    \t\tfactory.setRecordFilterStrategy(message -&gt; {\r\n\r\n              String messageValue = (String) message.value().getParamName();\r\n\r\n\t\t\t  if ( // Your business logic) {\r\n\t\t\t\treturn false;\r\n\t\t\t  }\r\n\r\n\t\t\t  LOGGER.info(&quot;Message discarded : {}&quot;, messageValue);\r\n\t\t\t  return true;\r\n\t\t    });\r\n\r\nOr by headers:\r\n\r\n            factory.recordFilterStrategy(message -&gt; {\r\n                    Header header = message.headers().lastHeader(&quot;XXX&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(String.valueOf(header.value()).equals(// Your business logic)){\r\n\t\t\t\t\t   return false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t        LOGGER.info(&quot;Message discarded : {}&quot;, String.valueOf(header.value()));\r\n\t\t\t        return true;\r\n         });","title":"Spring Cloud Stream Kafka-Streams binder, check headers before deserializing the message","body":"<p>Instead of use setRecordInterceptor you can use setRecordFilterStrategy:</p>\n<p>You can filter by param of message:</p>\n<pre><code>        factory.setRecordFilterStrategy(message -&gt; {\n\n          String messageValue = (String) message.value().getParamName();\n\n          if ( // Your business logic) {\n            return false;\n          }\n\n          LOGGER.info(&quot;Message discarded : {}&quot;, messageValue);\n          return true;\n        });\n</code></pre>\n<p>Or by headers:</p>\n<pre><code>        factory.recordFilterStrategy(message -&gt; {\n                Header header = message.headers().lastHeader(&quot;XXX&quot;);\n                \n                if(String.valueOf(header.value()).equals(// Your business logic)){\n                   return false;\n                }\n                \n                LOGGER.info(&quot;Message discarded : {}&quot;, String.valueOf(header.value()));\n                return true;\n     });\n</code></pre>\n"}],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668802922,"creation_date":1639498637,"question_id":70352122,"body_markdown":"I am using Spring Cloud (Hoxton.SR8) Stream with Kafka-Streams binder in my project.\r\n\r\nCan we check message header before deserialzing the payload? I want to do this to achieve header based filter of incoming messages. Deserialization can spend some CPU, before that happens can we check headers and discard the message if certain value in header doesn&#39;t match the condition?\r\n\r\nI tried using ListernContainerCustomizer like this.\r\n\r\n    @Bean\r\n    ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;?, ?&gt;&gt; customizer() \r\n    {\r\n            return (container, dest, group) -&gt; {\r\n                    container.setRecordInterceptor(record -&gt; {\r\n                        System.out.println(&quot;&gt;&gt;&gt;&gt; Received record, checking headers&quot;);\r\n                        Headers headers = record.headers();\r\n                        System.out.println(&quot;&gt;&gt;&gt;&gt; Header length: &quot;+headers.toArray().length);\r\n                        for(Header header: headers)\r\n                        {\r\n                            if(header.key().equalsIgnoreCase(&quot;eventtype&quot;))\r\n                            {\r\n                                String value = String.valueOf(header.value());\r\n                                if(!value.equalsIgnoreCase(&quot;PUBLISHED&quot;)) {\r\n                                    System.out.println(&quot;Event type from header not PUBLISHED, skipping record&quot;);\r\n                                return null;\r\n                            }\r\n                        }\r\n                    }\r\n                    System.out.println(&quot;Processing record&quot;);\r\n                    return record;\r\n                });\r\n            };\r\n        }\r\n\r\nBut it is not doing anything. I tried printing loaded beans, and this customizer bean does get loaded but it does nothing.\r\n\r\nPlease help.","title":"Spring Cloud Stream Kafka-Streams binder, check headers before deserializing the message","body":"<p>I am using Spring Cloud (Hoxton.SR8) Stream with Kafka-Streams binder in my project.</p>\n<p>Can we check message header before deserialzing the payload? I want to do this to achieve header based filter of incoming messages. Deserialization can spend some CPU, before that happens can we check headers and discard the message if certain value in header doesn't match the condition?</p>\n<p>I tried using ListernContainerCustomizer like this.</p>\n<pre><code>@Bean\nListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;?, ?&gt;&gt; customizer() \n{\n        return (container, dest, group) -&gt; {\n                container.setRecordInterceptor(record -&gt; {\n                    System.out.println(&quot;&gt;&gt;&gt;&gt; Received record, checking headers&quot;);\n                    Headers headers = record.headers();\n                    System.out.println(&quot;&gt;&gt;&gt;&gt; Header length: &quot;+headers.toArray().length);\n                    for(Header header: headers)\n                    {\n                        if(header.key().equalsIgnoreCase(&quot;eventtype&quot;))\n                        {\n                            String value = String.valueOf(header.value());\n                            if(!value.equalsIgnoreCase(&quot;PUBLISHED&quot;)) {\n                                System.out.println(&quot;Event type from header not PUBLISHED, skipping record&quot;);\n                            return null;\n                        }\n                    }\n                }\n                System.out.println(&quot;Processing record&quot;);\n                return record;\n            });\n        };\n    }\n</code></pre>\n<p>But it is not doing anything. I tried printing loaded beans, and this customizer bean does get loaded but it does nothing.</p>\n<p>Please help.</p>\n"},{"tags":["java","arrays","multithreading","recursion","forkjoinpool"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668802759,"post_id":74494855,"comment_id":131503032,"body_markdown":"Why make this recursive? This sounds unnecessary complex. --- What do you mean by &quot;*i need this void*&quot;? The method presented returns an `int`. --- I do not understand why we should use a `ForkJoinPool` for that problem. --- Please [edit] the post and clarify/improve where necessary.","body":"Why make this recursive? This sounds unnecessary complex. --- What do you mean by &quot;<i>i need this void</i>&quot;? The method presented returns an <code>int</code>. --- I do not understand why we should use a <code>ForkJoinPool</code> for that problem. --- Please <a href=\"https://stackoverflow.com/posts/74494855/edit\">edit</a> the post and clarify/improve where necessary."},{"owner":{"account_id":20223850,"reputation":1,"user_id":14832388,"display_name":"Ignasi Ferres"},"score":0,"creation_date":1668803019,"post_id":74494855,"comment_id":131503079,"body_markdown":"so the task that i need to present one of the point is that the programm has to use forkjoinpool to resolve a return the byte[]array with the position of the macthed bytes","body":"so the task that i need to present one of the point is that the programm has to use forkjoinpool to resolve a return the byte[]array with the position of the macthed bytes"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668803805,"post_id":74494855,"comment_id":131503294,"body_markdown":"I still do not understand. Aside from the fact that I still doubt that a `ForkJoinPool` will speed up the process significantly (except we are working with really large arrays), tasks are described through either the `RecursiveAction`- or `RecrusiveTask`-interface. And I really do not understand why you want to use the `RecursiveAction` (or at least I think that is what you want to do), if we have a value to return and should thus use a `RecursiveTask`.","body":"I still do not understand. Aside from the fact that I still doubt that a <code>ForkJoinPool</code> will speed up the process significantly (except we are working with really large arrays), tasks are described through either the <code>RecursiveAction</code>- or <code>RecrusiveTask</code>-interface. And I really do not understand why you want to use the <code>RecursiveAction</code> (or at least I think that is what you want to do), if we have a value to return and should thus use a <code>RecursiveTask</code>."}],"owner":{"account_id":20223850,"reputation":1,"user_id":14832388,"display_name":"Ignasi Ferres"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668802231,"creation_date":1668802231,"question_id":74494855,"body_markdown":"So i&#39;m having a problem because i neet to make a recursive void to get the positions of the numbers that are the same but i d&#39;ont know how to make it recursively.\r\ni wass wondering if it&#39;s possible to make a forjoinpool without being a recursively void.\r\n\r\n```\r\n \r\n\t public static int index(byte data [],int t, int start) {\r\n\r\n\t       ArrayList &lt;Integer&gt; lista = new ArrayList();\r\n\r\n\t       if(start == data.length) {\r\n\t           System.out.println(data.length);\r\n\t           return 0;\r\n\t       }\r\n\r\n\t       if(data[start]==t) {\r\n\t           lista.add(start);\r\n\t           return start;\r\n\t       }\r\n\t       return index(data,t,start+1);\r\n\t   }\r\n```\r\ni need this void but instead of just searching for one number instead search in another array int t it has to be a byte target[]\r\n","title":"How to make a forkjoinpool to compare two Arrays in Java?","body":"<p>So i'm having a problem because i neet to make a recursive void to get the positions of the numbers that are the same but i d'ont know how to make it recursively.\ni wass wondering if it's possible to make a forjoinpool without being a recursively void.</p>\n<pre><code> \n     public static int index(byte data [],int t, int start) {\n\n           ArrayList &lt;Integer&gt; lista = new ArrayList();\n\n           if(start == data.length) {\n               System.out.println(data.length);\n               return 0;\n           }\n\n           if(data[start]==t) {\n               lista.add(start);\n               return start;\n           }\n           return index(data,t,start+1);\n       }\n</code></pre>\n<p>i need this void but instead of just searching for one number instead search in another array int t it has to be a byte target[]</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1645932298,"post_id":71281032,"comment_id":125998352,"body_markdown":"the solution to this problem is to STOP using a justom JWT filter when there is already a built in JWT filter in spring security, and it has had one since 2018. Please read oauth2/jwt chapter in the official spring security documentation. There is no reason whatsoever to have a custom jwt filter.","body":"the solution to this problem is to STOP using a justom JWT filter when there is already a built in JWT filter in spring security, and it has had one since 2018. Please read oauth2/jwt chapter in the official spring security documentation. There is no reason whatsoever to have a custom jwt filter."},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1646075696,"post_id":71281032,"comment_id":126030430,"body_markdown":"Thanks for your comment, I appreciate when downvoters don&#39;t hide. I would be happy to improve my question next time. The code was written before 2018, I&#39;m in the process of updating it. It does not use OAuth 2, it&#39;s a very basic application that just needs a simple JWT to protect a GraphQL endpoint, I&#39;m not sure it needs the whole OAuth 2 stuff. Also I think there can be many reasons to have a filter requiring an `AuthenticationManager`, apart from this specific case., Actually it&#39;s more like a generic question. Anyway, if you have any precise doc link or example, I&#39;d be happy to check it out.","body":"Thanks for your comment, I appreciate when downvoters don&#39;t hide. I would be happy to improve my question next time. The code was written before 2018, I&#39;m in the process of updating it. It does not use OAuth 2, it&#39;s a very basic application that just needs a simple JWT to protect a GraphQL endpoint, I&#39;m not sure it needs the whole OAuth 2 stuff. Also I think there can be many reasons to have a filter requiring an <code>AuthenticationManager</code>, apart from this specific case., Actually it&#39;s more like a generic question. Anyway, if you have any precise doc link or example, I&#39;d be happy to check it out."},{"owner":{"account_id":16168897,"reputation":405,"user_id":11673142,"display_name":"fsk5304"},"score":2,"creation_date":1646380282,"post_id":71281032,"comment_id":126113243,"body_markdown":"I have the same problem.","body":"I have the same problem."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1661430144,"post_id":71281032,"comment_id":129773824,"body_markdown":"`I&#39;m not sure it needs the whole OAuth 2 ` For ALL OF YOU that is affraid because it says Oauth2 in the docs. This just shows that you have not read the oauth2 spec. The spec is huge and one part of the spec is how to LOGIN, but a small part of the spec is what is called `Resource Server` All of you that are supplying a JWT to your servers to just verify the signature and the authorize the user is FROM THE OAUTH2 SPEC. So stop saying &quot;i dont want oauth2&quot; because that is what you are all implementing, a part of the oauth2 specc without knowing it.","body":"<code>I&#39;m not sure it needs the whole OAuth 2 </code> For ALL OF YOU that is affraid because it says Oauth2 in the docs. This just shows that you have not read the oauth2 spec. The spec is huge and one part of the spec is how to LOGIN, but a small part of the spec is what is called <code>Resource Server</code> All of you that are supplying a JWT to your servers to just verify the signature and the authorize the user is FROM THE OAUTH2 SPEC. So stop saying &quot;i dont want oauth2&quot; because that is what you are all implementing, a part of the oauth2 specc without knowing it."},{"owner":{"account_id":1548558,"reputation":1083,"user_id":1441476,"accept_rate":40,"display_name":"Homayoun Behzadian"},"score":1,"creation_date":1689000087,"post_id":71281032,"comment_id":135147430,"body_markdown":"@Toerktumlare I think your comment is irrelevant. By any reason, he requires authenticationManager.","body":"@Toerktumlare I think your comment is irrelevant. By any reason, he requires authenticationManager."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1689000592,"post_id":71281032,"comment_id":135147545,"body_markdown":"pointing out when people are building unsecure login implementations is never irrelevant. Using a token as a session bearer is unsecure. As pointed out in numerous blog posts, and in owasps documentation.","body":"pointing out when people are building unsecure login implementations is never irrelevant. Using a token as a session bearer is unsecure. As pointed out in numerous blog posts, and in owasps documentation."}],"answers":[{"comments":[{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1646073826,"post_id":71294308,"comment_id":126029893,"body_markdown":"Thanks for the answer, seem like a nice workaround :) I think I managed to get the `authenticationManager` in my JWT filter using [this solution](https://github.com/spring-projects/spring-security/issues/10822#issuecomment-1036063319), but I just realized I still need a globally exposed `AuthenticationManager` bean to be injected in my controller. I have updated the question.","body":"Thanks for the answer, seem like a nice workaround :) I think I managed to get the <code>authenticationManager</code> in my JWT filter using <a href=\"https://github.com/spring-projects/spring-security/issues/10822#issuecomment-1036063319\" rel=\"nofollow noreferrer\">this solution</a>, but I just realized I still need a globally exposed <code>AuthenticationManager</code> bean to be injected in my controller. I have updated the question."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1646084693,"post_id":71294308,"comment_id":126033031,"body_markdown":"writing custom security is bad practice. There is no reason to implement a custom JWT filter when there is a fully implemented filter already in spring security that follows the oauth2 rfc. This filter is fully tested, and run in 1000s of applications worldwide. Implementing &quot;custom&quot; security is a huge gamble and any fault in the implementation can put the entire applications data at risk. So no, custom security is bad practice, and thats why there are security standards.","body":"writing custom security is bad practice. There is no reason to implement a custom JWT filter when there is a fully implemented filter already in spring security that follows the oauth2 rfc. This filter is fully tested, and run in 1000s of applications worldwide. Implementing &quot;custom&quot; security is a huge gamble and any fault in the implementation can put the entire applications data at risk. So no, custom security is bad practice, and thats why there are security standards."}],"tags":[],"owner":{"account_id":1965823,"reputation":11,"user_id":6997006,"display_name":"user1965823"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646084591,"creation_date":1646047529,"answer_id":71294308,"question_id":71281032,"body_markdown":"I had the same issue and fixed in by injecting the `AuthenticationManagerBuilder` into the filter. I then make the filter implement `SmartInitializingSingleton` and call `getObject()` on the builder to obtain the `AuthenticationManager` in the `afterSingletonsInstantiated()` method.\r\n\r\nMore background on how I came up with this here: https://blog.trifork.com/2022/02/25/getting-out-of-a-codependent-relationship-or-how-i-moved-to-a-healthy-component-based-spring-security-configuration/","title":"Spring Security exposing AuthenticationManager without WebSecurityConfigurerAdapter","body":"<p>I had the same issue and fixed in by injecting the <code>AuthenticationManagerBuilder</code> into the filter. I then make the filter implement <code>SmartInitializingSingleton</code> and call <code>getObject()</code> on the builder to obtain the <code>AuthenticationManager</code> in the <code>afterSingletonsInstantiated()</code> method.</p>\n<p>More background on how I came up with this here: <a href=\"https://blog.trifork.com/2022/02/25/getting-out-of-a-codependent-relationship-or-how-i-moved-to-a-healthy-component-based-spring-security-configuration/\" rel=\"nofollow noreferrer\">https://blog.trifork.com/2022/02/25/getting-out-of-a-codependent-relationship-or-how-i-moved-to-a-healthy-component-based-spring-security-configuration/</a></p>\n"},{"comments":[{"owner":{"account_id":13873149,"reputation":63,"user_id":10015645,"display_name":"Prajjwal Gupta"},"score":0,"creation_date":1685287125,"post_id":71449312,"comment_id":134637562,"body_markdown":"In CustomAuthenticationManager, this line looks suspicious/unclear to me `!passwordEncoder().matches(authentication.getCredentials().toString(), userDetail.getPassword())`. The first argument in matches(...) method accepts the raw password without encoding. But I think we are not advised to have password in decoded form.  Why would we ever initialize/configure Authentication object to have raw password?","body":"In CustomAuthenticationManager, this line looks suspicious/unclear to me <code>!passwordEncoder().matches(authentication.getCredentials().t&zwnj;&#8203;oString(), userDetail.getPassword())</code>. The first argument in matches(...) method accepts the raw password without encoding. But I think we are not advised to have password in decoded form.  Why would we ever initialize/configure Authentication object to have raw password?"}],"tags":[],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1663656290,"creation_date":1647084334,"answer_id":71449312,"question_id":71281032,"body_markdown":"Local `AuthenticationManager`\r\n-----------------------------\r\n\r\n*A* solution to be able to get and pass the `AuthenticationManager` (which you cannot get anymore from the deprecated `WebSecurityConfigurerAdapter`) to the filter, is to have a dedicated configurer which will be responsible for adding the filter. (This is inspired from the solution provided [here](https://github.com/spring-projects/spring-security/issues/10822#issuecomment-1036063319). Edit : and now officially in the [documentation](https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#jc-custom-dsls)).\r\n\r\nCreate a custom HTTP configurer :\r\n\r\n```java\r\n@Component\r\npublic class JWTHttpConfigurer extends AbstractHttpConfigurer&lt;JWTHttpConfigurer, HttpSecurity&gt; {\r\n\r\n    private final JWTTokenUtils jwtTokenUtils;\r\n\r\n    public JWTHttpConfigurer(JWTTokenUtils jwtTokenUtils) {\r\n        this.jwtTokenUtils = jwtTokenUtils;\r\n    }\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) {\r\n        final AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\r\n        http.antMatcher(&quot;/graphql&quot;).addFilter(new JWTAuthorizationFilter(authenticationManager, jwtTokenUtils));\r\n    }\r\n\r\n}\r\n```\r\n\r\nThen simply apply it in the security config :\r\n\r\n```java\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig {\r\n\r\n    @Autowired\r\n    private JWTTokenUtils jwtTokenUtils;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                // disable CSRF as we do not serve browser clients\r\n                .csrf().disable()\r\n                // allow access restriction using request matcher\r\n                .authorizeRequests()\r\n                // authenticate requests to GraphQL endpoint\r\n                .antMatchers(&quot;/graphql&quot;).authenticated()\r\n                // allow all other requests\r\n                .anyRequest().permitAll().and()\r\n                // JWT authorization filter\r\n                .apply(new JWTHttpConfigurer(jwtTokenUtils)).and()\r\n                // make sure we use stateless session, session will not be used to store user&#39;s state\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nGlobal `AuthenticationManager`\r\n------------------------------\r\n\r\nIn some cases you need to expose the authentication manager globally so it is available anywhere in your application.\r\n\r\n*A* solution to have the `AuthenticationManager` bean in the Spring context is to get it from the `AuthenticationConfiguration` which exports the authentication configuration (credits to Andrei Daneliuc&#39;s answer below) :\r\n\r\n```java\r\n@Bean\r\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n    return authenticationConfiguration.getAuthenticationManager();\r\n}\r\n```\r\n\r\nThen if you need to retrieve it in your filter chain, you can use `authenticationManager(http.getSharedObject(AuthenticationConfiguration.class))`.\r\n\r\nSo the whole security config would be :\r\n\r\n```java\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig {\r\n\r\n    @Autowired\r\n    private JWTTokenUtils jwtTokenUtils;\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                // disable CSRF as we do not serve browser clients\r\n                .csrf().disable()\r\n                // match GraphQL endpoint\r\n                .antMatcher(&quot;/graphql&quot;)\r\n                // add JWT authorization filter\r\n                .addFilter(new JWTAuthorizationFilter(authenticationManager(http.getSharedObject(AuthenticationConfiguration.class)), jwtTokenUtils))\r\n                // allow access restriction using request matcher\r\n                .authorizeRequests()\r\n                // authenticate requests to GraphQL endpoint\r\n                .antMatchers(&quot;/graphql&quot;).authenticated()\r\n                // allow all other requests\r\n                .anyRequest().permitAll().and()\r\n                // make sure we use stateless session, session will not be used to store user&#39;s state\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n----\r\n\r\n*Another* solution to expose an authentication manager globally is to use a custom `AuthenticationManager`, as a bean available to the entire application, which does quite the same thing as, in our case, the default `DaoAuthenticationProvider` implementation (i.e. use the custom `UserDetailsService` to get user details from the database, verify the password using the configured `PasswordEncoder`, then return a `UsernamePasswordAuthenticationToken` to present the `Authentication`) :\r\n\r\n```java\r\n@Component\r\npublic class CustomAuthenticationManager implements AuthenticationManager {\r\n\r\n    @Autowired\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    @Bean\r\n    protected PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        final UserDetails userDetail = customUserDetailsService.loadUserByUsername(authentication.getName());\r\n        if (!passwordEncoder().matches(authentication.getCredentials().toString(), userDetail.getPassword())) {\r\n            throw new BadCredentialsException(&quot;Wrong password&quot;);\r\n        }\r\n        return new UsernamePasswordAuthenticationToken(userDetail.getUsername(), userDetail.getPassword(), userDetail.getAuthorities());\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo that you can use it in the security config when adding the filter :\r\n\r\n```java\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig {\r\n\r\n    @Autowired\r\n    private JWTTokenUtils jwtTokenUtils;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                // disable CSRF as we do not serve browser clients\r\n                .csrf().disable()\r\n                // match GraphQL endpoint\r\n                .antMatcher(&quot;/graphql&quot;)\r\n                // add JWT authorization filter\r\n                .addFilter(new JWTAuthorizationFilter(new CustomAuthenticationManager(), jwtTokenUtils))\r\n                // allow access restriction using request matcher\r\n                .authorizeRequests()\r\n                // authenticate requests to GraphQL endpoint\r\n                .antMatchers(&quot;/graphql&quot;).authenticated()\r\n                // allow all other requests\r\n                .anyRequest().permitAll().and()\r\n                // make sure we use stateless session, session will not be used to store user&#39;s state\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd it can be injected anywhere else in the application, i.e. in a controller :\r\n\r\n```java\r\n@RestController\r\n@CrossOrigin\r\n@Component\r\npublic class AuthController {\r\n\r\n    @Autowired\r\n    private JWTTokenUtils jwtTokenUtils;\r\n\r\n    @Autowired\r\n    private CustomAuthenticationManager authenticationManager;\r\n\r\n    @RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; authenticate(@RequestBody JWTRequest userRequest) {\r\n\r\n        // try to authenticate user using specified credentials\r\n        final Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userRequest.getEmail(), userRequest.getPassword()));\r\n\r\n        // if authentication succeeded and is not anonymous\r\n        if (authentication != null &amp;&amp; !(authentication instanceof AnonymousAuthenticationToken) &amp;&amp; authentication.isAuthenticated()) {\r\n\r\n            // set authentication in security context holder\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n            // get authorities, we should have only one role per member so simply get the first one\r\n            final GrantedAuthority grantedAuthority = authentication.getAuthorities().iterator().next();\r\n\r\n            // generate new JWT token\r\n            final String jwtToken = jwtTokenUtils.generateToken(authentication.getPrincipal(), grantedAuthority);\r\n\r\n            // return response containing the JWT token\r\n            return ResponseEntity.ok(new JWTResponse(jwtToken));\r\n        }\r\n\r\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote that you may want to also use a custom `AuthenticationEntryPoint`, to return a 401 instead of a 500 when `BadCredentialsException` is raised.","title":"Spring Security exposing AuthenticationManager without WebSecurityConfigurerAdapter","body":"<h2>Local <code>AuthenticationManager</code></h2>\n<p><em>A</em> solution to be able to get and pass the <code>AuthenticationManager</code> (which you cannot get anymore from the deprecated <code>WebSecurityConfigurerAdapter</code>) to the filter, is to have a dedicated configurer which will be responsible for adding the filter. (This is inspired from the solution provided <a href=\"https://github.com/spring-projects/spring-security/issues/10822#issuecomment-1036063319\" rel=\"noreferrer\">here</a>. Edit : and now officially in the <a href=\"https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#jc-custom-dsls\" rel=\"noreferrer\">documentation</a>).</p>\n<p>Create a custom HTTP configurer :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JWTHttpConfigurer extends AbstractHttpConfigurer&lt;JWTHttpConfigurer, HttpSecurity&gt; {\n\n    private final JWTTokenUtils jwtTokenUtils;\n\n    public JWTHttpConfigurer(JWTTokenUtils jwtTokenUtils) {\n        this.jwtTokenUtils = jwtTokenUtils;\n    }\n\n    @Override\n    public void configure(HttpSecurity http) {\n        final AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\n        http.antMatcher(&quot;/graphql&quot;).addFilter(new JWTAuthorizationFilter(authenticationManager, jwtTokenUtils));\n    }\n\n}\n</code></pre>\n<p>Then simply apply it in the security config :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n    @Autowired\n    private JWTTokenUtils jwtTokenUtils;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                // disable CSRF as we do not serve browser clients\n                .csrf().disable()\n                // allow access restriction using request matcher\n                .authorizeRequests()\n                // authenticate requests to GraphQL endpoint\n                .antMatchers(&quot;/graphql&quot;).authenticated()\n                // allow all other requests\n                .anyRequest().permitAll().and()\n                // JWT authorization filter\n                .apply(new JWTHttpConfigurer(jwtTokenUtils)).and()\n                // make sure we use stateless session, session will not be used to store user's state\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        return http.build();\n    }\n\n}\n</code></pre>\n<h2>Global <code>AuthenticationManager</code></h2>\n<p>In some cases you need to expose the authentication manager globally so it is available anywhere in your application.</p>\n<p><em>A</em> solution to have the <code>AuthenticationManager</code> bean in the Spring context is to get it from the <code>AuthenticationConfiguration</code> which exports the authentication configuration (credits to Andrei Daneliuc's answer below) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n<p>Then if you need to retrieve it in your filter chain, you can use <code>authenticationManager(http.getSharedObject(AuthenticationConfiguration.class))</code>.</p>\n<p>So the whole security config would be :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n    @Autowired\n    private JWTTokenUtils jwtTokenUtils;\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                // disable CSRF as we do not serve browser clients\n                .csrf().disable()\n                // match GraphQL endpoint\n                .antMatcher(&quot;/graphql&quot;)\n                // add JWT authorization filter\n                .addFilter(new JWTAuthorizationFilter(authenticationManager(http.getSharedObject(AuthenticationConfiguration.class)), jwtTokenUtils))\n                // allow access restriction using request matcher\n                .authorizeRequests()\n                // authenticate requests to GraphQL endpoint\n                .antMatchers(&quot;/graphql&quot;).authenticated()\n                // allow all other requests\n                .anyRequest().permitAll().and()\n                // make sure we use stateless session, session will not be used to store user's state\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        return http.build();\n    }\n\n}\n</code></pre>\n<hr />\n<p><em>Another</em> solution to expose an authentication manager globally is to use a custom <code>AuthenticationManager</code>, as a bean available to the entire application, which does quite the same thing as, in our case, the default <code>DaoAuthenticationProvider</code> implementation (i.e. use the custom <code>UserDetailsService</code> to get user details from the database, verify the password using the configured <code>PasswordEncoder</code>, then return a <code>UsernamePasswordAuthenticationToken</code> to present the <code>Authentication</code>) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class CustomAuthenticationManager implements AuthenticationManager {\n\n    @Autowired\n    private CustomUserDetailsService customUserDetailsService;\n\n    @Bean\n    protected PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        final UserDetails userDetail = customUserDetailsService.loadUserByUsername(authentication.getName());\n        if (!passwordEncoder().matches(authentication.getCredentials().toString(), userDetail.getPassword())) {\n            throw new BadCredentialsException(&quot;Wrong password&quot;);\n        }\n        return new UsernamePasswordAuthenticationToken(userDetail.getUsername(), userDetail.getPassword(), userDetail.getAuthorities());\n    }\n\n}\n</code></pre>\n<p>So that you can use it in the security config when adding the filter :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n    @Autowired\n    private JWTTokenUtils jwtTokenUtils;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                // disable CSRF as we do not serve browser clients\n                .csrf().disable()\n                // match GraphQL endpoint\n                .antMatcher(&quot;/graphql&quot;)\n                // add JWT authorization filter\n                .addFilter(new JWTAuthorizationFilter(new CustomAuthenticationManager(), jwtTokenUtils))\n                // allow access restriction using request matcher\n                .authorizeRequests()\n                // authenticate requests to GraphQL endpoint\n                .antMatchers(&quot;/graphql&quot;).authenticated()\n                // allow all other requests\n                .anyRequest().permitAll().and()\n                // make sure we use stateless session, session will not be used to store user's state\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>And it can be injected anywhere else in the application, i.e. in a controller :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@CrossOrigin\n@Component\npublic class AuthController {\n\n    @Autowired\n    private JWTTokenUtils jwtTokenUtils;\n\n    @Autowired\n    private CustomAuthenticationManager authenticationManager;\n\n    @RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; authenticate(@RequestBody JWTRequest userRequest) {\n\n        // try to authenticate user using specified credentials\n        final Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userRequest.getEmail(), userRequest.getPassword()));\n\n        // if authentication succeeded and is not anonymous\n        if (authentication != null &amp;&amp; !(authentication instanceof AnonymousAuthenticationToken) &amp;&amp; authentication.isAuthenticated()) {\n\n            // set authentication in security context holder\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n\n            // get authorities, we should have only one role per member so simply get the first one\n            final GrantedAuthority grantedAuthority = authentication.getAuthorities().iterator().next();\n\n            // generate new JWT token\n            final String jwtToken = jwtTokenUtils.generateToken(authentication.getPrincipal(), grantedAuthority);\n\n            // return response containing the JWT token\n            return ResponseEntity.ok(new JWTResponse(jwtToken));\n        }\n\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n\n    }\n\n}\n</code></pre>\n<p>Note that you may want to also use a custom <code>AuthenticationEntryPoint</code>, to return a 401 instead of a 500 when <code>BadCredentialsException</code> is raised.</p>\n"},{"comments":[{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":2,"creation_date":1657489341,"post_id":72598317,"comment_id":128816118,"body_markdown":"Thanks a lot for the answer, that did not directly solve the problem because I still needed to pass the authentication manager to the JWT filter through its constructor, it cannot be autowired (needed in `super` call). But I managed to get from the `filterChain` method through `authenticationManager(http.getSharedObject(AuthenticationConfiguration.class))` and it seems to work fine. I accept your answer, and keep other answers for more details and alternatives. Best!","body":"Thanks a lot for the answer, that did not directly solve the problem because I still needed to pass the authentication manager to the JWT filter through its constructor, it cannot be autowired (needed in <code>super</code> call). But I managed to get from the <code>filterChain</code> method through <code>authenticationManager(http.getSharedObject(AuthenticationCon&zwnj;&#8203;figuration.class))</code> and it seems to work fine. I accept your answer, and keep other answers for more details and alternatives. Best!"}],"tags":[],"owner":{"account_id":19732987,"reputation":254,"user_id":14448068,"display_name":"Andrei Daneliuc"},"comment_count":1,"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1655099873,"creation_date":1655099873,"answer_id":72598317,"question_id":71281032,"body_markdown":"If you want the AuthenticationManager bean to be in the spring context, you can use the following solution.\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n         return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\nThis approach has solved the problem for me and you can inject AuthenticationManager wherever you need.","title":"Spring Security exposing AuthenticationManager without WebSecurityConfigurerAdapter","body":"<p>If you want the AuthenticationManager bean to be in the spring context, you can use the following solution.</p>\n<pre><code>@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n     return authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n<p>This approach has solved the problem for me and you can inject AuthenticationManager wherever you need.</p>\n"},{"tags":[],"owner":{"account_id":2559418,"reputation":489,"user_id":2220753,"accept_rate":43,"display_name":"Kyle Copeland"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668802173,"creation_date":1668802173,"answer_id":74494848,"question_id":71281032,"body_markdown":"For those still experiencing issues, one of the contributors posted an example of a fix here: https://github.com/spring-projects/spring-security/issues/10822#issuecomment-1036063319.\r\n\r\nThere are more examples of transitioning to Spring Security 5 here: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#ldap-authentication\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        @Order(1)\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    // you probably want a request matcher since you are using @Order\r\n                    .authorizeHttpRequests((authorize) -&gt; authorize\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .apply(customDsl());\r\n            return http.build();\r\n        }\r\n    }\r\n    \r\n    public class MyCustomDsl extends AbstractHttpConfigurer&lt;MyCustomDsl, HttpSecurity&gt; {\r\n    \t@Override\r\n    \tpublic void configure(HttpSecurity http) throws Exception {\r\n    \t\tAuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\r\n    \t\thttp.addFilter(new TokenAuthFilter(authenticationManager));\r\n    \t}\r\n    \r\n    \tpublic static MyCustomDsl customDsl() {\r\n    \t\treturn new MyCustomDsl();\r\n    \t}\r\n    }","title":"Spring Security exposing AuthenticationManager without WebSecurityConfigurerAdapter","body":"<p>For those still experiencing issues, one of the contributors posted an example of a fix here: <a href=\"https://github.com/spring-projects/spring-security/issues/10822#issuecomment-1036063319\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/10822#issuecomment-1036063319</a>.</p>\n<p>There are more examples of transitioning to Spring Security 5 here: <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#ldap-authentication\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#ldap-authentication</a></p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    @Order(1)\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                // you probably want a request matcher since you are using @Order\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .anyRequest().authenticated()\n                )\n                .apply(customDsl());\n        return http.build();\n    }\n}\n\npublic class MyCustomDsl extends AbstractHttpConfigurer&lt;MyCustomDsl, HttpSecurity&gt; {\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\n        http.addFilter(new TokenAuthFilter(authenticationManager));\n    }\n\n    public static MyCustomDsl customDsl() {\n        return new MyCustomDsl();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34014,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":72598317,"answer_count":4,"score":41,"last_activity_date":1668802173,"creation_date":1645917927,"question_id":71281032,"body_markdown":"I&#39;m trying incoming Spring Boot 2.7.0-SNAPSHOT, which uses Spring Security 5.7.0, which deprecate `WebSecurityConfigurerAdapter`.\r\n\r\nI read [this blog post](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter), but I&#39;m not sure to understand how I can expose the default implementation of `AuthenticationManager` to my JWT authorization filter.\r\n\r\nThe old `WebSecurityConfig`, using `WebSecurityConfigurerAdapter` (works fine) :\r\n\r\n```java\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private JWTTokenUtils jwtTokenUtils;\r\n\r\n    @Bean\r\n    protected AuthenticationManager getAuthenticationManager() throws Exception {\r\n        return authenticationManager();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                // disable CSRF as we do not serve browser clients\r\n                .csrf().disable()\r\n                // allow access restriction using request matcher\r\n                .authorizeRequests()\r\n                // authenticate requests to GraphQL endpoint\r\n                .antMatchers(&quot;/graphql&quot;).authenticated()\r\n                // allow all other requests\r\n                .anyRequest().permitAll().and()\r\n                // JWT authorization filter\r\n                .addFilter(new JWTAuthorizationFilter(getAuthenticationManager(), jwtTokenUtils))\r\n                // make sure we use stateless session, session will not be used to store user&#39;s state\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe new `WebSecurityConfig` :\r\n\r\n```java\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig {\r\n\r\n    @Autowired\r\n    private JWTTokenUtils jwtTokenUtils;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        final AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\r\n        http\r\n                // disable CSRF as we do not serve browser clients\r\n                .csrf().disable()\r\n                // allow access restriction using request matcher\r\n                .authorizeRequests()\r\n                // authenticate requests to GraphQL endpoint\r\n                .antMatchers(&quot;/graphql&quot;).authenticated()\r\n                // allow all other requests\r\n                .anyRequest().permitAll().and()\r\n                // JWT authorization filter\r\n                .addFilter(new JWTAuthorizationFilter(authenticationManager, jwtTokenUtils))\r\n                // make sure we use stateless session, session will not be used to store user&#39;s state\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAs you see I have no `AuthenticationManager` exposed bean anymore. I cannot get it from the `WebSecurityConfigurerAdapter`. So I tried to get it directly from the `HttpSecurity` in the `filterChain` method, so I can pass it to my JWT filter directly.\r\n\r\nBut I still need an `AuthenticationManager` bean to be exposed to my `JWTAuthorizationFilter` :\r\n\r\n&gt; Parameter 0 of constructor in com.example.config.security.JWTAuthorizationFilter required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n\r\nHow can I expose it?\r\n\r\nHere is the JWT authorization filter (checks the token and authenticate the user, I have a custom `UserDetailsService` which do the credentials check in the database) :\r\n\r\n```java\r\n@Component\r\npublic class JWTAuthorizationFilter extends BasicAuthenticationFilter {\r\n\r\n    private final JWTTokenUtils jwtTokenUtils;\r\n\r\n    public JWTAuthorizationFilter(AuthenticationManager authManager, JWTTokenUtils jwtTokenUtils) {\r\n        super(authManager);\r\n        this.jwtTokenUtils = jwtTokenUtils;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest req, HttpServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n\r\n        // retrieve request authorization header\r\n        final String authorizationHeader = req.getHeader(&quot;Authorization&quot;);\r\n\r\n        // authorization header must be set and start with Bearer\r\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n\r\n            // decode JWT token\r\n            final JWTTokenPayload jwtTokenPayload = jwtTokenUtils.decodeToken(authorizationHeader);\r\n\r\n            // if user e-mail has been retrieved correctly from the token and if user is not already authenticated\r\n            if (jwtTokenPayload.getEmail() != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n\r\n                // authenticate user\r\n                final UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(jwtTokenPayload.getEmail(), null, Collections.singletonList(jwtTokenPayload.getRole()));\r\n\r\n                // set authentication in security context holder\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n            } else {\r\n                log.error(&quot;Valid token contains no user info&quot;);\r\n            }\r\n        }\r\n        // no token specified\r\n        else {\r\n            res.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n        }\r\n\r\n        // pass request down the chain, except for OPTIONS requests\r\n        if (!&quot;OPTIONS&quot;.equalsIgnoreCase(req.getMethod())) {\r\n            chain.doFilter(req, res);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nEDIT :\r\n\r\nI realized I can manage to get the `authenticationManager` in my JWT filter using the method provided [in this issue](https://github.com/spring-projects/spring-security/issues/10822#issuecomment-1036063319), but still I need an `AuthenticationManager` to be exposed globally because I also need it in my controller.\r\n\r\nHere is the authentication controller which need the `authenticationManager` to be injected :\r\n\r\n```java\r\n@RestController\r\n@CrossOrigin\r\n@Component\r\npublic class AuthController {\r\n\r\n    @Autowired\r\n    private JWTTokenUtils jwtTokenUtils;\r\n\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; authenticate(@RequestBody JWTRequest userRequest) {\r\n\r\n        // try to authenticate user using specified credentials\r\n        final Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userRequest.getEmail(), userRequest.getPassword()));\r\n\r\n        // if authentication succeeded and is not anonymous\r\n        if (authentication != null &amp;&amp; !(authentication instanceof AnonymousAuthenticationToken) &amp;&amp; authentication.isAuthenticated()) {\r\n\r\n            // set authentication in security context holder\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n            // get authorities, we should have only one role per member so simply get the first one\r\n            final GrantedAuthority grantedAuthority = authentication.getAuthorities().iterator().next();\r\n\r\n            // generate new JWT token\r\n            final String jwtToken = jwtTokenUtils.generateToken(authentication.getPrincipal(), grantedAuthority);\r\n\r\n            // return response containing the JWT token\r\n            return ResponseEntity.ok(new JWTResponse(jwtToken));\r\n        }\r\n\r\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n\r\n    }\r\n\r\n}\r\n```","title":"Spring Security exposing AuthenticationManager without WebSecurityConfigurerAdapter","body":"<p>I'm trying incoming Spring Boot 2.7.0-SNAPSHOT, which uses Spring Security 5.7.0, which deprecate <code>WebSecurityConfigurerAdapter</code>.</p>\n<p>I read <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"noreferrer\">this blog post</a>, but I'm not sure to understand how I can expose the default implementation of <code>AuthenticationManager</code> to my JWT authorization filter.</p>\n<p>The old <code>WebSecurityConfig</code>, using <code>WebSecurityConfigurerAdapter</code> (works fine) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JWTTokenUtils jwtTokenUtils;\n\n    @Bean\n    protected AuthenticationManager getAuthenticationManager() throws Exception {\n        return authenticationManager();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                // disable CSRF as we do not serve browser clients\n                .csrf().disable()\n                // allow access restriction using request matcher\n                .authorizeRequests()\n                // authenticate requests to GraphQL endpoint\n                .antMatchers(&quot;/graphql&quot;).authenticated()\n                // allow all other requests\n                .anyRequest().permitAll().and()\n                // JWT authorization filter\n                .addFilter(new JWTAuthorizationFilter(getAuthenticationManager(), jwtTokenUtils))\n                // make sure we use stateless session, session will not be used to store user's state\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n\n}\n</code></pre>\n<p>The new <code>WebSecurityConfig</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n    @Autowired\n    private JWTTokenUtils jwtTokenUtils;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        final AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\n        http\n                // disable CSRF as we do not serve browser clients\n                .csrf().disable()\n                // allow access restriction using request matcher\n                .authorizeRequests()\n                // authenticate requests to GraphQL endpoint\n                .antMatchers(&quot;/graphql&quot;).authenticated()\n                // allow all other requests\n                .anyRequest().permitAll().and()\n                // JWT authorization filter\n                .addFilter(new JWTAuthorizationFilter(authenticationManager, jwtTokenUtils))\n                // make sure we use stateless session, session will not be used to store user's state\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        return http.build();\n    }\n\n}\n</code></pre>\n<p>As you see I have no <code>AuthenticationManager</code> exposed bean anymore. I cannot get it from the <code>WebSecurityConfigurerAdapter</code>. So I tried to get it directly from the <code>HttpSecurity</code> in the <code>filterChain</code> method, so I can pass it to my JWT filter directly.</p>\n<p>But I still need an <code>AuthenticationManager</code> bean to be exposed to my <code>JWTAuthorizationFilter</code> :</p>\n<blockquote>\n<p>Parameter 0 of constructor in com.example.config.security.JWTAuthorizationFilter required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.</p>\n</blockquote>\n<p>How can I expose it?</p>\n<p>Here is the JWT authorization filter (checks the token and authenticate the user, I have a custom <code>UserDetailsService</code> which do the credentials check in the database) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JWTAuthorizationFilter extends BasicAuthenticationFilter {\n\n    private final JWTTokenUtils jwtTokenUtils;\n\n    public JWTAuthorizationFilter(AuthenticationManager authManager, JWTTokenUtils jwtTokenUtils) {\n        super(authManager);\n        this.jwtTokenUtils = jwtTokenUtils;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest req, HttpServletResponse res, FilterChain chain) throws IOException, ServletException {\n\n        // retrieve request authorization header\n        final String authorizationHeader = req.getHeader(&quot;Authorization&quot;);\n\n        // authorization header must be set and start with Bearer\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n\n            // decode JWT token\n            final JWTTokenPayload jwtTokenPayload = jwtTokenUtils.decodeToken(authorizationHeader);\n\n            // if user e-mail has been retrieved correctly from the token and if user is not already authenticated\n            if (jwtTokenPayload.getEmail() != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n\n                // authenticate user\n                final UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(jwtTokenPayload.getEmail(), null, Collections.singletonList(jwtTokenPayload.getRole()));\n\n                // set authentication in security context holder\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n\n            } else {\n                log.error(&quot;Valid token contains no user info&quot;);\n            }\n        }\n        // no token specified\n        else {\n            res.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n        }\n\n        // pass request down the chain, except for OPTIONS requests\n        if (!&quot;OPTIONS&quot;.equalsIgnoreCase(req.getMethod())) {\n            chain.doFilter(req, res);\n        }\n\n    }\n\n}\n</code></pre>\n<p>EDIT :</p>\n<p>I realized I can manage to get the <code>authenticationManager</code> in my JWT filter using the method provided <a href=\"https://github.com/spring-projects/spring-security/issues/10822#issuecomment-1036063319\" rel=\"noreferrer\">in this issue</a>, but still I need an <code>AuthenticationManager</code> to be exposed globally because I also need it in my controller.</p>\n<p>Here is the authentication controller which need the <code>authenticationManager</code> to be injected :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@CrossOrigin\n@Component\npublic class AuthController {\n\n    @Autowired\n    private JWTTokenUtils jwtTokenUtils;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; authenticate(@RequestBody JWTRequest userRequest) {\n\n        // try to authenticate user using specified credentials\n        final Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userRequest.getEmail(), userRequest.getPassword()));\n\n        // if authentication succeeded and is not anonymous\n        if (authentication != null &amp;&amp; !(authentication instanceof AnonymousAuthenticationToken) &amp;&amp; authentication.isAuthenticated()) {\n\n            // set authentication in security context holder\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n\n            // get authorities, we should have only one role per member so simply get the first one\n            final GrantedAuthority grantedAuthority = authentication.getAuthorities().iterator().next();\n\n            // generate new JWT token\n            final String jwtToken = jwtTokenUtils.generateToken(authentication.getPrincipal(), grantedAuthority);\n\n            // return response containing the JWT token\n            return ResponseEntity.ok(new JWTResponse(jwtToken));\n        }\n\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","session","web-applications","web.xml"],"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":4,"creation_date":1343698878,"post_id":2255814,"comment_id":15568848,"body_markdown":"What an interesting question. I have a situation where with Tomcat, no session is being created for me, so I was searching for whether there was a way to turn the session _on_ in web.xml. :D","body":"What an interesting question. I have a situation where with Tomcat, no session is being created for me, so I was searching for whether there was a way to turn the session <i>on</i> in web.xml. :D"}],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1266090346,"creation_date":1266022576,"answer_id":2256055,"question_id":2255814,"body_markdown":"&gt; I would like to eliminate the HttpSession completely - can I do this in web.xml? I&#39;m sure there are container specific ways to do it\r\n\r\nI don&#39;t think so. Disabling the `HttpSession` would be a violation of the Servlet spec which states that `HttpServletRequest#getSession` should return a session or create one. So I wouldn&#39;t expect a Java EE container to provide such a configuration option (that would make it non compliant).\r\n\r\n&gt; Is this a bad idea? I prefer to completely disable things until I actually need them.\r\n\r\nWell, I don&#39;t really get the point, just don&#39;t put anything in the session if you don&#39;t want to use it. Now, if you really want to prevent the use of the session, you can use a `Filter` to replace the request with a implementation of `HttpServletRequestWrapper` overriding `getSession()`. But I wouldn&#39;t waste time implementing this :)\r\n\r\n**Update:** My initial suggestion was not optimal, the &quot;right&quot; (*cough*) way would be to replace the request.","title":"Can I turn off the HttpSession in web.xml?","body":"<blockquote>\n  <p>I would like to eliminate the HttpSession completely - can I do this in web.xml? I'm sure there are container specific ways to do it</p>\n</blockquote>\n\n<p>I don't think so. Disabling the <code>HttpSession</code> would be a violation of the Servlet spec which states that <code>HttpServletRequest#getSession</code> should return a session or create one. So I wouldn't expect a Java EE container to provide such a configuration option (that would make it non compliant).</p>\n\n<blockquote>\n  <p>Is this a bad idea? I prefer to completely disable things until I actually need them.</p>\n</blockquote>\n\n<p>Well, I don't really get the point, just don't put anything in the session if you don't want to use it. Now, if you really want to prevent the use of the session, you can use a <code>Filter</code> to replace the request with a implementation of <code>HttpServletRequestWrapper</code> overriding <code>getSession()</code>. But I wouldn't waste time implementing this :)</p>\n\n<p><strong>Update:</strong> My initial suggestion was not optimal, the \"right\" (<em>cough</em>) way would be to replace the request.</p>\n"},{"tags":[],"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668801347,"creation_date":1266022648,"answer_id":2256061,"question_id":2255814,"body_markdown":"Rather than disabling you can rewrite the URL using a URL rewrite filter eg &lt;a href=&quot;https://tuckey.org/urlrewrite/&quot;&gt;tuckey rewrite filter&lt;/a&gt;. This will give Google friendly results but still allow cookie based session handling.\r\n\r\nHowever, you should probably disable it for all responses as it&#39;s worse than just search engine unfriendly. It exposes the session ID which can be used for &lt;a href=&quot;https://randomcoder.org/articles/jsessionid-considered-harmful&quot;&gt;certain security exploits&lt;/a&gt;.\r\n\r\n&lt;a href=&quot;https://tuckey.org/urlrewrite/manual/4.0/guide.html&quot;&gt;Example config&lt;/a&gt; for Tuckey filter:\r\n\r\n    &lt;outbound-rule encodefirst=&quot;true&quot;&gt;\r\n      &lt;name&gt;Strip URL Session ID&#39;s&lt;/name&gt;\r\n      &lt;from&gt;^(.*?)(?:\\;jsessionid=[^\\?#]*)?(\\?[^#]*)?(#.*)?$&lt;/from&gt;\r\n      &lt;to&gt;$1$2$3&lt;/to&gt;\r\n    &lt;/outbound-rule&gt;","title":"Can I turn off the HttpSession in web.xml?","body":"<p>Rather than disabling you can rewrite the URL using a URL rewrite filter eg <a href=\"https://tuckey.org/urlrewrite/\" rel=\"nofollow noreferrer\">tuckey rewrite filter</a>. This will give Google friendly results but still allow cookie based session handling.</p>\n<p>However, you should probably disable it for all responses as it's worse than just search engine unfriendly. It exposes the session ID which can be used for <a href=\"https://randomcoder.org/articles/jsessionid-considered-harmful\" rel=\"nofollow noreferrer\">certain security exploits</a>.</p>\n<p><a href=\"https://tuckey.org/urlrewrite/manual/4.0/guide.html\" rel=\"nofollow noreferrer\">Example config</a> for Tuckey filter:</p>\n<pre><code>&lt;outbound-rule encodefirst=&quot;true&quot;&gt;\n  &lt;name&gt;Strip URL Session ID's&lt;/name&gt;\n  &lt;from&gt;^(.*?)(?:\\;jsessionid=[^\\?#]*)?(\\?[^#]*)?(#.*)?$&lt;/from&gt;\n  &lt;to&gt;$1$2$3&lt;/to&gt;\n&lt;/outbound-rule&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":7,"creation_date":1344964873,"post_id":2256073,"comment_id":15933975,"body_markdown":"The `HttpServletRequestWrapper` sounds good, I would go with that. In a large project with many developers you need some enforcement of architectural decisions (like statelessness). You can&#39;t rely on people &quot;simply not using it&quot;.","body":"The <code>HttpServletRequestWrapper</code> sounds good, I would go with that. In a large project with many developers you need some enforcement of architectural decisions (like statelessness). You can&#39;t rely on people &quot;simply not using it&quot;."},{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"score":4,"creation_date":1430301223,"post_id":2256073,"comment_id":48001249,"body_markdown":"_&quot;If you don&#39;t need them, just don&#39;t use them&quot;_ It is not that simple. Some of the hundreds of libraries your project uses might create a session somewhere.","body":"<i>&quot;If you don&#39;t need them, just don&#39;t use them&quot;</i> It is not that simple. Some of the hundreds of libraries your project uses might create a session somewhere."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1430301835,"post_id":2256073,"comment_id":48001711,"body_markdown":"@David: then just question the library in question?","body":"@David: then just question the library in question?"},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1452246712,"post_id":2256073,"comment_id":57093029,"body_markdown":"@Balus so there is no application server that can handle requests without creating the HttpSession and storing the data for at least one minute? Right?","body":"@Balus so there is no application server that can handle requests without creating the HttpSession and storing the data for at least one minute? Right?"},{"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"score":0,"creation_date":1479813806,"post_id":2256073,"comment_id":68706964,"body_markdown":"It is so sad to see that Java EE was simply NOT designed for stateless, sessionless applications, which is one of the best modern technique to build scalable web applications. That is also the reason of emerging new technologies such as express.js and Play framework. They are stateless by default and they are indeed very scalable server side frameworks that can easily serve thousands concurrently on a single regular machine. I recommend using them for new projects.","body":"It is so sad to see that Java EE was simply NOT designed for stateless, sessionless applications, which is one of the best modern technique to build scalable web applications. That is also the reason of emerging new technologies such as express.js and Play framework. They are stateless by default and they are indeed very scalable server side frameworks that can easily serve thousands concurrently on a single regular machine. I recommend using them for new projects."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1479813977,"post_id":2256073,"comment_id":68707077,"body_markdown":"@bekce: Uh, whilst Java EE is indeed not stateless by default, you can make it (at least JSP, Servlets and JSF) stateless as answered above (simply don&#39;t touch `HttpSession` in first place). So I don&#39;t see why this would be a reason to migrate to an entirely different web framework. Moreover, scalability doesn&#39;t depend on statelessness at all. Look at Google as an example, it definitely isn&#39;t stateless :)","body":"@bekce: Uh, whilst Java EE is indeed not stateless by default, you can make it (at least JSP, Servlets and JSF) stateless as answered above (simply don&#39;t touch <code>HttpSession</code> in first place). So I don&#39;t see why this would be a reason to migrate to an entirely different web framework. Moreover, scalability doesn&#39;t depend on statelessness at all. Look at Google as an example, it definitely isn&#39;t stateless :)"},{"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"score":0,"creation_date":1479880517,"post_id":2256073,"comment_id":68739239,"body_markdown":"@BalusC  \nEven if you don&#39;t touch that object, the server will definitely create one for you in the memory, which is terrible for GC and from security perspective if you have lots of them. The problem of Java EE is that it was designed to solve everything even load balancing, session replication, clustering, messaging all in suboptimal ways compared to current technology and it lost its competence along the way. Modern systems should use Redis or Hazelcast for session replication which scale well.","body":"@BalusC   Even if you don&#39;t touch that object, the server will definitely create one for you in the memory, which is terrible for GC and from security perspective if you have lots of them. The problem of Java EE is that it was designed to solve everything even load balancing, session replication, clustering, messaging all in suboptimal ways compared to current technology and it lost its competence along the way. Modern systems should use Redis or Hazelcast for session replication which scale well."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1479888126,"post_id":2256073,"comment_id":68742686,"body_markdown":"@becke: &quot;definitely&quot;? Apparently you&#39;ve only worked with buggy servers. This is namely nowhere defined in servlet spec. Even then, your GC and security concerns are ungrounded. Sorry, your subjective comments so far sound too much like fanboy speeches from a disgruntled user. Stack Overflow is not the right place for that. Try Reddit instead.","body":"@becke: &quot;definitely&quot;? Apparently you&#39;ve only worked with buggy servers. This is namely nowhere defined in servlet spec. Even then, your GC and security concerns are ungrounded. Sorry, your subjective comments so far sound too much like fanboy speeches from a disgruntled user. Stack Overflow is not the right place for that. Try Reddit instead."},{"owner":{"account_id":1365512,"reputation":216,"user_id":1302028,"accept_rate":86,"display_name":"balas"},"score":0,"creation_date":1527848318,"post_id":2256073,"comment_id":88292412,"body_markdown":"@BalusC Regarding JSP-s: in case we use the approach you suggested to override the getSession() methods, do we still need to explicitly add &lt;%@page session=&quot;false&quot;%&gt; tags to JSP-s? Or do the automated session creation in the JSP lifecycle also fall back to the same getSession() methods?","body":"@BalusC Regarding JSP-s: in case we use the approach you suggested to override the getSession() methods, do we still need to explicitly add &lt;%@page session=&quot;false&quot;%&gt; tags to JSP-s? Or do the automated session creation in the JSP lifecycle also fall back to the same getSession() methods?"},{"owner":{"account_id":1951378,"reputation":2495,"user_id":1755381,"accept_rate":48,"display_name":"Franz Deschler"},"score":0,"creation_date":1594725442,"post_id":2256073,"comment_id":111220076,"body_markdown":"In my application, the jsp pages seem to implicitly create a session. I tried to use &lt;%@page session=&quot;false&quot;%&gt; but then the page could not be loaded anymore. I also tried to disable cookies in the context.xml but it didn&#180;t work either.","body":"In my application, the jsp pages seem to implicitly create a session. I tried to use &lt;%@page session=&quot;false&quot;%&gt; but then the page could not be loaded anymore. I also tried to disable cookies in the context.xml but it didn&#180;t work either."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1594725630,"post_id":2256073,"comment_id":111220157,"body_markdown":"@FranzDeschler: just put a breakpoint in session creation and inspect call stack to nail down who&#39;s doing that and why.","body":"@FranzDeschler: just put a breakpoint in session creation and inspect call stack to nail down who&#39;s doing that and why."},{"owner":{"account_id":1951378,"reputation":2495,"user_id":1755381,"accept_rate":48,"display_name":"Franz Deschler"},"score":0,"creation_date":1595595969,"post_id":2256073,"comment_id":111537529,"body_markdown":"@BalusC thanks. It works now. I had to add it to all jsp files. Not only the root-jsp but all included ones too.","body":"@BalusC thanks. It works now. I had to add it to all jsp files. Not only the root-jsp but all included ones too."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":12,"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1452250054,"creation_date":1266022880,"answer_id":2256073,"question_id":2255814,"body_markdown":"&gt; *I would like to eliminate the HttpSession completely*\r\n\r\nYou can&#39;t entirely disable it. All you need to do is to just **not** to get a handle of it by either `request.getSession()` or `request.getSession(true)` anywhere in your webapplication&#39;s code and making sure that your JSPs don&#39;t implicitly do that by setting `&lt;%@page session=&quot;false&quot;%&gt;`.\r\n\r\nIf your main concern is actually disabling the cookie which is been used behind the scenes of `HttpSession`, then you can in Java EE 5 / Servlet 2.5 only do so in the server-specific webapp configuration. In for example Tomcat you can set the `cookies` attribute to `false` in `&lt;Context&gt;` element.\r\n\r\n    &lt;Context cookies=&quot;false&quot;&gt;\r\n\r\nAlso see this [Tomcat specific documentation][1]. This way the session won&#39;t be retained in the subsequent requests which aren&#39;t URL-rewritten --only whenever you grab it from the request for some reason. After all, if you don&#39;t need it, **just** don&#39;t grab it, then it won&#39;t be created/retained at all.\r\n\r\nOr, if you&#39;re already on Java EE 6 / Servlet 3.0 or newer, and really want to do it via `web.xml`, then you can use the new `&lt;cookie-config&gt;` element in `web.xml` as follows to zero-out the max age:\r\n\r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;1&lt;/session-timeout&gt;\r\n        &lt;cookie-config&gt;\r\n            &lt;max-age&gt;0&lt;/max-age&gt;\r\n        &lt;/cookie-config&gt;\r\n    &lt;/session-config&gt;\r\n\r\nIf you want to hardcode in your webapplication so that `getSession()` never returns a `HttpSession` (or an &quot;empty&quot; `HttpSession`), then you&#39;ll need to create a filter listening on an `url-pattern` of `/*` which replaces the `HttpServletRequest` with a [`HttpServletRequestWrapper`][2] implementation which returns on all `getSession()` methods `null`, or a dummy custom `HttpSession` implementation which does nothing, or even throws `UnsupportedOperationException`.\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        chain.doFilter(new HttpServletRequestWrapper((HttpServletRequest) request) {\r\n        \t@Override\r\n        \tpublic HttpSession getSession() {\r\n             \treturn null;\r\n        \t}\r\n            @Override\r\n            public HttpSession getSession(boolean create) {\r\n             \treturn null;\r\n            }\r\n        }, response);\r\n    }\r\n\r\n---\r\n\r\n&gt; *P.S. Is this a bad idea? I prefer to completely disable things until I actually need them.*\r\n\r\nIf you don&#39;t need them, just don&#39;t use them. That&#39;s all. Really :)\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-6.0-doc/config/context.html\r\n  [2]: http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequestWrapper.html","title":"Can I turn off the HttpSession in web.xml?","body":"<blockquote>\n  <p><em>I would like to eliminate the HttpSession completely</em></p>\n</blockquote>\n\n<p>You can't entirely disable it. All you need to do is to just <strong>not</strong> to get a handle of it by either <code>request.getSession()</code> or <code>request.getSession(true)</code> anywhere in your webapplication's code and making sure that your JSPs don't implicitly do that by setting <code>&lt;%@page session=\"false\"%&gt;</code>.</p>\n\n<p>If your main concern is actually disabling the cookie which is been used behind the scenes of <code>HttpSession</code>, then you can in Java EE 5 / Servlet 2.5 only do so in the server-specific webapp configuration. In for example Tomcat you can set the <code>cookies</code> attribute to <code>false</code> in <code>&lt;Context&gt;</code> element.</p>\n\n<pre><code>&lt;Context cookies=\"false\"&gt;\n</code></pre>\n\n<p>Also see this <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/config/context.html\" rel=\"noreferrer\">Tomcat specific documentation</a>. This way the session won't be retained in the subsequent requests which aren't URL-rewritten --only whenever you grab it from the request for some reason. After all, if you don't need it, <strong>just</strong> don't grab it, then it won't be created/retained at all.</p>\n\n<p>Or, if you're already on Java EE 6 / Servlet 3.0 or newer, and really want to do it via <code>web.xml</code>, then you can use the new <code>&lt;cookie-config&gt;</code> element in <code>web.xml</code> as follows to zero-out the max age:</p>\n\n<pre><code>&lt;session-config&gt;\n    &lt;session-timeout&gt;1&lt;/session-timeout&gt;\n    &lt;cookie-config&gt;\n        &lt;max-age&gt;0&lt;/max-age&gt;\n    &lt;/cookie-config&gt;\n&lt;/session-config&gt;\n</code></pre>\n\n<p>If you want to hardcode in your webapplication so that <code>getSession()</code> never returns a <code>HttpSession</code> (or an \"empty\" <code>HttpSession</code>), then you'll need to create a filter listening on an <code>url-pattern</code> of <code>/*</code> which replaces the <code>HttpServletRequest</code> with a <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequestWrapper.html\" rel=\"noreferrer\"><code>HttpServletRequestWrapper</code></a> implementation which returns on all <code>getSession()</code> methods <code>null</code>, or a dummy custom <code>HttpSession</code> implementation which does nothing, or even throws <code>UnsupportedOperationException</code>.</p>\n\n<pre><code>@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n    chain.doFilter(new HttpServletRequestWrapper((HttpServletRequest) request) {\n        @Override\n        public HttpSession getSession() {\n            return null;\n        }\n        @Override\n        public HttpSession getSession(boolean create) {\n            return null;\n        }\n    }, response);\n}\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em>P.S. Is this a bad idea? I prefer to completely disable things until I actually need them.</em></p>\n</blockquote>\n\n<p>If you don't need them, just don't use them. That's all. Really :)</p>\n"},{"tags":[],"owner":{"account_id":388297,"reputation":111,"user_id":747134,"display_name":"Wittaya"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1415026295,"creation_date":1348662795,"answer_id":12601820,"question_id":2255814,"body_markdown":"For RESTful application, I simply invalidate it every time the request&#39;s lifecycle ends. There may be some web server that always creates new session when new client access whether you call `request.getSession()` or not.","title":"Can I turn off the HttpSession in web.xml?","body":"<p>For RESTful application, I simply invalidate it every time the request's lifecycle ends. There may be some web server that always creates new session when new client access whether you call <code>request.getSession()</code> or not.</p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388382525,"creation_date":1388382525,"answer_id":20834056,"question_id":2255814,"body_markdown":"I use the following method for my RESTful app to remove any inadvertent session cookies from being created *and* used.\r\n\r\n\t&lt;session-config&gt;\r\n\t\t&lt;session-timeout&gt;1&lt;/session-timeout&gt;\r\n\t\t&lt;cookie-config&gt;\r\n\t\t\t&lt;max-age&gt;0&lt;/max-age&gt;\r\n\t\t&lt;/cookie-config&gt;\r\n\t&lt;/session-config&gt;\r\n\r\nHowever, this does not turn off HttpSessions altogether.  A session may still be created by the application inadvertently, even if it disappears in a minute and a rogue client may ignore the max-age request for the cookie as well.\r\n\r\nThe advantage of this approach is you don&#39;t need to change your application, just `web.xml`.  I would recommend you create an `HttpSessionListener` that will log when a session is created or destroyed so you can track when it occurs.","title":"Can I turn off the HttpSession in web.xml?","body":"<p>I use the following method for my RESTful app to remove any inadvertent session cookies from being created <em>and</em> used.</p>\n\n<pre><code>&lt;session-config&gt;\n    &lt;session-timeout&gt;1&lt;/session-timeout&gt;\n    &lt;cookie-config&gt;\n        &lt;max-age&gt;0&lt;/max-age&gt;\n    &lt;/cookie-config&gt;\n&lt;/session-config&gt;\n</code></pre>\n\n<p>However, this does not turn off HttpSessions altogether.  A session may still be created by the application inadvertently, even if it disappears in a minute and a rogue client may ignore the max-age request for the cookie as well.</p>\n\n<p>The advantage of this approach is you don't need to change your application, just <code>web.xml</code>.  I would recommend you create an <code>HttpSessionListener</code> that will log when a session is created or destroyed so you can track when it occurs.</p>\n"},{"tags":[],"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411051621,"creation_date":1411051621,"answer_id":25915891,"question_id":2255814,"body_markdown":"One cannot avoid the session creation. But you can check if you violate your own requirement at the end of a request cycle. So, create a simple servlet filter, which you place as first and after chain.doFilter throw an exception if a session was created:\r\n\r\n    chain.doFilter(request, response);\r\n    if(request.getSession(false) != null)\r\n        throw new RuntimeException(&quot;Somewhere request.getSession() was called&quot;);","title":"Can I turn off the HttpSession in web.xml?","body":"<p>One cannot avoid the session creation. But you can check if you violate your own requirement at the end of a request cycle. So, create a simple servlet filter, which you place as first and after chain.doFilter throw an exception if a session was created:</p>\n\n<pre><code>chain.doFilter(request, response);\nif(request.getSession(false) != null)\n    throw new RuntimeException(\"Somewhere request.getSession() was called\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2868895,"reputation":299,"user_id":2462633,"display_name":"Dmytro Voloshyn"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1446047312,"creation_date":1446047312,"answer_id":33395601,"question_id":2255814,"body_markdown":"If you are building a stateless high load application you can disable using cookies for session tracking like this (non-intrusive, probably container-agnostic):\r\n\r\n    &lt;session-config&gt;\r\n        &lt;tracking-mode&gt;URL&lt;/tracking-mode&gt;\r\n    &lt;/session-config&gt;\r\n\r\nTo enforce this architectural decision write something like this:\r\n\r\n    public class PreventSessionListener implements HttpSessionListener {\r\n    @Override\r\n    public void sessionCreated(HttpSessionEvent se) {\r\n        throw new IllegalStateException(&quot;Session use is forbidden&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void sessionDestroyed(HttpSessionEvent se) {\r\n        throw new IllegalStateException(&quot;Session use is forbidden&quot;);\r\n    }\r\n    }\r\n\r\nAnd add it to web.xml and fix places where it fails with that exception:\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;com.ideas.bucketlist.web.PreventSessionListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;","title":"Can I turn off the HttpSession in web.xml?","body":"<p>If you are building a stateless high load application you can disable using cookies for session tracking like this (non-intrusive, probably container-agnostic):</p>\n\n<pre><code>&lt;session-config&gt;\n    &lt;tracking-mode&gt;URL&lt;/tracking-mode&gt;\n&lt;/session-config&gt;\n</code></pre>\n\n<p>To enforce this architectural decision write something like this:</p>\n\n<pre><code>public class PreventSessionListener implements HttpSessionListener {\n@Override\npublic void sessionCreated(HttpSessionEvent se) {\n    throw new IllegalStateException(\"Session use is forbidden\");\n}\n\n@Override\npublic void sessionDestroyed(HttpSessionEvent se) {\n    throw new IllegalStateException(\"Session use is forbidden\");\n}\n}\n</code></pre>\n\n<p>And add it to web.xml and fix places where it fails with that exception:</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;com.ideas.bucketlist.web.PreventSessionListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1103179,"reputation":1695,"user_id":1095120,"display_name":"Nicholas Lu"},"score":0,"creation_date":1500561918,"post_id":42155462,"comment_id":77402447,"body_markdown":"@ArtemNovikov What&#39;s your Spring Security version? This future is supported since 3.1","body":"@ArtemNovikov What&#39;s your Spring Security version? This future is supported since 3.1"},{"owner":{"account_id":2610789,"reputation":972,"user_id":2260924,"accept_rate":46,"display_name":"frankieta"},"score":0,"creation_date":1558428097,"post_id":42155462,"comment_id":99087534,"body_markdown":"This means that Spring Security will never create an HttpSession but leaves open the door for other parts of code that can request the session creation by using getSession() as stated in BalusC answer","body":"This means that Spring Security will never create an HttpSession but leaves open the door for other parts of code that can request the session creation by using getSession() as stated in BalusC answer"}],"tags":[],"owner":{"account_id":1103179,"reputation":1695,"user_id":1095120,"display_name":"Nicholas Lu"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1486717793,"creation_date":1486717793,"answer_id":42155462,"question_id":2255814,"body_markdown":"In Spring Security 3 with Java Config, you can use HttpSecurity.sessionManagement():\r\n\r\n    @Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n        http\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    }\r\n\r\nXml looks like this;\r\n\r\n    &lt;http create-session=&quot;stateless&quot;&gt;\r\n      &lt;!-- config --&gt;\r\n    &lt;/http&gt;\r\n\r\nBy the way, the difference between NEVER and STATELESS\r\n\r\n&gt; NEVER:Spring Security will never create an HttpSession, but will use\r\n&gt; the HttpSession if it already exists\r\n&gt; \r\n&gt; STATELESS:Spring Security will never create an HttpSession and it will\r\n&gt; never use it to obtain the SecurityContext","title":"Can I turn off the HttpSession in web.xml?","body":"<p>In Spring Security 3 with Java Config, you can use HttpSecurity.sessionManagement():</p>\n\n<pre><code>@Override\nprotected void configure(final HttpSecurity http) throws Exception {\n    http\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n}\n</code></pre>\n\n<p>Xml looks like this;</p>\n\n<pre><code>&lt;http create-session=\"stateless\"&gt;\n  &lt;!-- config --&gt;\n&lt;/http&gt;\n</code></pre>\n\n<p>By the way, the difference between NEVER and STATELESS</p>\n\n<blockquote>\n  <p>NEVER:Spring Security will never create an HttpSession, but will use\n  the HttpSession if it already exists</p>\n  \n  <p>STATELESS:Spring Security will never create an HttpSession and it will\n  never use it to obtain the SecurityContext</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1573273,"reputation":3033,"user_id":1460467,"accept_rate":88,"display_name":"Alexandre Jacob"},"score":0,"creation_date":1547663687,"post_id":51411240,"comment_id":95272420,"body_markdown":"Thank you. Worked fine with jetty. I needed a way to avoid session creation without having to ensure each .jsp had &lt;%@ page session=&quot;false&quot; %&gt; configured and so far it is the best solution to meet my needs.","body":"Thank you. Worked fine with jetty. I needed a way to avoid session creation without having to ensure each .jsp had &lt;%@ page session=&quot;false&quot; %&gt; configured and so far it is the best solution to meet my needs."}],"tags":[],"owner":{"account_id":168764,"reputation":10177,"user_id":394431,"accept_rate":87,"display_name":"Robert Tupelo-Schneck"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531949376,"creation_date":1531949376,"answer_id":51411240,"question_id":2255814,"body_markdown":"As of Servlet 3.0, you can make it so sessions are not tracked by the servlet container in any way, by adding code like this to the `contextInitialized` method of a `ServletContextListener`:\r\n\r\n    servletContext.setSessionTrackingModes(Collections.emptySet());\r\n\r\n[Javadoc.](https://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html#setSessionTrackingModes(java.util.Set))","title":"Can I turn off the HttpSession in web.xml?","body":"<p>As of Servlet 3.0, you can make it so sessions are not tracked by the servlet container in any way, by adding code like this to the <code>contextInitialized</code> method of a <code>ServletContextListener</code>:</p>\n\n<pre><code>servletContext.setSessionTrackingModes(Collections.emptySet());\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html#setSessionTrackingModes(java.util.Set)\" rel=\"nofollow noreferrer\">Javadoc.</a></p>\n"}],"owner":{"account_id":17585,"reputation":14171,"user_id":39489,"accept_rate":85,"display_name":"les2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55852,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":2256073,"answer_count":9,"score":65,"last_activity_date":1668801347,"creation_date":1266017830,"question_id":2255814,"body_markdown":"I would like to eliminate the HttpSession completely - can I do this in web.xml? I&#39;m sure there are container specific ways to do it (which is what crowds the search results when I do a Google search).\r\n\r\nP.S. Is this a bad idea? I prefer to completely disable things until I actually need them.","title":"Can I turn off the HttpSession in web.xml?","body":"<p>I would like to eliminate the HttpSession completely - can I do this in web.xml? I'm sure there are container specific ways to do it (which is what crowds the search results when I do a Google search).</p>\n\n<p>P.S. Is this a bad idea? I prefer to completely disable things until I actually need them.</p>\n"},{"tags":["java","variables","methods"],"answers":[{"tags":[],"owner":{"account_id":198222,"reputation":19310,"user_id":442760,"display_name":"cafce25"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668790778,"creation_date":1668790778,"answer_id":74493030,"question_id":74462516,"body_markdown":"Posting OPs solution since they&#39;re unable to do it themselves.\r\n\r\n\r\nThe solution is to make the variables in question members of the class by defining them outside of any methods:\r\n```java\r\n// default packages\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.awt.*;\r\nimport java.applet.*;\r\n\r\nclass msg {\r\n    String name, dep, age, bdg, hob;\r\n    void data() {\r\n        System.out.println(&quot;\\nStudent data .....:)&quot;);\r\n        System.out.print(&quot;\\nEnter your name:&quot;);\r\n        Scanner a = new Scanner(System.in);\r\n        name = a.nextLine();\r\n        System.out.print(&quot;\\nEnter your department:&quot;);\r\n        Scanner b = new Scanner(System.in);\r\n        dep = b.nextLine();\r\n        System.out.print(&quot;\\nEnter your age:&quot;);\r\n        Scanner c = new Scanner(System.in);\r\n        age = c.nextLine();\r\n        System.out.print(&quot;\\nEnter your blood-group:&quot;);\r\n        Scanner d = new Scanner(System.in);\r\n        bdg = d.nextLine();\r\n        System.out.print(&quot;\\nEnter your hobbies:&quot;);\r\n        Scanner e = new Scanner(System.in);\r\n        hob = e.nextLine();\r\n    }\r\n\r\n    void showdata() {\r\n        System.out.println(&quot;\\nStudent data inserted successfully .....:)&quot;);\r\n        System.out.println(&quot;Name :&quot; + name);\r\n        System.out.println(&quot;Department :&quot;+dep);\r\n        System.out.println(&quot;Age :&quot;+age);\r\n        System.out.println(&quot;Blood-Group :&quot;+bdg);\r\n        System.out.println(&quot;Hobbies :&quot;+hob);\r\n    }\r\n}\r\n\r\npublic class display {\r\n    public static void main(String[] args) {\r\n        msg d=new msg();\r\n        d.data();\r\n        d.showdata();\r\n        System.out.println(&quot;Welcome to java development !!!&quot;);\r\n    }\r\n}\r\n```","title":"How to call a variable of another method in another method in same class","body":"<p>Posting OPs solution since they're unable to do it themselves.</p>\n<p>The solution is to make the variables in question members of the class by defining them outside of any methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// default packages\nimport java.util.*;\nimport java.lang.*;\nimport java.io.*;\nimport java.net.*;\nimport java.awt.*;\nimport java.applet.*;\n\nclass msg {\n    String name, dep, age, bdg, hob;\n    void data() {\n        System.out.println(&quot;\\nStudent data .....:)&quot;);\n        System.out.print(&quot;\\nEnter your name:&quot;);\n        Scanner a = new Scanner(System.in);\n        name = a.nextLine();\n        System.out.print(&quot;\\nEnter your department:&quot;);\n        Scanner b = new Scanner(System.in);\n        dep = b.nextLine();\n        System.out.print(&quot;\\nEnter your age:&quot;);\n        Scanner c = new Scanner(System.in);\n        age = c.nextLine();\n        System.out.print(&quot;\\nEnter your blood-group:&quot;);\n        Scanner d = new Scanner(System.in);\n        bdg = d.nextLine();\n        System.out.print(&quot;\\nEnter your hobbies:&quot;);\n        Scanner e = new Scanner(System.in);\n        hob = e.nextLine();\n    }\n\n    void showdata() {\n        System.out.println(&quot;\\nStudent data inserted successfully .....:)&quot;);\n        System.out.println(&quot;Name :&quot; + name);\n        System.out.println(&quot;Department :&quot;+dep);\n        System.out.println(&quot;Age :&quot;+age);\n        System.out.println(&quot;Blood-Group :&quot;+bdg);\n        System.out.println(&quot;Hobbies :&quot;+hob);\n    }\n}\n\npublic class display {\n    public static void main(String[] args) {\n        msg d=new msg();\n        d.data();\n        d.showdata();\n        System.out.println(&quot;Welcome to java development !!!&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22230543,"reputation":51,"user_id":16466798,"display_name":"Shubham-Misal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74493030,"answer_count":1,"score":0,"last_activity_date":1668801264,"creation_date":1668610009,"question_id":74462516,"body_markdown":"    \r\n    // default packages\r\n    import java. util.*;\r\n    import java. lang.*;\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java. awt.*;\r\n    import java. applet.*;\r\n    \r\n    class msg {\r\n        void data() {\r\n    \t    String name, dep, age, bdg, hob;\r\n    \t    System.out.println(&quot;\\nStudent data .....:)&quot;);\r\n    \t    System.out.print(&quot;\\nEnter your name:&quot;);\r\n    \t    Scanner a = new Scanner(System.in);\r\n    \t    name = a.nextLine();\r\n    \t    System.out.print(&quot;\\nEnter your department:&quot;);\r\n    \t    Scanner b = new Scanner(System.in);\r\n    \t    dep = b.nextLine();\r\n    \t    System.out.print(&quot;\\nEnter your age:&quot;);\r\n    \t    Scanner c = new Scanner(System.in);\r\n    \t    age = c.nextLine();\r\n    \t    System.out.print(&quot;\\nEnter your blood-group:&quot;);\r\n    \t    Scanner d = new Scanner(System.in);\r\n    \t    bdg = d.nextLine();\r\n    \t    System.out.print(&quot;\\nEnter your hobbies:&quot;);\r\n    \t    Scanner e = new Scanner(System.in);\r\n    \t    hob = e.nextLine();\r\n        }\r\n    \r\n        void showdata() {\r\n    \t    System.out.println(&quot;\\nStudent data inserted successfully .....:)&quot;);\r\n    \t    System.out.println(&quot;Name :&quot; + name);\r\n            System.out.println(&quot;Department :&quot;+dep);\r\n            System.out.println(&quot;Age :&quot;+age);\r\n            System.out.println(&quot;Blood-Group :&quot;+bdg);\r\n            System.out.println(&quot;Hobbies :&quot;+hob);\r\n        }\r\n    }\r\n    \r\n    public class display {\r\n        public static void main(String[] args) {\r\n            msg d=new msg();\r\n            d.data();\r\n            d.showdata();\r\n            System.out.println(&quot;Welcome to java development !!!&quot;);\r\n        }\r\n    }\r\n\r\n&lt;hr&gt;\r\n\r\nHow do I call these variables &amp;ndash; &gt; name, dep, age, bdg, hob &amp;ndash; &gt; inside the method showdata() and print that details, is there any option to call another variable of another method in a different method but in the same class\r\n&lt;hr&gt;&lt;br&gt;\r\nOutput:\r\n\r\n```\r\ndefaultjava.java:32: error: cannot find symbol\r\n     System.out.println(&quot;Name:&quot;+name);\r\n     ^\r\n  symbol:   variable name\r\n  location: class msg\r\n```\r\n","title":"How to call a variable of another method in another method in same class","body":"<pre><code>// default packages\nimport java. util.*;\nimport java. lang.*;\nimport java.io.*;\nimport java.net.*;\nimport java. awt.*;\nimport java. applet.*;\n\nclass msg {\n    void data() {\n        String name, dep, age, bdg, hob;\n        System.out.println(&quot;\\nStudent data .....:)&quot;);\n        System.out.print(&quot;\\nEnter your name:&quot;);\n        Scanner a = new Scanner(System.in);\n        name = a.nextLine();\n        System.out.print(&quot;\\nEnter your department:&quot;);\n        Scanner b = new Scanner(System.in);\n        dep = b.nextLine();\n        System.out.print(&quot;\\nEnter your age:&quot;);\n        Scanner c = new Scanner(System.in);\n        age = c.nextLine();\n        System.out.print(&quot;\\nEnter your blood-group:&quot;);\n        Scanner d = new Scanner(System.in);\n        bdg = d.nextLine();\n        System.out.print(&quot;\\nEnter your hobbies:&quot;);\n        Scanner e = new Scanner(System.in);\n        hob = e.nextLine();\n    }\n\n    void showdata() {\n        System.out.println(&quot;\\nStudent data inserted successfully .....:)&quot;);\n        System.out.println(&quot;Name :&quot; + name);\n        System.out.println(&quot;Department :&quot;+dep);\n        System.out.println(&quot;Age :&quot;+age);\n        System.out.println(&quot;Blood-Group :&quot;+bdg);\n        System.out.println(&quot;Hobbies :&quot;+hob);\n    }\n}\n\npublic class display {\n    public static void main(String[] args) {\n        msg d=new msg();\n        d.data();\n        d.showdata();\n        System.out.println(&quot;Welcome to java development !!!&quot;);\n    }\n}\n</code></pre>\n<hr>\n<p>How do I call these variables – &gt; name, dep, age, bdg, hob – &gt; inside the method showdata() and print that details, is there any option to call another variable of another method in a different method but in the same class</p>\n<hr><br>\nOutput:\n<pre><code>defaultjava.java:32: error: cannot find symbol\n     System.out.println(&quot;Name:&quot;+name);\n     ^\n  symbol:   variable name\n  location: class msg\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1668800522,"post_id":74494518,"comment_id":131502491,"body_markdown":"It is likely that JPA is creating the insert statement **including** the two fields on the insert command setting it to `null` which explain why they not being filled with the default. Try setting your application logs to show the sql command used to confirm this. See this thread, it may help you understand your problem better: https://stackoverflow.com/questions/4508622/avoid-insert-null-values-to-database-table-via-jpa","body":"It is likely that JPA is creating the insert statement <b>including</b> the two fields on the insert command setting it to <code>null</code> which explain why they not being filled with the default. Try setting your application logs to show the sql command used to confirm this. See this thread, it may help you understand your problem better: <a href=\"https://stackoverflow.com/questions/4508622/avoid-insert-null-values-to-database-table-via-jpa\" title=\"avoid insert null values to database table via jpa\">stackoverflow.com/questions/4508622/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668801255,"creation_date":1668801255,"answer_id":74494704,"question_id":74494518,"body_markdown":"By default, JPA inserts all columns explicitly. In order to have one your columns not inserted, but instead read from database at insert time, use the `@Generated` annotation like this:\r\n\r\n    @Generated(GenerationTime.INSERT)\r\n    @Column(name = &quot;created_on&quot;, updatable = false, insertable = false)\r\n    private Timestamp createdOn;\r\n","title":"DDL Default values are overridden by Spring JPA","body":"<p>By default, JPA inserts all columns explicitly. In order to have one your columns not inserted, but instead read from database at insert time, use the <code>@Generated</code> annotation like this:</p>\n<pre><code>@Generated(GenerationTime.INSERT)\n@Column(name = &quot;created_on&quot;, updatable = false, insertable = false)\nprivate Timestamp createdOn;\n</code></pre>\n"}],"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74494704,"answer_count":1,"score":0,"last_activity_date":1668801255,"creation_date":1668799955,"question_id":74494518,"body_markdown":"I have defined a table like this:\r\n```\r\nCREATE TABLE CONFIGSERVER.PROPERTIES (\r\n    ID NUMBER GENERATED ALWAYS AS IDENTITY ( START WITH 1 CACHE 20 ) ,\r\n    APPLICATION VARCHAR2 (4000) ,\r\n    PROFILE     VARCHAR2 (4000) ,\r\n    LABEL       VARCHAR2 (4000) ,\r\n    PROP_KEY    VARCHAR2 (4000) NOT NULL,\r\n    VALUE       VARCHAR2 (4000) NOT NULL,\r\n    CREATED_ON  TIMESTAMP DEFAULT SYSDATE,\r\n    CREATED_BY  VARCHAR2 (100) DEFAULT COALESCE(\r\n        REGEXP_SUBSTR(SYS_CONTEXT(&#39;USERENV&#39;,&#39;CLIENT_IDENTIFIER&#39;),&#39;^[^:]*&#39;),\r\n        SYS_CONTEXT(&#39;USERENV&#39;,&#39;SESSION_USER&#39;)),\r\n    UPDATED_ON  TIMESTAMP ,\r\n    UPDATED_BY  VARCHAR2 (100)\r\n) LOGGING;\r\n```\r\nAnd if execute the following statement using SQLCl:\r\n```\r\ninsert into properties (application, profile, label, prop_key, value) values (&#39;nisse&#39;, &#39;bosse&#39;, &#39;bengt&#39;, &#39;olle&#39;, &#39;korv med mos&#39;);\r\n```\r\nThe values for `CREATED_ON` and `CREATED_BY` are populated correctly by the DDL definition:\r\n```\r\nSQL&gt; select * from properties where application = &#39;nisse&#39;;\r\n\r\n   ID APPLICATION    PROFILE    LABEL    PROP_KEY    VALUE           CREATED_ON                         CREATED_BY      UPDATED_ON    UPDATED_BY    \r\n_____ ______________ __________ ________ ___________ _______________ __________________________________ _______________ _____________ _____________ \r\n   25 nisse          bosse      bengt    olle        korv med mos    18-NOV-22 07.19.07.000000000 PM    CONFIGSERVER\r\n```\r\n\r\nHowever if I use Spring Data JPA the `DEFAULT` values are not populated for some reason?\r\n\r\nMy Properties class looks like this:\r\n\r\n    package com.example.configcrud.model;\r\n    \r\n    import javax.persistence.*;\r\n    import java.sql.Timestamp;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;properties&quot;)\r\n    public class Properties {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;application&quot;)\r\n        private String application;\r\n    \r\n        @Column(name = &quot;profile&quot;)\r\n        private String profile;\r\n    \r\n        @Column(name = &quot;label&quot;)\r\n        private String label;\r\n    \r\n        @Column(name = &quot;prop_key&quot;)\r\n        private String propKey;\r\n    \r\n        @Column(name = &quot;value&quot;)\r\n        private String value;\r\n    \r\n        @Column(name = &quot;created_on&quot;, updatable = false)\r\n        private Timestamp createdOn;\r\n    \r\n        @Column(name = &quot;created_by&quot;, updatable = false)\r\n        private String createdBy;\r\n    \r\n        public Properties(String application, String profile, String label, String propKey, String value) {\r\n             this.application = application;\r\n             this.profile = profile;\r\n             this.label = label;\r\n             this.propKey = propKey;\r\n             this.value = value;\r\n        }\r\n    \r\n        public Properties() {\r\n        }\r\n    \r\n        public String getApplication() {\r\n            return application;\r\n        }\r\n    \r\n        public void setApplication(String application) {\r\n            this.application = application;\r\n        }\r\n    \r\n        public String getProfile() {\r\n            return profile;\r\n        }\r\n    \r\n        public void setProfile(String profile) {\r\n            this.profile = profile;\r\n        }\r\n    \r\n        public String getLabel() {\r\n            return label;\r\n        }\r\n    \r\n        public void setLabel(String label) {\r\n            this.label = label;\r\n        }\r\n    \r\n        public String getPropKey() {\r\n            return propKey;\r\n        }\r\n    \r\n        public void setPropKey(String propKey) {\r\n            this.propKey = propKey;\r\n        }\r\n    \r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public Timestamp getCreatedOn() {\r\n            return createdOn;\r\n        }\r\n    \r\n        public Timestamp setCreatedOn() {\r\n            return createdOn;\r\n        }\r\n    \r\n        public String getCreatedBy() {\r\n            return createdBy;\r\n        }\r\n    \r\n        public String setCreatedBy() {\r\n            return createdBy;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Properties [id=&quot; + id + &quot;, &quot; +\r\n                    &quot;application=&quot; + application + &quot;, &quot; +\r\n                    &quot;profile=&quot; + profile + &quot;, &quot; +\r\n                    &quot;label=&quot; + label +\r\n                    &quot;propkey=&quot; + propKey +\r\n                    &quot;value=&quot; + value +\r\n                    &quot;CreatedOn=&quot; + createdOn +\r\n                    &quot;CreatedBy=&quot; + createdBy + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\nI&#39;m using Spring Data JPA:\r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nAnyone got an idea on what I can do to make the `DEFAULT` values populated or not overwritten by JPA?\r\n\r\nThanks\r\nAndy\r\n","title":"DDL Default values are overridden by Spring JPA","body":"<p>I have defined a table like this:</p>\n<pre><code>CREATE TABLE CONFIGSERVER.PROPERTIES (\n    ID NUMBER GENERATED ALWAYS AS IDENTITY ( START WITH 1 CACHE 20 ) ,\n    APPLICATION VARCHAR2 (4000) ,\n    PROFILE     VARCHAR2 (4000) ,\n    LABEL       VARCHAR2 (4000) ,\n    PROP_KEY    VARCHAR2 (4000) NOT NULL,\n    VALUE       VARCHAR2 (4000) NOT NULL,\n    CREATED_ON  TIMESTAMP DEFAULT SYSDATE,\n    CREATED_BY  VARCHAR2 (100) DEFAULT COALESCE(\n        REGEXP_SUBSTR(SYS_CONTEXT('USERENV','CLIENT_IDENTIFIER'),'^[^:]*'),\n        SYS_CONTEXT('USERENV','SESSION_USER')),\n    UPDATED_ON  TIMESTAMP ,\n    UPDATED_BY  VARCHAR2 (100)\n) LOGGING;\n</code></pre>\n<p>And if execute the following statement using SQLCl:</p>\n<pre><code>insert into properties (application, profile, label, prop_key, value) values ('nisse', 'bosse', 'bengt', 'olle', 'korv med mos');\n</code></pre>\n<p>The values for <code>CREATED_ON</code> and <code>CREATED_BY</code> are populated correctly by the DDL definition:</p>\n<pre><code>SQL&gt; select * from properties where application = 'nisse';\n\n   ID APPLICATION    PROFILE    LABEL    PROP_KEY    VALUE           CREATED_ON                         CREATED_BY      UPDATED_ON    UPDATED_BY    \n_____ ______________ __________ ________ ___________ _______________ __________________________________ _______________ _____________ _____________ \n   25 nisse          bosse      bengt    olle        korv med mos    18-NOV-22 07.19.07.000000000 PM    CONFIGSERVER\n</code></pre>\n<p>However if I use Spring Data JPA the <code>DEFAULT</code> values are not populated for some reason?</p>\n<p>My Properties class looks like this:</p>\n<pre><code>package com.example.configcrud.model;\n\nimport javax.persistence.*;\nimport java.sql.Timestamp;\n\n@Entity\n@Table(name = &quot;properties&quot;)\npublic class Properties {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;application&quot;)\n    private String application;\n\n    @Column(name = &quot;profile&quot;)\n    private String profile;\n\n    @Column(name = &quot;label&quot;)\n    private String label;\n\n    @Column(name = &quot;prop_key&quot;)\n    private String propKey;\n\n    @Column(name = &quot;value&quot;)\n    private String value;\n\n    @Column(name = &quot;created_on&quot;, updatable = false)\n    private Timestamp createdOn;\n\n    @Column(name = &quot;created_by&quot;, updatable = false)\n    private String createdBy;\n\n    public Properties(String application, String profile, String label, String propKey, String value) {\n         this.application = application;\n         this.profile = profile;\n         this.label = label;\n         this.propKey = propKey;\n         this.value = value;\n    }\n\n    public Properties() {\n    }\n\n    public String getApplication() {\n        return application;\n    }\n\n    public void setApplication(String application) {\n        this.application = application;\n    }\n\n    public String getProfile() {\n        return profile;\n    }\n\n    public void setProfile(String profile) {\n        this.profile = profile;\n    }\n\n    public String getLabel() {\n        return label;\n    }\n\n    public void setLabel(String label) {\n        this.label = label;\n    }\n\n    public String getPropKey() {\n        return propKey;\n    }\n\n    public void setPropKey(String propKey) {\n        this.propKey = propKey;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n    public Timestamp getCreatedOn() {\n        return createdOn;\n    }\n\n    public Timestamp setCreatedOn() {\n        return createdOn;\n    }\n\n    public String getCreatedBy() {\n        return createdBy;\n    }\n\n    public String setCreatedBy() {\n        return createdBy;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Properties [id=&quot; + id + &quot;, &quot; +\n                &quot;application=&quot; + application + &quot;, &quot; +\n                &quot;profile=&quot; + profile + &quot;, &quot; +\n                &quot;label=&quot; + label +\n                &quot;propkey=&quot; + propKey +\n                &quot;value=&quot; + value +\n                &quot;CreatedOn=&quot; + createdOn +\n                &quot;CreatedBy=&quot; + createdBy + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>I'm using Spring Data JPA:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Anyone got an idea on what I can do to make the <code>DEFAULT</code> values populated or not overwritten by JPA?</p>\n<p>Thanks\nAndy</p>\n"},{"tags":["java","c#","android","xamarin"],"answers":[{"comments":[{"owner":{"account_id":14592795,"reputation":15556,"user_id":10539446,"display_name":"nevermore"},"score":0,"creation_date":1611021112,"post_id":65779404,"comment_id":116311057,"body_markdown":"Don&#39;t forget to mark this answer later which will help more people with same problem:).","body":"Don&#39;t forget to mark this answer later which will help more people with same problem:)."}],"tags":[],"owner":{"account_id":6701558,"reputation":1,"user_id":5167865,"display_name":"Илья Петров"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610991357,"creation_date":1610991357,"answer_id":65779404,"question_id":65778884,"body_markdown":"This problem occurs when enabled by enabled `SELinux` status.\r\nYou need disable him by command \r\n```\r\nsetenforce 0\r\n```\r\n\r\nNote: this method work only if you&#39;r device rooted.","title":"Can i write from MediaRecorder to my android / linux pipe&#39;s?","body":"<p>This problem occurs when enabled by enabled <code>SELinux</code> status.\nYou need disable him by command</p>\n<pre><code>setenforce 0\n</code></pre>\n<p>Note: this method work only if you'r device rooted.</p>\n"},{"tags":[],"owner":{"account_id":13858582,"reputation":1,"user_id":14137377,"display_name":"Yury Pavlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668800931,"creation_date":1668800931,"answer_id":74494660,"question_id":65778884,"body_markdown":"I managed to make MediaRecoder write into pipe on Android 2, 4, 5.1, but faced with problems:\r\n\r\n 1. Any video caused to crash:\r\nW/IMediaDeathNotifier: media server died\r\non Android 4, 5\r\nor\r\nE/MediaRecorder: prepare failed: -1\r\non Android 2.1\r\n 2. Only audio was able to be written to pipe, but it was garbage in result, only file header was correct\r\n\r\nSo, even if SELinux would be overcome on Android 6 and higher next trouble would be MediaRecoder coudn&#39;t act with pipes possibly.","title":"Can i write from MediaRecorder to my android / linux pipe&#39;s?","body":"<p>I managed to make MediaRecoder write into pipe on Android 2, 4, 5.1, but faced with problems:</p>\n<ol>\n<li>Any video caused to crash:\nW/IMediaDeathNotifier: media server died\non Android 4, 5\nor\nE/MediaRecorder: prepare failed: -1\non Android 2.1</li>\n<li>Only audio was able to be written to pipe, but it was garbage in result, only file header was correct</li>\n</ol>\n<p>So, even if SELinux would be overcome on Android 6 and higher next trouble would be MediaRecoder coudn't act with pipes possibly.</p>\n"}],"owner":{"account_id":6701558,"reputation":1,"user_id":5167865,"display_name":"Илья Петров"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1668800931,"creation_date":1610989133,"question_id":65778884,"body_markdown":"I&#39;m creating android pipe with command \r\n\r\n`System.Diagnostics.Process.Start(&quot;mkfifo&quot;, $&quot;/data/user/0/ru.petrovip.proxyclient/files/videopipe&quot;).WaitForExit();`\r\n\r\nThis command make pipe `videopipe`, through application.\r\n\r\nAnd open this pipe in application\r\n\r\n`var VideoStream = System.IO.File.Open(&quot;/data/user/0/ru.petrovip.proxyclient/files/videopipe&quot;, FileMode.Open);`\r\n\r\nPipe is working, but i if start using `MediaRecorder` for my pipe, i catch error `Java.Lang.IllegalStateException` at `MRecorder.Prepare();`\r\n\r\n```\r\nMediaRecorder MRecorder = new MediaRecorder();\r\n\r\nMRecorder.SetAudioSource(AudioSource.Mic);\r\nMRecorder.SetVideoSource(VideoSource.Surface);\r\nMRecorder.SetOutputFormat(OutputFormat.ThreeGpp);\r\nMRecorder.SetOutputFile(ParcelFileDescriptor.FromFd((int)VideoStream.Handle).FileDescriptor);\r\nMRecorder.SetVideoSize(DisplayMetrics.WidthPixels, DisplayMetrics.HeightPixels);\r\nMRecorder.SetAudioEncoder(AudioEncoder.AmrNb);\r\nMRecorder.SetVideoEncoder(VideoEncoder.H264);\r\nMRecorder.SetVideoEncodingBitRate(512 * 1000);\r\nMRecorder.SetVideoFrameRate(30);\r\nMRecorder.Prepare();\r\n```\r\nException\r\n\r\n```\r\n01-18 20:23:55.471 E/MediaRecorder( 5990): prepare failed: -38\r\n01-18 20:23:55.467 W/vip.proxyclient( 5990): type=1400 audit(0.0:876): avc: denied { read write } for path=&quot;/data/data/ru.petrovip.proxyclient/files/videopipe&quot; dev=&quot;mmcblk0p24&quot; ino=5435 scontext=u:r:mediaserver:s0 tcontext=u:object_r:app_data_file:s0:c512,c768 tclass=fifo_file permissive=0\r\n01-18 20:24:01.625 W/System.err( 5990): java.lang.IllegalStateException\r\n01-18 20:24:01.627 W/System.err( 5990): \tat android.media.MediaRecorder._prepare(Native Method)\r\n01-18 20:24:01.628 W/System.err( 5990): \tat android.media.MediaRecorder.prepare(MediaRecorder.java:988)\r\n01-18 20:24:01.629 W/System.err( 5990): \tat crc64c1965aae109aaff4.MainActivity.n_onCreate(Native Method)\r\n01-18 20:24:01.629 W/System.err( 5990): \tat crc64c1965aae109aaff4.MainActivity.onCreate(MainActivity.java:31)\r\n01-18 20:24:01.630 W/System.err( 5990): \tat android.app.Activity.performCreate(Activity.java:7023)\r\n01-18 20:24:01.631 W/System.err( 5990): \tat android.app.Activity.performCreate(Activity.java:7014)\r\n01-18 20:24:01.632 W/System.err( 5990): \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\r\n01-18 20:24:01.633 W/System.err( 5990): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2758)\r\n01-18 20:24:01.637 W/System.err( 5990): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883)\r\n01-18 20:24:01.638 W/System.err( 5990): \tat android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n01-18 20:24:01.639 W/System.err( 5990): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613)\r\n01-18 20:24:01.640 W/System.err( 5990): \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n01-18 20:24:01.640 W/System.err( 5990): \tat android.os.Looper.loop(Looper.java:164)\r\n01-18 20:24:01.641 W/System.err( 5990): \tat android.app.ActivityThread.main(ActivityThread.java:6523)\r\n01-18 20:24:01.642 W/System.err( 5990): \tat java.lang.reflect.Method.invoke(Native Method)\r\n01-18 20:24:01.643 W/System.err( 5990): \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n01-18 20:24:01.649 W/System.err( 5990): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)\r\n\r\n```\r\n\r\nFor other system pipe&#39;s `/dev/null` , `/dev/zero` this will work correctly, without any errors.\r\n\r\nIs this due to security restrictions and are there other ways out of this problem?","title":"Can i write from MediaRecorder to my android / linux pipe&#39;s?","body":"<p>I'm creating android pipe with command</p>\n<p><code>System.Diagnostics.Process.Start(&quot;mkfifo&quot;, $&quot;/data/user/0/ru.petrovip.proxyclient/files/videopipe&quot;).WaitForExit();</code></p>\n<p>This command make pipe <code>videopipe</code>, through application.</p>\n<p>And open this pipe in application</p>\n<p><code>var VideoStream = System.IO.File.Open(&quot;/data/user/0/ru.petrovip.proxyclient/files/videopipe&quot;, FileMode.Open);</code></p>\n<p>Pipe is working, but i if start using <code>MediaRecorder</code> for my pipe, i catch error <code>Java.Lang.IllegalStateException</code> at <code>MRecorder.Prepare();</code></p>\n<pre><code>MediaRecorder MRecorder = new MediaRecorder();\n\nMRecorder.SetAudioSource(AudioSource.Mic);\nMRecorder.SetVideoSource(VideoSource.Surface);\nMRecorder.SetOutputFormat(OutputFormat.ThreeGpp);\nMRecorder.SetOutputFile(ParcelFileDescriptor.FromFd((int)VideoStream.Handle).FileDescriptor);\nMRecorder.SetVideoSize(DisplayMetrics.WidthPixels, DisplayMetrics.HeightPixels);\nMRecorder.SetAudioEncoder(AudioEncoder.AmrNb);\nMRecorder.SetVideoEncoder(VideoEncoder.H264);\nMRecorder.SetVideoEncodingBitRate(512 * 1000);\nMRecorder.SetVideoFrameRate(30);\nMRecorder.Prepare();\n</code></pre>\n<p>Exception</p>\n<pre><code>01-18 20:23:55.471 E/MediaRecorder( 5990): prepare failed: -38\n01-18 20:23:55.467 W/vip.proxyclient( 5990): type=1400 audit(0.0:876): avc: denied { read write } for path=&quot;/data/data/ru.petrovip.proxyclient/files/videopipe&quot; dev=&quot;mmcblk0p24&quot; ino=5435 scontext=u:r:mediaserver:s0 tcontext=u:object_r:app_data_file:s0:c512,c768 tclass=fifo_file permissive=0\n01-18 20:24:01.625 W/System.err( 5990): java.lang.IllegalStateException\n01-18 20:24:01.627 W/System.err( 5990):     at android.media.MediaRecorder._prepare(Native Method)\n01-18 20:24:01.628 W/System.err( 5990):     at android.media.MediaRecorder.prepare(MediaRecorder.java:988)\n01-18 20:24:01.629 W/System.err( 5990):     at crc64c1965aae109aaff4.MainActivity.n_onCreate(Native Method)\n01-18 20:24:01.629 W/System.err( 5990):     at crc64c1965aae109aaff4.MainActivity.onCreate(MainActivity.java:31)\n01-18 20:24:01.630 W/System.err( 5990):     at android.app.Activity.performCreate(Activity.java:7023)\n01-18 20:24:01.631 W/System.err( 5990):     at android.app.Activity.performCreate(Activity.java:7014)\n01-18 20:24:01.632 W/System.err( 5990):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n01-18 20:24:01.633 W/System.err( 5990):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2758)\n01-18 20:24:01.637 W/System.err( 5990):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883)\n01-18 20:24:01.638 W/System.err( 5990):     at android.app.ActivityThread.-wrap11(Unknown Source:0)\n01-18 20:24:01.639 W/System.err( 5990):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613)\n01-18 20:24:01.640 W/System.err( 5990):     at android.os.Handler.dispatchMessage(Handler.java:106)\n01-18 20:24:01.640 W/System.err( 5990):     at android.os.Looper.loop(Looper.java:164)\n01-18 20:24:01.641 W/System.err( 5990):     at android.app.ActivityThread.main(ActivityThread.java:6523)\n01-18 20:24:01.642 W/System.err( 5990):     at java.lang.reflect.Method.invoke(Native Method)\n01-18 20:24:01.643 W/System.err( 5990):     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n01-18 20:24:01.649 W/System.err( 5990):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)\n\n</code></pre>\n<p>For other system pipe's <code>/dev/null</code> , <code>/dev/zero</code> this will work correctly, without any errors.</p>\n<p>Is this due to security restrictions and are there other ways out of this problem?</p>\n"},{"tags":["java","json","rest","arraylist"],"comments":[{"owner":{"account_id":2861986,"reputation":365,"user_id":2457058,"display_name":"artild"},"score":0,"creation_date":1668802093,"post_id":74494622,"comment_id":131502901,"body_markdown":"Please, provide definition of CosmeticsService.class","body":"Please, provide definition of CosmeticsService.class"},{"owner":{"account_id":26847976,"reputation":43,"user_id":20433436,"display_name":"sempre_em_pe"},"score":0,"creation_date":1668804532,"post_id":74494622,"comment_id":131503479,"body_markdown":"@artild \npublic interface CosmeticsService{\n    @GET(&quot;/prod/beauty/{name_field}&quot;)\n    public Single&lt;Cosmetic&gt; getByName(@Path(&quot;name_field&quot;) String name_field);","body":"@artild  public interface CosmeticsService{     @GET(&quot;/prod/beauty/{name_field}&quot;)     public Single&lt;Cosmetic&gt; getByName(@Path(&quot;name_field&quot;) String name_field);"},{"owner":{"account_id":2861986,"reputation":365,"user_id":2457058,"display_name":"artild"},"score":1,"creation_date":1668804850,"post_id":74494622,"comment_id":131503563,"body_markdown":"so as I see , you should have other method in CosmeticsService (and in corresponding API) which will return collection of Cosmetic.","body":"so as I see , you should have other method in CosmeticsService (and in corresponding API) which will return collection of Cosmetic."}],"owner":{"account_id":26847976,"reputation":43,"user_id":20433436,"display_name":"sempre_em_pe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668800856,"creation_date":1668800710,"question_id":74494622,"body_markdown":"I am using an API to retrieve info from a database. \r\n\r\nI am able to retrieve one object but what I really want to do is make a search which could retrieve 0, 1 or more objects. \r\n\r\nTo retrieve one object, I have declared a class that is a POJO with the attributes as such:\r\n\r\n\r\n```\r\npublic class Cosmetic implements Serializable {\r\n    @SerializedName(&quot;_id&quot;)\r\n    @Expose\r\n    private String id;\r\n    @SerializedName(&quot;code&quot;)\r\n    @Expose\r\n    private String code;\r\n         ---- omitted ----\r\n\r\n```\r\n\r\nAnd then I use retrofit and RxJava to make the API calls. \r\n\r\n\r\n```\r\nfinal Cosmetic[] cosmetic_result = new Cosmetic[1];\r\nretrofit = new Retrofit.Builder()\r\n        .baseUrl(baseUrl)\r\n        .addConverterFactory(GsonConverterFactory.create())\r\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\r\n        .build();\r\n\r\nservice = retrofit.create(CosmeticsService.class);\r\n\r\n// Calling &#39;/prod/beauty/{field}&#39;\r\nSingle&lt;Cosmetic&gt; callSync = service.getByName(query);\r\n\r\nCompositeDisposable compositeDisposable = new CompositeDisposable();\r\ncallSync.subscribeOn(Schedulers.io())\r\n        .observeOn(AndroidSchedulers.mainThread())\r\n        //https://www.baeldung.com/rxjava-error-handling\r\n        .onErrorReturn(Throwable -&gt; productNotFound)\r\n        .subscribe(new SingleObserver&lt;Cosmetic&gt;() {\r\n            @Override\r\n            public void onSubscribe(Disposable d) {\r\n                compositeDisposable.add(d);\r\n            }\r\n\r\n            @Override\r\n            public void onSuccess(Cosmetic cosmetic) {\r\n                System.out.println(&quot;API has responded &quot;);\r\n                result[0] = cosmetic.getCode();\r\n                cosmetic_result[0]=cosmetic;\r\n            }\r\n            @Override\r\n            public void onError(Throwable e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n// While loop necessary to force waiting for the API result\r\nwhile(result[0]==&quot;&quot;){} // DON&#39;T DELETE\r\n\r\nreturn cosmetic_result[0];\r\n```\r\n\r\nSo this works for one JSON object as such:\r\n\r\n\r\n```\r\n{\r\n   &quot;_id&quot;:&quot;6353e8fe5d63726919402cec&quot;,\r\n   &quot;code&quot;:&quot;0000016615656&quot;\r\n        --- omitted ---\r\n}\r\n```\r\n\r\nThe problem is that by searching the database I can get multiple results which come in a JSON objects like this one:\r\n\r\n\r\n```\r\n[\r\n   {\r\n      &quot;_id&quot;:&quot;6353e8fe5d63726919402cec&quot;,\r\n      &quot;code&quot;:&quot;0000016615656&quot;,\r\n           -- omitted --\r\n   },\r\n   {\r\n      &quot;_id&quot;:&quot;6353e8fe5d63726919402cec&quot;,\r\n      &quot;code&quot;:&quot;0000016615656&quot;,\r\n           -- omitted --\r\n   }\r\n]\r\n\r\n```\r\n\r\nHow do I parse this new object which is essentially and array of Cosmetics?\r\n\r\n\r\nI have tried using an ArrayOfCosmetics POJO [as suggested here](https://stackoverflow.com/questions/60272296/com-google-gson-jsonsyntaxexception-java-lang-illegalstateexception-expected-a):\r\n\r\n```\r\npublic class ArrayOfCosmetics {\r\n    @SerializedName(&quot;cosmetic&quot;)\r\n    @Expose\r\n    private ArrayList&lt;Cosmetic&gt; cosmetics;\r\n    public ArrayList&lt;Cosmetic&gt; getCosmetics() {\r\n        return cosmetics;\r\n    }\r\n}\r\n```\r\n\r\nbut then I get an error at:\r\n\r\n```\r\n.subscribe(new SingleObserver&lt;ArrayOfObjects&gt;() {\r\n```\r\n\r\nI also tried and also got an error at:\r\n\r\n```\r\n.subscribe(new SingleObserver&lt;ArrayList&lt;Cosmetic&gt;&gt;() {\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"Parsing/Getting JSON array of objects from REST API","body":"<p>I am using an API to retrieve info from a database.</p>\n<p>I am able to retrieve one object but what I really want to do is make a search which could retrieve 0, 1 or more objects.</p>\n<p>To retrieve one object, I have declared a class that is a POJO with the attributes as such:</p>\n<pre><code>public class Cosmetic implements Serializable {\n    @SerializedName(&quot;_id&quot;)\n    @Expose\n    private String id;\n    @SerializedName(&quot;code&quot;)\n    @Expose\n    private String code;\n         ---- omitted ----\n\n</code></pre>\n<p>And then I use retrofit and RxJava to make the API calls.</p>\n<pre><code>final Cosmetic[] cosmetic_result = new Cosmetic[1];\nretrofit = new Retrofit.Builder()\n        .baseUrl(baseUrl)\n        .addConverterFactory(GsonConverterFactory.create())\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .build();\n\nservice = retrofit.create(CosmeticsService.class);\n\n// Calling '/prod/beauty/{field}'\nSingle&lt;Cosmetic&gt; callSync = service.getByName(query);\n\nCompositeDisposable compositeDisposable = new CompositeDisposable();\ncallSync.subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        //https://www.baeldung.com/rxjava-error-handling\n        .onErrorReturn(Throwable -&gt; productNotFound)\n        .subscribe(new SingleObserver&lt;Cosmetic&gt;() {\n            @Override\n            public void onSubscribe(Disposable d) {\n                compositeDisposable.add(d);\n            }\n\n            @Override\n            public void onSuccess(Cosmetic cosmetic) {\n                System.out.println(&quot;API has responded &quot;);\n                result[0] = cosmetic.getCode();\n                cosmetic_result[0]=cosmetic;\n            }\n            @Override\n            public void onError(Throwable e) {\n                e.printStackTrace();\n            }\n        });\n// While loop necessary to force waiting for the API result\nwhile(result[0]==&quot;&quot;){} // DON'T DELETE\n\nreturn cosmetic_result[0];\n</code></pre>\n<p>So this works for one JSON object as such:</p>\n<pre><code>{\n   &quot;_id&quot;:&quot;6353e8fe5d63726919402cec&quot;,\n   &quot;code&quot;:&quot;0000016615656&quot;\n        --- omitted ---\n}\n</code></pre>\n<p>The problem is that by searching the database I can get multiple results which come in a JSON objects like this one:</p>\n<pre><code>[\n   {\n      &quot;_id&quot;:&quot;6353e8fe5d63726919402cec&quot;,\n      &quot;code&quot;:&quot;0000016615656&quot;,\n           -- omitted --\n   },\n   {\n      &quot;_id&quot;:&quot;6353e8fe5d63726919402cec&quot;,\n      &quot;code&quot;:&quot;0000016615656&quot;,\n           -- omitted --\n   }\n]\n\n</code></pre>\n<p>How do I parse this new object which is essentially and array of Cosmetics?</p>\n<p>I have tried using an ArrayOfCosmetics POJO <a href=\"https://stackoverflow.com/questions/60272296/com-google-gson-jsonsyntaxexception-java-lang-illegalstateexception-expected-a\">as suggested here</a>:</p>\n<pre><code>public class ArrayOfCosmetics {\n    @SerializedName(&quot;cosmetic&quot;)\n    @Expose\n    private ArrayList&lt;Cosmetic&gt; cosmetics;\n    public ArrayList&lt;Cosmetic&gt; getCosmetics() {\n        return cosmetics;\n    }\n}\n</code></pre>\n<p>but then I get an error at:</p>\n<pre><code>.subscribe(new SingleObserver&lt;ArrayOfObjects&gt;() {\n</code></pre>\n<p>I also tried and also got an error at:</p>\n<pre><code>.subscribe(new SingleObserver&lt;ArrayList&lt;Cosmetic&gt;&gt;() {\n</code></pre>\n"},{"tags":["java","intellij-idea","cucumber"],"answers":[{"comments":[{"owner":{"account_id":2211164,"reputation":939,"user_id":1952976,"display_name":"whbogado"},"score":2,"creation_date":1621784936,"post_id":67661153,"comment_id":119594713,"body_markdown":"@a.Li You are wright. What I have suggested is equivalent to your original code. Although I have not tested it, Cucumber docs say glue should be &quot;comma separated package names&quot;. You are giving a class name so I think glue = {&quot;automated&quot;} will work.","body":"@a.Li You are wright. What I have suggested is equivalent to your original code. Although I have not tested it, Cucumber docs say glue should be &quot;comma separated package names&quot;. You are giving a class name so I think glue = {&quot;automated&quot;} will work."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1621790054,"post_id":67661153,"comment_id":119596292,"body_markdown":"@whbogado can you edit your answer so I can upvote it?","body":"@whbogado can you edit your answer so I can upvote it?"},{"owner":{"account_id":2211164,"reputation":939,"user_id":1952976,"display_name":"whbogado"},"score":0,"creation_date":1621794432,"post_id":67661153,"comment_id":119597463,"body_markdown":"@M.P.Korstanje Answer edited, thanks for upvoting.","body":"@M.P.Korstanje Answer edited, thanks for upvoting."}],"tags":[],"owner":{"account_id":2211164,"reputation":939,"user_id":1952976,"display_name":"whbogado"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668800789,"creation_date":1621781997,"answer_id":67661153,"question_id":67660797,"body_markdown":"As stated in the Cucumber [docs][1]:\r\n\r\n`glue` should be a comma separated list of package names.\r\n\r\nThe provided value was a class name that is part of the `automated` package. The following code should work:\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = &quot;src/test/java/automated/sayHiTest.feature&quot;,\r\n            glue = {&quot;automated&quot;}\r\n    )\r\n\r\nCucumber searches all classes in the provided packages for step methods, this way any class placed in the `automated` package will do. \r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#configuration-options","title":"Cucumber feature file isn&#39;t bound to glue path","body":"<p>As stated in the Cucumber <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#configuration-options\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<p><code>glue</code> should be a comma separated list of package names.</p>\n<p>The provided value was a class name that is part of the <code>automated</code> package. The following code should work:</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/java/automated/sayHiTest.feature&quot;,\n        glue = {&quot;automated&quot;}\n)\n</code></pre>\n<p>Cucumber searches all classes in the provided packages for step methods, this way any class placed in the <code>automated</code> package will do.</p>\n"}],"owner":{"account_id":15839612,"reputation":1256,"user_id":11428459,"display_name":"DarthQuack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5736,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67661153,"answer_count":1,"score":2,"last_activity_date":1668800789,"creation_date":1621779834,"question_id":67660797,"body_markdown":"I am trying to set up a simple Cucumber project to run with Selenium (The Selenium bits are irrelevant so I removed them). The structure is as follows:\r\n```\r\n├── main\r\n│   └── ...\r\n└── test\r\n│   └── java\r\n│       └── automated\r\n│           └── sayHiTest.feature\r\n│           └── SayHiTestStepdefs.java\r\n│           └── testRunner.java\r\n```\r\nsayHiTest.feature:\r\n```\r\nFeature: Can I say hello?\r\n  Scenario: Say Hello\r\n    Given I visit &quot;https://google.com&quot;\r\n    Then I enter &quot;Hello World&quot;\r\n    Then I should get &quot;Google&quot;\r\n```\r\n\r\ntestRunner.java:\r\n```\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        features = &quot;src/test/java/automated/sayHiTest.feature&quot;,\r\n        glue = {&quot;automated.SayHiTestStepdefs&quot;}\r\n)\r\npublic class testRunner { }\r\n```\r\n\r\nSayHiTestStepsdefs.java:\r\n```\r\npublic class SayHiTestStepdefs {\r\n    // @Before methods to set up Selenium driver. \r\n    @Given(&quot;I visit {string}&quot;)\r\n    public void i_visit(String string) {\r\n        driver.get(string);\r\n    }\r\n    // more @Then methods to assert &quot;Google&quot;.\r\n}\r\n```\r\nTrying to run `testRunner` yields the following error:\r\n```\r\nio.cucumber.junit.UndefinedStepException: The step &quot;I visit &quot;https://google.com&quot;&quot; is undefined. \r\n```\r\nFor some reason, it doesn&#39;t see `automated.SayHiTestStepdefs` (It prints the same error if I changed its name to say, `abc.SayHiTestStepdefs`). I installed a cucumber extension for IntelliJ and it detects that it&#39;s properly bound to the `i_visit` method, seen below:\r\n\r\n[![ide view][1]][1]\r\n\r\n\r\nI followed the @CucumberOptions section in the [docs][2], I also checked other [examples][3] and the syntax seems to check out. Am I missing something?\r\n\r\nMaven dependencies:\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.141.59&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;6.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\nIntelliJ version &amp; About: \r\n```\r\nIntelliJ IDEA 2021.1.1 (Community Edition)\r\nBuild #IC-211.7142.45, built on April 30, 2021\r\nRuntime version: 11.0.10+9-b1341.41 amd64\r\nVM: Dynamic Code Evolution 64-Bit Server VM by JetBrains s.r.o.\r\nLinux 5.8.0-53-generic\r\nGC: G1 Young Generation, G1 Old Generation\r\nMemory: 750M\r\nCores: 2\r\nNon-Bundled Plugins: gherkin (211.6693.111), cucumber-java (211.7142.13)\r\nKotlin: 211-1.4.32-release-IJ7142.27\r\nCurrent Desktop: ubuntu:GNOME\r\n```\r\nCheers.\r\n\r\n  [1]: https://i.stack.imgur.com/RuA8c.png\r\n  [2]: https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#configuration-options\r\n  [3]: https://testingneeds.wordpress.com/2015/09/15/junit-runner-with-cucumberoptions/\r\n  [4]: https://www.toolsqa.com/cucumber/cucumber-options/","title":"Cucumber feature file isn&#39;t bound to glue path","body":"<p>I am trying to set up a simple Cucumber project to run with Selenium (The Selenium bits are irrelevant so I removed them). The structure is as follows:</p>\n<pre><code>├── main\n│   └── ...\n└── test\n│   └── java\n│       └── automated\n│           └── sayHiTest.feature\n│           └── SayHiTestStepdefs.java\n│           └── testRunner.java\n</code></pre>\n<p>sayHiTest.feature:</p>\n<pre><code>Feature: Can I say hello?\n  Scenario: Say Hello\n    Given I visit &quot;https://google.com&quot;\n    Then I enter &quot;Hello World&quot;\n    Then I should get &quot;Google&quot;\n</code></pre>\n<p>testRunner.java:</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/java/automated/sayHiTest.feature&quot;,\n        glue = {&quot;automated.SayHiTestStepdefs&quot;}\n)\npublic class testRunner { }\n</code></pre>\n<p>SayHiTestStepsdefs.java:</p>\n<pre><code>public class SayHiTestStepdefs {\n    // @Before methods to set up Selenium driver. \n    @Given(&quot;I visit {string}&quot;)\n    public void i_visit(String string) {\n        driver.get(string);\n    }\n    // more @Then methods to assert &quot;Google&quot;.\n}\n</code></pre>\n<p>Trying to run <code>testRunner</code> yields the following error:</p>\n<pre><code>io.cucumber.junit.UndefinedStepException: The step &quot;I visit &quot;https://google.com&quot;&quot; is undefined. \n</code></pre>\n<p>For some reason, it doesn't see <code>automated.SayHiTestStepdefs</code> (It prints the same error if I changed its name to say, <code>abc.SayHiTestStepdefs</code>). I installed a cucumber extension for IntelliJ and it detects that it's properly bound to the <code>i_visit</code> method, seen below:</p>\n<p><a href=\"https://i.stack.imgur.com/RuA8c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RuA8c.png\" alt=\"ide view\" /></a></p>\n<p>I followed the @CucumberOptions section in the <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#configuration-options\" rel=\"nofollow noreferrer\">docs</a>, I also checked other <a href=\"https://testingneeds.wordpress.com/2015/09/15/junit-runner-with-cucumberoptions/\" rel=\"nofollow noreferrer\">examples</a> and the syntax seems to check out. Am I missing something?</p>\n<p>Maven dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;6.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;6.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>IntelliJ version &amp; About:</p>\n<pre><code>IntelliJ IDEA 2021.1.1 (Community Edition)\nBuild #IC-211.7142.45, built on April 30, 2021\nRuntime version: 11.0.10+9-b1341.41 amd64\nVM: Dynamic Code Evolution 64-Bit Server VM by JetBrains s.r.o.\nLinux 5.8.0-53-generic\nGC: G1 Young Generation, G1 Old Generation\nMemory: 750M\nCores: 2\nNon-Bundled Plugins: gherkin (211.6693.111), cucumber-java (211.7142.13)\nKotlin: 211-1.4.32-release-IJ7142.27\nCurrent Desktop: ubuntu:GNOME\n</code></pre>\n<p>Cheers.</p>\n"},{"tags":["java","multithreading","garbage-collection"],"answers":[{"comments":[{"owner":{"account_id":1106613,"reputation":2220,"user_id":1097890,"accept_rate":67,"display_name":"Mridul Vishal"},"score":0,"creation_date":1342163526,"post_id":11465686,"comment_id":15136354,"body_markdown":"I am reading the value of key from a configuration file which is the same througout the application.Hence , it is not possible that key will have different values.Regarding your second concern, i am using the same strategy. First reading the key then parsing its value","body":"I am reading the value of key from a configuration file which is the same througout the application.Hence , it is not possible that key will have different values.Regarding your second concern, i am using the same strategy. First reading the key then parsing its value"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1342163624,"post_id":11465686,"comment_id":15136388,"body_markdown":"I&#39;m grasping at straws @Mridul but have you tried making the `key` field volatile?  Are you sure that the threads are all seeing the same value of `key`?","body":"I&#39;m grasping at straws @Mridul but have you tried making the <code>key</code> field volatile?  Are you sure that the threads are all seeing the same value of <code>key</code>?"}],"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342163183,"creation_date":1342163183,"answer_id":11465686,"question_id":11465564,"body_markdown":"This surprises me since both the `setProperty(...)` and `getProperty(...)` are `synchronized`:\r\n\r\n    public synchronized Object setProperty(String key, String value) {\r\n        return put(key, value);\r\n    }\r\n    ...\r\n    public synchronized V get(Object key) {\r\n\tEntry tab[] = table;\r\n\tint hash = key.hashCode();\r\n\tint index = (hash &amp; 0x7FFFFFFF) % tab.length;\r\n        ...\r\n    }\r\n\r\n* Is there a possibility that the threads are using a different value of `key`?  How do they get that value?  Is it a `final static` constant?\r\n\r\n* Maybe the threads not testing for the value appropriately?  You should be doing something like this:\r\n\r\n        if (Boolean.parseBoolean(System.getProperty(key)) {\r\n           ...\r\n        }\r\n","title":"System.setproperty in multithreaded application","body":"<p>This surprises me since both the <code>setProperty(...)</code> and <code>getProperty(...)</code> are <code>synchronized</code>:</p>\n\n<pre><code>public synchronized Object setProperty(String key, String value) {\n    return put(key, value);\n}\n...\npublic synchronized V get(Object key) {\nEntry tab[] = table;\nint hash = key.hashCode();\nint index = (hash &amp; 0x7FFFFFFF) % tab.length;\n    ...\n}\n</code></pre>\n\n<ul>\n<li><p>Is there a possibility that the threads are using a different value of <code>key</code>?  How do they get that value?  Is it a <code>final static</code> constant?</p></li>\n<li><p>Maybe the threads not testing for the value appropriately?  You should be doing something like this:</p>\n\n<pre><code>if (Boolean.parseBoolean(System.getProperty(key)) {\n   ...\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26083870,"reputation":1,"user_id":19781606,"display_name":"Sri Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668800746,"creation_date":1668586063,"answer_id":74457055,"question_id":11465564,"body_markdown":"`System.setProperty` and `System.getProperty` assign your values to the `static` field of property in the System class so it&#39;s not working properly in multithreading. ","title":"System.setproperty in multithreaded application","body":"<p><code>System.setProperty</code> and <code>System.getProperty</code> assign your values to the <code>static</code> field of property in the System class so it's not working properly in multithreading.</p>\n"}],"owner":{"account_id":1106613,"reputation":2220,"user_id":1097890,"accept_rate":67,"display_name":"Mridul Vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668800746,"creation_date":1342162552,"question_id":11465564,"body_markdown":"In my application(multithreaded application) , when GC is invoked, signal handler is called.In this handler, i am trying to set a property to suggest that GC has been invoked.\r\n\r\n    System.setProperty(key, &quot;true&quot;) ;\r\nThe other threads read the key using \r\n\r\n    System.getProperty(key) ;\r\nHowever, the problem occurs when the value of the key has been set to true while other threads of the application don&#39;t read this value as true(still it is false for them - the value which has been set during startup of the application)\r\nI have debugged a number of times, but could not get it corrected. Need your suggestion on this. Thanks in advance","title":"System.setproperty in multithreaded application","body":"<p>In my application(multithreaded application) , when GC is invoked, signal handler is called.In this handler, i am trying to set a property to suggest that GC has been invoked.</p>\n\n<pre><code>System.setProperty(key, \"true\") ;\n</code></pre>\n\n<p>The other threads read the key using </p>\n\n<pre><code>System.getProperty(key) ;\n</code></pre>\n\n<p>However, the problem occurs when the value of the key has been set to true while other threads of the application don't read this value as true(still it is false for them - the value which has been set during startup of the application)\nI have debugged a number of times, but could not get it corrected. Need your suggestion on this. Thanks in advance</p>\n"},{"tags":["java","eclipse","eclipse-jdt"],"answers":[{"comments":[{"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"score":0,"creation_date":1480506728,"post_id":11636838,"comment_id":68989073,"body_markdown":"In Neon call hierarchy seems broken for static methods as well. I have static methods that get called hundreds of times that have a completely empty call hierarchy.","body":"In Neon call hierarchy seems broken for static methods as well. I have static methods that get called hundreds of times that have a completely empty call hierarchy."},{"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"score":0,"creation_date":1668978696,"post_id":11636838,"comment_id":131531788,"body_markdown":"Call-hierarchy is broken too.","body":"Call-hierarchy is broken too."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1343206585,"creation_date":1343153597,"answer_id":11636838,"question_id":11635325,"body_markdown":"Find references in Project relies on method name, that&#39;s why it&#39;s not accurate. Try using Call Hierarchy.","title":"Eclipse find references for method","body":"<p>Find references in Project relies on method name, that's why it's not accurate. Try using Call Hierarchy.</p>\n"},{"comments":[{"owner":{"account_id":1607654,"reputation":772,"user_id":1487384,"display_name":"Roadkillnz"},"score":0,"creation_date":1343258518,"post_id":11641644,"comment_id":15452501,"body_markdown":"He used the References within Project which is something subtly different, and clearly isn&#39;t working as intended. I don&#39;t use References within Project personally, as there&#39;s no default keyboard mapping out of the box for Eclipse. Refs within workspace is a better option IMO. I know for a fact that References within Workspace works exactly as the OP requested. I use it every day.","body":"He used the References within Project which is something subtly different, and clearly isn&#39;t working as intended. I don&#39;t use References within Project personally, as there&#39;s no default keyboard mapping out of the box for Eclipse. Refs within workspace is a better option IMO. I know for a fact that References within Workspace works exactly as the OP requested. I use it every day."}],"tags":[],"owner":{"account_id":1607654,"reputation":772,"user_id":1487384,"display_name":"Roadkillnz"},"comment_count":1,"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1343181395,"creation_date":1343181395,"answer_id":11641644,"question_id":11635325,"body_markdown":"With get highlighted, hit Ctrl+Shift+G. It&#39;ll come up with a list of results in the search tab/window. It&#39;ll find all references within your workspace. It does it via proper references, and not a plain text search.","title":"Eclipse find references for method","body":"<p>With get highlighted, hit Ctrl+Shift+G. It'll come up with a list of results in the search tab/window. It'll find all references within your workspace. It does it via proper references, and not a plain text search.</p>\n"},{"comments":[{"owner":{"account_id":75221,"reputation":5709,"user_id":215838,"accept_rate":67,"display_name":"Hartmut Pfarr"},"score":3,"creation_date":1438290598,"post_id":19404724,"comment_id":51403615,"body_markdown":"which translates to &quot;exclude Potential Matches&quot;. perfect! Thank You.","body":"which translates to &quot;exclude Potential Matches&quot;. perfect! Thank You."},{"owner":{"account_id":2370977,"reputation":667,"user_id":2075605,"display_name":"tequilacat"},"score":0,"creation_date":1589916084,"post_id":19404724,"comment_id":109481873,"body_markdown":"This old answer somehow helps to deal with the surprising fact that searching for references to private member in my source file returns ALL similarities in all workspace JARs, including javadoc matches. Even if &quot;potential&quot; results are hidden, &quot;Find references&quot; sifts through entire workspace, soo slow. &quot;get()&quot; method? &quot;message&quot; field? you&#39;re welcome. Does Eclipse know what private means? In 2020 - not yet.","body":"This old answer somehow helps to deal with the surprising fact that searching for references to private member in my source file returns ALL similarities in all workspace JARs, including javadoc matches. Even if &quot;potential&quot; results are hidden, &quot;Find references&quot; sifts through entire workspace, soo slow. &quot;get()&quot; method? &quot;message&quot; field? you&#39;re welcome. Does Eclipse know what private means? In 2020 - not yet."}],"tags":[],"owner":{"account_id":1033857,"reputation":17546,"user_id":1041641,"accept_rate":67,"display_name":"TmTron"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1381929883,"creation_date":1381929883,"answer_id":19404724,"question_id":11635325,"body_markdown":"In Eclipse Kepler you can configure the search to filter out all *Potential Matches* (when using *References* - *Workspace* / *Project* or *Hierarchy*. To activate the filter, click the small down-arrow at the right top of the *Search* view and activate the *Potential Matches* check-box.\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nSlWx.png","title":"Eclipse find references for method","body":"<p>In Eclipse Kepler you can configure the search to filter out all <em>Potential Matches</em> (when using <em>References</em> - <em>Workspace</em> / <em>Project</em> or <em>Hierarchy</em>. To activate the filter, click the small down-arrow at the right top of the <em>Search</em> view and activate the <em>Potential Matches</em> check-box.\n<img src=\"https://i.stack.imgur.com/nSlWx.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"score":1,"creation_date":1668978648,"post_id":59810150,"comment_id":131531784,"body_markdown":"This is how I am doing it.","body":"This is how I am doing it."}],"tags":[],"owner":{"account_id":1723697,"reputation":4014,"user_id":1578867,"accept_rate":86,"display_name":"auspicious99"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579438141,"creation_date":1579438141,"answer_id":59810150,"question_id":11635325,"body_markdown":"Sometimes, if you have multiple methods of the same name, e.g., constructors of a class, all with the same name but different signature, for example, it can be a pain to find all callers of one of those constructors. A trick you can use is to comment out the one you are investigating, and build. The compiler will then tell you all the places it is unable to find that signature, and hence these are exactly all the places that are trying to call that method with that name and that particular signature.","title":"Eclipse find references for method","body":"<p>Sometimes, if you have multiple methods of the same name, e.g., constructors of a class, all with the same name but different signature, for example, it can be a pain to find all callers of one of those constructors. A trick you can use is to comment out the one you are investigating, and build. The compiler will then tell you all the places it is unable to find that signature, and hence these are exactly all the places that are trying to call that method with that name and that particular signature.</p>\n"},{"comments":[{"owner":{"account_id":7106895,"reputation":33839,"user_id":5436257,"accept_rate":100,"display_name":"Joe Clay"},"score":1,"creation_date":1669209021,"post_id":74494562,"comment_id":131591913,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/33218884)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/33218884\">From Review</a>"}],"tags":[],"owner":{"account_id":6958669,"reputation":59,"user_id":5338892,"display_name":"Paul Nahay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668800211,"creation_date":1668800211,"answer_id":74494562,"question_id":11635325,"body_markdown":"Eclipse continues to have a bug, where Search-&gt;References-&gt;Workspace does not find method references.\r\n\r\nI&#39;m using this Eclipse:\r\nVersion: 2022-06 (4.24.0)\r\nBuild id: 20220609-1112","title":"Eclipse find references for method","body":"<p>Eclipse continues to have a bug, where Search-&gt;References-&gt;Workspace does not find method references.</p>\n<p>I'm using this Eclipse:\nVersion: 2022-06 (4.24.0)\nBuild id: 20220609-1112</p>\n"}],"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26006,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":11636838,"answer_count":5,"score":14,"last_activity_date":1668800211,"creation_date":1343147460,"question_id":11635325,"body_markdown":"I wanted to find all the callers of the the method &quot;get&quot; for the following class:\r\n\r\n    package com.zzz.zzz.zzz.services;\r\n\r\n    public final class EMF {\r\n      private static final EntityManagerFactory emfInstance =\r\n        Persistence.createEntityManagerFactory(&quot;obamaCareIsGood4U&quot;);\r\n    \r\n      private EMF() {}\r\n    \r\n      public static EntityManagerFactory get() {\r\n        return emfInstance;\r\n      }\r\n    }\r\n\r\nSo I highlited the text &quot;get&quot; and right-clicked References - project. But it returned references to every method called &quot;get&quot;, rather than just references to com.zzz.zzz.zzz.services.EMF.get().\r\n\r\nIs this an eclipse bug? How do I get Eclipse to show references only to com.zzz.zzz.zzz.services.EMF.get()?\r\n\r\n    Eclipse Platform  Version:\r\n    4.2.0.v20120608-135145-9JF7BHV8FyMteji0Oi_ePMz0xuZ8TVo7lV0z0ecb\r\n    Build id:\r\n    I20120608-1400,\r\n    \r\n    Spring Tool Suite Version: 3.0.0.M3 Build Id: 201207050802 \r\n\r\nOutput of reference search:\r\n\r\n    com.google.common.base - guava-12.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\guava\\guava\\12.0 - PatientCare\r\n    com.google.common.base - guava-gwt-12.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\guava\\guava-gwt\\12.0 - PatientCare\r\n    com.google.gwt.junit.server - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\r\n    com.google.gwt.requestfactory.server - gwt-servlet-2.2.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-servlet\\2.2.0 - PatientCare\r\n    com.google.gwt.resources.rg - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\r\n    com.google.gwt.user.cellview.client - gwt-servlet-2.2.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-servlet\\2.2.0 - PatientCare\r\n    com.google.gwt.validation.rebind - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\r\n    com.google.web.bindery.requestfactory.apt - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\r\n    com.google.web.bindery.requestfactory.gwt.rebind.model - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\r\n    com.google.web.bindery.requestfactory.vm - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\r\n    com.zzz.zzz.zzz.PatientCare.services.impl - src/main/java/server - PatientCare\r\n    com.sun.istack - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\r\n    com.sun.xml.bind.v2 - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\r\n    com.sun.xml.bind.v2.runtime - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\r\n    com.sun.xml.bind.v2.runtime.output - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\r\n    com.sun.xml.bind.v2.runtime.property - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\r\n    com.sun.xml.bind.v2.runtime.reflect - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\r\n    com.sun.xml.bind.v2.runtime.reflect.opt - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\r\n    com.sun.xml.bind.v2.runtime.unmarshaller - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\r\n    javax.persistence.spi - hibernate-jpa-2.0-api-1.0.1.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\javax\\persistence\\hibernate-jpa-2.0-api\\1.0.1.Final - PatientCare\r\n    javax.xml.bind - jaxb-api-2.2.3.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.2.3 - PatientCare\r\n    org.codehaus.jackson - jackson-core-asl-1.8.5.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\codehaus\\jackson\\jackson-core-asl\\1.8.5 - PatientCare\r\n    org.codehaus.jackson.impl - jackson-core-asl-1.8.5.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\codehaus\\jackson\\jackson-core-asl\\1.8.5 - PatientCare\r\n    org.codehaus.jackson.io - jackson-core-asl-1.8.5.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\codehaus\\jackson\\jackson-core-asl\\1.8.5 - PatientCare\r\n    org.codehaus.jackson.map.ext - jackson-mapper-asl-1.8.5.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\codehaus\\jackson\\jackson-mapper-asl\\1.8.5 - PatientCare\r\n    org.codehaus.jackson.map.ser - jackson-mapper-asl-1.8.5.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\codehaus\\jackson\\jackson-mapper-asl\\1.8.5 - PatientCare\r\n    org.fusesource.restygwt.client.dispatcher - restygwt-1.3-SNAPSHOT.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\fusesource\\restygwt\\restygwt\\1.3-SNAPSHOT - PatientCare\r\n    org.hibernate.context - hibernate-core-3.6.10.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\hibernate-core\\3.6.10.Final - PatientCare\r\n    org.hibernate.stat - hibernate-core-3.6.10.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\hibernate-core\\3.6.10.Final - PatientCare\r\n    org.hibernate.util - hibernate-core-3.6.10.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\hibernate-core\\3.6.10.Final - PatientCare\r\n    org.hibernate.validator.internal.util - hibernate-validator-4.3.0.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\hibernate-validator\\4.3.0.Final - PatientCare\r\n    org.hibernate.validator.internal.util.scriptengine - hibernate-validator-4.3.0.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\hibernate-validator\\4.3.0.Final - PatientCare\r\n    org.jboss.resteasy.client - resteasy-jaxrs-2.3.4.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\jboss\\resteasy\\resteasy-jaxrs\\2.3.4.Final - PatientCare\r\n    org.jboss.resteasy.client.cache - resteasy-jaxrs-2.3.4.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\jboss\\resteasy\\resteasy-jaxrs\\2.3.4.Final - PatientCare\r\n    org.jboss.resteasy.core - resteasy-jaxrs-2.3.4.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\jboss\\resteasy\\resteasy-jaxrs\\2.3.4.Final - PatientCare\r\n    org.jboss.resteasy.spi - resteasy-jaxrs-2.3.4.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\jboss\\resteasy\\resteasy-jaxrs\\2.3.4.Final - PatientCare\r\n    org.jboss.resteasy.util - resteasy-jaxrs-2.3.4.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\jboss\\resteasy\\resteasy-jaxrs\\2.3.4.Final - PatientCare\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Eclipse find references for method","body":"<p>I wanted to find all the callers of the the method \"get\" for the following class:</p>\n\n<pre><code>package com.zzz.zzz.zzz.services;\n\npublic final class EMF {\n  private static final EntityManagerFactory emfInstance =\n    Persistence.createEntityManagerFactory(\"obamaCareIsGood4U\");\n\n  private EMF() {}\n\n  public static EntityManagerFactory get() {\n    return emfInstance;\n  }\n}\n</code></pre>\n\n<p>So I highlited the text \"get\" and right-clicked References - project. But it returned references to every method called \"get\", rather than just references to com.zzz.zzz.zzz.services.EMF.get().</p>\n\n<p>Is this an eclipse bug? How do I get Eclipse to show references only to com.zzz.zzz.zzz.services.EMF.get()?</p>\n\n<pre><code>Eclipse Platform  Version:\n4.2.0.v20120608-135145-9JF7BHV8FyMteji0Oi_ePMz0xuZ8TVo7lV0z0ecb\nBuild id:\nI20120608-1400,\n\nSpring Tool Suite Version: 3.0.0.M3 Build Id: 201207050802 \n</code></pre>\n\n<p>Output of reference search:</p>\n\n<pre><code>com.google.common.base - guava-12.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\guava\\guava\\12.0 - PatientCare\ncom.google.common.base - guava-gwt-12.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\guava\\guava-gwt\\12.0 - PatientCare\ncom.google.gwt.junit.server - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\ncom.google.gwt.requestfactory.server - gwt-servlet-2.2.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-servlet\\2.2.0 - PatientCare\ncom.google.gwt.resources.rg - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\ncom.google.gwt.user.cellview.client - gwt-servlet-2.2.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-servlet\\2.2.0 - PatientCare\ncom.google.gwt.validation.rebind - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\ncom.google.web.bindery.requestfactory.apt - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\ncom.google.web.bindery.requestfactory.gwt.rebind.model - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\ncom.google.web.bindery.requestfactory.vm - gwt-user-2.4.0.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\google\\gwt\\gwt-user\\2.4.0 - PatientCare\ncom.zzz.zzz.zzz.PatientCare.services.impl - src/main/java/server - PatientCare\ncom.sun.istack - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\ncom.sun.xml.bind.v2 - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\ncom.sun.xml.bind.v2.runtime - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\ncom.sun.xml.bind.v2.runtime.output - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\ncom.sun.xml.bind.v2.runtime.property - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\ncom.sun.xml.bind.v2.runtime.reflect - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\ncom.sun.xml.bind.v2.runtime.reflect.opt - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\ncom.sun.xml.bind.v2.runtime.unmarshaller - jaxb-impl-2.2.4.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.2.4 - PatientCare\njavax.persistence.spi - hibernate-jpa-2.0-api-1.0.1.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\javax\\persistence\\hibernate-jpa-2.0-api\\1.0.1.Final - PatientCare\njavax.xml.bind - jaxb-api-2.2.3.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.2.3 - PatientCare\norg.codehaus.jackson - jackson-core-asl-1.8.5.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\codehaus\\jackson\\jackson-core-asl\\1.8.5 - PatientCare\norg.codehaus.jackson.impl - jackson-core-asl-1.8.5.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\codehaus\\jackson\\jackson-core-asl\\1.8.5 - PatientCare\norg.codehaus.jackson.io - jackson-core-asl-1.8.5.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\codehaus\\jackson\\jackson-core-asl\\1.8.5 - PatientCare\norg.codehaus.jackson.map.ext - jackson-mapper-asl-1.8.5.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\codehaus\\jackson\\jackson-mapper-asl\\1.8.5 - PatientCare\norg.codehaus.jackson.map.ser - jackson-mapper-asl-1.8.5.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\codehaus\\jackson\\jackson-mapper-asl\\1.8.5 - PatientCare\norg.fusesource.restygwt.client.dispatcher - restygwt-1.3-SNAPSHOT.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\fusesource\\restygwt\\restygwt\\1.3-SNAPSHOT - PatientCare\norg.hibernate.context - hibernate-core-3.6.10.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\hibernate-core\\3.6.10.Final - PatientCare\norg.hibernate.stat - hibernate-core-3.6.10.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\hibernate-core\\3.6.10.Final - PatientCare\norg.hibernate.util - hibernate-core-3.6.10.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\hibernate-core\\3.6.10.Final - PatientCare\norg.hibernate.validator.internal.util - hibernate-validator-4.3.0.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\hibernate-validator\\4.3.0.Final - PatientCare\norg.hibernate.validator.internal.util.scriptengine - hibernate-validator-4.3.0.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\hibernate\\hibernate-validator\\4.3.0.Final - PatientCare\norg.jboss.resteasy.client - resteasy-jaxrs-2.3.4.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\jboss\\resteasy\\resteasy-jaxrs\\2.3.4.Final - PatientCare\norg.jboss.resteasy.client.cache - resteasy-jaxrs-2.3.4.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\jboss\\resteasy\\resteasy-jaxrs\\2.3.4.Final - PatientCare\norg.jboss.resteasy.core - resteasy-jaxrs-2.3.4.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\jboss\\resteasy\\resteasy-jaxrs\\2.3.4.Final - PatientCare\norg.jboss.resteasy.spi - resteasy-jaxrs-2.3.4.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\jboss\\resteasy\\resteasy-jaxrs\\2.3.4.Final - PatientCare\norg.jboss.resteasy.util - resteasy-jaxrs-2.3.4.Final.jar - C:\\Users\\SofiaVergara\\.m2\\repository\\org\\jboss\\resteasy\\resteasy-jaxrs\\2.3.4.Final - PatientCare\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"comments":[{"owner":{"account_id":2428490,"reputation":13936,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1668840005,"post_id":74494538,"comment_id":131508313,"body_markdown":"Thank you Pavel for your valuable answer. But idea is not to  hold messages. If rule is True than PLC is triggered. After that we wait for some fixed time, let&#39;s say 5 seconds. During that time messages keep coming only triggering is disabled. After 5 second elapses messages should be allowed to trigger PLC again.","body":"Thank you Pavel for your valuable answer. But idea is not to  hold messages. If rule is True than PLC is triggered. After that we wait for some fixed time, let&#39;s say 5 seconds. During that time messages keep coming only triggering is disabled. After 5 second elapses messages should be allowed to trigger PLC again."},{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":0,"creation_date":1668843029,"post_id":74494538,"comment_id":131508598,"body_markdown":"So during the time when messages are coming and triggering is disabled you just want to skip those messages?","body":"So during the time when messages are coming and triggering is disabled you just want to skip those messages?"},{"owner":{"account_id":2428490,"reputation":13936,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1668859882,"post_id":74494538,"comment_id":131511310,"body_markdown":"No, everything continues as usual. Calculations have to continue and messages with calculations continue to be produced in their corresponding topic. Only thing that is different is that in this 5s period PLC triggering should be paused untill next trigger happens. Than triggering will again be paused for same fixed amount of time.","body":"No, everything continues as usual. Calculations have to continue and messages with calculations continue to be produced in their corresponding topic. Only thing that is different is that in this 5s period PLC triggering should be paused untill next trigger happens. Than triggering will again be paused for same fixed amount of time."}],"tags":[],"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668800098,"creation_date":1668800098,"answer_id":74494538,"question_id":74484156,"body_markdown":"In order to create some kind of buffer, hold a message for some time, before sending to output topic, you can use [Transformer API][1]. \r\n\r\nYou can adopt very well known, and described implementation of deduplicating events with Kafka Streams, [here you can find some materials about that][2].\r\n\r\nSo in your case, inside `transform(...)` method you just need to put message into some queue/buffer, in order to send it to output topic later. Queue/buffer implementation can be simple `KeyValueStore&lt;K,V&gt;`. You also need to implement `schedule(...)` method on `ProcessorContext`. Inside that method you will find all events ready for trigger, and forward them to output topic. It can be something like that:\r\n\r\n```java\r\npublic class PLCTriggerTransformer implements Transformer&lt;String, PLCTrigger, KeyValue&lt;String, PLCTrigger&gt;&gt; {\r\n\r\n    private KeyValueStore&lt;String, WaitingForTrigger&gt; waitingForTrigger;\r\n\r\n    @Override\r\n    public void init(ProcessorContext context) {\r\n        this.waitingForTrigger = context.getStateStore(&quot;waiting-for-trigger&quot;);\r\n        context.schedule(Duration.ofMillis(5), PunctuationType.WALL_CLOCK_TIME,\r\n\r\n            timestamp -&gt; waitingForTrigger.all()\r\n                .forEachRemaining(kV -&gt; {\r\n                    if (kV.value.isReadyForTrigger(timestamp)) {\r\n                        context.forward(kV, kV.value.plcTrigger());\r\n                        waitingForTrigger.delete(kV.key);\r\n                    }\r\n                }));\r\n    }\r\n\r\n    @Override\r\n    public KeyValue&lt;String, PLCTrigger&gt; transform(String key, PLCTrigger plcEvent) {\r\n        WaitingForTrigger waitingForTrigger1 = new WaitingForTrigger(System.currentTimeMillis(), plcEvent);\r\n        waitingForTrigger.put(key, waitingForTrigger1);\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n\r\n    }\r\n\r\n    public record WaitingForTrigger(long arrivalTime, PLCTrigger plcTrigger) {\r\n\r\n        boolean isReadyForTrigger(long timestamp) {\r\n            return timestamp - arrivalTime &gt; 25;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://kafka.apache.org/20/javadoc/org/apache/kafka/streams/kstream/Transformer.html\r\n  [2]: https://blog.softwaremill.com/de-de-de-de-duplicating-events-with-kafka-streams-ed10cfc59fbe","title":"Kafka Streams calculations app - most efficient way to account for time elapsed in streams app","body":"<p>In order to create some kind of buffer, hold a message for some time, before sending to output topic, you can use <a href=\"https://kafka.apache.org/20/javadoc/org/apache/kafka/streams/kstream/Transformer.html\" rel=\"nofollow noreferrer\">Transformer API</a>.</p>\n<p>You can adopt very well known, and described implementation of deduplicating events with Kafka Streams, <a href=\"https://blog.softwaremill.com/de-de-de-de-duplicating-events-with-kafka-streams-ed10cfc59fbe\" rel=\"nofollow noreferrer\">here you can find some materials about that</a>.</p>\n<p>So in your case, inside <code>transform(...)</code> method you just need to put message into some queue/buffer, in order to send it to output topic later. Queue/buffer implementation can be simple <code>KeyValueStore&lt;K,V&gt;</code>. You also need to implement <code>schedule(...)</code> method on <code>ProcessorContext</code>. Inside that method you will find all events ready for trigger, and forward them to output topic. It can be something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PLCTriggerTransformer implements Transformer&lt;String, PLCTrigger, KeyValue&lt;String, PLCTrigger&gt;&gt; {\n\n    private KeyValueStore&lt;String, WaitingForTrigger&gt; waitingForTrigger;\n\n    @Override\n    public void init(ProcessorContext context) {\n        this.waitingForTrigger = context.getStateStore(&quot;waiting-for-trigger&quot;);\n        context.schedule(Duration.ofMillis(5), PunctuationType.WALL_CLOCK_TIME,\n\n            timestamp -&gt; waitingForTrigger.all()\n                .forEachRemaining(kV -&gt; {\n                    if (kV.value.isReadyForTrigger(timestamp)) {\n                        context.forward(kV, kV.value.plcTrigger());\n                        waitingForTrigger.delete(kV.key);\n                    }\n                }));\n    }\n\n    @Override\n    public KeyValue&lt;String, PLCTrigger&gt; transform(String key, PLCTrigger plcEvent) {\n        WaitingForTrigger waitingForTrigger1 = new WaitingForTrigger(System.currentTimeMillis(), plcEvent);\n        waitingForTrigger.put(key, waitingForTrigger1);\n        return null;\n    }\n\n    @Override\n    public void close() {\n\n    }\n\n    public record WaitingForTrigger(long arrivalTime, PLCTrigger plcTrigger) {\n\n        boolean isReadyForTrigger(long timestamp) {\n            return timestamp - arrivalTime &gt; 25;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2428490,"reputation":13936,"user_id":2119941,"display_name":"Hrvoje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668800098,"creation_date":1668736902,"question_id":74484156,"body_markdown":"I have Kafka Streaming API application joining 2 streams which works ok.\r\n\r\nI have another Kafka Streaming API application which is performing some calculations based on joined values from 1st application - also works ok. \r\n\r\nResults of calculations are used to trigger commands on PLC server. \r\n\r\nMessages are coming in every 25ms which is window for join in 1st application. \r\nNow I have requirement which says after each trigger wait for xy milliseconds before allowing next trigger on PLC server.\r\nSo Kafka Streams should continue to process messages and not trigger PLC and after some time it should allow triggering of PLC server.\r\n\r\nI&#39;m puzzled on how to implement that in most efficient way since speed is most important here - I need to account for elapsed time in some global variable outside of stream scope and than when each message arrives probably check against this variable to find out how much time elapsed. \r\n\r\nIt&#39;s pretty straightforward I&#39;m only thinking if there is any other more suitable and faster way of doing this?\r\n\r\nHere is code of my current calculations application:\r\n\r\n    package io.confluent.developer;\r\n    \r\n    import io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde;\r\n    import org.apache.kafka.clients.admin.AdminClient;\r\n    import org.apache.kafka.clients.admin.NewTopic;\r\n    import org.apache.kafka.common.serialization.Serdes;\r\n    import org.apache.kafka.streams.*;\r\n    import org.apache.kafka.streams.kstream.KStream;\r\n    import org.apache.kafka.streams.kstream.Produced;\r\n    import org.apache.kafka.streams.kstream.Printed;\r\n    import pmu.serialization.avro.pmujoinedrule_voltageall;\r\n    import pmu.serialization.avro.pmujoinstream;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.RandomAccessFile;\r\n    import java.time.Duration;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    \r\n    public class JoinWithRule_VoltageAll {\r\n    \r\n        public Topology buildTopology(Properties allProps) {\r\n            final StreamsBuilder builder = new StreamsBuilder();\r\n            final String pmuJoinStreamTopic = allProps.getProperty(&quot;output.topic.name&quot;);\r\n            final String rulesTopic = allProps.getProperty(&quot;rules.topic.name&quot;);\r\n    \r\n            KStream&lt;String, pmujoinstream&gt; pmuJoinStream = builder.stream(pmuJoinStreamTopic);\r\n            KStream&lt;String, pmujoinedrule_voltageall&gt; pmuJoinedRule = pmuJoinStream.map((key, pmujoinstream) -&gt; {\r\n                try {\r\n                    return new KeyValue&lt;&gt;(pmujoinstream.getTimeRounded214(), calculateAngleDiff(pmujoinstream));\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n            pmuJoinedRule.to(rulesTopic, Produced.with(Serdes.String(),pmuJoinRuleAvroSerde(allProps)));\r\n            return builder.build();\r\n        }\r\n    \r\n        public static pmujoinedrule_voltageall calculateAngleDiff(pmujoinstream pmuJoinedStream) throws IOException {\r\n            // faza R, PMU1\r\n            double angle_V_R_PMU1;\r\n            double V_R_param1_PMU1 = pmuJoinedStream.getPhV4R214();\r\n            double V_R_param2_PMU1 = pmuJoinedStream.getPhV4J214();\r\n    \r\n            // faza R, PMU2\r\n            double angle_V_R_PMU2;\r\n            double V_R_param1_PMU2 = pmuJoinedStream.getPhV4R218();\r\n            double V_R_param2_PMU2 = pmuJoinedStream.getPhV4J218();\r\n    \r\n            // faza S, PMU1\r\n            double angle_V_S_PMU1;\r\n            double V_S_param1_PMU1 = pmuJoinedStream.getPhV5R214();\r\n            double V_S_param2_PMU1 = pmuJoinedStream.getPhV5J214();\r\n    \r\n            // faza S, PMU2\r\n            double angle_V_S_PMU2;\r\n            double V_S_param1_PMU2 = pmuJoinedStream.getPhV5R218();\r\n            double V_S_param2_PMU2 = pmuJoinedStream.getPhV5J218();\r\n    \r\n            // faza T, PMU1\r\n            double angle_V_T_PMU1;\r\n            double V_T_param1_PMU1 = pmuJoinedStream.getPhV6R214();\r\n            double V_T_param2_PMU1 = pmuJoinedStream.getPhV6J214();\r\n    \r\n            // faza T, PMU2\r\n            double angle_V_T_PMU2;\r\n            double V_T_param1_PMU2 = pmuJoinedStream.getPhV6R218();\r\n            double V_T_param2_PMU2 = pmuJoinedStream.getPhV6J218();\r\n    \r\n            // promijeniti u true ako imamo podatke u kartezijevom obliku\r\n            boolean cartesian = false;\r\n    \r\n            if (cartesian) {\r\n                // ako podaci dolaze u kartezijevom obliku param1 je X, param2 je Y\r\n                angle_V_R_PMU1 = calcAngleDegFromCartesian(V_R_param1_PMU1, V_R_param2_PMU1);\r\n                angle_V_R_PMU2 = calcAngleDegFromCartesian(V_R_param1_PMU2, V_R_param2_PMU2);\r\n                angle_V_S_PMU1 = calcAngleDegFromCartesian(V_S_param1_PMU1, V_S_param2_PMU1);\r\n                angle_V_S_PMU2 = calcAngleDegFromCartesian(V_S_param1_PMU2, V_S_param2_PMU2);\r\n                angle_V_T_PMU1 = calcAngleDegFromCartesian(V_T_param1_PMU1, V_T_param2_PMU1);\r\n                angle_V_T_PMU2 = calcAngleDegFromCartesian(V_T_param1_PMU2, V_T_param2_PMU2);\r\n            }\r\n            else\r\n            {\r\n                // ako podaci dolaze u polarnom obliku param1 je modul, param2 je kut\r\n                angle_V_R_PMU1 = calcAngleDegFromPolar(V_R_param2_PMU1);\r\n                angle_V_R_PMU2 = calcAngleDegFromPolar(V_R_param2_PMU2);\r\n                angle_V_S_PMU1 = calcAngleDegFromPolar(V_S_param2_PMU1);\r\n                angle_V_S_PMU2 = calcAngleDegFromPolar(V_S_param2_PMU2);\r\n                angle_V_T_PMU1 = calcAngleDegFromPolar(V_T_param2_PMU1);\r\n                angle_V_T_PMU2 = calcAngleDegFromPolar(V_T_param2_PMU2);\r\n            }\r\n            // odredi razlike za sve parove fazora\r\n            double angle_diff_R_norm = normAngleDeg(angle_V_R_PMU1 - angle_V_R_PMU2);\r\n            double angle_diff_S_norm = normAngleDeg(angle_V_S_PMU1 - angle_V_S_PMU2);\r\n            double angle_diff_T_norm = normAngleDeg(angle_V_T_PMU1 - angle_V_T_PMU2);\r\n    \r\n            System.out.println(&quot;-------Calculations info-------&quot;);\r\n            System.out.println(getCurrentLocalDateTimeStamp());\r\n            System.out.println(&quot;Angle diff phase R: %05.1f&quot; + angle_diff_R_norm);\r\n            System.out.println(&quot;Angle diff phase S: %05.1f&quot; + angle_diff_S_norm);\r\n            System.out.println(&quot;Angle diff phase T: %05.1f&quot; + angle_diff_T_norm);\r\n            System.out.println(&quot;-------Calculations info end-------&quot;);\r\n    \r\n            double angleLimit = 1.0; // ovo bi trebao biti promjenjivi parametar\r\n            boolean angleDiff_trigger_R = angleDiffCompare(angle_diff_R_norm, angleLimit);\r\n            boolean angleDiff_trigger_S = angleDiffCompare(angle_diff_S_norm, angleLimit);\r\n            boolean angleDiff_trigger_T = angleDiffCompare(angle_diff_T_norm, angleLimit);\r\n    \r\n            // saljemo byte 0 ako pravilo nije okinulo\r\n            short angleDiffVal = 0;\r\n            if (angleDiff_trigger_R || angleDiff_trigger_S || angleDiff_trigger_T)\r\n            {\r\n                if (angleDiff_trigger_R){\r\n                    System.out.println(&quot;Phase R angle difference exceeded&quot;);\r\n                }\r\n                if (angleDiff_trigger_S){\r\n                    System.out.println(&quot;Phase S angle difference exceeded&quot;);\r\n                }\r\n                if (angleDiff_trigger_T){\r\n                    System.out.println(&quot;Phase T angle difference exceeded&quot;);\r\n                }\r\n                // saljemo byte 0x01 ako je pravilo okinulo\r\n                RandomAccessFile pipe = new RandomAccessFile(&quot;IRI2angleDiffRule&quot;, &quot;rw&quot;);\r\n                // ako je pipe otvoren i pravilo kuteva aktivirano, pisi 1\r\n                short sVal = 1;\r\n                pipe.write((byte) sVal);\r\n                // zatvori pipe kod unistenja klase\r\n                pipe.close();\r\n            }\r\n    \r\n    \r\n            return new pmujoinedrule_voltageall(\r\n                    pmuJoinedStream.getTimeRounded214(),\r\n                    pmuJoinedStream.getPmuId214(),\r\n                    pmuJoinedStream.getPhV4R214(),\r\n                    pmuJoinedStream.getPhV4J214(),\r\n                    pmuJoinedStream.getPhV5R214(),\r\n                    pmuJoinedStream.getPhV5J214(),\r\n                    pmuJoinedStream.getPhV6R214(),\r\n                    pmuJoinedStream.getPhV6J214(),\r\n                    pmuJoinedStream.getPmuId218(),\r\n                    pmuJoinedStream.getPhV4R218(),\r\n                    pmuJoinedStream.getPhV4J218(),\r\n                    pmuJoinedStream.getPhV5R218(),\r\n                    pmuJoinedStream.getPhV5J218(),\r\n                    pmuJoinedStream.getPhV6R218(),\r\n                    pmuJoinedStream.getPhV6J218(),\r\n                    angle_diff_R_norm,\r\n                    angle_diff_S_norm,\r\n                    angle_diff_T_norm\r\n            );\r\n        }\r\n    \r\n    //    private SpecificAvroSerde&lt;rawpmu214&gt; raw_pmu214AvroSerde(Properties allProps) {\r\n    //        SpecificAvroSerde&lt;rawpmu214&gt; raw_pmu214AvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n    //        raw_pmu214AvroSerde.configure((Map)allProps, false);\r\n    //        return raw_pmu214AvroSerde;\r\n    //    }\r\n    //\r\n    //    private SpecificAvroSerde&lt;rawpmu218&gt; raw_pmu218AvroSerde(Properties allProps) {\r\n    //        SpecificAvroSerde&lt;rawpmu218&gt; raw_pmu218AvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n    //        raw_pmu218AvroSerde.configure((Map)allProps, false);\r\n    //        return raw_pmu218AvroSerde;\r\n    //    }\r\n    //\r\n    //    private SpecificAvroSerde&lt;pmujoinstream&gt; pmuJoinAvroSerde(Properties allProps) {\r\n    //        SpecificAvroSerde&lt;pmujoinstream&gt; pmuJoinAvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n    //        pmuJoinAvroSerde.configure((Map)allProps, false);\r\n    //        return pmuJoinAvroSerde;\r\n    //    }\r\n    \r\n        private SpecificAvroSerde&lt;pmujoinedrule_voltageall&gt; pmuJoinRuleAvroSerde(Properties allProps) {\r\n            SpecificAvroSerde&lt;pmujoinedrule_voltageall&gt; pmuJoinRuleAvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n            pmuJoinRuleAvroSerde.configure((Map)allProps, false);\r\n            return pmuJoinRuleAvroSerde;\r\n        }\r\n    \r\n    \r\n        public void createTopics(Properties allProps) {\r\n            AdminClient client = AdminClient.create(allProps);\r\n            List&lt;NewTopic&gt; topics = new ArrayList&lt;&gt;();\r\n    //        topics.add(new NewTopic(\r\n    //                allProps.getProperty(&quot;output.topic.name&quot;),\r\n    //                Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\r\n    //                Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\r\n    \r\n            topics.add(new NewTopic(\r\n                    allProps.getProperty(&quot;rules.topic.name&quot;),\r\n                    Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\r\n                    Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\r\n    \r\n    \r\n            client.createTopics(topics);\r\n            client.close();\r\n        }\r\n    \r\n        public Properties loadEnvProperties(String fileName) throws IOException {\r\n            Properties allProps = new Properties();\r\n            FileInputStream input = new FileInputStream(fileName);\r\n            allProps.load(input);\r\n            input.close();\r\n    \r\n            return allProps;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            if (args.length &lt; 1) {\r\n                throw new IllegalArgumentException(&quot;This program takes one argument: the path to an environment configuration file.&quot;);\r\n            }\r\n    \r\n            JoinWithRule_VoltageAll ts = new JoinWithRule_VoltageAll();\r\n            Properties allProps = ts.loadEnvProperties(args[0]);\r\n            allProps.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n            allProps.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class);\r\n            Topology topology = ts.buildTopology(allProps);\r\n    \r\n            ts.createTopics(allProps);\r\n    \r\n            final KafkaStreams streams = new KafkaStreams(topology, allProps);\r\n            final CountDownLatch latch = new CountDownLatch(1);\r\n    \r\n            // Attach shutdown handler to catch Control-C.\r\n            Runtime.getRuntime().addShutdownHook(new Thread(&quot;streams-shutdown-hook&quot;) {\r\n                @Override\r\n                public void run() {\r\n                    streams.close(Duration.ofSeconds(5));\r\n                    latch.countDown();\r\n                }\r\n            });\r\n    \r\n            try {\r\n                streams.start();\r\n                latch.await();\r\n            } catch (Throwable e) {\r\n                System.exit(1);\r\n            }\r\n            System.exit(0);\r\n        }\r\n    \r\n        //Helpers and converters\r\n    \r\n        public static String getCurrentLocalDateTimeStamp() {\r\n            return LocalDateTime.now()\r\n                    .format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;));\r\n        }\r\n        private static double calcAngleDegFromPolar(double angleRad) {\r\n            return angleRad * 180.0 / Math.PI;\r\n        }\r\n        private static double calcAngleDegFromCartesian(double X, double Y) {\r\n            return Math.atan2(Y, X);\r\n        }\r\n        private static double normAngleDeg(double angle){\r\n            // normira kut na -180 .. +180\r\n            return angle - 360.0 * Math.floor((angle + 180.0) / 360.0);\r\n        }\r\n        private static boolean angleDiffCompare(double angleDiff, double limit){\r\n            return (Math.abs(angleDiff) &gt; limit);\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"Kafka Streams calculations app - most efficient way to account for time elapsed in streams app","body":"<p>I have Kafka Streaming API application joining 2 streams which works ok.</p>\n<p>I have another Kafka Streaming API application which is performing some calculations based on joined values from 1st application - also works ok.</p>\n<p>Results of calculations are used to trigger commands on PLC server.</p>\n<p>Messages are coming in every 25ms which is window for join in 1st application.\nNow I have requirement which says after each trigger wait for xy milliseconds before allowing next trigger on PLC server.\nSo Kafka Streams should continue to process messages and not trigger PLC and after some time it should allow triggering of PLC server.</p>\n<p>I'm puzzled on how to implement that in most efficient way since speed is most important here - I need to account for elapsed time in some global variable outside of stream scope and than when each message arrives probably check against this variable to find out how much time elapsed.</p>\n<p>It's pretty straightforward I'm only thinking if there is any other more suitable and faster way of doing this?</p>\n<p>Here is code of my current calculations application:</p>\n<pre><code>package io.confluent.developer;\n\nimport io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde;\nimport org.apache.kafka.clients.admin.AdminClient;\nimport org.apache.kafka.clients.admin.NewTopic;\nimport org.apache.kafka.common.serialization.Serdes;\nimport org.apache.kafka.streams.*;\nimport org.apache.kafka.streams.kstream.KStream;\nimport org.apache.kafka.streams.kstream.Produced;\nimport org.apache.kafka.streams.kstream.Printed;\nimport pmu.serialization.avro.pmujoinedrule_voltageall;\nimport pmu.serialization.avro.pmujoinstream;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.RandomAccessFile;\nimport java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Properties;\nimport java.util.concurrent.CountDownLatch;\n\n\npublic class JoinWithRule_VoltageAll {\n\n    public Topology buildTopology(Properties allProps) {\n        final StreamsBuilder builder = new StreamsBuilder();\n        final String pmuJoinStreamTopic = allProps.getProperty(&quot;output.topic.name&quot;);\n        final String rulesTopic = allProps.getProperty(&quot;rules.topic.name&quot;);\n\n        KStream&lt;String, pmujoinstream&gt; pmuJoinStream = builder.stream(pmuJoinStreamTopic);\n        KStream&lt;String, pmujoinedrule_voltageall&gt; pmuJoinedRule = pmuJoinStream.map((key, pmujoinstream) -&gt; {\n            try {\n                return new KeyValue&lt;&gt;(pmujoinstream.getTimeRounded214(), calculateAngleDiff(pmujoinstream));\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        });\n        pmuJoinedRule.to(rulesTopic, Produced.with(Serdes.String(),pmuJoinRuleAvroSerde(allProps)));\n        return builder.build();\n    }\n\n    public static pmujoinedrule_voltageall calculateAngleDiff(pmujoinstream pmuJoinedStream) throws IOException {\n        // faza R, PMU1\n        double angle_V_R_PMU1;\n        double V_R_param1_PMU1 = pmuJoinedStream.getPhV4R214();\n        double V_R_param2_PMU1 = pmuJoinedStream.getPhV4J214();\n\n        // faza R, PMU2\n        double angle_V_R_PMU2;\n        double V_R_param1_PMU2 = pmuJoinedStream.getPhV4R218();\n        double V_R_param2_PMU2 = pmuJoinedStream.getPhV4J218();\n\n        // faza S, PMU1\n        double angle_V_S_PMU1;\n        double V_S_param1_PMU1 = pmuJoinedStream.getPhV5R214();\n        double V_S_param2_PMU1 = pmuJoinedStream.getPhV5J214();\n\n        // faza S, PMU2\n        double angle_V_S_PMU2;\n        double V_S_param1_PMU2 = pmuJoinedStream.getPhV5R218();\n        double V_S_param2_PMU2 = pmuJoinedStream.getPhV5J218();\n\n        // faza T, PMU1\n        double angle_V_T_PMU1;\n        double V_T_param1_PMU1 = pmuJoinedStream.getPhV6R214();\n        double V_T_param2_PMU1 = pmuJoinedStream.getPhV6J214();\n\n        // faza T, PMU2\n        double angle_V_T_PMU2;\n        double V_T_param1_PMU2 = pmuJoinedStream.getPhV6R218();\n        double V_T_param2_PMU2 = pmuJoinedStream.getPhV6J218();\n\n        // promijeniti u true ako imamo podatke u kartezijevom obliku\n        boolean cartesian = false;\n\n        if (cartesian) {\n            // ako podaci dolaze u kartezijevom obliku param1 je X, param2 je Y\n            angle_V_R_PMU1 = calcAngleDegFromCartesian(V_R_param1_PMU1, V_R_param2_PMU1);\n            angle_V_R_PMU2 = calcAngleDegFromCartesian(V_R_param1_PMU2, V_R_param2_PMU2);\n            angle_V_S_PMU1 = calcAngleDegFromCartesian(V_S_param1_PMU1, V_S_param2_PMU1);\n            angle_V_S_PMU2 = calcAngleDegFromCartesian(V_S_param1_PMU2, V_S_param2_PMU2);\n            angle_V_T_PMU1 = calcAngleDegFromCartesian(V_T_param1_PMU1, V_T_param2_PMU1);\n            angle_V_T_PMU2 = calcAngleDegFromCartesian(V_T_param1_PMU2, V_T_param2_PMU2);\n        }\n        else\n        {\n            // ako podaci dolaze u polarnom obliku param1 je modul, param2 je kut\n            angle_V_R_PMU1 = calcAngleDegFromPolar(V_R_param2_PMU1);\n            angle_V_R_PMU2 = calcAngleDegFromPolar(V_R_param2_PMU2);\n            angle_V_S_PMU1 = calcAngleDegFromPolar(V_S_param2_PMU1);\n            angle_V_S_PMU2 = calcAngleDegFromPolar(V_S_param2_PMU2);\n            angle_V_T_PMU1 = calcAngleDegFromPolar(V_T_param2_PMU1);\n            angle_V_T_PMU2 = calcAngleDegFromPolar(V_T_param2_PMU2);\n        }\n        // odredi razlike za sve parove fazora\n        double angle_diff_R_norm = normAngleDeg(angle_V_R_PMU1 - angle_V_R_PMU2);\n        double angle_diff_S_norm = normAngleDeg(angle_V_S_PMU1 - angle_V_S_PMU2);\n        double angle_diff_T_norm = normAngleDeg(angle_V_T_PMU1 - angle_V_T_PMU2);\n\n        System.out.println(&quot;-------Calculations info-------&quot;);\n        System.out.println(getCurrentLocalDateTimeStamp());\n        System.out.println(&quot;Angle diff phase R: %05.1f&quot; + angle_diff_R_norm);\n        System.out.println(&quot;Angle diff phase S: %05.1f&quot; + angle_diff_S_norm);\n        System.out.println(&quot;Angle diff phase T: %05.1f&quot; + angle_diff_T_norm);\n        System.out.println(&quot;-------Calculations info end-------&quot;);\n\n        double angleLimit = 1.0; // ovo bi trebao biti promjenjivi parametar\n        boolean angleDiff_trigger_R = angleDiffCompare(angle_diff_R_norm, angleLimit);\n        boolean angleDiff_trigger_S = angleDiffCompare(angle_diff_S_norm, angleLimit);\n        boolean angleDiff_trigger_T = angleDiffCompare(angle_diff_T_norm, angleLimit);\n\n        // saljemo byte 0 ako pravilo nije okinulo\n        short angleDiffVal = 0;\n        if (angleDiff_trigger_R || angleDiff_trigger_S || angleDiff_trigger_T)\n        {\n            if (angleDiff_trigger_R){\n                System.out.println(&quot;Phase R angle difference exceeded&quot;);\n            }\n            if (angleDiff_trigger_S){\n                System.out.println(&quot;Phase S angle difference exceeded&quot;);\n            }\n            if (angleDiff_trigger_T){\n                System.out.println(&quot;Phase T angle difference exceeded&quot;);\n            }\n            // saljemo byte 0x01 ako je pravilo okinulo\n            RandomAccessFile pipe = new RandomAccessFile(&quot;IRI2angleDiffRule&quot;, &quot;rw&quot;);\n            // ako je pipe otvoren i pravilo kuteva aktivirano, pisi 1\n            short sVal = 1;\n            pipe.write((byte) sVal);\n            // zatvori pipe kod unistenja klase\n            pipe.close();\n        }\n\n\n        return new pmujoinedrule_voltageall(\n                pmuJoinedStream.getTimeRounded214(),\n                pmuJoinedStream.getPmuId214(),\n                pmuJoinedStream.getPhV4R214(),\n                pmuJoinedStream.getPhV4J214(),\n                pmuJoinedStream.getPhV5R214(),\n                pmuJoinedStream.getPhV5J214(),\n                pmuJoinedStream.getPhV6R214(),\n                pmuJoinedStream.getPhV6J214(),\n                pmuJoinedStream.getPmuId218(),\n                pmuJoinedStream.getPhV4R218(),\n                pmuJoinedStream.getPhV4J218(),\n                pmuJoinedStream.getPhV5R218(),\n                pmuJoinedStream.getPhV5J218(),\n                pmuJoinedStream.getPhV6R218(),\n                pmuJoinedStream.getPhV6J218(),\n                angle_diff_R_norm,\n                angle_diff_S_norm,\n                angle_diff_T_norm\n        );\n    }\n\n//    private SpecificAvroSerde&lt;rawpmu214&gt; raw_pmu214AvroSerde(Properties allProps) {\n//        SpecificAvroSerde&lt;rawpmu214&gt; raw_pmu214AvroSerde = new SpecificAvroSerde&lt;&gt;();\n//        raw_pmu214AvroSerde.configure((Map)allProps, false);\n//        return raw_pmu214AvroSerde;\n//    }\n//\n//    private SpecificAvroSerde&lt;rawpmu218&gt; raw_pmu218AvroSerde(Properties allProps) {\n//        SpecificAvroSerde&lt;rawpmu218&gt; raw_pmu218AvroSerde = new SpecificAvroSerde&lt;&gt;();\n//        raw_pmu218AvroSerde.configure((Map)allProps, false);\n//        return raw_pmu218AvroSerde;\n//    }\n//\n//    private SpecificAvroSerde&lt;pmujoinstream&gt; pmuJoinAvroSerde(Properties allProps) {\n//        SpecificAvroSerde&lt;pmujoinstream&gt; pmuJoinAvroSerde = new SpecificAvroSerde&lt;&gt;();\n//        pmuJoinAvroSerde.configure((Map)allProps, false);\n//        return pmuJoinAvroSerde;\n//    }\n\n    private SpecificAvroSerde&lt;pmujoinedrule_voltageall&gt; pmuJoinRuleAvroSerde(Properties allProps) {\n        SpecificAvroSerde&lt;pmujoinedrule_voltageall&gt; pmuJoinRuleAvroSerde = new SpecificAvroSerde&lt;&gt;();\n        pmuJoinRuleAvroSerde.configure((Map)allProps, false);\n        return pmuJoinRuleAvroSerde;\n    }\n\n\n    public void createTopics(Properties allProps) {\n        AdminClient client = AdminClient.create(allProps);\n        List&lt;NewTopic&gt; topics = new ArrayList&lt;&gt;();\n//        topics.add(new NewTopic(\n//                allProps.getProperty(&quot;output.topic.name&quot;),\n//                Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\n//                Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\n\n        topics.add(new NewTopic(\n                allProps.getProperty(&quot;rules.topic.name&quot;),\n                Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\n                Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\n\n\n        client.createTopics(topics);\n        client.close();\n    }\n\n    public Properties loadEnvProperties(String fileName) throws IOException {\n        Properties allProps = new Properties();\n        FileInputStream input = new FileInputStream(fileName);\n        allProps.load(input);\n        input.close();\n\n        return allProps;\n    }\n\n    public static void main(String[] args) throws Exception {\n        if (args.length &lt; 1) {\n            throw new IllegalArgumentException(&quot;This program takes one argument: the path to an environment configuration file.&quot;);\n        }\n\n        JoinWithRule_VoltageAll ts = new JoinWithRule_VoltageAll();\n        Properties allProps = ts.loadEnvProperties(args[0]);\n        allProps.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        allProps.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class);\n        Topology topology = ts.buildTopology(allProps);\n\n        ts.createTopics(allProps);\n\n        final KafkaStreams streams = new KafkaStreams(topology, allProps);\n        final CountDownLatch latch = new CountDownLatch(1);\n\n        // Attach shutdown handler to catch Control-C.\n        Runtime.getRuntime().addShutdownHook(new Thread(&quot;streams-shutdown-hook&quot;) {\n            @Override\n            public void run() {\n                streams.close(Duration.ofSeconds(5));\n                latch.countDown();\n            }\n        });\n\n        try {\n            streams.start();\n            latch.await();\n        } catch (Throwable e) {\n            System.exit(1);\n        }\n        System.exit(0);\n    }\n\n    //Helpers and converters\n\n    public static String getCurrentLocalDateTimeStamp() {\n        return LocalDateTime.now()\n                .format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;));\n    }\n    private static double calcAngleDegFromPolar(double angleRad) {\n        return angleRad * 180.0 / Math.PI;\n    }\n    private static double calcAngleDegFromCartesian(double X, double Y) {\n        return Math.atan2(Y, X);\n    }\n    private static double normAngleDeg(double angle){\n        // normira kut na -180 .. +180\n        return angle - 360.0 * Math.floor((angle + 180.0) / 360.0);\n    }\n    private static boolean angleDiffCompare(double angleDiff, double limit){\n        return (Math.abs(angleDiff) &gt; limit);\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","android","algorithm"],"comments":[{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":4,"creation_date":1424000136,"post_id":28525597,"comment_id":45367042,"body_markdown":"No one is going to go through all this code, provide only the minimal required part to understand the problem. Also, describe what you have already done (and explain your algorithm), and then explain what is still missing. Providing an example is usually helpful as well.","body":"No one is going to go through all this code, provide only the minimal required part to understand the problem. Also, describe what you have already done (and explain your algorithm), and then explain what is still missing. Providing an example is usually helpful as well."},{"owner":{"account_id":5412190,"reputation":51,"user_id":4308573,"accept_rate":17,"display_name":"GeekUp"},"score":0,"creation_date":1424000483,"post_id":28525597,"comment_id":45367102,"body_markdown":"i did post all of this code in order to locate the nodes direction from the Node class to the Astar Class. example. System.out.println(&quot;Direction: &quot; + n.east); OUTPUT: NULL. my problem is how to show what&#39;s the direction of the parent node. if i won&#39;t post the code you will not be able to answer my problem. All i want is get the current nodes direction and display it on the main class which is astar","body":"i did post all of this code in order to locate the nodes direction from the Node class to the Astar Class. example. System.out.println(&quot;Direction: &quot; + n.east); OUTPUT: NULL. my problem is how to show what&#39;s the direction of the parent node. if i won&#39;t post the code you will not be able to answer my problem. All i want is get the current nodes direction and display it on the main class which is astar"},{"owner":{"account_id":5412190,"reputation":51,"user_id":4308573,"accept_rate":17,"display_name":"GeekUp"},"score":0,"creation_date":1424003702,"post_id":28525597,"comment_id":45367866,"body_markdown":"What I have so far is this:\nNode: (1, 1)\nnull\nDistance from start: 1.0\n\nNode: (2, 1)\nnull\nDistance from start: 2.0\n\nNode: (2, 2)\nnull\nDistance from start: 3.0\n\nNode: (3, 2)\nnull\nDistance from start: 4.0\n\nNode: (3, 3)\nnull\nDistance from start: 5.0\n\nNode: (4, 3)\nnull\nDistance from start: 6.0\n\nWhat i want is to know if 2.1 is in the north, east or west. I am able to get the shortest path","body":"What I have so far is this: Node: (1, 1) null Distance from start: 1.0  Node: (2, 1) null Distance from start: 2.0  Node: (2, 2) null Distance from start: 3.0  Node: (3, 2) null Distance from start: 4.0  Node: (3, 3) null Distance from start: 5.0  Node: (4, 3) null Distance from start: 6.0  What i want is to know if 2.1 is in the north, east or west. I am able to get the shortest path"}],"answers":[{"comments":[{"owner":{"account_id":4988952,"reputation":546,"user_id":4011761,"accept_rate":40,"display_name":"samst"},"score":0,"creation_date":1424015293,"post_id":28527864,"comment_id":45371119,"body_markdown":"Just thought of it. Now I get what you wanted with the Nodes in each direction. Sorry was a little confused.","body":"Just thought of it. Now I get what you wanted with the Nodes in each direction. Sorry was a little confused."},{"owner":{"account_id":5412190,"reputation":51,"user_id":4308573,"accept_rate":17,"display_name":"GeekUp"},"score":0,"creation_date":1424016802,"post_id":28527864,"comment_id":45371571,"body_markdown":"Yes sir you got it right. you really got my point. Sir I got errors when i try to change public node north to public direction north","body":"Yes sir you got it right. you really got my point. Sir I got errors when i try to change public node north to public direction north"},{"owner":{"account_id":5412190,"reputation":51,"user_id":4308573,"accept_rate":17,"display_name":"GeekUp"},"score":0,"creation_date":1424017671,"post_id":28527864,"comment_id":45371821,"body_markdown":"If you want my whole code sir I can show you. just please help me sir its my project. It&#39;s making me crazy i&#39;ve been debugging this for 8 hours","body":"If you want my whole code sir I can show you. just please help me sir its my project. It&#39;s making me crazy i&#39;ve been debugging this for 8 hours"},{"owner":{"account_id":4988952,"reputation":546,"user_id":4011761,"accept_rate":40,"display_name":"samst"},"score":0,"creation_date":1424109708,"post_id":28527864,"comment_id":45408065,"body_markdown":"I am not sure what you want to accomplish. What I wrote is wrong (forget public direction north) but you want to calculate if a node is north or south or west of your current node and then set it to that variable. Then you have a graph with nodes that have saved which other nodes are in which direction. I don&#39;t understand the reason behind it.\nOr do you want to save in what direction from start the current Node is?\nWhere do you call setDirectionalNode and what for?","body":"I am not sure what you want to accomplish. What I wrote is wrong (forget public direction north) but you want to calculate if a node is north or south or west of your current node and then set it to that variable. Then you have a graph with nodes that have saved which other nodes are in which direction. I don&#39;t understand the reason behind it. Or do you want to save in what direction from start the current Node is? Where do you call setDirectionalNode and what for?"}],"tags":[],"owner":{"account_id":4988952,"reputation":546,"user_id":4011761,"accept_rate":40,"display_name":"samst"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668799842,"creation_date":1424015179,"answer_id":28527864,"question_id":28525597,"body_markdown":"    public Node parent;\r\n    public Node north;\r\n    public Node south;\r\n    public Node east;\r\n    public Node west;\r\n\r\n    public enum Directions {\r\n        NORTH, SOUTH, EAST, WEST\r\n    };\r\n\r\nThis seems just strange. I guess you wanted to do this:\r\n\r\n    public Node parent;\r\n    public Direction north;\r\n    public Direction south;\r\n    public Direction east;\r\n    public Direction west;\r\n\r\n    public enum Direction {\r\n        NORTH, SOUTH, EAST, WEST\r\n    };\r\n\r\nThe whole thing confuses me a little, you never set the bearing. Nodes usually don&#39;t have a direction.\r\nIf you want the direction that the current avatar took from the last node to the current node. So its bearing basically.\r\nThis might help?\r\n[Link](https://web.archive.org/web/20171219235009/http://mathforum.org/library/drmath/view/55417.html)","title":"How to display and get directions with A*","body":"<pre><code>public Node parent;\npublic Node north;\npublic Node south;\npublic Node east;\npublic Node west;\n\npublic enum Directions {\n    NORTH, SOUTH, EAST, WEST\n};\n</code></pre>\n<p>This seems just strange. I guess you wanted to do this:</p>\n<pre><code>public Node parent;\npublic Direction north;\npublic Direction south;\npublic Direction east;\npublic Direction west;\n\npublic enum Direction {\n    NORTH, SOUTH, EAST, WEST\n};\n</code></pre>\n<p>The whole thing confuses me a little, you never set the bearing. Nodes usually don't have a direction.\nIf you want the direction that the current avatar took from the last node to the current node. So its bearing basically.\nThis might help?\n<a href=\"https://web.archive.org/web/20171219235009/http://mathforum.org/library/drmath/view/55417.html\" rel=\"nofollow noreferrer\">Link</a></p>\n"}],"owner":{"account_id":5412190,"reputation":51,"user_id":4308573,"accept_rate":17,"display_name":"GeekUp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1470,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668799842,"creation_date":1423999930,"question_id":28525597,"body_markdown":"I have a Pathfinding algorithm which is working but the problem is that i can&#39;t get the directions on my main class. in other words every time i wan&#39;t to display the directions it output null values.\r\n\r\nhere&#39;s my code.\r\n\r\nAstar.java\r\n\r\n    package path;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    import path.Node.Directions;\r\n    import map.Area;\r\n    \r\n    public class Astar {\r\n    \t\r\n    \tpublic ArrayList&lt;Node&gt; open;\r\n    \tpublic ArrayList&lt;Node&gt; closed;\r\n    \tpublic Area area;\r\n    \tpublic Node start;\r\n    \tpublic Node finish;\r\n    \t\r\n    \tpublic Astar() {\r\n    \t\tthis.area = new Area(5, 5);\r\n    \t\tthis.start = new Node(1, 1, area);\r\n    \t\tthis.finish = new Node(4, 4, area);\r\n    \t\tthis.open = new ArrayList&lt;Node&gt;();\r\n    \t\tthis.closed = new ArrayList&lt;Node&gt;();\r\n    \t}\r\n    \t\r\n    \tpublic void calculate() {\r\n    \t\t\r\n    \t\tstart.distanceFromStart = 0;\r\n    \t\tclosed.clear();\r\n    \t\topen.clear();\r\n    \t\topen.add(start);\r\n    \t\tNode current = null;\r\n    \t\t\r\n    \t\twhile (open.size() != 0) {\r\n    \t\t\tcurrent = open.get(0);\r\n    \t\t\tif (current.equals(finish)) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\topen.remove(current);\r\n    \t\t\tclosed.add(current);\r\n    \t\t\tfor (Node n : current.getNeighborsList()) {\r\n    \t\t\t\tboolean neighborIsBetter;\r\n    \t\t\t\t\r\n    \t\t\t\tif (closed.contains(n))\r\n    \t\t\t\t\tcontinue;\r\n    \r\n    \t\t\t\tif (!n.isObstacle) {\r\n    \t\t\t\t\tdouble neighborDistanceFromStart = current.distanceFromStart + getDistanceBetween(current, n);\r\n    \t\t\t\t\tif (!open.contains(n)) {\r\n    \t\t\t\t\t\topen.add(n);\r\n    \t\t\t\t\t\tCollections.sort(open);\r\n    \t\t\t\t\t\tneighborIsBetter = true;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if (neighborDistanceFromStart &lt; current.distanceFromStart)\r\n    \t\t\t\t\t\tneighborIsBetter = true;\r\n    \t\t\t\t\telse\r\n    \t\t\t\t\t\tneighborIsBetter = false;\r\n    \t\t\t\t\tif (neighborIsBetter) {\r\n    \t\t\t\t\t\tn.parent = current;\r\n    \t\t\t\t\t\tsearchPath(current);\r\n    \t\t\t\t\t\tn.distanceFromStart = neighborDistanceFromStart;\r\n    \t\t\t\t\t\tn.heuristicDistanceFromGoal = getEstimatedDistanceToGoal(n, finish);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tSystem.out.println(&quot;Distance from start: &quot; + neighborDistanceFromStart);\r\n    \t\t\t\t}\r\n    \t\t\t\telse if(n.isObstacle){\r\n    \t\t\t\t\tclosed.add(n);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tif (current != null)\r\n    \t\t\treconstructPath(current);\r\n    \t}\r\n    \tpublic void searchPath(Node node){\r\n    \t\t\r\n    \t\tSystem.out.printf(&quot;\\nNode: (%d, %d)\\n&quot;, node.x, node.y);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void reconstructPath(Node node) {\r\n    \r\n    \t\twhile (!(node.parent == null)) {\r\n    \t\t\tSystem.out.printf(&quot;\\nNode: (%d, %d)\\n&quot;, node.x, node.y);\r\n    \t\t\tnode = node.parent;\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate double getDistanceBetween(Node n1, Node n2) {\r\n    \t\tif ((n1.x == n2.x) || (n1.y == n2.y))\r\n    \t\t\treturn 1;\r\n    \t\telse\r\n    \t\t\treturn 1.9;\r\n    \t}\r\n    \t\r\n    \tprivate double getEstimatedDistanceToGoal(Node start, Node finish) {\r\n    \t\t//Manhattan Calculation closest heuristic\r\n    \t\tdouble dx = start.x - finish.x;\r\n    \t\tdouble dy = start.y - finish.y;\r\n    \t\treturn dx + dy;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] a) {\r\n    \t\tAstar astar = new Astar();\r\n    \t\tastar.calculate();\r\n    \t\tSystem.out.println(&quot;End&quot;);\r\n    \t}\r\n    }\r\nNode.java\r\n\r\n    package path;\r\n    \r\n    import java.util.ArrayList;\r\n    import map.Area;\r\n    \r\n    public class Node implements Comparable&lt;Node&gt; {\r\n    \tpublic boolean isClosed;\r\n    \tpublic boolean isGoal;\r\n    \tpublic boolean isObstacle;\r\n    \tpublic boolean isVisited;\r\n    \tpublic boolean isStart;\r\n    \tpublic Node parent;\r\n    \tpublic Node north;\r\n    \tpublic Node south;\r\n    \tpublic Node east;\r\n    \tpublic Node west;\r\n    \t\r\n    \tpublic Area map;\r\n    \t\r\n    \tpublic int x;\r\n    \tpublic int y;\r\n    \t\r\n    \tpublic double heuristicDistanceFromGoal;\r\n    \tpublic double distanceFromStart;\r\n    \t\r\n    \tpublic enum Directions {\r\n    \t\tNORTH, SOUTH, EAST, WEST\r\n    \t};\r\n    \t\r\n    \tpublic Node(int x, int y, Area map) {\r\n    \t\tthis.x = x;\r\n    \t\tthis.y = y;\r\n    \t\tthis.isVisited = false;\r\n    \t\tthis.distanceFromStart = Integer.MAX_VALUE;\r\n    \t\tthis.isObstacle = false;\r\n    \t\tthis.isStart = false;\r\n    \t\tthis.isGoal = false;\r\n    \t\tthis.map = map;\r\n    \t}\r\n    \t\r\n    \tpublic boolean equals(Node node) {\r\n    \t\treturn (this.x == node.x) &amp;&amp; (this.y == node.y);\r\n    \t}\r\n    \t\r\n    \tpublic void setNode(Directions dir, Node node) {\r\n    \t\tNode temp = getDirectionalNode(dir);\r\n    \t\tArrayList&lt;Node&gt; list = this.getNeighborsList();\r\n    \t\tif (list.contains(temp))\r\n    \t\t\tlist.remove(temp);\r\n    \t\tlist.add(node);\r\n    \t\tsetDirectionalNode(dir, node);\r\n    \t}\r\n    \t\r\n    \tpublic Node getDirectionalNode(Directions dir) {\t\r\n    \t\tswitch (dir) {\r\n    \t\t\tcase NORTH:\r\n    \t\t\t\treturn north;\r\n    \t\t\tcase SOUTH:\r\n    \t\t\t\treturn south;\r\n    \t\t\tcase EAST:\r\n    \t\t\t\treturn east;\r\n    \t\t\tcase WEST:\r\n    \t\t\t\treturn west;\t\t\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tpublic void setDirectionalNode(Directions dir, Node node) {\t\r\n    \t\tswitch (dir) {\r\n    \t\t\tcase NORTH:\r\n    \t\t\t\tthis.north = node;\r\n    \t\t\tcase SOUTH:\r\n    \t\t\t\tthis.south = node;\r\n    \t\t\tcase EAST:\r\n    \t\t\t\tthis.east = node;\r\n    \t\t\tcase WEST:\r\n    \t\t\t\tthis.west = node;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic ArrayList&lt;Node&gt; getNeighborsList() {\r\n    \t\tArrayList&lt;Node&gt; neighborList = new ArrayList&lt;Node&gt;();\r\n    \t\t\r\n    \t\tif (!(y == (map.height + 1))) {\r\n    \t\t\tneighborList.add(map.getNode(x, y + 1));\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn neighborList;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int compareTo(Node other) {\r\n    \t\tdouble totalDistanceFromGoal = this.distanceFromStart - this.heuristicDistanceFromGoal;\r\n    \t\tdouble otherDistanceFromGoal = other.distanceFromStart - other.heuristicDistanceFromGoal;\r\n    \t\tif (totalDistanceFromGoal &lt; otherDistanceFromGoal)\r\n    \t\t\treturn -1;\r\n    \t\tif (otherDistanceFromGoal &gt; totalDistanceFromGoal)\r\n    \t\t\treturn 1;\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    }\r\n\r\nArea.java\r\n\r\n    package map;\r\n    \r\n    import java.util.ArrayList;\r\n    import path.Node;\r\n    \r\n    public class Area {\r\n    \tpublic int width;\r\n    \tpublic int height;\r\n    \tpublic ArrayList&lt;ArrayList&lt;Node&gt;&gt; map;\r\n    \t\r\n    \tpublic Area(int w, int h) {\r\n    \t\tthis.width = w;\r\n    \t\tthis.height = h;\r\n    \t\t\r\n    \t\tcreateMap();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic Node getNode(int x, int y) {\r\n    \t\treturn map.get(y).get(x);\r\n    \t}\r\n    \t\r\n    \tprivate void createMap() {\r\n    \t\tNode node;\r\n    \t\tmap = new ArrayList&lt;ArrayList&lt;Node&gt;&gt;();\r\n    \t\tfor (int y = 0; y &lt; height; y++) {\r\n    \t\t\tmap.add(new ArrayList&lt;Node&gt;());\r\n    \t\t\tfor (int x = 0; x &lt; width; x++) {\r\n    \t\t\t\tnode = new Node(x, y, this);\r\n    \t\t\t\tmap.get(y).add(node);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\noutput:\r\n\r\n    Traceback: (4, 4) Traceback: (4, 3) Traceback: (4, 2) \r\n    Traceback: (4, 1) Traceback: (3, 1)Traceback: (2, 1)\r\n\r\nProblem: No directions: I get null when i call node.north","title":"How to display and get directions with A*","body":"<p>I have a Pathfinding algorithm which is working but the problem is that i can't get the directions on my main class. in other words every time i wan't to display the directions it output null values.</p>\n\n<p>here's my code.</p>\n\n<p>Astar.java</p>\n\n<pre><code>package path;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\nimport path.Node.Directions;\nimport map.Area;\n\npublic class Astar {\n\n    public ArrayList&lt;Node&gt; open;\n    public ArrayList&lt;Node&gt; closed;\n    public Area area;\n    public Node start;\n    public Node finish;\n\n    public Astar() {\n        this.area = new Area(5, 5);\n        this.start = new Node(1, 1, area);\n        this.finish = new Node(4, 4, area);\n        this.open = new ArrayList&lt;Node&gt;();\n        this.closed = new ArrayList&lt;Node&gt;();\n    }\n\n    public void calculate() {\n\n        start.distanceFromStart = 0;\n        closed.clear();\n        open.clear();\n        open.add(start);\n        Node current = null;\n\n        while (open.size() != 0) {\n            current = open.get(0);\n            if (current.equals(finish)) {\n                break;\n            }\n            open.remove(current);\n            closed.add(current);\n            for (Node n : current.getNeighborsList()) {\n                boolean neighborIsBetter;\n\n                if (closed.contains(n))\n                    continue;\n\n                if (!n.isObstacle) {\n                    double neighborDistanceFromStart = current.distanceFromStart + getDistanceBetween(current, n);\n                    if (!open.contains(n)) {\n                        open.add(n);\n                        Collections.sort(open);\n                        neighborIsBetter = true;\n                    }\n                    else if (neighborDistanceFromStart &lt; current.distanceFromStart)\n                        neighborIsBetter = true;\n                    else\n                        neighborIsBetter = false;\n                    if (neighborIsBetter) {\n                        n.parent = current;\n                        searchPath(current);\n                        n.distanceFromStart = neighborDistanceFromStart;\n                        n.heuristicDistanceFromGoal = getEstimatedDistanceToGoal(n, finish);\n                    }\n                    System.out.println(\"Distance from start: \" + neighborDistanceFromStart);\n                }\n                else if(n.isObstacle){\n                    closed.add(n);\n                }\n\n            }\n\n        }\n        if (current != null)\n            reconstructPath(current);\n    }\n    public void searchPath(Node node){\n\n        System.out.printf(\"\\nNode: (%d, %d)\\n\", node.x, node.y);\n\n    }\n\n    public void reconstructPath(Node node) {\n\n        while (!(node.parent == null)) {\n            System.out.printf(\"\\nNode: (%d, %d)\\n\", node.x, node.y);\n            node = node.parent;\n\n        }\n    }\n\n    private double getDistanceBetween(Node n1, Node n2) {\n        if ((n1.x == n2.x) || (n1.y == n2.y))\n            return 1;\n        else\n            return 1.9;\n    }\n\n    private double getEstimatedDistanceToGoal(Node start, Node finish) {\n        //Manhattan Calculation closest heuristic\n        double dx = start.x - finish.x;\n        double dy = start.y - finish.y;\n        return dx + dy;\n\n    }\n\n    public static void main(String[] a) {\n        Astar astar = new Astar();\n        astar.calculate();\n        System.out.println(\"End\");\n    }\n}\n</code></pre>\n\n<p>Node.java</p>\n\n<pre><code>package path;\n\nimport java.util.ArrayList;\nimport map.Area;\n\npublic class Node implements Comparable&lt;Node&gt; {\n    public boolean isClosed;\n    public boolean isGoal;\n    public boolean isObstacle;\n    public boolean isVisited;\n    public boolean isStart;\n    public Node parent;\n    public Node north;\n    public Node south;\n    public Node east;\n    public Node west;\n\n    public Area map;\n\n    public int x;\n    public int y;\n\n    public double heuristicDistanceFromGoal;\n    public double distanceFromStart;\n\n    public enum Directions {\n        NORTH, SOUTH, EAST, WEST\n    };\n\n    public Node(int x, int y, Area map) {\n        this.x = x;\n        this.y = y;\n        this.isVisited = false;\n        this.distanceFromStart = Integer.MAX_VALUE;\n        this.isObstacle = false;\n        this.isStart = false;\n        this.isGoal = false;\n        this.map = map;\n    }\n\n    public boolean equals(Node node) {\n        return (this.x == node.x) &amp;&amp; (this.y == node.y);\n    }\n\n    public void setNode(Directions dir, Node node) {\n        Node temp = getDirectionalNode(dir);\n        ArrayList&lt;Node&gt; list = this.getNeighborsList();\n        if (list.contains(temp))\n            list.remove(temp);\n        list.add(node);\n        setDirectionalNode(dir, node);\n    }\n\n    public Node getDirectionalNode(Directions dir) {    \n        switch (dir) {\n            case NORTH:\n                return north;\n            case SOUTH:\n                return south;\n            case EAST:\n                return east;\n            case WEST:\n                return west;        \n        }\n        return null;\n    }\n\n    public void setDirectionalNode(Directions dir, Node node) { \n        switch (dir) {\n            case NORTH:\n                this.north = node;\n            case SOUTH:\n                this.south = node;\n            case EAST:\n                this.east = node;\n            case WEST:\n                this.west = node;\n        }\n    }\n\n    public ArrayList&lt;Node&gt; getNeighborsList() {\n        ArrayList&lt;Node&gt; neighborList = new ArrayList&lt;Node&gt;();\n\n        if (!(y == (map.height + 1))) {\n            neighborList.add(map.getNode(x, y + 1));\n        }\n\n        return neighborList;\n    }\n\n    @Override\n    public int compareTo(Node other) {\n        double totalDistanceFromGoal = this.distanceFromStart - this.heuristicDistanceFromGoal;\n        double otherDistanceFromGoal = other.distanceFromStart - other.heuristicDistanceFromGoal;\n        if (totalDistanceFromGoal &lt; otherDistanceFromGoal)\n            return -1;\n        if (otherDistanceFromGoal &gt; totalDistanceFromGoal)\n            return 1;\n        return 0;\n    }\n\n}\n</code></pre>\n\n<p>Area.java</p>\n\n<pre><code>package map;\n\nimport java.util.ArrayList;\nimport path.Node;\n\npublic class Area {\n    public int width;\n    public int height;\n    public ArrayList&lt;ArrayList&lt;Node&gt;&gt; map;\n\n    public Area(int w, int h) {\n        this.width = w;\n        this.height = h;\n\n        createMap();\n\n    }\n\n    public Node getNode(int x, int y) {\n        return map.get(y).get(x);\n    }\n\n    private void createMap() {\n        Node node;\n        map = new ArrayList&lt;ArrayList&lt;Node&gt;&gt;();\n        for (int y = 0; y &lt; height; y++) {\n            map.add(new ArrayList&lt;Node&gt;());\n            for (int x = 0; x &lt; width; x++) {\n                node = new Node(x, y, this);\n                map.get(y).add(node);\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Traceback: (4, 4) Traceback: (4, 3) Traceback: (4, 2) \nTraceback: (4, 1) Traceback: (3, 1)Traceback: (2, 1)\n</code></pre>\n\n<p>Problem: No directions: I get null when i call node.north</p>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668799459,"creation_date":1668798293,"answer_id":74494290,"question_id":74493810,"body_markdown":"This is a tricky one, since you are initializing and closing the `Scanner` in two separate places (implicitly). See a good explanation in this answer [here] (https://stackoverflow.com/questions/13042008/java-util-nosuchelementexception-scanner-reading-user-input) (Check the accepted answer). \r\n\r\nA brief excerpt from the answer below:\r\n\r\n&gt; ... in first method, it (closing the scanner) not only closes your scanner but closes your System.in input stream as well.\r\n\r\nOne way to handle this is to initialize the scanner in the main method and pass it as a parameter to the other methods. See the code below:\r\n\r\n\r\n\r\n    import java.util.*;\r\n\r\n    public class LinkedListDemo {\r\n\r\n    LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;();\r\n\r\n    static class Node {\r\n        int data = 0;\r\n        Node next = null;\r\n\r\n        Node(int data) {\r\n            this.data = data;\r\n        }\r\n\r\n        Node() {\r\n\r\n        }\r\n\r\n        Node(int data, Node next) {\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public void addGrp(Scanner sc) {\r\n\r\n        sc.nextLine(); // NOTE: Added to &#39;consume&#39; the new line character left over by sc.nextInt()\r\n        try {\r\n            System.out.println(&quot;Enter Group lead Name&quot;);\r\n            list.add(sc.nextLine());\r\n\r\n            // Use add() method to add\r\n            // elements into the LinkedList\r\n\r\n            System.out.println(&quot;Enter Student Name&quot;);\r\n            list.add(sc.nextLine());\r\n\r\n            System.out.println(&quot;Enter Student Name&quot;);\r\n            list.add(sc.nextLine());\r\n            System.out.println(&quot;Enter Student Name&quot;);\r\n            list.add(sc.nextLine());\r\n            System.out.println(&quot;Enter Student Name&quot;);\r\n            list.add(sc.nextLine());\r\n            System.out.println(&quot;Enter Student Name&quot;);\r\n            list.add(sc.nextLine());\r\n            System.out.println(&quot;Enter Student Name&quot;);\r\n            list.add(sc.nextLine());\r\n\r\n            // Displaying the LinkedList\r\n            System.out.println(&quot;The LinkedList: &quot;\r\n                    + list);\r\n            Scanner scn = new Scanner(System.in);\r\n            System.out.println(&quot;enter the name of your project group&quot;);\r\n            String groupname = scn.nextLine();\r\n            System.out.print(&quot;Project group names is : &quot; + groupname + &quot; and Members are &quot;);\r\n            for (String elements : list)\r\n                System.out.print(elements + &quot; &quot;);\r\n            // Creating the array and using toArray()\r\n            String[] arr = new String[7];\r\n            list.toArray(arr);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    //Print all elements of the Array\r\n    public void display() {\r\n\r\n\r\n    }\r\n\r\n    public static void main(String arg[]) {\r\n        LinkedListDemo ll = new LinkedListDemo();\r\n        // Creating an empty LinkedListLinearLinkedList obj= new LinearLinkedList();\r\n\r\n        int ch;\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        do {\r\n            System.out.println(&quot;\\n1.addGrp\\n2.display\\n0.Exit&quot;);\r\n            ch = sc.nextInt();\r\n            switch (ch) {\r\n                case 1:\r\n                    ll.addGrp(sc);\r\n                    break;\r\n                case 2:\r\n                    ll.display();\r\n                    break;\r\n            }\r\n\r\n        } while (ch != 0);\r\n\r\n        sc.close();\r\n\r\n    }\r\n\r\n    }\r\n\r\nAlso note the use of `sc.nextLine()` in the `addGrp` method - it is added to consume the extraneous new-line character left over by `nextInt()`. (There are other ways to handle this - see [here](https://archie94.github.io/blogs/skip-newline-while-reading-from-scanner-class))\r\n\r\nHope this helps","title":"Getting Error Regarding Exception in thread &quot;main&quot; java.util.NoSuchElementException","body":"<p>This is a tricky one, since you are initializing and closing the <code>Scanner</code> in two separate places (implicitly). See a good explanation in this answer [here] (<a href=\"https://stackoverflow.com/questions/13042008/java-util-nosuchelementexception-scanner-reading-user-input\">java.util.NoSuchElementException - Scanner reading user input</a>) (Check the accepted answer).</p>\n<p>A brief excerpt from the answer below:</p>\n<blockquote>\n<p>... in first method, it (closing the scanner) not only closes your scanner but closes your System.in input stream as well.</p>\n</blockquote>\n<p>One way to handle this is to initialize the scanner in the main method and pass it as a parameter to the other methods. See the code below:</p>\n<pre><code>import java.util.*;\n\npublic class LinkedListDemo {\n\nLinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;();\n\nstatic class Node {\n    int data = 0;\n    Node next = null;\n\n    Node(int data) {\n        this.data = data;\n    }\n\n    Node() {\n\n    }\n\n    Node(int data, Node next) {\n        this.data = data;\n        this.next = next;\n    }\n\n}\n\n\npublic void addGrp(Scanner sc) {\n\n    sc.nextLine(); // NOTE: Added to 'consume' the new line character left over by sc.nextInt()\n    try {\n        System.out.println(&quot;Enter Group lead Name&quot;);\n        list.add(sc.nextLine());\n\n        // Use add() method to add\n        // elements into the LinkedList\n\n        System.out.println(&quot;Enter Student Name&quot;);\n        list.add(sc.nextLine());\n\n        System.out.println(&quot;Enter Student Name&quot;);\n        list.add(sc.nextLine());\n        System.out.println(&quot;Enter Student Name&quot;);\n        list.add(sc.nextLine());\n        System.out.println(&quot;Enter Student Name&quot;);\n        list.add(sc.nextLine());\n        System.out.println(&quot;Enter Student Name&quot;);\n        list.add(sc.nextLine());\n        System.out.println(&quot;Enter Student Name&quot;);\n        list.add(sc.nextLine());\n\n        // Displaying the LinkedList\n        System.out.println(&quot;The LinkedList: &quot;\n                + list);\n        Scanner scn = new Scanner(System.in);\n        System.out.println(&quot;enter the name of your project group&quot;);\n        String groupname = scn.nextLine();\n        System.out.print(&quot;Project group names is : &quot; + groupname + &quot; and Members are &quot;);\n        for (String elements : list)\n            System.out.print(elements + &quot; &quot;);\n        // Creating the array and using toArray()\n        String[] arr = new String[7];\n        list.toArray(arr);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n//Print all elements of the Array\npublic void display() {\n\n\n}\n\npublic static void main(String arg[]) {\n    LinkedListDemo ll = new LinkedListDemo();\n    // Creating an empty LinkedListLinearLinkedList obj= new LinearLinkedList();\n\n    int ch;\n    Scanner sc = new Scanner(System.in);\n\n    do {\n        System.out.println(&quot;\\n1.addGrp\\n2.display\\n0.Exit&quot;);\n        ch = sc.nextInt();\n        switch (ch) {\n            case 1:\n                ll.addGrp(sc);\n                break;\n            case 2:\n                ll.display();\n                break;\n        }\n\n    } while (ch != 0);\n\n    sc.close();\n\n}\n\n}\n</code></pre>\n<p>Also note the use of <code>sc.nextLine()</code> in the <code>addGrp</code> method - it is added to consume the extraneous new-line character left over by <code>nextInt()</code>. (There are other ways to handle this - see <a href=\"https://archie94.github.io/blogs/skip-newline-while-reading-from-scanner-class\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":26977128,"reputation":1,"user_id":20542119,"display_name":"Kochi_20_Gaurav Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668799459,"creation_date":1668795207,"question_id":74493810,"body_markdown":"This is my program in which i am trying to generate menu driven program \r\n\r\nprogram\r\n\r\n\r\n```\r\n\r\nimport java.util.*;\r\n\r\npublic class LinkedListDemo {\r\n\t\t\t\r\n\tLinkedList&lt;String&gt; list\t= new LinkedList&lt;String&gt;();\r\n\t\t\r\n\t\t\tstatic class Node\r\n\t\t\t{\r\n\t\t\t\tint data=0;\r\n\t\t\t\tNode next=null;\r\n\t\t\t\t\r\n\t\t\t\tNode(int data)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.data=data;\r\n\t\t\t\t}\r\n\t\t\t\tNode()\r\n\t\t\t\t{\r\n\r\n\t\t\t\t}\r\n\t\t\t\tNode(int data, Node next)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.data=data;\r\n\t\t\t\t\tthis.next=next;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t        \r\n\t\t       public void addGrp() {\r\n\t\t        \t \r\n\t\t        \r\n\t\t        try (Scanner sc = new Scanner(System.in)) \r\n\t\t        {\r\n\t\t\t\t\tSystem.out.println(&quot;Enter Group lead Name&quot;);\r\n\t\t\t\t\tlist.add(sc.nextLine());\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Use add() method to add\r\n\t\t\t\t\t// elements into the LinkedList\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Enter Student Name&quot;);\r\n\t\t\t\t\tlist.add(sc.nextLine());\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Enter Student Name&quot;);\r\n\t\t\t\t\tlist.add(sc.nextLine());\r\n\t\t\t\t\tSystem.out.println(&quot;Enter Student Name&quot;);\r\n\t\t\t\t\tlist.add(sc.nextLine());\r\n\t\t\t\t\tSystem.out.println(&quot;Enter Student Name&quot;);\r\n\t\t\t\t\tlist.add(sc.nextLine());\r\n\t\t\t\t\tSystem.out.println(&quot;Enter Student Name&quot;);\r\n\t\t\t\t\tlist.add(sc.nextLine());\r\n\t\t\t\t\tSystem.out.println(&quot;Enter Student Name&quot;);\r\n\t\t\t\t\tlist.add(sc.nextLine());\t\t\t\r\n\t\t\t\t\t\r\n\t\t        // Displaying the LinkedList\r\n\t\t\t\t\tSystem.out.println(&quot;The LinkedList: &quot;\r\n\t\t                        + list);\r\n\t\t\t\t\tScanner scn=new Scanner(System.in);\r\n\t\t        \tSystem.out.println(&quot;enter the name of your project group&quot;);\r\n\t\t        \tString groupname=scn.nextLine();\t\r\n\t\t        \tSystem.out.print(&quot;Project group names is : &quot;+groupname+ &quot; and Members are &quot;);\r\n\t\t        \tfor(String elements:list)\r\n\t\t        \tSystem.out.print(elements+&quot; &quot;);\r\n\t\t        // Creating the array and using toArray()\r\n\t\t        \tString[] arr = new String[7];\r\n\t\t        \tlist.toArray(arr);\r\n\t\t        }catch(Exception e) {\r\n\t\t        \te.printStackTrace();\r\n\t\t        }\r\n\t\t        }\r\n\t\t        //Print all elements of the Array\r\n\t\t       public void display() {\r\n\t\t        \t\r\n\t        \t\t\r\n\t\t        \t\r\n\t\t        \r\n\t\t        \t}\r\n\t\t       public static void main(String arg[])\r\n\t\t\t\t{\r\n\t\t\t\t\tLinkedListDemo ll=new LinkedListDemo();\r\n\t\t        // Creating an empty LinkedListLinearLinkedList obj= new LinearLinkedList();\r\n\t\t\t\t\tScanner sc=new Scanner(System.in);\r\n\t\t\t\t\tint ch;\r\n\t\t\t\t\t\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tSystem.out.println(&quot;\\n1.addGrp\\n2.display\\n0.Exit&quot;);\r\n\t\t\t\t\t\tch=sc.nextInt();\r\n\t\t\t\t\t\tswitch(ch)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tll.addGrp();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\tll.display();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}while(ch!=0);\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t}\r\n\t\t        \r\n\t\t        }\r\n```\r\n\r\n\r\n\r\n\r\n\r\nerror:\r\n```\r\n\r\n1.addGrp\r\n2.display\r\n0.Exit\r\n1\r\nEnter Group lead Name\r\na\r\nEnter Student Name\r\na\r\nEnter Student Name\r\na\r\nEnter Student Name\r\na\r\nEnter Student Name\r\na\r\nEnter Student Name\r\na\r\nEnter Student Name\r\na\r\nThe LinkedList: [a, a, a, a, a, a, a]\r\nenter the name of your project group\r\na\r\nProject group names is : a and Members are a a a a a a a \r\n1.addGrp\r\n2.display\r\n0.Exit\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n\tat LinkedListDemo.main(LinkedListDemo.java:87)\r\n\r\n```\r\n\r\n\r\nerror:\r\n```\r\n\r\n1.addGrp\r\n2.display\r\n0.Exit\r\n1\r\nEnter Group lead Name\r\na\r\nEnter Student Name\r\na\r\nEnter Student Name\r\na\r\nEnter Student Name\r\na\r\nEnter Student Name\r\na\r\nEnter Student Name\r\na\r\nEnter Student Name\r\na\r\nThe LinkedList: [a, a, a, a, a, a, a]\r\nenter the name of your project group\r\na\r\nProject group names is : a and Members are a a a a a a a \r\n1.addGrp\r\n2.display\r\n0.Exit\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n\tat LinkedListDemo.main(LinkedListDemo.java:87)\r\n\r\n```\r\nprogram is running but not giving me desired output and has this errors i have created two methods one is display method and another is inserting elements and i want to insert student data into array and want store that array as an object into linkedlist so tell me how to solve this error","title":"Getting Error Regarding Exception in thread &quot;main&quot; java.util.NoSuchElementException","body":"<p>This is my program in which i am trying to generate menu driven program</p>\n<p>program</p>\n<pre><code>\nimport java.util.*;\n\npublic class LinkedListDemo {\n            \n    LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;();\n        \n            static class Node\n            {\n                int data=0;\n                Node next=null;\n                \n                Node(int data)\n                {\n                    this.data=data;\n                }\n                Node()\n                {\n\n                }\n                Node(int data, Node next)\n                {\n                    this.data=data;\n                    this.next=next;\n                }\n\n            }\n                \n                \n               public void addGrp() {\n                     \n                \n                try (Scanner sc = new Scanner(System.in)) \n                {\n                    System.out.println(&quot;Enter Group lead Name&quot;);\n                    list.add(sc.nextLine());\n                    \n                    // Use add() method to add\n                    // elements into the LinkedList\n                    \n                    System.out.println(&quot;Enter Student Name&quot;);\n                    list.add(sc.nextLine());\n                    \n                    System.out.println(&quot;Enter Student Name&quot;);\n                    list.add(sc.nextLine());\n                    System.out.println(&quot;Enter Student Name&quot;);\n                    list.add(sc.nextLine());\n                    System.out.println(&quot;Enter Student Name&quot;);\n                    list.add(sc.nextLine());\n                    System.out.println(&quot;Enter Student Name&quot;);\n                    list.add(sc.nextLine());\n                    System.out.println(&quot;Enter Student Name&quot;);\n                    list.add(sc.nextLine());            \n                    \n                // Displaying the LinkedList\n                    System.out.println(&quot;The LinkedList: &quot;\n                                + list);\n                    Scanner scn=new Scanner(System.in);\n                    System.out.println(&quot;enter the name of your project group&quot;);\n                    String groupname=scn.nextLine();    \n                    System.out.print(&quot;Project group names is : &quot;+groupname+ &quot; and Members are &quot;);\n                    for(String elements:list)\n                    System.out.print(elements+&quot; &quot;);\n                // Creating the array and using toArray()\n                    String[] arr = new String[7];\n                    list.toArray(arr);\n                }catch(Exception e) {\n                    e.printStackTrace();\n                }\n                }\n                //Print all elements of the Array\n               public void display() {\n                    \n                    \n                    \n                \n                    }\n               public static void main(String arg[])\n                {\n                    LinkedListDemo ll=new LinkedListDemo();\n                // Creating an empty LinkedListLinearLinkedList obj= new LinearLinkedList();\n                    Scanner sc=new Scanner(System.in);\n                    int ch;\n                    \n                    do {\n                        System.out.println(&quot;\\n1.addGrp\\n2.display\\n0.Exit&quot;);\n                        ch=sc.nextInt();\n                        switch(ch)\n                        {\n                        case 1:\n                            ll.addGrp();\n                            break;\n                        case 2:\n                            ll.display();\n                            break;\n                        }\n                        \n                    }while(ch!=0);\n                        \n\n                }\n                \n                }\n</code></pre>\n<p>error:</p>\n<pre><code>\n1.addGrp\n2.display\n0.Exit\n1\nEnter Group lead Name\na\nEnter Student Name\na\nEnter Student Name\na\nEnter Student Name\na\nEnter Student Name\na\nEnter Student Name\na\nEnter Student Name\na\nThe LinkedList: [a, a, a, a, a, a, a]\nenter the name of your project group\na\nProject group names is : a and Members are a a a a a a a \n1.addGrp\n2.display\n0.Exit\nException in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n    at LinkedListDemo.main(LinkedListDemo.java:87)\n\n</code></pre>\n<p>error:</p>\n<pre><code>\n1.addGrp\n2.display\n0.Exit\n1\nEnter Group lead Name\na\nEnter Student Name\na\nEnter Student Name\na\nEnter Student Name\na\nEnter Student Name\na\nEnter Student Name\na\nEnter Student Name\na\nThe LinkedList: [a, a, a, a, a, a, a]\nenter the name of your project group\na\nProject group names is : a and Members are a a a a a a a \n1.addGrp\n2.display\n0.Exit\nException in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n    at LinkedListDemo.main(LinkedListDemo.java:87)\n\n</code></pre>\n<p>program is running but not giving me desired output and has this errors i have created two methods one is display method and another is inserting elements and i want to insert student data into array and want store that array as an object into linkedlist so tell me how to solve this error</p>\n"},{"tags":["java","swing","jbutton","imageicon"],"comments":[{"owner":{"account_id":1196838,"reputation":6753,"user_id":1168372,"accept_rate":79,"display_name":"Sujay"},"score":0,"creation_date":1351663059,"post_id":13151979,"comment_id":17891953,"body_markdown":"The issue is with `getClass().getResource(&quot;/project/print.gif&quot;))`. I bet that the image that you&#39;re searching for cannot be found at the location that you&#39;re trying to point.","body":"The issue is with <code>getClass().getResource(&quot;&#47;project&#47;print.gif&quot;))</code>. I bet that the image that you&#39;re searching for cannot be found at the location that you&#39;re trying to point."},{"owner":{"account_id":1994308,"reputation":103,"user_id":1787568,"display_name":"VenuMadhava"},"score":1,"creation_date":1351663500,"post_id":13151979,"comment_id":17892062,"body_markdown":"Print.gif image is located in /project/print.gif and the error is same as above.","body":"Print.gif image is located in /project/print.gif and the error is same as above."},{"owner":{"account_id":1421913,"reputation":11238,"user_id":1346369,"accept_rate":57,"display_name":"vels4j"},"score":2,"creation_date":1351663597,"post_id":13151979,"comment_id":17892078,"body_markdown":"your resource getClass().getResource(&quot;/project/print.gif&quot;) may be null pl check","body":"your resource getClass().getResource(&quot;/project/print.gif&quot;) may be null pl check"},{"owner":{"account_id":1994308,"reputation":103,"user_id":1787568,"display_name":"VenuMadhava"},"score":0,"creation_date":1351663709,"post_id":13151979,"comment_id":17892108,"body_markdown":"Steps for checking getClass().getResource(&quot;/project/print.gif&quot;).","body":"Steps for checking getClass().getResource(&quot;/project/print.gif&quot;)."},{"owner":{"account_id":1421913,"reputation":11238,"user_id":1346369,"accept_rate":57,"display_name":"vels4j"},"score":0,"creation_date":1351663763,"post_id":13151979,"comment_id":17892122,"body_markdown":"what is getClass method ? it should be YourClassName.this.getClass()","body":"what is getClass method ? it should be YourClassName.this.getClass()"}],"answers":[{"comments":[{"owner":{"account_id":5196252,"reputation":167,"user_id":4157440,"display_name":"David Mendez"},"score":0,"creation_date":1625056722,"post_id":13152312,"comment_id":120525110,"body_markdown":"How can you change the path when is Netabeans Designer generated code?","body":"How can you change the path when is Netabeans Designer generated code?"}],"tags":[],"owner":{"account_id":1196838,"reputation":6753,"user_id":1168372,"accept_rate":79,"display_name":"Sujay"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1351664454,"creation_date":1351664454,"answer_id":13152312,"question_id":13151979,"body_markdown":"The reason that you get a NullPointerException is because for some reason the image file that you&#39;re trying to specify cannot be located. So the `getResource()` method returns a null. \r\n\r\nAs a start, you can read about adding icons in this link: [&quot;How to Use Icons&quot;][1]\r\n\r\nOne of the ways that they suggest is by creating a method: \r\n\r\n    /** Returns an ImageIcon, or null if the path was invalid. */\r\n    protected ImageIcon createImageIcon(String path,\r\n                                               String description) {\r\n        java.net.URL imgURL = getClass().getResource(path);\r\n        if (imgURL != null) {\r\n            return new ImageIcon(imgURL, description);\r\n        } else {\r\n            System.err.println(&quot;Couldn&#39;t find file: &quot; + path);\r\n            return null;\r\n        }\r\n    }\r\n\r\nThe advantage of having this method, *apart from being a utility method that you can use multiple times whenever you want to add an icon*, is that it also shows you the error in case the image could not be located at the path specified.\r\n\r\nI strongly suspect that this has to do with the path that you&#39;ve provided. It would be good to look at the folder structure. Try passing the path as &quot;project/print.gif&quot;\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html","title":"Null pointer exception when an ImageIcon is added to jbutton in NetBeans","body":"<p>The reason that you get a NullPointerException is because for some reason the image file that you're trying to specify cannot be located. So the <code>getResource()</code> method returns a null. </p>\n\n<p>As a start, you can read about adding icons in this link: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html\" rel=\"noreferrer\">\"How to Use Icons\"</a></p>\n\n<p>One of the ways that they suggest is by creating a method: </p>\n\n<pre><code>/** Returns an ImageIcon, or null if the path was invalid. */\nprotected ImageIcon createImageIcon(String path,\n                                           String description) {\n    java.net.URL imgURL = getClass().getResource(path);\n    if (imgURL != null) {\n        return new ImageIcon(imgURL, description);\n    } else {\n        System.err.println(\"Couldn't find file: \" + path);\n        return null;\n    }\n}\n</code></pre>\n\n<p>The advantage of having this method, <em>apart from being a utility method that you can use multiple times whenever you want to add an icon</em>, is that it also shows you the error in case the image could not be located at the path specified.</p>\n\n<p>I strongly suspect that this has to do with the path that you've provided. It would be good to look at the folder structure. Try passing the path as \"project/print.gif\"</p>\n"},{"tags":[],"owner":{"account_id":9132992,"reputation":191,"user_id":7016109,"display_name":"Seyit Bilal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508353695,"creation_date":1508341929,"answer_id":46814317,"question_id":13151979,"body_markdown":"The expression `getClass().getResource(&quot;/project/print.gif&quot;)` invokes method getClass (inherited indirectly from class Object ) to retrieve a reference to the Class object that represents the &quot;Editor class&quot; (your class) declaration. That reference is then used to invoke Class method getResource, which returns the location of the image as a URL. The ImageIcon constructor uses the URL to locate the image, then loads it into memory. The JVM loads class declarations into memory, using a class loader. The class loader knows where each class it loads is located on disk. Method getResource uses the Class object’s class loader to determine the location of a resource, such as an image file. Therefore, you get a NullPointerException and, the image file must be stored in the same location as the &quot;Editor.class&quot; file. The techniques that you tried to use here enable an application to load image files from locations that are relative to the class file’s location\r\n\r\nBecause of that, you should move &quot;print.gif&quot; file to &quot;/projectName/bin/packageName&quot; folder and try \r\n\r\n`print.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;print.gif&quot;)));` \r\n\r\ninstead of \r\n\r\n`print.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/project/print.gif&quot;)));`","title":"Null pointer exception when an ImageIcon is added to jbutton in NetBeans","body":"<p>The expression <code>getClass().getResource(\"/project/print.gif\")</code> invokes method getClass (inherited indirectly from class Object ) to retrieve a reference to the Class object that represents the \"Editor class\" (your class) declaration. That reference is then used to invoke Class method getResource, which returns the location of the image as a URL. The ImageIcon constructor uses the URL to locate the image, then loads it into memory. The JVM loads class declarations into memory, using a class loader. The class loader knows where each class it loads is located on disk. Method getResource uses the Class object’s class loader to determine the location of a resource, such as an image file. Therefore, you get a NullPointerException and, the image file must be stored in the same location as the \"Editor.class\" file. The techniques that you tried to use here enable an application to load image files from locations that are relative to the class file’s location</p>\n\n<p>Because of that, you should move \"print.gif\" file to \"/projectName/bin/packageName\" folder and try </p>\n\n<p><code>print.setIcon(new javax.swing.ImageIcon(getClass().getResource(\"print.gif\")));</code> </p>\n\n<p>instead of </p>\n\n<p><code>print.setIcon(new javax.swing.ImageIcon(getClass().getResource(\"/project/print.gif\")));</code></p>\n"},{"tags":[],"owner":{"account_id":17164813,"reputation":53,"user_id":12423409,"display_name":"Mudassar Malik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606496754,"creation_date":1606496754,"answer_id":65041170,"question_id":13151979,"body_markdown":"It is due to the reason that the image file is not located in the specified directory. You may have mistyped the name somehow or the name was changed.","title":"Null pointer exception when an ImageIcon is added to jbutton in NetBeans","body":"<p>It is due to the reason that the image file is not located in the specified directory. You may have mistyped the name somehow or the name was changed.</p>\n"},{"tags":[],"owner":{"account_id":21772445,"reputation":19,"user_id":16075380,"display_name":"blackboardcoder"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1622368823,"creation_date":1622368823,"answer_id":67759894,"question_id":13151979,"body_markdown":"SOLUTION:\r\n        You need to add Images Folder in resources\r\nStructure be like this\r\n                    src/main/resources/Images/youricon.jpg [Check this image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ryBB2.jpg","title":"Null pointer exception when an ImageIcon is added to jbutton in NetBeans","body":"<p>SOLUTION:\nYou need to add Images Folder in resources\nStructure be like this\nsrc/main/resources/Images/youricon.jpg <a href=\"https://i.stack.imgur.com/ryBB2.jpg\" rel=\"nofollow noreferrer\">Check this image</a></p>\n"},{"tags":[],"owner":{"account_id":25928210,"reputation":1,"user_id":19649767,"display_name":"KMunyede"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668799267,"creation_date":1668799267,"answer_id":74494420,"question_id":13151979,"body_markdown":"After much struggling, this worked for me (still Novice)\r\n\r\n1. Create package for images\r\n2. Import the package in your JFrame(s), Control(s), etc where the images are required\r\n\r\nas in the screenshot [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DS522.png","title":"Null pointer exception when an ImageIcon is added to jbutton in NetBeans","body":"<p>After much struggling, this worked for me (still Novice)</p>\n<ol>\n<li>Create package for images</li>\n<li>Import the package in your JFrame(s), Control(s), etc where the images are required</li>\n</ol>\n<p>as in the screenshot <a href=\"https://i.stack.imgur.com/DS522.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":1994308,"reputation":103,"user_id":1787568,"display_name":"VenuMadhava"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26212,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":13152312,"answer_count":5,"score":10,"last_activity_date":1668799267,"creation_date":1351662719,"question_id":13151979,"body_markdown":"An ImageIcon is added to button properties using NetBeans.\r\n\r\n        print.setFont(new java.awt.Font(&quot;Serif&quot;, 0, 14)); \r\n        print.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/project/print.gif&quot;))); \r\n        print.setMnemonic(&#39;P&#39;);\r\n        print.setText(&quot;Print&quot;);\r\n        print.setToolTipText(&quot;Print&quot;);\r\n\r\nAnd when compiled it shows         \r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n        at javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:205)\r\n        at project.Editor.initComponents(Editor.java:296)\r\n\r\nWhat am I doing wrong?","title":"Null pointer exception when an ImageIcon is added to jbutton in NetBeans","body":"<p>An ImageIcon is added to button properties using NetBeans.</p>\n\n<pre><code>    print.setFont(new java.awt.Font(\"Serif\", 0, 14)); \n    print.setIcon(new javax.swing.ImageIcon(getClass().getResource(\"/project/print.gif\"))); \n    print.setMnemonic('P');\n    print.setText(\"Print\");\n    print.setToolTipText(\"Print\");\n</code></pre>\n\n<p>And when compiled it shows         </p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.NullPointerException\n    at javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:205)\n    at project.Editor.initComponents(Editor.java:296)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","java-stream","method-reference"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1668803344,"post_id":74494309,"comment_id":131503157,"body_markdown":"You can make it less repetitive, but it will be much less compact.  You have the shortest code that will do the job already; trying to do it with a single stream will make it _much_ more complicated.","body":"You can make it less repetitive, but it will be much less compact.  You have the shortest code that will do the job already; trying to do it with a single stream will make it <i>much</i> more complicated."}],"answers":[{"tags":[],"owner":{"account_id":4034639,"reputation":985,"user_id":3319557,"accept_rate":100,"display_name":"mlecz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668799053,"creation_date":1668799053,"answer_id":74494390,"question_id":74494309,"body_markdown":"I suggest extracting it to method like:\r\n\r\n    batchPrice1 = sum(CommodityItem::getTotalPrice1);\r\n    batchPrice2 = sum(CommodityItem::getTotalPrice2);\r\n    batchPrice3 = sum(CommodityItem::getTotalPrice3);\r\n    \r\n    private BigDecimal sum(Function&lt;CommidityItem, BigDecimal&gt; mapper){\r\n      return items.stream()\r\n                       .map(mapper)\r\n                       .reduce(ZERO, BigDecimal::add);\r\n    }\r\n\r\nOr if you want just one iteration, it can be achieved by\r\n\r\n    YouNameIt accumulator = new YouNameIt();\r\n    items.forEach(item-&gt; accumulator.accumulate(item));\r\n    \r\n    class YouNameIt{\r\n    \tBigDecimal batchPrice1;//getters\r\n    \tBigDecimal batchPrice2;\r\n    \tBigDecimal batchPrice3;\r\n    \r\n    \tvoid accumulate(CommodityItem item){\r\n    \t\tbatchPrice1 += item.getTotalPrice1();\r\n    \t\tbatchPrice2+= item.getTotalPrice2();\r\n    \t\tbatchPrice3+= item.getTotalPrice2();\r\n    \t}\r\n    }","title":"Make multiple Java streams assign values more compact","body":"<p>I suggest extracting it to method like:</p>\n<pre><code>batchPrice1 = sum(CommodityItem::getTotalPrice1);\nbatchPrice2 = sum(CommodityItem::getTotalPrice2);\nbatchPrice3 = sum(CommodityItem::getTotalPrice3);\n\nprivate BigDecimal sum(Function&lt;CommidityItem, BigDecimal&gt; mapper){\n  return items.stream()\n                   .map(mapper)\n                   .reduce(ZERO, BigDecimal::add);\n}\n</code></pre>\n<p>Or if you want just one iteration, it can be achieved by</p>\n<pre><code>YouNameIt accumulator = new YouNameIt();\nitems.forEach(item-&gt; accumulator.accumulate(item));\n\nclass YouNameIt{\n    BigDecimal batchPrice1;//getters\n    BigDecimal batchPrice2;\n    BigDecimal batchPrice3;\n\n    void accumulate(CommodityItem item){\n        batchPrice1 += item.getTotalPrice1();\n        batchPrice2+= item.getTotalPrice2();\n        batchPrice3+= item.getTotalPrice2();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11490810,"reputation":3,"user_id":11451310,"display_name":"Володимир"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668799389,"accepted_answer_id":74494390,"answer_count":1,"score":0,"last_activity_date":1668799053,"creation_date":1668798483,"question_id":74494309,"body_markdown":"I have similar lines of code\r\n\r\n```\r\nbatchPrice1 = items.stream()\r\n                   .map(CommodityItem::getTotalPrice1)\r\n                   .reduce(ZERO, BigDecimal::add);\r\nbatchPrice2 = items.stream()\r\n                   .map(CommodityItem::getTotalPrice2)\r\n                   .reduce(ZERO, BigDecimal::add);\r\nbatchPrice3 = items.stream()\r\n                   .map(CommodityItem::getTotalPrice3)\r\n                   .reduce(ZERO, BigDecimal::add);\r\n```\r\n\r\nCan I make it more compact and less repetetive?\r\n\r\nI want a single stream that do the job","title":"Make multiple Java streams assign values more compact","body":"<p>I have similar lines of code</p>\n<pre><code>batchPrice1 = items.stream()\n                   .map(CommodityItem::getTotalPrice1)\n                   .reduce(ZERO, BigDecimal::add);\nbatchPrice2 = items.stream()\n                   .map(CommodityItem::getTotalPrice2)\n                   .reduce(ZERO, BigDecimal::add);\nbatchPrice3 = items.stream()\n                   .map(CommodityItem::getTotalPrice3)\n                   .reduce(ZERO, BigDecimal::add);\n</code></pre>\n<p>Can I make it more compact and less repetetive?</p>\n<p>I want a single stream that do the job</p>\n"},{"tags":["java","java-stream","java-16","mapmulti"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1668691865,"post_id":74476209,"comment_id":131471124,"body_markdown":"This has nothing to do with `mapMulti`. Why do you expect that `Stream.generate(() -&gt; 1).forEach(consumer)` will ever terminate?","body":"This has nothing to do with <code>mapMulti</code>. Why do you expect that <code>Stream.generate(() -&gt; 1).forEach(consumer)</code> will ever terminate?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1668692165,"post_id":74476209,"comment_id":131471255,"body_markdown":"@Lino Sure. It doesn&#39;t. My point of this exercise is comparing behaviour of `mapMulti` and `flatMap`. It wouldn&#39;t terminate when used in a `flatMap` as well. But using flatMap, the stream pipeline is able to terminate based on the other *short-circuiting* operators (like limit or findFirst)","body":"@Lino Sure. It doesn&#39;t. My point of this exercise is comparing behaviour of <code>mapMulti</code> and <code>flatMap</code>. It wouldn&#39;t terminate when used in a <code>flatMap</code> as well. But using flatMap, the stream pipeline is able to terminate based on the other <i>short-circuiting</i> operators (like limit or findFirst)"}],"answers":[{"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1668692411,"post_id":74476420,"comment_id":131471359,"body_markdown":"This makes sense. So, semantically they are different.","body":"This makes sense. So, semantically they are different."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1668693032,"post_id":74476420,"comment_id":131471636,"body_markdown":"flatMap had this [bug](https://stackoverflow.com/a/29230939) initially when it wasn&#39;t lazy. I got curious if mapMulti also has the same bug. Understood the differences between them.","body":"flatMap had this <a href=\"https://stackoverflow.com/a/29230939\">bug</a> initially when it wasn&#39;t lazy. I got curious if mapMulti also has the same bug. Understood the differences between them."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1668693079,"post_id":74476420,"comment_id":131471664,"body_markdown":"@user7 These operations have similar purpose but act differently (otherwise there would be no point in introducing `mapMulti`). They both have pros and cons. `mapMulty()` can give a performance gain in certain circumstances (see the quote and link in the answer), but if you need to generate a new stream internally, it defeats the purpose of using `mapMulti`. It can&#39;t save you from overheads of creating a new stream when you&#39;re generating it for some purpose, in such cases go with a `flatMap()`. And consider `flatMap()` as a general purpose operation, `mapMulti()` as a special purpose operation","body":"@user7 These operations have similar purpose but act differently (otherwise there would be no point in introducing <code>mapMulti</code>). They both have pros and cons. <code>mapMulty()</code> can give a performance gain in certain circumstances (see the quote and link in the answer), but if you need to generate a new stream internally, it defeats the purpose of using <code>mapMulti</code>. It can&#39;t save you from overheads of creating a new stream when you&#39;re generating it for some purpose, in such cases go with a <code>flatMap()</code>. And consider <code>flatMap()</code> as a general purpose operation, <code>mapMulti()</code> as a special purpose operation"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668694398,"post_id":74476420,"comment_id":131472222,"body_markdown":"@user7 Combination `mapMulti(). some-opeations .findFirst()` would trigger all stateless operation in between (like `map`, `filter`), to be executed. So it&#39;s not lazy, but intuitively it&#39;s expected to be. For now, not sure should we call it a bug.","body":"@user7 Combination <code>mapMulti(). some-opeations .findFirst()</code> would trigger all stateless operation in between (like <code>map</code>, <code>filter</code>), to be executed. So it&#39;s not lazy, but intuitively it&#39;s expected to be. For now, not sure should we call it a bug."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1668711454,"post_id":74476420,"comment_id":131478788,"body_markdown":"You don’t have to consume the stream if you have a stream inside the `mapMulti`, e.g. `Stream.of(&quot;&quot;).mapMulti((o, c) -&gt; Stream.of(&quot;ignored&quot;)).findAny();` works fine. What matters, and that’s entirely independent of streams, is that the function passed to `mapMulti` *must complete in finite time*. E.g. `Stream.of(&quot;&quot;).mapMulti((o, c) -&gt; { for(;;); }).findAny();` will also hang forever, obviously, despite there is no stream to consume. You can apply this logic to Stream operations within the function, `Stream.generate(() -&gt; 1) .forEach(consumer);` never returns, just like `for(;;);` never returns","body":"You don’t have to consume the stream if you have a stream inside the <code>mapMulti</code>, e.g. <code>Stream.of(&quot;&quot;).mapMulti((o, c) -&gt; Stream.of(&quot;ignored&quot;)).findAny();</code> works fine. What matters, and that’s entirely independent of streams, is that the function passed to <code>mapMulti</code> <i>must complete in finite time</i>. E.g. <code>Stream.of(&quot;&quot;).mapMulti((o, c) -&gt; { for(;;); }).findAny();</code> will also hang forever, obviously, despite there is no stream to consume. You can apply this logic to Stream operations within the function, <code>Stream.generate(() -&gt; 1) .forEach(consumer);</code> never returns, just like <code>for(;;);</code> never returns"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668715042,"post_id":74476420,"comment_id":131479939,"body_markdown":"@Holger Yes, I agree. I&#39;ve meant that if there&#39;s a fully-fledged stream with a terminal operation inside `mapMulti` it should be executed (*that&#39;s what I&#39;ve written in the parenthesis*), i.e. the stream pipeline is considered consumed by the terminal operation whatever it is. I didn&#39;t imply that *mapMulti&#39;s* consumer should be plugged-in into this nested stream, that was not my point. I&#39;ve meant that it should be able to terminate (precisely as you). I&#39;ll remove highlighted word **consumed** and change the phrasing.","body":"@Holger Yes, I agree. I&#39;ve meant that if there&#39;s a fully-fledged stream with a terminal operation inside <code>mapMulti</code> it should be executed (<i>that&#39;s what I&#39;ve written in the parenthesis</i>), i.e. the stream pipeline is considered consumed by the terminal operation whatever it is. I didn&#39;t imply that <i>mapMulti&#39;s</i> consumer should be plugged-in into this nested stream, that was not my point. I&#39;ve meant that it should be able to terminate (precisely as you). I&#39;ll remove highlighted word <b>consumed</b> and change the phrasing."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668716448,"post_id":74476420,"comment_id":131480413,"body_markdown":"@Holger Can you please shed some light on the difference in behavior of [these two streams](https://www.jdoodle.com/ia/zzY)? Can we can call it a bug?","body":"@Holger Can you please shed some light on the difference in behavior of <a href=\"https://www.jdoodle.com/ia/zzY\" rel=\"nofollow noreferrer\">these two streams</a>? Can we can call it a bug?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1668775056,"post_id":74476420,"comment_id":131494022,"body_markdown":"That’s a performance issue, but not contradicting the specification. The documentation of `mapMulti` even says that it’s preferable “*with a small (possibly zero) number of elements*” (you cited it) when the overhead of creating a new Stream matters. When you have a large number of elements or heavy calculations following, using `flatMap` is preferable.","body":"That’s a performance issue, but not contradicting the specification. The documentation of <code>mapMulti</code> even says that it’s preferable “<i>with a small (possibly zero) number of elements</i>” (you cited it) when the overhead of creating a new Stream matters. When you have a large number of elements or heavy calculations following, using <code>flatMap</code> is preferable."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668760670,"creation_date":1668692236,"answer_id":74476420,"question_id":74476209,"body_markdown":"The advantage of `mapMulti()` is that it consumes new elements which became a part of the stream, replacing the initial element (*opposed to `flatMap()` which internally generates a new stream for each element*). If you&#39;re generating a fully-fledged stream with a terminal operation inside the `mapMulti()` it should be executed. And you&#39;ve created an infinite stream which can&#39;t terminate (as *@Lino* has pointed out in the [comment]).\r\n\r\nOn the contrary, `flatMap()` expects a function producing a stream, i.e. function only returns it not processes. \r\n\r\nHere&#39;s a quote from the [API note][apiNote] that emphasizes the difference between the two operations:\r\n\r\n&gt; **API Note:**\r\n&gt; \r\n&gt; This method is similar to `flatMap` in that it applies a one-to-many\r\n&gt; transformation to the elements of the stream and flattens the result\r\n&gt; elements into a new stream. This method is preferable to `flatMap` in\r\n&gt; the following circumstances:\r\n&gt; \r\n&gt; * When replacing each stream element with a small (possibly zero) number of elements. Using this method avoids the overhead of creating\r\n&gt; a new Stream instance for every group of result elements, as required\r\n&gt; by `flatMap`.\r\n\r\n\r\n\r\n   [apiNote]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\r\n\r\n   [comment]: https://stackoverflow.com/questions/74476209/stream-mapmulti-with-infinite-streams/74476420#comment131471124_74476209","title":"Java-Stream - mapMulti() with Infinite Streams","body":"<p>The advantage of <code>mapMulti()</code> is that it consumes new elements which became a part of the stream, replacing the initial element (<em>opposed to <code>flatMap()</code> which internally generates a new stream for each element</em>). If you're generating a fully-fledged stream with a terminal operation inside the <code>mapMulti()</code> it should be executed. And you've created an infinite stream which can't terminate (as <em>@Lino</em> has pointed out in the <a href=\"https://stackoverflow.com/questions/74476209/stream-mapmulti-with-infinite-streams/74476420#comment131471124_74476209\">comment</a>).</p>\n<p>On the contrary, <code>flatMap()</code> expects a function producing a stream, i.e. function only returns it not processes.</p>\n<p>Here's a quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">API note</a> that emphasizes the difference between the two operations:</p>\n<blockquote>\n<p><strong>API Note:</strong></p>\n<p>This method is similar to <code>flatMap</code> in that it applies a one-to-many\ntransformation to the elements of the stream and flattens the result\nelements into a new stream. This method is preferable to <code>flatMap</code> in\nthe following circumstances:</p>\n<ul>\n<li>When replacing each stream element with a small (possibly zero) number of elements. Using this method avoids the overhead of creating\na new Stream instance for every group of result elements, as required\nby <code>flatMap</code>.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74476420,"answer_count":1,"score":2,"last_activity_date":1668798951,"creation_date":1668691301,"question_id":74476209,"body_markdown":"I thought that all stream pipelines written using `flatMap()` can be converted to use `mapMulti`. Looks like I was wrong when the `flatMap()` or `mapMulti()` returns/operates on an infinite stream.\r\n\r\n***Note:** this is for educational purpose only*\r\n\r\nWhen we map an element to an infinite stream inside a `flatMap()` followed by a `limit()`, then the stream pipeline is lazy and evaluates as per the required number of elements.\r\n\r\n\r\n    list.stream()\r\n        .flatMap(element -&gt; Stream.generate(() -&gt; 1))\r\n        .limit(3)\r\n        .forEach(System.out::println);\r\nOutput:\r\n    \r\n    1\r\n    1\r\n    1\r\n\r\nBut when doing the same in a `mapMulti()`, the pipeline is still **lazy** i.e., it doesn&#39;t consume the infinite stream. But when running this in IDE (Intellij), it hangs and doesn&#39;t terminate (I guess waiting for other elements consumption) and doesn&#39;t come out of the stream pipeline execution.\r\n\r\n\r\nWith a `mapMulti()`,\r\n\r\n    list.stream()\r\n        .mapMulti((element, consumer) -&gt; {\r\n            Stream.generate(() -&gt; 1)\r\n                .forEach(consumer);\r\n            })\r\n        .limit(3)\r\n        .forEach(System.out::println);\r\n    System.out.println(&quot;Done&quot;); //Never gets here\r\n\r\n\r\nOutput:\r\n\r\n    1\r\n    1\r\n    1\r\nBut the last print (`Done`) doesn&#39;t get executed. \r\n\r\nIs this the expected behaviour?\r\nI couldn&#39;t find any warning or points on infinite stream and `mapMulti()` in Javadoc.","title":"Java-Stream - mapMulti() with Infinite Streams","body":"<p>I thought that all stream pipelines written using <code>flatMap()</code> can be converted to use <code>mapMulti</code>. Looks like I was wrong when the <code>flatMap()</code> or <code>mapMulti()</code> returns/operates on an infinite stream.</p>\n<p><em><strong>Note:</strong> this is for educational purpose only</em></p>\n<p>When we map an element to an infinite stream inside a <code>flatMap()</code> followed by a <code>limit()</code>, then the stream pipeline is lazy and evaluates as per the required number of elements.</p>\n<pre><code>list.stream()\n    .flatMap(element -&gt; Stream.generate(() -&gt; 1))\n    .limit(3)\n    .forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>1\n1\n1\n</code></pre>\n<p>But when doing the same in a <code>mapMulti()</code>, the pipeline is still <strong>lazy</strong> i.e., it doesn't consume the infinite stream. But when running this in IDE (Intellij), it hangs and doesn't terminate (I guess waiting for other elements consumption) and doesn't come out of the stream pipeline execution.</p>\n<p>With a <code>mapMulti()</code>,</p>\n<pre><code>list.stream()\n    .mapMulti((element, consumer) -&gt; {\n        Stream.generate(() -&gt; 1)\n            .forEach(consumer);\n        })\n    .limit(3)\n    .forEach(System.out::println);\nSystem.out.println(&quot;Done&quot;); //Never gets here\n</code></pre>\n<p>Output:</p>\n<pre><code>1\n1\n1\n</code></pre>\n<p>But the last print (<code>Done</code>) doesn't get executed.</p>\n<p>Is this the expected behaviour?\nI couldn't find any warning or points on infinite stream and <code>mapMulti()</code> in Javadoc.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9350,"page":873,"page_size":100}
