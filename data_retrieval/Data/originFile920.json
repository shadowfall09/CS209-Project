{"items":[{"tags":["java","json","websocket","java-websocket"],"answers":[{"comments":[{"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"score":0,"creation_date":1441019261,"post_id":32309788,"comment_id":52494564,"body_markdown":"but why my WebSocket is getting disconnected after sending a data with length &gt; 8191 ? :( .","body":"but why my WebSocket is getting disconnected after sending a data with length &gt; 8191 ? :( ."},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1441019364,"post_id":32309788,"comment_id":52494618,"body_markdown":"It is possible that the server doesn&#39;t accept request over 8191 bytes? It is also possible that the problem is on the json parser.","body":"It is possible that the server doesn&#39;t accept request over 8191 bytes? It is also possible that the problem is on the json parser."},{"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"score":0,"creation_date":1441019475,"post_id":32309788,"comment_id":52494690,"body_markdown":"am using Tomcat 7 and i can guarantee the problem is not with the JSON parsing. May be the tomcat.","body":"am using Tomcat 7 and i can guarantee the problem is not with the JSON parsing. May be the tomcat."},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1441019668,"post_id":32309788,"comment_id":52494796,"body_markdown":"I edited my answer after you said that the server is a tomcat server","body":"I edited my answer after you said that the server is a tomcat server"},{"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"score":0,"creation_date":1441019749,"post_id":32309788,"comment_id":52494842,"body_markdown":"Fine. i got it. so it&#39;s 8192 bytes.","body":"Fine. i got it. so it&#39;s 8192 bytes."},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1441019789,"post_id":32309788,"comment_id":52494865,"body_markdown":"If you find this answer useful you can upvote it and flag it as the right response. Thank you and good work","body":"If you find this answer useful you can upvote it and flag it as the right response. Thank you and good work"},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1626375607,"post_id":32309788,"comment_id":120883326,"body_markdown":"&quot;*A single frame, by RFC-6455 base framing, has a maximum size limit of 18,446,744,073,709,551,615 bytes (maximum value of a 64-bit unsigned value)*&quot; - actually, the limit is 9,223,372,036,854,775,807 bytes, because the RFC says &quot;*the most significant bit MUST be 0*&quot; for a 64bit payload length.","body":"&quot;<i>A single frame, by RFC-6455 base framing, has a maximum size limit of 18,446,744,073,709,551,615 bytes (maximum value of a 64-bit unsigned value)</i>&quot; - actually, the limit is 9,223,372,036,854,775,807 bytes, because the RFC says &quot;<i>the most significant bit MUST be 0</i>&quot; for a 64bit payload length."}],"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"comment_count":7,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1441019756,"creation_date":1441019115,"answer_id":32309788,"question_id":32309727,"body_markdown":"IT is actually a value very big and probably you don&#39;t worry about it.\r\n\r\nA single frame, by RFC-6455 base framing, has a maximum size limit of 18,446,744,073,709,551,615 bytes (maximum value of a 64-bit unsigned value).\r\n\r\nTry only to make it as little as possible to handle your requirements.\r\n\r\nBecause the problem is generated on the server side (tomcat). Checking the tomcat documentation I see that:\r\n\r\n&gt; The default buffer size for binary messages is **8192 bytes**. This may be\r\n&gt; changed for a web application by setting the servlet context\r\n&gt; initialization parameter org.apache.tomcat.websocket.binaryBufferSize\r\n&gt; to the desired value in bytes.\r\n\r\nSo you can change it using updating the **org.apache.tomcat.websocket.binaryBufferSize** parameter in the configuration file of tomcat.\r\n\r\nFor additional informations please see the tomcat guide [here][1]\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/web-socket-howto.html","title":"What is the maximum size of data that can be passed through a WebSocket?","body":"<p>IT is actually a value very big and probably you don't worry about it.</p>\n\n<p>A single frame, by RFC-6455 base framing, has a maximum size limit of 18,446,744,073,709,551,615 bytes (maximum value of a 64-bit unsigned value).</p>\n\n<p>Try only to make it as little as possible to handle your requirements.</p>\n\n<p>Because the problem is generated on the server side (tomcat). Checking the tomcat documentation I see that:</p>\n\n<blockquote>\n  <p>The default buffer size for binary messages is <strong>8192 bytes</strong>. This may be\n  changed for a web application by setting the servlet context\n  initialization parameter org.apache.tomcat.websocket.binaryBufferSize\n  to the desired value in bytes.</p>\n</blockquote>\n\n<p>So you can change it using updating the <strong>org.apache.tomcat.websocket.binaryBufferSize</strong> parameter in the configuration file of tomcat.</p>\n\n<p>For additional informations please see the tomcat guide <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/web-socket-howto.html\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8849681,"reputation":649,"user_id":6609396,"display_name":"Javi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470250418,"creation_date":1470250418,"answer_id":38751553,"question_id":32309727,"body_markdown":"About the question related with WebSocket getting disconnected, I had same problem in my Android client that was receiving next message &quot;Binary message size exceeds maximum size&quot;. \r\n\r\nAfter looking for some solution in all the Jetty documentation and rest of web pages, the only working option that I have got is to include next code &quot;maxBinaryMessageSize = size * 1024&quot; (where size is your needed maximum limit from client point of view) in the WebSocket class definition, as you can see in next lines: \r\n\r\n\r\n\r\n\r\n\r\n        import org.eclipse.jetty.websocket.api.BatchMode;\r\n        import org.eclipse.jetty.websocket.api.RemoteEndpoint;\r\n        import org.eclipse.jetty.websocket.api.Session;\r\n        import org.eclipse.jetty.websocket.api.annotations.OnWebSocketClose;\r\n        import org.eclipse.jetty.websocket.api.annotations.OnWebSocketConnect;\r\n        import org.eclipse.jetty.websocket.api.annotations.OnWebSocketError;\r\n        import org.eclipse.jetty.websocket.api.annotations.OnWebSocketMessage;\r\n        import org.eclipse.jetty.websocket.api.annotations.WebSocket;\r\n        \r\n        @WebSocket(maxBinaryMessageSize = 1024 * 1024)\r\n        public class MyClientWebSocket\r\n        {\r\n        \r\n          @OnWebSocketClose\r\n          public void onClose(int statusCode, String reason)\r\n          {\r\n            closeLatch.countDown();\r\n          }\r\n        \r\n          @OnWebSocketError\r\n          public void onError(Throwable reason)\r\n          {\r\n            //TODO ACORDARSE DE QUITAR ESTO\r\n            Log.w(TAG, &quot;+++ ERROR : &quot; + reason);\r\n          }\r\n        \r\n          @OnWebSocketConnect\r\n          public void onConnect(Session session)\r\n          {\r\n            // your code\r\n          }\r\n        \r\n          @OnWebSocketMessage\r\n          public void onMessageBinary(byte[] message, int offset, int length)\r\n          {\r\n           // message can be processed with a maximum of 1024 * 1024 bytes and not anymore limited to 64 * 1024\r\n        \r\n          }\r\n        }\r\n\r\n\r\nIf there is some WebSocket expert that can confirm if this is a correct solution from client side (in Java/Android), this would be great. Thanks. ","title":"What is the maximum size of data that can be passed through a WebSocket?","body":"<p>About the question related with WebSocket getting disconnected, I had same problem in my Android client that was receiving next message \"Binary message size exceeds maximum size\". </p>\n\n<p>After looking for some solution in all the Jetty documentation and rest of web pages, the only working option that I have got is to include next code \"maxBinaryMessageSize = size * 1024\" (where size is your needed maximum limit from client point of view) in the WebSocket class definition, as you can see in next lines: </p>\n\n<pre><code>    import org.eclipse.jetty.websocket.api.BatchMode;\n    import org.eclipse.jetty.websocket.api.RemoteEndpoint;\n    import org.eclipse.jetty.websocket.api.Session;\n    import org.eclipse.jetty.websocket.api.annotations.OnWebSocketClose;\n    import org.eclipse.jetty.websocket.api.annotations.OnWebSocketConnect;\n    import org.eclipse.jetty.websocket.api.annotations.OnWebSocketError;\n    import org.eclipse.jetty.websocket.api.annotations.OnWebSocketMessage;\n    import org.eclipse.jetty.websocket.api.annotations.WebSocket;\n\n    @WebSocket(maxBinaryMessageSize = 1024 * 1024)\n    public class MyClientWebSocket\n    {\n\n      @OnWebSocketClose\n      public void onClose(int statusCode, String reason)\n      {\n        closeLatch.countDown();\n      }\n\n      @OnWebSocketError\n      public void onError(Throwable reason)\n      {\n        //TODO ACORDARSE DE QUITAR ESTO\n        Log.w(TAG, \"+++ ERROR : \" + reason);\n      }\n\n      @OnWebSocketConnect\n      public void onConnect(Session session)\n      {\n        // your code\n      }\n\n      @OnWebSocketMessage\n      public void onMessageBinary(byte[] message, int offset, int length)\n      {\n       // message can be processed with a maximum of 1024 * 1024 bytes and not anymore limited to 64 * 1024\n\n      }\n    }\n</code></pre>\n\n<p>If there is some WebSocket expert that can confirm if this is a correct solution from client side (in Java/Android), this would be great. Thanks. </p>\n"}],"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30109,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":32309788,"answer_count":2,"score":9,"last_activity_date":1667273079,"creation_date":1441018899,"question_id":32309727,"body_markdown":"I am new to websockets and when I tried to pass a `JSON` with a length greater than `8192`, the websocket disconnected immediately. However `JSON` with length `&lt;= 8191` works fine. \r\n\r\n**Is there any `MAX SIZE/ LIMIT` of data that can be passed through a `WebSocket`? if yes, what&#39;s that size?**\r\n\r\n--------------------------------------------------------------------\r\n\r\n**I FIXED THE ERROR BY ADDING THESE LINES TO my `web.xml`**\r\n\r\n    &lt;context-param&gt;\r\n             &lt;param-name&gt;org.apache.tomcat.websocket.textBufferSize&lt;/param-name&gt;\r\n             &lt;param-value&gt;32768&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n        &lt;context-param&gt;\r\n                &lt;param-name&gt;org.apache.tomcat.websocket.binaryBufferSize&lt;/param-name&gt;\r\n                &lt;param-value&gt;32768&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n\r\nThanks @Davide Lorenzo MARINO.\r\n\r\n","title":"What is the maximum size of data that can be passed through a WebSocket?","body":"<p>I am new to websockets and when I tried to pass a <code>JSON</code> with a length greater than <code>8192</code>, the websocket disconnected immediately. However <code>JSON</code> with length <code>&lt;= 8191</code> works fine.</p>\n<p><strong>Is there any <code>MAX SIZE/ LIMIT</code> of data that can be passed through a <code>WebSocket</code>? if yes, what's that size?</strong></p>\n<hr />\n<p><strong>I FIXED THE ERROR BY ADDING THESE LINES TO my <code>web.xml</code></strong></p>\n<pre><code>&lt;context-param&gt;\n         &lt;param-name&gt;org.apache.tomcat.websocket.textBufferSize&lt;/param-name&gt;\n         &lt;param-value&gt;32768&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n            &lt;param-name&gt;org.apache.tomcat.websocket.binaryBufferSize&lt;/param-name&gt;\n            &lt;param-value&gt;32768&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>Thanks @Davide Lorenzo MARINO.</p>\n"},{"tags":["java","android","api","emulation"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667219159,"post_id":74262716,"comment_id":131111126,"body_markdown":"`It establishes a HttpUrlConnection and uses the GET method ` Really? And what is: `con.setRequestMethod(&quot;POST&quot;);`?","body":"<code>It establishes a HttpUrlConnection and uses the GET method </code> Really? And what is: <code>con.setRequestMethod(&quot;POST&quot;);</code>?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667219300,"post_id":74262716,"comment_id":131111179,"body_markdown":"`String coordinate` You are not using that parameter.","body":"<code>String coordinate</code> You are not using that parameter."},{"owner":{"account_id":4057543,"reputation":13,"user_id":18654282,"display_name":"user130355"},"score":0,"creation_date":1667272627,"post_id":74262716,"comment_id":131125048,"body_markdown":"@blackapps I used the GET method and put all parameters in the request header the first time. The code I posted here was one of my revised codes that I just tried to work around. Sorry for the inconvenience.","body":"@blackapps I used the GET method and put all parameters in the request header the first time. The code I posted here was one of my revised codes that I just tried to work around. Sorry for the inconvenience."}],"answers":[{"tags":[],"owner":{"account_id":12162478,"reputation":86,"user_id":8879652,"display_name":"abhishekrajak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667220131,"creation_date":1667220131,"answer_id":74263441,"question_id":74262716,"body_markdown":"Use this codeblock -&gt; first create jsonObject and add your key values and then set in output Stream. you can use this link for reference -&gt; https://www.baeldung.com/httpurlconnection-post\r\n\r\n```\r\nJSONObject jsonObject = new JSONObject();\r\n            jsonObject.put(&quot;access_key&quot;, &quot;Enter your access key here&quot;);\r\n            jsonObject.put(&quot;query&quot;, &quot;Enter your query string here&quot;);\r\n\r\n            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n            String jsonString = jsonObject.toString();\r\n            byte[] input = jsonString.getBytes(StandardCharsets.UTF_8);\r\n            wr.write(input, 0, input.length);\r\n            wr.flush();\r\n            wr.close();\r\n```\r\nAlso check the logger for what is sent in request body, use okhttp as search string in logger","title":"Sending http request get syntax error 400 message from API on Android","body":"<p>Use this codeblock -&gt; first create jsonObject and add your key values and then set in output Stream. you can use this link for reference -&gt; <a href=\"https://www.baeldung.com/httpurlconnection-post\" rel=\"nofollow noreferrer\">https://www.baeldung.com/httpurlconnection-post</a></p>\n<pre><code>JSONObject jsonObject = new JSONObject();\n            jsonObject.put(&quot;access_key&quot;, &quot;Enter your access key here&quot;);\n            jsonObject.put(&quot;query&quot;, &quot;Enter your query string here&quot;);\n\n            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n            String jsonString = jsonObject.toString();\n            byte[] input = jsonString.getBytes(StandardCharsets.UTF_8);\n            wr.write(input, 0, input.length);\n            wr.flush();\n            wr.close();\n</code></pre>\n<p>Also check the logger for what is sent in request body, use okhttp as search string in logger</p>\n"},{"tags":[],"owner":{"account_id":4057543,"reputation":13,"user_id":18654282,"display_name":"user130355"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667272015,"creation_date":1667272015,"answer_id":74271112,"question_id":74262716,"body_markdown":"Thanks to @abhishekrajak. I think his answer can solve most questions in this case.\r\n\r\nIn my case, however, I received an Error 403 status code from the API that said that my subscription couldn&#39;t use this service. I think the problem is that using OutputStream of HttpUrlConnection will automatically transfer your request method from &quot;GET&quot; to &quot;POST&quot;, and my subscription is only able to receive the &quot;GET&quot; service.\r\n\r\nAnyway, no doubt that @abhishekrajak &#39;s answer can successfully pass the parameter in the correct encoding.\r\n\r\nI solved this problem by using an alternative API. The original API may not be a good choice in the first place. ","title":"Sending http request get syntax error 400 message from API on Android","body":"<p>Thanks to @abhishekrajak. I think his answer can solve most questions in this case.</p>\n<p>In my case, however, I received an Error 403 status code from the API that said that my subscription couldn't use this service. I think the problem is that using OutputStream of HttpUrlConnection will automatically transfer your request method from &quot;GET&quot; to &quot;POST&quot;, and my subscription is only able to receive the &quot;GET&quot; service.</p>\n<p>Anyway, no doubt that @abhishekrajak 's answer can successfully pass the parameter in the correct encoding.</p>\n<p>I solved this problem by using an alternative API. The original API may not be a good choice in the first place.</p>\n"}],"owner":{"account_id":4057543,"reputation":13,"user_id":18654282,"display_name":"user130355"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74263441,"answer_count":2,"score":1,"last_activity_date":1667272015,"creation_date":1667216387,"question_id":74262716,"body_markdown":"I&#39;m using [Positionstack API](https://api.positionstack.com/v1/reverse) to build my APP with a location function on Android. The API works well when I test it on java in the local environment. However, it keeps returning a syntax error message and an Error 400 code when I send the request on Android Studio through an activity.\r\n\r\nThe error message\r\n\r\n```\r\nI/System.out: 400\r\nI/System.out: {&quot;error&quot;:{&quot;code&quot;:&quot;bad_request&quot;,&quot;message&quot;:&quot;Could not decode value from JSON format. Error was:     \\u0022Syntax error\\u0022.&quot;}}\r\n```\r\n\r\nThe class of sending requests. It works well in the local environment but fails on the emulator. It establishes a   HttpUrlConnection and uses the GET method to retrieve the result from API. It returns a 400 status code on the Android Studio emulator.\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\npublic class NetTest {\r\n    public static String sendRequest(String urlParam, String coordinate){\r\n        HttpURLConnection con = null;\r\n        BufferedReader buffer = null;\r\n        StringBuffer resultBuffer = null;\r\n        InputStream is;\r\n\r\n        try{\r\n            // prepare the params and send request\r\n            URL url = new URL(urlParam);\r\n            con = (HttpURLConnection) url.openConnection();\r\n            con.setConnectTimeout(5000);\r\n            con.setReadTimeout(5000);\r\n            con.setRequestMethod(&quot;POST&quot;);\r\n            con.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json;charset=UTF-8&quot;);\r\n            con.setDoOutput(true);\r\n            con.set\r\n//            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n//            wr.writeBytes(&quot;access_key=xxx&quot;);\r\n//            wr.writeBytes(&quot;query=-33.7,127&quot;);\r\n//            wr.flush();\r\n//            wr.close();\r\n\r\n\r\n            System.out.println(&quot;message out&quot;);\r\n\r\n            // receive response\r\n            int responseCode = con.getResponseCode();\r\n            System.out.println(responseCode);\r\n            if (responseCode == 200) {\r\n                is = con.getInputStream();\r\n            }else {\r\n                is = con.getErrorStream();\r\n            }\r\n            resultBuffer = new StringBuffer();\r\n            String line;\r\n            buffer = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\r\n            while ((line = buffer.readLine()) != null){\r\n                resultBuffer.append(line);\r\n            }\r\n            return resultBuffer.toString();\r\n\r\n\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String coordinate = &quot;-33.7,127&quot;;\r\n        String url = &quot;http://api.positionstack.com/v1/reverse&quot;;\r\n        System.out.println(sendRequest(url,coordinate));\r\n    }\r\n}\r\n\r\n  \r\n```\r\n\r\nThe manifest\r\n\r\n```\r\n\r\n&lt;application \r\n    android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n    \r\n    ...\r\n\r\n&lt;/application&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n```\r\n\r\nThanks a lot!\r\n\r\nThe problem may be the encoding method of Android, but I don&#39;t know how to change it, or even see it.","title":"Sending http request get syntax error 400 message from API on Android","body":"<p>I'm using <a href=\"https://api.positionstack.com/v1/reverse\" rel=\"nofollow noreferrer\">Positionstack API</a> to build my APP with a location function on Android. The API works well when I test it on java in the local environment. However, it keeps returning a syntax error message and an Error 400 code when I send the request on Android Studio through an activity.</p>\n<p>The error message</p>\n<pre><code>I/System.out: 400\nI/System.out: {&quot;error&quot;:{&quot;code&quot;:&quot;bad_request&quot;,&quot;message&quot;:&quot;Could not decode value from JSON format. Error was:     \\u0022Syntax error\\u0022.&quot;}}\n</code></pre>\n<p>The class of sending requests. It works well in the local environment but fails on the emulator. It establishes a   HttpUrlConnection and uses the GET method to retrieve the result from API. It returns a 400 status code on the Android Studio emulator.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class NetTest {\n    public static String sendRequest(String urlParam, String coordinate){\n        HttpURLConnection con = null;\n        BufferedReader buffer = null;\n        StringBuffer resultBuffer = null;\n        InputStream is;\n\n        try{\n            // prepare the params and send request\n            URL url = new URL(urlParam);\n            con = (HttpURLConnection) url.openConnection();\n            con.setConnectTimeout(5000);\n            con.setReadTimeout(5000);\n            con.setRequestMethod(&quot;POST&quot;);\n            con.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json;charset=UTF-8&quot;);\n            con.setDoOutput(true);\n            con.set\n//            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n//            wr.writeBytes(&quot;access_key=xxx&quot;);\n//            wr.writeBytes(&quot;query=-33.7,127&quot;);\n//            wr.flush();\n//            wr.close();\n\n\n            System.out.println(&quot;message out&quot;);\n\n            // receive response\n            int responseCode = con.getResponseCode();\n            System.out.println(responseCode);\n            if (responseCode == 200) {\n                is = con.getInputStream();\n            }else {\n                is = con.getErrorStream();\n            }\n            resultBuffer = new StringBuffer();\n            String line;\n            buffer = new BufferedReader(new InputStreamReader(is,&quot;UTF-8&quot;));\n            while ((line = buffer.readLine()) != null){\n                resultBuffer.append(line);\n            }\n            return resultBuffer.toString();\n\n\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return &quot;&quot;;\n    }\n\n    public static void main(String[] args) {\n        String coordinate = &quot;-33.7,127&quot;;\n        String url = &quot;http://api.positionstack.com/v1/reverse&quot;;\n        System.out.println(sendRequest(url,coordinate));\n    }\n}\n\n  \n</code></pre>\n<p>The manifest</p>\n<pre><code>\n&lt;application \n    android:usesCleartextTraffic=&quot;true&quot;&gt;\n    \n    ...\n\n&lt;/application&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>Thanks a lot!</p>\n<p>The problem may be the encoding method of Android, but I don't know how to change it, or even see it.</p>\n"},{"tags":["java","java-record","java-16"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1605748897,"post_id":64903887,"comment_id":114749995,"body_markdown":"What is `Compact`?  What is `Record`?  Please post all of your code.","body":"What is <code>Compact</code>?  What is <code>Record</code>?  Please post all of your code."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1605755237,"post_id":64903887,"comment_id":114751397,"body_markdown":"@Steve Perhaps I missed something in the question relating to a class named `Record`, but &quot;records&quot; are a new type of class added in Java 14 as a preview feature. See [JEP 359](https://openjdk.java.net/jeps/359).","body":"@Steve Perhaps I missed something in the question relating to a class named <code>Record</code>, but &quot;records&quot; are a new type of class added in Java 14 as a preview feature. See <a href=\"https://openjdk.java.net/jeps/359\" rel=\"nofollow noreferrer\">JEP 359</a>."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1605763178,"post_id":64903887,"comment_id":114753028,"body_markdown":"@Slaw - Thanks for pointing that out.  I forgot all about that.  I&#39;m still stuck in the trenches of real life with Java 8.  We&#39;re using 11 now, but I haven&#39;t really used much of the new stuff even in 11.  Kotlin&#39;s where I&#39;ve branched out.  That&#39;s another reason I don&#39;t know more about the more modern Java stuff.","body":"@Slaw - Thanks for pointing that out.  I forgot all about that.  I&#39;m still stuck in the trenches of real life with Java 8.  We&#39;re using 11 now, but I haven&#39;t really used much of the new stuff even in 11.  Kotlin&#39;s where I&#39;ve branched out.  That&#39;s another reason I don&#39;t know more about the more modern Java stuff."}],"answers":[{"comments":[{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":5,"creation_date":1642513848,"post_id":64904468,"comment_id":125086481,"body_markdown":"Your understanding of transparency is correct.  Records give you various benefits; what you give up to get those benefits is the ability to _decouple the API from the representation_.  That means you get the obvious public constructor, accessors, and eventually, deconstruction patterns.  You can add to this API, but you can&#39;t subtract from it.","body":"Your understanding of transparency is correct.  Records give you various benefits; what you give up to get those benefits is the ability to <i>decouple the API from the representation</i>.  That means you get the obvious public constructor, accessors, and eventually, deconstruction patterns.  You can add to this API, but you can&#39;t subtract from it."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1633994858,"creation_date":1605752577,"answer_id":64904468,"question_id":64903887,"body_markdown":"&gt; Q: Why does this restriction exist for records?\r\n\r\nThere isn&#39;t an explicit justification for that decision in [JEP 359][1] or in the JLS, but I think it is implied by this excerpt from the JEP:\r\n\r\n&gt; *&quot;Because records make the semantic claim of being transparent carriers for their data ...&quot;*\r\n\r\nA &quot;transparent carrier&quot; means (to me&lt;sup&gt;1&lt;/sup&gt;) that records are designed to have a minimal abstraction boundary.  Restricting the access of a constructor implies (to me) an additional abstraction boundary.\r\n\r\nIn addition, I suspect that record constructors with more restrictive access modifiers *could* impede or complicate intended use-cases for records in future versions of Java.\r\n\r\nAnyway, my take is that if you want fancy stuff like that you should be declaring a class rather than a record.\r\n\r\n&lt;sup&gt;1 - Transparent is the opposite of opaque, and abstract data types are typically opaque by design.  Obviously, this is *just my take* on what the JEP authors meant.&lt;/sup&gt;\r\n\r\n-------------------\r\n\r\n&gt; Q: Are there any plans to remove this restriction in the future?\r\n\r\nI am not aware of any.  There are no (public) open Java Bugs or RFEs about this.\r\n\r\nIndeed, all of the JDK bugs relating to this topic were to ensure that the Java 15+ specifications made the restriction clear.  There is no suggestion that the restriction happened by accident or oversight.\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/359","title":"Why can a Java record&#39;s canonical constructor not have more restrictive access than the record level?","body":"<blockquote>\n<p>Q: Why does this restriction exist for records?</p>\n</blockquote>\n<p>There isn't an explicit justification for that decision in <a href=\"https://openjdk.java.net/jeps/359\" rel=\"noreferrer\">JEP 359</a> or in the JLS, but I think it is implied by this excerpt from the JEP:</p>\n<blockquote>\n<p><em>&quot;Because records make the semantic claim of being transparent carriers for their data ...&quot;</em></p>\n</blockquote>\n<p>A &quot;transparent carrier&quot; means (to me<sup>1</sup>) that records are designed to have a minimal abstraction boundary.  Restricting the access of a constructor implies (to me) an additional abstraction boundary.</p>\n<p>In addition, I suspect that record constructors with more restrictive access modifiers <em>could</em> impede or complicate intended use-cases for records in future versions of Java.</p>\n<p>Anyway, my take is that if you want fancy stuff like that you should be declaring a class rather than a record.</p>\n<p><sup>1 - Transparent is the opposite of opaque, and abstract data types are typically opaque by design.  Obviously, this is <em>just my take</em> on what the JEP authors meant.</sup></p>\n<hr />\n<blockquote>\n<p>Q: Are there any plans to remove this restriction in the future?</p>\n</blockquote>\n<p>I am not aware of any.  There are no (public) open Java Bugs or RFEs about this.</p>\n<p>Indeed, all of the JDK bugs relating to this topic were to ensure that the Java 15+ specifications made the restriction clear.  There is no suggestion that the restriction happened by accident or oversight.</p>\n"},{"tags":[],"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1621544010,"creation_date":1621544010,"answer_id":67627794,"question_id":64903887,"body_markdown":"I asked the question on the amber mailing list (http://mail.openjdk.java.net/pipermail/amber-dev/2020-December.txt).\r\n\r\nThe question was posed:\r\n\r\n&gt; What exactly is the reason that the canonical constructor must have the\r\nsame access as the record?\r\n\r\nAnd the answer given was (emphasis added mine):\r\n&gt; Records are named tuples, they are defined only by their components, in a transparent manner i.e. no encapsulation. From a tuple, you can access to the value of each component and from all component values, you can create a tuple.\r\n**The idea is that, in a method, if you are able to see a record, you can create it.** Thus the canonical constructor has the same visibility as the record itself.\r\n\r\nSo the restriction exists to comply with the design goal and fact that if someone has an instance of a record they should be able to deconstruct it and then reconstruct it with the canonical constructor. And of course as a corollary this necessitates the canonical constructor having the same access as the record itself.\r\n","title":"Why can a Java record&#39;s canonical constructor not have more restrictive access than the record level?","body":"<p>I asked the question on the amber mailing list (<a href=\"http://mail.openjdk.java.net/pipermail/amber-dev/2020-December.txt\" rel=\"noreferrer\">http://mail.openjdk.java.net/pipermail/amber-dev/2020-December.txt</a>).</p>\n<p>The question was posed:</p>\n<blockquote>\n<p>What exactly is the reason that the canonical constructor must have the\nsame access as the record?</p>\n</blockquote>\n<p>And the answer given was (emphasis added mine):</p>\n<blockquote>\n<p>Records are named tuples, they are defined only by their components, in a transparent manner i.e. no encapsulation. From a tuple, you can access to the value of each component and from all component values, you can create a tuple.\n<strong>The idea is that, in a method, if you are able to see a record, you can create it.</strong> Thus the canonical constructor has the same visibility as the record itself.</p>\n</blockquote>\n<p>So the restriction exists to comply with the design goal and fact that if someone has an instance of a record they should be able to deconstruct it and then reconstruct it with the canonical constructor. And of course as a corollary this necessitates the canonical constructor having the same access as the record itself.</p>\n"},{"tags":[],"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1667271955,"creation_date":1667006849,"answer_id":74242248,"question_id":64903887,"body_markdown":"You can&#39;t do exactly what you want here - `public` record with hidden constructor (or more generally - a record whose constructor has more restrictive access - as you&#39;ve already pointed out!). \r\nBut if you tweak the requirements a bit you can achieve a similarly desired outcome.\r\n\r\nThe trick is to make the `record` itself hidden (`private` or package-private) and only expose the factory class:\r\n\r\n```\r\n// package-private\r\nrecord SomeRecord(String key, String value) {}\r\n```\r\n\r\n```\r\npublic final class SomeRecordFactory {\r\n  public SomeRecord create(String value) {\r\n    return new SomeRecord(&quot;key&quot;, value);\r\n  }\r\n}\r\n```\r\n\r\nThen you&#39;re forced to create instances like:\r\n```\r\nSomeRecordFactory factory = new SomeRecordFactory();\r\nvar myObject = factory.create(&quot;my value&quot;);\r\n```\r\n\r\n**NOTE** the use of `var` - I can&#39;t use `MyRecord` because it is hidden (package-private in this case, could make it `private` by nesting it in the factory class).\r\n\r\n___\r\n\r\nIf you want to expose a Type (e.g. in cases where you can&#39;t use `var` such as method/constructor args) you can provide a `sealed interface` representing the type and only `permit` the hidden record:\r\n\r\n```\r\npublic sealed interface SomeType permits SomeRecord {\r\n  String key();\r\n  String value();\r\n}\r\n```\r\n\r\n```\r\n// package-private\r\nrecord SomeRecord(String key, String value) implements SomeType {}\r\n```\r\n\r\n```\r\npublic final class SomeRecordFactory {\r\n  public SomeType create(String value) {\r\n    return new SomeRecord(&quot;key&quot;, value);\r\n  }\r\n}\r\n```\r\n\r\nThen you can create instances without `var` like:\r\n```\r\nSomeRecordFactory factory = new SomeRecordFactory();\r\nSomeType myObject = factory.create(&quot;my value&quot;);\r\n```\r\n\r\n___\r\n\r\nThe downside to this approach is you won&#39;t have access to the records. So you can&#39;t use the new features like pattern matching (exhaustive switch on `sealed interface` + `record` deconstruction). \r\nYou&#39;d have to do that within your package (you could argue this is a good thing, as it&#39;ll be hidden from the users of your API!).","title":"Why can a Java record&#39;s canonical constructor not have more restrictive access than the record level?","body":"<p>You can't do exactly what you want here - <code>public</code> record with hidden constructor (or more generally - a record whose constructor has more restrictive access - as you've already pointed out!).\nBut if you tweak the requirements a bit you can achieve a similarly desired outcome.</p>\n<p>The trick is to make the <code>record</code> itself hidden (<code>private</code> or package-private) and only expose the factory class:</p>\n<pre><code>// package-private\nrecord SomeRecord(String key, String value) {}\n</code></pre>\n<pre><code>public final class SomeRecordFactory {\n  public SomeRecord create(String value) {\n    return new SomeRecord(&quot;key&quot;, value);\n  }\n}\n</code></pre>\n<p>Then you're forced to create instances like:</p>\n<pre><code>SomeRecordFactory factory = new SomeRecordFactory();\nvar myObject = factory.create(&quot;my value&quot;);\n</code></pre>\n<p><strong>NOTE</strong> the use of <code>var</code> - I can't use <code>MyRecord</code> because it is hidden (package-private in this case, could make it <code>private</code> by nesting it in the factory class).</p>\n<hr />\n<p>If you want to expose a Type (e.g. in cases where you can't use <code>var</code> such as method/constructor args) you can provide a <code>sealed interface</code> representing the type and only <code>permit</code> the hidden record:</p>\n<pre><code>public sealed interface SomeType permits SomeRecord {\n  String key();\n  String value();\n}\n</code></pre>\n<pre><code>// package-private\nrecord SomeRecord(String key, String value) implements SomeType {}\n</code></pre>\n<pre><code>public final class SomeRecordFactory {\n  public SomeType create(String value) {\n    return new SomeRecord(&quot;key&quot;, value);\n  }\n}\n</code></pre>\n<p>Then you can create instances without <code>var</code> like:</p>\n<pre><code>SomeRecordFactory factory = new SomeRecordFactory();\nSomeType myObject = factory.create(&quot;my value&quot;);\n</code></pre>\n<hr />\n<p>The downside to this approach is you won't have access to the records. So you can't use the new features like pattern matching (exhaustive switch on <code>sealed interface</code> + <code>record</code> deconstruction).\nYou'd have to do that within your package (you could argue this is a good thing, as it'll be hidden from the users of your API!).</p>\n"}],"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7330,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":67627794,"answer_count":3,"score":24,"last_activity_date":1667271955,"creation_date":1605748274,"question_id":64903887,"body_markdown":"I have a situation where I want record instances for a specific type to only be creatable using a factory method in a separate class within the same package. The reason for this is because before creating the record I need to perform a significant amount of validation. \r\n\r\nThe record is intended to be a dumb-data carrier of its validated fields but the validation cannot take place in the record&#39;s constructor because we require access to some elaborate validator objects to actually perform the validation.\r\n\r\nSince passing the validator objects to the record constructor would mean they would form part of the record state it means we cannot use the record constructor to perform the record&#39;s validation. \r\n\r\nAnd so I extracted the validation out into its own factory and coded up something like this (a factory class and a record in the same package):\r\n\r\n```java\r\npackage some.package;\r\n\r\n// imports.....\r\n\r\n@Component\r\nclass SomeRecordFactory {\r\n    private final SomeValidator someValidator;\r\n    private final SomeOtherValidator someOtherValidator;\r\n    // Rest of the fields\r\n    // ....\r\n\r\n    // constructor  \r\n    // ....\r\n\r\n\r\n    public SomeRecord create(...) {\r\n         someValidator.validate(....);\r\n         someOtherValidator.validate(....);\r\n         // .... other validation\r\n\r\n         return new SomeRecord(...);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage some.package;\r\n\r\npublic record SomeRecord(...) {\r\n    /* package-private */ SomeRecord {\r\n    }\r\n}\r\n```\r\n\r\nFor whatever reason the above does not work with IntelliJ complaining:\r\n\r\n```\r\nCompact constructor access level cannot be more restrictive than the record access level (public)\r\n```\r\n\r\nI can avoid the issue by using a normal class (which allows for a single package-private constructor) but would like to more accurately model the data as a record.\r\n\r\nWhy does this restriction exist for records? Are there any plans to remove this restriction in the future?\r\n","title":"Why can a Java record&#39;s canonical constructor not have more restrictive access than the record level?","body":"<p>I have a situation where I want record instances for a specific type to only be creatable using a factory method in a separate class within the same package. The reason for this is because before creating the record I need to perform a significant amount of validation.</p>\n<p>The record is intended to be a dumb-data carrier of its validated fields but the validation cannot take place in the record's constructor because we require access to some elaborate validator objects to actually perform the validation.</p>\n<p>Since passing the validator objects to the record constructor would mean they would form part of the record state it means we cannot use the record constructor to perform the record's validation.</p>\n<p>And so I extracted the validation out into its own factory and coded up something like this (a factory class and a record in the same package):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package some.package;\n\n// imports.....\n\n@Component\nclass SomeRecordFactory {\n    private final SomeValidator someValidator;\n    private final SomeOtherValidator someOtherValidator;\n    // Rest of the fields\n    // ....\n\n    // constructor  \n    // ....\n\n\n    public SomeRecord create(...) {\n         someValidator.validate(....);\n         someOtherValidator.validate(....);\n         // .... other validation\n\n         return new SomeRecord(...);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package some.package;\n\npublic record SomeRecord(...) {\n    /* package-private */ SomeRecord {\n    }\n}\n</code></pre>\n<p>For whatever reason the above does not work with IntelliJ complaining:</p>\n<pre><code>Compact constructor access level cannot be more restrictive than the record access level (public)\n</code></pre>\n<p>I can avoid the issue by using a normal class (which allows for a single package-private constructor) but would like to more accurately model the data as a record.</p>\n<p>Why does this restriction exist for records? Are there any plans to remove this restriction in the future?</p>\n"},{"tags":["java","exception","assert","junit-jupiter"],"comments":[{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":3,"creation_date":1667253024,"post_id":74269408,"comment_id":131122047,"body_markdown":"The assert statement throws an `AssertionError`, resulting in the stack trace being output. The stack trace includes methods that have called your test method, `ThisTest`. The JUnit framework puts all test methods in an ArrayList and then executes each one in turn. Hence the ArrayList in the stack trace.","body":"The assert statement throws an <code>AssertionError</code>, resulting in the stack trace being output. The stack trace includes methods that have called your test method, <code>ThisTest</code>. The JUnit framework puts all test methods in an ArrayList and then executes each one in turn. Hence the ArrayList in the stack trace."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1667253604,"post_id":74269408,"comment_id":131122150,"body_markdown":"BTW, it&#39;s more common to use the assert functions of JUnit itself, not Java&#39;s assert mechanism, e.g. `assertEquals(&quot;nope&quot;, 1, 2)`. The error message you get would tell you that the expected number is 1 and the actual number was 2.","body":"BTW, it&#39;s more common to use the assert functions of JUnit itself, not Java&#39;s assert mechanism, e.g. <code>assertEquals(&quot;nope&quot;, 1, 2)</code>. The error message you get would tell you that the expected number is 1 and the actual number was 2."}],"answers":[{"comments":[{"owner":{"account_id":4443960,"reputation":988,"user_id":3617811,"accept_rate":75,"display_name":"DraxDomax"},"score":0,"creation_date":1667410424,"post_id":74271014,"comment_id":131162593,"body_markdown":"I wasn&#39;t asking about stack traces; I was asking about this particular exception from JUnit. I guess I could download the sources and debug JUnit for a week (and that&#39;s assuming the complexity of what I will encounter isn&#39;t above my IQ)... But that&#39;s true for all the questions in SO ;)","body":"I wasn&#39;t asking about stack traces; I was asking about this particular exception from JUnit. I guess I could download the sources and debug JUnit for a week (and that&#39;s assuming the complexity of what I will encounter isn&#39;t above my IQ)... But that&#39;s true for all the questions in SO ;)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667665943,"post_id":74271014,"comment_id":131222760,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74271014/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26790656,"reputation":1,"user_id":20384118,"display_name":"user20384118"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667271018,"creation_date":1667270942,"answer_id":74271014,"question_id":74269408,"body_markdown":"The lines after the exception are called a “stack trace”. The top line is where the exception occurred. The next line down is where the method containing the top line was called. Likewise for the remaining lines of the stack trace.\r\n\r\nMost of the time errors are caused by the values that are passed in. So to resolve the issue one must walk down the stack trace, determining at each line how incorrect parameters were created.\r\n\r\nIn other words JUnit called the forEach method on an ArrayList, resulting in a call to your program.\r\n\r\nIn your case the stack trace is not helpful, since it is in library. Stack traces are a lot more helpful when they are pointing to locations in your own code.\r\n\r\nIf you would like to see for yourself write some simple classes and have them call each other, ending in a method that just throws a RuntimeException. Then run it and compare the lines in your code to the stack trace. It will all become clear.\r\n\r\n","title":"Java8-JUnit5: Why does assert raise some exception about an ArrayList (am I using it correctly)?","body":"<p>The lines after the exception are called a “stack trace”. The top line is where the exception occurred. The next line down is where the method containing the top line was called. Likewise for the remaining lines of the stack trace.</p>\n<p>Most of the time errors are caused by the values that are passed in. So to resolve the issue one must walk down the stack trace, determining at each line how incorrect parameters were created.</p>\n<p>In other words JUnit called the forEach method on an ArrayList, resulting in a call to your program.</p>\n<p>In your case the stack trace is not helpful, since it is in library. Stack traces are a lot more helpful when they are pointing to locations in your own code.</p>\n<p>If you would like to see for yourself write some simple classes and have them call each other, ending in a method that just throws a RuntimeException. Then run it and compare the lines in your code to the stack trace. It will all become clear.</p>\n"}],"owner":{"account_id":4443960,"reputation":988,"user_id":3617811,"accept_rate":75,"display_name":"DraxDomax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667271018,"creation_date":1667252676,"question_id":74269408,"body_markdown":"I am starting to use the `assert` keyword instead of writing conditional exception `raise`.\r\nI am not sure I am using `assert` correctly, because, when tests fail, the exception talks about some ArrayList (I am not using that here).\r\n\r\nHere&#39;s some code to reproduce the error:\r\n\r\n    public class ThisTest {\r\n        @Test\r\n        public void myTest () {\r\n            assert 1==2 : &quot;nope&quot;;\r\n        }\r\n    }\r\n\r\nSo, I am getting my AssertionError, as expected, but there&#39;s also this stuff in the end (showing you the whole output): \r\n\r\n    java.lang.AssertionError: nope\r\n\r\n    at com.blah.ThisTest.myTest(ThisTest.java:8)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\r\nWhat ArrayList is this talking about, maybe I am missing a parameter?","title":"Java8-JUnit5: Why does assert raise some exception about an ArrayList (am I using it correctly)?","body":"<p>I am starting to use the <code>assert</code> keyword instead of writing conditional exception <code>raise</code>.\nI am not sure I am using <code>assert</code> correctly, because, when tests fail, the exception talks about some ArrayList (I am not using that here).</p>\n<p>Here's some code to reproduce the error:</p>\n<pre><code>public class ThisTest {\n    @Test\n    public void myTest () {\n        assert 1==2 : &quot;nope&quot;;\n    }\n}\n</code></pre>\n<p>So, I am getting my AssertionError, as expected, but there's also this stuff in the end (showing you the whole output):</p>\n<pre><code>java.lang.AssertionError: nope\n\nat com.blah.ThisTest.myTest(ThisTest.java:8)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n</code></pre>\n<p>What ArrayList is this talking about, maybe I am missing a parameter?</p>\n"},{"tags":["java","android","viewgroup"],"comments":[{"owner":{"account_id":3738133,"reputation":7463,"user_id":3108590,"accept_rate":62,"display_name":"MathieuMaree"},"score":3,"creation_date":1452545613,"post_id":33242776,"comment_id":57207883,"body_markdown":"I want to add that I&#39;ve been experiencing it when swiping to refresh with a SwipeRefreshLayout and an empty RecyclerView","body":"I want to add that I&#39;ve been experiencing it when swiping to refresh with a SwipeRefreshLayout and an empty RecyclerView"},{"owner":{"account_id":1825286,"reputation":15862,"user_id":1658267,"accept_rate":75,"display_name":"Konstantin Loginov"},"score":0,"creation_date":1452588139,"post_id":33242776,"comment_id":57223691,"body_markdown":"@MathieuMaree Have you check https://github.com/worker8/TourGuide/pull/34 link? It seems the author found a workaround in his case - who knows, maybe it will help you too","body":"@MathieuMaree Have you check <a href=\"https://github.com/worker8/TourGuide/pull/34\" rel=\"nofollow noreferrer\">github.com/worker8/TourGuide/pull/34</a> link? It seems the author found a workaround in his case - who knows, maybe it will help you too"},{"owner":{"account_id":905775,"reputation":4960,"user_id":940720,"accept_rate":100,"display_name":"gio"},"score":2,"creation_date":1452938532,"post_id":33242776,"comment_id":57393314,"body_markdown":"please provide code which could be used to reproduce this crash","body":"please provide code which could be used to reproduce this crash"}],"answers":[{"tags":[],"owner":{"account_id":185057,"reputation":2158,"user_id":421524,"display_name":"kevinpelgrims"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1452960089,"creation_date":1452960089,"answer_id":34829023,"question_id":33242776,"body_markdown":"The problem is in the `ViewGroup`&#39;s `dispatchDraw()` method. This method tries to draw all the `ViewGroup`&#39;s children. When a child is `null`, you get an exception, which most likely comes from [this line][1]: `if ((child.mViewFlags &amp; VISIBILITY_MASK) == VISIBLE) {` (notice the `mViewFlags`).\r\n\r\nSo the problem is that one of your views, somewhere, is not properly initialized. I&#39;m afraid that&#39;s the best I can do.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/view/ViewGroup.java#3138","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>The problem is in the <code>ViewGroup</code>'s <code>dispatchDraw()</code> method. This method tries to draw all the <code>ViewGroup</code>'s children. When a child is <code>null</code>, you get an exception, which most likely comes from <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/view/ViewGroup.java#3138\" rel=\"noreferrer\">this line</a>: <code>if ((child.mViewFlags &amp; VISIBILITY_MASK) == VISIBLE) {</code> (notice the <code>mViewFlags</code>).</p>\n\n<p>So the problem is that one of your views, somewhere, is not properly initialized. I'm afraid that's the best I can do.</p>\n"},{"comments":[{"owner":{"account_id":132094,"reputation":31753,"user_id":332578,"accept_rate":89,"display_name":"Jacksonkr"},"score":0,"creation_date":1457719268,"post_id":35205000,"comment_id":59550366,"body_markdown":"@DeanWild It&#39;s a total hack, I agree. I&#39;m sure there is a tread-safe / correct way in doing this but I dare say the time &amp; creativity needed for a &quot;proper&quot; solution outweighs the benefits of a quick hack, but I&#39;ve been wrong before...","body":"@DeanWild It&#39;s a total hack, I agree. I&#39;m sure there is a tread-safe / correct way in doing this but I dare say the time &amp; creativity needed for a &quot;proper&quot; solution outweighs the benefits of a quick hack, but I&#39;ve been wrong before..."},{"owner":{"account_id":103538,"reputation":13824,"user_id":277267,"accept_rate":69,"display_name":"Daniel F"},"score":2,"creation_date":1488962458,"post_id":35205000,"comment_id":72458140,"body_markdown":"@Jacksonkr Thanks for the answer. In my case simply putting the `removeView` call in a `runnable` that is `post`ed on the same view the `removeView` is called on fixed the issue. That feels like a &quot;more proper&quot; solution as there is no delay involved.","body":"@Jacksonkr Thanks for the answer. In my case simply putting the <code>removeView</code> call in a <code>runnable</code> that is <code>post</code>ed on the same view the <code>removeView</code> is called on fixed the issue. That feels like a &quot;more proper&quot; solution as there is no delay involved."},{"owner":{"account_id":132094,"reputation":31753,"user_id":332578,"accept_rate":89,"display_name":"Jacksonkr"},"score":0,"creation_date":1488982612,"post_id":35205000,"comment_id":72471935,"body_markdown":"Are you skipping the `runOnUiThread` ? Depending on the setup that may get a person into hot water.","body":"Are you skipping the <code>runOnUiThread</code> ? Depending on the setup that may get a person into hot water."},{"owner":{"account_id":51633,"reputation":37763,"user_id":154306,"accept_rate":98,"display_name":"Paul Lammertsma"},"score":1,"creation_date":1540210411,"post_id":35205000,"comment_id":92767292,"body_markdown":"By using `postAtTime()` what you are unintentionally doing, is never invoking the  runnable. I&#39;m sure you meant `postDelayed()` instead, but the fact that this resolved your problem leads me to believe this isn&#39;t a resolution at all; you&#39;re effectively keeping the views in memory. This really isn&#39;t a solution for use cases such as animating views in a RecyclerView.","body":"By using <code>postAtTime()</code> what you are unintentionally doing, is never invoking the  runnable. I&#39;m sure you meant <code>postDelayed()</code> instead, but the fact that this resolved your problem leads me to believe this isn&#39;t a resolution at all; you&#39;re effectively keeping the views in memory. This really isn&#39;t a solution for use cases such as animating views in a RecyclerView."}],"tags":[],"owner":{"account_id":132094,"reputation":31753,"user_id":332578,"accept_rate":89,"display_name":"Jacksonkr"},"comment_count":4,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1601910576,"creation_date":1454599751,"answer_id":35205000,"question_id":33242776,"body_markdown":"# Possible Solution\n\nI had this same issue. I setup an `animation` and in `onAnimationEnd` I was removing the object that had been animated which is when problems started. What I did was setup an *asynchronous* `Runnable` to wait 100 milliseconds after the animation had stopped before removing the animated object:\n\n*the object previously animated is `this._loader`*\n\n    private void removeLoader() {\n        final ContentContainer self = this; // &quot;CustomContainer&quot; needs to match the type of `this`\n        Handler h = new Handler();\n        h.postAtTime(new Runnable() {\n            @Override\n            public void run() {\n                MainActivity.instance.runOnUiThread(new Runnable() { \n                    @Override\n                    public void run() {\n                        try {\n                            if(self._loader == null) {\n                                // there is no loader. quit now while you still have the chance!!\n                                return;\n                            }\n                            while(self._loader.getParent() != null) {\n                                removeView(self._loader);\n                            }\n                        } catch(Exception e) {\n                            Crashlytics.logException(e);\n                            e.printStackTrace();\n                        }\n\n                        self._loader = null;\n                    }\n                });\n            }\n        }, 100);\n    }\n\n***Cheers***","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<h1>Possible Solution</h1>\n<p>I had this same issue. I setup an <code>animation</code> and in <code>onAnimationEnd</code> I was removing the object that had been animated which is when problems started. What I did was setup an <em>asynchronous</em> <code>Runnable</code> to wait 100 milliseconds after the animation had stopped before removing the animated object:</p>\n<p><em>the object previously animated is <code>this._loader</code></em></p>\n<pre><code>private void removeLoader() {\n    final ContentContainer self = this; // &quot;CustomContainer&quot; needs to match the type of `this`\n    Handler h = new Handler();\n    h.postAtTime(new Runnable() {\n        @Override\n        public void run() {\n            MainActivity.instance.runOnUiThread(new Runnable() { \n                @Override\n                public void run() {\n                    try {\n                        if(self._loader == null) {\n                            // there is no loader. quit now while you still have the chance!!\n                            return;\n                        }\n                        while(self._loader.getParent() != null) {\n                            removeView(self._loader);\n                        }\n                    } catch(Exception e) {\n                        Crashlytics.logException(e);\n                        e.printStackTrace();\n                    }\n\n                    self._loader = null;\n                }\n            });\n        }\n    }, 100);\n}\n</code></pre>\n<p><em><strong>Cheers</strong></em></p>\n"},{"tags":[],"owner":{"account_id":2233126,"reputation":121,"user_id":1970253,"display_name":"Teemu L&#228;tti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459316472,"creation_date":1459316472,"answer_id":36300563,"question_id":33242776,"body_markdown":"**Possible cause:**\r\nI was having the exact same issue. It turned out it started to happen when I added code to modify the view tree within onDraw() call. To be specific, I removed a view with children in my derived onDraw() when certain conditions were met. I now believe this is a bad thing to do, probably because the platform is trying to draw views that I have now removed from the view tree. I resolved the issue by posting the deletion with Runnable to happen after the call to onDraw() has finished.","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p><strong>Possible cause:</strong>\nI was having the exact same issue. It turned out it started to happen when I added code to modify the view tree within onDraw() call. To be specific, I removed a view with children in my derived onDraw() when certain conditions were met. I now believe this is a bad thing to do, probably because the platform is trying to draw views that I have now removed from the view tree. I resolved the issue by posting the deletion with Runnable to happen after the call to onDraw() has finished.</p>\n"},{"tags":[],"owner":{"account_id":972759,"reputation":8870,"user_id":994939,"accept_rate":100,"display_name":"veritas1"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459352324,"creation_date":1459352324,"answer_id":36313569,"question_id":33242776,"body_markdown":"We started getting this error unexpectedly too. It was tracked down to fragment animations being the issue. More specifically using custom animations with `replace()` in a fragment transaction when the app is built against `Local Maven repository for Support Libraries` rev &gt; 26.\r\n\r\n## Possible solution\r\n\r\nDowngrade `Local Maven repository for Support Libraries` to rev 26. See [here][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/android/issues/detail?id=203546","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>We started getting this error unexpectedly too. It was tracked down to fragment animations being the issue. More specifically using custom animations with <code>replace()</code> in a fragment transaction when the app is built against <code>Local Maven repository for Support Libraries</code> rev > 26.</p>\n\n<h2>Possible solution</h2>\n\n<p>Downgrade <code>Local Maven repository for Support Libraries</code> to rev 26. See <a href=\"https://code.google.com/p/android/issues/detail?id=203546\" rel=\"nofollow\">here</a></p>\n"},{"comments":[{"owner":{"account_id":3867233,"reputation":41018,"user_id":3203487,"accept_rate":54,"display_name":"David Berry"},"score":0,"creation_date":1585683548,"post_id":37213025,"comment_id":107847499,"body_markdown":"Very not obvious from the error message, but in my case it was removing the view in the AnimationListener.  posting it to get back to main thread solved the problem.","body":"Very not obvious from the error message, but in my case it was removing the view in the AnimationListener.  posting it to get back to main thread solved the problem."}],"tags":[],"owner":{"account_id":3720466,"reputation":881,"user_id":3114599,"accept_rate":95,"display_name":"Pawan Chaurasiya"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1463150679,"creation_date":1463150679,"answer_id":37213025,"question_id":33242776,"body_markdown":"I was facing same problem. I resolved with Handler.\r\n\r\n    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                       // remove fragment from here\r\n                    }\r\n                });","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>I was facing same problem. I resolved with Handler.</p>\n\n<pre><code>new Handler(Looper.getMainLooper()).post(new Runnable() {\n                @Override\n                public void run() {\n                   // remove fragment from here\n                }\n            });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":969994,"reputation":548,"user_id":992703,"accept_rate":82,"display_name":"kaitian521"},"score":0,"creation_date":1673258024,"post_id":47717483,"comment_id":132449612,"body_markdown":"never do that! maybe something bad happens","body":"never do that! maybe something bad happens"},{"owner":{"account_id":5647797,"reputation":69,"user_id":4469322,"display_name":"Pierpaolo Pierpaoli"},"score":0,"creation_date":1679055058,"post_id":47717483,"comment_id":133656369,"body_markdown":"I did that in a production app years ago. It has worked fine since today","body":"I did that in a production app years ago. It has worked fine since today"}],"tags":[],"owner":{"account_id":5647797,"reputation":69,"user_id":4469322,"display_name":"Pierpaolo Pierpaoli"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1512747334,"creation_date":1512747334,"answer_id":47717483,"question_id":33242776,"body_markdown":"Override dispatchDraw method and put in it a try/catch block, like this:\r\n\r\n\r\n\r\n \r\n\r\n    public void dispatchDraw(Canvas c)\r\n        {\r\n            try\r\n            {\r\n                super.dispatchDraw(c);\r\n                return;\r\n                \r\n            }\r\n            catch(Exception exception)\r\n            {\r\n                return;\r\n            }\r\n        }\r\n\r\n\r\n \r\n","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>Override dispatchDraw method and put in it a try/catch block, like this:</p>\n\n<pre><code>public void dispatchDraw(Canvas c)\n    {\n        try\n        {\n            super.dispatchDraw(c);\n            return;\n\n        }\n        catch(Exception exception)\n        {\n            return;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9670100,"reputation":380,"user_id":7175336,"display_name":"Bassam Helal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584843082,"creation_date":1584843082,"answer_id":60795278,"question_id":33242776,"body_markdown":"While it is ugly and not good practice, the only thing I could get to reliably work is just catching the exception in `dispatchDraw()` like below:\r\n\r\n```kotlin\r\noverride fun dispatchDraw(canvas: Canvas?) {\r\n        /*\r\n         * We&#39;re doing this because of the below exception that is out of our control:\r\n         * java.lang.NullPointerException: Attempt to read from field\r\n         * &#39;int android.view.View.mViewFlags&#39; on a null object reference at\r\n         * android.view.ViewGroup.dispatchDraw(ViewGroup.java:4111)\r\n         */\r\n        try {\r\n            super.dispatchDraw(canvas)\r\n        } catch (e: NullPointerException) {\r\n\r\n        }\r\n    }\r\n```\r\n\r\nJust make sure your desired behavior is working correctly and you&#39;re not breaking something else by doing this.\r\nAgain, not ideal, but it&#39;s the only thing I could get to work and I&#39;m absolutely sure in my case it&#39;s not breaking anything else.\r\n\r\nPeace to you :)","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>While it is ugly and not good practice, the only thing I could get to reliably work is just catching the exception in <code>dispatchDraw()</code> like below:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun dispatchDraw(canvas: Canvas?) {\n        /*\n         * We're doing this because of the below exception that is out of our control:\n         * java.lang.NullPointerException: Attempt to read from field\n         * 'int android.view.View.mViewFlags' on a null object reference at\n         * android.view.ViewGroup.dispatchDraw(ViewGroup.java:4111)\n         */\n        try {\n            super.dispatchDraw(canvas)\n        } catch (e: NullPointerException) {\n\n        }\n    }\n</code></pre>\n\n<p>Just make sure your desired behavior is working correctly and you're not breaking something else by doing this.\nAgain, not ideal, but it's the only thing I could get to work and I'm absolutely sure in my case it's not breaking anything else.</p>\n\n<p>Peace to you :)</p>\n"},{"tags":[],"owner":{"account_id":17734551,"reputation":466,"user_id":12876239,"display_name":"Anirudh Ganesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590990421,"creation_date":1590989074,"answer_id":62126167,"question_id":33242776,"body_markdown":"I was trying to navigate from **Fragment A** to **Fragment B**, and **Fragment A** was a form that required data from **Fragment B**.\r\n\r\nSo when I tried to navigate without filling up **A**, it was throwing this exception.\r\n\r\nAlso, even if **A** was independent of the data **B**, it was throwing this exception.\r\n\r\nI have no idea why but I added a condition where the user had to fill-up the form before navigating away and that solved the issue.","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>I was trying to navigate from <strong>Fragment A</strong> to <strong>Fragment B</strong>, and <strong>Fragment A</strong> was a form that required data from <strong>Fragment B</strong>.</p>\n\n<p>So when I tried to navigate without filling up <strong>A</strong>, it was throwing this exception.</p>\n\n<p>Also, even if <strong>A</strong> was independent of the data <strong>B</strong>, it was throwing this exception.</p>\n\n<p>I have no idea why but I added a condition where the user had to fill-up the form before navigating away and that solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":3419254,"reputation":2327,"user_id":2867351,"display_name":"Morgan Koh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598323608,"creation_date":1598323608,"answer_id":63571347,"question_id":33242776,"body_markdown":"It&#39;s a threading issue. Could be that you&#39;re refreshing your `ViewPager` or some other adapter.\r\n\r\nHave been facing this issue on and off, and realised that if you place it in the UI Thread in your `Activity`, then it&#39;ll render just fine.\r\n\r\n```kotlin\r\nactivity?.runOnUiThread{\r\n   // Add Your UI Updating Methods Here\r\n}\r\n```","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>It's a threading issue. Could be that you're refreshing your <code>ViewPager</code> or some other adapter.</p>\n<p>Have been facing this issue on and off, and realised that if you place it in the UI Thread in your <code>Activity</code>, then it'll render just fine.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>activity?.runOnUiThread{\n   // Add Your UI Updating Methods Here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3087276,"reputation":1044,"user_id":2614189,"display_name":"Masoud Dadashi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619123787,"creation_date":1619123470,"answer_id":67220351,"question_id":33242776,"body_markdown":"No delay / threading stuff required. Plz Read through...\r\nThe post is old but for the future readers, it would be helpful.\r\nI explain in details what really happens with a use-case I faced and solved.\r\n\r\nI have a viewflipper which animates flipping next and previous through its children using simple slide-in / slide-out animations. I need to remove a view from viewflipper just after flipping is completed and to make sure it happens at the right time, slide-in animations have a listener where I remove the view in there. Everything worked perfect for flip-to-next\r\nwhile flip-to-previous threw the above mentioned exception. After some trial and error turns out:\r\n\r\nwhen flipping to next the following is the sequence:\r\n\r\n    1-slide-out starts\r\n    2-slide-in starts\r\n    3-slide-out finishes\r\n    4-slide-in finishes\r\n\r\nSo having listener on slide-in is the right thing since both animations are guaranteed to be completed there.\r\n\r\nBut when flipping to previous the following is the sequence:\r\n\r\n    1-slide-in starts\r\n    2-slide-out starts\r\n    3-slide-in finishes\r\n    4-slide-out finishes\r\n\r\nAs you can see, when slide-in finishes, slide-out is not done yet and hence there happens the exception. I simply set the listener on slide-out and it worked perfectly.\r\n\r\nWhile all of the other answers urge to remove the view with a delay (which of course helps to make sure concurrent animations are all done) but as you could see that is not the case. \r\n\r\nAs a general rule, when you have a set of animations running on a view (even with the exact same durations) -although the general belief is that they would finish both together - but they won&#39;t (remember that threads are virtually concurrent). \r\n\r\n","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>No delay / threading stuff required. Plz Read through...\nThe post is old but for the future readers, it would be helpful.\nI explain in details what really happens with a use-case I faced and solved.</p>\n<p>I have a viewflipper which animates flipping next and previous through its children using simple slide-in / slide-out animations. I need to remove a view from viewflipper just after flipping is completed and to make sure it happens at the right time, slide-in animations have a listener where I remove the view in there. Everything worked perfect for flip-to-next\nwhile flip-to-previous threw the above mentioned exception. After some trial and error turns out:</p>\n<p>when flipping to next the following is the sequence:</p>\n<pre><code>1-slide-out starts\n2-slide-in starts\n3-slide-out finishes\n4-slide-in finishes\n</code></pre>\n<p>So having listener on slide-in is the right thing since both animations are guaranteed to be completed there.</p>\n<p>But when flipping to previous the following is the sequence:</p>\n<pre><code>1-slide-in starts\n2-slide-out starts\n3-slide-in finishes\n4-slide-out finishes\n</code></pre>\n<p>As you can see, when slide-in finishes, slide-out is not done yet and hence there happens the exception. I simply set the listener on slide-out and it worked perfectly.</p>\n<p>While all of the other answers urge to remove the view with a delay (which of course helps to make sure concurrent animations are all done) but as you could see that is not the case.</p>\n<p>As a general rule, when you have a set of animations running on a view (even with the exact same durations) -although the general belief is that they would finish both together - but they won't (remember that threads are virtually concurrent).</p>\n"},{"tags":[],"owner":{"account_id":3061325,"reputation":1455,"user_id":2593896,"accept_rate":75,"display_name":"Shaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667270354,"creation_date":1667270354,"answer_id":74270963,"question_id":33242776,"body_markdown":"This is mainly because you are removing a view duaring touchEvent dispatching.\r\nIt&#39;s hard to find out the who is removing the view in a large code base.\r\n\r\nFor those who want the crash analysis, can check this post:\r\n\r\nhttps://medium.com/@wanxiao1994/crash-analysis-resetcancelnextupflag-nullpointerexception-e409b7bdbad","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>This is mainly because you are removing a view duaring touchEvent dispatching.\nIt's hard to find out the who is removing the view in a large code base.</p>\n<p>For those who want the crash analysis, can check this post:</p>\n<p><a href=\"https://medium.com/@wanxiao1994/crash-analysis-resetcancelnextupflag-nullpointerexception-e409b7bdbad\" rel=\"nofollow noreferrer\">https://medium.com/@wanxiao1994/crash-analysis-resetcancelnextupflag-nullpointerexception-e409b7bdbad</a></p>\n"}],"owner":{"account_id":5218224,"reputation":1104,"user_id":4172444,"accept_rate":25,"display_name":"M2014"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30653,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"answer_count":11,"score":75,"last_activity_date":1667270354,"creation_date":1445361225,"question_id":33242776,"body_markdown":"We have found several cases for this kind of crashes reported by backend logging monitoring. It seems the crashes do not tie to particular UX failure. And from the reports, there is no sign of how our own classes being involved(no sign of any of our classes names). Here is an example of typical crashes:\r\n\r\n    java.lang.NullPointerException: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference \r\n    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:3357) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14288) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \r\n    at android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \r\n    at android.view.View.updateDisplayListIfDirty(View.java:14253) \r\n    at android.view.View.getDisplayList(View.java:14315) \r\n    at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:273) \r\n    at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:279) \r\n    at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:318) \r\n    at android.view.ViewRootImpl.draw(ViewRootImpl.java:2561) \r\n    at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2377) \r\n    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2007) \r\n    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1086) \r\n    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6453) \r\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:846) \r\n    at android.view.Choreographer.doCallbacks(Choreographer.java:647) \r\n    at android.view.Choreographer.doFrame(Choreographer.java:601) \r\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:829) \r\n    at android.os.Handler.handleCallback(Handler.java:739) \r\n    at android.os.Handler.dispatchMessage(Handler.java:95) \r\n    at android.os.Looper.loop(Looper.java:135) \r\n    at android.app.ActivityThread.main(ActivityThread.java:5254) \r\n    at java.lang.reflect.Method.invoke(Native Method) \r\n    at java.lang.reflect.Method.invoke(Method.java:372) \r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:927) \r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:713) \r\n\r\n\r\n\r\nDoes anyone know whether there is related bug logged against Android code?\r\n","title":"Android ViewGroup crash: Attempt to read from field &#39;int android.view.View.mViewFlags&#39; on a null object reference","body":"<p>We have found several cases for this kind of crashes reported by backend logging monitoring. It seems the crashes do not tie to particular UX failure. And from the reports, there is no sign of how our own classes being involved(no sign of any of our classes names). Here is an example of typical crashes:</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to read from field 'int android.view.View.mViewFlags' on a null object reference \nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:3357) \nat android.view.View.updateDisplayListIfDirty(View.java:14288) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ViewGroup.recreateChildDisplayList(ViewGroup.java:3549) \nat android.view.ViewGroup.dispatchGetDisplayList(ViewGroup.java:3528) \nat android.view.View.updateDisplayListIfDirty(View.java:14253) \nat android.view.View.getDisplayList(View.java:14315) \nat android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:273) \nat android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:279) \nat android.view.ThreadedRenderer.draw(ThreadedRenderer.java:318) \nat android.view.ViewRootImpl.draw(ViewRootImpl.java:2561) \nat android.view.ViewRootImpl.performDraw(ViewRootImpl.java:2377) \nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2007) \nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1086) \nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6453) \nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:846) \nat android.view.Choreographer.doCallbacks(Choreographer.java:647) \nat android.view.Choreographer.doFrame(Choreographer.java:601) \nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:829) \nat android.os.Handler.handleCallback(Handler.java:739) \nat android.os.Handler.dispatchMessage(Handler.java:95) \nat android.os.Looper.loop(Looper.java:135) \nat android.app.ActivityThread.main(ActivityThread.java:5254) \nat java.lang.reflect.Method.invoke(Native Method) \nat java.lang.reflect.Method.invoke(Method.java:372) \nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:927) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:713) \n</code></pre>\n\n<p>Does anyone know whether there is related bug logged against Android code?</p>\n"},{"tags":["java","android","android-intent","android-activity","master-detail"],"comments":[{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455789360,"post_id":35477064,"comment_id":58650209,"body_markdown":"Please Help.. I am a beginner","body":"Please Help.. I am a beginner"}],"answers":[{"comments":[{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455964567,"post_id":35478178,"comment_id":58734001,"body_markdown":"what is main activity in Master detail flow","body":"what is main activity in Master detail flow"},{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455964661,"post_id":35478178,"comment_id":58734040,"body_markdown":"I have used the dummy content class to add items in the list, but i have used 17 items, Is this a problem","body":"I have used the dummy content class to add items in the list, but i have used 17 items, Is this a problem"},{"owner":{"account_id":6468215,"reputation":93,"user_id":5009298,"display_name":"prabhat yadav"},"score":0,"creation_date":1455964814,"post_id":35478178,"comment_id":58734081,"body_markdown":"i did not understand your question! can u edit your post with your master detail flow file(Activity) so i can have a better look at it","body":"i did not understand your question! can u edit your post with your master detail flow file(Activity) so i can have a better look at it"},{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455965093,"post_id":35478178,"comment_id":58734157,"body_markdown":"I want to run this app on API 10, gingerbread. and therefore i have declared API 10 as the minsdkVersion","body":"I want to run this app on API 10, gingerbread. and therefore i have declared API 10 as the minsdkVersion"},{"owner":{"account_id":6468215,"reputation":93,"user_id":5009298,"display_name":"prabhat yadav"},"score":0,"creation_date":1455965183,"post_id":35478178,"comment_id":58734189,"body_markdown":"okay! that detail is irrelevant. can u just post the main code of master detail flow.","body":"okay! that detail is irrelevant. can u just post the main code of master detail flow."},{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455966564,"post_id":35478178,"comment_id":58734643,"body_markdown":"please tell me the necessary changes","body":"please tell me the necessary changes"},{"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"score":0,"creation_date":1455967106,"post_id":35478178,"comment_id":58734801,"body_markdown":"So that I would be able to run this on gingerbread, without any crashes. Is it safe to add 17 items to the Dummy Content java class, Please take a look even on that,  I will be very glad if i seek help.","body":"So that I would be able to run this on gingerbread, without any crashes. Is it safe to add 17 items to the Dummy Content java class, Please take a look even on that,  I will be very glad if i seek help."}],"tags":[],"owner":{"account_id":6468215,"reputation":93,"user_id":5009298,"display_name":"prabhat yadav"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455789428,"creation_date":1455789428,"answer_id":35478178,"question_id":35477064,"body_markdown":"Instead of this \r\n\r\n` public void Kha(View view) {\r\n        Intent ch = new Intent(getApplicationContext(), MainMenu.class);\r\n        startActivity(ch);    \r\n    }  `\r\n\r\ntry this\r\n\r\n` public void Kha(View view) {\r\n        Intent ch = new Intent(Propergrowth.this, MainMenu.class);\r\n        startActivity(ch);    \r\n    } `\r\n\r\nhopefully this will hep you","title":"How to start master flow activity via intent","body":"<p>Instead of this </p>\n\n<p><code>public void Kha(View view) {\n        Intent ch = new Intent(getApplicationContext(), MainMenu.class);\n        startActivity(ch);<br>\n    }</code></p>\n\n<p>try this</p>\n\n<p><code>public void Kha(View view) {\n        Intent ch = new Intent(Propergrowth.this, MainMenu.class);\n        startActivity(ch);<br>\n    }</code></p>\n\n<p>hopefully this will hep you</p>\n"}],"owner":{"account_id":7866010,"reputation":1,"user_id":5944808,"display_name":"Omkar Jadhav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667269890,"creation_date":1455786504,"question_id":35477064,"body_markdown":"  I try to start my master detail flow activity,via intent.But my app crashes. What should I do? Need help.Please.\r\n\r\nHere is my Code:\r\n\r\n    package com.example.baymax.farmax;    \r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.support.design.widget.FloatingActionButton;\r\n    import android.support.design.widget.Snackbar;    \r\n    import android.support.v7.app.AppCompatActivity;    \r\n    import android.support.v7.widget.Toolbar;    \r\n    import android.view.View;    \r\n    \r\n    public class Propergrowth extends AppCompatActivity {    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_propergrowth);\r\n    }\r\n        public void cher(View view) {    \r\n            startActivity(new Intent(Propergrowth.this,CropsListActivity.class));\r\n        }\r\n    public void Kha(View view) {\r\n            Intent ch = new Intent(getApplicationContext(), MainMenu.class);\r\n            startActivity(ch);    \r\n        }    \r\n    }        \r\n    }\r\n\r\nWhenever I try to open the Master Flow activity, by clicking the button, the app crashes, I tried many alternatives for the way of using intents, But though it crashes. Please, Need help.\r\n\r\n\r\n","title":"How to start master flow activity via intent","body":"<p>I try to start my master detail flow activity,via intent.But my app crashes. What should I do? Need help.Please.</p>\n\n<p>Here is my Code:</p>\n\n<pre><code>package com.example.baymax.farmax;    \n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.design.widget.Snackbar;    \nimport android.support.v7.app.AppCompatActivity;    \nimport android.support.v7.widget.Toolbar;    \nimport android.view.View;    \n\npublic class Propergrowth extends AppCompatActivity {    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_propergrowth);\n}\n    public void cher(View view) {    \n        startActivity(new Intent(Propergrowth.this,CropsListActivity.class));\n    }\npublic void Kha(View view) {\n        Intent ch = new Intent(getApplicationContext(), MainMenu.class);\n        startActivity(ch);    \n    }    \n}        \n}\n</code></pre>\n\n<p>Whenever I try to open the Master Flow activity, by clicking the button, the app crashes, I tried many alternatives for the way of using intents, But though it crashes. Please, Need help.</p>\n"},{"tags":["java","android","firebase-realtime-database","android-permissions"],"owner":{"account_id":9749798,"reputation":169,"user_id":7228432,"accept_rate":100,"display_name":"Haizad Annuar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667269321,"creation_date":1667269321,"question_id":74270877,"body_markdown":"I got error below if the device clock is behind. In this case,it is behind 1 year (11/1/2021):\r\n\r\n```\r\nI/System.out(19047): [socket]:check permission begin!\r\nW/System  (19047): ClassLoader referenced unknown path: system/framework/mediatek-cta.jar\r\nI/System.out(19047): [socket] e:java.lang.ClassNotFoundException: com.mediatek.cta.CtaUtils\r\n```\r\n\r\nI am trying to get the server time offset using Firebase Database function. I am not sure whether the error relates to the Firebase Database because I already edit the security rules of the Firebase database as below:\r\n\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: true,\r\n    &quot;.write&quot;: true\r\n  }\r\n}\r\n```\r\n\r\n\r\nI am running the apps on physical device. My code is:\r\n\r\n```\r\nfinal offsetRef = FirebaseDatabase.instance.ref(&quot;.info/serverTimeOffset&quot;);\r\n\r\n...\r\n// I got the error once I started running codes below\r\noffsetRef.onValue.listen((event) {\r\n   final offset = event.snapshot.value as num ?? 0.0;\r\n   final estimatedServerTimeMs = DateTime.now().millisecondsSinceEpoch + offset;\r\n}\r\n```\r\n\r\nAndroidManifest.xml\r\n```\r\n&lt;manifest\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; package=&quot;com.example.app&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n```","title":"Android ClassNotFoundException: com.mediatek.cta.CtaUtils error when device clock is behind","body":"<p>I got error below if the device clock is behind. In this case,it is behind 1 year (11/1/2021):</p>\n<pre><code>I/System.out(19047): [socket]:check permission begin!\nW/System  (19047): ClassLoader referenced unknown path: system/framework/mediatek-cta.jar\nI/System.out(19047): [socket] e:java.lang.ClassNotFoundException: com.mediatek.cta.CtaUtils\n</code></pre>\n<p>I am trying to get the server time offset using Firebase Database function. I am not sure whether the error relates to the Firebase Database because I already edit the security rules of the Firebase database as below:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,\n    &quot;.write&quot;: true\n  }\n}\n</code></pre>\n<p>I am running the apps on physical device. My code is:</p>\n<pre><code>final offsetRef = FirebaseDatabase.instance.ref(&quot;.info/serverTimeOffset&quot;);\n\n...\n// I got the error once I started running codes below\noffsetRef.onValue.listen((event) {\n   final offset = event.snapshot.value as num ?? 0.0;\n   final estimatedServerTimeMs = DateTime.now().millisecondsSinceEpoch + offset;\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;manifest\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; package=&quot;com.example.app&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n</code></pre>\n"},{"tags":["java","internet-explorer","websphere-8"],"comments":[{"owner":{"account_id":5196039,"reputation":187,"user_id":4157304,"display_name":"Ankur Saxena"},"score":0,"creation_date":1666437889,"post_id":74162868,"comment_id":130939758,"body_markdown":"Check this out :- [https://stackoverflow.com/questions/4678797/how-do-i-get-the-remote-address-of-a-client-in-servlet]","body":"Check this out :- [<a href=\"https://stackoverflow.com/questions/4678797/how-do-i-get-the-remote-address-of-a-client-in-servlet]\" title=\"how do i get the remote address of a client in servlet%5d\">stackoverflow.com/questions/4678797/&hellip;</a>"},{"owner":{"account_id":34986,"reputation":17510,"user_id":98959,"display_name":"covener"},"score":0,"creation_date":1666441779,"post_id":74162868,"comment_id":130940490,"body_markdown":"If your load balancer is really operating at layer 4, you&#39;ll need to see what options your load balancer has for preserving the real client IP in the connection.  It can&#39;t be solved with HTTP headers in a layer 4 load balancer.","body":"If your load balancer is really operating at layer 4, you&#39;ll need to see what options your load balancer has for preserving the real client IP in the connection.  It can&#39;t be solved with HTTP headers in a layer 4 load balancer."},{"owner":{"account_id":26700566,"reputation":3,"user_id":20307685,"display_name":"root"},"score":0,"creation_date":1666515072,"post_id":74162868,"comment_id":130951572,"body_markdown":"Thank you all, I&#39;m gonna try tomorrow at my work.","body":"Thank you all, I&#39;m gonna try tomorrow at my work."},{"owner":{"account_id":26700566,"reputation":3,"user_id":20307685,"display_name":"root"},"score":0,"creation_date":1666613785,"post_id":74162868,"comment_id":130971432,"body_markdown":"@covener Thank you, It was becuase of L4 setting. I solved it","body":"@covener Thank you, It was becuase of L4 setting. I solved it"}],"answers":[{"tags":[],"owner":{"account_id":6487779,"reputation":151,"user_id":5022754,"display_name":"Richbest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667268872,"creation_date":1667268872,"answer_id":74270840,"question_id":74162868,"body_markdown":"Now X-forwarded for IHS and Websphere version not require\r\n\r\nSo you should used layer 4 with load balance is `HAProxy` with open source or `F5` with load balance with money\r\n\r\nand you can used `nginx` or `apache` for get IP for real IP X-Forwarded\r\nThanks and regards\r\ntandn\r\n\r\n\r\n","title":"How can I know real client IP in Websphere 8.5.5 and JAVA Web application","body":"<p>Now X-forwarded for IHS and Websphere version not require</p>\n<p>So you should used layer 4 with load balance is <code>HAProxy</code> with open source or <code>F5</code> with load balance with money</p>\n<p>and you can used <code>nginx</code> or <code>apache</code> for get IP for real IP X-Forwarded\nThanks and regards\ntandn</p>\n"}],"owner":{"account_id":26700566,"reputation":3,"user_id":20307685,"display_name":"root"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74270840,"answer_count":1,"score":0,"last_activity_date":1667268872,"creation_date":1666435660,"question_id":74162868,"body_markdown":"My server receives requests from Internet Explorer. And my server is a java web application and it is Websphere 8.5.\r\nI tried HttpRequestServlet.getRemoteAddr(), this was the IP of L4, not real client IP. I found that I could get the real IP from headers like X-Forwarded-For etc. In IE and Websphere, From which header can I get the real IP? or how can I get the real IP? ","title":"How can I know real client IP in Websphere 8.5.5 and JAVA Web application","body":"<p>My server receives requests from Internet Explorer. And my server is a java web application and it is Websphere 8.5.\nI tried HttpRequestServlet.getRemoteAddr(), this was the IP of L4, not real client IP. I found that I could get the real IP from headers like X-Forwarded-For etc. In IE and Websphere, From which header can I get the real IP? or how can I get the real IP?</p>\n"},{"tags":["java","recursion","linked-list","doubly-linked-list","circular-list"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1667266961,"post_id":74270490,"comment_id":131124362,"body_markdown":"So, can you show some more code? Regardless of their actual names, do you have a `List` class? If so, does it have a `ListNode head` instance variable?","body":"So, can you show some more code? Regardless of their actual names, do you have a <code>List</code> class? If so, does it have a <code>ListNode head</code> instance variable?"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1667522545,"post_id":74270490,"comment_id":131192497,"body_markdown":"Be wary of recursive methods. Recurse too many times and you&#39;ll have a stack overflow just like this site itself!","body":"Be wary of recursive methods. Recurse too many times and you&#39;ll have a stack overflow just like this site itself!"}],"answers":[{"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667276497,"post_id":74270669,"comment_id":131125500,"body_markdown":"current == this.head to reduce the extra parameter.","body":"current == this.head to reduce the extra parameter."},{"owner":{"account_id":19954329,"reputation":35,"user_id":14623254,"display_name":"Lantanar"},"score":0,"creation_date":1667306999,"post_id":74270669,"comment_id":131132891,"body_markdown":"Yes if this method is inside a class with meta information about the list you don&#39;t need an extra method. My answer was for a general case where you have no information besides a ListNode.","body":"Yes if this method is inside a class with meta information about the list you don&#39;t need an extra method. My answer was for a general case where you have no information besides a ListNode."}],"tags":[],"owner":{"account_id":19954329,"reputation":35,"user_id":14623254,"display_name":"Lantanar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667266996,"creation_date":1667266996,"answer_id":74270669,"question_id":74270490,"body_markdown":"I am assuming that by &quot;this does not work at all&quot; you mean that you run into problems down the line because you set every element to null. \r\nIf you cannot carry information on a node and you cannot change the method parameters I don&#39;t think it is possible to solve this. Therefore I would add a new internal method to do the actual recursive counting:\r\n```\r\npublic int size(ListNode head) {\r\n        if(head == null) return 0;\r\n        return 1 + recursiveSize(head.next, head);\r\n    }\r\n\r\nprivate int recursiveSize(ListNode current, ListNode start) {\r\n        if(current == start) return 0;\r\n        \r\n        return 1 + recursiveSize(current.next, start)\r\n    }","title":"Recursive method to count the size of a circular doubly linked list","body":"<p>I am assuming that by &quot;this does not work at all&quot; you mean that you run into problems down the line because you set every element to null.\nIf you cannot carry information on a node and you cannot change the method parameters I don't think it is possible to solve this. Therefore I would add a new internal method to do the actual recursive counting:</p>\n<pre><code>public int size(ListNode head) {\n        if(head == null) return 0;\n        return 1 + recursiveSize(head.next, head);\n    }\n\nprivate int recursiveSize(ListNode current, ListNode start) {\n        if(current == start) return 0;\n        \n        return 1 + recursiveSize(current.next, start)\n    }\n</code></pre>\n"}],"owner":{"account_id":25165879,"reputation":1,"user_id":19009428,"display_name":"Cosmo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667266996,"creation_date":1667264525,"question_id":74270490,"body_markdown":"I am currently tasked with creating a recursive method to determine the length of a circular doubly linked list, that being a doubly linked list where the final node points back to the head node and vice versa.\r\n\r\nI can&#39;t check for equality to null because due to the circular nature of the list, but the only argument I can supply is a head node, which I can&#39;t check equality to as it changes as I recurse.\r\n\r\nMy code stands as follows:\r\n\r\n\r\n\r\n```\r\npublic int size(ListNode head) {\r\n    \tif(head.element == null || head == null) return 0;\r\n    \thead.element = null;\r\n    \treturn 1 + size(head.next);\r\n    }\r\n\r\n```\r\n\r\nI&#39;ve attempted to look at the element at the pointer, setting it to null then moving on such that when the method wraps around to the original head pointer, it detects the null and stops recursing. However, this does not work at all.\r\n","title":"Recursive method to count the size of a circular doubly linked list","body":"<p>I am currently tasked with creating a recursive method to determine the length of a circular doubly linked list, that being a doubly linked list where the final node points back to the head node and vice versa.</p>\n<p>I can't check for equality to null because due to the circular nature of the list, but the only argument I can supply is a head node, which I can't check equality to as it changes as I recurse.</p>\n<p>My code stands as follows:</p>\n<pre><code>public int size(ListNode head) {\n        if(head.element == null || head == null) return 0;\n        head.element = null;\n        return 1 + size(head.next);\n    }\n\n</code></pre>\n<p>I've attempted to look at the element at the pointer, setting it to null then moving on such that when the method wraps around to the original head pointer, it detects the null and stops recursing. However, this does not work at all.</p>\n"},{"tags":["java","mqtt"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1667265340,"post_id":74270516,"comment_id":131124124,"body_markdown":"The `subscribe` method is asynchronous. This method will almost immediately return `true` in all cases.","body":"The <code>subscribe</code> method is asynchronous. This method will almost immediately return <code>true</code> in all cases."},{"owner":{"account_id":23817885,"reputation":35,"user_id":17825886,"display_name":"Kajstrl"},"score":0,"creation_date":1667265471,"post_id":74270516,"comment_id":131124141,"body_markdown":"I know that but how do i let other functions let know that the condition was completed.","body":"I know that but how do i let other functions let know that the condition was completed."},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1667265687,"post_id":74270516,"comment_id":131124179,"body_markdown":"Depending on your use case, you could set a local variable (like `this.completed = true`) and check that field in your other methods, or call another method at the same place you unsubscribe (like `complete()`).","body":"Depending on your use case, you could set a local variable (like <code>this.completed = true</code>) and check that field in your other methods, or call another method at the same place you unsubscribe (like <code>complete()</code>)."}],"owner":{"account_id":23817885,"reputation":35,"user_id":17825886,"display_name":"Kajstrl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667265252,"creation_date":1667264924,"question_id":74270516,"body_markdown":"I&#39;m having a problem writing correct code with MQTT in Java. My goal is to subscribe to a topic and watch if some kind of messages are coming. Then, if it hits certain amount, the function will return true.\r\n\r\nThe problem is the function returns the value sooner than the subscribe counts its goal.\r\n\r\nHere&#39;s my fragment of code:\r\n\r\n```\r\n@Override\r\npublic Boolean call() throws Exception {\r\n    mqttClient.subscribe(couple.getTopic().getUrl(), (topic, message) -&gt; {\r\n        System.out.println(new String(message.getPayload()) + &quot;=&quot; + couple.getMessage().getJson());\r\n        if (new String(message.getPayload()).equals(couple.getMessage().getJson())) {\r\n            System.out.println(&quot;Match&quot;);\r\n            this.accurance++;\r\n            System.out.println(&quot;accurance :&quot; + this.accurance);\r\n            if (this.accurance &gt;= this.goal) {\r\n                //sendMessage(couple);\r\n                mqttClient.unsubscribe(couple.getTopic().getUrl());\r\n                return;\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Not match&quot;);\r\n        }\r\n    });\r\n    return true;\r\n}\r\n```","title":"MQTT Java - How to end connection after receiving a certain number of messages?","body":"<p>I'm having a problem writing correct code with MQTT in Java. My goal is to subscribe to a topic and watch if some kind of messages are coming. Then, if it hits certain amount, the function will return true.</p>\n<p>The problem is the function returns the value sooner than the subscribe counts its goal.</p>\n<p>Here's my fragment of code:</p>\n<pre><code>@Override\npublic Boolean call() throws Exception {\n    mqttClient.subscribe(couple.getTopic().getUrl(), (topic, message) -&gt; {\n        System.out.println(new String(message.getPayload()) + &quot;=&quot; + couple.getMessage().getJson());\n        if (new String(message.getPayload()).equals(couple.getMessage().getJson())) {\n            System.out.println(&quot;Match&quot;);\n            this.accurance++;\n            System.out.println(&quot;accurance :&quot; + this.accurance);\n            if (this.accurance &gt;= this.goal) {\n                //sendMessage(couple);\n                mqttClient.unsubscribe(couple.getTopic().getUrl());\n                return;\n            }\n        } else {\n            System.out.println(&quot;Not match&quot;);\n        }\n    });\n    return true;\n}\n</code></pre>\n"},{"tags":["javascript","java","android","android-studio","button"],"comments":[{"owner":{"account_id":10942225,"reputation":2447,"user_id":8041634,"display_name":"shagberg"},"score":0,"creation_date":1666874613,"post_id":74222113,"comment_id":131041703,"body_markdown":"You need to review the error message from your log file. If you aren&#39;t able to figure out the issue from that, post it here.","body":"You need to review the error message from your log file. If you aren&#39;t able to figure out the issue from that, post it here."},{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1666874638,"post_id":74222113,"comment_id":131041709,"body_markdown":"Check the Logcat and find the exception that&#39;s getting thrown. It&#39;s not possible to tell what&#39;s wrong with the code you posted without seeing the error message and the stacktrace.","body":"Check the Logcat and find the exception that&#39;s getting thrown. It&#39;s not possible to tell what&#39;s wrong with the code you posted without seeing the error message and the stacktrace."},{"owner":{"account_id":26749312,"reputation":3,"user_id":20348944,"display_name":"notyouraveragetoru"},"score":0,"creation_date":1666878168,"post_id":74222113,"comment_id":131043127,"body_markdown":"there is no error in the logcat thou, the program ran smoothly but when i tried clicking the button the app crashes","body":"there is no error in the logcat thou, the program ran smoothly but when i tried clicking the button the app crashes"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":1,"creation_date":1666883148,"post_id":74222113,"comment_id":131045113,"body_markdown":"What is the error on your logcat? Please edit and put it in your question.","body":"What is the error on your logcat? Please edit and put it in your question."}],"answers":[{"tags":[],"owner":{"account_id":25584237,"reputation":1,"user_id":19362188,"display_name":"Someguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667263486,"creation_date":1667263486,"answer_id":74270403,"question_id":74222113,"body_markdown":"Yeah, it&#39;s a bit difficult to tell what&#39;s going on because you have multiple onClick listeners (two for Textviews). Each one is bringing you to a specific Class/XML layout so anything in the XML layout or the code for those classes could be causing the crash. \r\n\r\nIf it&#39;s crashing when you click on btn1 then I would check the ProfileActivity.java or its corresponding XML file. \r\n\r\nStart your program with the debugger which is the little green icon in the top right (over from the run options) and then go click the button that&#39;s crashing it. If you open up your logcat (and ensure it&#39;s showing errors) you should see something there. That&#39;ll give you more of an idea of what&#39;s going on. \r\n","title":"I tried running my code in android studio but whenever i click on the button it crashes","body":"<p>Yeah, it's a bit difficult to tell what's going on because you have multiple onClick listeners (two for Textviews). Each one is bringing you to a specific Class/XML layout so anything in the XML layout or the code for those classes could be causing the crash.</p>\n<p>If it's crashing when you click on btn1 then I would check the ProfileActivity.java or its corresponding XML file.</p>\n<p>Start your program with the debugger which is the little green icon in the top right (over from the run options) and then go click the button that's crashing it. If you open up your logcat (and ensure it's showing errors) you should see something there. That'll give you more of an idea of what's going on.</p>\n"}],"owner":{"account_id":26749312,"reputation":3,"user_id":20348944,"display_name":"notyouraveragetoru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667263486,"creation_date":1666874035,"question_id":74222113,"body_markdown":"I tried clicking on the button on my code but the application keeps on crashing i want to know if my code is wrong or my device used for running is wrong.here is the code \r\n\r\n```\r\npackage com.example.pnrcompanion;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.activity_login);\r\n\r\n        TextView text1=findViewById(R.id.txt_signup2);\r\n        TextView text2=findViewById(R.id.txt_3);\r\n        Button btn1=findViewById(R.id.btnLogin);\r\n\r\n        btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(LoginActivity.this, ProfileActivity.class));\r\n            }\r\n        });\r\n\r\n        text1.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v){\r\n                startActivity(new Intent(LoginActivity.this, RegisterActivity.class));\r\n            }\r\n        });\r\n\r\n        text2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(LoginActivity.this, ForgetPasswordActivity.class));\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nI want to try to fix this code so that i can run it for my project. ","title":"I tried running my code in android studio but whenever i click on the button it crashes","body":"<p>I tried clicking on the button on my code but the application keeps on crashing i want to know if my code is wrong or my device used for running is wrong.here is the code</p>\n<pre><code>package com.example.pnrcompanion;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class LoginActivity extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_login);\n\n        TextView text1=findViewById(R.id.txt_signup2);\n        TextView text2=findViewById(R.id.txt_3);\n        Button btn1=findViewById(R.id.btnLogin);\n\n        btn1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(LoginActivity.this, ProfileActivity.class));\n            }\n        });\n\n        text1.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v){\n                startActivity(new Intent(LoginActivity.this, RegisterActivity.class));\n            }\n        });\n\n        text2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(LoginActivity.this, ForgetPasswordActivity.class));\n            }\n        });\n\n\n\n\n    }\n}\n</code></pre>\n<p>I want to try to fix this code so that i can run it for my project.</p>\n"},{"tags":["java","android","android-service","android-livedata","mutablelivedata"],"answers":[{"comments":[{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1667282325,"post_id":74270390,"comment_id":131126324,"body_markdown":"but LocalBroadcastManager is now deprecated :( so what other solution could I use?","body":"but LocalBroadcastManager is now deprecated :( so what other solution could I use?"},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1667283566,"post_id":74270390,"comment_id":131126547,"body_markdown":"Please see whether the following link can help.\nIt is using a singleton LiveData located inside the service and access it by callers.\nhttps://stackoverflow.com/questions/68995642/how-can-i-update-ui-from-service-using-livedata","body":"Please see whether the following link can help. It is using a singleton LiveData located inside the service and access it by callers. <a href=\"https://stackoverflow.com/questions/68995642/how-can-i-update-ui-from-service-using-livedata\" title=\"how can i update ui from service using livedata\">stackoverflow.com/questions/68995642/&hellip;</a>"},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1667283649,"post_id":74270390,"comment_id":131126563,"body_markdown":"Just I am not sure that whether there is listener on the LiveData to observe who &quot;attach&quot; to or &quot;detach&quot; from it. I might be totally wrong since I am a regular DAO users so please forgive me if this is not the case","body":"Just I am not sure that whether there is listener on the LiveData to observe who &quot;attach&quot; to or &quot;detach&quot; from it. I might be totally wrong since I am a regular DAO users so please forgive me if this is not the case"}],"tags":[],"owner":{"account_id":23934334,"reputation":346,"user_id":17928307,"display_name":"Harry"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667263331,"creation_date":1667263331,"answer_id":74270390,"question_id":74269380,"body_markdown":"Sending data from Service to Activity using LiveData may not be the best solution. You may want to consider LocalBroadcastManager or other solutions. But to answer your question, if you can somehow get a reference to your Activity&#39;s ViewModel from your Service and call &quot;postValue&quot; method on the MutableLiveData the new value will be applied and if your Activity is not paused or destroyed and it is observing that LiveData on the Activity LifeCycle, it should get triggered.","title":"How to use livedata to send data from service to activity?","body":"<p>Sending data from Service to Activity using LiveData may not be the best solution. You may want to consider LocalBroadcastManager or other solutions. But to answer your question, if you can somehow get a reference to your Activity's ViewModel from your Service and call &quot;postValue&quot; method on the MutableLiveData the new value will be applied and if your Activity is not paused or destroyed and it is observing that LiveData on the Activity LifeCycle, it should get triggered.</p>\n"}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667263331,"creation_date":1667252430,"question_id":74269380,"body_markdown":"How with livedata can i send some data from a service to the main activity and (the most important), how can I know that a main activity was actually observing this data so that I m sure I didn&#39;t sent the data nowhere? ","title":"How to use livedata to send data from service to activity?","body":"<p>How with livedata can i send some data from a service to the main activity and (the most important), how can I know that a main activity was actually observing this data so that I m sure I didn't sent the data nowhere?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1612473489,"post_id":60727265,"comment_id":116785759,"body_markdown":"Could you share what `AuthorizationServerUserId` is?","body":"Could you share what <code>AuthorizationServerUserId</code> is?"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":1,"creation_date":1612536940,"post_id":60727265,"comment_id":116805460,"body_markdown":"@Stuck This is a value object that keeps track of the id of the user on the authorization server. It basically encapsulates the `String` that is the &quot;primary key&quot; of the user on the authorization server.","body":"@Stuck This is a value object that keeps track of the id of the user on the authorization server. It basically encapsulates the <code>String</code> that is the &quot;primary key&quot; of the user on the authorization server."},{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1612565430,"post_id":60727265,"comment_id":116816201,"body_markdown":"ok thanks, so for future readers: think of it as `userService.findById(principal.getName())` - `principle.getName()` returns the jwt&#39;s `sub` (subject = the auth server&#39;s user id) by default.","body":"ok thanks, so for future readers: think of it as <code>userService.findById(principal.getName())</code> - <code>principle.getName()</code> returns the jwt&#39;s <code>sub</code> (subject = the auth server&#39;s user id) by default."}],"answers":[{"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1584516633,"post_id":60727858,"comment_id":107456767,"body_markdown":"Super answer, thanks! One thing I needed to do in my tests is instead of using `@MockBean` with a `UserService` field in my test itself, I needed to create a bean myself in the `@TestConfiguration` that I use like `@Bean public UserService userService() {return mock(UserService.class);}`. If you don&#39;t do this, there is an exception that the `userService` bean cannot be resolved.","body":"Super answer, thanks! One thing I needed to do in my tests is instead of using <code>@MockBean</code> with a <code>UserService</code> field in my test itself, I needed to create a bean myself in the <code>@TestConfiguration</code> that I use like <code>@Bean public UserService userService() {return mock(UserService.class);}</code>. If you don&#39;t do this, there is an exception that the <code>userService</code> bean cannot be resolved."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":1,"creation_date":1584516759,"post_id":60727858,"comment_id":107456803,"body_markdown":"Also: because I was using `Optional` and a static helper method, the full expression I ended up with is `@userService.findByAuthorizationServerUserId(T(com.company.project.backend.user.authserver.AuthorizationServerUserId).fromPrincipal(#this)).orElse(null)` (Notice the `T` to be able to call a static method)","body":"Also: because I was using <code>Optional</code> and a static helper method, the full expression I ended up with is <code>@userService.findByAuthorizationServerUserId(T(com.company.p&zwnj;&#8203;roject.backend.user.&zwnj;&#8203;authserver.Authoriza&zwnj;&#8203;tionServerUserId).fr&zwnj;&#8203;omPrincipal(#this)).&zwnj;&#8203;orElse(null)</code> (Notice the <code>T</code> to be able to call a static method)"},{"owner":{"account_id":2437651,"reputation":1465,"user_id":2127121,"accept_rate":88,"display_name":"Villat"},"score":0,"creation_date":1632511208,"post_id":60727858,"comment_id":122521783,"body_markdown":"Why would you need @Targe({ElementType.TYPE}) for this one?","body":"Why would you need @Targe({ElementType.TYPE}) for this one?"}],"tags":[],"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1584468107,"creation_date":1584468107,"answer_id":60727858,"question_id":60727265,"body_markdown":"`@AuthenticationPrincipal` accepts a SpEL expression as a parameter.\r\n\r\nYou can specify the bean and method that transforms the principal into a `User` in the provided SpEL expression.\r\n\r\n```java\r\n@GetMapping\r\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal(expression = &quot;@userService.getUser(#this)&quot;) User user) {\r\n\r\n}\r\n```\r\n\r\nwhere `userService` refers to the `UserService` bean.\r\n\r\n\r\nYou can take it one step further by creating a custom annotation that uses `@AuthenticationPrincipal` as a meta annotation. \r\n\r\n```java\r\n@Target({ElementType.PARAMETER, ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@AuthenticationPrincipal(expression = &quot;@userService.getUser(#this)&quot;)\r\npublic @interface CurrentUser {}\r\n```\r\n\r\nThen your controller would become\r\n\r\n```java\r\n@GetMapping\r\npublic ResponseEntity&lt;?&gt; doSomething(@CurrentUser User user) {\r\n\r\n}\r\n```","title":"Use @AuthenticationPrincipal with JwtAuthenticationToken to use own user class","body":"<p><code>@AuthenticationPrincipal</code> accepts a SpEL expression as a parameter.</p>\n\n<p>You can specify the bean and method that transforms the principal into a <code>User</code> in the provided SpEL expression.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal(expression = \"@userService.getUser(#this)\") User user) {\n\n}\n</code></pre>\n\n<p>where <code>userService</code> refers to the <code>UserService</code> bean.</p>\n\n<p>You can take it one step further by creating a custom annotation that uses <code>@AuthenticationPrincipal</code> as a meta annotation. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.PARAMETER, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@AuthenticationPrincipal(expression = \"@userService.getUser(#this)\")\npublic @interface CurrentUser {}\n</code></pre>\n\n<p>Then your controller would become</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\npublic ResponseEntity&lt;?&gt; doSomething(@CurrentUser User user) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8878226,"reputation":6251,"user_id":6629515,"display_name":"Oleksandr Yefymov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667262718,"creation_date":1667262718,"answer_id":74270340,"question_id":60727265,"body_markdown":"You can even get any information from the token (including custom claims).\r\n\r\nFor example, we add `userId` to the token, then to get it:\r\n\r\n    @Target({ElementType.PARAMETER, ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @AuthenticationPrincipal(expression = &quot;getClaims().get(&#39;userId&#39;)&quot;)\r\n    public @interface UserAuthenticationId {\r\n    }\r\n\r\nAnd controller:\r\n\r\n      @GetMapping(&quot;/me&quot;)\r\n      public User getCurrentUser(@UserAuthenticationId String userId) {\r\n        log.info(&quot;Get current user: {}&quot;, userId);\r\n\r\n","title":"Use @AuthenticationPrincipal with JwtAuthenticationToken to use own user class","body":"<p>You can even get any information from the token (including custom claims).</p>\n<p>For example, we add <code>userId</code> to the token, then to get it:</p>\n<pre><code>@Target({ElementType.PARAMETER, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@AuthenticationPrincipal(expression = &quot;getClaims().get('userId')&quot;)\npublic @interface UserAuthenticationId {\n}\n</code></pre>\n<p>And controller:</p>\n<pre><code>  @GetMapping(&quot;/me&quot;)\n  public User getCurrentUser(@UserAuthenticationId String userId) {\n    log.info(&quot;Get current user: {}&quot;, userId);\n</code></pre>\n"}],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6426,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60727858,"answer_count":2,"score":4,"last_activity_date":1667262718,"creation_date":1584465738,"question_id":60727265,"body_markdown":"I am using Spring Boot 2.2.5 with Spring Security 5.2.2 using `spring-security-oauth2-resource-server` and `spring-security-oauth2-jose` dependencies.\r\n\r\nIn my controller methods, I have this working:\r\n\r\n```\r\n@GetMapping\r\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal JwtAuthenticationToken principal) {\r\n    User user = getUser(principal);\r\n    ...\r\n}\r\n```\r\n\r\nThe `principal` gets injected and contains the id of the user on Azure (I am using Azure AD B2C).\r\n\r\nThe first thing I need to do in every method is get my own `User` object using this private method that retrieves the `User` from my `userService` Spring bean:\r\n\r\n```\r\n    private User getUser(JwtAuthenticationToken principal) {\r\n        AuthorizationServerUserId authorizationServerUserId = AuthorizationServerUserId.fromPrincipal(principal);\r\n        return userService.findByAuthorizationServerUserId(authorizationServerUserId)\r\n                          .orElseThrow(() -&gt; UserNotFoundException.forAuthorizationServerUserId(authorizationServerUserId));\r\n    }\r\n```\r\n\r\nHow can I configure Spring (Boot) so that this works:\r\n\r\n```\r\n@GetMapping\r\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal User user) {\r\n\r\n}\r\n```\r\n\r\nThe security configuration is currently done like this:\r\n\r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\r\n                .authorizeRequests(registry -&gt; {\r\n                    registry.antMatchers(&quot;/registration/**&quot;).permitAll();\r\n\r\n                    registry.antMatchers(&quot;/api/**&quot;).authenticated();\r\n                });\r\n    }\r\n}\r\n```\r\n","title":"Use @AuthenticationPrincipal with JwtAuthenticationToken to use own user class","body":"<p>I am using Spring Boot 2.2.5 with Spring Security 5.2.2 using <code>spring-security-oauth2-resource-server</code> and <code>spring-security-oauth2-jose</code> dependencies.</p>\n\n<p>In my controller methods, I have this working:</p>\n\n<pre><code>@GetMapping\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal JwtAuthenticationToken principal) {\n    User user = getUser(principal);\n    ...\n}\n</code></pre>\n\n<p>The <code>principal</code> gets injected and contains the id of the user on Azure (I am using Azure AD B2C).</p>\n\n<p>The first thing I need to do in every method is get my own <code>User</code> object using this private method that retrieves the <code>User</code> from my <code>userService</code> Spring bean:</p>\n\n<pre><code>    private User getUser(JwtAuthenticationToken principal) {\n        AuthorizationServerUserId authorizationServerUserId = AuthorizationServerUserId.fromPrincipal(principal);\n        return userService.findByAuthorizationServerUserId(authorizationServerUserId)\n                          .orElseThrow(() -&gt; UserNotFoundException.forAuthorizationServerUserId(authorizationServerUserId));\n    }\n</code></pre>\n\n<p>How can I configure Spring (Boot) so that this works:</p>\n\n<pre><code>@GetMapping\npublic ResponseEntity&lt;?&gt; doSomething(@AuthenticationPrincipal User user) {\n\n}\n</code></pre>\n\n<p>The security configuration is currently done like this:</p>\n\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\n                .authorizeRequests(registry -&gt; {\n                    registry.antMatchers(\"/registration/**\").permitAll();\n\n                    registry.antMatchers(\"/api/**\").authenticated();\n                });\n    }\n}\n</code></pre>\n"},{"tags":["java","delphi","java-native-interface","delphi-xe7"],"comments":[{"owner":{"account_id":29836,"reputation":36360,"user_id":80901,"accept_rate":80,"display_name":"mjn"},"score":2,"creation_date":1667236952,"post_id":74264655,"comment_id":131117888,"body_markdown":"Maybe related / already answered here: https://stackoverflow.com/questions/36250235/exception-0xc0000005-from-jni-createjavavm-jvm-dll","body":"Maybe related / already answered here: <a href=\"https://stackoverflow.com/questions/36250235/exception-0xc0000005-from-jni-createjavavm-jvm-dll\" title=\"exception 0xc0000005 from jni createjavavm jvm dll\">stackoverflow.com/questions/36250235/&hellip;</a>"},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1667246252,"post_id":74264655,"comment_id":131120512,"body_markdown":"When you see the AV, are you running inside the debugger? Does the AV actually reach your code? If not, then don&#39;t worry about it.","body":"When you see the AV, are you running inside the debugger? Does the AV actually reach your code? If not, then don&#39;t worry about it."},{"owner":{"account_id":5112351,"reputation":53,"user_id":4098589,"accept_rate":0,"display_name":"Jacek U"},"score":0,"creation_date":1667555205,"post_id":74264655,"comment_id":131198591,"body_markdown":"I&#39;m running inside the debugger. That AV causes not working Java VM. So I can&#39;t go further.","body":"I&#39;m running inside the debugger. That AV causes not working Java VM. So I can&#39;t go further."}],"owner":{"account_id":5112351,"reputation":53,"user_id":4098589,"accept_rate":0,"display_name":"Jacek U"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667262712,"creation_date":1667225764,"question_id":74264655,"body_markdown":"I have problem with loading Java VM. When I do LoadVM program gives access violation. On other computer it works fine. Here is some code that works but not on my machine:\r\n\r\n    uses jni;\r\n    var\r\n    \r\n    Options: array [0..1] of JavaVMOption;\r\n    VM_args: JavaVMInitArgs;\r\n    ErrCode: Integer;\r\n    AJavaVM: TJavaVM;\r\n    AJavaEnvMain: TJNIEnv;\r\n    JrePath, ProgramPath, LibPath, File1, File2: string;\r\n\r\n    begin\r\n    \r\n      ProgramPath := &#39;d:\\testjava\\exe\\&#39;;\r\n      JrePath := ProgramPath + &#39;JRE\\bin\\client\\&#39;;\r\n      LibPath := ProgramPath + &#39;JRE\\lib\\ext\\&#39;;   \r\n    \r\n       File1 := LibPath + &#39;file1.jar&#39;;\r\n       File2 := LibPath + &#39;file2.jar&#39;;\r\n    \r\n      AJavaVM := TJavaVM.Create(JNI_VERSION_1_8, JrePath + &#39;jvm.dll&#39;);\r\n    \r\n       FillChar(Options, SizeOf(Options), #0);\r\n    \r\n       Options[0].optionString := PAnsiChar(AnsiString(&#39;-D java.class.path=&#39; + File1 + &#39;;&#39; + File2));\r\n    \r\n       VM_args.version := JNI_VERSION_1_8;\r\n       VM_args.Options := @Options;\r\n       VM_args.nOptions := 1;\r\n       ErrCode := AJavaVM.LoadVM(VM_args); **//access violation**\r\n    \r\n       if ErrCode &lt; 0 then\r\n       raise Exception.CreateFmt(&#39;Initialization error JVM, błąd %d.&#39;, [ErrCode]);\r\n\r\n    ","title":"LoadVM Java VM with JNI - access violation","body":"<p>I have problem with loading Java VM. When I do LoadVM program gives access violation. On other computer it works fine. Here is some code that works but not on my machine:</p>\n<pre><code>uses jni;\nvar\n\nOptions: array [0..1] of JavaVMOption;\nVM_args: JavaVMInitArgs;\nErrCode: Integer;\nAJavaVM: TJavaVM;\nAJavaEnvMain: TJNIEnv;\nJrePath, ProgramPath, LibPath, File1, File2: string;\n\nbegin\n\n  ProgramPath := 'd:\\testjava\\exe\\';\n  JrePath := ProgramPath + 'JRE\\bin\\client\\';\n  LibPath := ProgramPath + 'JRE\\lib\\ext\\';   \n\n   File1 := LibPath + 'file1.jar';\n   File2 := LibPath + 'file2.jar';\n\n  AJavaVM := TJavaVM.Create(JNI_VERSION_1_8, JrePath + 'jvm.dll');\n\n   FillChar(Options, SizeOf(Options), #0);\n\n   Options[0].optionString := PAnsiChar(AnsiString('-D java.class.path=' + File1 + ';' + File2));\n\n   VM_args.version := JNI_VERSION_1_8;\n   VM_args.Options := @Options;\n   VM_args.nOptions := 1;\n   ErrCode := AJavaVM.LoadVM(VM_args); **//access violation**\n\n   if ErrCode &lt; 0 then\n   raise Exception.CreateFmt('Initialization error JVM, błąd %d.', [ErrCode]);\n</code></pre>\n"},{"tags":["java","recursion","sequence"],"answers":[{"comments":[{"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"score":1,"creation_date":1667176650,"post_id":74257677,"comment_id":131102402,"body_markdown":"@pinkbird Generally, a recursive solution would be slower, but with your solution, your recursion is essentially the same as an O(n) loop. However, I believe in this case, the recursive approach you started with is actually faster. The iterative approach I coded has more nested loops. Either approach works perfectly fine though :) Hope this was helpful!","body":"@pinkbird Generally, a recursive solution would be slower, but with your solution, your recursion is essentially the same as an O(n) loop. However, I believe in this case, the recursive approach you started with is actually faster. The iterative approach I coded has more nested loops. Either approach works perfectly fine though :) Hope this was helpful!"}],"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1667260200,"creation_date":1667175789,"answer_id":74257677,"question_id":74257650,"body_markdown":"This is a very cool sequence! I like that it is English based and not mathematical, haha. (Though now I wonder ... is there a formula we could make for the nth term? I&#39;m pretty sure it&#39;s impossible or uses some crazy-level math, but just something to think about ...)\r\n\r\nIn your solution, the recursive logic of your code is correct: after you find each term, you repeat the method with your knew number and find the next term using that element, and end when you have determined the first `n` elements. Your base case is also correct.\r\n\r\nHowever, the algorithm you developed for determining the terms in the sequence is the issue. \r\n\r\nTo determine the next element in the sequence, we want to:\r\n\r\nLogical Error:\r\n1) Create a empty variable, `y`, for your next element. The variable, `counter`, should not start at `0`, however. This is because every element will ALWAYS have an occurrence of at least `1`, so we should initialize `int counter = 1;`\r\n\r\n2) Iterate through the characters in `x`. (You did this step correctly) We begin at `i = 1`, because we compare each character to the previous one.\r\n\r\n3) If the current character is equal to the previous character, we increment `counter` by `1`. \r\n4) Otherwise, we concatenate `counter` and the character being repeated, to `y`. Remember, to reinitialize `counter` to `1`, not `0`.\r\n\r\nTechnical Errors:\r\n\r\n5) Once we reach the end of iterating `x`, we need to concatenate our final `counter` and character to `y`, since the else statement for the final characters will never run in our for loop. \r\n\r\nThis is done with the following code: ```y += &quot;&quot; + counter + x.charAt(x.length() - 1);```\r\n\r\n6) Finally, when you are doing your recursive call, you should do `--times` instead of `times--`. The difference between these two parameters is that with your original code, you are post-decrementing. This means the value of `times` is decreasing after the method call, when we want the decreased value to be sent into the method. To solve this, we need to pre-decrement, by doing `--times`.\r\n```\r\nimport java.util.*;\r\nclass CoolSequence {\r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    int n = scan.nextInt();\r\n    System.out.println(num(n, &quot;1&quot;));\r\n  }\r\n    public static String num(int times, String x){\r\n        if(times == 0){\r\n            return x;\r\n        }\r\n        else{\r\n            String y = &quot;&quot;;\r\n            int counter = 1;\r\n            for(int i = 1; i &lt; x.length(); i++){\r\n                if(x.charAt(i) == x.charAt(i - 1)){\r\n                    counter++;\r\n                }\r\n                else{\r\n                    y += &quot;&quot; + counter + x.charAt(i - 1);\r\n                    counter = 1;\r\n                }\r\n            }\r\n            y += &quot;&quot; + counter + x.charAt(x.length() - 1);\r\n            return num(--times, y);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTesting:\r\n\r\n```\r\n6\r\n13112221\r\n```\r\n\r\nAn alternative approach would be using an iterative method:\r\n\r\n```\r\nimport java.util.*;\r\nclass CoolSequence2 {\r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    ArrayList&lt;String&gt; nums = new ArrayList&lt;String&gt;();\r\n    int n = scan.nextInt();\r\n    String val = &quot;1&quot;;\r\n    for(int i = 0; i &lt; n; i++){\r\n      String copy = val;\r\n      val = &quot;&quot;;\r\n      while(!copy.equals(&quot;&quot;)){\r\n        char curr = copy.charAt(0);\r\n        int ind = 0;\r\n        int cons = 0;\r\n        while(ind &lt; copy.length() &amp;&amp; curr == copy.charAt(ind)){\r\n          cons += 1;\r\n          ind += 1;\r\n        }\r\n        val += String.valueOf(cons) + copy.charAt(cons - 1);\r\n        copy = copy.substring(cons);\r\n      }\r\n      nums.add(val);\r\n    }\r\n    System.out.println(nums.get(nums.size() - 1));\r\n  }\r\n}\r\n```\r\n\r\n```\r\n6\r\n13112221\r\n```\r\n\r\nIn this method, we use a for loop to iterate through `n` terms. To determine each element, we do a similar method to your logic:\r\n\r\n1) We create an empty string, `val`, to hold the new element, and store our current element in `copy`. We also initialize a `cons`, similar to your `counter`.\r\n2) While `copy` is not empty, we iterate through `copy` and increment `cons` until there is an element that is not equal to the next element.\r\n3) When this occurs, we concatenate `cons` and the repeated element to `val`, like in your code. Then, we cut out the repeated elements from `copy` and continue the process. \r\n4) We add the new value of `val` to `nums`, and keep iterating through the `n` elements.\r\n\r\nI hope these two methods of approaching your problem helped! Please let me know if you have any further questions or clarifications :)","title":"Finding the nth term in a sequence","body":"<p>This is a very cool sequence! I like that it is English based and not mathematical, haha. (Though now I wonder ... is there a formula we could make for the nth term? I'm pretty sure it's impossible or uses some crazy-level math, but just something to think about ...)</p>\n<p>In your solution, the recursive logic of your code is correct: after you find each term, you repeat the method with your knew number and find the next term using that element, and end when you have determined the first <code>n</code> elements. Your base case is also correct.</p>\n<p>However, the algorithm you developed for determining the terms in the sequence is the issue.</p>\n<p>To determine the next element in the sequence, we want to:</p>\n<p>Logical Error:</p>\n<ol>\n<li><p>Create a empty variable, <code>y</code>, for your next element. The variable, <code>counter</code>, should not start at <code>0</code>, however. This is because every element will ALWAYS have an occurrence of at least <code>1</code>, so we should initialize <code>int counter = 1;</code></p>\n</li>\n<li><p>Iterate through the characters in <code>x</code>. (You did this step correctly) We begin at <code>i = 1</code>, because we compare each character to the previous one.</p>\n</li>\n<li><p>If the current character is equal to the previous character, we increment <code>counter</code> by <code>1</code>.</p>\n</li>\n<li><p>Otherwise, we concatenate <code>counter</code> and the character being repeated, to <code>y</code>. Remember, to reinitialize <code>counter</code> to <code>1</code>, not <code>0</code>.</p>\n</li>\n</ol>\n<p>Technical Errors:</p>\n<ol start=\"5\">\n<li>Once we reach the end of iterating <code>x</code>, we need to concatenate our final <code>counter</code> and character to <code>y</code>, since the else statement for the final characters will never run in our for loop.</li>\n</ol>\n<p>This is done with the following code: <code>y += &quot;&quot; + counter + x.charAt(x.length() - 1);</code></p>\n<ol start=\"6\">\n<li>Finally, when you are doing your recursive call, you should do <code>--times</code> instead of <code>times--</code>. The difference between these two parameters is that with your original code, you are post-decrementing. This means the value of <code>times</code> is decreasing after the method call, when we want the decreased value to be sent into the method. To solve this, we need to pre-decrement, by doing <code>--times</code>.</li>\n</ol>\n<pre><code>import java.util.*;\nclass CoolSequence {\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    int n = scan.nextInt();\n    System.out.println(num(n, &quot;1&quot;));\n  }\n    public static String num(int times, String x){\n        if(times == 0){\n            return x;\n        }\n        else{\n            String y = &quot;&quot;;\n            int counter = 1;\n            for(int i = 1; i &lt; x.length(); i++){\n                if(x.charAt(i) == x.charAt(i - 1)){\n                    counter++;\n                }\n                else{\n                    y += &quot;&quot; + counter + x.charAt(i - 1);\n                    counter = 1;\n                }\n            }\n            y += &quot;&quot; + counter + x.charAt(x.length() - 1);\n            return num(--times, y);\n        }\n    }\n}\n</code></pre>\n<p>Testing:</p>\n<pre><code>6\n13112221\n</code></pre>\n<p>An alternative approach would be using an iterative method:</p>\n<pre><code>import java.util.*;\nclass CoolSequence2 {\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    ArrayList&lt;String&gt; nums = new ArrayList&lt;String&gt;();\n    int n = scan.nextInt();\n    String val = &quot;1&quot;;\n    for(int i = 0; i &lt; n; i++){\n      String copy = val;\n      val = &quot;&quot;;\n      while(!copy.equals(&quot;&quot;)){\n        char curr = copy.charAt(0);\n        int ind = 0;\n        int cons = 0;\n        while(ind &lt; copy.length() &amp;&amp; curr == copy.charAt(ind)){\n          cons += 1;\n          ind += 1;\n        }\n        val += String.valueOf(cons) + copy.charAt(cons - 1);\n        copy = copy.substring(cons);\n      }\n      nums.add(val);\n    }\n    System.out.println(nums.get(nums.size() - 1));\n  }\n}\n</code></pre>\n<pre><code>6\n13112221\n</code></pre>\n<p>In this method, we use a for loop to iterate through <code>n</code> terms. To determine each element, we do a similar method to your logic:</p>\n<ol>\n<li>We create an empty string, <code>val</code>, to hold the new element, and store our current element in <code>copy</code>. We also initialize a <code>cons</code>, similar to your <code>counter</code>.</li>\n<li>While <code>copy</code> is not empty, we iterate through <code>copy</code> and increment <code>cons</code> until there is an element that is not equal to the next element.</li>\n<li>When this occurs, we concatenate <code>cons</code> and the repeated element to <code>val</code>, like in your code. Then, we cut out the repeated elements from <code>copy</code> and continue the process.</li>\n<li>We add the new value of <code>val</code> to <code>nums</code>, and keep iterating through the <code>n</code> elements.</li>\n</ol>\n<p>I hope these two methods of approaching your problem helped! Please let me know if you have any further questions or clarifications :)</p>\n"},{"comments":[{"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"score":1,"creation_date":1667181310,"post_id":74257925,"comment_id":131102938,"body_markdown":"Woah, i did not even know that method existed...very cool &amp; simplified solution :)","body":"Woah, i did not even know that method existed...very cool &amp; simplified solution :)"},{"owner":{"account_id":26779990,"reputation":43,"user_id":20374980,"display_name":"pinkbird"},"score":0,"creation_date":1667185893,"post_id":74257925,"comment_id":131103484,"body_markdown":"THIS IS SM SHORTER!! WOWWW THANK YOU\nJust a quick question, what does this mean: static final Pattern SEQUENCE_OF_SAME_CHARACTER = Pattern.compile(&quot;(.)\\\\1*&quot;); ?","body":"THIS IS SM SHORTER!! WOWWW THANK YOU Just a quick question, what does this mean: static final Pattern SEQUENCE_OF_SAME_CHARACTER = Pattern.compile(&quot;(.)\\\\1*&quot;); ?"}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667188739,"creation_date":1667179360,"answer_id":74257925,"question_id":74257650,"body_markdown":"You can use `Pattern` with backreference.\r\n\r\nThe regular expression `&quot;(.)\\\\1*&quot;` matches any single character (`&quot;(.)&quot;`) and zero or more sequences of the same character (`&quot;\\\\1*&quot;`). `&quot;\\\\1&quot;` is called a backreference, it refers to the string enclosed in parentheses 1st.\r\n\r\nFor example, it matches `111`, `22` and `1` for `111221`.\r\n\r\n`replaceAll()` calls the lambda expression specified by the argument each time it matches. The lambda expression receives a `MatchResult` and returns a string. The matched string is replaced with the result.\r\n\r\nThe lambda expression in this case concatenates the length of the matched string (`match.group().length()`) and the first character (`match.group(1)`).\r\n\r\n\r\n    static final Pattern SEQUENCE_OF_SAME_CHARACTER = Pattern.compile(&quot;(.)\\\\1*&quot;);\r\n    \r\n    static String num(int times, String x) {\r\n        for (int i = 0; i &lt; times; ++i)\r\n            x = SEQUENCE_OF_SAME_CHARACTER.matcher(x).replaceAll(\r\n                match -&gt; match.group().length() + match.group(1));\r\n        return x;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt;= 8; ++i)\r\n            System.out.print(num(i - 1, &quot;1&quot;) + &quot; &quot;);\r\n    }\r\n\r\noutput:\r\n\r\n    1 11 21 1211 111221 312211 13112221 1113213211","title":"Finding the nth term in a sequence","body":"<p>You can use <code>Pattern</code> with backreference.</p>\n<p>The regular expression <code>&quot;(.)\\\\1*&quot;</code> matches any single character (<code>&quot;(.)&quot;</code>) and zero or more sequences of the same character (<code>&quot;\\\\1*&quot;</code>). <code>&quot;\\\\1&quot;</code> is called a backreference, it refers to the string enclosed in parentheses 1st.</p>\n<p>For example, it matches <code>111</code>, <code>22</code> and <code>1</code> for <code>111221</code>.</p>\n<p><code>replaceAll()</code> calls the lambda expression specified by the argument each time it matches. The lambda expression receives a <code>MatchResult</code> and returns a string. The matched string is replaced with the result.</p>\n<p>The lambda expression in this case concatenates the length of the matched string (<code>match.group().length()</code>) and the first character (<code>match.group(1)</code>).</p>\n<pre><code>static final Pattern SEQUENCE_OF_SAME_CHARACTER = Pattern.compile(&quot;(.)\\\\1*&quot;);\n\nstatic String num(int times, String x) {\n    for (int i = 0; i &lt; times; ++i)\n        x = SEQUENCE_OF_SAME_CHARACTER.matcher(x).replaceAll(\n            match -&gt; match.group().length() + match.group(1));\n    return x;\n}\n\npublic static void main(String[] args) {\n    for (int i = 1; i &lt;= 8; ++i)\n        System.out.print(num(i - 1, &quot;1&quot;) + &quot; &quot;);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>1 11 21 1211 111221 312211 13112221 1113213211\n</code></pre>\n"}],"owner":{"account_id":26779990,"reputation":43,"user_id":20374980,"display_name":"pinkbird"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74257677,"answer_count":2,"score":4,"last_activity_date":1667260200,"creation_date":1667175408,"question_id":74257650,"body_markdown":"I have a sequence, and I am trying to make a program to find the nth term of the sequence.\r\n\r\nThe sequence is as follows:\r\n\r\n1, 11, 21, 1211, 111221, 312211...\r\n\r\nIn this sequence, each term describes the previous term. For example, &quot;1211&quot; means that the previous term; the previous term is &quot;21&quot; where there is **one** occurrence of a **2** and then **one** occurrence of a **1** (=1211). To get the third term, &quot;21,&quot; you look at the second term: 11. There are **two** occurrences of a **1** which gives us &quot;21.&quot;\r\n\r\n```\r\nimport java.util.*;\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    int n = scan.nextInt();\r\n        System.out.println( Main.num(n-1, &quot;1&quot;));\r\n  }\r\n    public static String num(int times, String x){\r\n        if(times == 0){\r\n            return x;\r\n        }else{\r\n            //System.out.println(&quot;meow&quot;);\r\n            String y = &quot;&quot; + x.charAt(0);\r\n            int counter = 0;\r\n            for(int i = 1; i &lt; x.length(); i++){\r\n                if(x.charAt(i) == x.charAt(i-1)){\r\n                    counter++;\r\n                }else{\r\n                    y += &quot;&quot; + counter + x.charAt(i-1);\r\n                    counter = 0;\r\n                }\r\n            }\r\n            return num(times--, y);\r\n        }\r\n        //return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\nMy code uses recursion to find the nth term. But, it gives us errors :(\r\n\r\nFirst, I start of the method &quot;num&quot; by passing it the number of terms-1 (since the first term is already given) and the first term (1).\r\n\r\nIn the method num, we start off by using a conditional to establish the base case (when you are done finding the nth term).\r\n\r\nIf the base case is false, then you find the next term in the sequence.\r\n\r\n\r\n","title":"Finding the nth term in a sequence","body":"<p>I have a sequence, and I am trying to make a program to find the nth term of the sequence.</p>\n<p>The sequence is as follows:</p>\n<p>1, 11, 21, 1211, 111221, 312211...</p>\n<p>In this sequence, each term describes the previous term. For example, &quot;1211&quot; means that the previous term; the previous term is &quot;21&quot; where there is <strong>one</strong> occurrence of a <strong>2</strong> and then <strong>one</strong> occurrence of a <strong>1</strong> (=1211). To get the third term, &quot;21,&quot; you look at the second term: 11. There are <strong>two</strong> occurrences of a <strong>1</strong> which gives us &quot;21.&quot;</p>\n<pre><code>import java.util.*;\nclass Main {\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    int n = scan.nextInt();\n        System.out.println( Main.num(n-1, &quot;1&quot;));\n  }\n    public static String num(int times, String x){\n        if(times == 0){\n            return x;\n        }else{\n            //System.out.println(&quot;meow&quot;);\n            String y = &quot;&quot; + x.charAt(0);\n            int counter = 0;\n            for(int i = 1; i &lt; x.length(); i++){\n                if(x.charAt(i) == x.charAt(i-1)){\n                    counter++;\n                }else{\n                    y += &quot;&quot; + counter + x.charAt(i-1);\n                    counter = 0;\n                }\n            }\n            return num(times--, y);\n        }\n        //return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>My code uses recursion to find the nth term. But, it gives us errors :(</p>\n<p>First, I start of the method &quot;num&quot; by passing it the number of terms-1 (since the first term is already given) and the first term (1).</p>\n<p>In the method num, we start off by using a conditional to establish the base case (when you are done finding the nth term).</p>\n<p>If the base case is false, then you find the next term in the sequence.</p>\n"},{"tags":["java","multithreading","synchronization"],"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1434894151,"post_id":30965096,"comment_id":49962101,"body_markdown":"It&#39;s easier to use a &quot;normal&quot; queue, and do the `synchronized`. There are more advanced techniques, they might be too complicated, and they may not actually be faster than simple locking.","body":"It&#39;s easier to use a &quot;normal&quot; queue, and do the <code>synchronized</code>. There are more advanced techniques, they might be too complicated, and they may not actually be faster than simple locking."},{"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"score":0,"creation_date":1434894388,"post_id":30965096,"comment_id":49962161,"body_markdown":"Thanks for the answer, but I mean is composing some thread safe operations of a java thread safe class (like LinkedBlockingDeque) so difficult? My situation is very common by the way: I want to sometimes lock the whole queue for particular operations and sometimes exploit concurrent take and put.","body":"Thanks for the answer, but I mean is composing some thread safe operations of a java thread safe class (like LinkedBlockingDeque) so difficult? My situation is very common by the way: I want to sometimes lock the whole queue for particular operations and sometimes exploit concurrent take and put."},{"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"score":0,"creation_date":1434894522,"post_id":30965096,"comment_id":49962204,"body_markdown":"Do you want the queue to remain unmodified, or do you instead want to do work on an unmodifiable snapshot of the queue while other threads can continue to mutate the original queue?","body":"Do you want the queue to remain unmodified, or do you instead want to do work on an unmodifiable snapshot of the queue while other threads can continue to mutate the original queue?"},{"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"score":0,"creation_date":1434894586,"post_id":30965096,"comment_id":49962219,"body_markdown":"The first one. The real queue must stay unmodified.","body":"The first one. The real queue must stay unmodified."},{"owner":{"account_id":1961313,"reputation":802,"user_id":1762803,"accept_rate":88,"display_name":"pikachu0"},"score":0,"creation_date":1434896680,"post_id":30965096,"comment_id":49962809,"body_markdown":"FWIW, check out the `LinkedBlockingQueue#put(Object)`&#39;s implementation: http://www.grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/concurrent/LinkedBlockingQueue.java#LinkedBlockingQueue.put%28java.lang.Object%29 Looks like it is implemented with the higher level API from `java.util.concurrent`.","body":"FWIW, check out the <code>LinkedBlockingQueue#put(Object)</code>&#39;s implementation: <a href=\"http://www.grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/concurrent/LinkedBlockingQueue.java#LinkedBlockingQueue.put%28java.lang.Object%29\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a> Looks like it is implemented with the higher level API from <code>java.util.concurrent</code>."}],"answers":[{"comments":[{"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"score":0,"creation_date":1434897282,"post_id":30965510,"comment_id":49962984,"body_markdown":"*And when you do that, you reintroduce the concurrency bottleneck that you were trying to avoid by using the concurrent data structure*. Conceptually I think it was not clear to me the purpose of concurrent data structures. Thanks.","body":"<i>And when you do that, you reintroduce the concurrency bottleneck that you were trying to avoid by using the concurrent data structure</i>. Conceptually I think it was not clear to me the purpose of concurrent data structures. Thanks."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667260107,"creation_date":1434896329,"answer_id":30965510,"question_id":30965096,"body_markdown":"&gt; How do you handle this scenario?\r\n\r\nIn general, you cannot &quot;compose&quot; operations on the concurrent data structures without using external locking of some kind.  And when you do that, you reintroduce the concurrency bottleneck that you were trying to avoid by using the concurrent data structure.\r\n\r\nIn this case, you are correct.  The `LinkedBlockingDeque` class uses a private lock object for synchronization, etcetera.\r\n\r\n\r\n","title":"How to compose thread safe operations and make them atomic?","body":"<blockquote>\n<p>How do you handle this scenario?</p>\n</blockquote>\n<p>In general, you cannot &quot;compose&quot; operations on the concurrent data structures without using external locking of some kind.  And when you do that, you reintroduce the concurrency bottleneck that you were trying to avoid by using the concurrent data structure.</p>\n<p>In this case, you are correct.  The <code>LinkedBlockingDeque</code> class uses a private lock object for synchronization, etcetera.</p>\n"}],"owner":{"account_id":1940260,"reputation":1089,"user_id":1746602,"accept_rate":57,"display_name":"Kami"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30965510,"answer_count":1,"score":1,"last_activity_date":1667260107,"creation_date":1434893772,"question_id":30965096,"body_markdown":"Let&#39;s take a thread safe class like `LinkedBlockingDeque`:\r\n\r\n    BlockingQueue&lt;Task&gt; taskQueue = new LinkedBlockingDeque&lt;Task&gt;();\r\n\r\nI know that operations like `take` and `put` are thread safe, so they respect the happened-before relationship.\r\n\r\nBut what if I want to compose some operations to make them atomic?\r\nLike this:\r\n\r\n    if(taskQueue.size() == 1) {\r\n       /*Do a lot of things here, but I do not want other threads\r\n         to change the size of the queue here with take or put*/\r\n    }\r\n    //taskQueue.size() must still be equal to 1\r\n\r\nIf it was a not thread safe class, I could do something like this:\r\n\r\n    synchronized(taskQueue) {\r\n      if(taskQueue.size() == 1) {\r\n        /*Do a lot of things here, but I do not want other threads\r\n          to change the size of the queue here with take or put*/\r\n      }\r\n      //taskQueue.size() must still be equal to 1\r\n    }\r\nBut it is not that simple, I do not think that the implementations of `take` and `put` use the object lock.\r\n\r\nHow do you handle this scanario?\r\n","title":"How to compose thread safe operations and make them atomic?","body":"<p>Let's take a thread safe class like <code>LinkedBlockingDeque</code>:</p>\n\n<pre><code>BlockingQueue&lt;Task&gt; taskQueue = new LinkedBlockingDeque&lt;Task&gt;();\n</code></pre>\n\n<p>I know that operations like <code>take</code> and <code>put</code> are thread safe, so they respect the happened-before relationship.</p>\n\n<p>But what if I want to compose some operations to make them atomic?\nLike this:</p>\n\n<pre><code>if(taskQueue.size() == 1) {\n   /*Do a lot of things here, but I do not want other threads\n     to change the size of the queue here with take or put*/\n}\n//taskQueue.size() must still be equal to 1\n</code></pre>\n\n<p>If it was a not thread safe class, I could do something like this:</p>\n\n<pre><code>synchronized(taskQueue) {\n  if(taskQueue.size() == 1) {\n    /*Do a lot of things here, but I do not want other threads\n      to change the size of the queue here with take or put*/\n  }\n  //taskQueue.size() must still be equal to 1\n}\n</code></pre>\n\n<p>But it is not that simple, I do not think that the implementations of <code>take</code> and <code>put</code> use the object lock.</p>\n\n<p>How do you handle this scanario?</p>\n"},{"tags":["java","multithreading","process","execution"],"answers":[{"comments":[{"owner":{"account_id":23759373,"reputation":47,"user_id":17775023,"display_name":"Dan Filban"},"score":0,"creation_date":1666008895,"post_id":74073197,"comment_id":130826143,"body_markdown":"Where is this &#39;context&#39; located? Is it a part of the OS or a particular space in the RAM? Or managed by both this components?","body":"Where is this &#39;context&#39; located? Is it a part of the OS or a particular space in the RAM? Or managed by both this components?"}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665770696,"creation_date":1665770696,"answer_id":74073197,"question_id":74071854,"body_markdown":"In this context, &quot;execution environment&quot; means a context in which code can execute (run). A *process* can use multiple *threads* in parallel. A thread executes a single stack of code at a time.\r\n\r\nThis is a gross oversimplification, but hopefully you get the point.","title":"What is an execution environment?","body":"<p>In this context, &quot;execution environment&quot; means a context in which code can execute (run). A <em>process</em> can use multiple <em>threads</em> in parallel. A thread executes a single stack of code at a time.</p>\n<p>This is a gross oversimplification, but hopefully you get the point.</p>\n"},{"tags":[],"owner":{"account_id":26789322,"reputation":71,"user_id":20382988,"display_name":"Ahmet M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667259761,"creation_date":1667259174,"answer_id":74270083,"question_id":74071854,"body_markdown":"&#39;Execution Environment&#39; or &#39;Environment&#39; terms are extremely overloaded. They are used to mean different things at different context.(Somehow related though)\r\n\r\nThere many layers of abstractions in a software system. Each layer depends on something from the immediate below layers and abstracted from realities coming from layers further below. For instance, Computers depends fundamentally on physics. So at the bottom, there is physics. On top of physics, there is transistors. On top of transistors, there is logic gates. On top of logic gates, there is logic circuits. On top of that, there is microarchitecture and on top of that, there is architecture (instructions set, registers etc.). On top of that there is software written using the architecture. The software is further  divided into operating system and applications. OS and applications have layered parts themselves.\r\n\r\nSo, everything depends on something else. That something else is called environment. In other words, everything your part do not implement but depends on called &#39;environment&#39;.\r\n\r\nOS is an environment for applications because of the fact that when application performs an I/O, they use the operating system provided functionalities by making system calls.\r\n\r\nMost platforms like JAVA or C++ runtime, further provide functionality to the applications. Hence, they are also called a form of environment.\r\n\r\nIn the context of processes and threads, these things can be said...\r\n\r\nOperating systems do not run a single program at a time to improve hardware utilization. (When the code runs it may block for several reasons, and during that time OS runs another program). Furthermore, there is something called &#39;timesharing&#39; which means OS allocates the CPU(s) to different programs for a limited amount of time and stops/continues programs.\r\n\r\nIn order to do that, OS isolates a specific instance of program execution through an abstraction called &#39;process&#39;. By doing that it provides programs an &#39;environment&#39; that they can use without thinking other programs running. (Isolates running programs through processes)\r\n\r\nFor instance, a program code running in a process could not read data written to the memory allocated to the another process.\r\n\r\nThreads are like processes to some extent. They share the memory of the process they belong. Namely, they share the HEAP space of the processes but they have separate stacks. Since they have separate stacks, they could be in different parts of the same code. From stacks they have references to the shared heap which allows them to communicate more effectively than the inter process communication way.\r\n\r\nTo sum up, everything you are implicitly or explicitly benefiting but you are not implementing is called &#39;environment&#39;. \r\n","title":"What is an execution environment?","body":"<p>'Execution Environment' or 'Environment' terms are extremely overloaded. They are used to mean different things at different context.(Somehow related though)</p>\n<p>There many layers of abstractions in a software system. Each layer depends on something from the immediate below layers and abstracted from realities coming from layers further below. For instance, Computers depends fundamentally on physics. So at the bottom, there is physics. On top of physics, there is transistors. On top of transistors, there is logic gates. On top of logic gates, there is logic circuits. On top of that, there is microarchitecture and on top of that, there is architecture (instructions set, registers etc.). On top of that there is software written using the architecture. The software is further  divided into operating system and applications. OS and applications have layered parts themselves.</p>\n<p>So, everything depends on something else. That something else is called environment. In other words, everything your part do not implement but depends on called 'environment'.</p>\n<p>OS is an environment for applications because of the fact that when application performs an I/O, they use the operating system provided functionalities by making system calls.</p>\n<p>Most platforms like JAVA or C++ runtime, further provide functionality to the applications. Hence, they are also called a form of environment.</p>\n<p>In the context of processes and threads, these things can be said...</p>\n<p>Operating systems do not run a single program at a time to improve hardware utilization. (When the code runs it may block for several reasons, and during that time OS runs another program). Furthermore, there is something called 'timesharing' which means OS allocates the CPU(s) to different programs for a limited amount of time and stops/continues programs.</p>\n<p>In order to do that, OS isolates a specific instance of program execution through an abstraction called 'process'. By doing that it provides programs an 'environment' that they can use without thinking other programs running. (Isolates running programs through processes)</p>\n<p>For instance, a program code running in a process could not read data written to the memory allocated to the another process.</p>\n<p>Threads are like processes to some extent. They share the memory of the process they belong. Namely, they share the HEAP space of the processes but they have separate stacks. Since they have separate stacks, they could be in different parts of the same code. From stacks they have references to the shared heap which allows them to communicate more effectively than the inter process communication way.</p>\n<p>To sum up, everything you are implicitly or explicitly benefiting but you are not implementing is called 'environment'.</p>\n"}],"owner":{"account_id":23759373,"reputation":47,"user_id":17775023,"display_name":"Dan Filban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1667259761,"creation_date":1665762786,"question_id":74071854,"body_markdown":"Providing that I didn&#39;t attend college lessons on hardware or on OS topics - I&#39;ve only tried to follow some youtube videos and read some online articles about it (without significant success); someone could explain me what is an _execution environment_? I study Java and now I&#39;m starting multithreading. On an Oracle tutorial section I&#39;ve found this definition of process and thread: &quot;Both processes and threads provide an execution environment&quot;. The problem Is that I really don&#39;t get what does this mean.","title":"What is an execution environment?","body":"<p>Providing that I didn't attend college lessons on hardware or on OS topics - I've only tried to follow some youtube videos and read some online articles about it (without significant success); someone could explain me what is an <em>execution environment</em>? I study Java and now I'm starting multithreading. On an Oracle tutorial section I've found this definition of process and thread: &quot;Both processes and threads provide an execution environment&quot;. The problem Is that I really don't get what does this mean.</p>\n"},{"tags":["java","selenium","junit4"],"answers":[{"tags":[],"owner":{"account_id":2464083,"reputation":856,"user_id":2147581,"accept_rate":68,"display_name":"S&#252;ni&#218;r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667259745,"creation_date":1410859275,"answer_id":25865036,"question_id":25853333,"body_markdown":"### Way you can call your JUnit function from main\r\n\r\nHere is some help on how to: *https://stackoverflow.com/questions/2543912/how-do-i-run-junit-tests-from-inside-my-java-application*\r\n\r\n### Or you can simply add Thread.sleep(millisecond)\r\n\r\n    try {\r\n        Thread.sleep(100);\r\n    } catch (InterruptedException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n\r\nIt must work in Java ([Eclipse][1]).\r\n\r\nBut you can also use (I think it is better for testing):\r\n\r\n    FluentWait fluentWait = new FluentWait&lt;&gt;(webDriver) {\r\n      .withTimeout(30, TimeUnit.SECONDS)\r\n      .pollingEvery(200, TimeUnit.MILLISECONDS);\r\n      .ignoring(NoSuchElementException.class);\r\n    }\r\n\r\n    WebElement element = (new WebDriverWait(driver, 10))\r\n       .until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\r\n\r\nSource: *https://stackoverflow.com/questions/20903231/how-to-wait-until-an-element-is-present-in-selenium/20903328#20903328*\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n\r\n\r\n\r\n","title":"How can I use WebDriverWait for various methods in Selenium JUnit?","body":"<h3>Way you can call your JUnit function from main</h3>\n<p>Here is some help on how to: <em><a href=\"https://stackoverflow.com/questions/2543912/how-do-i-run-junit-tests-from-inside-my-java-application\">How do I run JUnit tests from inside my Java application?</a></em></p>\n<h3>Or you can simply add Thread.sleep(millisecond)</h3>\n<pre><code>try {\n    Thread.sleep(100);\n} catch (InterruptedException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>It must work in Java (<a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a>).</p>\n<p>But you can also use (I think it is better for testing):</p>\n<pre><code>FluentWait fluentWait = new FluentWait&lt;&gt;(webDriver) {\n  .withTimeout(30, TimeUnit.SECONDS)\n  .pollingEvery(200, TimeUnit.MILLISECONDS);\n  .ignoring(NoSuchElementException.class);\n}\n\nWebElement element = (new WebDriverWait(driver, 10))\n   .until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\n</code></pre>\n<p>Source: <em><a href=\"https://stackoverflow.com/questions/20903231/how-to-wait-until-an-element-is-present-in-selenium/20903328#20903328\">How can make it wait until an element is present in Selenium?</a></em></p>\n"}],"owner":{"account_id":5034097,"reputation":11,"user_id":4043456,"accept_rate":0,"display_name":"rahul kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":703,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667259745,"creation_date":1410801297,"question_id":25853333,"body_markdown":"I have various methods in my code in which I need to use [WebDriverWait][1]. Usually we declare it in the main method like:\r\n\r\n    WebDriverWait mywait = new WebDriverWait(driver, 25)\r\n\r\nWhile using JUnit in Selenium, there isn&#39;t any main method. How can I use WebDriverWait for webelements in various methods in my code?\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/py/webdriver_support/selenium.webdriver.support.wait.html\r\n\r\n\r\n\r\n","title":"How can I use WebDriverWait for various methods in Selenium JUnit?","body":"<p>I have various methods in my code in which I need to use <a href=\"https://www.selenium.dev/selenium/docs/api/py/webdriver_support/selenium.webdriver.support.wait.html\" rel=\"nofollow noreferrer\">WebDriverWait</a>. Usually we declare it in the main method like:</p>\n<pre><code>WebDriverWait mywait = new WebDriverWait(driver, 25)\n</code></pre>\n<p>While using JUnit in Selenium, there isn't any main method. How can I use WebDriverWait for webelements in various methods in my code?</p>\n"},{"tags":["java","excel","maven","selenium-webdriver","apache-poi"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1651814928,"post_id":72136526,"comment_id":127457441,"body_markdown":"You need to check if the returned cell for `row.getCell(i)` is null before you attempt to use `getStringCellValue()` on the cell. In short, break your `if` statement up into smaller bits, and include a null check.","body":"You need to check if the returned cell for <code>row.getCell(i)</code> is null before you attempt to use <code>getStringCellValue()</code> on the cell. In short, break your <code>if</code> statement up into smaller bits, and include a null check."},{"owner":{"account_id":20569622,"reputation":7,"user_id":15098234,"display_name":"Rajat lilhare"},"score":0,"creation_date":1651817289,"post_id":72136526,"comment_id":127457976,"body_markdown":"ok I will try, can you give me some hint how to do that, I m new to java so if you can tell me, it will be great.","body":"ok I will try, can you give me some hint how to do that, I m new to java so if you can tell me, it will be great."}],"answers":[{"comments":[{"owner":{"account_id":20569622,"reputation":7,"user_id":15098234,"display_name":"Rajat lilhare"},"score":0,"creation_date":1651826412,"post_id":72136756,"comment_id":127460764,"body_markdown":"yes but I don&#39;t want to create it, that column is already in my sheet, I just want to write data into it. so can you suggest me something. or do you have any idea regarding reading &amp; writing  Excel file using apache poi. if you have any blog you can share, It will be helpful","body":"yes but I don&#39;t want to create it, that column is already in my sheet, I just want to write data into it. so can you suggest me something. or do you have any idea regarding reading &amp; writing  Excel file using apache poi. if you have any blog you can share, It will be helpful"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1651837123,"post_id":72136756,"comment_id":127464556,"body_markdown":"I wrote code that creates Excel sheets from scratch and I just had to follow these nice examples. How do you know that column exists? AFAIK the sheet consists of rows, and these consist of cells. I think I am getting it: You need to create the cells for every row separately. Just assuming there are X cells because row 0 had them is wrong.","body":"I wrote code that creates Excel sheets from scratch and I just had to follow these nice examples. How do you know that column exists? AFAIK the sheet consists of rows, and these consist of cells. I think I am getting it: You need to create the cells for every row separately. Just assuming there are X cells because row 0 had them is wrong."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651816407,"creation_date":1651816407,"answer_id":72136756,"question_id":72136526,"body_markdown":"Have a look at the [HOWTO][1] and [examples][2].\r\nYou will notice that there are calls for creating a row or creating a cell. Unless you do so, the row/cell does not exist and your getCell() function will return null.\r\n\r\n\r\n  [1]: https://poi.apache.org/components/spreadsheet/how-to.html\r\n  [2]: https://poi.apache.org/components/spreadsheet/examples.html","title":"I want to write data into excel(.xlsx file) using Apache poi","body":"<p>Have a look at the <a href=\"https://poi.apache.org/components/spreadsheet/how-to.html\" rel=\"nofollow noreferrer\">HOWTO</a> and <a href=\"https://poi.apache.org/components/spreadsheet/examples.html\" rel=\"nofollow noreferrer\">examples</a>.\nYou will notice that there are calls for creating a row or creating a cell. Unless you do so, the row/cell does not exist and your getCell() function will return null.</p>\n"},{"tags":[],"owner":{"account_id":15871048,"reputation":153,"user_id":11451688,"display_name":"Usman Kokab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667258267,"creation_date":1667258267,"answer_id":74270004,"question_id":72136526,"body_markdown":"Changing for loop condition part i.e. `i &lt; row.getLastCellNum();` to `i &lt; row.getLastCellNum()-1;` can resolve this issue.  \r\n\r\n`getLastCellNum()` returns index plus one and once the counter will reach to end value, `getCell(i)` can point to the null value as per your code.  ","title":"I want to write data into excel(.xlsx file) using Apache poi","body":"<p>Changing for loop condition part i.e. <code>i &lt; row.getLastCellNum();</code> to <code>i &lt; row.getLastCellNum()-1;</code> can resolve this issue.</p>\n<p><code>getLastCellNum()</code> returns index plus one and once the counter will reach to end value, <code>getCell(i)</code> can point to the null value as per your code.</p>\n"}],"owner":{"account_id":20569622,"reputation":7,"user_id":15098234,"display_name":"Rajat lilhare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1634,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1667258267,"creation_date":1651814646,"question_id":72136526,"body_markdown":"I want to write data into excel(.xlsx file) using Apache poi. but getting some error while writing a data. I have followed this video &quot; How to read/write data from Excel file using Apache POI API in Selenium || Latest POI Version&quot;, I m able to read data but while writing I m getting this error &quot; Cannot invoke &quot;org.apache.poi.xssf.usermodel.XSSFCell.getStringCellValue()&quot; because the return value of &quot;org.apache.poi.xssf.usermodel.XSSFRow.getCell(int)&quot; is null &quot;, basically nullpointerexception.\r\n\r\n    enter code here\r\n String resourceGroupNameElement = driver.findElement(By.xpath(FrameworkValidator_Constants.Constants.RESOURCE_GROUP_NAME_XPATH)).getText(); \r\n\t\t \r\n\t\t  \r\n\t\t\t\t    \r\n\t\t\tString   expectedResult = reader.getCellData(&quot;RG&quot;,6,2);\r\n\t\t\t\t \r\n\t\t\t\t if( resourceGroupNameElement== expectedResult) {\r\n\t\t\t\tString  status= &quot;pass&quot;;\r\n\t\t\t\tSystem.out.println(status);\r\n\t\t\t\t }\r\n\t\t\t\t else {\r\n\t\t\t\t\tString status=&quot;fail&quot;;\r\n\t\t\t\t\tSystem.out.println(status);\r\n\t\t\t\t }\r\n\t\t\t\t //reader.setCellData(&quot;RG&quot;, &quot;STATUS/PASS/FAIL&quot;, 2, status);\r\n\t\t\t\t System.out.println(status);\r\n\t\t\t\t reader.setCellData(&quot;RG&quot;,&quot;ACTUAL  RESULT&quot; , 2, resourceGroupNameElement);\r\n\t\t\t\t Assert.assertEquals(resourceGroupNameElement, expectedResult);\r\n\r\n#######\r\nIt is showing error in this section\r\n\r\n    public String setCellData(String sheetName, String colName, int rowNum, String data) {\r\n\t\ttry {\r\n\t\t\tfis = new FileInputStream(path);\r\n\t\t\tworkbook = new XSSFWorkbook(fis);\r\n\r\n\t\t\tif (rowNum &lt;= 0)\r\n\t\t\t\treturn &quot;&quot;;\r\n\r\n\t\t\tint index = workbook.getSheetIndex(sheetName);\r\n\t\t\tint colNum = -1;\r\n\t\t\tif (index == -1)\r\n\t\t\t\treturn &quot;&quot;;\r\n\r\n\t\t\tsheet = workbook.getSheetAt(index);\r\n\r\n\t\t\trow = sheet.getRow(0);\r\n\t\t\tfor (int i = 0; i &lt; row.getLastCellNum(); i++) {\r\n\t\t\t\t// System.out.println(row.getCell(i).getStringCellValue().trim());\r\n\t\t\t\tif (row.getCell(i).getStringCellValue().trim().equals(colName))\r\n\t\t\t\t\tcolNum = i;\r\n\t\t\t}\r\n\t\t\tif (colNum == -1)\r\n\t\t\t\treturn &quot;&quot;;\r\n\r\n\t\t\tsheet.autoSizeColumn(colNum);\r\n\t\t\trow = sheet.getRow(rowNum - 1);\r\n\t\t\tif (row == null)\r\n\t\t\t\trow = sheet.createRow(rowNum - 1);\r\n\r\n\t\t\tcell = row.getCell(colNum);\r\n\t\t\tif (cell == null)\r\n\t\t\t\tcell = row.createCell(colNum);\r\n\r\n\t\t\t// cell style\r\n\t\t\t// CellStyle cs = workbook.createCellStyle();\r\n\t\t\t// cs.setWrapText(true);\r\n\t\t\t// cell.setCellStyle(cs);\r\n\t\t\tcell.setCellValue(data);\r\n\r\n\t\t\tfileOut = new FileOutputStream(path);\r\n\r\n\t\t\tworkbook.write(fileOut);\r\n\r\n\t\t\tfileOut.close();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\nso can anybody tell me where I m going wrong.","title":"I want to write data into excel(.xlsx file) using Apache poi","body":"<p>I want to write data into excel(.xlsx file) using Apache poi. but getting some error while writing a data. I have followed this video &quot; How to read/write data from Excel file using Apache POI API in Selenium || Latest POI Version&quot;, I m able to read data but while writing I m getting this error &quot; Cannot invoke &quot;org.apache.poi.xssf.usermodel.XSSFCell.getStringCellValue()&quot; because the return value of &quot;org.apache.poi.xssf.usermodel.XSSFRow.getCell(int)&quot; is null &quot;, basically nullpointerexception.</p>\n<pre><code>enter code here\n</code></pre>\n<p>String resourceGroupNameElement = driver.findElement(By.xpath(FrameworkValidator_Constants.Constants.RESOURCE_GROUP_NAME_XPATH)).getText();</p>\n<pre><code>        String   expectedResult = reader.getCellData(&quot;RG&quot;,6,2);\n             \n             if( resourceGroupNameElement== expectedResult) {\n            String  status= &quot;pass&quot;;\n            System.out.println(status);\n             }\n             else {\n                String status=&quot;fail&quot;;\n                System.out.println(status);\n             }\n             //reader.setCellData(&quot;RG&quot;, &quot;STATUS/PASS/FAIL&quot;, 2, status);\n             System.out.println(status);\n             reader.setCellData(&quot;RG&quot;,&quot;ACTUAL  RESULT&quot; , 2, resourceGroupNameElement);\n             Assert.assertEquals(resourceGroupNameElement, expectedResult);\n</code></pre>\n<p>#######\nIt is showing error in this section</p>\n<pre><code>public String setCellData(String sheetName, String colName, int rowNum, String data) {\n    try {\n        fis = new FileInputStream(path);\n        workbook = new XSSFWorkbook(fis);\n\n        if (rowNum &lt;= 0)\n            return &quot;&quot;;\n\n        int index = workbook.getSheetIndex(sheetName);\n        int colNum = -1;\n        if (index == -1)\n            return &quot;&quot;;\n\n        sheet = workbook.getSheetAt(index);\n\n        row = sheet.getRow(0);\n        for (int i = 0; i &lt; row.getLastCellNum(); i++) {\n            // System.out.println(row.getCell(i).getStringCellValue().trim());\n            if (row.getCell(i).getStringCellValue().trim().equals(colName))\n                colNum = i;\n        }\n        if (colNum == -1)\n            return &quot;&quot;;\n\n        sheet.autoSizeColumn(colNum);\n        row = sheet.getRow(rowNum - 1);\n        if (row == null)\n            row = sheet.createRow(rowNum - 1);\n\n        cell = row.getCell(colNum);\n        if (cell == null)\n            cell = row.createCell(colNum);\n\n        // cell style\n        // CellStyle cs = workbook.createCellStyle();\n        // cs.setWrapText(true);\n        // cell.setCellStyle(cs);\n        cell.setCellValue(data);\n\n        fileOut = new FileOutputStream(path);\n\n        workbook.write(fileOut);\n\n        fileOut.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        return &quot;&quot;;\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>so can anybody tell me where I m going wrong.</p>\n"},{"tags":["java","kotlin","oop","inheritance","abstract-class"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1667255706,"post_id":74269709,"comment_id":131122573,"body_markdown":"I don&#39;t know Kotlin, but in Java abstract methods need to be declared concretely before they can actually be used.  Since your value is abstract, perhaps it needs some concrete definition.","body":"I don&#39;t know Kotlin, but in Java abstract methods need to be declared concretely before they can actually be used.  Since your value is abstract, perhaps it needs some concrete definition."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667256833,"post_id":74269709,"comment_id":131122780,"body_markdown":"Because it&#39;s abstract in the superclass, you haven&#39;t _defined_ it enough so that Kotlin can decide if there _is_ a `this.sweetness` or not.  (It could also be a getter, for example.)  You must specify this in the subtype with `override`.","body":"Because it&#39;s abstract in the superclass, you haven&#39;t <i>defined</i> it enough so that Kotlin can decide if there <i>is</i> a <code>this.sweetness</code> or not.  (It could also be a getter, for example.)  You must specify this in the subtype with <code>override</code>."}],"answers":[{"comments":[{"owner":{"account_id":3082964,"reputation":324,"user_id":2610793,"accept_rate":60,"display_name":"kranberry"},"score":0,"creation_date":1667367823,"post_id":74269839,"comment_id":131147884,"body_markdown":"Thanks for the detailed explanation! I see, I did forget the meaning of `this()` vs `super()`. And defining the overridden val up top but then initializing it in the constructor is something I tried but must have failed due to the `this()` delegation. Thank you!","body":"Thanks for the detailed explanation! I see, I did forget the meaning of <code>this()</code> vs <code>super()</code>. And defining the overridden val up top but then initializing it in the constructor is something I tried but must have failed due to the <code>this()</code> delegation. Thank you!"}],"tags":[],"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667258030,"creation_date":1667256559,"answer_id":74269839,"question_id":74269709,"body_markdown":"overriding an abstract property requires that you override it at the top level and mention `override val` somewhere. \r\n\r\nIt can happen either in the primary constructor, e.g.\r\n\r\n    class MatchaBobaLatte(override val sweetness: Int) : BobaTea() {\r\n        // ...\r\n    }\r\n\r\nor by explicitly declaring the override val like\r\n\r\n    class MatchaBobaLatte : BobaTea {\r\n        override val sweetness: Int\r\n    \r\n        constructor(sweetness: Int) : super() { // Not this()!\r\n            this.sweetness = sweetness\r\n        }\r\n    }\r\n\r\nor like \r\n\r\n    class MatchaBobaLatte(sweetness: Int) : BobaTea() {\r\n        // primary constructor parameters are available for instance\r\n        // initializer code\r\n        override val sweetness = sweetness * 2\r\n    }\r\n\r\nThe error you see is result of a combination of multiple things. You try to delegate to a primary `this()` constructor which doesn&#39;t exist but it would be the one that needs to set all `val` values. The error also appears if you would do\r\n\r\n```lang-kotlin\r\nclass Reassign {\r\n    val sweetness: Int; // when no value here, then\r\n\r\n    // primary ctor must init all vals or you get\r\n    // &quot;Property must be initialized or be abstract&quot;\r\n    constructor() {\r\n        sweetness = 42;\r\n    }\r\n\r\n    // can&#39;t touch vals in here any more because it runs\r\n    // after &quot;this()&quot;\r\n    constructor(foo: Int) : this() {\r\n        sweetness = foo; // Val cannot be reassigned\r\n    }\r\n}\r\n```","title":"Kotlin/Java: Override Abstract Value in Subclass Constructor","body":"<p>overriding an abstract property requires that you override it at the top level and mention <code>override val</code> somewhere.</p>\n<p>It can happen either in the primary constructor, e.g.</p>\n<pre><code>class MatchaBobaLatte(override val sweetness: Int) : BobaTea() {\n    // ...\n}\n</code></pre>\n<p>or by explicitly declaring the override val like</p>\n<pre><code>class MatchaBobaLatte : BobaTea {\n    override val sweetness: Int\n\n    constructor(sweetness: Int) : super() { // Not this()!\n        this.sweetness = sweetness\n    }\n}\n</code></pre>\n<p>or like</p>\n<pre><code>class MatchaBobaLatte(sweetness: Int) : BobaTea() {\n    // primary constructor parameters are available for instance\n    // initializer code\n    override val sweetness = sweetness * 2\n}\n</code></pre>\n<p>The error you see is result of a combination of multiple things. You try to delegate to a primary <code>this()</code> constructor which doesn't exist but it would be the one that needs to set all <code>val</code> values. The error also appears if you would do</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Reassign {\n    val sweetness: Int; // when no value here, then\n\n    // primary ctor must init all vals or you get\n    // &quot;Property must be initialized or be abstract&quot;\n    constructor() {\n        sweetness = 42;\n    }\n\n    // can't touch vals in here any more because it runs\n    // after &quot;this()&quot;\n    constructor(foo: Int) : this() {\n        sweetness = foo; // Val cannot be reassigned\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3082964,"reputation":324,"user_id":2610793,"accept_rate":60,"display_name":"kranberry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74269839,"answer_count":1,"score":0,"last_activity_date":1667258030,"creation_date":1667255281,"question_id":74269709,"body_markdown":"Given an abstract class:\r\n\r\n```kotlin\r\nabstract class BobaTea {\r\n    abstract val sweetness: Int\r\n}\r\n```\r\n\r\nI have a subclass in which I want to override `sweetness`, however I want to do that in the constructor because the value of sweetness cannot be defined at compile-time, I will only know it at run-time. However, my constructor will ensure that all instances of the subclass do indeed implement the abstract value `sweetness`. \r\n\r\n```kotlin\r\nclass MatchaBobaLatte : BobaTea() {\r\n    constructor(sweetness: Int) : this() {\r\n        this.sweetness = sweetness  // This fails with &quot;val cannot be reassigned&quot;\r\n    }\r\n}\r\n```\r\n\r\nWhy doesn&#39;t this work? I am not *reassigning* `sweetness`, I am simply overriding it because it is abstract in the superclass.\r\n\r\nThanks. ","title":"Kotlin/Java: Override Abstract Value in Subclass Constructor","body":"<p>Given an abstract class:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class BobaTea {\n    abstract val sweetness: Int\n}\n</code></pre>\n<p>I have a subclass in which I want to override <code>sweetness</code>, however I want to do that in the constructor because the value of sweetness cannot be defined at compile-time, I will only know it at run-time. However, my constructor will ensure that all instances of the subclass do indeed implement the abstract value <code>sweetness</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MatchaBobaLatte : BobaTea() {\n    constructor(sweetness: Int) : this() {\n        this.sweetness = sweetness  // This fails with &quot;val cannot be reassigned&quot;\n    }\n}\n</code></pre>\n<p>Why doesn't this work? I am not <em>reassigning</em> <code>sweetness</code>, I am simply overriding it because it is abstract in the superclass.</p>\n<p>Thanks.</p>\n"},{"tags":["java","hadoop","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":16108218,"reputation":662,"user_id":11627201,"display_name":"qwerty_99"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667257553,"creation_date":1667257553,"answer_id":74269931,"question_id":74269566,"body_markdown":"I found the problem, I was using it as both a combiner and a reducer. Just needed to use it only as reducer.","title":"Text.set(string) not showing the right value in hadoop map reduce","body":"<p>I found the problem, I was using it as both a combiner and a reducer. Just needed to use it only as reducer.</p>\n"}],"owner":{"account_id":16108218,"reputation":662,"user_id":11627201,"display_name":"qwerty_99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74269931,"answer_count":1,"score":0,"last_activity_date":1667257553,"creation_date":1667253863,"question_id":74269566,"body_markdown":"I have a map function that sends data in the form of (the value of they keys are not important)\r\n```\r\nkey: &quot;somevalue&quot;\r\nvalue: &quot;value \\t comma separated values&quot;\r\n```\r\nfor example\r\n```\r\nkey:&quot;0&quot;\r\nvalue:&quot;5\\t1,2,3,4&quot;\r\n```\r\nIf I use this code:\r\n```\r\nText debug;\r\nfor (Text val : values) {\r\n    String[] segments = val.toString().split(&quot;\\t&quot;);\r\n    debug = new Text();\r\n    debug.set(val.toString());\r\n    context.write(key, debug);\r\n}\r\n```\r\nI get the right output, such as\r\n```\r\nkey value\r\n0\t8\t1,2,4,5\r\n0\t2\t0,4,5\r\n```\r\nBut if I try this code, the output gets weird:\r\n```\r\nText debug;\r\nfor (Text val : values) {\r\n    String[] segments = val.toString().split(&quot;\\t&quot;);\r\n    debug = new Text();\r\n    if(val.toString().split(&quot;\\t&quot;).length &gt; 1) {\r\n        try{\r\n            debug.set(val.toString().split(&quot;\\t&quot;)[1]);\r\n        }catch(Exception e) {\r\n            debug.set(&quot;Exception&quot;)\r\n        }\r\n    }\r\n    context.write(key, debug);\r\n}\r\n```\r\nThe expected output would be:\r\n```\r\nkey  second part of value (after \\t) \r\n1    2,3,4,5,6\r\n1    4,5,6,6,7\r\n```\r\nHowever the output I get is this:\r\n```\r\nkey Tab (tab character after key)\r\n1TAB\r\n1TAB\r\n...\r\n2TAB\r\n```\r\n\r\nIf I replace the `try...catch` with `if...else`:\r\n```\r\nText debug;\r\nfor (Text val : values) {\r\n    String[] segments = val.toString().split(&quot;\\t&quot;);\r\n    debug = new Text();\r\n    if(val.toString().split(&quot;\\t&quot;).length &gt; 1) {\r\n        debug.set(val.toString().split(&quot;\\t&quot;)[1]);\r\n    } else {\r\n        debug.set(&quot;only one&quot;);\r\n    }\r\n    context.write(key, debug);\r\n}\r\n\r\n```\r\nThis gives the result\r\n```\r\n0   only one\r\n...\r\n100 only one\r\n```\r\nWhat&#39;s going on? I checked on Java and it seems that if I call `&quot;1\\t2&quot;.split(&quot;\\t&quot;)` it will give me `[&quot;1&quot;, &quot;2&quot;]`\r\n","title":"Text.set(string) not showing the right value in hadoop map reduce","body":"<p>I have a map function that sends data in the form of (the value of they keys are not important)</p>\n<pre><code>key: &quot;somevalue&quot;\nvalue: &quot;value \\t comma separated values&quot;\n</code></pre>\n<p>for example</p>\n<pre><code>key:&quot;0&quot;\nvalue:&quot;5\\t1,2,3,4&quot;\n</code></pre>\n<p>If I use this code:</p>\n<pre><code>Text debug;\nfor (Text val : values) {\n    String[] segments = val.toString().split(&quot;\\t&quot;);\n    debug = new Text();\n    debug.set(val.toString());\n    context.write(key, debug);\n}\n</code></pre>\n<p>I get the right output, such as</p>\n<pre><code>key value\n0   8   1,2,4,5\n0   2   0,4,5\n</code></pre>\n<p>But if I try this code, the output gets weird:</p>\n<pre><code>Text debug;\nfor (Text val : values) {\n    String[] segments = val.toString().split(&quot;\\t&quot;);\n    debug = new Text();\n    if(val.toString().split(&quot;\\t&quot;).length &gt; 1) {\n        try{\n            debug.set(val.toString().split(&quot;\\t&quot;)[1]);\n        }catch(Exception e) {\n            debug.set(&quot;Exception&quot;)\n        }\n    }\n    context.write(key, debug);\n}\n</code></pre>\n<p>The expected output would be:</p>\n<pre><code>key  second part of value (after \\t) \n1    2,3,4,5,6\n1    4,5,6,6,7\n</code></pre>\n<p>However the output I get is this:</p>\n<pre><code>key Tab (tab character after key)\n1TAB\n1TAB\n...\n2TAB\n</code></pre>\n<p>If I replace the <code>try...catch</code> with <code>if...else</code>:</p>\n<pre><code>Text debug;\nfor (Text val : values) {\n    String[] segments = val.toString().split(&quot;\\t&quot;);\n    debug = new Text();\n    if(val.toString().split(&quot;\\t&quot;).length &gt; 1) {\n        debug.set(val.toString().split(&quot;\\t&quot;)[1]);\n    } else {\n        debug.set(&quot;only one&quot;);\n    }\n    context.write(key, debug);\n}\n\n</code></pre>\n<p>This gives the result</p>\n<pre><code>0   only one\n...\n100 only one\n</code></pre>\n<p>What's going on? I checked on Java and it seems that if I call <code>&quot;1\\t2&quot;.split(&quot;\\t&quot;)</code> it will give me <code>[&quot;1&quot;, &quot;2&quot;]</code></p>\n"},{"tags":["java","android","c++","filesystems"],"comments":[{"owner":{"account_id":7195349,"reputation":33492,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1600409147,"post_id":63950059,"comment_id":113084084,"body_markdown":"Note that `(file.rdstate() &amp; std::ifstream::failbit) != 0)` is equivalent to just `file.fail()` or you could even just use `if (file)` (which isn&#39;t exactly the same but checks whether the steam is `good` which is what you want)","body":"Note that <code>(file.rdstate() &amp; std::ifstream::failbit) != 0)</code> is equivalent to just <code>file.fail()</code> or you could even just use <code>if (file)</code> (which isn&#39;t exactly the same but checks whether the steam is <code>good</code> which is what you want)"},{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":0,"creation_date":1600416292,"post_id":63950059,"comment_id":113086801,"body_markdown":"Haven&#39;t there recently been even further restrictions on the storage that native code can access?","body":"Haven&#39;t there recently been even further restrictions on the storage that native code can access?"}],"owner":{"account_id":6952987,"reputation":744,"user_id":5335013,"accept_rate":51,"display_name":"Midhun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667256793,"creation_date":1600408550,"question_id":63950059,"body_markdown":"I&#39;m trying to access files in native code in Android like this:\r\n\r\n    // native_model_path = /storage/emulated/0/Model\r\n    std::ifstream file(std::string(native_model_path).append(&quot;/ex_file.weights&quot;));\r\n    if ((file.rdstate() &amp; std::ifstream::failbit) != 0) {\r\n        printf(&quot;Not able to open file&quot;);\r\n        return;\r\n    }\r\nThis prints `Not able to open file`. But the same file is getting opened in JAVA without any issues. I&#39;m opening it like this:\r\n\r\n    String storage = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n    if (!CheckFiles(inPath) ||\r\n        !CheckFiles(storage + File.separator + &quot;Model/&quot;, &quot;ex_file.cfg&quot;) ||\r\n        !CheckFiles(storage + File.separator + &quot;Model/&quot;, &quot;ex_file.weights&quot;)) {\r\n        Log.e(LOG_TAG, &quot;Either the input file path or model files path is invalid! Abort.&quot;);\r\n        return;\r\n    }\r\nThis passes. \r\n\r\nMy `minSdkVersion 23` and `targetSdkVersion 30`. I have set permissions in manifest file too. `&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;` and \r\n   `&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;`. Still not able to access the files in native code. Am I missing something? Please reply.","title":"File read from C++ doesn&#39;t work but it works in JAVA in android. Why?","body":"<p>I'm trying to access files in native code in Android like this:</p>\n<pre><code>// native_model_path = /storage/emulated/0/Model\nstd::ifstream file(std::string(native_model_path).append(&quot;/ex_file.weights&quot;));\nif ((file.rdstate() &amp; std::ifstream::failbit) != 0) {\n    printf(&quot;Not able to open file&quot;);\n    return;\n}\n</code></pre>\n<p>This prints <code>Not able to open file</code>. But the same file is getting opened in JAVA without any issues. I'm opening it like this:</p>\n<pre><code>String storage = Environment.getExternalStorageDirectory().getAbsolutePath();\nif (!CheckFiles(inPath) ||\n    !CheckFiles(storage + File.separator + &quot;Model/&quot;, &quot;ex_file.cfg&quot;) ||\n    !CheckFiles(storage + File.separator + &quot;Model/&quot;, &quot;ex_file.weights&quot;)) {\n    Log.e(LOG_TAG, &quot;Either the input file path or model files path is invalid! Abort.&quot;);\n    return;\n}\n</code></pre>\n<p>This passes.</p>\n<p>My <code>minSdkVersion 23</code> and <code>targetSdkVersion 30</code>. I have set permissions in manifest file too. <code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;</code> and\n<code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;</code>. Still not able to access the files in native code. Am I missing something? Please reply.</p>\n"},{"tags":["java","android","algorithm","android-studio","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1667254129,"post_id":74269246,"comment_id":131122265,"body_markdown":"You are iterating through the whole list before exiting the loop instead of picking just one item and breaking. And each time you call this function you are starting over from scratch because all the variables are local to the function. Nothing will be remembered between calls to the function.","body":"You are iterating through the whole list before exiting the loop instead of picking just one item and breaking. And each time you call this function you are starting over from scratch because all the variables are local to the function. Nothing will be remembered between calls to the function."},{"owner":{"account_id":25198700,"reputation":28,"user_id":19037854,"display_name":"urdurak"},"score":0,"creation_date":1667262488,"post_id":74269246,"comment_id":131123693,"body_markdown":"Thanks for answer but already i want to 4 item from list1","body":"Thanks for answer but already i want to 4 item from list1"}],"answers":[{"tags":[],"owner":{"account_id":9739092,"reputation":3041,"user_id":7221362,"display_name":"Steyrix"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667254665,"creation_date":1667254665,"answer_id":74269657,"question_id":74269246,"body_markdown":"*I am not sure that I understood your goals correctly but...*\r\n\r\nThe random numbers generator is pseudo-random. It means that for each start of the program it will generate the same values. To fix that, you can use seed, based on which numbers will be generated.\r\n\r\n    val rand = Random(1) // it will be your seed\r\n    random_item = list1.random(rand).toString()\r\n\r\nIf you always want to provide different outputs and therefore different seeds, you can create seed like this\r\n\r\n    val rand = Random(System.currentTimeMillis())","title":"Android studio random item always same values","body":"<p><em>I am not sure that I understood your goals correctly but...</em></p>\n<p>The random numbers generator is pseudo-random. It means that for each start of the program it will generate the same values. To fix that, you can use seed, based on which numbers will be generated.</p>\n<pre><code>val rand = Random(1) // it will be your seed\nrandom_item = list1.random(rand).toString()\n</code></pre>\n<p>If you always want to provide different outputs and therefore different seeds, you can create seed like this</p>\n<pre><code>val rand = Random(System.currentTimeMillis())\n</code></pre>\n"}],"owner":{"account_id":25198700,"reputation":28,"user_id":19037854,"display_name":"urdurak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74269657,"answer_count":1,"score":1,"last_activity_date":1667254665,"creation_date":1667251494,"question_id":74269246,"body_markdown":"I am codding a quiz application in android studio. But when i run the app, I see always same values. I tried more times. But it doesn&#39;t work. (I am using **Kotlin** Language)\r\n\r\nMy code:\r\n\r\n```\r\nfun  two_click(view: View)\r\n{\r\n    val list1 = mutableListOf&lt;String&gt;(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;)\r\n    var list2 = mutableListOf&lt;String&gt;()\r\n    var random_item : String? = null\r\n    while(true)\r\n    {\r\n        random_item = list1.random().toString()\r\n        if(list2.contains(random_item))\r\n        {\r\n            continue\r\n        }\r\n        else\r\n        {\r\n            list2.add(random_item)\r\n        }\r\n\r\n        if(list2.size == 4)\r\n        {\r\n            break\r\n        }\r\n    }\r\n    println(list2)\r\n}\r\n```\r\n\r\nWhen I run the app, my outputs always same:\r\n\r\n[![Go outputs](https://i.stack.imgur.com/AMQA8.png)](https://i.stack.imgur.com/AMQA8.png)\r\n\r\nI am trying random item when i run the app without same outputs. How can i fix this code ?","title":"Android studio random item always same values","body":"<p>I am codding a quiz application in android studio. But when i run the app, I see always same values. I tried more times. But it doesn't work. (I am using <strong>Kotlin</strong> Language)</p>\n<p>My code:</p>\n<pre><code>fun  two_click(view: View)\n{\n    val list1 = mutableListOf&lt;String&gt;(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;)\n    var list2 = mutableListOf&lt;String&gt;()\n    var random_item : String? = null\n    while(true)\n    {\n        random_item = list1.random().toString()\n        if(list2.contains(random_item))\n        {\n            continue\n        }\n        else\n        {\n            list2.add(random_item)\n        }\n\n        if(list2.size == 4)\n        {\n            break\n        }\n    }\n    println(list2)\n}\n</code></pre>\n<p>When I run the app, my outputs always same:</p>\n<p><a href=\"https://i.stack.imgur.com/AMQA8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMQA8.png\" alt=\"Go outputs\" /></a></p>\n<p>I am trying random item when i run the app without same outputs. How can i fix this code ?</p>\n"},{"tags":["java","hibernate","spring-boot","stateless","stateful"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1547223150,"post_id":54148237,"comment_id":95131465,"body_markdown":"that mean if a new user is registered , we need to create an database level account for him such that he can use an application ?","body":"that mean if a new user is registered , we need to create an database level account for him such that he can use an application ?"},{"owner":{"account_id":6177497,"reputation":313,"user_id":4813963,"display_name":"Dorian Fusco"},"score":0,"creation_date":1547465493,"post_id":54148237,"comment_id":95189593,"body_markdown":"Yes.\nThat&#39;s how the client wants to manage its users.","body":"Yes. That&#39;s how the client wants to manage its users."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1547471981,"post_id":54148237,"comment_id":95192852,"body_markdown":"May I know any particular reason that they want to do that? Normally we create an &quot;app specific db account&quot; and use that dB account to get data for all users.if there are no particular reasons , seems that they are makeing simple things complicated....","body":"May I know any particular reason that they want to do that? Normally we create an &quot;app specific db account&quot; and use that dB account to get data for all users.if there are no particular reasons , seems that they are makeing simple things complicated...."},{"owner":{"account_id":6177497,"reputation":313,"user_id":4813963,"display_name":"Dorian Fusco"},"score":0,"creation_date":1547476478,"post_id":54148237,"comment_id":95195303,"body_markdown":"I don&#39;t know the reason, but we already told them it was a bad idea. They refused to listen.\nAnyway, I&#39;ve removed hibernate from the project, and am now using java.sql directly to do all my operations, since I was using StoredProcedures only, Hibernate was an overkill. I have to open and close manually all my objects, but at least, this thing is going way faster.\nWill post the solution when I have the time to.","body":"I don&#39;t know the reason, but we already told them it was a bad idea. They refused to listen. Anyway, I&#39;ve removed hibernate from the project, and am now using java.sql directly to do all my operations, since I was using StoredProcedures only, Hibernate was an overkill. I have to open and close manually all my objects, but at least, this thing is going way faster. Will post the solution when I have the time to."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1547477954,"post_id":54148237,"comment_id":95196153,"body_markdown":"Sorry to hear that you have a nonsense client . Your decision sounds good as you only use stored proc. only . Good luck :P","body":"Sorry to hear that you have a nonsense client . Your decision sounds good as you only use stored proc. only . Good luck :P"}],"answers":[{"tags":[],"owner":{"account_id":6177497,"reputation":313,"user_id":4813963,"display_name":"Dorian Fusco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550063314,"creation_date":1550057541,"answer_id":54669172,"question_id":54148237,"body_markdown":"Finally got time to answer this (in case someone passes by in the future).\r\n\r\nBasically, I had two choices : remove Hibernate altogether or &quot;go back&quot; to Stateful sessions.\r\n\r\nI went with the first option, wich I could do only because we had no annotation based mapping between our java objects and our database.\r\nGoing Stateful might have been a better approach, but i didn&#39;t really know how to do that. I found an impressive amount of articles underlining how to go Stateless, but not how to go back Stateful and... Well... Doing it backward wouldn&#39;t be enough, since I would be missing a lot of configuration, so I&#39;d have to research it, and it was a hassle I had no time to deal with.\r\n\r\nUsing a custom implementation of **org.springframework.web.filter.GenericFilterBean**, I wrap every incoming request in a custom requestWrapper containing the database connection.\r\nI open / create said connection using the java (low) API : **java.sql.DriverManager.getConnection**\r\n\r\nI can then retreive this connection from my wrapper, wich is vehiculated through the application by Spring by using this code : \r\n\r\n`ServletRequestAttributes att = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes());\r\nContentCachingRequestWrapper springWrapper = (ContentCachingRequestWrapper) att.getRequest();\r\nCustomWrapper myWrapper = (CustomWrapper) springWrapper.getRequest();\r\nmyWrapper.getConnection();\r\n`\r\n\r\nJust don&#39;t forget to properly close everything to avoid memory leak and you&#39;re set.\r\nOne would also need to register the driver properly, just by calling the constructor of said Driver in the application main class.\r\n","title":"Is stateless authentication adapted to a per-user database connection?","body":"<p>Finally got time to answer this (in case someone passes by in the future).</p>\n\n<p>Basically, I had two choices : remove Hibernate altogether or \"go back\" to Stateful sessions.</p>\n\n<p>I went with the first option, wich I could do only because we had no annotation based mapping between our java objects and our database.\nGoing Stateful might have been a better approach, but i didn't really know how to do that. I found an impressive amount of articles underlining how to go Stateless, but not how to go back Stateful and... Well... Doing it backward wouldn't be enough, since I would be missing a lot of configuration, so I'd have to research it, and it was a hassle I had no time to deal with.</p>\n\n<p>Using a custom implementation of <strong>org.springframework.web.filter.GenericFilterBean</strong>, I wrap every incoming request in a custom requestWrapper containing the database connection.\nI open / create said connection using the java (low) API : <strong>java.sql.DriverManager.getConnection</strong></p>\n\n<p>I can then retreive this connection from my wrapper, wich is vehiculated through the application by Spring by using this code : </p>\n\n<p><code>ServletRequestAttributes att = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes());\nContentCachingRequestWrapper springWrapper = (ContentCachingRequestWrapper) att.getRequest();\nCustomWrapper myWrapper = (CustomWrapper) springWrapper.getRequest();\nmyWrapper.getConnection();\n</code></p>\n\n<p>Just don't forget to properly close everything to avoid memory leak and you're set.\nOne would also need to register the driver properly, just by calling the constructor of said Driver in the application main class.</p>\n"}],"owner":{"account_id":6177497,"reputation":313,"user_id":4813963,"display_name":"Dorian Fusco"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54669172,"answer_count":1,"score":1,"last_activity_date":1667252808,"creation_date":1547216021,"question_id":54148237,"body_markdown":"The issue\r\n-----------------\r\n\r\nI&#39;m working on an application, which, as many applications, starts with a login page before showing any kind of data.\r\n\r\n**The problem is that my client specifically requested that the credentials entered should be used to access the database.**\r\n\r\nThis means that, instead of running the username / password against a &quot;user&quot; table, they will be used to acquire the user&#39;s database personal access.\r\n\r\nIt was decided by my superiors that this application would be build on top of a SpringBoot skeleton, which happens to be using a Stateless JWT Authentication mechanism.\r\n\r\nI&#39;m no expert when it comes to comparing the benefits of Stateless vs Stateful, but if I understood the concept correctly, this means that my application will need to re-establish the database connection with every single request, right?\r\n\r\nI&#39;m asking this because we are experiencing very slow response times.\r\nThe code seems to hang a little while on database setup related code, such as\r\n\r\n    dataSrc.getConnection();\r\nor\r\n\r\n    entityManagerFactoryBean.afterPropertiesSet();\r\n\r\n\r\nA possible solution?\r\n-----------------\r\n\r\nI&#39;ve heard of Hibernate&#39;s StatelessSession, but I was unsuccessful in setting it up.\r\n\r\nI&#39;m not even sure it would help at all, but from what I read, it uses a lower level Hibernate API, which might help mitigate the problem, without much of an impact on the way things are already coded since the SQL operations are exclusively stored procedure calls, which are manually mapped to Java objects.\r\n\r\n\r\nWhat I need help with\r\n-----------------\r\n\r\nBasically, I just want answers to 3 questions :\r\n\r\n**Question 1 :**\r\nShould I simply revert to Stateful authentication, because Stateless models are unadapted to my use case scenario?\r\n\r\n**Question 2 &amp; 3 :**\r\nCan StatelessSession system even be implemented in my scenario, and would it make a significant difference on the database connection time?\r\n\r\nBut, of course, if you know of any other lead that my help me solve my problem without having to revert the whole thing to Stateful, I&#39;m taking it!","title":"Is stateless authentication adapted to a per-user database connection?","body":"<h2>The issue</h2>\n<p>I'm working on an application, which, as many applications, starts with a login page before showing any kind of data.</p>\n<p><strong>The problem is that my client specifically requested that the credentials entered should be used to access the database.</strong></p>\n<p>This means that, instead of running the username / password against a &quot;user&quot; table, they will be used to acquire the user's database personal access.</p>\n<p>It was decided by my superiors that this application would be build on top of a SpringBoot skeleton, which happens to be using a Stateless JWT Authentication mechanism.</p>\n<p>I'm no expert when it comes to comparing the benefits of Stateless vs Stateful, but if I understood the concept correctly, this means that my application will need to re-establish the database connection with every single request, right?</p>\n<p>I'm asking this because we are experiencing very slow response times.\nThe code seems to hang a little while on database setup related code, such as</p>\n<pre><code>dataSrc.getConnection();\n</code></pre>\n<p>or</p>\n<pre><code>entityManagerFactoryBean.afterPropertiesSet();\n</code></pre>\n<h2>A possible solution?</h2>\n<p>I've heard of Hibernate's StatelessSession, but I was unsuccessful in setting it up.</p>\n<p>I'm not even sure it would help at all, but from what I read, it uses a lower level Hibernate API, which might help mitigate the problem, without much of an impact on the way things are already coded since the SQL operations are exclusively stored procedure calls, which are manually mapped to Java objects.</p>\n<h2>What I need help with</h2>\n<p>Basically, I just want answers to 3 questions :</p>\n<p><strong>Question 1 :</strong>\nShould I simply revert to Stateful authentication, because Stateless models are unadapted to my use case scenario?</p>\n<p><strong>Question 2 &amp; 3 :</strong>\nCan StatelessSession system even be implemented in my scenario, and would it make a significant difference on the database connection time?</p>\n<p>But, of course, if you know of any other lead that my help me solve my problem without having to revert the whole thing to Stateful, I'm taking it!</p>\n"},{"tags":["java","scala","class","overriding","extending"],"comments":[{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":2,"creation_date":1667252251,"post_id":74269318,"comment_id":131121898,"body_markdown":"You cannot override private members.","body":"You cannot override private members."}],"answers":[{"comments":[{"owner":{"account_id":24999373,"reputation":117,"user_id":18859913,"display_name":"Good Panic"},"score":0,"creation_date":1667252474,"post_id":74269357,"comment_id":131121957,"body_markdown":"Is there a way to not pass it to the constructor? it&#39;s fine if the ```regex``` be public","body":"Is there a way to not pass it to the constructor? it&#39;s fine if the <code>regex</code> be public"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1667254746,"post_id":74269357,"comment_id":131122384,"body_markdown":"If it’s `final`, making it `public` wouldn’t make a difference. If you add `public` *and* take away `final`, it can be changed from anywhere at any time. This isn’t really specific to Scala extending a Java class. The same applies for Java extending Java or Scala extending Scala.","body":"If it’s <code>final</code>, making it <code>public</code> wouldn’t make a difference. If you add <code>public</code> <i>and</i> take away <code>final</code>, it can be changed from anywhere at any time. This isn’t really specific to Scala extending a Java class. The same applies for Java extending Java or Scala extending Scala."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667252779,"creation_date":1667252304,"answer_id":74269357,"question_id":74269318,"body_markdown":"You could pass it into a protected constructor:\r\n\r\n    class A {\r\n        private final String regex;\r\n    \r\n        protected A(String regex) {\r\n            this.regex = regex;\r\n        }\r\n    \r\n        public A() {\r\n            this(&quot;folder1/folder2/folder3/.*&quot;);\r\n        }\r\n    }\r\n    \r\n    class B extends A {\r\n        public B() {\r\n            super(&quot;folder4/.*&quot;);\r\n        }\r\n    }\r\n\r\nOr just declare each as a constant and use an overrideable method to read them:\r\n\r\n    class A {\r\n        private static final String REGEX = &quot;folder1/folder2/folder3/.*&quot;;\r\n        \r\n        protected String getRegex() {\r\n            return REGEX;\r\n        }\r\n    }\r\n\r\n    class B {\r\n        private static final String REGEX = &quot;folder4/.*&quot;;\r\n        \r\n        @Override\r\n        protected String getRegex() {\r\n            return REGEX;\r\n        }\r\n    }","title":"Scala class extends Java class","body":"<p>You could pass it into a protected constructor:</p>\n<pre><code>class A {\n    private final String regex;\n\n    protected A(String regex) {\n        this.regex = regex;\n    }\n\n    public A() {\n        this(&quot;folder1/folder2/folder3/.*&quot;);\n    }\n}\n\nclass B extends A {\n    public B() {\n        super(&quot;folder4/.*&quot;);\n    }\n}\n</code></pre>\n<p>Or just declare each as a constant and use an overrideable method to read them:</p>\n<pre><code>class A {\n    private static final String REGEX = &quot;folder1/folder2/folder3/.*&quot;;\n    \n    protected String getRegex() {\n        return REGEX;\n    }\n}\n\nclass B {\n    private static final String REGEX = &quot;folder4/.*&quot;;\n    \n    @Override\n    protected String getRegex() {\n        return REGEX;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24999373,"reputation":117,"user_id":18859913,"display_name":"Good Panic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74269357,"answer_count":1,"score":0,"last_activity_date":1667252779,"creation_date":1667252007,"question_id":74269318,"body_markdown":"I&#39;m a little new to this, so sorry if it may seem a naive question. Let&#39;s say I have Java class as follows:\r\n\r\n```\r\npublic class A {\r\n      private final regex = &quot;folder1/folder2/folder3/.*&quot;;\r\n      private Pattern pattern;\r\n      \r\n      A(...) {\r\n       this.pattern = Pattern.Compile(regex)\r\n      }\r\n\r\n\r\n      public func1(String str){\r\n        if (...){\r\n          Matcher m = pattern.matcher(str)\r\n        }  \r\n      }\r\n}\r\n```\r\n\r\nnow I&#39;m trying to extend the class ```A``` with scala so I can override the ```regex``` field and therefore the ```pattern``` field following with it.\r\n\r\n```\r\nclass B(...) extends A(...){\r\n}\r\n```\r\n\r\nBut I&#39;m not sure how to override the regex to be ```regex = &quot;folder4/.*&quot;``` for class ```B```","title":"Scala class extends Java class","body":"<p>I'm a little new to this, so sorry if it may seem a naive question. Let's say I have Java class as follows:</p>\n<pre><code>public class A {\n      private final regex = &quot;folder1/folder2/folder3/.*&quot;;\n      private Pattern pattern;\n      \n      A(...) {\n       this.pattern = Pattern.Compile(regex)\n      }\n\n\n      public func1(String str){\n        if (...){\n          Matcher m = pattern.matcher(str)\n        }  \n      }\n}\n</code></pre>\n<p>now I'm trying to extend the class <code>A</code> with scala so I can override the <code>regex</code> field and therefore the <code>pattern</code> field following with it.</p>\n<pre><code>class B(...) extends A(...){\n}\n</code></pre>\n<p>But I'm not sure how to override the regex to be <code>regex = &quot;folder4/.*&quot;</code> for class <code>B</code></p>\n"},{"tags":["java","oop","inheritance","polymorphism"],"answers":[{"comments":[{"owner":{"account_id":176509,"reputation":4409,"user_id":407254,"accept_rate":83,"display_name":"Novikov"},"score":0,"creation_date":1343703516,"post_id":11732446,"comment_id":15569657,"body_markdown":"Copied Max&#39;s answer down to the mistake where B implements goo instead of foo.","body":"Copied Max&#39;s answer down to the mistake where B implements goo instead of foo."}],"tags":[],"owner":{"account_id":1687896,"reputation":30045,"user_id":1550807,"accept_rate":100,"display_name":"Danil Speransky"},"comment_count":1,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1347425092,"creation_date":1343703138,"answer_id":11732446,"question_id":11732422,"body_markdown":"Yes, I think they probably wanted to hear about polymorphism by interfaces. So if there 2 classes which implements from the same interface, then we can use in all places where we exspect an object with such intervace. See code from wikipedia:\r\n\r\n    // from file Animal.java\r\n     \r\n    public interface Animal {\r\n            public String talk();\r\n    }\r\n     \r\n    // from file Cat.java\r\n     \r\n    public class Cat implements Animal {\r\n            @Override\r\n            public String talk() {\r\n                    return &quot;Cat says Meow!&quot;;\r\n            }\r\n    }\r\n     \r\n    // from file Dog.java\r\n     \r\n    public class Dog implements Animal {\r\n            @Override\r\n            public String talk() {\r\n                    return &quot;Dog says Woof! Woof!&quot;;\r\n            }\r\n    }\r\n     \r\n    // from file PolymorphismExample.java\r\n     \r\n    public class PolymorphismExample {\r\n     \r\n            public static void main(String[] args) {\r\n                    Collection&lt;Animal&gt; animals = new ArrayList&lt;Animal&gt;();\r\n                    animals.add(new Cat());\r\n                    animals.add(new Dog());\r\n     \r\n                    for (Animal a : animals) {\r\n                            System.out.println(a.talk());\r\n                    }\r\n            }\r\n     \r\n    }","title":"Is polymorphism possible without inheritance?","body":"<p>Yes, I think they probably wanted to hear about polymorphism by interfaces. So if there 2 classes which implements from the same interface, then we can use in all places where we exspect an object with such intervace. See code from wikipedia:</p>\n\n<pre><code>// from file Animal.java\n\npublic interface Animal {\n        public String talk();\n}\n\n// from file Cat.java\n\npublic class Cat implements Animal {\n        @Override\n        public String talk() {\n                return \"Cat says Meow!\";\n        }\n}\n\n// from file Dog.java\n\npublic class Dog implements Animal {\n        @Override\n        public String talk() {\n                return \"Dog says Woof! Woof!\";\n        }\n}\n\n// from file PolymorphismExample.java\n\npublic class PolymorphismExample {\n\n        public static void main(String[] args) {\n                Collection&lt;Animal&gt; animals = new ArrayList&lt;Animal&gt;();\n                animals.add(new Cat());\n                animals.add(new Dog());\n\n                for (Animal a : animals) {\n                        System.out.println(a.talk());\n                }\n        }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1557597,"reputation":8312,"user_id":1448212,"display_name":"Richard Sitze"},"score":7,"creation_date":1343704529,"post_id":11732450,"comment_id":15569854,"body_markdown":"The interface is inherited.  The semantic contract (never inforceble) is implicitly inherited.  See Edwin&#39;s response.","body":"The interface is inherited.  The semantic contract (never inforceble) is implicitly inherited.  See Edwin&#39;s response."},{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":1,"creation_date":1343748024,"post_id":11732450,"comment_id":15586815,"body_markdown":"Fine, that&#39;s fair.  I assumed the questioner meant &#39;implementation inheritance&#39;.  Without further clarification from the interviewer, and especially in a Java-oriented interview, this answer is probably what they&#39;re looking for.  There are, of course, much more detailed answers.","body":"Fine, that&#39;s fair.  I assumed the questioner meant &#39;implementation inheritance&#39;.  Without further clarification from the interviewer, and especially in a Java-oriented interview, this answer is probably what they&#39;re looking for.  There are, of course, much more detailed answers."},{"owner":{"account_id":2518822,"reputation":10329,"user_id":2189578,"accept_rate":62,"display_name":"scott_fakename"},"score":0,"creation_date":1365358789,"post_id":11732450,"comment_id":22583672,"body_markdown":"Yeah I agree. I tend to think of interfaces (rightly or wrongly) as a way to guarantee to the compiler that an object will have a certain method with a certain signature, which puts me in the mind of duck typing, which doesn&#39;t really imply inheritance. Technically it IS considered inheritance, sure.","body":"Yeah I agree. I tend to think of interfaces (rightly or wrongly) as a way to guarantee to the compiler that an object will have a certain method with a certain signature, which puts me in the mind of duck typing, which doesn&#39;t really imply inheritance. Technically it IS considered inheritance, sure."},{"owner":{"account_id":223867,"reputation":7510,"user_id":483347,"accept_rate":71,"display_name":"weberc2"},"score":0,"creation_date":1450290188,"post_id":11732450,"comment_id":56380352,"body_markdown":"@Dhananjay No it doesn&#39;t. Inheritance (extension) copies behavior; implementing an interface does not.","body":"@Dhananjay No it doesn&#39;t. Inheritance (extension) copies behavior; implementing an interface does not."},{"owner":{"account_id":318561,"reputation":576,"user_id":635862,"accept_rate":26,"display_name":"benone"},"score":0,"creation_date":1674718757,"post_id":11732450,"comment_id":132774575,"body_markdown":"Interface is a kind of stateless inheritance.","body":"Interface is a kind of stateless inheritance."}],"tags":[],"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"comment_count":5,"down_vote_count":5,"up_vote_count":9,"is_accepted":false,"score":4,"last_activity_date":1343703714,"creation_date":1343703164,"answer_id":11732450,"question_id":11732422,"body_markdown":"Sure.  In Java, you can have two classes implement the same interface, and their results are polymorphic.  No functionality is inherited.\r\n\r\n    public interface Foo {\r\n      public int a();\r\n    }\r\n\r\n    public class A implements Foo {\r\n      public int a() {\r\n        return 5;\r\n      }\r\n    }\r\n\r\n\r\n    public class B implements Foo {\r\n      public int a() {\r\n        return 6;\r\n      }\r\n    }\r\n\r\n\r\nThen elsewhere:\r\n\r\n    Foo x = new A();\r\n    System.out.println(x.a())\r\n    Foo y = new B();\r\n    System.out.println(y.a())\r\n\r\nBoth `x` and `y` are `Foo`s, but they have different results when you call `a()`.\r\n   ","title":"Is polymorphism possible without inheritance?","body":"<p>Sure.  In Java, you can have two classes implement the same interface, and their results are polymorphic.  No functionality is inherited.</p>\n\n<pre><code>public interface Foo {\n  public int a();\n}\n\npublic class A implements Foo {\n  public int a() {\n    return 5;\n  }\n}\n\n\npublic class B implements Foo {\n  public int a() {\n    return 6;\n  }\n}\n</code></pre>\n\n<p>Then elsewhere:</p>\n\n<pre><code>Foo x = new A();\nSystem.out.println(x.a())\nFoo y = new B();\nSystem.out.println(y.a())\n</code></pre>\n\n<p>Both <code>x</code> and <code>y</code> are <code>Foo</code>s, but they have different results when you call <code>a()</code>.</p>\n"},{"tags":[],"owner":{"account_id":276194,"reputation":1729,"user_id":569494,"accept_rate":91,"display_name":"Arun"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1343703511,"creation_date":1343703511,"answer_id":11732478,"question_id":11732422,"body_markdown":"**Static type**\r\n\r\noverloading - which means multiple methods with same name but different signature which is possible with out overriding\r\n\r\n    class StaticPolyExample\r\n    {\r\n    void print(int s)\r\n    {\r\n        //print s\r\n    }\r\n   \r\n    void print(String s)\r\n    {\r\n        //print s\r\n    }\r\n    \r\n    }\r\n\r\n**Dynamic type**\r\n\r\noverriding - which means the method in super class will be re-defined in sub class which needs inheritance\r\n\r\n    class Printer\r\n    {\r\n    void print(String s)\r\n    {\r\n      // prints String\r\n    }\r\n    \r\n    }\r\n    \r\n    class diffPrinter extends Printer\r\n    {\r\n    void print(String s)\r\n    {\r\n      // prints String differently\r\n    }\r\n    \r\n    }","title":"Is polymorphism possible without inheritance?","body":"<p><strong>Static type</strong></p>\n\n<p>overloading - which means multiple methods with same name but different signature which is possible with out overriding</p>\n\n<pre><code>class StaticPolyExample\n{\nvoid print(int s)\n{\n    //print s\n}\n\nvoid print(String s)\n{\n    //print s\n}\n\n}\n</code></pre>\n\n<p><strong>Dynamic type</strong></p>\n\n<p>overriding - which means the method in super class will be re-defined in sub class which needs inheritance</p>\n\n<pre><code>class Printer\n{\nvoid print(String s)\n{\n  // prints String\n}\n\n}\n\nclass diffPrinter extends Printer\n{\nvoid print(String s)\n{\n  // prints String differently\n}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1557597,"reputation":8312,"user_id":1448212,"display_name":"Richard Sitze"},"score":2,"creation_date":1343704736,"post_id":11732581,"comment_id":15569888,"body_markdown":"Great response.  It&#39;d be even better is you were to start it off with a definite and clear summary to answer the question.","body":"Great response.  It&#39;d be even better is you were to start it off with a definite and clear summary to answer the question."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1343709239,"post_id":11732581,"comment_id":15570696,"body_markdown":"@RichardSitze I gave it a shot to a more detailed explanation. I hope I have not obscured the meaning of the original post.","body":"@RichardSitze I gave it a shot to a more detailed explanation. I hope I have not obscured the meaning of the original post."},{"owner":{"account_id":1557597,"reputation":8312,"user_id":1448212,"display_name":"Richard Sitze"},"score":2,"creation_date":1343748675,"post_id":11732581,"comment_id":15587195,"body_markdown":"@Edwin Delorzo Wow.. well actually I was trying to suggest was a one-liner at the top to state: Yes or No.  The reader then has some idea where they&#39;re going as they read the rest.  Also, as Stephen C has pointed out, the answer may be different Java (which was the original question), then for other languages.  Nice job!","body":"@Edwin Delorzo Wow.. well actually I was trying to suggest was a one-liner at the top to state: Yes or No.  The reader then has some idea where they&#39;re going as they read the rest.  Also, as Stephen C has pointed out, the answer may be different Java (which was the original question), then for other languages.  Nice job!"},{"owner":{"account_id":3122312,"reputation":4130,"user_id":2641848,"accept_rate":53,"display_name":"Faisal Naseer"},"score":0,"creation_date":1435389227,"post_id":11732581,"comment_id":50189620,"body_markdown":"yup there are other languages like Ruby, Python, JavaScript, Visual Basic, and Smalltalk take advantage of powerful CPUs to use interpreters to defer type checking to run time (whether the source code is compiled to byte code or purely interpreted).  By deferring type checking we break the link between inheritance and polymorphism,","body":"yup there are other languages like Ruby, Python, JavaScript, Visual Basic, and Smalltalk take advantage of powerful CPUs to use interpreters to defer type checking to run time (whether the source code is compiled to byte code or purely interpreted).  By deferring type checking we break the link between inheritance and polymorphism,"}],"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":4,"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1667251377,"creation_date":1343704416,"answer_id":11732581,"question_id":11732422,"body_markdown":"The best explanation on the subject that I&#39;ve ever read is an article by [Luca Cardelli][1], a renown type theorist. The article is named [On Understanding Types, Data Abstraction, and Polymorphism][2].\r\n\r\nTypes of Polymorphism\r\n---\r\n\r\nCardelli defines several types of polymorphism in this article:\r\n\r\n - Universal\r\n  - parametric\r\n  - inclusion\r\n - Ad-hoc\r\n  - overloading\r\n  - coercion \r\n\r\nThe kind of polymorphism related to inheritance is classified as inclusion polymorphism or subtype polymorphism.\r\n\r\n[Wikipedia][3] provides a good definition:\r\n\r\n&gt; In object-oriented programming, subtype polymorphism or inclusion\r\n&gt; polymorphism is a concept in type theory wherein a name may denote\r\n&gt; instances of many different classes as long as they are related by\r\n&gt; some common super class. Inclusion polymorphism is generally\r\n&gt; supported through subtyping, i.e., objects of different types are\r\n&gt; entirely substitutable for objects of another type (their base\r\n&gt; type(s)) and thus can be handled via a common interface.\r\n&gt; Alternatively, inclusion polymorphism may be achieved through type\r\n&gt; coercion, also known as type casting.\r\n\r\nAnother Wikipedia article called [Polymorphism in object-oriented programming][4] seems to answer your questions as well.\r\n\r\nIn Java\r\n---\r\n\r\nThis subtyping feature in Java is achieved, among other means, through the inheritance of classes and interfaces. Although the subtyping features of Java may not be evident in terms of inheritance all the time. Take for example the cases of covariance and contravariance with generics. Also, arrays are Serializable and Cloneable although this is not evident anywhere in the type hierarchy. It can also be said that through primitive widening conversion the numeric operators in Java are polymorphic, in certain cases even accepting totally unrelated operands (i.e. concatenation of strings and numbers or of a string plus some other object). Consider also the cases of boxing and unboxing of primitives. These latter cases of polymorphism (coercion and overloading) are not at all related to inheritance.\r\n\r\nExamples\r\n---\r\n\r\n**Inclusion**\r\n\r\n    List&lt;Integer&gt; myInts = new ArrayList&lt;Integer&gt;();\r\n\r\nThis is the case to which your question seems to refer i.e. when there is an inheritance or implementation relationship between the types, as in this case where ArrayList implements List.\r\n\r\nAs I mentioned, though, when you introduce Java generics, some time the rules of subtyping get fuzzy:\r\n\r\n    List&lt;? super Number&gt; myObjs = new ArrayList&lt;Object&gt;();\r\n    List&lt;? extends Number&gt; myNumbers = new LinkedList&lt;Integer&gt;();\r\n\r\nAnd in other cases, the relationships are not even evident in the API\r\n\r\n    Cloneable clone = new int[10];\r\n    Serializable obj = new Object[10]\r\n\r\nEven so, all these, according to Cardelli, are forms of universal polymorphism.\r\n\r\n**Parametric**\r\n\r\n    public &lt;T&gt; List&lt;T&gt; filter(Predicate&lt;T&gt; predicate, List&lt;T&gt; source) {\r\n      List&lt;T&gt; result = new ArrayList&lt;&gt;();\r\n      for(T item : source) {\r\n        if(predicate.evaluate(item)){\r\n             result.add(item);\r\n        }\r\n       return result;\r\n      }\r\n    }\r\n\r\nThe same algorithm can be used to filter all kinds of lists with all kinds of predicates without having to repeat a single line of code for every possible type of list. The type of the actual list and the type of predicate are parametric. Like in the following examples with Java lambda expressions.\r\n\r\n    filter(x -&gt; x % 2 == 0, asList(1,2,3,4,5,6)); //filters even integers\r\n    filter(x -&gt; x % 2 != 0, asList(1L,2L,3L,4L,5L,6L)); //filters odd longs\r\n    filter(x -&gt; x &gt;= 0.0, asList(-1.0, 1.0)); //filters positive doubles\r\n\r\nAccording to Cardelli, this is a form of universal polymorphism.\r\n\r\n**Coercion**\r\n\r\n    double sum = 1 + 2.0;\r\n\r\nInteger and floating-point arithmetic are totally different. Applying the plus operator to two operands of different types here is impossible without some form of coercion.\r\n\r\nIn this example, the types integer and double, are automatically coerced (converted) to type double without an explicit cast. The entire expression is promoted to double. This is so because in Java we have primitive widening conversions. \r\n\r\nAccording to Cardelli, this form of automatic coercion is a form of ad-hoc polymorphism provided for the plus operator.\r\n\r\nThere are languages in which you could not even sum an integer and a floating-point number without an explicit cast (i.e. AFAIK, SML, in which, by the way, parametric polymorphism is key to overcome this kind of problems).\r\n\r\n**Overloading**\r\n\r\n    double sum = 2.0 + 3.0;\r\n    String text = &quot;The sum is&quot; + sum;\r\n\r\nThe plus operator here means two different things depending on the arguments used. Evidently, the operator has been overloaded. This implies it has different implementations depending on the types of operands. According to Cardelli, this is a form of ad-hoc polymorphism provided for the plus operator.\r\n\r\nThis, of course, also applies to forms of method overloading in classes (i.e java.lang.Math methods min and max are overloaded to support different primitive types).\r\n\r\nIn Other Languages\r\n---\r\n\r\nEven when inheritance plays an important role in the implementation of some of these forms of polymorphism, certainly it is not the only way. Other languages that are not object-oriented provide other forms of polymorphism. Take, for example, the cases of [duck typing][6] in dynamic languages like Python or even in statically-typed languages like Go, or [algebraic data types][7] in languages like SML, Ocaml and Scala, or [type classes][8] in languages like Haskell, [multi methods][9] in Clojure, [prototypal inheritance][10] in JavaScript, etc.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Luca_Cardelli\r\n  [2]: http://lucacardelli.name/Papers/OnUnderstanding.A4.pdf\r\n  [3]: http://en.wikipedia.org/wiki/Polymorphism_%28computer_science%29\r\n  [4]: http://en.wikipedia.org/wiki/Polymorphism_in_object-oriented_programming\r\n  [5]: http://jdk8.java.net/lambda/\r\n  [6]: http://en.wikipedia.org/wiki/Duck_typing\r\n  [7]: http://en.wikipedia.org/wiki/Algebraic_data_type\r\n  [8]: http://en.wikipedia.org/wiki/Type_class\r\n  [9]: http://clojure.org/multimethods\r\n  [10]: https://en.wikipedia.org/wiki/Prototype-based_programming","title":"Is polymorphism possible without inheritance?","body":"<p>The best explanation on the subject that I've ever read is an article by <a href=\"http://en.wikipedia.org/wiki/Luca_Cardelli\" rel=\"nofollow noreferrer\">Luca Cardelli</a>, a renown type theorist. The article is named <a href=\"http://lucacardelli.name/Papers/OnUnderstanding.A4.pdf\" rel=\"nofollow noreferrer\">On Understanding Types, Data Abstraction, and Polymorphism</a>.</p>\n<h2>Types of Polymorphism</h2>\n<p>Cardelli defines several types of polymorphism in this article:</p>\n<ul>\n<li>Universal</li>\n<li>parametric</li>\n<li>inclusion</li>\n<li>Ad-hoc</li>\n<li>overloading</li>\n<li>coercion</li>\n</ul>\n<p>The kind of polymorphism related to inheritance is classified as inclusion polymorphism or subtype polymorphism.</p>\n<p><a href=\"http://en.wikipedia.org/wiki/Polymorphism_%28computer_science%29\" rel=\"nofollow noreferrer\">Wikipedia</a> provides a good definition:</p>\n<blockquote>\n<p>In object-oriented programming, subtype polymorphism or inclusion\npolymorphism is a concept in type theory wherein a name may denote\ninstances of many different classes as long as they are related by\nsome common super class. Inclusion polymorphism is generally\nsupported through subtyping, i.e., objects of different types are\nentirely substitutable for objects of another type (their base\ntype(s)) and thus can be handled via a common interface.\nAlternatively, inclusion polymorphism may be achieved through type\ncoercion, also known as type casting.</p>\n</blockquote>\n<p>Another Wikipedia article called <a href=\"http://en.wikipedia.org/wiki/Polymorphism_in_object-oriented_programming\" rel=\"nofollow noreferrer\">Polymorphism in object-oriented programming</a> seems to answer your questions as well.</p>\n<h2>In Java</h2>\n<p>This subtyping feature in Java is achieved, among other means, through the inheritance of classes and interfaces. Although the subtyping features of Java may not be evident in terms of inheritance all the time. Take for example the cases of covariance and contravariance with generics. Also, arrays are Serializable and Cloneable although this is not evident anywhere in the type hierarchy. It can also be said that through primitive widening conversion the numeric operators in Java are polymorphic, in certain cases even accepting totally unrelated operands (i.e. concatenation of strings and numbers or of a string plus some other object). Consider also the cases of boxing and unboxing of primitives. These latter cases of polymorphism (coercion and overloading) are not at all related to inheritance.</p>\n<h2>Examples</h2>\n<p><strong>Inclusion</strong></p>\n<pre><code>List&lt;Integer&gt; myInts = new ArrayList&lt;Integer&gt;();\n</code></pre>\n<p>This is the case to which your question seems to refer i.e. when there is an inheritance or implementation relationship between the types, as in this case where ArrayList implements List.</p>\n<p>As I mentioned, though, when you introduce Java generics, some time the rules of subtyping get fuzzy:</p>\n<pre><code>List&lt;? super Number&gt; myObjs = new ArrayList&lt;Object&gt;();\nList&lt;? extends Number&gt; myNumbers = new LinkedList&lt;Integer&gt;();\n</code></pre>\n<p>And in other cases, the relationships are not even evident in the API</p>\n<pre><code>Cloneable clone = new int[10];\nSerializable obj = new Object[10]\n</code></pre>\n<p>Even so, all these, according to Cardelli, are forms of universal polymorphism.</p>\n<p><strong>Parametric</strong></p>\n<pre><code>public &lt;T&gt; List&lt;T&gt; filter(Predicate&lt;T&gt; predicate, List&lt;T&gt; source) {\n  List&lt;T&gt; result = new ArrayList&lt;&gt;();\n  for(T item : source) {\n    if(predicate.evaluate(item)){\n         result.add(item);\n    }\n   return result;\n  }\n}\n</code></pre>\n<p>The same algorithm can be used to filter all kinds of lists with all kinds of predicates without having to repeat a single line of code for every possible type of list. The type of the actual list and the type of predicate are parametric. Like in the following examples with Java lambda expressions.</p>\n<pre><code>filter(x -&gt; x % 2 == 0, asList(1,2,3,4,5,6)); //filters even integers\nfilter(x -&gt; x % 2 != 0, asList(1L,2L,3L,4L,5L,6L)); //filters odd longs\nfilter(x -&gt; x &gt;= 0.0, asList(-1.0, 1.0)); //filters positive doubles\n</code></pre>\n<p>According to Cardelli, this is a form of universal polymorphism.</p>\n<p><strong>Coercion</strong></p>\n<pre><code>double sum = 1 + 2.0;\n</code></pre>\n<p>Integer and floating-point arithmetic are totally different. Applying the plus operator to two operands of different types here is impossible without some form of coercion.</p>\n<p>In this example, the types integer and double, are automatically coerced (converted) to type double without an explicit cast. The entire expression is promoted to double. This is so because in Java we have primitive widening conversions.</p>\n<p>According to Cardelli, this form of automatic coercion is a form of ad-hoc polymorphism provided for the plus operator.</p>\n<p>There are languages in which you could not even sum an integer and a floating-point number without an explicit cast (i.e. AFAIK, SML, in which, by the way, parametric polymorphism is key to overcome this kind of problems).</p>\n<p><strong>Overloading</strong></p>\n<pre><code>double sum = 2.0 + 3.0;\nString text = &quot;The sum is&quot; + sum;\n</code></pre>\n<p>The plus operator here means two different things depending on the arguments used. Evidently, the operator has been overloaded. This implies it has different implementations depending on the types of operands. According to Cardelli, this is a form of ad-hoc polymorphism provided for the plus operator.</p>\n<p>This, of course, also applies to forms of method overloading in classes (i.e java.lang.Math methods min and max are overloaded to support different primitive types).</p>\n<h2>In Other Languages</h2>\n<p>Even when inheritance plays an important role in the implementation of some of these forms of polymorphism, certainly it is not the only way. Other languages that are not object-oriented provide other forms of polymorphism. Take, for example, the cases of <a href=\"http://en.wikipedia.org/wiki/Duck_typing\" rel=\"nofollow noreferrer\">duck typing</a> in dynamic languages like Python or even in statically-typed languages like Go, or <a href=\"http://en.wikipedia.org/wiki/Algebraic_data_type\" rel=\"nofollow noreferrer\">algebraic data types</a> in languages like SML, Ocaml and Scala, or <a href=\"http://en.wikipedia.org/wiki/Type_class\" rel=\"nofollow noreferrer\">type classes</a> in languages like Haskell, <a href=\"http://clojure.org/multimethods\" rel=\"nofollow noreferrer\">multi methods</a> in Clojure, <a href=\"https://en.wikipedia.org/wiki/Prototype-based_programming\" rel=\"nofollow noreferrer\">prototypal inheritance</a> in JavaScript, etc.</p>\n"},{"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1343754358,"post_id":11743403,"comment_id":15590040,"body_markdown":"Languages that are not object-oriented provide forms of polymorphism which do not rely on inheritance (i.e [parametric polymorphism](http://en.wikipedia.org/wiki/Parametric_polymorphism)). Some of this is possible in Java through generics.","body":"Languages that are not object-oriented provide forms of polymorphism which do not rely on inheritance (i.e <a href=\"http://en.wikipedia.org/wiki/Parametric_polymorphism\" rel=\"nofollow noreferrer\">parametric polymorphism</a>). Some of this is possible in Java through generics."},{"owner":{"account_id":466771,"reputation":3713,"user_id":871726,"accept_rate":78,"display_name":"Dhananjay"},"score":0,"creation_date":1343765985,"post_id":11743403,"comment_id":15594822,"body_markdown":"@EdwinDalorzo : and what is definition of polymorphism in those languages?  it may not be same as in oop.","body":"@EdwinDalorzo : and what is definition of polymorphism in those languages?  it may not be same as in oop."}],"tags":[],"owner":{"account_id":466771,"reputation":3713,"user_id":871726,"accept_rate":78,"display_name":"Dhananjay"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1343747874,"creation_date":1343747874,"answer_id":11743403,"question_id":11732422,"body_markdown":"Function overloading is one of the polymorphism (though it&#39;s not what real polymorphism is meant) which can be achieved without inheritance.\r\n\r\ne.g.  \r\n\r\n    class Foo { \r\n    public void Arrest( Animal A){\r\n        /*code...*/\r\n     }  \r\n    public void Arrest( Terrorist T ) {\r\n        /*code...*/\r\n     }  \r\n\r\n    }\r\n\r\n    \r\n    from main :\r\n    \r\n    Foo f= new Foo();\r\n    f.Arrest( new Lion() );\r\n    f.Arrest(new Terrorist());\r\n    \r\n\r\nArrest method is called 2 times but the path of execution of the code is different.\r\n\r\n*Again this is not true form of polymorphism. \r\nReal polymorphism in General can not be acheived without inheritance.\r\n","title":"Is polymorphism possible without inheritance?","body":"<p>Function overloading is one of the polymorphism (though it's not what real polymorphism is meant) which can be achieved without inheritance.</p>\n\n<p>e.g.  </p>\n\n<pre><code>class Foo { \npublic void Arrest( Animal A){\n    /*code...*/\n }  \npublic void Arrest( Terrorist T ) {\n    /*code...*/\n }  \n\n}\n\n\nfrom main :\n\nFoo f= new Foo();\nf.Arrest( new Lion() );\nf.Arrest(new Terrorist());\n</code></pre>\n\n<p>Arrest method is called 2 times but the path of execution of the code is different.</p>\n\n<p>*Again this is not true form of polymorphism. \nReal polymorphism in General can not be acheived without inheritance.</p>\n"},{"tags":[],"owner":{"account_id":2149542,"reputation":767,"user_id":1906350,"display_name":"Amitabha Roy"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1365358342,"creation_date":1365358342,"answer_id":15865962,"question_id":11732422,"body_markdown":"Ad-hoc Polymorphism &gt; Operator Overloading &gt; Without Inheritence\r\n\r\nAd-hoc Polymorphism &gt; Method Overloading &gt; Without Inheritence\r\n\r\nAd-hoc Polymorphism &gt; Method Overriding &gt; With Inheritence\r\n\r\nParametric Polymorphism &gt; Generics &gt; Without Inheritence\r\n\r\nSubtype Polymorphism or Inclusion Polymorphism &gt; Polymorphic Assignment &gt; With Inheritence\r\n\r\nSubtype Polymorphism or Inclusion Polymorphism &gt; Polymorphic Return Type &gt; With Inheritence\r\n\r\nSubtype Polymorphism or Inclusion Polymorphism &gt; Polymorphic Argument Type &gt; With Inheritence\r\n\r\nCoercion Polymorphism &gt; Widening &gt; With or without Inheritence\r\n\r\nCoercion Polymorphism &gt; Auto boxing and unboxing &gt; Without Inheritence\r\n\r\nCoercion Polymorphism &gt; Var args &gt; Without Inheritence\r\n\r\nCoercion Polymorphism &gt; Type Casting &gt; Without Inheritence","title":"Is polymorphism possible without inheritance?","body":"<p>Ad-hoc Polymorphism > Operator Overloading > Without Inheritence</p>\n\n<p>Ad-hoc Polymorphism > Method Overloading > Without Inheritence</p>\n\n<p>Ad-hoc Polymorphism > Method Overriding > With Inheritence</p>\n\n<p>Parametric Polymorphism > Generics > Without Inheritence</p>\n\n<p>Subtype Polymorphism or Inclusion Polymorphism > Polymorphic Assignment > With Inheritence</p>\n\n<p>Subtype Polymorphism or Inclusion Polymorphism > Polymorphic Return Type > With Inheritence</p>\n\n<p>Subtype Polymorphism or Inclusion Polymorphism > Polymorphic Argument Type > With Inheritence</p>\n\n<p>Coercion Polymorphism > Widening > With or without Inheritence</p>\n\n<p>Coercion Polymorphism > Auto boxing and unboxing > Without Inheritence</p>\n\n<p>Coercion Polymorphism > Var args > Without Inheritence</p>\n\n<p>Coercion Polymorphism > Type Casting > Without Inheritence</p>\n"}],"owner":{"account_id":1705386,"reputation":5807,"user_id":1564528,"accept_rate":30,"display_name":"Just_another_developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28379,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":11732581,"answer_count":6,"score":67,"last_activity_date":1667251377,"creation_date":1343702952,"question_id":11732422,"body_markdown":"In an interview I was asked if polymorphism can be achieved without inheritance. Is this possible?\r\n","title":"Is polymorphism possible without inheritance?","body":"<p>In an interview I was asked if polymorphism can be achieved without inheritance. Is this possible?</p>\n"},{"tags":["java","import","netbeans-8","netbeans-8.2"],"comments":[{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1592625908,"post_id":62481168,"comment_id":110499043,"body_markdown":"Have you tried Right Click-&gt;Fix imports? That&#39;s how easy it is in NetBeans 11","body":"Have you tried Right Click-&gt;Fix imports? That&#39;s how easy it is in NetBeans 11"},{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1592625997,"post_id":62481168,"comment_id":110499052,"body_markdown":"To see the list of shortcuts in NetBeans go to Tools-&gt;Options-&gt;Editor and you can customise it","body":"To see the list of shortcuts in NetBeans go to Tools-&gt;Options-&gt;Editor and you can customise it"},{"owner":{"account_id":3246528,"reputation":4264,"user_id":2737933,"accept_rate":75,"display_name":"DSlomer64"},"score":0,"creation_date":1592892737,"post_id":62481168,"comment_id":110579248,"body_markdown":"Right-click Fix Imports does NOT add  import statements. It just modifies the unresolved names in the file. Please compare the 3 hunks of code in my post. First line: great. Love it. But compiler never has liked it since (a) names not fully-qualified and (b) no import statements placed right after package statement provide qualification. Years ago, Alt+Enter offered to insert after the package statement an import statement as in second hunk of code, leaving first line above intact. Not so today. Alt+Enter adds fully-qualified prefix that makes code unreadable. I object.","body":"Right-click Fix Imports does NOT add  import statements. It just modifies the unresolved names in the file. Please compare the 3 hunks of code in my post. First line: great. Love it. But compiler never has liked it since (a) names not fully-qualified and (b) no import statements placed right after package statement provide qualification. Years ago, Alt+Enter offered to insert after the package statement an import statement as in second hunk of code, leaving first line above intact. Not so today. Alt+Enter adds fully-qualified prefix that makes code unreadable. I object."},{"owner":{"account_id":3246528,"reputation":4264,"user_id":2737933,"accept_rate":75,"display_name":"DSlomer64"},"score":0,"creation_date":1592892944,"post_id":62481168,"comment_id":110579333,"body_markdown":"Exactly what do I click next after Editor? Hints? Then Imports? Then what? There are virtually no words in this section to tell what the option might do. Please see edit to original post.","body":"Exactly what do I click next after Editor? Hints? Then Imports? Then what? There are virtually no words in this section to tell what the option might do. Please see edit to original post."}],"answers":[{"comments":[{"owner":{"account_id":3246528,"reputation":4264,"user_id":2737933,"accept_rate":75,"display_name":"DSlomer64"},"score":0,"creation_date":1593026644,"post_id":62529668,"comment_id":110639151,"body_markdown":"&quot;I&#39;m am not exactly understanding your problem but netbeans 8.2 &amp; 11 doesn&#39;t alter your statement&#39;s for fixing imports&quot; is simply not true for MY recent versions of Netbeans 8. And *I&#39;m* not understanding, either! This is HORRIBLE. Waaaaah!","body":"&quot;I&#39;m am not exactly understanding your problem but netbeans 8.2 &amp; 11 doesn&#39;t alter your statement&#39;s for fixing imports&quot; is simply not true for MY recent versions of Netbeans 8. And <i>I&#39;m</i> not understanding, either! This is HORRIBLE. Waaaaah!"}],"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592897932,"creation_date":1592897932,"answer_id":62529668,"question_id":62481168,"body_markdown":"I&#39;m am not exactly understanding your problem but netbeans 8.2 &amp; 11 doesn&#39;t alter your statement&#39;s for fixing imports\r\n\r\nI am using netbeans  11.0\r\n\r\nHere is an code sample with unresolved imports\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI right click and select fix imports\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd netbeans add&#39;s the imports at the top of my class without altering my statements\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nSo i never get your problem which you described here\r\n\r\n    public class TreeWalker extends java.nio.file.SimpleFileVisitor&lt;java.nio.file.Path&gt;;\r\n\r\n\r\nAlso it also  gives you the choice of selecting classes from conflicting packages\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nIf you are looking for keyboard shortcut go to Tools-&gt;Options-&gt;Keymap\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wXWHV.png\r\n  [2]: https://i.stack.imgur.com/NaNUX.png\r\n  [3]: https://i.stack.imgur.com/82vgz.png\r\n  [4]: https://i.stack.imgur.com/Um5JW.png\r\n  [5]: https://i.stack.imgur.com/sBVi6.png\r\n\r\nI myself haven&#39;t completly figured out netbeans after using it for more than 2 years so if this post did help or if you have found an answer please comment below","title":"How do i make netbeans insert missing import statements as once was an option","body":"<p>I'm am not exactly understanding your problem but netbeans 8.2 &amp; 11 doesn't alter your statement's for fixing imports</p>\n<p>I am using netbeans  11.0</p>\n<p>Here is an code sample with unresolved imports\n<a href=\"https://i.stack.imgur.com/wXWHV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wXWHV.png\" alt=\"enter image description here\" /></a></p>\n<p>I right click and select fix imports</p>\n<p><a href=\"https://i.stack.imgur.com/NaNUX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NaNUX.png\" alt=\"enter image description here\" /></a></p>\n<p>And netbeans add's the imports at the top of my class without altering my statements</p>\n<p><a href=\"https://i.stack.imgur.com/82vgz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/82vgz.png\" alt=\"enter image description here\" /></a></p>\n<p>So i never get your problem which you described here</p>\n<pre><code>public class TreeWalker extends java.nio.file.SimpleFileVisitor&lt;java.nio.file.Path&gt;;\n</code></pre>\n<p>Also it also  gives you the choice of selecting classes from conflicting packages</p>\n<p><a href=\"https://i.stack.imgur.com/Um5JW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Um5JW.png\" alt=\"enter image description here\" /></a></p>\n<p>If you are looking for keyboard shortcut go to Tools-&gt;Options-&gt;Keymap</p>\n<p><a href=\"https://i.stack.imgur.com/sBVi6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sBVi6.png\" alt=\"enter image description here\" /></a></p>\n<p>I myself haven't completly figured out netbeans after using it for more than 2 years so if this post did help or if you have found an answer please comment below</p>\n"},{"comments":[{"owner":{"account_id":4551150,"reputation":3520,"user_id":4098408,"display_name":"Yaniv Oliver"},"score":0,"creation_date":1667825296,"post_id":74269224,"comment_id":131252633,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/33074681)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/33074681\">From Review</a>"},{"owner":{"account_id":3246528,"reputation":4264,"user_id":2737933,"accept_rate":75,"display_name":"DSlomer64"},"score":0,"creation_date":1668187124,"post_id":74269224,"comment_id":131352715,"body_markdown":"Right on! I guess I&#39;ll have to switch to a later version, but I&#39;m not convinced that the &quot;new&quot; &quot;owners&quot; of Netbeans are listening with intent to fix nagging problems. &quot;Take it or leave it&quot; isn&#39;t much of a choice. Besides problems with import there are other problems but I won&#39;t clutter this thread with them.","body":"Right on! I guess I&#39;ll have to switch to a later version, but I&#39;m not convinced that the &quot;new&quot; &quot;owners&quot; of Netbeans are listening with intent to fix nagging problems. &quot;Take it or leave it&quot; isn&#39;t much of a choice. Besides problems with import there are other problems but I won&#39;t clutter this thread with them."}],"tags":[],"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667251292,"creation_date":1667251292,"answer_id":74269224,"question_id":62481168,"body_markdown":"I have a similar question (in Netbeans 14) which I have not been able to solve: the generated code when using Designer always seems to add fully qualified attributes rather than using the imports. And the generated code is not modifiable so I can&#39;t just manually fix it.\r\n\r\nFor example, I have the line `import javax.swing.JPanel;`  in my imports. Yet here is an example of the generated code:\r\n\r\n        topPanel = new javax.swing.JPanel();\r\n        cNameLabel = new javax.swing.JLabel();\r\n        cNameTextField = new javax.swing.JTextField();\r\n        rLabel = new javax.swing.JLabel();\r\n        rTextField = new javax.swing.JTextField();\r\n        sDirectionLabel = new javax.swing.JLabel();\r\n        sDirectionComboBox = new javax.swing.JComboBox&lt;&gt;();\r\n        oCodingLabel = new javax.swing.JLabel();\r\n        cPreferenceComboBox = new javax.swing.JComboBox&lt;&gt;();\r\n        pLabel = new javax.swing.JLabel();\r\n        pTextField = new javax.swing.JTextField();\r\n        filesLabel = new javax.swing.JLabel();\r\n        fileListPanel = new com.mycompany.spm.widget.FileListPanel();\r\n\r\n\r\nNote the first line doesn&#39;t use my import statement. \r\n\r\nI have gone through every tab and sub-tab in the Tools -&gt; Options window and didn&#39;t find any switch that fixes this. I use the `Fix Imports...` all the time but it doesn&#39;t fix this.\r\n\r\nAlso, IMHO having lots of import statements is a good thing. It gives me an idea how much the code needs other code, all in one place. Also, I have it folded most of the time so I never see it unless I need to.","title":"How do i make netbeans insert missing import statements as once was an option","body":"<p>I have a similar question (in Netbeans 14) which I have not been able to solve: the generated code when using Designer always seems to add fully qualified attributes rather than using the imports. And the generated code is not modifiable so I can't just manually fix it.</p>\n<p>For example, I have the line <code>import javax.swing.JPanel;</code>  in my imports. Yet here is an example of the generated code:</p>\n<pre><code>    topPanel = new javax.swing.JPanel();\n    cNameLabel = new javax.swing.JLabel();\n    cNameTextField = new javax.swing.JTextField();\n    rLabel = new javax.swing.JLabel();\n    rTextField = new javax.swing.JTextField();\n    sDirectionLabel = new javax.swing.JLabel();\n    sDirectionComboBox = new javax.swing.JComboBox&lt;&gt;();\n    oCodingLabel = new javax.swing.JLabel();\n    cPreferenceComboBox = new javax.swing.JComboBox&lt;&gt;();\n    pLabel = new javax.swing.JLabel();\n    pTextField = new javax.swing.JTextField();\n    filesLabel = new javax.swing.JLabel();\n    fileListPanel = new com.mycompany.spm.widget.FileListPanel();\n</code></pre>\n<p>Note the first line doesn't use my import statement.</p>\n<p>I have gone through every tab and sub-tab in the Tools -&gt; Options window and didn't find any switch that fixes this. I use the <code>Fix Imports...</code> all the time but it doesn't fix this.</p>\n<p>Also, IMHO having lots of import statements is a good thing. It gives me an idea how much the code needs other code, all in one place. Also, I have it folded most of the time so I never see it unless I need to.</p>\n"}],"owner":{"account_id":3246528,"reputation":4264,"user_id":2737933,"accept_rate":75,"display_name":"DSlomer64"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667251292,"creation_date":1592622365,"question_id":62481168,"body_markdown":"I have an error on this old line of code that used to compile a year or so ago:\r\n\r\n       public class TreeWalker extends SimpleFileVisitor&lt;Path&gt;;\r\n\r\nIn the past, maybe upon my pressing `Alt+Enter` but maybe automatically, Netbeans had an option to insert imports. For the line above, Netbeans would insert:\r\n\r\n    import java.nio.file.SimpleFileVisitor;\r\n    import java.nio.file.Path;\r\n\r\nbut now all I can see to do causes me to wind up with this too-hard-to-read version:\r\n\r\n    public class TreeWalker extends java.nio.file.SimpleFileVisitor&lt;java.nio.file.Path&gt;;\r\n\r\nPressing `Alt+Enter` on lines like the original `TreeWalker` line above offered an option to include the imports I listed above. That option is not there anymore. Just options to `use java.nio.file.Path` or `use java.nio.file.Path for all Path in source` and both produce the same objectional line of code.\r\n\r\nThe old Netbeans 7 or 8 option `Add import for java.nio.file.Path`and this is still an option in Netbeans 14, but whatever it used to say, it&#39;s gone. Maybe this became frowned upon because some majority considered bad taste to have an excessively-long list of imports. Now I&#39;m frowning. I&#39;m getting eyestrained and brainfogged trying to figure out what dozens of once-clean-to-my-eyes-and-brain lines of code apparently still say.)\r\n\r\nPressing `Alt+Shift+I` or `Ctrl+Shift+I` produces the same sorts of verbose lines throughout what I used to consider very clean, readable code. So does `Fix Imports...` in `Source`. \r\n\r\nIs the option to provide proper imports gone forever or is it somewhere I haven&#39;t looked yet?\r\n\r\n***EDIT***\r\n\r\nHere are my first few imports:\r\n\r\n    package copy;\r\n    import java.io.*;\r\n    import java.nio.file.*;\r\n    import java.nio.file.attribute.*;\r\n    import java.util.*;\r\n    import javax.swing.*;\r\n\r\nI delete them and then right-click Fix Imports. \r\n\r\nNo import statements are added. Every affected line of code has a correct prefix added to it, which makes the code unreadable. Compare first line above (easily read) with the third (with two long prefixes making reading difficult).\r\n\r\nHow do I get Netbeans 8.2 to insert acceptable import statements and leave my statements alone?\r\n\r\n***SECOND EDIT***\r\n\r\nIf I click Tools &gt; Options &gt; Editor &gt; Hints &gt; Imports, then maybe this is where my problem is. Not all boxes were checked, so I have just checked every box. And it warns me not to do Star imports and here&#39;s the popup of the choices I have and NONE is about adding an import statement and if I pick ANY of those, the line of code gets &quot;mangled&quot;.[![enter image description here][1]][1]\r\n\r\nSo I cleared Star import from warning me. Same problem. So I cleared ALL the boxes. Same problem. I could play on-off for 15 minutes with the Import options, but (a) I don&#39;t know if this is even where the trouble lies and (b) if it IS the problem area FOR ME, how do YOU have the options set?[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AxFEJ.png\r\n  [2]: https://i.stack.imgur.com/nPyuw.png","title":"How do i make netbeans insert missing import statements as once was an option","body":"<p>I have an error on this old line of code that used to compile a year or so ago:</p>\n<pre><code>   public class TreeWalker extends SimpleFileVisitor&lt;Path&gt;;\n</code></pre>\n<p>In the past, maybe upon my pressing <code>Alt+Enter</code> but maybe automatically, Netbeans had an option to insert imports. For the line above, Netbeans would insert:</p>\n<pre><code>import java.nio.file.SimpleFileVisitor;\nimport java.nio.file.Path;\n</code></pre>\n<p>but now all I can see to do causes me to wind up with this too-hard-to-read version:</p>\n<pre><code>public class TreeWalker extends java.nio.file.SimpleFileVisitor&lt;java.nio.file.Path&gt;;\n</code></pre>\n<p>Pressing <code>Alt+Enter</code> on lines like the original <code>TreeWalker</code> line above offered an option to include the imports I listed above. That option is not there anymore. Just options to <code>use java.nio.file.Path</code> or <code>use java.nio.file.Path for all Path in source</code> and both produce the same objectional line of code.</p>\n<p>The old Netbeans 7 or 8 option <code>Add import for java.nio.file.Path</code>and this is still an option in Netbeans 14, but whatever it used to say, it's gone. Maybe this became frowned upon because some majority considered bad taste to have an excessively-long list of imports. Now I'm frowning. I'm getting eyestrained and brainfogged trying to figure out what dozens of once-clean-to-my-eyes-and-brain lines of code apparently still say.)</p>\n<p>Pressing <code>Alt+Shift+I</code> or <code>Ctrl+Shift+I</code> produces the same sorts of verbose lines throughout what I used to consider very clean, readable code. So does <code>Fix Imports...</code> in <code>Source</code>.</p>\n<p>Is the option to provide proper imports gone forever or is it somewhere I haven't looked yet?</p>\n<p><em><strong>EDIT</strong></em></p>\n<p>Here are my first few imports:</p>\n<pre><code>package copy;\nimport java.io.*;\nimport java.nio.file.*;\nimport java.nio.file.attribute.*;\nimport java.util.*;\nimport javax.swing.*;\n</code></pre>\n<p>I delete them and then right-click Fix Imports.</p>\n<p>No import statements are added. Every affected line of code has a correct prefix added to it, which makes the code unreadable. Compare first line above (easily read) with the third (with two long prefixes making reading difficult).</p>\n<p>How do I get Netbeans 8.2 to insert acceptable import statements and leave my statements alone?</p>\n<p><em><strong>SECOND EDIT</strong></em></p>\n<p>If I click Tools &gt; Options &gt; Editor &gt; Hints &gt; Imports, then maybe this is where my problem is. Not all boxes were checked, so I have just checked every box. And it warns me not to do Star imports and here's the popup of the choices I have and NONE is about adding an import statement and if I pick ANY of those, the line of code gets &quot;mangled&quot;.<a href=\"https://i.stack.imgur.com/AxFEJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AxFEJ.png\" alt=\"enter image description here\" /></a></p>\n<p>So I cleared Star import from warning me. Same problem. So I cleared ALL the boxes. Same problem. I could play on-off for 15 minutes with the Import options, but (a) I don't know if this is even where the trouble lies and (b) if it IS the problem area FOR ME, how do YOU have the options set?<a href=\"https://i.stack.imgur.com/nPyuw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nPyuw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin","android-fragments"],"comments":[{"owner":{"account_id":17270687,"reputation":1654,"user_id":12506486,"display_name":"Stachu"},"score":0,"creation_date":1667238199,"post_id":74266799,"comment_id":131118258,"body_markdown":"both PlanFragment are hosted in the `viewpager`, which is `AuthPackageSelectionFragment`, correct? do you get the same behaviour with the `Don&#39;t keep activity` disabled?","body":"both PlanFragment are hosted in the <code>viewpager</code>, which is <code>AuthPackageSelectionFragment</code>, correct? do you get the same behaviour with the <code>Don&#39;t keep activity</code> disabled?"},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1667241467,"post_id":74266799,"comment_id":131119259,"body_markdown":"Child fragments, those created as part of a properly set up ViewPager, are also saved and restored, so it would be expected that new instances would not be created. Please include your fragment that contains your ViewPager and your adapter.","body":"Child fragments, those created as part of a properly set up ViewPager, are also saved and restored, so it would be expected that new instances would not be created. Please include your fragment that contains your ViewPager and your adapter."},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1667250012,"post_id":74266799,"comment_id":131121404,"body_markdown":"@Stachu that is right. If `Don&#39;t keep activity` is disabled the app behaves as expected. Added P.S. in the question as well.","body":"@Stachu that is right. If <code>Don&#39;t keep activity</code> is disabled the app behaves as expected. Added P.S. in the question as well."},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1667275196,"post_id":74266799,"comment_id":131125341,"body_markdown":"For one, you&#39;re using the wrong FragmentManager (you need to use the `childFragmentManager` - that&#39;s why there&#39;s a constructor for `FragmentStateAdapter` that takes a Fragment - so you can&#39;t mess it up. You did anyways). That `set` method also is not going to work after process death and recreation - where do you call it?","body":"For one, you&#39;re using the wrong FragmentManager (you need to use the <code>childFragmentManager</code> - that&#39;s why there&#39;s a constructor for <code>FragmentStateAdapter</code> that takes a Fragment - so you can&#39;t mess it up. You did anyways). That <code>set</code> method also is not going to work after process death and recreation - where do you call it?"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667251162,"creation_date":1667235879,"question_id":74266799,"body_markdown":"The problem is that after I put the app in the background fragment(s) are destroyed, and then when I bring the app back to the foreground it recreates old fragments and according to the app, logic creates additional fragment(s).\r\n\r\nI&#39;ll explain precisely, in order to check app behavior in case of low memory I enabled in the dev options `Don&#39;t keep activity`, so it means that each time I put the app in the background activities will be destroyed and once I bring the app on foreground state will be recreated. \r\n\r\nOk, now about my app architecture, first of all, it navigates with the navigation component `NavHostFragment` secondly it has an activity that consists of a fragment that has `tablayout` with `viewpager`. Tablayout has 2 tabs where each tab is the fragment itself. So, `Activity -&gt; fragment -&gt; tablayout -&gt; 2 more fragments`.\r\n\r\nHere according to the logs, you can see that after the UI was created I have 2 PlanFragment then I put the app in the background, as a result, these fragments get `onDestroy` event, it is ok, however, after trying to bring the app back to the foreground it recreates 2 PlanFragment (without calling newInstance method) and then (according to the logic) newInstance method being called and 2 more PlanFragment created as a result I have 4 PlanFragment fragments. \r\n\r\n```\r\n=== start create UI ===\r\n43.583  E  AuthActivity onCreate: 186118056\r\n43.630  E  AuthPackageSelectionFragment onCreate: 197020657, parent: NavHostFragment{88ff3d6} (77945dff-a9c2-4f9f-8e11-8218dbd604bf id=0x7f0a050d)\r\n43.798  E  create tablyout fragments AuthPackageSelectionFragment onCreate: 197020657\r\n43.799  E  newInstance PlanFragment \r\n43.799  E  newInstance PlanFragment \r\n43.825  E  PlanFragment onCreate: 95398784\r\n43.990  E  PlanFragment onCreate: 205178621\r\n=== UI created ===\r\n=== put app in the background ===\r\n08.787  E  AuthActivity onDestroy: 186118056\r\n08.789  E  PlanFragment onDestroy: 95398784\r\n08.790  E  PlanFragment onDestroy: 205178621\r\n08.801  E  AuthPackageSelectionFragment onDestroy: 197020657, parent: NavHostFragment{88ff3d6} (77945dff-a9c2-4f9f-8e11-8218dbd604bf id=0x7f0a050d)\r\n=== app in the background ===\r\n=== bring app back to foregraund ===\r\n19.757  E  AuthPackageSelectionFragment onCreate: 141365020, parent: NavHostFragment{cb22725} (77945dff-a9c2-4f9f-8e11-8218dbd604bf id=0x7f0a050d)\r\n19.758  E  PlanFragment onCreate: 42083764\r\n19.760  E  PlanFragment onCreate: 129334143\r\n19.761  E  AuthActivity onCreate: 24560031\r\n19.848  E  AuthPackageSelectionFragment onDestroy: 141365020, parent: NavHostFragment{cb22725} (77945dff-a9c2-4f9f-8e11-8218dbd604bf id=0x7f0a050d)\r\n19.850  E  AuthPackageSelectionFragment onCreate: 175242279, parent: NavHostFragment{cb22725} (77945dff-a9c2-4f9f-8e11-8218dbd604bf id=0x7f0a050d)\r\n20.213  E  create tablyout fragments AuthPackageSelectionFragment onCreate: 175242279\r\n20.213  E  newInstance PlanFragment \r\n20.213  E  newInstance PlanFragment \r\n20.256  E  PlanFragment onCreate: 96753467\r\n20.380  E  PlanFragment onCreate: 218872921\r\n=== state restored ===\r\n```\r\n\r\nAs far as I understand one possible solution here is somehow the app shouldn&#39;t restore fragments that got `onDestroy` event, so these fragments will only be created according to the logic flow once the parent fragment will be created.\r\n\r\nWhat am I missing here?\r\n\r\n**P.S.** If `Don&#39;t keep activity` is disabled the app behaves as expected (don&#39;t destroys an activity while in the background)\r\n\r\n**EDIT**\r\n\r\nFragment that contains TabLayout with ViewPager2\r\n\r\n\r\n```\r\nopen class AuthPackageSelectionFragment : BaseAuthIapFragment() {\r\n    private lateinit var tlPlans: TabLayout\r\n    private lateinit var vpPlans: ViewPager2\r\n\r\n...\r\n\r\n    private fun initTlForPlans() {\r\n        val adapter = VPPlansAdapter(requireActivity().supportFragmentManager, lifecycle)\r\n        vpPlans.adapter = adapter\r\n\r\n        TabLayoutMediator(tlPlans, vpPlans) { tab, position -&gt;\r\n            tab.tag = planFragmentList[position].periodicity\r\n            tab.customView = adapter.getTabView(\r\n                tabLayout = tlPlans,\r\n                text = planFragmentList[position].periodicity.lowercase().replaceFirstChar(Char::titlecase),\r\n                badgeText = planFragmentList[position].badgeText\r\n            )\r\n        }.attach()\r\n    }\r\n    \r\n    ...\r\n    \r\n    private fun subscribe() {\r\n       vm.availablePackage.observe(viewLifecycleOwner) { pkgs -&gt;\r\n            planFragmentList = pkgs.map { pkg -&gt;\r\n                    val curFrag: PlanFragment = PlanFragment.newInstance(\r\n                        periodicity = pkg.periodicity,\r\n                        badgeText = pkg.promotionalOverlay,\r\n                        basePlanList = pkg.basePlans ?: listOf(),\r\n                        addonPlanList = pkg.addOns ?: listOf()\r\n                    )\r\n\r\n                    curFrag.set(callback = object : PlanFragment.PlanFragmentCallback {\r\n                        override fun doOnSelected(item: List&lt;PlanDescription&gt;) {\r\n                            vm.doOnPlanSelected(item)\r\n                        }\r\n                    })\r\n\r\n                    return@map curFrag\r\n                }\r\n\r\n                (vpPlans.adapter as VPPlansAdapter).set(tabs = planFragmentList)\r\n            \r\n            ...\r\n          }\r\n          \r\n          ...\r\n          \r\n          \r\n```\r\n\r\nViewPager adapter implementation\r\n\r\n```\r\nclass VPPlansAdapter(fragmentManager: FragmentManager, lifecycle: Lifecycle) : FragmentStateAdapter(fragmentManager, lifecycle) {\r\n    private var tabs: List&lt;Fragment&gt; = listOf()\r\n\r\n    fun set(tabs: List&lt;Fragment&gt;) {\r\n        this.tabs = tabs\r\n        notifyDataSetChanged()\r\n    }\r\n\r\n    override fun getItemCount(): Int = tabs.size\r\n\r\n    override fun createFragment(position: Int): Fragment = tabs[position]\r\n\r\n    fun getTabView(tabLayout: TabLayout, text: String, badgeText: String?): View =\r\n        LayoutInflater.from(tabLayout.context).inflate(R.layout.auth_tabitem_layout, tabLayout, false)\r\n            .apply {\r\n                (this.findViewById(R.id.tv_tabitem_title) as TextView).text = text\r\n                val tvBadge: TextView = this.findViewById(R.id.tv_badge)\r\n\r\n                if (badgeText.isNullOrEmpty()) {\r\n                    tvBadge.visibility = View.INVISIBLE\r\n                } else {\r\n                    tvBadge.visibility = View.VISIBLE\r\n                    tvBadge.text = badgeText\r\n                }\r\n            }\r\n}\r\n```","title":"Specific case about fragment restoration","body":"<p>The problem is that after I put the app in the background fragment(s) are destroyed, and then when I bring the app back to the foreground it recreates old fragments and according to the app, logic creates additional fragment(s).</p>\n<p>I'll explain precisely, in order to check app behavior in case of low memory I enabled in the dev options <code>Don't keep activity</code>, so it means that each time I put the app in the background activities will be destroyed and once I bring the app on foreground state will be recreated.</p>\n<p>Ok, now about my app architecture, first of all, it navigates with the navigation component <code>NavHostFragment</code> secondly it has an activity that consists of a fragment that has <code>tablayout</code> with <code>viewpager</code>. Tablayout has 2 tabs where each tab is the fragment itself. So, <code>Activity -&gt; fragment -&gt; tablayout -&gt; 2 more fragments</code>.</p>\n<p>Here according to the logs, you can see that after the UI was created I have 2 PlanFragment then I put the app in the background, as a result, these fragments get <code>onDestroy</code> event, it is ok, however, after trying to bring the app back to the foreground it recreates 2 PlanFragment (without calling newInstance method) and then (according to the logic) newInstance method being called and 2 more PlanFragment created as a result I have 4 PlanFragment fragments.</p>\n<pre><code>=== start create UI ===\n43.583  E  AuthActivity onCreate: 186118056\n43.630  E  AuthPackageSelectionFragment onCreate: 197020657, parent: NavHostFragment{88ff3d6} (77945dff-a9c2-4f9f-8e11-8218dbd604bf id=0x7f0a050d)\n43.798  E  create tablyout fragments AuthPackageSelectionFragment onCreate: 197020657\n43.799  E  newInstance PlanFragment \n43.799  E  newInstance PlanFragment \n43.825  E  PlanFragment onCreate: 95398784\n43.990  E  PlanFragment onCreate: 205178621\n=== UI created ===\n=== put app in the background ===\n08.787  E  AuthActivity onDestroy: 186118056\n08.789  E  PlanFragment onDestroy: 95398784\n08.790  E  PlanFragment onDestroy: 205178621\n08.801  E  AuthPackageSelectionFragment onDestroy: 197020657, parent: NavHostFragment{88ff3d6} (77945dff-a9c2-4f9f-8e11-8218dbd604bf id=0x7f0a050d)\n=== app in the background ===\n=== bring app back to foregraund ===\n19.757  E  AuthPackageSelectionFragment onCreate: 141365020, parent: NavHostFragment{cb22725} (77945dff-a9c2-4f9f-8e11-8218dbd604bf id=0x7f0a050d)\n19.758  E  PlanFragment onCreate: 42083764\n19.760  E  PlanFragment onCreate: 129334143\n19.761  E  AuthActivity onCreate: 24560031\n19.848  E  AuthPackageSelectionFragment onDestroy: 141365020, parent: NavHostFragment{cb22725} (77945dff-a9c2-4f9f-8e11-8218dbd604bf id=0x7f0a050d)\n19.850  E  AuthPackageSelectionFragment onCreate: 175242279, parent: NavHostFragment{cb22725} (77945dff-a9c2-4f9f-8e11-8218dbd604bf id=0x7f0a050d)\n20.213  E  create tablyout fragments AuthPackageSelectionFragment onCreate: 175242279\n20.213  E  newInstance PlanFragment \n20.213  E  newInstance PlanFragment \n20.256  E  PlanFragment onCreate: 96753467\n20.380  E  PlanFragment onCreate: 218872921\n=== state restored ===\n</code></pre>\n<p>As far as I understand one possible solution here is somehow the app shouldn't restore fragments that got <code>onDestroy</code> event, so these fragments will only be created according to the logic flow once the parent fragment will be created.</p>\n<p>What am I missing here?</p>\n<p><strong>P.S.</strong> If <code>Don't keep activity</code> is disabled the app behaves as expected (don't destroys an activity while in the background)</p>\n<p><strong>EDIT</strong></p>\n<p>Fragment that contains TabLayout with ViewPager2</p>\n<pre><code>open class AuthPackageSelectionFragment : BaseAuthIapFragment() {\n    private lateinit var tlPlans: TabLayout\n    private lateinit var vpPlans: ViewPager2\n\n...\n\n    private fun initTlForPlans() {\n        val adapter = VPPlansAdapter(requireActivity().supportFragmentManager, lifecycle)\n        vpPlans.adapter = adapter\n\n        TabLayoutMediator(tlPlans, vpPlans) { tab, position -&gt;\n            tab.tag = planFragmentList[position].periodicity\n            tab.customView = adapter.getTabView(\n                tabLayout = tlPlans,\n                text = planFragmentList[position].periodicity.lowercase().replaceFirstChar(Char::titlecase),\n                badgeText = planFragmentList[position].badgeText\n            )\n        }.attach()\n    }\n    \n    ...\n    \n    private fun subscribe() {\n       vm.availablePackage.observe(viewLifecycleOwner) { pkgs -&gt;\n            planFragmentList = pkgs.map { pkg -&gt;\n                    val curFrag: PlanFragment = PlanFragment.newInstance(\n                        periodicity = pkg.periodicity,\n                        badgeText = pkg.promotionalOverlay,\n                        basePlanList = pkg.basePlans ?: listOf(),\n                        addonPlanList = pkg.addOns ?: listOf()\n                    )\n\n                    curFrag.set(callback = object : PlanFragment.PlanFragmentCallback {\n                        override fun doOnSelected(item: List&lt;PlanDescription&gt;) {\n                            vm.doOnPlanSelected(item)\n                        }\n                    })\n\n                    return@map curFrag\n                }\n\n                (vpPlans.adapter as VPPlansAdapter).set(tabs = planFragmentList)\n            \n            ...\n          }\n          \n          ...\n          \n          \n</code></pre>\n<p>ViewPager adapter implementation</p>\n<pre><code>class VPPlansAdapter(fragmentManager: FragmentManager, lifecycle: Lifecycle) : FragmentStateAdapter(fragmentManager, lifecycle) {\n    private var tabs: List&lt;Fragment&gt; = listOf()\n\n    fun set(tabs: List&lt;Fragment&gt;) {\n        this.tabs = tabs\n        notifyDataSetChanged()\n    }\n\n    override fun getItemCount(): Int = tabs.size\n\n    override fun createFragment(position: Int): Fragment = tabs[position]\n\n    fun getTabView(tabLayout: TabLayout, text: String, badgeText: String?): View =\n        LayoutInflater.from(tabLayout.context).inflate(R.layout.auth_tabitem_layout, tabLayout, false)\n            .apply {\n                (this.findViewById(R.id.tv_tabitem_title) as TextView).text = text\n                val tvBadge: TextView = this.findViewById(R.id.tv_badge)\n\n                if (badgeText.isNullOrEmpty()) {\n                    tvBadge.visibility = View.INVISIBLE\n                } else {\n                    tvBadge.visibility = View.VISIBLE\n                    tvBadge.text = badgeText\n                }\n            }\n}\n</code></pre>\n"},{"tags":["java","android","jsoup"],"answers":[{"comments":[{"owner":{"account_id":26280938,"reputation":13,"user_id":19949422,"display_name":"PatriotLegends"},"score":0,"creation_date":1667291480,"post_id":74269198,"comment_id":131128281,"body_markdown":"Thank you for your reply ! I successfully logged into the server.","body":"Thank you for your reply ! I successfully logged into the server."}],"tags":[],"owner":{"account_id":10389625,"reputation":2881,"user_id":9889778,"display_name":"Krystian G"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667251122,"creation_date":1667251122,"answer_id":74269198,"question_id":74268748,"body_markdown":"You submit your data to `loginFormUrl`\r\n```\r\nConnection.Response login = Jsoup.connect(loginFormUrl)\r\n```\r\nbut in the page source I see the form should be sent to `https://planif.esiee.fr/jsp/standard/gui/interface.jsp`\r\n```\r\n&lt;form method=&quot;POST&quot; action=&quot;gui/interface.jsp&quot; name=&quot;projects&quot;&gt;\r\n```\r\nTry using that URL instead of `loginFormUrl`.\r\n\r\n","title":"Jsoup WebScraping with .jsp url doesn&#39;t work with JSESSIONID","body":"<p>You submit your data to <code>loginFormUrl</code></p>\n<pre><code>Connection.Response login = Jsoup.connect(loginFormUrl)\n</code></pre>\n<p>but in the page source I see the form should be sent to <code>https://planif.esiee.fr/jsp/standard/gui/interface.jsp</code></p>\n<pre><code>&lt;form method=&quot;POST&quot; action=&quot;gui/interface.jsp&quot; name=&quot;projects&quot;&gt;\n</code></pre>\n<p>Try using that URL instead of <code>loginFormUrl</code>.</p>\n"}],"owner":{"account_id":26280938,"reputation":13,"user_id":19949422,"display_name":"PatriotLegends"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74269198,"answer_count":1,"score":0,"last_activity_date":1667251122,"creation_date":1667247760,"question_id":74268748,"body_markdown":"This is my current code, I&#39;ve being seeking for answers all over the internet and nothing worked for me. The link of the website that I&#39;ve been trying to scrape is : \r\nhttps://planif.esiee.fr/jsp/standard/index.jsp\r\n\r\n[![This is the view of the login page](https://i.stack.imgur.com/hdFHg.png)](https://i.stack.imgur.com/hdFHg.png)\r\n\r\nAfter the login this is webpage that I should get : https://planif.esiee.fr/jsp/standard/projects.jsp\r\n\r\n[![Teh redirected page after login](https://i.stack.imgur.com/waGWb.png)](https://i.stack.imgur.com/waGWb.png)\r\n\r\nThe issue I have is no matter what i try with the JSESSION cookie without forgeting to add all .data input values, I still cannot successfully login and get the redirected page as shown above. Can anybody help me with this ? Thank you !\r\n\r\n\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n\r\n    try {\r\n        Connection.Response loginForm = Jsoup.connect(loginFormUrl)\r\n                .method(Connection.Method.GET)\r\n                .userAgent(userAgent)\r\n                .execute();\r\n\r\n        Map&lt;String, String&gt; mapLoginPageCookies = loginForm.cookies();\r\n        //System.out.println(sessionID);\r\n\r\n        Connection.Response login = Jsoup.connect(loginFormUrl)\r\n                .cookies(mapLoginPageCookies)\r\n                .data(&quot;login&quot;, &quot;lecteur1&quot;)\r\n                .data(&quot;password&quot;, &quot;&quot;)\r\n                .userAgent(userAgent)\r\n                .followRedirects(true)\r\n                .method(Connection.Method.POST)\r\n                .execute();\r\n\r\n        System.out.println(&quot;HTTP Status Code: &quot; + login.statusCode());\r\n        \r\n        Document page = Jsoup.connect(&quot;https://planif.esiee.fr/jsp/standard/projects.jsp&quot;)\r\n                .cookies(login.cookies())\r\n                .get();\r\n        System.out.println(page);\r\n        \r\n\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n}\r\n```\r\n","title":"Jsoup WebScraping with .jsp url doesn&#39;t work with JSESSIONID","body":"<p>This is my current code, I've being seeking for answers all over the internet and nothing worked for me. The link of the website that I've been trying to scrape is :\n<a href=\"https://planif.esiee.fr/jsp/standard/index.jsp\" rel=\"nofollow noreferrer\">https://planif.esiee.fr/jsp/standard/index.jsp</a></p>\n<p><a href=\"https://i.stack.imgur.com/hdFHg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hdFHg.png\" alt=\"This is the view of the login page\" /></a></p>\n<p>After the login this is webpage that I should get : <a href=\"https://planif.esiee.fr/jsp/standard/projects.jsp\" rel=\"nofollow noreferrer\">https://planif.esiee.fr/jsp/standard/projects.jsp</a></p>\n<p><a href=\"https://i.stack.imgur.com/waGWb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/waGWb.png\" alt=\"Teh redirected page after login\" /></a></p>\n<p>The issue I have is no matter what i try with the JSESSION cookie without forgeting to add all .data input values, I still cannot successfully login and get the redirected page as shown above. Can anybody help me with this ? Thank you !</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n    try {\n        Connection.Response loginForm = Jsoup.connect(loginFormUrl)\n                .method(Connection.Method.GET)\n                .userAgent(userAgent)\n                .execute();\n\n        Map&lt;String, String&gt; mapLoginPageCookies = loginForm.cookies();\n        //System.out.println(sessionID);\n\n        Connection.Response login = Jsoup.connect(loginFormUrl)\n                .cookies(mapLoginPageCookies)\n                .data(&quot;login&quot;, &quot;lecteur1&quot;)\n                .data(&quot;password&quot;, &quot;&quot;)\n                .userAgent(userAgent)\n                .followRedirects(true)\n                .method(Connection.Method.POST)\n                .execute();\n\n        System.out.println(&quot;HTTP Status Code: &quot; + login.statusCode());\n        \n        Document page = Jsoup.connect(&quot;https://planif.esiee.fr/jsp/standard/projects.jsp&quot;)\n                .cookies(login.cookies())\n                .get();\n        System.out.println(page);\n        \n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase","progressdialog"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667287633,"post_id":74269164,"comment_id":131127372,"body_markdown":"At a first glance, your code looks good to me. So tell us what is wrong with the shared code. Do you have any errors?","body":"At a first glance, your code looks good to me. So tell us what is wrong with the shared code. Do you have any errors?"},{"owner":{"account_id":19312629,"reputation":1,"user_id":14118007,"display_name":"Shykat Islam"},"score":0,"creation_date":1667304002,"post_id":74269164,"comment_id":131131945,"body_markdown":"I dont have any kind of error. All i am trying do is to show the progressDialog when the upload button  is pressed and dismiss it after &quot;addVideo_model.storageUpload();&quot; method is called. But its not working synchronously. Like progress diaglog is showing and dismissing even though the method is not completed yet :(","body":"I dont have any kind of error. All i am trying do is to show the progressDialog when the upload button  is pressed and dismiss it after &quot;addVideo_model.storageUpload();&quot; method is called. But its not working synchronously. Like progress diaglog is showing and dismissing even though the method is not completed yet :("}],"owner":{"account_id":19312629,"reputation":1,"user_id":14118007,"display_name":"Shykat Islam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667250845,"creation_date":1667250845,"question_id":74269164,"body_markdown":"I am following the MVC architecture, where i am taking the video from my activity and sending it to the controller to upload it in the Firebase Database.\r\n\r\nThe real issue is showing the progress dialog. My logic was after pressing Upload Button, progress dialog will show and after uploading progress dialog will dismiss. So i tried, but every time i tried to do it progressDialog.dismiss executed before the whole upload thing was done. I tried with \r\n\r\nCompletableFuture.runAsync(() but failed. \r\n\r\n``` \r\n// this one is the activity class\r\nbind_addVideo.btnUpload.setOnClickListener(new View.OnClickListener() {\r\n    @RequiresApi(api = Build.VERSION_CODES.N)\r\n    @Override\r\n    public void onClick(View v) {\r\n        progressDialog.show();\r\n        String video_title = bind_addVideo.txtVtitle.getText().toString();\r\n        String video_uri_ = video_URI.toString();\r\n        addVideo_model = new addVideo_Model(video_URI, getApplicationContext(), video_title, video_uri_);;\r\n    CompletableFuture.runAsync(() -&gt; {\r\n            addVideo_model.storageUpload();\r\n            progressDialog.dismiss();\r\n        });\r\n\r\n    }\r\n});\r\n```\r\n\r\n// video upload class\r\n\r\n```\r\npackage com.example.socialshout.Model.addVideo_;\r\n\r\nimport android.content.Context;\r\nimport android.net.Uri;\r\nimport android.os.AsyncTask;\r\nimport android.webkit.MimeTypeMap;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport com.example.socialshout.Modal.videoFileModal;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\n\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\npublic class addVideo_Model  {\r\n    Uri videoUri;\r\n    Context context;\r\n    \r\n    String video_title;\r\n    String video_uri_;\r\n    \r\n    StorageReference storageReference = FirebaseStorage.getInstance().getReference();\r\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;myVideos&quot;);\r\n\r\n    public addVideo_Model(Uri videoUri, Context context, String video_title, String video_uri_) {\r\n        this.videoUri = videoUri;\r\n        this.context = context;\r\n        this.video_title = video_title;\r\n        this.video_uri_ = video_uri_;\r\n    }\r\n\r\n    public void storageUpload(){\r\n        StorageReference uploader = storageReference.child(&quot;uploadedVideos/&quot;+System.currentTimeMillis()+&quot;.&quot;+getExtension_of_Video());\r\n        uploader.putFile(videoUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                // at this point the file successfully uploaded in the firebase storage, now the main task is to get the url.\r\n                uploader.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Uri uri) {\r\n\r\n                        Toast.makeText(context, &quot;Storage Upload Successful&quot;, Toast.LENGTH_SHORT).show();\r\n                        // now its time ot upload the video url in the firebase realtime database.\r\n                        // we are going to provide the object/ modal to the firebase Realtime database, which is helpful for not providing one info at one time.\r\n                        videoFileModal object_of_Video = new videoFileModal(video_title, video_uri_);\r\n                        videoInfo_to_RealTimeDataBase(object_of_Video);\r\n                    }\r\n                });\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(context, &quot;Storage Upload failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void videoInfo_to_RealTimeDataBase(videoFileModal object_of_video) {\r\n        databaseReference.child(databaseReference.push().getKey())\r\n                .setValue(object_of_video)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        Toast.makeText(context, &quot;RealTime Database Successfull&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(context, &quot;RealTime Database Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    // so every video hav different extension, to figure that out, we have this function\\\r\n    public  String getExtension_of_Video(){\r\n        MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\r\n        return mimeTypeMap.getExtensionFromMimeType(context.getContentResolver().getType(videoUri));\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n","title":"How can i call two methods in java asynchronously in android studio","body":"<p>I am following the MVC architecture, where i am taking the video from my activity and sending it to the controller to upload it in the Firebase Database.</p>\n<p>The real issue is showing the progress dialog. My logic was after pressing Upload Button, progress dialog will show and after uploading progress dialog will dismiss. So i tried, but every time i tried to do it progressDialog.dismiss executed before the whole upload thing was done. I tried with</p>\n<p>CompletableFuture.runAsync(() but failed.</p>\n<pre><code>// this one is the activity class\nbind_addVideo.btnUpload.setOnClickListener(new View.OnClickListener() {\n    @RequiresApi(api = Build.VERSION_CODES.N)\n    @Override\n    public void onClick(View v) {\n        progressDialog.show();\n        String video_title = bind_addVideo.txtVtitle.getText().toString();\n        String video_uri_ = video_URI.toString();\n        addVideo_model = new addVideo_Model(video_URI, getApplicationContext(), video_title, video_uri_);;\n    CompletableFuture.runAsync(() -&gt; {\n            addVideo_model.storageUpload();\n            progressDialog.dismiss();\n        });\n\n    }\n});\n</code></pre>\n<p>// video upload class</p>\n<pre><code>package com.example.socialshout.Model.addVideo_;\n\nimport android.content.Context;\nimport android.net.Uri;\nimport android.os.AsyncTask;\nimport android.webkit.MimeTypeMap;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport com.example.socialshout.Modal.videoFileModal;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.storage.FirebaseStorage;\n\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\npublic class addVideo_Model  {\n    Uri videoUri;\n    Context context;\n    \n    String video_title;\n    String video_uri_;\n    \n    StorageReference storageReference = FirebaseStorage.getInstance().getReference();\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;myVideos&quot;);\n\n    public addVideo_Model(Uri videoUri, Context context, String video_title, String video_uri_) {\n        this.videoUri = videoUri;\n        this.context = context;\n        this.video_title = video_title;\n        this.video_uri_ = video_uri_;\n    }\n\n    public void storageUpload(){\n        StorageReference uploader = storageReference.child(&quot;uploadedVideos/&quot;+System.currentTimeMillis()+&quot;.&quot;+getExtension_of_Video());\n        uploader.putFile(videoUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                // at this point the file successfully uploaded in the firebase storage, now the main task is to get the url.\n                uploader.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                    @Override\n                    public void onSuccess(Uri uri) {\n\n                        Toast.makeText(context, &quot;Storage Upload Successful&quot;, Toast.LENGTH_SHORT).show();\n                        // now its time ot upload the video url in the firebase realtime database.\n                        // we are going to provide the object/ modal to the firebase Realtime database, which is helpful for not providing one info at one time.\n                        videoFileModal object_of_Video = new videoFileModal(video_title, video_uri_);\n                        videoInfo_to_RealTimeDataBase(object_of_Video);\n                    }\n                });\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(context, &quot;Storage Upload failed&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n\n    private void videoInfo_to_RealTimeDataBase(videoFileModal object_of_video) {\n        databaseReference.child(databaseReference.push().getKey())\n                .setValue(object_of_video)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void unused) {\n                        Toast.makeText(context, &quot;RealTime Database Successfull&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(context, &quot;RealTime Database Failed&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n\n\n    // so every video hav different extension, to figure that out, we have this function\\\n    public  String getExtension_of_Video(){\n        MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\n        return mimeTypeMap.getExtensionFromMimeType(context.getContentResolver().getType(videoUri));\n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":18139,"reputation":41753,"user_id":41283,"accept_rate":87,"display_name":"Hosam Aly"},"score":1,"creation_date":1236159580,"post_id":609860,"comment_id":422299,"body_markdown":"There is no Java 6 EE, until now (AFAIK). There is Java SE 6, and Java EE 5.","body":"There is no Java 6 EE, until now (AFAIK). There is Java SE 6, and Java EE 5."}],"answers":[{"comments":[{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":1,"creation_date":1436832369,"post_id":609866,"comment_id":50767001,"body_markdown":"I implemented this solution and it is not working for me. It returns out the ordinal value is not guaranteed to match the order in which the enumerated types are added. I don&#39;t know that is what this answer is advocating, but I wanted to warn people nonetheless","body":"I implemented this solution and it is not working for me. It returns out the ordinal value is not guaranteed to match the order in which the enumerated types are added. I don&#39;t know that is what this answer is advocating, but I wanted to warn people nonetheless"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1436862949,"post_id":609866,"comment_id":50777568,"body_markdown":"@IcesDante: the ordinal is certainly guaranteed to correspond to the order of the Enumeration values in the source. If you observe a different behaviour, then something else must be wrong. My answer above is however suboptimal for all the reasons laid out in the other answers.","body":"@IcesDante: the ordinal is certainly guaranteed to correspond to the order of the Enumeration values in the source. If you observe a different behaviour, then something else must be wrong. My answer above is however suboptimal for all the reasons laid out in the other answers."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1592519096,"post_id":609866,"comment_id":110463261,"body_markdown":"@JoachimSauer Maybe IcedDante means the ordinal may not match if it was produced and saved by an earlier version of the source, in which the enum values were in a different order.","body":"@JoachimSauer Maybe IcedDante means the ordinal may not match if it was produced and saved by an earlier version of the source, in which the enum values were in a different order."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":3,"down_vote_count":4,"up_vote_count":736,"is_accepted":true,"score":732,"last_activity_date":1667250653,"creation_date":1236159284,"answer_id":609866,"question_id":609860,"body_markdown":"To convert an ordinal into its enum representation you might want to do this:\r\n\r\n    ReportTypeEnum value = ReportTypeEnum.values()[ordinal];\r\n\r\nPlease notice the array bounds.                    \r\n\r\nNote that every call to `values()` returns a newly cloned array which might impact performance in a negative way. You may want to cache the array if it&#39;s going to be called often. \r\n\r\n[Code example on how to cache `values()`][1].\r\n\r\n- - -      \r\n&lt;sub&gt;This answer was edited to include the feedback given inside the comments&lt;/sub&gt;\r\n\r\n[1]: https://stackoverflow.com/a/19277247/4773888","title":"Convert from enum ordinal to enum type","body":"<p>To convert an ordinal into its enum representation you might want to do this:</p>\n<pre><code>ReportTypeEnum value = ReportTypeEnum.values()[ordinal];\n</code></pre>\n<p>Please notice the array bounds.</p>\n<p>Note that every call to <code>values()</code> returns a newly cloned array which might impact performance in a negative way. You may want to cache the array if it's going to be called often.</p>\n<p><a href=\"https://stackoverflow.com/a/19277247/4773888\">Code example on how to cache <code>values()</code></a>.</p>\n<hr />\n<p><sub>This answer was edited to include the feedback given inside the comments</sub></p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1236171427,"post_id":609879,"comment_id":422720,"body_markdown":"I agree, it&#39;s the better solution.","body":"I agree, it&#39;s the better solution."},{"owner":{"account_id":9111,"reputation":19723,"user_id":16686,"accept_rate":35,"display_name":"Arne Evertsson"},"score":34,"creation_date":1257952014,"post_id":609879,"comment_id":1593297,"body_markdown":"What if you change the name of the enum (but keep the ordering)?","body":"What if you change the name of the enum (but keep the ordering)?"},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":8,"creation_date":1257953704,"post_id":609879,"comment_id":1593515,"body_markdown":"@Arne - I think this is much less likely than some inexperienced person coming along and adding a `value` at either the start or its correct alphabetical/logical position. (By logical I mean for example `TimeUnit` values have a logical position)","body":"@Arne - I think this is much less likely than some inexperienced person coming along and adding a <code>value</code> at either the start or its correct alphabetical/logical position. (By logical I mean for example <code>TimeUnit</code> values have a logical position)"},{"owner":{"display_name":"user660940"},"score":8,"creation_date":1300205162,"post_id":609879,"comment_id":7484446,"body_markdown":"I certainly prefer to force the enums order rather than the name of my enum...this is why I prefer to store the ordinal rather than the name of the enum in the database. Furthermore, it&#39;s better to use int manipulation rather than String...","body":"I certainly prefer to force the enums order rather than the name of my enum...this is why I prefer to store the ordinal rather than the name of the enum in the database. Furthermore, it&#39;s better to use int manipulation rather than String..."},{"owner":{"account_id":205602,"reputation":7370,"user_id":454449,"display_name":"Noel"},"score":11,"creation_date":1318368672,"post_id":609879,"comment_id":9409154,"body_markdown":"I agree. In a public API, changing the name of an Enum would break backward compatibility but changing the order would not. For that reason, it makes more sense to use the name as your &quot;key&quot;","body":"I agree. In a public API, changing the name of an Enum would break backward compatibility but changing the order would not. For that reason, it makes more sense to use the name as your &quot;key&quot;"},{"owner":{"account_id":243192,"reputation":6619,"user_id":515205,"accept_rate":83,"display_name":"spaaarky21"},"score":2,"creation_date":1373499312,"post_id":609879,"comment_id":25585646,"body_markdown":"This is a good warning for cases where a value will live longer than the application. By writing an enum&#39;s ordinal to a file or database, you are (perhaps unknowingly) assuming that the ordering of your enum&#39;s values will never change. But there are plenty of cases where an enum&#39;s value will only be used during a program&#39;s execution. So choose wisely and consider Joachim Sauer&#39;s reply. It actually answers the question at hand. ;)","body":"This is a good warning for cases where a value will live longer than the application. By writing an enum&#39;s ordinal to a file or database, you are (perhaps unknowingly) assuming that the ordering of your enum&#39;s values will never change. But there are plenty of cases where an enum&#39;s value will only be used during a program&#39;s execution. So choose wisely and consider Joachim Sauer&#39;s reply. It actually answers the question at hand. ;)"},{"owner":{"account_id":1267837,"reputation":9823,"user_id":1224741,"accept_rate":91,"display_name":"QED"},"score":4,"creation_date":1427301509,"post_id":609879,"comment_id":46724906,"body_markdown":"Storing the ordinal makes it easier to translate your ideas to other languages. What if you need to write some component in C?","body":"Storing the ordinal makes it easier to translate your ideas to other languages. What if you need to write some component in C?"},{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":3,"creation_date":1437755348,"post_id":609879,"comment_id":51180431,"body_markdown":"Let&#39;s not guess the OP&#39;s persistence requirements from a tersely worded question. Maybe the value doesn&#39;t stay in the wire format for longer than a single user session. Or maybe it does.","body":"Let&#39;s not guess the OP&#39;s persistence requirements from a tersely worded question. Maybe the value doesn&#39;t stay in the wire format for longer than a single user session. Or maybe it does."},{"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"score":0,"creation_date":1467271660,"post_id":609879,"comment_id":63665685,"body_markdown":"I strongly disagree. The enum type was introduced e.g. in [Pascal](http://www.gnu-pascal.de/gpc/Enumerated-Types.html) exactly for the purpose of order, so that each and every enum value could be compared to one another.","body":"I strongly disagree. The enum type was introduced e.g. in <a href=\"http://www.gnu-pascal.de/gpc/Enumerated-Types.html\" rel=\"nofollow noreferrer\">Pascal</a> exactly for the purpose of order, so that each and every enum value could be compared to one another."},{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":0,"creation_date":1530185077,"post_id":609879,"comment_id":89151663,"body_markdown":"on Android, if you&#39;re storing the enum name and using proguard, you&#39;ll want to make sure proguard doesn&#39;t obfuscate the enum name.","body":"on Android, if you&#39;re storing the enum name and using proguard, you&#39;ll want to make sure proguard doesn&#39;t obfuscate the enum name."},{"owner":{"account_id":191656,"reputation":7199,"user_id":432354,"accept_rate":95,"display_name":"pvorb"},"score":0,"creation_date":1620430742,"post_id":609879,"comment_id":119207370,"body_markdown":"I doesn&#39;t matter if you use the name or ordinal as the identifier. If you rely on one of them to remain the same, write a unit test that verifies it&#39;s correct! This way accidental changes can get caught.","body":"I doesn&#39;t matter if you use the name or ordinal as the identifier. If you rely on one of them to remain the same, write a unit test that verifies it&#39;s correct! This way accidental changes can get caught."},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1673660437,"post_id":609879,"comment_id":132554951,"body_markdown":"This is not at all a bad idea, in fact, it is the optimal solution. Using the enum constant&#39;s name rather than the ordinal has the drawback **that the name cannot change down the line**. In either case, your hypothetical situation requires that developers be made aware of how the system works. Using the ordinal in the URL, however, is much shorter (assuming enum constants are descriptive).","body":"This is not at all a bad idea, in fact, it is the optimal solution. Using the enum constant&#39;s name rather than the ordinal has the drawback <b>that the name cannot change down the line</b>. In either case, your hypothetical situation requires that developers be made aware of how the system works. Using the ordinal in the URL, however, is much shorter (assuming enum constants are descriptive)."}],"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":12,"down_vote_count":7,"up_vote_count":152,"is_accepted":false,"score":145,"last_activity_date":1236159659,"creation_date":1236159659,"answer_id":609879,"question_id":609860,"body_markdown":"This is almost certainly **a bad idea**. Certainly if the ordinal is *de-facto* persisted (e.g. because someone has bookmarked the URL) - it means that you must always preserve the `enum` ordering in future, which may not be obvious to code maintainers down the line.\r\n\r\nWhy not encode the `enum` using `myEnumValue.name()` (and decode via `ReportTypeEnum.valueOf(s)`) instead?","title":"Convert from enum ordinal to enum type","body":"<p>This is almost certainly <strong>a bad idea</strong>. Certainly if the ordinal is <em>de-facto</em> persisted (e.g. because someone has bookmarked the URL) - it means that you must always preserve the <code>enum</code> ordering in future, which may not be obvious to code maintainers down the line.</p>\n\n<p>Why not encode the <code>enum</code> using <code>myEnumValue.name()</code> (and decode via <code>ReportTypeEnum.valueOf(s)</code>) instead?</p>\n"},{"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1308931985,"post_id":4637105,"comment_id":7602728,"body_markdown":"See also [Enums](http://download.oracle.com/javase/1.5.0/docs/guide/language/enums.html).","body":"See also <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/language/enums.html\" rel=\"nofollow noreferrer\">Enums</a>."},{"owner":{"account_id":284765,"reputation":1191,"user_id":583075,"accept_rate":50,"display_name":"Leszek"},"score":13,"creation_date":1425046540,"post_id":4637105,"comment_id":45813072,"body_markdown":"Wow! Just wow! This is neat, of course, but... you know - the C programmer inside me screams in pain seeing that you allocate a full-blown HashMap and perform lookups inside it all of it JUST to essentially manage 4 constants: spades, hearts, diamonds and clubs!\n\nA C programmer would allocate 1 byte for each: &#39;const char CLUBS=0;&#39; etc... Yes,a HashMap lookup is O(1), but the memory and CPU overhead of a HashMap, in this case make it many orders of magnitude slower and resource hungry than calling .values() directly! No wonder Java is such a memory hog if people write like this...","body":"Wow! Just wow! This is neat, of course, but... you know - the C programmer inside me screams in pain seeing that you allocate a full-blown HashMap and perform lookups inside it all of it JUST to essentially manage 4 constants: spades, hearts, diamonds and clubs!  A C programmer would allocate 1 byte for each: &#39;const char CLUBS=0;&#39; etc... Yes,a HashMap lookup is O(1), but the memory and CPU overhead of a HashMap, in this case make it many orders of magnitude slower and resource hungry than calling .values() directly! No wonder Java is such a memory hog if people write like this..."},{"owner":{"account_id":183813,"reputation":8081,"user_id":419436,"accept_rate":79,"display_name":"Jan"},"score":3,"creation_date":1441205590,"post_id":4637105,"comment_id":52585814,"body_markdown":"Not every program requires the performance of a triple A game. In many cases trading memory and CPU for type safety, readability, maintainability, cross platform support, garbage collection, etc... is justifiable. Higher level languages exist for a reason.","body":"Not every program requires the performance of a triple A game. In many cases trading memory and CPU for type safety, readability, maintainability, cross platform support, garbage collection, etc... is justifiable. Higher level languages exist for a reason."},{"owner":{"account_id":8198,"reputation":176803,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":4,"creation_date":1470643520,"post_id":4637105,"comment_id":65014248,"body_markdown":"But if your key range is always `0...(n-1)`, then an array is less code and more readable as well; the performance boost is just a bonus. `private static final Suit[] VALUES = values();` and `public Suit fromOrdinal(int ordinal) { return VALUES[ordinal]; }`. Extra advantage: crashes immediately on invalid ordinals, rather than silently returning null. (Not always an advantage. But often.)","body":"But if your key range is always <code>0...(n-1)</code>, then an array is less code and more readable as well; the performance boost is just a bonus. <code>private static final Suit[] VALUES = values();</code> and <code>public Suit fromOrdinal(int ordinal) { return VALUES[ordinal]; }</code>. Extra advantage: crashes immediately on invalid ordinals, rather than silently returning null. (Not always an advantage. But often.)"},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1647277293,"post_id":4637105,"comment_id":126325732,"body_markdown":"Sorry, but no. Using a HashMap here is ludicrous. Use an array.","body":"Sorry, but no. Using a HashMap here is ludicrous. Use an array."},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1673660704,"post_id":4637105,"comment_id":132554957,"body_markdown":"@Jan Which triple-A games are you referring to? Most triple A games can only get good performance on a bulky GPU exactly because large software firms take little care with their code, just like this. I can only see them disproving your point entirely. Besides, using an array and exposing its values with a function is not only faster, shorter, cleaner, smaller in terms of memory, but something that a developer would expect to see, and thus easier to deal with in a codebase.","body":"@Jan Which triple-A games are you referring to? Most triple A games can only get good performance on a bulky GPU exactly because large software firms take little care with their code, just like this. I can only see them disproving your point entirely. Besides, using an array and exposing its values with a function is not only faster, shorter, cleaner, smaller in terms of memory, but something that a developer would expect to see, and thus easier to deal with in a codebase."}],"tags":[],"owner":{"account_id":183813,"reputation":8081,"user_id":419436,"accept_rate":79,"display_name":"Jan"},"comment_count":6,"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1647371163,"creation_date":1294534840,"answer_id":4637105,"question_id":609860,"body_markdown":"You *could* use a static lookup table:\r\n\r\n    public enum Suit {\r\n      spades, hearts, diamonds, clubs;\r\n    \r\n      private static final Map&lt;Integer, Suit&gt; lookup = new HashMap&lt;Integer, Suit&gt;();\r\n    \r\n      static {\r\n        int ordinal = 0;\r\n        for (Suit suit : EnumSet.allOf(Suit.class)) {\r\n          lookup.put(ordinal, suit);\r\n          ordinal+= 1;\r\n        }\r\n      }\r\n    \r\n      public Suit fromOrdinal(int ordinal) {\r\n        return lookup.get(ordinal);\r\n      }\r\n    }","title":"Convert from enum ordinal to enum type","body":"<p>You <em>could</em> use a static lookup table:</p>\n<pre><code>public enum Suit {\n  spades, hearts, diamonds, clubs;\n\n  private static final Map&lt;Integer, Suit&gt; lookup = new HashMap&lt;Integer, Suit&gt;();\n\n  static {\n    int ordinal = 0;\n    for (Suit suit : EnumSet.allOf(Suit.class)) {\n      lookup.put(ordinal, suit);\n      ordinal+= 1;\n    }\n  }\n\n  public Suit fromOrdinal(int ordinal) {\n    return lookup.get(ordinal);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47802,"reputation":50923,"user_id":141719,"accept_rate":83,"display_name":"HighCommander4"},"score":2,"creation_date":1377320155,"post_id":12468499,"comment_id":27051743,"body_markdown":"Because comparing integers is much faster than comparing strings?","body":"Because comparing integers is much faster than comparing strings?"},{"owner":{"account_id":29583,"reputation":7140,"user_id":80075,"accept_rate":100,"display_name":"Tony BenBrahim"},"score":2,"creation_date":1377429501,"post_id":12468499,"comment_id":27074466,"body_markdown":"But ordinals will change if someone modifies the enum (Adds/reorder memvers). Sometimes it is about safety and not speed, especially on a JSP page where the network latency is at 1,000,000 times the difference between comparing an array of integers (a string) and a single integer.","body":"But ordinals will change if someone modifies the enum (Adds/reorder memvers). Sometimes it is about safety and not speed, especially on a JSP page where the network latency is at 1,000,000 times the difference between comparing an array of integers (a string) and a single integer."},{"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"score":0,"creation_date":1392042081,"post_id":12468499,"comment_id":32772519,"body_markdown":"toString can be overridden, so it may not return the enum name. The method name( ) is what gives the enum name (it&#39;s final)","body":"toString can be overridden, so it may not return the enum name. The method name( ) is what gives the enum name (it&#39;s final)"},{"owner":{"account_id":5098268,"reputation":389,"user_id":4088794,"display_name":"joe pelletier"},"score":0,"creation_date":1548086462,"post_id":12468499,"comment_id":95407807,"body_markdown":"code comments and application versions are also a thing (maybe a file format is simpler and smaller this way)","body":"code comments and application versions are also a thing (maybe a file format is simpler and smaller this way)"},{"owner":{"display_name":"user11566289"},"score":0,"creation_date":1563329195,"post_id":12468499,"comment_id":100659691,"body_markdown":"Not sure why this was downvoted when it&#39;s essentially recommending the same thing as in oxbow_lakes&#39; answer. Definitely safer than using the ordinal.","body":"Not sure why this was downvoted when it&#39;s essentially recommending the same thing as in oxbow_lakes&#39; answer. Definitely safer than using the ordinal."}],"tags":[],"owner":{"account_id":29583,"reputation":7140,"user_id":80075,"accept_rate":100,"display_name":"Tony BenBrahim"},"comment_count":5,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1412010638,"creation_date":1347924785,"answer_id":12468499,"question_id":609860,"body_markdown":"Every enum has name(), which gives a string with the name of enum member.\r\n\r\nGiven `enum Suit{Heart, Spade, Club, Diamond}`, `Suit.Heart.name()` will give `Heart`.\r\n\r\nEvery enum has a `valueOf()` method, which takes an enum type and a string, to perform the reverse operation:\r\n\r\n`Enum.valueOf(Suit.class, &quot;Heart&quot;)` returns `Suit.Heart`.\r\n\r\nWhy anyone would use ordinals is beyond me. It may be nanoseconds faster, but it is not safe, if the enum members change, as another developer may not be aware some code is relying on ordinal values (especially in the JSP page cited in the question, network and database overhead completely dominates the time, not using an integer over a string).","title":"Convert from enum ordinal to enum type","body":"<p>Every enum has name(), which gives a string with the name of enum member.</p>\n\n<p>Given <code>enum Suit{Heart, Spade, Club, Diamond}</code>, <code>Suit.Heart.name()</code> will give <code>Heart</code>.</p>\n\n<p>Every enum has a <code>valueOf()</code> method, which takes an enum type and a string, to perform the reverse operation:</p>\n\n<p><code>Enum.valueOf(Suit.class, \"Heart\")</code> returns <code>Suit.Heart</code>.</p>\n\n<p>Why anyone would use ordinals is beyond me. It may be nanoseconds faster, but it is not safe, if the enum members change, as another developer may not be aware some code is relying on ordinal values (especially in the JSP page cited in the question, network and database overhead completely dominates the time, not using an integer over a string).</p>\n"},{"comments":[{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":4,"creation_date":1498151652,"post_id":19277247,"comment_id":76394161,"body_markdown":"+1 this is by far the best solution IMHO because one can pass ordinals around especially in android.os.Message.","body":"+1 this is by far the best solution IMHO because one can pass ordinals around especially in android.os.Message."},{"owner":{"account_id":3960214,"reputation":7032,"user_id":3267497,"accept_rate":18,"display_name":"Mshnik"},"score":16,"creation_date":1507917344,"post_id":19277247,"comment_id":80417657,"body_markdown":"This is very worrying because **arrays are mutable**. Even though values[] is final, it doesn&#39;t prevent `Suit.values[0] = Suit.Diamonds;` somewhere in your code. Ideally that will never happen, but the overall principle of *don&#39;t expose mutable fields* still holds. For this approach, consider using `Collections.unmodifiableList` or the like instead.","body":"This is very worrying because <b>arrays are mutable</b>. Even though values[] is final, it doesn&#39;t prevent <code>Suit.values[0] = Suit.Diamonds;</code> somewhere in your code. Ideally that will never happen, but the overall principle of <i>don&#39;t expose mutable fields</i> still holds. For this approach, consider using <code>Collections.unmodifiableList</code> or the like instead."},{"owner":{"account_id":1253772,"reputation":1206,"user_id":1213655,"display_name":"Pratyush"},"score":1,"creation_date":1531831260,"post_id":19277247,"comment_id":89735021,"body_markdown":"How about -\n\n    private static final Suit values[] = values();   \n    public static Suit[] getValues() { return values; }","body":"How about -      private static final Suit values[] = values();        public static Suit[] getValues() { return values; }"},{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":6,"creation_date":1545230106,"post_id":19277247,"comment_id":94554206,"body_markdown":"@Pratyush that would make the array variable immutable, but not its contents. I could still do getValues()[0]=somethingElse;","body":"@Pratyush that would make the array variable immutable, but not its contents. I could still do getValues()[0]=somethingElse;"},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":1,"creation_date":1563904668,"post_id":19277247,"comment_id":100852941,"body_markdown":"Agree, thus the point is not expose the `Suit values[]` directly or indirectly (how was mentioned through `getValues()`), I work around with a public method where the `ordinal` value must be sent how an argument and return the `Suit` representation from `Suit values[]`. The point here (question&#39;s tile from the beginning) was create an enum type from an enum ordinal","body":"Agree, thus the point is not expose the <code>Suit values[]</code> directly or indirectly (how was mentioned through <code>getValues()</code>), I work around with a public method where the <code>ordinal</code> value must be sent how an argument and return the <code>Suit</code> representation from <code>Suit values[]</code>. The point here (question&#39;s tile from the beginning) was create an enum type from an enum ordinal"}],"tags":[],"owner":{"account_id":1267837,"reputation":9823,"user_id":1224741,"accept_rate":91,"display_name":"QED"},"comment_count":5,"down_vote_count":1,"up_vote_count":116,"is_accepted":false,"score":115,"last_activity_date":1594827474,"creation_date":1381335075,"answer_id":19277247,"question_id":609860,"body_markdown":"If I&#39;m going to be using `values()` a lot:\r\n\r\n    enum Suit {\r\n       Hearts, Diamonds, Spades, Clubs;\r\n       public static final Suit values[] = values();\r\n    }\r\n\r\nMeanwhile wherever.java:\r\n\r\n    Suit suit = Suit.values[ordinal];\r\n\r\nIf you want the array to be private, be my guest:\r\n\r\n    private static final Suit values[] = values();\r\n    public static Suit get(int ordinal) { return values[ordinal]; }\r\n    \r\n    ...\r\n    \r\n    Suit suit = Suit.get(ordinal);\r\n\r\nMind your array bounds.","title":"Convert from enum ordinal to enum type","body":"<p>If I'm going to be using <code>values()</code> a lot:</p>\n<pre><code>enum Suit {\n   Hearts, Diamonds, Spades, Clubs;\n   public static final Suit values[] = values();\n}\n</code></pre>\n<p>Meanwhile wherever.java:</p>\n<pre><code>Suit suit = Suit.values[ordinal];\n</code></pre>\n<p>If you want the array to be private, be my guest:</p>\n<pre><code>private static final Suit values[] = values();\npublic static Suit get(int ordinal) { return values[ordinal]; }\n\n...\n\nSuit suit = Suit.get(ordinal);\n</code></pre>\n<p>Mind your array bounds.</p>\n"},{"comments":[{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":0,"creation_date":1545229672,"post_id":20872663,"comment_id":94553939,"body_markdown":"THIS is the right answer. I&#39;m surprised it got so few points compared to other more direct but potentially invalid answers (due to code changes in the future).","body":"THIS is the right answer. I&#39;m surprised it got so few points compared to other more direct but potentially invalid answers (due to code changes in the future)."},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1605426838,"post_id":20872663,"comment_id":114642474,"body_markdown":"d= (◕‿↼ ) Only solution for flags where the integer can be anything (and is not ordered) like `0xDEAD` for example.","body":"d= (◕‿↼ ) Only solution for flags where the integer can be anything (and is not ordered) like <code>0xDEAD</code> for example."}],"tags":[],"owner":{"account_id":1267236,"reputation":677,"user_id":1224287,"accept_rate":50,"display_name":"jmkelm08"},"comment_count":2,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1564773813,"creation_date":1388606513,"answer_id":20872663,"question_id":609860,"body_markdown":"I agree with most people that using ordinal is probably a bad idea.  I usually solve this problem by giving the enum a private constructor that can take for example a DB value then create a static `fromDbValue` function similar to the one in Jan&#39;s answer.\r\n\r\n    public enum ReportTypeEnum {\r\n        R1(1),\r\n        R2(2),\r\n        R3(3),\r\n        R4(4),\r\n        R5(5),\r\n        R6(6),\r\n        R7(7),\r\n        R8(8);\r\n\r\n        private static Logger log = LoggerFactory.getLogger(ReportEnumType.class);\t\r\n        private static Map&lt;Integer, ReportTypeEnum&gt; lookup;\r\n        private Integer dbValue;\r\n\r\n        private ReportTypeEnum(Integer dbValue) {\r\n            this.dbValue = dbValue;\r\n        }\r\n        \r\n\r\n        static {\r\n            try {\r\n                ReportTypeEnum[] vals = ReportTypeEnum.values();\r\n                lookup = new HashMap&lt;Integer, ReportTypeEnum&gt;(vals.length);\r\n\r\n                for (ReportTypeEnum  rpt: vals)\r\n                    lookup.put(rpt.getDbValue(), rpt);\r\n             }\r\n             catch (Exception e) {\r\n                 // Careful, if any exception is thrown out of a static block, the class\r\n                 // won&#39;t be initialized\r\n                 log.error(&quot;Unexpected exception initializing &quot; + ReportTypeEnum.class, e);\r\n             }\r\n        }\r\n\r\n        public static ReportTypeEnum fromDbValue(Integer dbValue) {\r\n            return lookup.get(dbValue);\r\n        }\r\n\r\n        public Integer getDbValue() {\r\n            return this.dbValue;\r\n        }\r\n\r\n    }\r\n\r\nNow you can change the order without changing the lookup and vice versa.","title":"Convert from enum ordinal to enum type","body":"<p>I agree with most people that using ordinal is probably a bad idea.  I usually solve this problem by giving the enum a private constructor that can take for example a DB value then create a static <code>fromDbValue</code> function similar to the one in Jan's answer.</p>\n\n<pre><code>public enum ReportTypeEnum {\n    R1(1),\n    R2(2),\n    R3(3),\n    R4(4),\n    R5(5),\n    R6(6),\n    R7(7),\n    R8(8);\n\n    private static Logger log = LoggerFactory.getLogger(ReportEnumType.class);  \n    private static Map&lt;Integer, ReportTypeEnum&gt; lookup;\n    private Integer dbValue;\n\n    private ReportTypeEnum(Integer dbValue) {\n        this.dbValue = dbValue;\n    }\n\n\n    static {\n        try {\n            ReportTypeEnum[] vals = ReportTypeEnum.values();\n            lookup = new HashMap&lt;Integer, ReportTypeEnum&gt;(vals.length);\n\n            for (ReportTypeEnum  rpt: vals)\n                lookup.put(rpt.getDbValue(), rpt);\n         }\n         catch (Exception e) {\n             // Careful, if any exception is thrown out of a static block, the class\n             // won't be initialized\n             log.error(\"Unexpected exception initializing \" + ReportTypeEnum.class, e);\n         }\n    }\n\n    public static ReportTypeEnum fromDbValue(Integer dbValue) {\n        return lookup.get(dbValue);\n    }\n\n    public Integer getDbValue() {\n        return this.dbValue;\n    }\n\n}\n</code></pre>\n\n<p>Now you can change the order without changing the lookup and vice versa.</p>\n"},{"tags":[],"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453835530,"creation_date":1427899136,"answer_id":29393725,"question_id":609860,"body_markdown":"This is what I use. I make no pretense that it&#39;s far less &quot;efficient&quot; than the simpler solutions above. What it does do is provide a much clearer exception message than &quot;ArrayIndexOutOfBounds&quot; when an invalid ordinal value is used in the solution above.\r\n\r\nIt utilizes the fact that EnumSet javadoc specifies the iterator returns elements in their natural order. There&#39;s an assert if that&#39;s not correct.\r\n\r\nThe JUnit4 Test demonstrates how it&#39;s used.\r\n\r\n    \r\n     /**\r\n\t * convert ordinal to Enum\r\n\t * @param clzz may not be null\r\n\t * @param ordinal\r\n\t * @return e with e.ordinal( ) == ordinal\r\n\t * @throws IllegalArgumentException if ordinal out of range\r\n\t */\r\n\tpublic static &lt;E extends Enum&lt;E&gt; &gt; E lookupEnum(Class&lt;E&gt; clzz, int ordinal) {\r\n\t\tEnumSet&lt;E&gt; set = EnumSet.allOf(clzz);\r\n\t\tif (ordinal &lt; set.size()) {\r\n\t\t\tIterator&lt;E&gt; iter = set.iterator();\r\n\t\t\tfor (int i = 0; i &lt; ordinal; i++) {\r\n\t\t\t\titer.next();\r\n\t\t\t}\r\n\t\t\tE rval = iter.next();\r\n\t\t\tassert(rval.ordinal() == ordinal);\r\n\t\t\treturn rval;\r\n\t\t}\r\n\t\tthrow new IllegalArgumentException(&quot;Invalid value &quot; + ordinal + &quot; for &quot; + clzz.getName( ) + &quot;, must be &lt; &quot; + set.size());\r\n\t}\r\n    \r\n    @Test\r\n\tpublic void lookupTest( ) {\r\n\t\tjava.util.concurrent.TimeUnit tu = lookupEnum(TimeUnit.class, 3);\r\n\t\tSystem.out.println(tu);\r\n\t}\r\n        ","title":"Convert from enum ordinal to enum type","body":"<p>This is what I use. I make no pretense that it's far less \"efficient\" than the simpler solutions above. What it does do is provide a much clearer exception message than \"ArrayIndexOutOfBounds\" when an invalid ordinal value is used in the solution above.</p>\n\n<p>It utilizes the fact that EnumSet javadoc specifies the iterator returns elements in their natural order. There's an assert if that's not correct.</p>\n\n<p>The JUnit4 Test demonstrates how it's used.</p>\n\n<pre><code> /**\n * convert ordinal to Enum\n * @param clzz may not be null\n * @param ordinal\n * @return e with e.ordinal( ) == ordinal\n * @throws IllegalArgumentException if ordinal out of range\n */\npublic static &lt;E extends Enum&lt;E&gt; &gt; E lookupEnum(Class&lt;E&gt; clzz, int ordinal) {\n    EnumSet&lt;E&gt; set = EnumSet.allOf(clzz);\n    if (ordinal &lt; set.size()) {\n        Iterator&lt;E&gt; iter = set.iterator();\n        for (int i = 0; i &lt; ordinal; i++) {\n            iter.next();\n        }\n        E rval = iter.next();\n        assert(rval.ordinal() == ordinal);\n        return rval;\n    }\n    throw new IllegalArgumentException(\"Invalid value \" + ordinal + \" for \" + clzz.getName( ) + \", must be &lt; \" + set.size());\n}\n\n@Test\npublic void lookupTest( ) {\n    java.util.concurrent.TimeUnit tu = lookupEnum(TimeUnit.class, 3);\n    System.out.println(tu);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":199731,"reputation":4397,"user_id":445215,"display_name":"geowar"},"score":0,"creation_date":1587065887,"post_id":42545192,"comment_id":108370802,"body_markdown":"I think you meant &quot;if(ordinal&lt; 1 || ordinal&gt; 4) return null;&quot;","body":"I think you meant &quot;if(ordinal&lt; 1 || ordinal&gt; 4) return null;&quot;"}],"tags":[],"owner":{"account_id":5022615,"reputation":2004,"user_id":4035655,"accept_rate":25,"display_name":"Ar maj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488417680,"creation_date":1488417680,"answer_id":42545192,"question_id":609860,"body_markdown":"    public enum Suit implements java.io.Serializable, Comparable&lt;Suit&gt;{\r\n      spades, hearts, diamonds, clubs;\r\n\t  private static final Suit [] lookup  = Suit.values();\r\n      public Suit fromOrdinal(int ordinal) {\r\n\t\tif(ordinal&lt; 1 || ordinal&gt; 3) return null;\r\n\t\treturn lookup[value-1];\r\n      }\r\n    }\r\n\r\nthe test class\r\n\r\n    public class MainTest {\r\n        public static void main(String[] args) {\r\n            Suit d3 = Suit.diamonds;\r\n            Suit d3Test = Suit.fromOrdinal(2);\r\n            if(d3.equals(d3Test)){\r\n                System.out.println(&quot;Susses&quot;);\r\n            }else System.out.println(&quot;Fails&quot;);\r\n        }\r\n    }\r\n\r\nI appreciate that you share with us if you have a more efficient code, My enum is huge and constantly called thousands of times.","title":"Convert from enum ordinal to enum type","body":"<pre><code>public enum Suit implements java.io.Serializable, Comparable&lt;Suit&gt;{\n  spades, hearts, diamonds, clubs;\n  private static final Suit [] lookup  = Suit.values();\n  public Suit fromOrdinal(int ordinal) {\n    if(ordinal&lt; 1 || ordinal&gt; 3) return null;\n    return lookup[value-1];\n  }\n}\n</code></pre>\n\n<p>the test class</p>\n\n<pre><code>public class MainTest {\n    public static void main(String[] args) {\n        Suit d3 = Suit.diamonds;\n        Suit d3Test = Suit.fromOrdinal(2);\n        if(d3.equals(d3Test)){\n            System.out.println(\"Susses\");\n        }else System.out.println(\"Fails\");\n    }\n}\n</code></pre>\n\n<p>I appreciate that you share with us if you have a more efficient code, My enum is huge and constantly called thousands of times.</p>\n"},{"tags":[],"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530185846,"creation_date":1530185846,"answer_id":51081953,"question_id":609860,"body_markdown":"This is what I do on Android with Proguard:\r\n\r\n    public enum SomeStatus {\r\n        UNINITIALIZED, STATUS_1, RESERVED_1, STATUS_2, RESERVED_2, STATUS_3;//do not change order\r\n\r\n        private static SomeStatus[] values = null;\r\n        public static SomeStatus fromInteger(int i) {\r\n            if(SomeStatus.values == null) {\r\n                SomeStatus.values = SomeStatus.values();\r\n            }\r\n            if (i &lt; 0) return SomeStatus.values[0];\r\n            if (i &gt;= SomeStatus.values.length) return SomeStatus.values[0];\r\n            return SomeStatus.values[i];\r\n        }\r\n    }\r\n\r\nit&#39;s short and I don&#39;t need to worry about having an exception in Proguard","title":"Convert from enum ordinal to enum type","body":"<p>This is what I do on Android with Proguard:</p>\n\n<pre><code>public enum SomeStatus {\n    UNINITIALIZED, STATUS_1, RESERVED_1, STATUS_2, RESERVED_2, STATUS_3;//do not change order\n\n    private static SomeStatus[] values = null;\n    public static SomeStatus fromInteger(int i) {\n        if(SomeStatus.values == null) {\n            SomeStatus.values = SomeStatus.values();\n        }\n        if (i &lt; 0) return SomeStatus.values[0];\n        if (i &gt;= SomeStatus.values.length) return SomeStatus.values[0];\n        return SomeStatus.values[i];\n    }\n}\n</code></pre>\n\n<p>it's short and I don't need to worry about having an exception in Proguard</p>\n"},{"tags":[],"owner":{"account_id":5098268,"reputation":389,"user_id":4088794,"display_name":"joe pelletier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548085479,"creation_date":1548027190,"answer_id":54281967,"question_id":609860,"body_markdown":"So one way is to do`ExampleEnum valueOfOrdinal = ExampleEnum.values()[ordinal];` which works and its easy, however,\r\nas mentioned before, `ExampleEnum.values()` returns a new cloned array for every call. That can be unnecessarily expensive. We can solve that by caching the array like so `ExampleEnum[] values = values()`. It is also &quot;dangerous&quot; to allow our cached array to be modified. Someone could write `ExampleEnum.values[0] = ExampleEnum.type2;` So I would make it private with an accessor method that does not do extra copying.\r\n\r\n    private enum ExampleEnum{\r\n\t\ttype0, type1, type2, type3;\r\n\t\tprivate static final ExampleEnum[] values = values();\r\n\t\tpublic static ExampleEnum value(int ord) {\r\n\t\t\treturn values[ord];\r\n\t\t}\r\n\t}\r\n   \r\n\r\nYou would use `ExampleEnum.value(ordinal)` to get the enum value associated with `ordinal`","title":"Convert from enum ordinal to enum type","body":"<p>So one way is to do<code>ExampleEnum valueOfOrdinal = ExampleEnum.values()[ordinal];</code> which works and its easy, however,\nas mentioned before, <code>ExampleEnum.values()</code> returns a new cloned array for every call. That can be unnecessarily expensive. We can solve that by caching the array like so <code>ExampleEnum[] values = values()</code>. It is also \"dangerous\" to allow our cached array to be modified. Someone could write <code>ExampleEnum.values[0] = ExampleEnum.type2;</code> So I would make it private with an accessor method that does not do extra copying.</p>\n\n<pre><code>private enum ExampleEnum{\n    type0, type1, type2, type3;\n    private static final ExampleEnum[] values = values();\n    public static ExampleEnum value(int ord) {\n        return values[ord];\n    }\n}\n</code></pre>\n\n<p>You would use <code>ExampleEnum.value(ordinal)</code> to get the enum value associated with <code>ordinal</code></p>\n"},{"tags":[],"owner":{"account_id":10273010,"reputation":5363,"user_id":7580839,"accept_rate":75,"display_name":"Amir Fo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558592177,"creation_date":1558592177,"answer_id":56269049,"question_id":609860,"body_markdown":"You can define a simple method like:\r\n\r\n    public enum Alphabet{\r\n        A,B,C,D;\r\n\r\n        public static Alphabet get(int index){\r\n            return Alphabet.values()[index];\r\n        }\r\n    }\r\n\r\nAnd use it like:\r\n\r\n    System.out.println(Alphabet.get(2));","title":"Convert from enum ordinal to enum type","body":"<p>You can define a simple method like:</p>\n\n<pre><code>public enum Alphabet{\n    A,B,C,D;\n\n    public static Alphabet get(int index){\n        return Alphabet.values()[index];\n    }\n}\n</code></pre>\n\n<p>And use it like:</p>\n\n<pre><code>System.out.println(Alphabet.get(2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204861,"reputation":19673,"user_id":453314,"display_name":"Westy92"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1602877078,"creation_date":1602877078,"answer_id":64395366,"question_id":609860,"body_markdown":"Safety first (with Kotlin):\r\n\r\n    // Default to null\r\n    EnumName.values().getOrNull(ordinal)\r\n    \r\n    // Default to a value\r\n    EnumName.values().getOrElse(ordinal) { EnumName.MyValue }\r\n\r\n\r\n","title":"Convert from enum ordinal to enum type","body":"<p>Safety first (with Kotlin):</p>\n<pre><code>// Default to null\nEnumName.values().getOrNull(ordinal)\n\n// Default to a value\nEnumName.values().getOrElse(ordinal) { EnumName.MyValue }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8491468,"reputation":879,"user_id":8461756,"display_name":"Sandeep Dixit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655525355,"creation_date":1655525355,"answer_id":72666612,"question_id":609860,"body_markdown":"There is an Easy and Bad way and there is a fairly easy and right way.\r\n\r\nFirst, the easy and bad (those are usually very popular). Enum class method returns an array of all available instances via the **values()** method and you can access the enum object via array index.\r\n\r\n    \r\n    RenderingMode mode = RenderingMode.values()[index];\r\n\r\n    //Enum Class somewhere else\r\n    public enum RenderingMode\r\n    {\r\n        PLAYING,\r\n        PREVIEW,\r\n        VIEW_SOLUTION;    \r\n        \r\n    }\r\n        \r\n    \r\n    //RenderingMode.values()[0] will return RenderingMode.PLAYING\r\n    //RenderingMode.values()[1] will return RenderingMode.PREVIEW\r\n    //Why this is bad? Because it is linked to order of declaration.\r\n\r\n    //If you later changed the order here, it will impact all your existing logic around this.\r\n    public enum RenderingMode\r\n        {\r\n            \r\n            PREVIEW,\r\n            VIEW_SOLUTION,\r\n            PLAYING;    \r\n            \r\n        }\r\n     //Now\r\n    //RenderingMode.values()[0] will return RenderingMode.PREVIEW\r\n    //RenderingMode.values()[1] will return RenderingMode.VIEW_SOLUTION\r\n\r\n    \r\n\r\n**Here is the right way to do it.**\r\nCreate a static method fromInt in your enum class.\r\n    \r\n\r\n    public enum RenderingMode\r\n    {\r\n        PLAYING,\r\n        PREVIEW,\r\n        VIEW_SOLUTION;\r\n    \r\n        public static RenderingModefromInt(int index)\r\n        {\r\n           //this is independent of order of declaration\r\n            switch (index)\r\n            {\r\n                case 0: return PLAYING;\r\n                case 1: return PREVIEW;\r\n                case 2: return VIEW_SOLUTION;\r\n            }\r\n            //Consider throwing Exception here\r\n\r\n            return null;\r\n        }\r\n    }","title":"Convert from enum ordinal to enum type","body":"<p>There is an Easy and Bad way and there is a fairly easy and right way.</p>\n<p>First, the easy and bad (those are usually very popular). Enum class method returns an array of all available instances via the <strong>values()</strong> method and you can access the enum object via array index.</p>\n<pre><code>RenderingMode mode = RenderingMode.values()[index];\n\n//Enum Class somewhere else\npublic enum RenderingMode\n{\n    PLAYING,\n    PREVIEW,\n    VIEW_SOLUTION;    \n    \n}\n    \n\n//RenderingMode.values()[0] will return RenderingMode.PLAYING\n//RenderingMode.values()[1] will return RenderingMode.PREVIEW\n//Why this is bad? Because it is linked to order of declaration.\n\n//If you later changed the order here, it will impact all your existing logic around this.\npublic enum RenderingMode\n    {\n        \n        PREVIEW,\n        VIEW_SOLUTION,\n        PLAYING;    \n        \n    }\n //Now\n//RenderingMode.values()[0] will return RenderingMode.PREVIEW\n//RenderingMode.values()[1] will return RenderingMode.VIEW_SOLUTION\n</code></pre>\n<p><strong>Here is the right way to do it.</strong>\nCreate a static method fromInt in your enum class.</p>\n<pre><code>public enum RenderingMode\n{\n    PLAYING,\n    PREVIEW,\n    VIEW_SOLUTION;\n\n    public static RenderingModefromInt(int index)\n    {\n       //this is independent of order of declaration\n        switch (index)\n        {\n            case 0: return PLAYING;\n            case 1: return PREVIEW;\n            case 2: return VIEW_SOLUTION;\n        }\n        //Consider throwing Exception here\n\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19042414,"reputation":71,"user_id":13902217,"display_name":"Jeka_FRI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658732607,"creation_date":1658732607,"answer_id":73105147,"question_id":609860,"body_markdown":"    public enum Status {\r\n    \tSTATUS_1, STATUS_2, STATUS_3, STATUS_4;\r\n    \r\n    \tpublic static Status getStatusByOrdinal(int ordinal) {\r\n    \t\tfor (Status status : values()) {\r\n    \t\t\tif (status.ordinal() == ordinal) {\r\n    \t\t\t\treturn status;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn STATUS_1;\r\n    \t}\r\n    }","title":"Convert from enum ordinal to enum type","body":"<pre><code>public enum Status {\n    STATUS_1, STATUS_2, STATUS_3, STATUS_4;\n\n    public static Status getStatusByOrdinal(int ordinal) {\n        for (Status status : values()) {\n            if (status.ordinal() == ordinal) {\n                return status;\n            }\n        }\n        return STATUS_1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666090574,"creation_date":1666090574,"answer_id":74109809,"question_id":609860,"body_markdown":"In this way you can not depend on compile-time generics resolution(so having an enum class instance you can create whenever enum you want, even those types created with `Class.forMame`)\r\n```java\r\npublic Object getInstance(Class enumClazz, int ordinal) throws Exception {\r\n    Object[] allEnums = enumClazz.getDeclaredMethod(&quot;values&quot;, Object[].class).invoke(null, null);\r\n    return allEnums[ordinal];\r\n}\r\n```","title":"Convert from enum ordinal to enum type","body":"<p>In this way you can not depend on compile-time generics resolution(so having an enum class instance you can create whenever enum you want, even those types created with <code>Class.forMame</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Object getInstance(Class enumClazz, int ordinal) throws Exception {\n    Object[] allEnums = enumClazz.getDeclaredMethod(&quot;values&quot;, Object[].class).invoke(null, null);\n    return allEnums[ordinal];\n}\n</code></pre>\n"}],"owner":{"account_id":561669,"reputation":10675,"user_id":72546,"accept_rate":54,"display_name":"Lennie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211676,"favorite_count":0,"down_vote_count":0,"up_vote_count":368,"accepted_answer_id":609866,"answer_count":15,"score":368,"last_activity_date":1667250653,"creation_date":1236159127,"question_id":609860,"body_markdown":"I&#39;ve the enum type `ReportTypeEnum` that get passed between methods in all my classes but I then need to pass this on the URL so I use the ordinal method to get the int value. After I get it in my other JSP page, I need to convert it to back to an `ReportTypeEnum` so that I can continue passing it. \r\n\r\nHow can I convert ordinal to the `ReportTypeEnum`?\r\n\r\nUsing Java 6 SE.\r\n","title":"Convert from enum ordinal to enum type","body":"<p>I've the enum type <code>ReportTypeEnum</code> that get passed between methods in all my classes but I then need to pass this on the URL so I use the ordinal method to get the int value. After I get it in my other JSP page, I need to convert it to back to an <code>ReportTypeEnum</code> so that I can continue passing it. </p>\n\n<p>How can I convert ordinal to the <code>ReportTypeEnum</code>?</p>\n\n<p>Using Java 6 SE.</p>\n"},{"tags":["java","maven","exe","launch4j"],"answers":[{"comments":[{"owner":{"account_id":18738578,"reputation":125,"user_id":13662305,"display_name":"NotArchon"},"score":0,"creation_date":1684123495,"post_id":74269035,"comment_id":134465200,"body_markdown":"Nice! Did you find a way to set an icon from the warp-packer?","body":"Nice! Did you find a way to set an icon from the warp-packer?"},{"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"score":1,"creation_date":1684165998,"post_id":74269035,"comment_id":134473808,"body_markdown":"@NotArchon Unfortunately, Warp-packer does not provide a way to set up an exe icon. You can check out Resource Hacker, it might be of help to your needs","body":"@NotArchon Unfortunately, Warp-packer does not provide a way to set up an exe icon. You can check out Resource Hacker, it might be of help to your needs"},{"owner":{"account_id":18738578,"reputation":125,"user_id":13662305,"display_name":"NotArchon"},"score":0,"creation_date":1684191639,"post_id":74269035,"comment_id":134478511,"body_markdown":"I used warp-packer to pack folder called jre11 and MyApp.jar... runs fine but a terminal always shows for a moment when the exe is ran... have you experienced this?","body":"I used warp-packer to pack folder called jre11 and MyApp.jar... runs fine but a terminal always shows for a moment when the exe is ran... have you experienced this?"},{"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"score":1,"creation_date":1684241292,"post_id":74269035,"comment_id":134486417,"body_markdown":"Yes, I did experience it. I think that is the disadvantage that comes with its suitability for that job","body":"Yes, I did experience it. I think that is the disadvantage that comes with its suitability for that job"}],"tags":[],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667249701,"creation_date":1667249701,"answer_id":74269035,"question_id":74197115,"body_markdown":"Update: I found a perfect tool for just the above task, **[Warp-Packer][1]**. The software just requires a few CMD commands/terminal commands to compress and add your JRE and pre-generated executable(from software like Launch4j or any of your preference) to one .EXE file which requires no installation. Click to run.\r\n\r\nBasically, it is a simple command like:\r\n\r\n`cd %jre_folder%`  - **%jre_folder%** is the path to your folder where the **warp-packer.exe**, **JRE** and **pre-generated exe**(in my case **myapp.exe**) file are.\r\n then type the following:\r\n\r\n \r\n\r\n    .\\warp-`packer` --arch windows-x64 --input_dir jre_folder --exec myapp.exe --output myapp.exe\r\n\r\nThe image below illustrates that\r\n\r\n[![Check this example][2]][2]\r\n\r\n\r\n  [1]: https://github.com/dgiagio/warp\r\n  [2]: https://i.stack.imgur.com/oqXkv.jpg","title":"Is there a way I can bundle a jre in a Launch4j .exe file?","body":"<p>Update: I found a perfect tool for just the above task, <strong><a href=\"https://github.com/dgiagio/warp\" rel=\"nofollow noreferrer\">Warp-Packer</a></strong>. The software just requires a few CMD commands/terminal commands to compress and add your JRE and pre-generated executable(from software like Launch4j or any of your preference) to one .EXE file which requires no installation. Click to run.</p>\n<p>Basically, it is a simple command like:</p>\n<p><code>cd %jre_folder%</code>  - <strong>%jre_folder%</strong> is the path to your folder where the <strong>warp-packer.exe</strong>, <strong>JRE</strong> and <strong>pre-generated exe</strong>(in my case <strong>myapp.exe</strong>) file are.\nthen type the following:</p>\n<pre><code>.\\warp-`packer` --arch windows-x64 --input_dir jre_folder --exec myapp.exe --output myapp.exe\n</code></pre>\n<p>The image below illustrates that</p>\n<p><a href=\"https://i.stack.imgur.com/oqXkv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oqXkv.jpg\" alt=\"Check this example\" /></a></p>\n"}],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74269035,"answer_count":1,"score":1,"last_activity_date":1667249701,"creation_date":1666714231,"question_id":74197115,"body_markdown":"I would like to bundle a jre folder into my generated launch4j .exe file via maven pom.xml (For some reason, I don&#39;t want an installer, just a click to run Java application that has its own embedded jre). Is it possible? I have read through several posts and I don&#39;t get a maven automated one. I don&#39;t want to do it the manual way, just by packaging through maven because of some reasons\r\n\r\n I&#39;ve tried bundling a jre folder into an exe file via maven but it ends up not running after I uninstall java from my system or after I remove the jre folder from which the pom.xml Launch4j configuration was using . Kindly assist.","title":"Is there a way I can bundle a jre in a Launch4j .exe file?","body":"<p>I would like to bundle a jre folder into my generated launch4j .exe file via maven pom.xml (For some reason, I don't want an installer, just a click to run Java application that has its own embedded jre). Is it possible? I have read through several posts and I don't get a maven automated one. I don't want to do it the manual way, just by packaging through maven because of some reasons</p>\n<p>I've tried bundling a jre folder into an exe file via maven but it ends up not running after I uninstall java from my system or after I remove the jre folder from which the pom.xml Launch4j configuration was using . Kindly assist.</p>\n"},{"tags":["java","android","android-studio","gradle","android-library"],"comments":[{"owner":{"account_id":26539115,"reputation":1082,"user_id":20170164,"display_name":"rainbow.gekota"},"score":1,"creation_date":1666734746,"post_id":73918179,"comment_id":131005887,"body_markdown":"During your research phase prior to asking this question, did you see the following existing questions?: [1](https://stackoverflow.com/q/42855351/20170164), [2](https://stackoverflow.com/q/48408209/20170164), [3](https://stackoverflow.com/q/37315094/20170164), [4](https://stackoverflow.com/q/50301536/20170164)? You should show that you did your research by explaining how your question is different than them, or why you decided to ask a new one instead of bountying the existing ones.","body":"During your research phase prior to asking this question, did you see the following existing questions?: <a href=\"https://stackoverflow.com/q/42855351/20170164\">1</a>, <a href=\"https://stackoverflow.com/q/48408209/20170164\">2</a>, <a href=\"https://stackoverflow.com/q/37315094/20170164\">3</a>, <a href=\"https://stackoverflow.com/q/50301536/20170164\">4</a>? You should show that you did your research by explaining how your question is different than them, or why you decided to ask a new one instead of bountying the existing ones."},{"owner":{"account_id":26539115,"reputation":1082,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1666735020,"post_id":73918179,"comment_id":131005941,"body_markdown":"Concerning the first three Qs I linked above, I can understand why you&#39;d ask a new question, but the fourth is probably enough to merit not asking a new question- or at least asking and then self-answering, since the only added value seems to be the part about doing it via command-line. Finding [this _question_](https://stackoverflow.com/q/49006280/20170164) also should have been able to answer your question (not a duplicate, since the _question_ itself is what could/would answer your question).","body":"Concerning the first three Qs I linked above, I can understand why you&#39;d ask a new question, but the fourth is probably enough to merit not asking a new question- or at least asking and then self-answering, since the only added value seems to be the part about doing it via command-line. Finding <a href=\"https://stackoverflow.com/q/49006280/20170164\">this <i>question</i></a> also should have been able to answer your question (not a duplicate, since the <i>question</i> itself is what could/would answer your question)."},{"owner":{"account_id":26539115,"reputation":1082,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1666735103,"post_id":73918179,"comment_id":131005967,"body_markdown":"_Your second_ question about how to download those dependencies could/should(?) probably be a separate question post. If you want to save this question post and preserve its value for posterity, I&#39;d recommend moving the part about downloading those dependencies to a separate question- lest this post get closed for lacking focus once the bounty period ends.","body":"<i>Your second</i> question about how to download those dependencies could/should(?) probably be a separate question post. If you want to save this question post and preserve its value for posterity, I&#39;d recommend moving the part about downloading those dependencies to a separate question- lest this post get closed for lacking focus once the bounty period ends."},{"owner":{"account_id":26539115,"reputation":1082,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1666735987,"post_id":73918179,"comment_id":131006162,"body_markdown":"Also, your question is confusing in that you show what looks like the output of running the `androidDependencies` gradle task, but don&#39;t specify what action you took to get that output, or why that action was insufficient compared to what you are looking for. Please [edit] to clarify. I&#39;m assuming you got it from doing an action in an IDE. You should also specify whether you care if a command given in an answer outputs other information than that which you are interested in. Ie. Is it okay if the command prints the dependency tree of other aar libraries too?","body":"Also, your question is confusing in that you show what looks like the output of running the <code>androidDependencies</code> gradle task, but don&#39;t specify what action you took to get that output, or why that action was insufficient compared to what you are looking for. Please <a href=\"https://stackoverflow.com/posts/73918179/edit\">edit</a> to clarify. I&#39;m assuming you got it from doing an action in an IDE. You should also specify whether you care if a command given in an answer outputs other information than that which you are interested in. Ie. Is it okay if the command prints the dependency tree of other aar libraries too?"},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1666762530,"post_id":73918179,"comment_id":131010170,"body_markdown":"@rainbow.gekota I simply didn&#39;t find those questions. anyway their is no answer in them ans i prefer to reformulate the question in a different way. The 4th question is not an answer to my question because it&#39;s not from the command line. what is the mechanism used by tool like android studio to know the dependencies of an aar?","body":"@rainbow.gekota I simply didn&#39;t find those questions. anyway their is no answer in them ans i prefer to reformulate the question in a different way. The 4th question is not an answer to my question because it&#39;s not from the command line. what is the mechanism used by tool like android studio to know the dependencies of an aar?"},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1666762783,"post_id":73918179,"comment_id":131010223,"body_markdown":"@rainbow.gekota I edited the question with the results of the research I did","body":"@rainbow.gekota I edited the question with the results of the research I did"},{"owner":{"account_id":4532512,"reputation":1767,"user_id":3682565,"accept_rate":71,"display_name":"NamNH"},"score":0,"creation_date":1666765828,"post_id":73918179,"comment_id":131010903,"body_markdown":"@zeus you can only get dependencies of project, if you want to list dependencies of library, go directly to see its `build.gradle` source (from github, gitlab...).","body":"@zeus you can only get dependencies of project, if you want to list dependencies of library, go directly to see its <code>build.gradle</code> source (from github, gitlab...)."},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1666766564,"post_id":73918179,"comment_id":131011088,"body_markdown":"@NamNH so how android studio does to retrieve the list of dependencies of a library ?","body":"@NamNH so how android studio does to retrieve the list of dependencies of a library ?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1666770184,"post_id":73918179,"comment_id":131012159,"body_markdown":"For `com.facebook.android:facebook-core:5.15.1`, the (direct) dependencies can be found [here](https://repo1.maven.org/maven2/com/facebook/android/facebook-core/5.15.1/facebook-core-5.15.1.pom). Then you iterate to find the transitive dependencies.","body":"For <code>com.facebook.android:facebook-core:5.15.1</code>, the (direct) dependencies can be found <a href=\"https://repo1.maven.org/maven2/com/facebook/android/facebook-core/5.15.1/facebook-core-5.15.1.pom\" rel=\"nofollow noreferrer\">here</a>. Then you iterate to find the transitive dependencies."},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1666781128,"post_id":73918179,"comment_id":131015687,"body_markdown":"@Olivier look like a potential wining answer, but how to contruct this url for all aar? for exemple for com.google.firebase:firebase-messaging:12.0.1 I tried https://repo1.maven.org/maven2/com/google/firebase/firebase-messaging/12.0.1/firebase-messaging-12.0.1.pom but not found :(","body":"@Olivier look like a potential wining answer, but how to contruct this url for all aar? for exemple for com.google.firebase:firebase-messaging:12.0.1 I tried <a href=\"https://repo1.maven.org/maven2/com/google/firebase/firebase-messaging/12.0.1/firebase-messaging-12.0.1.pom\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/google/firebase/firebase-messagin&zwnj;&#8203;g/&hellip;</a> but not found :("},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1666942037,"post_id":73918179,"comment_id":131058153,"body_markdown":"Android artifacts are hosted on Google&#39;s own repository (maven.google.com), so the URL is [this](https://maven.google.com/com/google/firebase/firebase-messaging/12.0.1/firebase-messaging-12.0.1.pom).","body":"Android artifacts are hosted on Google&#39;s own repository (maven.google.com), so the URL is <a href=\"https://maven.google.com/com/google/firebase/firebase-messaging/12.0.1/firebase-messaging-12.0.1.pom\" rel=\"nofollow noreferrer\">this</a>."},{"owner":{"account_id":6665053,"reputation":161,"user_id":5142934,"display_name":"Majid Arabi"},"score":0,"creation_date":1667053139,"post_id":73918179,"comment_id":131081987,"body_markdown":"maybe this link help you : https://gist.github.com/n-belokopytov/d44949590748b096c1a497008b761d04","body":"maybe this link help you : <a href=\"https://gist.github.com/n-belokopytov/d44949590748b096c1a497008b761d04\" rel=\"nofollow noreferrer\">gist.github.com/n-belokopytov/d44949590748b096c1a497008b761d&zwnj;&#8203;04</a>"},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1667218722,"post_id":73918179,"comment_id":131110958,"body_markdown":"@Olivier please answer you remaks, it&#39;s the wining answer : use POM to detect the dependencies","body":"@Olivier please answer you remaks, it&#39;s the wining answer : use POM to detect the dependencies"}],"answers":[{"comments":[{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1666781305,"post_id":74203864,"comment_id":131015753,"body_markdown":"thanks @namNH, Yes but I need to automate the task from a command line and I can&#39;t use a GUI. answer of Olivier look a good starting point but I can&#39;t make it working","body":"thanks @namNH, Yes but I need to automate the task from a command line and I can&#39;t use a GUI. answer of Olivier look a good starting point but I can&#39;t make it working"}],"tags":[],"owner":{"account_id":4532512,"reputation":1767,"user_id":3682565,"accept_rate":71,"display_name":"NamNH"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666768058,"creation_date":1666768058,"answer_id":74203864,"question_id":73918179,"body_markdown":"AFAIK, when you run `./gradlew app:dependencies` command, it will report all dependencies of the `app` module, no command for specific library&#39;s  dependencies report. However, Android Studio have the resolved dependencies report (after synced project), you may check if it is your need.\r\n\r\nFile &gt; Project Structure &gt; Dependencies menu &gt; Your modules (app) &gt; Resolved dependencies.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ey0Dq.png","title":"How to list all dependencies of a library?","body":"<p>AFAIK, when you run <code>./gradlew app:dependencies</code> command, it will report all dependencies of the <code>app</code> module, no command for specific library's  dependencies report. However, Android Studio have the resolved dependencies report (after synced project), you may check if it is your need.</p>\n<p>File &gt; Project Structure &gt; Dependencies menu &gt; Your modules (app) &gt; Resolved dependencies.</p>\n<p><a href=\"https://i.stack.imgur.com/Ey0Dq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ey0Dq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667234126,"creation_date":1666961102,"answer_id":74235627,"question_id":73918179,"body_markdown":"List of dependencies can be found on [mvnrepository.com][1] or [search.maven.org][2]\r\n\r\nYou can write a program that will parse these sites and give out data in the desired format\r\n\r\n**P.S.**\r\nResolving child dependencies is one of the main purposes of gradle. The fact that you have to manually write child dependencies indicates that you have some kind of error in the configuration (maybe a newer version of the dependency is already included)\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.facebook.android/facebook-core/5.15.1\r\n  [2]: https://search.maven.org/artifact/com.facebook.android/facebook-core/5.15.1/aar","title":"How to list all dependencies of a library?","body":"<p>List of dependencies can be found on <a href=\"https://mvnrepository.com/artifact/com.facebook.android/facebook-core/5.15.1\" rel=\"nofollow noreferrer\">mvnrepository.com</a> or <a href=\"https://search.maven.org/artifact/com.facebook.android/facebook-core/5.15.1/aar\" rel=\"nofollow noreferrer\">search.maven.org</a></p>\n<p>You can write a program that will parse these sites and give out data in the desired format</p>\n<p><strong>P.S.</strong>\nResolving child dependencies is one of the main purposes of gradle. The fact that you have to manually write child dependencies indicates that you have some kind of error in the configuration (maybe a newer version of the dependency is already included)</p>\n"},{"tags":[],"owner":{"account_id":3769888,"reputation":11744,"user_id":3225458,"display_name":"romtsn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667232549,"creation_date":1667232549,"answer_id":74266088,"question_id":73918179,"body_markdown":"You might be looking for something already existing, for example:\r\nhttps://github.com/status-im/go-maven-resolver. Usage:\r\n\r\n```\r\n$ echo commons-io:commons-io:2.4 | ./go-maven-resolver\r\nhttps://repo.maven.apache.org/maven2/commons-io/commons-io/2.4/commons-io-2.4.pom\r\nhttps://repo.maven.apache.org/maven2/org/apache/commons/commons-parent/25/commons-parent-25.pom\r\nhttps://repo.maven.apache.org/maven2/org/apache/apache/9/apache-9.pom\r\n```\r\n\r\nAlthough it gives you dependency URLs, but you can easily parse them to get GAV coordinates, or modify the script to print out the tree-like structure.","title":"How to list all dependencies of a library?","body":"<p>You might be looking for something already existing, for example:\n<a href=\"https://github.com/status-im/go-maven-resolver\" rel=\"nofollow noreferrer\">https://github.com/status-im/go-maven-resolver</a>. Usage:</p>\n<pre><code>$ echo commons-io:commons-io:2.4 | ./go-maven-resolver\nhttps://repo.maven.apache.org/maven2/commons-io/commons-io/2.4/commons-io-2.4.pom\nhttps://repo.maven.apache.org/maven2/org/apache/commons/commons-parent/25/commons-parent-25.pom\nhttps://repo.maven.apache.org/maven2/org/apache/apache/9/apache-9.pom\n</code></pre>\n<p>Although it gives you dependency URLs, but you can easily parse them to get GAV coordinates, or modify the script to print out the tree-like structure.</p>\n"},{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667249364,"creation_date":1667249364,"answer_id":74268980,"question_id":73918179,"body_markdown":"A library (aar or jar) does not contain any dependency informations by itself. However, libraries are\r\ngenerally available in Maven repositories, and such repositories provide dependency informations via\r\n[POM files](https://maven.apache.org/guides/introduction/introduction-to-the-pom.html) (which are XML files).\r\n\r\nThe URL where a POM file is available can be constructed from the following elements:\r\n\r\n- Repository URL\r\n- groupId\r\n- artifactId\r\n- version\r\n\r\nThe main repository is Maven Central. Its URL is `https://repo1.maven.org/maven2/`. Most libraries are\r\navailable there.\r\n\r\nFor `com.facebook.android:facebook-core:5.15.1`, the POM URL is:\r\n\r\n`https://repo1.maven.org/maven2/com/facebook/android/facebook-core/5.15.1/facebook-core-5.15.1.pom`\r\n\r\nThe file contains a `&lt;dependencies&gt;` element:\r\n\r\n``` xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.parse.bolts&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bolts-android&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.0&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.android.support&lt;/groupId&gt;\r\n      &lt;artifactId&gt;support-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;27.0.2&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.android.support&lt;/groupId&gt;\r\n      &lt;artifactId&gt;support-core-utils&lt;/artifactId&gt;\r\n      &lt;version&gt;27.0.2&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.android.installreferrer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;installreferrer&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\nOnly the direct dependencies are listed. To get the so-called &quot;transitive dependencies&quot;, you need to iterate\r\nthe process and fetch the POM files of the dependencies.\r\n\r\nNote that Google publishes its Android libraries in its own Maven repository, at this URL:\r\n\r\n`https://maven.google.com/`\r\n\r\nSo, for `com.google.firebase:firebase-messaging:12.0.1`, the POM URL is:\r\n\r\n`https://maven.google.com/com/google/firebase/firebase-messaging/12.0.1/firebase-messaging-12.0.1.pom`\r\n","title":"How to list all dependencies of a library?","body":"<p>A library (aar or jar) does not contain any dependency informations by itself. However, libraries are\ngenerally available in Maven repositories, and such repositories provide dependency informations via\n<a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-pom.html\" rel=\"nofollow noreferrer\">POM files</a> (which are XML files).</p>\n<p>The URL where a POM file is available can be constructed from the following elements:</p>\n<ul>\n<li>Repository URL</li>\n<li>groupId</li>\n<li>artifactId</li>\n<li>version</li>\n</ul>\n<p>The main repository is Maven Central. Its URL is <code>https://repo1.maven.org/maven2/</code>. Most libraries are\navailable there.</p>\n<p>For <code>com.facebook.android:facebook-core:5.15.1</code>, the POM URL is:</p>\n<p><code>https://repo1.maven.org/maven2/com/facebook/android/facebook-core/5.15.1/facebook-core-5.15.1.pom</code></p>\n<p>The file contains a <code>&lt;dependencies&gt;</code> element:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.parse.bolts&lt;/groupId&gt;\n      &lt;artifactId&gt;bolts-android&lt;/artifactId&gt;\n      &lt;version&gt;1.4.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.android.support&lt;/groupId&gt;\n      &lt;artifactId&gt;support-annotations&lt;/artifactId&gt;\n      &lt;version&gt;27.0.2&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.android.support&lt;/groupId&gt;\n      &lt;artifactId&gt;support-core-utils&lt;/artifactId&gt;\n      &lt;version&gt;27.0.2&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.android.installreferrer&lt;/groupId&gt;\n      &lt;artifactId&gt;installreferrer&lt;/artifactId&gt;\n      &lt;version&gt;1.1&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>Only the direct dependencies are listed. To get the so-called &quot;transitive dependencies&quot;, you need to iterate\nthe process and fetch the POM files of the dependencies.</p>\n<p>Note that Google publishes its Android libraries in its own Maven repository, at this URL:</p>\n<p><code>https://maven.google.com/</code></p>\n<p>So, for <code>com.google.firebase:firebase-messaging:12.0.1</code>, the POM URL is:</p>\n<p><code>https://maven.google.com/com/google/firebase/firebase-messaging/12.0.1/firebase-messaging-12.0.1.pom</code></p>\n"}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1724,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":4,"score":0,"last_activity_date":1667249364,"creation_date":1664626151,"question_id":73918179,"body_markdown":"When I have an `aar` library how to list **all the dependencies of this aar** ? for exemple i have `facebook-core-5.15.1.aar` and the dependencies are :\r\n\r\n    +--- com.facebook.android:facebook-core:5.15.1\r\n    |    +--- com.parse.bolts:bolts-android:1.4.0\r\n    |    |    +--- com.parse.bolts:bolts-tasks:1.4.0\r\n    |    |    \\--- com.parse.bolts:bolts-applinks:1.4.0\r\n    |    |         \\--- com.parse.bolts:bolts-tasks:1.4.0\r\n    |    +--- com.android.support:support-annotations:27.0.2\r\n    |    +--- com.android.support:support-core-utils:27.0.2\r\n    |    |    +--- com.android.support:support-annotations:27.0.2\r\n    |    |    \\--- com.android.support:support-compat:27.0.2\r\n    |    |         +--- com.android.support:support-annotations:27.0.2\r\n    |    |         \\--- android.arch.lifecycle:runtime:1.0.3\r\n    |    |              +--- android.arch.lifecycle:common:1.0.3\r\n    |    |              \\--- android.arch.core:common:1.0.0\r\n    |    \\--- com.android.installreferrer:installreferrer:1.1\r\n\r\nHow to retrieve this dependencies tree from a command line? and accessory how to know where to download all thoses dependencies?\r\n\r\nI need to know this because as far as I know If I add `com.facebook.android:facebook-core:5.15.1.aar` in my project without adding `com.parse.bolts:bolts-android:1.4.0.aar` (for exemple), then my project will not work. \r\n\r\nIn the research I did I found this way to know all the dependencies needed by a libraries, I must create a android studio project, add the dependencies like this: \r\n\r\n    dependencies {\r\n        implementation &#39;com.facebook.android:facebook-core:5.15.1&#39;\r\n    }\r\n\r\nand then run: `gradlew app:dependencies` But I want to avoid to create an android project and I need to automate the task from a command line","title":"How to list all dependencies of a library?","body":"<p>When I have an <code>aar</code> library how to list <strong>all the dependencies of this aar</strong> ? for exemple i have <code>facebook-core-5.15.1.aar</code> and the dependencies are :</p>\n<pre><code>+--- com.facebook.android:facebook-core:5.15.1\n|    +--- com.parse.bolts:bolts-android:1.4.0\n|    |    +--- com.parse.bolts:bolts-tasks:1.4.0\n|    |    \\--- com.parse.bolts:bolts-applinks:1.4.0\n|    |         \\--- com.parse.bolts:bolts-tasks:1.4.0\n|    +--- com.android.support:support-annotations:27.0.2\n|    +--- com.android.support:support-core-utils:27.0.2\n|    |    +--- com.android.support:support-annotations:27.0.2\n|    |    \\--- com.android.support:support-compat:27.0.2\n|    |         +--- com.android.support:support-annotations:27.0.2\n|    |         \\--- android.arch.lifecycle:runtime:1.0.3\n|    |              +--- android.arch.lifecycle:common:1.0.3\n|    |              \\--- android.arch.core:common:1.0.0\n|    \\--- com.android.installreferrer:installreferrer:1.1\n</code></pre>\n<p>How to retrieve this dependencies tree from a command line? and accessory how to know where to download all thoses dependencies?</p>\n<p>I need to know this because as far as I know If I add <code>com.facebook.android:facebook-core:5.15.1.aar</code> in my project without adding <code>com.parse.bolts:bolts-android:1.4.0.aar</code> (for exemple), then my project will not work.</p>\n<p>In the research I did I found this way to know all the dependencies needed by a libraries, I must create a android studio project, add the dependencies like this:</p>\n<pre><code>dependencies {\n    implementation 'com.facebook.android:facebook-core:5.15.1'\n}\n</code></pre>\n<p>and then run: <code>gradlew app:dependencies</code> But I want to avoid to create an android project and I need to automate the task from a command line</p>\n"},{"tags":["java","recursion","callstack"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667233559,"post_id":74266271,"comment_id":131116631,"body_markdown":"It doesn&#39;t go all the way back up the stack.  It goes up one, then the next, then the next, until it reaches main.","body":"It doesn&#39;t go all the way back up the stack.  It goes up one, then the next, then the next, until it reaches main."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1667233595,"post_id":74266271,"comment_id":131116642,"body_markdown":"&quot;Doesn&#39;t every function on the call stack need to return a value?&quot; No, void methods don&#39;t return a value.","body":"&quot;Doesn&#39;t every function on the call stack need to return a value?&quot; No, void methods don&#39;t return a value."}],"answers":[{"comments":[{"owner":{"account_id":26697218,"reputation":29,"user_id":20304864,"display_name":"compsci3289294"},"score":0,"creation_date":1667248822,"post_id":74266340,"comment_id":131121144,"body_markdown":"When I debugged it in Java using IntelliJ, it just went back the main function after I returned from the 5th call stack.","body":"When I debugged it in Java using IntelliJ, it just went back the main function after I returned from the 5th call stack."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1667254252,"post_id":74266340,"comment_id":131122286,"body_markdown":"Sure, but the debugger is designed to help you debug, not to go through the gritty details of how the JVM works.","body":"Sure, but the debugger is designed to help you debug, not to go through the gritty details of how the JVM works."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1667319253,"post_id":74266340,"comment_id":131137419,"body_markdown":"@compsci3289294 How _exactly_ did you &quot;return&quot;? There are usually a number of &quot;step&quot; instructions.","body":"@compsci3289294 How <i>exactly</i> did you &quot;return&quot;? There are usually a number of &quot;step&quot; instructions."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667233630,"creation_date":1667233630,"answer_id":74266340,"question_id":74266271,"body_markdown":"&gt; Doesn&#39;t every function on the call stack need to return a value?\r\n\r\nThey all need to return.  (Void functions don&#39;t need to return a value, everything else does.)\r\n\r\n&gt; But after returning to the 5th call stack, the program just goes back to main.\r\n\r\nNo.  Your code returns from one call, then the next, then the next, until it reaches main.","title":"Does every function on the call stack need a return value?","body":"<blockquote>\n<p>Doesn't every function on the call stack need to return a value?</p>\n</blockquote>\n<p>They all need to return.  (Void functions don't need to return a value, everything else does.)</p>\n<blockquote>\n<p>But after returning to the 5th call stack, the program just goes back to main.</p>\n</blockquote>\n<p>No.  Your code returns from one call, then the next, then the next, until it reaches main.</p>\n"},{"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1667234091,"post_id":74266343,"comment_id":131116828,"body_markdown":"The last paragraph is a bit inaccurate. The addition is done on the argument to the recursive call, not on its return value.","body":"The last paragraph is a bit inaccurate. The addition is done on the argument to the recursive call, not on its return value."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1667241094,"post_id":74266343,"comment_id":131119162,"body_markdown":"@marstran That&#39;s what I get for Stacking before caffeine.","body":"@marstran That&#39;s what I get for Stacking before caffeine."},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1667292916,"post_id":74266343,"comment_id":131128623,"body_markdown":"chrylis-cautiouslyoptimistic Haha :)","body":"chrylis-cautiouslyoptimistic Haha :)"}],"tags":[],"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667241114,"creation_date":1667233639,"answer_id":74266343,"question_id":74266271,"body_markdown":"&gt; But after returning to the 5th call stack, the program just goes back to main.\r\n\r\nThis is incorrect. The stack _unwinds_: The 5th call returns a value to the 4th call, which returns a value to the 3rd call, until all of the stack frames are resolved and the final result is returned to `main`.","title":"Does every function on the call stack need a return value?","body":"<blockquote>\n<p>But after returning to the 5th call stack, the program just goes back to main.</p>\n</blockquote>\n<p>This is incorrect. The stack <em>unwinds</em>: The 5th call returns a value to the 4th call, which returns a value to the 3rd call, until all of the stack frames are resolved and the final result is returned to <code>main</code>.</p>\n"},{"comments":[{"owner":{"account_id":26697218,"reputation":29,"user_id":20304864,"display_name":"compsci3289294"},"score":0,"creation_date":1667248429,"post_id":74266481,"comment_id":131121066,"body_markdown":"When I debugged it in Java, it just went back the main function after step 7","body":"When I debugged it in Java, it just went back the main function after step 7"},{"owner":{"account_id":1566305,"reputation":209,"user_id":7046260,"display_name":"Guilherme Z. Santos"},"score":0,"creation_date":1667303669,"post_id":74266481,"comment_id":131131831,"body_markdown":"Because the rest of it is implicit. I just put it there for the sake of completeness =D.","body":"Because the rest of it is implicit. I just put it there for the sake of completeness =D."}],"tags":[],"owner":{"account_id":1566305,"reputation":209,"user_id":7046260,"display_name":"Guilherme Z. Santos"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667234241,"creation_date":1667234241,"answer_id":74266481,"question_id":74266271,"body_markdown":"&gt; What about the other call stacks that don&#39;t have a return value? Doesn&#39;t every function on the call stack need to return a value?\r\n\r\nActually no, as stated by @Sweeper, void methods, for istance, don&#39;t return a *value*. If Java behaves similarly to Python, functions will return a null type by default.\r\n\r\nBut the call stack executes normally in your case. The return value is just processed by the function call. It executes like this:\r\n\r\n1. main() calls func(0)\r\n1. func(0) calls func(0+1)\r\n1. func(0+1) calls func(0+1+1)\r\n1. func(0+1+1) calls func(0+1+1+1)\r\n1. func(0+1+1+1) calls func(0+1+1+1+1)\r\n1. func(0+1+1+1+1) calls func(0+1+1+1+1+1)\r\n1. func(0+1+1+1+1+1) returns 5 to func(0+1+1+1+1)\r\n1. func(0+1+1+1+1) returns 5 to func(0+1+1+1)\r\n1. func(0+1+1+1) returns 5 to func(0+1+1)\r\n1. func(0+1+1) returns 5 to func(0+1)\r\n1. func(0+1) returns 5 func(0)\r\n1. func(0) returns 5 to main()\r\n1. main() returns 5","title":"Does every function on the call stack need a return value?","body":"<blockquote>\n<p>What about the other call stacks that don't have a return value? Doesn't every function on the call stack need to return a value?</p>\n</blockquote>\n<p>Actually no, as stated by @Sweeper, void methods, for istance, don't return a <em>value</em>. If Java behaves similarly to Python, functions will return a null type by default.</p>\n<p>But the call stack executes normally in your case. The return value is just processed by the function call. It executes like this:</p>\n<ol>\n<li>main() calls func(0)</li>\n<li>func(0) calls func(0+1)</li>\n<li>func(0+1) calls func(0+1+1)</li>\n<li>func(0+1+1) calls func(0+1+1+1)</li>\n<li>func(0+1+1+1) calls func(0+1+1+1+1)</li>\n<li>func(0+1+1+1+1) calls func(0+1+1+1+1+1)</li>\n<li>func(0+1+1+1+1+1) returns 5 to func(0+1+1+1+1)</li>\n<li>func(0+1+1+1+1) returns 5 to func(0+1+1+1)</li>\n<li>func(0+1+1+1) returns 5 to func(0+1+1)</li>\n<li>func(0+1+1) returns 5 to func(0+1)</li>\n<li>func(0+1) returns 5 func(0)</li>\n<li>func(0) returns 5 to main()</li>\n<li>main() returns 5</li>\n</ol>\n"}],"owner":{"account_id":26697218,"reputation":29,"user_id":20304864,"display_name":"compsci3289294"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1667235388,"answer_count":3,"score":-1,"last_activity_date":1667248984,"creation_date":1667233343,"question_id":74266271,"body_markdown":"I&#39;ve been trying to understand the call stack and recursive functions but I&#39;m stuck here.\r\n\r\n In this code, The call stack will pile up 6 times, until a = 5,  in which case it will return 1 to the 5th call stack. But after returning to the 5th call stack, the program just goes back to main. \r\n\r\nWhat about the other call stacks that don&#39;t have a return value? Doesn&#39;t every function on the call stack need to return a value?\r\n\r\n\r\n\r\n```java\r\npublic static int func1(int a) {\r\n   if (a == 5) {\r\n       return 1;\r\n   }\r\n   return func1(a + 1);\r\n}\r\n\r\npublic static void main(String[] args) {\r\n\r\n   func1(0);\r\n\r\n}\r\n```\r\nEdit: I&#39;ve heard it shouldn&#39;t go back to main after the 5th call stack and it should go back down the call stack 1 at a time, but my code goes back to main right after this step which as you can see, is on the 5th call stack  https://i.stack.imgur.com/wDO2J.png","title":"Does every function on the call stack need a return value?","body":"<p>I've been trying to understand the call stack and recursive functions but I'm stuck here.</p>\n<p>In this code, The call stack will pile up 6 times, until a = 5,  in which case it will return 1 to the 5th call stack. But after returning to the 5th call stack, the program just goes back to main.</p>\n<p>What about the other call stacks that don't have a return value? Doesn't every function on the call stack need to return a value?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int func1(int a) {\n   if (a == 5) {\n       return 1;\n   }\n   return func1(a + 1);\n}\n\npublic static void main(String[] args) {\n\n   func1(0);\n\n}\n</code></pre>\n<p>Edit: I've heard it shouldn't go back to main after the 5th call stack and it should go back down the call stack 1 at a time, but my code goes back to main right after this step which as you can see, is on the 5th call stack  <a href=\"https://i.stack.imgur.com/wDO2J.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/wDO2J.png</a></p>\n"},{"tags":["java","input","console","java.util.scanner","bufferedreader"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":4,"creation_date":1376684629,"post_id":18281543,"comment_id":26818301,"body_markdown":"Compare `String` values with `String`&#39;s `equals` method, not with `==`, which compares two object references to determine if they refer to the same object.","body":"Compare <code>String</code> values with <code>String</code>&#39;s <code>equals</code> method, not with <code>==</code>, which compares two object references to determine if they refer to the same object."},{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":0,"creation_date":1376684631,"post_id":18281543,"comment_id":26818303,"body_markdown":"First of all, never compare Strings with == in Java.","body":"First of all, never compare Strings with == in Java."},{"owner":{"account_id":3157155,"reputation":369,"user_id":2669308,"accept_rate":100,"display_name":"H J"},"score":0,"creation_date":1376684780,"post_id":18281543,"comment_id":26818365,"body_markdown":"Thanks, &#39;compare strings using the equals method&#39;","body":"Thanks, &#39;compare strings using the equals method&#39;"}],"answers":[{"tags":[],"owner":{"account_id":2903437,"reputation":2489,"user_id":2489497,"accept_rate":100,"display_name":"Caleb Brinkman"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1448063974,"creation_date":1376707288,"answer_id":18284582,"question_id":18281543,"body_markdown":"This works using java.util.Scanner and will take multiple &quot;enter&quot; keystrokes:\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        String readString = scanner.nextLine();\r\n        while(readString!=null) {\r\n            System.out.println(readString);\r\n\r\n            if (readString.isEmpty()) {\r\n                System.out.println(&quot;Read Enter Key.&quot;);\r\n            }\r\n\r\n            if (scanner.hasNextLine()) {\r\n                readString = scanner.nextLine();\r\n            } else {\r\n                readString = null;\r\n            }\r\n        }\r\n\r\nTo break it down:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    String readString = scanner.nextLine();\r\n\r\nThese lines initialize a new ```Scanner``` that is reading from the [standard input stream](https://en.wikipedia.org/wiki/Standard_streams#Standard_input_.28stdin.29) (the keyboard) and reads a single line from it.\r\n\r\n        while(readString!=null) {\r\n            System.out.println(readString);\r\n\r\nWhile the scanner is still returning non-null data, print each line to the screen.\r\n\r\n            if (readString.isEmpty()) {\r\n                System.out.println(&quot;Read Enter Key.&quot;);\r\n            }\r\n\r\nIf the &quot;enter&quot; (or return, or whatever) key is supplied by the input, the ```nextLine()``` method will return an empty string; by checking to see if the string is empty, we can determine whether that key was pressed.  Here the text **Read Enter Key** is printed, but you could perform whatever action you want here.\r\n\r\n            if (scanner.hasNextLine()) {\r\n                readString = scanner.nextLine();\r\n            } else {\r\n                readString = null;\r\n            }\r\n\r\nFinally, after printing the content and/or doing something when the &quot;enter&quot; key is pressed, we check to see if the scanner has another line; for the standard input stream, this method will &quot;block&quot; until either the stream is closed, the execution of the program ends, or further input is supplied.","title":"Java using scanner enter key pressed","body":"<p>This works using java.util.Scanner and will take multiple \"enter\" keystrokes:</p>\n\n<pre><code>    Scanner scanner = new Scanner(System.in);\n    String readString = scanner.nextLine();\n    while(readString!=null) {\n        System.out.println(readString);\n\n        if (readString.isEmpty()) {\n            System.out.println(\"Read Enter Key.\");\n        }\n\n        if (scanner.hasNextLine()) {\n            readString = scanner.nextLine();\n        } else {\n            readString = null;\n        }\n    }\n</code></pre>\n\n<p>To break it down:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nString readString = scanner.nextLine();\n</code></pre>\n\n<p>These lines initialize a new <code>Scanner</code> that is reading from the <a href=\"https://en.wikipedia.org/wiki/Standard_streams#Standard_input_.28stdin.29\" rel=\"noreferrer\">standard input stream</a> (the keyboard) and reads a single line from it.</p>\n\n<pre><code>    while(readString!=null) {\n        System.out.println(readString);\n</code></pre>\n\n<p>While the scanner is still returning non-null data, print each line to the screen.</p>\n\n<pre><code>        if (readString.isEmpty()) {\n            System.out.println(\"Read Enter Key.\");\n        }\n</code></pre>\n\n<p>If the \"enter\" (or return, or whatever) key is supplied by the input, the <code>nextLine()</code> method will return an empty string; by checking to see if the string is empty, we can determine whether that key was pressed.  Here the text <strong>Read Enter Key</strong> is printed, but you could perform whatever action you want here.</p>\n\n<pre><code>        if (scanner.hasNextLine()) {\n            readString = scanner.nextLine();\n        } else {\n            readString = null;\n        }\n</code></pre>\n\n<p>Finally, after printing the content and/or doing something when the \"enter\" key is pressed, we check to see if the scanner has another line; for the standard input stream, this method will \"block\" until either the stream is closed, the execution of the program ends, or further input is supplied.</p>\n"},{"tags":[],"owner":{"account_id":10810768,"reputation":362,"user_id":7951431,"display_name":"priya raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496903681,"creation_date":1496903681,"answer_id":44428295,"question_id":18281543,"body_markdown":"    Scanner scan = new Scanner(System.in);\r\n            int i = scan.nextInt();\r\n            Double d = scan.nextDouble();\r\n            \r\n            \r\n            String newStr = &quot;&quot;;\r\n            Scanner charScanner = new Scanner( System.in ).useDelimiter( &quot;(\\\\b|\\\\B)&quot; ) ;\r\n            while( charScanner.hasNext() ) { \r\n                String  c = charScanner.next();\r\n                \r\n                if (c.equalsIgnoreCase(&quot;\\r&quot;)) {\r\n                \tbreak;\r\n                }\r\n                else {\r\n                \tnewStr += c;\t\r\n                }\r\n            }\r\n            \r\n            System.out.println(&quot;String: &quot; + newStr);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n            System.out.println(&quot;Double: &quot; + d);\r\n\r\nThis code works fine","title":"Java using scanner enter key pressed","body":"<pre><code>Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        Double d = scan.nextDouble();\n\n\n        String newStr = \"\";\n        Scanner charScanner = new Scanner( System.in ).useDelimiter( \"(\\\\b|\\\\B)\" ) ;\n        while( charScanner.hasNext() ) { \n            String  c = charScanner.next();\n\n            if (c.equalsIgnoreCase(\"\\r\")) {\n                break;\n            }\n            else {\n                newStr += c;    \n            }\n        }\n\n        System.out.println(\"String: \" + newStr);\n        System.out.println(\"Int: \" + i);\n        System.out.println(\"Double: \" + d);\n</code></pre>\n\n<p>This code works fine</p>\n"}],"owner":{"account_id":3157155,"reputation":369,"user_id":2669308,"accept_rate":100,"display_name":"H J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169090,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":18284582,"answer_count":2,"score":29,"last_activity_date":1667248466,"creation_date":1376684506,"question_id":18281543,"body_markdown":"I am programming using Java.  \r\nI am trying write code which can recognize if the user presses the enter key in a **console based program.**\r\n\r\nHow can I do this using java. I have been told that this can be done using either Scanner or, buffered input reader. I do not understand(or know how to use) buffered input reader.\r\n\r\nI tried to do do this using scanner but after pressing enter twice the program terminates, and it doesn&#39;t work\r\n\r\n        Scanner readinput = new Scanner(System.in);\r\n\t\t \r\n\t\tString enterkey = &quot;Hola&quot;;\r\n\t\tSystem.out.print(enterkey);\r\n\t\t\r\n\r\n\t\tenterkey = readinput.nextLine();\r\n\t\t System.out.print(enterkey);\r\n\t\t \r\n\t\tif(enterkey == &quot;&quot;){\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;It works!&quot;);\r\n\r\nThanks   \r\n  \r\n-- edit --\r\nthe following code works using the `equals` method for the string instead of `==`\r\n\r\n        Scanner readinput = new Scanner(System.in);\r\n\t\t \r\n\t\tString enterkey = &quot;Hola&quot;;\r\n\t\tSystem.out.print(enterkey);\r\n\t\t\r\n\r\n\t\tenterkey = readinput.nextLine();\r\n\t\t System.out.print(enterkey);\r\n\t\t \r\n\t\tif(enterkey.equals(&quot;&quot;)){\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;It works!&quot;);\r\n \r\n\r\nhow can this be done, and what are the pros to doing this using the buffered input reader?","title":"Java using scanner enter key pressed","body":"<p>I am programming using Java.<br>\nI am trying write code which can recognize if the user presses the enter key in a <strong>console based program.</strong></p>\n\n<p>How can I do this using java. I have been told that this can be done using either Scanner or, buffered input reader. I do not understand(or know how to use) buffered input reader.</p>\n\n<p>I tried to do do this using scanner but after pressing enter twice the program terminates, and it doesn't work</p>\n\n<pre><code>    Scanner readinput = new Scanner(System.in);\n\n    String enterkey = \"Hola\";\n    System.out.print(enterkey);\n\n\n    enterkey = readinput.nextLine();\n     System.out.print(enterkey);\n\n    if(enterkey == \"\"){\n\n        System.out.println(\"It works!\");\n</code></pre>\n\n<p>Thanks   </p>\n\n<p>-- edit --\nthe following code works using the <code>equals</code> method for the string instead of <code>==</code></p>\n\n<pre><code>    Scanner readinput = new Scanner(System.in);\n\n    String enterkey = \"Hola\";\n    System.out.print(enterkey);\n\n\n    enterkey = readinput.nextLine();\n     System.out.print(enterkey);\n\n    if(enterkey.equals(\"\")){\n\n        System.out.println(\"It works!\");\n</code></pre>\n\n<p>how can this be done, and what are the pros to doing this using the buffered input reader?</p>\n"},{"tags":["java","linq","functional-programming","java-8","java-stream"],"answers":[{"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":1,"creation_date":1457988319,"post_id":35992168,"comment_id":59647984,"body_markdown":"@RobertFraser They&#39;re not to be confused","body":"@RobertFraser They&#39;re not to be confused"},{"owner":{"account_id":1421803,"reputation":20663,"user_id":1346276,"accept_rate":70,"display_name":"phipsgabler"},"score":2,"creation_date":1457992458,"post_id":35992168,"comment_id":59650185,"body_markdown":"@RobertFraser The name comes from the [map function](https://en.wikipedia.org/wiki/Map_%28higher-order_function%29) which &quot;maps a function&quot; over (a list of) values.","body":"@RobertFraser The name comes from the <a href=\"https://en.wikipedia.org/wiki/Map_%28higher-order_function%29\" rel=\"nofollow noreferrer\">map function</a> which &quot;maps a function&quot; over (a list of) values."}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":2,"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1457970767,"creation_date":1457970767,"answer_id":35992168,"question_id":35992083,"body_markdown":"You&#39;re looking to [`flatMap`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-) all the values contained in the map:\r\n\r\n    Map&lt;String, List&lt;Tag&gt;&gt; map = new HashMap&lt;&gt;();\r\n    Stream&lt;Tag&gt; stream = map.values().stream().flatMap(List::stream);\r\n\r\nThis code first retrieves all the values of the map as a `Collection&lt;List&lt;Tag&gt;&gt;` with [`values()`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#values--), creates a Stream out of this collection with [`stream()`](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--), and then flat maps each `List&lt;Tag&gt;` into a `Stream` with the method reference `List::stream`.","title":"Java Stream equivalent of LINQ SelectMany()","body":"<p>You're looking to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"noreferrer\"><code>flatMap</code></a> all the values contained in the map:</p>\n\n<pre><code>Map&lt;String, List&lt;Tag&gt;&gt; map = new HashMap&lt;&gt;();\nStream&lt;Tag&gt; stream = map.values().stream().flatMap(List::stream);\n</code></pre>\n\n<p>This code first retrieves all the values of the map as a <code>Collection&lt;List&lt;Tag&gt;&gt;</code> with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#values--\" rel=\"noreferrer\"><code>values()</code></a>, creates a Stream out of this collection with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--\" rel=\"noreferrer\"><code>stream()</code></a>, and then flat maps each <code>List&lt;Tag&gt;</code> into a <code>Stream</code> with the method reference <code>List::stream</code>.</p>\n"},{"tags":[],"owner":{"account_id":19560421,"reputation":13,"user_id":18470394,"display_name":"Taras Bilyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667248254,"creation_date":1666635541,"answer_id":74185235,"question_id":35992083,"body_markdown":"If you&#39;re just looking for simple SelectMany:\r\n\r\n    tags.stream().map(x -&gt; x.Values).flatMap(List::stream).collect(Collectors.toList());","title":"Java Stream equivalent of LINQ SelectMany()","body":"<p>If you're just looking for simple SelectMany:</p>\n<pre><code>tags.stream().map(x -&gt; x.Values).flatMap(List::stream).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":43031,"reputation":10689,"user_id":125601,"accept_rate":90,"display_name":"Robert Fraser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7944,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":35992168,"answer_count":2,"score":14,"last_activity_date":1667248254,"creation_date":1457970555,"question_id":35992083,"body_markdown":"What&#39;s the [Java 8 Stream](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) equivalent of LINQ&#39;s [SelectMany](https://msdn.microsoft.com/library/bb534336(v=vs.100).aspx)?\r\n\r\nFor example, in C#, if I have `Dictionary&lt;string, List&lt;Tag&gt;&gt; tags` that I want to turn into an `IEnumerable&lt;Tag&gt;` (a flat enumerable of all the tags in the dictionary), I would do `tags.SelectMany(kvp =&gt; kvp.Value)`.\r\n\r\nIs there a Java equivalent for a `Map&lt;String, List&lt;Tag&gt;&gt;` that would yield a `Stream&lt;Tag&gt;`?","title":"Java Stream equivalent of LINQ SelectMany()","body":"<p>What's the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\">Java 8 Stream</a> equivalent of LINQ's <a href=\"https://msdn.microsoft.com/library/bb534336(v=vs.100).aspx\" rel=\"noreferrer\">SelectMany</a>?</p>\n\n<p>For example, in C#, if I have <code>Dictionary&lt;string, List&lt;Tag&gt;&gt; tags</code> that I want to turn into an <code>IEnumerable&lt;Tag&gt;</code> (a flat enumerable of all the tags in the dictionary), I would do <code>tags.SelectMany(kvp =&gt; kvp.Value)</code>.</p>\n\n<p>Is there a Java equivalent for a <code>Map&lt;String, List&lt;Tag&gt;&gt;</code> that would yield a <code>Stream&lt;Tag&gt;</code>?</p>\n"},{"tags":["java","android","countdowntimer"],"comments":[{"owner":{"account_id":1739024,"reputation":4902,"user_id":1590950,"display_name":"indivisible"},"score":0,"creation_date":1398604999,"post_id":23323823,"comment_id":35711891,"body_markdown":"Is 55 milliseconds such a big problem? It&#39;s 1/20th of a second off. Most people would not be able to discern the difference.","body":"Is 55 milliseconds such a big problem? It&#39;s 1/20th of a second off. Most people would not be able to discern the difference."},{"owner":{"account_id":345298,"reputation":743,"user_id":678123,"display_name":"Greg"},"score":0,"creation_date":1398611767,"post_id":23323823,"comment_id":35713936,"body_markdown":"If it&#39;s consistently slow by about 55 milliseconds, and never greater than 120000ms, then that&#39;s probably how long it takes to call on onTick method.  Just round it up.","body":"If it&#39;s consistently slow by about 55 milliseconds, and never greater than 120000ms, then that&#39;s probably how long it takes to call on onTick method.  Just round it up."},{"owner":{"display_name":"user762579"},"score":0,"creation_date":1398631201,"post_id":23323823,"comment_id":35721010,"body_markdown":"thanks ... problem is not accuracy , but reusing the value for audio notification,  so I guess rounding is the solution as Greg mentioned... 120000ms is &quot;2 minutes&quot; audio message... 119945 is not ...","body":"thanks ... problem is not accuracy , but reusing the value for audio notification,  so I guess rounding is the solution as Greg mentioned... 120000ms is &quot;2 minutes&quot; audio message... 119945 is not ..."}],"answers":[{"comments":[{"owner":{"account_id":1357271,"reputation":1950,"user_id":1295419,"accept_rate":69,"display_name":"Sermilion"},"score":0,"creation_date":1471628960,"post_id":32554107,"comment_id":65439660,"body_markdown":"Man, you are amazing) You might be the reason I ll get my new job as I was doing a test assignment )))","body":"Man, you are amazing) You might be the reason I ll get my new job as I was doing a test assignment )))"},{"owner":{"account_id":14397383,"reputation":81,"user_id":10400229,"display_name":"Kiwan Park"},"score":0,"creation_date":1613583769,"post_id":32554107,"comment_id":117122083,"body_markdown":"Thankyou very much! you save my life!","body":"Thankyou very much! you save my life!"}],"tags":[],"owner":{"account_id":1618695,"reputation":1114,"user_id":1495726,"accept_rate":92,"display_name":"Noam Gal"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1442175256,"creation_date":1442175256,"answer_id":32554107,"question_id":23323823,"body_markdown":"I know it&#39;s an old question- but I&#39;ve also encountered the problem, and thought I would share my solution.\r\n\r\nApperantly CountDownTimer isn&#39;t very accurate, so I&#39;ve decided to implement a more percise countdown timer, using java.util.Timer:\r\n\r\n\r\n    public abstract class PreciseCountdown extends Timer {\r\n        private long totalTime, interval, delay;\r\n        private TimerTask task;\r\n        private long startTime = -1;\r\n        private boolean restart = false, wasCancelled = false, wasStarted = false;\r\n    \r\n        public PreciseCountdown(long totalTime, long interval) {\r\n            this(totalTime, interval, 0);\r\n        }\r\n    \r\n        public PreciseCountdown(long totalTime, long interval, long delay) {\r\n            super(&quot;PreciseCountdown&quot;, true);\r\n            this.delay = delay;\r\n            this.interval = interval;\r\n            this.totalTime = totalTime;\r\n            this.task = getTask(totalTime);\r\n        }\r\n    \r\n        public void start() {\r\n            wasStarted = true;\r\n            this.scheduleAtFixedRate(task, delay, interval);\r\n        }\r\n    \r\n        public void restart() {\r\n            if(!wasStarted) {\r\n                start();\r\n            }\r\n            else if(wasCancelled) {\r\n                wasCancelled = false;\r\n                this.task = getTask(totalTime);\r\n                start();\r\n            }\r\n            else{\r\n                this.restart = true;\r\n            }\r\n        }\r\n    \r\n        public void stop() {\r\n            this.wasCancelled = true;\r\n            this.task.cancel();\r\n        }\r\n    \r\n        // Call this when there&#39;s no further use for this timer\r\n        public void dispose(){\r\n            cancel();\r\n            purge();\r\n        }\r\n    \r\n        private TimerTask getTask(final long totalTime) {\r\n            return new TimerTask() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    long timeLeft;\r\n                    if (startTime &lt; 0 || restart) {\r\n                        startTime = scheduledExecutionTime();\r\n                        timeLeft = totalTime;\r\n                        restart = false;\r\n                    } else {\r\n                        timeLeft = totalTime - (scheduledExecutionTime() - startTime);\r\n    \r\n                        if (timeLeft &lt;= 0) {\r\n                            this.cancel();\r\n                            startTime = -1;\r\n                            onFinished();\r\n                            return;\r\n                        }\r\n                    }\r\n    \r\n                    onTick(timeLeft);\r\n                }\r\n            };\r\n        }\r\n    \r\n        public abstract void onTick(long timeLeft);\r\n        public abstract void onFinished();\r\n    }\r\n\r\n\r\nUsage example would be:\r\n\r\n\r\n    this.countDown = new PreciseCountdown(totalTime, interval, delay) {\r\n        @Override\r\n        public void onTick(long timeLeft) {\r\n            // update..\r\n            // note that this runs on a different thread, so to update any GUI components you need to use Activity.runOnUiThread()\r\n        }\r\n\r\n        @Override\r\n        public void onFinished() {\r\n            onTick(0); // when the timer finishes onTick isn&#39;t called\r\n            // count down is finished\r\n        }\r\n    };\r\n\r\nto start the countdown, simply call countDown.start().\r\ncountDown.stop() stops the countDown, which could be restarted using countDown.restart().\r\n\r\n\r\nHope this is any help for anyone in the future.","title":"android countdowntimer tick is not accurate","body":"<p>I know it's an old question- but I've also encountered the problem, and thought I would share my solution.</p>\n\n<p>Apperantly CountDownTimer isn't very accurate, so I've decided to implement a more percise countdown timer, using java.util.Timer:</p>\n\n<pre><code>public abstract class PreciseCountdown extends Timer {\n    private long totalTime, interval, delay;\n    private TimerTask task;\n    private long startTime = -1;\n    private boolean restart = false, wasCancelled = false, wasStarted = false;\n\n    public PreciseCountdown(long totalTime, long interval) {\n        this(totalTime, interval, 0);\n    }\n\n    public PreciseCountdown(long totalTime, long interval, long delay) {\n        super(\"PreciseCountdown\", true);\n        this.delay = delay;\n        this.interval = interval;\n        this.totalTime = totalTime;\n        this.task = getTask(totalTime);\n    }\n\n    public void start() {\n        wasStarted = true;\n        this.scheduleAtFixedRate(task, delay, interval);\n    }\n\n    public void restart() {\n        if(!wasStarted) {\n            start();\n        }\n        else if(wasCancelled) {\n            wasCancelled = false;\n            this.task = getTask(totalTime);\n            start();\n        }\n        else{\n            this.restart = true;\n        }\n    }\n\n    public void stop() {\n        this.wasCancelled = true;\n        this.task.cancel();\n    }\n\n    // Call this when there's no further use for this timer\n    public void dispose(){\n        cancel();\n        purge();\n    }\n\n    private TimerTask getTask(final long totalTime) {\n        return new TimerTask() {\n\n            @Override\n            public void run() {\n                long timeLeft;\n                if (startTime &lt; 0 || restart) {\n                    startTime = scheduledExecutionTime();\n                    timeLeft = totalTime;\n                    restart = false;\n                } else {\n                    timeLeft = totalTime - (scheduledExecutionTime() - startTime);\n\n                    if (timeLeft &lt;= 0) {\n                        this.cancel();\n                        startTime = -1;\n                        onFinished();\n                        return;\n                    }\n                }\n\n                onTick(timeLeft);\n            }\n        };\n    }\n\n    public abstract void onTick(long timeLeft);\n    public abstract void onFinished();\n}\n</code></pre>\n\n<p>Usage example would be:</p>\n\n<pre><code>this.countDown = new PreciseCountdown(totalTime, interval, delay) {\n    @Override\n    public void onTick(long timeLeft) {\n        // update..\n        // note that this runs on a different thread, so to update any GUI components you need to use Activity.runOnUiThread()\n    }\n\n    @Override\n    public void onFinished() {\n        onTick(0); // when the timer finishes onTick isn't called\n        // count down is finished\n    }\n};\n</code></pre>\n\n<p>to start the countdown, simply call countDown.start().\ncountDown.stop() stops the countDown, which could be restarted using countDown.restart().</p>\n\n<p>Hope this is any help for anyone in the future.</p>\n"},{"comments":[{"owner":{"account_id":1212023,"reputation":1487,"user_id":1180397,"display_name":"Cardinal"},"score":1,"creation_date":1667596408,"post_id":56248619,"comment_id":131212446,"body_markdown":"`millisUntilFinished` is correct (corresponds to the remaining millis at the moment when `onTick()` is called).\nThe problem is that `onTick()` is called at the not accurate time and your approach doesn&#39;t address it.","body":"<code>millisUntilFinished</code> is correct (corresponds to the remaining millis at the moment when <code>onTick()</code> is called). The problem is that <code>onTick()</code> is called at the not accurate time and your approach doesn&#39;t address it."}],"tags":[],"owner":{"account_id":7214033,"reputation":4553,"user_id":5507158,"display_name":"Dewey Reed"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1558493195,"creation_date":1558493195,"answer_id":56248619,"question_id":23323823,"body_markdown":"Instead of using `millisUntilFinished`, you can use a variable to hold the remaining time and in every `onTick`, minus the variable with the interval. In this way, `remainingTime` is always accurate.\r\n\r\n```kotlin\r\nprivate class MyTimer(\r\n    countDownTime: Long, \r\n    interval: Long\r\n) : CountDownTimer(countDownTime, interval) {\r\n\r\n    private var remainingTime = countDownTime\r\n\r\n    override fun onFinish() {\r\n    }\r\n\r\n    override fun onTick(millisUntilFinished: Long) {\r\n        // consume remainingTime here and then minus interval\r\n        remainingTime -= interval\r\n    }\r\n}\r\n```","title":"android countdowntimer tick is not accurate","body":"<p>Instead of using <code>millisUntilFinished</code>, you can use a variable to hold the remaining time and in every <code>onTick</code>, minus the variable with the interval. In this way, <code>remainingTime</code> is always accurate.</p>\n\n<pre><code>private class MyTimer(\n    countDownTime: Long, \n    interval: Long\n) : CountDownTimer(countDownTime, interval) {\n\n    private var remainingTime = countDownTime\n\n    override fun onFinish() {\n    }\n\n    override fun onTick(millisUntilFinished: Long) {\n        // consume remainingTime here and then minus interval\n        remainingTime -= interval\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15755316,"reputation":123,"user_id":11368662,"display_name":"MrStruggles"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613645630,"creation_date":1613645630,"answer_id":66258507,"question_id":23323823,"body_markdown":"This is an extension on what Noam Gal posted. I added extra functionality where you can pause and resume the timer. This was very helpful in my case.\r\n\r\n    public abstract class PreciseCountdownTimer extends Timer {\r\n    \r\n        private long totalTime, interval, delay;\r\n        private TimerTask task;\r\n        private long startTime = -1;\r\n        private long timeLeft;\r\n        private boolean restart = false;\r\n        private boolean wasCancelled = false;\r\n        private boolean wasStarted = false;\r\n    \r\n        public PreciseCountdownTimer(long totalTime, long interval) {\r\n            this(totalTime, interval, 0);\r\n        }\r\n    \r\n    \r\n        public PreciseCountdownTimer(long totalTime, long interval, long delay ) {\r\n            super(&quot;PreciseCountdownTimer&quot;, true);\r\n            this.delay = delay;\r\n            this.interval = interval;\r\n            this.totalTime = totalTime;\r\n            this.task = buildTask(totalTime);\r\n        }\r\n    \r\n        private TimerTask buildTask(final long totalTime) {\r\n            return new TimerTask() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    if (startTime &lt; 0 || restart) {\r\n                        startTime = scheduledExecutionTime();\r\n                        timeLeft = totalTime;\r\n                        restart = false;\r\n                    } else {\r\n                        timeLeft = totalTime - (scheduledExecutionTime() - startTime);\r\n    \r\n                        if (timeLeft &lt;= 0) {\r\n                            this.cancel();\r\n                            wasCancelled = true;\r\n                            startTime = -1;\r\n                            onFinished();\r\n                            return;\r\n                        }\r\n                    }\r\n    \r\n                    onTick(timeLeft);\r\n                }\r\n            };\r\n        }\r\n    \r\n        public void start() {\r\n            wasStarted = true;\r\n            this.scheduleAtFixedRate(task, delay, interval);\r\n        }\r\n    \r\n        public void stop() {\r\n            this.wasCancelled = true;\r\n            this.task.cancel();\r\n        }\r\n    \r\n        public void restart() {\r\n            if (!wasStarted) {\r\n                start();\r\n            } else if (wasCancelled) {\r\n                wasCancelled = false;\r\n                this.task = buildTask(totalTime);\r\n                start();\r\n            } else {\r\n                this.restart = true;\r\n            }\r\n        }\r\n    \r\n        public void pause(){\r\n            wasCancelled = true;\r\n            this.task.cancel();\r\n            onPaused();\r\n        }\r\n    \r\n        public void resume(){\r\n            wasCancelled = false;\r\n            this.task = buildTask(timeLeft);\r\n            this.startTime = - 1;\r\n            start();\r\n            onResumed();\r\n        }\r\n    \r\n        // Call this when there&#39;s no further use for this timer\r\n        public void dispose() {\r\n            this.cancel();\r\n            this.purge();\r\n        }\r\n    \r\n        public abstract void onTick(long timeLeft);\r\n    \r\n        public abstract void onFinished();\r\n    \r\n        public abstract void onPaused();\r\n    \r\n        public abstract void onResumed();\r\n    }\r\n\r\nUsage example would be almost exactly the same:\r\n\r\n    this.timer = new PreciseCountdownTimer(totalTime, interval, delay) {\r\n                @Override\r\n                public void onTick(long timeLeft) {\r\n                    // note that this runs on a different thread, so to update any GUI components you need to use Activity.runOnUiThread()\r\n                }\r\n    \r\n                @Override\r\n                public void onFinished() {\r\n                    onTick(0); // when the timer finishes onTick isn&#39;t called\r\n                    // count down is finished\r\n                }\r\n    \r\n                @Override\r\n                public void onPaused() {\r\n                    // runs after the timer has been paused\r\n                }\r\n    \r\n                @Override\r\n                public void onResumed() {\r\n                    // runs after the timer has been resumed\r\n                }\r\n            };\r\n\r\nEnjoy and have fun :D","title":"android countdowntimer tick is not accurate","body":"<p>This is an extension on what Noam Gal posted. I added extra functionality where you can pause and resume the timer. This was very helpful in my case.</p>\n<pre><code>public abstract class PreciseCountdownTimer extends Timer {\n\n    private long totalTime, interval, delay;\n    private TimerTask task;\n    private long startTime = -1;\n    private long timeLeft;\n    private boolean restart = false;\n    private boolean wasCancelled = false;\n    private boolean wasStarted = false;\n\n    public PreciseCountdownTimer(long totalTime, long interval) {\n        this(totalTime, interval, 0);\n    }\n\n\n    public PreciseCountdownTimer(long totalTime, long interval, long delay ) {\n        super(&quot;PreciseCountdownTimer&quot;, true);\n        this.delay = delay;\n        this.interval = interval;\n        this.totalTime = totalTime;\n        this.task = buildTask(totalTime);\n    }\n\n    private TimerTask buildTask(final long totalTime) {\n        return new TimerTask() {\n\n            @Override\n            public void run() {\n                if (startTime &lt; 0 || restart) {\n                    startTime = scheduledExecutionTime();\n                    timeLeft = totalTime;\n                    restart = false;\n                } else {\n                    timeLeft = totalTime - (scheduledExecutionTime() - startTime);\n\n                    if (timeLeft &lt;= 0) {\n                        this.cancel();\n                        wasCancelled = true;\n                        startTime = -1;\n                        onFinished();\n                        return;\n                    }\n                }\n\n                onTick(timeLeft);\n            }\n        };\n    }\n\n    public void start() {\n        wasStarted = true;\n        this.scheduleAtFixedRate(task, delay, interval);\n    }\n\n    public void stop() {\n        this.wasCancelled = true;\n        this.task.cancel();\n    }\n\n    public void restart() {\n        if (!wasStarted) {\n            start();\n        } else if (wasCancelled) {\n            wasCancelled = false;\n            this.task = buildTask(totalTime);\n            start();\n        } else {\n            this.restart = true;\n        }\n    }\n\n    public void pause(){\n        wasCancelled = true;\n        this.task.cancel();\n        onPaused();\n    }\n\n    public void resume(){\n        wasCancelled = false;\n        this.task = buildTask(timeLeft);\n        this.startTime = - 1;\n        start();\n        onResumed();\n    }\n\n    // Call this when there's no further use for this timer\n    public void dispose() {\n        this.cancel();\n        this.purge();\n    }\n\n    public abstract void onTick(long timeLeft);\n\n    public abstract void onFinished();\n\n    public abstract void onPaused();\n\n    public abstract void onResumed();\n}\n</code></pre>\n<p>Usage example would be almost exactly the same:</p>\n<pre><code>this.timer = new PreciseCountdownTimer(totalTime, interval, delay) {\n            @Override\n            public void onTick(long timeLeft) {\n                // note that this runs on a different thread, so to update any GUI components you need to use Activity.runOnUiThread()\n            }\n\n            @Override\n            public void onFinished() {\n                onTick(0); // when the timer finishes onTick isn't called\n                // count down is finished\n            }\n\n            @Override\n            public void onPaused() {\n                // runs after the timer has been paused\n            }\n\n            @Override\n            public void onResumed() {\n                // runs after the timer has been resumed\n            }\n        };\n</code></pre>\n<p>Enjoy and have fun :D</p>\n"},{"tags":[],"owner":{"account_id":1212023,"reputation":1487,"user_id":1180397,"display_name":"Cardinal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667247513,"creation_date":1667247513,"answer_id":74268712,"question_id":23323823,"body_markdown":"That&#39;s true and I observed the same behaviour (logging `millisUntilFinished`):\r\n```\r\n9999        // 1 ms lag\r\n8997        // 3 ms lag\r\n7995        // 5 ms lag\r\n6993        // 7 ms lag\r\n5991        // 9 ms lag\r\n4987        // 13 ms lag\r\n3985        // 15 ms lag\r\n2979        // 21 ms lag\r\n1975        // 25 ms lag\r\n971         // 29 ms lag\r\n```\r\n\r\nThe reason is that it&#39;s implementation doesn&#39;t take into account the time a message stays in thread&#39;s message queue and the time needed for synchronization.\r\n\r\nI prepared the fixed version ([repo](https://github.com/cardinalby/accurate-count-down-timer), [class source](https://github.com/cardinalby/accurate-count-down-timer/blob/main/accurate-countdown-timer/src/main/java/com/github/cardinalby/accuratecountdowntimer/AccurateCountDownTimer.java)).\r\n\r\nIt prints the following sequence:\r\n```\r\n9999        // 1 ms lag\r\n8999        // 1 ms lag\r\n7999        // 1 ms lag\r\n6997        // 3 ms lag\r\n5997        // 3 ms lag\r\n4998        // 2 ms lag\r\n3997        // 3 ms lag\r\n2998        // 2 ms lag\r\n1997        // 3 ms lag\r\n997         // 3 ms lag\r\n```\r\nSmall lag is still here, but the most important thing is that it doesn&#39;t accumulate.\r\n\r\nTo install it add in your root build.gradle at the end of repositories:\r\n\r\n```\r\nallprojects {\r\n    repositories {\r\n        ...\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n}\r\n```\r\n\r\nAdd the dependency:\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;com.github.cardinalby:accurate-count-down-timer:1.0&#39;\r\n}\r\n```","title":"android countdowntimer tick is not accurate","body":"<p>That's true and I observed the same behaviour (logging <code>millisUntilFinished</code>):</p>\n<pre><code>9999        // 1 ms lag\n8997        // 3 ms lag\n7995        // 5 ms lag\n6993        // 7 ms lag\n5991        // 9 ms lag\n4987        // 13 ms lag\n3985        // 15 ms lag\n2979        // 21 ms lag\n1975        // 25 ms lag\n971         // 29 ms lag\n</code></pre>\n<p>The reason is that it's implementation doesn't take into account the time a message stays in thread's message queue and the time needed for synchronization.</p>\n<p>I prepared the fixed version (<a href=\"https://github.com/cardinalby/accurate-count-down-timer\" rel=\"nofollow noreferrer\">repo</a>, <a href=\"https://github.com/cardinalby/accurate-count-down-timer/blob/main/accurate-countdown-timer/src/main/java/com/github/cardinalby/accuratecountdowntimer/AccurateCountDownTimer.java\" rel=\"nofollow noreferrer\">class source</a>).</p>\n<p>It prints the following sequence:</p>\n<pre><code>9999        // 1 ms lag\n8999        // 1 ms lag\n7999        // 1 ms lag\n6997        // 3 ms lag\n5997        // 3 ms lag\n4998        // 2 ms lag\n3997        // 3 ms lag\n2998        // 2 ms lag\n1997        // 3 ms lag\n997         // 3 ms lag\n</code></pre>\n<p>Small lag is still here, but the most important thing is that it doesn't accumulate.</p>\n<p>To install it add in your root build.gradle at the end of repositories:</p>\n<pre><code>allprojects {\n    repositories {\n        ...\n        maven { url 'https://jitpack.io' }\n    }\n}\n</code></pre>\n<p>Add the dependency:</p>\n<pre><code>dependencies {\n    implementation 'com.github.cardinalby:accurate-count-down-timer:1.0'\n}\n</code></pre>\n"}],"owner":{"display_name":"user762579"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4697,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":32554107,"answer_count":4,"score":10,"last_activity_date":1667247513,"creation_date":1398604118,"question_id":23323823,"body_markdown":"I am using a countdown timer for audio notification... and it&#39;s not accurate from the start...\r\n\r\nusing initial parameters \r\n\r\n\tprivate final long startCountDown; \r\n\tprivate final long intervalCountDown;\r\n        ...\r\n        startCountDown = 180 * 1000;   // 3 mns  - to be set from Preferences later\r\n\tintervalCountDown = 60 * 1000;   // 1 mns - to be set from Preferences later\r\n        ...\r\n        public void onTick(long millisUntilFinished) {\r\n           Log.d(TAG, &quot;notify countDown: &quot; + millisUntilFinished + &quot; msecs&quot;);\r\n        }\r\n\r\n\r\n        countDownTimer = new SwimCountDownTimer(startCountDown,intervalCountDown);\r\n        ....\r\n        \r\n\tpublic void startCountDown() {\r\n\t\tLog.d(TAG, &quot;start countDown for &quot; + startCountDown + &quot; msecs&quot; );\r\n\t\tcountDownTimer.start();\r\n\t}\r\n        \r\nI can see in the log that the initial countdown is correctly set to  180000 but the next one should be 120000 and it&#39;s set to 119945 !!!\r\n\r\n    04-27 14:50:42.146: I/SWIMMER(8670): notify countDown: 180000 msecs\r\n    04-27 14:51:42.206: I/SWIMMER(8670): notify countDown: 119945 msecs\r\n\r\nThis is quite annoying as the audio notifier is expecting to say only &#39;2 minutes&quot; and not &quot;1 minute and fifty nine seconds&quot;  ...;  why the interval is not right ... ?\r\nI can tricj it in setting myself the text to speech string ... but is there any way to get correct data ?\r\n\r\nthanks for suggestions \r\n\r\n\r\n\r\n\r\n","title":"android countdowntimer tick is not accurate","body":"<p>I am using a countdown timer for audio notification... and it's not accurate from the start...</p>\n\n<p>using initial parameters </p>\n\n<pre><code>private final long startCountDown; \nprivate final long intervalCountDown;\n    ...\n    startCountDown = 180 * 1000;   // 3 mns  - to be set from Preferences later\nintervalCountDown = 60 * 1000;   // 1 mns - to be set from Preferences later\n    ...\n    public void onTick(long millisUntilFinished) {\n       Log.d(TAG, \"notify countDown: \" + millisUntilFinished + \" msecs\");\n    }\n\n\n    countDownTimer = new SwimCountDownTimer(startCountDown,intervalCountDown);\n    ....\n\npublic void startCountDown() {\n    Log.d(TAG, \"start countDown for \" + startCountDown + \" msecs\" );\n    countDownTimer.start();\n}\n</code></pre>\n\n<p>I can see in the log that the initial countdown is correctly set to  180000 but the next one should be 120000 and it's set to 119945 !!!</p>\n\n<pre><code>04-27 14:50:42.146: I/SWIMMER(8670): notify countDown: 180000 msecs\n04-27 14:51:42.206: I/SWIMMER(8670): notify countDown: 119945 msecs\n</code></pre>\n\n<p>This is quite annoying as the audio notifier is expecting to say only '2 minutes\" and not \"1 minute and fifty nine seconds\"  ...;  why the interval is not right ... ?\nI can tricj it in setting myself the text to speech string ... but is there any way to get correct data ?</p>\n\n<p>thanks for suggestions </p>\n"},{"tags":["java","methods","overriding"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1659691709,"post_id":73247507,"comment_id":129359569,"body_markdown":"if you don&#39;t extend the class, it&#39;s not a parent class. but why on earth would &#39;Player&#39; extend JLabel? that makes no sense at all. You should read up on when to use inheritance, and when to use composition. Personally: I see no reason why an actual Player would even be related to a JLabel.","body":"if you don&#39;t extend the class, it&#39;s not a parent class. but why on earth would &#39;Player&#39; extend JLabel? that makes no sense at all. You should read up on when to use inheritance, and when to use composition. Personally: I see no reason why an actual Player would even be related to a JLabel."},{"owner":{"account_id":25368963,"reputation":73,"user_id":19183108,"display_name":"Iyad"},"score":0,"creation_date":1659691791,"post_id":73247507,"comment_id":129359598,"body_markdown":"The class which will have the Update Method is a JFrame class, and I just want my code to be neat which will be something like this ``` this.add(new Player(x,y,width,height);```","body":"The class which will have the Update Method is a JFrame class, and I just want my code to be neat which will be something like this ``` this.add(new Player(x,y,width,height);```"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1659691907,"post_id":73247507,"comment_id":129359626,"body_markdown":"@Lyad be that as it may, it makes no sense to have Player inherit from any of them. to me, a Player is a class that contains the functionalities to actually play the audio. Then, you have a PlayerUI, which HAS a player (composition) attached, and HAS JLabels and such, it won&#39;t extend it","body":"@Lyad be that as it may, it makes no sense to have Player inherit from any of them. to me, a Player is a class that contains the functionalities to actually play the audio. Then, you have a PlayerUI, which HAS a player (composition) attached, and HAS JLabels and such, it won&#39;t extend it"},{"owner":{"account_id":2128241,"reputation":3579,"user_id":1889768,"accept_rate":85,"display_name":"Abbas"},"score":0,"creation_date":1659693042,"post_id":73247507,"comment_id":129360017,"body_markdown":"To answer the question, No! However you can use reflection to change a function behavior at run time, whether or not that helps you in any way, I&#39;m not sure and don&#39;t recommend it.","body":"To answer the question, No! However you can use reflection to change a function behavior at run time, whether or not that helps you in any way, I&#39;m not sure and don&#39;t recommend it."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1659693192,"post_id":73247507,"comment_id":129360066,"body_markdown":"btw: __never-ever__ do any manual sizing/locating of a component! Instead use a suitable layoutManager and implement the sizing constraints","body":"btw: <b>never-ever</b> do any manual sizing/locating of a component! Instead use a suitable layoutManager and implement the sizing constraints"},{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":1,"creation_date":1659694063,"post_id":73247507,"comment_id":129360354,"body_markdown":"This looks like an [XY Problem](https://en.wikipedia.org/wiki/XY_problem). Maybe you should add some context so we could see if another structure is more suited here and prevent your strange need.","body":"This looks like an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY Problem</a>. Maybe you should add some context so we could see if another structure is more suited here and prevent your strange need."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659703155,"post_id":73247507,"comment_id":129363516,"body_markdown":"You say you want to override the update method of the JFrame class.  Sure, you can.  Just create a class MyFrame that extends JFrame and override the method.  Then use MyFrame for your app instead of JFrame.","body":"You say you want to override the update method of the JFrame class.  Sure, you can.  Just create a class MyFrame that extends JFrame and override the method.  Then use MyFrame for your app instead of JFrame."}],"answers":[{"comments":[{"owner":{"account_id":25368963,"reputation":73,"user_id":19183108,"display_name":"Iyad"},"score":0,"creation_date":1659775981,"post_id":73247811,"comment_id":129378635,"body_markdown":"Thank you I think this will work, but I dont understand what you meant by choosing a null layout and placing the components directly on the container.","body":"Thank you I think this will work, but I dont understand what you meant by choosing a null layout and placing the components directly on the container."}],"tags":[],"owner":{"account_id":23568015,"reputation":136,"user_id":17608510,"display_name":"John"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659693745,"creation_date":1659692880,"answer_id":73247811,"question_id":73247507,"body_markdown":"The short answer is probably no. You can/have to override methods that are declared in an implemented Interface or super class. So if the method you want to override is not declared in the JLabel class or a super class of JLabel, you will not be able to override (because you can&#39;t override what is not even written).\r\n\r\nIf you just want to use the icon functionality of JLabel, this would be a better approach than directly extending from it:\r\n\r\n    public class Player {\r\n    \r\n        private ImageIcon playerIcon = new ImageIcon(&quot;PATH TO ICON&quot;);\r\n        private JLabel icon = new JLabel(playerIcon);\r\n        \r\n        public Player() {\r\n            // DO YOUR STUFF HERE\r\n        }\r\n        \r\n        public void setPlayerPosition(int x, int y, int width, int height) {\r\n            icon.setBounds(x, y, width, height);\r\n        }\r\n        \r\n        public Point getPlayerPosition() {\r\n            return icon.getLocation();\r\n        }\r\n    }\r\n\r\nI don&#39;t recommend using a NULL Layout and placing the components directly on the container, but this is a different topic\r\n\r\nBecause of the lack of information about what you exactly want to achieve, it is hard to give you advice how to achieve it. Specify your question, provide more code and information about the structure.","title":"Is there a way to ovveride a method without extending the parent class?","body":"<p>The short answer is probably no. You can/have to override methods that are declared in an implemented Interface or super class. So if the method you want to override is not declared in the JLabel class or a super class of JLabel, you will not be able to override (because you can't override what is not even written).</p>\n<p>If you just want to use the icon functionality of JLabel, this would be a better approach than directly extending from it:</p>\n<pre><code>public class Player {\n\n    private ImageIcon playerIcon = new ImageIcon(&quot;PATH TO ICON&quot;);\n    private JLabel icon = new JLabel(playerIcon);\n    \n    public Player() {\n        // DO YOUR STUFF HERE\n    }\n    \n    public void setPlayerPosition(int x, int y, int width, int height) {\n        icon.setBounds(x, y, width, height);\n    }\n    \n    public Point getPlayerPosition() {\n        return icon.getLocation();\n    }\n}\n</code></pre>\n<p>I don't recommend using a NULL Layout and placing the components directly on the container, but this is a different topic</p>\n<p>Because of the lack of information about what you exactly want to achieve, it is hard to give you advice how to achieve it. Specify your question, provide more code and information about the structure.</p>\n"}],"owner":{"account_id":25368963,"reputation":73,"user_id":19183108,"display_name":"Iyad"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73247811,"answer_count":1,"score":0,"last_activity_date":1667247308,"creation_date":1659691524,"question_id":73247507,"body_markdown":"I have a player class which extends a JLabel\r\n```\r\npublic class Player extends JLabel\r\n{\r\n\tpublic Player(int x,int y,int width,int height) throws IOException \r\n\t{\r\n\t\tthis.setBounds(x, y, width, height);\r\n\t\tImageIcon icon = new ImageIcon(ImageIO.read(new File(&quot;Resources/Player.png&quot;)));\r\n\t\tthis.setIcon(icon);\r\n\t}\r\n}\r\n```\r\nand I wanna override an Update method from a parent class to implement physics for the player but I have to extend the parent class which I cant do cause I already extended the JLabel, any help will be appreciated.","title":"Is there a way to ovveride a method without extending the parent class?","body":"<p>I have a player class which extends a JLabel</p>\n<pre><code>public class Player extends JLabel\n{\n    public Player(int x,int y,int width,int height) throws IOException \n    {\n        this.setBounds(x, y, width, height);\n        ImageIcon icon = new ImageIcon(ImageIO.read(new File(&quot;Resources/Player.png&quot;)));\n        this.setIcon(icon);\n    }\n}\n</code></pre>\n<p>and I wanna override an Update method from a parent class to implement physics for the player but I have to extend the parent class which I cant do cause I already extended the JLabel, any help will be appreciated.</p>\n"},{"tags":["java","android-studio","uri"],"answers":[{"tags":[],"owner":{"account_id":6918787,"reputation":1768,"user_id":5312102,"display_name":"atarasenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667246582,"creation_date":1667246582,"answer_id":74268598,"question_id":74243212,"body_markdown":"The line \r\n```\r\ndonation image = new donation(uri.toString());\r\n```\r\nwill create a new donation from String. Probably this is not what is wanted. If the goal is to set `imageUrl` after the image is uploaded, then replace this line with:\r\n```\r\nDonation.setImageUrl(uri.toString());\r\n```\r\n\r\nAnd in donation.java, add setter for imageUrl:\r\n```\r\npublic void setImageUrl(String url) {\r\n    this.imageUrl = url;\r\n}\r\n```","title":"How can i store uri.toString to my java class?","body":"<p>The line</p>\n<pre><code>donation image = new donation(uri.toString());\n</code></pre>\n<p>will create a new donation from String. Probably this is not what is wanted. If the goal is to set <code>imageUrl</code> after the image is uploaded, then replace this line with:</p>\n<pre><code>Donation.setImageUrl(uri.toString());\n</code></pre>\n<p>And in donation.java, add setter for imageUrl:</p>\n<pre><code>public void setImageUrl(String url) {\n    this.imageUrl = url;\n}\n</code></pre>\n"}],"owner":{"account_id":26673003,"reputation":3,"user_id":20284182,"display_name":"JMT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74268598,"answer_count":1,"score":0,"last_activity_date":1667246582,"creation_date":1667024361,"question_id":74243212,"body_markdown":"I want to store a uri to my donation.java class so that ill be able to fetch an image from firebase storage and display it on a cardview. However uri.toString is highlighted red and shows a &quot;Cannot resolve constructor &#39;donation(java.lang.String)&#39;&quot;\r\n\r\n**donate.java**\r\n\r\n```\r\npackage com.example.byete_hunger_mobileapp;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.app.Activity;\r\nimport android.app.Dialog;\r\nimport android.content.ContentResolver;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.media.Image;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.webkit.MimeTypeMap;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.byete_hunger_mobileapp.databinding.ActivityDonateBinding;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.storage.FileDownloadTask;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.OnProgressListener;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Random;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\nimport java.util.UUID;\r\n\r\npublic class donate extends AppCompatActivity {\r\n\r\n    Spinner spinner;\r\n    Button Submit;\r\n    ImageView back, account, chooseImage;\r\n    EditText weight, datePurchased, dateExpired, contactNo, notes;\r\n    DatabaseReference dbRef;\r\n    FirebaseStorage storage;\r\n    StorageReference storageRef;\r\n    FirebaseAuth fAuth;\r\n    FirebaseUser currentUser;\r\n    RecyclerView recyclerView;\r\n    Timer timer;\r\n    ActivityResultLauncher&lt;String&gt; launcher;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_donate);\r\n\r\n        chooseImage = findViewById(R.id.donate_uploadImage);\r\n        back = findViewById(R.id.donate_back_button);\r\n        account = findViewById(R.id.donate_account_page_icon);\r\n        recyclerView = findViewById(R.id.rv_donationstracker);\r\n        spinner = findViewById(R.id.spinner_donate);\r\n        weight = findViewById(R.id.et_donate_weight);\r\n        datePurchased = findViewById(R.id.et_donate_donatePurchased);\r\n        dateExpired = findViewById(R.id.et_donate_donateExpired);\r\n        contactNo = findViewById(R.id.et_donate_contactNo);\r\n        notes = findViewById(R.id.et_donate_notes);\r\n        Submit = findViewById(R.id.button4_donate_submit);\r\n\r\n        fAuth = FirebaseAuth.getInstance();\r\n        currentUser = fAuth.getCurrentUser();\r\n        dbRef = FirebaseDatabase.getInstance().getReference();\r\n        storage = FirebaseStorage.getInstance();\r\n        storageRef = storage.getReference();\r\n\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.DonationType, android.R.layout.simple_spinner_dropdown_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n        account.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(donate.this, Account.class));\r\n            }\r\n        });\r\n\r\n        //choose image in files\r\n        chooseImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                launcher.launch(&quot;image/*&quot;);\r\n            }\r\n        });\r\n\r\n        launcher = registerForActivityResult(new ActivityResultContracts.GetContent(), new ActivityResultCallback&lt;Uri&gt;() {\r\n            @Override\r\n            public void onActivityResult(Uri result) {\r\n                chooseImage.setImageURI(result);\r\n\r\n                Submit.setOnClickListener(new View.OnClickListener() {\r\n\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        InsertData();\r\n                        timer = new Timer();\r\n                        timer.schedule(new TimerTask() {\r\n                            @Override\r\n                            public void run() {\r\n                                finish();\r\n                            }\r\n                        }, 1000);\r\n                    }\r\n\r\n                    public void InsertData() {\r\n                        String type = spinner.getSelectedItem().toString();\r\n                        String wt = weight.getText().toString();\r\n                        String dP = datePurchased.getText().toString();\r\n                        String dE = dateExpired.getText().toString();\r\n                        String cN = contactNo.getText().toString();\r\n                        String nts = notes.getText().toString();\r\n                        String id = dbRef.push().getKey();\r\n                        String imageUrl = &quot;&quot;;\r\n\r\n                        //show when new card was added to donations\r\n                        Date date = new Date();\r\n                        Date time = new Date();\r\n                        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd MMMM yyyy&quot;);\r\n                        SimpleDateFormat formatter2 = new SimpleDateFormat(&quot;hh:mm:ss&quot;);\r\n                        String dateAdded = formatter.format(date);\r\n                        String dateAddedTime = formatter2.format(time);\r\n\r\n                        donation Donation = new donation(type, wt, dP, dE, cN, nts, id, dateAdded, dateAddedTime,imageUrl);\r\n\r\n                        dbRef.child(&quot;Users&quot;).child(currentUser.getUid()).child(&quot;donation&quot;).child(id).setValue(Donation).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                if(task.isSuccessful()){\r\n                                    Toast.makeText(donate.this,&quot;Donation details inserted&quot;, Toast.LENGTH_LONG).show();\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        // firebase storage folder location\r\n                        StorageReference riversRef = storageRef.child(&quot;images/&quot;).child(currentUser.getUid()).child(date.toString());\r\n\r\n                        // uploads image to firebase storage\r\n                        riversRef.child(id + &quot;.&quot; + GetFileExtension(result)).putFile(result).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                            @Override\r\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                riversRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Uri uri) {\r\n                                        donation image = new donation(uri.toString());\r\n                                        dbRef.child(&quot;Users&quot;).child(currentUser.getUid()).child(&quot;donation&quot;).child(id).child(&quot;image&quot;).setValue(image);\r\n                                    }\r\n                                });\r\n                                Toast.makeText(getApplicationContext(), &quot;Image Uploaded.&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        }).addOnFailureListener(exception -&gt; Toast.makeText(getApplicationContext(), &quot;Failed to Upload Image.&quot;, Toast.LENGTH_LONG).show());\r\n                    }\r\n\r\n                });\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public String GetFileExtension(Uri uri){\r\n        ContentResolver contentResolver = getContentResolver();\r\n        MimeTypeMap map = MimeTypeMap.getSingleton();\r\n        return map.getExtensionFromMimeType(contentResolver.getType(uri));\r\n    }\r\n\r\n}\r\n```\r\n\r\n**donation.java**\r\n\r\n```\r\npackage com.example.byete_hunger_mobileapp;\r\n\r\nimport android.net.Uri;\r\n\r\nimport com.google.android.gms.tasks.Task;\r\n\r\npublic class donation {\r\n    private String type, weight, datePurchased, dateExpired, contactNo, notes, id, dateAdded, dateAddedTime, imageUrl;\r\n\r\n\r\n    public donation() {\r\n    }\r\n\r\n    public donation(String type, String weight, String datePurchased, String dateExpired, String contactNo, String notes, String id, String dateAdded, String dateAddedTime, String imageUrl) {\r\n        this.type = type;\r\n        this.weight = weight;\r\n        this.datePurchased = datePurchased;\r\n        this.dateExpired = dateExpired;\r\n        this.contactNo = contactNo;\r\n        this.notes = notes;\r\n        this.id = id;\r\n        this.dateAdded = dateAdded;\r\n        this.dateAddedTime = dateAddedTime;\r\n        this.imageUrl = imageUrl;\r\n    }\r\n\r\n\r\n    public String getType() {return type;}\r\n\r\n    public String getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public String getDatePurchased() {return datePurchased;}\r\n\r\n    public String getDateExpired() {\r\n        return dateExpired;\r\n    }\r\n\r\n    public String getContactNo() {\r\n        return contactNo;\r\n    }\r\n\r\n    public String getNotes() {\r\n        return notes;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getDateAdded() {\r\n        return dateAdded;\r\n    }\r\n\r\n    public String getDateAddedTime() {\r\n        return dateAddedTime;\r\n    }\r\n\r\n    public String getImageUrl() {\r\n        return imageUrl;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI&#39;ve tried storing the uri to a different class which was successful but I had to make another list for myAdapter which added more problems to the table.\r\n\r\n**MyAdapter.java**\r\n\r\n```\r\npackage com.example.byete_hunger_mobileapp;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.transition.AutoTransition;\r\nimport android.transition.TransitionManager;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n    Context context;\r\n    ArrayList&lt;donation&gt; list;\r\n\r\n    public MyAdapter(Context context, ArrayList&lt;donation&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(context).inflate(R.layout.donation_card, parent, false);\r\n        return new MyAdapter.MyViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\r\n        donation Donation = list.get(position);\r\n\r\n        holder.type.setText(Donation.getType());\r\n        holder.weight.setText(Donation.getWeight());\r\n        holder.datePurchased.setText(Donation.getDatePurchased());\r\n        holder.dateExpired.setText(Donation.getDateExpired());\r\n        holder.notes.setText(Donation.getNotes());\r\n        holder.id.setText(Donation.getId());\r\n        holder.dateAdded.setText(Donation.getDateAdded());\r\n        holder.dateAddedTime.setText(Donation.getDateAddedTime());\r\n        Glide.with(context).load(Donation.getImageUrl()).into(holder.donationCardImage);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView type, weight, datePurchased, dateExpired, notes, id, dateAdded, dateAddedTime;\r\n        Button track;\r\n        CardView cardView;\r\n        ImageView donationCardImage;\r\n\r\n        RelativeLayout donationcardcontent;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            type = itemView.findViewById(R.id.tv_donationcard_typedesc);\r\n            weight = itemView.findViewById(R.id.tv_donationcard_weightdesc);\r\n            datePurchased = itemView.findViewById(R.id.tv_donationcard_dateofpurchasedesc);\r\n            dateExpired = itemView.findViewById(R.id.tv_donationcard_expirationdatedesc);\r\n            notes = itemView.findViewById(R.id.tv_donationcard_notesdesc);\r\n            id = itemView.findViewById(R.id.tv_donationcard_uidCode);\r\n            dateAdded = itemView.findViewById(R.id.tv_donationcard_dateadded);\r\n            dateAddedTime = itemView.findViewById(R.id.tv_donationcard_dateaddedTime);\r\n            donationCardImage = itemView.findViewById(R.id.iV_donationcard);\r\n\r\n            track = itemView.findViewById(R.id.btn_donationcard_track);\r\n\r\n            cardView = itemView.findViewById(R.id.cv_donationCard);\r\n            donationcardcontent = itemView.findViewById(R.id.rl_donationcard_content);\r\n\r\n\r\n            track.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(cardView.getContext(),statustracker.class);\r\n                    cardView.getContext().startActivity(intent);\r\n                }\r\n            });\r\n\r\n            // donation card expands and collapses\r\n            cardView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (donationcardcontent.getVisibility() == View.GONE) {\r\n                    TransitionManager.beginDelayedTransition(cardView, new AutoTransition());\r\n                    donationcardcontent.setVisibility(View.VISIBLE);\r\n                } else if (donationcardcontent.getVisibility() != View.GONE) {\r\n                    TransitionManager.beginDelayedTransition(cardView, new AutoTransition());\r\n                    donationcardcontent.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo I want to know if there&#39;s a possible work around for storing the uri to my donation class.","title":"How can i store uri.toString to my java class?","body":"<p>I want to store a uri to my donation.java class so that ill be able to fetch an image from firebase storage and display it on a cardview. However uri.toString is highlighted red and shows a &quot;Cannot resolve constructor 'donation(java.lang.String)'&quot;</p>\n<p><strong>donate.java</strong></p>\n<pre><code>package com.example.byete_hunger_mobileapp;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.cardview.widget.CardView;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.app.Activity;\nimport android.app.Dialog;\nimport android.content.ContentResolver;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.drawable.Drawable;\nimport android.media.Image;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.MimeTypeMap;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.ProgressBar;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.byete_hunger_mobileapp.databinding.ActivityDonateBinding;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.material.snackbar.Snackbar;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.storage.FileDownloadTask;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.OnProgressListener;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Random;\nimport java.util.Timer;\nimport java.util.TimerTask;\nimport java.util.UUID;\n\npublic class donate extends AppCompatActivity {\n\n    Spinner spinner;\n    Button Submit;\n    ImageView back, account, chooseImage;\n    EditText weight, datePurchased, dateExpired, contactNo, notes;\n    DatabaseReference dbRef;\n    FirebaseStorage storage;\n    StorageReference storageRef;\n    FirebaseAuth fAuth;\n    FirebaseUser currentUser;\n    RecyclerView recyclerView;\n    Timer timer;\n    ActivityResultLauncher&lt;String&gt; launcher;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_donate);\n\n        chooseImage = findViewById(R.id.donate_uploadImage);\n        back = findViewById(R.id.donate_back_button);\n        account = findViewById(R.id.donate_account_page_icon);\n        recyclerView = findViewById(R.id.rv_donationstracker);\n        spinner = findViewById(R.id.spinner_donate);\n        weight = findViewById(R.id.et_donate_weight);\n        datePurchased = findViewById(R.id.et_donate_donatePurchased);\n        dateExpired = findViewById(R.id.et_donate_donateExpired);\n        contactNo = findViewById(R.id.et_donate_contactNo);\n        notes = findViewById(R.id.et_donate_notes);\n        Submit = findViewById(R.id.button4_donate_submit);\n\n        fAuth = FirebaseAuth.getInstance();\n        currentUser = fAuth.getCurrentUser();\n        dbRef = FirebaseDatabase.getInstance().getReference();\n        storage = FirebaseStorage.getInstance();\n        storageRef = storage.getReference();\n\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this, R.array.DonationType, android.R.layout.simple_spinner_dropdown_item);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapter);\n\n        back.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                finish();\n            }\n        });\n\n        account.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(donate.this, Account.class));\n            }\n        });\n\n        //choose image in files\n        chooseImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                launcher.launch(&quot;image/*&quot;);\n            }\n        });\n\n        launcher = registerForActivityResult(new ActivityResultContracts.GetContent(), new ActivityResultCallback&lt;Uri&gt;() {\n            @Override\n            public void onActivityResult(Uri result) {\n                chooseImage.setImageURI(result);\n\n                Submit.setOnClickListener(new View.OnClickListener() {\n\n                    @Override\n                    public void onClick(View v) {\n                        InsertData();\n                        timer = new Timer();\n                        timer.schedule(new TimerTask() {\n                            @Override\n                            public void run() {\n                                finish();\n                            }\n                        }, 1000);\n                    }\n\n                    public void InsertData() {\n                        String type = spinner.getSelectedItem().toString();\n                        String wt = weight.getText().toString();\n                        String dP = datePurchased.getText().toString();\n                        String dE = dateExpired.getText().toString();\n                        String cN = contactNo.getText().toString();\n                        String nts = notes.getText().toString();\n                        String id = dbRef.push().getKey();\n                        String imageUrl = &quot;&quot;;\n\n                        //show when new card was added to donations\n                        Date date = new Date();\n                        Date time = new Date();\n                        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd MMMM yyyy&quot;);\n                        SimpleDateFormat formatter2 = new SimpleDateFormat(&quot;hh:mm:ss&quot;);\n                        String dateAdded = formatter.format(date);\n                        String dateAddedTime = formatter2.format(time);\n\n                        donation Donation = new donation(type, wt, dP, dE, cN, nts, id, dateAdded, dateAddedTime,imageUrl);\n\n                        dbRef.child(&quot;Users&quot;).child(currentUser.getUid()).child(&quot;donation&quot;).child(id).setValue(Donation).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                if(task.isSuccessful()){\n                                    Toast.makeText(donate.this,&quot;Donation details inserted&quot;, Toast.LENGTH_LONG).show();\n                                }\n                            }\n                        });\n\n                        // firebase storage folder location\n                        StorageReference riversRef = storageRef.child(&quot;images/&quot;).child(currentUser.getUid()).child(date.toString());\n\n                        // uploads image to firebase storage\n                        riversRef.child(id + &quot;.&quot; + GetFileExtension(result)).putFile(result).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                            @Override\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                                riversRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                                    @Override\n                                    public void onSuccess(Uri uri) {\n                                        donation image = new donation(uri.toString());\n                                        dbRef.child(&quot;Users&quot;).child(currentUser.getUid()).child(&quot;donation&quot;).child(id).child(&quot;image&quot;).setValue(image);\n                                    }\n                                });\n                                Toast.makeText(getApplicationContext(), &quot;Image Uploaded.&quot;, Toast.LENGTH_LONG).show();\n                            }\n                        }).addOnFailureListener(exception -&gt; Toast.makeText(getApplicationContext(), &quot;Failed to Upload Image.&quot;, Toast.LENGTH_LONG).show());\n                    }\n\n                });\n            }\n        });\n\n    }\n\n    public String GetFileExtension(Uri uri){\n        ContentResolver contentResolver = getContentResolver();\n        MimeTypeMap map = MimeTypeMap.getSingleton();\n        return map.getExtensionFromMimeType(contentResolver.getType(uri));\n    }\n\n}\n</code></pre>\n<p><strong>donation.java</strong></p>\n<pre><code>package com.example.byete_hunger_mobileapp;\n\nimport android.net.Uri;\n\nimport com.google.android.gms.tasks.Task;\n\npublic class donation {\n    private String type, weight, datePurchased, dateExpired, contactNo, notes, id, dateAdded, dateAddedTime, imageUrl;\n\n\n    public donation() {\n    }\n\n    public donation(String type, String weight, String datePurchased, String dateExpired, String contactNo, String notes, String id, String dateAdded, String dateAddedTime, String imageUrl) {\n        this.type = type;\n        this.weight = weight;\n        this.datePurchased = datePurchased;\n        this.dateExpired = dateExpired;\n        this.contactNo = contactNo;\n        this.notes = notes;\n        this.id = id;\n        this.dateAdded = dateAdded;\n        this.dateAddedTime = dateAddedTime;\n        this.imageUrl = imageUrl;\n    }\n\n\n    public String getType() {return type;}\n\n    public String getWeight() {\n        return weight;\n    }\n\n    public String getDatePurchased() {return datePurchased;}\n\n    public String getDateExpired() {\n        return dateExpired;\n    }\n\n    public String getContactNo() {\n        return contactNo;\n    }\n\n    public String getNotes() {\n        return notes;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public String getDateAdded() {\n        return dateAdded;\n    }\n\n    public String getDateAddedTime() {\n        return dateAddedTime;\n    }\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n\n}\n</code></pre>\n<p>I've tried storing the uri to a different class which was successful but I had to make another list for myAdapter which added more problems to the table.</p>\n<p><strong>MyAdapter.java</strong></p>\n<pre><code>package com.example.byete_hunger_mobileapp;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.transition.AutoTransition;\nimport android.transition.TransitionManager;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n    Context context;\n    ArrayList&lt;donation&gt; list;\n\n    public MyAdapter(Context context, ArrayList&lt;donation&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.donation_card, parent, false);\n        return new MyAdapter.MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\n        donation Donation = list.get(position);\n\n        holder.type.setText(Donation.getType());\n        holder.weight.setText(Donation.getWeight());\n        holder.datePurchased.setText(Donation.getDatePurchased());\n        holder.dateExpired.setText(Donation.getDateExpired());\n        holder.notes.setText(Donation.getNotes());\n        holder.id.setText(Donation.getId());\n        holder.dateAdded.setText(Donation.getDateAdded());\n        holder.dateAddedTime.setText(Donation.getDateAddedTime());\n        Glide.with(context).load(Donation.getImageUrl()).into(holder.donationCardImage);\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView type, weight, datePurchased, dateExpired, notes, id, dateAdded, dateAddedTime;\n        Button track;\n        CardView cardView;\n        ImageView donationCardImage;\n\n        RelativeLayout donationcardcontent;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            type = itemView.findViewById(R.id.tv_donationcard_typedesc);\n            weight = itemView.findViewById(R.id.tv_donationcard_weightdesc);\n            datePurchased = itemView.findViewById(R.id.tv_donationcard_dateofpurchasedesc);\n            dateExpired = itemView.findViewById(R.id.tv_donationcard_expirationdatedesc);\n            notes = itemView.findViewById(R.id.tv_donationcard_notesdesc);\n            id = itemView.findViewById(R.id.tv_donationcard_uidCode);\n            dateAdded = itemView.findViewById(R.id.tv_donationcard_dateadded);\n            dateAddedTime = itemView.findViewById(R.id.tv_donationcard_dateaddedTime);\n            donationCardImage = itemView.findViewById(R.id.iV_donationcard);\n\n            track = itemView.findViewById(R.id.btn_donationcard_track);\n\n            cardView = itemView.findViewById(R.id.cv_donationCard);\n            donationcardcontent = itemView.findViewById(R.id.rl_donationcard_content);\n\n\n            track.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Intent intent = new Intent(cardView.getContext(),statustracker.class);\n                    cardView.getContext().startActivity(intent);\n                }\n            });\n\n            // donation card expands and collapses\n            cardView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (donationcardcontent.getVisibility() == View.GONE) {\n                    TransitionManager.beginDelayedTransition(cardView, new AutoTransition());\n                    donationcardcontent.setVisibility(View.VISIBLE);\n                } else if (donationcardcontent.getVisibility() != View.GONE) {\n                    TransitionManager.beginDelayedTransition(cardView, new AutoTransition());\n                    donationcardcontent.setVisibility(View.GONE);\n                }\n            }\n        });\n        }\n    }\n}\n</code></pre>\n<p>So I want to know if there's a possible work around for storing the uri to my donation class.</p>\n"},{"tags":["java","android","android-studio","bluetooth","permission-denied"],"owner":{"account_id":21212530,"reputation":71,"user_id":15600837,"display_name":"AdamPI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667246392,"creation_date":1664628489,"question_id":73918412,"body_markdown":"Hello I&#39;ve been struggling with requesting the following bluetooth permissions on Android Studio: BLUETOOTH_CONNECT, BLUETOOTH_SCAN, BLUETOOTH_ADVERTISE but none of them wants to be requested: I&#39;m using the following code to request BLUETOOTH_SCAN permission:\r\n\r\n\r\n \r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private final int BLUETOOTH_PERMISSION_CODE = 4;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Button buttonRequest = findViewById(R.id.button);\r\n        buttonRequest.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.S)\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (\r\n                        ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_SCAN) == PackageManager.PERMISSION_GRANTED\r\n                ) {\r\n                    Toast.makeText(MainActivity.this, &quot;You have already granted this permission!&quot;,\r\n                            Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    requestStoragePermission();\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.S)\r\n    private void requestStoragePermission() {\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                Manifest.permission.BLUETOOTH_SCAN)) {\r\n\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(&quot;Permission needed&quot;)\r\n                    .setMessage(&quot;This permission is needed because of this and that&quot;)\r\n                    .setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            ActivityCompat.requestPermissions(MainActivity.this,\r\n                                    new String[]{Manifest.permission.BLUETOOTH_SCAN}, BLUETOOTH_PERMISSION_CODE);\r\n                        }\r\n                    })\r\n                    .setNegativeButton(&quot;cancel&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            dialog.dismiss();\r\n                        }\r\n                    })\r\n                    .create().show();\r\n\r\n        } else {\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.BLUETOOTH_SCAN}, BLUETOOTH_PERMISSION_CODE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == BLUETOOTH_PERMISSION_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;Permission GRANTED&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Permission DENIED&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n\r\nAnd there is also a manifest file which contains the following content:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot;/&gt;\r\n\r\n\r\nunfortunately this code doesn&#39;t work. It always shows permission denied. It doesn&#39;t even display dialog ***But if I want to request for example READ_EXTERNAL_STORAGE premision it works without any problems*** could you tell me guys why is this happening? Can&#39;t bluetooth permissions be requested by the way from above? Best wishes and waiting for help!\r\n\r\n","title":"Can&#39;t request bluetooth premission on android","body":"<p>Hello I've been struggling with requesting the following bluetooth permissions on Android Studio: BLUETOOTH_CONNECT, BLUETOOTH_SCAN, BLUETOOTH_ADVERTISE but none of them wants to be requested: I'm using the following code to request BLUETOOTH_SCAN permission:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate final int BLUETOOTH_PERMISSION_CODE = 4;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Button buttonRequest = findViewById(R.id.button);\n    buttonRequest.setOnClickListener(new View.OnClickListener() {\n        @RequiresApi(api = Build.VERSION_CODES.S)\n        @Override\n        public void onClick(View v) {\n            if (\n                    ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_SCAN) == PackageManager.PERMISSION_GRANTED\n            ) {\n                Toast.makeText(MainActivity.this, &quot;You have already granted this permission!&quot;,\n                        Toast.LENGTH_SHORT).show();\n            } else {\n                requestStoragePermission();\n            }\n        }\n    });\n\n}\n\n\n\n@RequiresApi(api = Build.VERSION_CODES.S)\nprivate void requestStoragePermission() {\n    if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n            Manifest.permission.BLUETOOTH_SCAN)) {\n\n        new AlertDialog.Builder(this)\n                .setTitle(&quot;Permission needed&quot;)\n                .setMessage(&quot;This permission is needed because of this and that&quot;)\n                .setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        ActivityCompat.requestPermissions(MainActivity.this,\n                                new String[]{Manifest.permission.BLUETOOTH_SCAN}, BLUETOOTH_PERMISSION_CODE);\n                    }\n                })\n                .setNegativeButton(&quot;cancel&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }\n                })\n                .create().show();\n\n    } else {\n        ActivityCompat.requestPermissions(this,\n                new String[]{Manifest.permission.BLUETOOTH_SCAN}, BLUETOOTH_PERMISSION_CODE);\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == BLUETOOTH_PERMISSION_CODE) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            Toast.makeText(this, &quot;Permission GRANTED&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;Permission DENIED&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n}\n</code></pre>\n<p>And there is also a manifest file which contains the following content:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\n&lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot;/&gt;\n</code></pre>\n<p>unfortunately this code doesn't work. It always shows permission denied. It doesn't even display dialog <em><strong>But if I want to request for example READ_EXTERNAL_STORAGE premision it works without any problems</strong></em> could you tell me guys why is this happening? Can't bluetooth permissions be requested by the way from above? Best wishes and waiting for help!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1667242440,"creation_date":1667242440,"answer_id":74267935,"question_id":74267903,"body_markdown":"&gt; To me things look fine, both are having the same parameter types.\r\n\r\nYou are incorrect.\r\n\r\nI&#39;m going to assume `listeners` is a `List&lt;Listener&lt;? extends Event&gt;&gt;`.  So, for example,\r\n\r\n```\r\nList&lt;Listener&lt;? extends Event&gt;&gt; listeners = new ArrayList&lt;&gt;();\r\nlisteners.add(new Listener&lt;FooEvent&gt;() { ... });\r\n```\r\n\r\nNow, imagine I call \r\n```\r\npublish(new BarEvent());\r\n```\r\n\r\nThis compiles, according to the definitions you have -- but the `Listener&lt;FooEvent&gt;` doesn&#39;t know what to do with a `BarEvent`.\r\n\r\nYou will have to redesign your event listeners -- perhaps to have one list of listeners for each different kind of event, or perhaps to have each listener know what kind of events it can and cannot handle.","title":"java generics incompatible types compilation error when types are the same","body":"<blockquote>\n<p>To me things look fine, both are having the same parameter types.</p>\n</blockquote>\n<p>You are incorrect.</p>\n<p>I'm going to assume <code>listeners</code> is a <code>List&lt;Listener&lt;? extends Event&gt;&gt;</code>.  So, for example,</p>\n<pre><code>List&lt;Listener&lt;? extends Event&gt;&gt; listeners = new ArrayList&lt;&gt;();\nlisteners.add(new Listener&lt;FooEvent&gt;() { ... });\n</code></pre>\n<p>Now, imagine I call</p>\n<pre><code>publish(new BarEvent());\n</code></pre>\n<p>This compiles, according to the definitions you have -- but the <code>Listener&lt;FooEvent&gt;</code> doesn't know what to do with a <code>BarEvent</code>.</p>\n<p>You will have to redesign your event listeners -- perhaps to have one list of listeners for each different kind of event, or perhaps to have each listener know what kind of events it can and cannot handle.</p>\n"}],"owner":{"account_id":465605,"reputation":5013,"user_id":869793,"accept_rate":42,"display_name":"tzortzik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74267935,"answer_count":1,"score":0,"last_activity_date":1667246228,"creation_date":1667242211,"question_id":74267903,"body_markdown":"I cannot figure out why I receive the following compilation error `incompatible types: E cannot be converted to capture#1 of ? extends ...Event`\r\n\r\non \r\n\r\n```        \r\npublic &lt;E extends Event&gt; void publish(E event) {\r\n    listeners.forEach(Listener&lt;? extends Event&gt; listener) -&gt; {\r\n            listener.handle(event); // &lt;-----error occurs here\r\n    })\r\n}\r\n```\r\n\r\n```\r\npublic interface Listener&lt;E extends Event&gt; {\r\n    void handle(E event);\r\n}\r\n```\r\n\r\nTo me things look fine, both are having the same parameter types.\r\n\r\nAny ideas? I am using Java 19.\r\n\r\nIntelliJ offers the following suggestion but I don&#39;t see how that would work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dkebp.png","title":"java generics incompatible types compilation error when types are the same","body":"<p>I cannot figure out why I receive the following compilation error <code>incompatible types: E cannot be converted to capture#1 of ? extends ...Event</code></p>\n<p>on</p>\n<pre><code>public &lt;E extends Event&gt; void publish(E event) {\n    listeners.forEach(Listener&lt;? extends Event&gt; listener) -&gt; {\n            listener.handle(event); // &lt;-----error occurs here\n    })\n}\n</code></pre>\n<pre><code>public interface Listener&lt;E extends Event&gt; {\n    void handle(E event);\n}\n</code></pre>\n<p>To me things look fine, both are having the same parameter types.</p>\n<p>Any ideas? I am using Java 19.</p>\n<p>IntelliJ offers the following suggestion but I don't see how that would work.</p>\n<p><a href=\"https://i.stack.imgur.com/dkebp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dkebp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","sqlite","android-sqlite","android-room"],"comments":[{"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1667241028,"post_id":74267661,"comment_id":131119142,"body_markdown":"The CREATE INDEX statement is clear: the index is created on the combination of  the columns id and id_from_client and not only on id_from_client.","body":"The CREATE INDEX statement is clear: the index is created on the combination of  the columns id and id_from_client and not only on id_from_client."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667245611,"creation_date":1667245611,"answer_id":74268432,"question_id":74267661,"body_markdown":"Using your Entity with later libraries (2.4.3 and 2.5.0-beta01) does not successfully compile due to being enclosed in `. The resulting message being:-\r\n\r\n    error: `id_from_client` referenced in the index does not exists in the Entity. Available column names:id, id_from_client\r\n    public class Activity {\r\n           ^\r\n\r\nChanging to use:-\r\n\r\n    @Entity(indices = {@Index(value = {&quot;id_from_client&quot;}, /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; removed enclosing `` */\r\n        unique = true)})\r\n\r\nCompiles successfully and the generated java has the appropriate CREATE INDEX as per:-\r\n\r\n      @Override\r\n      public void createAllTables(SupportSQLiteDatabase _db) {\r\n        _db.execSQL(&quot;CREATE TABLE IF NOT EXISTS `Activity` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `id_from_client` TEXT NOT NULL)&quot;);\r\n        _db.execSQL(&quot;CREATE UNIQUE INDEX IF NOT EXISTS `index_Activity_id_from_client` ON `Activity` (`id_from_client`)&quot;);\r\n        _db.execSQL(&quot;CREATE TABLE IF NOT EXISTS room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT)&quot;);\r\n        _db.execSQL(&quot;INSERT OR REPLACE INTO room_master_table (id,identity_hash) VALUES(42, &#39;c0bc90551cfa5dbc362321d550999680&#39;)&quot;);\r\n      }\r\n\r\n- The generated java can be located by using the Android View. The respective class is the class that is the same as the class that is annotated with @Database but suffixed with _Impl.\r\n\r\n**Suggested actions**\r\n\r\n1. Remove the ` that enclose the indexed column\r\n1. Use the latest Room library dependencies (2.4.3).\r\n\r\n**Demo**\r\n\r\nWith the above changes then an attempt to insert a non-unique id_from_client fails as expected. Consider the following that is designed to test this :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        TheDatabase db;\r\n        ActivityDAO dao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            db = TheDatabase.getInstance(this);\r\n            dao = db.getActivityDAO();\r\n            Activity a1 = new Activity();\r\n            a1.id=0;\r\n            a1.id_from_client = &quot;100&quot;;\r\n    \r\n            dao.insert(a1);\r\n            a1.id_from_client = &quot;200&quot;;\r\n            dao.insert(a1);\r\n            SupportSQLiteDatabase sdb = db.getOpenHelper().getWritableDatabase();\r\n            Cursor csr = sdb.query(&quot;SELECT * FROM sqlite_master&quot;);\r\n            DatabaseUtils.dumpCursor(csr);\r\n    \r\n            dao.insert(a1);\r\n            csr = sdb.query(&quot;SELECT * FROM sqlite_master&quot;);\r\n            DatabaseUtils.dumpCursor(csr);\r\n            csr.close();\r\n        }\r\n    }\r\n\r\n\r\nThat is when run the first 2 Activity rows should be inserted, the schema (aka the sqlite_master will be extracted and dumped to the log). However the third insert as the id_from_client is still 200 will fail due to the UNIQUE conflict (in all three insert the id being 0 will result in the id column being generated).\r\n\r\n- note that `.allowMainThreadQueries` has been used for brevity and convenience\r\n\r\nThe dependencies (in  `build.gradle(Module ....)`) used for the demo being :-\r\n\r\n    dependencies {\r\n    \r\n        ....\r\n        implementation &#39;androidx.room:room-runtime:2.4.3&#39;\r\n        ....\r\n        annotationProcessor &#39;androidx.room:room-compiler:2.4.3&#39;\r\n    }\r\n\r\nThe resultant log from running the above being :-\r\n\r\n    2022-11-01 06:33:57.745 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@17eeb83\r\n    2022-11-01 06:33:57.746 I/System.out: 0 {\r\n    2022-11-01 06:33:57.746 I/System.out:    type=table\r\n    2022-11-01 06:33:57.746 I/System.out:    name=android_metadata\r\n    2022-11-01 06:33:57.746 I/System.out:    tbl_name=android_metadata\r\n    2022-11-01 06:33:57.746 I/System.out:    rootpage=3\r\n    2022-11-01 06:33:57.746 I/System.out:    sql=CREATE TABLE android_metadata (locale TEXT)\r\n    2022-11-01 06:33:57.746 I/System.out: }\r\n    2022-11-01 06:33:57.746 I/System.out: 1 {\r\n    2022-11-01 06:33:57.746 I/System.out:    type=table\r\n    2022-11-01 06:33:57.746 I/System.out:    name=Activity\r\n    2022-11-01 06:33:57.746 I/System.out:    tbl_name=Activity\r\n    2022-11-01 06:33:57.746 I/System.out:    rootpage=4\r\n    2022-11-01 06:33:57.746 I/System.out:    sql=CREATE TABLE `Activity` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `id_from_client` TEXT NOT NULL)\r\n    2022-11-01 06:33:57.746 I/System.out: }\r\n    2022-11-01 06:33:57.746 I/System.out: 2 {\r\n    2022-11-01 06:33:57.746 I/System.out:    type=table\r\n    2022-11-01 06:33:57.746 I/System.out:    name=sqlite_sequence\r\n    2022-11-01 06:33:57.746 I/System.out:    tbl_name=sqlite_sequence\r\n    2022-11-01 06:33:57.747 I/System.out:    rootpage=5\r\n    2022-11-01 06:33:57.747 I/System.out:    sql=CREATE TABLE sqlite_sequence(name,seq)\r\n    2022-11-01 06:33:57.747 I/System.out: }\r\n    2022-11-01 06:33:57.747 I/System.out: 3 {\r\n    2022-11-01 06:33:57.747 I/System.out:    type=index\r\n    2022-11-01 06:33:57.747 I/System.out:    name=index_Activity_id_from_client\r\n    2022-11-01 06:33:57.747 I/System.out:    tbl_name=Activity\r\n    2022-11-01 06:33:57.747 I/System.out:    rootpage=6\r\n    2022-11-01 06:33:57.747 I/System.out:    sql=CREATE UNIQUE INDEX `index_Activity_id_from_client` ON `Activity` (`id_from_client`)\r\n    2022-11-01 06:33:57.747 I/System.out: }\r\n    2022-11-01 06:33:57.747 I/System.out: 4 {\r\n    2022-11-01 06:33:57.747 I/System.out:    type=table\r\n    2022-11-01 06:33:57.747 I/System.out:    name=room_master_table\r\n    2022-11-01 06:33:57.747 I/System.out:    tbl_name=room_master_table\r\n    2022-11-01 06:33:57.747 I/System.out:    rootpage=7\r\n    2022-11-01 06:33:57.747 I/System.out:    sql=CREATE TABLE room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT)\r\n    2022-11-01 06:33:57.747 I/System.out: }\r\n    2022-11-01 06:33:57.747 I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n    2022-11-01 06:33:57.748 D/AndroidRuntime: Shutting down VM\r\n    2022-11-01 06:33:57.755 E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: a.a.so74267661javaroomuniqueindex, PID: 28425\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{a.a.so74267661javaroomuniqueindex/a.a.so74267661javaroomuniqueindex.MainActivity}: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: Activity.id_from_client (code 2067 SQLITE_CONSTRAINT_UNIQUE)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n         Caused by: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: Activity.id_from_client (code 2067 SQLITE_CONSTRAINT_UNIQUE)\r\n            at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n            at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:938)\r\n            at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:790)\r\n            at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:88)\r\n            at androidx.sqlite.db.framework.FrameworkSQLiteStatement.executeInsert(FrameworkSQLiteStatement.java:51)\r\n            at androidx.room.EntityInsertionAdapter.insert(EntityInsertionAdapter.java:64)\r\n            at a.a.so74267661javaroomuniqueindex.ActivityDAO_Impl.insert(ActivityDAO_Impl.java:44)\r\n            at a.a.so74267661javaroomuniqueindex.MainActivity.onCreate(MainActivity.java:33)\r\n            at android.app.Activity.performCreate(Activity.java:7994)\r\n            at android.app.Activity.performCreate(Activity.java:7978)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)&#160;\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n            at android.os.Looper.loop(Looper.java:223)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;&#160;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android Room Unique Constraint Not Working","body":"<p>Using your Entity with later libraries (2.4.3 and 2.5.0-beta01) does not successfully compile due to being enclosed in `. The resulting message being:-</p>\n<pre><code>error: `id_from_client` referenced in the index does not exists in the Entity. Available column names:id, id_from_client\npublic class Activity {\n       ^\n</code></pre>\n<p>Changing to use:-</p>\n<pre><code>@Entity(indices = {@Index(value = {&quot;id_from_client&quot;}, /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; removed enclosing `` */\n    unique = true)})\n</code></pre>\n<p>Compiles successfully and the generated java has the appropriate CREATE INDEX as per:-</p>\n<pre><code>  @Override\n  public void createAllTables(SupportSQLiteDatabase _db) {\n    _db.execSQL(&quot;CREATE TABLE IF NOT EXISTS `Activity` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `id_from_client` TEXT NOT NULL)&quot;);\n    _db.execSQL(&quot;CREATE UNIQUE INDEX IF NOT EXISTS `index_Activity_id_from_client` ON `Activity` (`id_from_client`)&quot;);\n    _db.execSQL(&quot;CREATE TABLE IF NOT EXISTS room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT)&quot;);\n    _db.execSQL(&quot;INSERT OR REPLACE INTO room_master_table (id,identity_hash) VALUES(42, 'c0bc90551cfa5dbc362321d550999680')&quot;);\n  }\n</code></pre>\n<ul>\n<li>The generated java can be located by using the Android View. The respective class is the class that is the same as the class that is annotated with @Database but suffixed with _Impl.</li>\n</ul>\n<p><strong>Suggested actions</strong></p>\n<ol>\n<li>Remove the ` that enclose the indexed column</li>\n<li>Use the latest Room library dependencies (2.4.3).</li>\n</ol>\n<p><strong>Demo</strong></p>\n<p>With the above changes then an attempt to insert a non-unique id_from_client fails as expected. Consider the following that is designed to test this :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TheDatabase db;\n    ActivityDAO dao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        db = TheDatabase.getInstance(this);\n        dao = db.getActivityDAO();\n        Activity a1 = new Activity();\n        a1.id=0;\n        a1.id_from_client = &quot;100&quot;;\n\n        dao.insert(a1);\n        a1.id_from_client = &quot;200&quot;;\n        dao.insert(a1);\n        SupportSQLiteDatabase sdb = db.getOpenHelper().getWritableDatabase();\n        Cursor csr = sdb.query(&quot;SELECT * FROM sqlite_master&quot;);\n        DatabaseUtils.dumpCursor(csr);\n\n        dao.insert(a1);\n        csr = sdb.query(&quot;SELECT * FROM sqlite_master&quot;);\n        DatabaseUtils.dumpCursor(csr);\n        csr.close();\n    }\n}\n</code></pre>\n<p>That is when run the first 2 Activity rows should be inserted, the schema (aka the sqlite_master will be extracted and dumped to the log). However the third insert as the id_from_client is still 200 will fail due to the UNIQUE conflict (in all three insert the id being 0 will result in the id column being generated).</p>\n<ul>\n<li>note that <code>.allowMainThreadQueries</code> has been used for brevity and convenience</li>\n</ul>\n<p>The dependencies (in  <code>build.gradle(Module ....)</code>) used for the demo being :-</p>\n<pre><code>dependencies {\n\n    ....\n    implementation 'androidx.room:room-runtime:2.4.3'\n    ....\n    annotationProcessor 'androidx.room:room-compiler:2.4.3'\n}\n</code></pre>\n<p>The resultant log from running the above being :-</p>\n<pre><code>2022-11-01 06:33:57.745 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@17eeb83\n2022-11-01 06:33:57.746 I/System.out: 0 {\n2022-11-01 06:33:57.746 I/System.out:    type=table\n2022-11-01 06:33:57.746 I/System.out:    name=android_metadata\n2022-11-01 06:33:57.746 I/System.out:    tbl_name=android_metadata\n2022-11-01 06:33:57.746 I/System.out:    rootpage=3\n2022-11-01 06:33:57.746 I/System.out:    sql=CREATE TABLE android_metadata (locale TEXT)\n2022-11-01 06:33:57.746 I/System.out: }\n2022-11-01 06:33:57.746 I/System.out: 1 {\n2022-11-01 06:33:57.746 I/System.out:    type=table\n2022-11-01 06:33:57.746 I/System.out:    name=Activity\n2022-11-01 06:33:57.746 I/System.out:    tbl_name=Activity\n2022-11-01 06:33:57.746 I/System.out:    rootpage=4\n2022-11-01 06:33:57.746 I/System.out:    sql=CREATE TABLE `Activity` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `id_from_client` TEXT NOT NULL)\n2022-11-01 06:33:57.746 I/System.out: }\n2022-11-01 06:33:57.746 I/System.out: 2 {\n2022-11-01 06:33:57.746 I/System.out:    type=table\n2022-11-01 06:33:57.746 I/System.out:    name=sqlite_sequence\n2022-11-01 06:33:57.746 I/System.out:    tbl_name=sqlite_sequence\n2022-11-01 06:33:57.747 I/System.out:    rootpage=5\n2022-11-01 06:33:57.747 I/System.out:    sql=CREATE TABLE sqlite_sequence(name,seq)\n2022-11-01 06:33:57.747 I/System.out: }\n2022-11-01 06:33:57.747 I/System.out: 3 {\n2022-11-01 06:33:57.747 I/System.out:    type=index\n2022-11-01 06:33:57.747 I/System.out:    name=index_Activity_id_from_client\n2022-11-01 06:33:57.747 I/System.out:    tbl_name=Activity\n2022-11-01 06:33:57.747 I/System.out:    rootpage=6\n2022-11-01 06:33:57.747 I/System.out:    sql=CREATE UNIQUE INDEX `index_Activity_id_from_client` ON `Activity` (`id_from_client`)\n2022-11-01 06:33:57.747 I/System.out: }\n2022-11-01 06:33:57.747 I/System.out: 4 {\n2022-11-01 06:33:57.747 I/System.out:    type=table\n2022-11-01 06:33:57.747 I/System.out:    name=room_master_table\n2022-11-01 06:33:57.747 I/System.out:    tbl_name=room_master_table\n2022-11-01 06:33:57.747 I/System.out:    rootpage=7\n2022-11-01 06:33:57.747 I/System.out:    sql=CREATE TABLE room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT)\n2022-11-01 06:33:57.747 I/System.out: }\n2022-11-01 06:33:57.747 I/System.out: &lt;&lt;&lt;&lt;&lt;\n2022-11-01 06:33:57.748 D/AndroidRuntime: Shutting down VM\n2022-11-01 06:33:57.755 E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: a.a.so74267661javaroomuniqueindex, PID: 28425\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{a.a.so74267661javaroomuniqueindex/a.a.so74267661javaroomuniqueindex.MainActivity}: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: Activity.id_from_client (code 2067 SQLITE_CONSTRAINT_UNIQUE)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: Activity.id_from_client (code 2067 SQLITE_CONSTRAINT_UNIQUE)\n        at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\n        at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:938)\n        at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:790)\n        at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:88)\n        at androidx.sqlite.db.framework.FrameworkSQLiteStatement.executeInsert(FrameworkSQLiteStatement.java:51)\n        at androidx.room.EntityInsertionAdapter.insert(EntityInsertionAdapter.java:64)\n        at a.a.so74267661javaroomuniqueindex.ActivityDAO_Impl.insert(ActivityDAO_Impl.java:44)\n        at a.a.so74267661javaroomuniqueindex.MainActivity.onCreate(MainActivity.java:33)\n        at android.app.Activity.performCreate(Activity.java:7994)\n        at android.app.Activity.performCreate(Activity.java:7978)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:223) \n        at android.app.ActivityThread.main(ActivityThread.java:7656) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)  \n</code></pre>\n"}],"owner":{"account_id":6577974,"reputation":11,"user_id":5083223,"display_name":"Clement Osumo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74268432,"answer_count":1,"score":-1,"last_activity_date":1667245611,"creation_date":1667240802,"question_id":74267661,"body_markdown":"I have a DAO like this\r\n\r\n&gt; \r\n```\r\n@Dao\r\npublic interface ActivityDAO {\r\n\r\n    @Insert\r\n    void insert(Activity activity);\r\n```\r\nEntity is defined like this\r\n&gt; \r\n```\r\n@Entity(indices = {@Index(value = {&quot;`id_from_client`&quot;},\r\n        unique = true)})\r\npublic class Activity {\r\n    @PrimaryKey(autoGenerate = true)\r\n    public int id;\r\n\r\n    @NotNull\r\n    @ColumnInfo(name = &quot;id_from_client&quot;)\r\n    public String id_from_client;\r\n```\r\n\r\nDespite having set an Index on `id_from_client` when I try to save objects with same `id_from_client` the insertion isn&#39;t rejected and the rows are added. Why is Room not enforcing the UNIQUE index constraint?\r\n\r\nI can verify that the Index is created by exporting the database and viewing on DB Browser there&#39;s an Index with create statement `CREATE UNIQUE INDEX `index_Activity_id_id_from_client` ON `Activity` (`id`, `id_from_client`)`.","title":"Android Room Unique Constraint Not Working","body":"<p>I have a DAO like this</p>\n<blockquote>\n</blockquote>\n<pre><code>@Dao\npublic interface ActivityDAO {\n\n    @Insert\n    void insert(Activity activity);\n</code></pre>\n<p>Entity is defined like this</p>\n<blockquote>\n</blockquote>\n<pre><code>@Entity(indices = {@Index(value = {&quot;`id_from_client`&quot;},\n        unique = true)})\npublic class Activity {\n    @PrimaryKey(autoGenerate = true)\n    public int id;\n\n    @NotNull\n    @ColumnInfo(name = &quot;id_from_client&quot;)\n    public String id_from_client;\n</code></pre>\n<p>Despite having set an Index on <code>id_from_client</code> when I try to save objects with same <code>id_from_client</code> the insertion isn't rejected and the rows are added. Why is Room not enforcing the UNIQUE index constraint?</p>\n<p>I can verify that the Index is created by exporting the database and viewing on DB Browser there's an Index with create statement <code>CREATE UNIQUE INDEX </code>index_Activity_id_id_from_client<code>ON</code>Activity<code> (</code>id<code>, </code>id_from_client<code>)</code>.</p>\n"},{"tags":["java","performance","oop","websocket","java-websocket"],"answers":[{"tags":[],"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667244892,"creation_date":1667244892,"answer_id":74268308,"question_id":74264664,"body_markdown":"This looks like a good use case for an observer pattern.\r\nYour observer would be your manager class and your observables would be your websocket clients. Any time you create a new websocket client, register your manager class instance with it using the registerObserver method. Then when you desire to forward a message from your websocket client to your manager, you can simply call the notifyObservers method to forward the request out to any registered observers. Take a look at the pattern info here:\r\nhttps://www.baeldung.com/java-observer-pattern\r\n\r\n","title":"Passing data from object to parent in java","body":"<p>This looks like a good use case for an observer pattern.\nYour observer would be your manager class and your observables would be your websocket clients. Any time you create a new websocket client, register your manager class instance with it using the registerObserver method. Then when you desire to forward a message from your websocket client to your manager, you can simply call the notifyObservers method to forward the request out to any registered observers. Take a look at the pattern info here:\n<a href=\"https://www.baeldung.com/java-observer-pattern\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-observer-pattern</a></p>\n"}],"owner":{"account_id":12572331,"reputation":75,"user_id":16976770,"display_name":"Janic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667244892,"creation_date":1667225824,"question_id":74264664,"body_markdown":"In my project I am trying to implement a event handling for my websocket instances. So I basically have 3 classes:\r\n\r\nMy **AuthClient** class which extends a **WebsocketClient** and has onMessage callback. In this onMessage method the websocket can enter different states like &quot;hello&quot;, &quot;pending_finish&quot;, &quot;finish&quot; and so on.\r\n\r\n    public class AuthClient extends WebSocketClient  {\r\n     @Override\r\n     onMessage(String message) {\r\n       switch(message) ... // data events here\r\n     } \r\n    }\r\n\r\n\r\n\r\nI am now trying to write a parent class called **ClientManager** where I want to store and manage multiple websockets.\r\n\r\n    // trying to receive data from specific data events for each client here\r\n    public class ClientManager {\r\n\r\n    private int maxClients;\r\n    private final Map&lt;String, AuthClient&gt; clients;\r\n    private final HashSet&lt;String&gt; tokens;\r\n\r\n    public ClientManager(HashSet&lt;String&gt; tokens, int maxClients) {\r\n        this.tokens = tokens;\r\n        this.maxClients = maxClients;\r\n        this.clients = new HashMap&lt;&gt;(maxClients);\r\n    }\r\n    }\r\n\r\nMy question is, how can I pass data which I receive from a **WebsocketClient** within this onMessage callback to my ClientManager? I need a solution that does not have any great performance loss.\r\n\r\nI already tried implementing an interface with the events, but I don&#39;t quite get it to work with sharing data.\r\n","title":"Passing data from object to parent in java","body":"<p>In my project I am trying to implement a event handling for my websocket instances. So I basically have 3 classes:</p>\n<p>My <strong>AuthClient</strong> class which extends a <strong>WebsocketClient</strong> and has onMessage callback. In this onMessage method the websocket can enter different states like &quot;hello&quot;, &quot;pending_finish&quot;, &quot;finish&quot; and so on.</p>\n<pre><code>public class AuthClient extends WebSocketClient  {\n @Override\n onMessage(String message) {\n   switch(message) ... // data events here\n } \n}\n</code></pre>\n<p>I am now trying to write a parent class called <strong>ClientManager</strong> where I want to store and manage multiple websockets.</p>\n<pre><code>// trying to receive data from specific data events for each client here\npublic class ClientManager {\n\nprivate int maxClients;\nprivate final Map&lt;String, AuthClient&gt; clients;\nprivate final HashSet&lt;String&gt; tokens;\n\npublic ClientManager(HashSet&lt;String&gt; tokens, int maxClients) {\n    this.tokens = tokens;\n    this.maxClients = maxClients;\n    this.clients = new HashMap&lt;&gt;(maxClients);\n}\n}\n</code></pre>\n<p>My question is, how can I pass data which I receive from a <strong>WebsocketClient</strong> within this onMessage callback to my ClientManager? I need a solution that does not have any great performance loss.</p>\n<p>I already tried implementing an interface with the events, but I don't quite get it to work with sharing data.</p>\n"},{"tags":["java","android","url","encode","ansi-escape"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667244508,"post_id":74268139,"comment_id":131120084,"body_markdown":"Your question is unclear. It seems to be not much to do with encoding but removing a lot of cruft from a variable value to leave you with a usable url... `v = v.replaceAll(&quot;.*(https.*)&quot;, &quot;$1&quot;) ;` would be a crude way of approaching it","body":"Your question is unclear. It seems to be not much to do with encoding but removing a lot of cruft from a variable value to leave you with a usable url... <code>v = v.replaceAll(&quot;.*(https.*)&quot;, &quot;$1&quot;) ;</code> would be a crude way of approaching it"}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667244870,"creation_date":1667244870,"answer_id":74268304,"question_id":74268139,"body_markdown":"You have to extract the url first and then encode it. Encoding will not change your string. URL encoding converts characters into a format that can be transmitted over the network.\r\n\r\n            public static void  main(String[] args) {\r\n                List&lt;String&gt; extractedUrls = extractUrls(&quot;output=[\\&quot;https://i5.walmartimages.com/asr/a4ae31fc-572f-45a3-9d2a-4bf311b27e5d_1.ce84f66fa446e24c989f7f43f0a2a665.jpeg?odnHeight=450&amp;odnWidth=450&amp;odnBg=ffffff\\&quot;&quot;);\r\n        \r\n                for (String url : extractedUrls)\r\n                {\r\n                    System.out.println(&quot;url &quot; + url);\r\n                    try {\r\n                        System.out.println(&quot;encodedUrl &quot; + URLEncoder.encode(url, &quot;UTF-8&quot;));\r\n                    } catch (UnsupportedEncodingException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        \r\n            public static List&lt;String&gt; extractUrls(String text)\r\n            {\r\n                List&lt;String&gt; containedUrls = new ArrayList&lt;String&gt;();\r\n                String urlRegex = &quot;((https?|ftp|gopher|telnet|file):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)&quot;;\r\n                Pattern pattern = Pattern.compile(urlRegex, Pattern.CASE_INSENSITIVE);\r\n                Matcher urlMatcher = pattern.matcher(text);\r\n        \r\n                while (urlMatcher.find())\r\n                {\r\n                    containedUrls.add(text.substring(urlMatcher.start(0),\r\n                            urlMatcher.end(0)));\r\n                }\r\n        \r\n                return containedUrls;\r\n            }\r\n\r\nOutput:\r\n\r\n&gt; url\r\n&gt; https://i5.walmartimages.com/asr/a4ae31fc-572f-45a3-9d2a-4bf311b27e5d_1.ce84f66fa446e24c989f7f43f0a2a665.jpeg?odnHeight=450&amp;odnWidth=450&amp;odnBg=ffffff\r\n&gt; \r\n&gt; encodedUrl\r\n&gt; https%3A%2F%2Fi5.walmartimages.com%2Fasr%2Fa4ae31fc-572f-45a3-9d2a-4bf311b27e5d_1.ce84f66fa446e24c989f7f43f0a2a665.jpeg%3FodnHeight%3D450%26odnWidth%3D450%26odnBg%3Dffffff","title":"URL Encoding/Decoding","body":"<p>You have to extract the url first and then encode it. Encoding will not change your string. URL encoding converts characters into a format that can be transmitted over the network.</p>\n<pre><code>        public static void  main(String[] args) {\n            List&lt;String&gt; extractedUrls = extractUrls(&quot;output=[\\&quot;https://i5.walmartimages.com/asr/a4ae31fc-572f-45a3-9d2a-4bf311b27e5d_1.ce84f66fa446e24c989f7f43f0a2a665.jpeg?odnHeight=450&amp;odnWidth=450&amp;odnBg=ffffff\\&quot;&quot;);\n    \n            for (String url : extractedUrls)\n            {\n                System.out.println(&quot;url &quot; + url);\n                try {\n                    System.out.println(&quot;encodedUrl &quot; + URLEncoder.encode(url, &quot;UTF-8&quot;));\n                } catch (UnsupportedEncodingException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    \n        public static List&lt;String&gt; extractUrls(String text)\n        {\n            List&lt;String&gt; containedUrls = new ArrayList&lt;String&gt;();\n            String urlRegex = &quot;((https?|ftp|gopher|telnet|file):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)&quot;;\n            Pattern pattern = Pattern.compile(urlRegex, Pattern.CASE_INSENSITIVE);\n            Matcher urlMatcher = pattern.matcher(text);\n    \n            while (urlMatcher.find())\n            {\n                containedUrls.add(text.substring(urlMatcher.start(0),\n                        urlMatcher.end(0)));\n            }\n    \n            return containedUrls;\n        }\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>url\n<a href=\"https://i5.walmartimages.com/asr/a4ae31fc-572f-45a3-9d2a-4bf311b27e5d_1.ce84f66fa446e24c989f7f43f0a2a665.jpeg?odnHeight=450&amp;odnWidth=450&amp;odnBg=ffffff\" rel=\"nofollow noreferrer\">https://i5.walmartimages.com/asr/a4ae31fc-572f-45a3-9d2a-4bf311b27e5d_1.ce84f66fa446e24c989f7f43f0a2a665.jpeg?odnHeight=450&amp;odnWidth=450&amp;odnBg=ffffff</a></p>\n<p>encodedUrl\nhttps%3A%2F%2Fi5.walmartimages.com%2Fasr%2Fa4ae31fc-572f-45a3-9d2a-4bf311b27e5d_1.ce84f66fa446e24c989f7f43f0a2a665.jpeg%3FodnHeight%3D450%26odnWidth%3D450%26odnBg%3Dffffff</p>\n</blockquote>\n"}],"owner":{"account_id":16167678,"reputation":19,"user_id":11672256,"display_name":"hbtousa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74268304,"answer_count":1,"score":0,"last_activity_date":1667244870,"creation_date":1667243680,"question_id":74268139,"body_markdown":"I have the string below and I am trying to format it as https://any_site/any_item_picture to be able to download the image from any specific server.\r\n\r\n&gt; output=[&quot;https:\\/\\/i5.walmartimages.com\\/asr\\/a4ae31fc-572f-45a3-9d2a-4bf311b27e5d_1.ce84f66fa446e24c989f7f43f0a2a665.jpeg?odnHeight=450&amp;odnWidth=450&amp;odnBg=ffffff&quot;\r\n\r\n\r\nFrom the original variable, my code below replaces backslashes, and some other characters like &quot;[&quot; to URL scape codes, which I don&#39;t need. It also shows an error :\r\n\r\n&gt; W/System.err: java.net.MalformedURLException: no protocol: [&quot;https:\\/\\/i5.walmartimages.com\\/asr\\/a4ae3\r\n\r\nThe code is as follows: \r\n\r\n      @Override\r\n                    public void onResponse(String output) {\r\n                        String backslash = output;\r\n                        String imageurl = null;\r\n                        try {\r\n                            imageurl =  URLEncoder.encode(output, &quot;UTF-8&quot;);\r\n\r\n\r\n                        } catch (UnsupportedEncodingException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n\r\nThe response after running the code:\r\n\r\n&gt; 22-10-31 15:09:20.472 10428-10428/com.example.weatherapp D/response: %5B%22https%3A%5C%2F%5C%2Fi5.walmartimages.com%5C%2Fasr%5C%2Fa4ae31fc-572f-45a3-9d2a-4bf311b27e5d_1.ce84f66fa446e24c989f7f43f0a2a665.jpeg%3FodnHeight%3D450%26odnWidth%3D450%26odnBg%3Dffffff\r\n\r\n\r\nCan anyone please, point in the right direction?\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n","title":"URL Encoding/Decoding","body":"<p>I have the string below and I am trying to format it as https://any_site/any_item_picture to be able to download the image from any specific server.</p>\n<blockquote>\n<p>output=[&quot;https://i5.walmartimages.com/asr/a4ae31fc-572f-45a3-9d2a-4bf311b27e5d_1.ce84f66fa446e24c989f7f43f0a2a665.jpeg?odnHeight=450&amp;odnWidth=450&amp;odnBg=ffffff&quot;</p>\n</blockquote>\n<p>From the original variable, my code below replaces backslashes, and some other characters like &quot;[&quot; to URL scape codes, which I don't need. It also shows an error :</p>\n<blockquote>\n<p>W/System.err: java.net.MalformedURLException: no protocol: [&quot;https://i5.walmartimages.com/asr/a4ae3</p>\n</blockquote>\n<p>The code is as follows:</p>\n<pre><code>  @Override\n                public void onResponse(String output) {\n                    String backslash = output;\n                    String imageurl = null;\n                    try {\n                        imageurl =  URLEncoder.encode(output, &quot;UTF-8&quot;);\n\n\n                    } catch (UnsupportedEncodingException e) {\n                        e.printStackTrace();\n                    }\n</code></pre>\n<p>The response after running the code:</p>\n<blockquote>\n<p>22-10-31 15:09:20.472 10428-10428/com.example.weatherapp D/response: %5B%22https%3A%5C%2F%5C%2Fi5.walmartimages.com%5C%2Fasr%5C%2Fa4ae31fc-572f-45a3-9d2a-4bf311b27e5d_1.ce84f66fa446e24c989f7f43f0a2a665.jpeg%3FodnHeight%3D450%26odnWidth%3D450%26odnBg%3Dffffff</p>\n</blockquote>\n<p>Can anyone please, point in the right direction?</p>\n<p>Thanks</p>\n"},{"tags":["java","maven","automation","cucumber","virtual-machine"],"answers":[{"tags":[],"owner":{"account_id":5416935,"reputation":482,"user_id":4311839,"display_name":"Husseinfo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667244729,"creation_date":1667244729,"answer_id":74268285,"question_id":74268148,"body_markdown":"You might have differences in class path libraries (JARs versions).\r\nCheck your dependencies tree on both environments and compare.\r\n```bash\r\nmvn dependency:tree\r\n```","title":"Intellij throwing Error: Could not find or load main class io.cucumber.core.cli.Main at run time while running on VM ONLY","body":"<p>You might have differences in class path libraries (JARs versions).\nCheck your dependencies tree on both environments and compare.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:tree\n</code></pre>\n"}],"owner":{"account_id":1404094,"reputation":430,"user_id":1332278,"accept_rate":21,"display_name":"itin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667244729,"creation_date":1667243741,"question_id":74268148,"body_markdown":"I have setup the cucumber project on Window VM on intellij editor. While execution of feature file I am getting below error:\r\n\r\n    Error: Could not find or load main class io.cucumber.core.cli.Main    \r\n    Caused by: java.lang.ClassNotFoundException: io.cucumber.core.cli.Main\r\n\r\nHow ever when I run this same program on my local it works fine. Might be some permission issue on VM not sure. In run configuration system is finding the class.\r\n\r\nthanks","title":"Intellij throwing Error: Could not find or load main class io.cucumber.core.cli.Main at run time while running on VM ONLY","body":"<p>I have setup the cucumber project on Window VM on intellij editor. While execution of feature file I am getting below error:</p>\n<pre><code>Error: Could not find or load main class io.cucumber.core.cli.Main    \nCaused by: java.lang.ClassNotFoundException: io.cucumber.core.cli.Main\n</code></pre>\n<p>How ever when I run this same program on my local it works fine. Might be some permission issue on VM not sure. In run configuration system is finding the class.</p>\n<p>thanks</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667244506,"post_id":74268224,"comment_id":131120082,"body_markdown":"I wouldn&#39;t expect this to be possible, other than by verifying any effects of the base class methods.","body":"I wouldn&#39;t expect this to be possible, other than by verifying any effects of the base class methods."},{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1667250608,"post_id":74268224,"comment_id":131121561,"body_markdown":"Would this help?\nhttps://stackoverflow.com/questions/24896636/how-to-verify-invocation-of-super-method-of-parent-class\nthey are calling the super method using a separate method so Mockito can spy.","body":"Would this help? <a href=\"https://stackoverflow.com/questions/24896636/how-to-verify-invocation-of-super-method-of-parent-class\" title=\"how to verify invocation of super method of parent class\">stackoverflow.com/questions/24896636/&hellip;</a> they are calling the super method using a separate method so Mockito can spy."},{"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"score":0,"creation_date":1667251991,"post_id":74268224,"comment_id":131121836,"body_markdown":"@SanuraHettiarachchi I found that before but didn&#39;t help in my case as I have to test the protected method which gets me the same issue","body":"@SanuraHettiarachchi I found that before but didn&#39;t help in my case as I have to test the protected method which gets me the same issue"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667261357,"post_id":74268224,"comment_id":131123530,"body_markdown":"As @LouisWasserman already said, I would strongly recommend to test behaviour, not implementation. In general, we should not car *what* is called, as long as the behaviour is correct.","body":"As @LouisWasserman already said, I would strongly recommend to test behaviour, not implementation. In general, we should not car <i>what</i> is called, as long as the behaviour is correct."}],"owner":{"account_id":7580118,"reputation":950,"user_id":5751045,"accept_rate":92,"display_name":"user09"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667244554,"creation_date":1667244324,"question_id":74268224,"body_markdown":"    class BaseService {\r\n        public void print(String msg) {\r\n           //something\r\n        }\r\n    }\r\n    \r\n    class ChildService extends BaseService {\r\n        @Override\r\n        public void print(String msg) {\r\n            super.print(msg)\r\n        }\r\n    }\r\nI am trying to write junit test to verify that super class method is called. Tried few threads with similar questions but not seem to close to this. \r\nOne example is \r\n\r\n            BaseService classToTest = Mockito.spy(new BaseService();\r\n            Mockito.doNothing().when((ChildService)classToTest).print(&quot;test message&quot;);\r\n            classToTest.print(&quot;test message&quot;);\r\n            verify(classToTest).print(&quot;test message&quot;);\r\nbut this is not verifying the super class method call but verifying the base class call","title":"verify the super class method is called","body":"<pre><code>class BaseService {\n    public void print(String msg) {\n       //something\n    }\n}\n\nclass ChildService extends BaseService {\n    @Override\n    public void print(String msg) {\n        super.print(msg)\n    }\n}\n</code></pre>\n<p>I am trying to write junit test to verify that super class method is called. Tried few threads with similar questions but not seem to close to this.\nOne example is</p>\n<pre><code>        BaseService classToTest = Mockito.spy(new BaseService();\n        Mockito.doNothing().when((ChildService)classToTest).print(&quot;test message&quot;);\n        classToTest.print(&quot;test message&quot;);\n        verify(classToTest).print(&quot;test message&quot;);\n</code></pre>\n<p>but this is not verifying the super class method call but verifying the base class call</p>\n"},{"tags":["java","xml","servlets","jetty"],"answers":[{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1667244476,"creation_date":1504641144,"answer_id":46062414,"question_id":46022763,"body_markdown":"# Consumes Annotation\r\n\r\n[Consume][1] the event using a JAX-RS annotation provided by [Apache CXF][2]:\r\n\r\n    @Consumes(&quot;multipart/related&quot;)\r\n\r\nFrom the JAX-RS documentation:\r\n\r\n&gt; It is now possible (since 2.2.5) to have individual `multipart/form-data` parts read by registered JAX-RS MessageBodyReaders, something that is already possible to do for types like `multipart/mixed` or `multipart/related`.\r\n\r\nSee also:\r\n\r\n* https://stackoverflow.com/q/38838926/59087\r\n* https://stackoverflow.com/q/23982065/59087\r\n\r\nNote that Jersey, which is used by GlassFish, has no mention of `related` in its [source code][3].\r\n\r\n# HTTP Client\r\n\r\nGoogle offers an [API][4] for an [HTTP client][5] that parses `multipart/related` messages as per the [RFC][6].\r\n\r\n# RESTeasy\r\n\r\nThe [RESTeasy][7] project can parse [`multipart/related`][8] content via JAX-RS.\r\n\r\n# JavaMail API\r\n\r\nWith some stream contortions, it may be possible to use the JavaMail API to parse a [MimeMultipart][9] message:\r\n\r\n&gt; The default multipart subtype is &quot;mixed&quot;. The other multipart subtypes, such as &quot;alternative&quot;, &quot;related&quot;, and so on, can be implemented as subclasses of MimeMultipart with additional methods to implement the additional semantics of that type of multipart content.\r\n\r\nThe [JavaMail FAQ][10] offers a few more details:\r\n\r\n&gt; As described above, there are more complex cases to consider as well. In particular, messages may have arbitrary nesting of `multipart/mixed` and `multipart/alternative` parts and may include `multipart/related` parts for embedded HTML and `multipart/signed` and/or `multipart/encrypted` parts for secure messages.\r\n\r\nI&#39;d advise against this approach because it mixes metaphors (it conflates MIME over HTTP/web with MIME over SMTP/mail). That is, JavaMail, conceptually, is used for reading and writing messages over SMTP/IMAP, which could leave future maintainers wondering why JavaMail is being used to parse MIME messages received via Servlets, especially when there are annotation-based solutions available. That said, documenting the code with the reason for its usage would be a way to avoid any confusion.\r\n\r\n# Container\r\n\r\nDepending on the container, it may or may not handle all pertinent RFCs. You may have to try (or peruse the source code of) different containers to see what ones implement this feature.\r\n\r\n## Jetty\r\n\r\nThe [source code][11] has a few spots related to parsing input streams, which are limited to `multipart/form-data`:\r\n\r\n* [MultiPartFilter][12]\r\n* [MultiPartInputStreamParser][13]\r\n\r\nAdditionally, the [unit tests][14] do not include [RFC 2387][15], which is a strong indicator that the container does not handle `related` parts under the Servlet 3.0 API. As such, JAX-RS is probably the best approach.\r\n\r\n## Tomcat\r\n\r\nTomcat has [not implemented][16] `multipart/related` as part of the Servlet 3.0 specification, although there exists a patched version of Tomcat 7.0.47 that does.\r\n\r\n\r\n  [1]: http://cxf.apache.org/docs/jax-rs-multiparts.html#JAX-RSMultiparts-Formsandmultiparts\r\n  [2]: http://cxf.apache.org/\r\n  [3]: https://github.com/jersey/jersey/blob/master/media/multipart/src/main/java/org/glassfish/jersey/media/multipart/MultiPartMediaTypes.java\r\n  [4]: https://cloud.google.com/java/docs/reference/google-http-client/latest/com.google.api.client.http.MultipartContent\r\n  [5]: https://cloud.google.com/java/docs/reference/google-http-client/latest/overview\r\n  [6]: https://www.rfc-editor.org/rfc/rfc1521#section-7.2.2\r\n  [7]: http://resteasy.jboss.org/\r\n  [8]: https://docs.jboss.org/resteasy/2.0.0.GA/userguide/html_single/#MultipartRelated\r\n  [9]: http://docs.oracle.com/javaee/7/api/javax/mail/internet/MimeMultipart.html\r\n  [10]: https://javaee.github.io/javamail/FAQ\r\n  [11]: https://github.com/eclipse/jetty.project\r\n  [12]: https://github.com/eclipse/jetty.project/blob/71d5fcf246034dce91cd642d35cdbaace9806329/jetty-servlets/src/main/java/org/eclipse/jetty/servlets/MultiPartFilter.java#L146\r\n  [13]: https://github.com/eclipse/jetty.project/blob/71d5fcf246034dce91cd642d35cdbaace9806329/jetty-util/src/main/java/org/eclipse/jetty/util/MultiPartInputStreamParser.java#L505\r\n  [14]: https://github.com/eclipse/jetty.project/tree/71d5fcf246034dce91cd642d35cdbaace9806329/tests/test-integration/src/test/java/org/eclipse/jetty/test/rfcs\r\n  [15]: https://www.rfc-editor.org/rfc/rfc2387\r\n  [16]: https://bz.apache.org/bugzilla/show_bug.cgi?id=54917","title":"Handle &quot;multipart/related&quot; in java servlet","body":"<h1>Consumes Annotation</h1>\n<p><a href=\"http://cxf.apache.org/docs/jax-rs-multiparts.html#JAX-RSMultiparts-Formsandmultiparts\" rel=\"nofollow noreferrer\">Consume</a> the event using a JAX-RS annotation provided by <a href=\"http://cxf.apache.org/\" rel=\"nofollow noreferrer\">Apache CXF</a>:</p>\n<pre><code>@Consumes(&quot;multipart/related&quot;)\n</code></pre>\n<p>From the JAX-RS documentation:</p>\n<blockquote>\n<p>It is now possible (since 2.2.5) to have individual <code>multipart/form-data</code> parts read by registered JAX-RS MessageBodyReaders, something that is already possible to do for types like <code>multipart/mixed</code> or <code>multipart/related</code>.</p>\n</blockquote>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/38838926/59087\">Spring boot multipart/related mime type support</a></li>\n<li><a href=\"https://stackoverflow.com/q/23982065/59087\">Jersey: How to register MultiPartConfigProvider class</a></li>\n</ul>\n<p>Note that Jersey, which is used by GlassFish, has no mention of <code>related</code> in its <a href=\"https://github.com/jersey/jersey/blob/master/media/multipart/src/main/java/org/glassfish/jersey/media/multipart/MultiPartMediaTypes.java\" rel=\"nofollow noreferrer\">source code</a>.</p>\n<h1>HTTP Client</h1>\n<p>Google offers an <a href=\"https://cloud.google.com/java/docs/reference/google-http-client/latest/com.google.api.client.http.MultipartContent\" rel=\"nofollow noreferrer\">API</a> for an <a href=\"https://cloud.google.com/java/docs/reference/google-http-client/latest/overview\" rel=\"nofollow noreferrer\">HTTP client</a> that parses <code>multipart/related</code> messages as per the <a href=\"https://www.rfc-editor.org/rfc/rfc1521#section-7.2.2\" rel=\"nofollow noreferrer\">RFC</a>.</p>\n<h1>RESTeasy</h1>\n<p>The <a href=\"http://resteasy.jboss.org/\" rel=\"nofollow noreferrer\">RESTeasy</a> project can parse <a href=\"https://docs.jboss.org/resteasy/2.0.0.GA/userguide/html_single/#MultipartRelated\" rel=\"nofollow noreferrer\"><code>multipart/related</code></a> content via JAX-RS.</p>\n<h1>JavaMail API</h1>\n<p>With some stream contortions, it may be possible to use the JavaMail API to parse a <a href=\"http://docs.oracle.com/javaee/7/api/javax/mail/internet/MimeMultipart.html\" rel=\"nofollow noreferrer\">MimeMultipart</a> message:</p>\n<blockquote>\n<p>The default multipart subtype is &quot;mixed&quot;. The other multipart subtypes, such as &quot;alternative&quot;, &quot;related&quot;, and so on, can be implemented as subclasses of MimeMultipart with additional methods to implement the additional semantics of that type of multipart content.</p>\n</blockquote>\n<p>The <a href=\"https://javaee.github.io/javamail/FAQ\" rel=\"nofollow noreferrer\">JavaMail FAQ</a> offers a few more details:</p>\n<blockquote>\n<p>As described above, there are more complex cases to consider as well. In particular, messages may have arbitrary nesting of <code>multipart/mixed</code> and <code>multipart/alternative</code> parts and may include <code>multipart/related</code> parts for embedded HTML and <code>multipart/signed</code> and/or <code>multipart/encrypted</code> parts for secure messages.</p>\n</blockquote>\n<p>I'd advise against this approach because it mixes metaphors (it conflates MIME over HTTP/web with MIME over SMTP/mail). That is, JavaMail, conceptually, is used for reading and writing messages over SMTP/IMAP, which could leave future maintainers wondering why JavaMail is being used to parse MIME messages received via Servlets, especially when there are annotation-based solutions available. That said, documenting the code with the reason for its usage would be a way to avoid any confusion.</p>\n<h1>Container</h1>\n<p>Depending on the container, it may or may not handle all pertinent RFCs. You may have to try (or peruse the source code of) different containers to see what ones implement this feature.</p>\n<h2>Jetty</h2>\n<p>The <a href=\"https://github.com/eclipse/jetty.project\" rel=\"nofollow noreferrer\">source code</a> has a few spots related to parsing input streams, which are limited to <code>multipart/form-data</code>:</p>\n<ul>\n<li><a href=\"https://github.com/eclipse/jetty.project/blob/71d5fcf246034dce91cd642d35cdbaace9806329/jetty-servlets/src/main/java/org/eclipse/jetty/servlets/MultiPartFilter.java#L146\" rel=\"nofollow noreferrer\">MultiPartFilter</a></li>\n<li><a href=\"https://github.com/eclipse/jetty.project/blob/71d5fcf246034dce91cd642d35cdbaace9806329/jetty-util/src/main/java/org/eclipse/jetty/util/MultiPartInputStreamParser.java#L505\" rel=\"nofollow noreferrer\">MultiPartInputStreamParser</a></li>\n</ul>\n<p>Additionally, the <a href=\"https://github.com/eclipse/jetty.project/tree/71d5fcf246034dce91cd642d35cdbaace9806329/tests/test-integration/src/test/java/org/eclipse/jetty/test/rfcs\" rel=\"nofollow noreferrer\">unit tests</a> do not include <a href=\"https://www.rfc-editor.org/rfc/rfc2387\" rel=\"nofollow noreferrer\">RFC 2387</a>, which is a strong indicator that the container does not handle <code>related</code> parts under the Servlet 3.0 API. As such, JAX-RS is probably the best approach.</p>\n<h2>Tomcat</h2>\n<p>Tomcat has <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=54917\" rel=\"nofollow noreferrer\">not implemented</a> <code>multipart/related</code> as part of the Servlet 3.0 specification, although there exists a patched version of Tomcat 7.0.47 that does.</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1505112067,"post_id":46125485,"comment_id":79260624,"body_markdown":"This answer does not add anything new on top of the already given answer. It seems to be posted merely for sake of points.","body":"This answer does not add anything new on top of the already given answer. It seems to be posted merely for sake of points."}],"tags":[],"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1504911220,"creation_date":1504911220,"answer_id":46125485,"question_id":46022763,"body_markdown":"You can use the JavaMail library and read the data in as &quot;mail&quot;. You end up with a MimeMessage and can go through the BodyParts for processing. Usage is quite straight forward, I used this approach to implement an AS2 server and I&#39;ve seen other implementations of AS2 doing the same, so it&#39;s a quite common approach.\r\n\r\nI don&#39;t see a conflict of standards here. The whole request format is MIME, so handling it by a library intended for processing MIME encoded messages is in my eyes a correct way of handling things.","title":"Handle &quot;multipart/related&quot; in java servlet","body":"<p>You can use the JavaMail library and read the data in as \"mail\". You end up with a MimeMessage and can go through the BodyParts for processing. Usage is quite straight forward, I used this approach to implement an AS2 server and I've seen other implementations of AS2 doing the same, so it's a quite common approach.</p>\n\n<p>I don't see a conflict of standards here. The whole request format is MIME, so handling it by a library intended for processing MIME encoded messages is in my eyes a correct way of handling things.</p>\n"}],"owner":{"account_id":2253556,"reputation":1857,"user_id":1985273,"accept_rate":60,"display_name":"user1985273"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4505,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46062414,"answer_count":2,"score":4,"last_activity_date":1667244476,"creation_date":1504436437,"question_id":46022763,"body_markdown":"A Servlet, running under Jetty 8, receives the following request:\r\n\r\n    Header:\r\n    Content-Type = multipart/related; boundary=example\r\n\r\n    Data:\r\n    \r\n    --example\r\n    content-type: text/xml; charset=UTF-8\r\n    \r\n    data1here\r\n    \r\n    --example\r\n    content-type: text/xml; charset=UTF-8\r\n    \r\n    data2here\r\n    \r\n    --example--\r\n\r\n* Is there a convenient way of getting &quot;data1here&quot; and &quot;data2here&quot; from this kind of a request?\r\n* Do Java servlets support it, natively?\r\n* Or are there any additional libraries that support it?","title":"Handle &quot;multipart/related&quot; in java servlet","body":"<p>A Servlet, running under Jetty 8, receives the following request:</p>\n\n<pre><code>Header:\nContent-Type = multipart/related; boundary=example\n\nData:\n\n--example\ncontent-type: text/xml; charset=UTF-8\n\ndata1here\n\n--example\ncontent-type: text/xml; charset=UTF-8\n\ndata2here\n\n--example--\n</code></pre>\n\n<ul>\n<li>Is there a convenient way of getting \"data1here\" and \"data2here\" from this kind of a request?</li>\n<li>Do Java servlets support it, natively?</li>\n<li>Or are there any additional libraries that support it?</li>\n</ul>\n"},{"tags":["java","regex","validation"],"comments":[{"owner":{"account_id":4325861,"reputation":83,"user_id":3532724,"display_name":"D_action"},"score":0,"creation_date":1667218971,"post_id":74262807,"comment_id":131111052,"body_markdown":"I see that your regex contains a lot of digits matching and I don&#39;t know if it&#39;s all necessary in your case, can you try this one and see if it matches you need: `^http(s?)://(w{3}\\.)?[\\w\\.\\-\\/]*$`","body":"I see that your regex contains a lot of digits matching and I don&#39;t know if it&#39;s all necessary in your case, can you try this one and see if it matches you need: <code>^http(s?):&#47;&#47;(w{3}\\.)?[\\w\\.\\-\\&#47;]*$</code>"}],"answers":[{"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667222795,"post_id":74263403,"comment_id":131112462,"body_markdown":"In my opinion, the focus of the answer should be on the regular expression, not in providing a different solution specifically for URLs. What if the OP has a similar problem in the future with a regular expression that is _not_ an URL?","body":"In my opinion, the focus of the answer should be on the regular expression, not in providing a different solution specifically for URLs. What if the OP has a similar problem in the future with a regular expression that is <i>not</i> an URL?"}],"tags":[],"owner":{"account_id":25679784,"reputation":85,"user_id":19442733,"display_name":"TDev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667219950,"creation_date":1667219950,"answer_id":74263403,"question_id":74262807,"body_markdown":"You can use the `@URL` Annotation or `org.apache.commons.validator.UrlValidator` to do that.\r\n\r\nExample:\r\n\r\n```java\r\n        UrlValidator crunchifyURLValidator = new UrlValidator();\r\n        \r\n        String url = &quot;https://crunchify.com&quot;;\r\n        if (crunchifyURLValidator.isValid(url)) {\r\n            crunchifyLog(&quot;Hey. URL &quot; + url + &quot; is valid&quot;);\r\n        } else {\r\n            crunchifyLog(&quot;Hey. URL &quot; + url + &quot; is not valid&quot;);\r\n        }\r\n```","title":"Java String URL Validation","body":"<p>You can use the <code>@URL</code> Annotation or <code>org.apache.commons.validator.UrlValidator</code> to do that.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        UrlValidator crunchifyURLValidator = new UrlValidator();\n        \n        String url = &quot;https://crunchify.com&quot;;\n        if (crunchifyURLValidator.isValid(url)) {\n            crunchifyLog(&quot;Hey. URL &quot; + url + &quot; is valid&quot;);\n        } else {\n            crunchifyLog(&quot;Hey. URL &quot; + url + &quot; is not valid&quot;);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667224169,"post_id":74264092,"comment_id":131112992,"body_markdown":"Can you expand on your solution? &quot;_i_ [sic] _expanded your solution..._&quot; is too vague to be a helpful answer.","body":"Can you expand on your solution? &quot;<i>i</i> [sic] <i>expanded your solution...</i>&quot; is too vague to be a helpful answer."}],"tags":[],"owner":{"account_id":13035982,"reputation":41,"user_id":9420892,"display_name":"H.beuhier"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667223307,"creation_date":1667223307,"answer_id":74264092,"question_id":74262807,"body_markdown":"The issue was with the lenght of string permitted by the regexp for the TLD, which was {1,6}--\r\n```.[a-zA-Z0-9()]{1,6}\\\\b``` i expanded the range and it accommodated a longer TLD name.","title":"Java String URL Validation","body":"<p>The issue was with the lenght of string permitted by the regexp for the TLD, which was {1,6}--\n<code>.[a-zA-Z0-9()]{1,6}\\\\b</code> i expanded the range and it accommodated a longer TLD name.</p>\n"},{"tags":[],"owner":{"account_id":4916558,"reputation":87,"user_id":3960350,"accept_rate":100,"display_name":"Mustapha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667226722,"creation_date":1667226722,"answer_id":74264870,"question_id":74262807,"body_markdown":"    .[a-zA-Z0-9()]{1,6}\\\\b\r\nthis regex says that any lowercase uppercase or number but the string length shouldn&#39;t be inferior of 1 or supperior of 6 caracter \r\n\r\nyou have just to increase the length to max you expected  for example &quot;systems&quot; has 7 caracters you do:\r\n\r\n    .[a-zA-Z0-9()]{1,7}\\\\b\r\n\r\nor\r\n\r\n    .[a-zA-Z0-9()]{1,8}\\\\b\r\n\r\nto be sure","title":"Java String URL Validation","body":"<pre><code>.[a-zA-Z0-9()]{1,6}\\\\b\n</code></pre>\n<p>this regex says that any lowercase uppercase or number but the string length shouldn't be inferior of 1 or supperior of 6 caracter</p>\n<p>you have just to increase the length to max you expected  for example &quot;systems&quot; has 7 caracters you do:</p>\n<pre><code>.[a-zA-Z0-9()]{1,7}\\\\b\n</code></pre>\n<p>or</p>\n<pre><code>.[a-zA-Z0-9()]{1,8}\\\\b\n</code></pre>\n<p>to be sure</p>\n"}],"owner":{"account_id":13035982,"reputation":41,"user_id":9420892,"display_name":"H.beuhier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667243904,"creation_date":1667216855,"question_id":74262807,"body_markdown":"I am trying to validate s String url in my java application using @Pattern annotation of the javax validation library. \r\n```\r\n@Pattern(message = &quot;Must be a valid URL&quot;, regexp = &quot;https?:\\\\/\\\\/(www\\\\.)?[-a-zA-Z0-9@:%._\\\\+~#=]{1,256}\\\\.[a-zA-Z0-9()]{1,6}\\\\b([-a-zA-Z0-9()@:%_\\\\+.~#?&amp;//=]*)&quot;)\r\n```\r\nWhen i submit a url in the url in this format; ```https://www.test.com``` it is successful but url in this format ```https://api-apps.testapp.systems/test-service/v1/test```, it fails the validation.\r\n\r\nThe issue is with the ```.com``` The same url with ```.systems``` fail but with ```.com``` passes.\r\n\r\nHow can i make my regular expression allow all kinds of urls .com, .edu or .systems regardless ??","title":"Java String URL Validation","body":"<p>I am trying to validate s String url in my java application using @Pattern annotation of the javax validation library.</p>\n<pre><code>@Pattern(message = &quot;Must be a valid URL&quot;, regexp = &quot;https?:\\\\/\\\\/(www\\\\.)?[-a-zA-Z0-9@:%._\\\\+~#=]{1,256}\\\\.[a-zA-Z0-9()]{1,6}\\\\b([-a-zA-Z0-9()@:%_\\\\+.~#?&amp;//=]*)&quot;)\n</code></pre>\n<p>When i submit a url in the url in this format; <code>https://www.test.com</code> it is successful but url in this format <code>https://api-apps.testapp.systems/test-service/v1/test</code>, it fails the validation.</p>\n<p>The issue is with the <code>.com</code> The same url with <code>.systems</code> fail but with <code>.com</code> passes.</p>\n<p>How can i make my regular expression allow all kinds of urls .com, .edu or .systems regardless ??</p>\n"},{"tags":["java","spring-boot","jwt","spring-cloud","api-gateway"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1666988839,"post_id":74240402,"comment_id":131073012,"body_markdown":"do other service has same authenticaton too ? after passing api-gateway, same token can be used or you can implement without authentication for those services.","body":"do other service has same authenticaton too ? after passing api-gateway, same token can be used or you can implement without authentication for those services."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666989137,"post_id":74240402,"comment_id":131073094,"body_markdown":"I can get token when I send a request to localhost:9090/login but I can send a request without it to other services like payment service, order service and product service. What I really want to do is to send a request to relevant service within authentication. I couldn&#39; t fix the issue in api gateway if the problem is there.","body":"I can get token when I send a request to localhost:9090/login but I can send a request without it to other services like payment service, order service and product service. What I really want to do is to send a request to relevant service within authentication. I couldn&#39; t fix the issue in api gateway if the problem is there."},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1666989757,"post_id":74240402,"comment_id":131073260,"body_markdown":"do you mean send without token to other services ? then add authentication to other services too.","body":"do you mean send without token to other services ? then add authentication to other services too."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666993652,"post_id":74240402,"comment_id":131074100,"body_markdown":"Yeah I can send it without token or with token to other services? I want to do that through token but I couldn&#39;t.","body":"Yeah I can send it without token or with token to other services? I want to do that through token but I couldn&#39;t."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667688329,"post_id":74240402,"comment_id":131227020,"body_markdown":"@muhammedozbilici I get this issue now. Here is the link : https://stackoverflow.com/questions/74304377/spring-cloud-api-gateway-jwt-issue-java-lang-classnotfoundexception-javax-xml-b","body":"@muhammedozbilici I get this issue now. Here is the link : <a href=\"https://stackoverflow.com/questions/74304377/spring-cloud-api-gateway-jwt-issue-java-lang-classnotfoundexception-javax-xml-b\" title=\"spring cloud api gateway jwt issue java lang classnotfoundexception javax xml b\">stackoverflow.com/questions/74304377/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667042070,"post_id":74243851,"comment_id":131079865,"body_markdown":"I implemented an auth service. How can I do that? Can you tell me how to do that step by step or share some example regarding it if you don&#39;t mind?","body":"I implemented an auth service. How can I do that? Can you tell me how to do that step by step or share some example regarding it if you don&#39;t mind?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667043913,"post_id":74243851,"comment_id":131080134,"body_markdown":"@invzbl3 There is no problem in auth service. I cannot implement the process in api gateway as I don&#39;t know how to do that?","body":"@invzbl3 There is no problem in auth service. I cannot implement the process in api gateway as I don&#39;t know how to do that?"},{"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"score":0,"creation_date":1667065469,"post_id":74243851,"comment_id":131084599,"body_markdown":"I think everything is fine in auth service, you register, login, then you get the token. but your problem as I see in your postman is that you are calling external services directly. you either add the security to each service or use Feign client to call the external services only after the user is authenticated. this is very simple. if all your codes work right as you said, then create a pull request in Github add your auth service and I will try to add the Feign Client implementation for you.","body":"I think everything is fine in auth service, you register, login, then you get the token. but your problem as I see in your postman is that you are calling external services directly. you either add the security to each service or use Feign client to call the external services only after the user is authenticated. this is very simple. if all your codes work right as you said, then create a pull request in Github add your auth service and I will try to add the Feign Client implementation for you."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667070552,"post_id":74243851,"comment_id":131085611,"body_markdown":"I revised some codes in api gateway. I updated my repository again.  I hope you can solve this issue. By the way, I can run zipkin and redis on docker through these command (`docker run -d -p 9411:9411 openzipkin/zipkin\ndocker run -d --name redis -p 6379:6379 redis`)","body":"I revised some codes in api gateway. I updated my repository again.  I hope you can solve this issue. By the way, I can run zipkin and redis on docker through these command (<code>docker run -d -p 9411:9411 openzipkin&#47;zipkin docker run -d --name redis -p 6379:6379 redis</code>)"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667137981,"post_id":74243851,"comment_id":131094869,"body_markdown":"Have you ever looked through it?","body":"Have you ever looked through it?"},{"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"score":0,"creation_date":1667155409,"post_id":74243851,"comment_id":131098692,"body_markdown":"hi bro I forked your repository and opened it in my local machine, it has too many errors, I edit the answer with the image so you can see.","body":"hi bro I forked your repository and opened it in my local machine, it has too many errors, I edit the answer with the image so you can see."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667162877,"post_id":74243851,"comment_id":131100247,"body_markdown":"Hi, I just updated my repository again as I forgot to add product service. I used Java 11 Version. What kind of error did you get?","body":"Hi, I just updated my repository again as I forgot to add product service. I used Java 11 Version. What kind of error did you get?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667167448,"post_id":74243851,"comment_id":131101146,"body_markdown":"I also added some screenshots.","body":"I also added some screenshots."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667242096,"post_id":74243851,"comment_id":131119418,"body_markdown":"Have you ever looked through it since its latest update?","body":"Have you ever looked through it since its latest update?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668380349,"post_id":74243851,"comment_id":131385001,"body_markdown":"What I just want to say is to inform that I fixed the issue. However, I cannot handle with the my latest post mentioned about the jwt issue. If you have any idea, can you help me?","body":"What I just want to say is to inform that I fixed the issue. However, I cannot handle with the my latest post mentioned about the jwt issue. If you have any idea, can you help me?"}],"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667155472,"creation_date":1667031991,"answer_id":74243851,"question_id":74240402,"body_markdown":"see the error image[![errors][1]][1]\r\nwhere do you call other services from? is it your apigateway controller?\r\nI didn&#39;t see any method to call other services, you need to implement methods to call other services, either using feign or spring api gateway (add the relative dependency).\r\nfurther more, this is from your apigate config, its not complete and you are permitting all requests as well.\r\n\r\n        public class SecurityConfig {\r\n        \r\n            @Bean\r\n            public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity serverHttpSecurity){\r\n        \r\n                serverHttpSecurity.cors().and().csrf().disable()\r\n                        .authorizeExchange(exchange -&gt; exchange\r\n                                .anyExchange()\r\n                                .permitAll());\r\n                return serverHttpSecurity.build();\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ld0It.jpg","title":"Spring Boot Microservices Issue - Send any request to any service without the usage of bearer token","body":"<p>see the error image<a href=\"https://i.stack.imgur.com/Ld0It.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ld0It.jpg\" alt=\"errors\" /></a>\nwhere do you call other services from? is it your apigateway controller?\nI didn't see any method to call other services, you need to implement methods to call other services, either using feign or spring api gateway (add the relative dependency).\nfurther more, this is from your apigate config, its not complete and you are permitting all requests as well.</p>\n<pre><code>    public class SecurityConfig {\n    \n        @Bean\n        public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity serverHttpSecurity){\n    \n            serverHttpSecurity.cors().and().csrf().disable()\n                    .authorizeExchange(exchange -&gt; exchange\n                            .anyExchange()\n                            .permitAll());\n            return serverHttpSecurity.build();\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667244662,"post_id":74268154,"comment_id":131120121,"body_markdown":"All these services are working. I already shared some screenshots to show them.","body":"All these services are working. I already shared some screenshots to show them."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667340822,"post_id":74268154,"comment_id":131143826,"body_markdown":"I have no idea why you couldn&#39;t run the app. All services are working. Could you tell me what the issue is?","body":"I have no idea why you couldn&#39;t run the app. All services are working. Could you tell me what the issue is?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667688310,"post_id":74268154,"comment_id":131227015,"body_markdown":"I get this issue now. Here is the link : https://stackoverflow.com/questions/74304377/spring-cloud-api-gateway-jwt-issue-java-lang-classnotfoundexception-javax-xml-b","body":"I get this issue now. Here is the link : <a href=\"https://stackoverflow.com/questions/74304377/spring-cloud-api-gateway-jwt-issue-java-lang-classnotfoundexception-javax-xml-b\" title=\"spring cloud api gateway jwt issue java lang classnotfoundexception javax xml b\">stackoverflow.com/questions/74304377/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669676469,"post_id":74268154,"comment_id":131692524,"body_markdown":"Can you look through my another question if you don&#39;t mind? Here is the link : https://stackoverflow.com/questions/74586470/spring-boot-microservices-spring-cloud-403-forbidden-among-services-control","body":"Can you look through my another question if you don&#39;t mind? Here is the link : <a href=\"https://stackoverflow.com/questions/74586470/spring-boot-microservices-spring-cloud-403-forbidden-among-services-control\" title=\"spring boot microservices spring cloud 403 forbidden among services control\">stackoverflow.com/questions/74586470/&hellip;</a>"}],"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667243778,"creation_date":1667243778,"answer_id":74268154,"question_id":74240402,"body_markdown":"I couldn&#39;t look into your code, cause there are a lot of errors like this one below: \r\n\r\n \r\n\r\n    private final UserService userService;\r\n\r\nI don&#39;t know how it&#39;s working for you!!\r\n\r\n&gt; Declaring final variable without initialization If you declare a final\r\n&gt; variable later on you cannot modify or, assign values to it. Moreover,\r\n&gt; like instance variables, final variables will not be initialized with\r\n&gt; default values.\r\n&gt; \r\n&gt; Therefore, it is mandatory to initialize final variables once you\r\n&gt; declare them.\r\n&gt; \r\n&gt; Still, if you try to declare final variables without initialization\r\n&gt; that will generate a compilation error saying &quot;variable variable_name\r\n&gt; not initialized in the default constructor&quot;\r\n\r\nfor csrf error try to add this one to your security config.\r\n\r\n    http.csrf().disable();","title":"Spring Boot Microservices Issue - Send any request to any service without the usage of bearer token","body":"<p>I couldn't look into your code, cause there are a lot of errors like this one below:</p>\n<pre><code>private final UserService userService;\n</code></pre>\n<p>I don't know how it's working for you!!</p>\n<blockquote>\n<p>Declaring final variable without initialization If you declare a final\nvariable later on you cannot modify or, assign values to it. Moreover,\nlike instance variables, final variables will not be initialized with\ndefault values.</p>\n<p>Therefore, it is mandatory to initialize final variables once you\ndeclare them.</p>\n<p>Still, if you try to declare final variables without initialization\nthat will generate a compilation error saying &quot;variable variable_name\nnot initialized in the default constructor&quot;</p>\n</blockquote>\n<p>for csrf error try to add this one to your security config.</p>\n<pre><code>http.csrf().disable();\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1667243778,"creation_date":1666987714,"question_id":74240402,"body_markdown":"I have a problem about sending any request to the relevant service through api gateway.\r\n\r\nI have an issue after adding auth service.\r\n\r\n\r\nWhat I really want to do is to send any request to other service after authentication.\r\n\r\nI think there can be problem in api gateway but I couldn&#39;t solve it?\r\n\r\nBefore starting to run all services, run zipkin and redis on docker.\r\nHere are their commands as shown belowed.\r\n\r\n    docker run -d -p 9411:9411 openzipkin/zipkin \r\n    docker run -d --name redis -p 6379:6379 redis\r\n\r\nHere is the error message shown below.\r\n\r\n    An expected CSRF token cannot be found (403 Forbidden)\r\n\r\n\r\nHow can I do that?\r\n\r\nHere is the link of example : [Link][1]\r\n\r\nHere is the screenshots : [Link][2]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/microservicecoursedailybuffer\r\n  [2]: https://drive.google.com/drive/folders/1BCMSj9STszd-GaHWJZE4a0IuLpUcXBxj?usp=sharing","title":"Spring Boot Microservices Issue - Send any request to any service without the usage of bearer token","body":"<p>I have a problem about sending any request to the relevant service through api gateway.</p>\n<p>I have an issue after adding auth service.</p>\n<p>What I really want to do is to send any request to other service after authentication.</p>\n<p>I think there can be problem in api gateway but I couldn't solve it?</p>\n<p>Before starting to run all services, run zipkin and redis on docker.\nHere are their commands as shown belowed.</p>\n<pre><code>docker run -d -p 9411:9411 openzipkin/zipkin \ndocker run -d --name redis -p 6379:6379 redis\n</code></pre>\n<p>Here is the error message shown below.</p>\n<pre><code>An expected CSRF token cannot be found (403 Forbidden)\n</code></pre>\n<p>How can I do that?</p>\n<p>Here is the link of example : <a href=\"https://github.com/Rapter1990/microservicecoursedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the screenshots : <a href=\"https://drive.google.com/drive/folders/1BCMSj9STszd-GaHWJZE4a0IuLpUcXBxj?usp=sharing\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring","spring-boot","redis","jedis"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667243488,"creation_date":1664513213,"answer_id":73904113,"question_id":73904061,"body_markdown":"Though your listener looks good, I guess you are missing the configuration of the listener ([source][1]).\r\n\r\n```java\r\n@Bean\r\nRedisMessageListenerContainer keyExpirationListenerContainer(RedisConnectionFactory connectionFactory, ExpirationListener expirationListener) {\r\n    RedisMessageListenerContainer container = new RedisMessageListenerContainer();\r\n    container.setConnectionFactory(connectionFactory);\r\n    container.addMessageListener(expirationListener, new PatternTopic(&quot;__keyevent@*__:expired&quot;));\r\n    container.setErrorHandler(e -&gt; logger.error(&quot;There was an error in Redis key expiration listener container&quot;, e));\r\n    return container;\r\n}\r\n```\r\n\r\nI think you might also be interested in (I found them while skimming the JavaDoc API):\r\n- [`KeyExpirationEventMessageListener`][2]\r\n- [`RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP`][3] used in [`@EnableRedisRepositories`][4].\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/49563612/\r\n  [2]: https://docs.spring.io/spring-data/redis/docs/2.7.x/api/org/springframework/data/redis/listener/KeyExpirationEventMessageListener.html\r\n  [3]: https://docs.spring.io/spring-data/data-redis/docs/current/api/org/springframework/data/redis/core/RedisKeyValueAdapter.EnableKeyspaceEvents.html#ON_STARTUP\r\n  [4]: https://docs.spring.io/spring-data/data-redis/docs/current/api/org/springframework/data/redis/repository/configuration/EnableRedisRepositories.html","title":"Redis key expiry event in spring?","body":"<p>Though your listener looks good, I guess you are missing the configuration of the listener (<a href=\"https://stackoverflow.com/q/49563612/\">source</a>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nRedisMessageListenerContainer keyExpirationListenerContainer(RedisConnectionFactory connectionFactory, ExpirationListener expirationListener) {\n    RedisMessageListenerContainer container = new RedisMessageListenerContainer();\n    container.setConnectionFactory(connectionFactory);\n    container.addMessageListener(expirationListener, new PatternTopic(&quot;__keyevent@*__:expired&quot;));\n    container.setErrorHandler(e -&gt; logger.error(&quot;There was an error in Redis key expiration listener container&quot;, e));\n    return container;\n}\n</code></pre>\n<p>I think you might also be interested in (I found them while skimming the JavaDoc API):</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/redis/docs/2.7.x/api/org/springframework/data/redis/listener/KeyExpirationEventMessageListener.html\" rel=\"nofollow noreferrer\"><code>KeyExpirationEventMessageListener</code></a></li>\n<li><a href=\"https://docs.spring.io/spring-data/data-redis/docs/current/api/org/springframework/data/redis/core/RedisKeyValueAdapter.EnableKeyspaceEvents.html#ON_STARTUP\" rel=\"nofollow noreferrer\"><code>RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP</code></a> used in <a href=\"https://docs.spring.io/spring-data/data-redis/docs/current/api/org/springframework/data/redis/repository/configuration/EnableRedisRepositories.html\" rel=\"nofollow noreferrer\"><code>@EnableRedisRepositories</code></a>.</li>\n</ul>\n"}],"owner":{"account_id":3030715,"reputation":11451,"user_id":2569793,"accept_rate":58,"display_name":"WISHY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73904113,"answer_count":1,"score":1,"last_activity_date":1667243488,"creation_date":1664512574,"question_id":73904061,"body_markdown":"I have a key that expires after 30 seconds.\r\n\r\n```java\r\nredisTemplate.expire(sessionId , 30, TimeUnit.SECONDS);\r\n```\r\n\r\nThis is my listener:\r\n\r\n```java\r\n@Service\r\npublic class RedisController implements MessageListener {\r\n\r\n    @Override\r\n    public void onMessage(Message message, byte[] pattern) {\r\n        // Get every expired key from below the code.\r\n        String key = new String(message.getBody());\r\n        System.out.println(&quot;expired key is: &quot; + key);\r\n    }\r\n}\r\n```\r\n\r\nI have also set `CONFIG SET notify-keyspace-events KEA`, but I am not receiving any callback.","title":"Redis key expiry event in spring?","body":"<p>I have a key that expires after 30 seconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>redisTemplate.expire(sessionId , 30, TimeUnit.SECONDS);\n</code></pre>\n<p>This is my listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class RedisController implements MessageListener {\n\n    @Override\n    public void onMessage(Message message, byte[] pattern) {\n        // Get every expired key from below the code.\n        String key = new String(message.getBody());\n        System.out.println(&quot;expired key is: &quot; + key);\n    }\n}\n</code></pre>\n<p>I have also set <code>CONFIG SET notify-keyspace-events KEA</code>, but I am not receiving any callback.</p>\n"},{"tags":["java","jaxb"],"comments":[{"owner":{"account_id":424109,"reputation":18176,"user_id":803925,"display_name":"nbrooks"},"score":0,"creation_date":1424889059,"post_id":9151690,"comment_id":45740162,"body_markdown":"possible duplicate of [I want to convert an output stream into String object](http://stackoverflow.com/questions/2472155/i-want-to-convert-an-output-stream-into-string-object)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2472155/i-want-to-convert-an-output-stream-into-string-object\">I want to convert an output stream into String object</a>"}],"answers":[{"comments":[{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":0,"creation_date":1328508513,"post_id":9151866,"comment_id":11514549,"body_markdown":"What do you want to do with it? The approach I proposed (calling `toByteArray()` on the stream) would give you a `byte[]` instance containing the bytes of the XML.","body":"What do you want to do with it? The approach I proposed (calling <code>toByteArray()</code> on the stream) would give you a <code>byte[]</code> instance containing the bytes of the XML."},{"owner":{"account_id":1151804,"reputation":5824,"user_id":2045079,"accept_rate":83,"display_name":"code4jhon"},"score":0,"creation_date":1384117761,"post_id":9151866,"comment_id":29597895,"body_markdown":"Im having the same need, in my case I&#39;m trying to returning it as a result of service call.","body":"Im having the same need, in my case I&#39;m trying to returning it as a result of service call."}],"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1328467027,"creation_date":1328467027,"answer_id":9151866,"question_id":9151690,"body_markdown":"Try marshalling to an instance of [`ByteArrayOutputStream`][1] and then invoking [`toByteArray`][2] on it.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html#toByteArray%28%29","title":"Getting Marshall result into String","body":"<p>Try marshalling to an instance of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"noreferrer\"><code>ByteArrayOutputStream</code></a> and then invoking <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html#toByteArray%28%29\" rel=\"noreferrer\"><code>toByteArray</code></a> on it.</p>\n"},{"tags":[],"owner":{"account_id":1123316,"reputation":6969,"user_id":1111130,"accept_rate":65,"display_name":"Sunny Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1328707430,"creation_date":1328707430,"answer_id":9194167,"question_id":9151690,"body_markdown":"Just now I have got the answer of my question from this post below:\r\n\r\nhttps://stackoverflow.com/questions/2472155/i-want-to-convert-an-output-stream-into-string-object\r\n\r\nI need to use StringWriter to take XML String from Marshal method","title":"Getting Marshall result into String","body":"<p>Just now I have got the answer of my question from this post below:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2472155/i-want-to-convert-an-output-stream-into-string-object\">I want to convert an output stream into String object</a></p>\n\n<p>I need to use StringWriter to take XML String from Marshal method</p>\n"},{"tags":[],"owner":{"account_id":6649080,"reputation":10675,"user_id":5131937,"accept_rate":67,"display_name":"Radouane ROUFID"},"comment_count":0,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1667243411,"creation_date":1482333127,"answer_id":41266002,"question_id":9151690,"body_markdown":"You can do it like this : \r\n\r\n    CreateExemptionCertificate cc = ...;\r\n\tJAXBContext context = JAXBContext.newInstance(CreateExemptionCertificate.class);\r\n\tMarshaller m = context.createMarshaller();\r\n\tm.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\r\n\tStringWriter sw = new StringWriter();\r\n\tm.marshal(cc, sw);\r\n\r\n\tString result = sw.toString();","title":"Getting Marshall result into String","body":"<p>You can do it like this :</p>\n<pre><code>CreateExemptionCertificate cc = ...;\nJAXBContext context = JAXBContext.newInstance(CreateExemptionCertificate.class);\nMarshaller m = context.createMarshaller();\nm.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\nStringWriter sw = new StringWriter();\nm.marshal(cc, sw);\n\nString result = sw.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17161462,"reputation":1,"user_id":12421016,"display_name":"redouan eddafali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658239523,"creation_date":1658239465,"answer_id":73038418,"question_id":9151690,"body_markdown":"This is the parser I use for convert an object to string using jaxb library.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n     JAXBElement&lt;Foo&gt; jaxbElement = new JAXBElement&lt;&gt;(\r\n                    new QName(Foo.class.getSimpleName()), Foo.class, request);\r\n            JAXBContext contextRS = JAXBContext.newInstance(Foo.class);\r\n            String requestXml = lhParser.marshalAndConvertToString(jaxbElement, contextRS);\r\n\r\n\r\n    //converter\r\n\r\n        public String marshalAndConvertToString(JAXBElement jaxbElement, JAXBContext context) {\r\n            try {\r\n                StringWriter writer = new StringWriter();\r\n                context.createMarshaller().marshal(jaxbElement, writer);\r\n                String s = writer.toString();\r\n                LOG.info(&quot; ------------------------ xml \\n{}&quot;,s );\r\n                return s;\r\n            } catch (JAXBException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Getting Marshall result into String","body":"<p>This is the parser I use for convert an object to string using jaxb library.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> JAXBElement&lt;Foo&gt; jaxbElement = new JAXBElement&lt;&gt;(\n                new QName(Foo.class.getSimpleName()), Foo.class, request);\n        JAXBContext contextRS = JAXBContext.newInstance(Foo.class);\n        String requestXml = lhParser.marshalAndConvertToString(jaxbElement, contextRS);\n\n\n//converter\n\n    public String marshalAndConvertToString(JAXBElement jaxbElement, JAXBContext context) {\n        try {\n            StringWriter writer = new StringWriter();\n            context.createMarshaller().marshal(jaxbElement, writer);\n            String s = writer.toString();\n            LOG.info(\" ------------------------ xml \\n{}\",s );\n            return s;\n        } catch (JAXBException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":1123316,"reputation":6969,"user_id":1111130,"accept_rate":65,"display_name":"Sunny Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99703,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":9194167,"answer_count":4,"score":61,"last_activity_date":1667243411,"creation_date":1328465711,"question_id":9151690,"body_markdown":"    JAXBContext context = JAXBContext\r\n    \t\t\t\t\t.newInstance(CreateExemptionCertificate.class);\r\n    \t\t\tMarshaller m = context.createMarshaller();\r\n    \t\t\tm.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n    \r\n    \t\t\tm.marshal(cc, System.out);\r\n\r\nIn the code above i am getting the result to the console (I mean XML is getting printed on the console). I want to get this XML to a string. I am not getting which argument I should pass to the marshal method to get XML String in a String variable instead of printing it on the console. Anybody having any idea please share.","title":"Getting Marshall result into String","body":"<pre><code>JAXBContext context = JAXBContext\n                    .newInstance(CreateExemptionCertificate.class);\n            Marshaller m = context.createMarshaller();\n            m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n\n            m.marshal(cc, System.out);\n</code></pre>\n\n<p>In the code above i am getting the result to the console (I mean XML is getting printed on the console). I want to get this XML to a string. I am not getting which argument I should pass to the marshal method to get XML String in a String variable instead of printing it on the console. Anybody having any idea please share.</p>\n"},{"tags":["java","android","replaceall"],"answers":[{"comments":[{"owner":{"account_id":19242866,"reputation":15,"user_id":14062499,"display_name":"Javadi"},"score":0,"creation_date":1667642078,"post_id":74268028,"comment_id":131218200,"body_markdown":"I got the error thanks, but &quot;\\}&quot; didn&#39;t work. It caused illegal escape character error. I used .replace(&quot;}&quot;, &quot;&quot;) instead. But I still wonder why it worked in desktop and not in android.","body":"I got the error thanks, but &quot;\\}&quot; didn&#39;t work. It caused illegal escape character error. I used .replace(&quot;}&quot;, &quot;&quot;) instead. But I still wonder why it worked in desktop and not in android."}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667242928,"creation_date":1667242928,"answer_id":74268028,"question_id":74267851,"body_markdown":"ReplaceAll takes a regex, not an exact string.  Use `&quot;\\}&quot;` instead.  Otherwise you just have an invalid regex.","title":"Problem deleting &quot;}&quot; character in Android Java","body":"<p>ReplaceAll takes a regex, not an exact string.  Use <code>&quot;\\}&quot;</code> instead.  Otherwise you just have an invalid regex.</p>\n"}],"owner":{"account_id":19242866,"reputation":15,"user_id":14062499,"display_name":"Javadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74268028,"answer_count":1,"score":-1,"last_activity_date":1667242928,"creation_date":1667241911,"question_id":74267851,"body_markdown":"I have a method in java in an android app that gets a String and extracts some information from it. Input has a fixed format. It contains &quot;}&quot; characters and they need to be deleted in process of extracting information. I tried to delete them by\r\n\r\n```\r\n.replaceAll(&quot;}&quot;, &quot;&quot;)\r\n```\r\n\r\nmethod. It works on desktop but on android app, the app crashes.\r\n\r\nI have other characters to delete and they work with no problem this way. But this special Character doesn&#39;t work. I also had problem with &quot;{&quot; character but then I decided to do it in another way. But &quot;}&quot; character can&#39;t be done other way and it needs to be specified to be deleted.\r\n\r\nAny help?","title":"Problem deleting &quot;}&quot; character in Android Java","body":"<p>I have a method in java in an android app that gets a String and extracts some information from it. Input has a fixed format. It contains &quot;}&quot; characters and they need to be deleted in process of extracting information. I tried to delete them by</p>\n<pre><code>.replaceAll(&quot;}&quot;, &quot;&quot;)\n</code></pre>\n<p>method. It works on desktop but on android app, the app crashes.</p>\n<p>I have other characters to delete and they work with no problem this way. But this special Character doesn't work. I also had problem with &quot;{&quot; character but then I decided to do it in another way. But &quot;}&quot; character can't be done other way and it needs to be specified to be deleted.</p>\n<p>Any help?</p>\n"},{"tags":["java","intellij-idea","ide"],"answers":[{"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663146342,"creation_date":1663146342,"answer_id":73714241,"question_id":73713040,"body_markdown":"See whether this works for you. \r\nOpen Git history, click one of the commit, then on the right page, right click and select &quot;Edit Source&quot;, it will open all the files that were changed/updated/added on the Tab editor.\r\n\r\n[![Edit Source][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5qU9X.png","title":"Highlighting files changed on a branch in Intellij IDEA Project section (similar to uncommitted changes)","body":"<p>See whether this works for you.\nOpen Git history, click one of the commit, then on the right page, right click and select &quot;Edit Source&quot;, it will open all the files that were changed/updated/added on the Tab editor.</p>\n<p><a href=\"https://i.stack.imgur.com/5qU9X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5qU9X.png\" alt=\"Edit Source\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17081761,"reputation":2089,"user_id":12360005,"display_name":"Ruslan Kuleshov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667242783,"creation_date":1667242783,"answer_id":74268005,"question_id":73713040,"body_markdown":"&gt;In IntelliJ IDEA is there a way to highlight the files changed on a current branch (i.e. all files changed in your previous commits) in the project section?\r\n\r\nCurrently, there is no option to set scope in Local Changes to a particular branch, please see and feel free to vote:\r\nhttps://youtrack.jetbrains.com/issue/IDEA-161465\r\n\r\n","title":"Highlighting files changed on a branch in Intellij IDEA Project section (similar to uncommitted changes)","body":"<blockquote>\n<p>In IntelliJ IDEA is there a way to highlight the files changed on a current branch (i.e. all files changed in your previous commits) in the project section?</p>\n</blockquote>\n<p>Currently, there is no option to set scope in Local Changes to a particular branch, please see and feel free to vote:\n<a href=\"https://youtrack.jetbrains.com/issue/IDEA-161465\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-161465</a></p>\n"}],"owner":{"account_id":2094285,"reputation":246,"user_id":1863426,"accept_rate":80,"display_name":"Shorttylad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667242783,"creation_date":1663140529,"question_id":73713040,"body_markdown":"In IntelliJ IDEA is there a way to highlight the files changed on a current branch (i.e. all files changed in your previous commits) in the project section? \r\n\r\nObviously the git/history tab can be used to see the files but it is pretty cumbersome as it opens the diff instead of the actual file.\r\n\r\nIt&#39;s nice to just be able to quickly see the files you&#39;ve been working with show up a different colour. I usually hold off on committing my changes until I&#39;m nearly finished on something just so I can easily see the files I&#39;ve been working with recently.","title":"Highlighting files changed on a branch in Intellij IDEA Project section (similar to uncommitted changes)","body":"<p>In IntelliJ IDEA is there a way to highlight the files changed on a current branch (i.e. all files changed in your previous commits) in the project section?</p>\n<p>Obviously the git/history tab can be used to see the files but it is pretty cumbersome as it opens the diff instead of the actual file.</p>\n<p>It's nice to just be able to quickly see the files you've been working with show up a different colour. I usually hold off on committing my changes until I'm nearly finished on something just so I can easily see the files I've been working with recently.</p>\n"},{"tags":["java","tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1667242240,"post_id":74267797,"comment_id":131119454,"body_markdown":"This is confusing. You say you want each node to store an array of its leaves, but then your node instances have a reference called `nextSibling`. To me the concept of next sibling has really nothing to do with the concept &quot;all my leaves&quot;. What would it mean for the first entry in that array list to be a node that also has an array list? Are you really going to duplicate all sibling references in all their array lists? And how does this relate with *leaves*? Please clarify.","body":"This is confusing. You say you want each node to store an array of its leaves, but then your node instances have a reference called <code>nextSibling</code>. To me the concept of next sibling has really nothing to do with the concept &quot;all my leaves&quot;. What would it mean for the first entry in that array list to be a node that also has an array list? Are you really going to duplicate all sibling references in all their array lists? And how does this relate with <i>leaves</i>? Please clarify."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667242678,"creation_date":1667242678,"answer_id":74267984,"question_id":74267797,"body_markdown":"```\r\n   private ArrayList&lt;Node&gt; nextSibling;\r\n\r\n   Node (String n, Node d, ArrayList&lt;Node&gt; r) {\r\n      this.name = n;\r\n      this.firstChild = d;\r\n      this.nextSibling = r;\r\n   }\r\n\r\n   Node() {\r\n      this(&quot;&quot;, null, null);\r\n   }\r\n\r\n   Node (String s) {\r\n      this(s, null, null);\r\n   }\r\n\r\n   Node (String s, Node p) {\r\n      this(s, p, null);\r\n   }\r\n```\r\nYou are, very explicitly, setting `nextSibling` to `null` in the last three constructors.  So of course `this.nextSibling` is null.\r\n\r\nIf you don&#39;t want that to happen, you will need to set it to something other than null, like `new ArrayList&lt;&gt;()`.\r\n\r\n(As @trincot mentions, your variable names also seem confusing, as `nextSibling` is a strange name for a list of leaves -- which would be children, not siblings.)","title":"Cannot use add() method for object list","body":"<pre><code>   private ArrayList&lt;Node&gt; nextSibling;\n\n   Node (String n, Node d, ArrayList&lt;Node&gt; r) {\n      this.name = n;\n      this.firstChild = d;\n      this.nextSibling = r;\n   }\n\n   Node() {\n      this(&quot;&quot;, null, null);\n   }\n\n   Node (String s) {\n      this(s, null, null);\n   }\n\n   Node (String s, Node p) {\n      this(s, p, null);\n   }\n</code></pre>\n<p>You are, very explicitly, setting <code>nextSibling</code> to <code>null</code> in the last three constructors.  So of course <code>this.nextSibling</code> is null.</p>\n<p>If you don't want that to happen, you will need to set it to something other than null, like <code>new ArrayList&lt;&gt;()</code>.</p>\n<p>(As @trincot mentions, your variable names also seem confusing, as <code>nextSibling</code> is a strange name for a list of leaves -- which would be children, not siblings.)</p>\n"}],"owner":{"account_id":24256547,"reputation":51,"user_id":18206822,"display_name":"lopaxxxkzz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74267984,"answer_count":1,"score":0,"last_activity_date":1667242678,"creation_date":1667241640,"question_id":74267797,"body_markdown":"I have a Node class and I want each Node to have a list of its leaves. For this, I create an instance variable ArrayList&lt;Node&gt;(). When I try to add a Node to this list I get a NullPointerException: Cannot invoke &quot;java.util.ArrayList.add(Object)&quot; because &quot;this.nextSibling&quot; is null. Why is this happening?\r\n\r\nThis is my code:\r\n```\r\npublic class Node {\r\n\r\n   private String name;\r\n   private Node firstChild;\r\n   private ArrayList&lt;Node&gt; nextSibling;\r\n\r\n   Node (String n, Node d, ArrayList&lt;Node&gt; r) {\r\n      this.name = n;\r\n      this.firstChild = d;\r\n      this.nextSibling = r;\r\n   }\r\n\r\n   Node() {\r\n      this(&quot;&quot;, null, null);\r\n   }\r\n\r\n   Node (String s) {\r\n      this(s, null, null);\r\n   }\r\n\r\n   Node (String s, Node p) {\r\n      this(s, p, null);\r\n   }\r\n\r\n   Node(String s, ArrayList&lt;Node&gt; lst) {\r\n      this(s, null, lst);\r\n   }\r\n\r\n   public void setFirstChild (Node d) {\r\n      firstChild = d;\r\n   }\r\n\r\n   public void addNextSibling (Node r) {\r\n         nextSibling.add(r);\r\n   }\r\n\r\n   public static Node parsePostfix (String s) {\r\n      if (checkForNoData(s)) {\r\n         throw new RuntimeException(&quot;Invalid input: &quot; + s);\r\n      }\r\n      Stack&lt;Node&gt; nodeStack = new Stack&lt;&gt;();\r\n\r\n      List&lt;String&gt; nodeNamesCheck = new ArrayList&lt;&gt;();\r\n      List&lt;String&gt; nodeNames = getNodeNames(s);\r\n      int y = nodeNames.size() - 1;\r\n\r\n      Node root = new Node(nodeNames.get(y));\r\n\r\n      nodeStack.push(root);\r\n      nodeNamesCheck.add(nodeNames.get(y));\r\n\r\n      for (int i = s.length() - 1; i &gt;= 0; i--) {\r\n         if (s.charAt(i) == &#39;)&#39;) {\r\n            y--;\r\n            Node firstChild = new Node(nodeNames.get(y), new ArrayList&lt;&gt;());\r\n            nodeNamesCheck.add(nodeNames.get(y));\r\n            nodeStack.peek().setFirstChild(firstChild);\r\n            nodeStack.push(firstChild);\r\n         } if (s.charAt(i) == &#39;,&#39;) {\r\n            if (!nodeStack.empty())\r\n               nodeStack.pop();\r\n            y--;\r\n            Node nextSibling = new Node(nodeNames.get(y), new ArrayList&lt;&gt;());\r\n            nodeNamesCheck.add(nodeNames.get(y));\r\n            nodeStack.peek().addNextSibling(nextSibling);\r\n            nodeStack.push(nextSibling);\r\n         } else if (s.charAt(i) == &#39;(&#39;) {\r\n            if (!nodeStack.empty()) {\r\n               nodeStack.pop();\r\n            }\r\n         }\r\n      }\r\n      if (nodeNames.size() != nodeNamesCheck.size() &amp;&amp; nodeNames.size() != 1)\r\n         throw new RuntimeException(&quot;Invalid input: &quot; + s);\r\n      return root;\r\n   }\r\n}\r\n```\r\n\r\nThe parsePostfix(String s) method takes a tree as a string and re-creates this with Nodes. An example input would be &quot;(H,G,F)E,(D,C,)B)A&quot;.","title":"Cannot use add() method for object list","body":"<p>I have a Node class and I want each Node to have a list of its leaves. For this, I create an instance variable ArrayList(). When I try to add a Node to this list I get a NullPointerException: Cannot invoke &quot;java.util.ArrayList.add(Object)&quot; because &quot;this.nextSibling&quot; is null. Why is this happening?</p>\n<p>This is my code:</p>\n<pre><code>public class Node {\n\n   private String name;\n   private Node firstChild;\n   private ArrayList&lt;Node&gt; nextSibling;\n\n   Node (String n, Node d, ArrayList&lt;Node&gt; r) {\n      this.name = n;\n      this.firstChild = d;\n      this.nextSibling = r;\n   }\n\n   Node() {\n      this(&quot;&quot;, null, null);\n   }\n\n   Node (String s) {\n      this(s, null, null);\n   }\n\n   Node (String s, Node p) {\n      this(s, p, null);\n   }\n\n   Node(String s, ArrayList&lt;Node&gt; lst) {\n      this(s, null, lst);\n   }\n\n   public void setFirstChild (Node d) {\n      firstChild = d;\n   }\n\n   public void addNextSibling (Node r) {\n         nextSibling.add(r);\n   }\n\n   public static Node parsePostfix (String s) {\n      if (checkForNoData(s)) {\n         throw new RuntimeException(&quot;Invalid input: &quot; + s);\n      }\n      Stack&lt;Node&gt; nodeStack = new Stack&lt;&gt;();\n\n      List&lt;String&gt; nodeNamesCheck = new ArrayList&lt;&gt;();\n      List&lt;String&gt; nodeNames = getNodeNames(s);\n      int y = nodeNames.size() - 1;\n\n      Node root = new Node(nodeNames.get(y));\n\n      nodeStack.push(root);\n      nodeNamesCheck.add(nodeNames.get(y));\n\n      for (int i = s.length() - 1; i &gt;= 0; i--) {\n         if (s.charAt(i) == ')') {\n            y--;\n            Node firstChild = new Node(nodeNames.get(y), new ArrayList&lt;&gt;());\n            nodeNamesCheck.add(nodeNames.get(y));\n            nodeStack.peek().setFirstChild(firstChild);\n            nodeStack.push(firstChild);\n         } if (s.charAt(i) == ',') {\n            if (!nodeStack.empty())\n               nodeStack.pop();\n            y--;\n            Node nextSibling = new Node(nodeNames.get(y), new ArrayList&lt;&gt;());\n            nodeNamesCheck.add(nodeNames.get(y));\n            nodeStack.peek().addNextSibling(nextSibling);\n            nodeStack.push(nextSibling);\n         } else if (s.charAt(i) == '(') {\n            if (!nodeStack.empty()) {\n               nodeStack.pop();\n            }\n         }\n      }\n      if (nodeNames.size() != nodeNamesCheck.size() &amp;&amp; nodeNames.size() != 1)\n         throw new RuntimeException(&quot;Invalid input: &quot; + s);\n      return root;\n   }\n}\n</code></pre>\n<p>The parsePostfix(String s) method takes a tree as a string and re-creates this with Nodes. An example input would be &quot;(H,G,F)E,(D,C,)B)A&quot;.</p>\n"},{"tags":["java","android","signal-processing","fft"],"comments":[{"owner":{"account_id":9897892,"reputation":57149,"user_id":7328782,"accept_rate":86,"display_name":"Cris Luengo"},"score":2,"creation_date":1667221891,"post_id":74263544,"comment_id":131112169,"body_markdown":"Please read [mre], then [edit] your post accordingly.","body":"Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, then <a href=\"https://stackoverflow.com/posts/74263544/edit\">edit</a> your post accordingly."},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1667239399,"post_id":74263544,"comment_id":131118649,"body_markdown":"Have you read and followed all the instructions in [the `Visualizer` documentation](https://developer.android.com/reference/android/media/audiofx/Visualizer)? Do any of the answers to either of these questions help? https://stackoverflow.com/q/6971567/3004881 https://stackoverflow.com/q/8595692/3004881","body":"Have you read and followed all the instructions in <a href=\"https://developer.android.com/reference/android/media/audiofx/Visualizer\" rel=\"nofollow noreferrer\">the <code>Visualizer</code> documentation</a>? Do any of the answers to either of these questions help? <a href=\"https://stackoverflow.com/q/6971567/3004881\">stackoverflow.com/q/6971567/3004881</a> <a href=\"https://stackoverflow.com/q/8595692/3004881\">stackoverflow.com/q/8595692/3004881</a>"}],"answers":[{"tags":[],"owner":{"account_id":26784748,"reputation":27,"user_id":20379107,"display_name":"Orest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667242369,"creation_date":1667242369,"answer_id":74267923,"question_id":74263544,"body_markdown":"in order for the getfft method to earn, `audioVisualiser.setEnabled(true)` was required, but now there is a new problem `java_vm_ext.cc:570] JNI DETECTED ERROR IN APPLICATION: jarray was NULL` but this is a different question","title":"Why i cant getFft","body":"<p>in order for the getfft method to earn, <code>audioVisualiser.setEnabled(true)</code> was required, but now there is a new problem <code>java_vm_ext.cc:570] JNI DETECTED ERROR IN APPLICATION: jarray was NULL</code> but this is a different question</p>\n"}],"owner":{"account_id":26784748,"reputation":27,"user_id":20379107,"display_name":"Orest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74267923,"answer_count":1,"score":0,"last_activity_date":1667242369,"creation_date":1667220641,"question_id":74263544,"body_markdown":"I want to get FFT audio visualizer, can someone tell  how to do it?\r\n\r\nclass audioVisualizer:\r\n\r\n```\r\n\r\nimport android.media.audiofx.Visualizer;\r\n\r\nclass AudioVisualizer extends Visualizer {\r\n\r\n    public AudioVisualizer(int audioSession) {\r\n        super(audioSession);\r\n    }\r\n}\r\n```\r\n\r\nso this is the code from the main activity\r\n\r\n```\r\nbyte[] fft;\r\naudioVisualizer = new AudioVisualizer(audioSessionId);\r\n\r\ntry {\r\n    int a = audioVisualizer.getFft(fft);\r\n}catch (Exception e){\r\n    e.printStackTrace();\r\n}\r\n\r\n```\r\nwhich causes \r\n\r\n```\r\nerror:java.lang.IllegalStateException: getFft() called in wrong state: 1\r\n```\r\n\r\n(in short, I don&#39;t know how to receive FFT from visualizer, and I want to learn how to do it)\r\naudioSessionId I get from my mediaPlayer\r\n\r\n\r\nI hope you can help me :)\r\n\r\nI googled how to get FFT but it didn&#39;t help","title":"Why i cant getFft","body":"<p>I want to get FFT audio visualizer, can someone tell  how to do it?</p>\n<p>class audioVisualizer:</p>\n<pre><code>\nimport android.media.audiofx.Visualizer;\n\nclass AudioVisualizer extends Visualizer {\n\n    public AudioVisualizer(int audioSession) {\n        super(audioSession);\n    }\n}\n</code></pre>\n<p>so this is the code from the main activity</p>\n<pre><code>byte[] fft;\naudioVisualizer = new AudioVisualizer(audioSessionId);\n\ntry {\n    int a = audioVisualizer.getFft(fft);\n}catch (Exception e){\n    e.printStackTrace();\n}\n\n</code></pre>\n<p>which causes</p>\n<pre><code>error:java.lang.IllegalStateException: getFft() called in wrong state: 1\n</code></pre>\n<p>(in short, I don't know how to receive FFT from visualizer, and I want to learn how to do it)\naudioSessionId I get from my mediaPlayer</p>\n<p>I hope you can help me :)</p>\n<p>I googled how to get FFT but it didn't help</p>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1667241202,"post_id":74267705,"comment_id":131119184,"body_markdown":"Why do you believe `ThreadLocal` is appropriate here, if you&#39;re constantly jumping threads?","body":"Why do you believe <code>ThreadLocal</code> is appropriate here, if you&#39;re constantly jumping threads?"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667241622,"post_id":74267705,"comment_id":131119304,"body_markdown":"Just because you see a question+answer on StackOverflow, that doesn&#39;t mean it is always a good idea to apply it.","body":"Just because you see a question+answer on StackOverflow, that doesn&#39;t mean it is always a good idea to apply it."},{"owner":{"account_id":9697315,"reputation":21,"user_id":7193336,"display_name":"spicymaggisauce101"},"score":0,"creation_date":1667245448,"post_id":74267705,"comment_id":131120298,"body_markdown":"The thing is that the external library is using ThreadLocal variables, so that is out of my control. I just want to be able to propagate the information from the parent threadLocal variable to the child one.","body":"The thing is that the external library is using ThreadLocal variables, so that is out of my control. I just want to be able to propagate the information from the parent threadLocal variable to the child one."}],"answers":[{"tags":[],"owner":{"account_id":4509047,"reputation":3905,"user_id":3665698,"display_name":"mcoolive"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667242263,"creation_date":1667242263,"answer_id":74267910,"question_id":74267705,"body_markdown":"ThreadLocal provides thread-local variables in that each thread that accesses one (via its get or set method) has its own, independently initialized copy of the variable. If a computation is started by a thread and continued by another one, then using ThreadLocal seams inappropriate.\r\n\r\nIf you rely on a library like [project reactor][1], then you can use a [Context][2] that is automatically is propagated...\r\n\r\nAnother option is to use global values (or a singleton that allow access to ...)\r\n\r\n\r\n  [1]: https://projectreactor.io\r\n  [2]: https://javadoc.io/doc/io.projectreactor/reactor-core/latest/index.html","title":"Propagate threadLocal variable","body":"<p>ThreadLocal provides thread-local variables in that each thread that accesses one (via its get or set method) has its own, independently initialized copy of the variable. If a computation is started by a thread and continued by another one, then using ThreadLocal seams inappropriate.</p>\n<p>If you rely on a library like <a href=\"https://projectreactor.io\" rel=\"nofollow noreferrer\">project reactor</a>, then you can use a <a href=\"https://javadoc.io/doc/io.projectreactor/reactor-core/latest/index.html\" rel=\"nofollow noreferrer\">Context</a> that is automatically is propagated...</p>\n<p>Another option is to use global values (or a singleton that allow access to ...)</p>\n"}],"owner":{"account_id":9697315,"reputation":21,"user_id":7193336,"display_name":"spicymaggisauce101"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667242263,"creation_date":1667241041,"question_id":74267705,"body_markdown":"I am running into this particular issue and was wondering if anyone has come across this particular issue. I have a method: methodA() - this will create a ThreadLocal called &quot;temp&quot; if it doesn&#39;t exist, if the ThreadLocal exists, it&#39;ll return that ThreadLocal variable (IE: &quot;temp&quot; in this scenario)\r\n\r\nBasically the scenario I am running into is this: I call methodA() - (I create the ThreadLocal variable &quot;old_temp&quot;) Then I call the method:\r\n\r\nCompletableFuture.supplyAsync( () -&gt;{ThreadContext.put(&quot;RequestId&quot;, requestId); methodB();}, iotaInvokerService).handleAsync(methodC());\r\nWhere methodB() is from another team&#39;s library and methodB() invokes methodA().\r\n\r\nWhen methodB() invokes methodA(), I want methodA() to return the ThreadLocal variable &quot;old_temp&quot; that was initially created when methodA() was first called. However, when methodB() invokes methodA(), instead of returning the &quot;old_temp&quot; ThreadLocal variable, it creates a completely new ThreadLocal variable to use, which I do not want. When methodB() invokes methodA(), I want it to return &quot;old_temp&quot;. Could anyone be able to help me with this scenario?\r\n\r\nIE, my belief is that when CompletableFuture.supplyAsync is called with an executorService, it creates a new Thread to which the ThreadLocal variables context are not passed on, which seems to be the problem.\r\n\r\nI saw https://stackoverflow.com/questions/7259906/propagating-threadlocal-to-a-new-thread-fetched-from-a-executorservice?noredirect=1&amp;lq=1 but I still wasn&#39;t sure/still confused on how to apply it to my scenario. I think the thing is that I know what ThreadLocal variable is it that I want, but I am not too sure.","title":"Propagate threadLocal variable","body":"<p>I am running into this particular issue and was wondering if anyone has come across this particular issue. I have a method: methodA() - this will create a ThreadLocal called &quot;temp&quot; if it doesn't exist, if the ThreadLocal exists, it'll return that ThreadLocal variable (IE: &quot;temp&quot; in this scenario)</p>\n<p>Basically the scenario I am running into is this: I call methodA() - (I create the ThreadLocal variable &quot;old_temp&quot;) Then I call the method:</p>\n<p>CompletableFuture.supplyAsync( () -&gt;{ThreadContext.put(&quot;RequestId&quot;, requestId); methodB();}, iotaInvokerService).handleAsync(methodC());\nWhere methodB() is from another team's library and methodB() invokes methodA().</p>\n<p>When methodB() invokes methodA(), I want methodA() to return the ThreadLocal variable &quot;old_temp&quot; that was initially created when methodA() was first called. However, when methodB() invokes methodA(), instead of returning the &quot;old_temp&quot; ThreadLocal variable, it creates a completely new ThreadLocal variable to use, which I do not want. When methodB() invokes methodA(), I want it to return &quot;old_temp&quot;. Could anyone be able to help me with this scenario?</p>\n<p>IE, my belief is that when CompletableFuture.supplyAsync is called with an executorService, it creates a new Thread to which the ThreadLocal variables context are not passed on, which seems to be the problem.</p>\n<p>I saw <a href=\"https://stackoverflow.com/questions/7259906/propagating-threadlocal-to-a-new-thread-fetched-from-a-executorservice?noredirect=1&amp;lq=1\">Propagating ThreadLocal to a new Thread fetched from a ExecutorService</a> but I still wasn't sure/still confused on how to apply it to my scenario. I think the thing is that I know what ThreadLocal variable is it that I want, but I am not too sure.</p>\n"},{"tags":["java","class","object"],"comments":[{"owner":{"account_id":3989047,"reputation":2704,"user_id":3288649,"accept_rate":98,"display_name":"FoldFence"},"score":1,"creation_date":1667241979,"post_id":74267781,"comment_id":131119388,"body_markdown":"This is because you havn&#39;t defined a constructor suitable for your input, you only use the default constructor.","body":"This is because you havn&#39;t defined a constructor suitable for your input, you only use the default constructor."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667242027,"creation_date":1667242027,"answer_id":74267868,"question_id":74267781,"body_markdown":"```\r\n    public Hand()\r\n    {\r\n        cards = new ArrayList&lt;Card&gt;(); // initialize cards\r\n    }\r\n```\r\n\r\nYou only have the one constructor for `Hand`, but it&#39;s not a constructor that takes `Card`s.\r\n\r\nYou will need to add a constructor, or a method, to `Hand` that accepts some `Card`s.","title":"Calling object within object?","body":"<pre><code>    public Hand()\n    {\n        cards = new ArrayList&lt;Card&gt;(); // initialize cards\n    }\n</code></pre>\n<p>You only have the one constructor for <code>Hand</code>, but it's not a constructor that takes <code>Card</code>s.</p>\n<p>You will need to add a constructor, or a method, to <code>Hand</code> that accepts some <code>Card</code>s.</p>\n"},{"comments":[{"owner":{"account_id":20073077,"reputation":3,"user_id":14717361,"display_name":"slowdev"},"score":0,"creation_date":1667244810,"post_id":74267872,"comment_id":131120160,"body_markdown":"I believe the varargs is what I was looking for.","body":"I believe the varargs is what I was looking for."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667264800,"post_id":74267872,"comment_id":131124043,"body_markdown":"See also [varargs](https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html) post by Oracle","body":"See also <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html\" rel=\"nofollow noreferrer\">varargs</a> post by Oracle"}],"tags":[],"owner":{"account_id":17436542,"reputation":495,"user_id":12639399,"display_name":"Marcus Dunn"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667242054,"creation_date":1667242054,"answer_id":74267872,"question_id":74267781,"body_markdown":"when you call `new Hand(...)` you are calling a constructor of the `Hand` class. By the looks of it the only constructor for hand is a zero-arguments constructor. Namely, this one:\r\n```\r\npublic Hand()\r\n{\r\n    cards = new ArrayList&lt;Card&gt;(); // initialize cards\r\n}\r\n```\r\n\r\nThere is no constructor for Hand that takes in a multiple cards as\r\n```\r\nHand noPair1 = new Hand(new Card(10,3), ...)\r\n```\r\nwould necessitate.\r\n\r\nYou have a couple options:\r\n\r\n1) Add a new constructor to Hand that takes in a single `Card` (or using [varargs][1], multiple `Cards`). This would make the above snippet valid.\r\n\r\n2) Make the `Hand`&#39;s `cards` feild public, create a `Hand` instance with the existing zero-args constructor, and then add the cards to the `cards` feild after creating the hand.\r\n\r\nBoth of these have their advantages and disadvantages and there are of course many more ways to solve this - but those two are probably the simplest. If you cannot edit the test file, the first with `varargs` seems like your only option.\r\n\r\n  [1]: https://www.baeldung.com/java-varargs","title":"Calling object within object?","body":"<p>when you call <code>new Hand(...)</code> you are calling a constructor of the <code>Hand</code> class. By the looks of it the only constructor for hand is a zero-arguments constructor. Namely, this one:</p>\n<pre><code>public Hand()\n{\n    cards = new ArrayList&lt;Card&gt;(); // initialize cards\n}\n</code></pre>\n<p>There is no constructor for Hand that takes in a multiple cards as</p>\n<pre><code>Hand noPair1 = new Hand(new Card(10,3), ...)\n</code></pre>\n<p>would necessitate.</p>\n<p>You have a couple options:</p>\n<ol>\n<li><p>Add a new constructor to Hand that takes in a single <code>Card</code> (or using <a href=\"https://www.baeldung.com/java-varargs\" rel=\"nofollow noreferrer\">varargs</a>, multiple <code>Cards</code>). This would make the above snippet valid.</p>\n</li>\n<li><p>Make the <code>Hand</code>'s <code>cards</code> feild public, create a <code>Hand</code> instance with the existing zero-args constructor, and then add the cards to the <code>cards</code> feild after creating the hand.</p>\n</li>\n</ol>\n<p>Both of these have their advantages and disadvantages and there are of course many more ways to solve this - but those two are probably the simplest. If you cannot edit the test file, the first with <code>varargs</code> seems like your only option.</p>\n"}],"owner":{"account_id":20073077,"reputation":3,"user_id":14717361,"display_name":"slowdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74267872,"answer_count":2,"score":-1,"last_activity_date":1667242054,"creation_date":1667241533,"question_id":74267781,"body_markdown":"I am taking a Java class and the teacher isn&#39;t being very helpful with my question. The assignment is to create a hand of cards using the following tester class:\r\n\r\n\r\n```\r\npublic class Tester\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        // No pair\r\n        System.out.println(&quot;No pair&quot;);\r\n        Hand noPair1 = new Hand(new Card(10, 3), new Card(3, 0), new Card(13, 2), new Card(5, 1), new Card(14, 3));\r\n        System.out.println(&quot;\\n&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThere is a Hand class and a Card class:\r\n```\r\npublic class Hand\r\n{\r\n    private ArrayList&lt;Card&gt; cards;\r\n \r\n    public Hand()\r\n    {\r\n        cards = new ArrayList&lt;Card&gt;(); // initialize cards\r\n    }\r\n}\r\n```\r\nCard Class:\r\n```\r\npublic class Card\r\n{\r\n    \r\n    // instance variables\r\n    private final int rank; // card rank\r\n    private final int suit; // card suit\r\n\r\n    public Card(int rankIn, int suitIn)\r\n    {\r\n        rank = rankIn;\r\n        suit = suitIn;\r\n    }\r\n```\r\nMy question: How do I get the Hand class to call the Card class from within the Hand class? The error is occurring on the line Hand noPair1 = new Hand(new Card(10,3), ...);\r\n\r\nI am not allowed to change the Tester class.\r\n\r\nTried compiling and running the Tester class.","title":"Calling object within object?","body":"<p>I am taking a Java class and the teacher isn't being very helpful with my question. The assignment is to create a hand of cards using the following tester class:</p>\n<pre><code>public class Tester\n{\n    public static void main(String[] args)\n    {\n        // No pair\n        System.out.println(&quot;No pair&quot;);\n        Hand noPair1 = new Hand(new Card(10, 3), new Card(3, 0), new Card(13, 2), new Card(5, 1), new Card(14, 3));\n        System.out.println(&quot;\\n&quot;);\n    }\n}\n</code></pre>\n<p>There is a Hand class and a Card class:</p>\n<pre><code>public class Hand\n{\n    private ArrayList&lt;Card&gt; cards;\n \n    public Hand()\n    {\n        cards = new ArrayList&lt;Card&gt;(); // initialize cards\n    }\n}\n</code></pre>\n<p>Card Class:</p>\n<pre><code>public class Card\n{\n    \n    // instance variables\n    private final int rank; // card rank\n    private final int suit; // card suit\n\n    public Card(int rankIn, int suitIn)\n    {\n        rank = rankIn;\n        suit = suitIn;\n    }\n</code></pre>\n<p>My question: How do I get the Hand class to call the Card class from within the Hand class? The error is occurring on the line Hand noPair1 = new Hand(new Card(10,3), ...);</p>\n<p>I am not allowed to change the Tester class.</p>\n<p>Tried compiling and running the Tester class.</p>\n"},{"tags":["java","postgresql","jpa","eclipselink","payara"],"answers":[{"tags":[],"owner":{"account_id":2875163,"reputation":396,"user_id":2467428,"display_name":"CarlosGoncalves"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667241956,"creation_date":1667241956,"answer_id":74267860,"question_id":73759413,"body_markdown":"Your RepositorioBase needs to have the unitName defined in the annotation, like this:\r\n\r\n    @PersistenceContext(unitName = &quot;selfbookingPU&quot;)\r\n    protected EntityManager entityManager;\r\n\r\nAlso, both your ViajanteServico and ViajanteRepositorio need to be injectable Beans, either EJB or CDI Bean. In order to do that, you need to add one of the following annotations to it: **@EJB** or **@RequestScoped** (or **@ApplicationScoped**, whatever suits your needs)\r\n\r\n    @EJB\r\n    public class ViajanteServico {...}\r\n\r\n    @EJB\r\n    public class ViajanteRepositorio extends RepositorioBase {...}","title":"Configuring JPA/Eclipselink project with Payara Server and Postgresql","body":"<p>Your RepositorioBase needs to have the unitName defined in the annotation, like this:</p>\n<pre><code>@PersistenceContext(unitName = &quot;selfbookingPU&quot;)\nprotected EntityManager entityManager;\n</code></pre>\n<p>Also, both your ViajanteServico and ViajanteRepositorio need to be injectable Beans, either EJB or CDI Bean. In order to do that, you need to add one of the following annotations to it: <strong>@EJB</strong> or <strong>@RequestScoped</strong> (or <strong>@ApplicationScoped</strong>, whatever suits your needs)</p>\n<pre><code>@EJB\npublic class ViajanteServico {...}\n\n@EJB\npublic class ViajanteRepositorio extends RepositorioBase {...}\n</code></pre>\n"}],"owner":{"account_id":25409261,"reputation":43,"user_id":19217405,"display_name":"Rodrigo Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667241956,"creation_date":1663461526,"question_id":73759413,"body_markdown":"I&#180;m trying to set up a project using Payara Server Community Edition v5.2022.2, Postgresql 14 and Eclipselink.\r\n\r\nWhen I test a simple rest endpoint returning a String, everything works fine, so I know that the rest configuration is working.\r\n\r\nThe problem is getting persistence to work. Every time I deploy the project to Payara and try the endpoint which will call the appropriate method to persist an entity I get an error saying no object was available for injection. I believe the problem is with the EntityManager, but I didn&#180;t find the server.log very helpful.\r\n\r\nThese are my files.\r\n\r\n**persistence.xml**\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;3.0&quot;\r\n\txsi:schemalocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;\r\n\t&lt;persistence-unit name=&quot;selfbookingPU&quot;\r\n\t\ttransaction-type=&quot;JTA&quot;&gt;\r\n\t\t&lt;jta-data-source&gt;jdbc/postgresqlpool&lt;/jta-data-source&gt;\r\n\t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n\t\t&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;eclipselink.ddl-generation&quot;\r\n\t\t\t\tvalue=&quot;create-tables&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot;\r\n\t\t\t\tvalue=&quot;database&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;FINEST&quot; /&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\n\r\n**web.xml**\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n\tversion=&quot;5.0&quot;&gt;\r\n\t&lt;data-source&gt;\r\n\t\t&lt;name&gt;jdbc/postgresqlpool&lt;/name&gt;\r\n\t\t&lt;class-name&gt;org.postgresql.ds.PGSimpleDataSource&lt;/class-name&gt;\r\n\t\t&lt;server-name&gt;localhost&lt;/server-name&gt;\r\n\t\t&lt;port-number&gt;5432&lt;/port-number&gt;\r\n\t\t&lt;database-name&gt;selfbooking_dsv&lt;/database-name&gt;\r\n\t\t&lt;user&gt;postgres&lt;/user&gt;\r\n\t\t&lt;password&gt;${ALIAS=postgresql_dsv_pwd}&lt;/password&gt;\r\n\t&lt;/data-source&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.rjso.selfbooking&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;selfbooking&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;Selfbooking App&lt;/name&gt;\r\n\t&lt;url&gt;http://www.rjso.com/selfbooking&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.0-RC2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;selfbooking&lt;/finalName&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**APIConfig.java**\r\n```package api;\r\n\r\nimport jakarta.ws.rs.ApplicationPath;\r\nimport jakarta.ws.rs.core.Application;\r\n\r\n@ApplicationPath(&quot;/rest&quot;)\r\npublic class APIConfig extends Application {\r\n\r\n}\r\n```\r\n\r\n**ViajanteAPI.java**\r\n```package api;\r\n\r\nimport entidades.Viajante;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.Path;\r\nimport servicos.ViajanteServico;\r\n\r\n@Path(&quot;/viajantes&quot;)\r\npublic class ViajanteAPI {\r\n\r\n\t@Inject\r\n\tViajanteServico viajanteServico;\r\n\r\n\t@GET\r\n\tpublic void gravaViajante() {\r\n\r\n\t\tViajante v = new Viajante(&quot;Rodrigo&quot;, &quot;Oliveira&quot;, &quot;Rodrigo J S Oliveira&quot;, &quot;mylogin&quot;, &quot;myemail@gmail.com&quot;);\r\n\r\n\t\tviajanteServico.gravaViajante(v);\r\n\r\n\t}\r\n}\r\n```\r\n\r\n**Usuario.java**\r\n```package entidades;\r\n\r\nimport java.time.LocalDate;\r\n\r\nimport enums.SimNaoEnum;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Inheritance;\r\nimport jakarta.persistence.InheritanceType;\r\nimport jakarta.persistence.MappedSuperclass;\r\n\r\n@MappedSuperclass\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\npublic abstract class Usuario {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\t@Column(name = &quot;primeiro_nome&quot;)\r\n\tprivate String primeiroNome;\r\n\t\r\n\t@Column(name = &quot;ultimo_nome&quot;)\r\n\tprivate String ultimoNome;\r\n\t\r\n\t@Column(name = &quot;nome_completo&quot;)\r\n\tprivate String nomeCompleto;\r\n\t\r\n\t@Column(name = &quot;login&quot;)\r\n\tprivate String login;\r\n\t\r\n\t@Column(name = &quot;email&quot;)\r\n\tprivate String email;\r\n\t\r\n\t@Column(name = &quot;dt_nascimento&quot;)\r\n\tprivate LocalDate dtNascimento;\r\n\t\r\n\t@Column(name = &quot;ativo&quot;)\r\n\tprivate SimNaoEnum isAtivo;\r\n\t\r\n\t@Column(name = &quot;bloqueado&quot;)\r\n\tprivate SimNaoEnum isBloqueado;\r\n\r\n\tpublic Usuario() {\r\n\t};\r\n\r\n\tpublic Usuario(String primeiroNome, String ultimoNome, String nomeCompleto, String login, String email) {\r\n\t\tthis.primeiroNome = primeiroNome;\r\n\t\tthis.ultimoNome = ultimoNome;\r\n\t\tthis.nomeCompleto = nomeCompleto;\r\n\t\tthis.login = login;\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getPrimeiroNome() {\r\n\t\treturn primeiroNome;\r\n\t}\r\n\r\n\tpublic void setPrimeiroNome(String primeiroNome) {\r\n\t\tthis.primeiroNome = primeiroNome;\r\n\t}\r\n\r\n\tpublic String getUltimoNome() {\r\n\t\treturn ultimoNome;\r\n\t}\r\n\r\n\tpublic void setUltimoNome(String ultimoNome) {\r\n\t\tthis.ultimoNome = ultimoNome;\r\n\t}\r\n\r\n\tpublic String getLogin() {\r\n\t\treturn login;\r\n\t}\r\n\r\n\tpublic void setLogin(String login) {\r\n\t\tthis.login = login;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic LocalDate getDtNascimento() {\r\n\t\treturn dtNascimento;\r\n\t}\r\n\r\n\tpublic void setDtNascimento(LocalDate dtNascimento) {\r\n\t\tthis.dtNascimento = dtNascimento;\r\n\t}\r\n\r\n\tpublic SimNaoEnum getIsAtivo() {\r\n\t\treturn isAtivo;\r\n\t}\r\n\r\n\tpublic void setIsAtivo(SimNaoEnum isAtivo) {\r\n\t\tthis.isAtivo = isAtivo;\r\n\t}\r\n\r\n\tpublic SimNaoEnum getIsBloqueado() {\r\n\t\treturn isBloqueado;\r\n\t}\r\n\r\n\tpublic void setIsBloqueado(SimNaoEnum isBloqueado) {\r\n\t\tthis.isBloqueado = isBloqueado;\r\n\t}\r\n\r\n\tpublic String getNomeCompleto() {\r\n\t\treturn nomeCompleto;\r\n\t}\r\n\r\n\tpublic void setNomeCompleto(String nomeCompleto) {\r\n\t\tthis.nomeCompleto = nomeCompleto;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Viajante.java**\r\n```package entidades;\r\n\r\nimport enums.SimNaoEnum;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;viajante&quot;)\r\npublic class Viajante extends Usuario {\r\n\r\n\t@Column(name = &quot;viajante_vip&quot;)\r\n\tprivate SimNaoEnum isVIP;\r\n\r\n\tpublic Viajante() {\r\n\t\tsuper();\r\n\t};\r\n\r\n\tpublic Viajante(String primeiroNome, String ultimoNome, String nomeCompleto, String login, String email) {\r\n\t\tsuper(primeiroNome, ultimoNome, nomeCompleto, login, email);\r\n\t}\r\n\r\n\tpublic SimNaoEnum getIsVIP() {\r\n\t\treturn isVIP;\r\n\t}\r\n\r\n\tpublic void setIsVIP(SimNaoEnum isVIP) {\r\n\t\tthis.isVIP = isVIP;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**RepositorioBase.java**\r\n```package repositorios;\r\n\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.PersistenceContext;\r\n\r\npublic abstract class RepositorioBase {\r\n\r\n\t@PersistenceContext\r\n\tprotected EntityManager entityManager;\r\n}\r\n```\r\n\r\n**ViajanteRepositorio.java**\r\n```package repositorios;\r\n\r\nimport entidades.Viajante;\r\n\r\npublic class ViajanteRepositorio extends RepositorioBase {\r\n\r\n\tpublic void gravaViajante(Viajante viajante) {\r\n\t\tentityManager.persist(viajante);\r\n\t}\r\n}\r\n```\r\n\r\n**ViajanteServico.java**\r\n```package servicos;\r\n\r\nimport entidades.Viajante;\r\nimport jakarta.inject.Inject;\r\nimport repositorios.ViajanteRepositorio;\r\n\r\npublic class ViajanteServico {\r\n\t\r\n\t@Inject\r\n\tViajanteRepositorio viajanteRepositorio;\r\n\t\r\n\tpublic void gravaViajante(Viajante viajante) {\r\n\t\tviajanteRepositorio.gravaViajante(viajante);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Server.log (excerpt)**\r\n```2022-09-17T21:07:07.080-0300|ADVERT&#202;NCIA: The following warnings have been detected: WARNING: Unknown HK2 failure detected:\r\nMultiException stack 1 of 3\r\norg.glassfish.hk2.api.UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl(requiredType=ViajanteServico,parent=ViajanteAPI,qualifiers={},position=-1,optional=false,self=false,unqualified=null,1081564559)\r\n\tat org.jvnet.hk2.internal.ThreeThirtyResolver.resolve(ThreeThirtyResolver.java:51)\r\n\tat org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:188)\r\n\r\nMultiException stack 2 of 3\r\njava.lang.IllegalArgumentException: While attempting to resolve the dependencies of api.ViajanteAPI errors were found\r\n\tat org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:224)\r\n\tat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:334)\r\n\r\nMultiException stack 3 of 3\r\njava.lang.IllegalStateException: Unable to perform operation: resolve on api.ViajanteAPI\r\n\tat org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:363)\r\n\tat org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)\r\n```\r\n\r\nAny ideas on what am I doing wrong?\r\n\r\nThanks!\r\n","title":"Configuring JPA/Eclipselink project with Payara Server and Postgresql","body":"<p>I´m trying to set up a project using Payara Server Community Edition v5.2022.2, Postgresql 14 and Eclipselink.</p>\n<p>When I test a simple rest endpoint returning a String, everything works fine, so I know that the rest configuration is working.</p>\n<p>The problem is getting persistence to work. Every time I deploy the project to Payara and try the endpoint which will call the appropriate method to persist an entity I get an error saying no object was available for injection. I believe the problem is with the EntityManager, but I didn´t find the server.log very helpful.</p>\n<p>These are my files.</p>\n<p><strong>persistence.xml</strong></p>\n<pre><code>&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;3.0&quot;\n    xsi:schemalocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;selfbookingPU&quot;\n        transaction-type=&quot;JTA&quot;&gt;\n        &lt;jta-data-source&gt;jdbc/postgresqlpool&lt;/jta-data-source&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;eclipselink.ddl-generation&quot;\n                value=&quot;create-tables&quot; /&gt;\n            &lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot;\n                value=&quot;database&quot; /&gt;\n            &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;FINEST&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n    version=&quot;5.0&quot;&gt;\n    &lt;data-source&gt;\n        &lt;name&gt;jdbc/postgresqlpool&lt;/name&gt;\n        &lt;class-name&gt;org.postgresql.ds.PGSimpleDataSource&lt;/class-name&gt;\n        &lt;server-name&gt;localhost&lt;/server-name&gt;\n        &lt;port-number&gt;5432&lt;/port-number&gt;\n        &lt;database-name&gt;selfbooking_dsv&lt;/database-name&gt;\n        &lt;user&gt;postgres&lt;/user&gt;\n        &lt;password&gt;${ALIAS=postgresql_dsv_pwd}&lt;/password&gt;\n    &lt;/data-source&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.rjso.selfbooking&lt;/groupId&gt;\n    &lt;artifactId&gt;selfbooking&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;Selfbooking App&lt;/name&gt;\n    &lt;url&gt;http://www.rjso.com/selfbooking&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n            &lt;version&gt;10.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.eclipse.persistence/eclipselink --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-RC2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;selfbooking&lt;/finalName&gt;\n        &lt;pluginManagement&gt;\n            &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>APIConfig.java</strong></p>\n<pre><code>\nimport jakarta.ws.rs.ApplicationPath;\nimport jakarta.ws.rs.core.Application;\n\n@ApplicationPath(&quot;/rest&quot;)\npublic class APIConfig extends Application {\n\n}\n</code></pre>\n<p><strong>ViajanteAPI.java</strong></p>\n<pre><code>\nimport entidades.Viajante;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport servicos.ViajanteServico;\n\n@Path(&quot;/viajantes&quot;)\npublic class ViajanteAPI {\n\n    @Inject\n    ViajanteServico viajanteServico;\n\n    @GET\n    public void gravaViajante() {\n\n        Viajante v = new Viajante(&quot;Rodrigo&quot;, &quot;Oliveira&quot;, &quot;Rodrigo J S Oliveira&quot;, &quot;mylogin&quot;, &quot;myemail@gmail.com&quot;);\n\n        viajanteServico.gravaViajante(v);\n\n    }\n}\n</code></pre>\n<p><strong>Usuario.java</strong></p>\n<pre><code>\nimport java.time.LocalDate;\n\nimport enums.SimNaoEnum;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Inheritance;\nimport jakarta.persistence.InheritanceType;\nimport jakarta.persistence.MappedSuperclass;\n\n@MappedSuperclass\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class Usuario {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(name = &quot;primeiro_nome&quot;)\n    private String primeiroNome;\n    \n    @Column(name = &quot;ultimo_nome&quot;)\n    private String ultimoNome;\n    \n    @Column(name = &quot;nome_completo&quot;)\n    private String nomeCompleto;\n    \n    @Column(name = &quot;login&quot;)\n    private String login;\n    \n    @Column(name = &quot;email&quot;)\n    private String email;\n    \n    @Column(name = &quot;dt_nascimento&quot;)\n    private LocalDate dtNascimento;\n    \n    @Column(name = &quot;ativo&quot;)\n    private SimNaoEnum isAtivo;\n    \n    @Column(name = &quot;bloqueado&quot;)\n    private SimNaoEnum isBloqueado;\n\n    public Usuario() {\n    };\n\n    public Usuario(String primeiroNome, String ultimoNome, String nomeCompleto, String login, String email) {\n        this.primeiroNome = primeiroNome;\n        this.ultimoNome = ultimoNome;\n        this.nomeCompleto = nomeCompleto;\n        this.login = login;\n        this.email = email;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getPrimeiroNome() {\n        return primeiroNome;\n    }\n\n    public void setPrimeiroNome(String primeiroNome) {\n        this.primeiroNome = primeiroNome;\n    }\n\n    public String getUltimoNome() {\n        return ultimoNome;\n    }\n\n    public void setUltimoNome(String ultimoNome) {\n        this.ultimoNome = ultimoNome;\n    }\n\n    public String getLogin() {\n        return login;\n    }\n\n    public void setLogin(String login) {\n        this.login = login;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public LocalDate getDtNascimento() {\n        return dtNascimento;\n    }\n\n    public void setDtNascimento(LocalDate dtNascimento) {\n        this.dtNascimento = dtNascimento;\n    }\n\n    public SimNaoEnum getIsAtivo() {\n        return isAtivo;\n    }\n\n    public void setIsAtivo(SimNaoEnum isAtivo) {\n        this.isAtivo = isAtivo;\n    }\n\n    public SimNaoEnum getIsBloqueado() {\n        return isBloqueado;\n    }\n\n    public void setIsBloqueado(SimNaoEnum isBloqueado) {\n        this.isBloqueado = isBloqueado;\n    }\n\n    public String getNomeCompleto() {\n        return nomeCompleto;\n    }\n\n    public void setNomeCompleto(String nomeCompleto) {\n        this.nomeCompleto = nomeCompleto;\n    }\n\n}\n</code></pre>\n<p><strong>Viajante.java</strong></p>\n<pre><code>\nimport enums.SimNaoEnum;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;viajante&quot;)\npublic class Viajante extends Usuario {\n\n    @Column(name = &quot;viajante_vip&quot;)\n    private SimNaoEnum isVIP;\n\n    public Viajante() {\n        super();\n    };\n\n    public Viajante(String primeiroNome, String ultimoNome, String nomeCompleto, String login, String email) {\n        super(primeiroNome, ultimoNome, nomeCompleto, login, email);\n    }\n\n    public SimNaoEnum getIsVIP() {\n        return isVIP;\n    }\n\n    public void setIsVIP(SimNaoEnum isVIP) {\n        this.isVIP = isVIP;\n    }\n\n}\n</code></pre>\n<p><strong>RepositorioBase.java</strong></p>\n<pre><code>\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.PersistenceContext;\n\npublic abstract class RepositorioBase {\n\n    @PersistenceContext\n    protected EntityManager entityManager;\n}\n</code></pre>\n<p><strong>ViajanteRepositorio.java</strong></p>\n<pre><code>\nimport entidades.Viajante;\n\npublic class ViajanteRepositorio extends RepositorioBase {\n\n    public void gravaViajante(Viajante viajante) {\n        entityManager.persist(viajante);\n    }\n}\n</code></pre>\n<p><strong>ViajanteServico.java</strong></p>\n<pre><code>\nimport entidades.Viajante;\nimport jakarta.inject.Inject;\nimport repositorios.ViajanteRepositorio;\n\npublic class ViajanteServico {\n    \n    @Inject\n    ViajanteRepositorio viajanteRepositorio;\n    \n    public void gravaViajante(Viajante viajante) {\n        viajanteRepositorio.gravaViajante(viajante);\n    }\n\n}\n</code></pre>\n<p><strong>Server.log (excerpt)</strong></p>\n<pre><code>MultiException stack 1 of 3\norg.glassfish.hk2.api.UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl(requiredType=ViajanteServico,parent=ViajanteAPI,qualifiers={},position=-1,optional=false,self=false,unqualified=null,1081564559)\n    at org.jvnet.hk2.internal.ThreeThirtyResolver.resolve(ThreeThirtyResolver.java:51)\n    at org.jvnet.hk2.internal.ClazzCreator.resolve(ClazzCreator.java:188)\n\nMultiException stack 2 of 3\njava.lang.IllegalArgumentException: While attempting to resolve the dependencies of api.ViajanteAPI errors were found\n    at org.jvnet.hk2.internal.ClazzCreator.resolveAllDependencies(ClazzCreator.java:224)\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:334)\n\nMultiException stack 3 of 3\njava.lang.IllegalStateException: Unable to perform operation: resolve on api.ViajanteAPI\n    at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:363)\n    at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)\n</code></pre>\n<p>Any ideas on what am I doing wrong?</p>\n<p>Thanks!</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"score":1,"creation_date":1357820771,"post_id":14257368,"comment_id":19787483,"body_markdown":"it should probably be stmt.setString(2, ...","body":"it should probably be stmt.setString(2, ..."},{"owner":{"account_id":2145747,"reputation":271,"user_id":1903387,"display_name":"Rahul"},"score":0,"creation_date":1357820962,"post_id":14257368,"comment_id":19787587,"body_markdown":"Actually what&#39;s the error you were getting ?","body":"Actually what&#39;s the error you were getting ?"}],"answers":[{"comments":[{"owner":{"account_id":1999609,"reputation":680,"user_id":1790964,"accept_rate":25,"display_name":"pratikch"},"score":0,"creation_date":1357819060,"post_id":14257406,"comment_id":19786582,"body_markdown":"also rs.wasNull() too is required?","body":"also rs.wasNull() too is required?"}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357828027,"creation_date":1357818994,"answer_id":14257406,"question_id":14257368,"body_markdown":"You need to get the appropriate record from the `ResultSet` e.g.\r\n\r\n    boolean found = rs.getString(1).equals().txtboxno.getText());\r\n\r\nAt the moment you&#39;re simply comparing the `ResultSet` object itself to a string, and that won&#39;t work. The above pulls the first record from the `ResultSet` and performs the comparison on that (note: your datatype may be different and you may need `rs.getInt(1)` etc.)\r\n\r\nPerhaps its sufficient in your case just to check if you have a `ResultSet` result (via `rs.next()`)","title":"check if the record exists in database","body":"<p>You need to get the appropriate record from the <code>ResultSet</code> e.g.</p>\n\n<pre><code>boolean found = rs.getString(1).equals().txtboxno.getText());\n</code></pre>\n\n<p>At the moment you're simply comparing the <code>ResultSet</code> object itself to a string, and that won't work. The above pulls the first record from the <code>ResultSet</code> and performs the comparison on that (note: your datatype may be different and you may need <code>rs.getInt(1)</code> etc.)</p>\n\n<p>Perhaps its sufficient in your case just to check if you have a <code>ResultSet</code> result (via <code>rs.next()</code>)</p>\n"},{"tags":[],"owner":{"account_id":2213212,"reputation":223,"user_id":1954479,"accept_rate":25,"display_name":"B11"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357819624,"creation_date":1357819624,"answer_id":14257584,"question_id":14257368,"body_markdown":"or you could use a count:\r\n\r\n    String query = &quot;select count(*) \r\n    from dbo.soil_det where rm_id = ? and box_no = ?&quot;;\r\n\r\nthen after executing the query you get the count with\r\n\r\n                       rs.getInt(1)\r\n\r\nusing that you can decide which info to show to the user","title":"check if the record exists in database","body":"<p>or you could use a count:</p>\n\n<pre><code>String query = \"select count(*) \nfrom dbo.soil_det where rm_id = ? and box_no = ?\";\n</code></pre>\n\n<p>then after executing the query you get the count with</p>\n\n<pre><code>                   rs.getInt(1)\n</code></pre>\n\n<p>using that you can decide which info to show to the user</p>\n"},{"tags":[],"owner":{"account_id":2156899,"reputation":41,"user_id":1911894,"display_name":"Prafulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357820136,"creation_date":1357819809,"answer_id":14257635,"question_id":14257368,"body_markdown":"very First You have to get count using sql if count is greater than zero then do not insert records and show message like already exists and in else part insert record. see following example\r\n\r\n    private boolean findCount(int rm_id,String box_no)\r\n    {\r\n          int count=0;\r\n         //write query here \r\n         count = assign query result;\r\n         //check count \r\n    if(count&gt;0)\r\n    {\r\n         return false;//records exists\r\n    }else{\r\n        return true;//records do not exists\r\n    }\r\n   }\r\n\r\n    public void insertData()\r\n    {\r\n         if(findCount(1,&quot;1&quot;)){//pass values\r\n           //Write down your insert logic\r\n         }else{\r\n          JOptionPane.showMessageDialog(rootPane, &quot;Records Already Exists&quot;);\r\n         }\r\n    }\r\n\r\nNote: Friend in Your Example you have not written the insert logic. only select was there","title":"check if the record exists in database","body":"<p>very First You have to get count using sql if count is greater than zero then do not insert records and show message like already exists and in else part insert record. see following example</p>\n\n<pre><code>private boolean findCount(int rm_id,String box_no)\n{\n      int count=0;\n     //write query here \n     count = assign query result;\n     //check count \nif(count&gt;0)\n{\n     return false;//records exists\n}else{\n    return true;//records do not exists\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>public void insertData()\n{\n     if(findCount(1,\"1\")){//pass values\n       //Write down your insert logic\n     }else{\n      JOptionPane.showMessageDialog(rootPane, \"Records Already Exists\");\n     }\n}\n</code></pre>\n\n<p>Note: Friend in Your Example you have not written the insert logic. only select was there</p>\n"},{"tags":[],"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357821332,"creation_date":1357821332,"answer_id":14258090,"question_id":14257368,"body_markdown":"First you could add -- on the db table -- a unique constrain on the columns (rm_id, box_no), this is anyway a good thing to do.\r\n\r\nThen you could simply try to insert the box and catch the exception and check if it is a violation of the unique constraint.\r\n\r\nAnother option (still keeping the unique constraint) would be to make a more complicated SQL insert statement that inserts only if not existing, you may google &quot;sql insert if not exist&quot; to find some examples...","title":"check if the record exists in database","body":"<p>First you could add -- on the db table -- a unique constrain on the columns (rm_id, box_no), this is anyway a good thing to do.</p>\n\n<p>Then you could simply try to insert the box and catch the exception and check if it is a violation of the unique constraint.</p>\n\n<p>Another option (still keeping the unique constraint) would be to make a more complicated SQL insert statement that inserts only if not existing, you may google \"sql insert if not exist\" to find some examples...</p>\n"},{"tags":[],"owner":{"account_id":2145747,"reputation":271,"user_id":1903387,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1357821516,"creation_date":1357821516,"answer_id":14258152,"question_id":14257368,"body_markdown":"Try this code\r\n\r\n    private void txtboxnoFocusLost(java.awt.event.FocusEvent evt) {\r\n    DBUtil util = new DBUtil();\r\n\r\n    try {\r\n        Connection con = util.getConnection();\r\n        PreparedStatement stmt = con.prepareStatement(\r\n            &quot;select box_no from dbo.soil_det where rm_id = ? and box_no = ?&quot;);\r\n        stmt.setLong(1, Long.parseLong(tf_rm_id.getText()));\r\n        stmt.setString(2, (txtboxno.getText()));       \r\n        ResultSet rs=stmt.executeQuery();\r\n        bool recordAdded = false;\r\n        while(!rs.next()){            \r\n           /// Do your insertion of new records\r\n             recordAdded = true;\r\n        }\r\n        if( recordAdded ){\r\n          JOptionPane.showMessageDialog(rootPane, &quot;Record added&quot;);\r\n        }else{\r\n           JOptionPane.showMessageDialog(rootPane, &quot;Record already exists&quot;);\r\n        }\r\n    } catch (Exception ex) {\r\n        Logger.getLogger(DATAENTRY.class.getName()).log(Level.SEVERE, null, ex);\r\n    }","title":"check if the record exists in database","body":"<p>Try this code</p>\n\n<pre><code>private void txtboxnoFocusLost(java.awt.event.FocusEvent evt) {\nDBUtil util = new DBUtil();\n\ntry {\n    Connection con = util.getConnection();\n    PreparedStatement stmt = con.prepareStatement(\n        \"select box_no from dbo.soil_det where rm_id = ? and box_no = ?\");\n    stmt.setLong(1, Long.parseLong(tf_rm_id.getText()));\n    stmt.setString(2, (txtboxno.getText()));       \n    ResultSet rs=stmt.executeQuery();\n    bool recordAdded = false;\n    while(!rs.next()){            \n       /// Do your insertion of new records\n         recordAdded = true;\n    }\n    if( recordAdded ){\n      JOptionPane.showMessageDialog(rootPane, \"Record added\");\n    }else{\n       JOptionPane.showMessageDialog(rootPane, \"Record already exists\");\n    }\n} catch (Exception ex) {\n    Logger.getLogger(DATAENTRY.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12219817,"reputation":324,"user_id":10579553,"display_name":"Sindhukumari P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667241490,"creation_date":1667241490,"answer_id":74267775,"question_id":14257368,"body_markdown":"simplified version \r\n\r\n```\r\nprivate void txtboxnoFocusLost(java.awt.event.FocusEvent evt) {\r\nDBUtil util = new DBUtil();\r\n\r\ntry {\r\n    Connection con = util.getConnection();\r\n    PreparedStatement stmt = con.prepareStatement(\r\n        &quot;select box_no from dbo.soil_det where rm_id = ? and box_no = ?&quot;);\r\n    stmt.setLong(1, Long.parseLong(tf_rm_id.getText()));\r\n    stmt.setString(2, (txtboxno.getText()));       \r\n    ResultSet rs=stmt.executeQuery();\r\n    if(!rs.next()){\r\n      JOptionPane.showMessageDialog(rootPane, &quot;Record added&quot;);\r\n    }else{\r\n       JOptionPane.showMessageDialog(rootPane, &quot;Record already exists&quot;);\r\n    }\r\n} catch (Exception ex) {\r\n    Logger.getLogger(DATAENTRY.class.getName()).log(Level.SEVERE, null, ex);\r\n}\r\n```\r\n\r\n - rs.next() followed by if condition returns `true` if the record exists in a table. if not, return `false`. ","title":"check if the record exists in database","body":"<p>simplified version</p>\n<pre><code>private void txtboxnoFocusLost(java.awt.event.FocusEvent evt) {\nDBUtil util = new DBUtil();\n\ntry {\n    Connection con = util.getConnection();\n    PreparedStatement stmt = con.prepareStatement(\n        &quot;select box_no from dbo.soil_det where rm_id = ? and box_no = ?&quot;);\n    stmt.setLong(1, Long.parseLong(tf_rm_id.getText()));\n    stmt.setString(2, (txtboxno.getText()));       \n    ResultSet rs=stmt.executeQuery();\n    if(!rs.next()){\n      JOptionPane.showMessageDialog(rootPane, &quot;Record added&quot;);\n    }else{\n       JOptionPane.showMessageDialog(rootPane, &quot;Record already exists&quot;);\n    }\n} catch (Exception ex) {\n    Logger.getLogger(DATAENTRY.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n<ul>\n<li>rs.next() followed by if condition returns <code>true</code> if the record exists in a table. if not, return <code>false</code>.</li>\n</ul>\n"}],"owner":{"account_id":2147134,"reputation":800,"user_id":1904521,"accept_rate":85,"display_name":"Sumeet Gavhale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22084,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14258152,"answer_count":6,"score":2,"last_activity_date":1667241490,"creation_date":1357818855,"question_id":14257368,"body_markdown":"I need to check the box no if exist in the database under the remittance id that I enter if the box no exists then i need to show the message that the box no already exists but if it doesn&#39;t the it should insert new box i have written some code but its showing error \r\n\r\n    private void txtboxnoFocusLost(java.awt.event.FocusEvent evt) {\r\n        DBUtil util = new DBUtil();\r\n            \r\n        try {\r\n            Connection con = util.getConnection();\r\n            PreparedStatement stmt = con.prepareStatement(\r\n                &quot;select box_no from dbo.soil_det where rm_id = ? and box_no = ?&quot;);\r\n            stmt.setLong(1, Long.parseLong(tf_rm_id.getText()));\r\n            stmt.setString(1, (txtboxno.getText()));       \r\n            ResultSet rs=stmt.executeQuery();\r\n            while(rs.next()){\r\n                rs.equals().txtboxno.getText());\r\n            }\r\n            JOptionPane.showMessageDialog(rootPane, &quot;hello!S&quot;);\r\n        } catch (Exception ex) {\r\n            Logger.getLogger(DATAENTRY.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n","title":"check if the record exists in database","body":"<p>I need to check the box no if exist in the database under the remittance id that I enter if the box no exists then i need to show the message that the box no already exists but if it doesn't the it should insert new box i have written some code but its showing error </p>\n\n<pre><code>private void txtboxnoFocusLost(java.awt.event.FocusEvent evt) {\n    DBUtil util = new DBUtil();\n\n    try {\n        Connection con = util.getConnection();\n        PreparedStatement stmt = con.prepareStatement(\n            \"select box_no from dbo.soil_det where rm_id = ? and box_no = ?\");\n        stmt.setLong(1, Long.parseLong(tf_rm_id.getText()));\n        stmt.setString(1, (txtboxno.getText()));       \n        ResultSet rs=stmt.executeQuery();\n        while(rs.next()){\n            rs.equals().txtboxno.getText());\n        }\n        JOptionPane.showMessageDialog(rootPane, \"hello!S\");\n    } catch (Exception ex) {\n        Logger.getLogger(DATAENTRY.class.getName()).log(Level.SEVERE, null, ex);\n    }\n</code></pre>\n"},{"tags":["java","arraylist","indexoutofrangeexception"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666977235,"post_id":74238572,"comment_id":131069844,"body_markdown":"loop from zero to the greater of both  lengths (`-1`), skip an array if the index is invalid for it","body":"loop from zero to the greater of both  lengths (<code>-1</code>), skip an array if the index is invalid for it"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666977980,"creation_date":1666977676,"answer_id":74238841,"question_id":74238572,"body_markdown":"Here is one way to combine them.  You will need to adapt this to your specific requirements.\r\n```\r\n List&lt;Integer&gt; evens = List.of(2, 4, 6, 8, 10, 12);\r\n List&lt;Integer&gt; odds = List.of(1, 3, 5);\r\n List&lt;Integer&gt; combined = new ArrayList&lt;&gt;();\r\n for (int i = 0, k = 0; i + k &lt; evens.size() + odds.size(); ) {\r\n     if (i &lt; odds.size()) {\r\n         combined.add(odds.get(i++));\r\n     }\r\n     if (k &lt; evens.size()) {\r\n         combined.add(evens.get(k++));\r\n     }\r\n }\r\n System.out.println(combined);\r\n\r\n```\r\nAnd here is another.\r\n```\r\n for (int i = 0; i &lt; Math.max(odds.size(), evens.size()); i++) {\r\n    if (i &lt; odds.size()) {\r\n        combined.add(odds.get(i));\r\n    }\r\n    if (i &lt; evens.size()) {\r\n        combined.add(evens.get(i));\r\n    }\r\n }\r\n System.out.println(combined);\r\n```\r\nboth print\r\n```\r\n[1, 2, 3, 4, 5, 6, 8, 10, 12]\r\n","title":"Java arrayList for loop index out of bounds when combining two arrays of different length","body":"<p>Here is one way to combine them.  You will need to adapt this to your specific requirements.</p>\n<pre><code> List&lt;Integer&gt; evens = List.of(2, 4, 6, 8, 10, 12);\n List&lt;Integer&gt; odds = List.of(1, 3, 5);\n List&lt;Integer&gt; combined = new ArrayList&lt;&gt;();\n for (int i = 0, k = 0; i + k &lt; evens.size() + odds.size(); ) {\n     if (i &lt; odds.size()) {\n         combined.add(odds.get(i++));\n     }\n     if (k &lt; evens.size()) {\n         combined.add(evens.get(k++));\n     }\n }\n System.out.println(combined);\n\n</code></pre>\n<p>And here is another.</p>\n<pre><code> for (int i = 0; i &lt; Math.max(odds.size(), evens.size()); i++) {\n    if (i &lt; odds.size()) {\n        combined.add(odds.get(i));\n    }\n    if (i &lt; evens.size()) {\n        combined.add(evens.get(i));\n    }\n }\n System.out.println(combined);\n</code></pre>\n<p>both print</p>\n<pre><code>[1, 2, 3, 4, 5, 6, 8, 10, 12]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666993183,"creation_date":1666993183,"answer_id":74241171,"question_id":74238572,"body_markdown":"    final String[] firstArray = firstLine.split(&quot; &quot;);\r\n    final String[] secondArray = secondLine.split(&quot; &quot;);\r\n    final List&lt;String&gt; mixList = new ArrayList&lt;&gt;();\r\n    \r\n    final int largerArray = Math.max(firstArray.length, secondArray.length);\r\n    for (int i = 0; i &lt; largerArray; i++) {\r\n        \r\n        if (i &lt; firstArray.length) {\r\n            mixList.add(firstArray[i]);\r\n        }\r\n        if (i &lt; secondArray.length) {\r\n            mixList.add(secondArray[i]);\r\n        }\r\n    }\r\n\r\n","title":"Java arrayList for loop index out of bounds when combining two arrays of different length","body":"<pre><code>final String[] firstArray = firstLine.split(&quot; &quot;);\nfinal String[] secondArray = secondLine.split(&quot; &quot;);\nfinal List&lt;String&gt; mixList = new ArrayList&lt;&gt;();\n\nfinal int largerArray = Math.max(firstArray.length, secondArray.length);\nfor (int i = 0; i &lt; largerArray; i++) {\n    \n    if (i &lt; firstArray.length) {\n        mixList.add(firstArray[i]);\n    }\n    if (i &lt; secondArray.length) {\n        mixList.add(secondArray[i]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8565960,"reputation":1060,"user_id":6418426,"display_name":"Andreas Siegel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667055085,"creation_date":1667055085,"answer_id":74246286,"question_id":74238572,"body_markdown":"I would do it exactly like [Dreamspace President&#39;s answer][1]. I think it should be the accepted one.\r\n\r\nHowever, I would at least like to propose an alternative approach.\r\n\r\nThe reasoning behind this is that the new list was expected to contain alternating entries from the original arrays. If one array is much shorter than the other one, the result would only start with alternating values but end with just the &quot;rest&quot; of the larger array.\r\n\r\nIf this was unwanted behavior, you could also stop processing the arrays:\r\n\r\nYou already saw the exception, and you know that it will definitely be thrown when you are dealing with arrays that have different lengths. So you could also catch the exception and jump out of the loop:\r\n\r\n```java\r\nfinal int largerArray = Math.max(firstArray.length, secondArray.length);\r\nfor (int i = 0; i &lt; largerArray; i++) {\r\n  try {\r\n    mixList.add(firstArray[i]);\r\n    mixList.add(secondArray[i]);\r\n  } catch (IndexOutOfBoundsException e) {\r\n    // one array is longer than the other, we cannot alternate any longer\r\n    // -&gt; jumping out of the loop\r\n    break;\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74241171/6418426","title":"Java arrayList for loop index out of bounds when combining two arrays of different length","body":"<p>I would do it exactly like <a href=\"https://stackoverflow.com/a/74241171/6418426\">Dreamspace President's answer</a>. I think it should be the accepted one.</p>\n<p>However, I would at least like to propose an alternative approach.</p>\n<p>The reasoning behind this is that the new list was expected to contain alternating entries from the original arrays. If one array is much shorter than the other one, the result would only start with alternating values but end with just the &quot;rest&quot; of the larger array.</p>\n<p>If this was unwanted behavior, you could also stop processing the arrays:</p>\n<p>You already saw the exception, and you know that it will definitely be thrown when you are dealing with arrays that have different lengths. So you could also catch the exception and jump out of the loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int largerArray = Math.max(firstArray.length, secondArray.length);\nfor (int i = 0; i &lt; largerArray; i++) {\n  try {\n    mixList.add(firstArray[i]);\n    mixList.add(secondArray[i]);\n  } catch (IndexOutOfBoundsException e) {\n    // one array is longer than the other, we cannot alternate any longer\n    // -&gt; jumping out of the loop\n    break;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1667520869,"post_id":74267766,"comment_id":131192265,"body_markdown":"Welcome to Stack overflow! Nice answer. I suggest adding a short description before your code explaining the change so that readers can understand without reviewing all the code.","body":"Welcome to Stack overflow! Nice answer. I suggest adding a short description before your code explaining the change so that readers can understand without reviewing all the code."}],"tags":[],"owner":{"account_id":26566217,"reputation":21,"user_id":20193201,"display_name":"MerielWinter134"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667241423,"creation_date":1667241423,"answer_id":74267766,"question_id":74238572,"body_markdown":"Thanks for your help everyone!\r\nHere is the solution I ended up on.\r\n\r\n        ArrayList &lt;String&gt; mixList = new ArrayList&lt;String&gt;();\r\n\r\n        // This scenario accounts for a shorter first list of words\r\n        if (firstArray.length &lt; secArray.length) {\r\n\r\n            // This alternates the words until first list is exhausted\r\n            for (int i = 0; i &lt; firstArray.length; ++i) {\r\n                mixList.add(firstArray[i]);\r\n                mixList.add(secArray[i]);\r\n            }\r\n            //this adds the remaining words from the longer list on to the end\r\n            for (int i = firstArray.length; i &lt; secArray.length; ++i) {\r\n                mixList.add(secArray[i]);\r\n            }\r\n        }\r\n        //This accounts for when the second list is shorter or if they are the same length\r\n        else {\r\n            // This alternates the words until second list is exhausted\r\n            for (int i = 0; i &lt; secArray.length; ++i) {\r\n                mixList.add(firstArray[i]);\r\n                mixList.add(secArray[i]);\r\n            }\r\n            //this adds the remaining words from the longer list on to the end\r\n            //If lists are the same length, the list will not execute\r\n            for ( int i = secArray.length; i &lt; firstArray.length; ++i) {\r\n                mixList.add(firstArray[i]);\r\n            }\r\n        }\r\n\r\n        //print new list to output\r\n        for (int i=0; i&lt; mixList.size(); ++i) {\r\n            String tempWord=mixList.get(i);\r\n            System.out.println(tempWord);\r\n        }\r\n","title":"Java arrayList for loop index out of bounds when combining two arrays of different length","body":"<p>Thanks for your help everyone!\nHere is the solution I ended up on.</p>\n<pre><code>    ArrayList &lt;String&gt; mixList = new ArrayList&lt;String&gt;();\n\n    // This scenario accounts for a shorter first list of words\n    if (firstArray.length &lt; secArray.length) {\n\n        // This alternates the words until first list is exhausted\n        for (int i = 0; i &lt; firstArray.length; ++i) {\n            mixList.add(firstArray[i]);\n            mixList.add(secArray[i]);\n        }\n        //this adds the remaining words from the longer list on to the end\n        for (int i = firstArray.length; i &lt; secArray.length; ++i) {\n            mixList.add(secArray[i]);\n        }\n    }\n    //This accounts for when the second list is shorter or if they are the same length\n    else {\n        // This alternates the words until second list is exhausted\n        for (int i = 0; i &lt; secArray.length; ++i) {\n            mixList.add(firstArray[i]);\n            mixList.add(secArray[i]);\n        }\n        //this adds the remaining words from the longer list on to the end\n        //If lists are the same length, the list will not execute\n        for ( int i = secArray.length; i &lt; firstArray.length; ++i) {\n            mixList.add(firstArray[i]);\n        }\n    }\n\n    //print new list to output\n    for (int i=0; i&lt; mixList.size(); ++i) {\n        String tempWord=mixList.get(i);\n        System.out.println(tempWord);\n    }\n</code></pre>\n"}],"owner":{"account_id":26566217,"reputation":21,"user_id":20193201,"display_name":"MerielWinter134"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1667241423,"creation_date":1666976108,"question_id":74238572,"body_markdown":"I&#39;m just learning java and working on a homework problem.  Our assignment was two read two-word lists into arrays and then combine them into one ArrayList alternating the words in the list. e.g. L1[0], L2[0], L1[1], L2[1], etc.\r\n\r\nI&#39;ve got my code almost running EXCEPT if the word lists are not exactly the same length, I either leave off the last words in the long list or get an out-of-bounds index for the shorter list. \r\nI know there must be an obvious solution I haven&#39;t thought of. Thanks for your help!\r\n\r\nHere is the code I&#39;ve written:\r\n\r\n\r\n```\r\npublic class ArrayMixer {\r\n    public static void main (String[] args){\r\n        Scanner scnr= new Scanner(System.in); // set up scanner\r\n\r\n        // Initialize variables to capture user inputs\r\n        String firstLine;\r\n        String secondLine;\r\n\r\n        //collect user input for the first list\r\n        System.out.println(&quot;Please enter the first word list:&quot;); // prompt user for first list\r\n        firstLine= scnr.nextLine();\r\n        String[] firstArray= firstLine.split(&quot; &quot;); // creates array to store first line split by spaces\r\n\r\n        //System.out.println(firstLine);//FIXME COMMENT OUT AFTER TESTING\r\n        //System.out.println(Arrays.toString(firstArray));//FIXME COMMENT OUT AFTER TESTING\r\n\r\n        //collect user input for the second list\r\n        System.out.println(&quot;Please enter the second word list:&quot;);// prompt user for second list\r\n        secondLine= scnr.nextLine();//\r\n        String[] secArray= secondLine.split(&quot; &quot;);//create array to store second list split by spaces\r\n\r\n        //System.out.println(secondLine);//FIXME COMMENT OUT\r\n        //System.out.println(Arrays.toString(secArray)); //FIXME COMMENT OUT\r\n\r\n\r\n        //Create an array list called mixList to store combination of list 1 and 2\r\n        ArrayList &lt;String&gt; mixList = new ArrayList&lt;String&gt;();\r\n\r\n        // need to find out size of two lists put together\r\n        int mixSize= (firstArray.length + secArray.length);\r\n        System.out.println(mixSize);\r\n\r\n        \r\n//HERE IS MY PROBLEM I&#39;ve replace secArray.length w/ mxSize, and firstArray.length NO DICE\r\nfor (int i=0; i&lt; secArray.length; ++i) {//FIXME NEED TO FIGURE OUT HOW TO GET THE LOOP\r\n            // NOT GO OUT OF BOUNDS\r\n            mixList.add(firstArray[i]);\r\n            mixList.add(secArray[i]);\r\n        }\r\n\r\n        //print new list to output\r\n        for (int i=0; i&lt; mixList.size(); ++i) {\r\n            String tempWord=mixList.get(i);\r\n            System.out.println(tempWord);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried using the length of the two lists combined and the length of the longer list-&gt; index out of bounds, the shorter list- last words of the longer list left off because the loop never gets to their index. \r\n\r\nIs there some sort of special arrayList for loop I can use?","title":"Java arrayList for loop index out of bounds when combining two arrays of different length","body":"<p>I'm just learning java and working on a homework problem.  Our assignment was two read two-word lists into arrays and then combine them into one ArrayList alternating the words in the list. e.g. L1[0], L2[0], L1[1], L2[1], etc.</p>\n<p>I've got my code almost running EXCEPT if the word lists are not exactly the same length, I either leave off the last words in the long list or get an out-of-bounds index for the shorter list.\nI know there must be an obvious solution I haven't thought of. Thanks for your help!</p>\n<p>Here is the code I've written:</p>\n<pre><code>public class ArrayMixer {\n    public static void main (String[] args){\n        Scanner scnr= new Scanner(System.in); // set up scanner\n\n        // Initialize variables to capture user inputs\n        String firstLine;\n        String secondLine;\n\n        //collect user input for the first list\n        System.out.println(&quot;Please enter the first word list:&quot;); // prompt user for first list\n        firstLine= scnr.nextLine();\n        String[] firstArray= firstLine.split(&quot; &quot;); // creates array to store first line split by spaces\n\n        //System.out.println(firstLine);//FIXME COMMENT OUT AFTER TESTING\n        //System.out.println(Arrays.toString(firstArray));//FIXME COMMENT OUT AFTER TESTING\n\n        //collect user input for the second list\n        System.out.println(&quot;Please enter the second word list:&quot;);// prompt user for second list\n        secondLine= scnr.nextLine();//\n        String[] secArray= secondLine.split(&quot; &quot;);//create array to store second list split by spaces\n\n        //System.out.println(secondLine);//FIXME COMMENT OUT\n        //System.out.println(Arrays.toString(secArray)); //FIXME COMMENT OUT\n\n\n        //Create an array list called mixList to store combination of list 1 and 2\n        ArrayList &lt;String&gt; mixList = new ArrayList&lt;String&gt;();\n\n        // need to find out size of two lists put together\n        int mixSize= (firstArray.length + secArray.length);\n        System.out.println(mixSize);\n\n        \n//HERE IS MY PROBLEM I've replace secArray.length w/ mxSize, and firstArray.length NO DICE\nfor (int i=0; i&lt; secArray.length; ++i) {//FIXME NEED TO FIGURE OUT HOW TO GET THE LOOP\n            // NOT GO OUT OF BOUNDS\n            mixList.add(firstArray[i]);\n            mixList.add(secArray[i]);\n        }\n\n        //print new list to output\n        for (int i=0; i&lt; mixList.size(); ++i) {\n            String tempWord=mixList.get(i);\n            System.out.println(tempWord);\n        }\n\n    }\n}\n</code></pre>\n<p>I've tried using the length of the two lists combined and the length of the longer list-&gt; index out of bounds, the shorter list- last words of the longer list left off because the loop never gets to their index.</p>\n<p>Is there some sort of special arrayList for loop I can use?</p>\n"},{"tags":["java","linux","gnome","wallpaper","kde-plasma"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1628766551,"post_id":68755837,"comment_id":121511977,"body_markdown":"*The problem is that the each DE has its unique way of changing a wallpaper:* Yes, so you probably need to develop heuristics for each DE. You want a script for each and a way of detecting each. `uname -a` might do it for you. Once you&#39;ve tested those, `ProcessBuilder` should do it for you.","body":"<i>The problem is that the each DE has its unique way of changing a wallpaper:</i> Yes, so you probably need to develop heuristics for each DE. You want a script for each and a way of detecting each. <code>uname -a</code> might do it for you. Once you&#39;ve tested those, <code>ProcessBuilder</code> should do it for you."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1628767879,"post_id":68755837,"comment_id":121512576,"body_markdown":"There isn&#39;t a universal way.  There are various OS-specific ways ... and the simplest is to run a (system specific) command to do it.  But this will depend on the relevant applications already being installed.  Question: why are you trying to do this in a Java desktop application?  Surely, it is not the app&#39;s concern.","body":"There isn&#39;t a universal way.  There are various OS-specific ways ... and the simplest is to run a (system specific) command to do it.  But this will depend on the relevant applications already being installed.  Question: why are you trying to do this in a Java desktop application?  Surely, it is not the app&#39;s concern."},{"owner":{"account_id":13033928,"reputation":118,"user_id":9419492,"display_name":"Mamiglia"},"score":0,"creation_date":1628774125,"post_id":68755837,"comment_id":121515369,"body_markdown":"@StephenC what do you mean by &quot;Java desktop application&quot;? (sorry for the ignorance but i&#39;m kinda new to developing)","body":"@StephenC what do you mean by &quot;Java desktop application&quot;? (sorry for the ignorance but i&#39;m kinda new to developing)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1628813345,"post_id":68755837,"comment_id":121527952,"body_markdown":"And application written in Java that is designed to run on or be run from the user&#39;s &quot;desktop&quot;.","body":"And application written in Java that is designed to run on or be run from the user&#39;s &quot;desktop&quot;."},{"owner":{"account_id":13033928,"reputation":118,"user_id":9419492,"display_name":"Mamiglia"},"score":0,"creation_date":1628929497,"post_id":68755837,"comment_id":121555769,"body_markdown":"@StephenC this is for a project of mine where the wallpaper gets changed periodically. I needed a way to change wallpaper also on linux, so I needed to implement this thing somehow","body":"@StephenC this is for a project of mine where the wallpaper gets changed periodically. I needed a way to change wallpaper also on linux, so I needed to implement this thing somehow"}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1628813562,"post_id":68760991,"comment_id":121527977,"body_markdown":"Yes ... this is the only approach that will work.  Note that it will only work for the set of environments that you implement it for.  And that is the problem with this approach.","body":"Yes ... this is the only approach that will work.  Note that it will only work for the set of environments that you implement it for.  And that is the problem with this approach."}],"tags":[],"owner":{"account_id":13033928,"reputation":118,"user_id":9419492,"display_name":"Mamiglia"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1628786585,"creation_date":1628785108,"answer_id":68760991,"question_id":68755837,"body_markdown":"This is the best solution i found, but I bet it could be improved. I scan `$XDG_CURRENT_DESKTOP` first and then `$GDM_SESSION` (apparently the xdg doesn&#39;t always existas an environment variable). Then I act based on what environment I found and set the wallpaper.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n        String wpPath = &quot;/path/to/file&quot;;\r\n        String os = System.getProperty(&quot;os.name&quot;);\r\n        switch (os) {\r\n            case &quot;Windows 10&quot;:\r\n                System.out.println(&quot;WINODWS DETECTED&quot;);\r\n                break;\r\n            case &quot;Linux&quot;:\r\n                String de = identifyDE();\r\n                if (de == null) {\r\n                    System.out.println(&quot;Couldn&#39;t identify your Desktop Environment&quot;); // log Severe\r\n                    break;\r\n                }\r\n\r\n                switch (de) {\r\n                    case &quot;xfce&quot;:\r\n                        executeProcess(&quot;xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitorVGA-1/workspace0/last-image -s \\&quot;&quot; + wpPath + &quot;\\&quot;&quot;);\r\n                        break;\r\n                    case &quot;gnome&quot;:\r\n                        executeProcess(&quot;gsettings set org.gnome.desktop.background draw-background false &amp;&amp; gsettings set org.gnome.desktop.background picture-uri \\&quot;file://&quot; + wpPath + &quot;\\&quot; &amp;&amp; gsettings set org.gnome.desktop.background draw-background true&quot;);\r\n                        break;\r\n                    case &quot;kde&quot;:\r\n                        executeProcess(&quot;qdbus org.kde.plasmashell /PlasmaShell org.kde.PlasmaShell.evaluateScript &#39;var allDesktops = desktops();print (allDesktops);for (i=0;i&lt;allDesktops.length;i++) {d = allDesktops[i];d.wallpaperPlugin = \\&quot;org.kde.image\\&quot;;d.currentConfigGroup = Array(\\&quot;Wallpaper\\&quot;, \\&quot;org.kde.image\\&quot;, \\&quot;General\\&quot;);d.writeConfig(\\&quot;Image\\&quot;, \\&quot;&quot; + wpPath + &quot;\\&quot;)}&#39;&quot;);\r\n                        break;\r\n                    case &quot;unity&quot;:\r\n                        executeProcess(&quot;gsettings set org.gnome.desktop.background picture-uri \\&quot;file://&quot; + wpPath + &quot;\\&quot;&quot;);\r\n                        break;\r\n                    case &quot;cinnamon&quot;:\r\n                        executeProcess(&quot;gsettings set org.cinnamon.desktop.background picture-uri  \\&quot;file://&quot; + wpPath + &quot;\\&quot;&quot;);\r\n                        break;\r\n                    default:\r\n                        System.out.println(&quot;Can&#39;t recognize DE: &quot; + de);\r\n                }\r\n\r\n\r\n                break;\r\n            default:\r\n                System.out.println(&quot;Can&#39;t recognize OS: &quot; + os);\r\n        }\r\n    }\r\n\r\npublic static String identifyDE() {\r\n        String de;\r\n        de = System.getenv(&quot;XDG_CURRENT_DESKTOP&quot;).toLowerCase();\r\n\r\n        if (de.contains(&quot;xfce&quot;)) {\r\n            return &quot;xfce&quot;;\r\n        } else if (de.contains(&quot;kde&quot;)) {\r\n            return &quot;kde&quot;;\r\n        } else if (de.contains(&quot;unity&quot;)) {\r\n            return &quot;unity&quot;;\r\n        } else if (de.contains(&quot;gnome&quot;)) {\r\n            return &quot;gnome&quot;;\r\n        } else if (de.contains(&quot;cinnamon&quot;)) {\r\n            return &quot;cinnamon&quot;;\r\n        } else if (de.contains(&quot;mate&quot;)) {\r\n            return &quot;mate&quot;;\r\n        } else if (de.contains(&quot;deepin&quot;)) {\r\n            return &quot;deepin&quot;;\r\n        } else if (de.contains(&quot;budgie&quot;)) {\r\n            return &quot;budgie&quot;;\r\n        } else if (de.contains(&quot;lxqt&quot;)) {\r\n            return &quot;lxqt&quot;;\r\n        } else {\r\n            System.out.println(&quot;Not identifiable with: echo $XDG_CURRENT_DESKTOP: &quot; + de);\r\n        }\r\n\r\n        de = System.getenv(&quot;GDM_SESSION&quot;).toLowerCase();\r\n\r\n        if (de.contains(&quot;xfce&quot;)) {\r\n            return &quot;xfce&quot;;\r\n        } else if (de.contains(&quot;kde&quot;)) {\r\n            return &quot;kde&quot;;\r\n        } else if (de.contains(&quot;unity&quot;)) {\r\n            return &quot;unity&quot;;\r\n        } else if (de.contains(&quot;gnome&quot;)) {\r\n            return &quot;gnome&quot;;\r\n        } else if (de.contains(&quot;cinnamon&quot;)) {\r\n            return &quot;cinnamon&quot;;\r\n        }  else if (de.contains(&quot;mate&quot;)) {\r\n            return &quot;mate&quot;;\r\n        } else if (de.contains(&quot;deepin&quot;)) {\r\n            return &quot;deepin&quot;;\r\n        } else if (de.contains(&quot;budgie&quot;)) {\r\n            return &quot;budgie&quot;;\r\n        } else if (de.contains(&quot;lxqt&quot;)) {\r\n            return &quot;lxqt&quot;;\r\n        } else {\r\n            System.out.println(&quot;Not identifiable with: echo $GDM_SESSION: &quot; + de);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\npublic static String executeProcess(String s) {\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, s);\r\n        pb.redirectErrorStream(true);\r\n        Process p = null;\r\n        try {\r\n            p = pb.start();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n        StringBuilder res = new StringBuilder();\r\n        String line;\r\n\r\n        try {\r\n            while ((line = reader.readLine()) != null) {\r\n                res.append(line);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        return res.toString();\r\n    }\r\n```\r\n\r\nThis piece of code does need further testing as for now it has been tested only on manjaro XFCE and manjaro KDE, I&#39;m not even sure about some of the names (deepin&#39;s XDG_CURRENT_DESKTOP contains &quot;deepin&quot; or &quot;dde&quot;?). However I think it&#39;s a good solution (or a backbone for one) so I&#39;m posting this anyway. \r\n\r\nSources:\r\n- [XDG_CURRENT_DESKTOP and GDM_SESSION][1]\r\n- [KDE][2]\r\n- [GNOME][3]\r\n- [Unity][4]\r\n- [Mint][5]\r\n\r\n\r\n  [1]: https://askubuntu.com/a/227669\r\n  [2]: https://superuser.com/a/1332325\r\n  [3]: https://superuser.com/a/409073\r\n  [4]: https://askubuntu.com/a/69500\r\n  [5]: https://unix.stackexchange.com/a/119224","title":"Is there a universal way to set a wallpaper on Linux?","body":"<p>This is the best solution i found, but I bet it could be improved. I scan <code>$XDG_CURRENT_DESKTOP</code> first and then <code>$GDM_SESSION</code> (apparently the xdg doesn't always existas an environment variable). Then I act based on what environment I found and set the wallpaper.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        String wpPath = &quot;/path/to/file&quot;;\n        String os = System.getProperty(&quot;os.name&quot;);\n        switch (os) {\n            case &quot;Windows 10&quot;:\n                System.out.println(&quot;WINODWS DETECTED&quot;);\n                break;\n            case &quot;Linux&quot;:\n                String de = identifyDE();\n                if (de == null) {\n                    System.out.println(&quot;Couldn't identify your Desktop Environment&quot;); // log Severe\n                    break;\n                }\n\n                switch (de) {\n                    case &quot;xfce&quot;:\n                        executeProcess(&quot;xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitorVGA-1/workspace0/last-image -s \\&quot;&quot; + wpPath + &quot;\\&quot;&quot;);\n                        break;\n                    case &quot;gnome&quot;:\n                        executeProcess(&quot;gsettings set org.gnome.desktop.background draw-background false &amp;&amp; gsettings set org.gnome.desktop.background picture-uri \\&quot;file://&quot; + wpPath + &quot;\\&quot; &amp;&amp; gsettings set org.gnome.desktop.background draw-background true&quot;);\n                        break;\n                    case &quot;kde&quot;:\n                        executeProcess(&quot;qdbus org.kde.plasmashell /PlasmaShell org.kde.PlasmaShell.evaluateScript 'var allDesktops = desktops();print (allDesktops);for (i=0;i&lt;allDesktops.length;i++) {d = allDesktops[i];d.wallpaperPlugin = \\&quot;org.kde.image\\&quot;;d.currentConfigGroup = Array(\\&quot;Wallpaper\\&quot;, \\&quot;org.kde.image\\&quot;, \\&quot;General\\&quot;);d.writeConfig(\\&quot;Image\\&quot;, \\&quot;&quot; + wpPath + &quot;\\&quot;)}'&quot;);\n                        break;\n                    case &quot;unity&quot;:\n                        executeProcess(&quot;gsettings set org.gnome.desktop.background picture-uri \\&quot;file://&quot; + wpPath + &quot;\\&quot;&quot;);\n                        break;\n                    case &quot;cinnamon&quot;:\n                        executeProcess(&quot;gsettings set org.cinnamon.desktop.background picture-uri  \\&quot;file://&quot; + wpPath + &quot;\\&quot;&quot;);\n                        break;\n                    default:\n                        System.out.println(&quot;Can't recognize DE: &quot; + de);\n                }\n\n\n                break;\n            default:\n                System.out.println(&quot;Can't recognize OS: &quot; + os);\n        }\n    }\n\npublic static String identifyDE() {\n        String de;\n        de = System.getenv(&quot;XDG_CURRENT_DESKTOP&quot;).toLowerCase();\n\n        if (de.contains(&quot;xfce&quot;)) {\n            return &quot;xfce&quot;;\n        } else if (de.contains(&quot;kde&quot;)) {\n            return &quot;kde&quot;;\n        } else if (de.contains(&quot;unity&quot;)) {\n            return &quot;unity&quot;;\n        } else if (de.contains(&quot;gnome&quot;)) {\n            return &quot;gnome&quot;;\n        } else if (de.contains(&quot;cinnamon&quot;)) {\n            return &quot;cinnamon&quot;;\n        } else if (de.contains(&quot;mate&quot;)) {\n            return &quot;mate&quot;;\n        } else if (de.contains(&quot;deepin&quot;)) {\n            return &quot;deepin&quot;;\n        } else if (de.contains(&quot;budgie&quot;)) {\n            return &quot;budgie&quot;;\n        } else if (de.contains(&quot;lxqt&quot;)) {\n            return &quot;lxqt&quot;;\n        } else {\n            System.out.println(&quot;Not identifiable with: echo $XDG_CURRENT_DESKTOP: &quot; + de);\n        }\n\n        de = System.getenv(&quot;GDM_SESSION&quot;).toLowerCase();\n\n        if (de.contains(&quot;xfce&quot;)) {\n            return &quot;xfce&quot;;\n        } else if (de.contains(&quot;kde&quot;)) {\n            return &quot;kde&quot;;\n        } else if (de.contains(&quot;unity&quot;)) {\n            return &quot;unity&quot;;\n        } else if (de.contains(&quot;gnome&quot;)) {\n            return &quot;gnome&quot;;\n        } else if (de.contains(&quot;cinnamon&quot;)) {\n            return &quot;cinnamon&quot;;\n        }  else if (de.contains(&quot;mate&quot;)) {\n            return &quot;mate&quot;;\n        } else if (de.contains(&quot;deepin&quot;)) {\n            return &quot;deepin&quot;;\n        } else if (de.contains(&quot;budgie&quot;)) {\n            return &quot;budgie&quot;;\n        } else if (de.contains(&quot;lxqt&quot;)) {\n            return &quot;lxqt&quot;;\n        } else {\n            System.out.println(&quot;Not identifiable with: echo $GDM_SESSION: &quot; + de);\n        }\n\n        return null;\n    }\n\npublic static String executeProcess(String s) {\n        ProcessBuilder pb = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, s);\n        pb.redirectErrorStream(true);\n        Process p = null;\n        try {\n            p = pb.start();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n        StringBuilder res = new StringBuilder();\n        String line;\n\n        try {\n            while ((line = reader.readLine()) != null) {\n                res.append(line);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n        return res.toString();\n    }\n</code></pre>\n<p>This piece of code does need further testing as for now it has been tested only on manjaro XFCE and manjaro KDE, I'm not even sure about some of the names (deepin's XDG_CURRENT_DESKTOP contains &quot;deepin&quot; or &quot;dde&quot;?). However I think it's a good solution (or a backbone for one) so I'm posting this anyway.</p>\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://askubuntu.com/a/227669\">XDG_CURRENT_DESKTOP and GDM_SESSION</a></li>\n<li><a href=\"https://superuser.com/a/1332325\">KDE</a></li>\n<li><a href=\"https://superuser.com/a/409073\">GNOME</a></li>\n<li><a href=\"https://askubuntu.com/a/69500\">Unity</a></li>\n<li><a href=\"https://unix.stackexchange.com/a/119224\">Mint</a></li>\n</ul>\n"}],"owner":{"account_id":13033928,"reputation":118,"user_id":9419492,"display_name":"Mamiglia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68760991,"answer_count":1,"score":3,"last_activity_date":1667241315,"creation_date":1628764728,"question_id":68755837,"body_markdown":"I am building a program that periodically changes your wallpaper with one taken from reddit. It currently supports windows, but I would like it to work also on Linux. The program is developed in Java.\r\n\r\nThe problem is that each DE has its unique way of changing a wallpaper: [XFCE][1], [Cinnamon][2], [GNOME][3] etc.\r\n\r\nI wanted to find a simple universal way to do this. This is my code so far (it uses the XFCE solution because my machine runs on XFCE):\r\n\r\n```java\r\npublic static void setWallpaper(String wallpaperPath) { \r\n    String s = &quot;xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitorVGA-1/workspace0/last-image -s \\&quot;&quot; + wallpaperPath + &quot;\\&quot;&quot;;\r\n    ProcessBuilder processBuilder = new ProcessBuilder().command(&quot;bash&quot;, &quot;-c&quot;, s);\r\n    Process process = processBuilder.start();\r\n}\r\n```\r\n\r\nI already tried with `xwallpaper` but it just doesn&#39;t work, no change, no output, no error.\r\n\r\n  [1]: https://unix.stackexchange.com/questions/596070/how-to-change-wallpaper-on-xfce-from-terminal\r\n  [2]: https://unix.stackexchange.com/questions/59653/change-desktop-wallpaper-from-terminal\r\n  [3]: https://superuser.com/questions/258568/changing-ubuntu-wallpaper-using-terminal-or-from-command-line","title":"Is there a universal way to set a wallpaper on Linux?","body":"<p>I am building a program that periodically changes your wallpaper with one taken from reddit. It currently supports windows, but I would like it to work also on Linux. The program is developed in Java.</p>\n<p>The problem is that each DE has its unique way of changing a wallpaper: <a href=\"https://unix.stackexchange.com/questions/596070/how-to-change-wallpaper-on-xfce-from-terminal\">XFCE</a>, <a href=\"https://unix.stackexchange.com/questions/59653/change-desktop-wallpaper-from-terminal\">Cinnamon</a>, <a href=\"https://superuser.com/questions/258568/changing-ubuntu-wallpaper-using-terminal-or-from-command-line\">GNOME</a> etc.</p>\n<p>I wanted to find a simple universal way to do this. This is my code so far (it uses the XFCE solution because my machine runs on XFCE):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void setWallpaper(String wallpaperPath) { \n    String s = &quot;xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitorVGA-1/workspace0/last-image -s \\&quot;&quot; + wallpaperPath + &quot;\\&quot;&quot;;\n    ProcessBuilder processBuilder = new ProcessBuilder().command(&quot;bash&quot;, &quot;-c&quot;, s);\n    Process process = processBuilder.start();\n}\n</code></pre>\n<p>I already tried with <code>xwallpaper</code> but it just doesn't work, no change, no output, no error.</p>\n"},{"tags":["java","batch-file","cmd","windows-task-scheduler"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1660489123,"post_id":73352620,"comment_id":129540268,"body_markdown":"Add `set &gt; c:\\env.txt` to your script and compare the results when run in the different ways","body":"Add <code>set &gt; c:\\env.txt</code> to your script and compare the results when run in the different ways"},{"owner":{"account_id":466882,"reputation":38261,"user_id":871910,"accept_rate":58,"display_name":"zmbq"},"score":0,"creation_date":1660489349,"post_id":73352620,"comment_id":129540336,"body_markdown":"Scheduled tasks run under a different user. You can set the user in the task properties. Change it to your own user, if it works - you have a permission issue with one of the files or directories you use.","body":"Scheduled tasks run under a different user. You can set the user in the task properties. Change it to your own user, if it works - you have a permission issue with one of the files or directories you use."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1660489556,"post_id":73352620,"comment_id":129540390,"body_markdown":"&quot;but it does not work&quot; What does this mean exactly? Show the full error message including the full stack trace.","body":"&quot;but it does not work&quot; What does this mean exactly? Show the full error message including the full stack trace."},{"owner":{"display_name":"user18970328"},"score":0,"creation_date":1660490132,"post_id":73352620,"comment_id":129540508,"body_markdown":"I mean the script is been executed and all commands are ok but the expected output from the Java section is been skipped when if I run the full script manually its all fine","body":"I mean the script is been executed and all commands are ok but the expected output from the Java section is been skipped when if I run the full script manually its all fine"},{"owner":{"display_name":"user18970328"},"score":0,"creation_date":1660490645,"post_id":73352620,"comment_id":129540624,"body_markdown":"I try the solution posted by @zmbq and it worked on my own account. but how can i make the task runnable by different users","body":"I try the solution posted by @zmbq and it worked on my own account. but how can i make the task runnable by different users"},{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":0,"creation_date":1660499870,"post_id":73352620,"comment_id":129542697,"body_markdown":"My assumption is that the Scheduled Task is running with ```C:\\WINDOWS\\System32``` as the current directory. As all of your paths are relative to an unspecified current working directory, those locations cannot be found. The most robust fix is to use fully qualified absolute paths throughout your scripts. Alternatively, just insert a new line to the very beginning of your script, something like this: ```@CD /D &quot;W:\\orking\\Directory&quot; 2&gt;NUL || GoTo :EOF```, or this ```@PushD &quot;W:\\orking\\Directory&quot; 2&gt;NUL || GoTo :EOF```.","body":"My assumption is that the Scheduled Task is running with <code>C:\\WINDOWS\\System32</code> as the current directory. As all of your paths are relative to an unspecified current working directory, those locations cannot be found. The most robust fix is to use fully qualified absolute paths throughout your scripts. Alternatively, just insert a new line to the very beginning of your script, something like this: <code>@CD &#47;D &quot;W:\\orking\\Directory&quot; 2&gt;NUL || GoTo :EOF</code>, or this <code>@PushD &quot;W:\\orking\\Directory&quot; 2&gt;NUL || GoTo :EOF</code>."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667240498,"creation_date":1660490316,"answer_id":73352794,"question_id":73352620,"body_markdown":"The script runs in your account because you have set up Windows such that the file extension `.jar` mapped to the `java` application. If the task scheduler account doesn&#39;t map `.jar` to `java` application then it won&#39;t work.\r\n\r\nRe-write the script to prefix the lines using jars with a valid Java runtime such as `%JAVA_HOME%/bin/java` and ensure that JAVA_HOME is defined, or check that the task scheduler account maps `.jar` handling to a suitable JVM. Example:\r\n\r\n     xyz.jar param1 param2 ...\r\n\r\nbecomes\r\n\r\n     %JAVA_HOME%\\bin\\java --class-path xyz.jar param1 param2 ..\r\n\r\nIn Windows Explorer, you can check the mappings with right mouse -&gt; Properties then see &quot;Open with:&quot; field.","title":"execute bat with java program in task scheduler fail","body":"<p>The script runs in your account because you have set up Windows such that the file extension <code>.jar</code> mapped to the <code>java</code> application. If the task scheduler account doesn't map <code>.jar</code> to <code>java</code> application then it won't work.</p>\n<p>Re-write the script to prefix the lines using jars with a valid Java runtime such as <code>%JAVA_HOME%/bin/java</code> and ensure that JAVA_HOME is defined, or check that the task scheduler account maps <code>.jar</code> handling to a suitable JVM. Example:</p>\n<pre><code> xyz.jar param1 param2 ...\n</code></pre>\n<p>becomes</p>\n<pre><code> %JAVA_HOME%\\bin\\java --class-path xyz.jar param1 param2 ..\n</code></pre>\n<p>In Windows Explorer, you can check the mappings with right mouse -&gt; Properties then see &quot;Open with:&quot; field.</p>\n"}],"owner":{"display_name":"user18970328"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667240498,"creation_date":1660488942,"question_id":73352620,"body_markdown":"I have the following script, which works fine if executed manually, but does not work if set as a task in the task scheduler.\r\n\r\nI suspected a parameter may not be set correctly, but cannot spot it. Could someone please help me with that. \r\n\r\n&lt;!-- language: lang-batch-file --&gt;\r\n\r\n    @echo off\r\n    setlocal EnableDelayedExpansion \r\n\r\n    cls\r\n\r\n    set AllSections=\r\n    Set Action=\r\n\r\n    rem set PARMS=-Xms64M -Xmx512M -Dfile.encoding=UTF-8 -Dsikuli.FromCommandLine\r\n    rem set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_202\r\n    rem set SIKULIX_HOME=%~dp0\r\n\r\n    set CurrentDate=%Date%\r\n    set CurrentTime=%Time: =0%\r\n    set CurrentTime=%CurrentTime:~0,8%\r\n    set DateTimeStamp=%CurrentDate:~6,4%-%CurrentDate:~3,2%-%CurrentDate:~0,2%_%CurrentTime:~0,2%-%CurrentTime:~3,2%-%CurrentTime:~6,2%\r\n    set FolderTimeStamp=%CurrentDate:~3,2%-%CurrentDate:~6,4%\r\n\r\n    set DestinationFolder=SCADA\\Output\\%FolderTimeStamp%\\%DateTimeStamp%\r\n\r\n    md DestinationFolder=SCADA\\Output &gt; nul 2&gt;&amp;1\r\n    md DestinationFolder=SCADA\\Output\\%FolderTimeStamp% &gt; nul 2&gt;&amp;1\r\n    md DestinationFolder=SCADA\\Output\\%FolderTimeStamp%\\%DateTimeStamp% &gt; nul 2&gt;&amp;1\r\n    md DestinationFolder=SCADA\\Output\\%FolderTimeStamp%\\%DateTimeStamp%\\Settings &gt; nul 2&gt;&amp;1\r\n    md DestinationFolder=SCADA\\Output\\%FolderTimeStamp%\\%DateTimeStamp%\\Alarms &gt; nul 2&gt;&amp;1\r\n    md DestinationFolder=SCADA\\Output\\%FolderTimeStamp%\\%DateTimeStamp%\\Network &gt; nul 2&gt;&amp;1\r\n\r\n\r\n    rem Create Settings file\r\n\r\n\r\n    rem echo &quot;Hello world&quot; &gt; %cd%\\aa.txt\r\n\r\n    rem \\\\\\--below instructions working as script from command prompt , but not from task scheduler\r\n\r\n    C:\\sikulix\\sikulixapi-2.0.5-win.jar -r C:\\sikulix\\Scada\\Settings.sikuli\r\n    C:\\sikulix\\sikulixapi-2.0.5-win.jar -r C:\\sikulix\\Scada\\Alarms.sikuli\r\n    C:\\sikulix\\sikulixapi-2.0.5-win.jar -r C:\\sikulix\\Scada\\Networks.sikuli\r\n    rem /////\r\n\r\n\r\n    ENDLOCAL\r\n    :End\r\n\r\nI highlighted the bit that does not work; the folders are set correctly, but the java part fails to be executed in the task scheduler.","title":"execute bat with java program in task scheduler fail","body":"<p>I have the following script, which works fine if executed manually, but does not work if set as a task in the task scheduler.</p>\n<p>I suspected a parameter may not be set correctly, but cannot spot it. Could someone please help me with that.</p>\n<pre class=\"lang-batch-file prettyprint-override\"><code>@echo off\nsetlocal EnableDelayedExpansion \n\ncls\n\nset AllSections=\nSet Action=\n\nrem set PARMS=-Xms64M -Xmx512M -Dfile.encoding=UTF-8 -Dsikuli.FromCommandLine\nrem set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_202\nrem set SIKULIX_HOME=%~dp0\n\nset CurrentDate=%Date%\nset CurrentTime=%Time: =0%\nset CurrentTime=%CurrentTime:~0,8%\nset DateTimeStamp=%CurrentDate:~6,4%-%CurrentDate:~3,2%-%CurrentDate:~0,2%_%CurrentTime:~0,2%-%CurrentTime:~3,2%-%CurrentTime:~6,2%\nset FolderTimeStamp=%CurrentDate:~3,2%-%CurrentDate:~6,4%\n\nset DestinationFolder=SCADA\\Output\\%FolderTimeStamp%\\%DateTimeStamp%\n\nmd DestinationFolder=SCADA\\Output &gt; nul 2&gt;&amp;1\nmd DestinationFolder=SCADA\\Output\\%FolderTimeStamp% &gt; nul 2&gt;&amp;1\nmd DestinationFolder=SCADA\\Output\\%FolderTimeStamp%\\%DateTimeStamp% &gt; nul 2&gt;&amp;1\nmd DestinationFolder=SCADA\\Output\\%FolderTimeStamp%\\%DateTimeStamp%\\Settings &gt; nul 2&gt;&amp;1\nmd DestinationFolder=SCADA\\Output\\%FolderTimeStamp%\\%DateTimeStamp%\\Alarms &gt; nul 2&gt;&amp;1\nmd DestinationFolder=SCADA\\Output\\%FolderTimeStamp%\\%DateTimeStamp%\\Network &gt; nul 2&gt;&amp;1\n\n\nrem Create Settings file\n\n\nrem echo &quot;Hello world&quot; &gt; %cd%\\aa.txt\n\nrem \\\\\\--below instructions working as script from command prompt , but not from task scheduler\n\nC:\\sikulix\\sikulixapi-2.0.5-win.jar -r C:\\sikulix\\Scada\\Settings.sikuli\nC:\\sikulix\\sikulixapi-2.0.5-win.jar -r C:\\sikulix\\Scada\\Alarms.sikuli\nC:\\sikulix\\sikulixapi-2.0.5-win.jar -r C:\\sikulix\\Scada\\Networks.sikuli\nrem /////\n\n\nENDLOCAL\n:End\n</code></pre>\n<p>I highlighted the bit that does not work; the folders are set correctly, but the java part fails to be executed in the task scheduler.</p>\n"},{"tags":["java","spring","mono","spring-webflux","flux"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1667225693,"post_id":74264266,"comment_id":131113612,"body_markdown":"Use a `Flux` for the collection and proceed from that.","body":"Use a <code>Flux</code> for the collection and proceed from that."}],"answers":[{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667240419,"creation_date":1667226974,"answer_id":74264923,"question_id":74264266,"body_markdown":"I would add a temporary class to group data and serivce name :\r\n```\r\nrecord SwaggerService(SwaggerServiceData swaggerServiceData, String serviceName) {\r\n        boolean hasData() {\r\n            return swaggerServiceData != null;\r\n        }\r\n }\r\n```\r\nAnd then change your pipeline :\r\n````\r\nFlux.fromStream(swaggerProperties.getUrls().entrySet().stream())\r\n                .flatMap((e) -&gt; {\r\n                    Mono&lt;SwaggerServiceData&gt; swaggerDefinitionForAPI = getSwaggerDefinitionForAPI(e.getKey(),\r\n                            e.getValue());\r\n                    return swaggerDefinitionForAPI.map(swaggerServiceData -&gt; new SwaggerService(swaggerServiceData, e.getKey()));\r\n                })\r\n                .filter(SwaggerService::hasData)\r\n                .map(swaggerService -&gt; {\r\n                    String content = getJSON(swaggerService.swaggerServiceData());\r\n                    definitionContext.addServiceDefinition(swaggerService.serviceName(), content);\r\n                    return swaggerService.swaggerServiceData();\r\n                })\r\n                // here we will collect all datas and they will be emmited as single Mono with list of SwaggerServiceData\r\n                .collectList()\r\n                .map(this::getAllServicesApiSwagger)\r\n                .filter(Optional::isPresent)\r\n                .map(Optional::get)\r\n                .subscribe(e -&gt; {\r\n                    String allApiContent = getJSON(e);\r\n                    definitionContext.addServiceDefinition(&quot;All&quot;, allApiContent);\r\n                });\r\n````\r\nThis does not deal with logging error when SwaggerServiceData is null but you can further change it if you want. Also I assume that `DefinitionContext` is thread safe.\r\n\r\nSolution with error logging (using `flatMap` and `Mono.empty()`) :\r\n````\r\n        Flux.fromStream(swaggerProperties.getUrls().entrySet().stream())\r\n                .flatMap((e) -&gt; {\r\n                    Mono&lt;SwaggerServiceData&gt; swaggerDefinitionForAPI = getSwaggerDefinitionForAPI(e.getKey(),\r\n                            e.getValue());\r\n                    return swaggerDefinitionForAPI\r\n                            .flatMap(swaggerServiceData -&gt; {\r\n                                if(swaggerServiceData != null) {\r\n                                    return Mono.just(new SwaggerService(swaggerServiceData, e.getKey()));\r\n                                } else {\r\n                                    log.error(&quot;Skipping service id : {} Error : Could not get Swagger definition from API &quot;,\r\n                                            e.getKey());\r\n                                    return Mono.empty();\r\n                                }\r\n                            });\r\n                })\r\n                .map(swaggerService -&gt; {\r\n                    String content = getJSON(swaggerService.swaggerServiceData());\r\n                    definitionContext.addServiceDefinition(swaggerService.serviceName(), content);\r\n                    return swaggerService.swaggerServiceData();\r\n                }).collectList()\r\n                .map(this::getAllServicesApiSwagger)\r\n                .filter(Optional::isPresent)\r\n                .map(Optional::get)\r\n                .subscribe(e -&gt; {\r\n                    String allApiContent = getJSON(e);\r\n                    definitionContext.addServiceDefinition(&quot;All&quot;, allApiContent);\r\n                });\r\n```` \r\nYou can also wrap those lambads into some meaningful methods to improve readibility.","title":"Spring Reactive. How wait for all monos to finish?","body":"<p>I would add a temporary class to group data and serivce name :</p>\n<pre><code>record SwaggerService(SwaggerServiceData swaggerServiceData, String serviceName) {\n        boolean hasData() {\n            return swaggerServiceData != null;\n        }\n }\n</code></pre>\n<p>And then change your pipeline :</p>\n<pre><code>Flux.fromStream(swaggerProperties.getUrls().entrySet().stream())\n                .flatMap((e) -&gt; {\n                    Mono&lt;SwaggerServiceData&gt; swaggerDefinitionForAPI = getSwaggerDefinitionForAPI(e.getKey(),\n                            e.getValue());\n                    return swaggerDefinitionForAPI.map(swaggerServiceData -&gt; new SwaggerService(swaggerServiceData, e.getKey()));\n                })\n                .filter(SwaggerService::hasData)\n                .map(swaggerService -&gt; {\n                    String content = getJSON(swaggerService.swaggerServiceData());\n                    definitionContext.addServiceDefinition(swaggerService.serviceName(), content);\n                    return swaggerService.swaggerServiceData();\n                })\n                // here we will collect all datas and they will be emmited as single Mono with list of SwaggerServiceData\n                .collectList()\n                .map(this::getAllServicesApiSwagger)\n                .filter(Optional::isPresent)\n                .map(Optional::get)\n                .subscribe(e -&gt; {\n                    String allApiContent = getJSON(e);\n                    definitionContext.addServiceDefinition(&quot;All&quot;, allApiContent);\n                });\n</code></pre>\n<p>This does not deal with logging error when SwaggerServiceData is null but you can further change it if you want. Also I assume that <code>DefinitionContext</code> is thread safe.</p>\n<p>Solution with error logging (using <code>flatMap</code> and <code>Mono.empty()</code>) :</p>\n<pre><code>        Flux.fromStream(swaggerProperties.getUrls().entrySet().stream())\n                .flatMap((e) -&gt; {\n                    Mono&lt;SwaggerServiceData&gt; swaggerDefinitionForAPI = getSwaggerDefinitionForAPI(e.getKey(),\n                            e.getValue());\n                    return swaggerDefinitionForAPI\n                            .flatMap(swaggerServiceData -&gt; {\n                                if(swaggerServiceData != null) {\n                                    return Mono.just(new SwaggerService(swaggerServiceData, e.getKey()));\n                                } else {\n                                    log.error(&quot;Skipping service id : {} Error : Could not get Swagger definition from API &quot;,\n                                            e.getKey());\n                                    return Mono.empty();\n                                }\n                            });\n                })\n                .map(swaggerService -&gt; {\n                    String content = getJSON(swaggerService.swaggerServiceData());\n                    definitionContext.addServiceDefinition(swaggerService.serviceName(), content);\n                    return swaggerService.swaggerServiceData();\n                }).collectList()\n                .map(this::getAllServicesApiSwagger)\n                .filter(Optional::isPresent)\n                .map(Optional::get)\n                .subscribe(e -&gt; {\n                    String allApiContent = getJSON(e);\n                    definitionContext.addServiceDefinition(&quot;All&quot;, allApiContent);\n                });\n</code></pre>\n<p>You can also wrap those lambads into some meaningful methods to improve readibility.</p>\n"}],"owner":{"account_id":16871871,"reputation":98,"user_id":12200199,"display_name":"Daimon Cool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74264923,"answer_count":1,"score":0,"last_activity_date":1667240419,"creation_date":1667224099,"question_id":74264266,"body_markdown":"I have the following code where I call external APIs via webclient and return Mono. \r\nI need to execute some logic when I receive data. And after all, requests are processed, execute one logic for all gathered data. I can collect all Monos and put them to flux and then execute some logic at the end. But I have serviceName filed which is accessible only in the loop, so I need to execute logic for mono in loop and here I&#39;m stuck and don&#39;t know how to wait for all data to complete and do it in a reactive way.\r\n\r\n\r\n\r\n\r\n\r\n```\r\n@Scheduled(fixedDelay = 50000)\r\npublic void refreshSwaggerConfigurations() {\r\n  log.debug(&quot;Starting Service Definition Context refresh&quot;);\r\n  List&lt;SwaggerServiceData&gt; allServicesApi = new ArrayList&lt;&gt;();\r\n\r\n  swaggerProperties.getUrls().forEach((serviceName, serviceSwaggerUrl) -&gt; {\r\n    log.debug(&quot;Attempting service definition refresh for Service : {} &quot;, serviceName);\r\n\r\n    Mono&lt;SwaggerServiceData&gt; swaggerData = getSwaggerDefinitionForAPI(serviceName,\r\n        serviceSwaggerUrl);\r\n\r\n    swaggerData.subscribe(swaggerServiceData -&gt; {\r\n      if (swaggerServiceData != null) {\r\n        allServicesApi.add(swaggerServiceData);\r\n        String content = getJSON(swaggerServiceData);\r\n        definitionContext.addServiceDefinition(serviceName, content);\r\n      } else {\r\n        log.error(&quot;Skipping service id : {} Error : Could not get Swagger definition from API &quot;,\r\n            serviceName);\r\n      }\r\n    });\r\n  });\r\n  //I need to wait here for all monos to complete and after that proceed for All gathered data...\r\n  //Now it&#39;s empty And I know why, just don&#39;t know how to make it.\r\n  Optional&lt;SwaggerServiceData&gt; swaggerAllServicesData = getAllServicesApiSwagger(allServicesApi);\r\n  if (swaggerAllServicesData.isPresent()) {\r\n    String allApiContent = getJSON(swaggerAllServicesData.get());\r\n    definitionContext.addServiceDefinition(&quot;All&quot;, allApiContent);\r\n  }\r\n}\r\n\r\n\r\nprivate Mono&lt;SwaggerServiceData&gt; getSwaggerDefinitionForAPI(String serviceName, String url) {\r\n  log.debug(&quot;Accessing the SwaggerDefinition JSON for Service : {} : URL : {} &quot;, serviceName,\r\n      url);\r\n    Mono&lt;SwaggerServiceData&gt; swaggerServiceDataMono = webClient.get()\r\n        .uri(url)\r\n        .exchangeToMono(clientResponse -&gt; clientResponse.bodyToMono(SwaggerServiceData.class));\r\n    return swaggerServiceDataMono;\r\n}\r\n\r\n```\r\n","title":"Spring Reactive. How wait for all monos to finish?","body":"<p>I have the following code where I call external APIs via webclient and return Mono.\nI need to execute some logic when I receive data. And after all, requests are processed, execute one logic for all gathered data. I can collect all Monos and put them to flux and then execute some logic at the end. But I have serviceName filed which is accessible only in the loop, so I need to execute logic for mono in loop and here I'm stuck and don't know how to wait for all data to complete and do it in a reactive way.</p>\n<pre><code>@Scheduled(fixedDelay = 50000)\npublic void refreshSwaggerConfigurations() {\n  log.debug(&quot;Starting Service Definition Context refresh&quot;);\n  List&lt;SwaggerServiceData&gt; allServicesApi = new ArrayList&lt;&gt;();\n\n  swaggerProperties.getUrls().forEach((serviceName, serviceSwaggerUrl) -&gt; {\n    log.debug(&quot;Attempting service definition refresh for Service : {} &quot;, serviceName);\n\n    Mono&lt;SwaggerServiceData&gt; swaggerData = getSwaggerDefinitionForAPI(serviceName,\n        serviceSwaggerUrl);\n\n    swaggerData.subscribe(swaggerServiceData -&gt; {\n      if (swaggerServiceData != null) {\n        allServicesApi.add(swaggerServiceData);\n        String content = getJSON(swaggerServiceData);\n        definitionContext.addServiceDefinition(serviceName, content);\n      } else {\n        log.error(&quot;Skipping service id : {} Error : Could not get Swagger definition from API &quot;,\n            serviceName);\n      }\n    });\n  });\n  //I need to wait here for all monos to complete and after that proceed for All gathered data...\n  //Now it's empty And I know why, just don't know how to make it.\n  Optional&lt;SwaggerServiceData&gt; swaggerAllServicesData = getAllServicesApiSwagger(allServicesApi);\n  if (swaggerAllServicesData.isPresent()) {\n    String allApiContent = getJSON(swaggerAllServicesData.get());\n    definitionContext.addServiceDefinition(&quot;All&quot;, allApiContent);\n  }\n}\n\n\nprivate Mono&lt;SwaggerServiceData&gt; getSwaggerDefinitionForAPI(String serviceName, String url) {\n  log.debug(&quot;Accessing the SwaggerDefinition JSON for Service : {} : URL : {} &quot;, serviceName,\n      url);\n    Mono&lt;SwaggerServiceData&gt; swaggerServiceDataMono = webClient.get()\n        .uri(url)\n        .exchangeToMono(clientResponse -&gt; clientResponse.bodyToMono(SwaggerServiceData.class));\n    return swaggerServiceDataMono;\n}\n\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1667239283,"post_id":74267382,"comment_id":131118616,"body_markdown":"It is NOT printing some lines twice.  The &quot;second&quot; line has a blank space at the end, which is in your input string.  Note lines [1] and [2] in your example.  If you changed your code to add starting and ending delimiters to the output you would see this.","body":"It is NOT printing some lines twice.  The &quot;second&quot; line has a blank space at the end, which is in your input string.  Note lines [1] and [2] in your example.  If you changed your code to add starting and ending delimiters to the output you would see this."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1667239496,"post_id":74267382,"comment_id":131118684,"body_markdown":"thank you for response i just want to print something like above in the image how can i do that??","body":"thank you for response i just want to print something like above in the image how can i do that??"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667239542,"post_id":74267382,"comment_id":131118705,"body_markdown":"You already are.  Your code works.","body":"You already are.  Your code works."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1667239583,"post_id":74267382,"comment_id":131118717,"body_markdown":"yes it is working but how to avoid repetition of words like rooms roms, rooms in rooms in","body":"yes it is working but how to avoid repetition of words like rooms roms, rooms in rooms in"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1667239584,"post_id":74267382,"comment_id":131118718,"body_markdown":"@VivekMFauzdar in your own example, it prints `wout` and `wout ` so it is the same behaviour","body":"@VivekMFauzdar in your own example, it prints <code>wout</code> and <code>wout </code> so it is the same behaviour"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1667239642,"post_id":74267382,"comment_id":131118734,"body_markdown":"ohhh but is there no way to avoid that","body":"ohhh but is there no way to avoid that"}],"answers":[{"comments":[{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1668871400,"post_id":74267456,"comment_id":131513690,"body_markdown":"hey can you please guide me how can i print this pattern in my firebase databse android java","body":"hey can you please guide me how can i print this pattern in my firebase databse android java"}],"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1667239862,"creation_date":1667239642,"answer_id":74267456,"question_id":74267382,"body_markdown":"To start printing from `roo` instead of `r`, change the outer loop\r\n\r\n    for (int i = 0; i&lt;=n; i++)\r\n\r\ninto\r\n\r\n    for (int i = 3; i&lt;=n; i++)\r\n\r\nIf you want to avoid/skip ` `, just add this line after `System.out.println()`\r\n\r\n    if (j + 1 &lt; n &amp;&amp; searchQuery.charAt(j+1).equals(&quot; &quot;)){\r\n        i++;\r\n    }\r\n\r\nThis will effectively skip printing new lines that simply have an extra space compared to the previous line","title":"writing string text pyramid pattern in java","body":"<p>To start printing from <code>roo</code> instead of <code>r</code>, change the outer loop</p>\n<pre><code>for (int i = 0; i&lt;=n; i++)\n</code></pre>\n<p>into</p>\n<pre><code>for (int i = 3; i&lt;=n; i++)\n</code></pre>\n<p>If you want to avoid/skip <code> </code>, just add this line after <code>System.out.println()</code></p>\n<pre><code>if (j + 1 &lt; n &amp;&amp; searchQuery.charAt(j+1).equals(&quot; &quot;)){\n    i++;\n}\n</code></pre>\n<p>This will effectively skip printing new lines that simply have an extra space compared to the previous line</p>\n"},{"comments":[{"owner":{"account_id":18283281,"reputation":305,"user_id":13311722,"display_name":"7eg"},"score":1,"creation_date":1667239918,"post_id":74267466,"comment_id":131118821,"body_markdown":"happy to here that","body":"happy to here that"}],"tags":[],"owner":{"account_id":18283281,"reputation":305,"user_id":13311722,"display_name":"7eg"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667239716,"creation_date":1667239716,"answer_id":74267466,"question_id":74267382,"body_markdown":"To make it start from `roo` just simply make `int i = 3`","title":"writing string text pyramid pattern in java","body":"<p>To make it start from <code>roo</code> just simply make <code>int i = 3</code></p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667240209,"creation_date":1667239907,"answer_id":74267503,"question_id":74267382,"body_markdown":"**BE SIMPLE!!!**\r\n\r\n```java\r\nString str = &quot;rooms in mumbai&quot;;\r\n\r\nfor (int i = 3; i &lt;= str.length(); i++)\r\n    if (str.charAt(i) != &#39; &#39;)\r\n        System.out.println(str.substring(0, i));\r\n```\r\n\r\n**Output:**\r\n```\r\nroo\r\nroom\r\nrooms \r\nrooms i\r\nrooms in \r\nrooms in m\r\nrooms in mu\r\nrooms in mum\r\nrooms in mumb\r\nrooms in mumba\r\nrooms in mumbai\r\n```","title":"writing string text pyramid pattern in java","body":"<p><strong>BE SIMPLE!!!</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;rooms in mumbai&quot;;\n\nfor (int i = 3; i &lt;= str.length(); i++)\n    if (str.charAt(i) != ' ')\n        System.out.println(str.substring(0, i));\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>roo\nroom\nrooms \nrooms i\nrooms in \nrooms in m\nrooms in mu\nrooms in mum\nrooms in mumb\nrooms in mumba\nrooms in mumbai\n</code></pre>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74267456,"answer_count":3,"score":-3,"last_activity_date":1667240209,"creation_date":1667239182,"question_id":74267382,"body_markdown":"I am new to android and trying to write this pyramid in java but it is not printing exactly.\r\n\r\ni want to print like this\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ze5Dl.png\r\n\r\n**my code to write this is**\r\n\r\n      String searchQuery = &quot;rooms in mumbai&quot;;\r\n\r\n        int n = searchQuery.length();\r\n\r\n        for (int i = 0; i&lt;=n; i++)\r\n        {\r\n            for (int j = 0; j&lt;=i-1; j++)\r\n            {\r\n                System.out.print(searchQuery.charAt(j));\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n**but this printing this**\r\n\r\n    r\r\n    ro\r\n    roo\r\n    room\r\n    rooms\r\n    rooms \r\n    rooms i\r\n    rooms in\r\n    rooms in \r\n    rooms in m\r\n    rooms in mu\r\n    rooms in mum\r\n    rooms in mumb\r\n    rooms in mumba\r\n    rooms in mumbai\r\n\r\nAs we can see it is priting some lines two times and I want the print to start from &quot;roo&quot; but it is printing from &quot;r&quot;. Guide me how can i do that\r\n","title":"writing string text pyramid pattern in java","body":"<p>I am new to android and trying to write this pyramid in java but it is not printing exactly.</p>\n<p>i want to print like this\n<a href=\"https://i.stack.imgur.com/ze5Dl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ze5Dl.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>my code to write this is</strong></p>\n<pre><code>  String searchQuery = &quot;rooms in mumbai&quot;;\n\n    int n = searchQuery.length();\n\n    for (int i = 0; i&lt;=n; i++)\n    {\n        for (int j = 0; j&lt;=i-1; j++)\n        {\n            System.out.print(searchQuery.charAt(j));\n        }\n        System.out.println();\n    }\n</code></pre>\n<p><strong>but this printing this</strong></p>\n<pre><code>r\nro\nroo\nroom\nrooms\nrooms \nrooms i\nrooms in\nrooms in \nrooms in m\nrooms in mu\nrooms in mum\nrooms in mumb\nrooms in mumba\nrooms in mumbai\n</code></pre>\n<p>As we can see it is priting some lines two times and I want the print to start from &quot;roo&quot; but it is printing from &quot;r&quot;. Guide me how can i do that</p>\n"},{"tags":["java","networking","dns","inetaddress","dnsjava"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667225520,"post_id":74264551,"comment_id":131113536,"body_markdown":"You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"score":0,"creation_date":1667226432,"post_id":74264551,"comment_id":131113899,"body_markdown":"But what I posted is a minimal example. Do you mean I should add fully qualified names for classes?","body":"But what I posted is a minimal example. Do you mean I should add fully qualified names for classes?"},{"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"score":0,"creation_date":1667226600,"post_id":74264551,"comment_id":131113966,"body_markdown":"... Ok, I modified the code I posted","body":"... Ok, I modified the code I posted"},{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1667229856,"post_id":74264551,"comment_id":131115245,"body_markdown":"This IP address `151.101.1.69` has no PTR records, you can see that doing `dig -x 151.101.1.69`. So nothing wrong with your code. Again, it is NOT guaranteed that every IP address has a `PTR` record. Your code just needs to make sure to handle the status code back (here you should get a `NXDOMAIN`), and start parsing only if success. You also have to guard against possibly getting other record types (ex: `CNAME`) instead of the one you expect, so you need to test for that before trying to extract data.","body":"This IP address <code>151.101.1.69</code> has no PTR records, you can see that doing <code>dig -x 151.101.1.69</code>. So nothing wrong with your code. Again, it is NOT guaranteed that every IP address has a <code>PTR</code> record. Your code just needs to make sure to handle the status code back (here you should get a <code>NXDOMAIN</code>), and start parsing only if success. You also have to guard against possibly getting other record types (ex: <code>CNAME</code>) instead of the one you expect, so you need to test for that before trying to extract data."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667233698,"post_id":74264551,"comment_id":131116694,"body_markdown":"*Lookup is considered legacy (but not yet deprecated). Use LookupSession instead, which is thread safe and fully async.* according to the API docs. Interestingly that call, and the one you&#39;re using, are aynchronous, so even if there *are* PTR records, I&#39;m not sure how the record retrieval would be synchronized with the main thread","body":"<i>Lookup is considered legacy (but not yet deprecated). Use LookupSession instead, which is thread safe and fully async.</i> according to the API docs. Interestingly that call, and the one you&#39;re using, are aynchronous, so even if there <i>are</i> PTR records, I&#39;m not sure how the record retrieval would be synchronized with the main thread"},{"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"score":0,"creation_date":1667240272,"post_id":74264551,"comment_id":131118914,"body_markdown":"I modified the example and also added the version with LookupSession. I&#39;ve also added other types to the query, but it doesn&#39;t work. I also added other information in the post. I am starting to think that retrieving the host name from the IP was not possible with this library","body":"I modified the example and also added the version with LookupSession. I&#39;ve also added other types to the query, but it doesn&#39;t work. I also added other information in the post. I am starting to think that retrieving the host name from the IP was not possible with this library"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667241489,"post_id":74264551,"comment_id":131119266,"body_markdown":"Did you actually read the comment of @PatrickMevzek?","body":"Did you actually read the comment of @PatrickMevzek?"},{"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"score":0,"creation_date":1667241746,"post_id":74264551,"comment_id":131119327,"body_markdown":"Yes and I added new types: `Arrays.asList(Type.A, Type.AAAA, Type.PTR)` and I don&#39;t know what to do. I launched the dit and I saw that there is this PTR record: `69.1.101.151.in-addr.arpa.     IN      PTR`","body":"Yes and I added new types: <code>Arrays.asList(Type.A, Type.AAAA, Type.PTR)</code> and I don&#39;t know what to do. I launched the dit and I saw that there is this PTR record: <code>69.1.101.151.in-addr.arpa.     IN      PTR</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667243468,"post_id":74264551,"comment_id":131119798,"body_markdown":"Do a reverse on 185.230.63.186. Your code will work","body":"Do a reverse on 185.230.63.186. Your code will work"},{"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"score":0,"creation_date":1667243977,"post_id":74264551,"comment_id":131119957,"body_markdown":"Ok now I understand: so for certain IP Addresses there is no way to retrieve their host names?","body":"Ok now I understand: so for certain IP Addresses there is no way to retrieve their host names?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667244241,"post_id":74264551,"comment_id":131120017,"body_markdown":"afaik, not unless they have PTR records","body":"afaik, not unless they have PTR records"},{"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"score":0,"creation_date":1667244474,"post_id":74264551,"comment_id":131120072,"body_markdown":"Ok, if any of you post the answer I will accept it","body":"Ok, if any of you post the answer I will accept it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667244709,"post_id":74264551,"comment_id":131120131,"body_markdown":"I think @PatrickMevzek should do that - it&#39;s his key observation","body":"I think @PatrickMevzek should do that - it&#39;s his key observation"}],"owner":{"account_id":26725532,"reputation":63,"user_id":20328710,"display_name":"Edgar Becker"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667240183,"creation_date":1667225270,"question_id":74264551,"body_markdown":"I&#39;m trying to retrieve the host name (or domain) of an IP address with [dnsjava library](https://github.com/dnsjava/dnsjava) by using a `SimpleResolver` and the `ReverseMap` and I wrote the following code:\r\n\r\n```java\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\nimport org.xbill.DNS.Lookup;\r\nimport org.xbill.DNS.PTRRecord;\r\nimport org.xbill.DNS.Record;\r\nimport org.xbill.DNS.Resolver;\r\nimport org.xbill.DNS.ReverseMap;\r\nimport org.xbill.DNS.SimpleResolver;\r\nimport org.xbill.DNS.Type;\r\nimport org.xbill.DNS.lookup.LookupResult;\r\nimport org.xbill.DNS.lookup.LookupSession;\r\n\r\npublic class IPToName {\r\n\r\n\tpublic static void main(String[] args) throws UnknownHostException {\r\n\t\tfindHostNameWithLookup();\r\n\t\tfindHostNameWithLookupSession();\r\n\t}\r\n\r\n\tpublic static void findHostNameWithLookup() throws UnknownHostException {\r\n\t\tResolver resolver = new SimpleResolver(InetAddress.getByName(&quot;208.67.222.222&quot;));//Open DNS server\r\n\t\tCollection&lt;String&gt; hostNames = new ArrayList&lt;&gt;();\r\n\t\tfor (Integer type : Arrays.asList(Type.A, Type.AAAA, Type.PTR)) {\r\n\t\t\tfinal Lookup lookUp = new Lookup(ReverseMap.fromAddress(&quot;151.101.1.69&quot;), type);//Stackoverflow.com server\r\n\t\t\tlookUp.setResolver(resolver);\r\n\t\t\tRecord[] records = lookUp.run();\r\n\t\t\tif (records != null) {\r\n\t\t\t\tfor (int i = 0; i &lt; records.length; i++) {\r\n\t\t\t\t    if (records[i] instanceof PTRRecord) {\r\n\t\t\t\t        hostNames.add(records[i].rdataToString());\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\thostNames.stream().forEach(System.out::println);\r\n\t}\r\n\r\n\tpublic static void findHostNameWithLookupSession() throws UnknownHostException {\r\n\t\tLookupSession lookupSession = LookupSession.builder().resolver(\r\n\t\t\tnew SimpleResolver(InetAddress.getByName(&quot;208.67.222.222&quot;))\r\n\t\t).build();\r\n    \tCollection&lt;CompletableFuture&lt;LookupResult&gt;&gt; hostNamesRetrievers = new ArrayList&lt;&gt;();\r\n    \tfor (Integer type : Arrays.asList(Type.A, Type.AAAA, Type.PTR)) {\r\n    \t\thostNamesRetrievers.add(\r\n\t\t\t\tlookupSession.lookupAsync(ReverseMap.fromAddress(&quot;151.101.1.69&quot;), type).toCompletableFuture()\r\n\t\t\t);\r\n    \t}\r\n    \thostNamesRetrievers.stream().forEach(hostNamesRetriever -&gt; {\r\n    \t\ttry {\r\n    \t\t\tList&lt;Record&gt; records = hostNamesRetriever.join().getRecords();\r\n    \t\t\tif (records != null) {\r\n    \t\t\t\tfor (Record record : records) {\r\n    \t\t\t\t\tSystem.out.println(record.rdataToString());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Throwable exc) {\r\n    \t\t\texc.printStackTrace();\r\n    \t\t}\r\n    \t});\r\n\t}\r\n\r\n}\r\n```\r\n\r\nBut with the method `findHostNameWithLookup` I receive a null array of records and with the `findHostNameWithLookupSession` I receive all `NoSuchDomainException`: considering that the istruction `ReverseMap.fromAddress(&quot;151.101.1.69&quot;)` generate the String `69.1.101.151.in-addr.arpa.`: does anyone know what&#39;s wrong?\r\n","title":"How to retrieve the host name by IP with dnsjava library?","body":"<p>I'm trying to retrieve the host name (or domain) of an IP address with <a href=\"https://github.com/dnsjava/dnsjava\" rel=\"nofollow noreferrer\">dnsjava library</a> by using a <code>SimpleResolver</code> and the <code>ReverseMap</code> and I wrote the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\n\nimport org.xbill.DNS.Lookup;\nimport org.xbill.DNS.PTRRecord;\nimport org.xbill.DNS.Record;\nimport org.xbill.DNS.Resolver;\nimport org.xbill.DNS.ReverseMap;\nimport org.xbill.DNS.SimpleResolver;\nimport org.xbill.DNS.Type;\nimport org.xbill.DNS.lookup.LookupResult;\nimport org.xbill.DNS.lookup.LookupSession;\n\npublic class IPToName {\n\n    public static void main(String[] args) throws UnknownHostException {\n        findHostNameWithLookup();\n        findHostNameWithLookupSession();\n    }\n\n    public static void findHostNameWithLookup() throws UnknownHostException {\n        Resolver resolver = new SimpleResolver(InetAddress.getByName(&quot;208.67.222.222&quot;));//Open DNS server\n        Collection&lt;String&gt; hostNames = new ArrayList&lt;&gt;();\n        for (Integer type : Arrays.asList(Type.A, Type.AAAA, Type.PTR)) {\n            final Lookup lookUp = new Lookup(ReverseMap.fromAddress(&quot;151.101.1.69&quot;), type);//Stackoverflow.com server\n            lookUp.setResolver(resolver);\n            Record[] records = lookUp.run();\n            if (records != null) {\n                for (int i = 0; i &lt; records.length; i++) {\n                    if (records[i] instanceof PTRRecord) {\n                        hostNames.add(records[i].rdataToString());\n                    }\n                }\n            }\n        }\n        hostNames.stream().forEach(System.out::println);\n    }\n\n    public static void findHostNameWithLookupSession() throws UnknownHostException {\n        LookupSession lookupSession = LookupSession.builder().resolver(\n            new SimpleResolver(InetAddress.getByName(&quot;208.67.222.222&quot;))\n        ).build();\n        Collection&lt;CompletableFuture&lt;LookupResult&gt;&gt; hostNamesRetrievers = new ArrayList&lt;&gt;();\n        for (Integer type : Arrays.asList(Type.A, Type.AAAA, Type.PTR)) {\n            hostNamesRetrievers.add(\n                lookupSession.lookupAsync(ReverseMap.fromAddress(&quot;151.101.1.69&quot;), type).toCompletableFuture()\n            );\n        }\n        hostNamesRetrievers.stream().forEach(hostNamesRetriever -&gt; {\n            try {\n                List&lt;Record&gt; records = hostNamesRetriever.join().getRecords();\n                if (records != null) {\n                    for (Record record : records) {\n                        System.out.println(record.rdataToString());\n                    }\n                }\n            } catch (Throwable exc) {\n                exc.printStackTrace();\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>But with the method <code>findHostNameWithLookup</code> I receive a null array of records and with the <code>findHostNameWithLookupSession</code> I receive all <code>NoSuchDomainException</code>: considering that the istruction <code>ReverseMap.fromAddress(&quot;151.101.1.69&quot;)</code> generate the String <code>69.1.101.151.in-addr.arpa.</code>: does anyone know what's wrong?</p>\n"},{"tags":["java","javafx","undo"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1666481043,"post_id":74166255,"comment_id":130948020,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."}],"answers":[{"tags":[],"owner":{"account_id":2719548,"reputation":2231,"user_id":2346131,"display_name":"Lavish Kothari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667239684,"creation_date":1667239684,"answer_id":74267461,"question_id":74166255,"body_markdown":"**Use [`replaceText`](https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html#replaceText(int,%20int,%20java.lang.String)) instead of [`setText`](https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html#setText(java.lang.String)).**\r\n\r\nI looked at the code for [`TextArea`](https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextArea.html) (and [`TextInputControl`](https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html)) and found that [`replaceText`](https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html#replaceText(int,%20int,%20java.lang.String)) takes care of saving previous &quot;actions&quot; whereas [`setText()`](https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html#setText(java.lang.String)) will not save previous actions.\r\nSo undo operation (using `ctrl + z`) works as expected when using [`replaceText`](https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html#replaceText(int,%20int,%20java.lang.String)).","title":"JavaFX textarea - Ctrl+z not working after textArea.setText(&quot;...&quot;)","body":"<p><strong>Use <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html#replaceText(int,%20int,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>replaceText</code></a> instead of <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html#setText(java.lang.String)\" rel=\"nofollow noreferrer\"><code>setText</code></a>.</strong></p>\n<p>I looked at the code for <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextArea.html\" rel=\"nofollow noreferrer\"><code>TextArea</code></a> (and <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html\" rel=\"nofollow noreferrer\"><code>TextInputControl</code></a>) and found that <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html#replaceText(int,%20int,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>replaceText</code></a> takes care of saving previous &quot;actions&quot; whereas <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html#setText(java.lang.String)\" rel=\"nofollow noreferrer\"><code>setText()</code></a> will not save previous actions.\nSo undo operation (using <code>ctrl + z</code>) works as expected when using <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/control/TextInputControl.html#replaceText(int,%20int,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>replaceText</code></a>.</p>\n"}],"owner":{"account_id":2719548,"reputation":2231,"user_id":2346131,"display_name":"Lavish Kothari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74267461,"answer_count":1,"score":-1,"last_activity_date":1667239684,"creation_date":1666464424,"question_id":74166255,"body_markdown":"I observed that in JavaFX textarea, `Ctrl + z` (for undo operation) is not working after calling `textArea.setText(&quot;...&quot;)`. Before setText is called, the undo operation is working fine. \r\n\r\nIs there any way to enable undo accross multiple `setText` calls?","title":"JavaFX textarea - Ctrl+z not working after textArea.setText(&quot;...&quot;)","body":"<p>I observed that in JavaFX textarea, <code>Ctrl + z</code> (for undo operation) is not working after calling <code>textArea.setText(&quot;...&quot;)</code>. Before setText is called, the undo operation is working fine.</p>\n<p>Is there any way to enable undo accross multiple <code>setText</code> calls?</p>\n"},{"tags":["java","math","long-integer","complex-data-types"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667214409,"post_id":74262324,"comment_id":131109607,"body_markdown":"Which method? Please take the [tour], read [ask], and then [edit] your question to provide a [mre].","body":"Which method? Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and then <a href=\"https://stackoverflow.com/posts/74262324/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667214718,"post_id":74262324,"comment_id":131109687,"body_markdown":"You write &quot;it should fit in a `long`&quot;, but the code uses `int`s all over the place. Read your first sentence and then look at the data types in your code.","body":"You write &quot;it should fit in a <code>long</code>&quot;, but the code uses <code>int</code>s all over the place. Read your first sentence and then look at the data types in your code."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":3,"creation_date":1667215433,"post_id":74262324,"comment_id":131109891,"body_markdown":"By the way, to get `n!/k!` it&#39;s more efficient to do `for(long i = n + 1; i &lt;= k; i++)` instead of division.","body":"By the way, to get <code>n!&#47;k!</code> it&#39;s more efficient to do <code>for(long i = n + 1; i &lt;= k; i++)</code> instead of division."},{"owner":{"account_id":26684099,"reputation":15,"user_id":20293675,"display_name":"Amvanyy"},"score":0,"creation_date":1667216293,"post_id":74262324,"comment_id":131110161,"body_markdown":"@knittl, i changed it, but it still messes up numbers larger than 10","body":"@knittl, i changed it, but it still messes up numbers larger than 10"},{"owner":{"account_id":26684099,"reputation":15,"user_id":20293675,"display_name":"Amvanyy"},"score":0,"creation_date":1667216402,"post_id":74262324,"comment_id":131110201,"body_markdown":"@k314159, thanks for your help, can you specify how i use for loop then, do i delete the other two or is it just instead of the long division = fact1/fact2?","body":"@k314159, thanks for your help, can you specify how i use for loop then, do i delete the other two or is it just instead of the long division = fact1/fact2?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1667216887,"post_id":74262324,"comment_id":131110368,"body_markdown":"You don&#39;t need to calculate `n!` and `k!` separately if you want to calculate `n!/k!`. Therefore you can remove the other two for loops. But first, why do you think your method doesn&#39;t work? It seems to work just fine for n=20, k=19. It doesn&#39;t &quot;randomly give out some huge numbers&quot; but the factorials of 19 and 20 are indeed huge numbers.","body":"You don&#39;t need to calculate <code>n!</code> and <code>k!</code> separately if you want to calculate <code>n!&#47;k!</code>. Therefore you can remove the other two for loops. But first, why do you think your method doesn&#39;t work? It seems to work just fine for n=20, k=19. It doesn&#39;t &quot;randomly give out some huge numbers&quot; but the factorials of 19 and 20 are indeed huge numbers."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1667217295,"post_id":74262324,"comment_id":131110497,"body_markdown":"@Amvanyy not sure what you mean. Plugging in 20 and 19 gives &quot;20&quot;, which is the expected result. How does it &quot;mess up numbers larger than 10&quot;? Can you give the input `n` and `k` for your &quot;messed up result&quot;?","body":"@Amvanyy not sure what you mean. Plugging in 20 and 19 gives &quot;20&quot;, which is the expected result. How does it &quot;mess up numbers larger than 10&quot;? Can you give the input <code>n</code> and <code>k</code> for your &quot;messed up result&quot;?"},{"owner":{"account_id":26684099,"reputation":15,"user_id":20293675,"display_name":"Amvanyy"},"score":0,"creation_date":1667238215,"post_id":74262324,"comment_id":131118269,"body_markdown":"@knittl for input penguPermutation(n: 21, k :19); i get k! -4249290049419214848 n! 121645100408832000, k!/n!= -34, it should be 420","body":"@knittl for input penguPermutation(n: 21, k :19); i get k! -4249290049419214848 n! 121645100408832000, k!/n!= -34, it should be 420"},{"owner":{"account_id":26684099,"reputation":15,"user_id":20293675,"display_name":"Amvanyy"},"score":0,"creation_date":1667238267,"post_id":74262324,"comment_id":131118289,"body_markdown":"@knittl do you know the reason?","body":"@knittl do you know the reason?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667239286,"post_id":74262324,"comment_id":131118618,"body_markdown":"It&#39;s overflow.  You will have to figure out a formula for n!/k! that doesn&#39;t explicitly compute n! or k! -- probably one that doesn&#39;t do any division at all.","body":"It&#39;s overflow.  You will have to figure out a formula for n!/k! that doesn&#39;t explicitly compute n! or k! -- probably one that doesn&#39;t do any division at all."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667239338,"creation_date":1667238821,"answer_id":74267307,"question_id":74262324,"body_markdown":"A `long` can only store numbers up to `Long.MAX_VALUE`, which is `9223372036854775808`. 21! is `51090942171709440000`, which is approximately 5.5 times larger. Consequently, the value stored in the long variables overflows and wraps around to negative numbers.\r\n\r\nBut you don&#39;t need to compute the full factorials, if you apply a little math:\r\n\r\nLet&#39;s assume n=5 and k=3, this will give you the formula (1\\*2\\*3\\*4\\*5)/(1\\*2\\*3). This can be reduced by omitting the common factors 1, 2, and 3: (4\\*5)/1. This is the product of all numbers from (n-k+1) up to n.\r\n\r\nThe largest factorial that can fit into 63 bits (a `long` value) is 20!. Your problem is not numbers larger than 10, but numbers larger than 20.\r\n\r\nSo don&#39;t compute the full factorial, but only the product of what is really needed.\r\n\r\nIf you really must handle such large numbers, consider using [`BigInteger`](https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html), but be aware of the performance penalty.","title":"n!/k! with long input only works for small numbers, how does it work for eg. n=20 k=19","body":"<p>A <code>long</code> can only store numbers up to <code>Long.MAX_VALUE</code>, which is <code>9223372036854775808</code>. 21! is <code>51090942171709440000</code>, which is approximately 5.5 times larger. Consequently, the value stored in the long variables overflows and wraps around to negative numbers.</p>\n<p>But you don't need to compute the full factorials, if you apply a little math:</p>\n<p>Let's assume n=5 and k=3, this will give you the formula (1*2*3*4*5)/(1*2*3). This can be reduced by omitting the common factors 1, 2, and 3: (4*5)/1. This is the product of all numbers from (n-k+1) up to n.</p>\n<p>The largest factorial that can fit into 63 bits (a <code>long</code> value) is 20!. Your problem is not numbers larger than 10, but numbers larger than 20.</p>\n<p>So don't compute the full factorial, but only the product of what is really needed.</p>\n<p>If you really must handle such large numbers, consider using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\"><code>BigInteger</code></a>, but be aware of the performance penalty.</p>\n"}],"owner":{"account_id":26684099,"reputation":15,"user_id":20293675,"display_name":"Amvanyy"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1667762108,"answer_count":1,"score":0,"last_activity_date":1667239338,"creation_date":1667214330,"question_id":74262324,"body_markdown":"Hey the method works for a few numbers, but often it just randomly gives out some huge numbers, i am a bit confused about the datatypes used, the result should fit in long, anyone can help?\r\nThe formula is n!/k!.\r\n\r\n\r\nI try to get the right result which fits in long\r\n\r\n\r\n    public static long penguPermutation(long n, long k) {\r\n\t\tlong fact1 = 1;\r\n\t\tlong fact2 = 1;\r\n\t\tfor(long i = 2; i &lt;= n; i++){\r\n\t\t\tfact1 = fact1 * i;\r\n\t\t}\r\n\t\tSystem.out.println(fact1);\r\n\t\tfor(long i = 2; i &lt;= k; i++){\r\n\t\t\tfact2 = fact2 * i;\r\n\t\t}\r\n\t\tSystem.out.println(fact2);\r\n\t\tlong division = fact1/fact2;\r\n\t\treturn division;\r\n\t\t}","title":"n!/k! with long input only works for small numbers, how does it work for eg. n=20 k=19","body":"<p>Hey the method works for a few numbers, but often it just randomly gives out some huge numbers, i am a bit confused about the datatypes used, the result should fit in long, anyone can help?\nThe formula is n!/k!.</p>\n<p>I try to get the right result which fits in long</p>\n<pre><code>public static long penguPermutation(long n, long k) {\n    long fact1 = 1;\n    long fact2 = 1;\n    for(long i = 2; i &lt;= n; i++){\n        fact1 = fact1 * i;\n    }\n    System.out.println(fact1);\n    for(long i = 2; i &lt;= k; i++){\n        fact2 = fact2 * i;\n    }\n    System.out.println(fact2);\n    long division = fact1/fact2;\n    return division;\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","runtime-error"],"comments":[{"owner":{"account_id":2081894,"reputation":103,"user_id":1853733,"display_name":"hunter_tech"},"score":0,"creation_date":1582252350,"post_id":21908785,"comment_id":106722211,"body_markdown":"Did you fix it? Do you also use Mac？","body":"Did you fix it? Do you also use Mac？"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":1,"creation_date":1594154880,"post_id":21908785,"comment_id":111026353,"body_markdown":"For 2020, it is at - C:\\Users\\&lt;user&gt;\\AppData\\Local\\JetBrains\\IdeaIC2020.1\\log","body":"For 2020, it is at - C:\\Users\\&lt;user&gt;\\AppData\\Local\\JetBrains\\IdeaIC2020.1\\log"}],"answers":[{"comments":[{"owner":{"account_id":2378245,"reputation":677,"user_id":2080975,"display_name":"emre"},"score":1,"creation_date":1392901899,"post_id":21908813,"comment_id":33180287,"body_markdown":"It&#39;s the same, you have a user home directory on Mac also.","body":"It&#39;s the same, you have a user home directory on Mac also."},{"owner":{"account_id":1010570,"reputation":2475,"user_id":1023230,"accept_rate":59,"display_name":"Propeller"},"score":2,"creation_date":1392901933,"post_id":21908813,"comment_id":33180307,"body_markdown":"There&#39;s no `.IntelliJIdea13` folder on the home directory.","body":"There&#39;s no <code>.IntelliJIdea13</code> folder on the home directory."},{"owner":{"account_id":452419,"reputation":916,"user_id":848850,"accept_rate":20,"display_name":"nsandersen"},"score":0,"creation_date":1556009707,"post_id":21908813,"comment_id":98282690,"body_markdown":"(For the Android adaptation it could also be in .AndroidStudioX.Y in stead of .IntelliJIdeaX .)","body":"(For the Android adaptation it could also be in .AndroidStudioX.Y in stead of .IntelliJIdeaX .)"},{"owner":{"account_id":2081894,"reputation":103,"user_id":1853733,"display_name":"hunter_tech"},"score":1,"creation_date":1582252244,"post_id":21908813,"comment_id":106722188,"body_markdown":"This is no such folder on Mac.","body":"This is no such folder on Mac."}],"tags":[],"owner":{"account_id":2378245,"reputation":677,"user_id":2080975,"display_name":"emre"},"comment_count":4,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1392901790,"creation_date":1392901790,"answer_id":21908813,"question_id":21908785,"body_markdown":"You can find it under your home directory: `{user.home}\\.IntelliJIdea13\\system\\log`","title":"Where can I find launch error logs for IntelliJ IDEA?","body":"<p>You can find it under your home directory: <code>{user.home}\\.IntelliJIdea13\\system\\log</code></p>\n"},{"tags":[],"owner":{"account_id":318310,"reputation":628,"user_id":635464,"display_name":"mnme"},"comment_count":0,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1392902054,"creation_date":1392902054,"answer_id":21908926,"question_id":21908785,"body_markdown":"Depending on your OS.\nProduct version is usually something like IntelliJIdea13, see [Source][1] for more information.\n\n# Windows\n\n`&lt;SYSTEM DRIVE&gt;\\Users\\&lt;USER ACCOUNT NAME&gt;\\.&lt;PRODUCT&gt;&lt;VERSION&gt;\\system\\log`\n\n\n# Linux and Unix\n\n`~/.&lt;PRODUCT&gt;&lt;VERSION&gt;`\n\n# Mac OS X\n\n`~/Library/Logs/&lt;PRODUCT&gt;&lt;VERSION&gt;`\n\n\n[Source][1]\n\n  [1]: https://intellij-support.jetbrains.com/entries/23358108","title":"Where can I find launch error logs for IntelliJ IDEA?","body":"<p>Depending on your OS.\nProduct version is usually something like IntelliJIdea13, see <a href=\"https://intellij-support.jetbrains.com/entries/23358108\" rel=\"noreferrer\">Source</a> for more information.</p>\n<h1>Windows</h1>\n<p><code>&lt;SYSTEM DRIVE&gt;\\Users\\&lt;USER ACCOUNT NAME&gt;\\.&lt;PRODUCT&gt;&lt;VERSION&gt;\\system\\log</code></p>\n<h1>Linux and Unix</h1>\n<p><code>~/.&lt;PRODUCT&gt;&lt;VERSION&gt;</code></p>\n<h1>Mac OS X</h1>\n<p><code>~/Library/Logs/&lt;PRODUCT&gt;&lt;VERSION&gt;</code></p>\n<p><a href=\"https://intellij-support.jetbrains.com/entries/23358108\" rel=\"noreferrer\">Source</a></p>\n"},{"comments":[{"owner":{"account_id":2357261,"reputation":3427,"user_id":2064808,"display_name":"David Knipe"},"score":0,"creation_date":1454060298,"post_id":35018126,"comment_id":57884393,"body_markdown":"It turns out I was running the 32-bit version of IntelliJ, hence the restriction on memory.","body":"It turns out I was running the 32-bit version of IntelliJ, hence the restriction on memory."}],"tags":[],"owner":{"account_id":2357261,"reputation":3427,"user_id":2064808,"display_name":"David Knipe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453823769,"creation_date":1453823769,"answer_id":35018126,"question_id":21908785,"body_markdown":"This just happened to me. I found the log file, but it didn&#39;t say anything at all after I tried to restart. (Maybe I could have got round this by changing the log level.) The problem was that I&#39;d increased the memory allocation from 1GB to 1.5GB. I don&#39;t know why this made it crash on startup, but when I changed it back it was fine. The relevant file was `{user.home}\\.IntelliJIdea14.1.4\\bin\\idea.exe.vmoptions`. Obviously, it will be somewhere slightly different if you&#39;re not on Windows.\r\n\r\nAnother thing you could try is looking for a lock file. Some applications create an empty file called `.lock` on startup, in order to prevent duplicate instances of the same application from running at the same time. But if something goes wrong they can occasionally forget to delete the lock file on exit. (Or maybe the process is terminating but it just hasn&#39;t finished yet, even though the window has closed.) Then when you try to start up it says it can&#39;t because there&#39;s already a running instance. When you&#39;re in this situation you need to find the lock file and delete it. But I have no idea whether IntelliJ is like this.","title":"Where can I find launch error logs for IntelliJ IDEA?","body":"<p>This just happened to me. I found the log file, but it didn't say anything at all after I tried to restart. (Maybe I could have got round this by changing the log level.) The problem was that I'd increased the memory allocation from 1GB to 1.5GB. I don't know why this made it crash on startup, but when I changed it back it was fine. The relevant file was <code>{user.home}\\.IntelliJIdea14.1.4\\bin\\idea.exe.vmoptions</code>. Obviously, it will be somewhere slightly different if you're not on Windows.</p>\n\n<p>Another thing you could try is looking for a lock file. Some applications create an empty file called <code>.lock</code> on startup, in order to prevent duplicate instances of the same application from running at the same time. But if something goes wrong they can occasionally forget to delete the lock file on exit. (Or maybe the process is terminating but it just hasn't finished yet, even though the window has closed.) Then when you try to start up it says it can't because there's already a running instance. When you're in this situation you need to find the lock file and delete it. But I have no idea whether IntelliJ is like this.</p>\n"},{"tags":[],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1667239217,"creation_date":1667239217,"answer_id":74267387,"question_id":21908785,"body_markdown":"Look there:\r\n\r\nhttps://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#logs-directory\r\n\r\n# Windows\r\n### Syntax\r\n`%LOCALAPPDATA%\\JetBrains\\&lt;product&gt;&lt;version&gt;\\log`\r\n### Example\r\n`C:\\Users\\JohnS\\AppData\\Local\\JetBrains\\IntelliJIdea2022.2\\log`\r\n\r\n# macOS\r\n### Syntax\r\n`~/Library/Logs/JetBrains/&lt;product&gt;&lt;version&gt;`\r\n### Example\r\n`~/Library/Logs/JetBrains/IntelliJIdea2022.2`\r\n\r\n# Linux\r\n### Syntax\r\n`~/.cache/JetBrains/&lt;product&gt;&lt;version&gt;/log`\r\n### Example\r\n`~/.cache/JetBrains/IntelliJIdea2022.2/log`","title":"Where can I find launch error logs for IntelliJ IDEA?","body":"<p>Look there:</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#logs-directory\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#logs-directory</a></p>\n<h1>Windows</h1>\n<h3>Syntax</h3>\n<p><code>%LOCALAPPDATA%\\JetBrains\\&lt;product&gt;&lt;version&gt;\\log</code></p>\n<h3>Example</h3>\n<p><code>C:\\Users\\JohnS\\AppData\\Local\\JetBrains\\IntelliJIdea2022.2\\log</code></p>\n<h1>macOS</h1>\n<h3>Syntax</h3>\n<p><code>~/Library/Logs/JetBrains/&lt;product&gt;&lt;version&gt;</code></p>\n<h3>Example</h3>\n<p><code>~/Library/Logs/JetBrains/IntelliJIdea2022.2</code></p>\n<h1>Linux</h1>\n<h3>Syntax</h3>\n<p><code>~/.cache/JetBrains/&lt;product&gt;&lt;version&gt;/log</code></p>\n<h3>Example</h3>\n<p><code>~/.cache/JetBrains/IntelliJIdea2022.2/log</code></p>\n"}],"owner":{"account_id":1010570,"reputation":2475,"user_id":1023230,"accept_rate":59,"display_name":"Propeller"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17625,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1667239217,"creation_date":1392901733,"question_id":21908785,"body_markdown":"Whenever I try to open IntelliJ IDEA, it just quits immediately without any message whatsoever. I was wondering if there&#39;s a log somewhere I can find to hopefully figure out what&#39;s causing it. It was running fine when I used it a few months ago.","title":"Where can I find launch error logs for IntelliJ IDEA?","body":"<p>Whenever I try to open IntelliJ IDEA, it just quits immediately without any message whatsoever. I was wondering if there's a log somewhere I can find to hopefully figure out what's causing it. It was running fine when I used it a few months ago.</p>\n"},{"tags":["java","sockets","serializable"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1277138413,"post_id":3086509,"comment_id":3163769,"body_markdown":"Can you post how are you reading it &quot;multiple&quot; times? Are you invoking `readObject()` several times? Or are you creating new connections?","body":"Can you post how are you reading it &quot;multiple&quot; times? Are you invoking <code>readObject()</code> several times? Or are you creating new connections?"},{"owner":{"account_id":11676,"reputation":11811,"user_id":22634,"accept_rate":73,"display_name":"Waseem"},"score":0,"creation_date":1277138657,"post_id":3086509,"comment_id":3163794,"body_markdown":"readObject() is exist in a button listiner in the client side , when I click on it the first time , the client read it successfully , but the next click give the exception .","body":"readObject() is exist in a button listiner in the client side , when I click on it the first time , the client read it successfully , but the next click give the exception ."}],"answers":[{"tags":[],"owner":{"account_id":7426,"reputation":15567,"user_id":12895,"display_name":"Craig Trader"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277138881,"creation_date":1277138881,"answer_id":3086612,"question_id":3086509,"body_markdown":"From the documentation for [ObjectInputStream.readObject()][1], I quote:\r\n\r\n&gt; Read an object from the ObjectInputStream. The class of the\r\n&gt; object, the signature of the class,\r\n&gt; and the values of the non-transient\r\n&gt; and non-static fields of the class and\r\n&gt; all of its supertypes are read.\r\n&gt; Default deserializing for a class can\r\n&gt; be overriden using the writeObject and\r\n&gt; readObject methods. Objects referenced\r\n&gt; by this object are read transitively\r\n&gt; so that a complete equivalent graph of\r\n&gt; objects is reconstructed by\r\n&gt; readObject.\r\n&gt; \r\n&gt; The root object is completely restored when all of its fields and\r\n&gt; the objects it references are\r\n&gt; completely restored. At this point the\r\n&gt; object validation callbacks are\r\n&gt; executed in order based on their\r\n&gt; registered priorities. The callbacks\r\n&gt; are registered by objects (in the\r\n&gt; readObject special methods) as they\r\n&gt; are individually restored.\r\n&gt; \r\n&gt; Exceptions are thrown for problems with the InputStream and for classes\r\n&gt; that should not be deserialized. All\r\n&gt; exceptions are fatal to the\r\n&gt; InputStream and leave it in an\r\n&gt; indeterminate state; it is up to the\r\n&gt; caller to ignore or recover the stream\r\n&gt; state.\r\n&gt; \r\n&gt;     Specified by:\r\n&gt;         readObject in interface ObjectInput\r\n&gt; \r\n&gt;     Returns:\r\n&gt;         the object read from the stream \r\n&gt;     Throws:\r\n&gt;         ClassNotFoundException - Class of a serialized object cannot be found. \r\n&gt;         InvalidClassException - Something is wrong with a class used by serialization. \r\n&gt;         StreamCorruptedException - Control information in the stream is inconsistent. \r\n&gt;         OptionalDataException - Primitive data was found in the stream instead of objects. \r\n&gt;         IOException - Any of the usual Input/Output related exceptions.\r\n\r\nI&#39;d guess that you&#39;re trying to read an object before one has been written to the object stream, or one where the output stream hasn&#39;t been flushed.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/ObjectInputStream.html#readObject()","title":"problem in sending serializable objects using ObjectInputStream","body":"<p>From the documentation for <a href=\"http://java.sun.com/javase/6/docs/api/java/io/ObjectInputStream.html#readObject()\" rel=\"nofollow noreferrer\">ObjectInputStream.readObject()</a>, I quote:</p>\n\n<blockquote>\n  <p>Read an object from the ObjectInputStream. The class of the\n  object, the signature of the class,\n  and the values of the non-transient\n  and non-static fields of the class and\n  all of its supertypes are read.\n  Default deserializing for a class can\n  be overriden using the writeObject and\n  readObject methods. Objects referenced\n  by this object are read transitively\n  so that a complete equivalent graph of\n  objects is reconstructed by\n  readObject.</p>\n  \n  <p>The root object is completely restored when all of its fields and\n  the objects it references are\n  completely restored. At this point the\n  object validation callbacks are\n  executed in order based on their\n  registered priorities. The callbacks\n  are registered by objects (in the\n  readObject special methods) as they\n  are individually restored.</p>\n  \n  <p>Exceptions are thrown for problems with the InputStream and for classes\n  that should not be deserialized. All\n  exceptions are fatal to the\n  InputStream and leave it in an\n  indeterminate state; it is up to the\n  caller to ignore or recover the stream\n  state.</p>\n\n<pre><code>Specified by:\n    readObject in interface ObjectInput\n\nReturns:\n    the object read from the stream \nThrows:\n    ClassNotFoundException - Class of a serialized object cannot be found. \n    InvalidClassException - Something is wrong with a class used by serialization. \n    StreamCorruptedException - Control information in the stream is inconsistent. \n    OptionalDataException - Primitive data was found in the stream instead of objects. \n    IOException - Any of the usual Input/Output related exceptions.\n</code></pre>\n</blockquote>\n\n<p>I'd guess that you're trying to read an object before one has been written to the object stream, or one where the output stream hasn't been flushed.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1379653649,"post_id":3086662,"comment_id":27914315,"body_markdown":"None of that would cause this exception.","body":"None of that would cause this exception."}],"tags":[],"owner":{"account_id":155065,"reputation":3396,"user_id":371457,"accept_rate":100,"display_name":"frm"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1277139247,"creation_date":1277139247,"answer_id":3086662,"question_id":3086509,"body_markdown":"Perhaps you&#39;re trying to read multiple times the same object from the stream, while the server wrote the object only once.\r\n\r\nOr you&#39;re trying to use an ObjectInputStream before a corresponding ObjectOutputStream is created, and that invalidates the communication between the two. An ObjectOutputStream writes a serialization stream header upon its creation, and if it&#39;s not created before the corresponding ObjectOutputStream, that header is lost.","title":"problem in sending serializable objects using ObjectInputStream","body":"<p>Perhaps you're trying to read multiple times the same object from the stream, while the server wrote the object only once.</p>\n\n<p>Or you're trying to use an ObjectInputStream before a corresponding ObjectOutputStream is created, and that invalidates the communication between the two. An ObjectOutputStream writes a serialization stream header upon its creation, and if it's not created before the corresponding ObjectOutputStream, that header is lost.</p>\n"},{"tags":[],"owner":{"account_id":155582,"reputation":76,"user_id":372332,"display_name":"JiroDan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277140283,"creation_date":1277140283,"answer_id":3086790,"question_id":3086509,"body_markdown":"You are trying to read in an object of type &#39;Object&#39;.  Is that how it was serialized?  You need to make sure that you are reading the object into the same class that it was written from, remember those pesky serialVersionUID warnings that come up?  This is key to object serialization and reconstruction, hence the need for matching classes.  Also the reason that you need to update your UID when your class structure changes.","title":"problem in sending serializable objects using ObjectInputStream","body":"<p>You are trying to read in an object of type 'Object'.  Is that how it was serialized?  You need to make sure that you are reading the object into the same class that it was written from, remember those pesky serialVersionUID warnings that come up?  This is key to object serialization and reconstruction, hence the need for matching classes.  Also the reason that you need to update your UID when your class structure changes.</p>\n"},{"comments":[{"owner":{"account_id":11676,"reputation":11811,"user_id":22634,"accept_rate":73,"display_name":"Waseem"},"score":0,"creation_date":1277145592,"post_id":3087002,"comment_id":3164817,"body_markdown":"I do the objectOut.reset() but I still get the same exception .","body":"I do the objectOut.reset() but I still get the same exception ."},{"owner":{"account_id":146925,"reputation":1993,"user_id":357698,"display_name":"Joel Hoff"},"score":0,"creation_date":1277145758,"post_id":3087002,"comment_id":3164849,"body_markdown":"@Waseem - Are you only using one ObjectInputStream instance and one ObjectOutputStream instance throughout the entire socket communication session?","body":"@Waseem - Are you only using one ObjectInputStream instance and one ObjectOutputStream instance throughout the entire socket communication session?"},{"owner":{"account_id":146925,"reputation":1993,"user_id":357698,"display_name":"Joel Hoff"},"score":0,"creation_date":1277147300,"post_id":3087002,"comment_id":3165077,"body_markdown":"@Waseem - It looks like the second ActionListener() on the client creates multiple ObjectInputStream instances per socket sesssion, one for each call to actionPerformed().  I&#39;d try moving the call to the constructor to the code section in which the client creates an ObjectOutputStream instance over the socket output stream to the server.  Use the same instance of this ObjectInputStream throughout the session.","body":"@Waseem - It looks like the second ActionListener() on the client creates multiple ObjectInputStream instances per socket sesssion, one for each call to actionPerformed().  I&#39;d try moving the call to the constructor to the code section in which the client creates an ObjectOutputStream instance over the socket output stream to the server.  Use the same instance of this ObjectInputStream throughout the session."}],"tags":[],"owner":{"account_id":146925,"reputation":1993,"user_id":357698,"display_name":"Joel Hoff"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1277143162,"creation_date":1277142004,"answer_id":3087002,"question_id":3086509,"body_markdown":"If you are creating multiple ObjectInputStream instances *in series* for the same socket input stream, this seems like a bad idea.  If the server is writing multiple objects to the same output stream, then there is serialization-related information that only gets sent once per unique object, and only the first ObjectInputStream instance on the client would be able to reliably read this.  Using only one ObjectInputStream instance per socket input stream and one ObjectOutputStream instance per socket output stream is probably the safest implementation.\r\n\r\nAlso, if you are writing **multiple** objects to the **same** ObjectOutputStream instance on the server side (i.e., multiple writeObject() calls), this can result in stream header problems due to potentially multiple references to the same objects (typically nested references) when they are read by the client&#39;s input stream\r\n\r\nThis problem occurs when the object output stream wraps a socket output stream since during normal serialization, the second and later references to an object do not describe the object but rather only use a reference.  The client&#39;s ObjectInputStream does not reconstruct the objects properly for some reason due to a difference in the header information it is expecting (it doesn&#39;t retain it from previous readObject() calls); this only seems to happen with socket streams, not file I/O, etc.  This problem does not occur with the *first* readObject() call but rather the second and subsequent ones.\r\n\r\nIf you want to continue to use the same socket stream to write multiple objects, you will need something like the following in the server code:\r\n\r\n    objectOut.reset()\r\n    objectOut.writeObject(foo);\r\n\r\nThe reset() call re-initializes the stream, ignoring the state of any objects previously sent along the stream.  This ensures that each object is sent in its entirety without the handle-type references that are typically used to compress ObjectOutputStream data and avoid duplication.  It&#39;s less efficient, but there should be no data corruption when read by the client.","title":"problem in sending serializable objects using ObjectInputStream","body":"<p>If you are creating multiple ObjectInputStream instances <em>in series</em> for the same socket input stream, this seems like a bad idea.  If the server is writing multiple objects to the same output stream, then there is serialization-related information that only gets sent once per unique object, and only the first ObjectInputStream instance on the client would be able to reliably read this.  Using only one ObjectInputStream instance per socket input stream and one ObjectOutputStream instance per socket output stream is probably the safest implementation.</p>\n\n<p>Also, if you are writing <strong>multiple</strong> objects to the <strong>same</strong> ObjectOutputStream instance on the server side (i.e., multiple writeObject() calls), this can result in stream header problems due to potentially multiple references to the same objects (typically nested references) when they are read by the client's input stream</p>\n\n<p>This problem occurs when the object output stream wraps a socket output stream since during normal serialization, the second and later references to an object do not describe the object but rather only use a reference.  The client's ObjectInputStream does not reconstruct the objects properly for some reason due to a difference in the header information it is expecting (it doesn't retain it from previous readObject() calls); this only seems to happen with socket streams, not file I/O, etc.  This problem does not occur with the <em>first</em> readObject() call but rather the second and subsequent ones.</p>\n\n<p>If you want to continue to use the same socket stream to write multiple objects, you will need something like the following in the server code:</p>\n\n<pre><code>objectOut.reset()\nobjectOut.writeObject(foo);\n</code></pre>\n\n<p>The reset() call re-initializes the stream, ignoring the state of any objects previously sent along the stream.  This ensures that each object is sent in its entirety without the handle-type references that are typically used to compress ObjectOutputStream data and avoid duplication.  It's less efficient, but there should be no data corruption when read by the client.</p>\n"}],"owner":{"account_id":11676,"reputation":11811,"user_id":22634,"accept_rate":73,"display_name":"Waseem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10576,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":3087002,"answer_count":4,"score":3,"last_activity_date":1667238977,"creation_date":1277138042,"question_id":3086509,"body_markdown":"snippet from The Server code :\r\n\r\n     public void run() {\r\n            try {\r\n              // Create data input and output streams\r\n              ObjectInputStream inputFromClient = new ObjectInputStream(\r\n                socket.getInputStream());\r\n              ObjectOutputStream outputToClient = new ObjectOutputStream(\r\n                socket.getOutputStream());\r\n    \r\n              while (true) {\r\n    \r\n             cop = inputFromClient.readObject();\r\n     \r\n             String[][] m1=new String[][] {{&quot;1&quot;, &quot;1&quot;,&quot;1&quot;}};\r\n             Object xx=new getSerialModel(m1);\r\n             outputToClient.reset();\r\n             outputToClient.writeObject(xx);\r\n             \r\n             outputToClient.flush();\r\n    \r\n    \r\n              }\r\n            }\r\n\r\nsnippet from the Client :\r\n\r\n\r\n\r\n    //////////////\r\n        /// sockt jop\r\n        try {\r\n        // Create a socket to connect to the server\r\n       socket = new Socket(&quot;127.0.0.&quot;+Math.round(50+Math.random()*50), 8000);\r\n    \r\n        // Create an output stream to send data to the server\r\n       toServer = new ObjectOutputStream(socket.getOutputStream());\r\n       toServer.flush();\r\n     \r\n      }\r\n      catch (IOException ex) {\r\n        msgArea.append(&#39;\\n&#39; + ex.toString() + &#39;\\n&#39;);\r\n      }\r\n    ///////////////////\r\n    //***\r\n    ///////////////////\r\n    buttonSave.addActionListener(new ActionListener()\r\n    \r\n    { public void actionPerformed(ActionEvent ev)\r\n    \r\n    {\r\n    \r\n    System.out.println(&quot;Saving data is not implemented yet.&quot;);\r\n            String[][] m1={{&quot;0&quot;,&quot;0&quot;,&quot;0&quot;}};\r\n            for ( int i = 0 ; i &lt; tableModel.getRowCount() ; i++ ){\r\n                { for ( int j = 0 ; j &lt; tableModel.getColumnCount() ; j++ )\r\n                        m1[i][j]=(String)tableModel.getValueAt(i, j) ;\r\n                }\r\n            }\r\n    \r\n            getSerialModel obt =new getSerialModel(m1);\r\n    \r\n            try{\r\n                toServer.reset();\r\n            toServer.writeObject(obt);\r\n           toServer.flush();\r\n      \r\n    \r\n            }\r\n            catch (Exception ex) {\r\n         msgArea.append(&quot;cant reach the server its may be off&quot; + &#39;\\n&#39;);\r\n       }\r\n    \r\n    }\r\n    \r\n    });\r\n    // button send msg\r\n        buttonsendtest.addActionListener(new ActionListener()\r\n    \r\n    { public void actionPerformed(ActionEvent ev)\r\n    \r\n    {\r\n            try{\r\n    \r\n          \r\n           fromServer = new ObjectInputStream(socket.getInputStream());\r\n           \r\n           Object mdata = fromServer.readObject();\r\n           tableModel.setDataVector((((getSerialModel)mdata).getmodel()), columnNames);\r\n           table.updateUI();\r\n    \r\n            }\r\n            catch (Exception ex) {\r\n                System.out.print(ex.getStackTrace());\r\n         msgArea.append(&quot;cant reach the server its may be off &quot;+ ex.toString() + &#39;\\n&#39;);\r\n       }\r\n    \r\n    }\r\n    });\r\n\r\n\r\n\r\n\r\nWhen I try to read serializable object from the server multible times , I get this exception , for first time the reciever read it successfully .\r\n\r\n    java.io.StreamCorruptedException: invalid stream header: 00007571\r\n\r\nhow can I fix it ?\r\n\r\n","title":"problem in sending serializable objects using ObjectInputStream","body":"<p>snippet from The Server code :</p>\n\n<pre><code> public void run() {\n        try {\n          // Create data input and output streams\n          ObjectInputStream inputFromClient = new ObjectInputStream(\n            socket.getInputStream());\n          ObjectOutputStream outputToClient = new ObjectOutputStream(\n            socket.getOutputStream());\n\n          while (true) {\n\n         cop = inputFromClient.readObject();\n\n         String[][] m1=new String[][] {{\"1\", \"1\",\"1\"}};\n         Object xx=new getSerialModel(m1);\n         outputToClient.reset();\n         outputToClient.writeObject(xx);\n\n         outputToClient.flush();\n\n\n          }\n        }\n</code></pre>\n\n<p>snippet from the Client :</p>\n\n<pre><code>//////////////\n    /// sockt jop\n    try {\n    // Create a socket to connect to the server\n   socket = new Socket(\"127.0.0.\"+Math.round(50+Math.random()*50), 8000);\n\n    // Create an output stream to send data to the server\n   toServer = new ObjectOutputStream(socket.getOutputStream());\n   toServer.flush();\n\n  }\n  catch (IOException ex) {\n    msgArea.append('\\n' + ex.toString() + '\\n');\n  }\n///////////////////\n//***\n///////////////////\nbuttonSave.addActionListener(new ActionListener()\n\n{ public void actionPerformed(ActionEvent ev)\n\n{\n\nSystem.out.println(\"Saving data is not implemented yet.\");\n        String[][] m1={{\"0\",\"0\",\"0\"}};\n        for ( int i = 0 ; i &lt; tableModel.getRowCount() ; i++ ){\n            { for ( int j = 0 ; j &lt; tableModel.getColumnCount() ; j++ )\n                    m1[i][j]=(String)tableModel.getValueAt(i, j) ;\n            }\n        }\n\n        getSerialModel obt =new getSerialModel(m1);\n\n        try{\n            toServer.reset();\n        toServer.writeObject(obt);\n       toServer.flush();\n\n\n        }\n        catch (Exception ex) {\n     msgArea.append(\"cant reach the server its may be off\" + '\\n');\n   }\n\n}\n\n});\n// button send msg\n    buttonsendtest.addActionListener(new ActionListener()\n\n{ public void actionPerformed(ActionEvent ev)\n\n{\n        try{\n\n\n       fromServer = new ObjectInputStream(socket.getInputStream());\n\n       Object mdata = fromServer.readObject();\n       tableModel.setDataVector((((getSerialModel)mdata).getmodel()), columnNames);\n       table.updateUI();\n\n        }\n        catch (Exception ex) {\n            System.out.print(ex.getStackTrace());\n     msgArea.append(\"cant reach the server its may be off \"+ ex.toString() + '\\n');\n   }\n\n}\n});\n</code></pre>\n\n<p>When I try to read serializable object from the server multible times , I get this exception , for first time the reciever read it successfully .</p>\n\n<pre><code>java.io.StreamCorruptedException: invalid stream header: 00007571\n</code></pre>\n\n<p>how can I fix it ?</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-sns"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1667236469,"post_id":74266779,"comment_id":131117706,"body_markdown":"Something might be pulling in a conflicting version of one of the AWS libraries. Run the maven command `mvn dependency:tree -Dincludes=com.amazonaws` and include the output in your question.","body":"Something might be pulling in a conflicting version of one of the AWS libraries. Run the maven command <code>mvn dependency:tree -Dincludes=com.amazonaws</code> and include the output in your question."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667237476,"post_id":74266779,"comment_id":131118035,"body_markdown":"`NoSuchMethodError` is almost always due to version mismatch between build and execution environments.  You invoke a method that is present in your dependencies in the build environment, but that method is not present in your execution environment.","body":"<code>NoSuchMethodError</code> is almost always due to version mismatch between build and execution environments.  You invoke a method that is present in your dependencies in the build environment, but that method is not present in your execution environment."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1667667525,"post_id":74266779,"comment_id":131223157,"body_markdown":"While I agree with @smac2020 below if you can&#39;t convert to the V2 libraries right now **at least** keep the same version between S3 and SNS.  I generally have a property that declares the version of the AWS SDK libraries I&#39;m using and all libraries move to a new version at the same time.","body":"While I agree with @smac2020 below if you can&#39;t convert to the V2 libraries right now <b>at least</b> keep the same version between S3 and SNS.  I generally have a property that declares the version of the AWS SDK libraries I&#39;m using and all libraries move to a new version at the same time."}],"answers":[{"comments":[{"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"score":0,"creation_date":1667237811,"post_id":74266930,"comment_id":131118133,"body_markdown":"in code example it is using sns dependency from software.amazon.awssdk. but this dependency is not resolved","body":"in code example it is using sns dependency from software.amazon.awssdk. but this dependency is not resolved"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1667238103,"post_id":74266930,"comment_id":131118236,"body_markdown":"You need to build the sample app with the POM file listed in GITHUB here. https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_sns_sample_app","body":"You need to build the sample app with the POM file listed in GITHUB here. <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_sns_sample_app\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/&hellip;</a>"}],"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667238747,"creation_date":1667236693,"answer_id":74266930,"question_id":74266779,"body_markdown":"Why are you using the AWS SDK for Java V1. This is not best practice at all. You should be using AWS SDK for Java V2. \r\n\r\nIt appears you are looking to use SNS with Spring BOOT. If you look at the AWS COde Lib, you will find that exact use case here: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe URL is\r\n\r\nhttps://docs.aws.amazon.com/code-library/latest/ug/sns_example_cross_SnsPublishSubscription_section.html\r\n\r\nTo find the most recent code examples for the AWS SDK, always refer to this Code Library. \r\n\r\n(Click the Java tab). \r\n\r\n**UPDATE**\r\n\r\nI just ran this Spring BOOT app that uses A**WS SDK for Java V2** and it works perfectly....\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v9uYB.png\r\n  [2]: https://i.stack.imgur.com/N75EV.png","title":"How to connect both S3 and SNS with Spring boot? (com.amazonaws.transform.Unmarshaller error)","body":"<p>Why are you using the AWS SDK for Java V1. This is not best practice at all. You should be using AWS SDK for Java V2.</p>\n<p>It appears you are looking to use SNS with Spring BOOT. If you look at the AWS COde Lib, you will find that exact use case here:</p>\n<p><a href=\"https://i.stack.imgur.com/v9uYB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v9uYB.png\" alt=\"enter image description here\" /></a></p>\n<p>The URL is</p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/sns_example_cross_SnsPublishSubscription_section.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/code-library/latest/ug/sns_example_cross_SnsPublishSubscription_section.html</a></p>\n<p>To find the most recent code examples for the AWS SDK, always refer to this Code Library.</p>\n<p>(Click the Java tab).</p>\n<p><strong>UPDATE</strong></p>\n<p>I just ran this Spring BOOT app that uses A<strong>WS SDK for Java V2</strong> and it works perfectly....</p>\n<p><a href=\"https://i.stack.imgur.com/N75EV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N75EV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667238747,"creation_date":1667235740,"question_id":74266779,"body_markdown":"In my application I need to use both S3 and SNS of AWS. I was using S3 without problem but now I have added SNS dependency as well as follows:\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.12.141&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-java-sdk-sns&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.12.319&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nBut When I try to subscribe to a topic of SNS:\r\n\r\n    @GetMapping(&quot;/addSubscription/{email}&quot;)\r\n        public String addSubscription(@PathVariable String email) {\r\n            SubscribeRequest request = new SubscribeRequest(TOPIC_ARN, &quot;email&quot;, email);\r\n            snsClient.subscribe(request); //ERROR COMES HERE\r\n            return &quot;Subscription request is pending. To confirm the subscription, check your email : &quot; + email;\r\n        }\r\n\r\nI get the Error:\r\n\r\n    2022-10-31 19:56:54.354 ERROR 41464 --- [nio-8080-exec-1] c.a.a.exception.GlobalExceptionHandler   : Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: &#39;void com.amazonaws.http.DefaultErrorResponseHandler.&lt;init&gt;(java.util.Map, com.amazonaws.transform.Unmarshaller)&#39;\r\n\r\nI have checked some similar questions and people generally mention the aws sdk version but in their example only 1 service is used but I need both S3 and SNS. How can I use both of them ?","title":"How to connect both S3 and SNS with Spring boot? (com.amazonaws.transform.Unmarshaller error)","body":"<p>In my application I need to use both S3 and SNS of AWS. I was using S3 without problem but now I have added SNS dependency as well as follows:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.141&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-sns&lt;/artifactId&gt;\n            &lt;version&gt;1.12.319&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But When I try to subscribe to a topic of SNS:</p>\n<pre><code>@GetMapping(&quot;/addSubscription/{email}&quot;)\n    public String addSubscription(@PathVariable String email) {\n        SubscribeRequest request = new SubscribeRequest(TOPIC_ARN, &quot;email&quot;, email);\n        snsClient.subscribe(request); //ERROR COMES HERE\n        return &quot;Subscription request is pending. To confirm the subscription, check your email : &quot; + email;\n    }\n</code></pre>\n<p>I get the Error:</p>\n<pre><code>2022-10-31 19:56:54.354 ERROR 41464 --- [nio-8080-exec-1] c.a.a.exception.GlobalExceptionHandler   : Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'void com.amazonaws.http.DefaultErrorResponseHandler.&lt;init&gt;(java.util.Map, com.amazonaws.transform.Unmarshaller)'\n</code></pre>\n<p>I have checked some similar questions and people generally mention the aws sdk version but in their example only 1 service is used but I need both S3 and SNS. How can I use both of them ?</p>\n"},{"tags":["java","android","android-activity","broadcastreceiver","android-service"],"comments":[{"owner":{"account_id":145002,"reputation":378,"user_id":1818538,"display_name":"Abhishek Kumar"},"score":0,"creation_date":1667239362,"post_id":74267275,"comment_id":131118635,"body_markdown":"You can use LiveData, here is a good example \nhttps://stackoverflow.com/questions/68995642/how-can-i-update-ui-from-service-using-livedata","body":"You can use LiveData, here is a good example  <a href=\"https://stackoverflow.com/questions/68995642/how-can-i-update-ui-from-service-using-livedata\" title=\"how can i update ui from service using livedata\">stackoverflow.com/questions/68995642/&hellip;</a>"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1667240240,"post_id":74267275,"comment_id":131118903,"body_markdown":"There&#39;s a variety of ways depending on if its pull vs push, the type of data, if the service is in the same process or another, if its a bound service or not, the frequency of the data changes, etc.  Describe what you&#39;re actually trying to do.","body":"There&#39;s a variety of ways depending on if its pull vs push, the type of data, if the service is in the same process or another, if its a bound service or not, the frequency of the data changes, etc.  Describe what you&#39;re actually trying to do."},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1667247377,"post_id":74267275,"comment_id":131120808,"body_markdown":"@GabeSechan The service is listening Firebase message (fcm) and pass it to the main activity if it&#39;s alive, else store it locally so that app can retrieve it when it&#39;s get started","body":"@GabeSechan The service is listening Firebase message (fcm) and pass it to the main activity if it&#39;s alive, else store it locally so that app can retrieve it when it&#39;s get started"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1667250797,"post_id":74267275,"comment_id":131121595,"body_markdown":"@zeus Services don&#39;t listen to FCM messages.  BroadcastReceivers do.","body":"@zeus Services don&#39;t listen to FCM messages.  BroadcastReceivers do."},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1667251349,"post_id":74267275,"comment_id":131121709,"body_markdown":"@GabeSechan yes but i did a service to do this ...","body":"@GabeSechan yes but i did a service to do this ..."}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667238695,"creation_date":1667238695,"question_id":74267275,"body_markdown":"This maybe look trivial, but I can&#39;t find a way to send data from my service to the activity. All samples I found use LocalBroadcastManager that is now deprecated. Can someone post a concrete example of how to do?","title":"How to send data from a service to an activity?","body":"<p>This maybe look trivial, but I can't find a way to send data from my service to the activity. All samples I found use LocalBroadcastManager that is now deprecated. Can someone post a concrete example of how to do?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1667240757,"post_id":74267269,"comment_id":131119060,"body_markdown":"I believe the configurer shell style is ignored in Eclipse 4 - see [this bug](https://bugs.eclipse.org/bugs/show_bug.cgi?id=432501)","body":"I believe the configurer shell style is ignored in Eclipse 4 - see <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=432501\" rel=\"nofollow noreferrer\">this bug</a>"},{"owner":{"account_id":2154382,"reputation":403,"user_id":1909950,"accept_rate":38,"display_name":"Deepak Ramesh"},"score":0,"creation_date":1667275030,"post_id":74267269,"comment_id":131125324,"body_markdown":"Thanks.. Any alternate to disable max button?","body":"Thanks.. Any alternate to disable max button?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1667292774,"post_id":74267269,"comment_id":131128588,"body_markdown":"You might be able to use [styleOverride](http://blog.vogella.com/2014/03/17/using-eclipse-application-model-persisted-state-to-specify-the-swt-stylebits/) in the LegacyIDE.e4xmi. This works for e4 rcps, I haven&#39;t tried it for e3. Note that on some platforms (macOS for example) you can&#39;t completely disable maximise as it is used for things like &quot;enter full screen&quot;","body":"You might be able to use <a href=\"http://blog.vogella.com/2014/03/17/using-eclipse-application-model-persisted-state-to-specify-the-swt-stylebits/\" rel=\"nofollow noreferrer\">styleOverride</a> in the LegacyIDE.e4xmi. This works for e4 rcps, I haven&#39;t tried it for e3. Note that on some platforms (macOS for example) you can&#39;t completely disable maximise as it is used for things like &quot;enter full screen&quot;"},{"owner":{"account_id":2154382,"reputation":403,"user_id":1909950,"accept_rate":38,"display_name":"Deepak Ramesh"},"score":0,"creation_date":1667362825,"post_id":74267269,"comment_id":131147163,"body_markdown":"Thanks Greg, any comments on https://stackoverflow.com/questions/74267235/capture-minimize-and-maximize-button-click-of-eclipse-e3-application","body":"Thanks Greg, any comments on <a href=\"https://stackoverflow.com/questions/74267235/capture-minimize-and-maximize-button-click-of-eclipse-e3-application\" title=\"capture minimize and maximize button click of eclipse e3 application\">stackoverflow.com/questions/74267235/&hellip;</a>"}],"owner":{"account_id":2154382,"reputation":403,"user_id":1909950,"accept_rate":38,"display_name":"Deepak Ramesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667238654,"creation_date":1667238654,"question_id":74267269,"body_markdown":"I have requirement to disable Maximum button, I have below code in ApplicationWorkbenchWindowAdvisor class, but still Maximum button is enabled\r\n\r\n    @Override\r\n    \tpublic void preWindowOpen() {\r\n    \t\tIWorkbenchWindowConfigurer configurer = getWindowConfigurer();\r\n    \t\tconfigurer.setInitialSize(new Point(800, 500));\r\n    \t\tconfigurer.setShowCoolBar(true);\r\n    \t\tconfigurer.setShowStatusLine(true);\r\n    \t\tconfigurer.setShellStyle(SWT.TITLE | SWT.CLOSE | SWT.MIN);\r\n    }","title":"How to disable Eclipse E3 application Maximum button","body":"<p>I have requirement to disable Maximum button, I have below code in ApplicationWorkbenchWindowAdvisor class, but still Maximum button is enabled</p>\n<pre><code>@Override\n    public void preWindowOpen() {\n        IWorkbenchWindowConfigurer configurer = getWindowConfigurer();\n        configurer.setInitialSize(new Point(800, 500));\n        configurer.setShowCoolBar(true);\n        configurer.setShowStatusLine(true);\n        configurer.setShellStyle(SWT.TITLE | SWT.CLOSE | SWT.MIN);\n}\n</code></pre>\n"},{"tags":["java","maven","cucumber","junit5"],"answers":[{"comments":[{"owner":{"account_id":2815249,"reputation":3,"user_id":2420514,"display_name":"sergiogouveia"},"score":0,"creation_date":1667474718,"post_id":74267259,"comment_id":131177620,"body_markdown":"First off, Thank you for the comment, both the removing images one and the &#39;try this&#39; with new stuff i had not thought of.","body":"First off, Thank you for the comment, both the removing images one and the &#39;try this&#39; with new stuff i had not thought of."},{"owner":{"account_id":2815249,"reputation":3,"user_id":2420514,"display_name":"sergiogouveia"},"score":0,"creation_date":1667475233,"post_id":74267259,"comment_id":131177774,"body_markdown":"`Your list of depencies includes dependencies not included in your POM.`\n\nDependencies are included on the &#39;external&#39; package, this makes it easier for others to create their tests and steps without having to worry about what dependencies they need. We&#39;ll probably drop this to make the external package &#39;thinner&#39;.\n\n`The reason the @Before annotation is ignored is because you are using a Cucumber annotation on a class that is not part of the glue path.`\n\nOn the Junit4 test runner this annotation works and is not part of the glue either :\\\nI&#39;ll try the new class for each env then.","body":"<code>Your list of depencies includes dependencies not included in your POM.</code>  Dependencies are included on the &#39;external&#39; package, this makes it easier for others to create their tests and steps without having to worry about what dependencies they need. We&#39;ll probably drop this to make the external package &#39;thinner&#39;.  <code>The reason the @Before annotation is ignored is because you are using a Cucumber annotation on a class that is not part of the glue path.</code>  On the Junit4 test runner this annotation works and is not part of the glue either :\\ I&#39;ll try the new class for each env then."},{"owner":{"account_id":2815249,"reputation":3,"user_id":2420514,"display_name":"sergiogouveia"},"score":1,"creation_date":1667475822,"post_id":74267259,"comment_id":131177972,"body_markdown":"`The reason the @Before annotation is ignored is because you are using a Cucumber annotation on a class that is not part of the glue path.`\n\nMy mistake on the question sorry, the test runner files are inside the stepdefs folder , so they are part of the glue. that&#39;s why it works on JUnit4.\n\n\nJust to explain the &#39;answer&#39; this is indeed probably the issue: `Though I suspect you are trying to find a mapping for JUnit 4s @BeforeClass. Currently there is not such thing in JUnit 5s Suite Engine. If you need it, you should consider making a pull requests.`","body":"<code>The reason the @Before annotation is ignored is because you are using a Cucumber annotation on a class that is not part of the glue path.</code>  My mistake on the question sorry, the test runner files are inside the stepdefs folder , so they are part of the glue. that&#39;s why it works on JUnit4.   Just to explain the &#39;answer&#39; this is indeed probably the issue: <code>Though I suspect you are trying to find a mapping for JUnit 4s @BeforeClass. Currently there is not such thing in JUnit 5s Suite Engine. If you need it, you should consider making a pull requests.</code>"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1667476744,"post_id":74267259,"comment_id":131178297,"body_markdown":"Yup, that&#39;s it.","body":"Yup, that&#39;s it."}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667238579,"creation_date":1667238579,"answer_id":74267259,"question_id":74264768,"body_markdown":"&gt; It does not however state that &#39;no tests were found&#39;, had that issue initially and got it solved.\r\n&gt;\r\n&gt; From looking at the error i suspect i may have something missing from the pom.xml surefire plugin but i cannot figure out what. (this pom is the same used to run the JU4Test without issues)\r\n\r\nFrom your description it is impossible to say what is wrong with your project. Your list of depencies includes dependencies not included in your POM.\r\n\r\nYou may want to consider starting your project from scratch. You can use the https://github.com/cucumber/cucumber-java-skeleton for that.\r\n\r\n&gt; When i set a breakpoint in SetupEnvHook.setEnvironment(&quot;QA&quot;); it is completely ignored due to the fact that the Before Annotation is not working\r\n\r\nThe reason the `@Before` annotation is ignored is because you are using a Cucumber annotation on a class that is not part of the glue path.\r\n\r\nThough I suspect you are trying to find a mapping for JUnit 4s `@BeforeClass`. Currently there is not such thing in JUnit 5s Suite Engine. If you need it, you should consider making a pull requests.\r\n\r\nAlternatively you could create a package with a single class for each environment and use Cucumbers `@BeforeAll` hooks to set the environment. Then for each `@Suite` you configure a different glue path to include those hooks.\r\n\r\nThough I think it would be even better to read the target environment from an environment variable and have it default to something sane. You can then use different CI jobs for each environment.","title":"Cucumber Junit5 ignoring @Before Annotation","body":"<blockquote>\n<p>It does not however state that 'no tests were found', had that issue initially and got it solved.</p>\n<p>From looking at the error i suspect i may have something missing from the pom.xml surefire plugin but i cannot figure out what. (this pom is the same used to run the JU4Test without issues)</p>\n</blockquote>\n<p>From your description it is impossible to say what is wrong with your project. Your list of depencies includes dependencies not included in your POM.</p>\n<p>You may want to consider starting your project from scratch. You can use the <a href=\"https://github.com/cucumber/cucumber-java-skeleton\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-java-skeleton</a> for that.</p>\n<blockquote>\n<p>When i set a breakpoint in SetupEnvHook.setEnvironment(&quot;QA&quot;); it is completely ignored due to the fact that the Before Annotation is not working</p>\n</blockquote>\n<p>The reason the <code>@Before</code> annotation is ignored is because you are using a Cucumber annotation on a class that is not part of the glue path.</p>\n<p>Though I suspect you are trying to find a mapping for JUnit 4s <code>@BeforeClass</code>. Currently there is not such thing in JUnit 5s Suite Engine. If you need it, you should consider making a pull requests.</p>\n<p>Alternatively you could create a package with a single class for each environment and use Cucumbers <code>@BeforeAll</code> hooks to set the environment. Then for each <code>@Suite</code> you configure a different glue path to include those hooks.</p>\n<p>Though I think it would be even better to read the target environment from an environment variable and have it default to something sane. You can then use different CI jobs for each environment.</p>\n"}],"owner":{"account_id":2815249,"reputation":3,"user_id":2420514,"display_name":"sergiogouveia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74267259,"answer_count":1,"score":0,"last_activity_date":1667238579,"creation_date":1667226263,"question_id":74264768,"body_markdown":"I have been working with cucumber/Java and JUnit4 (CucumberOptions) for years without trouble running the tests in both IntelliJ and maven command line.\r\n\r\n---\r\nRecently, i have been trying to make the move to JUnit5 and i was able to have all tests running in IntelliJ (only, unfortunately)\r\n\r\nMy POC project has the following structure:\r\n````\r\njunit5\r\n-Features (folder with feature files)\r\n-resources (folder with files used in tests)\r\n-src\r\n--test\r\n---java\r\n----stepdefs\r\n-----SetupEnvHook\r\n-----StepDefs\r\n----AllTest (testrunner wip)\r\n----JU4Test (testrunner JUnit4)\r\n----JU5Test (testrunner Junit5)\r\n---resources (test resources)\r\n-junit5.iml\r\n-pom.xml\r\n````\r\n\r\nThe JU5Test.java file :\r\n```java\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.SelectDirectories;\r\nimport org.junit.platform.suite.api.Suite;\r\nimport stepdefs.SetupEnvHook;\r\nimport io.cucumber.java.Before;\r\n\r\nimport static io.cucumber.core.options.Constants.*;\r\n\r\n@Suite\r\n@SelectDirectories(&quot;Features&quot;)\r\n//@ConfigurationParameter(key = PARALLEL_EXECUTION_ENABLED_PROPERTY_NAME, value = &quot;true&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PUBLISH_ENABLED_PROPERTY_NAME, value = &quot;false&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;json:target/cucumber-reports/cucumber.json&quot;)\r\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;stepdefs, my.external.steps.stepdefinition&quot;)\r\npublic class JU5Test {\r\n\r\n    @Before\r\n    public static void beforeSuite() {\r\n        SetupEnvHook.setEnvironment(&quot;QA&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe beforeSuite() method is also used in the JU4Test.\r\n\r\nWhen i set a breakpoint in `SetupEnvHook.setEnvironment(&quot;QA&quot;);` it is completely ignored due to the fact that the Before Annotation is not working, while another breakpoint inside the same \r\n```\r\n@io.cucumber.java.BeforeAll(order = 9999)\r\n```\r\nAnnotation in SetupEnvHook class is triggered correctly.\r\n\r\n---\r\nMy pom file is as follows :\r\n````\r\n &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;my.external&lt;/groupId&gt;\r\n            &lt;artifactId&gt;steps&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n````\r\n\r\nPlease ignore the my external dependancy. This dependancy is related to the `stepdefinitions` in the test runner file glue property.\r\n\r\nI know that group and version values are also missing but these are all fed from the same dependancy in red so as to have more control on the versions everyone uses.\r\nThis is all done in Java 8 using \r\n\r\n````\r\norg.apache.maven.plugins:maven-compiler-plugin:3.10.1\r\norg.apache.maven.plugins:maven-surefire-plugin:3.0.0-M7\r\nio.cucumber:cucumber-java:7.8.1\r\nio.cucumber:cucumber-junit:7.8.1\r\nio.cucumber:cucumber-junit-platform-engine:7.8.1\r\norg.junit.jupiter:junit-jupiter-api:5.9.1\r\norg.junit.jupiter:junit-jupiter-engine:5.9.1\r\norg.junit.platform:junit-platform-suite-api:1.9.1\r\norg.junit.platform:junit-platform-suite-engine:1.9.1\r\n````\r\n\r\nI already tried using different Annotations not only from `io.cucumber.java` but also from `org.junit` (which is basically JUnit4) and `org.junit.jupiter.api` with no success obviously.\r\n\r\nRunning through maven command line ends up with :\r\n```\r\nResults :\r\n\r\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project junit5: No tests were executed! \r\n```\r\nIt does not however state that &#39;no tests were found&#39;, had that issue initially and got it solved.\r\n\r\nFrom looking at the error i suspect i may have something missing from the `pom.xml` surefire plugin but i cannot figure out what. (this pom is the same used to run the JU4Test without issues)\r\n\r\nAnyone else have any thoughts on what i can try next? or better yet, the solution for this xD\r\n\r\nEdit: remove images","title":"Cucumber Junit5 ignoring @Before Annotation","body":"<p>I have been working with cucumber/Java and JUnit4 (CucumberOptions) for years without trouble running the tests in both IntelliJ and maven command line.</p>\n<hr />\n<p>Recently, i have been trying to make the move to JUnit5 and i was able to have all tests running in IntelliJ (only, unfortunately)</p>\n<p>My POC project has the following structure:</p>\n<pre><code>junit5\n-Features (folder with feature files)\n-resources (folder with files used in tests)\n-src\n--test\n---java\n----stepdefs\n-----SetupEnvHook\n-----StepDefs\n----AllTest (testrunner wip)\n----JU4Test (testrunner JUnit4)\n----JU5Test (testrunner Junit5)\n---resources (test resources)\n-junit5.iml\n-pom.xml\n</code></pre>\n<p>The JU5Test.java file :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.SelectDirectories;\nimport org.junit.platform.suite.api.Suite;\nimport stepdefs.SetupEnvHook;\nimport io.cucumber.java.Before;\n\nimport static io.cucumber.core.options.Constants.*;\n\n@Suite\n@SelectDirectories(&quot;Features&quot;)\n//@ConfigurationParameter(key = PARALLEL_EXECUTION_ENABLED_PROPERTY_NAME, value = &quot;true&quot;)\n@ConfigurationParameter(key = PLUGIN_PUBLISH_ENABLED_PROPERTY_NAME, value = &quot;false&quot;)\n@ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;)\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;json:target/cucumber-reports/cucumber.json&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;stepdefs, my.external.steps.stepdefinition&quot;)\npublic class JU5Test {\n\n    @Before\n    public static void beforeSuite() {\n        SetupEnvHook.setEnvironment(&quot;QA&quot;);\n    }\n}\n</code></pre>\n<p>The beforeSuite() method is also used in the JU4Test.</p>\n<p>When i set a breakpoint in <code>SetupEnvHook.setEnvironment(&quot;QA&quot;);</code> it is completely ignored due to the fact that the Before Annotation is not working, while another breakpoint inside the same</p>\n<pre><code>@io.cucumber.java.BeforeAll(order = 9999)\n</code></pre>\n<p>Annotation in SetupEnvHook class is triggered correctly.</p>\n<hr />\n<p>My pom file is as follows :</p>\n<pre><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;my.external&lt;/groupId&gt;\n            &lt;artifactId&gt;steps&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Please ignore the my external dependancy. This dependancy is related to the <code>stepdefinitions</code> in the test runner file glue property.</p>\n<p>I know that group and version values are also missing but these are all fed from the same dependancy in red so as to have more control on the versions everyone uses.\nThis is all done in Java 8 using</p>\n<pre><code>org.apache.maven.plugins:maven-compiler-plugin:3.10.1\norg.apache.maven.plugins:maven-surefire-plugin:3.0.0-M7\nio.cucumber:cucumber-java:7.8.1\nio.cucumber:cucumber-junit:7.8.1\nio.cucumber:cucumber-junit-platform-engine:7.8.1\norg.junit.jupiter:junit-jupiter-api:5.9.1\norg.junit.jupiter:junit-jupiter-engine:5.9.1\norg.junit.platform:junit-platform-suite-api:1.9.1\norg.junit.platform:junit-platform-suite-engine:1.9.1\n</code></pre>\n<p>I already tried using different Annotations not only from <code>io.cucumber.java</code> but also from <code>org.junit</code> (which is basically JUnit4) and <code>org.junit.jupiter.api</code> with no success obviously.</p>\n<p>Running through maven command line ends up with :</p>\n<pre><code>Results :\n\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0\n\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project junit5: No tests were executed! \n</code></pre>\n<p>It does not however state that 'no tests were found', had that issue initially and got it solved.</p>\n<p>From looking at the error i suspect i may have something missing from the <code>pom.xml</code> surefire plugin but i cannot figure out what. (this pom is the same used to run the JU4Test without issues)</p>\n<p>Anyone else have any thoughts on what i can try next? or better yet, the solution for this xD</p>\n<p>Edit: remove images</p>\n"},{"tags":["java","sql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1667238754,"post_id":74267180,"comment_id":131118463,"body_markdown":"Welcome! I think what you are refering to is cascading. Check [this](https://stackoverflow.com/questions/13027214/what-is-the-meaning-of-the-cascadetype-all-for-a-manytoone-jpa-association) out.","body":"Welcome! I think what you are refering to is cascading. Check <a href=\"https://stackoverflow.com/questions/13027214/what-is-the-meaning-of-the-cascadetype-all-for-a-manytoone-jpa-association\">this</a> out."},{"owner":{"account_id":26539115,"reputation":1082,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1667274874,"post_id":74267180,"comment_id":131125305,"body_markdown":"Please [edit] to convert your images of text into actual text. [See here](https://meta.stackoverflow.com/a/285557/20170164) for why.","body":"Please <a href=\"https://stackoverflow.com/posts/74267180/edit\">edit</a> to convert your images of text into actual text. <a href=\"https://meta.stackoverflow.com/a/285557/20170164\">See here</a> for why."}],"owner":{"account_id":22550232,"reputation":1,"user_id":16739444,"display_name":"HoanAmCode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667238295,"creation_date":1667238006,"question_id":74267180,"body_markdown":"How to config entities(options and options_values) to when save Option entity, then Options_values enitity list in Option entity also save records in DB and auto delete Options_values records in DB not exist Options_values enitity list?\r\n\r\nthis is erd\r\n[![enter image description here](https://i.stack.imgur.com/3w3Wc.png)](https://i.stack.imgur.com/3w3Wc.png)\r\noptions_values enity\r\n[![enter image description here](https://i.stack.imgur.com/aEldJ.png)](https://i.stack.imgur.com/aEldJ.png)\r\n[options entity][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TJN9W.png","title":"Save parent enity contain child records list then auto delete child records in DB and not in child records list","body":"<p>How to config entities(options and options_values) to when save Option entity, then Options_values enitity list in Option entity also save records in DB and auto delete Options_values records in DB not exist Options_values enitity list?</p>\n<p>this is erd\n<a href=\"https://i.stack.imgur.com/3w3Wc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3w3Wc.png\" alt=\"enter image description here\" /></a>\noptions_values enity\n<a href=\"https://i.stack.imgur.com/aEldJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aEldJ.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/TJN9W.png\" rel=\"nofollow noreferrer\">options entity</a></p>\n"},{"tags":["java","ssl","session"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510891872,"creation_date":1464147492,"answer_id":37427385,"question_id":37425891,"body_markdown":"Your initial solution is correct in the case of plaintext: you will get an `IOException: connection reset by peer` when sending the second message, and you can just recover accordingly by reconnecting.\r\n\r\nHowever in the TLS case it won&#39;t work, as you will not get `IOException: connection reset by peer` but a `SocketException`, due to a fatal TLS `unexpected_message` alert. [RFC 2246 #7.2](https://www.ietf.org/rfc/rfc2246.txt) states:\r\n\r\n&gt; Alert messages with a level of fatal result\r\n   in the immediate termination of the connection. In this case, other\r\n   connections corresponding to the session may continue, but *the\r\n   session identifier must be invalidated*, preventing the failed session\r\n   from being used to establish new connections. \r\n\r\n[my emphasis], because the failed session is now deemed insecure, and\r\n\r\n&gt; unexpected_message\r\n&gt;\r\n&gt; An inappropriate message was received. This alert is always fatal\r\n       and should never be observed in communication between proper\r\n       implementations.\r\n\r\nYour second solution seems appropriate to me.\r\n\r\nNB:\r\n\r\n- `isInputShutdown()` can never be true, as you can&#39;t call `shutdownInput()` on an SSLSocket.\r\n- `isConnected()` will never be false once the socket has been connected.\r\n- Both tell you about the state of your socket, not of the connection, so even trying them was futile. And it has nothing to do with &#39;timing issues&#39;.","title":"Java TLS Session Reuse after closed connection","body":"<p>Your initial solution is correct in the case of plaintext: you will get an <code>IOException: connection reset by peer</code> when sending the second message, and you can just recover accordingly by reconnecting.</p>\n\n<p>However in the TLS case it won't work, as you will not get <code>IOException: connection reset by peer</code> but a <code>SocketException</code>, due to a fatal TLS <code>unexpected_message</code> alert. <a href=\"https://www.ietf.org/rfc/rfc2246.txt\" rel=\"nofollow noreferrer\">RFC 2246 #7.2</a> states:</p>\n\n<blockquote>\n  <p>Alert messages with a level of fatal result\n     in the immediate termination of the connection. In this case, other\n     connections corresponding to the session may continue, but <em>the\n     session identifier must be invalidated</em>, preventing the failed session\n     from being used to establish new connections. </p>\n</blockquote>\n\n<p>[my emphasis], because the failed session is now deemed insecure, and</p>\n\n<blockquote>\n  <p>unexpected_message</p>\n  \n  <p>An inappropriate message was received. This alert is always fatal\n         and should never be observed in communication between proper\n         implementations.</p>\n</blockquote>\n\n<p>Your second solution seems appropriate to me.</p>\n\n<p>NB:</p>\n\n<ul>\n<li><code>isInputShutdown()</code> can never be true, as you can't call <code>shutdownInput()</code> on an SSLSocket.</li>\n<li><code>isConnected()</code> will never be false once the socket has been connected.</li>\n<li>Both tell you about the state of your socket, not of the connection, so even trying them was futile. And it has nothing to do with 'timing issues'.</li>\n</ul>\n"}],"owner":{"account_id":1032845,"reputation":3336,"user_id":2698167,"accept_rate":33,"display_name":"Tuntable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6256,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667237802,"creation_date":1464135138,"question_id":37425891,"body_markdown":"I have a Java TLS client that can send a series of requests to a server, each followed by a response from the server.  \r\n\r\nHowever, there are many different servers.  Some are &quot;multi-message&quot; servers that keep a connection open after the first request, so that subsequent requests can be sent over the first connection.  Others are &quot;single-message&quot; servers that close the connection after each message and so a new connection is required for subsequent messages.  There is no a priori way for the client to know what type of server it is talking to, nor to fix the servers.\r\n\r\nIt is very desirable for single-message servers to be able to resume a session without the full handshake.\r\n\r\nMy original client code just tried to send subsequent requests down the same connection.  If that failed it just opened a new connection to the server.  It could thus handle both single and multi-message servers.\r\n\r\nHowever, the failure when sending the second message to single-message servers seems to kill the session resumption.\r\n\r\nMy dirty work around is to notice if a message fails and then assume that it is talking to a single-message server, in which case the client then explicitly closes the socket after each response has been received.  This enables subsequent connections to resume sessions.\r\n\r\nBut there has to be a better way.  Testing for isInputShutdown or isConnected does not help, unsurprisingly, as there are timing issues.  The connection failure for single-message server actually happens during the read of the response, after the write of the request, presumably due to buffering.\r\n\r\nAny ideas much appreciated?\r\n","title":"Java TLS Session Reuse after closed connection","body":"<p>I have a Java TLS client that can send a series of requests to a server, each followed by a response from the server.</p>\n<p>However, there are many different servers.  Some are &quot;multi-message&quot; servers that keep a connection open after the first request, so that subsequent requests can be sent over the first connection.  Others are &quot;single-message&quot; servers that close the connection after each message and so a new connection is required for subsequent messages.  There is no a priori way for the client to know what type of server it is talking to, nor to fix the servers.</p>\n<p>It is very desirable for single-message servers to be able to resume a session without the full handshake.</p>\n<p>My original client code just tried to send subsequent requests down the same connection.  If that failed it just opened a new connection to the server.  It could thus handle both single and multi-message servers.</p>\n<p>However, the failure when sending the second message to single-message servers seems to kill the session resumption.</p>\n<p>My dirty work around is to notice if a message fails and then assume that it is talking to a single-message server, in which case the client then explicitly closes the socket after each response has been received.  This enables subsequent connections to resume sessions.</p>\n<p>But there has to be a better way.  Testing for isInputShutdown or isConnected does not help, unsurprisingly, as there are timing issues.  The connection failure for single-message server actually happens during the read of the response, after the write of the request, presumably due to buffering.</p>\n<p>Any ideas much appreciated?</p>\n"},{"tags":["java","jackson","spring-webflux","project-reactor","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":303741,"reputation":477,"user_id":612859,"accept_rate":88,"display_name":"Stmated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667237755,"creation_date":1667237755,"answer_id":74267126,"question_id":74213732,"body_markdown":"I found a solution to this, by going a similar but different direction.\r\n\r\nBy creating multithreaded Flux sinks I can in a manner of sorts stream the content of the Jackson JSON in a non-blocking and low-memory mode.\r\n\r\nFor the two scenarios of writing and reading JSON in a streaming way for a reactive flow, I created these two classes:\r\n\r\nByteBufferJsonPublisher:\r\n```\r\npublic class ByteBufferJsonPublisher {\r\n\r\n  private static final DataBufferFactory BUFFER_FACTORY = new NettyDataBufferFactory(\r\n      ByteBufAllocator.DEFAULT\r\n  );\r\n\r\n  private static final Executor PUBLISH_EXECUTOR = Executors.newCachedThreadPool(\r\n      new ThreadFactoryBuilder()\r\n          .setNameFormat(&quot;ByteBufferJsonPublisher-%d&quot;)\r\n          .setDaemon(true)\r\n          .build()\r\n  );\r\n\r\n  private final AtomicBoolean isSubscriptionComplete = new AtomicBoolean(false);\r\n  private final ObjectMapper objectMapper;\r\n\r\n  public ByteBufferJsonPublisher(ObjectMapper objectMapper) {\r\n    this.objectMapper = objectMapper;\r\n  }\r\n\r\n  public static Flux&lt;DataBuffer&gt; publish(ObjectMapper objectMapper, GeneratorConsumer generatorCallback) {\r\n    return new ByteBufferJsonPublisher(objectMapper).publishInternal(generatorCallback);\r\n  }\r\n\r\n  /**\r\n   * This publishing method reuses data buffers, so you MUST NOT buffer those data buffers for later re-use. They WILL have their contents\r\n   * changed regularly.\r\n   */\r\n  private Flux&lt;DataBuffer&gt; publishInternal(GeneratorConsumer generatorCallback) {\r\n\r\n    return Flux.create(\r\n        sink -&gt; {\r\n          sink.onCancel(() -&gt; {\r\n            isSubscriptionComplete.set(true);\r\n            log.debug(&quot;Json Publishing was cancelled&quot;);\r\n          });\r\n          PUBLISH_EXECUTOR.execute(() -&gt; executePublishingSync(sink, generatorCallback));\r\n        },\r\n\r\n        // The buffer strategy is BUFFER, so it is *technically* possible we could use too much memory here on backpressure issues.\r\n        // But we try to take care listening to the number of requests made.\r\n        OverflowStrategy.BUFFER\r\n    );\r\n  }\r\n\r\n  private void executePublishingSync(FluxSink&lt;DataBuffer&gt; sink, GeneratorConsumer generatorCallback) {\r\n\r\n    final var os = new DelegatingBlockableOutputStream(sink);\r\n\r\n    try (os) {\r\n      try (final var generator = objectMapper.createGenerator(os)) {\r\n        generatorCallback.accept(generator);\r\n      } catch (SignalCompletionException ex) {\r\n        log.debug(&quot;Aborted publisher, since completion exception signal was thrown: %s&quot;.formatted(ex));\r\n        sink.complete();\r\n        return;\r\n      } catch (Exception ex) {\r\n        sink.error(ex);\r\n        return;\r\n      }\r\n\r\n      sink.complete();\r\n\r\n    } catch (IOException ex) {\r\n      log.warn(&quot;Could not create or close the delegating output stream&quot;, ex);\r\n    }\r\n  }\r\n\r\n  private void ensureActiveOrThrowExceptionSignal() {\r\n    if (isSubscriptionComplete.get()) {\r\n      throw new SignalCompletionException();\r\n    }\r\n  }\r\n\r\n  private static class SignalCompletionException extends RuntimeException {\r\n\r\n  }\r\n\r\n  private class DelegatingBlockableOutputStream extends OutputStream {\r\n\r\n    private final FluxSink&lt;DataBuffer&gt; sink;\r\n\r\n    public DelegatingBlockableOutputStream(FluxSink&lt;DataBuffer&gt; sink) {\r\n      this.sink = sink;\r\n    }\r\n\r\n    @Override\r\n    public void write(int b) {\r\n      write(new byte[]{(byte) b}, 0, 1);\r\n    }\r\n\r\n    @Override\r\n    @SneakyThrows\r\n    public void write(byte[] b, int off, int len) {\r\n\r\n      DataBuffer buffer = null;\r\n      while (len &gt; 0) {\r\n        ensureActiveOrThrowExceptionSignal();\r\n\r\n        if (buffer == null) {\r\n\r\n          // If we in a bounded demand, then we should try to wait for downstream to catch up.\r\n          // But if we wait the max amount of time (which should be short), then move on.\r\n\r\n          // But if none available, then we simply allocate a new one, because we have to.\r\n          buffer = BUFFER_FACTORY.allocateBuffer(StreamingUtils.getMaxBytesInMemory()).writePosition(0);\r\n        }\r\n\r\n        final var writeLength = Math.min(len, buffer.writableByteCount());\r\n        if (writeLength &lt;= 0) {\r\n          throw new IllegalArgumentException(&quot;This should never be 0 or less&quot;);\r\n        }\r\n\r\n        buffer.write(b, off, writeLength);\r\n        if (buffer.writableByteCount() == 0) {\r\n\r\n          sink.next(buffer);\r\n          buffer = null;\r\n        }\r\n\r\n        // Then step forward with that amount in the current byte array.\r\n        // There might be more left inside it to write to a next byte buffer.\r\n        off += writeLength;\r\n        len -= writeLength;\r\n      }\r\n\r\n      ensureActiveOrThrowExceptionSignal();\r\n      if (buffer != null &amp;&amp; buffer.writePosition() &gt; 0) {\r\n        sink.next(buffer);\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nand ByteBufferJsonConsumer:\r\n```\r\npublic class ByteBufferJsonConsumer implements AutoCloseable {\r\n\r\n  private final NonBlockingByteBufferJsonParser parser;\r\n\r\n  List&lt;String&gt; remainingKeys;\r\n  Map&lt;String, Object&gt; map;\r\n  String picked;\r\n\r\n  public ByteBufferJsonConsumer(JsonFactory jsonFactory, String... keys) {\r\n\r\n    try {\r\n      this.parser = (NonBlockingByteBufferJsonParser) jsonFactory.createNonBlockingByteBufferParser();\r\n    } catch (IOException ex) {\r\n      throw new CaughtRuntimeIOException(&quot;Could not create the non-blocking parser&quot;, ex);\r\n    }\r\n\r\n    this.remainingKeys = new ArrayList&lt;&gt;(Arrays.asList(keys));\r\n    this.map = new HashMap&lt;&gt;();\r\n  }\r\n\r\n  public void picks(String key) {\r\n    this.picked = key;\r\n  }\r\n\r\n  public boolean expectsEatingWhatWasPicked() {\r\n    return this.picked != null;\r\n  }\r\n\r\n  public void eats(Object value) {\r\n\r\n    if (this.picked == null) {\r\n      throw new IllegalArgumentException(&quot;There collector has not been marked as being at a field&quot;);\r\n    }\r\n\r\n    if (!this.remainingKeys.remove(this.picked)) {\r\n      throw new IllegalArgumentException(&quot;Key &#39;%s&#39; was never registered or was already added&quot;.formatted(this.picked));\r\n    }\r\n\r\n    this.map.put(this.picked, value);\r\n    this.picked = null;\r\n  }\r\n\r\n  public boolean wants(String key) {\r\n    return this.remainingKeys.contains(key);\r\n  }\r\n\r\n  public Object get(String key) {\r\n    return this.map.get(key);\r\n  }\r\n\r\n  public Map&lt;String, Object&gt; getMap() {\r\n    return this.map;\r\n  }\r\n\r\n  public String picked() {\r\n    return this.picked;\r\n  }\r\n\r\n  public boolean wantsMore() {\r\n    return !this.remainingKeys.isEmpty();\r\n  }\r\n\r\n  public void starve() {\r\n    this.remainingKeys.clear();\r\n  }\r\n\r\n  public NonBlockingByteBufferJsonParser getParser() {\r\n    return parser;\r\n  }\r\n\r\n  @Override\r\n  public void close() throws Exception {\r\n    this.parser.close();\r\n  }\r\n\r\n  /**\r\n   * This will consume the underlying stream. If you call this method twice, you might not get the same result.\r\n   * &lt;p&gt;\r\n   * WARNING! This can currently only fetch from FIELD NAME, and does not know of nested objects! This is because the otherwise used\r\n   * FilteringParserDelegate does not support non-blocking async filtering! So to make things easier we only get tokens and find the field\r\n   * name and that&#39;s that.\r\n   */\r\n  public static Mono&lt;Map&lt;String, Object&gt;&gt; collectJsonFields(\r\n      Flux&lt;DataBuffer&gt; dataBufferFlux,\r\n      JsonFactory jsonFactory,\r\n      String[] wants\r\n  ) {\r\n\r\n    return dataBufferFlux\r\n        .scan(new ByteBufferJsonConsumer(jsonFactory, wants), ByteBufferJsonConsumer::feedBufferToJsonConsumer)\r\n        .takeUntil(consumer -&gt; !consumer.wantsMore())\r\n        .last()\r\n        .doOnEach(signal -&gt; {\r\n\r\n          try {\r\n            var consumer = signal.get();\r\n            if (consumer != null) {\r\n              // The consumer should never be null, since on exception we just starve the consumer.\r\n              consumer.close();\r\n            }\r\n          } catch (Exception ex) {\r\n            log.error(&quot;Could not close the consumer. Might resolve into a small temporary memory leak if used abundantly&quot;, ex);\r\n          }\r\n        })\r\n        .flatMap(consumer -&gt; Mono.just(consumer.getMap()));\r\n  }\r\n\r\n  private static ByteBufferJsonConsumer feedBufferToJsonConsumer(ByteBufferJsonConsumer consumer, DataBuffer buffer) {\r\n\r\n    var parser = consumer.getParser();\r\n\r\n    JsonToken token;\r\n    try {\r\n\r\n      if (parser.needMoreInput()) {\r\n        parser.feedInput(buffer.asByteBuffer());\r\n        DataBufferUtils.release(buffer);\r\n      }\r\n\r\n      do {\r\n        if ((token = parser.nextToken()) == JsonToken.NOT_AVAILABLE) {\r\n          break;\r\n        }\r\n\r\n        pickOrEatOrSkipToken(consumer, parser);\r\n      } while (token != null &amp;&amp; consumer.wantsMore());\r\n\r\n      return consumer;\r\n\r\n    } catch (IllegalArgumentException | IOException ex) {\r\n      log.error(&quot;Could not feed or consume the data buffer. Will starve the consumer and return what we have so far&quot;, ex);\r\n      consumer.starve();\r\n\r\n      return consumer;\r\n    }\r\n  }\r\n\r\n  private static void pickOrEatOrSkipToken(ByteBufferJsonConsumer consumer, NonBlockingByteBufferJsonParser parser) throws IOException {\r\n\r\n    if (consumer.expectsEatingWhatWasPicked()) {\r\n      if (parser.currentToken().isScalarValue()) {\r\n        consumer.eats(JsonParserUtils.getCurrentTokenValue(parser));\r\n      } else {\r\n        var message = &quot;Fed consumer something it could not eat, &#39;%s&#39;: &#39;%s&#39;&quot;.formatted(consumer.picked(), parser.currentToken());\r\n        throw new IllegalArgumentException(message);\r\n      }\r\n    } else if (parser.currentToken() == JsonToken.FIELD_NAME &amp;&amp; consumer.wants(parser.getText())) {\r\n      consumer.picks(parser.getText());\r\n    } else {\r\n\r\n      // We do not care.\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThey work great for my situation. Fast, low-memory, can be cancalled, handles errors well, can deal pretty well with downstream request demands.","title":"Subscribing to WebClient Flux&lt;DataBuffer&gt; response for async JSON reading not working","body":"<p>I found a solution to this, by going a similar but different direction.</p>\n<p>By creating multithreaded Flux sinks I can in a manner of sorts stream the content of the Jackson JSON in a non-blocking and low-memory mode.</p>\n<p>For the two scenarios of writing and reading JSON in a streaming way for a reactive flow, I created these two classes:</p>\n<p>ByteBufferJsonPublisher:</p>\n<pre><code>public class ByteBufferJsonPublisher {\n\n  private static final DataBufferFactory BUFFER_FACTORY = new NettyDataBufferFactory(\n      ByteBufAllocator.DEFAULT\n  );\n\n  private static final Executor PUBLISH_EXECUTOR = Executors.newCachedThreadPool(\n      new ThreadFactoryBuilder()\n          .setNameFormat(&quot;ByteBufferJsonPublisher-%d&quot;)\n          .setDaemon(true)\n          .build()\n  );\n\n  private final AtomicBoolean isSubscriptionComplete = new AtomicBoolean(false);\n  private final ObjectMapper objectMapper;\n\n  public ByteBufferJsonPublisher(ObjectMapper objectMapper) {\n    this.objectMapper = objectMapper;\n  }\n\n  public static Flux&lt;DataBuffer&gt; publish(ObjectMapper objectMapper, GeneratorConsumer generatorCallback) {\n    return new ByteBufferJsonPublisher(objectMapper).publishInternal(generatorCallback);\n  }\n\n  /**\n   * This publishing method reuses data buffers, so you MUST NOT buffer those data buffers for later re-use. They WILL have their contents\n   * changed regularly.\n   */\n  private Flux&lt;DataBuffer&gt; publishInternal(GeneratorConsumer generatorCallback) {\n\n    return Flux.create(\n        sink -&gt; {\n          sink.onCancel(() -&gt; {\n            isSubscriptionComplete.set(true);\n            log.debug(&quot;Json Publishing was cancelled&quot;);\n          });\n          PUBLISH_EXECUTOR.execute(() -&gt; executePublishingSync(sink, generatorCallback));\n        },\n\n        // The buffer strategy is BUFFER, so it is *technically* possible we could use too much memory here on backpressure issues.\n        // But we try to take care listening to the number of requests made.\n        OverflowStrategy.BUFFER\n    );\n  }\n\n  private void executePublishingSync(FluxSink&lt;DataBuffer&gt; sink, GeneratorConsumer generatorCallback) {\n\n    final var os = new DelegatingBlockableOutputStream(sink);\n\n    try (os) {\n      try (final var generator = objectMapper.createGenerator(os)) {\n        generatorCallback.accept(generator);\n      } catch (SignalCompletionException ex) {\n        log.debug(&quot;Aborted publisher, since completion exception signal was thrown: %s&quot;.formatted(ex));\n        sink.complete();\n        return;\n      } catch (Exception ex) {\n        sink.error(ex);\n        return;\n      }\n\n      sink.complete();\n\n    } catch (IOException ex) {\n      log.warn(&quot;Could not create or close the delegating output stream&quot;, ex);\n    }\n  }\n\n  private void ensureActiveOrThrowExceptionSignal() {\n    if (isSubscriptionComplete.get()) {\n      throw new SignalCompletionException();\n    }\n  }\n\n  private static class SignalCompletionException extends RuntimeException {\n\n  }\n\n  private class DelegatingBlockableOutputStream extends OutputStream {\n\n    private final FluxSink&lt;DataBuffer&gt; sink;\n\n    public DelegatingBlockableOutputStream(FluxSink&lt;DataBuffer&gt; sink) {\n      this.sink = sink;\n    }\n\n    @Override\n    public void write(int b) {\n      write(new byte[]{(byte) b}, 0, 1);\n    }\n\n    @Override\n    @SneakyThrows\n    public void write(byte[] b, int off, int len) {\n\n      DataBuffer buffer = null;\n      while (len &gt; 0) {\n        ensureActiveOrThrowExceptionSignal();\n\n        if (buffer == null) {\n\n          // If we in a bounded demand, then we should try to wait for downstream to catch up.\n          // But if we wait the max amount of time (which should be short), then move on.\n\n          // But if none available, then we simply allocate a new one, because we have to.\n          buffer = BUFFER_FACTORY.allocateBuffer(StreamingUtils.getMaxBytesInMemory()).writePosition(0);\n        }\n\n        final var writeLength = Math.min(len, buffer.writableByteCount());\n        if (writeLength &lt;= 0) {\n          throw new IllegalArgumentException(&quot;This should never be 0 or less&quot;);\n        }\n\n        buffer.write(b, off, writeLength);\n        if (buffer.writableByteCount() == 0) {\n\n          sink.next(buffer);\n          buffer = null;\n        }\n\n        // Then step forward with that amount in the current byte array.\n        // There might be more left inside it to write to a next byte buffer.\n        off += writeLength;\n        len -= writeLength;\n      }\n\n      ensureActiveOrThrowExceptionSignal();\n      if (buffer != null &amp;&amp; buffer.writePosition() &gt; 0) {\n        sink.next(buffer);\n      }\n    }\n  }\n}\n</code></pre>\n<p>and ByteBufferJsonConsumer:</p>\n<pre><code>public class ByteBufferJsonConsumer implements AutoCloseable {\n\n  private final NonBlockingByteBufferJsonParser parser;\n\n  List&lt;String&gt; remainingKeys;\n  Map&lt;String, Object&gt; map;\n  String picked;\n\n  public ByteBufferJsonConsumer(JsonFactory jsonFactory, String... keys) {\n\n    try {\n      this.parser = (NonBlockingByteBufferJsonParser) jsonFactory.createNonBlockingByteBufferParser();\n    } catch (IOException ex) {\n      throw new CaughtRuntimeIOException(&quot;Could not create the non-blocking parser&quot;, ex);\n    }\n\n    this.remainingKeys = new ArrayList&lt;&gt;(Arrays.asList(keys));\n    this.map = new HashMap&lt;&gt;();\n  }\n\n  public void picks(String key) {\n    this.picked = key;\n  }\n\n  public boolean expectsEatingWhatWasPicked() {\n    return this.picked != null;\n  }\n\n  public void eats(Object value) {\n\n    if (this.picked == null) {\n      throw new IllegalArgumentException(&quot;There collector has not been marked as being at a field&quot;);\n    }\n\n    if (!this.remainingKeys.remove(this.picked)) {\n      throw new IllegalArgumentException(&quot;Key '%s' was never registered or was already added&quot;.formatted(this.picked));\n    }\n\n    this.map.put(this.picked, value);\n    this.picked = null;\n  }\n\n  public boolean wants(String key) {\n    return this.remainingKeys.contains(key);\n  }\n\n  public Object get(String key) {\n    return this.map.get(key);\n  }\n\n  public Map&lt;String, Object&gt; getMap() {\n    return this.map;\n  }\n\n  public String picked() {\n    return this.picked;\n  }\n\n  public boolean wantsMore() {\n    return !this.remainingKeys.isEmpty();\n  }\n\n  public void starve() {\n    this.remainingKeys.clear();\n  }\n\n  public NonBlockingByteBufferJsonParser getParser() {\n    return parser;\n  }\n\n  @Override\n  public void close() throws Exception {\n    this.parser.close();\n  }\n\n  /**\n   * This will consume the underlying stream. If you call this method twice, you might not get the same result.\n   * &lt;p&gt;\n   * WARNING! This can currently only fetch from FIELD NAME, and does not know of nested objects! This is because the otherwise used\n   * FilteringParserDelegate does not support non-blocking async filtering! So to make things easier we only get tokens and find the field\n   * name and that's that.\n   */\n  public static Mono&lt;Map&lt;String, Object&gt;&gt; collectJsonFields(\n      Flux&lt;DataBuffer&gt; dataBufferFlux,\n      JsonFactory jsonFactory,\n      String[] wants\n  ) {\n\n    return dataBufferFlux\n        .scan(new ByteBufferJsonConsumer(jsonFactory, wants), ByteBufferJsonConsumer::feedBufferToJsonConsumer)\n        .takeUntil(consumer -&gt; !consumer.wantsMore())\n        .last()\n        .doOnEach(signal -&gt; {\n\n          try {\n            var consumer = signal.get();\n            if (consumer != null) {\n              // The consumer should never be null, since on exception we just starve the consumer.\n              consumer.close();\n            }\n          } catch (Exception ex) {\n            log.error(&quot;Could not close the consumer. Might resolve into a small temporary memory leak if used abundantly&quot;, ex);\n          }\n        })\n        .flatMap(consumer -&gt; Mono.just(consumer.getMap()));\n  }\n\n  private static ByteBufferJsonConsumer feedBufferToJsonConsumer(ByteBufferJsonConsumer consumer, DataBuffer buffer) {\n\n    var parser = consumer.getParser();\n\n    JsonToken token;\n    try {\n\n      if (parser.needMoreInput()) {\n        parser.feedInput(buffer.asByteBuffer());\n        DataBufferUtils.release(buffer);\n      }\n\n      do {\n        if ((token = parser.nextToken()) == JsonToken.NOT_AVAILABLE) {\n          break;\n        }\n\n        pickOrEatOrSkipToken(consumer, parser);\n      } while (token != null &amp;&amp; consumer.wantsMore());\n\n      return consumer;\n\n    } catch (IllegalArgumentException | IOException ex) {\n      log.error(&quot;Could not feed or consume the data buffer. Will starve the consumer and return what we have so far&quot;, ex);\n      consumer.starve();\n\n      return consumer;\n    }\n  }\n\n  private static void pickOrEatOrSkipToken(ByteBufferJsonConsumer consumer, NonBlockingByteBufferJsonParser parser) throws IOException {\n\n    if (consumer.expectsEatingWhatWasPicked()) {\n      if (parser.currentToken().isScalarValue()) {\n        consumer.eats(JsonParserUtils.getCurrentTokenValue(parser));\n      } else {\n        var message = &quot;Fed consumer something it could not eat, '%s': '%s'&quot;.formatted(consumer.picked(), parser.currentToken());\n        throw new IllegalArgumentException(message);\n      }\n    } else if (parser.currentToken() == JsonToken.FIELD_NAME &amp;&amp; consumer.wants(parser.getText())) {\n      consumer.picks(parser.getText());\n    } else {\n\n      // We do not care.\n    }\n  }\n}\n</code></pre>\n<p>They work great for my situation. Fast, low-memory, can be cancalled, handles errors well, can deal pretty well with downstream request demands.</p>\n"}],"owner":{"account_id":303741,"reputation":477,"user_id":612859,"accept_rate":88,"display_name":"Stmated"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74267126,"answer_count":1,"score":0,"last_activity_date":1667237755,"creation_date":1666815268,"question_id":74213732,"body_markdown":"I am having issues with some custom handling of a WebClient response. I am trying to make it play nice with the asynchronous reading of JSON using Jackson.\r\n\r\nI have verified that this works very well if I replace the source of the `Flux&lt;DataBuffer&gt;` with a simpler:\r\n\r\n```\r\nfinal var dataBufferFlux = DataBufferUtils.readInputStream(\r\n  () -&gt;  new ByteArrayInputStream(bytes), DefaultDataBufferFactory.sharedInstance, 32\r\n);\r\n````\r\n\r\nBut once the source of the Flux is from the webclient (as per the example test case below), it stops working. The `subscription.request(1)` becomes a no-op, leaving my `onNext` never to be called.\r\n\r\nAny ideas?\r\nIs the WebClient response already consumed?\r\n\r\nThough I have managed to do some ugly testing rewrites with `Flux#blockFirst` and such where I have gotten some results back (before it crashes because I block the reactor thread), so there is content inside the Flux.\r\n\r\n\r\n```\r\nclass StreamedParsingTest {\r\n\r\n  @Test\r\n  @SneakyThrows\r\n  void testStreamedReading() {\r\n\r\n    final var objectMapper = new ObjectMapper();\r\n    final var parser = (NonBlockingByteBufferJsonParser) objectMapper.getFactory().createNonBlockingByteBufferParser();\r\n    final var feeder = (ByteBufferFeeder) parser.getNonBlockingInputFeeder();\r\n    final var allowedToRequest = new AtomicBoolean(true);\r\n    final var subscriptionRef = new AtomicReference&lt;Subscription&gt;();\r\n\r\n    final var webClient = createWebClient(Duration.ofSeconds(10), Duration.ofSeconds(10));\r\n\r\n    wm.stubFor(\r\n        WireMock.post(WireMock.urlPathMatching(&quot;.*&quot;)).willReturn(\r\n            WireMock.aResponse()\r\n                .withStatus(200)\r\n                .withBody(bytes)\r\n                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n        ));\r\n\r\n    final var containerMono = webClient.post()\r\n        .uri(&quot;http://localhost:&quot; + wm.getPort())\r\n        .retrieve()\r\n        .toEntityFlux(DataBuffer.class)\r\n        .map(responseEntity -&gt; new ContainerClass(responseEntity.getBody(), responseEntity.getStatusCode().value()));\r\n\r\n    final var blockedValue = containerMono.flatMap(cc -&gt; {\r\n\r\n          cc.getDataBufferFlux()\r\n              .subscribeOn(Schedulers.boundedElastic())\r\n              .subscribe(new Subscriber&lt;&gt;() {\r\n                @Override\r\n                public void onSubscribe(Subscription s) {\r\n                  subscriptionRef.set(s);\r\n                }\r\n\r\n                @Override\r\n                public void onNext(DataBuffer dataBuffer) {\r\n                  try {\r\n                    if (feeder.needMoreInput()) {\r\n                      feeder.feedInput(dataBuffer.asByteBuffer());\r\n                      allowedToRequest.lazySet(true);\r\n                    }\r\n                  } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                  }\r\n                }\r\n\r\n                @Override\r\n                public void onError(Throwable t) {\r\n                  feeder.endOfInput();\r\n                }\r\n\r\n                @Override\r\n                public void onComplete() {\r\n                  feeder.endOfInput();\r\n                }\r\n              });\r\n\r\n          String foundValue = null;\r\n          try {\r\n            JsonToken token;\r\n            boolean foundField = false;\r\n            do {\r\n              while ((token = parser.nextToken()) == JsonToken.NOT_AVAILABLE) {\r\n                if (subscriptionRef.get() != null) {\r\n                  if (allowedToRequest.compareAndSet(true, false)) {\r\n                    subscriptionRef.get().request(1);\r\n                  }\r\n                }\r\n              }\r\n\r\n              if (foundField &amp;&amp; token.isScalarValue()) {\r\n                foundValue = parser.getText();\r\n                subscriptionRef.get().cancel();\r\n                break;\r\n              } else if (token == JsonToken.FIELD_NAME &amp;&amp; StringUtils.equals(parser.getText(), &quot;Field2&quot;)) {\r\n                foundField = true;\r\n              }\r\n            } while (token != null);\r\n          } catch (IOException ex) {\r\n            return Mono.error(new RuntimeException(ex));\r\n          }\r\n\r\n          return Mono.justOrEmpty(foundValue);\r\n        })\r\n        .block();\r\n\r\n    Assertions.assertEquals(&quot;bar&quot;, blockedValue);\r\n  }\r\n\r\n  private static final byte[] bytes = &quot;&quot;&quot;\r\n      {\r\n        &quot;Object&quot;: {\r\n          &quot;Field1&quot;: &quot;foo&quot;,\r\n          &quot;Field2&quot;: &quot;bar&quot;,\r\n          &quot;Field3&quot;: &quot;xyz\r\n        }\r\n      }\r\n      &quot;&quot;&quot;.getBytes(StandardCharsets.UTF_8);\r\n\r\n  @RegisterExtension\r\n  static WireMockExtension wm = WireMockExtension.newInstance()\r\n      .options(\r\n          WireMockConfiguration.wireMockConfig()\r\n              .dynamicPort()\r\n              .notifier(new Slf4jNotifier(true))\r\n              .asynchronousResponseEnabled(true)\r\n              .asynchronousResponseThreads(100)\r\n      )\r\n      .build();\r\n\r\n  private static WebClient createWebClient(Duration connectTimeout, Duration readTimeout) {\r\n\r\n    var connector = new ReactorClientHttpConnector(\r\n        HttpClient\r\n            .create(ConnectionProvider.create(&quot;Test-Connection&quot;))\r\n            .tcpConfiguration(tcpClient -&gt; tcpClient\r\n                .metrics(true)\r\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, (int) connectTimeout.toMillis())\r\n                .doOnConnected(conn -&gt; conn\r\n                    .addHandlerLast(new ReadTimeoutHandler(readTimeout.toMillis(), TimeUnit.MILLISECONDS))\r\n                )\r\n            )\r\n    );\r\n\r\n    return WebClient.builder()\r\n        .clientConnector(connector)\r\n        .codecs(clientCodecConfigurer -&gt; clientCodecConfigurer.defaultCodecs().maxInMemorySize(64))\r\n        .build();\r\n  }\r\n\r\n  @Value\r\n  private static class ContainerClass {\r\n\r\n    Flux&lt;DataBuffer&gt; dataBufferFlux;\r\n    int status;\r\n  }\r\n}\r\n```\r\n\r\n*Worth noting that this uses the latest non-final version of Jackson that has support for the non-blocking ByteBuffer feeder. But if you need to run the test case, you could replace those parts with pure bytes instead.*","title":"Subscribing to WebClient Flux&lt;DataBuffer&gt; response for async JSON reading not working","body":"<p>I am having issues with some custom handling of a WebClient response. I am trying to make it play nice with the asynchronous reading of JSON using Jackson.</p>\n<p>I have verified that this works very well if I replace the source of the <code>Flux&lt;DataBuffer&gt;</code> with a simpler:</p>\n<pre><code>final var dataBufferFlux = DataBufferUtils.readInputStream(\n  () -&gt;  new ByteArrayInputStream(bytes), DefaultDataBufferFactory.sharedInstance, 32\n);\n</code></pre>\n<p>But once the source of the Flux is from the webclient (as per the example test case below), it stops working. The <code>subscription.request(1)</code> becomes a no-op, leaving my <code>onNext</code> never to be called.</p>\n<p>Any ideas?\nIs the WebClient response already consumed?</p>\n<p>Though I have managed to do some ugly testing rewrites with <code>Flux#blockFirst</code> and such where I have gotten some results back (before it crashes because I block the reactor thread), so there is content inside the Flux.</p>\n<pre><code>class StreamedParsingTest {\n\n  @Test\n  @SneakyThrows\n  void testStreamedReading() {\n\n    final var objectMapper = new ObjectMapper();\n    final var parser = (NonBlockingByteBufferJsonParser) objectMapper.getFactory().createNonBlockingByteBufferParser();\n    final var feeder = (ByteBufferFeeder) parser.getNonBlockingInputFeeder();\n    final var allowedToRequest = new AtomicBoolean(true);\n    final var subscriptionRef = new AtomicReference&lt;Subscription&gt;();\n\n    final var webClient = createWebClient(Duration.ofSeconds(10), Duration.ofSeconds(10));\n\n    wm.stubFor(\n        WireMock.post(WireMock.urlPathMatching(&quot;.*&quot;)).willReturn(\n            WireMock.aResponse()\n                .withStatus(200)\n                .withBody(bytes)\n                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        ));\n\n    final var containerMono = webClient.post()\n        .uri(&quot;http://localhost:&quot; + wm.getPort())\n        .retrieve()\n        .toEntityFlux(DataBuffer.class)\n        .map(responseEntity -&gt; new ContainerClass(responseEntity.getBody(), responseEntity.getStatusCode().value()));\n\n    final var blockedValue = containerMono.flatMap(cc -&gt; {\n\n          cc.getDataBufferFlux()\n              .subscribeOn(Schedulers.boundedElastic())\n              .subscribe(new Subscriber&lt;&gt;() {\n                @Override\n                public void onSubscribe(Subscription s) {\n                  subscriptionRef.set(s);\n                }\n\n                @Override\n                public void onNext(DataBuffer dataBuffer) {\n                  try {\n                    if (feeder.needMoreInput()) {\n                      feeder.feedInput(dataBuffer.asByteBuffer());\n                      allowedToRequest.lazySet(true);\n                    }\n                  } catch (IOException e) {\n                    throw new RuntimeException(e);\n                  }\n                }\n\n                @Override\n                public void onError(Throwable t) {\n                  feeder.endOfInput();\n                }\n\n                @Override\n                public void onComplete() {\n                  feeder.endOfInput();\n                }\n              });\n\n          String foundValue = null;\n          try {\n            JsonToken token;\n            boolean foundField = false;\n            do {\n              while ((token = parser.nextToken()) == JsonToken.NOT_AVAILABLE) {\n                if (subscriptionRef.get() != null) {\n                  if (allowedToRequest.compareAndSet(true, false)) {\n                    subscriptionRef.get().request(1);\n                  }\n                }\n              }\n\n              if (foundField &amp;&amp; token.isScalarValue()) {\n                foundValue = parser.getText();\n                subscriptionRef.get().cancel();\n                break;\n              } else if (token == JsonToken.FIELD_NAME &amp;&amp; StringUtils.equals(parser.getText(), &quot;Field2&quot;)) {\n                foundField = true;\n              }\n            } while (token != null);\n          } catch (IOException ex) {\n            return Mono.error(new RuntimeException(ex));\n          }\n\n          return Mono.justOrEmpty(foundValue);\n        })\n        .block();\n\n    Assertions.assertEquals(&quot;bar&quot;, blockedValue);\n  }\n\n  private static final byte[] bytes = &quot;&quot;&quot;\n      {\n        &quot;Object&quot;: {\n          &quot;Field1&quot;: &quot;foo&quot;,\n          &quot;Field2&quot;: &quot;bar&quot;,\n          &quot;Field3&quot;: &quot;xyz\n        }\n      }\n      &quot;&quot;&quot;.getBytes(StandardCharsets.UTF_8);\n\n  @RegisterExtension\n  static WireMockExtension wm = WireMockExtension.newInstance()\n      .options(\n          WireMockConfiguration.wireMockConfig()\n              .dynamicPort()\n              .notifier(new Slf4jNotifier(true))\n              .asynchronousResponseEnabled(true)\n              .asynchronousResponseThreads(100)\n      )\n      .build();\n\n  private static WebClient createWebClient(Duration connectTimeout, Duration readTimeout) {\n\n    var connector = new ReactorClientHttpConnector(\n        HttpClient\n            .create(ConnectionProvider.create(&quot;Test-Connection&quot;))\n            .tcpConfiguration(tcpClient -&gt; tcpClient\n                .metrics(true)\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, (int) connectTimeout.toMillis())\n                .doOnConnected(conn -&gt; conn\n                    .addHandlerLast(new ReadTimeoutHandler(readTimeout.toMillis(), TimeUnit.MILLISECONDS))\n                )\n            )\n    );\n\n    return WebClient.builder()\n        .clientConnector(connector)\n        .codecs(clientCodecConfigurer -&gt; clientCodecConfigurer.defaultCodecs().maxInMemorySize(64))\n        .build();\n  }\n\n  @Value\n  private static class ContainerClass {\n\n    Flux&lt;DataBuffer&gt; dataBufferFlux;\n    int status;\n  }\n}\n</code></pre>\n<p><em>Worth noting that this uses the latest non-final version of Jackson that has support for the non-blocking ByteBuffer feeder. But if you need to run the test case, you could replace those parts with pure bytes instead.</em></p>\n"},{"tags":["java","stdin","bufferedreader","inputstreamreader"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1667237402,"post_id":74267038,"comment_id":131118013,"body_markdown":"`line[i] = br.readLine();` readLine is a *blocking* method, and will block all program flow until it receives an end-of-line token.","body":"<code>line[i] = br.readLine();</code> readLine is a <i>blocking</i> method, and will block all program flow until it receives an end-of-line token."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667238614,"post_id":74267038,"comment_id":131118410,"body_markdown":"A little further research turns up [this post](https://stackoverflow.com/q/1066318/18157) which confirms my suspicion that it is impossible to do in pure Java.","body":"A little further research turns up <a href=\"https://stackoverflow.com/q/1066318/18157\">this post</a> which confirms my suspicion that it is impossible to do in pure Java."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667238994,"post_id":74267038,"comment_id":131118535,"body_markdown":"Or try this [rabbit hole](https://www.google.com/search?q=java+non-blocking+stdin+console&amp;client=firefox-b-1-d&amp;ei=_ApgY7q0F4TA7gKYkKGoCw&amp;ved=0ahUKEwi6oob9g4v7AhUEoFsKHRhICLUQ4dUDCBA&amp;uact=5&amp;oq=java+non-blocking+stdin+console)","body":"Or try this <a href=\"https://www.google.com/search?q=java+non-blocking+stdin+console&amp;client=firefox-b-1-d&amp;ei=_ApgY7q0F4TA7gKYkKGoCw&amp;ved=0ahUKEwi6oob9g4v7AhUEoFsKHRhICLUQ4dUDCBA&amp;uact=5&amp;oq=java+non-blocking+stdin+console\" rel=\"nofollow noreferrer\">rabbit hole</a>"},{"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"score":0,"creation_date":1667239290,"post_id":74267038,"comment_id":131118620,"body_markdown":"Thank you @JimGarrison I only ran into this issue because I tried to properly submit my solution at https://www.hackerrank.com/challenges/linkedin-practice-graph-theory-bfs/problem but it keeps resulting in runtime error *&quot;~ no response on stdout ~&quot;* despite running perfectly on my Eclipse setup. I wonder what that site is expecting.","body":"Thank you @JimGarrison I only ran into this issue because I tried to properly submit my solution at <a href=\"https://www.hackerrank.com/challenges/linkedin-practice-graph-theory-bfs/problem\" rel=\"nofollow noreferrer\">hackerrank.com/challenges/linkedin-practice-graph-theory-bfs&zwnj;&#8203;/&hellip;</a> but it keeps resulting in runtime error <i>&quot;~ no response on stdout ~&quot;</i> despite running perfectly on my Eclipse setup. I wonder what that site is expecting."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667239469,"post_id":74267038,"comment_id":131118675,"body_markdown":"What is probably happening is that the input comes from a file, not a console, and there is no `\\n` at the end of the second line. So the code sees EOF instead.","body":"What is probably happening is that the input comes from a file, not a console, and there is no <code>\\n</code> at the end of the second line. So the code sees EOF instead."}],"answers":[{"comments":[{"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"score":1,"creation_date":1667238542,"post_id":74267124,"comment_id":131118382,"body_markdown":"Selecting the linefeed before you copy, by dragging all the way to line 3 is a good workaround and it works! However, I cannot use this solution in the following automated test, which does not inject that extra line. As a result, it fails with *&quot;~ no response on stdout ~&quot;* runtime error: https://www.hackerrank.com/challenges/linkedin-practice-graph-theory-bfs/problem","body":"Selecting the linefeed before you copy, by dragging all the way to line 3 is a good workaround and it works! However, I cannot use this solution in the following automated test, which does not inject that extra line. As a result, it fails with <i>&quot;~ no response on stdout ~&quot;</i> runtime error: <a href=\"https://www.hackerrank.com/challenges/linkedin-practice-graph-theory-bfs/problem\" rel=\"nofollow noreferrer\">hackerrank.com/challenges/linkedin-practice-graph-theory-bfs&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1667244117,"post_id":74267124,"comment_id":131119994,"body_markdown":"hackerrank is not going to give you input without linefeeds.  The code you posted is not appropriate for reading the input in that problem.","body":"hackerrank is not going to give you input without linefeeds.  The code you posted is not appropriate for reading the input in that problem."},{"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"score":0,"creation_date":1667245159,"post_id":74267124,"comment_id":131120239,"body_markdown":"What is appropriate (in Java) for reading the input in that problem, then? Would reading the input character-by-character (e.g. using `InputStreamReader(System.in).read ()`) do the trick?","body":"What is appropriate (in Java) for reading the input in that problem, then? Would reading the input character-by-character (e.g. using <code>InputStreamReader(System.in).read ()</code>) do the trick?"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1667245474,"post_id":74267124,"comment_id":131120304,"body_markdown":"I mean that the input to the problem has a variable number of lines, but you&#39;re trying to read exactly 2.   You&#39;re probably running into trouble when the first line is `0`, because then there aren&#39;t any more.","body":"I mean that the input to the problem has a variable number of lines, but you&#39;re trying to read exactly 2.   You&#39;re probably running into trouble when the first line is <code>0</code>, because then there aren&#39;t any more."},{"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"score":0,"creation_date":1667309207,"post_id":74267124,"comment_id":131133746,"body_markdown":"The variable number of lines is known right after reading the first line, so I took care of that (tested on my dev env. ) My only issue is that extra CRLF/EOF needed at the end, as you correctly pointed out. I tried Java&#39;s `Scanner.nextInt()` but I got the same results. I wonder what that site is expecting. Accepting your answer, as there seems to be no solution/workaround for the challenge I am facing.","body":"The variable number of lines is known right after reading the first line, so I took care of that (tested on my dev env. ) My only issue is that extra CRLF/EOF needed at the end, as you correctly pointed out. I tried Java&#39;s <code>Scanner.nextInt()</code> but I got the same results. I wonder what that site is expecting. Accepting your answer, as there seems to be no solution/workaround for the challenge I am facing."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1667343526,"post_id":74267124,"comment_id":131144326,"body_markdown":"You should post your actual input processing code.  The problem is not what you think it is.","body":"You should post your actual input processing code.  The problem is not what you think it is."}],"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667237738,"creation_date":1667237738,"answer_id":74267124,"question_id":74267038,"body_markdown":"You have two problems:\r\n\r\n 1. The console doesn&#39;t actually send anything to your program until you press ENTER.  This allows you to edit the line before submitting it.  There are OS-specific ways to get around this, but nothing you can do about it in pure/portable java.\r\n\r\n 2. `br.readLine()` doesn&#39;t know the line has ended until it receives the linefeed character that the console puts at the end of the text when you press ENTER.  Without the enter key, how would it know that you were done typing?  You could also type your OS-specific EOF character (probably ctrl-Z or ctrl-D) to terminate console input, but that&#39;s probably not what you want.\r\n\r\nIf you only want to solve this problem for manual copy and paste, then maybe you can just select the linefeed before you copy, by dragging all the way to line 3.","title":"Is there a way to avoid the &quot;hit enter key&quot; when reading lines from stdin using BufferedReader?","body":"<p>You have two problems:</p>\n<ol>\n<li><p>The console doesn't actually send anything to your program until you press ENTER.  This allows you to edit the line before submitting it.  There are OS-specific ways to get around this, but nothing you can do about it in pure/portable java.</p>\n</li>\n<li><p><code>br.readLine()</code> doesn't know the line has ended until it receives the linefeed character that the console puts at the end of the text when you press ENTER.  Without the enter key, how would it know that you were done typing?  You could also type your OS-specific EOF character (probably ctrl-Z or ctrl-D) to terminate console input, but that's probably not what you want.</p>\n</li>\n</ol>\n<p>If you only want to solve this problem for manual copy and paste, then maybe you can just select the linefeed before you copy, by dragging all the way to line 3.</p>\n"}],"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74267124,"answer_count":1,"score":0,"last_activity_date":1667237738,"creation_date":1667237289,"question_id":74267038,"body_markdown":"The following is a simple but fully working Java program that demonstrates my issue:\r\n\r\n    package bufferedreader_test;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class BufferedReaderTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tInputStreamReader isr = new InputStreamReader(System.in);\r\n    \t\t\tBufferedReader br = new BufferedReader(isr);\r\n    \t\t\tString line[] = new String[2];\r\n    \r\n    \t\t\tfor (int i=0; i&lt;2; i++) \r\n    \t\t\t\tline[i] = br.readLine();\r\n    \r\n    \t\t\tfor (int j=0; j&lt;line.length; j++)\r\n    \t\t\t\tSystem.out.println(line[j]);\r\n    \t\t} \r\n    \t\tcatch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIf you copy &amp; paste 2 lines into the console, it will not print them immediately but rather wait for you to hit the `Enter` key (i.e. inject a newline into stdin).\r\n\r\nFor example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs there a way to &quot;trick the system&quot; into printing the result as soon as the 2nd line is read, **without waiting** for the `Enter` key (3rd line?) ?\r\n\r\n  [1]: https://i.stack.imgur.com/GbbZR.png","title":"Is there a way to avoid the &quot;hit enter key&quot; when reading lines from stdin using BufferedReader?","body":"<p>The following is a simple but fully working Java program that demonstrates my issue:</p>\n<pre><code>package bufferedreader_test;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class BufferedReaderTest {\n\n    public static void main(String[] args) {\n        try {\n            InputStreamReader isr = new InputStreamReader(System.in);\n            BufferedReader br = new BufferedReader(isr);\n            String line[] = new String[2];\n\n            for (int i=0; i&lt;2; i++) \n                line[i] = br.readLine();\n\n            for (int j=0; j&lt;line.length; j++)\n                System.out.println(line[j]);\n        } \n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>If you copy &amp; paste 2 lines into the console, it will not print them immediately but rather wait for you to hit the <code>Enter</code> key (i.e. inject a newline into stdin).</p>\n<p>For example:</p>\n<p><a href=\"https://i.stack.imgur.com/GbbZR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GbbZR.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to &quot;trick the system&quot; into printing the result as soon as the 2nd line is read, <strong>without waiting</strong> for the <code>Enter</code> key (3rd line?) ?</p>\n"},{"tags":["java","floating-point","double","precision"],"comments":[{"owner":{"account_id":1437198,"reputation":15519,"user_id":1358308,"accept_rate":56,"display_name":"Sam Mason"},"score":0,"creation_date":1665074391,"post_id":73975577,"comment_id":130619818,"body_markdown":"just out of interest, why do you want to do this?  I don&#39;t know that API, but it looks to be designed for handling color, which for most people is still 8bit.  hence I&#39;m not sure why you&#39;d want to go beyond a 32bit float!","body":"just out of interest, why do you want to do this?  I don&#39;t know that API, but it looks to be designed for handling color, which for most people is still 8bit.  hence I&#39;m not sure why you&#39;d want to go beyond a 32bit float!"},{"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"score":0,"creation_date":1665086555,"post_id":73975577,"comment_id":130623617,"body_markdown":"You are right about the color, 8bit is ok in most cases, but... I am referring to point coordinates in x,y plane and not the color. There might be a chance that this one gives me random empty gradients in very &quot;small&quot; polygon fills, and the only reason I could imagine is the coordinate double to float casting. Other than this, I am not sure though, color &quot;more bits&quot; is something different, but might eliminate the so called &quot;color banding&quot; artifacts, which in case of java gradients, are more than obvious","body":"You are right about the color, 8bit is ok in most cases, but... I am referring to point coordinates in x,y plane and not the color. There might be a chance that this one gives me random empty gradients in very &quot;small&quot; polygon fills, and the only reason I could imagine is the coordinate double to float casting. Other than this, I am not sure though, color &quot;more bits&quot; is something different, but might eliminate the so called &quot;color banding&quot; artifacts, which in case of java gradients, are more than obvious"},{"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"score":0,"creation_date":1665135452,"post_id":73975577,"comment_id":130633614,"body_markdown":"I have managed to partially resolve the issue by bypassing a local coordinate system, there might be a chance that the origin of x,y plane was affected by the double to float conversion. I will keep the question alive, there are many similar issues about float/double precision in various forms for example in processing.org, https://blog.generativedarkroom.com/why-i-switched-from-processing-to-openrndr-b50c931d21ae","body":"I have managed to partially resolve the issue by bypassing a local coordinate system, there might be a chance that the origin of x,y plane was affected by the double to float conversion. I will keep the question alive, there are many similar issues about float/double precision in various forms for example in processing.org, <a href=\"https://blog.generativedarkroom.com/why-i-switched-from-processing-to-openrndr-b50c931d21ae\" rel=\"nofollow noreferrer\">blog.generativedarkroom.com/&hellip;</a>"},{"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"score":0,"creation_date":1665136669,"post_id":73975577,"comment_id":130634037,"body_markdown":"In the meanwhile I have tried to isolate related classes code from java 17 source, GradientPaint.java, RadialGradientPaint.java, MultipleGradientPaint.java, LinearGradientPaint.java, but I was not able to create a new version for either of them as there are some cross dependencies, abstract/privilege limitations  I could not resolve. But I guess someone who has a ready or access to a development system for all those kind of sources could probably do it.","body":"In the meanwhile I have tried to isolate related classes code from java 17 source, GradientPaint.java, RadialGradientPaint.java, MultipleGradientPaint.java, LinearGradientPaint.java, but I was not able to create a new version for either of them as there are some cross dependencies, abstract/privilege limitations  I could not resolve. But I guess someone who has a ready or access to a development system for all those kind of sources could probably do it."}],"answers":[{"tags":[],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667237631,"creation_date":1667237600,"answer_id":74267094,"question_id":73975577,"body_markdown":"Although it was not the solution to this specific case, I have recompiled successfully all batik gradientpaint classes, those seem to be almost the same as native (I guess batik is the original source anyway).\r\n\r\ne.g. org.apache.batik.ext.awt.RadialGradientPaint;\r\nSo this can be done through batik&#39;s source and then use those instead of native with &quot;double&quot; coordinates.","title":"How to modify Java JDK source related to GradientPaint classes (implements Paint Interface) in order to change from float to double precision?","body":"<p>Although it was not the solution to this specific case, I have recompiled successfully all batik gradientpaint classes, those seem to be almost the same as native (I guess batik is the original source anyway).</p>\n<p>e.g. org.apache.batik.ext.awt.RadialGradientPaint;\nSo this can be done through batik's source and then use those instead of native with &quot;double&quot; coordinates.</p>\n"}],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74267094,"answer_count":1,"score":0,"last_activity_date":1667237631,"creation_date":1665066744,"question_id":73975577,"body_markdown":"I have never tried to modify anything so deep like the jdk itself, but I was wondering how hard or practical would that be for a specific task. The purpose is to experiment/test very high resolution image gradients with fine details, so color coordinate positions with better accuracy seems critical. Currently java gradient constructors accept float values only for coordinates.  https://docs.oracle.com/javase/7/docs/api/java/awt/GradientPaint.html\r\n\r\nDo you think it is possible to change those coordinate float references to double? Would it be just like changing minor parameters in source or something more complex?\r\nIdeally those classes should support float and double at the same time (use somehow both contractors much like Path2D.Double Path2D.Float) but this is not a prerequisite for me, only the easiest way, just doubles. Performance is not an issue as images are static, no animations.\r\n\r\nConsidering the modular nature of java 17 LTS, what are the steps to follow for a task like this one, if possible? Any guidance will be much appreciated!\r\n\r\n(javaFX as far as I can see support gradients with double precision, but I cannot use this for various reasons)","title":"How to modify Java JDK source related to GradientPaint classes (implements Paint Interface) in order to change from float to double precision?","body":"<p>I have never tried to modify anything so deep like the jdk itself, but I was wondering how hard or practical would that be for a specific task. The purpose is to experiment/test very high resolution image gradients with fine details, so color coordinate positions with better accuracy seems critical. Currently java gradient constructors accept float values only for coordinates.  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/GradientPaint.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/awt/GradientPaint.html</a></p>\n<p>Do you think it is possible to change those coordinate float references to double? Would it be just like changing minor parameters in source or something more complex?\nIdeally those classes should support float and double at the same time (use somehow both contractors much like Path2D.Double Path2D.Float) but this is not a prerequisite for me, only the easiest way, just doubles. Performance is not an issue as images are static, no animations.</p>\n<p>Considering the modular nature of java 17 LTS, what are the steps to follow for a task like this one, if possible? Any guidance will be much appreciated!</p>\n<p>(javaFX as far as I can see support gradients with double precision, but I cannot use this for various reasons)</p>\n"},{"tags":["java","algorithm","hashmap"],"comments":[{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":1,"creation_date":1667225729,"post_id":74264586,"comment_id":131113629,"body_markdown":"If you give it an input that should evaluate to false, what happens? are either of these correct?","body":"If you give it an input that should evaluate to false, what happens? are either of these correct?"},{"owner":{"account_id":14995734,"reputation":11,"user_id":10825144,"display_name":"sucy1024"},"score":0,"creation_date":1667226371,"post_id":74264586,"comment_id":131113873,"body_markdown":"I don&#39;t understand your  words, I want to know why the \n`for (Integer i= 0;i&lt;pattern.length();++i)` is ok for the case \nbut `for (int i= 0;i&lt;pattern.length();++i)`is wrong.","body":"I don&#39;t understand your  words, I want to know why the  <code>for (Integer i= 0;i&lt;pattern.length();++i)</code> is ok for the case  but <code>for (int i= 0;i&lt;pattern.length();++i)</code>is wrong."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1667226533,"post_id":74264586,"comment_id":131113939,"body_markdown":"*maybe* because autoboxing of `int` &gt; 127 is not using the Integer pool? Simple test: `int i = 128; Integer j = i; Integer k = i;` now `j == k` will return `false` (but not if `i = 127` or less) - the Map is storing `Integer` , better use `equals` to compare... as with almost all reference types","body":"<i>maybe</i> because autoboxing of <code>int</code> &gt; 127 is not using the Integer pool? Simple test: <code>int i = 128; Integer j = i; Integer k = i;</code> now <code>j == k</code> will return <code>false</code> (but not if <code>i = 127</code> or less) - the Map is storing <code>Integer</code> , better use <code>equals</code> to compare... as with almost all reference types"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1667226618,"post_id":74264586,"comment_id":131113975,"body_markdown":"Could you add some debugging to your code?  At what offset, for example does the &quot;wrong&quot; version fail?","body":"Could you add some debugging to your code?  At what offset, for example does the &quot;wrong&quot; version fail?"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667237223,"creation_date":1667237223,"answer_id":74267023,"question_id":74264586,"body_markdown":"As has been commented, comparing `Integer` instances should happen with `equals`, not with `==`. It is possible that two distinct instances of `Integer` represent the same `int` value. Here is how you could make a correct comparison:\r\n\r\n```\r\nif (!Objects.equals(map.put(words[i],i), map.put(pattern.charAt(i),i))) {\r\n```\r\n","title":"Why can&#39;t I pass this LeetCode.290？","body":"<p>As has been commented, comparing <code>Integer</code> instances should happen with <code>equals</code>, not with <code>==</code>. It is possible that two distinct instances of <code>Integer</code> represent the same <code>int</code> value. Here is how you could make a correct comparison:</p>\n<pre><code>if (!Objects.equals(map.put(words[i],i), map.put(pattern.charAt(i),i))) {\n</code></pre>\n"}],"owner":{"account_id":14995734,"reputation":11,"user_id":10825144,"display_name":"sucy1024"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667237223,"creation_date":1667225428,"question_id":74264586,"body_markdown":"\r\nquestion：\r\n\r\n\\*\\*Given a pattern and a string s, find if s follows the same pattern.\r\n\r\nHere follow means a full match, such that there is a bijection between a letter in pattern and a non-empty word in s.\\*\\*\r\n\r\nExample :\r\n\r\nInput: pattern = &quot;abba&quot;, s = &quot;dog cat cat dog&quot;\r\nOutput: true\r\n\r\nmy Code:\r\n\r\n```Java\r\n\r\nclass Solution {\r\n    public boolean wordPattern(String pattern, String str) {\r\n        String[] words=str.split(&quot; &quot;);\r\n\r\n        if (words.length != pattern.length()) {\r\n            return false;\r\n\r\n        }\r\n        HashMap&lt;Object, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (int i= 0;i&lt;pattern.length();++i){// Integer i =0 is Ok, but int i =0 is wrong.\r\n            if (map.put(words[i],i) != map.put(pattern.charAt(i),i) ){\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\nclass Main{\r\n    public static void main(String[] args) {\r\n        String pattern = &quot;ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccdd&quot;;\r\n               String s =&quot;s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s t t&quot;;\r\n        Solution s1 = new Solution();\r\n        boolean res = s1.wordPattern(pattern,s);\r\n        System.out.println(res);\r\n     }\r\n}\r\n```\r\n\r\nmy question is:(There are comments in the code)\r\nI except the result is `true`,but the result is `false`\r\n\r\n\r\nthe `for (Integer i= 0;i&lt;pattern.length();++i)` is ok,for the case \r\nbut  `for (int i= 0;i&lt;pattern.length();++i)`is wrong.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/v0kGH.png)](https://i.stack.imgur.com/v0kGH.png)\r\n\r\nI want to know why it has the difference?","title":"Why can&#39;t I pass this LeetCode.290？","body":"<p>question：</p>\n<p>**Given a pattern and a string s, find if s follows the same pattern.</p>\n<p>Here follow means a full match, such that there is a bijection between a letter in pattern and a non-empty word in s.**</p>\n<p>Example :</p>\n<p>Input: pattern = &quot;abba&quot;, s = &quot;dog cat cat dog&quot;\nOutput: true</p>\n<p>my Code:</p>\n<pre><code>\nclass Solution {\n    public boolean wordPattern(String pattern, String str) {\n        String[] words=str.split(&quot; &quot;);\n\n        if (words.length != pattern.length()) {\n            return false;\n\n        }\n        HashMap&lt;Object, Integer&gt; map = new HashMap&lt;&gt;();\n        for (int i= 0;i&lt;pattern.length();++i){// Integer i =0 is Ok, but int i =0 is wrong.\n            if (map.put(words[i],i) != map.put(pattern.charAt(i),i) ){\n                return false;\n            }\n        }\n\n        return true;\n    }\n}\n\nclass Main{\n    public static void main(String[] args) {\n        String pattern = &quot;ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccdd&quot;;\n               String s =&quot;s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s s t t&quot;;\n        Solution s1 = new Solution();\n        boolean res = s1.wordPattern(pattern,s);\n        System.out.println(res);\n     }\n}\n</code></pre>\n<p>my question is:(There are comments in the code)\nI except the result is <code>true</code>,but the result is <code>false</code></p>\n<p>the <code>for (Integer i= 0;i&lt;pattern.length();++i)</code> is ok,for the case\nbut  <code>for (int i= 0;i&lt;pattern.length();++i)</code>is wrong.</p>\n<p><a href=\"https://i.stack.imgur.com/v0kGH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v0kGH.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to know why it has the difference?</p>\n"},{"tags":["java","tomcat","pom.xml","jsonbuilder","jsonb-api"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1667214343,"post_id":74256659,"comment_id":131109582,"body_markdown":"Your #1 mistake is that you thought that Tomcat is a Jakarta EE server. This is absolutely not the case. Your pom.xml is technically completely wrong for Tomcat. Please see also https://stackoverflow.com/a/65704617/157882 for in depth explanation and proper pom.xml examples.","body":"Your #1 mistake is that you thought that Tomcat is a Jakarta EE server. This is absolutely not the case. Your pom.xml is technically completely wrong for Tomcat. Please see also <a href=\"https://stackoverflow.com/a/65704617/157882\">stackoverflow.com/a/65704617/157882</a> for in depth explanation and proper pom.xml examples."}],"answers":[{"tags":[],"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667211831,"creation_date":1667211831,"answer_id":74261864,"question_id":74256659,"body_markdown":"Tomcat doesn&#39;t include an implementation of the Json Binding specification.\r\nYou can either include an implementation or switch to other application server that fully implements the Jakarta specification.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse&lt;/groupId&gt;\r\n      &lt;artifactId&gt;yasson&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.json&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"NoClassDefFoundError jakarta/json/bind/JsonbBuilder","body":"<p>Tomcat doesn't include an implementation of the Json Binding specification.\nYou can either include an implementation or switch to other application server that fully implements the Jakarta specification.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse&lt;/groupId&gt;\n  &lt;artifactId&gt;yasson&lt;/artifactId&gt;\n  &lt;version&gt;2.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.json&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26426111,"reputation":21,"user_id":20073058,"display_name":"Adrianxu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667237143,"creation_date":1667237143,"answer_id":74267009,"question_id":74256659,"body_markdown":"Changing to TomEE fixed the error.","title":"NoClassDefFoundError jakarta/json/bind/JsonbBuilder","body":"<p>Changing to TomEE fixed the error.</p>\n"}],"owner":{"account_id":26426111,"reputation":21,"user_id":20073058,"display_name":"Adrianxu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74267009,"answer_count":2,"score":0,"last_activity_date":1667237143,"creation_date":1667162919,"question_id":74256659,"body_markdown":"I am having an error while trying to use Jsonb / JsonbBuilder in a JakartaEE maven project.\r\n\r\n\r\nError StackTrace\r\n\r\n\r\n\r\n```\r\njava.lang.RuntimeException: jakarta/json/bind/JsonbBuilder\r\n\tat org.apache.tomcat.websocket.pojo.PojoMessageHandlerBase.handlePojoMethodException(PojoMessageHandlerBase.java:119)\r\n\tat org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:107)\r\n\tat org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:415)\r\n\tat org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:129)\r\n\tat org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:515)\r\n\tat org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:301)\r\n\tat org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133)\r\n\tat org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)\r\n\tat org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)\r\n\tat org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)\r\n\tat org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:870)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NoClassDefFoundError: jakarta/json/bind/JsonbBuilder\r\n\tat com.example.websockets.WebChat.onMessage(WebChat.java:21)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:105)\r\n\t... 18 more\r\nCaused by: java.lang.ClassNotFoundException: jakarta.json.bind.JsonbBuilder\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1449)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1257)\r\n\t... 22 more\r\n```\r\n\r\n\r\n\r\nPOM \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;websockets&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;websockets&lt;/name&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;9.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nThe method throwing the error and the class imports\r\n\r\n```\r\n@OnMessage\r\npublic void onMessage(Session session, String text) {\r\n\r\n    try(Jsonb jsonb = JsonbBuilder.create()) {\r\n        Message message = jsonb.fromJson(text, Message.class);\r\n        System.out.println(&quot;Message received: &quot; + message);\r\n\r\n        if(message.getType().equals(&quot;join&quot;)){\r\n            session.getUserProperties().put(&quot;name&quot;, message.getUserName());\r\n            session.getUserProperties().put(&quot;active&quot;, true);\r\n            Message info = new Message(message.getUserName(), &quot;join&quot;, message.getUserName() + &quot; has joined the chat&quot;);\r\n            Message updateUserList = new Message(message.getUserName(), &quot;users&quot;, getUserNames(session));\r\n\r\n            sendAll(session , info);\r\n            sendAll(session , updateUserList);\r\n        } else if(message.getType().equals(&quot;chat&quot;)){\r\n            sendAll(session, message);\r\n        }\r\n    }catch (Exception e){\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nIt looks like your post is mostly code; please add some more details.\r\n\r\n\r\n\r\n\r\n```\r\n\r\nimport jakarta.json.Json;\r\nimport jakarta.json.bind.Jsonb;\r\nimport jakarta.json.bind.JsonbBuilder;\r\nimport jakarta.websocket.OnClose;\r\nimport jakarta.websocket.OnError;\r\nimport jakarta.websocket.OnMessage;\r\nimport jakarta.websocket.Session;\r\nimport jakarta.websocket.server.ServerEndpoint;\r\n\r\nimport java.util.stream.Collectors;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe error is shown when I try to use JsonbBuilder\r\nAnd I do have  jakarta/json/bind/JsonbBuilder in maven dependencies.","title":"NoClassDefFoundError jakarta/json/bind/JsonbBuilder","body":"<p>I am having an error while trying to use Jsonb / JsonbBuilder in a JakartaEE maven project.</p>\n<p>Error StackTrace</p>\n<pre><code>java.lang.RuntimeException: jakarta/json/bind/JsonbBuilder\n    at org.apache.tomcat.websocket.pojo.PojoMessageHandlerBase.handlePojoMethodException(PojoMessageHandlerBase.java:119)\n    at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:107)\n    at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:415)\n    at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:129)\n    at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:515)\n    at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:301)\n    at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:133)\n    at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)\n    at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:183)\n    at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:162)\n    at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:157)\n    at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:870)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NoClassDefFoundError: jakarta/json/bind/JsonbBuilder\n    at com.example.websockets.WebChat.onMessage(WebChat.java:21)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:105)\n    ... 18 more\nCaused by: java.lang.ClassNotFoundException: jakarta.json.bind.JsonbBuilder\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1449)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1257)\n    ... 22 more\n</code></pre>\n<p>POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;websockets&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;websockets&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n            &lt;version&gt;9.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The method throwing the error and the class imports</p>\n<pre><code>@OnMessage\npublic void onMessage(Session session, String text) {\n\n    try(Jsonb jsonb = JsonbBuilder.create()) {\n        Message message = jsonb.fromJson(text, Message.class);\n        System.out.println(&quot;Message received: &quot; + message);\n\n        if(message.getType().equals(&quot;join&quot;)){\n            session.getUserProperties().put(&quot;name&quot;, message.getUserName());\n            session.getUserProperties().put(&quot;active&quot;, true);\n            Message info = new Message(message.getUserName(), &quot;join&quot;, message.getUserName() + &quot; has joined the chat&quot;);\n            Message updateUserList = new Message(message.getUserName(), &quot;users&quot;, getUserNames(session));\n\n            sendAll(session , info);\n            sendAll(session , updateUserList);\n        } else if(message.getType().equals(&quot;chat&quot;)){\n            sendAll(session, message);\n        }\n    }catch (Exception e){\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>It looks like your post is mostly code; please add some more details.</p>\n<pre><code>\nimport jakarta.json.Json;\nimport jakarta.json.bind.Jsonb;\nimport jakarta.json.bind.JsonbBuilder;\nimport jakarta.websocket.OnClose;\nimport jakarta.websocket.OnError;\nimport jakarta.websocket.OnMessage;\nimport jakarta.websocket.Session;\nimport jakarta.websocket.server.ServerEndpoint;\n\nimport java.util.stream.Collectors;\n</code></pre>\n<p>The error is shown when I try to use JsonbBuilder\nAnd I do have  jakarta/json/bind/JsonbBuilder in maven dependencies.</p>\n"},{"tags":["java","spring","spring-boot","jwt","classnotfoundexception"],"answers":[{"comments":[{"owner":{"account_id":24007213,"reputation":15,"user_id":19441686,"display_name":"Anxheloo"},"score":0,"creation_date":1667296639,"post_id":74266615,"comment_id":131129616,"body_markdown":"yeah it was missing a dependency but the dependencies showed from the guy above helped me solve this. Can you please show me the way you made this google search? I wanna have a general idea of how to search stuff as a newbie. Thanks in advance!","body":"yeah it was missing a dependency but the dependencies showed from the guy above helped me solve this. Can you please show me the way you made this google search? I wanna have a general idea of how to search stuff as a newbie. Thanks in advance!"}],"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1667234872,"creation_date":1667234872,"answer_id":74266615,"question_id":74266566,"body_markdown":"Could it be that you are missing a dependency?\r\n\r\nA quick internet search shows that this class is part of [this][1] library\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api","title":"i have a spring boot app with JWT token and im giving an arror","body":"<p>Could it be that you are missing a dependency?</p>\n<p>A quick internet search shows that this class is part of <a href=\"https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\" rel=\"nofollow noreferrer\">this</a> library</p>\n"},{"comments":[{"owner":{"account_id":24007213,"reputation":15,"user_id":19441686,"display_name":"Anxheloo"},"score":0,"creation_date":1667296283,"post_id":74266923,"comment_id":131129529,"body_markdown":"Yeah it worked now,, thanks a lot. But i dont get it why the guy in the video is not using these dependencies instead he is just using :\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\n\t\t&lt;/dependency&gt;   ,,   can you also tell me what kind of google search did u make to find these? I just wanna have an idea of internet search of stuff.. Thanks in advance and hope you have a great day","body":"Yeah it worked now,, thanks a lot. But i dont get it why the guy in the video is not using these dependencies instead he is just using :\t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt; \t\t\t&lt;version&gt;0.9.1&lt;/version&gt; \t\t&lt;/dependency&gt;   ,,   can you also tell me what kind of google search did u make to find these? I just wanna have an idea of internet search of stuff.. Thanks in advance and hope you have a great day"},{"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"score":0,"creation_date":1667310671,"post_id":74266923,"comment_id":131134240,"body_markdown":"Good, mark the answer as accepted if it solved your problem. \nI went throw this error when I was learning myself. Try to understand the error, because sometimes you need to know what you are searching for instead of pasting the stack trace. \nStackoverflow should be your first choice to go with. Also use mvn repository website to get and check your dependencies. Lastly, whenever you are using a library read the release notes to see the new changes.","body":"Good, mark the answer as accepted if it solved your problem.  I went throw this error when I was learning myself. Try to understand the error, because sometimes you need to know what you are searching for instead of pasting the stack trace.  Stackoverflow should be your first choice to go with. Also use mvn repository website to get and check your dependencies. Lastly, whenever you are using a library read the release notes to see the new changes."},{"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"score":0,"creation_date":1667383539,"post_id":74266923,"comment_id":131152301,"body_markdown":"lol you marked the wrong post; my post is above, the one with the code....you welcome anyway.","body":"lol you marked the wrong post; my post is above, the one with the code....you welcome anyway."},{"owner":{"account_id":1626128,"reputation":3775,"user_id":1501661,"accept_rate":90,"display_name":"Iwo Kucharski"},"score":0,"creation_date":1680788842,"post_id":74266923,"comment_id":133959688,"body_markdown":"probably you are using new java version (17) where javax packages were replaced by jakarta and jjwt lib is not java 17 ready yet","body":"probably you are using new java version (17) where javax packages were replaced by jakarta and jjwt lib is not java 17 ready yet"}],"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667236657,"creation_date":1667236657,"answer_id":74266923,"question_id":74266566,"body_markdown":"Make sure you added all the required dependencies: \r\n \r\nadd these dependencies, and  make sure you add the jwt dependencies below as well:\r\n\r\n  \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nextra dependencies: \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t    &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n    \t\t\t    &lt;version&gt;0.11.5&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t    &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n    \t\t\t    &lt;version&gt;0.11.5&lt;/version&gt;\r\n    \t\t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t    &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\r\n    \t\t\t    &lt;version&gt;0.11.5&lt;/version&gt;\r\n    \t\t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n\r\n","title":"i have a spring boot app with JWT token and im giving an arror","body":"<p>Make sure you added all the required dependencies:</p>\n<p>add these dependencies, and  make sure you add the jwt dependencies below as well:</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>extra dependencies:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n                &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n                &lt;version&gt;0.11.5&lt;/version&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\n                &lt;version&gt;0.11.5&lt;/version&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24007213,"reputation":15,"user_id":19441686,"display_name":"Anxheloo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1520,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74266615,"answer_count":2,"score":-1,"last_activity_date":1667236657,"creation_date":1667234673,"question_id":74266566,"body_markdown":"i am trying to build a spring boot app using JWT token, but it shows me this error\r\n\r\n\r\n\r\n```\r\njava.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat io.jsonwebtoken.impl.DefaultJwtBuilder.signWith(DefaultJwtBuilder.java:99) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat com.JavaInUseSpringSECURITY.JavaInUseSpringSECURITY.JWTTOKEN.JwtUtil.doGenerateToken(JwtUtil.java:49) ~[classes/:na]\r\n\tat com.JavaInUseSpringSECURITY.JavaInUseSpringSECURITY.JWTTOKEN.JwtUtil.generateToken(JwtUtil.java:43) ~[classes/:na]\r\n```\r\n\r\n--------------------------------------------------------------------------------------------\r\n\r\n\r\nthe JwtUtil class is :  I am following everything from a guy using this strategy: \r\nhttps://www.javainuse.com/webseries/spring-security-jwt/chap4\r\n\r\n```\r\n@Service\r\npublic class JwtUtil {\r\n\r\n    private String secret;\r\n    private int jwtExpirationInMs;\r\n\r\n    @Value(&quot;${jwt.secret}&quot;)\r\n    public void setSecret(String secret) {\r\n        this.secret = secret;\r\n    }\r\n\r\n    @Value(&quot;${jwt.jwtExpirationInMs}&quot;)\r\n    public void setJwtExpirationInMs(int jwtExpirationInMs) {\r\n        this.jwtExpirationInMs = jwtExpirationInMs;\r\n    }\r\n\r\n    // generate token for user\r\n    public String generateToken(UserDetails userDetails) {\r\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n        Collection&lt;? extends GrantedAuthority&gt; roles = userDetails.getAuthorities();\r\n        if (roles.contains(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;))) {\r\n            claims.put(&quot;isAdmin&quot;, true);\r\n        }\r\n        if (roles.contains(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;))) {\r\n            claims.put(&quot;isUser&quot;, true);\r\n        }\r\n        return doGenerateToken(claims, userDetails.getUsername());\r\n    }\r\n\r\n\r\n    private String doGenerateToken(Map&lt;String, Object&gt; claims, String subject) {\r\n\r\n        return Jwts.builder().setClaims(claims).setSubject(subject)\r\n.setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + jwtExpirationInMs)).signWith(SignatureAlgorithm.HS512, secret).compact();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI was expecting to get the token from postman using POST,BODY,JSON and giving username and password,\r\nbut i am getting : \r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-10-31T16:35:00.188+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/authenticate&quot;\r\n}\r\n```\r\n","title":"i have a spring boot app with JWT token and im giving an arror","body":"<p>i am trying to build a spring boot app using JWT token, but it shows me this error</p>\n<pre><code>java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26) ~[jjwt-0.9.1.jar:0.9.1]\n    at io.jsonwebtoken.impl.DefaultJwtBuilder.signWith(DefaultJwtBuilder.java:99) ~[jjwt-0.9.1.jar:0.9.1]\n    at com.JavaInUseSpringSECURITY.JavaInUseSpringSECURITY.JWTTOKEN.JwtUtil.doGenerateToken(JwtUtil.java:49) ~[classes/:na]\n    at com.JavaInUseSpringSECURITY.JavaInUseSpringSECURITY.JWTTOKEN.JwtUtil.generateToken(JwtUtil.java:43) ~[classes/:na]\n</code></pre>\n<hr />\n<p>the JwtUtil class is :  I am following everything from a guy using this strategy:\n<a href=\"https://www.javainuse.com/webseries/spring-security-jwt/chap4\" rel=\"nofollow noreferrer\">https://www.javainuse.com/webseries/spring-security-jwt/chap4</a></p>\n<pre><code>@Service\npublic class JwtUtil {\n\n    private String secret;\n    private int jwtExpirationInMs;\n\n    @Value(&quot;${jwt.secret}&quot;)\n    public void setSecret(String secret) {\n        this.secret = secret;\n    }\n\n    @Value(&quot;${jwt.jwtExpirationInMs}&quot;)\n    public void setJwtExpirationInMs(int jwtExpirationInMs) {\n        this.jwtExpirationInMs = jwtExpirationInMs;\n    }\n\n    // generate token for user\n    public String generateToken(UserDetails userDetails) {\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        Collection&lt;? extends GrantedAuthority&gt; roles = userDetails.getAuthorities();\n        if (roles.contains(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;))) {\n            claims.put(&quot;isAdmin&quot;, true);\n        }\n        if (roles.contains(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;))) {\n            claims.put(&quot;isUser&quot;, true);\n        }\n        return doGenerateToken(claims, userDetails.getUsername());\n    }\n\n\n    private String doGenerateToken(Map&lt;String, Object&gt; claims, String subject) {\n\n        return Jwts.builder().setClaims(claims).setSubject(subject)\n.setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + jwtExpirationInMs)).signWith(SignatureAlgorithm.HS512, secret).compact();\n    }\n\n}\n</code></pre>\n<p>I was expecting to get the token from postman using POST,BODY,JSON and giving username and password,\nbut i am getting :</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-10-31T16:35:00.188+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/authenticate&quot;\n}\n</code></pre>\n"},{"tags":["java","openmpi"],"answers":[{"tags":[],"owner":{"account_id":23106161,"reputation":1,"user_id":17214748,"display_name":"Petrenko.Pavlo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634851648,"creation_date":1634851648,"answer_id":69668984,"question_id":69511226,"body_markdown":"try:\r\nmpirun -np 1 java -cp /Users/user/dap/target/classes com/mathpar/NAUKMA/examples/HelloWorldParallel","title":"java.lang.NoClassDefFoundError: mpi/MPIException","body":"<p>try:\nmpirun -np 1 java -cp /Users/user/dap/target/classes com/mathpar/NAUKMA/examples/HelloWorldParallel</p>\n"},{"tags":[],"owner":{"account_id":5538357,"reputation":56,"user_id":4395895,"display_name":"Svetlana K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667236534,"creation_date":1667236534,"answer_id":74266903,"question_id":69511226,"body_markdown":"It works for me:\r\n\r\nUsers/!!user!!/openmpi/bin/mpirun --hostfile  /Users/!!user!!/dap/hostfile -np 8 java -cp  /Users/!!user!!/dap/target/classes com/mathpar/NAUKMA/examples/HelloWorldParallel\r\n\r\n","title":"java.lang.NoClassDefFoundError: mpi/MPIException","body":"<p>It works for me:</p>\n<p>Users/!!user!!/openmpi/bin/mpirun --hostfile  /Users/!!user!!/dap/hostfile -np 8 java -cp  /Users/!!user!!/dap/target/classes com/mathpar/NAUKMA/examples/HelloWorldParallel</p>\n"}],"owner":{"account_id":22991325,"reputation":1,"user_id":17116776,"display_name":"Boiko Danylo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667236534,"creation_date":1633822372,"question_id":69511226,"body_markdown":"I want to use open-mpi for java.\r\nI got the last version of open-mpi here https://www.open-mpi.org/software/ompi/v4.1/\r\nThen install it using the next commands:\r\n\r\nsudo ./configure --prefix=/Users/user/openmpi --disable-mpi-fortran --disable-mpi-cxx --disable-mpi-cxx-seek --disable-openib-dynamic-sl --disable-openib-connectx-xrc --disable-openib-udcm --disable-openib-rdmacm --disable-vt --disable-libompitrace --without-slurm --without-lsf --without-tm --without-ugni --without-mx --enable-mpi-java --with-jdk-dir=/Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home/ --with-threads=posix 2&gt;&amp;1 | tee config.out\r\nsudo make -j 4 2&gt;\\&amp;1 | tee make.out \r\nsudo make install 2&gt;\\&amp;1 | tee install.out\r\n\r\nSo, there is mpi.jar in /Users/user/openmpi/lib\r\n\r\nI need to launch a test project from my teacher https://bitbucket.org/mathpar/dap/\r\n\r\nI added mpi.jar to Dependencies in Intellij Idea. Set up $PATH with /Users/user/openmpi/bin\r\n\r\nAfter building the project, I wanna run example target/classes/com/mathpar/NAUKMA/examples/HelloWorldParallel \r\nHere is command: mpirun -np 1 java -cp /Users/user/IdeaProjects/dap/target/classes com/mathpar/NAUKMA/examples/HelloWorldParallel\r\n\r\nI got: Error: Unable to initialize main class com.mathpar.NAUKMA.examples.HelloWorldParallel\r\nCaused by: java.lang.NoClassDefFoundError: mpi/MPIException\r\n\r\nI was trying to change either of params (-cp Classpath or path to file), but I got e.g.: Error: Could not find or load main class com.mathpar.NAUKMA.examples.HelloWorldParallel.java\r\nCaused by: java.lang.ClassNotFoundException: com.mathpar.NAUKMA.examples.HelloWorldParallel.java\r\n\r\nSo I think that problem not in paths\r\n\r\nIf you need more information, you are welcome\r\n\r\nHere is com.mathpar.NAUKMA.examples.HelloWorldParallel:\r\n```\r\npackage com.mathpar.NAUKMA.examples;\r\n\r\nimport mpi.*;\r\n\r\npublic class HelloWorldParallel {\r\n    public static void main(String[] args) throws MPIException {\r\n        //iнiцiалiзацiя паралельної частини\r\n        MPI.Init(args);\r\n        //визначення номера процесора\r\n        int myrank = MPI.COMM_WORLD.getRank();\r\n        System.out.println(&quot;Proc num &quot; + myrank + &quot; Hello World&quot;);\r\n        //завершення паралельної частини\r\n        MPI.Finalize();\r\n    }\r\n}\r\n```","title":"java.lang.NoClassDefFoundError: mpi/MPIException","body":"<p>I want to use open-mpi for java.\nI got the last version of open-mpi here <a href=\"https://www.open-mpi.org/software/ompi/v4.1/\" rel=\"nofollow noreferrer\">https://www.open-mpi.org/software/ompi/v4.1/</a>\nThen install it using the next commands:</p>\n<p>sudo ./configure --prefix=/Users/user/openmpi --disable-mpi-fortran --disable-mpi-cxx --disable-mpi-cxx-seek --disable-openib-dynamic-sl --disable-openib-connectx-xrc --disable-openib-udcm --disable-openib-rdmacm --disable-vt --disable-libompitrace --without-slurm --without-lsf --without-tm --without-ugni --without-mx --enable-mpi-java --with-jdk-dir=/Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home/ --with-threads=posix 2&gt;&amp;1 | tee config.out\nsudo make -j 4 2&gt;&amp;1 | tee make.out\nsudo make install 2&gt;&amp;1 | tee install.out</p>\n<p>So, there is mpi.jar in /Users/user/openmpi/lib</p>\n<p>I need to launch a test project from my teacher <a href=\"https://bitbucket.org/mathpar/dap/\" rel=\"nofollow noreferrer\">https://bitbucket.org/mathpar/dap/</a></p>\n<p>I added mpi.jar to Dependencies in Intellij Idea. Set up $PATH with /Users/user/openmpi/bin</p>\n<p>After building the project, I wanna run example target/classes/com/mathpar/NAUKMA/examples/HelloWorldParallel\nHere is command: mpirun -np 1 java -cp /Users/user/IdeaProjects/dap/target/classes com/mathpar/NAUKMA/examples/HelloWorldParallel</p>\n<p>I got: Error: Unable to initialize main class com.mathpar.NAUKMA.examples.HelloWorldParallel\nCaused by: java.lang.NoClassDefFoundError: mpi/MPIException</p>\n<p>I was trying to change either of params (-cp Classpath or path to file), but I got e.g.: Error: Could not find or load main class com.mathpar.NAUKMA.examples.HelloWorldParallel.java\nCaused by: java.lang.ClassNotFoundException: com.mathpar.NAUKMA.examples.HelloWorldParallel.java</p>\n<p>So I think that problem not in paths</p>\n<p>If you need more information, you are welcome</p>\n<p>Here is com.mathpar.NAUKMA.examples.HelloWorldParallel:</p>\n<pre><code>package com.mathpar.NAUKMA.examples;\n\nimport mpi.*;\n\npublic class HelloWorldParallel {\n    public static void main(String[] args) throws MPIException {\n        //iнiцiалiзацiя паралельної частини\n        MPI.Init(args);\n        //визначення номера процесора\n        int myrank = MPI.COMM_WORLD.getRank();\n        System.out.println(&quot;Proc num &quot; + myrank + &quot; Hello World&quot;);\n        //завершення паралельної частини\n        MPI.Finalize();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","raspberry-pi"],"comments":[{"owner":{"account_id":1940767,"reputation":17954,"user_id":1747018,"accept_rate":100,"display_name":"Yogesh_D"},"score":0,"creation_date":1660659538,"post_id":73375494,"comment_id":129580998,"body_markdown":"Define What you mean by access? Give an example/use-case.","body":"Define What you mean by access? Give an example/use-case."},{"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"score":0,"creation_date":1660660376,"post_id":73375494,"comment_id":129581369,"body_markdown":"you could create a local web service on the pi and only allow connections from localhost. Call the local web services to control the pins from the spring boot application via REST","body":"you could create a local web service on the pi and only allow connections from localhost. Call the local web services to control the pins from the spring boot application via REST"},{"owner":{"account_id":20862795,"reputation":15,"user_id":15324607,"display_name":"Fryzjerro"},"score":0,"creation_date":1660676888,"post_id":73375494,"comment_id":129587413,"body_markdown":"@Yogesh_D I have given the context - I need to control DC engines via REST API","body":"@Yogesh_D I have given the context - I need to control DC engines via REST API"},{"owner":{"account_id":20862795,"reputation":15,"user_id":15324607,"display_name":"Fryzjerro"},"score":0,"creation_date":1660676894,"post_id":73375494,"comment_id":129587416,"body_markdown":"@codebrane so it is possible to control the pins from within the spring boot app, right?","body":"@codebrane so it is possible to control the pins from within the spring boot app, right?"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1660718276,"post_id":73375494,"comment_id":129595501,"body_markdown":"Please check this example which is a combination of heading + spring + pi4j https://foojay.io/today/blink-a-led-on-raspberry-pi-with-vaadin/ that shows you can indeed use spring with pi4j on the raspberry pi","body":"Please check this example which is a combination of heading + spring + pi4j <a href=\"https://foojay.io/today/blink-a-led-on-raspberry-pi-with-vaadin/\" rel=\"nofollow noreferrer\">foojay.io/today/blink-a-led-on-raspberry-pi-with-vaadin</a> that shows you can indeed use spring with pi4j on the raspberry pi"}],"answers":[{"tags":[],"owner":{"account_id":1940767,"reputation":17954,"user_id":1747018,"accept_rate":100,"display_name":"Yogesh_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660715554,"creation_date":1660715554,"answer_id":73383474,"question_id":73375494,"body_markdown":"What I understand you want to do is:\r\n\r\nHave a Web/Rest Application running on a Pi that allows you to control things like GPIO, PWN, I2C functionality on the Pi.\r\nThis is possible using pi4j. You can find the details at https://pi4j.com/.\r\n\r\nThis library will allow you to control things like [GPIO][1], [PWM][2], [Servos][3]. \r\n\r\nDo note that I am not sure of the intricacies of running this pi4j based application inside a docker container as it requires access to native system which will be abstracted out in the docker env. \r\n\r\nI would suggest building a regular app running natively and then work on moving it into a docker image. \r\n\r\nNote: By DC Engine I am assuming you mean DC Motors.\r\n\r\n\r\n  [1]: https://pi4j.com/documentation/io-examples/digital-output/\r\n  [2]: https://pi4j.com/documentation/io-examples/pwm/\r\n  [3]: https://pi4j.com/documentation/device-examples/components/servo/","title":"Access Raspberry Pi modules from Spring Boot application","body":"<p>What I understand you want to do is:</p>\n<p>Have a Web/Rest Application running on a Pi that allows you to control things like GPIO, PWN, I2C functionality on the Pi.\nThis is possible using pi4j. You can find the details at <a href=\"https://pi4j.com/\" rel=\"nofollow noreferrer\">https://pi4j.com/</a>.</p>\n<p>This library will allow you to control things like <a href=\"https://pi4j.com/documentation/io-examples/digital-output/\" rel=\"nofollow noreferrer\">GPIO</a>, <a href=\"https://pi4j.com/documentation/io-examples/pwm/\" rel=\"nofollow noreferrer\">PWM</a>, <a href=\"https://pi4j.com/documentation/device-examples/components/servo/\" rel=\"nofollow noreferrer\">Servos</a>.</p>\n<p>Do note that I am not sure of the intricacies of running this pi4j based application inside a docker container as it requires access to native system which will be abstracted out in the docker env.</p>\n<p>I would suggest building a regular app running natively and then work on moving it into a docker image.</p>\n<p>Note: By DC Engine I am assuming you mean DC Motors.</p>\n"},{"tags":[],"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667236503,"creation_date":1660715962,"answer_id":73383524,"question_id":73375494,"body_markdown":"Using Pi4J you could access the GPIO pins directly, [example here][1]. You could [build Pi4J in a docker container][2] and put the Spring boot app in the same container and [allow the container to access the GPIO pins][3].\r\n\r\nThat would be the backend implementation. For the the client facing implementation you could create a REST API in the Spring boot app, e.g.:\r\n\r\n    GET https://your.rpi.com/engine/{name}/\r\n\r\nwhich returns JSON status of engine\r\ne.g.\r\n\r\n    https://your.rpi.com/engine/airconditioning/\r\nreturns:\r\n\r\n{\r\n  &quot;status&quot;: &quot;running&quot;\r\n}\r\n\r\nthen:\r\n\r\n    PUT https://your.rpi.com/engine/airconditioning/start\r\n    PUT https://your.rpi.com/engine/airconditioning/stop\r\n\r\nalthough the above are not strictly REST. They are RPC.\r\n\r\nOr PUT to a control endpoint:\r\n\r\n    PUT https://your.rpi.com/engine/airconditioning/\r\n\r\nwith the content:\r\n\r\n    {\r\n      &quot;command&quot;: &quot;start|stop&quot;\r\n    }\r\n\r\nPUT would be a better choice as POST is used in REST to create a new resource. You would be changing the status of an existing resource, i.e. an engine.\r\n\r\nThe code that implements the endpoints e.g.\r\n\r\n    https://your.rpi.com/engine/{name}/\r\n\r\nwould be where the Pi4J integration was implemented.\r\n\r\n  [1]: https://pi4j.com/getting-started/minimal-example-application/\r\n  [2]: https://pi4j.com/architecture/about-the-code/build-instructions/#building-with-docker\r\n  [3]: https://stackoverflow.com/q/30059784/4294399\r\n\r\n\r\n","title":"Access Raspberry Pi modules from Spring Boot application","body":"<p>Using Pi4J you could access the GPIO pins directly, <a href=\"https://pi4j.com/getting-started/minimal-example-application/\" rel=\"nofollow noreferrer\">example here</a>. You could <a href=\"https://pi4j.com/architecture/about-the-code/build-instructions/#building-with-docker\" rel=\"nofollow noreferrer\">build Pi4J in a docker container</a> and put the Spring boot app in the same container and <a href=\"https://stackoverflow.com/q/30059784/4294399\">allow the container to access the GPIO pins</a>.</p>\n<p>That would be the backend implementation. For the the client facing implementation you could create a REST API in the Spring boot app, e.g.:</p>\n<pre><code>GET https://your.rpi.com/engine/{name}/\n</code></pre>\n<p>which returns JSON status of engine\ne.g.</p>\n<pre><code>https://your.rpi.com/engine/airconditioning/\n</code></pre>\n<p>returns:</p>\n<p>{\n&quot;status&quot;: &quot;running&quot;\n}</p>\n<p>then:</p>\n<pre><code>PUT https://your.rpi.com/engine/airconditioning/start\nPUT https://your.rpi.com/engine/airconditioning/stop\n</code></pre>\n<p>although the above are not strictly REST. They are RPC.</p>\n<p>Or PUT to a control endpoint:</p>\n<pre><code>PUT https://your.rpi.com/engine/airconditioning/\n</code></pre>\n<p>with the content:</p>\n<pre><code>{\n  &quot;command&quot;: &quot;start|stop&quot;\n}\n</code></pre>\n<p>PUT would be a better choice as POST is used in REST to create a new resource. You would be changing the status of an existing resource, i.e. an engine.</p>\n<p>The code that implements the endpoints e.g.</p>\n<pre><code>https://your.rpi.com/engine/{name}/\n</code></pre>\n<p>would be where the Pi4J integration was implemented.</p>\n"}],"owner":{"account_id":20862795,"reputation":15,"user_id":15324607,"display_name":"Fryzjerro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73383474,"answer_count":2,"score":0,"last_activity_date":1667236503,"creation_date":1660659358,"question_id":73375494,"body_markdown":"Is it possible to access Raspberry Pi from a Spring Boot Application (possibly running on docker container on that RPi), for example using Pi4J or do I need to create an itermediary app that would communicate with the spring boot app?\r\n\r\nFor context - I need to create a web application that would allow remote control of several DC Engines.","title":"Access Raspberry Pi modules from Spring Boot application","body":"<p>Is it possible to access Raspberry Pi from a Spring Boot Application (possibly running on docker container on that RPi), for example using Pi4J or do I need to create an itermediary app that would communicate with the spring boot app?</p>\n<p>For context - I need to create a web application that would allow remote control of several DC Engines.</p>\n"},{"tags":["java","spring","maven","netty","alfresco"],"answers":[{"comments":[{"owner":{"account_id":8731862,"reputation":25,"user_id":6531614,"display_name":"Akagitsune"},"score":0,"creation_date":1667295575,"post_id":74266755,"comment_id":131129336,"body_markdown":"It sadly throws the same exception. This is really a weird one as nothing seems to fix it.","body":"It sadly throws the same exception. This is really a weird one as nothing seems to fix it."}],"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667235603,"creation_date":1667235603,"answer_id":74266755,"question_id":74265917,"body_markdown":"This is very hard to debug, but it&#39;s usually a dependency conflict.\r\n\r\nIn your pom.xml try to exclude nitty from webflex dependency add the following to your webflex dependency.\r\n\r\n    &lt;exclusions&gt;\r\n       &lt;exclusion&gt;\r\n          &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n           &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n\r\nthen add netty dependency separately, go to [mvn Repository][1] and search for the netty dependency that suit you. or try this one.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n      &lt;version&gt;4.1.42.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://mvnrepository.com/search?q=netty","title":"Alfresco &#39;java.lang.NoSuchMethodError: &#39;void io.netty.handler.logging.LoggingHandler&#39; with Spring Webflux Starter","body":"<p>This is very hard to debug, but it's usually a dependency conflict.</p>\n<p>In your pom.xml try to exclude nitty from webflex dependency add the following to your webflex dependency.</p>\n<pre><code>&lt;exclusions&gt;\n   &lt;exclusion&gt;\n      &lt;artifactId&gt;*&lt;/artifactId&gt;\n       &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n<p>then add netty dependency separately, go to <a href=\"https://mvnrepository.com/search?q=netty\" rel=\"nofollow noreferrer\">mvn Repository</a> and search for the netty dependency that suit you. or try this one.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.netty&lt;/groupId&gt;\n  &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n  &lt;version&gt;4.1.42.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8731862,"reputation":25,"user_id":6531614,"display_name":"Akagitsune"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667235603,"creation_date":1667231710,"question_id":74265917,"body_markdown":"I get a ```java.lang.NoSuchMethodError: &#39;void io.netty.handler.logging.LoggingHandler``` exception when starting Alfresco but already cleaned my dependencies and only get ```io.netty``` dependencies from Spring Boot Starter Webflux.   \r\n\r\nMy stack trace is [here][1]  \r\nDependency tree [here][2]\r\n\r\nI don&#39;t really know what to do now because nothing seems to work out. The whole app runs on Docker and everything worked fine before we used the WebClient from Webflux.\r\n\r\n\r\n  [1]: https://pastebin.com/SrhV0uer\r\n  [2]: https://pastebin.com/hH0JL97Y","title":"Alfresco &#39;java.lang.NoSuchMethodError: &#39;void io.netty.handler.logging.LoggingHandler&#39; with Spring Webflux Starter","body":"<p>I get a <code>java.lang.NoSuchMethodError: 'void io.netty.handler.logging.LoggingHandler</code> exception when starting Alfresco but already cleaned my dependencies and only get <code>io.netty</code> dependencies from Spring Boot Starter Webflux.</p>\n<p>My stack trace is <a href=\"https://pastebin.com/SrhV0uer\" rel=\"nofollow noreferrer\">here</a><br />\nDependency tree <a href=\"https://pastebin.com/hH0JL97Y\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I don't really know what to do now because nothing seems to work out. The whole app runs on Docker and everything worked fine before we used the WebClient from Webflux.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-secrets-manager"],"answers":[{"comments":[{"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"score":0,"creation_date":1667354648,"post_id":74266649,"comment_id":131146212,"body_markdown":"Our application is hosted as a jar on EC2 instances. How can we trigger event to all servers in load balanced target group?","body":"Our application is hosted as a jar on EC2 instances. How can we trigger event to all servers in load balanced target group?"},{"owner":{"account_id":14618815,"reputation":1094,"user_id":10558160,"display_name":"Chuong Nguyen"},"score":0,"creation_date":1667355417,"post_id":74266649,"comment_id":131146311,"body_markdown":"It&#39;s another thing @Manel. The flow above is to trigger the change based on SecretManager update. And then what you need to do next is about how you deploy your applications. It should be complicated or simple depends on how much downtime you can handle. Simple flow is just cp the jar file tp all EC2s and then replace the old one. Complicated flow is yeah, much more scripts","body":"It&#39;s another thing @Manel. The flow above is to trigger the change based on SecretManager update. And then what you need to do next is about how you deploy your applications. It should be complicated or simple depends on how much downtime you can handle. Simple flow is just cp the jar file tp all EC2s and then replace the old one. Complicated flow is yeah, much more scripts"}],"tags":[],"owner":{"account_id":14618815,"reputation":1094,"user_id":10558160,"display_name":"Chuong Nguyen"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667235087,"creation_date":1667235087,"answer_id":74266649,"question_id":74266548,"body_markdown":"You can go with AWS EventBridge to trigger Lambda function to update your application:\r\nThe event pattern will be like this:\r\n```\r\n{\r\n  &quot;detail-type&quot;: [\r\n    &quot;AWS API Call via CloudTrail&quot;\r\n  ],\r\n  &quot;detail&quot;: {\r\n    &quot;eventSource&quot;: [\r\n      &quot;secretsmanager.amazonaws.com&quot;\r\n    ],\r\n    &quot;eventName&quot;: [\r\n      &quot;UpdateSecret&quot;,\r\n      &quot;PutSecretValue&quot;\r\n    ],\r\n    &quot;requestParameters&quot;: {\r\n      &quot;secretId&quot;: [\r\n        &quot;arn:aws:secretsmanager:*:*:secret:secret_name&quot;\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nYou need to configure this event to trigger your Lambda function to restart the ECS tasks or EKS pods or whatever you want.","title":"Spring Boot - Detect change in AWS secret manager","body":"<p>You can go with AWS EventBridge to trigger Lambda function to update your application:\nThe event pattern will be like this:</p>\n<pre><code>{\n  &quot;detail-type&quot;: [\n    &quot;AWS API Call via CloudTrail&quot;\n  ],\n  &quot;detail&quot;: {\n    &quot;eventSource&quot;: [\n      &quot;secretsmanager.amazonaws.com&quot;\n    ],\n    &quot;eventName&quot;: [\n      &quot;UpdateSecret&quot;,\n      &quot;PutSecretValue&quot;\n    ],\n    &quot;requestParameters&quot;: {\n      &quot;secretId&quot;: [\n        &quot;arn:aws:secretsmanager:*:*:secret:secret_name&quot;\n      ]\n    }\n  }\n}\n</code></pre>\n<p>You need to configure this event to trigger your Lambda function to restart the ECS tasks or EKS pods or whatever you want.</p>\n"}],"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667235087,"creation_date":1667234586,"question_id":74266548,"body_markdown":"We have a spring boot application which uses AWS secret manager to store various secrets, and when the application starts we load all the secrets in map and use them to avoid cost involved in querying secret manager for each request. So any change in AWS secret manager would need redeployment/restart of the application.\r\n\r\nSo is there a way to detect the change/addition in secrets stored in secret manager, and refresh the application with new values, some sort of event driven method? Other option is to cache the secrets for certain interval and reload them after interval is completed. But I prefer first approach to reload secrets only when it is changed/added. Or is there any better way to handle this?\r\n\r\n","title":"Spring Boot - Detect change in AWS secret manager","body":"<p>We have a spring boot application which uses AWS secret manager to store various secrets, and when the application starts we load all the secrets in map and use them to avoid cost involved in querying secret manager for each request. So any change in AWS secret manager would need redeployment/restart of the application.</p>\n<p>So is there a way to detect the change/addition in secrets stored in secret manager, and refresh the application with new values, some sort of event driven method? Other option is to cache the secrets for certain interval and reload them after interval is completed. But I prefer first approach to reload secrets only when it is changed/added. Or is there any better way to handle this?</p>\n"},{"tags":["java","graphics","drawing","drawing2d"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667234515,"post_id":74266020,"comment_id":131116972,"body_markdown":"*g.drawString(iValue, cornerX - 29, cornerY - 8);* When `i` is zero, those values will be negative and thus off-screen. e.g. `cornerX` = 0 * 50 = 0","body":"<i>g.drawString(iValue, cornerX - 29, cornerY - 8);</i> When <code>i</code> is zero, those values will be negative and thus off-screen. e.g. <code>cornerX</code> = 0 * 50 = 0"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1667234536,"post_id":74266020,"comment_id":131116982,"body_markdown":"Your x/y coordinates are incorrect. Read the API for the `drawString(...)` method. The coordinates should be bottom/left not top/left. Also, don&#39;t use `getGraphics()` to do custom painting. Read the Swing tutorial on [Custom Paintng](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for the proper way to do this.","body":"Your x/y coordinates are incorrect. Read the API for the <code>drawString(...)</code> method. The coordinates should be bottom/left not top/left. Also, don&#39;t use <code>getGraphics()</code> to do custom painting. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Paintng</a> for the proper way to do this."}],"owner":{"account_id":26786829,"reputation":1,"user_id":20380887,"display_name":"Everything Is Pain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667234895,"creation_date":1667232226,"question_id":74266020,"body_markdown":"I&#39;m trying to make a drawing panel that draws little circles with numbers in it, going from 0 to 9. However, the for loop, for one reason or another, keeps skipping 0. I&#39;ve tried setting i to -1, but that doesn&#39;t change anything. Conversely when I set the condition to i &lt; 11, it draws all numbers from 1 to 10.\r\n\r\nHere&#39;s the code so far:\r\n\r\n`\r\n```\r\n// Draws boxed ovals using a while loop.\r\nimport java.awt.*;\r\n\r\npublic class DrawLoop \r\n{\r\n    public static void main(String[] args) \r\n    {\r\n        DrawingPanel panel = new DrawingPanel(502, 252);\r\n        panel.setBackground(Color.CYAN);\r\n        Graphics g = panel.getGraphics();\r\n        \r\n        String iValue = &quot;&quot;;\r\n        int sizeX = 50;  // size of boxes\r\n        int sizeY = 25;\r\n        int i;\r\n        for (i = 0; i &lt; 10; i++) { // start at i = 0 \r\n            int cornerX = i*50;  // calculate upper left corner\r\n            int cornerY = i*25;\r\n            g.setColor(Color.WHITE);\r\n            g.fillOval(cornerX + 5, cornerY + 5, sizeX-10, sizeY-10);\r\n            g.setColor(Color.BLACK);\r\n            g.drawRect(cornerX, cornerY, sizeX, sizeY);\r\n            iValue = &quot;&quot; + i;\r\n            g.drawString(iValue, cornerX - 29, cornerY - 8);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n`\r\n\r\nTried to make a drawing panel that drew numbers from 0-9, loop skips 0 and only does 1-9.","title":"Need to draw 0 in a for loop, but it keeps getting skipped","body":"<p>I'm trying to make a drawing panel that draws little circles with numbers in it, going from 0 to 9. However, the for loop, for one reason or another, keeps skipping 0. I've tried setting i to -1, but that doesn't change anything. Conversely when I set the condition to i &lt; 11, it draws all numbers from 1 to 10.</p>\n<p>Here's the code so far:</p>\n<p>`</p>\n<pre><code>// Draws boxed ovals using a while loop.\nimport java.awt.*;\n\npublic class DrawLoop \n{\n    public static void main(String[] args) \n    {\n        DrawingPanel panel = new DrawingPanel(502, 252);\n        panel.setBackground(Color.CYAN);\n        Graphics g = panel.getGraphics();\n        \n        String iValue = &quot;&quot;;\n        int sizeX = 50;  // size of boxes\n        int sizeY = 25;\n        int i;\n        for (i = 0; i &lt; 10; i++) { // start at i = 0 \n            int cornerX = i*50;  // calculate upper left corner\n            int cornerY = i*25;\n            g.setColor(Color.WHITE);\n            g.fillOval(cornerX + 5, cornerY + 5, sizeX-10, sizeY-10);\n            g.setColor(Color.BLACK);\n            g.drawRect(cornerX, cornerY, sizeX, sizeY);\n            iValue = &quot;&quot; + i;\n            g.drawString(iValue, cornerX - 29, cornerY - 8);\n        }\n    }\n}\n\n</code></pre>\n<p>`</p>\n<p>Tried to make a drawing panel that drew numbers from 0-9, loop skips 0 and only does 1-9.</p>\n"},{"tags":["java","sql","spring","jpa","nosql"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1667237606,"post_id":74266601,"comment_id":131118068,"body_markdown":"From what database query language is `stuff-&gt;&#39;action&#39;-&gt;&gt;&#39;actionId&#39; = &#39;123&#39;` ... or is that something you made up?","body":"From what database query language is <code>stuff-&gt;&#39;action&#39;-&gt;&gt;&#39;actionId&#39; = &#39;123&#39;</code> ... or is that something you made up?"},{"owner":{"account_id":8901278,"reputation":107,"user_id":6667892,"display_name":"regamblr"},"score":0,"creation_date":1667244470,"post_id":74266601,"comment_id":131120069,"body_markdown":"it&#39;s postgres sql, and it works. It is used to query a column which is jsonb. I know it isn&#39;t strict sql, but it also isn&#39;t strictly nosql from my limited understanding @JimGarrison","body":"it&#39;s postgres sql, and it works. It is used to query a column which is jsonb. I know it isn&#39;t strict sql, but it also isn&#39;t strictly nosql from my limited understanding @JimGarrison"},{"owner":{"account_id":6563,"reputation":5210,"user_id":11092,"accept_rate":100,"display_name":"Adisesha"},"score":1,"creation_date":1667287924,"post_id":74266601,"comment_id":131127439,"body_markdown":"This answer may help you, https://stackoverflow.com/questions/43900457/how-do-i-use-spring-data-jpa-to-query-jsonb-column","body":"This answer may help you, <a href=\"https://stackoverflow.com/questions/43900457/how-do-i-use-spring-data-jpa-to-query-jsonb-column\" title=\"how do i use spring data jpa to query jsonb column\">stackoverflow.com/questions/43900457/&hellip;</a>"}],"owner":{"account_id":8901278,"reputation":107,"user_id":6667892,"display_name":"regamblr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667234817,"creation_date":1667234817,"question_id":74266601,"body_markdown":"When interacting directly with a sql db (that contain a jsonb column), the query required is:\r\n```\r\nSELECT stuff FROM alerts WHERE id = &#39;12345&#39;\r\nAND (stuff-&gt;&#39;action&#39;-&gt;&gt;&#39;actionId&#39; = &#39;123&#39;)\r\nORDER BY (stuff-&gt;&#39;action&#39;-&gt;&gt;&#39;timestamp&#39;);\r\n```\r\n\r\nThe &#39;stuff&#39; column is jsonb format with nested properties, which is being filtered to only return certain results (actionId = 123 for example).\r\n\r\nI now want to access this using Spring Data JPA. The ability to manipulate a retrieved json with certain parameters being replaced in the query (id and actionId) is the desired outcome.\r\n\r\nThe repository interface which extends JpaRepository can have methods with no body declared, and @Query annotation used on that method. However @Query annotation doesn&#39;t support searching within the json for certain properties. Specifically, the -&gt; operator isn&#39;t recognized, although this may be a syntax issue.\r\n\r\nIs there a standard practice for this type of retrieval of data from sql (that contain a json column) databases?","title":"How to retrieve jsonb data from db using spring jpa?","body":"<p>When interacting directly with a sql db (that contain a jsonb column), the query required is:</p>\n<pre><code>SELECT stuff FROM alerts WHERE id = '12345'\nAND (stuff-&gt;'action'-&gt;&gt;'actionId' = '123')\nORDER BY (stuff-&gt;'action'-&gt;&gt;'timestamp');\n</code></pre>\n<p>The 'stuff' column is jsonb format with nested properties, which is being filtered to only return certain results (actionId = 123 for example).</p>\n<p>I now want to access this using Spring Data JPA. The ability to manipulate a retrieved json with certain parameters being replaced in the query (id and actionId) is the desired outcome.</p>\n<p>The repository interface which extends JpaRepository can have methods with no body declared, and @Query annotation used on that method. However @Query annotation doesn't support searching within the json for certain properties. Specifically, the -&gt; operator isn't recognized, although this may be a syntax issue.</p>\n<p>Is there a standard practice for this type of retrieval of data from sql (that contain a json column) databases?</p>\n"},{"tags":["java","spring","spring-boot","maven","properties-file"],"answers":[{"comments":[{"owner":{"account_id":26786036,"reputation":21,"user_id":20380214,"display_name":"Zdrzalik Przemyslaw"},"score":0,"creation_date":1667236142,"post_id":74266237,"comment_id":131117583,"body_markdown":"Well, yes, obviously setting  the addResources property to true deletes the resource files, as per documentation &quot;Add maven resources to the classpath directly, this allows live in-place editing of\nresources. Duplicate resources are removed from {@code target/classes} to prevent\nthem from appearing twice if {@code ClassLoader.getResources()} is called.&quot;\n\nWhat I would want is to be able to access the properties values from my app when running it from console.","body":"Well, yes, obviously setting  the addResources property to true deletes the resource files, as per documentation &quot;Add maven resources to the classpath directly, this allows live in-place editing of resources. Duplicate resources are removed from {@code target/classes} to prevent them from appearing twice if {@code ClassLoader.getResources()} is called.&quot;  What I would want is to be able to access the properties values from my app when running it from console."},{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1667236456,"post_id":74266237,"comment_id":131117699,"body_markdown":"@ZdrzalikPrzemyslaw you can put your spring version and when your code coud not acces to *.propeties","body":"@ZdrzalikPrzemyslaw you can put your spring version and when your code coud not acces to *.propeties"}],"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667234728,"creation_date":1667233200,"answer_id":74266237,"question_id":74265127,"body_markdown":"When using **`&lt;addResources&gt;true&lt;/addResources&gt;`** the filtering of resources at build time will not work.\r\n\r\n\r\nSample with **`&lt;addResources&gt;true&lt;/addResources&gt;`** :\r\n[![enter image description here][1]][1]\r\n\r\n\r\nSample with **`&lt;addResources&gt;false&lt;/addResources&gt;`** :\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\nYou can put your spring version and the properties files please.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ofcjL.png\r\n  [2]: https://i.stack.imgur.com/yIRsn.png","title":"Java 17 Spring Boot spring-boot-maven-plugin addResources make .properties file unavailable to the application","body":"<p>When using <strong><code>&lt;addResources&gt;true&lt;/addResources&gt;</code></strong> the filtering of resources at build time will not work.</p>\n<p>Sample with <strong><code>&lt;addResources&gt;true&lt;/addResources&gt;</code></strong> :\n<a href=\"https://i.stack.imgur.com/ofcjL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ofcjL.png\" alt=\"enter image description here\" /></a></p>\n<p>Sample with <strong><code>&lt;addResources&gt;false&lt;/addResources&gt;</code></strong> :\n<a href=\"https://i.stack.imgur.com/yIRsn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yIRsn.png\" alt=\"enter image description here\" /></a></p>\n<p>You can put your spring version and the properties files please.</p>\n"}],"owner":{"account_id":26786036,"reputation":21,"user_id":20380214,"display_name":"Zdrzalik Przemyslaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667234728,"creation_date":1667227928,"question_id":74265127,"body_markdown":"I&#39;m currently working on a spring-boot project.\r\n\r\nWe use thymeleaf templates for our admin panel. In order to enable hot-reload we&#39;ve used the spring-boot-maven plugin like so:\r\n\r\n```\r\nplugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;addResources&gt;true&lt;/addResources&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe addResources property adds all resources to the classpath directly, enabling us to hot reload any thymeleaf template after saving the file. Everything works well when deploying into an Application server or running the app with InteliJ spring boot run configuration. However, attempting to run the application from the command line like so:\r\n\r\n```\r\nmvn clean package spring-boot:run -P dev\r\n```\r\n\r\nresults in the application not being able to access the .properties files.\r\n\r\nObviously swapping the addResources property to false fixes the issue, with the cost of no longer being able to hot-reload the files. Is there a way to achieve this hot-reload functionality while being able to access the .property files?","title":"Java 17 Spring Boot spring-boot-maven-plugin addResources make .properties file unavailable to the application","body":"<p>I'm currently working on a spring-boot project.</p>\n<p>We use thymeleaf templates for our admin panel. In order to enable hot-reload we've used the spring-boot-maven plugin like so:</p>\n<pre><code>plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${springboot.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;addResources&gt;true&lt;/addResources&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The addResources property adds all resources to the classpath directly, enabling us to hot reload any thymeleaf template after saving the file. Everything works well when deploying into an Application server or running the app with InteliJ spring boot run configuration. However, attempting to run the application from the command line like so:</p>\n<pre><code>mvn clean package spring-boot:run -P dev\n</code></pre>\n<p>results in the application not being able to access the .properties files.</p>\n<p>Obviously swapping the addResources property to false fixes the issue, with the cost of no longer being able to hot-reload the files. Is there a way to achieve this hot-reload functionality while being able to access the .property files?</p>\n"},{"tags":["java","javafx"],"answers":[{"comments":[{"owner":{"account_id":19504722,"reputation":383,"user_id":14270627,"display_name":"Tech Expert Wizard"},"score":2,"creation_date":1608383448,"post_id":51344773,"comment_id":115569864,"body_markdown":"I&#39;m using a `JFXSlider` and I&#39;m trying to access the track node, but the first solution (the one with `.lookup()`) isn&#39;t working.","body":"I&#39;m using a <code>JFXSlider</code> and I&#39;m trying to access the track node, but the first solution (the one with <code>.lookup()</code>) isn&#39;t working."},{"owner":{"account_id":5211089,"reputation":2867,"user_id":4167500,"display_name":"JKostikiadis"},"score":0,"creation_date":1608385797,"post_id":51344773,"comment_id":115570509,"body_markdown":"@TheTechExpertGuy may I ask why you want to access the track node of JFXSlider? I might be able to help you or to give you a suggestion.","body":"@TheTechExpertGuy may I ask why you want to access the track node of JFXSlider? I might be able to help you or to give you a suggestion."},{"owner":{"account_id":19504722,"reputation":383,"user_id":14270627,"display_name":"Tech Expert Wizard"},"score":0,"creation_date":1608466438,"post_id":51344773,"comment_id":115587386,"body_markdown":"I would like to have a linear gradient from red to orange (or maybe some other color; I&#39;m still finding the exact color I need) for the track node of the `JFXSlider`. Thanks!","body":"I would like to have a linear gradient from red to orange (or maybe some other color; I&#39;m still finding the exact color I need) for the track node of the <code>JFXSlider</code>. Thanks!"},{"owner":{"account_id":19504722,"reputation":383,"user_id":14270627,"display_name":"Tech Expert Wizard"},"score":0,"creation_date":1608472904,"post_id":51344773,"comment_id":115589030,"body_markdown":"I&#39;ve been able to partially solve the problem [using CSS](https://stackoverflow.com/a/44677209/14270627). However, I still have to get rid of the `JFXSlider`&#39;s own green color. I think using a color of `transparent` for that would work, but I don&#39;t know where I can change its own color. Thanks!","body":"I&#39;ve been able to partially solve the problem <a href=\"https://stackoverflow.com/a/44677209/14270627\">using CSS</a>. However, I still have to get rid of the <code>JFXSlider</code>&#39;s own green color. I think using a color of <code>transparent</code> for that would work, but I don&#39;t know where I can change its own color. Thanks!"},{"owner":{"account_id":5211089,"reputation":2867,"user_id":4167500,"display_name":"JKostikiadis"},"score":2,"creation_date":1608475115,"post_id":51344773,"comment_id":115589692,"body_markdown":"@TheTechExpertGuy  It is very easy to implement it ( just did ) you could find all the CSS rules here https://github.com/jfoenixadmin/JFoenix/wiki/Slider . In case you don&#39;t know how to use the css rules in the link, I could provide you with a small example if you create a new post, let me know and i will post a full example there.","body":"@TheTechExpertGuy  It is very easy to implement it ( just did ) you could find all the CSS rules here <a href=\"https://github.com/jfoenixadmin/JFoenix/wiki/Slider\" rel=\"nofollow noreferrer\">github.com/jfoenixadmin/JFoenix/wiki/Slider</a> . In case you don&#39;t know how to use the css rules in the link, I could provide you with a small example if you create a new post, let me know and i will post a full example there."},{"owner":{"account_id":19504722,"reputation":383,"user_id":14270627,"display_name":"Tech Expert Wizard"},"score":0,"creation_date":1608480074,"post_id":51344773,"comment_id":115591155,"body_markdown":"Thanks for the link! I understand how to use the CSS rules in the link. However, I would also like to have the slider&#39;s thumb have the same color as that of the slider at the position of the thumb on the slider. P.S. If you believe that this comment would be better suited as a question, I&#39;ll ask a new question about this. Thanks!","body":"Thanks for the link! I understand how to use the CSS rules in the link. However, I would also like to have the slider&#39;s thumb have the same color as that of the slider at the position of the thumb on the slider. P.S. If you believe that this comment would be better suited as a question, I&#39;ll ask a new question about this. Thanks!"},{"owner":{"account_id":5211089,"reputation":2867,"user_id":4167500,"display_name":"JKostikiadis"},"score":0,"creation_date":1608482456,"post_id":51344773,"comment_id":115591873,"body_markdown":"Oh, now I see what you want to accomplish. I do believe this would be a good question to ask as a new post. I will give it a try to implement it and post an answer if you decided to make a new post ;)","body":"Oh, now I see what you want to accomplish. I do believe this would be a good question to ask as a new post. I will give it a try to implement it and post an answer if you decided to make a new post ;)"},{"owner":{"account_id":19504722,"reputation":383,"user_id":14270627,"display_name":"Tech Expert Wizard"},"score":0,"creation_date":1608507176,"post_id":51344773,"comment_id":115598401,"body_markdown":"Thanks for the suggestion! I just posted a [question](https://stackoverflow.com/questions/65385864) about it.","body":"Thanks for the suggestion! I just posted a <a href=\"https://stackoverflow.com/questions/65385864\">question</a> about it."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667223422,"post_id":51344773,"comment_id":131112708,"body_markdown":"There&#39;s no need to hack this with a lookup. JAvaFX CSS supports &quot;looked-up colors&quot;, which are essentially CSS variables (but unfortunately they are only supported for `Paint` types, not for other types). So you can do this in the CSS file: `.slider { -track-color: /* default value */;} .slider .track { -fx-background-color: -track-color;}` and then in the Java code (i.e. in the slider&#39;s change listener) update the color: `slider.setStyle(&quot;-track-color: /* computed gradient */;&quot;);`.","body":"There&#39;s no need to hack this with a lookup. JAvaFX CSS supports &quot;looked-up colors&quot;, which are essentially CSS variables (but unfortunately they are only supported for <code>Paint</code> types, not for other types). So you can do this in the CSS file: <code>.slider { -track-color: &#47;* default value *&#47;;} .slider .track { -fx-background-color: -track-color;}</code> and then in the Java code (i.e. in the slider&#39;s change listener) update the color: <code>slider.setStyle(&quot;-track-color: &#47;* computed gradient *&#47;;&quot;);</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667234502,"post_id":51344773,"comment_id":131116965,"body_markdown":"I added an answer demonstrating the idea in my previous comment.","body":"I added an answer demonstrating the idea in my previous comment."}],"tags":[],"owner":{"account_id":5211089,"reputation":2867,"user_id":4167500,"display_name":"JKostikiadis"},"comment_count":10,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1531622445,"creation_date":1531621453,"answer_id":51344773,"question_id":51343759,"body_markdown":"**Long post below.. if you want an easy way to achieve the color on your slider I should mention that you can just use the [JFoenix Slider][1] which has the functionalities you need**. \r\n\r\nAlthough there is actually no need to use a 3rd library if you can achieve the same result natively.\r\n\r\nWell, there isn&#39;t any CSS rule like `-fx-progress-color` which you set to a specific color and then you are done. The color of the .track  is set with the CSS rule below : \r\n\r\n    .slider .track {\r\n          -fx-background-color:\r\n              -fx-shadow-highlight-color,\r\n              linear-gradient(to bottom, derive(-fx-text-box-border, -10%), -fx-text-box-border),\r\n              linear-gradient(to bottom,\r\n                derive(-fx-control-inner-background, -9%),\r\n                derive(-fx-control-inner-background, 0%),\r\n                derive(-fx-control-inner-background, -5%),\r\n                derive(-fx-control-inner-background, -12%)\r\n              );\r\n        -fx-background-insets: 0 0 -1 0, 0, 1;\r\n        -fx-background-radius: 0.25em, 0.25em, 0.166667em; /* 3 3 2 */\r\n        -fx-padding: 0.25em; /* 3 */\r\n    }\r\n\r\nThere are few things you need to do, the first one is to listen for value changes of your slider and second to update your track color depending on the slider&#39;s value. To set the background color you will need to set a linear-gradient to the background like  :\r\n\r\n`-fx-background-color: linear-gradient(to right, #2D819D START, #969696 END);`\r\n\r\nWith the code above, you will set a linear gradient background starting from the left to right using the color #2D819D which is the &#39;progress&#39; color and the #969696 which represents the remaining progress. Now the START and the END should be numbers and in order to have the look you want, both numbers must be equal so when the one stops the other starts. For example if you set :\r\n\r\n `-fx-background-color: linear-gradient(to right, #2D819D 20%, #969696 20%);`\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe real challenge is to find a way to set these values programmatically inside the ChangeListener of your slider. My first approach was to use a CSS variable like :\r\n\r\n    .slider .track{\r\n    \t-progress : 0.2;\r\n    \t-fx-background-color: linear-gradient(to right, #2D819D -progress, #969696 -progress);\r\n    }\r\n\r\nAnd to update the `-progress` using inline CSS rules on ChangeListener. Sadly for some reason this is not supported. I would love to find out why too. Also, you can&#39;t apply inline CSS for the subclass, which means you can not do slider.setStyle(&quot;.track {...}&quot;); \r\n\r\nSo to summarize, you could either :\r\n\r\n**1. Access the slider&#39;s track using lookup and apply the CSS directly.** \r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Slider;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class CustomSlider extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            BorderPane mainPane = new BorderPane();\r\n            mainPane.setPadding(new Insets(15));\r\n    \r\n            Slider slider = new Slider();\r\n            slider.setId(&quot;color-slider&quot;);\r\n    \r\n            mainPane.setCenter(slider);\r\n    \r\n            Scene scene = new Scene(mainPane, 250, 400);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            StackPane trackPane = (StackPane) slider.lookup(&quot;.track&quot;);\r\n    \r\n            slider.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n                public void changed(ObservableValue&lt;? extends Number&gt; ov, Number old_val, Number new_val) {\r\n                    String style = String.format(&quot;-fx-background-color: linear-gradient(to right, #2D819D %d%%, #969696 %d%%);&quot;,\r\n                            new_val.intValue(), new_val.intValue());\r\n                    trackPane.setStyle(style);\r\n                }\r\n            });\r\n            \r\n            trackPane.setStyle(&quot;-fx-background-color: linear-gradient(to right, #2D819D 0%, #969696 0%);&quot;);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n**2. Make a custom Slider from scratch (not that hard)**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Slider;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class SliderTest extends Application {\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\tBorderPane mainPane = new BorderPane();\r\n    \t\tmainPane.setPadding(new Insets(15));\r\n    \r\n    \t\tmainPane.setCenter(new ColorSlider());\r\n    \r\n    \t\tScene scene = new Scene(mainPane, 250, 400);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \r\n    \tpublic class ColorSlider extends StackPane {\r\n    \r\n    \t\tpublic ColorSlider() {\r\n    \t\t\tgetStylesheets().add(this.getClass().getResource(&quot;colorSlider.css&quot;).toExternalForm());\r\n    \t\t\tSlider slider = new Slider();\r\n    \t\t\tslider.setId(&quot;color-slider&quot;);\r\n    \r\n    \t\t\t// The rectangle which shows the progress\r\n    \t\t\tRectangle progressRec = new Rectangle();\r\n    \t\t\t// Bind both width and height to match the size of Slider\r\n    \t\t\tprogressRec.heightProperty().bind(slider.heightProperty().subtract(7));\r\n    \t\t\tprogressRec.widthProperty().bind(slider.widthProperty());\r\n    \r\n    \t\t\tprogressRec.setFill(Color.web(&quot;#969696&quot;));\r\n    \r\n    \t\t\t// Make the corners of Rectangle to be rounded\r\n    \t\t\tprogressRec.setArcHeight(15);\r\n    \t\t\tprogressRec.setArcWidth(15);\r\n    \r\n    \t\t\t// Listen on value changes on the slider to update the progress (color)\r\n    \t\t\tslider.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n    \t\t\t\tpublic void changed(ObservableValue&lt;? extends Number&gt; ov, Number old_val, Number new_val) {\r\n    \t\t\t\t\t// Using linear gradient we can fill two colors to show the progress\r\n    \t\t\t\t\t// the new_val gets values between 0 - 100\r\n    \t\t\t\t\tString style = String.format(&quot;-fx-fill: linear-gradient(to right, #2D819D %d%%, #969696 %d%%);&quot;,\r\n    \t\t\t\t\t\t\tnew_val.intValue(), new_val.intValue());\r\n    \t\t\t\t\t// set the Style\r\n    \t\t\t\t\tprogressRec.setStyle(style);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tgetChildren().addAll(progressRec, slider);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\ncolorSlider.css\r\n\r\n    #color-slider .track{\r\n    \t-fx-background-color:transparent;\r\n    }\r\n\r\n\r\n  [1]: https://github.com/jfoenixadmin/JFoenix/wiki/Slider\r\n  [2]: https://i.stack.imgur.com/R8uOd.png","title":"how to change fill color of slider in javafx","body":"<p><strong>Long post below.. if you want an easy way to achieve the color on your slider I should mention that you can just use the <a href=\"https://github.com/jfoenixadmin/JFoenix/wiki/Slider\" rel=\"noreferrer\">JFoenix Slider</a> which has the functionalities you need</strong>. </p>\n\n<p>Although there is actually no need to use a 3rd library if you can achieve the same result natively.</p>\n\n<p>Well, there isn't any CSS rule like <code>-fx-progress-color</code> which you set to a specific color and then you are done. The color of the .track  is set with the CSS rule below : </p>\n\n<pre><code>.slider .track {\n      -fx-background-color:\n          -fx-shadow-highlight-color,\n          linear-gradient(to bottom, derive(-fx-text-box-border, -10%), -fx-text-box-border),\n          linear-gradient(to bottom,\n            derive(-fx-control-inner-background, -9%),\n            derive(-fx-control-inner-background, 0%),\n            derive(-fx-control-inner-background, -5%),\n            derive(-fx-control-inner-background, -12%)\n          );\n    -fx-background-insets: 0 0 -1 0, 0, 1;\n    -fx-background-radius: 0.25em, 0.25em, 0.166667em; /* 3 3 2 */\n    -fx-padding: 0.25em; /* 3 */\n}\n</code></pre>\n\n<p>There are few things you need to do, the first one is to listen for value changes of your slider and second to update your track color depending on the slider's value. To set the background color you will need to set a linear-gradient to the background like  :</p>\n\n<p><code>-fx-background-color: linear-gradient(to right, #2D819D START, #969696 END);</code></p>\n\n<p>With the code above, you will set a linear gradient background starting from the left to right using the color #2D819D which is the 'progress' color and the #969696 which represents the remaining progress. Now the START and the END should be numbers and in order to have the look you want, both numbers must be equal so when the one stops the other starts. For example if you set :</p>\n\n<p><code>-fx-background-color: linear-gradient(to right, #2D819D 20%, #969696 20%);</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/R8uOd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/R8uOd.png\" alt=\"enter image description here\"></a></p>\n\n<p>The real challenge is to find a way to set these values programmatically inside the ChangeListener of your slider. My first approach was to use a CSS variable like :</p>\n\n<pre><code>.slider .track{\n    -progress : 0.2;\n    -fx-background-color: linear-gradient(to right, #2D819D -progress, #969696 -progress);\n}\n</code></pre>\n\n<p>And to update the <code>-progress</code> using inline CSS rules on ChangeListener. Sadly for some reason this is not supported. I would love to find out why too. Also, you can't apply inline CSS for the subclass, which means you can not do slider.setStyle(\".track {...}\"); </p>\n\n<p>So to summarize, you could either :</p>\n\n<p><strong>1. Access the slider's track using lookup and apply the CSS directly.</strong> </p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Slider;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class CustomSlider extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        BorderPane mainPane = new BorderPane();\n        mainPane.setPadding(new Insets(15));\n\n        Slider slider = new Slider();\n        slider.setId(\"color-slider\");\n\n        mainPane.setCenter(slider);\n\n        Scene scene = new Scene(mainPane, 250, 400);\n        stage.setScene(scene);\n        stage.show();\n\n        StackPane trackPane = (StackPane) slider.lookup(\".track\");\n\n        slider.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\n            public void changed(ObservableValue&lt;? extends Number&gt; ov, Number old_val, Number new_val) {\n                String style = String.format(\"-fx-background-color: linear-gradient(to right, #2D819D %d%%, #969696 %d%%);\",\n                        new_val.intValue(), new_val.intValue());\n                trackPane.setStyle(style);\n            }\n        });\n\n        trackPane.setStyle(\"-fx-background-color: linear-gradient(to right, #2D819D 0%, #969696 0%);\");\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p><strong>2. Make a custom Slider from scratch (not that hard)</strong></p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Slider;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class SliderTest extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        BorderPane mainPane = new BorderPane();\n        mainPane.setPadding(new Insets(15));\n\n        mainPane.setCenter(new ColorSlider());\n\n        Scene scene = new Scene(mainPane, 250, 400);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    public class ColorSlider extends StackPane {\n\n        public ColorSlider() {\n            getStylesheets().add(this.getClass().getResource(\"colorSlider.css\").toExternalForm());\n            Slider slider = new Slider();\n            slider.setId(\"color-slider\");\n\n            // The rectangle which shows the progress\n            Rectangle progressRec = new Rectangle();\n            // Bind both width and height to match the size of Slider\n            progressRec.heightProperty().bind(slider.heightProperty().subtract(7));\n            progressRec.widthProperty().bind(slider.widthProperty());\n\n            progressRec.setFill(Color.web(\"#969696\"));\n\n            // Make the corners of Rectangle to be rounded\n            progressRec.setArcHeight(15);\n            progressRec.setArcWidth(15);\n\n            // Listen on value changes on the slider to update the progress (color)\n            slider.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\n                public void changed(ObservableValue&lt;? extends Number&gt; ov, Number old_val, Number new_val) {\n                    // Using linear gradient we can fill two colors to show the progress\n                    // the new_val gets values between 0 - 100\n                    String style = String.format(\"-fx-fill: linear-gradient(to right, #2D819D %d%%, #969696 %d%%);\",\n                            new_val.intValue(), new_val.intValue());\n                    // set the Style\n                    progressRec.setStyle(style);\n                }\n            });\n\n            getChildren().addAll(progressRec, slider);\n        }\n    }\n}\n</code></pre>\n\n<p>colorSlider.css</p>\n\n<pre><code>#color-slider .track{\n    -fx-background-color:transparent;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1667234479,"creation_date":1667234479,"answer_id":74266529,"question_id":51343759,"body_markdown":"Here is a slight variation on [@JKostikiadis](https://stackoverflow.com/users/4167500/jkostikiadis)&#39;s [answer](https://stackoverflow.com/a/51344773/2189127) which avoids the CSS lookup. CSS lookups can be problematic, because they will return `null` unless CSS has been applied and a layout pass has been made. The referenced answer avoids this by looking up the track *after* showing the stage, but this can be hard to achieve in some circumstances (particularly using FXML, where controller initialization necessarily happens before the UI is added to a scene). This answer also goes to some lengths to preserve the default style as much as is reasonably possible.\r\n\r\nThe basic strategy here is to:\r\n\r\n - use &quot;looked up colors&quot; to define the linear gradient which separates the track to the left of the value from the track to the right of the value\r\n - set the background color of the track based on the looked-up colors\r\n - use `setStyle(...)` on the slider to modify the looked-up color programmatically.\r\n\r\nThis avoids the CSS lookup, because looked-up colors are inherited in CSS. Thus it&#39;s enough to modify the looked-up color only on the slider itself: the track (to which you don&#39;t readily have a reference) will inherit the value.\r\n\r\nIt&#39;s worth looking at the default CSS applied to the slider and its track, which you can see in the [source code](https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css#L957):\r\n\r\n    .slider .track {\r\n          -fx-background-color:\r\n              -fx-shadow-highlight-color,\r\n              linear-gradient(to bottom, derive(-fx-text-box-border, -10%), -fx-text-box-border),\r\n              linear-gradient(to bottom,\r\n                derive(-fx-control-inner-background, -9%),\r\n                derive(-fx-control-inner-background, 0%),\r\n                derive(-fx-control-inner-background, -5%),\r\n                derive(-fx-control-inner-background, -12%)\r\n              );\r\n        -fx-background-insets: 0 0 -1 0, 0, 1;\r\n        -fx-background-radius: 0.25em, 0.25em, 0.166667em; /* 3 3 2 */\r\n        -fx-padding: 0.25em; /* 3 */\r\n    }\r\n\r\nThis background is a &quot;nested background&quot; with the nesting defined by the three background inset values. The first value for `-fx-background-color` defines a shadow 1 pixel below the track; the second (given by the first linear gradient) defines a 1-pixel border with a subtle gradient, and the third (the second linear gradient) defines the majority of the track: it is a subtle linear gradient based on the standard theme color `-fx-control-inner-background`.\r\n\r\nThe plan here is to retain the border and the shadow, and vary the piece in the middle using a linear gradient. Since we can&#39;t use a linear gradient as the target of another linear gradient, we will approximate the default center of the track with `-fx-control-inner-background`:\r\n\r\n    .slider {\r\n        -default-track-color: -fx-control-inner-background;\r\n        -track-color: -default-track-color ;\r\n    }\r\n\r\nand then use the same construct to wrap the shadow and border around the track color. Note we can just use the default insets and padding defined in the default stylesheet: there is no need to redefine them here:\r\n\r\n    .slider .track {\r\n        -fx-background-color: -fx-shadow-highlight-color,\r\n              linear-gradient(to bottom, derive(-fx-text-box-border, -10%), -fx-text-box-border),\r\n              -track-color;\r\n    }\r\n\r\nNow in the Java code we can just update the `-track-color` defined by the slider:\r\n\r\n        slider.valueProperty().addListener((obs, oldValue, newValue) -&gt; {\r\n            double percentage = 100.0 * newValue.doubleValue() / slider.getMax();\r\n            String style = String.format(\r\n                    // in the String format, \r\n                    // %1$.1f%% gives the first format argument (&quot;1$&quot;),\r\n                    // i.e. percentage, formatted to 1 decimal place (&quot;.1f&quot;).\r\n                    // Note literal % signs must be escaped (&quot;%%&quot;)\r\n                    &quot;-track-color: linear-gradient(to right, &quot; +\r\n                            &quot;-fx-accent 0%%, &quot; +\r\n                            &quot;-fx-accent %1$.1f%%, &quot; +\r\n                            &quot;-default-track-color %1$.1f%%, &quot; +\r\n                            &quot;-default-track-color 100%%);&quot;,\r\n                    percentage);\r\n            slider.setStyle(style);\r\n        });\r\n\r\nHere&#39;s a complete example:\r\n\r\nstyle.css:\r\n\r\n    .slider {\r\n        -default-track-color: -fx-control-inner-background;\r\n        -track-color: -default-track-color ;\r\n    }\r\n    \r\n    .slider .track {\r\n        -fx-background-color: -fx-shadow-highlight-color,\r\n              linear-gradient(to bottom, derive(-fx-text-box-border, -10%), -fx-text-box-border),\r\n              -track-color;\r\n    }\r\n\r\nand\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Slider;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class ProgressSlider extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            Slider slider = new Slider();\r\n            slider.valueProperty().addListener((obs, oldValue, newValue) -&gt; {\r\n                double percentage = 100.0 * newValue.doubleValue() / slider.getMax();\r\n                String style = String.format(\r\n                        &quot;-track-color: linear-gradient(to right, &quot; +\r\n                                &quot;-fx-accent 0%%, &quot; +\r\n                                &quot;-fx-accent %1$.1f%%, &quot; +\r\n                                &quot;-default-track-color %1$.1f%%, &quot; +\r\n                                &quot;-default-track-color 100%%);&quot;,\r\n                        percentage);\r\n                slider.setStyle(style);\r\n            });\r\n            BorderPane root = new BorderPane(slider);\r\n            Scene scene = new Scene(root, 400, 400);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Om2F.png","title":"how to change fill color of slider in javafx","body":"<p>Here is a slight variation on <a href=\"https://stackoverflow.com/users/4167500/jkostikiadis\">@JKostikiadis</a>'s <a href=\"https://stackoverflow.com/a/51344773/2189127\">answer</a> which avoids the CSS lookup. CSS lookups can be problematic, because they will return <code>null</code> unless CSS has been applied and a layout pass has been made. The referenced answer avoids this by looking up the track <em>after</em> showing the stage, but this can be hard to achieve in some circumstances (particularly using FXML, where controller initialization necessarily happens before the UI is added to a scene). This answer also goes to some lengths to preserve the default style as much as is reasonably possible.</p>\n<p>The basic strategy here is to:</p>\n<ul>\n<li>use &quot;looked up colors&quot; to define the linear gradient which separates the track to the left of the value from the track to the right of the value</li>\n<li>set the background color of the track based on the looked-up colors</li>\n<li>use <code>setStyle(...)</code> on the slider to modify the looked-up color programmatically.</li>\n</ul>\n<p>This avoids the CSS lookup, because looked-up colors are inherited in CSS. Thus it's enough to modify the looked-up color only on the slider itself: the track (to which you don't readily have a reference) will inherit the value.</p>\n<p>It's worth looking at the default CSS applied to the slider and its track, which you can see in the <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css#L957\" rel=\"noreferrer\">source code</a>:</p>\n<pre><code>.slider .track {\n      -fx-background-color:\n          -fx-shadow-highlight-color,\n          linear-gradient(to bottom, derive(-fx-text-box-border, -10%), -fx-text-box-border),\n          linear-gradient(to bottom,\n            derive(-fx-control-inner-background, -9%),\n            derive(-fx-control-inner-background, 0%),\n            derive(-fx-control-inner-background, -5%),\n            derive(-fx-control-inner-background, -12%)\n          );\n    -fx-background-insets: 0 0 -1 0, 0, 1;\n    -fx-background-radius: 0.25em, 0.25em, 0.166667em; /* 3 3 2 */\n    -fx-padding: 0.25em; /* 3 */\n}\n</code></pre>\n<p>This background is a &quot;nested background&quot; with the nesting defined by the three background inset values. The first value for <code>-fx-background-color</code> defines a shadow 1 pixel below the track; the second (given by the first linear gradient) defines a 1-pixel border with a subtle gradient, and the third (the second linear gradient) defines the majority of the track: it is a subtle linear gradient based on the standard theme color <code>-fx-control-inner-background</code>.</p>\n<p>The plan here is to retain the border and the shadow, and vary the piece in the middle using a linear gradient. Since we can't use a linear gradient as the target of another linear gradient, we will approximate the default center of the track with <code>-fx-control-inner-background</code>:</p>\n<pre><code>.slider {\n    -default-track-color: -fx-control-inner-background;\n    -track-color: -default-track-color ;\n}\n</code></pre>\n<p>and then use the same construct to wrap the shadow and border around the track color. Note we can just use the default insets and padding defined in the default stylesheet: there is no need to redefine them here:</p>\n<pre><code>.slider .track {\n    -fx-background-color: -fx-shadow-highlight-color,\n          linear-gradient(to bottom, derive(-fx-text-box-border, -10%), -fx-text-box-border),\n          -track-color;\n}\n</code></pre>\n<p>Now in the Java code we can just update the <code>-track-color</code> defined by the slider:</p>\n<pre><code>    slider.valueProperty().addListener((obs, oldValue, newValue) -&gt; {\n        double percentage = 100.0 * newValue.doubleValue() / slider.getMax();\n        String style = String.format(\n                // in the String format, \n                // %1$.1f%% gives the first format argument (&quot;1$&quot;),\n                // i.e. percentage, formatted to 1 decimal place (&quot;.1f&quot;).\n                // Note literal % signs must be escaped (&quot;%%&quot;)\n                &quot;-track-color: linear-gradient(to right, &quot; +\n                        &quot;-fx-accent 0%%, &quot; +\n                        &quot;-fx-accent %1$.1f%%, &quot; +\n                        &quot;-default-track-color %1$.1f%%, &quot; +\n                        &quot;-default-track-color 100%%);&quot;,\n                percentage);\n        slider.setStyle(style);\n    });\n</code></pre>\n<p>Here's a complete example:</p>\n<p>style.css:</p>\n<pre><code>.slider {\n    -default-track-color: -fx-control-inner-background;\n    -track-color: -default-track-color ;\n}\n\n.slider .track {\n    -fx-background-color: -fx-shadow-highlight-color,\n          linear-gradient(to bottom, derive(-fx-text-box-border, -10%), -fx-text-box-border),\n          -track-color;\n}\n</code></pre>\n<p>and</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Slider;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class ProgressSlider extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        Slider slider = new Slider();\n        slider.valueProperty().addListener((obs, oldValue, newValue) -&gt; {\n            double percentage = 100.0 * newValue.doubleValue() / slider.getMax();\n            String style = String.format(\n                    &quot;-track-color: linear-gradient(to right, &quot; +\n                            &quot;-fx-accent 0%%, &quot; +\n                            &quot;-fx-accent %1$.1f%%, &quot; +\n                            &quot;-default-track-color %1$.1f%%, &quot; +\n                            &quot;-default-track-color 100%%);&quot;,\n                    percentage);\n            slider.setStyle(style);\n        });\n        BorderPane root = new BorderPane(slider);\n        Scene scene = new Scene(root, 400, 400);\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4Om2F.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4Om2F.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11332547,"reputation":186,"user_id":8309631,"display_name":"M_rey3000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10280,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51344773,"answer_count":2,"score":6,"last_activity_date":1667234479,"creation_date":1531606034,"question_id":51343759,"body_markdown":"im making a video player and want to use a slider for timeline and i want to change slider from first picture to second \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sUd6G.png\r\n  [2]: https://i.stack.imgur.com/hJgPS.png\r\n\r\ncan i just use css code to do this ? if yes what is the code for this","title":"how to change fill color of slider in javafx","body":"<p>im making a video player and want to use a slider for timeline and i want to change slider from first picture to second </p>\n\n<p><a href=\"https://i.stack.imgur.com/sUd6G.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sUd6G.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/hJgPS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hJgPS.png\" alt=\"enter image description here\"></a></p>\n\n<p>can i just use css code to do this ? if yes what is the code for this</p>\n"},{"tags":["java","spring","spring-boot","cassandra","pom.xml"],"comments":[{"owner":{"account_id":19908331,"reputation":23,"user_id":14586857,"display_name":"engineerdavut"},"score":0,"creation_date":1667156926,"post_id":74255599,"comment_id":131099049,"body_markdown":"Thank you for your comment. I tried import org.springframework.data.cassandra.core.CassandraClusterFactoryBean ,but still not resolved.","body":"Thank you for your comment. I tried import org.springframework.data.cassandra.core.CassandraClusterFact&zwnj;&#8203;oryBean ,but still not resolved."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667157739,"post_id":74255599,"comment_id":131099208,"body_markdown":"Hm. Seems like an older issue: https://stackoverflow.com/questions/71962997/spring-boot-latest-cassandraclusterfactorybean-not-found-error","body":"Hm. Seems like an older issue: <a href=\"https://stackoverflow.com/questions/71962997/spring-boot-latest-cassandraclusterfactorybean-not-found-error\" title=\"spring boot latest cassandraclusterfactorybean not found error\">stackoverflow.com/questions/71962997/&hellip;</a>"},{"owner":{"account_id":19908331,"reputation":23,"user_id":14586857,"display_name":"engineerdavut"},"score":0,"creation_date":1667234081,"post_id":74255599,"comment_id":131116823,"body_markdown":"Thank you. I didnt see today. I searched on stackoverflow search place. I learned how use stackoverflow from you.","body":"Thank you. I didnt see today. I searched on stackoverflow search place. I learned how use stackoverflow from you."}],"answers":[{"comments":[{"owner":{"account_id":19908331,"reputation":23,"user_id":14586857,"display_name":"engineerdavut"},"score":0,"creation_date":1667167927,"post_id":74256155,"comment_id":131101238,"body_markdown":"Thank you . I looked inside the AbstractCassandraConfiguration class.  Then, I searched the cluster method. cassandraSession is now doing his duty. I am very sorry. Thank you very much. I should have been able to solve this error. My head stopped today. Solution;\n public CqlSessionFactoryBean cassandrasession() method.  import org.springframework.data.cassandra.config.CqlSessionFactoryBean;","body":"Thank you . I looked inside the AbstractCassandraConfiguration class.  Then, I searched the cluster method. cassandraSession is now doing his duty. I am very sorry. Thank you very much. I should have been able to solve this error. My head stopped today. Solution;  public CqlSessionFactoryBean cassandrasession() method.  import org.springframework.data.cassandra.config.CqlSessionFactoryB&zwnj;&#8203;ean;"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667158508,"creation_date":1667158508,"answer_id":74256155,"question_id":74255599,"body_markdown":"`CassandraClusterFactoryBean` was removed in 2019 with the migration to Cassandra driver 4. All details can be found in the original pull request on GitHub: &lt;https://github.com/spring-projects/spring-data-cassandra/pull/167&gt;\r\n\r\n&gt; Breaking changes:\r\n&gt;\r\n&gt; Removal of types (without replacement):\r\n&gt;\r\n&gt; * […]\r\n&gt; * CassandraCqlClusterFactoryBean\r\n&gt; * […]\r\n&gt;\r\n&gt; #### Configuration summary\r\n&gt;\r\n&gt; Driver 4 merges Cluster and Session objects into a single CqlSession object, \r\n&gt; *therefore all Cluster-related API was removed*. The Configuration was revised \r\n&gt; in large parts by removing most configuration items that were moved into \r\n&gt; DriverConfigLoader that is mostly file-based. This means that SocketOptions, \r\n&gt; AddressTranslator and many more options are configured now through other \r\n&gt; means.\r\n&gt;\r\n&gt; Further information:\r\n&gt; * &lt;https://docs.datastax.com/en/developer/java-driver/4.3/&gt;\r\n&gt; * &lt;https://docs.datastax.com/en/developer/java-driver/4.3/upgrade_guide/&gt;\r\n&gt; \r\n&gt; [emphasis mine]\r\n\r\nMore information quoted from the [upgrade guide](https://docs.datastax.com/en/developer/java-driver/4.3/upgrade_guide/):\r\n\r\n&gt; `Cluster` does not exist anymore; the session is now the main component, initialized in a single step:\r\n&gt; \r\n&gt; ```\r\n&gt; CqlSession session = CqlSession.builder().build();\r\n&gt; session.execute(&quot;...&quot;);\r\n&gt; ```\r\n","title":"java: cannot find symbol symbol: class CassandraClusterFactoryBean","body":"<p><code>CassandraClusterFactoryBean</code> was removed in 2019 with the migration to Cassandra driver 4. All details can be found in the original pull request on GitHub: <a href=\"https://github.com/spring-projects/spring-data-cassandra/pull/167\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-cassandra/pull/167</a></p>\n<blockquote>\n<p>Breaking changes:</p>\n<p>Removal of types (without replacement):</p>\n<ul>\n<li>[…]</li>\n<li>CassandraCqlClusterFactoryBean</li>\n<li>[…]</li>\n</ul>\n<h4>Configuration summary</h4>\n<p>Driver 4 merges Cluster and Session objects into a single CqlSession object,\n<em>therefore all Cluster-related API was removed</em>. The Configuration was revised\nin large parts by removing most configuration items that were moved into\nDriverConfigLoader that is mostly file-based. This means that SocketOptions,\nAddressTranslator and many more options are configured now through other\nmeans.</p>\n<p>Further information:</p>\n<ul>\n<li><a href=\"https://docs.datastax.com/en/developer/java-driver/4.3/\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/developer/java-driver/4.3/</a></li>\n<li><a href=\"https://docs.datastax.com/en/developer/java-driver/4.3/upgrade_guide/\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/developer/java-driver/4.3/upgrade_guide/</a></li>\n</ul>\n<p>[emphasis mine]</p>\n</blockquote>\n<p>More information quoted from the <a href=\"https://docs.datastax.com/en/developer/java-driver/4.3/upgrade_guide/\" rel=\"nofollow noreferrer\">upgrade guide</a>:</p>\n<blockquote>\n<p><code>Cluster</code> does not exist anymore; the session is now the main component, initialized in a single step:</p>\n<pre><code>CqlSession session = CqlSession.builder().build();\nsession.execute(&quot;...&quot;);\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":19908331,"reputation":23,"user_id":14586857,"display_name":"engineerdavut"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1510,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74256155,"answer_count":1,"score":1,"last_activity_date":1667234442,"creation_date":1667153649,"question_id":74255599,"body_markdown":"I m developing spring cloud project based microservice.(packaging maven)I m using cassandra on docker image in project. I m taking error in CassandraConfiguration. I imported &quot;import org.springframework.data.cassandra.config.CassandraClusterFactoryBean;&quot; in CassandraConfiguration  ,but I took error. Error Message in intellij idea. I tried to run this project on eclipse. I got an error again. Thank you!\r\n```\r\njava: cannot find symbol \r\n  symbol:   class Cassandra Cluster Factory Bean\r\n  location: class com.accountservice.springcloudmicroserviceaccount.Configuration.CassandraConfiguration\r\n```\r\n```java\r\nimport org.springframework.data.cassandra.config.CassandraClusterFactoryBean;\r\nand public CassandraClusterFactoryBean cluster(){\r\nCassandraClusterFactoryBean cluster=super.cluster();\r\ncluster.setUsername(username);\r\ncluster.setPassword(password);\r\nreturn cluster;\r\n}\r\n```\r\nI tried to do something pom.xml. I searched solve on this website, but I got an error again. \r\npom.xml \r\n\r\n\r\n```xml\r\n\r\n   &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.5&lt;/version&gt;\r\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n   &lt;/parent&gt;\r\n   &lt;groupId&gt;com.accountservice&lt;/groupId&gt;\r\n   &lt;artifactId&gt;springcloudmicroserviceaccount&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   &lt;name&gt;springcloudmicroserviceaccount&lt;/name&gt;\r\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n   &lt;properties&gt;\r\n      &lt;java.version&gt;17&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-data-cassandra&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.codahale.metrics&lt;/groupId&gt;\r\n         &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\r\n         &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n         &lt;optional&gt;true&lt;/optional&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n\r\n   &lt;build&gt;\r\n         &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n               &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n               &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n               &lt;configuration&gt;\r\n                  &lt;source&gt;19&lt;/source&gt;\r\n                  &lt;target&gt;19&lt;/target&gt;\r\n               &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n         &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"java: cannot find symbol symbol: class CassandraClusterFactoryBean","body":"<p>I m developing spring cloud project based microservice.(packaging maven)I m using cassandra on docker image in project. I m taking error in CassandraConfiguration. I imported &quot;import org.springframework.data.cassandra.config.CassandraClusterFactoryBean;&quot; in CassandraConfiguration  ,but I took error. Error Message in intellij idea. I tried to run this project on eclipse. I got an error again. Thank you!</p>\n<pre><code>java: cannot find symbol \n  symbol:   class Cassandra Cluster Factory Bean\n  location: class com.accountservice.springcloudmicroserviceaccount.Configuration.CassandraConfiguration\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.data.cassandra.config.CassandraClusterFactoryBean;\nand public CassandraClusterFactoryBean cluster(){\nCassandraClusterFactoryBean cluster=super.cluster();\ncluster.setUsername(username);\ncluster.setPassword(password);\nreturn cluster;\n}\n</code></pre>\n<p>I tried to do something pom.xml. I searched solve on this website, but I got an error again.\npom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n   &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.7.5&lt;/version&gt;\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com.accountservice&lt;/groupId&gt;\n   &lt;artifactId&gt;springcloudmicroserviceaccount&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;name&gt;springcloudmicroserviceaccount&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n   &lt;properties&gt;\n      &lt;java.version&gt;17&lt;/java.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-data-cassandra&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.codahale.metrics&lt;/groupId&gt;\n         &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\n         &lt;version&gt;3.0.2&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n         &lt;optional&gt;true&lt;/optional&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n         &lt;plugins&gt;\n            &lt;plugin&gt;\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n               &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n               &lt;configuration&gt;\n                  &lt;source&gt;19&lt;/source&gt;\n                  &lt;target&gt;19&lt;/target&gt;\n               &lt;/configuration&gt;\n            &lt;/plugin&gt;\n         &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","java-8","java-stream","flatten","flatmap"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1667231010,"post_id":74265655,"comment_id":131115645,"body_markdown":"Your keywords there are `recursion` and `stream`, so I&#39;d suggest you read [this question](https://stackoverflow.com/questions/32656888/recursive-use-of-stream-flatmap). It may not answer your question, but is pretty informative.","body":"Your keywords there are <code>recursion</code> and <code>stream</code>, so I&#39;d suggest you read <a href=\"https://stackoverflow.com/questions/32656888/recursive-use-of-stream-flatmap\">this question</a>. It may not answer your question, but is pretty informative."},{"owner":{"account_id":26786514,"reputation":33,"user_id":20380620,"display_name":"Ketan Upase"},"score":0,"creation_date":1667231121,"post_id":74265655,"comment_id":131115675,"body_markdown":"@JettoMart&#237;nez Thanks I will also refer to that question as well","body":"@JettoMart&#237;nez Thanks I will also refer to that question as well"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667233084,"creation_date":1667233084,"answer_id":74266206,"question_id":74265655,"body_markdown":"I think recursion is much simpler than java stream for this particular task.\r\n```\r\npublic class Test {\r\n\r\n  public static void main(String[] args) throws IOException {\r\n    List&lt;CategoryTreeDto&gt; list = //get data\r\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n    for (CategoryTreeDto dto : list) {\r\n      traverse(dto, dto.getName(), result);\r\n    }\r\n    System.out.println(result);\r\n  }\r\n\r\n  private static void traverse(CategoryTreeDto dto, String current, List&lt;String&gt; result) {\r\n    List&lt;CategoryTreeDto&gt; children = dto.getChildrenItems();\r\n    if (children.isEmpty()) {\r\n      result.add(current);\r\n      return;\r\n    }\r\n    for (CategoryTreeDto childDto : dto.getChildrenItems()) {\r\n      String next = current + &quot;-&gt;&quot; + childDto.getName();\r\n      traverse(childDto, next, result);\r\n    }\r\n  }\r\n}\r\n```\r\nGoes depth first, until there are no more children, building the path in the meantime. When there are no more children add the path to the result and return (this is the ends the recursion).\r\n\r\nPrints\r\n```\r\n[Pantry-&gt;Butter-&gt;Cream, Pantry-&gt;Snack, Medicine]\r\n```\r\nfor your example.","title":"How can I flatten the below nested object to array of strings?","body":"<p>I think recursion is much simpler than java stream for this particular task.</p>\n<pre><code>public class Test {\n\n  public static void main(String[] args) throws IOException {\n    List&lt;CategoryTreeDto&gt; list = //get data\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    for (CategoryTreeDto dto : list) {\n      traverse(dto, dto.getName(), result);\n    }\n    System.out.println(result);\n  }\n\n  private static void traverse(CategoryTreeDto dto, String current, List&lt;String&gt; result) {\n    List&lt;CategoryTreeDto&gt; children = dto.getChildrenItems();\n    if (children.isEmpty()) {\n      result.add(current);\n      return;\n    }\n    for (CategoryTreeDto childDto : dto.getChildrenItems()) {\n      String next = current + &quot;-&gt;&quot; + childDto.getName();\n      traverse(childDto, next, result);\n    }\n  }\n}\n</code></pre>\n<p>Goes depth first, until there are no more children, building the path in the meantime. When there are no more children add the path to the result and return (this is the ends the recursion).</p>\n<p>Prints</p>\n<pre><code>[Pantry-&gt;Butter-&gt;Cream, Pantry-&gt;Snack, Medicine]\n</code></pre>\n<p>for your example.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667234294,"creation_date":1667234294,"answer_id":74266492,"question_id":74265655,"body_markdown":"Looks like simple `dfs` algorithm:\r\n\r\n```java\r\npublic static List&lt;String&gt; dfs(List&lt;CategoryTreeDto&gt; items) {\r\n    return dfs(items, new LinkedList&lt;&gt;(), new ArrayList&lt;&gt;());\r\n}\r\n\r\nprivate static List&lt;String&gt; dfs(List&lt;CategoryTreeDto&gt; items,\r\n                                Deque&lt;String&gt; path,\r\n                                List&lt;String&gt; res) {\r\n    if (items == null || items.isEmpty()) {\r\n        if (!path.isEmpty()) {\r\n            res.add(String.join(&quot;-&gt;&quot;, path));\r\n        }\r\n    } else {\r\n        for (CategoryTreeDto item : items) {\r\n            path.addLast(item.getName());\r\n            dfs(item.getChildren(), path, res);\r\n            path.removeLast();\r\n        }\r\n    }\r\n\r\n    return res;\r\n}\r\n```","title":"How can I flatten the below nested object to array of strings?","body":"<p>Looks like simple <code>dfs</code> algorithm:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; dfs(List&lt;CategoryTreeDto&gt; items) {\n    return dfs(items, new LinkedList&lt;&gt;(), new ArrayList&lt;&gt;());\n}\n\nprivate static List&lt;String&gt; dfs(List&lt;CategoryTreeDto&gt; items,\n                                Deque&lt;String&gt; path,\n                                List&lt;String&gt; res) {\n    if (items == null || items.isEmpty()) {\n        if (!path.isEmpty()) {\n            res.add(String.join(&quot;-&gt;&quot;, path));\n        }\n    } else {\n        for (CategoryTreeDto item : items) {\n            path.addLast(item.getName());\n            dfs(item.getChildren(), path, res);\n            path.removeLast();\n        }\n    }\n\n    return res;\n}\n</code></pre>\n"}],"owner":{"account_id":26786514,"reputation":33,"user_id":20380620,"display_name":"Ketan Upase"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":6,"up_vote_count":3,"closed_date":1667236999,"accepted_answer_id":74266206,"answer_count":2,"score":-3,"last_activity_date":1667234294,"creation_date":1667230536,"question_id":74265655,"body_markdown":"I am trying to convert below object to array of string\r\n\r\nJSON Object\r\n\r\nInput :\r\n```\r\n  [\r\n    {\r\n        &quot;name&quot;: &quot;Pantry&quot;,\r\n        &quot;childrenItems&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;Butter&quot;,\r\n            &quot;childrenItems&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;Cream&quot;,\r\n                &quot;childrenItems&quot;: []\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;Snack&quot;,\r\n            &quot;childrenItems&quot;: []\r\n          }\r\n        ]\r\n      },\r\n    \r\n     {\r\n        &quot;name&quot;: &quot;Medicine&quot;,\r\n        &quot;childrenItems&quot;: []\r\n      }\r\n    ]\r\n\r\n```\r\n\r\nRequired Output:\r\n\r\n&gt; `[ &quot;Pantry-&gt;Butter-&gt;Cream&quot;, &quot;Pantry-&gt;Snack&quot;, &quot;Medicine&quot; ]`\r\n\r\nMy POJO looks like this\r\n\r\n\r\n```\r\n@Data\r\npublic class CategoryTreeDto {\r\n\tprivate String name;\r\n\tprivate List&lt;CategoryTreeDto&gt; childrenItems;\r\n}\r\n```\r\n\r\nHow can I flatten the JSON object of Nested categories using java 8 stream API.\r\n\r\nI tried using the recursion and java 8 flatMap function to flatten and concatenate the strings but not getting output as expected.\r\n\r\nIt is based on parent child relationship, as pantry is a parent and its child is butter and again butter&#39;s child is cream and also pantry has another child which is snack.","title":"How can I flatten the below nested object to array of strings?","body":"<p>I am trying to convert below object to array of string</p>\n<p>JSON Object</p>\n<p>Input :</p>\n<pre><code>  [\n    {\n        &quot;name&quot;: &quot;Pantry&quot;,\n        &quot;childrenItems&quot;: [\n          {\n            &quot;name&quot;: &quot;Butter&quot;,\n            &quot;childrenItems&quot;: [\n              {\n                &quot;name&quot;: &quot;Cream&quot;,\n                &quot;childrenItems&quot;: []\n              }\n            ]\n          },\n          {\n            &quot;name&quot;: &quot;Snack&quot;,\n            &quot;childrenItems&quot;: []\n          }\n        ]\n      },\n    \n     {\n        &quot;name&quot;: &quot;Medicine&quot;,\n        &quot;childrenItems&quot;: []\n      }\n    ]\n\n</code></pre>\n<p>Required Output:</p>\n<blockquote>\n<p><code>[ &quot;Pantry-&gt;Butter-&gt;Cream&quot;, &quot;Pantry-&gt;Snack&quot;, &quot;Medicine&quot; ]</code></p>\n</blockquote>\n<p>My POJO looks like this</p>\n<pre><code>@Data\npublic class CategoryTreeDto {\n    private String name;\n    private List&lt;CategoryTreeDto&gt; childrenItems;\n}\n</code></pre>\n<p>How can I flatten the JSON object of Nested categories using java 8 stream API.</p>\n<p>I tried using the recursion and java 8 flatMap function to flatten and concatenate the strings but not getting output as expected.</p>\n<p>It is based on parent child relationship, as pantry is a parent and its child is butter and again butter's child is cream and also pantry has another child which is snack.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1667230117,"post_id":74265524,"comment_id":131115338,"body_markdown":"`contains` doesn&#39;t help when you want to interact with multiple matches. Use the `indexOf` variant with a `fromIndex` parameter in your loop.","body":"<code>contains</code> doesn&#39;t help when you want to interact with multiple matches. Use the <code>indexOf</code> variant with a <code>fromIndex</code> parameter in your loop."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1667230280,"post_id":74265524,"comment_id":131115397,"body_markdown":"What are the rules for partial matches? eG should `&quot;ay caramba&quot;` also count as 1 match for `&quot;car&quot;` or do you only want to count whole word matches?","body":"What are the rules for partial matches? eG should <code>&quot;ay caramba&quot;</code> also count as 1 match for <code>&quot;car&quot;</code> or do you only want to count whole word matches?"},{"owner":{"account_id":21638250,"reputation":235,"user_id":15960888,"display_name":"OnlyProblems"},"score":0,"creation_date":1667230957,"post_id":74265524,"comment_id":131115630,"body_markdown":"@OHGODSPIDERS no the word &quot;ay caramba&quot; should not count. Do you have any advice?","body":"@OHGODSPIDERS no the word &quot;ay caramba&quot; should not count. Do you have any advice?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1667231345,"post_id":74265524,"comment_id":131115763,"body_markdown":"In that case, since `&quot;ay caramba&quot;.contains(&quot;car&quot;)` returns true and `&quot;ay caramba&quot;.indexOf(&quot;car&quot;)` would return a positive value you couldn&#39;t use either of those methods.  You could, as a first step [Convert the sentence string to a string array of words in Java](https://stackoverflow.com/questions/4674850/converting-a-sentence-string-to-a-string-array-of-words-in-java), then iterate ofer that array of words and compare it with your target word via `equals` or `equalsIgnoreCase`","body":"In that case, since <code>&quot;ay caramba&quot;.contains(&quot;car&quot;)</code> returns true and <code>&quot;ay caramba&quot;.indexOf(&quot;car&quot;)</code> would return a positive value you couldn&#39;t use either of those methods.  You could, as a first step <a href=\"https://stackoverflow.com/questions/4674850/converting-a-sentence-string-to-a-string-array-of-words-in-java\">Convert the sentence string to a string array of words in Java</a>, then iterate ofer that array of words and compare it with your target word via <code>equals</code> or <code>equalsIgnoreCase</code>"}],"answers":[{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667231787,"creation_date":1667231787,"answer_id":74265937,"question_id":74265524,"body_markdown":"I suggest you simply use regex for this:\r\n\r\n```\r\nfor (Map.Entry&lt;Integer, String&gt; entrySection : carHashMap.entrySet()) {\r\n     Pattern p = Pattern.compile(&quot;(?:^|\\\\W)car(?:$|\\\\W)&quot;); //This will only capture the exact word, as dicussed in the comments.\r\n     Matcher m = p.matcher(entrySection.getValue());\r\n     while (m.find()) {\r\n           showCarsInMap.add(entrySection.getKey());\r\n     }\r\n}\r\n```\r\nRegex is from [here][1].\r\n\r\n  [1]: https://superuser.com/a/903175","title":"Count how many times a word occurs in a HashMap per key","body":"<p>I suggest you simply use regex for this:</p>\n<pre><code>for (Map.Entry&lt;Integer, String&gt; entrySection : carHashMap.entrySet()) {\n     Pattern p = Pattern.compile(&quot;(?:^|\\\\W)car(?:$|\\\\W)&quot;); //This will only capture the exact word, as dicussed in the comments.\n     Matcher m = p.matcher(entrySection.getValue());\n     while (m.find()) {\n           showCarsInMap.add(entrySection.getKey());\n     }\n}\n</code></pre>\n<p>Regex is from <a href=\"https://superuser.com/a/903175\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667234010,"creation_date":1667232084,"answer_id":74265991,"question_id":74265524,"body_markdown":"Though not ideal but this will work:\r\n\r\n\r\n    carHashMap.entrySet().stream().forEach(x -&gt; {\r\n    \t\t\tlong count = Arrays.stream(x.getValue().split(&quot; &quot;)).filter(t -&gt; t.equalsIgnoreCase(&quot;car&quot;)).count();\r\n    \t\t\twhile (count-- &gt; 0) {\r\n    \t\t\t\tshowCarsInMap.add(x.getKey());\r\n    \t\t\t}\r\n    \t\t});\r\n\r\nHere, I am considering you are only going to have space(&quot; &quot;) as a separator. Also, you don&#39;t need to use for loop but you can use streams directly on hashmap.\r\n","title":"Count how many times a word occurs in a HashMap per key","body":"<p>Though not ideal but this will work:</p>\n<pre><code>carHashMap.entrySet().stream().forEach(x -&gt; {\n            long count = Arrays.stream(x.getValue().split(&quot; &quot;)).filter(t -&gt; t.equalsIgnoreCase(&quot;car&quot;)).count();\n            while (count-- &gt; 0) {\n                showCarsInMap.add(x.getKey());\n            }\n        });\n</code></pre>\n<p>Here, I am considering you are only going to have space(&quot; &quot;) as a separator. Also, you don't need to use for loop but you can use streams directly on hashmap.</p>\n"}],"owner":{"account_id":21638250,"reputation":235,"user_id":15960888,"display_name":"OnlyProblems"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74265937,"answer_count":2,"score":0,"last_activity_date":1667234010,"creation_date":1667229965,"question_id":74265524,"body_markdown":"I have a HashMap in which sentence records are stored with an associated key. Now, an output should be created in this displayed how much the word (in my example the word &quot;car&quot;) in this index (key) occurs. For example, if the word &quot;car&quot; occurs in the index (key) 5, 4 times, the 5 should also be output 4 times.\r\n\r\nThe current output is:\r\nCar : [1, 2, 3, 5]\r\n\r\nMy desired output is:\r\nCar : [1, 1, 2, 3, 3, 5, 5, 5, 5]\r\n\r\n    Map&lt;Integer, String&gt; carHashMap = new HashMap&lt;&gt;();\r\n    ArrayList&lt;Integer&gt; showCarsInMap = new ArrayList&lt;&gt;();\r\n\r\n    carHashMap.put(1, &quot;this car is very fast car&quot;);\r\n    carHashMap.put(2, &quot;i have a old car&quot;);\r\n    carHashMap.put(3, &quot;my first car was an mercedes and my second car was an audi&quot;);\r\n    carHashMap.put(4, &quot;today is a good day&quot;);\r\n    carHashMap.put(5, &quot;car car car car&quot;);\r\n\r\n    for (Map.Entry&lt;Integer, String&gt; entrySection : carHashMap.entrySet()) {\r\n\r\n        if (entrySection.getValue().contains(&quot;car&quot;)) {\r\n\r\n            showCarsInMap.add(entrySection.getKey());\r\n\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot;Car : &quot; + showCarsInMap);\r\n        \r\nI guess I have to add an additional if-loop, but I don&#39;t know how my program can recognize which &quot;car&quot; has already been counted and which not.","title":"Count how many times a word occurs in a HashMap per key","body":"<p>I have a HashMap in which sentence records are stored with an associated key. Now, an output should be created in this displayed how much the word (in my example the word &quot;car&quot;) in this index (key) occurs. For example, if the word &quot;car&quot; occurs in the index (key) 5, 4 times, the 5 should also be output 4 times.</p>\n<p>The current output is:\nCar : [1, 2, 3, 5]</p>\n<p>My desired output is:\nCar : [1, 1, 2, 3, 3, 5, 5, 5, 5]</p>\n<pre><code>Map&lt;Integer, String&gt; carHashMap = new HashMap&lt;&gt;();\nArrayList&lt;Integer&gt; showCarsInMap = new ArrayList&lt;&gt;();\n\ncarHashMap.put(1, &quot;this car is very fast car&quot;);\ncarHashMap.put(2, &quot;i have a old car&quot;);\ncarHashMap.put(3, &quot;my first car was an mercedes and my second car was an audi&quot;);\ncarHashMap.put(4, &quot;today is a good day&quot;);\ncarHashMap.put(5, &quot;car car car car&quot;);\n\nfor (Map.Entry&lt;Integer, String&gt; entrySection : carHashMap.entrySet()) {\n\n    if (entrySection.getValue().contains(&quot;car&quot;)) {\n\n        showCarsInMap.add(entrySection.getKey());\n\n    }\n}\n\nSystem.out.println(&quot;Car : &quot; + showCarsInMap);\n    \n</code></pre>\n<p>I guess I have to add an additional if-loop, but I don't know how my program can recognize which &quot;car&quot; has already been counted and which not.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":6169657,"reputation":474,"user_id":4808318,"accept_rate":36,"display_name":"Emiliano Rodriguez"},"score":1,"creation_date":1461245087,"post_id":36770348,"comment_id":61119307,"body_markdown":"Thanks! In my build.gradle is written correctly:\n\n    buildTypes.each {\n        it.buildConfigField &#39;String&#39;, &#39;OPEN_WEATHER_MAP_API_KEY&#39;, &quot;11111111111111111111111&quot;\n    }","body":"Thanks! In my build.gradle is written correctly:      buildTypes.each {         it.buildConfigField &#39;String&#39;, &#39;OPEN_WEATHER_MAP_API_KEY&#39;, &quot;11111111111111111111111&quot;     }"},{"owner":{"account_id":6169657,"reputation":474,"user_id":4808318,"accept_rate":36,"display_name":"Emiliano Rodriguez"},"score":1,"creation_date":1476104886,"post_id":36770348,"comment_id":67197586,"body_markdown":"The solution for this, for anyone landing on this comment, was to write the key like this.\n\n&quot;\\&quot;XXXXX-XXXXX-XXX\\&quot;&quot;\n\nWithout the backslash and the additional quoting marks its saved as a constant and it needs to be saved as a string.","body":"The solution for this, for anyone landing on this comment, was to write the key like this.  &quot;\\&quot;XXXXX-XXXXX-XXX\\&quot;&quot;  Without the backslash and the additional quoting marks its saved as a constant and it needs to be saved as a string."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1461243465,"creation_date":1461243465,"answer_id":36770348,"question_id":36770218,"body_markdown":"Values in `BuildConfig` come from the build system. Custom `BuildConfig` values like `OPEN_WEATHER_MAP_API_KEY` come from `buildConfigField` statements in your `build.gradle` file. The `BuildConfig.java` file is off of your `build/` directory; files in there are generated by the build process and cannot be modified by hand. Instead, examine your `build.gradle` files and find where your API key is defined.","title":"How to modify BuildConfig.java on my Android project?","body":"<p>Values in <code>BuildConfig</code> come from the build system. Custom <code>BuildConfig</code> values like <code>OPEN_WEATHER_MAP_API_KEY</code> come from <code>buildConfigField</code> statements in your <code>build.gradle</code> file. The <code>BuildConfig.java</code> file is off of your <code>build/</code> directory; files in there are generated by the build process and cannot be modified by hand. Instead, examine your <code>build.gradle</code> files and find where your API key is defined.</p>\n"},{"tags":[],"owner":{"account_id":8960180,"reputation":6051,"user_id":6683139,"accept_rate":85,"display_name":"Ege Kuzubasioglu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475414067,"creation_date":1475414067,"answer_id":39817401,"question_id":36770218,"body_markdown":"    buildTypes.each { it.buildConfigField &#39;String&#39;, &#39;OPEN_WEATHER_MAP_API_KEY&#39;, &quot;11111111111111111111111&quot; }\r\n\r\nput your API key inside &#39; &#39;\r\n\r\n    buildTypes.each { it.buildConfigField &#39;String&#39;, &#39;OPEN_WEATHER_MAP_API_KEY&#39;,&#39; &quot;11111111111111111111111&quot;&#39; }\r\n\r\nand sync the gradle again, it&#39;ll solve the issue.","title":"How to modify BuildConfig.java on my Android project?","body":"<pre><code>buildTypes.each { it.buildConfigField 'String', 'OPEN_WEATHER_MAP_API_KEY', \"11111111111111111111111\" }\n</code></pre>\n\n<p>put your API key inside ' '</p>\n\n<pre><code>buildTypes.each { it.buildConfigField 'String', 'OPEN_WEATHER_MAP_API_KEY',' \"11111111111111111111111\"' }\n</code></pre>\n\n<p>and sync the gradle again, it'll solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":13680020,"reputation":580,"user_id":9870617,"display_name":"Vivek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667233310,"creation_date":1667233310,"answer_id":74266264,"question_id":36770218,"body_markdown":"I found something like this in my build.gradle file\r\n\r\n    &gt; buildTypes {\r\n    &gt;     debug{\r\n    &gt;         buildConfigField &#39;String&#39;, ***API_KEY***, \r\n    &gt;     }\r\n    &gt;     release {\r\n    &gt;         minifyEnabled false\r\n    &gt;         proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;),\r\n    &gt; &#39;proguard-rules.pro&#39;\r\n    &gt;         buildConfigField &#39;String&#39;,&#39;API_KEY&#39;, ***API_TOKEN***\r\n    &gt;     } }\r\n\r\nAfter building the code, buildConfig.java was regenerated entirely from scratch removing all the changes I made.\r\n\r\nThe main issue causing this behaviour was API_TOKEN in build.gradle, but it was not declared anywhere in the file.\r\n\r\n&gt; The API_TOKEN variable was declared in gradle.properties file\r\n\r\nMay be you can find the reference there.","title":"How to modify BuildConfig.java on my Android project?","body":"<p>I found something like this in my build.gradle file</p>\n<pre><code>&gt; buildTypes {\n&gt;     debug{\n&gt;         buildConfigField 'String', ***API_KEY***, \n&gt;     }\n&gt;     release {\n&gt;         minifyEnabled false\n&gt;         proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'),\n&gt; 'proguard-rules.pro'\n&gt;         buildConfigField 'String','API_KEY', ***API_TOKEN***\n&gt;     } }\n</code></pre>\n<p>After building the code, buildConfig.java was regenerated entirely from scratch removing all the changes I made.</p>\n<p>The main issue causing this behaviour was API_TOKEN in build.gradle, but it was not declared anywhere in the file.</p>\n<blockquote>\n<p>The API_TOKEN variable was declared in gradle.properties file</p>\n</blockquote>\n<p>May be you can find the reference there.</p>\n"}],"owner":{"account_id":6169657,"reputation":474,"user_id":4808318,"accept_rate":36,"display_name":"Emiliano Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18122,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":3,"score":9,"last_activity_date":1667233310,"creation_date":1461243117,"question_id":36770218,"body_markdown":"I&#39;m working on an online course and i had these lines of code:\r\n\r\n    String baseUrl = &quot;http://api.openweathermap.org/data/2.5/forecast/daily?q=94043&amp;mode=json&amp;units=metric&amp;cnt=7&quot;;\r\n    String apiKey = &quot;&amp;APPID=&quot; + BuildConfig.OPEN_WEATHER_MAP_API_KEY;\r\n    URL url = new URL(baseUrl.concat(apiKey));\r\n\r\nSo, the API key apparently had to be set up on the BuildConfig.java file.\r\n\r\nI tried to do that, by adding this line of code to the BuildConfig.java file:\r\n\r\n    public static final String OPEN_WEATHER_MAP_API_KEY = 111111111111111111;\r\n\r\nThe first issue is that the string was saved without quotation marks and wouldn&#39;t let me compile.\r\n\r\nThe second, and main issue is that i can&#39;t modify that file anymore. Every time i delete the line or add those missing quotation marks, and then try to compile, the line reverts to it&#39;s flawed version and compilation stops.\r\n\r\nI also get this message when i try to modify BuildConfig.java : &quot;Generated source files should not be edited. The changes will be lost when sources are generated.&quot;\r\n\r\nAny help will be welcome.","title":"How to modify BuildConfig.java on my Android project?","body":"<p>I'm working on an online course and i had these lines of code:</p>\n\n<pre><code>String baseUrl = \"http://api.openweathermap.org/data/2.5/forecast/daily?q=94043&amp;mode=json&amp;units=metric&amp;cnt=7\";\nString apiKey = \"&amp;APPID=\" + BuildConfig.OPEN_WEATHER_MAP_API_KEY;\nURL url = new URL(baseUrl.concat(apiKey));\n</code></pre>\n\n<p>So, the API key apparently had to be set up on the BuildConfig.java file.</p>\n\n<p>I tried to do that, by adding this line of code to the BuildConfig.java file:</p>\n\n<pre><code>public static final String OPEN_WEATHER_MAP_API_KEY = 111111111111111111;\n</code></pre>\n\n<p>The first issue is that the string was saved without quotation marks and wouldn't let me compile.</p>\n\n<p>The second, and main issue is that i can't modify that file anymore. Every time i delete the line or add those missing quotation marks, and then try to compile, the line reverts to it's flawed version and compilation stops.</p>\n\n<p>I also get this message when i try to modify BuildConfig.java : \"Generated source files should not be edited. The changes will be lost when sources are generated.\"</p>\n\n<p>Any help will be welcome.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1662774627,"post_id":73664797,"comment_id":130090470,"body_markdown":"1) Please show your Spring properties 2) What version of dependencies are you using? 3) What Kafka server version?","body":"1) Please show your Spring properties 2) What version of dependencies are you using? 3) What Kafka server version?"},{"owner":{"account_id":25799207,"reputation":11,"user_id":19541903,"display_name":"Sravani Upputuri"},"score":0,"creation_date":1662781472,"post_id":73664797,"comment_id":130091077,"body_markdown":"I didn&#39;t specified anything related to kafka in properties and in dependencies i removed version tag","body":"I didn&#39;t specified anything related to kafka in properties and in dependencies i removed version tag"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1662827699,"post_id":73664797,"comment_id":130098384,"body_markdown":"You should set version in dependencies. And what Kafka server version are you using?","body":"You should set version in dependencies. And what Kafka server version are you using?"}],"answers":[{"comments":[{"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"score":1,"creation_date":1695196744,"post_id":74266240,"comment_id":135990281,"body_markdown":"same reason was causing this error in my case, stopping local sonar qube resolved the issue or change the port for sonarqube","body":"same reason was causing this error in my case, stopping local sonar qube resolved the issue or change the port for sonarqube"}],"tags":[],"owner":{"account_id":3603762,"reputation":1569,"user_id":3006465,"display_name":"electrobabe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667233204,"creation_date":1667233204,"answer_id":74266240,"question_id":73664797,"body_markdown":"In my case it was a port being blocked by my **local Sonar Qube** server.\r\n\r\nOthers reported [here][1] about local Anti Virus software blocking requests...\r\n\r\nThanks for being so cryptic, Kafka :D \r\n\r\n  [1]: https://stackoverflow.com/a/63675739/3006465","title":"There are no in-flight requests for node -1 in kafka","body":"<p>In my case it was a port being blocked by my <strong>local Sonar Qube</strong> server.</p>\n<p>Others reported <a href=\"https://stackoverflow.com/a/63675739/3006465\">here</a> about local Anti Virus software blocking requests...</p>\n<p>Thanks for being so cryptic, Kafka :D</p>\n"}],"owner":{"account_id":25799207,"reputation":11,"user_id":19541903,"display_name":"Sravani Upputuri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667233204,"creation_date":1662739433,"question_id":73664797,"body_markdown":"I am getting the below error in kafka like consumer exception \r\n\r\nin one of the below error it&#39;s printing null what is that null value like bufferUnderFowException. \r\n\r\n    2022-09-09 20:53:28.644 ERROR 31952 --- [ntainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : Consumer exception\r\n    \r\n    java.lang.IllegalStateException: This error handler cannot process &#39;org.apache.kafka.common.protocol.types.SchemaException&#39;s; no record information is available\r\n    \tat org.springframework.kafka.listener.DefaultErrorHandler.handleOtherException(DefaultErrorHandler.java:155) ~[spring-kafka-2.8.7.jar:2.8.7]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1799) ~[spring-kafka-2.8.7.jar:2.8.7]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1298) ~[spring-kafka-2.8.7.jar:2.8.7]\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n    Caused by: org.apache.kafka.common.protocol.types.SchemaException: Buffer underflow while parsing response for request with header RequestHeader(apiKey=API_VERSIONS, apiVersion=3, clientId=consumer-group_id-1, correlationId=4)\r\n    \tat org.apache.kafka.clients.NetworkClient.parseResponse(NetworkClient.java:731) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.NetworkClient.handleCompletedReceives(NetworkClient.java:874) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:569) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:459) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:487) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1522) ~[spring-kafka-2.8.7.jar:2.8.7]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1512) ~[spring-kafka-2.8.7.jar:2.8.7]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1340) ~[spring-kafka-2.8.7.jar:2.8.7]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252) ~[spring-kafka-2.8.7.jar:2.8.7]\r\n    \t... 3 common frames omitted\r\n    Caused by: java.nio.BufferUnderflowException: null\r\n    \tat java.base/java.nio.Buffer.nextGetIndex(Buffer.java:702) ~[na:na]\r\n    \tat java.base/java.nio.HeapByteBuffer.getInt(HeapByteBuffer.java:433) ~[na:na]\r\n    \tat org.apache.kafka.common.protocol.ByteBufferAccessor.readInt(ByteBufferAccessor.java:43) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.common.message.ResponseHeaderData.read(ResponseHeaderData.java:90) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.common.message.ResponseHeaderData.&lt;init&gt;(ResponseHeaderData.java:66) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.common.requests.ResponseHeader.parse(ResponseHeader.java:71) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.common.requests.AbstractResponse.parseResponse(AbstractResponse.java:100) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.apache.kafka.clients.NetworkClient.parseResponse(NetworkClient.java:729) ~[kafka-clients-3.1.1.jar:na]\r\n    \t... 19 common frames omitted\r\n\r\nand the code which i wrote is mentioned below i justt created two service classes and in producer service class i am using the tweet model class name so that it will connect to that class. \r\n\r\n\r\n    import org.springframework.kafka.annotation.KafkaListener;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class Consumer {\r\n    \r\n        //private final Logger logger = LoggerFactory.getLogger(Producer.class);\r\n    \r\n        @KafkaListener(topics = &quot;Tweet&quot;, groupId = &quot;group_id&quot;)\r\n        public void consume(String message) throws IOException {\r\n            System.out.println(String.format(&quot;#### -&gt; Consumed message -&gt; %s&quot;, message));\r\n        }\r\n    }\r\n\r\n    @Service\r\n    public class Producer {\r\n    \r\n    //    private static final Logger logger = LoggerFactory.getLogger(Producer.class);\r\n        private static final String TOPIC = &quot;Tweet&quot;;\r\n    \r\n        @Autowired\r\n        private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n    \r\n        public void sendMessage(String message) {\r\n           System.out.println(String.format(&quot;#### -&gt; Producing message -&gt; %s&quot;, message));\r\n            this.kafkaTemplate.send(TOPIC, message);\r\n        }\r\n    }\r\n\r\n\r\nand i also autowired producer class in controller class and in console i am also getting the error like  *There are no in-flight requests for node -1* is these errors are because the kafka port related errors or any firewall related errors or any code errors i am unable to conclude this  \r\n","title":"There are no in-flight requests for node -1 in kafka","body":"<p>I am getting the below error in kafka like consumer exception</p>\n<p>in one of the below error it's printing null what is that null value like bufferUnderFowException.</p>\n<pre><code>2022-09-09 20:53:28.644 ERROR 31952 --- [ntainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : Consumer exception\n\njava.lang.IllegalStateException: This error handler cannot process 'org.apache.kafka.common.protocol.types.SchemaException's; no record information is available\n    at org.springframework.kafka.listener.DefaultErrorHandler.handleOtherException(DefaultErrorHandler.java:155) ~[spring-kafka-2.8.7.jar:2.8.7]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1799) ~[spring-kafka-2.8.7.jar:2.8.7]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1298) ~[spring-kafka-2.8.7.jar:2.8.7]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\nCaused by: org.apache.kafka.common.protocol.types.SchemaException: Buffer underflow while parsing response for request with header RequestHeader(apiKey=API_VERSIONS, apiVersion=3, clientId=consumer-group_id-1, correlationId=4)\n    at org.apache.kafka.clients.NetworkClient.parseResponse(NetworkClient.java:731) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.NetworkClient.handleCompletedReceives(NetworkClient.java:874) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:569) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:227) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.awaitMetadataUpdate(ConsumerNetworkClient.java:164) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:258) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.coordinatorUnknownAndUnready(ConsumerCoordinator.java:459) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:487) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211) ~[kafka-clients-3.1.1.jar:na]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1522) ~[spring-kafka-2.8.7.jar:2.8.7]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1512) ~[spring-kafka-2.8.7.jar:2.8.7]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1340) ~[spring-kafka-2.8.7.jar:2.8.7]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252) ~[spring-kafka-2.8.7.jar:2.8.7]\n    ... 3 common frames omitted\nCaused by: java.nio.BufferUnderflowException: null\n    at java.base/java.nio.Buffer.nextGetIndex(Buffer.java:702) ~[na:na]\n    at java.base/java.nio.HeapByteBuffer.getInt(HeapByteBuffer.java:433) ~[na:na]\n    at org.apache.kafka.common.protocol.ByteBufferAccessor.readInt(ByteBufferAccessor.java:43) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.common.message.ResponseHeaderData.read(ResponseHeaderData.java:90) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.common.message.ResponseHeaderData.&lt;init&gt;(ResponseHeaderData.java:66) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.common.requests.ResponseHeader.parse(ResponseHeader.java:71) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.common.requests.AbstractResponse.parseResponse(AbstractResponse.java:100) ~[kafka-clients-3.1.1.jar:na]\n    at org.apache.kafka.clients.NetworkClient.parseResponse(NetworkClient.java:729) ~[kafka-clients-3.1.1.jar:na]\n    ... 19 common frames omitted\n</code></pre>\n<p>and the code which i wrote is mentioned below i justt created two service classes and in producer service class i am using the tweet model class name so that it will connect to that class.</p>\n<pre><code>import org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class Consumer {\n\n    //private final Logger logger = LoggerFactory.getLogger(Producer.class);\n\n    @KafkaListener(topics = &quot;Tweet&quot;, groupId = &quot;group_id&quot;)\n    public void consume(String message) throws IOException {\n        System.out.println(String.format(&quot;#### -&gt; Consumed message -&gt; %s&quot;, message));\n    }\n}\n\n@Service\npublic class Producer {\n\n//    private static final Logger logger = LoggerFactory.getLogger(Producer.class);\n    private static final String TOPIC = &quot;Tweet&quot;;\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    public void sendMessage(String message) {\n       System.out.println(String.format(&quot;#### -&gt; Producing message -&gt; %s&quot;, message));\n        this.kafkaTemplate.send(TOPIC, message);\n    }\n}\n</code></pre>\n<p>and i also autowired producer class in controller class and in console i am also getting the error like  <em>There are no in-flight requests for node -1</em> is these errors are because the kafka port related errors or any firewall related errors or any code errors i am unable to conclude this</p>\n"},{"tags":["java","blank-line"],"comments":[{"owner":{"account_id":11833808,"reputation":1152,"user_id":8659747,"display_name":"Kitswas"},"score":0,"creation_date":1667232493,"post_id":74266015,"comment_id":131116213,"body_markdown":"`Enter floating point value` - For this, you need `float n = Float.parseFloat (number);` instead of `int n = Integer.parseInt (number);`","body":"<code>Enter floating point value</code> - For this, you need <code>float n = Float.parseFloat (number);</code> instead of <code>int n = Integer.parseInt (number);</code>"},{"owner":{"account_id":26651039,"reputation":3,"user_id":20265344,"display_name":"Alex H."},"score":0,"creation_date":1667232673,"post_id":74266015,"comment_id":131116279,"body_markdown":"It still giving me the same error when I try to put blank space as input","body":"It still giving me the same error when I try to put blank space as input"},{"owner":{"account_id":26651039,"reputation":3,"user_id":20265344,"display_name":"Alex H."},"score":0,"creation_date":1667232717,"post_id":74266015,"comment_id":131116302,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: empty String\n        at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)","body":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: empty String         at java.base/jdk.internal.math.FloatingDecimal.readJavaFormatSt&zwnj;&#8203;ring(FloatingDecimal&zwnj;&#8203;.java:1842)"}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667232657,"creation_date":1667232657,"answer_id":74266123,"question_id":74266015,"body_markdown":"Surround the `parse` with a `try-catch` statement\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;Enter floating point value: &quot;);\r\n        String number = scanner.nextLine();\r\n        \r\n        try {\r\n            \r\n            float n = Float.parseFloat(number);\r\n            \r\n            if ( n &gt; 0 ) {\r\n              System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\r\n              System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\r\n              System.out.println(&quot;The sign of the input is 1&quot;);\r\n            } else if ( n &lt; 0 ) {\r\n              System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\r\n              System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\r\n              System.out.println(&quot;The sign of the input is -1&quot;);\r\n            }\r\n            \r\n        } catch (Exception e) {\r\n            \r\n            System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\r\n            System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\r\n            System.out.println(&quot;Encountered blank input.&quot;);    \r\n            \r\n        }","title":"read blank input and even the numeric input","body":"<p>Surround the <code>parse</code> with a <code>try-catch</code> statement</p>\n<pre><code>    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;Enter floating point value: &quot;);\n    String number = scanner.nextLine();\n    \n    try {\n        \n        float n = Float.parseFloat(number);\n        \n        if ( n &gt; 0 ) {\n          System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\n          System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\n          System.out.println(&quot;The sign of the input is 1&quot;);\n        } else if ( n &lt; 0 ) {\n          System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\n          System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\n          System.out.println(&quot;The sign of the input is -1&quot;);\n        }\n        \n    } catch (Exception e) {\n        \n        System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\n        System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\n        System.out.println(&quot;Encountered blank input.&quot;);    \n        \n    }\n</code></pre>\n"}],"owner":{"account_id":26651039,"reputation":3,"user_id":20265344,"display_name":"Alex H."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74266123,"answer_count":1,"score":-1,"last_activity_date":1667232657,"creation_date":1667232200,"question_id":74266015,"body_markdown":"I tried to make a coding about read the value o sign of numers,and also I have to include the blank space as input,I could read and identify the numers&#39; value,but I could read the blank input and give the error (exception in thread &quot;main&quot; java.lang.numberformatexception: for input string: &quot;)\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class CheckingSign {\r\n  public static void main (String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n      System.out.print(&quot;Enter floating point value: &quot;);\r\n        String number = scanner.nextLine();\r\n        int n = Integer.parseInt(number);\r\n\r\n\r\n              if ( n &gt; 0 ) {\r\n              System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\r\n              System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\r\n              System.out.println(&quot;The sign of the input is 1&quot;);\r\n            } else if ( n &lt; 0 ) {\r\n              System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\r\n              System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\r\n              System.out.println(&quot;The sign of the input is -1&quot;);\r\n            } else {\r\n              System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\r\n              System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\r\n              System.out.println(&quot;Encountered blank input.&quot;);\r\n\r\n            }\r\n     }\r\n\r\n}\r\n\r\n```\r\n","title":"read blank input and even the numeric input","body":"<p>I tried to make a coding about read the value o sign of numers,and also I have to include the blank space as input,I could read and identify the numers' value,but I could read the blank input and give the error (exception in thread &quot;main&quot; java.lang.numberformatexception: for input string: &quot;)</p>\n<pre><code>import java.util.Scanner;\n\npublic class CheckingSign {\n  public static void main (String[] args) {\n    Scanner scanner = new Scanner(System.in);\n      System.out.print(&quot;Enter floating point value: &quot;);\n        String number = scanner.nextLine();\n        int n = Integer.parseInt(number);\n\n\n              if ( n &gt; 0 ) {\n              System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\n              System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\n              System.out.println(&quot;The sign of the input is 1&quot;);\n            } else if ( n &lt; 0 ) {\n              System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\n              System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\n              System.out.println(&quot;The sign of the input is -1&quot;);\n            } else {\n              System.out.print(&quot;DEBUG:the user input is &lt;   &quot; + number + &quot;  &gt;&quot;);\n              System.out.println(&quot;DEBUG:the trimed input is &lt;&quot; + number + &quot;&gt;&quot;);\n              System.out.println(&quot;Encountered blank input.&quot;);\n\n            }\n     }\n\n}\n\n</code></pre>\n"},{"tags":["java","android","xml","function","android-studio"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1667231674,"post_id":74265885,"comment_id":131115906,"body_markdown":"Do you have some example of code that isn&#39;t working for you?","body":"Do you have some example of code that isn&#39;t working for you?"}],"answers":[{"tags":[],"owner":{"account_id":12162478,"reputation":86,"user_id":8879652,"display_name":"abhishekrajak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667232631,"creation_date":1667232631,"answer_id":74266114,"question_id":74265885,"body_markdown":"call this inside onCreate function. we are using coroutine here. follow this link for more reference -&gt; https://stackoverflow.com/a/62065829/8879652\r\n```\r\nlifecycleScope.launch {\r\n            myText.text = &quot;text 1&quot;\r\n            delay(3000L)\r\n            myText.text = &quot;text 2&quot;\r\n            delay(4000L)\r\n            myText.text = &quot;text 3&quot;\r\n        }\r\n```","title":"How can i show multiple text one by one in one activity android studio","body":"<p>call this inside onCreate function. we are using coroutine here. follow this link for more reference -&gt; <a href=\"https://stackoverflow.com/a/62065829/8879652\">https://stackoverflow.com/a/62065829/8879652</a></p>\n<pre><code>lifecycleScope.launch {\n            myText.text = &quot;text 1&quot;\n            delay(3000L)\n            myText.text = &quot;text 2&quot;\n            delay(4000L)\n            myText.text = &quot;text 3&quot;\n        }\n</code></pre>\n"}],"owner":{"account_id":22573296,"reputation":31,"user_id":16759172,"display_name":"Shahriar Sakib"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667232631,"creation_date":1667231583,"question_id":74265885,"body_markdown":"how can i set Text for while time and when one text will finished then automatically i want to show another text in one activity! \r\nCan i do it in android studio ?\r\nif yes then how ?\r\n\r\nShow text for 3/4 second then another text will show there in one activity","title":"How can i show multiple text one by one in one activity android studio","body":"<p>how can i set Text for while time and when one text will finished then automatically i want to show another text in one activity!\nCan i do it in android studio ?\nif yes then how ?</p>\n<p>Show text for 3/4 second then another text will show there in one activity</p>\n"},{"tags":["java","gradle","build.gradle","cucumber-jvm","cucumber-java"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1600357992,"post_id":63778957,"comment_id":113069405,"body_markdown":"Please provide the github code base to solve the issue","body":"Please provide the github code base to solve the issue"}],"answers":[{"comments":[{"owner":{"account_id":5787262,"reputation":687,"user_id":4566024,"accept_rate":0,"display_name":"Balaji Singh .Y"},"score":1,"creation_date":1600368030,"post_id":63942275,"comment_id":113073906,"body_markdown":"For me its not still working. Not sure what is the issue. Need to check other alternative as  freshly create project from scratch and see.","body":"For me its not still working. Not sure what is the issue. Need to check other alternative as  freshly create project from scratch and see."},{"owner":{"account_id":5787262,"reputation":687,"user_id":4566024,"accept_rate":0,"display_name":"Balaji Singh .Y"},"score":1,"creation_date":1600407752,"post_id":63942275,"comment_id":113083706,"body_markdown":"I think i have used this code before good that their is no errors but the logs are not written to file.","body":"I think i have used this code before good that their is no errors but the logs are not written to file."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1600707485,"post_id":63942275,"comment_id":113166142,"body_markdown":"@BalajiSingh.Y I saw the code. The project is not a gradle project. This is creating an issue. Please create a project from scratch. Can please accept this answer if it is helpful ?","body":"@BalajiSingh.Y I saw the code. The project is not a gradle project. This is creating an issue. Please create a project from scratch. Can please accept this answer if it is helpful ?"},{"owner":{"account_id":5787262,"reputation":687,"user_id":4566024,"accept_rate":0,"display_name":"Balaji Singh .Y"},"score":1,"creation_date":1601274559,"post_id":63942275,"comment_id":113344664,"body_markdown":"B : This is a gradle project hence forth we see an .gradle and build.gradle files present and more over every time i build my project it creates an build folder.","body":"B : This is a gradle project hence forth we see an .gradle and build.gradle files present and more over every time i build my project it creates an build folder."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1601274619,"post_id":63942275,"comment_id":113344693,"body_markdown":"@BalajiSingh.Y There is pom.xml as well","body":"@BalajiSingh.Y There is pom.xml as well"},{"owner":{"account_id":5787262,"reputation":687,"user_id":4566024,"accept_rate":0,"display_name":"Balaji Singh .Y"},"score":1,"creation_date":1601274635,"post_id":63942275,"comment_id":113344696,"body_markdown":"B : Anyways thanks for your Help. I have resolved the issue now everything is working as expected and even the logs are getting generated.","body":"B : Anyways thanks for your Help. I have resolved the issue now everything is working as expected and even the logs are getting generated."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1601274684,"post_id":63942275,"comment_id":113344715,"body_markdown":"@BalajiSingh.Y Can you accept this answer and upvote as well.","body":"@BalajiSingh.Y Can you accept this answer and upvote as well."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1600359751,"creation_date":1600359751,"answer_id":63942275,"question_id":63778957,"body_markdown":"I found the issue. \r\n\r\nThe problem was that you didn&#39;t use the LoggerHelper.\r\n\r\nThis is my project structure :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nUpdated LoggerHelper class :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nTo test whether LoggerHelper is working or not. I added one Test class with main method :\r\n\r\n[![enter image description here][3]][3]\r\n\r\nConsole :\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThe log generated file. \r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TZkrW.png\r\n  [2]: https://i.stack.imgur.com/sNZlA.png\r\n  [3]: https://i.stack.imgur.com/gIMzN.png\r\n  [4]: https://i.stack.imgur.com/QM4gR.png\r\n  [5]: https://i.stack.imgur.com/XdkLo.png","title":"unable to write the logs to log file using log4j through Gradle","body":"<p>I found the issue.</p>\n<p>The problem was that you didn't use the LoggerHelper.</p>\n<p>This is my project structure :</p>\n<p><a href=\"https://i.stack.imgur.com/TZkrW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TZkrW.png\" alt=\"enter image description here\" /></a></p>\n<p>Updated LoggerHelper class :</p>\n<p><a href=\"https://i.stack.imgur.com/sNZlA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sNZlA.png\" alt=\"enter image description here\" /></a></p>\n<p>To test whether LoggerHelper is working or not. I added one Test class with main method :</p>\n<p><a href=\"https://i.stack.imgur.com/gIMzN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gIMzN.png\" alt=\"enter image description here\" /></a></p>\n<p>Console :</p>\n<p><a href=\"https://i.stack.imgur.com/QM4gR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QM4gR.png\" alt=\"enter image description here\" /></a></p>\n<p>The log generated file.</p>\n<p><a href=\"https://i.stack.imgur.com/XdkLo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XdkLo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5787262,"reputation":687,"user_id":4566024,"accept_rate":0,"display_name":"Balaji Singh .Y"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667232576,"creation_date":1601275014,"answer_id":64097066,"question_id":63778957,"body_markdown":"After doing lot of analysis and comparing i found the solution to my question. The solution is very simple only mistake that i need to remove the unwanted plugins used due to which it created all of issues.\r\n    \r\nWhen I removed the application plugin as shown below in plugin section it started working properly and even logs started working.\r\n    \r\n    plugins {\r\n            id &#39;java&#39;\r\n            id &#39;maven-publish&#39;\r\n            id &#39;java-library&#39;\r\n            id &#39;java-gradle-plugin&#39;\r\n            \r\n        }","title":"unable to write the logs to log file using log4j through Gradle","body":"<p>After doing lot of analysis and comparing i found the solution to my question. The solution is very simple only mistake that i need to remove the unwanted plugins used due to which it created all of issues.</p>\n<p>When I removed the application plugin as shown below in plugin section it started working properly and even logs started working.</p>\n<pre><code>plugins {\n        id 'java'\n        id 'maven-publish'\n        id 'java-library'\n        id 'java-gradle-plugin'\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":5787262,"reputation":687,"user_id":4566024,"accept_rate":0,"display_name":"Balaji Singh .Y"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63942275,"answer_count":2,"score":1,"last_activity_date":1667232576,"creation_date":1599486825,"question_id":63778957,"body_markdown":"I am working on Cucumber TestNg Gradle automation project. As I am new to Gradle and not able to figure the issue though I have put in appropriate log4j dependencies in build.gradle file. Can somebody look into this issue and provide the solutions or advise me on what went wrong due to which logs are not written to log file called &quot;ApplicationLogs.log&quot;\r\n\r\n**Below is my project structure**\r\n\r\n[![enter image description here][1]][1]\r\n    \r\n  [1]: https://i.stack.imgur.com/eT0It.png\r\n\r\n**Below is my Log4j.properties file contents**\r\n\r\n# Root logger option\r\n        log4j.rootLogger=INFO, RFILE,STDOUT\r\n        \r\n        # Console Appender\r\n        log4j.appender.name=STDOUT\r\n        log4j.appender.STDOUT=org.apache.log4j.ConsoleAppender\r\n        log4j.appender.STDOUT.Target=System.out\r\n        log4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout \r\n        log4j.appender.STDOUT.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%-5p] [%c{1}] - [%M] %m%n\r\n        \r\n        \r\n        # Rolling File Appender\r\n        log4j.appender.name=RFILE\r\n        log4j.appender.RFILE=org.apache.log4j.RollingFileAppender\r\n        log4j.appender.RFILE.File=./Automation_Report/logs/ApplicationLogs.log\r\n        log4j.appender.RFILE.threshold=INFO\r\n        log4j.appender.RFILE.maxFileSize=25MB\r\n        log4j.appender.RFILE.maxBackupIndex=100\r\n        log4j.appender.RFILE.layout=org.apache.log4j.PatternLayout\r\n        log4j.appender.RFILE.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%-5p] [%c{1}] - [%M] %m%n\r\n\r\n**Below is my build.gradle File Contents**\r\n\r\n    plugins {\r\n            id &#39;java&#39;\r\n            id &#39;maven-publish&#39;\r\n            id &#39;java-library&#39;\r\n            id &#39;java-gradle-plugin&#39;\r\n            id &#39;application&#39;\r\n        }\r\n                \r\n        apply plugin: &#39;java&#39;\r\n\r\n    repositories {\r\n           \r\n            mavenCentral()\r\n                jcenter()\r\n        }\r\n        \r\n        task deleteGraphicsAssets(type: Delete) {\r\n            delete &quot;build&quot;\r\n        }\r\n   \r\n     version &#39;1.0-SNAPSHOT&#39;\r\n        sourceCompatibility = 1.8\r\n\r\n    dependencies {\r\n            // This dependency is exported to consumers, that is to say found on their compile classpath.\r\n            api &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n        \r\n            // This dependency is used internally, and not exposed to consumers on their own compile classpath.\r\n            implementation &#39;com.google.guava:guava:28.2-jre&#39;\r\n        \r\n          \r\n            implementation gradleApi()\r\n            \r\n            //Cucumber\r\n            testImplementation  &#39;io.cucumber:cucumber-java:4.8.0&#39;\r\n            \r\n            //compile group: &#39;io.cucumber&#39;, name: &#39;cucumber-jvm&#39;, version: &#39;4.8.0&#39;, ext: &#39;pom&#39;\r\n             testImplementation  &#39;io.cucumber:cucumber-jvm:4.8.0&#39;\r\n            \r\n            compile group: &#39;io.cucumber&#39;, name: &#39;cucumber-core&#39;, version: &#39;4.8.0&#39;\r\n           // testImplementation  &#39;io.cucumber:cucumber-core:4.8.0&#39;\r\n           \r\n           compile group: &#39;io.cucumber&#39;, name: &#39;cucumber-testng&#39;, version: &#39;4.8.0&#39;\r\n           //testImplementation  &#39;io.cucumber:cucumber-testng:4.8.0&#39;\r\n            \r\n           implementation  &#39;io.cucumber:cucumber-picocontainer:4.7.4&#39;\r\n            testImplementation  &#39;io.cucumber:cucumber-gherkin:5.1.0&#39;\r\n           \r\n            \r\n           //TestNg\r\n           // testImplementation &#39;org.testng:testng:6.14.3&#39;\r\n            testCompile group: &#39;org.testng&#39;, name: &#39;testng&#39;, version: &#39;6.14.3&#39;\r\n            \r\n           //Reports\r\n           testImplementation  &#39;com.aventstack:extentreports:4.1.7&#39;\r\n           testImplementation  &#39;com.aventstack:extentreports-cucumber4-adapter:1.0.12&#39;\r\n           \r\n           //Maven Compiler , Surefire Plugin ,Poi\r\n           testImplementation  &#39;org.apache.maven.plugins:maven-surefire-plugin:2.22.2&#39;\r\n           testImplementation  &#39;org.apache.maven.plugins:maven-compiler-plugin:3.8.1&#39; \r\n           testImplementation &#39;org.apache.poi:poi-ooxml:4.1.2&#39;\r\n            \r\n            //Log4j &amp; SLF4J\r\n              compile group: &#39;log4j&#39;, name: &#39;log4j&#39;, version: &#39;1.2.17&#39;\r\n           \r\n            // #Rest Assured Apis\r\n             testImplementation &#39;io.rest-assured:rest-assured:3.3.0&#39;\r\n             testImplementation &#39;org.json:json:20180813&#39;\r\n             testImplementation &#39;com.googlecode.json-simple:json-simple:1.1.1&#39;\r\n             \r\n             \r\n             \r\n             //#Selenium Apis\r\n             compile group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-server&#39;, version: &#39;3.141.59&#39;\r\n             implementation &#39;com.paulhammant:ngwebdriver:1.1.4&#39;\r\n             \r\n             compile group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-htmlunit-driver&#39;, version: &#39;2.52.0&#39;\r\n             implementation &#39;org.seleniumhq.selenium:selenium-java:4.0.0-alpha-4&#39;\r\n             \r\n              //testImplementation &#39;org.hamcrest:hamcrest-all:2.2&#39;\r\n          \r\n            }\r\n\r\n    test {\r\n            testLogging.showStandardStreams = true\r\n            systemProperties System.getProperties()\r\n        }\r\n\r\n    configurations {\r\n            cucumberRuntime.extendsFrom testImplementation\r\n        }\r\n        \r\n        \r\n          task cucumber() {\r\n            dependsOn assemble,testClasses\r\n            doLast {\r\n                javaexec {\r\n                    main = &quot;io.cucumber.core.cli.Main&quot;\r\n                    classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\r\n                    \r\n        \t\t\t\r\n                    args = [&#39;--plugin&#39;, &#39;pretty&#39;, \r\n                    \r\n                            &#39;--plugin&#39;, &#39;json:target/AppleBrands.json&#39;, \r\n        \t\t\t        \r\n        \t\t\t\t\t&#39;--plugin&#39;,  &#39;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:Report&#39;,\r\n        \t\t\t\t\t\r\n        \t\t\t     \r\n        \t\t\t          &#39;--glue&#39;,&#39;com.apple.brands.test.stepdefinition&#39;,\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t  &#39;src/test/resources&#39;,&#39;src/main/java&#39;,\r\n        \r\n                            &#39;--tags&#39;, &#39;@Api&#39;         \r\n        \t\t\t\t]\r\n                          \r\n                }\r\n               \r\n            }\r\n          }\r\n          \r\n         \r\n           \r\n           tasks.test {\r\n            finalizedBy cucumber\r\n        }\r\n\r\n","title":"unable to write the logs to log file using log4j through Gradle","body":"<p>I am working on Cucumber TestNg Gradle automation project. As I am new to Gradle and not able to figure the issue though I have put in appropriate log4j dependencies in build.gradle file. Can somebody look into this issue and provide the solutions or advise me on what went wrong due to which logs are not written to log file called &quot;ApplicationLogs.log&quot;</p>\n<p><strong>Below is my project structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/eT0It.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eT0It.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Below is my Log4j.properties file contents</strong></p>\n<h1>Root logger option</h1>\n<pre><code>    log4j.rootLogger=INFO, RFILE,STDOUT\n    \n    # Console Appender\n    log4j.appender.name=STDOUT\n    log4j.appender.STDOUT=org.apache.log4j.ConsoleAppender\n    log4j.appender.STDOUT.Target=System.out\n    log4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout \n    log4j.appender.STDOUT.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%-5p] [%c{1}] - [%M] %m%n\n    \n    \n    # Rolling File Appender\n    log4j.appender.name=RFILE\n    log4j.appender.RFILE=org.apache.log4j.RollingFileAppender\n    log4j.appender.RFILE.File=./Automation_Report/logs/ApplicationLogs.log\n    log4j.appender.RFILE.threshold=INFO\n    log4j.appender.RFILE.maxFileSize=25MB\n    log4j.appender.RFILE.maxBackupIndex=100\n    log4j.appender.RFILE.layout=org.apache.log4j.PatternLayout\n    log4j.appender.RFILE.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%-5p] [%c{1}] - [%M] %m%n\n</code></pre>\n<p><strong>Below is my build.gradle File Contents</strong></p>\n<pre><code>plugins {\n        id 'java'\n        id 'maven-publish'\n        id 'java-library'\n        id 'java-gradle-plugin'\n        id 'application'\n    }\n            \n    apply plugin: 'java'\n\nrepositories {\n       \n        mavenCentral()\n            jcenter()\n    }\n    \n    task deleteGraphicsAssets(type: Delete) {\n        delete &quot;build&quot;\n    }\n\n version '1.0-SNAPSHOT'\n    sourceCompatibility = 1.8\n\ndependencies {\n        // This dependency is exported to consumers, that is to say found on their compile classpath.\n        api 'org.apache.commons:commons-math3:3.6.1'\n    \n        // This dependency is used internally, and not exposed to consumers on their own compile classpath.\n        implementation 'com.google.guava:guava:28.2-jre'\n    \n      \n        implementation gradleApi()\n        \n        //Cucumber\n        testImplementation  'io.cucumber:cucumber-java:4.8.0'\n        \n        //compile group: 'io.cucumber', name: 'cucumber-jvm', version: '4.8.0', ext: 'pom'\n         testImplementation  'io.cucumber:cucumber-jvm:4.8.0'\n        \n        compile group: 'io.cucumber', name: 'cucumber-core', version: '4.8.0'\n       // testImplementation  'io.cucumber:cucumber-core:4.8.0'\n       \n       compile group: 'io.cucumber', name: 'cucumber-testng', version: '4.8.0'\n       //testImplementation  'io.cucumber:cucumber-testng:4.8.0'\n        \n       implementation  'io.cucumber:cucumber-picocontainer:4.7.4'\n        testImplementation  'io.cucumber:cucumber-gherkin:5.1.0'\n       \n        \n       //TestNg\n       // testImplementation 'org.testng:testng:6.14.3'\n        testCompile group: 'org.testng', name: 'testng', version: '6.14.3'\n        \n       //Reports\n       testImplementation  'com.aventstack:extentreports:4.1.7'\n       testImplementation  'com.aventstack:extentreports-cucumber4-adapter:1.0.12'\n       \n       //Maven Compiler , Surefire Plugin ,Poi\n       testImplementation  'org.apache.maven.plugins:maven-surefire-plugin:2.22.2'\n       testImplementation  'org.apache.maven.plugins:maven-compiler-plugin:3.8.1' \n       testImplementation 'org.apache.poi:poi-ooxml:4.1.2'\n        \n        //Log4j &amp; SLF4J\n          compile group: 'log4j', name: 'log4j', version: '1.2.17'\n       \n        // #Rest Assured Apis\n         testImplementation 'io.rest-assured:rest-assured:3.3.0'\n         testImplementation 'org.json:json:20180813'\n         testImplementation 'com.googlecode.json-simple:json-simple:1.1.1'\n         \n         \n         \n         //#Selenium Apis\n         compile group: 'org.seleniumhq.selenium', name: 'selenium-server', version: '3.141.59'\n         implementation 'com.paulhammant:ngwebdriver:1.1.4'\n         \n         compile group: 'org.seleniumhq.selenium', name: 'selenium-htmlunit-driver', version: '2.52.0'\n         implementation 'org.seleniumhq.selenium:selenium-java:4.0.0-alpha-4'\n         \n          //testImplementation 'org.hamcrest:hamcrest-all:2.2'\n      \n        }\n\ntest {\n        testLogging.showStandardStreams = true\n        systemProperties System.getProperties()\n    }\n\nconfigurations {\n        cucumberRuntime.extendsFrom testImplementation\n    }\n    \n    \n      task cucumber() {\n        dependsOn assemble,testClasses\n        doLast {\n            javaexec {\n                main = &quot;io.cucumber.core.cli.Main&quot;\n                classpath = configurations.cucumberRuntime + sourceSets.main.output + sourceSets.test.output\n                \n                \n                args = ['--plugin', 'pretty', \n                \n                        '--plugin', 'json:target/AppleBrands.json', \n                        \n                        '--plugin',  'com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:Report',\n                        \n                     \n                          '--glue','com.apple.brands.test.stepdefinition',\n                        \n                          'src/test/resources','src/main/java',\n    \n                        '--tags', '@Api'         \n                    ]\n                      \n            }\n           \n        }\n      }\n      \n     \n       \n       tasks.test {\n        finalizedBy cucumber\n    }\n</code></pre>\n"},{"tags":["java","arrays","list","arraylist"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667232681,"post_id":74266053,"comment_id":131116284,"body_markdown":"Don&#39;t call your own class `ArrayList`. That is just asking for trouble. Because you called your own class `ArrayList` the compiler thinks you are referring to your own class whenever you write `ArrayList` in your code.","body":"Don&#39;t call your own class <code>ArrayList</code>. That is just asking for trouble. Because you called your own class <code>ArrayList</code> the compiler thinks you are referring to your own class whenever you write <code>ArrayList</code> in your code."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667232754,"post_id":74266053,"comment_id":131116316,"body_markdown":"You could get around that problem by always using the full qualified name of `java.util.ArrayList` to distinguish it from your own `ArrayList` class. But really, the real solution is to simply not call your own java classes the same as standard Java classes.","body":"You could get around that problem by always using the full qualified name of <code>java.util.ArrayList</code> to distinguish it from your own <code>ArrayList</code> class. But really, the real solution is to simply not call your own java classes the same as standard Java classes."}],"owner":{"account_id":22329827,"reputation":1,"user_id":16551234,"display_name":"Daniya Puteri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667232865,"answer_count":0,"score":0,"last_activity_date":1667232415,"creation_date":1667232415,"question_id":74266053,"body_markdown":"I run my coding and it shows this error,\r\n\r\n`ArrayList.java:2: error: ArrayList is already defined in this compilation unit\r\nimport java.util.ArrayList;\r\n`\r\nwhen im trying to import arraylist to the class. I tried to remove it but it cannot read the add() method from my coding,\r\n\r\n`\r\n```\r\nArrayList.java:26: error: cannot find symbol\r\n         itemList1.add(x);\r\n                  ^\r\n  symbol:   method add(Item)\r\n  location: variable itemList1 of type ArrayList\r\n\r\n```\r\n`\r\nI tried to research everything i could but still could not find the answers. Here is my coding,\r\n\r\n`\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class ArrayList\r\n{\r\n   public static void main(String[]args)\r\n   {\r\n      Scanner input = new Scanner(System.in);\r\n      \r\n      ArrayList itemList1 = new ArrayList();\r\n      ArrayList itemList2 = new ArrayList();\r\n      \r\n      String itemName, itemId, factoryProduce;\r\n      double itemPrice;\r\n      int itemQuantity;\r\n      \r\n      for(int i=0; i&lt;10; i++)\r\n      {\r\n         itemName = input.next();\r\n         itemId = input.next();\r\n         itemPrice = input.nextDouble();\r\n         itemQuantity = input.nextInt();\r\n         factoryProduce = input.next();         \r\n         \r\n         Item x = new Item(itemName, itemId, itemPrice, itemQuantity, factoryProduce);\r\n      \r\n         itemList1.add(x);\r\n      }\r\n            \r\n      int count = 0;\r\n      \r\n      Object n; //object that does not refer to any class\r\n      \r\n      for(int i=0; i&lt;itemList1.size(); i++) //casting\r\n      {\r\n         n = itemList1.get(i);\r\n         \r\n         Item nan = (Item) n;\r\n         \r\n         if(nn.getFactoryProduce().equalsIgnoreCase(&quot;QuickService&quot;))\r\n         {\r\n            itemList2.add(nn);\r\n            itemList1.remove(i);\r\n            \r\n            count++;\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n`\r\n\r\nI tried a lot of times with the arraylist object declaration and include the import but still got the same error.","title":"Having a problem with ArrayList Java Import","body":"<p>I run my coding and it shows this error,</p>\n<p><code>ArrayList.java:2: error: ArrayList is already defined in this compilation unit import java.util.ArrayList; </code>\nwhen im trying to import arraylist to the class. I tried to remove it but it cannot read the add() method from my coding,</p>\n<p>`</p>\n<pre><code>ArrayList.java:26: error: cannot find symbol\n         itemList1.add(x);\n                  ^\n  symbol:   method add(Item)\n  location: variable itemList1 of type ArrayList\n\n</code></pre>\n<p>`\nI tried to research everything i could but still could not find the answers. Here is my coding,</p>\n<p>`</p>\n<pre><code>import java.util.Scanner;\n\npublic class ArrayList\n{\n   public static void main(String[]args)\n   {\n      Scanner input = new Scanner(System.in);\n      \n      ArrayList itemList1 = new ArrayList();\n      ArrayList itemList2 = new ArrayList();\n      \n      String itemName, itemId, factoryProduce;\n      double itemPrice;\n      int itemQuantity;\n      \n      for(int i=0; i&lt;10; i++)\n      {\n         itemName = input.next();\n         itemId = input.next();\n         itemPrice = input.nextDouble();\n         itemQuantity = input.nextInt();\n         factoryProduce = input.next();         \n         \n         Item x = new Item(itemName, itemId, itemPrice, itemQuantity, factoryProduce);\n      \n         itemList1.add(x);\n      }\n            \n      int count = 0;\n      \n      Object n; //object that does not refer to any class\n      \n      for(int i=0; i&lt;itemList1.size(); i++) //casting\n      {\n         n = itemList1.get(i);\n         \n         Item nan = (Item) n;\n         \n         if(nn.getFactoryProduce().equalsIgnoreCase(&quot;QuickService&quot;))\n         {\n            itemList2.add(nn);\n            itemList1.remove(i);\n            \n            count++;\n         }\n      }\n   }\n}\n</code></pre>\n<p>`</p>\n<p>I tried a lot of times with the arraylist object declaration and include the import but still got the same error.</p>\n"},{"tags":["java","spring-security","waffle"],"comments":[{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1667231978,"post_id":74265883,"comment_id":131116028,"body_markdown":"Does this help https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter? In-Memory Authentication section","body":"Does this help <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>? In-Memory Authentication section"},{"owner":{"account_id":7958430,"reputation":229,"user_id":6006943,"accept_rate":35,"display_name":"Fran&#231;ois F."},"score":0,"creation_date":1667232644,"post_id":74265883,"comment_id":131116263,"body_markdown":"I&#39;am under spring 4.0.3.RELEASE","body":"I&#39;am under spring 4.0.3.RELEASE"},{"owner":{"account_id":7958430,"reputation":229,"user_id":6006943,"accept_rate":35,"display_name":"Fran&#231;ois F."},"score":0,"creation_date":1667234626,"post_id":74265883,"comment_id":131117009,"body_markdown":"I followed the part &quot;5.8 Multiple HttpSecurity&quot; at https://docs.spring.io/spring-security/site/docs/5.0.0.RC1/reference/htmlsingle/#multiple-httpsecurity\nAnd the code is Spring 4.0 compatible. But the problem is I have only one AuthenticationProvider that operates ! The basicAuth one, not the windows one. In fact, the first in the @Order is executed.","body":"I followed the part &quot;5.8 Multiple HttpSecurity&quot; at <a href=\"https://docs.spring.io/spring-security/site/docs/5.0.0.RC1/reference/htmlsingle/#multiple-httpsecurity\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/5.0.0.RC1/reference&zwnj;&#8203;/&hellip;</a> And the code is Spring 4.0 compatible. But the problem is I have only one AuthenticationProvider that operates ! The basicAuth one, not the windows one. In fact, the first in the @Order is executed."}],"owner":{"account_id":7958430,"reputation":229,"user_id":6006943,"accept_rate":35,"display_name":"Fran&#231;ois F."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667231569,"creation_date":1667231569,"question_id":74265883,"body_markdown":"I need to have 2 implementations of AuthenticationProvider required for spring security.\r\nOne is WindowsAuthenticationProvider (retrieve the user logged in windows - through waffle connector)\r\n\r\nSo I configure like this : \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WaffleConfig extends WebSecurityConfigurerAdapter {\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n     http.csrf().disable()\r\n  \r\n    \r\n    //basic auth for rest endpoint callers\r\n                    .antMatcher(&quot;/api/**&quot;)\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/api/**&quot;)\r\n                    .authenticated()\r\n                    .and()\r\n                    .authenticationProvider(inMemoryAuthenticationProvider)\r\n                    .httpBasic()\r\n                    .and()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \r\n    //waffle for spring mvc users (with prime faces)\r\n                    .and()\r\n                    .antMatcher(&quot;/secure/**&quot;)\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/secure/**&quot;).authenticated()\r\n                    .and()\r\n                    .authenticationProvider(windowsAuthProvider)\r\n                    .httpBasic()\r\n                    .authenticationEntryPoint(negotiateSecurityFilterEntryPoint)\r\n                    .and()\r\n                    .addFilterBefore(negotiateSecurityFilter, BasicAuthenticationFilter.class);\r\n    }\r\n    }\r\n\r\nThe problem is this line : \r\n\r\n    .authenticationProvider(inMemoryAuthenticationProvider)\r\n\r\nI just want to do like my inmemory authentication : \r\n\r\n\r\n    @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n    \r\n     GrantedAuthority ga = new GrantedAuthority() {\r\n                @Override\r\n                public String getAuthority() {\r\n                    return &quot;eligibilite:read&quot;;\r\n                }\r\n            };\r\n            GrantedAuthority gaw = new GrantedAuthority() {\r\n                @Override\r\n                public String getAuthority() {\r\n                    return &quot;eligibilite:write&quot;;\r\n                }\r\n            };\r\n       \r\n            auth.inMemoryAuthentication()\r\n                    .withUser(&quot;francois&quot;)\r\n                    .password(&quot;{noop}fournel&quot;)\r\n                    .authorities(Arrays.asList(ga))\r\n                    .and()\r\n                    .withUser(&quot;francois2&quot;)\r\n                    .password(&quot;{noop}fournel2&quot;)\r\n                    .authorities(Arrays.asList(gaw));\r\n    }\r\n\r\nFor windows connection through waffle I already defined the auth provider : \r\n\r\n     @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(windowsAuthProvider)\r\n    }\r\n\r\nI need to define the &quot;In memory authentication provider&quot;, but I don&#39;t know how to define and create this object.","title":"Spring security : managing two Authentication Provider","body":"<p>I need to have 2 implementations of AuthenticationProvider required for spring security.\nOne is WindowsAuthenticationProvider (retrieve the user logged in windows - through waffle connector)</p>\n<p>So I configure like this :</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WaffleConfig extends WebSecurityConfigurerAdapter {\n@Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n http.csrf().disable()\n\n\n//basic auth for rest endpoint callers\n                .antMatcher(&quot;/api/**&quot;)\n                .authorizeRequests()\n                .antMatchers(&quot;/api/**&quot;)\n                .authenticated()\n                .and()\n                .authenticationProvider(inMemoryAuthenticationProvider)\n                .httpBasic()\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n\n//waffle for spring mvc users (with prime faces)\n                .and()\n                .antMatcher(&quot;/secure/**&quot;)\n                .authorizeRequests()\n                .antMatchers(&quot;/secure/**&quot;).authenticated()\n                .and()\n                .authenticationProvider(windowsAuthProvider)\n                .httpBasic()\n                .authenticationEntryPoint(negotiateSecurityFilterEntryPoint)\n                .and()\n                .addFilterBefore(negotiateSecurityFilter, BasicAuthenticationFilter.class);\n}\n}\n</code></pre>\n<p>The problem is this line :</p>\n<pre><code>.authenticationProvider(inMemoryAuthenticationProvider)\n</code></pre>\n<p>I just want to do like my inmemory authentication :</p>\n<pre><code>@Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n\n GrantedAuthority ga = new GrantedAuthority() {\n            @Override\n            public String getAuthority() {\n                return &quot;eligibilite:read&quot;;\n            }\n        };\n        GrantedAuthority gaw = new GrantedAuthority() {\n            @Override\n            public String getAuthority() {\n                return &quot;eligibilite:write&quot;;\n            }\n        };\n   \n        auth.inMemoryAuthentication()\n                .withUser(&quot;francois&quot;)\n                .password(&quot;{noop}fournel&quot;)\n                .authorities(Arrays.asList(ga))\n                .and()\n                .withUser(&quot;francois2&quot;)\n                .password(&quot;{noop}fournel2&quot;)\n                .authorities(Arrays.asList(gaw));\n}\n</code></pre>\n<p>For windows connection through waffle I already defined the auth provider :</p>\n<pre><code> @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(windowsAuthProvider)\n}\n</code></pre>\n<p>I need to define the &quot;In memory authentication provider&quot;, but I don't know how to define and create this object.</p>\n"},{"tags":["java","php","android","retrofit"],"comments":[{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1666795730,"post_id":74209669,"comment_id":131021215,"body_markdown":"@chiliNUT Yes. They are present but they are objects, And I don&#39;t know how to access to their properties.","body":"@chiliNUT Yes. They are present but they are objects, And I don&#39;t know how to access to their properties."},{"owner":{"account_id":7869117,"reputation":58330,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1666795793,"post_id":74209669,"comment_id":131021234,"body_markdown":"[How can I access an array/object?](https://stackoverflow.com/questions/30680938/how-can-i-access-an-array-object)","body":"<a href=\"https://stackoverflow.com/questions/30680938/how-can-i-access-an-array-object\">How can I access an array/object?</a>"},{"owner":{"account_id":1870907,"reputation":19164,"user_id":2079345,"accept_rate":72,"display_name":"chiliNUT"},"score":0,"creation_date":1666795800,"post_id":74209669,"comment_id":131021239,"body_markdown":"yeah, sorry, I didn&#39;t read your question close enough so I deleted that comment. I&#39;m not familiar with retrofit in particular, but in general this looks like you need to make sure your article class is serializable","body":"yeah, sorry, I didn&#39;t read your question close enough so I deleted that comment. I&#39;m not familiar with retrofit in particular, but in general this looks like you need to make sure your article class is serializable"},{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1666796230,"post_id":74209669,"comment_id":131021411,"body_markdown":"@ADyson yes, but when I do foreach ($_REQUEST[&quot;articles&quot;] as $article) {\n\t$req .= $article-&gt;name.&quot;\\n&quot;;\n} All is empty","body":"@ADyson yes, but when I do foreach ($_REQUEST[&quot;articles&quot;] as $article) { \t$req .= $article-&gt;name.&quot;\\n&quot;; } All is empty"},{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1666796308,"post_id":74209669,"comment_id":131021445,"body_markdown":"@chiliNUT they should be","body":"@chiliNUT they should be"},{"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"score":0,"creation_date":1666799106,"post_id":74209669,"comment_id":131022600,"body_markdown":"@chiliNUT I completed my question. Should I add something else please?","body":"@chiliNUT I completed my question. Should I add something else please?"},{"owner":{"account_id":1870907,"reputation":19164,"user_id":2079345,"accept_rate":72,"display_name":"chiliNUT"},"score":0,"creation_date":1666803376,"post_id":74209669,"comment_id":131024160,"body_markdown":"If your object is serializable, It looks like retrofit isn&#39;t serializing your objects correctly when its posting to your php endpoint. I think your question looks good","body":"If your object is serializable, It looks like retrofit isn&#39;t serializing your objects correctly when its posting to your php endpoint. I think your question looks good"}],"answers":[{"tags":[],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667230949,"creation_date":1667230949,"answer_id":74265744,"question_id":74209669,"body_markdown":"In fact, it seems that the right way is to NOT use `$_REQUEST` (or `$_POST`) but (php):\r\n\r\n    $articles = json_decode(file_get_contents(&#39;php://input&#39;));\r\n    $deviceName = $articles[0]-&gt;deviceName;\r\n\r\nwith (java/retrofit):\r\n\r\n    @POST(Consts.BACKUP_SCRIPT_UP)\r\n    Call&lt;Integer&gt; backupUpload(\r\n            @Body List&lt;backupArticle&gt; articles\r\n    );\r\n\r\n","title":"in php, how to retrieve an objects array sent by retrofit","body":"<p>In fact, it seems that the right way is to NOT use <code>$_REQUEST</code> (or <code>$_POST</code>) but (php):</p>\n<pre><code>$articles = json_decode(file_get_contents('php://input'));\n$deviceName = $articles[0]-&gt;deviceName;\n</code></pre>\n<p>with (java/retrofit):</p>\n<pre><code>@POST(Consts.BACKUP_SCRIPT_UP)\nCall&lt;Integer&gt; backupUpload(\n        @Body List&lt;backupArticle&gt; articles\n);\n</code></pre>\n"}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74265744,"answer_count":1,"score":1,"last_activity_date":1667230949,"creation_date":1666795300,"question_id":74209669,"body_markdown":"In my android app, with retrofit, I want to send an array of objects to my php script with:\r\n\r\n    @FormUrlEncoded\r\n    @POST(Consts.BACKUP_SCRIPT_UP)\r\n    Call&lt;Integer&gt; backupUpload(\r\n    \t\t@Field(&quot;deviceName&quot;) String deviceName,\r\n    \t\t@Field(&quot;articles[]&quot;) List&lt;backupArticle&gt; articles\r\n    );\r\n\r\nBut, I don&#39;t find the way to retrieve my datas.\r\nI get deviceName as attended but how to retrieve datas in the array `$_REQUEST[&quot;articles&quot;]` please?\r\n\r\nDump gives something like:\r\n\r\n    Array (\r\n        [deviceName] =&gt; 7cdb101d51bb89ca\r\n        [articles] =&gt; Array\r\n            (\r\n                [0] =&gt; myapp.backupArticle@f3ee606\r\n                [1] =&gt; myapp.backupArticle@681f4c7\r\n                [2] =&gt; myapp.backupArticle@6d40af4\r\n                [3] =&gt; myapp.backupArticle@57321d\r\n                [4] =&gt; myapp.backupArticle@5d35c92\r\n                ...\r\n            )\r\n    )\r\n\r\nBut I don&#39;t really know if my problem is about java/android or php. I&#39;d like to be sure what I send is really what I want to send, but how to test it if I can&#39;t retrieve information in php?\r\n\r\nI also tried with:\r\n\r\n    @POST(Consts.BACKUP_SCRIPT_UP)\r\n    Call&lt;Integer&gt; backupUpload(\r\n            @Body List&lt;backupArticle&gt; articles\r\n    );\r\n\r\nbut I get empty array in php.\r\n\r\njava object Class:\r\n\r\n    public class backupArticle {\r\n    \t@SerializedName(&quot;deviceName&quot;) @Expose private String deviceName;\r\n    \t@SerializedName(&quot;clistName&quot;) @Expose private String clistName;\r\n    \t@SerializedName(&quot;name&quot;) @Expose private String name;\r\n    \t@SerializedName(&quot;ord&quot;) @Expose private long ord;\r\n    \t@SerializedName(&quot;categName&quot;) @Expose private String categName;\r\n    \t@SerializedName(&quot;categOrd&quot;) @Expose private long categOrd;\r\n    \t@SerializedName(&quot;qty&quot;) @Expose private int qty;\r\n    \t@SerializedName(&quot;selected&quot;) @Expose private int selected;\r\n    \r\n    \tpublic backupArticle(String deviceName, String clistName, String name, long ord, String categName, long categOrd, int qty, int selected) {\r\n    \t\tthis.deviceName = deviceName;\r\n    \t\tthis.clistName = clistName;\r\n    \t\tthis.name = name;\r\n    \t\tthis.ord = ord;\r\n    \t\tthis.categName = categName;\r\n    \t\tthis.categOrd = categOrd;\r\n    \t\tthis.qty = qty;\r\n    \t\tthis.selected = selected;\r\n    \t}\r\n    \tpublic String getDeviceName() {\r\n    \t\treturn deviceName;\r\n    \t}\r\n    \tpublic void setDeviceName(String deviceName) {\r\n    \t\tthis.deviceName = deviceName;\r\n    \t}\r\n    \tpublic String getClistName() {\r\n    \t\treturn clistName;\r\n    \t}\r\n    \tpublic void setClistName(String clistName) {\r\n    \t\tthis.clistName = clistName;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic long getOrd() {\r\n    \t\treturn ord;\r\n    \t}\r\n    \tpublic void setOrd(long ord) {\r\n    \t\tthis.ord = ord;\r\n    \t}\r\n    \tpublic String getCategName() {\r\n    \t\treturn categName;\r\n    \t}\r\n    \tpublic void setCategName(String categName) {\r\n    \t\tthis.categName = categName;\r\n    \t}\r\n    \tpublic long getCategOrd() {\r\n    \t\treturn categOrd;\r\n    \t}\r\n    \tpublic void setCategOrd(long categOrd) {\r\n    \t\tthis.categOrd = categOrd;\r\n    \t}\r\n    \tpublic int getQty() {\r\n    \t\treturn qty;\r\n    \t}\r\n    \tpublic void setQty(int qty) {\r\n    \t\tthis.qty = qty;\r\n    \t}\r\n    \tpublic int getSelected() {\r\n    \t\treturn selected;\r\n    \t}\r\n    \tpublic void setSelected(int selected) {\r\n    \t\tthis.selected = selected;\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"in php, how to retrieve an objects array sent by retrofit","body":"<p>In my android app, with retrofit, I want to send an array of objects to my php script with:</p>\n<pre><code>@FormUrlEncoded\n@POST(Consts.BACKUP_SCRIPT_UP)\nCall&lt;Integer&gt; backupUpload(\n        @Field(&quot;deviceName&quot;) String deviceName,\n        @Field(&quot;articles[]&quot;) List&lt;backupArticle&gt; articles\n);\n</code></pre>\n<p>But, I don't find the way to retrieve my datas.\nI get deviceName as attended but how to retrieve datas in the array <code>$_REQUEST[&quot;articles&quot;]</code> please?</p>\n<p>Dump gives something like:</p>\n<pre><code>Array (\n    [deviceName] =&gt; 7cdb101d51bb89ca\n    [articles] =&gt; Array\n        (\n            [0] =&gt; myapp.backupArticle@f3ee606\n            [1] =&gt; myapp.backupArticle@681f4c7\n            [2] =&gt; myapp.backupArticle@6d40af4\n            [3] =&gt; myapp.backupArticle@57321d\n            [4] =&gt; myapp.backupArticle@5d35c92\n            ...\n        )\n)\n</code></pre>\n<p>But I don't really know if my problem is about java/android or php. I'd like to be sure what I send is really what I want to send, but how to test it if I can't retrieve information in php?</p>\n<p>I also tried with:</p>\n<pre><code>@POST(Consts.BACKUP_SCRIPT_UP)\nCall&lt;Integer&gt; backupUpload(\n        @Body List&lt;backupArticle&gt; articles\n);\n</code></pre>\n<p>but I get empty array in php.</p>\n<p>java object Class:</p>\n<pre><code>public class backupArticle {\n    @SerializedName(&quot;deviceName&quot;) @Expose private String deviceName;\n    @SerializedName(&quot;clistName&quot;) @Expose private String clistName;\n    @SerializedName(&quot;name&quot;) @Expose private String name;\n    @SerializedName(&quot;ord&quot;) @Expose private long ord;\n    @SerializedName(&quot;categName&quot;) @Expose private String categName;\n    @SerializedName(&quot;categOrd&quot;) @Expose private long categOrd;\n    @SerializedName(&quot;qty&quot;) @Expose private int qty;\n    @SerializedName(&quot;selected&quot;) @Expose private int selected;\n\n    public backupArticle(String deviceName, String clistName, String name, long ord, String categName, long categOrd, int qty, int selected) {\n        this.deviceName = deviceName;\n        this.clistName = clistName;\n        this.name = name;\n        this.ord = ord;\n        this.categName = categName;\n        this.categOrd = categOrd;\n        this.qty = qty;\n        this.selected = selected;\n    }\n    public String getDeviceName() {\n        return deviceName;\n    }\n    public void setDeviceName(String deviceName) {\n        this.deviceName = deviceName;\n    }\n    public String getClistName() {\n        return clistName;\n    }\n    public void setClistName(String clistName) {\n        this.clistName = clistName;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public long getOrd() {\n        return ord;\n    }\n    public void setOrd(long ord) {\n        this.ord = ord;\n    }\n    public String getCategName() {\n        return categName;\n    }\n    public void setCategName(String categName) {\n        this.categName = categName;\n    }\n    public long getCategOrd() {\n        return categOrd;\n    }\n    public void setCategOrd(long categOrd) {\n        this.categOrd = categOrd;\n    }\n    public int getQty() {\n        return qty;\n    }\n    public void setQty(int qty) {\n        this.qty = qty;\n    }\n    public int getSelected() {\n        return selected;\n    }\n    public void setSelected(int selected) {\n        this.selected = selected;\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9303,"page":920,"page_size":100}
