{"items":[{"tags":["java","amazon-web-services","intellij-idea","aws-lambda","sam"],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701892526,"creation_date":1701885988,"question_id":77615383,"body_markdown":"I am getting the following error when I try to run sam build for Java lambda project in Intellij. \r\n\r\n\r\n```\r\njava-api$ sam build\r\n2023-12-06 14:53:18 Command &#39;build&#39; is not configured correctly. Unable to import &#39;samcli.commands.build&#39;\r\nTraceback (most recent call last):\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/cli/command.py&quot;, line 263, in get_command\r\n    mod = importlib.import_module(pkg_name)\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/python@3.12/3.12.0/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py&quot;, line 90, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 1381, in _gcd_import\r\n  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 1354, in _find_and_load\r\n  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 1325, in _find_and_load_unlocked\r\n  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 929, in _load_unlocked\r\n  File &quot;&lt;frozen importlib._bootstrap_external&gt;&quot;, line 994, in exec_module\r\n  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 488, in _call_with_frames_removed\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/build/__init__.py&quot;, line 6, in &lt;module&gt;\r\n    from .command import cli  # noqa\r\n    ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/build/command.py&quot;, line 11, in &lt;module&gt;\r\n    from samcli.commands._utils.options import (\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/_utils/options.py&quot;, line 32, in &lt;module&gt;\r\n    from samcli.commands._utils.template import TemplateNotFoundException, get_template_artifacts_format, get_template_data\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/_utils/template.py&quot;, line 10, in &lt;module&gt;\r\n    from botocore.utils import set_value_from_jmespath\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/botocore/utils.py&quot;, line 31, in &lt;module&gt;\r\n    import dateutil.parser\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/dateutil/parser/__init__.py&quot;, line 2, in &lt;module&gt;\r\n    from ._parser import parse, parser, parserinfo, ParserError\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/dateutil/parser/_parser.py&quot;, line 42, in &lt;module&gt;\r\n    import six\r\nModuleNotFoundError: No module named &#39;six&#39;\r\nUsage: sam [OPTIONS] COMMAND [ARGS]...\r\nTry &#39;sam -h&#39; for help.\r\n\r\nError: No such command &#39;build&#39;.\r\n```\r\n\r\nError with sam init\r\n```\r\nUSMAJY44F4QXP7M:register-vvrt-api singhan1$ sam init\r\n\r\nError: No module named &#39;six&#39;\r\nTraceback:\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/core.py&quot;, line 1078, in main\r\n    rv = self.invoke(ctx)\r\n         ^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/core.py&quot;, line 1688, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/core.py&quot;, line 1434, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/core.py&quot;, line 783, in invoke\r\n    return __callback(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/cli/cli_config_file.py&quot;, line 347, in wrapper\r\n    return func(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/init/command.py&quot;, line 102, in wrapped\r\n    return func(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/decorators.py&quot;, line 92, in new_func\r\n    return ctx.invoke(f, obj, *args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/core.py&quot;, line 783, in invoke\r\n    return __callback(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/telemetry/metric.py&quot;, line 184, in wrapped\r\n    raise exception  # pylint: disable=raising-bad-type\r\n    ^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/telemetry/metric.py&quot;, line 149, in wrapped\r\n    return_value = func(*args, **kwargs)\r\n                   ^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/utils/version_checker.py&quot;, line 42, in wrapped\r\n    actual_result = func(*args, **kwargs)\r\n                    ^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/cli/main.py&quot;, line 95, in wrapper\r\n    return func(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/init/command.py&quot;, line 259, in cli\r\n    do_cli(\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/init/command.py&quot;, line 303, in do_cli\r\n    from samcli.commands.init.init_generator import do_generate\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/init/init_generator.py&quot;, line 6, in &lt;module&gt;\r\n    from samcli.lib.init import generate_project\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/init/__init__.py&quot;, line 15, in &lt;module&gt;\r\n    from samcli.lib.init.template_modifiers.application_insights_template_modifier import (\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/init/template_modifiers/application_insights_template_modifier.py&quot;, line 11, in &lt;module&gt;\r\n    from samcli.lib.init.template_modifiers.cli_template_modifier import TemplateModifier\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/init/template_modifiers/cli_template_modifier.py&quot;, line 10, in &lt;module&gt;\r\n    from samcli.yamlhelper import parse_yaml_file\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/yamlhelper.py&quot;, line 24, in &lt;module&gt;\r\n    from botocore.compat import OrderedDict\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/botocore/compat.py&quot;, line 31, in &lt;module&gt;\r\n    from dateutil.tz import tzlocal\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/dateutil/tz/__init__.py&quot;, line 2, in &lt;module&gt;\r\n    from .tz import *\r\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/dateutil/tz/tz.py&quot;, line 19, in &lt;module&gt;\r\n    import six\r\n\r\nAn unexpected error was encountered while executing &quot;sam init&quot;.\r\nSearch for an existing issue:\r\nhttps://github.com/aws/aws-sam-cli/issues?q=is%3Aissue+is%3Aopen+Bug%3A%20sam%20init%20-%20ModuleNotFoundError\r\nOr create a bug report:\r\nhttps://github.com/aws/aws-sam-cli/issues/new?template=Bug_report.md&amp;title=Bug%3A%20sam%20init%20-%20ModuleNotFoundError\r\n```\r\n\r\n```\r\nsam --version\r\nSAM CLI, version 1.100.0\r\n\r\n\r\naws --version\r\naws-cli/2.13.30 Python/3.11.6 Darwin/21.6.0 source/arm64 prompt/off\r\n\r\n\r\njava --version\r\nopenjdk 11.0.7 2020-04-14\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.7+10)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.7+10, mixed mode)\r\n\r\n```\r\n","title":"Error while Trying to run sam build for Java lambda project","body":"<p>I am getting the following error when I try to run sam build for Java lambda project in Intellij.</p>\n<pre><code>java-api$ sam build\n2023-12-06 14:53:18 Command 'build' is not configured correctly. Unable to import 'samcli.commands.build'\nTraceback (most recent call last):\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/cli/command.py&quot;, line 263, in get_command\n    mod = importlib.import_module(pkg_name)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/python@3.12/3.12.0/Frameworks/Python.framework/Versions/3.12/lib/python3.12/importlib/__init__.py&quot;, line 90, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 1381, in _gcd_import\n  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 1354, in _find_and_load\n  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 1325, in _find_and_load_unlocked\n  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 929, in _load_unlocked\n  File &quot;&lt;frozen importlib._bootstrap_external&gt;&quot;, line 994, in exec_module\n  File &quot;&lt;frozen importlib._bootstrap&gt;&quot;, line 488, in _call_with_frames_removed\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/build/__init__.py&quot;, line 6, in &lt;module&gt;\n    from .command import cli  # noqa\n    ^^^^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/build/command.py&quot;, line 11, in &lt;module&gt;\n    from samcli.commands._utils.options import (\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/_utils/options.py&quot;, line 32, in &lt;module&gt;\n    from samcli.commands._utils.template import TemplateNotFoundException, get_template_artifacts_format, get_template_data\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/_utils/template.py&quot;, line 10, in &lt;module&gt;\n    from botocore.utils import set_value_from_jmespath\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/botocore/utils.py&quot;, line 31, in &lt;module&gt;\n    import dateutil.parser\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/dateutil/parser/__init__.py&quot;, line 2, in &lt;module&gt;\n    from ._parser import parse, parser, parserinfo, ParserError\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/dateutil/parser/_parser.py&quot;, line 42, in &lt;module&gt;\n    import six\nModuleNotFoundError: No module named 'six'\nUsage: sam [OPTIONS] COMMAND [ARGS]...\nTry 'sam -h' for help.\n\nError: No such command 'build'.\n</code></pre>\n<p>Error with sam init</p>\n<pre><code>USMAJY44F4QXP7M:register-vvrt-api singhan1$ sam init\n\nError: No module named 'six'\nTraceback:\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/core.py&quot;, line 1078, in main\n    rv = self.invoke(ctx)\n         ^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/core.py&quot;, line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/core.py&quot;, line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/core.py&quot;, line 783, in invoke\n    return __callback(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/cli/cli_config_file.py&quot;, line 347, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/init/command.py&quot;, line 102, in wrapped\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/decorators.py&quot;, line 92, in new_func\n    return ctx.invoke(f, obj, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/click/core.py&quot;, line 783, in invoke\n    return __callback(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/telemetry/metric.py&quot;, line 184, in wrapped\n    raise exception  # pylint: disable=raising-bad-type\n    ^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/telemetry/metric.py&quot;, line 149, in wrapped\n    return_value = func(*args, **kwargs)\n                   ^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/utils/version_checker.py&quot;, line 42, in wrapped\n    actual_result = func(*args, **kwargs)\n                    ^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/cli/main.py&quot;, line 95, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/init/command.py&quot;, line 259, in cli\n    do_cli(\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/init/command.py&quot;, line 303, in do_cli\n    from samcli.commands.init.init_generator import do_generate\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/commands/init/init_generator.py&quot;, line 6, in &lt;module&gt;\n    from samcli.lib.init import generate_project\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/init/__init__.py&quot;, line 15, in &lt;module&gt;\n    from samcli.lib.init.template_modifiers.application_insights_template_modifier import (\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/init/template_modifiers/application_insights_template_modifier.py&quot;, line 11, in &lt;module&gt;\n    from samcli.lib.init.template_modifiers.cli_template_modifier import TemplateModifier\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/lib/init/template_modifiers/cli_template_modifier.py&quot;, line 10, in &lt;module&gt;\n    from samcli.yamlhelper import parse_yaml_file\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/samcli/yamlhelper.py&quot;, line 24, in &lt;module&gt;\n    from botocore.compat import OrderedDict\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/botocore/compat.py&quot;, line 31, in &lt;module&gt;\n    from dateutil.tz import tzlocal\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/dateutil/tz/__init__.py&quot;, line 2, in &lt;module&gt;\n    from .tz import *\n  File &quot;/opt/homebrew/Cellar/aws-sam-cli/1.100.0/libexec/lib/python3.12/site-packages/dateutil/tz/tz.py&quot;, line 19, in &lt;module&gt;\n    import six\n\nAn unexpected error was encountered while executing &quot;sam init&quot;.\nSearch for an existing issue:\nhttps://github.com/aws/aws-sam-cli/issues?q=is%3Aissue+is%3Aopen+Bug%3A%20sam%20init%20-%20ModuleNotFoundError\nOr create a bug report:\nhttps://github.com/aws/aws-sam-cli/issues/new?template=Bug_report.md&amp;title=Bug%3A%20sam%20init%20-%20ModuleNotFoundError\n</code></pre>\n<pre><code>sam --version\nSAM CLI, version 1.100.0\n\n\naws --version\naws-cli/2.13.30 Python/3.11.6 Darwin/21.6.0 source/arm64 prompt/off\n\n\njava --version\nopenjdk 11.0.7 2020-04-14\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.7+10)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.7+10, mixed mode)\n\n</code></pre>\n"},{"tags":["java","android-studio","environment-variables","windows-10","javaoptions"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664006926,"post_id":73835653,"comment_id":130376608,"body_markdown":"Did you check the user environment variables, too?","body":"Did you check the user environment variables, too?"},{"owner":{"account_id":26356889,"reputation":312,"user_id":20013747,"display_name":"Adam"},"score":0,"creation_date":1664007060,"post_id":73835653,"comment_id":130376628,"body_markdown":"Yes, but there is nothing with Java at all.","body":"Yes, but there is nothing with Java at all."},{"owner":{"account_id":26356889,"reputation":312,"user_id":20013747,"display_name":"Adam"},"score":0,"creation_date":1664007173,"post_id":73835653,"comment_id":130376643,"body_markdown":"Is it not possible to delete it programmatically via the command line?","body":"Is it not possible to delete it programmatically via the command line?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664007186,"post_id":73835653,"comment_id":130376645,"body_markdown":"In CMD, what does `echo %java_tool_options%` output? (Or in PowerShell, what does `$env:java_tool_options` output?)","body":"In CMD, what does <code>echo %java_tool_options%</code> output? (Or in PowerShell, what does <code>$env:java_tool_options</code> output?)"},{"owner":{"account_id":26356889,"reputation":312,"user_id":20013747,"display_name":"Adam"},"score":0,"creation_date":1664007529,"post_id":73835653,"comment_id":130376681,"body_markdown":"This will print `%java_tool_options%`","body":"This will print <code>%java_tool_options%</code>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664007690,"post_id":73835653,"comment_id":130376707,"body_markdown":"Then as far as I know, that means the `java_tool_options` environment variable doesn&#39;t exist in your system or user variables. Perhaps the variable is being set only for the Android Studio process--in which case I don&#39;t know how to fix that.","body":"Then as far as I know, that means the <code>java_tool_options</code> environment variable doesn&#39;t exist in your system or user variables. Perhaps the variable is being set only for the Android Studio process--in which case I don&#39;t know how to fix that."},{"owner":{"account_id":26356889,"reputation":312,"user_id":20013747,"display_name":"Adam"},"score":0,"creation_date":1664007926,"post_id":73835653,"comment_id":130376744,"body_markdown":"Ok, thanks for trying to help me. That would probably explain why I don&#39;t see it there, but as I said, I was setting the variable via the command line and not in Android Studio.","body":"Ok, thanks for trying to help me. That would probably explain why I don&#39;t see it there, but as I said, I was setting the variable via the command line and not in Android Studio."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1664008134,"post_id":73835653,"comment_id":130376770,"body_markdown":"I&#39;ll be honest, I don&#39;t know all the nuances of environment variables in Windows. But I&#39;m pretty sure setting an environment variable in a terminal only sets it locally (i.e., for that terminal session; processes started in that session will probably see the variable), and only temporarily (i.e., if you open another terminal the variable will no longer be set). If you had set the environment variable permanently, then I believe you would see it in the GUI.","body":"I&#39;ll be honest, I don&#39;t know all the nuances of environment variables in Windows. But I&#39;m pretty sure setting an environment variable in a terminal only sets it locally (i.e., for that terminal session; processes started in that session will probably see the variable), and only temporarily (i.e., if you open another terminal the variable will no longer be set). If you had set the environment variable permanently, then I believe you would see it in the GUI."},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1665581144,"post_id":73835653,"comment_id":130734238,"body_markdown":"This sounds like an OS specific question, but you did not say what your OS is.","body":"This sounds like an OS specific question, but you did not say what your OS is."},{"owner":{"account_id":26356889,"reputation":312,"user_id":20013747,"display_name":"Adam"},"score":0,"creation_date":1665581428,"post_id":73835653,"comment_id":130734382,"body_markdown":"Sorry, my operating system is Windows 10.","body":"Sorry, my operating system is Windows 10."},{"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"score":0,"creation_date":1665581499,"post_id":73835653,"comment_id":130734415,"body_markdown":"Maybe add Window Tag?","body":"Maybe add Window Tag?"},{"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"score":0,"creation_date":1665585976,"post_id":73835653,"comment_id":130736361,"body_markdown":"what does `set` output in cmd?","body":"what does <code>set</code> output in cmd?"},{"owner":{"account_id":26356889,"reputation":312,"user_id":20013747,"display_name":"Adam"},"score":0,"creation_date":1665586462,"post_id":73835653,"comment_id":130736574,"body_markdown":"Lists a bunch of variables, including this one: `JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8`","body":"Lists a bunch of variables, including this one: <code>JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8</code>"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665656767,"creation_date":1665588409,"answer_id":74044412,"question_id":73835653,"body_markdown":"As mentioned in the other questions, you get that warning if starting any `java` process when the `JAVA_TOOL_OPTIONS` environment variable is declared. This is mentioned in Windows Android Studio logs on start-up, and also if you run `java -version` from a terminal / cmd.exe.\r\n\r\n**Before removing** first check whether you need these addition settings or not. The setting `-Dfile.encoding=UTF8` is default for JDK19 onwards, but not for earlier JDKs and fixing to avoid an Android Studio warning might cause unexpected changes elsewhere with other Java based applications on pre-JDK19.\r\n\r\nTwo places I know where it could be defined:\r\n\r\n1) Settings &gt; System &gt; About &gt; Advanced System Settings -&gt; Environment Variables:\r\n\r\n    Delete `JAVA_TOOL_OPTIONS` values under your user settings or System settings.\r\n\r\n    This setting can be added back by re-entering in the dialog or typing command: `setx JAVA_TOOL_OPTIONS blah`.\r\n\r\n    Don&#39;t forget to close/re-open Windows Terminal or CMD.EXE after making changes to the environment variables or they won&#39;t see the new values.\r\n\r\n2) As a local variable in CMD.EXE. This setting may have been added by some init script (say if you use `CMD.EXE /k init.cmd`) calling `set JAVA_TOOL_OPTIONS=blah` and this overrides / replaces 1) value. \r\n\r\n    You may be able to remove with `set JAVA_TOOL_OPTIONS=` and re-running java or Android Studio from that CMD, but note that the original value will be restored after close/re-open CMD if it was set in 1) already.\r\n\r\nThere is no doubt an easier way to do this as annoyingly it adds a blank cmd terminal: if you wished to disable for just Android Studio you could set up an alternative windows shortcut with this as &quot;Target&quot; field (do no add any extra spaces):\r\n\r\n    cmd.exe /c set JAVA_TOOL_OPTIONS=&amp;&amp;&quot;C:\\Program Files\\Android\\Android Studio\\bin\\studio64.exe&quot;\r\n\r\nNote:\r\n- `setx VARNAME NEWVALUE` does not need &quot;=&quot; sign.\r\n- `set VARNAME=NEWVALUE` requires the &quot;=&quot; sign\r\n\r\n","title":"The use of Java options environment variables detected. How to delete it?","body":"<p>As mentioned in the other questions, you get that warning if starting any <code>java</code> process when the <code>JAVA_TOOL_OPTIONS</code> environment variable is declared. This is mentioned in Windows Android Studio logs on start-up, and also if you run <code>java -version</code> from a terminal / cmd.exe.</p>\n<p><strong>Before removing</strong> first check whether you need these addition settings or not. The setting <code>-Dfile.encoding=UTF8</code> is default for JDK19 onwards, but not for earlier JDKs and fixing to avoid an Android Studio warning might cause unexpected changes elsewhere with other Java based applications on pre-JDK19.</p>\n<p>Two places I know where it could be defined:</p>\n<ol>\n<li><p>Settings &gt; System &gt; About &gt; Advanced System Settings -&gt; Environment Variables:</p>\n<p>Delete <code>JAVA_TOOL_OPTIONS</code> values under your user settings or System settings.</p>\n<p>This setting can be added back by re-entering in the dialog or typing command: <code>setx JAVA_TOOL_OPTIONS blah</code>.</p>\n<p>Don't forget to close/re-open Windows Terminal or CMD.EXE after making changes to the environment variables or they won't see the new values.</p>\n</li>\n<li><p>As a local variable in CMD.EXE. This setting may have been added by some init script (say if you use <code>CMD.EXE /k init.cmd</code>) calling <code>set JAVA_TOOL_OPTIONS=blah</code> and this overrides / replaces 1) value.</p>\n<p>You may be able to remove with <code>set JAVA_TOOL_OPTIONS=</code> and re-running java or Android Studio from that CMD, but note that the original value will be restored after close/re-open CMD if it was set in 1) already.</p>\n</li>\n</ol>\n<p>There is no doubt an easier way to do this as annoyingly it adds a blank cmd terminal: if you wished to disable for just Android Studio you could set up an alternative windows shortcut with this as &quot;Target&quot; field (do no add any extra spaces):</p>\n<pre><code>cmd.exe /c set JAVA_TOOL_OPTIONS=&amp;&amp;&quot;C:\\Program Files\\Android\\Android Studio\\bin\\studio64.exe&quot;\n</code></pre>\n<p>Note:</p>\n<ul>\n<li><code>setx VARNAME NEWVALUE</code> does not need &quot;=&quot; sign.</li>\n<li><code>set VARNAME=NEWVALUE</code> requires the &quot;=&quot; sign</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1701950147,"post_id":77615899,"comment_id":136839538,"body_markdown":"The `unset` and `printenv` commands don&#39;t work on Windows.","body":"The <code>unset</code> and <code>printenv</code> commands don&#39;t work on Windows."}],"tags":[],"owner":{"account_id":30083972,"reputation":1,"user_id":23054967,"display_name":"Hackan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701892002,"creation_date":1701892002,"answer_id":77615899,"question_id":73835653,"body_markdown":"In terminal type;\r\nprintenv   to see environment variables. Scroll down slowly then you will see the _JAVA_OPTIONS \r\nType;\r\nunset  _JAVA_OPTIONS \r\nThen\r\nType printenv lastly and you will not see it there anymore.\r\nRestart your pc before launching pycharm.","title":"The use of Java options environment variables detected. How to delete it?","body":"<p>In terminal type;\nprintenv   to see environment variables. Scroll down slowly then you will see the _JAVA_OPTIONS\nType;\nunset  _JAVA_OPTIONS\nThen\nType printenv lastly and you will not see it there anymore.\nRestart your pc before launching pycharm.</p>\n"}],"owner":{"account_id":26356889,"reputation":312,"user_id":20013747,"display_name":"Adam"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3723,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":74044412,"answer_count":2,"score":3,"last_activity_date":1701892002,"creation_date":1664006667,"question_id":73835653,"body_markdown":"When I turned Android Studio on Windows 10, I got this warning:\r\n\r\n&gt; **The use of Java options environment variables detected. Such variables\r\n&gt; override IDE configuration files (*.vmoptions) and may cause\r\n&gt; performance and stability issues. Please consider deleting these\r\n&gt; variables: JAVA_TOOL_OPTIONS.**\r\n\r\nSo, I want to delete this variable, but I don&#39;t know how. [This similar query][1] didn&#39;t help me because **I don&#39;t see this variable in system variables**. I suspect I must have set it via the command line when I was troubleshooting another issue. When starting the console of any IDE, the message:\r\n&gt; Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\n\r\nIs also displayed. Can it be deleted somehow?\r\n\r\n  [1]: https://stackoverflow.com/questions/67677602/android-studio-error-consider-deleting-java-options","title":"The use of Java options environment variables detected. How to delete it?","body":"<p>When I turned Android Studio on Windows 10, I got this warning:</p>\n<blockquote>\n<p><strong>The use of Java options environment variables detected. Such variables\noverride IDE configuration files (*.vmoptions) and may cause\nperformance and stability issues. Please consider deleting these\nvariables: JAVA_TOOL_OPTIONS.</strong></p>\n</blockquote>\n<p>So, I want to delete this variable, but I don't know how. <a href=\"https://stackoverflow.com/questions/67677602/android-studio-error-consider-deleting-java-options\">This similar query</a> didn't help me because <strong>I don't see this variable in system variables</strong>. I suspect I must have set it via the command line when I was troubleshooting another issue. When starting the console of any IDE, the message:</p>\n<blockquote>\n<p>Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8</p>\n</blockquote>\n<p>Is also displayed. Can it be deleted somehow?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1701891699,"post_id":77615874,"comment_id":136832387,"body_markdown":"You mean `i &lt; l &amp;&amp; Character.toString(s.charAt(i)).isBlank()`. The left condition is tested first.","body":"You mean <code>i &lt; l &amp;&amp; Character.toString(s.charAt(i)).isBlank()</code>. The left condition is tested first."},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":4,"creation_date":1701891876,"post_id":77615874,"comment_id":136832410,"body_markdown":"*&quot;when it&#39;s not&quot;* - What specific debugging have you done to confirm this?  The runtime is usually right about these things, can you provide information demonstrating otherwise?","body":"<i>&quot;when it&#39;s not&quot;</i> - What specific debugging have you done to confirm this?  The runtime is usually right about these things, can you provide information demonstrating otherwise?"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1701891919,"post_id":77615874,"comment_id":136832419,"body_markdown":"To add to @khelwood&#39;s comment, this is calling short circuiting when the other conditions do not execute after a condition fails, [see this SO post](https://stackoverflow.com/questions/8759868/java-logical-operator-short-circuiting)","body":"To add to @khelwood&#39;s comment, this is calling short circuiting when the other conditions do not execute after a condition fails, <a href=\"https://stackoverflow.com/questions/8759868/java-logical-operator-short-circuiting\">see this SO post</a>"},{"owner":{"account_id":6401062,"reputation":180,"user_id":4963694,"display_name":"Captain Chaos"},"score":0,"creation_date":1701896129,"post_id":77615874,"comment_id":136833147,"body_markdown":"Where is &#39;s&#39; defined?","body":"Where is &#39;s&#39; defined?"},{"owner":{"account_id":6401062,"reputation":180,"user_id":4963694,"display_name":"Captain Chaos"},"score":0,"creation_date":1701896219,"post_id":77615874,"comment_id":136833163,"body_markdown":"&quot;when it&#39;s not&quot; be sure to run in debug mode, or do a system.out.println on the value and check the actual value. 99 times out of 100, the program is right and the programmer is wrong.","body":"&quot;when it&#39;s not&quot; be sure to run in debug mode, or do a system.out.println on the value and check the actual value. 99 times out of 100, the program is right and the programmer is wrong."},{"owner":{"account_id":30083845,"reputation":1,"user_id":23054867,"display_name":"Roar Pedersen"},"score":0,"creation_date":1701898136,"post_id":77615874,"comment_id":136833474,"body_markdown":"s is string input to the methode. l is the length of the string and even though, thats right, it should have been testet first, this is not the reason.\nPrior to the exception i just printet &#39;T&#39; for the index before testing for blank. But of course I must bee missing something and the program is right. I just cant se what..","body":"s is string input to the methode. l is the length of the string and even though, thats right, it should have been testet first, this is not the reason. Prior to the exception i just printet &#39;T&#39; for the index before testing for blank. But of course I must bee missing something and the program is right. I just cant se what.."},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1701951943,"post_id":77615874,"comment_id":136839893,"body_markdown":"@RoarPedersen: *&quot;I must bee missing something and the program is right. I just cant se what&quot;* - That&#39;s what [using a debugger](https://stackoverflow.com/q/25385173/328193) is for.  Currently you&#39;re trying to reason out what you think the program should be doing, instead of using a debugger to step through the executing code and **observe** what it&#39;s doing.  When you do that, you can observe which specific operation produces the error and what values were used at the time, observing where those values came from, etc.","body":"@RoarPedersen: <i>&quot;I must bee missing something and the program is right. I just cant se what&quot;</i> - That&#39;s what <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a> is for.  Currently you&#39;re trying to reason out what you think the program should be doing, instead of using a debugger to step through the executing code and <b>observe</b> what it&#39;s doing.  When you do that, you can observe which specific operation produces the error and what values were used at the time, observing where those values came from, etc."}],"owner":{"account_id":30083845,"reputation":1,"user_id":23054867,"display_name":"Roar Pedersen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":8,"up_vote_count":0,"closed_date":1701891968,"answer_count":0,"score":-8,"last_activity_date":1701891923,"creation_date":1701891655,"question_id":77615874,"body_markdown":"Following code:\r\n```\r\nint i = 0;\r\nint l = s.length();\r\nSystem.out.println(s);\r\n\r\nwhile (Character.toString(s.charAt(i)).isBlank() &amp;&amp; i &lt; l) {\r\n    i++;\r\n    System.out.println(Integer.toString(i));\r\n    System.out.println(Character.toString(s.charAt(i)));\r\n}\r\n\r\n```\r\ngives this output/error, when running:\r\n```\r\n            Today is Wwwwwwwwwwwwz, Mmmmmmmmmmz ZD, YYYY..\r\n1\r\n \r\n..\r\n12\r\nT\r\n\r\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 0\r\n\tat java.base/java.lang.StringLatin1.charAt(StringLatin1.java:48)\r\n\tat java.base/java.lang.String.charAt(String.java:712)\r\n```\r\nWhy?\r\n","title":"Index of bounds exception when it&#39;s not. Why?","body":"<p>Following code:</p>\n<pre><code>int i = 0;\nint l = s.length();\nSystem.out.println(s);\n\nwhile (Character.toString(s.charAt(i)).isBlank() &amp;&amp; i &lt; l) {\n    i++;\n    System.out.println(Integer.toString(i));\n    System.out.println(Character.toString(s.charAt(i)));\n}\n\n</code></pre>\n<p>gives this output/error, when running:</p>\n<pre><code>            Today is Wwwwwwwwwwwwz, Mmmmmmmmmmz ZD, YYYY..\n1\n \n..\n12\nT\n\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 0\n    at java.base/java.lang.StringLatin1.charAt(StringLatin1.java:48)\n    at java.base/java.lang.String.charAt(String.java:712)\n</code></pre>\n<p>Why?</p>\n"},{"tags":["java","security","http","servlets"],"comments":[{"owner":{"display_name":"user166390"},"score":0,"creation_date":1323644298,"post_id":8468075,"comment_id":10473073,"body_markdown":"The exact definition depends on context -- servlets in this case? -- but consider (one) English definition: &quot;the special province or field of something or someone&quot;.","body":"The exact definition depends on context -- servlets in this case? -- but consider (one) English definition: &quot;the special province or field of something or someone&quot;."}],"answers":[{"tags":[],"owner":{"account_id":1061549,"reputation":5123,"user_id":1063041,"accept_rate":100,"display_name":"eboix"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1530790092,"creation_date":1323643360,"answer_id":8468112,"question_id":8468075,"body_markdown":"Take a look at [this in-depth explanation](https://web.archive.org/web/20120904235040/http://onjava.com/onjava/2001/07/24/tomcat.html):\n\n&gt; **Security Realm**\n&gt;\n&gt; A security realm is a mechanism used for protecting Web application resources. It gives you the ability to protect a resource with a defined security constraint and then define the user roles that can access the protected resource.\n\n\nI hope this helped!","title":"What is the exact uses of REALM term in security?","body":"<p>Take a look at <a href=\"https://web.archive.org/web/20120904235040/http://onjava.com/onjava/2001/07/24/tomcat.html\" rel=\"noreferrer\">this in-depth explanation</a>:</p>\n<blockquote>\n<p><strong>Security Realm</strong></p>\n<p>A security realm is a mechanism used for protecting Web application resources. It gives you the ability to protect a resource with a defined security constraint and then define the user roles that can access the protected resource.</p>\n</blockquote>\n<p>I hope this helped!</p>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1701891583,"creation_date":1545812165,"answer_id":53929307,"question_id":8468075,"body_markdown":"In simple terms, when you want to access a protected resource you need to identify yourself with something like a username and you also need to provide something secret to prove that you are not lying — like a password (credential). \r\n\r\nThen this information is checked against a repository and, based on the information provided, you will be given special privileges (these privileges are defined by the role assigned to you and the user group you are in). \r\n\r\nThe realm is that repository that does all such controlling stuff.  ","title":"What is the exact uses of REALM term in security?","body":"<p>In simple terms, when you want to access a protected resource you need to identify yourself with something like a username and you also need to provide something secret to prove that you are not lying — like a password (credential).</p>\n<p>Then this information is checked against a repository and, based on the information provided, you will be given special privileges (these privileges are defined by the role assigned to you and the user group you are in).</p>\n<p>The realm is that repository that does all such controlling stuff.</p>\n"},{"tags":[],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1562662412,"creation_date":1562662412,"answer_id":56948787,"question_id":8468075,"body_markdown":"A realm is a security policy domain defined for a web or application server. The protected resources on a server can be partitioned into a set of protection spaces, each with its own authentication scheme and/or authorization database containing a collection of users and groups. \r\n\r\nFor a web application, a realm is a ***complete database of users and groups identified as valid users of a web application or a set of web applications and controlled by the same authentication policy.***","title":"What is the exact uses of REALM term in security?","body":"<p>A realm is a security policy domain defined for a web or application server. The protected resources on a server can be partitioned into a set of protection spaces, each with its own authentication scheme and/or authorization database containing a collection of users and groups. </p>\n\n<p>For a web application, a realm is a <strong><em>complete database of users and groups identified as valid users of a web application or a set of web applications and controlled by the same authentication policy.</em></strong></p>\n"}],"owner":{"account_id":237709,"reputation":4469,"user_id":1525050,"accept_rate":66,"display_name":"skystar7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16717,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":8468112,"answer_count":3,"score":27,"last_activity_date":1701891583,"creation_date":1323643073,"question_id":8468075,"body_markdown":"The term REALM has an overloaded &amp; confusing using in security, what is the exact uses of this term in security?","title":"What is the exact uses of REALM term in security?","body":"<p>The term REALM has an overloaded &amp; confusing using in security, what is the exact uses of this term in security?</p>\n"},{"tags":["java","date-format","date"],"comments":[{"owner":{"account_id":2205,"reputation":9792,"user_id":3032,"accept_rate":92,"display_name":"Scott W"},"score":2,"creation_date":1552876900,"post_id":55213972,"comment_id":97163795,"body_markdown":"The reason that the month is not capitalized in this output, is that the names of the months are not normally capitalized in Spanish: https://www.spanishdict.com/guide/capitalization-in-spanish","body":"The reason that the month is not capitalized in this output, is that the names of the months are not normally capitalized in Spanish: <a href=\"https://www.spanishdict.com/guide/capitalization-in-spanish\" rel=\"nofollow noreferrer\">spanishdict.com/guide/capitalization-in-spanish</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1552911916,"post_id":55213972,"comment_id":97177509,"body_markdown":"Great link, @ScottW! Allow me to quote from it: “Spanish does not capitalize: days of the week, months, languages, nationalities, religions, the first word in geographical names”.","body":"Great link, @ScottW! Allow me to quote from it: “Spanish does not capitalize: days of the week, months, languages, nationalities, religions, the first word in geographical names”."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1701891524,"creation_date":1552881068,"answer_id":55214547,"question_id":55213972,"body_markdown":"# Feature, not a bug\r\n\r\nThe proper localization for Spanish in Spain uses lowercase for month name. \r\n\r\nYour desire for the first letter to be uppercase is incorrect. If you insist on that result, you will need to hard-code a solution rather than rely on the automatic localization feature. \r\n\r\n## CLDR\r\n\r\nFYI, the default source of localization rules for most implementations of modern Java is the [*Common Locale Data Repository (CLDR)*][1] published by the [Unicode Consortium][2]. This database of rules is rich with details for nearly all cultures and a surprising number of sub-cultures. \r\n\r\nIf you believe your expected case of localization is correct, then I suggest exploring those finer sub-culture rules. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\r\n  [2]: https://en.wikipedia.org/wiki/Unicode_Consortium","title":"How to capitalize the first letter of the three letters month name date in Java 8","body":"<h1>Feature, not a bug</h1>\n<p>The proper localization for Spanish in Spain uses lowercase for month name.</p>\n<p>Your desire for the first letter to be uppercase is incorrect. If you insist on that result, you will need to hard-code a solution rather than rely on the automatic localization feature.</p>\n<h2>CLDR</h2>\n<p>FYI, the default source of localization rules for most implementations of modern Java is the <a href=\"https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\" rel=\"nofollow noreferrer\"><em>Common Locale Data Repository (CLDR)</em></a> published by the <a href=\"https://en.wikipedia.org/wiki/Unicode_Consortium\" rel=\"nofollow noreferrer\">Unicode Consortium</a>. This database of rules is rich with details for nearly all cultures and a surprising number of sub-cultures.</p>\n<p>If you believe your expected case of localization is correct, then I suggest exploring those finer sub-culture rules.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1552890368,"post_id":55214670,"comment_id":97166299,"body_markdown":"Please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. At least not as the first option. And not without any reservation. Today we have so much better in [`java.time`, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`. Which is even what the question asks about. So I consider deviating from that bad advice.","body":"Please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. Today we have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API</a> and its <code>DateTimeFormatter</code>. Which is even what the question asks about. So I consider deviating from that bad advice."},{"owner":{"account_id":6517868,"reputation":3037,"user_id":5043003,"accept_rate":77,"display_name":"Grinish Nepal"},"score":2,"creation_date":1552926590,"post_id":55214670,"comment_id":97186544,"body_markdown":"@OleV.V. My intention was not to promote simpleDateFormat. Thanks for the advice will keep that in mind and will try to update my answer soon.","body":"@OleV.V. My intention was not to promote simpleDateFormat. Thanks for the advice will keep that in mind and will try to update my answer soon."}],"tags":[],"owner":{"account_id":6517868,"reputation":3037,"user_id":5043003,"accept_rate":77,"display_name":"Grinish Nepal"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553037857,"creation_date":1552884206,"answer_id":55214670,"question_id":55213972,"body_markdown":"DateTimeFormatter uses the month names and capitalization according to the locale rules.\r\n\r\nIn English its mandatory to have the first letter of month Capitalized which is not the case in spanish. For spanish it is mandatory to have it as small letters as per [RAE][1]\r\n\r\nYou will have to use the class DateFormatSymbols to override the month names like below OR just have to convert the final string&#39;s in your case ```dateInspanish``` first letter after the first space to caps by writing some code.\r\n\r\nSolution only applicable to Java7 or lower. For Java 8 and higher check out @Ole V.V. &#39;s Answer \r\n```\r\n        String input = &quot;12252013&quot;;\r\n        Locale spanishLocale=new Locale(&quot;es&quot;, &quot;ES&quot;);\r\n\r\n        DateFormatSymbols sym = DateFormatSymbols.getInstance(spanishLocale);\r\n        sym.setMonths(new String[]{&quot;Enero&quot;,&quot;Febrero&quot;,&quot;Marzo&quot;,&quot;Abril&quot;,&quot;Mayo&quot;,&quot;Junio&quot;,&quot;Julio&quot;,&quot;Agosto&quot;,&quot;Septiembre&quot;,&quot;Octubre&quot;,&quot;Noviembre&quot;,&quot;Diciembre&quot; });\r\n        sym.setShortMonths(new String[]{&quot;Ene&quot;,&quot;Feb&quot;,&quot;Mar&quot;,&quot;Abr&quot;,&quot;May&quot;,&quot;Jun&quot;,&quot;Jul&quot;,&quot;Ago&quot;,&quot;Sep&quot;,&quot;Oct&quot;,&quot;Nov&quot;,&quot;Dic&quot; });\r\n\r\n        DateFormat df = DateFormat.getDateInstance(DateFormat.MEDIUM, spanishLocale);\r\n        SimpleDateFormat sdf = (SimpleDateFormat) df;\r\n        sdf.setDateFormatSymbols(sym);\r\n\r\n        Date inputDate = new SimpleDateFormat(&quot;MMddyyyy&quot;).parse(input);\r\n\r\n        String dateInSpanish = sdf.format(inputDate);\r\n        System.out.println(dateInSpanish);\r\n```\r\n\r\n\r\n  [1]: http://www.rae.es/consultas/mayuscula-o-minuscula-en-los-meses-los-dias-de-la-semana-y-las-estaciones-del-ano","title":"How to capitalize the first letter of the three letters month name date in Java 8","body":"<p>DateTimeFormatter uses the month names and capitalization according to the locale rules.</p>\n\n<p>In English its mandatory to have the first letter of month Capitalized which is not the case in spanish. For spanish it is mandatory to have it as small letters as per <a href=\"http://www.rae.es/consultas/mayuscula-o-minuscula-en-los-meses-los-dias-de-la-semana-y-las-estaciones-del-ano\" rel=\"nofollow noreferrer\">RAE</a></p>\n\n<p>You will have to use the class DateFormatSymbols to override the month names like below OR just have to convert the final string's in your case <code>dateInspanish</code> first letter after the first space to caps by writing some code.</p>\n\n<p>Solution only applicable to Java7 or lower. For Java 8 and higher check out @Ole V.V. 's Answer </p>\n\n<pre><code>        String input = \"12252013\";\n        Locale spanishLocale=new Locale(\"es\", \"ES\");\n\n        DateFormatSymbols sym = DateFormatSymbols.getInstance(spanishLocale);\n        sym.setMonths(new String[]{\"Enero\",\"Febrero\",\"Marzo\",\"Abril\",\"Mayo\",\"Junio\",\"Julio\",\"Agosto\",\"Septiembre\",\"Octubre\",\"Noviembre\",\"Diciembre\" });\n        sym.setShortMonths(new String[]{\"Ene\",\"Feb\",\"Mar\",\"Abr\",\"May\",\"Jun\",\"Jul\",\"Ago\",\"Sep\",\"Oct\",\"Nov\",\"Dic\" });\n\n        DateFormat df = DateFormat.getDateInstance(DateFormat.MEDIUM, spanishLocale);\n        SimpleDateFormat sdf = (SimpleDateFormat) df;\n        sdf.setDateFormatSymbols(sym);\n\n        Date inputDate = new SimpleDateFormat(\"MMddyyyy\").parse(input);\n\n        String dateInSpanish = sdf.format(inputDate);\n        System.out.println(dateInSpanish);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552983379,"creation_date":1552983379,"answer_id":55236266,"question_id":55213972,"body_markdown":"This is the discouraged answer! I suppose that you speak and write Spanish better than I do, but my understanding is that Spanish — like possibly most of the languages of the world — uses a small first letter in month names. Of course you write “Diciembre es un mes fr&#237;o” (December is a cold month; from Google Translate), but in the middle of “25 dic, 2013” you need a small d.\r\n\r\nIn any case, Java can of course produce incorrect output if you instruct it to produce incorrect output. So if your users insist:\r\n\r\n\t\tLocale spanishLocale = new Locale(&quot;es&quot;, &quot;ES&quot;);\r\n\t\tMap&lt;Long, String&gt; monthAbbreviations = Stream.of(Month.values())\r\n\t\t\t\t.collect(Collectors.toMap(m -&gt; Long.valueOf(m.getValue()), \r\n\t\t\t\t\t\tm -&gt; {\r\n\t\t\t\t\t\t\tString abbrev = m.getDisplayName(TextStyle.SHORT, spanishLocale);\r\n\t\t\t\t\t\t\t// Capitalize first letter against Spanish usage\r\n\t\t\t\t\t\t\treturn abbrev.substring(0, 1).toUpperCase(spanishLocale)\r\n\t\t\t\t\t\t\t\t\t+ abbrev.substring(1);\r\n\t\t\t\t\t\t}));\r\n\t\tDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n\t\t\t\t.appendPattern(&quot;dd &quot;)\r\n\t\t\t\t.appendText(ChronoField.MONTH_OF_YEAR, monthAbbreviations)\r\n\t\t\t\t.appendPattern(&quot;, yyyy&quot;)\r\n\t\t\t\t.toFormatter(spanishLocale);\r\n\t\t\r\n\t\tLocalDate localDate = LocalDate.of(2013, Month.DECEMBER, 25);\r\n\t\tString dateInSpanish=localDate.format(formatter);\r\n\t\tSystem.out.println(&quot;&#39;2013-12-25&#39; in Spanish with non-current capitalization: &quot; + dateInSpanish);\r\n\r\n&gt; &#39;2013-12-25&#39; in Spanish with non-current capitalization: 25 Dic., 2013\r\n\r\nIf you don’t want the dot signifying the abbreviation, modify the code to remove that too.\r\n\r\nLink: [Months of the year in many different languages](https://www.omniglot.com/language/time/months.htm)","title":"How to capitalize the first letter of the three letters month name date in Java 8","body":"<p>This is the discouraged answer! I suppose that you speak and write Spanish better than I do, but my understanding is that Spanish — like possibly most of the languages of the world — uses a small first letter in month names. Of course you write “Diciembre es un mes frío” (December is a cold month; from Google Translate), but in the middle of “25 dic, 2013” you need a small d.</p>\n\n<p>In any case, Java can of course produce incorrect output if you instruct it to produce incorrect output. So if your users insist:</p>\n\n<pre><code>    Locale spanishLocale = new Locale(\"es\", \"ES\");\n    Map&lt;Long, String&gt; monthAbbreviations = Stream.of(Month.values())\n            .collect(Collectors.toMap(m -&gt; Long.valueOf(m.getValue()), \n                    m -&gt; {\n                        String abbrev = m.getDisplayName(TextStyle.SHORT, spanishLocale);\n                        // Capitalize first letter against Spanish usage\n                        return abbrev.substring(0, 1).toUpperCase(spanishLocale)\n                                + abbrev.substring(1);\n                    }));\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n            .appendPattern(\"dd \")\n            .appendText(ChronoField.MONTH_OF_YEAR, monthAbbreviations)\n            .appendPattern(\", yyyy\")\n            .toFormatter(spanishLocale);\n\n    LocalDate localDate = LocalDate.of(2013, Month.DECEMBER, 25);\n    String dateInSpanish=localDate.format(formatter);\n    System.out.println(\"'2013-12-25' in Spanish with non-current capitalization: \" + dateInSpanish);\n</code></pre>\n\n<blockquote>\n  <p>'2013-12-25' in Spanish with non-current capitalization: 25 Dic., 2013</p>\n</blockquote>\n\n<p>If you don’t want the dot signifying the abbreviation, modify the code to remove that too.</p>\n\n<p>Link: <a href=\"https://www.omniglot.com/language/time/months.htm\" rel=\"nofollow noreferrer\">Months of the year in many different languages</a></p>\n"},{"tags":[],"owner":{"account_id":1471874,"reputation":4295,"user_id":1383227,"accept_rate":86,"display_name":"Jorge Gil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581665229,"creation_date":1581665229,"answer_id":60221767,"question_id":55213972,"body_markdown":"    dateString = &quot;14/feb/2020&quot;;\r\n            dateString = UtilsDate.capitalizeDate(dateString);\r\n\r\n...\r\n\r\n        public static String capitalizeDate(String dateString) {\r\n\r\n        StringBuilder dateStringBuilder = new StringBuilder(dateString.toLowerCase());\r\n\r\n        for (int i = 0; i &lt; dateStringBuilder.length(); i++) {\r\n\r\n            char c = dateStringBuilder.charAt(i);\r\n\r\n            if ((c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;z&#39;) || (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;)) {\r\n\r\n                dateStringBuilder.setCharAt(i, Character.toUpperCase(dateStringBuilder.charAt(i)));\r\n\r\n                break;\r\n            }\r\n        }\r\n\r\n        return dateStringBuilder.toString();\r\n    }\r\n","title":"How to capitalize the first letter of the three letters month name date in Java 8","body":"<pre><code>dateString = \"14/feb/2020\";\n        dateString = UtilsDate.capitalizeDate(dateString);\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    public static String capitalizeDate(String dateString) {\n\n    StringBuilder dateStringBuilder = new StringBuilder(dateString.toLowerCase());\n\n    for (int i = 0; i &lt; dateStringBuilder.length(); i++) {\n\n        char c = dateStringBuilder.charAt(i);\n\n        if ((c &gt;= 'a' &amp;&amp; c &lt;= 'z') || (c &gt;= 'A' &amp;&amp; c &lt;= 'Z')) {\n\n            dateStringBuilder.setCharAt(i, Character.toUpperCase(dateStringBuilder.charAt(i)));\n\n            break;\n        }\n    }\n\n    return dateStringBuilder.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":13750461,"reputation":79,"user_id":9922691,"display_name":"TorkB80"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8704,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1701891524,"creation_date":1552875948,"question_id":55213972,"body_markdown":"I have the following string that represents a date like this &quot;20190123&quot; and I want to to convert it into this format &quot;25 Dic 2019&quot; the month name should be in Spanish and the first letter should be in uppercase so far I have this \r\n\r\n\r\n        String input = &quot;12252013&quot;;\r\n    \tDateTimeFormatter formatter = DateTimeFormatter.ofPattern( &quot;MMddyyyy&quot; );\r\n    \tLocalDate localDate = LocalDate.parse( input , formatter );\r\n        Locale spanishLocale=new Locale(&quot;es&quot;, &quot;ES&quot;);\r\n    \tString dateInSpanish=localDate.format(DateTimeFormatter.ofPattern(&quot;dd MMM, yyyy&quot;,spanishLocale));\r\n        System.out.println(&quot;&#39;2016-01-01&#39; in Spanish: &quot;+dateInSpanish);\r\n\r\nthis prints `&quot;25 dic, 2013&quot;` I want it to be like this `&quot;25 Dic 2019&quot;`","title":"How to capitalize the first letter of the three letters month name date in Java 8","body":"<p>I have the following string that represents a date like this \"20190123\" and I want to to convert it into this format \"25 Dic 2019\" the month name should be in Spanish and the first letter should be in uppercase so far I have this </p>\n\n<pre><code>    String input = \"12252013\";\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern( \"MMddyyyy\" );\n    LocalDate localDate = LocalDate.parse( input , formatter );\n    Locale spanishLocale=new Locale(\"es\", \"ES\");\n    String dateInSpanish=localDate.format(DateTimeFormatter.ofPattern(\"dd MMM, yyyy\",spanishLocale));\n    System.out.println(\"'2016-01-01' in Spanish: \"+dateInSpanish);\n</code></pre>\n\n<p>this prints <code>\"25 dic, 2013\"</code> I want it to be like this <code>\"25 Dic 2019\"</code></p>\n"},{"tags":["java","javafx-8","pdfbox","dmg"],"answers":[{"comments":[{"owner":{"account_id":28949918,"reputation":1,"user_id":22174754,"display_name":"Beranger"},"score":0,"creation_date":1701948124,"post_id":77615782,"comment_id":136839186,"body_markdown":"I tried to add this to my code, but there is an error with the Notifications.create(). Do I need to import something for it to work?","body":"I tried to add this to my code, but there is an error with the Notifications.create(). Do I need to import something for it to work?"},{"owner":{"account_id":73819,"reputation":4696,"user_id":212380,"display_name":"dschulz"},"score":0,"creation_date":1702066888,"post_id":77615782,"comment_id":136856147,"body_markdown":"Yes, you need to add a third party dependency to your project, see [this](https://mvnrepository.com/artifact/org.controlsfx/controlsfx/11.2.0). You might want to avoid adding such a dependency because it&#39;s somewhat big. You can use a plain JavaFX Alert class instead","body":"Yes, you need to add a third party dependency to your project, see <a href=\"https://mvnrepository.com/artifact/org.controlsfx/controlsfx/11.2.0\" rel=\"nofollow noreferrer\">this</a>. You might want to avoid adding such a dependency because it&#39;s somewhat big. You can use a plain JavaFX Alert class instead"}],"tags":[],"owner":{"account_id":73819,"reputation":4696,"user_id":212380,"display_name":"dschulz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701891130,"creation_date":1701890563,"answer_id":77615782,"question_id":77615594,"body_markdown":"You should consider a more clear way of getting an output file. I have no experience with Apache PDFBox itself, but there&#39;s basic ancillary code you should consider adding to improve your app.\r\n\r\nRough example:\r\n\r\n    /// Other code here\r\n\r\n    // FileChooser needs a stage\r\n    // you need to set this somewhere,\r\n    // probably with a simple setter after instantiating your controller\r\n    private Stage stage;\r\n\r\n    private File getHomePath() {\r\n        String homePath = System.getProperty(&quot;user.home&quot;);\r\n        return new File(homePath);\r\n    }\r\n    private File getOutputFile(String suggestedName) {\r\n\r\n        FileChooser fileChooser = new FileChooser();\r\n        fileChooser.setInitialDirectory(getHomePath());\r\n        fileChooser.setInitialFileName(suggestedName);\r\n        fileChooser.setSelectedExtensionFilter(new FileChooser.ExtensionFilter(&quot;PDF files (*.pdf)&quot;, &quot;*.pdf&quot;));\r\n\r\n        return fileChooser.showSaveDialog(stage);\r\n    }\r\n\r\n\r\n    public void  exportPdf(){\r\n\r\n        File outputFile = getOutputFile(&quot;some.pdf&quot;);\r\n        if (null == outputFile) {\r\n            // optional: show dialog with a warning\r\n            // about no output file selected\r\n            return;\r\n        }\r\n\r\n        Thread exportThread = new Thread(() -&gt; {\r\n\r\n            try (FileOutputStream fileOutputStream = new FileOutputStream(outputFile)) {\r\n\r\n                 // The actual save() is here\r\n                 document.save(fileOutputStream);\r\n            } catch (IOException e) {\r\n                // This could be replaced with a warning dialog\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            Platform.runLater(() -&gt; Notifications.create()\r\n                .title(&quot;Finished&quot;)\r\n                .text(&quot;PDF saved&quot;)\r\n                .position(Pos.TOP_CENTER)\r\n                .showInformation());\r\n        });\r\n\r\n        exportThread.start();\r\n    }\r\n\r\n    /// ...\r\n    /// more code\r\n\r\n\r\nThe `Notifications` class comes from the ControlsFX library. Feel free to replace with a plain dialog.","title":"Creating PDFs in a custom javafx application","body":"<p>You should consider a more clear way of getting an output file. I have no experience with Apache PDFBox itself, but there's basic ancillary code you should consider adding to improve your app.</p>\n<p>Rough example:</p>\n<pre><code>/// Other code here\n\n// FileChooser needs a stage\n// you need to set this somewhere,\n// probably with a simple setter after instantiating your controller\nprivate Stage stage;\n\nprivate File getHomePath() {\n    String homePath = System.getProperty(&quot;user.home&quot;);\n    return new File(homePath);\n}\nprivate File getOutputFile(String suggestedName) {\n\n    FileChooser fileChooser = new FileChooser();\n    fileChooser.setInitialDirectory(getHomePath());\n    fileChooser.setInitialFileName(suggestedName);\n    fileChooser.setSelectedExtensionFilter(new FileChooser.ExtensionFilter(&quot;PDF files (*.pdf)&quot;, &quot;*.pdf&quot;));\n\n    return fileChooser.showSaveDialog(stage);\n}\n\n\npublic void  exportPdf(){\n\n    File outputFile = getOutputFile(&quot;some.pdf&quot;);\n    if (null == outputFile) {\n        // optional: show dialog with a warning\n        // about no output file selected\n        return;\n    }\n\n    Thread exportThread = new Thread(() -&gt; {\n\n        try (FileOutputStream fileOutputStream = new FileOutputStream(outputFile)) {\n\n             // The actual save() is here\n             document.save(fileOutputStream);\n        } catch (IOException e) {\n            // This could be replaced with a warning dialog\n            throw new RuntimeException(e);\n        }\n\n        Platform.runLater(() -&gt; Notifications.create()\n            .title(&quot;Finished&quot;)\n            .text(&quot;PDF saved&quot;)\n            .position(Pos.TOP_CENTER)\n            .showInformation());\n    });\n\n    exportThread.start();\n}\n\n/// ...\n/// more code\n</code></pre>\n<p>The <code>Notifications</code> class comes from the ControlsFX library. Feel free to replace with a plain dialog.</p>\n"}],"owner":{"account_id":28949918,"reputation":1,"user_id":22174754,"display_name":"Beranger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701891130,"creation_date":1701888267,"question_id":77615594,"body_markdown":"I&#39;m working on a Javafx project and have successfully converted it to a .dmg file using IntelliJ. On feature is that when a button is pressed, a PDF should be created and saved in the dowloads folder. This works perfectly when running the program in IntelliJ, but doesn&#39;t work in the application version of the program(one you get after opening the .dmg file). I am using Apache PDFBox to create the PDFs.\r\n\r\nThis is the method use to save the PDF, document has been initialized and isn&#39;t empty:\r\n\r\n\r\n```\r\npublic void savePDF(String title) throws IOException{\r\n   String home = System.getProperty(&quot;user.home&quot;);\r\n   document.save(home+&quot;/Downloads/&quot;+title+&quot;.pdf&quot;);\r\n   System.out.println(&quot;PDF created&quot;);\r\n}\r\n```\r\n\r\nI have tried changing the output folder in which the PDF file is created but it didn&#39;t change anything.","title":"Creating PDFs in a custom javafx application","body":"<p>I'm working on a Javafx project and have successfully converted it to a .dmg file using IntelliJ. On feature is that when a button is pressed, a PDF should be created and saved in the dowloads folder. This works perfectly when running the program in IntelliJ, but doesn't work in the application version of the program(one you get after opening the .dmg file). I am using Apache PDFBox to create the PDFs.</p>\n<p>This is the method use to save the PDF, document has been initialized and isn't empty:</p>\n<pre><code>public void savePDF(String title) throws IOException{\n   String home = System.getProperty(&quot;user.home&quot;);\n   document.save(home+&quot;/Downloads/&quot;+title+&quot;.pdf&quot;);\n   System.out.println(&quot;PDF created&quot;);\n}\n</code></pre>\n<p>I have tried changing the output folder in which the PDF file is created but it didn't change anything.</p>\n"},{"tags":["java","html","spring"],"owner":{"account_id":30083824,"reputation":1,"user_id":23054854,"display_name":"Maciej Jankowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701890853,"creation_date":1701890853,"question_id":77615807,"body_markdown":"I&#39;m developing an application in Spring and adding a view with simple HTML, CSS, and Thymeleaf. I would like to know the easiest way to automatically populate fields in the HTML view based on certain data. Below, I provide an overview of how it looks for me and what I want to achieve.\r\nIn short:\r\nI have entities Order, Carrier, Invoice.\r\nThe carrier receives an order, fulfills it, then sends us an invoice, and we want to enter it into the system.\r\n\r\nMain Entity Invoice:\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class Invoice {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String invoiceNumber;\r\n    private LocalDate invoiceDate;\r\n    private LocalDate dueDate;\r\n    private BigDecimal nettoValue;\r\n    private BigDecimal bruttoValue;\r\n    private Boolean isPaid;\r\n}\r\n```\r\n\r\nThe entity that inherits from it and is the subject of this conversation:\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class InvoiceFromCarrier extends Invoice {\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private ForwardingOrder order;\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;carrier_id&quot;)\r\n    private Carrier carrier;\r\n}\r\n```\r\n\r\nDTO:\r\n\r\n```java\r\n@Getter\r\n@Setter\r\npublic class InvoiceFromCarrierDTO {\r\n    private Long id;\r\n    private String invoiceNumber;\r\n    private LocalDate invoiceDate;\r\n    private LocalDate dueDate;\r\n    private BigDecimal nettoValue;\r\n    private BigDecimal bruttoValue;\r\n    private Boolean isPaid;\r\n    private ForwardingOrderDTO orderDTO;\r\n    private CarrierDTO carrierDTO;\r\n}\r\n```\r\n\r\nSo, the Invoice entity has relationships with a specific order and the carrier from whom it originates.\r\nThe idea is that when we want to enter an invoice into the system, we enter its number (invoiceNumber) in the form. We choose the relevant order from the list of available, not invoiced orders. Subsequently, fields such as payment deadline, net and gross values automatically populate themselves.\r\n\r\nI&#39;ve created a service, but now I don&#39;t know what next... I tried using JS, but the frontend is not my strong suit :)) I&#39;m looking for the simplest possible solution to my problem.\r\n\r\n\r\n\r\n\r\n```java\r\n\r\n    @Transactional\r\n    public InvoiceFromCarrierDTO addCarrierInvoice(InvoiceFromCarrierDTO invoiceDTO){\r\n        InvoiceFromCarrier invoice = invoiceFromCarrierMapper.map(invoiceDTO);\r\n\r\n        ForwardingOrder order = findOrderById(invoice);\r\n        Carrier carrier = findCarrierById(invoice);\r\n\r\n        addAdditionalDataForEntities(invoice, order, carrier);\r\n\r\n        forwardingOrderRepository.save(order);\r\n        InvoiceFromCarrier saved = invoiceFromCarrierRepository.save(invoice);\r\n        return invoiceFromCarrierMapper.map(saved);\r\n    }\r\n\r\n    private void addAdditionalDataForEntities(InvoiceFromCarrier invoice, ForwardingOrder order, Carrier carrier) {\r\n        LocalDate currentDate = LocalDate.now();\r\n        invoice.setInvoiceDate(currentDate);\r\n        order.setIsInvoiced(true);\r\n        Integer termOfPayment = carrier.getTermOfPayment();\r\n        LocalDate dueDate = currentDate.plusDays(termOfPayment);\r\n        invoice.setDueDate(dueDate);\r\n        invoice.setNettoValue(order.getPrice());\r\n        BigDecimal bruttoValue = vatCalculatorService.calculateBrutto(order.getPrice(), carrier.getVatNumber());\r\n        invoice.setBruttoValue(bruttoValue);\r\n\r\n    }\r\n\r\n    private Carrier findCarrierById(InvoiceFromCarrier invoice) {\r\n        Long carrierId = invoice.getCarrier().getId();\r\n        return carrierRepository.findById(carrierId).orElseThrow(() -&gt; new CarrierNotFoundException(&quot;Carrier not found&quot;));\r\n    }\r\n\r\n    private ForwardingOrder findOrderById(InvoiceFromCarrier invoice) {\r\n        Long orderId = invoice.getOrder().getId();\r\n        return forwardingOrderRepository.findById(orderId).orElseThrow(() -&gt; new OrderNotFoundException(&quot;Order not found&quot;));\r\n    }\r\n```\r\n\r\nI want the form data to auto-populate. This is possible because the invoice has a relationship with an order.","title":"Automatic data completion in the form (HTML,CSS, SPRING)","body":"<p>I'm developing an application in Spring and adding a view with simple HTML, CSS, and Thymeleaf. I would like to know the easiest way to automatically populate fields in the HTML view based on certain data. Below, I provide an overview of how it looks for me and what I want to achieve.\nIn short:\nI have entities Order, Carrier, Invoice.\nThe carrier receives an order, fulfills it, then sends us an invoice, and we want to enter it into the system.</p>\n<p>Main Entity Invoice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class Invoice {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String invoiceNumber;\n    private LocalDate invoiceDate;\n    private LocalDate dueDate;\n    private BigDecimal nettoValue;\n    private BigDecimal bruttoValue;\n    private Boolean isPaid;\n}\n</code></pre>\n<p>The entity that inherits from it and is the subject of this conversation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class InvoiceFromCarrier extends Invoice {\n    @OneToOne\n    @JoinColumn(name = &quot;order_id&quot;)\n    private ForwardingOrder order;\n    @ManyToOne\n    @JoinColumn(name=&quot;carrier_id&quot;)\n    private Carrier carrier;\n}\n</code></pre>\n<p>DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\npublic class InvoiceFromCarrierDTO {\n    private Long id;\n    private String invoiceNumber;\n    private LocalDate invoiceDate;\n    private LocalDate dueDate;\n    private BigDecimal nettoValue;\n    private BigDecimal bruttoValue;\n    private Boolean isPaid;\n    private ForwardingOrderDTO orderDTO;\n    private CarrierDTO carrierDTO;\n}\n</code></pre>\n<p>So, the Invoice entity has relationships with a specific order and the carrier from whom it originates.\nThe idea is that when we want to enter an invoice into the system, we enter its number (invoiceNumber) in the form. We choose the relevant order from the list of available, not invoiced orders. Subsequently, fields such as payment deadline, net and gross values automatically populate themselves.</p>\n<p>I've created a service, but now I don't know what next... I tried using JS, but the frontend is not my strong suit :)) I'm looking for the simplest possible solution to my problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Transactional\n    public InvoiceFromCarrierDTO addCarrierInvoice(InvoiceFromCarrierDTO invoiceDTO){\n        InvoiceFromCarrier invoice = invoiceFromCarrierMapper.map(invoiceDTO);\n\n        ForwardingOrder order = findOrderById(invoice);\n        Carrier carrier = findCarrierById(invoice);\n\n        addAdditionalDataForEntities(invoice, order, carrier);\n\n        forwardingOrderRepository.save(order);\n        InvoiceFromCarrier saved = invoiceFromCarrierRepository.save(invoice);\n        return invoiceFromCarrierMapper.map(saved);\n    }\n\n    private void addAdditionalDataForEntities(InvoiceFromCarrier invoice, ForwardingOrder order, Carrier carrier) {\n        LocalDate currentDate = LocalDate.now();\n        invoice.setInvoiceDate(currentDate);\n        order.setIsInvoiced(true);\n        Integer termOfPayment = carrier.getTermOfPayment();\n        LocalDate dueDate = currentDate.plusDays(termOfPayment);\n        invoice.setDueDate(dueDate);\n        invoice.setNettoValue(order.getPrice());\n        BigDecimal bruttoValue = vatCalculatorService.calculateBrutto(order.getPrice(), carrier.getVatNumber());\n        invoice.setBruttoValue(bruttoValue);\n\n    }\n\n    private Carrier findCarrierById(InvoiceFromCarrier invoice) {\n        Long carrierId = invoice.getCarrier().getId();\n        return carrierRepository.findById(carrierId).orElseThrow(() -&gt; new CarrierNotFoundException(&quot;Carrier not found&quot;));\n    }\n\n    private ForwardingOrder findOrderById(InvoiceFromCarrier invoice) {\n        Long orderId = invoice.getOrder().getId();\n        return forwardingOrderRepository.findById(orderId).orElseThrow(() -&gt; new OrderNotFoundException(&quot;Order not found&quot;));\n    }\n</code></pre>\n<p>I want the form data to auto-populate. This is possible because the invoice has a relationship with an order.</p>\n"},{"tags":["java","apache-camel","apache-karaf","blueprint"],"comments":[{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":1,"creation_date":1701954652,"post_id":77615802,"comment_id":136840374,"body_markdown":"Remember - Maven dependencies are not what is actually available in Karaf when you install your blueprint bundle... I&#39;d need much more information - how did you install Camel in Karaf 4.4? Camel version 2.23 is very old if used from Maven Central, but it is part of Red Hat Fuse 7 - are you using Fuse?","body":"Remember - Maven dependencies are not what is actually available in Karaf when you install your blueprint bundle... I&#39;d need much more information - how did you install Camel in Karaf 4.4? Camel version 2.23 is very old if used from Maven Central, but it is part of Red Hat Fuse 7 - are you using Fuse?"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1702298105,"post_id":77615802,"comment_id":136875166,"body_markdown":"Camel 2.x is not compatible out of the box with latest Karaf 4.4.x.","body":"Camel 2.x is not compatible out of the box with latest Karaf 4.4.x."}],"owner":{"account_id":30083682,"reputation":1,"user_id":23054741,"display_name":"David Florez Mendez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701890796,"creation_date":1701890796,"question_id":77615802,"body_markdown":"I have a blueprint project in camel version 2.23 - Java 8\r\nWhen I try to deploy to Karaf 4.4, I am getting the following error with the javax.el dependency:\r\n\r\n\r\n```\r\nCamel Blueprint\r\nCamel context &quot;BaseRestContext&quot;\r\nException: Failed to create route SYNC-RESPONSE: Route(SYNC-RESPONSE)[[From[direct-vm:SyncResponse]] -&gt; [OnEx... because of Failete Producer for endpoint: bean-validator://beanValidation. Reason: javax.validation.ValidationException: HV000183: Unable to initavax.el.ExpressionFactory&#39;. Check that you have the EL dependencies on the classpath, or use ParameterMessageInterpolator instead\r\norg.apache.camel.FailedToCreateRouteException: Failed to create route SYNC-RESPONSE: Route(SYNC-RESPONSE)[[From[direct-vm:SyncRes&gt; [OnEx... because of Failed to create Producer for endpoint: bean-validator://beanValidation. Reason: javax.validation.Validation: HV000183: Unable to initialize &#39;javax.el.ExpressionFactory&#39;. Check that you have the EL dependencies on the classpath, or use MessageInterpolator instead\r\n        at org.apache.camel.impl.RouteService.warmUp(RouteService.java:147)\r\n        at org.apache.camel.impl.DefaultCamelContext.doWarmUpRoutes(DefaultCamelContext.java:3953)\r\n        at org.apache.camel.impl.DefaultCamelContext.safelyStartRouteServices(DefaultCamelContext.java:3860)\r\n        at org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRoutes(DefaultCamelContext.java:3646)\r\n        at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3489)\r\n        at org.apache.camel.impl.DefaultCamelContext$4.call(DefaultCamelContext.java:3248)\r\n        at org.apache.camel.impl.DefaultCamelContext$4.call(DefaultCamelContext.java:3244)\r\n        at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3267)\r\n        at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3244)\r\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\r\n        at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3160)\r\n        at org.apache.camel.blueprint.BlueprintCamelContext.start(BlueprintCamelContext.java:255)\r\n        at org.apache.camel.blueprint.BlueprintCamelContext.maybeStart(BlueprintCamelContext.java:297)\r\n        at org.apache.camel.blueprint.BlueprintCamelContext.blueprintEvent(BlueprintCamelContext.java:188)\r\n        at org.apache.aries.blueprint.container.BlueprintEventDispatcher$3.call(BlueprintEventDispatcher.java:197)\r\n        at org.apache.aries.blueprint.container.BlueprintEventDispatcher$3.call(BlueprintEventDispatcher.java:195)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:30\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.camel.FailedToCreateProducerException: Failed to create Producer for endpoint: bean-validator://beanValidaton: javax.validation.ValidationException: HV000183: Unable to initialize &#39;javax.el.ExpressionFactory&#39;. Check that you have the ELcies on the classpath, or use ParameterMessageInterpolator instead\r\n        at org.apache.camel.impl.ProducerCache.doGetProducer(ProducerCache.java:584)\r\n        at org.apache.camel.impl.ProducerCache.acquireProducer(ProducerCache.java:168)\r\n        at org.apache.camel.processor.SendProcessor.doStart(SendProcessor.java:248)\r\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)\r\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\r\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:90)\r\n        at org.apache.camel.processor.interceptor.DefaultChannel.doStart(DefaultChannel.java:160)\r\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)\r\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:62)\r\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\r\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:90)\r\n        at org.apache.camel.processor.MulticastProcessor.doStart(MulticastProcessor.java:1185)\r\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)\r\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\r\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:90)\r\n        at org.apache.camel.processor.TryProcessor.doStart(TryProcessor.java:163)\r\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)\r\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\r\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:90)\r\n        at org.apache.camel.processor.interceptor.DefaultChannel.doStart(DefaultChannel.java:160)\r\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)\r\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\r\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:90)\r\n        at org.apache.camel.processor.DelegateAsyncProcessor.doStart(DelegateAsyncProcessor.java:80)\r\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\r\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\r\n        at org.apache.camel.impl.RouteService.startChildService(RouteService.java:370)\r\n        at org.apache.camel.impl.RouteService.doWarmUp(RouteService.java:196)\r\n        at org.apache.camel.impl.RouteService.warmUp(RouteService.java:145)\r\n        ... 24 more\r\nCaused by: javax.validation.ValidationException: HV000183: Unable to initialize &#39;javax.el.ExpressionFactory&#39;. Check that you haveependencies on the classpath, or use ParameterMessageInterpolator instead\r\n        at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.buildExpressionFactory(ResourceBundleMerpolator.java:123)\r\n        at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolato)\r\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.getDefaultMessageInterpolator(ConfigurationImpl.java:474)\r\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.getDefaultMessageInterpolatorConfiguredWithClassLoader(Confimpl.java:650)\r\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.getMessageInterpolator(ConfigurationImpl.java:397)\r\n        at org.hibernate.validator.internal.engine.ValidatorFactoryImpl.&lt;init&gt;(ValidatorFactoryImpl.java:183)\r\n        at org.hibernate.validator.HibernateValidator.buildValidatorFactory(HibernateValidator.java:38)\r\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.buildValidatorFactory(ConfigurationImpl.java:364)\r\n        at org.apache.camel.component.bean.validator.ValidatorFactories.buildValidatorFactory(ValidatorFactories.java:63)\r\n        at org.apache.camel.component.bean.validator.BeanValidatorEndpoint.createProducer(BeanValidatorEndpoint.java:69)\r\n        at org.apache.camel.impl.ProducerCache.doGetProducer(ProducerCache.java:573)\r\n        ... 63 more\r\n```\r\n\r\nI tried to add the following dependencies in the project pom file, but the problem continues\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n   &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.1-b06&lt;/version&gt;\r\n&lt;/dependency&gt;--&gt;\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n &lt;version&gt;3.0.1-b09&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlso try replacing these dependencies and putting the latest version only, but the problem continues\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.3&lt;/version&gt;\r\n   &lt;!--&lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;type&gt;jar&lt;/type&gt; --&gt;    \r\n&lt;/dependency&gt;\r\n```\r\nthanks for your help","title":"Error with Javax.el dependency when deployed camel blueprint project in Karaf 4.4","body":"<p>I have a blueprint project in camel version 2.23 - Java 8\nWhen I try to deploy to Karaf 4.4, I am getting the following error with the javax.el dependency:</p>\n<pre><code>Camel Blueprint\nCamel context &quot;BaseRestContext&quot;\nException: Failed to create route SYNC-RESPONSE: Route(SYNC-RESPONSE)[[From[direct-vm:SyncResponse]] -&gt; [OnEx... because of Failete Producer for endpoint: bean-validator://beanValidation. Reason: javax.validation.ValidationException: HV000183: Unable to initavax.el.ExpressionFactory'. Check that you have the EL dependencies on the classpath, or use ParameterMessageInterpolator instead\norg.apache.camel.FailedToCreateRouteException: Failed to create route SYNC-RESPONSE: Route(SYNC-RESPONSE)[[From[direct-vm:SyncRes&gt; [OnEx... because of Failed to create Producer for endpoint: bean-validator://beanValidation. Reason: javax.validation.Validation: HV000183: Unable to initialize 'javax.el.ExpressionFactory'. Check that you have the EL dependencies on the classpath, or use MessageInterpolator instead\n        at org.apache.camel.impl.RouteService.warmUp(RouteService.java:147)\n        at org.apache.camel.impl.DefaultCamelContext.doWarmUpRoutes(DefaultCamelContext.java:3953)\n        at org.apache.camel.impl.DefaultCamelContext.safelyStartRouteServices(DefaultCamelContext.java:3860)\n        at org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRoutes(DefaultCamelContext.java:3646)\n        at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3489)\n        at org.apache.camel.impl.DefaultCamelContext$4.call(DefaultCamelContext.java:3248)\n        at org.apache.camel.impl.DefaultCamelContext$4.call(DefaultCamelContext.java:3244)\n        at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3267)\n        at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3244)\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\n        at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3160)\n        at org.apache.camel.blueprint.BlueprintCamelContext.start(BlueprintCamelContext.java:255)\n        at org.apache.camel.blueprint.BlueprintCamelContext.maybeStart(BlueprintCamelContext.java:297)\n        at org.apache.camel.blueprint.BlueprintCamelContext.blueprintEvent(BlueprintCamelContext.java:188)\n        at org.apache.aries.blueprint.container.BlueprintEventDispatcher$3.call(BlueprintEventDispatcher.java:197)\n        at org.apache.aries.blueprint.container.BlueprintEventDispatcher$3.call(BlueprintEventDispatcher.java:195)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:30\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.apache.camel.FailedToCreateProducerException: Failed to create Producer for endpoint: bean-validator://beanValidaton: javax.validation.ValidationException: HV000183: Unable to initialize 'javax.el.ExpressionFactory'. Check that you have the ELcies on the classpath, or use ParameterMessageInterpolator instead\n        at org.apache.camel.impl.ProducerCache.doGetProducer(ProducerCache.java:584)\n        at org.apache.camel.impl.ProducerCache.acquireProducer(ProducerCache.java:168)\n        at org.apache.camel.processor.SendProcessor.doStart(SendProcessor.java:248)\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:90)\n        at org.apache.camel.processor.interceptor.DefaultChannel.doStart(DefaultChannel.java:160)\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:62)\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:90)\n        at org.apache.camel.processor.MulticastProcessor.doStart(MulticastProcessor.java:1185)\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:90)\n        at org.apache.camel.processor.TryProcessor.doStart(TryProcessor.java:163)\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:90)\n        at org.apache.camel.processor.interceptor.DefaultChannel.doStart(DefaultChannel.java:160)\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:60)\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:104)\n        at org.apache.camel.util.ServiceHelper.startServices(ServiceHelper.java:90)\n        at org.apache.camel.processor.DelegateAsyncProcessor.doStart(DelegateAsyncProcessor.java:80)\n        at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:72)\n        at org.apache.camel.util.ServiceHelper.startService(ServiceHelper.java:75)\n        at org.apache.camel.impl.RouteService.startChildService(RouteService.java:370)\n        at org.apache.camel.impl.RouteService.doWarmUp(RouteService.java:196)\n        at org.apache.camel.impl.RouteService.warmUp(RouteService.java:145)\n        ... 24 more\nCaused by: javax.validation.ValidationException: HV000183: Unable to initialize 'javax.el.ExpressionFactory'. Check that you haveependencies on the classpath, or use ParameterMessageInterpolator instead\n        at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.buildExpressionFactory(ResourceBundleMerpolator.java:123)\n        at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolato)\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.getDefaultMessageInterpolator(ConfigurationImpl.java:474)\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.getDefaultMessageInterpolatorConfiguredWithClassLoader(Confimpl.java:650)\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.getMessageInterpolator(ConfigurationImpl.java:397)\n        at org.hibernate.validator.internal.engine.ValidatorFactoryImpl.&lt;init&gt;(ValidatorFactoryImpl.java:183)\n        at org.hibernate.validator.HibernateValidator.buildValidatorFactory(HibernateValidator.java:38)\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.buildValidatorFactory(ConfigurationImpl.java:364)\n        at org.apache.camel.component.bean.validator.ValidatorFactories.buildValidatorFactory(ValidatorFactories.java:63)\n        at org.apache.camel.component.bean.validator.BeanValidatorEndpoint.createProducer(BeanValidatorEndpoint.java:69)\n        at org.apache.camel.impl.ProducerCache.doGetProducer(ProducerCache.java:573)\n        ... 63 more\n</code></pre>\n<p>I tried to add the following dependencies in the project pom file, but the problem continues</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;javax.el&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n   &lt;version&gt;3.0.1-b06&lt;/version&gt;\n&lt;/dependency&gt;--&gt;\n&lt;dependency&gt;\n &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n &lt;version&gt;3.0.1-b09&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also try replacing these dependencies and putting the latest version only, but the problem continues</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n   &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n   &lt;version&gt;3.0.3&lt;/version&gt;\n   &lt;!--&lt;scope&gt;compile&lt;/scope&gt;\n&lt;type&gt;jar&lt;/type&gt; --&gt;    \n&lt;/dependency&gt;\n</code></pre>\n<p>thanks for your help</p>\n"},{"tags":["java","html","spring-boot","spring-data-jpa","thymeleaf"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1701889733,"post_id":77615717,"comment_id":136832084,"body_markdown":"Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a>"},{"owner":{"account_id":10007675,"reputation":937,"user_id":7401569,"display_name":"Sumit"},"score":0,"creation_date":1701890082,"post_id":77615717,"comment_id":136832139,"body_markdown":"Please put your code for reference instead of an image. Also the image you&#39;ve posted, I can see @GetMapping being used in your methods, so it will obviously going to throw error when you try to hit a GET method/controller with POST.","body":"Please put your code for reference instead of an image. Also the image you&#39;ve posted, I can see @GetMapping being used in your methods, so it will obviously going to throw error when you try to hit a GET method/controller with POST."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1701890340,"post_id":77615717,"comment_id":136832168,"body_markdown":"You almost certainly have a problem in your Spring configuration.  You are getting a generic response with this error (HTTP code 405) and this says &quot;config issue&quot; to me","body":"You almost certainly have a problem in your Spring configuration.  You are getting a generic response with this error (HTTP code 405) and this says &quot;config issue&quot; to me"}],"owner":{"account_id":23629737,"reputation":1,"user_id":17661648,"display_name":"Thanos G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701892500,"answer_count":0,"score":-3,"last_activity_date":1701889672,"creation_date":1701889672,"question_id":77615717,"body_markdown":"[error page](https://i.stack.imgur.com/n2rv5.png)\r\n[html in thymeleaf](https://i.stack.imgur.com/vIBSS.png)[http method](https://i.stack.imgur.com/3kMNU.png)\r\nI&#39;m encountering an issue where I keep receiving a &quot;Post method not allowed&quot; error when attempting to make a POST request to my API endpoint. I&#39;ve double-checked the method being used in my code, and it is indeed set to POST.\r\nI&#39;ve ensured that the endpoint supports POST requests, and I have the necessary permissions. Despite all this, the error persists.\r\n\r\nCould there be other reasons causing this issue apart from the request method? How can I troubleshoot and resolve this problem effectively?\r\n","title":"method POST is not supported","body":"<p><a href=\"https://i.stack.imgur.com/n2rv5.png\" rel=\"nofollow noreferrer\">error page</a>\n<a href=\"https://i.stack.imgur.com/vIBSS.png\" rel=\"nofollow noreferrer\">html in thymeleaf</a><a href=\"https://i.stack.imgur.com/3kMNU.png\" rel=\"nofollow noreferrer\">http method</a>\nI'm encountering an issue where I keep receiving a &quot;Post method not allowed&quot; error when attempting to make a POST request to my API endpoint. I've double-checked the method being used in my code, and it is indeed set to POST.\nI've ensured that the endpoint supports POST requests, and I have the necessary permissions. Despite all this, the error persists.</p>\n<p>Could there be other reasons causing this issue apart from the request method? How can I troubleshoot and resolve this problem effectively?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1655312259,"post_id":72635074,"comment_id":128304841,"body_markdown":"Not right now, I hadn&#39;t considered that when extending support of `@Builder` to records. Unfortunately, I cannot think off of the top of my head of some simple solution to this problem - you can&#39;t stick arbitrary expressions in annotations, so e.g. `@Builder.Default(System.getProperty(&quot;user.home&quot;))` doesn&#39;t compile - lombok can&#39;t do it that way.","body":"Not right now, I hadn&#39;t considered that when extending support of <code>@Builder</code> to records. Unfortunately, I cannot think off of the top of my head of some simple solution to this problem - you can&#39;t stick arbitrary expressions in annotations, so e.g. <code>@Builder.Default(System.getProperty(&quot;user.home&quot;))</code> doesn&#39;t compile - lombok can&#39;t do it that way."},{"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"score":0,"creation_date":1655389135,"post_id":72635074,"comment_id":128324894,"body_markdown":"Agree. Maybe solution like [mapstruct deals with expressions](https://mapstruct.org/documentation/stable/reference/html/#expressions) will be a good fit. But having expression language support only for @Builder.Default it&#39;s a high price","body":"Agree. Maybe solution like <a href=\"https://mapstruct.org/documentation/stable/reference/html/#expressions\" rel=\"nofollow noreferrer\">mapstruct deals with expressions</a> will be a good fit. But having expression language support only for @Builder.Default it&#39;s a high price"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1655389354,"post_id":72635074,"comment_id":128324982,"body_markdown":"I hate what mapstruct does. Shove java code in string literals is nuts. No auto-complete. Error checking it is difficult. Syntax colouring is a disaster. Nah, if we do this, probably make you write a static method that produces the value and takes no args, and annotate it with something. For example `@Builder.Default`, and the name has to be defaultX; if it isn&#39;t in that format, you get an error on the annotation explaining how to name them.","body":"I hate what mapstruct does. Shove java code in string literals is nuts. No auto-complete. Error checking it is difficult. Syntax colouring is a disaster. Nah, if we do this, probably make you write a static method that produces the value and takes no args, and annotate it with something. For example <code>@Builder.Default</code>, and the name has to be defaultX; if it isn&#39;t in that format, you get an error on the annotation explaining how to name them."},{"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"score":0,"creation_date":1655451312,"post_id":72635074,"comment_id":128340020,"body_markdown":"Agree, solution with static methods sounds much better. It&#39;s even better, then putting this methods inside builder itself. Like here `record FileProperties(@Builder.Default String directory) { class FilePropertiesBuilder {String defaultDirectory(){}} }`. Also, if possible, overriding default method name will be a good idea. Like here `@Builder.Default(method=&quot;userHome&quot;)`. Such code reusable and much readable.","body":"Agree, solution with static methods sounds much better. It&#39;s even better, then putting this methods inside builder itself. Like here <code>record FileProperties(@Builder.Default String directory) { class FilePropertiesBuilder {String defaultDirectory(){}} }</code>. Also, if possible, overriding default method name will be a good idea. Like here <code>@Builder.Default(method=&quot;userHome&quot;)</code>. Such code reusable and much readable."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1701887602,"post_id":72635074,"comment_id":136831702,"body_markdown":"It looks like an issue has finally been raised against Lombok for this: [lombok#3547](https://github.com/projectlombok/lombok/issues/3547)","body":"It looks like an issue has finally been raised against Lombok for this: <a href=\"https://github.com/projectlombok/lombok/issues/3547\" rel=\"nofollow noreferrer\">lombok#3547</a>"}],"answers":[{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1701887002,"post_id":72635212,"comment_id":136831595,"body_markdown":"I don&#39;t think that this argument holds in this case.  The author is (presumably) using the records as a simple container object.  It&#39;s just that they&#39;re using Lombok&#39;s [builder](https://projectlombok.org/features/Builder) functionality to have an API which creates it with default values if unspecified, rather than using the record constructor directly.","body":"I don&#39;t think that this argument holds in this case.  The author is (presumably) using the records as a simple container object.  It&#39;s just that they&#39;re using Lombok&#39;s <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">builder</a> functionality to have an API which creates it with default values if unspecified, rather than using the record constructor directly."}],"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1655312566,"creation_date":1655312488,"answer_id":72635212,"question_id":72635074,"body_markdown":"Don&#39;t use recorde if you want to do more things than recording values in a container. In this case you shouldn&#39;t use recorde because it doesn&#39;t allowed you to instruct something difference then simple recording your arguments. \r\n\r\nIf you want a default value for any instance you are creating of this class you need a &quot;normal&quot; constructor. \r\n\r\n\r\nThat&#39;s why you can&#39;t set values (again) in records. ","title":"Java Record with @Builder.Default","body":"<p>Don't use recorde if you want to do more things than recording values in a container. In this case you shouldn't use recorde because it doesn't allowed you to instruct something difference then simple recording your arguments.</p>\n<p>If you want a default value for any instance you are creating of this class you need a &quot;normal&quot; constructor.</p>\n<p>That's why you can't set values (again) in records.</p>\n"},{"tags":[],"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701888853,"creation_date":1679488375,"answer_id":75812314,"question_id":72635074,"body_markdown":"This functionality is not available at the moment. Per the first comment under the question by Lombok author Reinier Zwitserloot:\r\n\r\n&gt; Not right now, I hadn&#39;t considered that when extending support of `@Builder` to records.\r\n\r\nReinier goes on to explain why this would be problematic to implement in Lombok:\r\n\r\n&gt; Unfortunately, I cannot think off of the top of my head of some simple solution to this problem - you can&#39;t stick arbitrary expressions in annotations, so e.g. `@Builder.Default(System.getProperty(&quot;user.home&quot;))` doesn&#39;t compile - lombok can&#39;t do it that way.","title":"Java Record with @Builder.Default","body":"<p>This functionality is not available at the moment. Per the first comment under the question by Lombok author Reinier Zwitserloot:</p>\n<blockquote>\n<p>Not right now, I hadn't considered that when extending support of <code>@Builder</code> to records.</p>\n</blockquote>\n<p>Reinier goes on to explain why this would be problematic to implement in Lombok:</p>\n<blockquote>\n<p>Unfortunately, I cannot think off of the top of my head of some simple solution to this problem - you can't stick arbitrary expressions in annotations, so e.g. <code>@Builder.Default(System.getProperty(&quot;user.home&quot;))</code> doesn't compile - lombok can't do it that way.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1682484956,"creation_date":1682484956,"answer_id":76107286,"question_id":72635074,"body_markdown":"You can achieve the same outcome not by `@Builder.Default` but by defining the builder itself with defaults for Lombok:\r\n\r\n```java\r\n@Builder\r\npublic record FileProperties (\r\n        String directory,\r\n        String name,\r\n        String extension\r\n) {\r\n    public static class FilePropertiesBuilder {\r\n        private String directory = System.getProperty(&quot;user.home&quot;);\r\n        private String name = &quot;New file&quot;;\r\n        private String extension = &quot;.txt&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThen to test it:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    System.out.println(FileProperties.builder().build());\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nFileProperties[directory=/home/me, name=New file, extension=.txt]\r\n```","title":"Java Record with @Builder.Default","body":"<p>You can achieve the same outcome not by <code>@Builder.Default</code> but by defining the builder itself with defaults for Lombok:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\npublic record FileProperties (\n        String directory,\n        String name,\n        String extension\n) {\n    public static class FilePropertiesBuilder {\n        private String directory = System.getProperty(&quot;user.home&quot;);\n        private String name = &quot;New file&quot;;\n        private String extension = &quot;.txt&quot;;\n    }\n}\n</code></pre>\n<p>Then to test it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    System.out.println(FileProperties.builder().build());\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>FileProperties[directory=/home/me, name=New file, extension=.txt]\n</code></pre>\n"}],"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6099,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":76107286,"answer_count":3,"score":12,"last_activity_date":1701888853,"creation_date":1655311787,"question_id":72635074,"body_markdown":"I&#39;m wondering is there any way to combine java record with lombok&#39;s `@Builder.Default`?\r\nLet&#39;s consider an example with properties object for new file creation. \r\n\r\nBefore java 14\r\n\r\n    @Value\r\n    @Builder\r\n    public class FileProperties {\r\n        @Builder.Default\r\n        String directory = System.getProperty(&quot;user.home&quot;);\r\n        @Builder.Default\r\n        String name = &quot;New file&quot;;\r\n        @Builder.Default\r\n        String extension = &quot;.txt&quot;;\r\n    }\r\nJava 14\r\n\r\n    @Builder\r\n    public record FileProperties (\r\n            String directory,\r\n            String name,\r\n            String extension\r\n    ) {}\r\nBut in case if I try to use something like\r\n\r\n    @Builder\r\n    public record FileProperties (\r\n            @Builder.Default\r\n            String directory = System.getProperty(&quot;user.home&quot;)\r\n    ) {}\r\nCompiler will fail with an error, revealing that such syntax is not allowed. Do we have any solution to this problem?","title":"Java Record with @Builder.Default","body":"<p>I'm wondering is there any way to combine java record with lombok's <code>@Builder.Default</code>?\nLet's consider an example with properties object for new file creation.</p>\n<p>Before java 14</p>\n<pre><code>@Value\n@Builder\npublic class FileProperties {\n    @Builder.Default\n    String directory = System.getProperty(&quot;user.home&quot;);\n    @Builder.Default\n    String name = &quot;New file&quot;;\n    @Builder.Default\n    String extension = &quot;.txt&quot;;\n}\n</code></pre>\n<p>Java 14</p>\n<pre><code>@Builder\npublic record FileProperties (\n        String directory,\n        String name,\n        String extension\n) {}\n</code></pre>\n<p>But in case if I try to use something like</p>\n<pre><code>@Builder\npublic record FileProperties (\n        @Builder.Default\n        String directory = System.getProperty(&quot;user.home&quot;)\n) {}\n</code></pre>\n<p>Compiler will fail with an error, revealing that such syntax is not allowed. Do we have any solution to this problem?</p>\n"},{"tags":["java","vaadin","vaadin-flow","lit"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1701884839,"post_id":77615202,"comment_id":136831184,"body_markdown":"Tooltip as in the &quot;vaadin tooltip&quot; or can you just add a `title`\nattribute to the icon and be done with it?","body":"Tooltip as in the &quot;vaadin tooltip&quot; or can you just add a <code>title</code> attribute to the icon and be done with it?"},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1701887446,"post_id":77615202,"comment_id":136831670,"body_markdown":"@cfrick An actual vaadin tooltip. The title attribute tooltip is a last resort because they can&#39;t be styled to match the rest of the application.","body":"@cfrick An actual vaadin tooltip. The title attribute tooltip is a last resort because they can&#39;t be styled to match the rest of the application."}],"answers":[{"tags":[],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701888103,"creation_date":1701888103,"answer_id":77615578,"question_id":77615202,"body_markdown":"I figured it out by playing around with the template.\r\n\r\n    LitRenderer.&lt;&gt;of(&quot;&lt;vaadin-tooltip slot=\\&quot;tooltip\\&quot; text=\\&quot;${item.tooltip}\\&quot;/&gt;&quot;)\r\n    \t.withProperty(&quot;tooltip&quot;, gf -&gt; {\r\n    \t\t\t\t\treturn &quot;my tool tip&quot;;\r\n    \t\t\t\t});","title":"How to add a tooltip to an element in Vaadin Lit Template","body":"<p>I figured it out by playing around with the template.</p>\n<pre><code>LitRenderer.&lt;&gt;of(&quot;&lt;vaadin-tooltip slot=\\&quot;tooltip\\&quot; text=\\&quot;${item.tooltip}\\&quot;/&gt;&quot;)\n    .withProperty(&quot;tooltip&quot;, gf -&gt; {\n                    return &quot;my tool tip&quot;;\n                });\n</code></pre>\n"}],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701888103,"creation_date":1701884337,"question_id":77615202,"body_markdown":"I&#39;m using the LitRenderer to render various vaadin-icon elements inside a Grid. There is no documentation on how to add a tooltip to components within a Lit Template.\r\n\r\njava:\r\n\r\n    grid.addColumn(LitRenderer.&lt;&gt;of(&quot;&lt;vaadin-icon icon=&#39;my-icon&#39; /&gt;&quot;));","title":"How to add a tooltip to an element in Vaadin Lit Template","body":"<p>I'm using the LitRenderer to render various vaadin-icon elements inside a Grid. There is no documentation on how to add a tooltip to components within a Lit Template.</p>\n<p>java:</p>\n<pre><code>grid.addColumn(LitRenderer.&lt;&gt;of(&quot;&lt;vaadin-icon icon='my-icon' /&gt;&quot;));\n</code></pre>\n"},{"tags":["java","spring-boot","azure","azure-web-app-service"],"comments":[{"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1702016766,"post_id":77613881,"comment_id":136848454,"body_markdown":"Can you share your project repository, if available in GitHub (only if it doesn&#39;t have any sensitive information).","body":"Can you share your project repository, if available in GitHub (only if it doesn&#39;t have any sensitive information)."}],"owner":{"account_id":30081063,"reputation":1,"user_id":23052686,"display_name":"Damien McGeer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701888015,"creation_date":1701872462,"question_id":77613881,"body_markdown":"I&#39;m a huge Azure beginner, and I&#39;ve been having an issue for some time, that when I try to deploy my spring boot application to Azure, it doesn&#39;t seem to do anything? It&#39;s configured to work with GitHub actions, and shows active when new content is committed, but nothing seems to appear.\r\n\r\nThe system uses Java Spring Boot backend and ReactJS for frontend.  \r\n\r\nI&#39;m using a regular Azure Web App as opposed to the spring specific one because it costs too much money to run once up. \r\n\r\nAny help would really be appreciated as I&#39;m not sure what to do\r\n[This displays no matter what I seem to do](https://i.stack.imgur.com/K94qn.png)\r\n\r\n[It should be displaying the web app as instructed by index.js, which is the default document that we have entered.](https://i.stack.imgur.com/L0ol6.png)\r\n\r\nHappy to answer any questions, as I&#39;m not sure what information is applicable to this case. \r\n\r\nThanks\r\n\r\n\r\nI&#39;ve tried changing the Tomcat version displayed to 3.4.10 as mentioned in : https://github.com/spring-projects/spring-boot/issues/33974\r\n\r\nAnd changing the default documents as mentioned in : https://learn.microsoft.com/en-us/answers/questions/1295335/how-to-successfully-deploy-source-code-from-azure\r\n\r\nAnd reconnecting as mentioned in : https://stackoverflow.com/questions/64217018/azure-default-hey-java-developers-welcome-page-after-successfully-deploymen","title":"How to avoid getting stuck on the &quot;Hey, Java Developers&quot; AFTER deployment of a Spring Boot App on Azure","body":"<p>I'm a huge Azure beginner, and I've been having an issue for some time, that when I try to deploy my spring boot application to Azure, it doesn't seem to do anything? It's configured to work with GitHub actions, and shows active when new content is committed, but nothing seems to appear.</p>\n<p>The system uses Java Spring Boot backend and ReactJS for frontend.</p>\n<p>I'm using a regular Azure Web App as opposed to the spring specific one because it costs too much money to run once up.</p>\n<p>Any help would really be appreciated as I'm not sure what to do\n<a href=\"https://i.stack.imgur.com/K94qn.png\" rel=\"nofollow noreferrer\">This displays no matter what I seem to do</a></p>\n<p><a href=\"https://i.stack.imgur.com/L0ol6.png\" rel=\"nofollow noreferrer\">It should be displaying the web app as instructed by index.js, which is the default document that we have entered.</a></p>\n<p>Happy to answer any questions, as I'm not sure what information is applicable to this case.</p>\n<p>Thanks</p>\n<p>I've tried changing the Tomcat version displayed to 3.4.10 as mentioned in : <a href=\"https://github.com/spring-projects/spring-boot/issues/33974\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/33974</a></p>\n<p>And changing the default documents as mentioned in : <a href=\"https://learn.microsoft.com/en-us/answers/questions/1295335/how-to-successfully-deploy-source-code-from-azure\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/answers/questions/1295335/how-to-successfully-deploy-source-code-from-azure</a></p>\n<p>And reconnecting as mentioned in : <a href=\"https://stackoverflow.com/questions/64217018/azure-default-hey-java-developers-welcome-page-after-successfully-deploymen\">Azure, default &quot;Hey, Java developers!&quot; welcome page after successfully deployment</a></p>\n"},{"tags":["java","redis","lettuce"],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701886430,"creation_date":1701886430,"answer_id":77615429,"question_id":77615360,"body_markdown":"The best way to do this is to use a messaging system. Create a singleton class like\r\n\r\n    public class RedisMessenger {\r\n      private Queue&lt;Message&gt; messages;\r\n      public long queueMessage(Message m); //return a response ticket number\r\n      public void registerListener(RedisResponseListener l, RedisMessageType t);\r\n    }\r\n\r\nThen use a thread to send queries and notify appropriate listeners. \r\n\r\nYou can use the RedisMessageType parameter to allow listening for response for specific messages (via message ticket number) or by message catagories.","title":"Using static redis connections in multithreaded env in Java","body":"<p>The best way to do this is to use a messaging system. Create a singleton class like</p>\n<pre><code>public class RedisMessenger {\n  private Queue&lt;Message&gt; messages;\n  public long queueMessage(Message m); //return a response ticket number\n  public void registerListener(RedisResponseListener l, RedisMessageType t);\n}\n</code></pre>\n<p>Then use a thread to send queries and notify appropriate listeners.</p>\n<p>You can use the RedisMessageType parameter to allow listening for response for specific messages (via message ticket number) or by message catagories.</p>\n"}],"owner":{"account_id":158594,"reputation":977,"user_id":377349,"accept_rate":44,"display_name":"Rohitesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701886430,"creation_date":1701885744,"question_id":77615360,"body_markdown":"I want to improve the performance of my Redis read/writes, by **reusing** the connection object. So, I am making it **static** in the class, and my get() and set() functions are using this static connection.\r\n\r\nIn a multithreaded environment, can this cause data corruption? As in, since the connection is static, can 2 threads access it at the same time and data meant for one, be sent to the other?\r\n\r\nI am using Lettuce lib in Java.\r\n\r\n    class RedisServiceLocator {\r\n      static StatefulRedisConnection&lt;String, String&gt; redisConn = null;\r\n    \r\n      // constructor\r\n      public RedisServiceLocator() {\r\n        // create client and get connection if null\r\n        if(RedisServiceLocator.redisConn == null) {\r\n          RedisClient redisClient = RedisClient.create(redisURL);\r\n          RedisServiceLocator.redisConn = redisClient.connect()\r\n        }\r\n      }\r\n\r\n      // set\r\n      public void set(String key, String val){\r\n        RedisServiceLocator.redisConn.sync().set(key, val);\r\n      }\r\n\r\n      // get\r\n      public String get(String key){\r\n        redisConn.sync().get(key);\r\n      }\r\n    }","title":"Using static redis connections in multithreaded env in Java","body":"<p>I want to improve the performance of my Redis read/writes, by <strong>reusing</strong> the connection object. So, I am making it <strong>static</strong> in the class, and my get() and set() functions are using this static connection.</p>\n<p>In a multithreaded environment, can this cause data corruption? As in, since the connection is static, can 2 threads access it at the same time and data meant for one, be sent to the other?</p>\n<p>I am using Lettuce lib in Java.</p>\n<pre><code>class RedisServiceLocator {\n  static StatefulRedisConnection&lt;String, String&gt; redisConn = null;\n\n  // constructor\n  public RedisServiceLocator() {\n    // create client and get connection if null\n    if(RedisServiceLocator.redisConn == null) {\n      RedisClient redisClient = RedisClient.create(redisURL);\n      RedisServiceLocator.redisConn = redisClient.connect()\n    }\n  }\n\n  // set\n  public void set(String key, String val){\n    RedisServiceLocator.redisConn.sync().set(key, val);\n  }\n\n  // get\n  public String get(String key){\n    redisConn.sync().get(key);\n  }\n}\n</code></pre>\n"},{"tags":["java","scala","uuid"],"comments":[{"owner":{"account_id":447475,"reputation":1,"user_id":841108,"accept_rate":61,"display_name":"Basile Starynkevitch"},"score":2,"creation_date":1388409066,"post_id":20840256,"comment_id":31257492,"body_markdown":"I believe (and hope) than an all zeros UUID is invalid! Otherwise [uuid_is_null(3)](http://man7.org/linux/man-pages/man3/uuid_is_null.3.html) won&#39;t make sense.","body":"I believe (and hope) than an all zeros UUID is invalid! Otherwise <a href=\"http://man7.org/linux/man-pages/man3/uuid_is_null.3.html\" rel=\"nofollow noreferrer\">uuid_is_null(3)</a> won&#39;t make sense."},{"owner":{"account_id":1321622,"reputation":119778,"user_id":1267329,"display_name":"Simeon Visser"},"score":0,"creation_date":1388409077,"post_id":20840256,"comment_id":31257498,"body_markdown":"As the error says, that&#39;s not a valid UUID.","body":"As the error says, that&#39;s not a valid UUID."},{"owner":{"account_id":3349208,"reputation":32964,"user_id":2813589,"accept_rate":70,"display_name":"Incerteza"},"score":1,"creation_date":1388409095,"post_id":20840256,"comment_id":31257506,"body_markdown":"@BasileStarynkevitch, I want it to be either &quot;MinValue&quot; or &quot;Invalid&quot;.","body":"@BasileStarynkevitch, I want it to be either &quot;MinValue&quot; or &quot;Invalid&quot;."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1388409130,"post_id":20840256,"comment_id":31257525,"body_markdown":"`IllegalArgumentException - If name does not conform to the string representation as described in toString()` So check [`toString()`](http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html#toString()) and see what is not correct.","body":"<code>IllegalArgumentException - If name does not conform to the string representation as described in toString()</code> So check <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html#toString()\" rel=\"nofollow noreferrer\"><code>toString()</code></a> and see what is not correct."}],"answers":[{"comments":[{"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"score":1,"creation_date":1388409271,"post_id":20840291,"comment_id":31257595,"body_markdown":"Yes, you can try it here:\nhttp://www.tryjava8.com/app/snippets/52c17184e4b00bdc99e8a92f","body":"Yes, you can try it here: <a href=\"http://www.tryjava8.com/app/snippets/52c17184e4b00bdc99e8a92f\" rel=\"nofollow noreferrer\">tryjava8.com/app/snippets/52c17184e4b00bdc99e8a92f</a>"},{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1388410410,"post_id":20840291,"comment_id":31258198,"body_markdown":"May i know why is this format used? Is it based on some spec or standard?","body":"May i know why is this format used? Is it based on some spec or standard?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1701972547,"post_id":20840291,"comment_id":136843783,"body_markdown":"[they are indeed](https://en.wikipedia.org/wiki/Universally_unique_identifier#Standards).","body":"<a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Standards\" rel=\"nofollow noreferrer\">they are indeed</a>."}],"tags":[],"owner":{"account_id":2274204,"reputation":1091,"user_id":2000905,"accept_rate":92,"display_name":"Craig Moore"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1388409135,"creation_date":1388409135,"answer_id":20840291,"question_id":20840256,"body_markdown":"Isn&#39;t it supposed to be 8-4-4-4-12? like this:\r\n00000000-0000-0000-0000-000000000000","title":"Create UUID with zeros","body":"<p>Isn't it supposed to be 8-4-4-4-12? like this:\n00000000-0000-0000-0000-000000000000</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1388410005,"creation_date":1388410005,"answer_id":20840504,"question_id":20840256,"body_markdown":"try this\r\n\r\n    System.out.println(new UUID(0,0));\r\n\r\nit prints\r\n\r\n    00000000-0000-0000-0000-000000000000\r\n\r\nthis is the right format to use in `UUID.fromString`","title":"Create UUID with zeros","body":"<p>try this</p>\n\n<pre><code>System.out.println(new UUID(0,0));\n</code></pre>\n\n<p>it prints</p>\n\n<pre><code>00000000-0000-0000-0000-000000000000\n</code></pre>\n\n<p>this is the right format to use in <code>UUID.fromString</code></p>\n"},{"tags":[],"owner":{"account_id":1159992,"reputation":1883,"user_id":1139715,"display_name":"StephenS"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533071588,"creation_date":1533071588,"answer_id":51622153,"question_id":20840256,"body_markdown":"From https://en.wikipedia.org/wiki/Universally_unique_identifier#Nil_UUID:\r\n&gt; The &quot;nil&quot; UUID, a special case, is the UUID, 00000000-0000-0000-0000-000000000000; that is, all bits set to zero.\r\n\r\nThe dashes should follow the normal 8-4-4-4-12 format because that&#39;s what the standards say to use and many (most?) tools enforce that on input.\r\n\r\nSome tools *may* accept other formats, e.g. 32 hex digits with no dashes, because they just remove the dashes (if present) before validation anyway, but the particular tool you&#39;re using is a bit stricter/smarter, which shows that using non-standard formats is a bad habit that will end up biting you.","title":"Create UUID with zeros","body":"<p>From <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Nil_UUID\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Universally_unique_identifier#Nil_UUID</a>:</p>\n\n<blockquote>\n  <p>The \"nil\" UUID, a special case, is the UUID, 00000000-0000-0000-0000-000000000000; that is, all bits set to zero.</p>\n</blockquote>\n\n<p>The dashes should follow the normal 8-4-4-4-12 format because that's what the standards say to use and many (most?) tools enforce that on input.</p>\n\n<p>Some tools <em>may</em> accept other formats, e.g. 32 hex digits with no dashes, because they just remove the dashes (if present) before validation anyway, but the particular tool you're using is a bit stricter/smarter, which shows that using non-standard formats is a bad habit that will end up biting you.</p>\n"},{"tags":[],"owner":{"account_id":20264741,"reputation":27,"user_id":15777674,"display_name":"FlaskDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701886426,"creation_date":1701886426,"answer_id":77615428,"question_id":20840256,"body_markdown":"UUIDs are standardized identifiers with various versions. UUID version 4 (UUIDv4) adheres to a specific format and is composed of 32 hexadecimal digits separated into five groups in the pattern 8-4-4-4-12, totaling 36 characters, including hyphens.\r\n\r\nTo validate a UUIDv4 manually, there are specific checks you can perform on the input string:\r\n\r\n1. **Length Check:** Ensure the UUID string length is 36 characters.\r\n2. **Positional Checks:** Confirm the positions of hyphens in the string at indices 8, 13, 18, and 23.\r\n3. **Version Identification:** UUIDv4 contains a &#39;4&#39; at the 15th position.\r\n4. **Content Check:** The UUIDv4 should contain at least one of &#39;8&#39;, &#39;9&#39;, &#39;a&#39;, or &#39;b&#39; at the 20th position.\r\n\r\nThe UUID version 4 with zeros could be:\r\n- 00000000-0000-4000-8000-000000000000\r\n- 00000000-0000-4000-9000-000000000000\r\n- 00000000-0000-4000-a000-000000000000\r\n- 00000000-0000-4000-b000-000000000000","title":"Create UUID with zeros","body":"<p>UUIDs are standardized identifiers with various versions. UUID version 4 (UUIDv4) adheres to a specific format and is composed of 32 hexadecimal digits separated into five groups in the pattern 8-4-4-4-12, totaling 36 characters, including hyphens.</p>\n<p>To validate a UUIDv4 manually, there are specific checks you can perform on the input string:</p>\n<ol>\n<li><strong>Length Check:</strong> Ensure the UUID string length is 36 characters.</li>\n<li><strong>Positional Checks:</strong> Confirm the positions of hyphens in the string at indices 8, 13, 18, and 23.</li>\n<li><strong>Version Identification:</strong> UUIDv4 contains a '4' at the 15th position.</li>\n<li><strong>Content Check:</strong> The UUIDv4 should contain at least one of '8', '9', 'a', or 'b' at the 20th position.</li>\n</ol>\n<p>The UUID version 4 with zeros could be:</p>\n<ul>\n<li>00000000-0000-4000-8000-000000000000</li>\n<li>00000000-0000-4000-9000-000000000000</li>\n<li>00000000-0000-4000-a000-000000000000</li>\n<li>00000000-0000-4000-b000-000000000000</li>\n</ul>\n"}],"owner":{"account_id":3349208,"reputation":32964,"user_id":2813589,"accept_rate":70,"display_name":"Incerteza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55464,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":20840504,"answer_count":4,"score":45,"last_activity_date":1701886426,"creation_date":1388408976,"question_id":20840256,"body_markdown":"I&#39;m trying to generate a UUID with all zeros:\r\n\r\n    java.util.UUID fromString &quot;00000000-00000000-00000000-00000000&quot;\r\n\r\nThe error is\r\n\r\n     java.lang.IllegalArgumentException: Invalid UUID string: 00000000-00000000-00000000-00000000\r\n    \tat java.util.UUID.fromString(UUID.java:194)\r\n\r\nWhat am I doing wrong?\r\n\r\nI want to create either &quot;MinValue&quot;  or &quot;Invalid&quot; UUID.","title":"Create UUID with zeros","body":"<p>I'm trying to generate a UUID with all zeros:</p>\n\n<pre><code>java.util.UUID fromString \"00000000-00000000-00000000-00000000\"\n</code></pre>\n\n<p>The error is</p>\n\n<pre><code> java.lang.IllegalArgumentException: Invalid UUID string: 00000000-00000000-00000000-00000000\n    at java.util.UUID.fromString(UUID.java:194)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>I want to create either \"MinValue\"  or \"Invalid\" UUID.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1701880344,"post_id":77614711,"comment_id":136830358,"body_markdown":"That&#39;s a bug. The internal code for `LineChart` [assumes the type of the y-value is `Number`](https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/java/javafx/scene/chart/LineChart.java#L505C72-L505C72) (or a subclass thereof). You can probably work around it by turning off animation (`lineChart.setAnimated(false);`).","body":"That&#39;s a bug. The internal code for <code>LineChart</code> <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/java/javafx/scene/chart/LineChart.java#L505C72-L505C72\" rel=\"nofollow noreferrer\">assumes the type of the y-value is <code>Number</code></a> (or a subclass thereof). You can probably work around it by turning off animation (<code>lineChart.setAnimated(false);</code>)."},{"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"score":0,"creation_date":1701881159,"post_id":77614711,"comment_id":136830531,"body_markdown":"Thank you. I turned off the animation and it worked. But, how does this bug depend on animation property? Shouldn&#39;t it happen, nonetheless, when both X and Y axes are string typed?","body":"Thank you. I turned off the animation and it worked. But, how does this bug depend on animation property? Shouldn&#39;t it happen, nonetheless, when both X and Y axes are string typed?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1701884992,"post_id":77614711,"comment_id":136831217,"body_markdown":"The method in question (`LineChart.createDataRemoveTimeline()`) is called internally as part of animating the chart when a data point is removed. The method caches the removed value (assuming, incorrectly, the y-value is numeric), I think in case the data is added back before the animation completes. Turning off animation prevents the method from being invoked.","body":"The method in question (<code>LineChart.createDataRemoveTimeline()</code>) is called internally as part of animating the chart when a data point is removed. The method caches the removed value (assuming, incorrectly, the y-value is numeric), I think in case the data is added back before the animation completes. Turning off animation prevents the method from being invoked."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1701886404,"post_id":77614711,"comment_id":136831502,"body_markdown":"@SedJ601 Agreed. There is also a close vote for &quot;cannot reproduce&quot;, which makes no sense to me. I copied and pasted the code exactly as-is, and the stack trace appeared as reported when I pressed the button.","body":"@SedJ601 Agreed. There is also a close vote for &quot;cannot reproduce&quot;, which makes no sense to me. I copied and pasted the code exactly as-is, and the stack trace appeared as reported when I pressed the button."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1701886134,"creation_date":1701886134,"answer_id":77615398,"question_id":77614711,"body_markdown":"This is a bug in the implementation of `LineChart`. I cannot find an active bug report for it at https://bugs.openjdk.org/secure/Dashboard.jspa.\r\n\r\nThe issue arises in the call to the method `createDataRemoveTimeline(...)` (found [here](https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/java/javafx/scene/chart/LineChart.java#L502) in the current implementation) which is implemented as:\r\n\r\n```\r\n    private Timeline createDataRemoveTimeline(final Data&lt;X,Y&gt; item, final Node symbol, final Series&lt;X,Y&gt; series) {\r\n        Timeline t = new Timeline();\r\n        // save data values in case the same data item gets added immediately.\r\n        XYValueMap.put(item, ((Number)item.getYValue()).doubleValue());\r\n\r\n        t.getKeyFrames().addAll(new KeyFrame(Duration.ZERO, new KeyValue(item.currentYProperty(),\r\n                item.getCurrentY()), new KeyValue(item.currentXProperty(),\r\n                item.getCurrentX())),\r\n                new KeyFrame(Duration.millis(500), actionEvent -&gt; {\r\n                    if (symbol != null) getPlotChildren().remove(symbol);\r\n                    removeDataItemFromDisplay(series, item);\r\n                    XYValueMap.clear();\r\n                },\r\n                new KeyValue(item.currentYProperty(),\r\n                item.getYValue(), Interpolator.EASE_BOTH),\r\n                new KeyValue(item.currentXProperty(),\r\n                item.getXValue(), Interpolator.EASE_BOTH))\r\n        );\r\n        return t;\r\n    }\r\n```\r\n\r\nThe implementation caches values that are removed (as I understand it this is needed in case the same values are added back while the animation for their removal is progressing) in a `Map&lt;Data&lt;X,Y&gt;, Double&gt;`. This assumes the y-value is a `Number` (note the cast in the second line of the method) which of course is not necessarily true. I think this should be implemented with a `Map&lt;Data&lt;X,Y&gt;, Y&gt;`, though I have not fully analyzed the code.\r\n\r\nThe `createDataRemoveTimeline(...)` method is called from the `dataItemRemoved(...)` method (invoked when an item is removed from one of the data series) but only if `animated` is set to true. Hence one work around is to turn off animation:\r\n\r\n```\r\nlineChart.setAnimated(false);\r\n```\r\n\r\n \r\n\r\n","title":"Peculiar ClassCastException in removing data from LineChart&lt;String,String&gt;","body":"<p>This is a bug in the implementation of <code>LineChart</code>. I cannot find an active bug report for it at <a href=\"https://bugs.openjdk.org/secure/Dashboard.jspa\" rel=\"noreferrer\">https://bugs.openjdk.org/secure/Dashboard.jspa</a>.</p>\n<p>The issue arises in the call to the method <code>createDataRemoveTimeline(...)</code> (found <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/java/javafx/scene/chart/LineChart.java#L502\" rel=\"noreferrer\">here</a> in the current implementation) which is implemented as:</p>\n<pre><code>    private Timeline createDataRemoveTimeline(final Data&lt;X,Y&gt; item, final Node symbol, final Series&lt;X,Y&gt; series) {\n        Timeline t = new Timeline();\n        // save data values in case the same data item gets added immediately.\n        XYValueMap.put(item, ((Number)item.getYValue()).doubleValue());\n\n        t.getKeyFrames().addAll(new KeyFrame(Duration.ZERO, new KeyValue(item.currentYProperty(),\n                item.getCurrentY()), new KeyValue(item.currentXProperty(),\n                item.getCurrentX())),\n                new KeyFrame(Duration.millis(500), actionEvent -&gt; {\n                    if (symbol != null) getPlotChildren().remove(symbol);\n                    removeDataItemFromDisplay(series, item);\n                    XYValueMap.clear();\n                },\n                new KeyValue(item.currentYProperty(),\n                item.getYValue(), Interpolator.EASE_BOTH),\n                new KeyValue(item.currentXProperty(),\n                item.getXValue(), Interpolator.EASE_BOTH))\n        );\n        return t;\n    }\n</code></pre>\n<p>The implementation caches values that are removed (as I understand it this is needed in case the same values are added back while the animation for their removal is progressing) in a <code>Map&lt;Data&lt;X,Y&gt;, Double&gt;</code>. This assumes the y-value is a <code>Number</code> (note the cast in the second line of the method) which of course is not necessarily true. I think this should be implemented with a <code>Map&lt;Data&lt;X,Y&gt;, Y&gt;</code>, though I have not fully analyzed the code.</p>\n<p>The <code>createDataRemoveTimeline(...)</code> method is called from the <code>dataItemRemoved(...)</code> method (invoked when an item is removed from one of the data series) but only if <code>animated</code> is set to true. Hence one work around is to turn off animation:</p>\n<pre><code>lineChart.setAnimated(false);\n</code></pre>\n"}],"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":77615398,"answer_count":1,"score":4,"last_activity_date":1701886134,"creation_date":1701879297,"question_id":77614711,"body_markdown":"Consider the following application:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI expect, by each time clicking on BUTTON, the first data of the `LineChart` be removed. The output after the clicks must be as follows:\r\n\r\n**After 1st click**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**After 2nd click**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**After 3rd click**\r\n\r\n[![enter image description here][4]][4]\r\n\r\nHowever, after the first click, I get the following `ClassCastException`:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: class java.lang.String cannot be cast to class java.lang.Number (java.lang.String and java.lang.Number are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat javafx.controls@18/javafx.scene.chart.LineChart.createDataRemoveTimeline(LineChart.java:503)\r\n    \tat javafx.controls@18/javafx.scene.chart.LineChart.dataItemRemoved(LineChart.java:359)\r\n    \tat javafx.controls@18/javafx.scene.chart.XYChart.dataItemsChanged(XYChart.java:505)\r\n    \tat javafx.controls@18/javafx.scene.chart.XYChart$Series$1.onChanged(XYChart.java:1474)\r\n    \tat javafx.base@18/com.sun.javafx.collections.ListListenerHelper$SingleChange.fireValueChangedEvent(ListListenerHelper.java:164)\r\n    \tat javafx.base@18/com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)\r\n    \tat javafx.base@18/javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:239)\r\n    \tat javafx.base@18/javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)\r\n    \tat javafx.base@18/javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)\r\n    \tat javafx.base@18/javafx.collections.ObservableListBase.endChange(ObservableListBase.java:211)\r\n    \tat javafx.base@18/javafx.collections.ModifiableObservableListBase.remove(ModifiableObservableListBase.java:190)\r\n    \tat com.example.demo/com.example.demo.MyApplication.lambda$start$0(MyApplication.java:21)\r\n    \tat javafx.base@18/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@18/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base@18/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@18/javafx.scene.Node.fireEvent(Node.java:8797)\r\n    \tat javafx.controls@18/javafx.scene.control.Button.fire(Button.java:203)\r\n    \tat javafx.controls@18/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\r\n    \tat javafx.controls@18/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base@18/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n    \tat javafx.base@18/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@18/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@18/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base@18/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@18/javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\r\n    \tat javafx.graphics@18/javafx.scene.Scene.processMouseEvent(Scene.java:1874)\r\n    \tat javafx.graphics@18/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\r\n    \tat javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n    \tat javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n    \tat javafx.graphics@18/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n    \tat javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n    \tat javafx.graphics@18/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n    \tat javafx.graphics@18/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat javafx.graphics@18/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@18/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\nThe code is as follows:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.chart.CategoryAxis;\r\n    import javafx.scene.chart.LineChart;\r\n    import javafx.scene.chart.XYChart;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.text.Font;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class MyApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            LineChart&lt;String,String&gt; lineChart=createLineChart();\r\n    \r\n            Button button = new Button(&quot;BUTTON&quot;);\r\n    \r\n            button.setOnAction(event -&gt; lineChart.getData().get(0).getData().remove(0));\r\n    \r\n            VBox vBox=new VBox(button,lineChart);\r\n    \r\n            Scene scene = new Scene(vBox);\r\n    \r\n            stage.setScene(scene);\r\n    \r\n            stage.show();\r\n    \r\n        }\r\n    \r\n        LineChart&lt;String,String&gt; createLineChart(){\r\n            LineChart&lt;String, String&gt; lineChart = new LineChart&lt;&gt;(new CategoryAxis(), new CategoryAxis());\r\n            lineChart.getData().add(new XYChart.Series&lt;&gt;());\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                lineChart.getData().get(0).getData().add(new XYChart.Data&lt;&gt;(&quot;X string %d&quot;.formatted(i+1), &quot;Y string %d&quot;.formatted(i+1)));\r\n            }\r\n            lineChart.getXAxis().setTickLabelFont(new Font(20));\r\n            lineChart.getYAxis().setTickLabelFont(new Font(20));\r\n            return lineChart;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    }\r\n\r\n**Question**\r\n\r\nWhy does `ClassCastException` raise in conversion of `String` to `Number` when I have no `Number` type data?\r\n\r\n  [1]: https://i.stack.imgur.com/HWJl9.png\r\n  [2]: https://i.stack.imgur.com/BKPIB.png\r\n  [3]: https://i.stack.imgur.com/vDvnA.png\r\n  [4]: https://i.stack.imgur.com/qFTpD.png","title":"Peculiar ClassCastException in removing data from LineChart&lt;String,String&gt;","body":"<p>Consider the following application:</p>\n<p><a href=\"https://i.stack.imgur.com/HWJl9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HWJl9.png\" alt=\"enter image description here\" /></a></p>\n<p>I expect, by each time clicking on BUTTON, the first data of the <code>LineChart</code> be removed. The output after the clicks must be as follows:</p>\n<p><strong>After 1st click</strong></p>\n<p><a href=\"https://i.stack.imgur.com/BKPIB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BKPIB.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After 2nd click</strong></p>\n<p><a href=\"https://i.stack.imgur.com/vDvnA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vDvnA.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After 3rd click</strong></p>\n<p><a href=\"https://i.stack.imgur.com/qFTpD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qFTpD.png\" alt=\"enter image description here\" /></a></p>\n<p>However, after the first click, I get the following <code>ClassCastException</code>:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: class java.lang.String cannot be cast to class java.lang.Number (java.lang.String and java.lang.Number are in module java.base of loader 'bootstrap')\n    at javafx.controls@18/javafx.scene.chart.LineChart.createDataRemoveTimeline(LineChart.java:503)\n    at javafx.controls@18/javafx.scene.chart.LineChart.dataItemRemoved(LineChart.java:359)\n    at javafx.controls@18/javafx.scene.chart.XYChart.dataItemsChanged(XYChart.java:505)\n    at javafx.controls@18/javafx.scene.chart.XYChart$Series$1.onChanged(XYChart.java:1474)\n    at javafx.base@18/com.sun.javafx.collections.ListListenerHelper$SingleChange.fireValueChangedEvent(ListListenerHelper.java:164)\n    at javafx.base@18/com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)\n    at javafx.base@18/javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:239)\n    at javafx.base@18/javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)\n    at javafx.base@18/javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)\n    at javafx.base@18/javafx.collections.ObservableListBase.endChange(ObservableListBase.java:211)\n    at javafx.base@18/javafx.collections.ModifiableObservableListBase.remove(ModifiableObservableListBase.java:190)\n    at com.example.demo/com.example.demo.MyApplication.lambda$start$0(MyApplication.java:21)\n    at javafx.base@18/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@18/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@18/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@18/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@18/javafx.scene.Node.fireEvent(Node.java:8797)\n    at javafx.controls@18/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@18/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\n    at javafx.controls@18/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@18/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@18/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@18/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@18/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@18/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@18/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@18/javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\n    at javafx.graphics@18/javafx.scene.Scene.processMouseEvent(Scene.java:1874)\n    at javafx.graphics@18/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\n    at javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@18/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@18/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@18/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@18/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@18/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@18/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>The code is as follows:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.CategoryAxis;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.XYChart;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\n\npublic class MyApplication extends Application {\n    @Override\n    public void start(Stage stage) {\n\n        LineChart&lt;String,String&gt; lineChart=createLineChart();\n\n        Button button = new Button(&quot;BUTTON&quot;);\n\n        button.setOnAction(event -&gt; lineChart.getData().get(0).getData().remove(0));\n\n        VBox vBox=new VBox(button,lineChart);\n\n        Scene scene = new Scene(vBox);\n\n        stage.setScene(scene);\n\n        stage.show();\n\n    }\n\n    LineChart&lt;String,String&gt; createLineChart(){\n        LineChart&lt;String, String&gt; lineChart = new LineChart&lt;&gt;(new CategoryAxis(), new CategoryAxis());\n        lineChart.getData().add(new XYChart.Series&lt;&gt;());\n        for (int i = 0; i &lt; 3; i++) {\n            lineChart.getData().get(0).getData().add(new XYChart.Data&lt;&gt;(&quot;X string %d&quot;.formatted(i+1), &quot;Y string %d&quot;.formatted(i+1)));\n        }\n        lineChart.getXAxis().setTickLabelFont(new Font(20));\n        lineChart.getYAxis().setTickLabelFont(new Font(20));\n        return lineChart;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p><strong>Question</strong></p>\n<p>Why does <code>ClassCastException</code> raise in conversion of <code>String</code> to <code>Number</code> when I have no <code>Number</code> type data?</p>\n"},{"tags":["java","json","eclipse","jar","gson"],"comments":[{"owner":{"account_id":3543148,"reputation":1436,"user_id":2959748,"accept_rate":68,"display_name":"bijiDango"},"score":0,"creation_date":1388025575,"post_id":20778497,"comment_id":31145345,"body_markdown":"@SotiriosDelimanolis It is really a long json, I don&#39;t know how to show you. It is a ArrayList of several hundred ships with more than 10 params.","body":"@SotiriosDelimanolis It is really a long json, I don&#39;t know how to show you. It is a ArrayList of several hundred ships with more than 10 params."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1388025800,"post_id":20778497,"comment_id":31145372,"body_markdown":"Cut it down to the smallest amount that would reproduce the problem.","body":"Cut it down to the smallest amount that would reproduce the problem."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388026883,"post_id":20778497,"comment_id":31145519,"body_markdown":"Your code works for me.","body":"Your code works for me."},{"owner":{"account_id":3543148,"reputation":1436,"user_id":2959748,"accept_rate":68,"display_name":"bijiDango"},"score":0,"creation_date":1388027446,"post_id":20778497,"comment_id":31145603,"body_markdown":"@SotiriosDelimanolis You used the json I just added? With which parser code? I can&#39;t find what&#39;s wrong with the json at the column the Exception mentioned","body":"@SotiriosDelimanolis You used the json I just added? With which parser code? I can&#39;t find what&#39;s wrong with the json at the column the Exception mentioned"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388027752,"post_id":20778497,"comment_id":31145651,"body_markdown":"I used the json you posted with the code right before you state `But jar failed and throws`.","body":"I used the json you posted with the code right before you state <code>But jar failed and throws</code>."},{"owner":{"account_id":3543148,"reputation":1436,"user_id":2959748,"accept_rate":68,"display_name":"bijiDango"},"score":0,"creation_date":1388027958,"post_id":20778497,"comment_id":31145687,"body_markdown":"Did you packaged it into a jar? (just in case","body":"Did you packaged it into a jar? (just in case"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388028587,"post_id":20778497,"comment_id":31145758,"body_markdown":"No, that wouldn&#39;t change anything. Do me a favor and call `System.out.println(Charset.defaultCharset());` and tell us the value.","body":"No, that wouldn&#39;t change anything. Do me a favor and call <code>System.out.println(Charset.defaultCharset());</code> and tell us the value."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388028822,"post_id":20778497,"comment_id":31145799,"body_markdown":"Also, is your JSON all on one line? `String str = in.nextLine();` only reads one line.","body":"Also, is your JSON all on one line? <code>String str = in.nextLine();</code> only reads one line."},{"owner":{"account_id":3543148,"reputation":1436,"user_id":2959748,"accept_rate":68,"display_name":"bijiDango"},"score":0,"creation_date":1388028878,"post_id":20778497,"comment_id":31145810,"body_markdown":"@SotiriosDelimanolis That is UTF-8","body":"@SotiriosDelimanolis That is UTF-8"},{"owner":{"account_id":3543148,"reputation":1436,"user_id":2959748,"accept_rate":68,"display_name":"bijiDango"},"score":0,"creation_date":1388029086,"post_id":20778497,"comment_id":31145841,"body_markdown":"@SotiriosDelimanolis The json is generated by Gson in the first piece of code I presented. It is supposed to be one line and the looking in Notepad++ confirms. (However nopepad wraps the line, but there is no &#39;enter&#39; within the line","body":"@SotiriosDelimanolis The json is generated by Gson in the first piece of code I presented. It is supposed to be one line and the looking in Notepad++ confirms. (However nopepad wraps the line, but there is no &#39;enter&#39; within the line"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388029580,"post_id":20778497,"comment_id":31145929,"body_markdown":"Just to be safe read the full `InputStream` instead of just the `nextLine()`.","body":"Just to be safe read the full <code>InputStream</code> instead of just the <code>nextLine()</code>."},{"owner":{"account_id":3543148,"reputation":1436,"user_id":2959748,"accept_rate":68,"display_name":"bijiDango"},"score":0,"creation_date":1388030410,"post_id":20778497,"comment_id":31146085,"body_markdown":"@SotiriosDelimanolis,  I found this in cmd output `{&quot;id&quot;:7,&quot;nam\ne&quot;:&quot;涓夋棩鏈?,&quot;type&quot;:2,&quot;rank&quot;:1,&quot;fuelMax&quot;:15,&quot;bulletMax&quot;:15,&quot;slotNum&quot;:2,&quot;speed&quot;:\n10,&quot;afterLv&quot;:20,&quot;afterId&quot;:260,&quot;range&quot;:1,&quot;powerups&quot;:[0,1,0,0]}` Seems    there is a `&quot;` changed to `?`.","body":"@SotiriosDelimanolis,  I found this in cmd output <code>{&quot;id&quot;:7,&quot;nam e&quot;:&quot;涓夋棩鏈?,&quot;type&quot;:2,&quot;rank&quot;:1,&quot;fuelMax&quot;:15,&quot;bulletMax&quot;:15,&quot;slo&zwnj;&#8203;tNum&quot;:2,&quot;speed&quot;: 10,&quot;afterLv&quot;:20,&quot;afterId&quot;:260,&quot;range&quot;:1,&quot;powerups&quot;:[0,1,0,0]&zwnj;&#8203;}</code> Seems    there is a <code>&quot;</code> changed to <code>?</code>."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388030507,"post_id":20778497,"comment_id":31146102,"body_markdown":"It&#39;s possible the character cannot be read in UTF-8 which is the default Charset. Find out which Charset can read those characters and use it. You&#39;ll have to read the file some other way than `Scanner` with a `FileReader`.","body":"It&#39;s possible the character cannot be read in UTF-8 which is the default Charset. Find out which Charset can read those characters and use it. You&#39;ll have to read the file some other way than <code>Scanner</code> with a <code>FileReader</code>."},{"owner":{"account_id":3543148,"reputation":1436,"user_id":2959748,"accept_rate":68,"display_name":"bijiDango"},"score":0,"creation_date":1388030800,"post_id":20778497,"comment_id":31146165,"body_markdown":"@SotiriosDelimanolis, But the most awkward thing is that everything is fine in eclipse. I am not familiar with IO yet, I am doing it but it needs time.","body":"@SotiriosDelimanolis, But the most awkward thing is that everything is fine in eclipse. I am not familiar with IO yet, I am doing it but it needs time."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388030861,"post_id":20778497,"comment_id":31146178,"body_markdown":"I can&#39;t explain it from where I&#39;m standing :p","body":"I can&#39;t explain it from where I&#39;m standing :p"}],"answers":[{"comments":[{"owner":{"account_id":3543148,"reputation":1436,"user_id":2959748,"accept_rate":68,"display_name":"bijiDango"},"score":1,"creation_date":1394531452,"post_id":22248075,"comment_id":33920899,"body_markdown":"Thank you, but yours is really not a good solution considering the effort you put in adding quotation marks. And also I solved this problem. It seems that the `Scanner` my system use is doing some strange  decoding. When I changed the loading scheme to `InputStream` it works correctly.","body":"Thank you, but yours is really not a good solution considering the effort you put in adding quotation marks. And also I solved this problem. It seems that the <code>Scanner</code> my system use is doing some strange  decoding. When I changed the loading scheme to <code>InputStream</code> it works correctly."}],"tags":[],"owner":{"account_id":1919455,"reputation":1926,"user_id":3392274,"accept_rate":73,"display_name":"Tulsiram Rathod"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394189567,"creation_date":1394189567,"answer_id":22248075,"question_id":20778497,"body_markdown":"   \r\n**Use this class**\r\n    \r\n \r\n    import java.util.List;\r\n    \r\n    public class GsonResponse\r\n    {\r\n    \tpublic int id;\r\n    \tpublic String name;\r\n    \tpublic int type;\r\n    \tpublic int rank;\r\n    \tpublic int fuelMax;\r\n    \tpublic int bulletMax;\r\n    \tpublic int slotNum;\r\n    \tpublic int speed;\r\n    \tpublic int afterLv;\r\n    \tpublic int afterId;\r\n    \tpublic int range;\r\n    \tpublic List&lt;Integer&gt; powerups;\r\n    \t/**\r\n    \t * @return the id\r\n    \t */\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \t/**\r\n    \t * @param id the id to set\r\n    \t */\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \t/**\r\n    \t * @return the name\r\n    \t */\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \t/**\r\n    \t * @param name the name to set\r\n    \t */\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t/**\r\n    \t * @return the type\r\n    \t */\r\n    \tpublic int getType() {\r\n    \t\treturn type;\r\n    \t}\r\n    \t/**\r\n    \t * @param type the type to set\r\n    \t */\r\n    \tpublic void setType(int type) {\r\n    \t\tthis.type = type;\r\n    \t}\r\n    \t/**\r\n    \t * @return the rank\r\n    \t */\r\n    \tpublic int getRank() {\r\n    \t\treturn rank;\r\n    \t}\r\n    \t/**\r\n    \t * @param rank the rank to set\r\n    \t */\r\n    \tpublic void setRank(int rank) {\r\n    \t\tthis.rank = rank;\r\n    \t}\r\n    \t/**\r\n    \t * @return the fuelMax\r\n    \t */\r\n    \tpublic int getFuelMax() {\r\n    \t\treturn fuelMax;\r\n    \t}\r\n    \t/**\r\n    \t * @param fuelMax the fuelMax to set\r\n    \t */\r\n    \tpublic void setFuelMax(int fuelMax) {\r\n    \t\tthis.fuelMax = fuelMax;\r\n    \t}\r\n    \t/**\r\n    \t * @return the bulletMax\r\n    \t */\r\n    \tpublic int getBulletMax() {\r\n    \t\treturn bulletMax;\r\n    \t}\r\n    \t/**\r\n    \t * @param bulletMax the bulletMax to set\r\n    \t */\r\n    \tpublic void setBulletMax(int bulletMax) {\r\n    \t\tthis.bulletMax = bulletMax;\r\n    \t}\r\n    \t/**\r\n    \t * @return the slotNum\r\n    \t */\r\n    \tpublic int getSlotNum() {\r\n    \t\treturn slotNum;\r\n    \t}\r\n    \t/**\r\n    \t * @param slotNum the slotNum to set\r\n    \t */\r\n    \tpublic void setSlotNum(int slotNum) {\r\n    \t\tthis.slotNum = slotNum;\r\n    \t}\r\n    \t/**\r\n    \t * @return the speed\r\n    \t */\r\n    \tpublic int getSpeed() {\r\n    \t\treturn speed;\r\n    \t}\r\n    \t/**\r\n    \t * @param speed the speed to set\r\n    \t */\r\n    \tpublic void setSpeed(int speed) {\r\n    \t\tthis.speed = speed;\r\n    \t}\r\n    \t/**\r\n    \t * @return the afterLv\r\n    \t */\r\n    \tpublic int getAfterLv() {\r\n    \t\treturn afterLv;\r\n    \t}\r\n    \t/**\r\n    \t * @param afterLv the afterLv to set\r\n    \t */\r\n    \tpublic void setAfterLv(int afterLv) {\r\n    \t\tthis.afterLv = afterLv;\r\n    \t}\r\n    \t/**\r\n    \t * @return the afterId\r\n    \t */\r\n    \tpublic int getAfterId() {\r\n    \t\treturn afterId;\r\n    \t}\r\n    \t/**\r\n    \t * @param afterId the afterId to set\r\n    \t */\r\n    \tpublic void setAfterId(int afterId) {\r\n    \t\tthis.afterId = afterId;\r\n    \t}\r\n    \t/**\r\n    \t * @return the range\r\n    \t */\r\n    \tpublic int getRange() {\r\n    \t\treturn range;\r\n    \t}\r\n    \t/**\r\n    \t * @param range the range to set\r\n    \t */\r\n    \tpublic void setRange(int range) {\r\n    \t\tthis.range = range;\r\n    \t}\r\n    \t/**\r\n    \t * @return the powerups\r\n    \t */\r\n    \tpublic List&lt;Integer&gt; getPowerups() {\r\n    \t\treturn powerups;\r\n    \t}\r\n    \t/**\r\n    \t * @param powerups the powerups to set\r\n    \t */\r\n    \tpublic void setPowerups(List&lt;Integer&gt; powerups) {\r\n    \t\tthis.powerups = powerups;\r\n    \t}    \r\n    }\r\n   \r\n    \r\n   **just add below code where u parse**\r\n    \r\n   \r\n    String strJson = &quot;[{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;睦月\\&quot;,\\&quot;type\\&quot;:2,\\&quot;rank\\&quot;:2,\\&quot;fuelMax\\&quot;:15,\\&quot;bulletMax\\&quot;:15,\\&quot;slotNum\\&quot;:2,\\&quot;speed\\&quot;:10,\\&quot;afterLv\\&quot;:20,\\&quot;afterId\\&quot;:254,\\&quot;range\\&quot;:1,\\&quot;powerups\\&quot;:[1,1,0,0]},{\\&quot;id\\&quot;:2,\\&quot;name\\&quot;:\\&quot;如月\\&quot;,\\&quot;type\\&quot;:2,\\&quot;rank\\&quot;:1,\\&quot;fuelMax\\&quot;:15,\\&quot;bulletMax\\&quot;:15,\\&quot;slotNum\\&quot;:2,\\&quot;speed\\&quot;:10,\\&quot;afterLv\\&quot;:20,\\&quot;afterId\\&quot;:255,\\&quot;range\\&quot;:1,\\&quot;powerups\\&quot;:[0,1,0,0]},{\\&quot;id\\&quot;:6,\\&quot;name\\&quot;:\\&quot;長月\\&quot;,\\&quot;type\\&quot;:2,\\&quot;rank\\&quot;:1,\\&quot;fuelMax\\&quot;:15,\\&quot;bulletMax\\&quot;:15,\\&quot;slotNum\\&quot;:2,\\&quot;speed\\&quot;:10,\\&quot;afterLv\\&quot;:20,\\&quot;afterId\\&quot;:258,\\&quot;range\\&quot;:1,\\&quot;powerups\\&quot;:[0,1,0,0]},{\\&quot;id\\&quot;:7,\\&quot;name\\&quot;:\\&quot;三日月\\&quot;,\\&quot;type\\&quot;:2,\\&quot;rank\\&quot;:1,\\&quot;fuelMax\\&quot;:15,\\&quot;bulletMax\\&quot;:15,\\&quot;slotNum\\&quot;:2,\\&quot;speed\\&quot;:10,\\&quot;afterLv\\&quot;:20,\\&quot;afterId\\&quot;:260,\\&quot;range\\&quot;:1,\\&quot;powerups\\&quot;:[0,1,0,0]}]&quot;;\r\n    \t\tGsonResponse gsonResponse = null;\r\n    \t\ttry {\r\n    \t\t\tgsonResponse = new Gson().fromJson(strJson,\r\n    \t\t\t\t\tGsonResponse.class);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO: handle exception\r\n    \t\t\te.printStackTrace();\r\n    \t\t}","title":"Gson throws MalformedJsonException, and other Exceptions","body":"<p><strong>Use this class</strong></p>\n\n<pre><code>import java.util.List;\n\npublic class GsonResponse\n{\n    public int id;\n    public String name;\n    public int type;\n    public int rank;\n    public int fuelMax;\n    public int bulletMax;\n    public int slotNum;\n    public int speed;\n    public int afterLv;\n    public int afterId;\n    public int range;\n    public List&lt;Integer&gt; powerups;\n    /**\n     * @return the id\n     */\n    public int getId() {\n        return id;\n    }\n    /**\n     * @param id the id to set\n     */\n    public void setId(int id) {\n        this.id = id;\n    }\n    /**\n     * @return the name\n     */\n    public String getName() {\n        return name;\n    }\n    /**\n     * @param name the name to set\n     */\n    public void setName(String name) {\n        this.name = name;\n    }\n    /**\n     * @return the type\n     */\n    public int getType() {\n        return type;\n    }\n    /**\n     * @param type the type to set\n     */\n    public void setType(int type) {\n        this.type = type;\n    }\n    /**\n     * @return the rank\n     */\n    public int getRank() {\n        return rank;\n    }\n    /**\n     * @param rank the rank to set\n     */\n    public void setRank(int rank) {\n        this.rank = rank;\n    }\n    /**\n     * @return the fuelMax\n     */\n    public int getFuelMax() {\n        return fuelMax;\n    }\n    /**\n     * @param fuelMax the fuelMax to set\n     */\n    public void setFuelMax(int fuelMax) {\n        this.fuelMax = fuelMax;\n    }\n    /**\n     * @return the bulletMax\n     */\n    public int getBulletMax() {\n        return bulletMax;\n    }\n    /**\n     * @param bulletMax the bulletMax to set\n     */\n    public void setBulletMax(int bulletMax) {\n        this.bulletMax = bulletMax;\n    }\n    /**\n     * @return the slotNum\n     */\n    public int getSlotNum() {\n        return slotNum;\n    }\n    /**\n     * @param slotNum the slotNum to set\n     */\n    public void setSlotNum(int slotNum) {\n        this.slotNum = slotNum;\n    }\n    /**\n     * @return the speed\n     */\n    public int getSpeed() {\n        return speed;\n    }\n    /**\n     * @param speed the speed to set\n     */\n    public void setSpeed(int speed) {\n        this.speed = speed;\n    }\n    /**\n     * @return the afterLv\n     */\n    public int getAfterLv() {\n        return afterLv;\n    }\n    /**\n     * @param afterLv the afterLv to set\n     */\n    public void setAfterLv(int afterLv) {\n        this.afterLv = afterLv;\n    }\n    /**\n     * @return the afterId\n     */\n    public int getAfterId() {\n        return afterId;\n    }\n    /**\n     * @param afterId the afterId to set\n     */\n    public void setAfterId(int afterId) {\n        this.afterId = afterId;\n    }\n    /**\n     * @return the range\n     */\n    public int getRange() {\n        return range;\n    }\n    /**\n     * @param range the range to set\n     */\n    public void setRange(int range) {\n        this.range = range;\n    }\n    /**\n     * @return the powerups\n     */\n    public List&lt;Integer&gt; getPowerups() {\n        return powerups;\n    }\n    /**\n     * @param powerups the powerups to set\n     */\n    public void setPowerups(List&lt;Integer&gt; powerups) {\n        this.powerups = powerups;\n    }    \n}\n</code></pre>\n\n<p><strong>just add below code where u parse</strong></p>\n\n<pre><code>String strJson = \"[{\\\"id\\\":1,\\\"name\\\":\\\"睦月\\\",\\\"type\\\":2,\\\"rank\\\":2,\\\"fuelMax\\\":15,\\\"bulletMax\\\":15,\\\"slotNum\\\":2,\\\"speed\\\":10,\\\"afterLv\\\":20,\\\"afterId\\\":254,\\\"range\\\":1,\\\"powerups\\\":[1,1,0,0]},{\\\"id\\\":2,\\\"name\\\":\\\"如月\\\",\\\"type\\\":2,\\\"rank\\\":1,\\\"fuelMax\\\":15,\\\"bulletMax\\\":15,\\\"slotNum\\\":2,\\\"speed\\\":10,\\\"afterLv\\\":20,\\\"afterId\\\":255,\\\"range\\\":1,\\\"powerups\\\":[0,1,0,0]},{\\\"id\\\":6,\\\"name\\\":\\\"長月\\\",\\\"type\\\":2,\\\"rank\\\":1,\\\"fuelMax\\\":15,\\\"bulletMax\\\":15,\\\"slotNum\\\":2,\\\"speed\\\":10,\\\"afterLv\\\":20,\\\"afterId\\\":258,\\\"range\\\":1,\\\"powerups\\\":[0,1,0,0]},{\\\"id\\\":7,\\\"name\\\":\\\"三日月\\\",\\\"type\\\":2,\\\"rank\\\":1,\\\"fuelMax\\\":15,\\\"bulletMax\\\":15,\\\"slotNum\\\":2,\\\"speed\\\":10,\\\"afterLv\\\":20,\\\"afterId\\\":260,\\\"range\\\":1,\\\"powerups\\\":[0,1,0,0]}]\";\n        GsonResponse gsonResponse = null;\n        try {\n            gsonResponse = new Gson().fromJson(strJson,\n                    GsonResponse.class);\n        } catch (Exception e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n</code></pre>\n"}],"owner":{"account_id":3543148,"reputation":1436,"user_id":2959748,"accept_rate":68,"display_name":"bijiDango"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701886080,"creation_date":1388025270,"question_id":20778497,"body_markdown":"I tried to save data to json string in a txt file using Gson and then restore it using Gson either. Things go well if I do it in eclipse. But when packaged to jar, Gson throws Exceptions.\r\n\r\nHere is the code for saving the file.\r\n\r\n    String gsonStr = gson.toJson(masterShips);  // masterShips is ArrayList&lt;Ship&gt;\r\n    BufferedWriter writer = null;\r\n    try {\r\n        writer = new BufferedWriter(new FileWriter(&quot;D:\\\\master_ship.txt&quot;));\r\n        writer.write(gsonStr);\r\n    } catch (IOException e) {\r\n        System.err.println(e);\r\n    } finally {\r\n        if (writer != null) {\r\n            try {\r\n                writer.close();\r\n            } catch (IOException e) {\r\n                System.err.println(e);\r\n            }\r\n        }\r\n    }\r\n\r\nThen I read the file in eclipse using this code (and it works):\r\n\r\n    Scanner in = new Scanner(new FileReader(&quot;D:\\\\master_ship.txt&quot;));\r\n\r\n    String str = in.nextLine();\r\n    Log.toDebug(str);\r\n    in.close();\r\n    JsonParser parser = new JsonParser();\r\n    JsonElement je = parser.parse(str);\r\n    JsonArray ja = je.getAsJsonArray();\r\n    for (int i=0; i&lt;ja.size(); ++i) { \r\n        ... \r\n    }\r\n\r\nBut after packaged into jar and run in cmd, Exception occurs:\r\n\r\n    Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: com.google.gson.\r\n    stream.MalformedJsonException: Use JsonReader.setLenient(true) to accept malform\r\n    ed JSON at line 1 column 4\r\n            at com.google.gson.JsonParser.parse(JsonParser.java:65)\r\n            at com.google.gson.JsonParser.parse(JsonParser.java:45)\r\n            at kan.util.Master.loadMasterShip(Master.java:44)\r\n            at kan.util.Master.load(Master.java:27)\r\n            at kan.Main.main(Main.java:22)\r\n    Caused by: com.google.gson.stream.MalformedJsonException: Use JsonReader.setLeni\r\n    ent(true) to accept malformed JSON at line 1 column 4\r\n            at com.google.gson.stream.JsonReader.syntaxError(JsonReader.java:1505)\r\n            at com.google.gson.stream.JsonReader.checkLenient(JsonReader.java:1386)\r\n            at com.google.gson.stream.JsonReader.doPeek(JsonReader.java:531)\r\n            at com.google.gson.stream.JsonReader.peek(JsonReader.java:414)\r\n            at com.google.gson.JsonParser.parse(JsonParser.java:60)\r\n            ... 4 more\r\n\r\nAccording to the hint of the Exception, I changed my code and it still works in eclipse:\r\n\r\n    Scanner in = new Scanner(new FileReader(&quot;D:\\\\master_ship.txt&quot;));\r\n        \t\r\n    String str = in.nextLine();\r\n    in.close();\r\n        \t\r\n    Reader reader = new StringReader(str);\r\n    JsonReader jr = new JsonReader(reader);\r\n    jr.setLenient(true);\r\n    JsonParser parser = new JsonParser();\r\n    JsonElement je = parser.parse(jr);\r\n    JsonArray ja = je.getAsJsonArray();\r\n    for (int i=0; i&lt;ja.size(); ++i) { \r\n    ... \r\n    }\r\n\r\nBut jar failed and throws \r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: This is not a JSON A\r\n    rray.\r\n        at com.google.gson.JsonElement.getAsJsonArray(JsonElement.java:106)\r\n        at kan.util.Master.loadMasterShip(Master.java:58)\r\n        at kan.util.Master.load(Master.java:30)\r\n        at kan.Main.main(Main.java:22)\r\n\r\n**As suggested by Sotirios I cut the length of the arraylist down, and when I increase the number of ships to 4, things go wrong. Here is the json:**\r\n\r\n    [{&quot;id&quot;:1,&quot;name&quot;:&quot;睦月&quot;,&quot;type&quot;:2,&quot;rank&quot;:2,&quot;fuelMax&quot;:15,&quot;bulletMax&quot;:15,&quot;slotNum&quot;:2,&quot;speed&quot;:10,&quot;afterLv&quot;:20,&quot;afterId&quot;:254,&quot;range&quot;:1,&quot;powerups&quot;:[1,1,0,0]},{&quot;id&quot;:2,&quot;name&quot;:&quot;如月&quot;,&quot;type&quot;:2,&quot;rank&quot;:1,&quot;fuelMax&quot;:15,&quot;bulletMax&quot;:15,&quot;slotNum&quot;:2,&quot;speed&quot;:10,&quot;afterLv&quot;:20,&quot;afterId&quot;:255,&quot;range&quot;:1,&quot;powerups&quot;:[0,1,0,0]},{&quot;id&quot;:6,&quot;name&quot;:&quot;長月&quot;,&quot;type&quot;:2,&quot;rank&quot;:1,&quot;fuelMax&quot;:15,&quot;bulletMax&quot;:15,&quot;slotNum&quot;:2,&quot;speed&quot;:10,&quot;afterLv&quot;:20,&quot;afterId&quot;:258,&quot;range&quot;:1,&quot;powerups&quot;:[0,1,0,0]},{&quot;id&quot;:7,&quot;name&quot;:&quot;三日月&quot;,&quot;type&quot;:2,&quot;rank&quot;:1,&quot;fuelMax&quot;:15,&quot;bulletMax&quot;:15,&quot;slotNum&quot;:2,&quot;speed&quot;:10,&quot;afterLv&quot;:20,&quot;afterId&quot;:260,&quot;range&quot;:1,&quot;powerups&quot;:[0,1,0,0]}]\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ↑ colunm 473\r\n\r\n    Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: com.google.gson.\r\n    stream.MalformedJsonException: Unterminated object at line 1 column 473\r\n            at com.google.gson.internal.Streams.parse(Streams.java:56)\r\n            at com.google.gson.JsonParser.parse(JsonParser.java:84)\r\n            at kan.util.Master.loadMasterShip(Master.java:55)\r\n            at kan.util.Master.load(Master.java:30)\r\n            at kan.Main.main(Main.java:22)\r\n    Caused by: com.google.gson.stream.MalformedJsonException: Unterminated object at\r\n     line 1 column 473\r\n            at com.google.gson.stream.JsonReader.syntaxError(JsonReader.java:1505)\r\n            at com.google.gson.stream.JsonReader.doPeek(JsonReader.java:480)\r\n            at com.google.gson.stream.JsonReader.hasNext(JsonReader.java:403)\r\n            at com.google.gson.internal.bind.TypeAdapters$25.read(TypeAdapters.java:\r\n    666)\r\n            at com.google.gson.internal.bind.TypeAdapters$25.read(TypeAdapters.java:\r\n    659)\r\n            at com.google.gson.internal.bind.TypeAdapters$25.read(TypeAdapters.java:\r\n    642)\r\n            at com.google.gson.internal.Streams.parse(Streams.java:44)\r\n            ... 4 more\r\n\r\nCan anyone help me with this, you will be reaally preciated!\r\n\r\n","title":"Gson throws MalformedJsonException, and other Exceptions","body":"<p>I tried to save data to json string in a txt file using Gson and then restore it using Gson either. Things go well if I do it in eclipse. But when packaged to jar, Gson throws Exceptions.</p>\n\n<p>Here is the code for saving the file.</p>\n\n<pre><code>String gsonStr = gson.toJson(masterShips);  // masterShips is ArrayList&lt;Ship&gt;\nBufferedWriter writer = null;\ntry {\n    writer = new BufferedWriter(new FileWriter(\"D:\\\\master_ship.txt\"));\n    writer.write(gsonStr);\n} catch (IOException e) {\n    System.err.println(e);\n} finally {\n    if (writer != null) {\n        try {\n            writer.close();\n        } catch (IOException e) {\n            System.err.println(e);\n        }\n    }\n}\n</code></pre>\n\n<p>Then I read the file in eclipse using this code (and it works):</p>\n\n<pre><code>Scanner in = new Scanner(new FileReader(\"D:\\\\master_ship.txt\"));\n\nString str = in.nextLine();\nLog.toDebug(str);\nin.close();\nJsonParser parser = new JsonParser();\nJsonElement je = parser.parse(str);\nJsonArray ja = je.getAsJsonArray();\nfor (int i=0; i&lt;ja.size(); ++i) { \n    ... \n}\n</code></pre>\n\n<p>But after packaged into jar and run in cmd, Exception occurs:</p>\n\n<pre><code>Exception in thread \"main\" com.google.gson.JsonSyntaxException: com.google.gson.\nstream.MalformedJsonException: Use JsonReader.setLenient(true) to accept malform\ned JSON at line 1 column 4\n        at com.google.gson.JsonParser.parse(JsonParser.java:65)\n        at com.google.gson.JsonParser.parse(JsonParser.java:45)\n        at kan.util.Master.loadMasterShip(Master.java:44)\n        at kan.util.Master.load(Master.java:27)\n        at kan.Main.main(Main.java:22)\nCaused by: com.google.gson.stream.MalformedJsonException: Use JsonReader.setLeni\nent(true) to accept malformed JSON at line 1 column 4\n        at com.google.gson.stream.JsonReader.syntaxError(JsonReader.java:1505)\n        at com.google.gson.stream.JsonReader.checkLenient(JsonReader.java:1386)\n        at com.google.gson.stream.JsonReader.doPeek(JsonReader.java:531)\n        at com.google.gson.stream.JsonReader.peek(JsonReader.java:414)\n        at com.google.gson.JsonParser.parse(JsonParser.java:60)\n        ... 4 more\n</code></pre>\n\n<p>According to the hint of the Exception, I changed my code and it still works in eclipse:</p>\n\n<pre><code>Scanner in = new Scanner(new FileReader(\"D:\\\\master_ship.txt\"));\n\nString str = in.nextLine();\nin.close();\n\nReader reader = new StringReader(str);\nJsonReader jr = new JsonReader(reader);\njr.setLenient(true);\nJsonParser parser = new JsonParser();\nJsonElement je = parser.parse(jr);\nJsonArray ja = je.getAsJsonArray();\nfor (int i=0; i&lt;ja.size(); ++i) { \n... \n}\n</code></pre>\n\n<p>But jar failed and throws </p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException: This is not a JSON A\nrray.\n    at com.google.gson.JsonElement.getAsJsonArray(JsonElement.java:106)\n    at kan.util.Master.loadMasterShip(Master.java:58)\n    at kan.util.Master.load(Master.java:30)\n    at kan.Main.main(Main.java:22)\n</code></pre>\n\n<p><strong>As suggested by Sotirios I cut the length of the arraylist down, and when I increase the number of ships to 4, things go wrong. Here is the json:</strong></p>\n\n<pre><code>[{\"id\":1,\"name\":\"睦月\",\"type\":2,\"rank\":2,\"fuelMax\":15,\"bulletMax\":15,\"slotNum\":2,\"speed\":10,\"afterLv\":20,\"afterId\":254,\"range\":1,\"powerups\":[1,1,0,0]},{\"id\":2,\"name\":\"如月\",\"type\":2,\"rank\":1,\"fuelMax\":15,\"bulletMax\":15,\"slotNum\":2,\"speed\":10,\"afterLv\":20,\"afterId\":255,\"range\":1,\"powerups\":[0,1,0,0]},{\"id\":6,\"name\":\"長月\",\"type\":2,\"rank\":1,\"fuelMax\":15,\"bulletMax\":15,\"slotNum\":2,\"speed\":10,\"afterLv\":20,\"afterId\":258,\"range\":1,\"powerups\":[0,1,0,0]},{\"id\":7,\"name\":\"三日月\",\"type\":2,\"rank\":1,\"fuelMax\":15,\"bulletMax\":15,\"slotNum\":2,\"speed\":10,\"afterLv\":20,\"afterId\":260,\"range\":1,\"powerups\":[0,1,0,0]}]\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ↑ colunm 473\n\nException in thread \"main\" com.google.gson.JsonSyntaxException: com.google.gson.\nstream.MalformedJsonException: Unterminated object at line 1 column 473\n        at com.google.gson.internal.Streams.parse(Streams.java:56)\n        at com.google.gson.JsonParser.parse(JsonParser.java:84)\n        at kan.util.Master.loadMasterShip(Master.java:55)\n        at kan.util.Master.load(Master.java:30)\n        at kan.Main.main(Main.java:22)\nCaused by: com.google.gson.stream.MalformedJsonException: Unterminated object at\n line 1 column 473\n        at com.google.gson.stream.JsonReader.syntaxError(JsonReader.java:1505)\n        at com.google.gson.stream.JsonReader.doPeek(JsonReader.java:480)\n        at com.google.gson.stream.JsonReader.hasNext(JsonReader.java:403)\n        at com.google.gson.internal.bind.TypeAdapters$25.read(TypeAdapters.java:\n666)\n        at com.google.gson.internal.bind.TypeAdapters$25.read(TypeAdapters.java:\n659)\n        at com.google.gson.internal.bind.TypeAdapters$25.read(TypeAdapters.java:\n642)\n        at com.google.gson.internal.Streams.parse(Streams.java:44)\n        ... 4 more\n</code></pre>\n\n<p>Can anyone help me with this, you will be reaally preciated!</p>\n"},{"tags":["java","undo","memento"],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701881457,"creation_date":1701881457,"answer_id":77614918,"question_id":77614841,"body_markdown":"In the `undo` method you are using `peek` to get the previous state from the Stack.  The `peek` method is for inspecting the top element but it doesn&#39;t remove it.  Use `pop` instead.\r\n\r\nNote that you are passing null to `restoreState` when the stack is empty but that method doesn&#39;t have special handling for the null case.","title":"Issues with implementing an undo feature with stacks in Java","body":"<p>In the <code>undo</code> method you are using <code>peek</code> to get the previous state from the Stack.  The <code>peek</code> method is for inspecting the top element but it doesn't remove it.  Use <code>pop</code> instead.</p>\n<p>Note that you are passing null to <code>restoreState</code> when the stack is empty but that method doesn't have special handling for the null case.</p>\n"}],"owner":{"display_name":"user19573691"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701885934,"creation_date":1701880665,"question_id":77614841,"body_markdown":"I am relatively new to Java programming. I am trying to make an application that acts a budget calculator and I wanted to implement an undo feature where I could perform multiple undos in a row to undo any numbers inputted in their respective fields. As of now the code can only perform one undo at a time. If I try to undo multiple times in a row, it will only undo once and prevent me from undoing further. Something I observed when trying to fix this was that the last text field in my UI does work as intended, where it will undo the whole textfield if I keep pressing the undo button. This makes me think I am implementing my stack incorrectly but I have yet to find a solution for this. The following are methods involved in the undo feature.\r\n\r\n```\r\npublic void saveState() {\r\n    Map&lt;String, Double&gt; incomeValues = new HashMap&lt;&gt;();\r\n    Map&lt;String, Double&gt; spendingValues = new HashMap&lt;&gt;();\r\n\r\n    // Get current values from income fields\r\n    for (Map.Entry&lt;String, JTextField&gt; entry : incomeFields.entrySet()) {\r\n        String fieldName = entry.getKey();\r\n        JTextField field = entry.getValue();\r\n        String text = field.getText();\r\n        double value = text.isEmpty() ? 0 : Double.parseDouble(text);\r\n        incomeValues.put(fieldName, value);\r\n    }\r\n\r\n    // Get current values from spending fields\r\n    for (Map.Entry&lt;String, JTextField&gt; entry : spendingFields.entrySet()) {\r\n        String fieldName = entry.getKey();\r\n        JTextField field = entry.getValue();\r\n        String text = field.getText();\r\n        double value = text.isEmpty() ? 0 : Double.parseDouble(text);\r\n        spendingValues.put(fieldName, value);\r\n    }\r\n\r\n    stateStack.push(new BudgetState(new HashMap&lt;&gt;(incomeValues), new HashMap&lt;&gt;(spendingValues)));\r\n}\r\n\r\npublic void undo(int count) {\r\n    while (count &gt; 0 &amp;&amp; !stateStack.isEmpty()) {\r\n        stateStack.pop();\r\n        count--;\r\n    }\r\n\r\n    BudgetState prevState = stateStack.isEmpty() ? null : stateStack.peek();\r\n    restoreState(prevState);\r\n    updateTotals();\r\n}\r\n\r\npublic void restoreState(BudgetState state) {\r\n    Map&lt;String, Double&gt; incomeValues = state.getIncomeValues();\r\n    Map&lt;String, Double&gt; spendingValues = state.getSpendingValues();\r\n\r\n    // Set values in text fields\r\n    for (Map.Entry&lt;String, Double&gt; entry : incomeValues.entrySet()) {\r\n        String fieldName = entry.getKey();\r\n        double value = entry.getValue();\r\n        JTextField field = incomeFields.get(fieldName);\r\n        field.setText(String.valueOf(value)); // Set text field value\r\n    }\r\n\r\n    for (Map.Entry&lt;String, Double&gt; entry : spendingValues.entrySet()) {\r\n        String fieldName = entry.getKey();\r\n        double value = entry.getValue();\r\n        JTextField field = spendingFields.get(fieldName);\r\n        field.setText(String.valueOf(value)); // Set text field value\r\n    }\r\n}\r\n```\r\n\r\nThis is the other class which handles serves as a container to store and represent the state of income and spending values within the budget calculator application.\r\n\r\n```\r\npackage Budget;\r\nimport java.util.*;\r\n\r\npublic class BudgetState {\r\n    private Map&lt;String, Double&gt; incomeValues;\r\n    private Map&lt;String, Double&gt; spendingValues;\r\n\r\n    public BudgetState(Map&lt;String, Double&gt; incomeValues, Map&lt;String, Double&gt; spendingValues) {\r\n        this.incomeValues = new HashMap&lt;&gt;(incomeValues);\r\n        this.spendingValues = new HashMap&lt;&gt;(spendingValues);\r\n    }\r\n\r\n    public Map&lt;String, Double&gt; getIncomeValues() {\r\n        return incomeValues;\r\n    }\r\n\r\n    public Map&lt;String, Double&gt; getSpendingValues() {\r\n        return spendingValues;\r\n    }\r\n}\r\n```","title":"Issues with implementing an undo feature with stacks in Java","body":"<p>I am relatively new to Java programming. I am trying to make an application that acts a budget calculator and I wanted to implement an undo feature where I could perform multiple undos in a row to undo any numbers inputted in their respective fields. As of now the code can only perform one undo at a time. If I try to undo multiple times in a row, it will only undo once and prevent me from undoing further. Something I observed when trying to fix this was that the last text field in my UI does work as intended, where it will undo the whole textfield if I keep pressing the undo button. This makes me think I am implementing my stack incorrectly but I have yet to find a solution for this. The following are methods involved in the undo feature.</p>\n<pre><code>public void saveState() {\n    Map&lt;String, Double&gt; incomeValues = new HashMap&lt;&gt;();\n    Map&lt;String, Double&gt; spendingValues = new HashMap&lt;&gt;();\n\n    // Get current values from income fields\n    for (Map.Entry&lt;String, JTextField&gt; entry : incomeFields.entrySet()) {\n        String fieldName = entry.getKey();\n        JTextField field = entry.getValue();\n        String text = field.getText();\n        double value = text.isEmpty() ? 0 : Double.parseDouble(text);\n        incomeValues.put(fieldName, value);\n    }\n\n    // Get current values from spending fields\n    for (Map.Entry&lt;String, JTextField&gt; entry : spendingFields.entrySet()) {\n        String fieldName = entry.getKey();\n        JTextField field = entry.getValue();\n        String text = field.getText();\n        double value = text.isEmpty() ? 0 : Double.parseDouble(text);\n        spendingValues.put(fieldName, value);\n    }\n\n    stateStack.push(new BudgetState(new HashMap&lt;&gt;(incomeValues), new HashMap&lt;&gt;(spendingValues)));\n}\n\npublic void undo(int count) {\n    while (count &gt; 0 &amp;&amp; !stateStack.isEmpty()) {\n        stateStack.pop();\n        count--;\n    }\n\n    BudgetState prevState = stateStack.isEmpty() ? null : stateStack.peek();\n    restoreState(prevState);\n    updateTotals();\n}\n\npublic void restoreState(BudgetState state) {\n    Map&lt;String, Double&gt; incomeValues = state.getIncomeValues();\n    Map&lt;String, Double&gt; spendingValues = state.getSpendingValues();\n\n    // Set values in text fields\n    for (Map.Entry&lt;String, Double&gt; entry : incomeValues.entrySet()) {\n        String fieldName = entry.getKey();\n        double value = entry.getValue();\n        JTextField field = incomeFields.get(fieldName);\n        field.setText(String.valueOf(value)); // Set text field value\n    }\n\n    for (Map.Entry&lt;String, Double&gt; entry : spendingValues.entrySet()) {\n        String fieldName = entry.getKey();\n        double value = entry.getValue();\n        JTextField field = spendingFields.get(fieldName);\n        field.setText(String.valueOf(value)); // Set text field value\n    }\n}\n</code></pre>\n<p>This is the other class which handles serves as a container to store and represent the state of income and spending values within the budget calculator application.</p>\n<pre><code>package Budget;\nimport java.util.*;\n\npublic class BudgetState {\n    private Map&lt;String, Double&gt; incomeValues;\n    private Map&lt;String, Double&gt; spendingValues;\n\n    public BudgetState(Map&lt;String, Double&gt; incomeValues, Map&lt;String, Double&gt; spendingValues) {\n        this.incomeValues = new HashMap&lt;&gt;(incomeValues);\n        this.spendingValues = new HashMap&lt;&gt;(spendingValues);\n    }\n\n    public Map&lt;String, Double&gt; getIncomeValues() {\n        return incomeValues;\n    }\n\n    public Map&lt;String, Double&gt; getSpendingValues() {\n        return spendingValues;\n    }\n}\n</code></pre>\n"},{"tags":["java","processing","controls","move"],"answers":[{"tags":[],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1494783723,"creation_date":1494783723,"answer_id":43967025,"question_id":43966550,"body_markdown":"Processing has a `dist()` function that you should probably use instead of doing it yourself. More info can be found in [the reference](https://processing.org/reference/).\r\n\r\nI&#39;m not exactly sure what you mean by single parameter, because you&#39;re going to need an X speed and a Y speed, so it&#39;s at least two parameters. But there are a few ways to go about finding them:\r\n\r\n- You could scale your X and Y distances into a **unit vector**. The `PVector` class has useful function that would help with that. Again, more info can be found in [the reference](https://processing.org/reference/).\r\n\r\n- Or you could use basic trigonometry to calculate the angle between the two objects. Google is your friend there. When you have the angle, you can use the `cos()` and `sin()` functions to calculate an X and Y speed.\r\n\r\nStack Overflow isn&#39;t really designed for general &quot;how do I do this&quot; type questions. It&#39;s for more specific &quot;I tried X, expected Y, but got Z instead&quot; type questions. So you should really try something, and post a [MCVE](https://stackoverflow.com/help/mcve) if you get stuck. Good luck.","title":"Using the distance to slowly close in from Object to another moving Object","body":"<p>Processing has a <code>dist()</code> function that you should probably use instead of doing it yourself. More info can be found in <a href=\"https://processing.org/reference/\" rel=\"nofollow noreferrer\">the reference</a>.</p>\n\n<p>I'm not exactly sure what you mean by single parameter, because you're going to need an X speed and a Y speed, so it's at least two parameters. But there are a few ways to go about finding them:</p>\n\n<ul>\n<li><p>You could scale your X and Y distances into a <strong>unit vector</strong>. The <code>PVector</code> class has useful function that would help with that. Again, more info can be found in <a href=\"https://processing.org/reference/\" rel=\"nofollow noreferrer\">the reference</a>.</p></li>\n<li><p>Or you could use basic trigonometry to calculate the angle between the two objects. Google is your friend there. When you have the angle, you can use the <code>cos()</code> and <code>sin()</code> functions to calculate an X and Y speed.</p></li>\n</ul>\n\n<p>Stack Overflow isn't really designed for general \"how do I do this\" type questions. It's for more specific \"I tried X, expected Y, but got Z instead\" type questions. So you should really try something, and post a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> if you get stuck. Good luck.</p>\n"}],"owner":{"account_id":7297266,"reputation":383,"user_id":5561534,"display_name":"FunnyO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43967025,"answer_count":1,"score":0,"last_activity_date":1701884992,"creation_date":1494780859,"question_id":43966550,"body_markdown":"I&#39;m using Processing to program a 2D mini game.\r\nThere is a car, you can control, and a cross **slowly** chasing after the car. Fairly simple. But now to my question.\r\n\r\nHow do I use only a **single Parameter** to calculate, in which direction the cross should move?\r\n\r\nThis is the calculation of the distance from Point A to Point B\r\n\r\n    float distance ( float xa, float ya, float xb, float yb ) \r\n    {\r\n      \r\n      float dx = xa-xb;\r\n      float dy = ya-yb;\r\n      float dist = sqrt(dx*dx+dy*dy);\r\n    \r\n      return dist;\r\n    }\r\n\r\nTo keep it Simple, there must be a possible and simple solution, right?","title":"Using the distance to slowly close in from Object to another moving Object","body":"<p>I'm using Processing to program a 2D mini game.\nThere is a car, you can control, and a cross <strong>slowly</strong> chasing after the car. Fairly simple. But now to my question.</p>\n<p>How do I use only a <strong>single Parameter</strong> to calculate, in which direction the cross should move?</p>\n<p>This is the calculation of the distance from Point A to Point B</p>\n<pre><code>float distance ( float xa, float ya, float xb, float yb ) \n{\n  \n  float dx = xa-xb;\n  float dy = ya-yb;\n  float dist = sqrt(dx*dx+dy*dy);\n\n  return dist;\n}\n</code></pre>\n<p>To keep it Simple, there must be a possible and simple solution, right?</p>\n"},{"tags":["java","spring","tomcat","initialization"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1396641418,"post_id":22871789,"comment_id":34897239,"body_markdown":"Have you turned on Spring&#39;s logging? What do it say?","body":"Have you turned on Spring&#39;s logging? What do it say?"},{"owner":{"account_id":2832756,"reputation":865,"user_id":2433992,"accept_rate":71,"display_name":"Matt Crysler"},"score":1,"creation_date":1396642486,"post_id":22871789,"comment_id":34897782,"body_markdown":"What&#39;s the easiest way to turn on Spring&#39;s logging?","body":"What&#39;s the easiest way to turn on Spring&#39;s logging?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1396642749,"post_id":22871789,"comment_id":34897901,"body_markdown":"With SLF4j, see [here](http://stackoverflow.com/questions/3387441/how-do-i-configure-spring-and-slf4j-so-that-i-can-get-logging).","body":"With SLF4j, see <a href=\"http://stackoverflow.com/questions/3387441/how-do-i-configure-spring-and-slf4j-so-that-i-can-get-logging\">here</a>."},{"owner":{"account_id":2832756,"reputation":865,"user_id":2433992,"accept_rate":71,"display_name":"Matt Crysler"},"score":0,"creation_date":1396886843,"post_id":22871789,"comment_id":34979431,"body_markdown":"Was able to turn on logging for Spring and it turned out to be a connection issue with one of the underlying databases.  Once that was fixed the issue seems to be resolved.  Thanks @SotiriosDelimanolis","body":"Was able to turn on logging for Spring and it turned out to be a connection issue with one of the underlying databases.  Once that was fixed the issue seems to be resolved.  Thanks @SotiriosDelimanolis"},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1500019882,"post_id":22871789,"comment_id":77167664,"body_markdown":"http://www.codingpedia.org/ama/how-to-log-in-spring-with-slf4j-and-logback/","body":"<a href=\"http://www.codingpedia.org/ama/how-to-log-in-spring-with-slf4j-and-logback/\" rel=\"nofollow noreferrer\">codingpedia.org/ama/how-to-log-in-spring-with-slf4j-and-logb&zwnj;&#8203;ack</a>"}],"answers":[{"comments":[{"owner":{"account_id":1239349,"reputation":157,"user_id":1202309,"display_name":"jayash samaiya"},"score":0,"creation_date":1466594999,"post_id":22917589,"comment_id":63379276,"body_markdown":"Resolved my problem too. I have a active query running on DB. Things got resolved now","body":"Resolved my problem too. I have a active query running on DB. Things got resolved now"},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":0,"creation_date":1485109305,"post_id":22917589,"comment_id":70777147,"body_markdown":"What is a hung state for a database connection ?","body":"What is a hung state for a database connection ?"},{"owner":{"account_id":4902051,"reputation":87,"user_id":3949939,"accept_rate":25,"display_name":"rj4u"},"score":0,"creation_date":1498541880,"post_id":22917589,"comment_id":76526194,"body_markdown":"Thanks. It was database connection issue for me too.","body":"Thanks. It was database connection issue for me too."},{"owner":{"account_id":7929172,"reputation":1787,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":3,"creation_date":1624570444,"post_id":22917589,"comment_id":120402349,"body_markdown":"1. How did you turn on spring logging? 2.How did you resolve the hung database issue?","body":"1. How did you turn on spring logging? 2.How did you resolve the hung database issue?"}],"tags":[],"owner":{"account_id":2832756,"reputation":865,"user_id":2433992,"accept_rate":71,"display_name":"Matt Crysler"},"comment_count":4,"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1396886924,"creation_date":1396886924,"answer_id":22917589,"question_id":22871789,"body_markdown":"Setting an answer for this so others know what helped me in this particular situation.  Turning on Spring logging allowed me to see that a database connection was in a hung state.  Resolving the database issue allowed my application to finish deployment.","title":"Tomcat 7 hangs on Initializing Spring root WebApplicationContext","body":"<p>Setting an answer for this so others know what helped me in this particular situation.  Turning on Spring logging allowed me to see that a database connection was in a hung state.  Resolving the database issue allowed my application to finish deployment.</p>\n"},{"tags":[],"owner":{"account_id":6530445,"reputation":1987,"user_id":5051731,"display_name":"YetAnotherBot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554270655,"creation_date":1553680373,"answer_id":55374273,"question_id":22871789,"body_markdown":"Had been trying to figure out this for a while.\r\n\r\nThe console got stuck at `INFO: Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;`\r\n\r\nTurns out that that was the last message and the service had already started.\r\nI was accessing the service on the wrong port.\r\n\r\nAlso, logging was not configured. So no logs showed up after the default output from spring.","title":"Tomcat 7 hangs on Initializing Spring root WebApplicationContext","body":"<p>Had been trying to figure out this for a while.</p>\n\n<p>The console got stuck at <code>INFO: Initializing Spring DispatcherServlet 'dispatcherServlet'</code></p>\n\n<p>Turns out that that was the last message and the service had already started.\nI was accessing the service on the wrong port.</p>\n\n<p>Also, logging was not configured. So no logs showed up after the default output from spring.</p>\n"},{"tags":[],"owner":{"account_id":16263411,"reputation":369,"user_id":11744170,"display_name":"Wajid Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606573607,"creation_date":1606573607,"answer_id":65050637,"question_id":22871789,"body_markdown":"As I checked I had the same issue like ***Jive Application*** startup was stuck, my machine is designed with :\r\n\r\n**Configuration** : **2** node with DB like i have *eae,ingress-replicator &amp; search on **node 1*** &amp; ****node 2** have cache, docconverter .**\r\nthen **two front node** \r\n\r\n***Solution:*** checked that some services stuck after OS upgrade so ***i have rebooted all 4 nodes in sequence*** and the issue had solved.\r\n","title":"Tomcat 7 hangs on Initializing Spring root WebApplicationContext","body":"<p>As I checked I had the same issue like <em><strong>Jive Application</strong></em> startup was stuck, my machine is designed with :</p>\n<p><strong>Configuration</strong> : <strong>2</strong> node with DB like i have <em>eae,ingress-replicator &amp; search on <strong>node 1</strong></em> &amp; <strong><strong>node 2</strong> have cache, docconverter .</strong>\nthen <strong>two front node</strong></p>\n<p><em><strong>Solution:</strong></em> checked that some services stuck after OS upgrade so <em><strong>i have rebooted all 4 nodes in sequence</strong></em> and the issue had solved.</p>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701884185,"creation_date":1701884185,"answer_id":77615188,"question_id":22871789,"body_markdown":"Sometimes it can also be a weird case where you&#39;ve lost all prior logging, and this is the only remaining output you see, but the application **is** running. Verify what happens when you try to invoke the application.\r\n\r\nFor me, prior SFL4J output that I was used to suddenly got changed with a configuration change, and my final output line on the console was \r\n\r\n    Initializing Spring embedded WebApplicationContext\r\n\r\nBut the application was running. I was simply no longer seeing all the other logging that used to end with \r\n\r\n    2023-12-06 10:58:29.837 [main] INFO  MyApplication.logStarted(56) - Started MyApplication in 5.988 seconds (process running for 6.94)\r\n\r\n","title":"Tomcat 7 hangs on Initializing Spring root WebApplicationContext","body":"<p>Sometimes it can also be a weird case where you've lost all prior logging, and this is the only remaining output you see, but the application <strong>is</strong> running. Verify what happens when you try to invoke the application.</p>\n<p>For me, prior SFL4J output that I was used to suddenly got changed with a configuration change, and my final output line on the console was</p>\n<pre><code>Initializing Spring embedded WebApplicationContext\n</code></pre>\n<p>But the application was running. I was simply no longer seeing all the other logging that used to end with</p>\n<pre><code>2023-12-06 10:58:29.837 [main] INFO  MyApplication.logStarted(56) - Started MyApplication in 5.988 seconds (process running for 6.94)\n</code></pre>\n"}],"owner":{"account_id":2832756,"reputation":865,"user_id":2433992,"accept_rate":71,"display_name":"Matt Crysler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41401,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":22917589,"answer_count":4,"score":20,"last_activity_date":1701884185,"creation_date":1396640758,"question_id":22871789,"body_markdown":"I am trying to deploy a Spring web application to Tomcat 7.0.24 but it hangs upon startup with the last lines showing as\r\n\r\n    INFO: Deploying web application archive /usr/local/apps/tomcat-7.0.42/webapps/server-webapp.war\r\n    Apr 4, 2014 1:38:28 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Spring WebApplicationInitializers detected on classpath: [com.verical.marketplace.init.MarketplaceWebAppInitializer@6a05fdf]\r\n    Apr 4, 2014 1:38:30 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring root WebApplicationContext\r\n\r\nI recently upgraded to Spring 4.0.2 and am using a customer WebApplicationInitializer via annotations.  Before the upgrade I was using Spring 3 with pure XML config and it worked just fine.  My web.xml file looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;\r\n         http://java.sun.com/xml/ns/javaee\r\n         http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\r\n         http://java.sun.com/xml/ns/javaee/web-common_3_0.xsd&quot;\r\n         version=&quot;3.0&quot;&gt;\r\n\r\n    &lt;!-- Define the mime mappings --&gt;\r\n    &lt;mime-mapping&gt;\r\n        &lt;extension&gt;xsd&lt;/extension&gt;\r\n        &lt;mime-type&gt;text/xml&lt;/mime-type&gt;\r\n    &lt;/mime-mapping&gt;\r\n\r\n    &lt;!-- Define the welcome file list --&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n\r\n    &lt;!-- Define the default session timeout value --&gt;\r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;240&lt;/session-timeout&gt;\r\n        &lt;cookie-config&gt;\r\n            &lt;http-only&gt;true&lt;/http-only&gt;\r\n            &lt;secure&gt;true&lt;/secure&gt;\r\n        &lt;/cookie-config&gt;\r\n    &lt;/session-config&gt;\r\n    \r\n&lt;/web-app&gt;\r\n\r\nHere is my web application initializer:\r\n\r\n    public class MarketplaceWebAppInitializer implements WebApplicationInitializer\r\n    {\r\n      @Override\r\n      public void onStartup(ServletContext container)\r\n      {\r\n        // Instantiate a new web application context\r\n        XmlWebApplicationContext rootContext = new MarketplaceXmlWebApplicationContext(container);\r\n\r\n        // Add the various listeners\r\n        container.addListener(new ContextLoaderListener(rootContext));\r\n        container.addListener(new RequestContextListener());\r\n\r\n        // Set the locations of the configuration files\r\n        rootContext.setConfigLocations(\r\n                new String[]\r\n                        {\r\n                                &quot;applicationContext.xml&quot;,\r\n                                &quot;config/api-beans.xml&quot;,\r\n                                &quot;config/hibernate-beans.xml&quot;,\r\n                                &quot;config/security-beans.xml&quot;,\r\n                                &quot;config/service-beans.xml&quot;,\r\n                                &quot;config/settings-beans.xml&quot;,\r\n                                &quot;config/utility-beans.xml&quot;,\r\n                                &quot;config/mvc/web-beans.xml&quot;,\r\n                                &quot;config/jmx-beans.xml&quot;,\r\n                                &quot;config/ws/ws-beans.xml&quot;\r\n                        }\r\n        );\r\n\r\n        // Add the dispatcher servlet\r\n        ServletRegistration.Dynamic mvc =\r\n                container.addServlet(&quot;mvc&quot;, new DispatcherServlet(rootContext));\r\n        mvc.setLoadOnStartup(1);\r\n        mvc.setInitParameter(&quot;dispatchOptionsRequest&quot;, &quot;true&quot;);\r\n        mvc.addMapping(&quot;/api/*&quot;);\r\n        mvc.addMapping(&quot;/html/*&quot;);\r\n\r\n        // Add the web services servlet\r\n        ServletRegistration.Dynamic ws =\r\n                container.addServlet(&quot;ws&quot;, new MessageDispatcherServlet(rootContext));\r\n        ws.setLoadOnStartup(2);\r\n        ws.setInitParameter(&quot;transformWsdlLocations&quot;, &quot;true&quot;);\r\n        ws.addMapping(&quot;/service/*&quot;);\r\n\r\n        // Add the spring security filter\r\n        FilterRegistration.Dynamic springSecurityFilter =\r\n                container.addFilter(&quot;springSecurityFilterChain&quot;,\r\n                        new DelegatingFilterProxy(&quot;springSecurityFilterChain&quot;));\r\n        springSecurityFilter.addMappingForUrlPatterns(null, true, &quot;/j_spring_security_check&quot;);\r\n        springSecurityFilter.addMappingForUrlPatterns(null, true, &quot;/j_spring_security_logout&quot;);\r\n        springSecurityFilter.addMappingForUrlPatterns(null, true, &quot;/api/*&quot;);\r\n        springSecurityFilter.addMappingForUrlPatterns(null, true, &quot;/html/*&quot;);\r\n\r\n        // Add the static content filter\r\n        FilterRegistration.Dynamic staticContentFilter =\r\n                container.addFilter(&quot;staticContentFilter&quot;, new StaticContentFilter());\r\n        staticContentFilter.addMappingForUrlPatterns(null, true, &quot;/static/*&quot;);\r\n        staticContentFilter.addMappingForUrlPatterns(null, true, &quot;/generated/*&quot;);\r\n\r\n        // Add the logger filter\r\n        FilterRegistration.Dynamic loggerFilter =\r\n                container.addFilter(&quot;loggerFilter&quot;, new LoggerFilter());\r\n        loggerFilter.addMappingForUrlPatterns(null, true, &quot;/api/*&quot;);\r\n        loggerFilter.addMappingForUrlPatterns(null, true, &quot;/html/*&quot;);\r\n      }\r\n    }\r\n\r\nIs there anything obvious that I am missing?  I&#39;ve checked all the other questions/answers on this topic and didn&#39;t find a solution.","title":"Tomcat 7 hangs on Initializing Spring root WebApplicationContext","body":"<p>I am trying to deploy a Spring web application to Tomcat 7.0.24 but it hangs upon startup with the last lines showing as</p>\n\n<pre><code>INFO: Deploying web application archive /usr/local/apps/tomcat-7.0.42/webapps/server-webapp.war\nApr 4, 2014 1:38:28 PM org.apache.catalina.core.ApplicationContext log\nINFO: Spring WebApplicationInitializers detected on classpath: [com.verical.marketplace.init.MarketplaceWebAppInitializer@6a05fdf]\nApr 4, 2014 1:38:30 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring root WebApplicationContext\n</code></pre>\n\n<p>I recently upgraded to Spring 4.0.2 and am using a customer WebApplicationInitializer via annotations.  Before the upgrade I was using Spring 3 with pure XML config and it worked just fine.  My web.xml file looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\n&lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"\n     http://java.sun.com/xml/ns/javaee\n     http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\n     http://java.sun.com/xml/ns/javaee/web-common_3_0.xsd\"\n     version=\"3.0\"&gt;\n\n&lt;!-- Define the mime mappings --&gt;\n&lt;mime-mapping&gt;\n    &lt;extension&gt;xsd&lt;/extension&gt;\n    &lt;mime-type&gt;text/xml&lt;/mime-type&gt;\n&lt;/mime-mapping&gt;\n\n&lt;!-- Define the welcome file list --&gt;\n&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n\n&lt;!-- Define the default session timeout value --&gt;\n&lt;session-config&gt;\n    &lt;session-timeout&gt;240&lt;/session-timeout&gt;\n    &lt;cookie-config&gt;\n        &lt;http-only&gt;true&lt;/http-only&gt;\n        &lt;secure&gt;true&lt;/secure&gt;\n    &lt;/cookie-config&gt;\n&lt;/session-config&gt;\n</code></pre>\n\n<p></p>\n\n<p>Here is my web application initializer:</p>\n\n<pre><code>public class MarketplaceWebAppInitializer implements WebApplicationInitializer\n{\n  @Override\n  public void onStartup(ServletContext container)\n  {\n    // Instantiate a new web application context\n    XmlWebApplicationContext rootContext = new MarketplaceXmlWebApplicationContext(container);\n\n    // Add the various listeners\n    container.addListener(new ContextLoaderListener(rootContext));\n    container.addListener(new RequestContextListener());\n\n    // Set the locations of the configuration files\n    rootContext.setConfigLocations(\n            new String[]\n                    {\n                            \"applicationContext.xml\",\n                            \"config/api-beans.xml\",\n                            \"config/hibernate-beans.xml\",\n                            \"config/security-beans.xml\",\n                            \"config/service-beans.xml\",\n                            \"config/settings-beans.xml\",\n                            \"config/utility-beans.xml\",\n                            \"config/mvc/web-beans.xml\",\n                            \"config/jmx-beans.xml\",\n                            \"config/ws/ws-beans.xml\"\n                    }\n    );\n\n    // Add the dispatcher servlet\n    ServletRegistration.Dynamic mvc =\n            container.addServlet(\"mvc\", new DispatcherServlet(rootContext));\n    mvc.setLoadOnStartup(1);\n    mvc.setInitParameter(\"dispatchOptionsRequest\", \"true\");\n    mvc.addMapping(\"/api/*\");\n    mvc.addMapping(\"/html/*\");\n\n    // Add the web services servlet\n    ServletRegistration.Dynamic ws =\n            container.addServlet(\"ws\", new MessageDispatcherServlet(rootContext));\n    ws.setLoadOnStartup(2);\n    ws.setInitParameter(\"transformWsdlLocations\", \"true\");\n    ws.addMapping(\"/service/*\");\n\n    // Add the spring security filter\n    FilterRegistration.Dynamic springSecurityFilter =\n            container.addFilter(\"springSecurityFilterChain\",\n                    new DelegatingFilterProxy(\"springSecurityFilterChain\"));\n    springSecurityFilter.addMappingForUrlPatterns(null, true, \"/j_spring_security_check\");\n    springSecurityFilter.addMappingForUrlPatterns(null, true, \"/j_spring_security_logout\");\n    springSecurityFilter.addMappingForUrlPatterns(null, true, \"/api/*\");\n    springSecurityFilter.addMappingForUrlPatterns(null, true, \"/html/*\");\n\n    // Add the static content filter\n    FilterRegistration.Dynamic staticContentFilter =\n            container.addFilter(\"staticContentFilter\", new StaticContentFilter());\n    staticContentFilter.addMappingForUrlPatterns(null, true, \"/static/*\");\n    staticContentFilter.addMappingForUrlPatterns(null, true, \"/generated/*\");\n\n    // Add the logger filter\n    FilterRegistration.Dynamic loggerFilter =\n            container.addFilter(\"loggerFilter\", new LoggerFilter());\n    loggerFilter.addMappingForUrlPatterns(null, true, \"/api/*\");\n    loggerFilter.addMappingForUrlPatterns(null, true, \"/html/*\");\n  }\n}\n</code></pre>\n\n<p>Is there anything obvious that I am missing?  I've checked all the other questions/answers on this topic and didn't find a solution.</p>\n"},{"tags":["java","android","database","android-room"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1540921852,"post_id":53069407,"comment_id":93038649,"body_markdown":"&quot;I spent a lot of time to implement the insert(List) methods&quot; What did you do? It shouldn&#39;t be more than adding a method that takes a `List&lt;&gt;` or an array of your entities to the interface like in the example in https://developer.android.com/reference/android/arch/persistence/room/Insert or at most something that has an `@Transaction` annotation like in https://developer.android.com/reference/android/arch/persistence/room/Transaction","body":"&quot;I spent a lot of time to implement the insert(List) methods&quot; What did you do? It shouldn&#39;t be more than adding a method that takes a <code>List&lt;&gt;</code> or an array of your entities to the interface like in the example in <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Insert\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/arch/persistence/roo&zwnj;&#8203;m/&hellip;</a> or at most something that has an <code>@Transaction</code> annotation like in <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Transaction\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/arch/persistence/roo&zwnj;&#8203;m/&hellip;</a>"},{"owner":{"account_id":8255570,"reputation":73,"user_id":10494637,"display_name":"bulbigood"},"score":0,"creation_date":1540975628,"post_id":53069407,"comment_id":93056150,"body_markdown":"@zapl I has Comment object, which contains DBComment entity, few DBUser entities, parent Comment object and other. Quite complex recursive structure. I must insert each child object. With insert(List) it&#39;s more complicated than insert(Obj)","body":"@zapl I has Comment object, which contains DBComment entity, few DBUser entities, parent Comment object and other. Quite complex recursive structure. I must insert each child object. With insert(List) it&#39;s more complicated than insert(Obj)"},{"owner":{"account_id":9583918,"reputation":4443,"user_id":7117454,"display_name":"Raymond Arteaga"},"score":0,"creation_date":1541006756,"post_id":53069407,"comment_id":93074856,"body_markdown":"I&#39;m a kind of lost here... what are you implementing? the point of room is letting it implement the hard work for you.","body":"I&#39;m a kind of lost here... what are you implementing? the point of room is letting it implement the hard work for you."},{"owner":{"account_id":8255570,"reputation":73,"user_id":10494637,"display_name":"bulbigood"},"score":0,"creation_date":1541012557,"post_id":53069407,"comment_id":93077548,"body_markdown":"@RaymondArteaga hard work for me is database design and querying =)","body":"@RaymondArteaga hard work for me is database design and querying =)"}],"answers":[{"comments":[{"owner":{"account_id":8255570,"reputation":73,"user_id":10494637,"display_name":"bulbigood"},"score":0,"creation_date":1540975840,"post_id":53069929,"comment_id":93056250,"body_markdown":"I thought Room could have a service for batch inserting single objects.","body":"I thought Room could have a service for batch inserting single objects."},{"owner":{"account_id":6867226,"reputation":8143,"user_id":5279156,"display_name":"Vlad"},"score":0,"creation_date":1570279530,"post_id":53069929,"comment_id":102867587,"body_markdown":"What&#39;s about `@Transaction`?","body":"What&#39;s about <code>@Transaction</code>?"}],"tags":[],"owner":{"account_id":9583918,"reputation":4443,"user_id":7117454,"display_name":"Raymond Arteaga"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1540921073,"creation_date":1540921073,"answer_id":53069929,"question_id":53069407,"body_markdown":"insert(List&lt;Object&gt;) will be better for performance than insert(Object).\r\nWhen you call insert(Object) from inside a loop, a new transaction has to be started for each insertion. In the other hand, when you use insert(List&lt;Object&gt;), room initiates a single transaction and insert all the rows using that transaction. Try navigating to the generated code and read the implementations.","title":"Room: performance of insert(Object) vs insert(List&lt;Object&gt;)","body":"<p>insert(List) will be better for performance than insert(Object).\nWhen you call insert(Object) from inside a loop, a new transaction has to be started for each insertion. In the other hand, when you use insert(List), room initiates a single transaction and insert all the rows using that transaction. Try navigating to the generated code and read the implementations.</p>\n"},{"tags":[],"owner":{"account_id":10836023,"reputation":5708,"user_id":7968986,"display_name":"Merthan Erdem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701883423,"creation_date":1701883423,"answer_id":77615124,"question_id":53069407,"body_markdown":"Huge difference with bulk insert, 30x speedup\r\n--------------------------------------------------------\r\n\r\nIn my case, I inserted 300 elements in a Transaction and then inserted 300 more with the ids of the first elements as a foreign key. First one by one then bulk (which added a bit of complexity upfront of course).\r\n\r\nDoing it with bulk inserts like\r\n\r\n    @Insert\r\n    fun insertExamples(example: List&lt;Example&gt;): List&lt;Long&gt;//Id List\r\n\r\nMade it go from around **1500ms to 50ms.** ","title":"Room: performance of insert(Object) vs insert(List&lt;Object&gt;)","body":"<h2>Huge difference with bulk insert, 30x speedup</h2>\n<p>In my case, I inserted 300 elements in a Transaction and then inserted 300 more with the ids of the first elements as a foreign key. First one by one then bulk (which added a bit of complexity upfront of course).</p>\n<p>Doing it with bulk inserts like</p>\n<pre><code>@Insert\nfun insertExamples(example: List&lt;Example&gt;): List&lt;Long&gt;//Id List\n</code></pre>\n<p>Made it go from around <strong>1500ms to 50ms.</strong></p>\n"}],"owner":{"account_id":8255570,"reputation":73,"user_id":10494637,"display_name":"bulbigood"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":53069929,"answer_count":2,"score":6,"last_activity_date":1701883423,"creation_date":1540918922,"question_id":53069407,"body_markdown":"Does inserting object to database in the loop have lower performance than inserting list? I spent a lot of time to implement the insert(List) methods in my DAOs, but seems that I got less performance.\r\n\r\nUPD. \r\nI implemented much more efficient packaging in lists, and insert(List)...get(List) methods shows more than 10x performance boost.\r\nI used small lists of 2-5 objects, so I could not see the performance gain","title":"Room: performance of insert(Object) vs insert(List&lt;Object&gt;)","body":"<p>Does inserting object to database in the loop have lower performance than inserting list? I spent a lot of time to implement the insert(List) methods in my DAOs, but seems that I got less performance.</p>\n\n<p>UPD. \nI implemented much more efficient packaging in lists, and insert(List)...get(List) methods shows more than 10x performance boost.\nI used small lists of 2-5 objects, so I could not see the performance gain</p>\n"},{"tags":["java","spring","spring-boot","java-8","spring-initializr"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1701254831,"post_id":77570193,"comment_id":136752061,"body_markdown":"The project is open source (https://github.com/spring-io/initializr) and there is even documentation how you can configure your own instance","body":"The project is open source (<a href=\"https://github.com/spring-io/initializr\" rel=\"nofollow noreferrer\">github.com/spring-io/initializr</a>) and there is even documentation how you can configure your own instance"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701254985,"post_id":77570193,"comment_id":136752082,"body_markdown":"Just write the pom yourself. `start.spring.io` only lists the supported versions of Spring Boot, which are 3.x which require java17. Anything lower isn&#39;t supported anymore (only commercially). You can launch the application yourself and reintroduce this feature or, as mentioned in the beginning, just write the `pom.xml` yourself. That being said it is really time to upgrade as Java8 doesn&#39;t have any support from Oracle anymore (except Commercially) so it is really time to move on.","body":"Just write the pom yourself. <code>start.spring.io</code> only lists the supported versions of Spring Boot, which are 3.x which require java17. Anything lower isn&#39;t supported anymore (only commercially). You can launch the application yourself and reintroduce this feature or, as mentioned in the beginning, just write the <code>pom.xml</code> yourself. That being said it is really time to upgrade as Java8 doesn&#39;t have any support from Oracle anymore (except Commercially) so it is really time to move on."}],"answers":[{"tags":[],"owner":{"account_id":30082759,"reputation":1,"user_id":23054047,"display_name":"Rizq Khairi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701881651,"creation_date":1701881651,"answer_id":77614939,"question_id":77570193,"body_markdown":"I&#39;m facing the same problem, what you can do is go to your pom.xml file, change the spring version on your parent tag (I used the 2.5.9 version). Also change your java.version tag to &quot;8&quot; in the properties tag. Then you can click the maven tab on the right (if you use IntelliJ) and click the Reload All Maven Project. What it do is that it will reconfigure all the dependencies based on the version and when you compile, the system will recompile it based on the new changes you have made. Hope this help.","title":"Alternative website for Spring Initializr for java 8? (start.spring.io now only allow Java 17+)","body":"<p>I'm facing the same problem, what you can do is go to your pom.xml file, change the spring version on your parent tag (I used the 2.5.9 version). Also change your java.version tag to &quot;8&quot; in the properties tag. Then you can click the maven tab on the right (if you use IntelliJ) and click the Reload All Maven Project. What it do is that it will reconfigure all the dependencies based on the version and when you compile, the system will recompile it based on the new changes you have made. Hope this help.</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701882953,"creation_date":1701882562,"answer_id":77615021,"question_id":77570193,"body_markdown":"As you can see on the [Spring Boot Roadmap][1], OSS support for Spring Boot &lt; 3.1 ended a few days ago (2023-11-24).\r\n\r\n[![Screenshot Spring Boot Roadmap][2]][1]\r\n\r\nIf you do plan to continue using Java 8, you should definitely think about buying commercial support for Spring Boot, otherwise you will not receive any security updates for that. On the long term it might get cheaper to migrate to a more modern Java version - 21 LTS is probably going to be supported for a longer time.\r\n\r\nPlease note also that in [version 3.2.0-RC1][3] support for Java 8 was removed. 3.2.0 was released one day before the OSS support end of 2.7.x and 3.0.x\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-boot#support\r\n  [2]: https://i.stack.imgur.com/wwKtc.png\r\n  [3]: https://github.com/spring-projects/spring-boot/releases/tag/v3.2.0-RC1","title":"Alternative website for Spring Initializr for java 8? (start.spring.io now only allow Java 17+)","body":"<p>As you can see on the <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">Spring Boot Roadmap</a>, OSS support for Spring Boot &lt; 3.1 ended a few days ago (2023-11-24).</p>\n<p><a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wwKtc.png\" alt=\"Screenshot Spring Boot Roadmap\" /></a></p>\n<p>If you do plan to continue using Java 8, you should definitely think about buying commercial support for Spring Boot, otherwise you will not receive any security updates for that. On the long term it might get cheaper to migrate to a more modern Java version - 21 LTS is probably going to be supported for a longer time.</p>\n<p>Please note also that in <a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v3.2.0-RC1\" rel=\"nofollow noreferrer\">version 3.2.0-RC1</a> support for Java 8 was removed. 3.2.0 was released one day before the OSS support end of 2.7.x and 3.0.x</p>\n"}],"owner":{"account_id":24418385,"reputation":731,"user_id":18632985,"display_name":"Hoang Minh Quang FX15045"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1701882953,"creation_date":1701252492,"question_id":77570193,"body_markdown":"I&#39;m trying to develop a Spring Boot App. I want to start with **https://start.spring.io/** but now it only supports **Java17+** (it used to support Java8 years ago I think). \r\n\r\n[![spring initializr][1]][1]\r\n\r\n\r\nMy company is using **Java8** and it can&#39;t be changed, Is there any other website, or is there any way to access an older version of this website, so that I can choose **Java8** for Spring Boot Project instead?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Fytq.png","title":"Alternative website for Spring Initializr for java 8? (start.spring.io now only allow Java 17+)","body":"<p>I'm trying to develop a Spring Boot App. I want to start with <strong><a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a></strong> but now it only supports <strong>Java17+</strong> (it used to support Java8 years ago I think).</p>\n<p><a href=\"https://i.stack.imgur.com/7Fytq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Fytq.png\" alt=\"spring initializr\" /></a></p>\n<p>My company is using <strong>Java8</strong> and it can't be changed, Is there any other website, or is there any way to access an older version of this website, so that I can choose <strong>Java8</strong> for Spring Boot Project instead?</p>\n"},{"tags":["javascript","java","jquery","function","call"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1701882872,"post_id":77615042,"comment_id":136830836,"body_markdown":"Java and Javascript are two completely different things. Please clarify what you mean.","body":"Java and Javascript are two completely different things. Please clarify what you mean."}],"owner":{"account_id":30082830,"reputation":1,"user_id":23054096,"display_name":"Mazin Hami C M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1701884901,"answer_count":0,"score":-5,"last_activity_date":1701882730,"creation_date":1701882730,"question_id":77615042,"body_markdown":"I am using Javascript and i need a help to know how to call a function in javascript\r\n\r\nI tried to call a function\r\n\r\nJava file is linked to a css file \r\nIts not linked to any html\r\nso when i try to call the function, its not coming\r\ncan someone  tell me how to call the function\r\n","title":"How to call a function in javascript which is not linked to a html file and to a css file","body":"<p>I am using Javascript and i need a help to know how to call a function in javascript</p>\n<p>I tried to call a function</p>\n<p>Java file is linked to a css file\nIts not linked to any html\nso when i try to call the function, its not coming\ncan someone  tell me how to call the function</p>\n"},{"tags":["java","spring","migration","keycloak","jmix"],"owner":{"account_id":30082885,"reputation":1,"user_id":23054140,"display_name":"OhGregory"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701903754,"answer_count":0,"score":-1,"last_activity_date":1701882574,"creation_date":1701882574,"question_id":77615024,"body_markdown":"I need to move users from the database user_ table to Keycloak. How can this be done automatically so as not to be created a user manually? I use spring, java and jmix (jmix is optional)\r\n\r\nNothing tried, may be i should use rest api keycloak?","title":"How migrate users to keycloak (java, spring)?","body":"<p>I need to move users from the database user_ table to Keycloak. How can this be done automatically so as not to be created a user manually? I use spring, java and jmix (jmix is optional)</p>\n<p>Nothing tried, may be i should use rest api keycloak?</p>\n"},{"tags":["java","record","java-record"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":15,"creation_date":1700136267,"post_id":77494540,"comment_id":136618931,"body_markdown":"To quote for [JEP 395: Records](https://openjdk.org/jeps/395): _&quot;Enhance the Java programming language with records, which are **classes** that act as transparent carriers for immutable data.&quot;_ (emphasis mine). In total JEP 395 mentions the words &quot;class&quot; 86 times and &quot;classes&quot; 63 times. Basically everything (except primitives) are classes in Java, so it shouldn&#39;t come as a surprise that records are as well.","body":"To quote for <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">JEP 395: Records</a>: <i>&quot;Enhance the Java programming language with records, which are <b>classes</b> that act as transparent carriers for immutable data.&quot;</i> (emphasis mine). In total JEP 395 mentions the words &quot;class&quot; 86 times and &quot;classes&quot; 63 times. Basically everything (except primitives) are classes in Java, so it shouldn&#39;t come as a surprise that records are as well."},{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":0,"creation_date":1700136588,"post_id":77494540,"comment_id":136618980,"body_markdown":"[Java class vs. record](https://www.google.com/search?q=java+class+vs+record+site:stackoverflow.com)","body":"<a href=\"https://www.google.com/search?q=java+class+vs+record+site:stackoverflow.com\" rel=\"nofollow noreferrer\">Java class vs. record</a>"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1700138508,"post_id":77494540,"comment_id":136619290,"body_markdown":"It really depends on what exactly you mean by &quot;syntactic sugar&quot;, most people don&#39;t have a good definition of what they actually mean by that. Records *are* classes, as Mark pointed out. But whether or not they are &quot;just syntactic sugar for regular classes&quot; is really hard to answer without a firm definition.","body":"It really depends on what exactly you mean by &quot;syntactic sugar&quot;, most people don&#39;t have a good definition of what they actually mean by that. Records <i>are</i> classes, as Mark pointed out. But whether or not they are &quot;just syntactic sugar for regular classes&quot; is really hard to answer without a firm definition."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1700138800,"post_id":77494540,"comment_id":136619343,"body_markdown":"Given how record patterns ([JEP 440: Record Patterns](https://openjdk.org/jeps/440)) only work for records, I would say that records are _not_ just syntactic sugar for classes, as they offer features that are not available for &quot;normal&quot; classes.","body":"Given how record patterns (<a href=\"https://openjdk.org/jeps/440\" rel=\"nofollow noreferrer\">JEP 440: Record Patterns</a>) only work for records, I would say that records are <i>not</i> just syntactic sugar for classes, as they offer features that are not available for &quot;normal&quot; classes."},{"owner":{"account_id":151071,"reputation":146111,"user_id":364696,"display_name":"ShadowRanger"},"score":0,"creation_date":1700171509,"post_id":77494540,"comment_id":136625248,"body_markdown":"@MarkRotteveel: It looks like it&#39;s still syntactic sugar. It looks like they enable it via: 1) All `Record`s inherit from a single common superclass (`java.lang.Record`). 2) They provide a function, `Class.getRecordComponents`, that checks if the thing in question is a `Record` (via `Class.isRecord`, though I&#39;m fairly sure that&#39;s equivalent to just checking if the superclass is `java.lang.Record`, due to the restrictive nature of `Record`s), and if so, knows it can use reflection in a defined way to determine the components it can extract.","body":"@MarkRotteveel: It looks like it&#39;s still syntactic sugar. It looks like they enable it via: 1) All <code>Record</code>s inherit from a single common superclass (<code>java.lang.Record</code>). 2) They provide a function, <code>Class.getRecordComponents</code>, that checks if the thing in question is a <code>Record</code> (via <code>Class.isRecord</code>, though I&#39;m fairly sure that&#39;s equivalent to just checking if the superclass is <code>java.lang.Record</code>, due to the restrictive nature of <code>Record</code>s), and if so, knows it can use reflection in a defined way to determine the components it can extract."},{"owner":{"account_id":151071,"reputation":146111,"user_id":364696,"display_name":"ShadowRanger"},"score":1,"creation_date":1700171621,"post_id":77494540,"comment_id":136625269,"body_markdown":"I suspect the unique features of `Record`s could be simulated by a user-defined class, so long as they directly inherited from `java.lang.Record` *and* adhered to all the other narrow requirements of `Record`s that enable that reflection to figure out how to unpack it. The special `Record` declaration syntax just does all that work for you.","body":"I suspect the unique features of <code>Record</code>s could be simulated by a user-defined class, so long as they directly inherited from <code>java.lang.Record</code> <i>and</i> adhered to all the other narrow requirements of <code>Record</code>s that enable that reflection to figure out how to unpack it. The special <code>Record</code> declaration syntax just does all that work for you."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1700173796,"post_id":77494540,"comment_id":136625506,"body_markdown":"@ShadowRanger: Would the range of operations on records types be sufficiently constrained to allow the JVM to refrain from creating object instances in cases where it could track and pass data around via other means?  If so, that would seem like something much more significant than syntactic sugar.","body":"@ShadowRanger: Would the range of operations on records types be sufficiently constrained to allow the JVM to refrain from creating object instances in cases where it could track and pass data around via other means?  If so, that would seem like something much more significant than syntactic sugar."},{"owner":{"account_id":151071,"reputation":146111,"user_id":364696,"display_name":"ShadowRanger"},"score":2,"creation_date":1700175240,"post_id":77494540,"comment_id":136625659,"body_markdown":"@supercat: That&#39;s kind of a meaningless guideline? The JIT optimizer can *always* do stuff if it can determine the parameters of the scenario let it skip work (a la the C++ as-if rule). The limitations of `Record`s might make it easier for the compiler authors to do stuff, but as the answer indicates, under-the-hood, it&#39;s *just* a class with a specific design, the only thing that is unique is that inherits from `java.lang.Record` (which has no meaningful behaviors of its own, it&#39;s just recognized specially by serialization and record patterns).","body":"@supercat: That&#39;s kind of a meaningless guideline? The JIT optimizer can <i>always</i> do stuff if it can determine the parameters of the scenario let it skip work (a la the C++ as-if rule). The limitations of <code>Record</code>s might make it easier for the compiler authors to do stuff, but as the answer indicates, under-the-hood, it&#39;s <i>just</i> a class with a specific design, the only thing that is unique is that inherits from <code>java.lang.Record</code> (which has no meaningful behaviors of its own, it&#39;s just recognized specially by serialization and record patterns)."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1700210753,"post_id":77494540,"comment_id":136628757,"body_markdown":"If you drive that argument to the extreme then all programming languages are just syntactic sugar for assembler language (which is itself just syntactic sugar for machine code which is itself just syntactic sugar for bits in memory which is ...). That&#39;s why working with a vague/flexible definition of &quot;syntactic sugar&quot; is often pointless: you get to vacuously true statements. They aren *not wrong* but also don&#39;t tell you anything useful about the feature you&#39;re inspecting.","body":"If you drive that argument to the extreme then all programming languages are just syntactic sugar for assembler language (which is itself just syntactic sugar for machine code which is itself just syntactic sugar for bits in memory which is ...). That&#39;s why working with a vague/flexible definition of &quot;syntactic sugar&quot; is often pointless: you get to vacuously true statements. They aren <i>not wrong</i> but also don&#39;t tell you anything useful about the feature you&#39;re inspecting."},{"owner":{"account_id":387513,"reputation":118943,"user_id":745903,"accept_rate":74,"display_name":"leftaroundabout"},"score":1,"creation_date":1700214942,"post_id":77494540,"comment_id":136629486,"body_markdown":"@JoachimSauer statements &quot;X is syntactic sugar for Y&quot; are usually only made when X and Y are both constructs in the same language. Lots of things thus aren&#39;t syntactic sugar because what they desugar to can&#39;t be expressed in the same language at all. Furthermore, there is typically an assumption that the transformation be essentially injective. Every possible `record` you could define maps uniquely to a subclass of `java.lang.Record`, and thus you could transform it back to the original `record` declaration (modulo whitespace etc.). Most other compiler transformations aren&#39;t injective.","body":"@JoachimSauer statements &quot;X is syntactic sugar for Y&quot; are usually only made when X and Y are both constructs in the same language. Lots of things thus aren&#39;t syntactic sugar because what they desugar to can&#39;t be expressed in the same language at all. Furthermore, there is typically an assumption that the transformation be essentially injective. Every possible <code>record</code> you could define maps uniquely to a subclass of <code>java.lang.Record</code>, and thus you could transform it back to the original <code>record</code> declaration (modulo whitespace etc.). Most other compiler transformations aren&#39;t injective."}],"answers":[{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1700174005,"post_id":77494625,"comment_id":136625533,"body_markdown":"What about at the machine code level?  If e.g. a function creates and returns a `Record` with particular fields values, without persisting any other reference to the object, and the caller retrieves the fields and discards all references to the object after having done so, would the JVM be able to generate machine code that avoids the creation and abandonment of the object instance?","body":"What about at the machine code level?  If e.g. a function creates and returns a <code>Record</code> with particular fields values, without persisting any other reference to the object, and the caller retrieves the fields and discards all references to the object after having done so, would the JVM be able to generate machine code that avoids the creation and abandonment of the object instance?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":15,"creation_date":1700210916,"post_id":77494625,"comment_id":136628782,"body_markdown":"Java does not concern itself with the machine code level, that&#39;s an implementation detail of the JVM. Obviously a `record` won&#39;t magically make use of some previously unused instruction on your CPU or access previously unaccessible registers or memory areas, they are in the end just a special kind of class. But defining whether a feature is &quot;syntactic sugar&quot; in Java by inspecting the machine code level is like asking how to build an Airplane by inspecting individual welding points with a raster electron microscope: You will find *something*, but you might be missing the entire point.","body":"Java does not concern itself with the machine code level, that&#39;s an implementation detail of the JVM. Obviously a <code>record</code> won&#39;t magically make use of some previously unused instruction on your CPU or access previously unaccessible registers or memory areas, they are in the end just a special kind of class. But defining whether a feature is &quot;syntactic sugar&quot; in Java by inspecting the machine code level is like asking how to build an Airplane by inspecting individual welding points with a raster electron microscope: You will find <i>something</i>, but you might be missing the entire point."}],"tags":[],"owner":{"account_id":3478712,"reputation":476,"user_id":17081730,"display_name":"cvk"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1700138550,"creation_date":1700136078,"answer_id":77494625,"question_id":77494540,"body_markdown":"Under the hood it will still create a class (that&#39;s derived from [`java.lang.Record`][1]). \r\n\r\nYou can try it out yourself:\r\n\r\n```java\r\n// test.java\r\nrecord Test(int foo, String bar) {}\r\n```\r\n\r\nWhen you compile this with `javac test.java` and disassemble it again with `javap Test` you&#39;ll get this code:\r\n\r\n```java\r\nfinal class Test extends java.lang.Record {\r\n  Test(int, java.lang.String);\r\n  public final java.lang.String toString();\r\n  public final int hashCode();\r\n  public final boolean equals(java.lang.Object);\r\n  public int foo();\r\n  public java.lang.String bar();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html","title":"Are records syntactic sugar for classes?","body":"<p>Under the hood it will still create a class (that's derived from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html\" rel=\"noreferrer\"><code>java.lang.Record</code></a>).</p>\n<p>You can try it out yourself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// test.java\nrecord Test(int foo, String bar) {}\n</code></pre>\n<p>When you compile this with <code>javac test.java</code> and disassemble it again with <code>javap Test</code> you'll get this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final class Test extends java.lang.Record {\n  Test(int, java.lang.String);\n  public final java.lang.String toString();\n  public final int hashCode();\n  public final boolean equals(java.lang.Object);\n  public int foo();\n  public java.lang.String bar();\n}\n</code></pre>\n"}],"owner":{"account_id":25626909,"reputation":406,"user_id":19397881,"display_name":"guizo792"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2084,"favorite_count":0,"down_vote_count":2,"up_vote_count":23,"accepted_answer_id":77494625,"answer_count":1,"score":21,"last_activity_date":1701882503,"creation_date":1700135294,"question_id":77494540,"body_markdown":"I recently discovered Java [records][1], and it was amazing to learn about their existence and purpose.\r\n\r\nHowever, I began to wonder if they are essentially just classes behind the scenes.\r\n\r\nDoes this mean that during compilation, they get converted into an explicit class with final private fields, a public constructor, and the necessary getters?\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395","title":"Are records syntactic sugar for classes?","body":"<p>I recently discovered Java <a href=\"https://openjdk.org/jeps/395\" rel=\"noreferrer\">records</a>, and it was amazing to learn about their existence and purpose.</p>\n<p>However, I began to wonder if they are essentially just classes behind the scenes.</p>\n<p>Does this mean that during compilation, they get converted into an explicit class with final private fields, a public constructor, and the necessary getters?</p>\n"},{"tags":["java","flutter","groovy","flutter-plugin"],"comments":[{"owner":{"account_id":18185745,"reputation":316,"user_id":13232516,"display_name":"Mootje"},"score":0,"creation_date":1701876944,"post_id":77614313,"comment_id":136829671,"body_markdown":"What versions of Flutter and Dart are you using?","body":"What versions of Flutter and Dart are you using?"},{"owner":{"account_id":30008875,"reputation":11,"user_id":22997015,"display_name":"KoPack"},"score":0,"creation_date":1701877741,"post_id":77614313,"comment_id":136829833,"body_markdown":"- Flutter   3.16.2\n- Dart       3.2.2","body":"- Flutter   3.16.2 - Dart       3.2.2"},{"owner":{"account_id":18185745,"reputation":316,"user_id":13232516,"display_name":"Mootje"},"score":0,"creation_date":1701878172,"post_id":77614313,"comment_id":136829928,"body_markdown":"Those versions should be compatible. Try to debug it with Stacktrace  `flutter build apk --stacktrace`","body":"Those versions should be compatible. Try to debug it with Stacktrace  <code>flutter build apk --stacktrace</code>"},{"owner":{"account_id":30008875,"reputation":11,"user_id":22997015,"display_name":"KoPack"},"score":0,"creation_date":1701879641,"post_id":77614313,"comment_id":136830190,"body_markdown":"I&#39;m not trying to build it, I have a lot of customization to do before i build it","body":"I&#39;m not trying to build it, I have a lot of customization to do before i build it"},{"owner":{"account_id":30008875,"reputation":11,"user_id":22997015,"display_name":"KoPack"},"score":0,"creation_date":1701952971,"post_id":77614313,"comment_id":136840064,"body_markdown":"@Mootje any ideas ???","body":"@Mootje any ideas ???"}],"owner":{"account_id":30008875,"reputation":11,"user_id":22997015,"display_name":"KoPack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":0,"score":-1,"last_activity_date":1701882268,"creation_date":1701875875,"question_id":77614313,"body_markdown":"I tried to run the seller app from 6valley Multi-Vendor E-commerce , but it gave me this error \\&lt; how to fix it guys !!!\r\ni tried everthing but nothig realy wordked ..\r\n\r\n---\r\n\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nScript &#39;D:\\flutter\\packages\\flutter_tools\\gradle\\src\\main\\groovy\\flutter.groovy&#39; line: 1350\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileFlutterBuildDebug&#39;.\r\n&gt; Process &#39;command &#39;D:\\flutter\\bin\\flutter.bat&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 9m 20s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\n\r\n\r\n\r\n[error screenshot](https://i.stack.imgur.com/x5cDc.png)\r\n\r\ni tried everthing but nothig realy wordked ..","title":"Gradle task assembleDebug failed with exit code 1 - flutter Groovy error line 1350","body":"<p>I tried to run the seller app from 6valley Multi-Vendor E-commerce , but it gave me this error &lt; how to fix it guys !!!\ni tried everthing but nothig realy wordked ..</p>\n<hr />\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nScript 'D:\\flutter\\packages\\flutter_tools\\gradle\\src\\main\\groovy\\flutter.groovy' line: 1350\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n&gt; Process 'command 'D:\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 9m 20s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/x5cDc.png\" rel=\"nofollow noreferrer\">error screenshot</a></p>\n<p>i tried everthing but nothig realy wordked ..</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":3672464,"reputation":273,"user_id":3059314,"accept_rate":83,"display_name":"mvee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555363923,"creation_date":1555363923,"answer_id":55697521,"question_id":55697373,"body_markdown":"It looks like you&#39;re trying to convert the literal string &quot;saveMembership&quot; to a long, rather than the string representation of a long such as:\r\n\r\n    String str = &quot;12323445664546544564974&quot;;\r\n    Long lng = Long.parseLong(str);\r\n\r\nThis is my assumption based on the exception stacktrace which states &quot;NumberFormatException: For input string: &quot;saveMembership&quot;&quot;","title":"How do I fix error: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;;","body":"<p>It looks like you're trying to convert the literal string \"saveMembership\" to a long, rather than the string representation of a long such as:</p>\n\n<pre><code>String str = \"12323445664546544564974\";\nLong lng = Long.parseLong(str);\n</code></pre>\n\n<p>This is my assumption based on the exception stacktrace which states \"NumberFormatException: For input string: \"saveMembership\"\"</p>\n"},{"tags":[],"owner":{"account_id":2084899,"reputation":3328,"user_id":1856087,"display_name":"Selindek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555443415,"creation_date":1555443415,"answer_id":55715492,"question_id":55697373,"body_markdown":"I&#39;m not a html or thymeleaf expert but I think you mistyped something in your html.\r\nI believe that when you clink on `submit`, your code send a `POST` request to `/joinProject/saveMembership` instead of `/saveMembership`. You can easily test in the browser (check what is the URL of the POST request)\r\n\r\n","title":"How do I fix error: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;;","body":"<p>I'm not a html or thymeleaf expert but I think you mistyped something in your html.\nI believe that when you clink on <code>submit</code>, your code send a <code>POST</code> request to <code>/joinProject/saveMembership</code> instead of <code>/saveMembership</code>. You can easily test in the browser (check what is the URL of the POST request)</p>\n"}],"owner":{"account_id":14604891,"reputation":31,"user_id":10548074,"display_name":"Eemeli Surakka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10115,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1701882100,"creation_date":1555363087,"question_id":55697373,"body_markdown":"I&#39;m working on a project manager -web app that allows you to sign in as a member and join different kinds of projects. Members can take part in multiple projects. Project and Member -Entities are connected by a Membership -Entity. Every time a logged in member joins a project a new membership Entity is created.\r\n\r\nHowever I&#39;m having trouble creating a new membership after member clicks Join-button on joinProject.html -page. I keep getting following error message:\r\n```\r\n(type=Bad Request, status=400).\r\nFailed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;saveMembership&quot;\r\n```\r\n\r\nThe goal is to add logged in member to a project. The new membership can be seen listed on projectDetails.html -page.\r\n\r\nI&#39;m using Spring Boot, Thymeleaf and JPA. I have a feeling this is something really simple and stupid but I just can&#39;t find the problem. :(\r\n\r\nIf you need to see more code or information I will be happy to provide.\r\n\r\nThank you for your time!\r\n\r\nHere is the MembershipCreatorObject-class that I try to use to get the needed data into my controller:\r\n\r\n```\r\npublic class MembershipCreatorObject {\r\n\t\r\n\tprivate String id;\r\n\tprivate String username;\r\n\tprivate String jobDescription;\r\n\r\n\tpublic MembershipCreatorObject() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic MembershipCreatorObject(String id, String username, String jobDescription) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.username = username;\r\n\t\tthis.jobDescription = jobDescription;\r\n\t}\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\r\n\tpublic String getJobDescription() {\r\n\t\treturn jobDescription;\r\n\t}\r\n\r\n\tpublic void setJobDescription(String jobDescription) {\r\n\t\tthis.jobDescription = jobDescription;\r\n\t}\r\n```\r\n\r\nHere is my controller:\r\n\r\n```\r\n\t\r\n\t@RequestMapping(value= {&quot;/joinProject/{projectId}&quot;})\r\n\tpublic String joinProject(@PathVariable(&quot;projectId&quot;) Long urlId, Model model) {\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;mObject&quot;, new MembershipCreatorObject());\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;project&quot;, projectRepo.findByProjectId(urlId));\r\n\t\t\r\n\t\treturn &quot;joinProject&quot;;\r\n\t}\r\n\t\r\n\t@RequestMapping(value=&quot;/saveMembership&quot;, method=RequestMethod.POST)\r\n\tpublic String saveMembership(MembershipCreatorObject mObject) {\r\n\t\t\r\n\t\tString id = mObject.getId();\r\n\t\t\r\n\t\tLong idConverted = Long.parseLong(id);\r\n\t\t\r\n\t\tString username = mObject.getUsername();\r\n\t\t\r\n\t\tString description = mObject.getJobDescription();\r\n\t\t\t\t\r\n\t\tProject projectToAdd = projectRepo.findByProjectId(idConverted);\r\n\t\t\r\n\t\tMember memberToAdd = memberRepo.findByUsername(username);\r\n\t\r\n\t\tMembership membershipToAdd = new Membership(description, memberToAdd, projectToAdd);\r\n\t\t\r\n\t\tmembershipRepo.save(membershipToAdd);\r\n\t\t\r\n\t\treturn &quot;redirect:/projectCatalog&quot;;\r\n\t}\r\n```\r\nHere is the joinProject -html file.\r\n```\r\n\t&lt;h1&gt;Join Project&lt;/h1&gt;\r\n\t\r\n\t&lt;h4 th:inline=&quot;text&quot;&gt;Logged in as: [[${#httpServletRequest.remoteUser}]]&lt;/h4&gt;\r\n\t\t\r\n\t&lt;form th:object=&quot;${mObject}&quot; th:action=&quot;@{saveMembership}&quot; action=&quot;#&quot; style=&quot;padding: 20px;&quot; method=&quot;POST&quot;&gt;\r\n\t\t\r\n\t\t&lt;input th:field=&quot;*{id}&quot; /&gt;\r\n\t\t&lt;!-- th:value=&quot;${project.projectId}&quot; --&gt;\r\n\t\t\r\n\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{username}&quot; /&gt;\r\n\t\t&lt;!-- th:value=&quot;${#httpServletRequest.remoteUser}&quot; --&gt;\r\n\t\t\r\n\t\t&lt;label&gt;What will you be working on?&lt;/label&gt;\r\n\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{jobDescription}&quot; style=&quot;display: block;&quot; /&gt;\r\n\t\t\t\t\t\t\r\n\t\t&lt;input type=&quot;submit&quot; value=&quot;Join&quot; style=&quot;display: block; margin-top:10px; width:70px;&quot;&gt;\r\n\t\t\r\n\t&lt;/form&gt;\r\n```","title":"How do I fix error: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;;","body":"<p>I'm working on a project manager -web app that allows you to sign in as a member and join different kinds of projects. Members can take part in multiple projects. Project and Member -Entities are connected by a Membership -Entity. Every time a logged in member joins a project a new membership Entity is created.</p>\n\n<p>However I'm having trouble creating a new membership after member clicks Join-button on joinProject.html -page. I keep getting following error message:</p>\n\n<pre><code>(type=Bad Request, status=400).\nFailed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: \"saveMembership\"\n</code></pre>\n\n<p>The goal is to add logged in member to a project. The new membership can be seen listed on projectDetails.html -page.</p>\n\n<p>I'm using Spring Boot, Thymeleaf and JPA. I have a feeling this is something really simple and stupid but I just can't find the problem. :(</p>\n\n<p>If you need to see more code or information I will be happy to provide.</p>\n\n<p>Thank you for your time!</p>\n\n<p>Here is the MembershipCreatorObject-class that I try to use to get the needed data into my controller:</p>\n\n<pre><code>public class MembershipCreatorObject {\n\n    private String id;\n    private String username;\n    private String jobDescription;\n\n    public MembershipCreatorObject() {\n        super();\n    }\n\n    public MembershipCreatorObject(String id, String username, String jobDescription) {\n        super();\n        this.id = id;\n        this.username = username;\n        this.jobDescription = jobDescription;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getJobDescription() {\n        return jobDescription;\n    }\n\n    public void setJobDescription(String jobDescription) {\n        this.jobDescription = jobDescription;\n    }\n</code></pre>\n\n<p>Here is my controller:</p>\n\n<pre><code>\n    @RequestMapping(value= {\"/joinProject/{projectId}\"})\n    public String joinProject(@PathVariable(\"projectId\") Long urlId, Model model) {\n\n        model.addAttribute(\"mObject\", new MembershipCreatorObject());\n\n        model.addAttribute(\"project\", projectRepo.findByProjectId(urlId));\n\n        return \"joinProject\";\n    }\n\n    @RequestMapping(value=\"/saveMembership\", method=RequestMethod.POST)\n    public String saveMembership(MembershipCreatorObject mObject) {\n\n        String id = mObject.getId();\n\n        Long idConverted = Long.parseLong(id);\n\n        String username = mObject.getUsername();\n\n        String description = mObject.getJobDescription();\n\n        Project projectToAdd = projectRepo.findByProjectId(idConverted);\n\n        Member memberToAdd = memberRepo.findByUsername(username);\n\n        Membership membershipToAdd = new Membership(description, memberToAdd, projectToAdd);\n\n        membershipRepo.save(membershipToAdd);\n\n        return \"redirect:/projectCatalog\";\n    }\n</code></pre>\n\n<p>Here is the joinProject -html file.</p>\n\n<pre><code>    &lt;h1&gt;Join Project&lt;/h1&gt;\n\n    &lt;h4 th:inline=\"text\"&gt;Logged in as: [[${#httpServletRequest.remoteUser}]]&lt;/h4&gt;\n\n    &lt;form th:object=\"${mObject}\" th:action=\"@{saveMembership}\" action=\"#\" style=\"padding: 20px;\" method=\"POST\"&gt;\n\n        &lt;input th:field=\"*{id}\" /&gt;\n        &lt;!-- th:value=\"${project.projectId}\" --&gt;\n\n        &lt;input type=\"text\" th:field=\"*{username}\" /&gt;\n        &lt;!-- th:value=\"${#httpServletRequest.remoteUser}\" --&gt;\n\n        &lt;label&gt;What will you be working on?&lt;/label&gt;\n        &lt;input type=\"text\" th:field=\"*{jobDescription}\" style=\"display: block;\" /&gt;\n\n        &lt;input type=\"submit\" value=\"Join\" style=\"display: block; margin-top:10px; width:70px;\"&gt;\n\n    &lt;/form&gt;\n</code></pre>\n"},{"tags":["java","swing","keyboard","mouse","repaint"],"comments":[{"owner":{"account_id":1370752,"reputation":5480,"user_id":1306024,"display_name":"k5_"},"score":0,"creation_date":1568583875,"post_id":57948299,"comment_id":102309682,"body_markdown":"Your Timer does not execute on the edt, that might be the problem. Can you change it to  `Timer timer = new Timer(40, (e) -&gt; { SwingUtilities.invokeLater(() -&gt; updateScene()); } );` and see if the problem persists?","body":"Your Timer does not execute on the edt, that might be the problem. Can you change it to  <code>Timer timer = new Timer(40, (e) -&gt; { SwingUtilities.invokeLater(() -&gt; updateScene()); } );</code> and see if the problem persists?"},{"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"score":3,"creation_date":1568583968,"post_id":57948299,"comment_id":102309699,"body_markdown":"@k5_ A Swing timer is always executed in EDT by default. I do not think using `invokeLater` will help.","body":"@k5_ A Swing timer is always executed in EDT by default. I do not think using <code>invokeLater</code> will help."},{"owner":{"display_name":"user12071097"},"score":0,"creation_date":1568584277,"post_id":57948299,"comment_id":102309766,"body_markdown":"@k5_ Thanks for the reply!  I implemented your suggestion but the problem is still there.  From what I can tell, it looks like nothing changed.","body":"@k5_ Thanks for the reply!  I implemented your suggestion but the problem is still there.  From what I can tell, it looks like nothing changed."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1568586344,"post_id":57948299,"comment_id":102310133,"body_markdown":"Would also suggest grabbing a simple JavaFX example and seeing if that has the same issue","body":"Would also suggest grabbing a simple JavaFX example and seeing if that has the same issue"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1568631037,"post_id":57948299,"comment_id":102322511,"body_markdown":"This is a case where calling [`paintImmediately`](https://docs.oracle.com/javase/8/docs/api/javax/swing/JComponent.html#paintImmediately-int-int-int-int-) may be justified. You can avoid runaway resource consumption by calling `setCoalesce(true)` on the timer; as you already know, you should consider the truly elapsed time in `update` anyway. In such a setup, you may even invoke [`setIgnoreRepaint(true)`](https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#setIgnoreRepaint-boolean-) on the component when starting the animation as you know there will be updates in reasonable time.","body":"This is a case where calling <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JComponent.html#paintImmediately-int-int-int-int-\" rel=\"nofollow noreferrer\"><code>paintImmediately</code></a> may be justified. You can avoid runaway resource consumption by calling <code>setCoalesce(true)</code> on the timer; as you already know, you should consider the truly elapsed time in <code>update</code> anyway. In such a setup, you may even invoke <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#setIgnoreRepaint-boolean-\" rel=\"nofollow noreferrer\"><code>setIgnoreRepaint(true)</code></a> on the component when starting the animation as you know there will be updates in reasonable time."}],"answers":[{"comments":[{"owner":{"display_name":"user12071097"},"score":0,"creation_date":1568585104,"post_id":57948421,"comment_id":102309909,"body_markdown":"Your solution works as long as I have the game in focus, but when I switch to another window it simulates the keypresses there too (a bunch of 0s fill up any textbox I select).  I need a cleaner solution.  Thanks for the suggestion though!","body":"Your solution works as long as I have the game in focus, but when I switch to another window it simulates the keypresses there too (a bunch of 0s fill up any textbox I select).  I need a cleaner solution.  Thanks for the suggestion though!"},{"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"score":1,"creation_date":1568585348,"post_id":57948421,"comment_id":102309953,"body_markdown":"@user12071097 You could experiment with this. I updated my post. :)","body":"@user12071097 You could experiment with this. I updated my post. :)"},{"owner":{"display_name":"user12071097"},"score":0,"creation_date":1568606196,"post_id":57948421,"comment_id":102312878,"body_markdown":"Oh hey! I looked at that sun.java2d.opengl answer you linked to, and it worked!  Maybe the default rendering backend just doesn&#39;t refresh as often as OpenGL.  I added the -Dsun.java2d.opengl=true to my java invocation and everything runs smooth now.  If you add the details to your answer, I will accept it :-)","body":"Oh hey! I looked at that sun.java2d.opengl answer you linked to, and it worked!  Maybe the default rendering backend just doesn&#39;t refresh as often as OpenGL.  I added the -Dsun.java2d.opengl=true to my java invocation and everything runs smooth now.  If you add the details to your answer, I will accept it :-)"},{"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"score":0,"creation_date":1568623970,"post_id":57948421,"comment_id":102318869,"body_markdown":"@user12071097 I do not think there are any details to add related to `OpenGL`. I mean, it is `OpenGL`... plus it is explained in the link already. :) Glad that you solved it though.","body":"@user12071097 I do not think there are any details to add related to <code>OpenGL</code>. I mean, it is <code>OpenGL</code>... plus it is explained in the link already. :) Glad that you solved it though."}],"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1568585321,"creation_date":1568584237,"answer_id":57948421,"question_id":57948299,"body_markdown":"I guess you probably cannot solve your issue by [enabling OpenGL][1], since your gpu does not support it, a possible silly workaround could be to fire a kind of event manually in each timer&#39;s iteration.\r\n\r\n\t/* Update the scene every 40 milliseconds. */\r\n\tfinal Robot robot = new Robot();\r\n\tTimer timer = new Timer(40, (e) -&gt; {\r\n\t\trobot.mouseRelease(0); //some event\r\n\t\tupdateScene();\r\n\t});\r\n\ttimer.start();\r\n\r\n(And the only place you can `Thread.sleep()` in a Swing Application is inside a [SwingWorker&#39;s][2] `doInBackground` method. If you call it in EDT the whole GUI will freeze since events cannot take place.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41002553/6579265\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html","title":"Why does my custom Swing component repaint faster when I move the mouse? (Java)","body":"<p>I guess you probably cannot solve your issue by <a href=\"https://stackoverflow.com/a/41002553/6579265\">enabling OpenGL</a>, since your gpu does not support it, a possible silly workaround could be to fire a kind of event manually in each timer's iteration.</p>\n\n<pre><code>/* Update the scene every 40 milliseconds. */\nfinal Robot robot = new Robot();\nTimer timer = new Timer(40, (e) -&gt; {\n    robot.mouseRelease(0); //some event\n    updateScene();\n});\ntimer.start();\n</code></pre>\n\n<p>(And the only place you can <code>Thread.sleep()</code> in a Swing Application is inside a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">SwingWorker's</a> <code>doInBackground</code> method. If you call it in EDT the whole GUI will freeze since events cannot take place.)</p>\n"},{"tags":[],"owner":{"account_id":22537866,"reputation":1,"user_id":16728834,"display_name":"Irshad Guliyev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643845270,"creation_date":1642472834,"answer_id":70749650,"question_id":57948299,"body_markdown":"I ran into the same issue. The solution is quite simple. Call `revalidate()` immediately after you call `repaint()`:\r\n\r\n    private void updateScene() {\r\n                /* Update all objects in the scene. */\r\n                square.update();\r\n\r\n                /* Request the scene to be repainted. */\r\n                repaint();\r\n\r\n                revalidate(); // &lt;-- this will now repaint as fast as you wanted it to\r\n        }","title":"Why does my custom Swing component repaint faster when I move the mouse? (Java)","body":"<p>I ran into the same issue. The solution is quite simple. Call <code>revalidate()</code> immediately after you call <code>repaint()</code>:</p>\n<pre><code>private void updateScene() {\n            /* Update all objects in the scene. */\n            square.update();\n\n            /* Request the scene to be repainted. */\n            repaint();\n\n            revalidate(); // &lt;-- this will now repaint as fast as you wanted it to\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701882044,"creation_date":1701882044,"answer_id":77614975,"question_id":57948299,"body_markdown":"I took a look at this, and oddly enough if I use a JLabel with an ImageIcon, it seems to solve the problem.\r\n\r\n```\r\nimport java.awt.Graphics;\r\nimport java.awt.Dimension;\r\nimport java.awt.Color;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.Timer;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JLabel;\r\n\r\nclass Game {\r\n        public static final int screenWidth = 160;\r\n        public static final int screenHeight = 140;\r\n        /**\r\n         * Create and show the GUI.\r\n         */\r\n        private static void createAndShowGUI() {\r\n                /* Create the GUI. */\r\n                JFrame frame = new JFrame(&quot;Example&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.setResizable(false);\r\n                GamePanel panel = new GamePanel();\r\n                \r\n                frame.getContentPane().add(panel.getComponent());\r\n                frame.pack();\r\n                /* Show the GUI. */\r\n                frame.setVisible(true);\r\n        }\r\n\r\n        /**\r\n         * Run the game.\r\n         *\r\n         * @param args  the list of command-line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n                /* Schedule the GUI to be created on the EDT. */\r\n                SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\r\n        }\r\n\r\n}\r\n\r\n/**\r\n * A GamePanel widget updates and shows the game scene.\r\n */\r\nclass GamePanel{\r\n        private Square square;\r\n\t\tfinal BufferedImage img;\r\n\t\tJLabel label;\r\n        /**\r\n         * Create a game panel and start its update-and-draw cycle\r\n         */\r\n        public GamePanel() {\r\n                img = new BufferedImage(Game.screenWidth, Game.screenHeight, BufferedImage.TYPE_INT_ARGB);\r\n                square = new Square(0, 0, 32, 32, Square.Direction.LEFT);\r\n\t\t\t\tpaintComponent();\r\n                label = new JLabel(new ImageIcon(img));\r\n                \r\n                /* Update the scene every 40 milliseconds. */\r\n                Timer timer = new Timer(40, (e) -&gt; updateScene());\r\n                timer.start();\r\n        }\r\n\r\n        /**\r\n         * Paint the game scene using a graphics context.\r\n         *\r\n         * @param g  the graphics context\r\n         */\r\n        protected void paintComponent() {\r\n\t\t\tGraphics g = img.getGraphics();\r\n\r\n\t\t\t/* Clear the screen. */\r\n\t\t\tg.setColor(Color.WHITE);\r\n\t\t\tg.fillRect(0, 0, Game.screenWidth, Game.screenHeight);\r\n\r\n\t\t\t/* Draw all objects in the scene. */\r\n\t\t\tsquare.draw(g);\r\n        }\r\n\r\n        /**\r\n         * Update the game state.\r\n         */\r\n        private void updateScene() {\r\n                /* Update all objects in the scene. */\r\n                square.update();\r\n                paintComponent();\r\n\t\t\t\t//label.setIcon(new ImageIcon(img));\r\n\t\t\t\tlabel.repaint();\r\n        }\r\n        public JLabel getComponent(){\r\n\t\t\treturn label;\r\n\t\t}\r\n\r\n}\r\n\r\n/**\r\n * A Square is a game object which looks like a square.\r\n */\r\nclass Square {\r\n        public static enum Direction { LEFT, RIGHT };\r\n\r\n        private int x;\r\n        private int y;\r\n        private int width;\r\n        private int height;\r\n        private Direction direction;\r\n\r\n        /**\r\n         * Create a square game object.\r\n         *\r\n         * @param x          the square&#39;s x position\r\n         * @param y          the square&#39;s y position\r\n         * @param width      the square&#39;s width (in pixels)\r\n         * @param height     the square&#39;s height (in pixels)\r\n         * @param direction  the square&#39;s direction of movement\r\n         */\r\n        public Square(int x,\r\n                      int y,\r\n                      int width,\r\n                      int height,\r\n                      Direction direction) {\r\n                this.x = x;\r\n                this.y = y;\r\n                this.width = width;\r\n                this.height = height;\r\n                this.direction = direction;\r\n        }\r\n\r\n        /**\r\n         * Draw the square using a graphics context.\r\n         *\r\n         * @param g  the graphics context\r\n         */\r\n        public void draw(Graphics g) {\r\n                g.setColor(Color.RED);\r\n                g.fillRect(x, y, width, height);\r\n                g.setColor(Color.BLACK);\r\n                g.drawRect(x, y, width, height);\r\n        }\r\n\r\n        /**\r\n         * Update the square&#39;s state.\r\n         *\r\n         * The square slides horizontally\r\n         * until it reaches the edge of the screen,\r\n         * at which point it begins sliding in the\r\n         * opposite direction.\r\n         *\r\n         * This should be called once per frame.\r\n         */\r\n        public void update() {\r\n                if (direction == Direction.LEFT) {\r\n                        x--;\r\n\r\n                        if (x &lt;= 0) {\r\n                                direction = Direction.RIGHT;\r\n                        }\r\n                } else if (direction == Direction.RIGHT) {\r\n                        x++;\r\n\r\n                        if (x + width &gt;= Game.screenWidth) {\r\n                                direction = Direction.LEFT;\r\n                        }\r\n                }\r\n        }\r\n}\r\n\r\n```\r\n\r\nAll I did is create a BufferedImage that is used for the JLabel image icon and it updates smoothly.\r\n","title":"Why does my custom Swing component repaint faster when I move the mouse? (Java)","body":"<p>I took a look at this, and oddly enough if I use a JLabel with an ImageIcon, it seems to solve the problem.</p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.Dimension;\nimport java.awt.Color;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\nimport java.awt.image.BufferedImage;\nimport javax.swing.ImageIcon;\nimport javax.swing.JLabel;\n\nclass Game {\n        public static final int screenWidth = 160;\n        public static final int screenHeight = 140;\n        /**\n         * Create and show the GUI.\n         */\n        private static void createAndShowGUI() {\n                /* Create the GUI. */\n                JFrame frame = new JFrame(&quot;Example&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setResizable(false);\n                GamePanel panel = new GamePanel();\n                \n                frame.getContentPane().add(panel.getComponent());\n                frame.pack();\n                /* Show the GUI. */\n                frame.setVisible(true);\n        }\n\n        /**\n         * Run the game.\n         *\n         * @param args  the list of command-line arguments\n         */\n        public static void main(String[] args) {\n                /* Schedule the GUI to be created on the EDT. */\n                SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\n        }\n\n}\n\n/**\n * A GamePanel widget updates and shows the game scene.\n */\nclass GamePanel{\n        private Square square;\n        final BufferedImage img;\n        JLabel label;\n        /**\n         * Create a game panel and start its update-and-draw cycle\n         */\n        public GamePanel() {\n                img = new BufferedImage(Game.screenWidth, Game.screenHeight, BufferedImage.TYPE_INT_ARGB);\n                square = new Square(0, 0, 32, 32, Square.Direction.LEFT);\n                paintComponent();\n                label = new JLabel(new ImageIcon(img));\n                \n                /* Update the scene every 40 milliseconds. */\n                Timer timer = new Timer(40, (e) -&gt; updateScene());\n                timer.start();\n        }\n\n        /**\n         * Paint the game scene using a graphics context.\n         *\n         * @param g  the graphics context\n         */\n        protected void paintComponent() {\n            Graphics g = img.getGraphics();\n\n            /* Clear the screen. */\n            g.setColor(Color.WHITE);\n            g.fillRect(0, 0, Game.screenWidth, Game.screenHeight);\n\n            /* Draw all objects in the scene. */\n            square.draw(g);\n        }\n\n        /**\n         * Update the game state.\n         */\n        private void updateScene() {\n                /* Update all objects in the scene. */\n                square.update();\n                paintComponent();\n                //label.setIcon(new ImageIcon(img));\n                label.repaint();\n        }\n        public JLabel getComponent(){\n            return label;\n        }\n\n}\n\n/**\n * A Square is a game object which looks like a square.\n */\nclass Square {\n        public static enum Direction { LEFT, RIGHT };\n\n        private int x;\n        private int y;\n        private int width;\n        private int height;\n        private Direction direction;\n\n        /**\n         * Create a square game object.\n         *\n         * @param x          the square's x position\n         * @param y          the square's y position\n         * @param width      the square's width (in pixels)\n         * @param height     the square's height (in pixels)\n         * @param direction  the square's direction of movement\n         */\n        public Square(int x,\n                      int y,\n                      int width,\n                      int height,\n                      Direction direction) {\n                this.x = x;\n                this.y = y;\n                this.width = width;\n                this.height = height;\n                this.direction = direction;\n        }\n\n        /**\n         * Draw the square using a graphics context.\n         *\n         * @param g  the graphics context\n         */\n        public void draw(Graphics g) {\n                g.setColor(Color.RED);\n                g.fillRect(x, y, width, height);\n                g.setColor(Color.BLACK);\n                g.drawRect(x, y, width, height);\n        }\n\n        /**\n         * Update the square's state.\n         *\n         * The square slides horizontally\n         * until it reaches the edge of the screen,\n         * at which point it begins sliding in the\n         * opposite direction.\n         *\n         * This should be called once per frame.\n         */\n        public void update() {\n                if (direction == Direction.LEFT) {\n                        x--;\n\n                        if (x &lt;= 0) {\n                                direction = Direction.RIGHT;\n                        }\n                } else if (direction == Direction.RIGHT) {\n                        x++;\n\n                        if (x + width &gt;= Game.screenWidth) {\n                                direction = Direction.LEFT;\n                        }\n                }\n        }\n}\n\n</code></pre>\n<p>All I did is create a BufferedImage that is used for the JLabel image icon and it updates smoothly.</p>\n"}],"owner":{"display_name":"user12071097"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":57948421,"answer_count":3,"score":10,"last_activity_date":1701882044,"creation_date":1568582836,"question_id":57948299,"body_markdown":"I am trying to make a 2D game with Java and Swing, and the window refreshes too slow.  But if I move the mouse or press keys, the window refreshes as fast as it should!\r\n\r\nHere is a GIF showing how the window refreshes quickly only when I move the mouse.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhy does the window refresh slowly like that?  Why does the mouse and keyboard affect its refresh rate?  How, if possible, do I make it refresh quickly all the time?\r\n\r\n## Background Info ##\r\n\r\nI use a [javax.swing.Timer][2] to update the game state every 1/25 seconds, after which it calls [repaint()][3] on the game panel to redraw the scene.\r\n\r\nI understand that a Timer might not always delay for exactly 1/25 of a second.\r\n\r\nI also understand that calling repaint() just requests the window to be repainted ASAP and does not repaint the window immediately.\r\n\r\nMy graphics card does not support OpenGL 2+ or hardware accelerated 3D graphics, which is why I am not using libgdx or JME for game development.\r\n\r\n## System Info ##\r\n\r\n* Operating system: Linux Mint 19 Tara\r\n* JDK version: OpenJDK 11.0.4\r\n* Graphics card: Intel Corporation 82945G/GZ\r\n\r\n## Research ##\r\n\r\n[This Stack Overflow user][4] describes the same problem I have, but the author reportedly solved the issue by calling repaint() repeatedly on a separate timer.  I tried this, and it *does make the window refresh somewhat faster*, but even then it is a slower than I want.  In this case, wiggling the mouse on the window *still improves the refresh rate*.  Therefore, it seems like that post did not truly solve the issue.\r\n\r\n[Another Stack Overflow user][5] also encountered the issue, but they use a continuous while-loop instead of a Timer for their game loop.  Apparently, this user solved the problem by using Thread.sleep() in their while loop.  However, my code accomplishes the delay using a Timer, so I do not know how Thread.sleep() could solve my problem, or even where I would put it.\r\n\r\nI&#39;ve read through [Painting with AWT and Swing][6] to figure out whether I just misunderstood the concept of repainting, but nothing in that document elucidates the issue for me.  I call repaint() whenever the game updates, and the window only refreshes quickly when mouse or keyboard input is happening.\r\n\r\nI have searched the web for several days now trying to find an answer, but nothing seems to help!\r\n\r\n## Code ##\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.Dimension;\r\n    import java.awt.Color;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    class Game {\r\n            public static final int screenWidth = 160;\r\n            public static final int screenHeight = 140;\r\n    \r\n            /**\r\n             * Create and show the GUI.\r\n             */\r\n            private static void createAndShowGUI() {\r\n                    /* Create the GUI. */\r\n                    JFrame frame = new JFrame(&quot;Example&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setResizable(false);\r\n                    frame.getContentPane().add(new GamePanel());\r\n                    frame.pack();\r\n    \r\n                    /* Show the GUI. */\r\n                    frame.setVisible(true);\r\n            }\r\n    \r\n            /**\r\n             * Run the game.\r\n             *\r\n             * @param args  the list of command-line arguments\r\n             */\r\n            public static void main(String[] args) {\r\n                    /* Schedule the GUI to be created on the EDT. */\r\n                    SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\r\n            }\r\n    \r\n    }\r\n    \r\n    /**\r\n     * A GamePanel widget updates and shows the game scene.\r\n     */\r\n    class GamePanel extends JPanel {\r\n            private Square square;\r\n    \r\n            /**\r\n             * Create a game panel and start its update-and-draw cycle\r\n             */\r\n            public GamePanel() {\r\n                    super();\r\n    \r\n                    /* Set the size of the game screen. */\r\n                    setPreferredSize(\r\n                            new Dimension(\r\n                                    Game.screenWidth,\r\n                                    Game.screenHeight));\r\n    \r\n                    /* Create the square in the game world. */\r\n                    square = new Square(0, 0, 32, 32, Square.Direction.LEFT);\r\n    \r\n                    /* Update the scene every 40 milliseconds. */\r\n                    Timer timer = new Timer(40, (e) -&gt; updateScene());\r\n                    timer.start();\r\n            }\r\n    \r\n            /**\r\n             * Paint the game scene using a graphics context.\r\n             *\r\n             * @param g  the graphics context\r\n             */\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                    super.paintComponent(g);\r\n    \r\n                    /* Clear the screen. */\r\n                    g.setColor(Color.WHITE);\r\n                    g.fillRect(0, 0, Game.screenWidth, Game.screenHeight);\r\n    \r\n                    /* Draw all objects in the scene. */\r\n                    square.draw(g);\r\n            }\r\n    \r\n            /**\r\n             * Update the game state.\r\n             */\r\n            private void updateScene() {\r\n                    /* Update all objects in the scene. */\r\n                    square.update();\r\n    \r\n                    /* Request the scene to be repainted. */\r\n                    repaint();\r\n            }\r\n    \r\n    }\r\n    \r\n    /**\r\n     * A Square is a game object which looks like a square.\r\n     */\r\n    class Square {\r\n            public static enum Direction { LEFT, RIGHT };\r\n    \r\n            private int x;\r\n            private int y;\r\n            private int width;\r\n            private int height;\r\n            private Direction direction;\r\n    \r\n            /**\r\n             * Create a square game object.\r\n             *\r\n             * @param x          the square&#39;s x position\r\n             * @param y          the square&#39;s y position\r\n             * @param width      the square&#39;s width (in pixels)\r\n             * @param height     the square&#39;s height (in pixels)\r\n             * @param direction  the square&#39;s direction of movement\r\n             */\r\n            public Square(int x,\r\n                          int y,\r\n                          int width,\r\n                          int height,\r\n                          Direction direction) {\r\n                    this.x = x;\r\n                    this.y = y;\r\n                    this.width = width;\r\n                    this.height = height;\r\n                    this.direction = direction;\r\n            }\r\n    \r\n            /**\r\n             * Draw the square using a graphics context.\r\n             *\r\n             * @param g  the graphics context\r\n             */\r\n            public void draw(Graphics g) {\r\n                    g.setColor(Color.RED);\r\n                    g.fillRect(x, y, width, height);\r\n                    g.setColor(Color.BLACK);\r\n                    g.drawRect(x, y, width, height);\r\n            }\r\n    \r\n            /**\r\n             * Update the square&#39;s state.\r\n             *\r\n             * The square slides horizontally\r\n             * until it reaches the edge of the screen,\r\n             * at which point it begins sliding in the\r\n             * opposite direction.\r\n             *\r\n             * This should be called once per frame.\r\n             */\r\n            public void update() {\r\n                    if (direction == Direction.LEFT) {\r\n                            x--;\r\n    \r\n                            if (x &lt;= 0) {\r\n                                    direction = Direction.RIGHT;\r\n                            }\r\n                    } else if (direction == Direction.RIGHT) {\r\n                            x++;\r\n    \r\n                            if (x + width &gt;= Game.screenWidth) {\r\n                                    direction = Direction.LEFT;\r\n                            }\r\n                    }\r\n            }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MbZfy.gif\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/javax/swing/Timer.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#repaint(long,%20int,%20int,%20int,%20int)\r\n  [4]: https://stackoverflow.com/questions/32291814/java-swing-or-awt-repaint-frequency\r\n  [5]: https://stackoverflow.com/questions/56688387/java-swing-graphics-stutter\r\n  [6]: https://www.oracle.com/technetwork/java/painting-140037.html","title":"Why does my custom Swing component repaint faster when I move the mouse? (Java)","body":"<p>I am trying to make a 2D game with Java and Swing, and the window refreshes too slow.  But if I move the mouse or press keys, the window refreshes as fast as it should!</p>\n\n<p>Here is a GIF showing how the window refreshes quickly only when I move the mouse.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MbZfy.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MbZfy.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Why does the window refresh slowly like that?  Why does the mouse and keyboard affect its refresh rate?  How, if possible, do I make it refresh quickly all the time?</p>\n\n<h2>Background Info</h2>\n\n<p>I use a <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">javax.swing.Timer</a> to update the game state every 1/25 seconds, after which it calls <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#repaint(long,%20int,%20int,%20int,%20int)\" rel=\"nofollow noreferrer\">repaint()</a> on the game panel to redraw the scene.</p>\n\n<p>I understand that a Timer might not always delay for exactly 1/25 of a second.</p>\n\n<p>I also understand that calling repaint() just requests the window to be repainted ASAP and does not repaint the window immediately.</p>\n\n<p>My graphics card does not support OpenGL 2+ or hardware accelerated 3D graphics, which is why I am not using libgdx or JME for game development.</p>\n\n<h2>System Info</h2>\n\n<ul>\n<li>Operating system: Linux Mint 19 Tara</li>\n<li>JDK version: OpenJDK 11.0.4</li>\n<li>Graphics card: Intel Corporation 82945G/GZ</li>\n</ul>\n\n<h2>Research</h2>\n\n<p><a href=\"https://stackoverflow.com/questions/32291814/java-swing-or-awt-repaint-frequency\">This Stack Overflow user</a> describes the same problem I have, but the author reportedly solved the issue by calling repaint() repeatedly on a separate timer.  I tried this, and it <em>does make the window refresh somewhat faster</em>, but even then it is a slower than I want.  In this case, wiggling the mouse on the window <em>still improves the refresh rate</em>.  Therefore, it seems like that post did not truly solve the issue.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/56688387/java-swing-graphics-stutter\">Another Stack Overflow user</a> also encountered the issue, but they use a continuous while-loop instead of a Timer for their game loop.  Apparently, this user solved the problem by using Thread.sleep() in their while loop.  However, my code accomplishes the delay using a Timer, so I do not know how Thread.sleep() could solve my problem, or even where I would put it.</p>\n\n<p>I've read through <a href=\"https://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting with AWT and Swing</a> to figure out whether I just misunderstood the concept of repainting, but nothing in that document elucidates the issue for me.  I call repaint() whenever the game updates, and the window only refreshes quickly when mouse or keyboard input is happening.</p>\n\n<p>I have searched the web for several days now trying to find an answer, but nothing seems to help!</p>\n\n<h2>Code</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Graphics;\nimport java.awt.Dimension;\nimport java.awt.Color;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\nclass Game {\n        public static final int screenWidth = 160;\n        public static final int screenHeight = 140;\n\n        /**\n         * Create and show the GUI.\n         */\n        private static void createAndShowGUI() {\n                /* Create the GUI. */\n                JFrame frame = new JFrame(\"Example\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setResizable(false);\n                frame.getContentPane().add(new GamePanel());\n                frame.pack();\n\n                /* Show the GUI. */\n                frame.setVisible(true);\n        }\n\n        /**\n         * Run the game.\n         *\n         * @param args  the list of command-line arguments\n         */\n        public static void main(String[] args) {\n                /* Schedule the GUI to be created on the EDT. */\n                SwingUtilities.invokeLater(() -&gt; createAndShowGUI());\n        }\n\n}\n\n/**\n * A GamePanel widget updates and shows the game scene.\n */\nclass GamePanel extends JPanel {\n        private Square square;\n\n        /**\n         * Create a game panel and start its update-and-draw cycle\n         */\n        public GamePanel() {\n                super();\n\n                /* Set the size of the game screen. */\n                setPreferredSize(\n                        new Dimension(\n                                Game.screenWidth,\n                                Game.screenHeight));\n\n                /* Create the square in the game world. */\n                square = new Square(0, 0, 32, 32, Square.Direction.LEFT);\n\n                /* Update the scene every 40 milliseconds. */\n                Timer timer = new Timer(40, (e) -&gt; updateScene());\n                timer.start();\n        }\n\n        /**\n         * Paint the game scene using a graphics context.\n         *\n         * @param g  the graphics context\n         */\n        @Override\n        protected void paintComponent(Graphics g) {\n                super.paintComponent(g);\n\n                /* Clear the screen. */\n                g.setColor(Color.WHITE);\n                g.fillRect(0, 0, Game.screenWidth, Game.screenHeight);\n\n                /* Draw all objects in the scene. */\n                square.draw(g);\n        }\n\n        /**\n         * Update the game state.\n         */\n        private void updateScene() {\n                /* Update all objects in the scene. */\n                square.update();\n\n                /* Request the scene to be repainted. */\n                repaint();\n        }\n\n}\n\n/**\n * A Square is a game object which looks like a square.\n */\nclass Square {\n        public static enum Direction { LEFT, RIGHT };\n\n        private int x;\n        private int y;\n        private int width;\n        private int height;\n        private Direction direction;\n\n        /**\n         * Create a square game object.\n         *\n         * @param x          the square's x position\n         * @param y          the square's y position\n         * @param width      the square's width (in pixels)\n         * @param height     the square's height (in pixels)\n         * @param direction  the square's direction of movement\n         */\n        public Square(int x,\n                      int y,\n                      int width,\n                      int height,\n                      Direction direction) {\n                this.x = x;\n                this.y = y;\n                this.width = width;\n                this.height = height;\n                this.direction = direction;\n        }\n\n        /**\n         * Draw the square using a graphics context.\n         *\n         * @param g  the graphics context\n         */\n        public void draw(Graphics g) {\n                g.setColor(Color.RED);\n                g.fillRect(x, y, width, height);\n                g.setColor(Color.BLACK);\n                g.drawRect(x, y, width, height);\n        }\n\n        /**\n         * Update the square's state.\n         *\n         * The square slides horizontally\n         * until it reaches the edge of the screen,\n         * at which point it begins sliding in the\n         * opposite direction.\n         *\n         * This should be called once per frame.\n         */\n        public void update() {\n                if (direction == Direction.LEFT) {\n                        x--;\n\n                        if (x &lt;= 0) {\n                                direction = Direction.RIGHT;\n                        }\n                } else if (direction == Direction.RIGHT) {\n                        x++;\n\n                        if (x + width &gt;= Game.screenWidth) {\n                                direction = Direction.LEFT;\n                        }\n                }\n        }\n}\n</code></pre>\n"},{"tags":["java","postgresql","database-backups"],"comments":[{"owner":{"account_id":8633322,"reputation":218433,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1701879718,"post_id":77613640,"comment_id":136830206,"body_markdown":"Make the PostgreSQL binary path a configurable parameter of the application.","body":"Make the PostgreSQL binary path a configurable parameter of the application."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701906357,"post_id":77613640,"comment_id":136834495,"body_markdown":"Vague title. Rewrite to summarize your specific issue.","body":"Vague title. Rewrite to summarize your specific issue."}],"answers":[{"comments":[{"owner":{"account_id":29638857,"reputation":1,"user_id":22715477,"display_name":"zenitsu"},"score":0,"creation_date":1702014854,"post_id":77613752,"comment_id":136848284,"body_markdown":"I can set the path in my local and can do. But when the issue comes when I deployed the code to the main server. The location of the pg_dump.exe is ambiguous on the main server.","body":"I can set the path in my local and can do. But when the issue comes when I deployed the code to the main server. The location of the pg_dump.exe is ambiguous on the main server."},{"owner":{"account_id":29638857,"reputation":1,"user_id":22715477,"display_name":"zenitsu"},"score":0,"creation_date":1702014899,"post_id":77613752,"comment_id":136848290,"body_markdown":"Can I do the backup using wal files?? Or is there any way I can achieve it?","body":"Can I do the backup using wal files?? Or is there any way I can achieve it?"}],"tags":[],"owner":{"account_id":2998939,"reputation":2194,"user_id":2544810,"accept_rate":33,"display_name":"Senthil"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701871480,"creation_date":1701871480,"answer_id":77613752,"question_id":77613640,"body_markdown":"You can do that by setting the path variable . i.e., enviroment variables PATH you append this path : D:\\\\pgsql\\\\pgsql_new\\\\pgsql\\\\bin\\\\. Then when you run pg_dump.exe it will start working from your java / from cmd prompts any path  as well. \r\n\r\nRef : https://sqlbackupandftp.com/blog/setting-windows-path-for-postgres-tools/","title":"pg_dump command in java","body":"<p>You can do that by setting the path variable . i.e., enviroment variables PATH you append this path : D:\\pgsql\\pgsql_new\\pgsql\\bin\\. Then when you run pg_dump.exe it will start working from your java / from cmd prompts any path  as well.</p>\n<p>Ref : <a href=\"https://sqlbackupandftp.com/blog/setting-windows-path-for-postgres-tools/\" rel=\"nofollow noreferrer\">https://sqlbackupandftp.com/blog/setting-windows-path-for-postgres-tools/</a></p>\n"}],"owner":{"account_id":29638857,"reputation":1,"user_id":22715477,"display_name":"zenitsu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701881228,"creation_date":1701870674,"question_id":77613640,"body_markdown":"I have to create a java program where the pg_dump will happen. I was able to execute the following command in cmd line, the backup file is getting created.\r\n\r\n`pg_dump -U postgres -h 122.1.1.1 -p 5050 databasename &gt; D:\\filename.sql`\r\n\r\nBut when I&#39;m trying to execute in java class, the backup file is not getting created.\r\nI am facing issue on how to execute the above command in java.\r\n\r\nhttps://stackoverflow.com/questions/29792065/backup-of-postgresql-database-with-pg-dump\r\n\r\nI actually tried the answer present in the above. But the backup file is not being generated.\r\nCan someone please help me on this..\r\n\r\nAlso I tried the following\r\n\r\n```\r\nProcess p;\r\nProcessBuilder pb;\r\npb = new ProcessBuilder(&quot;D:\\\\pgsql\\\\pgsql_new\\\\pgsql\\\\bin\\\\pg_dump.exe&quot;, &quot;--host&quot;, &quot;122.1.1.1&quot;,&quot;--port&quot;, &quot;5050&quot;, &quot;--username&quot;, \r\n\t\t&quot;postgres&quot;, &quot;--no-password&quot;, &quot;--format&quot;, &quot;custom&quot;, &quot;--blobs&quot;,&quot;--verbose&quot;, &quot;--file&quot;, &quot;D:\\\\filename.sql&quot;, &quot;databasename&quot;); \r\n\r\ntry {\r\n\tfinal Map&lt;String, String&gt; env = pb.environment();\r\n\tenv.put(&quot;PGPASSWORD&quot;, &quot;password&quot;);\r\n\tp = pb.start();\r\n\tfinal BufferedReader r = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n\tString line = r.readLine();\r\n\twhile (line != null) {\r\n\t\tSystem.err.println(line);\r\n\t\tline = r.readLine();\r\n\t}\r\n```\r\n\r\nThe above code is working fine, but it does not match my requirement.\r\n\r\nAccording to the requirement, the path for the pg_dump must not be specified. Is there any other way where I can take the backup without mentioning any path.\r\n","title":"pg_dump command in java","body":"<p>I have to create a java program where the pg_dump will happen. I was able to execute the following command in cmd line, the backup file is getting created.</p>\n<p><code>pg_dump -U postgres -h 122.1.1.1 -p 5050 databasename &gt; D:\\filename.sql</code></p>\n<p>But when I'm trying to execute in java class, the backup file is not getting created.\nI am facing issue on how to execute the above command in java.</p>\n<p><a href=\"https://stackoverflow.com/questions/29792065/backup-of-postgresql-database-with-pg-dump\">Backup of Postgresql database with pg_dump</a></p>\n<p>I actually tried the answer present in the above. But the backup file is not being generated.\nCan someone please help me on this..</p>\n<p>Also I tried the following</p>\n<pre><code>Process p;\nProcessBuilder pb;\npb = new ProcessBuilder(&quot;D:\\\\pgsql\\\\pgsql_new\\\\pgsql\\\\bin\\\\pg_dump.exe&quot;, &quot;--host&quot;, &quot;122.1.1.1&quot;,&quot;--port&quot;, &quot;5050&quot;, &quot;--username&quot;, \n        &quot;postgres&quot;, &quot;--no-password&quot;, &quot;--format&quot;, &quot;custom&quot;, &quot;--blobs&quot;,&quot;--verbose&quot;, &quot;--file&quot;, &quot;D:\\\\filename.sql&quot;, &quot;databasename&quot;); \n\ntry {\n    final Map&lt;String, String&gt; env = pb.environment();\n    env.put(&quot;PGPASSWORD&quot;, &quot;password&quot;);\n    p = pb.start();\n    final BufferedReader r = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n    String line = r.readLine();\n    while (line != null) {\n        System.err.println(line);\n        line = r.readLine();\n    }\n</code></pre>\n<p>The above code is working fine, but it does not match my requirement.</p>\n<p>According to the requirement, the path for the pg_dump must not be specified. Is there any other way where I can take the backup without mentioning any path.</p>\n"},{"tags":["java","data-structures","collections"],"comments":[{"owner":{"account_id":421470,"reputation":3939,"user_id":799737,"accept_rate":100,"display_name":"Daniel Gabriel"},"score":1,"creation_date":1370303308,"post_id":16907594,"comment_id":24402432,"body_markdown":"What exactly are you asking?","body":"What exactly are you asking?"}],"answers":[{"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1370303677,"post_id":16907637,"comment_id":24402535,"body_markdown":"Hint: OP&#39;s looking for `LinkedHashMap` instead of `HashMap`. Read the desired output.","body":"Hint: OP&#39;s looking for <code>LinkedHashMap</code> instead of <code>HashMap</code>. Read the desired output."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1370303899,"post_id":16907637,"comment_id":24402597,"body_markdown":"@gthm geeky: if the order (in which the lines are read) should be maintained  then just replace `new HashMap&lt;String, List&lt;String&gt;&gt;()` with `new LinkedHashMap&lt;String, List&lt;String&gt;&gt;()` as Luiggi suggested.","body":"@gthm geeky: if the order (in which the lines are read) should be maintained  then just replace <code>new HashMap&lt;String, List&lt;String&gt;&gt;()</code> with <code>new LinkedHashMap&lt;String, List&lt;String&gt;&gt;()</code> as Luiggi suggested."},{"owner":{"account_id":18313,"reputation":13576,"user_id":41861,"accept_rate":62,"display_name":"Adrian Pronk"},"score":0,"creation_date":1370306973,"post_id":16907637,"comment_id":24403413,"body_markdown":"@LuiggiMendoza: OP&#39;s Perl example doesn&#39;t indicate that he wants to use a LinkedHashmap","body":"@LuiggiMendoza: OP&#39;s Perl example doesn&#39;t indicate that he wants to use a LinkedHashmap"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1370313204,"post_id":16907637,"comment_id":24404728,"body_markdown":"@AdrianPronk I never said to check perl&#39;s code, instead output example.","body":"@AdrianPronk I never said to check perl&#39;s code, instead output example."}],"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1370303370,"creation_date":1370303370,"answer_id":16907637,"question_id":16907594,"body_markdown":"Following is what you need -\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; h = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n\r\nAnd for every line -\r\n\r\n    String[] s = str.split(&quot;:&quot;); //s[1] should be the key, s[0] is what should go into the list \r\n    List&lt;String&gt; l = h.get(s[1]); //see if you already have a list for current key\r\n    if(l == null) { //if not create one and put it in the map\r\n        l = new ArrayList&lt;String&gt;();\r\n        h.put(s[1], l);\r\n    }\r\n    l.add(s[0]); //add s[0] into the list for current key ","title":"list as value of hashMap in Java","body":"<p>Following is what you need -</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; h = new HashMap&lt;String, List&lt;String&gt;&gt;();\n</code></pre>\n\n<p>And for every line -</p>\n\n<pre><code>String[] s = str.split(\":\"); //s[1] should be the key, s[0] is what should go into the list \nList&lt;String&gt; l = h.get(s[1]); //see if you already have a list for current key\nif(l == null) { //if not create one and put it in the map\n    l = new ArrayList&lt;String&gt;();\n    h.put(s[1], l);\n}\nl.add(s[0]); //add s[0] into the list for current key \n</code></pre>\n"},{"tags":[],"owner":{"account_id":56888,"reputation":11998,"user_id":170383,"accept_rate":71,"display_name":"David R Tribble"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370303421,"creation_date":1370303421,"answer_id":16907644,"question_id":16907594,"body_markdown":"`HashMap.put()` will replace whatever element you&#39;ve already inserted into the hash map. You need to first try to retrieve an existing key in the map, and if it already exists (i.e., was inserted for a previous input line), then you can append the current name to its value, and re-insert it into the map.\r\n\r\nAlso, you&#39;re probably going to want to use something like `List&lt;String&gt;` to hold the map values (the names) instead of just a `String`. Using a list also saves you the need to re-insert the value, since you can just apppend to the list that is already in the map.","title":"list as value of hashMap in Java","body":"<p><code>HashMap.put()</code> will replace whatever element you've already inserted into the hash map. You need to first try to retrieve an existing key in the map, and if it already exists (i.e., was inserted for a previous input line), then you can append the current name to its value, and re-insert it into the map.</p>\n\n<p>Also, you're probably going to want to use something like <code>List&lt;String&gt;</code> to hold the map values (the names) instead of just a <code>String</code>. Using a list also saves you the need to re-insert the value, since you can just apppend to the list that is already in the map.</p>\n"},{"tags":[],"owner":{"account_id":1794795,"reputation":476,"user_id":1634434,"display_name":"MaQy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1370303487,"creation_date":1370303487,"answer_id":16907652,"question_id":16907594,"body_markdown":"You just need to change the `while` and the type of the map:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; h = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n\r\n    /* (...) */\r\n\r\n    while ( (str = br.readLine()) != null)  {\r\n\r\n        String[] s = str.split(&quot;:&quot;);\r\n        list = h.get(s[1]);\r\n        if(list==null) {\r\n            list = new ArrayList&lt;String&gt;();\r\n        }\r\n        list.add(s[0]);\r\n        h.put(s[1],list);\r\n\r\n    }","title":"list as value of hashMap in Java","body":"<p>You just need to change the <code>while</code> and the type of the map:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; h = new HashMap&lt;String, List&lt;String&gt;&gt;();\n\n/* (...) */\n\nwhile ( (str = br.readLine()) != null)  {\n\n    String[] s = str.split(\":\");\n    list = h.get(s[1]);\n    if(list==null) {\n        list = new ArrayList&lt;String&gt;();\n    }\n    list.add(s[0]);\n    h.put(s[1],list);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1370303621,"creation_date":1370303621,"answer_id":16907673,"question_id":16907594,"body_markdown":"To turn that map upside down, you probably want this:\r\n\r\n    HashMap&lt;String, String&gt; h = new HashMap&lt;String, String&gt;();\r\n    ...\r\n    // your reading code\r\n    ...\r\n    HashMap&lt;String,ArrayList&lt;String&gt;&gt; map = new HashMap&lt;String,ArrayList&lt;String&gt;&gt;();\r\n    ...\r\n    for(String key: h.keySet()) {\r\n        if(!map.hasKey(key)) {\r\n            map.put(key, new ArrayList&lt;String&gt;());\r\n        }\r\n        map.get(key).add(h.get(key));\r\n    }\r\n\r\nand now &quot;map&quot; contains the desired structured data, with &quot;AP&quot; pointing to an arraylist (person1, person 2, person6, person8), etc.","title":"list as value of hashMap in Java","body":"<p>To turn that map upside down, you probably want this:</p>\n\n<pre><code>HashMap&lt;String, String&gt; h = new HashMap&lt;String, String&gt;();\n...\n// your reading code\n...\nHashMap&lt;String,ArrayList&lt;String&gt;&gt; map = new HashMap&lt;String,ArrayList&lt;String&gt;&gt;();\n...\nfor(String key: h.keySet()) {\n    if(!map.hasKey(key)) {\n        map.put(key, new ArrayList&lt;String&gt;());\n    }\n    map.get(key).add(h.get(key));\n}\n</code></pre>\n\n<p>and now \"map\" contains the desired structured data, with \"AP\" pointing to an arraylist (person1, person 2, person6, person8), etc.</p>\n"},{"tags":[],"owner":{"account_id":38453,"reputation":8528,"user_id":110353,"display_name":"James"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1370320817,"creation_date":1370320817,"answer_id":16909930,"question_id":16907594,"body_markdown":"An alternative to the other solutions would be use one of the Multimap implementations from Guava.  It may be overkill to add such a dependency if this is the only such map you have, but if you wind up with a bunch of maps of this nature, it&#39;s nice not to have this boilerplate all over: \r\n\r\n    if (!map.containsKey(key)) {\r\n      map.put(key, new List&lt;Foo&gt;());\r\n    }\r\n    map.get(key).add(value); \r\n\r\nWhen you can just do:\r\n\r\n    multimap.put(key, value); \r\n\r\nInstead.  There are a number of implementations depending on exactly what you want.\r\n\r\nSorted:\r\nhttp://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/TreeMultimap.html\r\n\r\nSame order as you added them: \r\nhttp://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/LinkedHashMultimap.html\r\n\r\nDon&#39;t care about ordering:\r\nhttp://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/HashMultimap.html\r\n\r\nhttps://code.google.com/p/guava-libraries/ ","title":"list as value of hashMap in Java","body":"<p>An alternative to the other solutions would be use one of the Multimap implementations from Guava.  It may be overkill to add such a dependency if this is the only such map you have, but if you wind up with a bunch of maps of this nature, it's nice not to have this boilerplate all over: </p>\n\n<pre><code>if (!map.containsKey(key)) {\n  map.put(key, new List&lt;Foo&gt;());\n}\nmap.get(key).add(value); \n</code></pre>\n\n<p>When you can just do:</p>\n\n<pre><code>multimap.put(key, value); \n</code></pre>\n\n<p>Instead.  There are a number of implementations depending on exactly what you want.</p>\n\n<p>Sorted:\n<a href=\"http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/TreeMultimap.html\" rel=\"nofollow\">http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/TreeMultimap.html</a></p>\n\n<p>Same order as you added them: \n<a href=\"http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/LinkedHashMultimap.html\" rel=\"nofollow\">http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/LinkedHashMultimap.html</a></p>\n\n<p>Don't care about ordering:\n<a href=\"http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/HashMultimap.html\" rel=\"nofollow\">http://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/HashMultimap.html</a></p>\n\n<p><a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow\">https://code.google.com/p/guava-libraries/</a> </p>\n"},{"tags":[],"owner":{"account_id":21012783,"reputation":21,"user_id":15441019,"display_name":"Kamil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698747454,"creation_date":1698747454,"answer_id":77395039,"question_id":16907594,"body_markdown":"I believe a good option could be: https://stackoverflow.com/questions/19278443/how-do-i-use-the-new-computeifabsent-function\r\n\r\nIt would look like this:\r\n\r\n    HashMap&lt;String, List&lt;Atring&gt;&gt; map = new HashMap&lt;&gt;();\r\n    List&lt;Line&gt; lines = new ArrayList();\r\n\r\n    // read lines\r\n\r\n    for (Line line : lines){\r\n         List&lt;String&gt; l = map.computeIfAbsent(line.getKey(), k -&gt; new ArrayList&lt;String&gt;());\r\n         l.add(line.getValue());\r\n    }","title":"list as value of hashMap in Java","body":"<p>I believe a good option could be: <a href=\"https://stackoverflow.com/questions/19278443/how-do-i-use-the-new-computeifabsent-function\">How do I use the new computeIfAbsent function?</a></p>\n<p>It would look like this:</p>\n<pre><code>HashMap&lt;String, List&lt;Atring&gt;&gt; map = new HashMap&lt;&gt;();\nList&lt;Line&gt; lines = new ArrayList();\n\n// read lines\n\nfor (Line line : lines){\n     List&lt;String&gt; l = map.computeIfAbsent(line.getKey(), k -&gt; new ArrayList&lt;String&gt;());\n     l.add(line.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":1136398,"reputation":1908,"user_id":1121396,"accept_rate":63,"display_name":"gthm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27045,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1701880497,"creation_date":1370303093,"question_id":16907594,"body_markdown":"File: \r\n\r\n    Person1:AP\r\n    Person2:AP\r\n    Person3:KE\r\n    Person4:KE\r\n    Person5:UK\r\n    Person6:AP\r\n    Person7:UK\r\n    Person8:AP\r\n\r\nWhat I have tried is:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n\r\n    public class TestNull {\r\n\r\n        public static void main ( String args[]) throws IOException {\r\n\r\n            BufferedReader br = new BufferedReader ( new FileReader(&quot;/home/username/Desktop/test&quot;));\r\n            String str;\r\n            HashMap&lt;String, String&gt; h = new HashMap&lt;String, String&gt;();\r\n\r\n            try {\r\n                while ( (str = br.readLine()) != null)  {\r\n                    String[] s = str.split(&quot;:&quot;);\r\n                    h.put(s[1],s[0]);\r\n                }\r\n                System.out.println(h);\r\n            }\r\n\r\n            catch (FileNotFoundException E) {   \r\n                System.out.println(&quot;File Not Found&quot;);\r\n            }\r\n            finally {   \r\n                br.close();\r\n            }\r\n        }\r\n    }  \r\n\r\n\r\nI could achieve this by Perl:\r\n\r\n    use strict;\r\n    use warnings;\r\n    \r\n    open (FILE,&quot;test&quot;);\r\n    \r\n    my %hash=();\r\n    while (my $line = &lt;FILE&gt;)\t{\r\n    \t\r\n    \tchomp $line;\r\n    \t\r\n    \tmy ($name,$country) = split(&quot;:&quot;, $line);\r\n    \t\r\n    \tchomp ($name,$country);\r\n    \t\r\n    \t$hash{$country} .= &quot;$name &quot;;\t\r\n    }\r\n    \r\n    for my $keys (keys %hash)\t{\r\n    \t\r\n    \tprint &quot;$keys: $hash{$keys}\\n&quot;;\r\n    \t\r\n    }\r\n\r\nFrom the data file, I am looking for an out put like this: \r\n\r\n    {\r\n      AP = [person1, person2, person6, person8],\r\n      KE = [person3, person4],\r\n      UK = [person5, person7]\r\n    }\r\n\r\n","title":"list as value of hashMap in Java","body":"<p>File:</p>\n<pre><code>Person1:AP\nPerson2:AP\nPerson3:KE\nPerson4:KE\nPerson5:UK\nPerson6:AP\nPerson7:UK\nPerson8:AP\n</code></pre>\n<p>What I have tried is:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.HashMap;\n\npublic class TestNull {\n\n    public static void main ( String args[]) throws IOException {\n\n        BufferedReader br = new BufferedReader ( new FileReader(&quot;/home/username/Desktop/test&quot;));\n        String str;\n        HashMap&lt;String, String&gt; h = new HashMap&lt;String, String&gt;();\n\n        try {\n            while ( (str = br.readLine()) != null)  {\n                String[] s = str.split(&quot;:&quot;);\n                h.put(s[1],s[0]);\n            }\n            System.out.println(h);\n        }\n\n        catch (FileNotFoundException E) {   \n            System.out.println(&quot;File Not Found&quot;);\n        }\n        finally {   \n            br.close();\n        }\n    }\n}  \n</code></pre>\n<p>I could achieve this by Perl:</p>\n<pre><code>use strict;\nuse warnings;\n\nopen (FILE,&quot;test&quot;);\n\nmy %hash=();\nwhile (my $line = &lt;FILE&gt;)   {\n    \n    chomp $line;\n    \n    my ($name,$country) = split(&quot;:&quot;, $line);\n    \n    chomp ($name,$country);\n    \n    $hash{$country} .= &quot;$name &quot;;    \n}\n\nfor my $keys (keys %hash)   {\n    \n    print &quot;$keys: $hash{$keys}\\n&quot;;\n    \n}\n</code></pre>\n<p>From the data file, I am looking for an out put like this:</p>\n<pre><code>{\n  AP = [person1, person2, person6, person8],\n  KE = [person3, person4],\n  UK = [person5, person7]\n}\n</code></pre>\n"},{"tags":["java","linux","ffmpeg"],"comments":[{"owner":{"account_id":54381,"reputation":14862,"user_id":162698,"accept_rate":100,"display_name":"Rob"},"score":2,"creation_date":1701880676,"post_id":77614826,"comment_id":136830435,"body_markdown":"I’m voting to close this question because , as the ffmpeg tag states: **Only questions about programmatic use of the FFmpeg libraries, API, or tools are on topic. Questions about interactive use of the command line tool should be asked on https://superuser.com/ or https://video.stackexchange.com/**. Please delete this.","body":"I’m voting to close this question because , as the ffmpeg tag states: <b>Only questions about programmatic use of the FFmpeg libraries, API, or tools are on topic. Questions about interactive use of the command line tool should be asked on <a href=\"https://superuser.com/\">superuser.com</a> or <a href=\"https://video.stackexchange.com/\">video.stackexchange.com</a></b>. Please delete this."},{"owner":{"account_id":30082555,"reputation":1,"user_id":23053888,"display_name":"Ryan "},"score":0,"creation_date":1701880885,"post_id":77614826,"comment_id":136830471,"body_markdown":"But I&#39;m using Ffmpeg library in java code, I&#39;m just trying to figure out in the console why it doesn&#39;t work.","body":"But I&#39;m using Ffmpeg library in java code, I&#39;m just trying to figure out in the console why it doesn&#39;t work."}],"owner":{"account_id":30082555,"reputation":1,"user_id":23053888,"display_name":"Ryan "},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1701881043,"answer_count":0,"score":-4,"last_activity_date":1701880469,"creation_date":1701880469,"question_id":77614826,"body_markdown":"So I download ts files from h264.m3u8. The files look like this &quot;https://.net/data/3/a/e/6d162b532610fdae/h264_00000005.ts &quot;. I merge them into one common ts file. And I&#39;m trying to get an mp4 file using ffmpeg. I execute the following command `sudo /opt/ffmpeg/bin/ffmpeg -y -f mpeg ts -i concat:/tmp/yLx1B9X9Mb/lujqnqQrtm.ts -c copy -bsf:a aac_adtstoasc output.mp4`. \r\nAfter that, I get\r\n```\r\nffmpeg version n3.1-1-g36fcb8c Copyright (c) 2000-2016 the FFmpeg developers\r\n  built with gcc 4.4.7 (GCC) 20120313 (Red Hat 4.4.7-17)\r\n  configuration: --enable-gpl --enable-version3 --enable-libfdk_aac --enable-libmp3lame --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libx265 --enable-nonfree --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libgsm --enable-libxvid --disable-static --enable-shared --prefix=/opt/ffmpeg\r\n  libavutil      55. 27.100 / 55. 27.100\r\n  libavcodec     57. 48.101 / 57. 48.101\r\n  libavformat    57. 40.101 / 57. 40.101\r\n  libavdevice    57.  0.101 / 57.  0.101\r\n  libavfilter     6. 46.102 /  6. 46.102\r\n  libswscale      4.  1.100 /  4.  1.100\r\n  libswresample   2.  1.100 /  2.  1.100\r\n  libpostproc    54.  0.100 / 54.  0.100\r\n[mpegts @ 0x1bc9540] Could not detect TS packet size, defaulting to non-FEC/DVHS\r\n[mpegts @ 0x1bc9540] PES packet size mismatch\r\n    Last message repeated 1 times\r\n[mpegts @ 0x1bc9540] probed stream 0 failed\r\n[mpegts @ 0x1bc9540] nothing to probe for stream 1\r\n[mpegts @ 0x1bc9540] probed stream 1 failed\r\n[mpegts @ 0x1bc9540] probed stream 2 failed\r\n[mpegts @ 0x1bc9540] Could not find codec parameters for stream 0 (Unknown: none): unknown codec\r\nConsider increasing the value for the &#39;analyzeduration&#39; and &#39;probesize&#39; options\r\n[mpegts @ 0x1bc9540] Could not find codec parameters for stream 1 (Unknown: none): unknown codec\r\nConsider increasing the value for the &#39;analyzeduration&#39; and &#39;probesize&#39; options\r\n[mpegts @ 0x1bc9540] Could not find codec parameters for stream 2 (Unknown: none): unknown codec\r\nConsider increasing the value for the &#39;analyzeduration&#39; and &#39;probesize&#39; options\r\nInput #0, mpegts, from &#39;concat:/tmp/yLx1B9X9Mb/lujqnqQrtm.ts&#39;:\r\n  Duration: N/A, bitrate: N/A\r\n    Stream #0:0[0xfaf]: Unknown: none\r\n    Stream #0:1[0x15]: Unknown: none\r\n    Stream #0:2[0x15b4]: Unknown: none\r\nOutput #0, mp4, to &#39;output.mp4&#39;:\r\nOutput file #0 does not contain any stream\r\n```\r\nThe main problem is that it works for other ts files, but in this case it doesn&#39;t. I suspect that the whole problem is that there is a block with h264_init.mp4 here in m3u8, but to be honest I don&#39;t understand what I need to do with it.\r\n\r\nIt seems to me that I have already tried everything, but maybe I was doing it wrong","title":"The problem with converting ts files to mp4","body":"<p>So I download ts files from h264.m3u8. The files look like this &quot;https://.net/data/3/a/e/6d162b532610fdae/h264_00000005.ts &quot;. I merge them into one common ts file. And I'm trying to get an mp4 file using ffmpeg. I execute the following command <code>sudo /opt/ffmpeg/bin/ffmpeg -y -f mpeg ts -i concat:/tmp/yLx1B9X9Mb/lujqnqQrtm.ts -c copy -bsf:a aac_adtstoasc output.mp4</code>.\nAfter that, I get</p>\n<pre><code>ffmpeg version n3.1-1-g36fcb8c Copyright (c) 2000-2016 the FFmpeg developers\n  built with gcc 4.4.7 (GCC) 20120313 (Red Hat 4.4.7-17)\n  configuration: --enable-gpl --enable-version3 --enable-libfdk_aac --enable-libmp3lame --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libx265 --enable-nonfree --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libgsm --enable-libxvid --disable-static --enable-shared --prefix=/opt/ffmpeg\n  libavutil      55. 27.100 / 55. 27.100\n  libavcodec     57. 48.101 / 57. 48.101\n  libavformat    57. 40.101 / 57. 40.101\n  libavdevice    57.  0.101 / 57.  0.101\n  libavfilter     6. 46.102 /  6. 46.102\n  libswscale      4.  1.100 /  4.  1.100\n  libswresample   2.  1.100 /  2.  1.100\n  libpostproc    54.  0.100 / 54.  0.100\n[mpegts @ 0x1bc9540] Could not detect TS packet size, defaulting to non-FEC/DVHS\n[mpegts @ 0x1bc9540] PES packet size mismatch\n    Last message repeated 1 times\n[mpegts @ 0x1bc9540] probed stream 0 failed\n[mpegts @ 0x1bc9540] nothing to probe for stream 1\n[mpegts @ 0x1bc9540] probed stream 1 failed\n[mpegts @ 0x1bc9540] probed stream 2 failed\n[mpegts @ 0x1bc9540] Could not find codec parameters for stream 0 (Unknown: none): unknown codec\nConsider increasing the value for the 'analyzeduration' and 'probesize' options\n[mpegts @ 0x1bc9540] Could not find codec parameters for stream 1 (Unknown: none): unknown codec\nConsider increasing the value for the 'analyzeduration' and 'probesize' options\n[mpegts @ 0x1bc9540] Could not find codec parameters for stream 2 (Unknown: none): unknown codec\nConsider increasing the value for the 'analyzeduration' and 'probesize' options\nInput #0, mpegts, from 'concat:/tmp/yLx1B9X9Mb/lujqnqQrtm.ts':\n  Duration: N/A, bitrate: N/A\n    Stream #0:0[0xfaf]: Unknown: none\n    Stream #0:1[0x15]: Unknown: none\n    Stream #0:2[0x15b4]: Unknown: none\nOutput #0, mp4, to 'output.mp4':\nOutput file #0 does not contain any stream\n</code></pre>\n<p>The main problem is that it works for other ts files, but in this case it doesn't. I suspect that the whole problem is that there is a block with h264_init.mp4 here in m3u8, but to be honest I don't understand what I need to do with it.</p>\n<p>It seems to me that I have already tried everything, but maybe I was doing it wrong</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1701867966,"post_id":77613247,"comment_id":136827921,"body_markdown":"`LocalDateTime.parse` takes a parameter that can be parsed. As the javadoc describes: &quot;Obtains an instance of LocalDateTime from a text string such as 2007-12-03T10:15:30.&quot; So if you provide a string in that format it should parse fine.","body":"<code>LocalDateTime.parse</code> takes a parameter that can be parsed. As the javadoc describes: &quot;Obtains an instance of LocalDateTime from a text string such as 2007-12-03T10:15:30.&quot; So if you provide a string in that format it should parse fine."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1701868082,"post_id":77613247,"comment_id":136827940,"body_markdown":"As I am not aware of what the `TMmcParametrage` class does, it is hard to provide any additional help.","body":"As I am not aware of what the <code>TMmcParametrage</code> class does, it is hard to provide any additional help."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1701868356,"post_id":77613247,"comment_id":136827993,"body_markdown":"don&#39;t think you can. After all, LocalDate doesn&#39;t keep the time, only year, month and day. You can add a LocalTime yourself, but if it&#39;s supposed to be the time of creation of that LocalDate, it won&#39;t match.","body":"don&#39;t think you can. After all, LocalDate doesn&#39;t keep the time, only year, month and day. You can add a LocalTime yourself, but if it&#39;s supposed to be the time of creation of that LocalDate, it won&#39;t match."},{"owner":{"account_id":1039267,"reputation":18413,"user_id":1045704,"accept_rate":78,"display_name":"pheromix"},"score":0,"creation_date":1701868505,"post_id":77613247,"comment_id":136828016,"body_markdown":"@Stultuske I want to add localtime","body":"@Stultuske I want to add localtime"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1701868553,"post_id":77613247,"comment_id":136828029,"body_markdown":"[`LocalDate`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html) has a few methods to convert to a `LocalDateTime`. And [`LocalDateTime`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html) itself has factory methods that can take both the date and time.","body":"<a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> has a few methods to convert to a <code>LocalDateTime</code>. And <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> itself has factory methods that can take both the date and time."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1701868786,"post_id":77613247,"comment_id":136828066,"body_markdown":"@pheromix I understand that, but the point is: you&#39;ve registered the LocalDate. Do you want the time of the moment you registered that LocalDate? If yes, that &#39;s not possible, unless you&#39;ve also registered that Time somewhere. You can add a self-specified Time, or use the atStartOfDay, but those won&#39;t match the Time when the LocalDate was created. That information isn&#39;t there anymore.","body":"@pheromix I understand that, but the point is: you&#39;ve registered the LocalDate. Do you want the time of the moment you registered that LocalDate? If yes, that &#39;s not possible, unless you&#39;ve also registered that Time somewhere. You can add a self-specified Time, or use the atStartOfDay, but those won&#39;t match the Time when the LocalDate was created. That information isn&#39;t there anymore."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701867925,"creation_date":1701867925,"answer_id":77613299,"question_id":77613247,"body_markdown":"Use [`atTime`][1] to get a `LocalDateTime`. You should pass in a `LocalTime` represents the current time. Note that &quot;the current time&quot; depends on the current time zone. You should decide which time zone&#39;s &quot;current time&quot; you want.\r\n\r\n    LocalDateTime datetime = dateLogiciel.atTime(\r\n        // replace ZoneOffset.UTC with the desired ZoneId\r\n        LocalTime.now(ZoneOffset.UTC)\r\n    );\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#atTime(java.time.LocalTime)","title":"How to create a LocalDateTime variable having the instant hour, minutes and seconds from a LocalDate variable?","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#atTime(java.time.LocalTime)\" rel=\"nofollow noreferrer\"><code>atTime</code></a> to get a <code>LocalDateTime</code>. You should pass in a <code>LocalTime</code> represents the current time. Note that &quot;the current time&quot; depends on the current time zone. You should decide which time zone's &quot;current time&quot; you want.</p>\n<pre><code>LocalDateTime datetime = dateLogiciel.atTime(\n    // replace ZoneOffset.UTC with the desired ZoneId\n    LocalTime.now(ZoneOffset.UTC)\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1701868969,"creation_date":1701868007,"answer_id":77613305,"question_id":77613247,"body_markdown":"Get a local time object with now then construct a LocalDateTime with the [of(LocalDate, LocalTime)][1] method.\r\n``` lang-java\r\nLocalDate dateLogiciel = ...\r\nLocalTime time = LocalTime.now(); \r\nLocalDateTime ldt = LocalDateTime.of(dateLogiciel, time);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#of-java.time.LocalDate-java.time.LocalTime-","title":"How to create a LocalDateTime variable having the instant hour, minutes and seconds from a LocalDate variable?","body":"<p>Get a local time object with now then construct a LocalDateTime with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#of-java.time.LocalDate-java.time.LocalTime-\" rel=\"nofollow noreferrer\">of(LocalDate, LocalTime)</a> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate dateLogiciel = ...\nLocalTime time = LocalTime.now(); \nLocalDateTime ldt = LocalDateTime.of(dateLogiciel, time);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701880453,"creation_date":1701880453,"answer_id":77614825,"question_id":77613247,"body_markdown":"*How to create a LocalDateTime variable having the instant hour, minutes and seconds from a LocalDate variable?*\r\n\r\nAs an addition to [aled&#39;s](https://stackoverflow.com/a/77613305/1552534) answer, you can correct the time granularity to seconds as follows:\r\n``` \r\nLocalDate ld = LocalDate.now();\r\nSystem.out.println(ld);\r\nLocalDateTime ldt = LocalDateTime.of(ld,LocalTime.now()).truncatedTo(ChronoUnit.SECONDS);\r\nSystem.out.println(ldt);\r\n```\r\nprints\r\n```\r\n2023-12-06\r\n2023-12-06T11:32:07\r\n","title":"How to create a LocalDateTime variable having the instant hour, minutes and seconds from a LocalDate variable?","body":"<p><em>How to create a LocalDateTime variable having the instant hour, minutes and seconds from a LocalDate variable?</em></p>\n<p>As an addition to <a href=\"https://stackoverflow.com/a/77613305/1552534\">aled's</a> answer, you can correct the time granularity to seconds as follows:</p>\n<pre><code>LocalDate ld = LocalDate.now();\nSystem.out.println(ld);\nLocalDateTime ldt = LocalDateTime.of(ld,LocalTime.now()).truncatedTo(ChronoUnit.SECONDS);\nSystem.out.println(ldt);\n</code></pre>\n<p>prints</p>\n<pre><code>2023-12-06\n2023-12-06T11:32:07\n</code></pre>\n"}],"owner":{"account_id":1039267,"reputation":18413,"user_id":1045704,"accept_rate":78,"display_name":"pheromix"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701882223,"accepted_answer_id":77613305,"answer_count":3,"score":-3,"last_activity_date":1701880453,"creation_date":1701867558,"question_id":77613247,"body_markdown":"There is a `LocalDate` variable :\r\n\r\n    TMmcParametrage parametrageDateLogicielle = parametrageRepository.getEntityManager().find(TMmcParametrage.class, &quot;DATE_LOGICIELLE&quot;);\r\n    LocalDate dateLogiciel = LocalDate.parse(parametrageDateLogicielle.getValeur());\r\n\r\nLocalDate lacks the hours, minutes and seconds parts. How to construct a `LocalDateTime` from dateLogiciel having the current hour, minutes and seconds ?","title":"How to create a LocalDateTime variable having the instant hour, minutes and seconds from a LocalDate variable?","body":"<p>There is a <code>LocalDate</code> variable :</p>\n<pre><code>TMmcParametrage parametrageDateLogicielle = parametrageRepository.getEntityManager().find(TMmcParametrage.class, &quot;DATE_LOGICIELLE&quot;);\nLocalDate dateLogiciel = LocalDate.parse(parametrageDateLogicielle.getValeur());\n</code></pre>\n<p>LocalDate lacks the hours, minutes and seconds parts. How to construct a <code>LocalDateTime</code> from dateLogiciel having the current hour, minutes and seconds ?</p>\n"},{"tags":["java","algorithm","graph-theory","dijkstra","jgrapht"],"comments":[{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":3,"creation_date":1701877352,"post_id":77614438,"comment_id":136829751,"body_markdown":"Did you code the algorithm yourself, or are you using a library?  For library, check library docs.  If your own code then you can modify the line which gets the distance.","body":"Did you code the algorithm yourself, or are you using a library?  For library, check library docs.  If your own code then you can modify the line which gets the distance."},{"owner":{"account_id":30082109,"reputation":1,"user_id":23053537,"display_name":"Aar&#243;n Acu&#241;a"},"score":0,"creation_date":1701878297,"post_id":77614438,"comment_id":136829949,"body_markdown":"@ravenspoint I am using the algortihm of the following library: org.jgrapht.alg.shortestpath.DijkstraShortestPath. I tried to find the solution in the documentation but i did not find anything. However, i thought about casting the Graph&lt;Place, Vecinity&gt; into Graph&lt;Place, Double (&quot;distance&quot;)&gt; and Graph&lt;Place, Double (&quot;avgTime&quot;) respectively. Any suggestion?","body":"@ravenspoint I am using the algortihm of the following library: org.jgrapht.alg.shortestpath.DijkstraShortestPath. I tried to find the solution in the documentation but i did not find anything. However, i thought about casting the Graph&lt;Place, Vecinity&gt; into Graph&lt;Place, Double (&quot;distance&quot;)&gt; and Graph&lt;Place, Double (&quot;avgTime&quot;) respectively. Any suggestion?"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1701878310,"post_id":77614438,"comment_id":136829951,"body_markdown":"Just add a flag to your algorithm which criteria to use.","body":"Just add a flag to your algorithm which criteria to use."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701878375,"post_id":77614438,"comment_id":136829969,"body_markdown":"There is a lack of details in your question. So, unless / until you edit your question, we can only guess. Here are some resources that can help you understand [How to Write A Good Question](https://stackoverflow.com/help/how-to-ask), the [Help Center](https://stackoverflow.com/help/), the [Tour](https://stackoverflow.com/tour), with links on those pages.","body":"There is a lack of details in your question. So, unless / until you edit your question, we can only guess. Here are some resources that can help you understand <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Write A Good Question</a>, the <a href=\"https://stackoverflow.com/help/\">Help Center</a>, the <a href=\"https://stackoverflow.com/tour\">Tour</a>, with links on those pages."},{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1701878713,"post_id":77614438,"comment_id":136830025,"body_markdown":"I have added a link to the library and the library tag to your question.  In future, do this work yourself BEFORE posting your questions.","body":"I have added a link to the library and the library tag to your question.  In future, do this work yourself BEFORE posting your questions."},{"owner":{"account_id":30082109,"reputation":1,"user_id":23053537,"display_name":"Aar&#243;n Acu&#241;a"},"score":0,"creation_date":1701880089,"post_id":77614438,"comment_id":136830291,"body_markdown":"@ravenspoint Sorry I got confused with the translations. I intended to write undirected, which means that all edges are undirected, that is, there is no specific direction you have to follow in some edge. On the other hand, in a directed graph each edge has its corresponding direction to follow.","body":"@ravenspoint Sorry I got confused with the translations. I intended to write undirected, which means that all edges are undirected, that is, there is no specific direction you have to follow in some edge. On the other hand, in a directed graph each edge has its corresponding direction to follow."},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1701895630,"post_id":77614438,"comment_id":136833055,"body_markdown":"Needs more code; how does the amusement park get into the programme?","body":"Needs more code; how does the amusement park get into the programme?"},{"owner":{"account_id":8595751,"reputation":5395,"user_id":6438819,"display_name":"RaffleBuffle"},"score":0,"creation_date":1701896093,"post_id":77614438,"comment_id":136833137,"body_markdown":"Take a look at https://stackoverflow.com/questions/20246409/how-to-include-weight-in-edge-of-graph You can set the weight of an edge when you build your graph.","body":"Take a look at <a href=\"https://stackoverflow.com/questions/20246409/how-to-include-weight-in-edge-of-graph\" title=\"how to include weight in edge of graph\">stackoverflow.com/questions/20246409/&hellip;</a> You can set the weight of an edge when you build your graph."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701964777,"post_id":77614438,"comment_id":136842417,"body_markdown":"@RaffleBuffle If I understand the question properly, the graph is already built, but each edge has *two* weights. The O/P wants to know how to specify which weight is to be used when the shortest path method is run. This is an example of why questions of this type should include more code.","body":"@RaffleBuffle If I understand the question properly, the graph is already built, but each edge has <i>two</i> weights. The O/P wants to know how to specify which weight is to be used when the shortest path method is run. This is an example of why questions of this type should include more code."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701969358,"post_id":77614438,"comment_id":136843280,"body_markdown":"Please show more code. I suspect it would help us if we could see relevant parts of the `Vecinity` class.","body":"Please show more code. I suspect it would help us if we could see relevant parts of the <code>Vecinity</code> class."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701970118,"post_id":77614438,"comment_id":136843398,"body_markdown":"Does this answer your question? [Multiple weights per Edge in a JGraphT DAG](https://stackoverflow.com/questions/75176041/multiple-weights-per-edge-in-a-jgrapht-dag)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75176041/multiple-weights-per-edge-in-a-jgrapht-dag\">Multiple weights per Edge in a JGraphT DAG</a>"}],"owner":{"account_id":30082109,"reputation":1,"user_id":23053537,"display_name":"Aar&#243;n Acu&#241;a"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701880109,"creation_date":1701877001,"question_id":77614438,"body_markdown":"I am working with a undirected graph which relates some places to have fun in an amusement park. Each vertex is a place and each node gives us the distance and the average time between two places. \r\n\r\nHow do I change the criteria of the algorithm to decide which edge is shorter, for instance, instead of comparing the edges by distance, comparing them by the avgTime. I have a Graph&lt;Place, Vecinity&gt; where the type Vecinity has two attributes, distance and avgTime between two places. \r\n\r\nHere is some of my code:\r\n\r\n`public static List&lt;Place&gt; exercise2a(Graph&lt;Place,Vecinity&gt; g, Place p1, Place p2) {\r\nvar alg = new DijkstraShortestPath&lt;Place, Vecinity&gt;(g);\r\nreturn alg.getPath(p1, p2).getVertexList();\r\n}`\r\n\r\n[amusement park][1]\r\n\r\nThis method returns the list of places that belong to the shortest path in terms of distance (although i did not specify it), but i want it also in terms of avgTime.\r\n\r\nI want first to apply the algorithm according to the distance attribute and then apply it again according to the avgTime attribute.\r\n\r\nI am using the Dijkstra algorithm of the library: `org.jgrapht.alg.shortestpath.DijkstraShortestPath` of [JGraphT][2].\r\n\r\nSpecific documentation: [Documentation][3] \r\n\r\n  [1]: https://i.stack.imgur.com/m8Isx.png\r\n  [2]: https://jgrapht.org/\r\n  [3]: https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/alg/shortestpath/DijkstraShortestPath.html","title":"How to change the criteria of the Dijkstra algotithm when trying to find the shortest path?","body":"<p>I am working with a undirected graph which relates some places to have fun in an amusement park. Each vertex is a place and each node gives us the distance and the average time between two places.</p>\n<p>How do I change the criteria of the algorithm to decide which edge is shorter, for instance, instead of comparing the edges by distance, comparing them by the avgTime. I have a Graph&lt;Place, Vecinity&gt; where the type Vecinity has two attributes, distance and avgTime between two places.</p>\n<p>Here is some of my code:</p>\n<p><code>public static List&lt;Place&gt; exercise2a(Graph&lt;Place,Vecinity&gt; g, Place p1, Place p2) { var alg = new DijkstraShortestPath&lt;Place, Vecinity&gt;(g); return alg.getPath(p1, p2).getVertexList(); }</code></p>\n<p><a href=\"https://i.stack.imgur.com/m8Isx.png\" rel=\"nofollow noreferrer\">amusement park</a></p>\n<p>This method returns the list of places that belong to the shortest path in terms of distance (although i did not specify it), but i want it also in terms of avgTime.</p>\n<p>I want first to apply the algorithm according to the distance attribute and then apply it again according to the avgTime attribute.</p>\n<p>I am using the Dijkstra algorithm of the library: <code>org.jgrapht.alg.shortestpath.DijkstraShortestPath</code> of <a href=\"https://jgrapht.org/\" rel=\"nofollow noreferrer\">JGraphT</a>.</p>\n<p>Specific documentation: <a href=\"https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/alg/shortestpath/DijkstraShortestPath.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"},{"tags":["java","ruby","openssl","ecdsa","ecies"],"comments":[{"owner":{"account_id":27373192,"reputation":1,"user_id":20878948,"display_name":"chaos"},"score":0,"creation_date":1701944667,"post_id":77614619,"comment_id":136838536,"body_markdown":"I have sloved these issues. The omission in my code is due to the wrong use of Cipher. It seems that it use empty 32-byte array in OpenSsl while empty 16-byte array array in Bouncycastle library of Java. So it leads to subsequent array copying and cutting with the wrong length of cipher. Just replace the length of the cipher with 32 not 16, and then it works well.","body":"I have sloved these issues. The omission in my code is due to the wrong use of Cipher. It seems that it use empty 32-byte array in OpenSsl while empty 16-byte array array in Bouncycastle library of Java. So it leads to subsequent array copying and cutting with the wrong length of cipher. Just replace the length of the cipher with 32 not 16, and then it works well."}],"owner":{"account_id":27373192,"reputation":1,"user_id":20878948,"display_name":"chaos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701879386,"creation_date":1701878469,"question_id":77614619,"body_markdown":"I am busy in a decryption of encrypted data work.\r\n\r\nAnother business provider has provided me with a Private_key.pem file, and then I should use it to decrypt the encrypted data they provided.\r\n \r\nThey have provided a demo coding in Ruby to help me do this. It works well in Ruby, but when I want to make it in Java, I find that there is a lot of difficulties.\r\n\r\nThe demo in Ruby:\r\n\r\n```ruby\r\ndef decrypt(key, encrypted_data)\r\n  # Decode the Base64 encoded `encrypted_message` and `tag`\r\n  ciphertext = Base64.strict_decode64(encrypted_data[:encrypted_message])\r\n  mac = Base64.strict_decode64(encrypted_data[:tag])\r\n\r\n  # Compute shared secret using the private key of the certificate and `ephemeral_public_key`\r\n  ephemeral_public_key_pem = encrypted_data[:ephemeral_public_key]\r\n  ephemeral_public_key = OpenSSL::PKey::EC.new(ephemeral_public_key_pem).public_key\r\n  shared_secret = key.dh_compute_key(ephemeral_public_key)\r\n\r\n  # Compute the hmac of decoded `encrypted_message` and ensure it matches the decoded value of `tag`\r\n  cipher = OpenSSL::Cipher.new(&#39;AES-256-CTR&#39;)\r\n  mac_digest = OpenSSL::Digest.new(&#39;SHA256&#39;)\r\n  mac_length = mac_digest.digest_length / 2\r\n  key_pair = OpenSSL::KDF.hkdf(\r\n    shared_secret,\r\n    length: cipher.key_len + mac_length,\r\n    hash: &#39;SHA256&#39;,\r\n    salt: &#39;&#39;,\r\n    info: &#39;&#39;\r\n  )\r\n  cipher_key = key_pair.byteslice(0, cipher.key_len)\r\n  hmac_key = key_pair.byteslice(-mac_length, mac_length)\r\n  computed_mac = OpenSSL::HMAC.digest(mac_digest, hmac_key, ciphertext).byteslice(0, mac_length)\r\n  raise OpenSSL::PKey::ECError, &quot;Invalid Message Authenticaton Code&quot; unless OpenSSL.secure_compare(computed_mac, mac)\r\n\r\n  # Decrypt `encrypted_message`\r\n  cipher.decrypt\r\n  cipher.iv = (&quot;\\x00&quot; * 16).force_encoding(Encoding::BINARY)\r\n  cipher.key = cipher_key\r\n  cipher.update(ciphertext) + cipher.final\r\nend\r\n\r\n# the encrypted data to be decrypted\r\nencrypted_data = {\r\n  encrypted_message: &quot;7oeGaIk3Tja5fkyB3P[...]urLyxgW4J9lu2x769+&quot;,\r\n  ephemeral_public_key: &quot;-----BEGIN PUBLIC KEY-----\\nMEB3wYo[...]HKFkwjQ==\\n-----END PUBLIC KEY-----\\n&quot;,\r\n  tag: &quot;LDCZ1tbHX8t+KPO9w==&quot;\r\n}\r\n# Use `fingerprint` to identify the certificate that&#39;s used for encryption\r\nkey = OpenSSL::PKey::EC.new(File.open(&#39;path/to/private-key.file&#39;).read)\r\n# decrypt\r\ndecrypt(key, encrypted_data)\r\n```\r\n\r\nOne of the difficulties is I can&#39;t read the private_key.pem properly. The code below:\r\n\r\n```java\r\npublic static KeyFactory keyFactory;\r\n    static {\r\n        if (Security.getProvider(BouncyCastleProvider.PROVIDER_NAME) == null) {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n        }\r\n        try {\r\n            keyFactory = KeyFactory.getInstance(&quot;EC&quot;, BouncyCastleProvider.PROVIDER_NAME);\r\n        } catch (NoSuchAlgorithmException | NoSuchProviderException e) {\r\n        }\r\n    }\r\n\r\n    public static PrivateKey getPrivateKey(String filePath) throws Exception {\r\n        String privateKeyPEM = new String(Files.readAllBytes(Paths.get(filePath)), StandardCharsets.UTF_8);\r\n        String privateKeyPEMTrimmed = privateKeyPEM\r\n                .replace(&quot;-----BEGIN EC PRIVATE KEY-----&quot;, &quot;&quot;)\r\n                .replace(&quot;-----END EC PRIVATE KEY-----&quot;, &quot;&quot;)\r\n                .replaceAll(&quot;\\n&quot;, &quot;&quot;);\r\n        byte[] privateKeyBytes = org.apache.commons.codec.binary.Base64.decodeBase64(privateKeyPEMTrimmed)\r\n        PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\r\n        return keyFactory.generatePrivate(pkcs8EncodedKeySpec);\r\n    }\r\n```\r\nThe private_key.pem file looks like:\r\n\r\n```none\r\n-----BEGIN EC PRIVATE KEY-----\r\nMHADASDAS265546XCADAP8zAOJPkW7OXTqotoAoGCCqGSM49\r\nAadADASDASDCLKJOI45646asdcasDASDASD122165165D4sdasdsadqDASFAGFAADy\r\nAufttttttttttttttttttttw==\r\n-----END EC PRIVATE KEY-----\r\n```\r\n\r\nWhen I run this code, it returns an error:\r\n\r\n```none\r\njava.security.spec.InvalidKeySpecException: encoded key spec not recognized: unknown object in getInstance: org.bouncycastle.asn1.DEROctetString\r\n\tat org.bouncycastle.jcajce.provider.asymmetric.util.BaseKeyFactorySpi.engineGeneratePrivate(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.asymmetric.ec.KeyFactorySpi.engineGeneratePrivate(Unknown Source)\r\n```\r\n\r\nI have searched methods and one on them is changing the private_key.file to PKCS#8 format format in OpenSSL, I do so and it works without error in this code. However, the result is not equal to tag of the encrypted_data in the decrypt function.  \r\n\r\nThe decrypt function is:\r\n\r\n```\r\npublic static byte[] decrypt(Key key, ShopifyCreditCardMethodData encryptedPayload) throws Exception {\r\n    // Decode the Base64 encoded `encrypted_message` and `tag`\r\n    byte[] ciphertext = Base64.getDecoder().decode(encryptedPayload.getEncrypted_message());\r\n    byte[] mac = Base64.getDecoder().decode(encryptedPayload.getTag());\r\n\r\n    // Compute shared secret using the private key of the certificate and `ephemeral_public_key`\r\n    String s = encryptedPayload.getEphemeral_public_key().replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;)\r\n            .replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;)\r\n            .replaceAll(&quot;\\\\n&quot;, &quot;&quot;);\r\n    byte[] ephemeralPublicKeyBytes = Base64.getDecoder().decode(s);\r\n    X509EncodedKeySpec keySpec = new X509EncodedKeySpec(ephemeralPublicKeyBytes);\r\n    PublicKey ephemeralPublicKey = keyFactory.generatePublic(keySpec);\r\n    KeyAgreement keyAgreement = KeyAgreement.getInstance(&quot;ECDH&quot;, BouncyCastleProvider.PROVIDER_NAME);\r\n    keyAgreement.init((PrivateKey) key);\r\n    keyAgreement.doPhase(ephemeralPublicKey, true);\r\n    byte[] sharedSecret = keyAgreement.generateSecret();\r\n\r\n    // Compute the hmac of decoded `encrypted_message` and ensure it matches the decoded value of `tag`\r\n    Cipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;, BouncyCastleProvider.PROVIDER_NAME);\r\n    MessageDigest macDigest = MessageDigest.getInstance(&quot;SHA-256&quot;, BouncyCastleProvider.PROVIDER_NAME);\r\n    int macLength = macDigest.getDigestLength() / 2;\r\n    byte[] keyPair = hkdf(sharedSecret, cipher.getBlockSize() + macLength, &quot;HmacSHA256&quot;);\r\n    byte[] cipherKey = Arrays.copyOfRange(keyPair, 0, cipher.getBlockSize());\r\n    byte[] hmacKey = Arrays.copyOfRange(keyPair, keyPair.length - macLength, keyPair.length);\r\n    Mac hmac = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n    hmac.init(new SecretKeySpec(hmacKey, &quot;HmacSHA256&quot;));\r\n    byte[] computedMac = Arrays.copyOf(hmac.doFinal(ciphertext), macLength);\r\n    if (!MessageDigest.isEqual(computedMac, mac)) {\r\n        throw new Exception(&quot;Invalid Message Authenticaton Code&quot;);\r\n    }\r\n\r\n    // Decrypt `encrypted_message`\r\n    cipher.init(Cipher.DECRYPT_MODE, new SecretKeySpec(cipherKey, &quot;AES&quot;), new IvParameterSpec(new byte[cipher.getBlockSize()]));\r\n    return cipher.doFinal(ciphertext);\r\n}\r\n\r\npublic static byte[] hkdf(byte[] ikm, int length, String hashAlgorithm, byte[] salt, byte[] info) throws Exception {\r\n    Mac hmac = Mac.getInstance(hashAlgorithm);\r\n    hmac.init(new SecretKeySpec(salt != null ? salt : new byte[hmac.getMacLength()], hashAlgorithm));\r\n    byte[] prk = hmac.doFinal(ikm);\r\n\r\n    byte[] t = new byte[0];\r\n    byte[] okm = new byte[length];\r\n    for (int i = 0; i &lt; Math.ceil((double) length / hmac.getMacLength()); i++) {\r\n        hmac.init(new SecretKeySpec(prk, hashAlgorithm));\r\n        hmac.update(t);\r\n        hmac.update(info);\r\n        hmac.update((byte) (i + 1));\r\n        t = hmac.doFinal();\r\n\r\n        System.arraycopy(t, 0, okm, i * hmac.getMacLength(), Math.min(hmac.getMacLength(), length - i * hmac.getMacLength()));\r\n    }\r\n\r\n    return okm;\r\n}\r\n\r\npublic static byte[] hkdf(byte[] ikm, int length, String hashAlgorithm) throws Exception {\r\n    return hkdf(ikm, length, hashAlgorithm, null, new byte[0]);\r\n}\r\n```\r\n\r\nI am not familiar with the asymmetric encryption system, and I try me best, but I can&#39;t find questions in my Java code with the Ruby code.\r\n","title":"How to genernate a ECIES function in Java?","body":"<p>I am busy in a decryption of encrypted data work.</p>\n<p>Another business provider has provided me with a Private_key.pem file, and then I should use it to decrypt the encrypted data they provided.</p>\n<p>They have provided a demo coding in Ruby to help me do this. It works well in Ruby, but when I want to make it in Java, I find that there is a lot of difficulties.</p>\n<p>The demo in Ruby:</p>\n<pre class=\"lang-rb prettyprint-override\"><code>def decrypt(key, encrypted_data)\n  # Decode the Base64 encoded `encrypted_message` and `tag`\n  ciphertext = Base64.strict_decode64(encrypted_data[:encrypted_message])\n  mac = Base64.strict_decode64(encrypted_data[:tag])\n\n  # Compute shared secret using the private key of the certificate and `ephemeral_public_key`\n  ephemeral_public_key_pem = encrypted_data[:ephemeral_public_key]\n  ephemeral_public_key = OpenSSL::PKey::EC.new(ephemeral_public_key_pem).public_key\n  shared_secret = key.dh_compute_key(ephemeral_public_key)\n\n  # Compute the hmac of decoded `encrypted_message` and ensure it matches the decoded value of `tag`\n  cipher = OpenSSL::Cipher.new('AES-256-CTR')\n  mac_digest = OpenSSL::Digest.new('SHA256')\n  mac_length = mac_digest.digest_length / 2\n  key_pair = OpenSSL::KDF.hkdf(\n    shared_secret,\n    length: cipher.key_len + mac_length,\n    hash: 'SHA256',\n    salt: '',\n    info: ''\n  )\n  cipher_key = key_pair.byteslice(0, cipher.key_len)\n  hmac_key = key_pair.byteslice(-mac_length, mac_length)\n  computed_mac = OpenSSL::HMAC.digest(mac_digest, hmac_key, ciphertext).byteslice(0, mac_length)\n  raise OpenSSL::PKey::ECError, &quot;Invalid Message Authenticaton Code&quot; unless OpenSSL.secure_compare(computed_mac, mac)\n\n  # Decrypt `encrypted_message`\n  cipher.decrypt\n  cipher.iv = (&quot;\\x00&quot; * 16).force_encoding(Encoding::BINARY)\n  cipher.key = cipher_key\n  cipher.update(ciphertext) + cipher.final\nend\n\n# the encrypted data to be decrypted\nencrypted_data = {\n  encrypted_message: &quot;7oeGaIk3Tja5fkyB3P[...]urLyxgW4J9lu2x769+&quot;,\n  ephemeral_public_key: &quot;-----BEGIN PUBLIC KEY-----\\nMEB3wYo[...]HKFkwjQ==\\n-----END PUBLIC KEY-----\\n&quot;,\n  tag: &quot;LDCZ1tbHX8t+KPO9w==&quot;\n}\n# Use `fingerprint` to identify the certificate that's used for encryption\nkey = OpenSSL::PKey::EC.new(File.open('path/to/private-key.file').read)\n# decrypt\ndecrypt(key, encrypted_data)\n</code></pre>\n<p>One of the difficulties is I can't read the private_key.pem properly. The code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static KeyFactory keyFactory;\n    static {\n        if (Security.getProvider(BouncyCastleProvider.PROVIDER_NAME) == null) {\n            Security.addProvider(new BouncyCastleProvider());\n        }\n        try {\n            keyFactory = KeyFactory.getInstance(&quot;EC&quot;, BouncyCastleProvider.PROVIDER_NAME);\n        } catch (NoSuchAlgorithmException | NoSuchProviderException e) {\n        }\n    }\n\n    public static PrivateKey getPrivateKey(String filePath) throws Exception {\n        String privateKeyPEM = new String(Files.readAllBytes(Paths.get(filePath)), StandardCharsets.UTF_8);\n        String privateKeyPEMTrimmed = privateKeyPEM\n                .replace(&quot;-----BEGIN EC PRIVATE KEY-----&quot;, &quot;&quot;)\n                .replace(&quot;-----END EC PRIVATE KEY-----&quot;, &quot;&quot;)\n                .replaceAll(&quot;\\n&quot;, &quot;&quot;);\n        byte[] privateKeyBytes = org.apache.commons.codec.binary.Base64.decodeBase64(privateKeyPEMTrimmed)\n        PKCS8EncodedKeySpec pkcs8EncodedKeySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\n        return keyFactory.generatePrivate(pkcs8EncodedKeySpec);\n    }\n</code></pre>\n<p>The private_key.pem file looks like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-----BEGIN EC PRIVATE KEY-----\nMHADASDAS265546XCADAP8zAOJPkW7OXTqotoAoGCCqGSM49\nAadADASDASDCLKJOI45646asdcasDASDASD122165165D4sdasdsadqDASFAGFAADy\nAufttttttttttttttttttttw==\n-----END EC PRIVATE KEY-----\n</code></pre>\n<p>When I run this code, it returns an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.security.spec.InvalidKeySpecException: encoded key spec not recognized: unknown object in getInstance: org.bouncycastle.asn1.DEROctetString\n    at org.bouncycastle.jcajce.provider.asymmetric.util.BaseKeyFactorySpi.engineGeneratePrivate(Unknown Source)\n    at org.bouncycastle.jcajce.provider.asymmetric.ec.KeyFactorySpi.engineGeneratePrivate(Unknown Source)\n</code></pre>\n<p>I have searched methods and one on them is changing the private_key.file to PKCS#8 format format in OpenSSL, I do so and it works without error in this code. However, the result is not equal to tag of the encrypted_data in the decrypt function.</p>\n<p>The decrypt function is:</p>\n<pre><code>public static byte[] decrypt(Key key, ShopifyCreditCardMethodData encryptedPayload) throws Exception {\n    // Decode the Base64 encoded `encrypted_message` and `tag`\n    byte[] ciphertext = Base64.getDecoder().decode(encryptedPayload.getEncrypted_message());\n    byte[] mac = Base64.getDecoder().decode(encryptedPayload.getTag());\n\n    // Compute shared secret using the private key of the certificate and `ephemeral_public_key`\n    String s = encryptedPayload.getEphemeral_public_key().replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;)\n            .replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;)\n            .replaceAll(&quot;\\\\n&quot;, &quot;&quot;);\n    byte[] ephemeralPublicKeyBytes = Base64.getDecoder().decode(s);\n    X509EncodedKeySpec keySpec = new X509EncodedKeySpec(ephemeralPublicKeyBytes);\n    PublicKey ephemeralPublicKey = keyFactory.generatePublic(keySpec);\n    KeyAgreement keyAgreement = KeyAgreement.getInstance(&quot;ECDH&quot;, BouncyCastleProvider.PROVIDER_NAME);\n    keyAgreement.init((PrivateKey) key);\n    keyAgreement.doPhase(ephemeralPublicKey, true);\n    byte[] sharedSecret = keyAgreement.generateSecret();\n\n    // Compute the hmac of decoded `encrypted_message` and ensure it matches the decoded value of `tag`\n    Cipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;, BouncyCastleProvider.PROVIDER_NAME);\n    MessageDigest macDigest = MessageDigest.getInstance(&quot;SHA-256&quot;, BouncyCastleProvider.PROVIDER_NAME);\n    int macLength = macDigest.getDigestLength() / 2;\n    byte[] keyPair = hkdf(sharedSecret, cipher.getBlockSize() + macLength, &quot;HmacSHA256&quot;);\n    byte[] cipherKey = Arrays.copyOfRange(keyPair, 0, cipher.getBlockSize());\n    byte[] hmacKey = Arrays.copyOfRange(keyPair, keyPair.length - macLength, keyPair.length);\n    Mac hmac = Mac.getInstance(&quot;HmacSHA256&quot;);\n    hmac.init(new SecretKeySpec(hmacKey, &quot;HmacSHA256&quot;));\n    byte[] computedMac = Arrays.copyOf(hmac.doFinal(ciphertext), macLength);\n    if (!MessageDigest.isEqual(computedMac, mac)) {\n        throw new Exception(&quot;Invalid Message Authenticaton Code&quot;);\n    }\n\n    // Decrypt `encrypted_message`\n    cipher.init(Cipher.DECRYPT_MODE, new SecretKeySpec(cipherKey, &quot;AES&quot;), new IvParameterSpec(new byte[cipher.getBlockSize()]));\n    return cipher.doFinal(ciphertext);\n}\n\npublic static byte[] hkdf(byte[] ikm, int length, String hashAlgorithm, byte[] salt, byte[] info) throws Exception {\n    Mac hmac = Mac.getInstance(hashAlgorithm);\n    hmac.init(new SecretKeySpec(salt != null ? salt : new byte[hmac.getMacLength()], hashAlgorithm));\n    byte[] prk = hmac.doFinal(ikm);\n\n    byte[] t = new byte[0];\n    byte[] okm = new byte[length];\n    for (int i = 0; i &lt; Math.ceil((double) length / hmac.getMacLength()); i++) {\n        hmac.init(new SecretKeySpec(prk, hashAlgorithm));\n        hmac.update(t);\n        hmac.update(info);\n        hmac.update((byte) (i + 1));\n        t = hmac.doFinal();\n\n        System.arraycopy(t, 0, okm, i * hmac.getMacLength(), Math.min(hmac.getMacLength(), length - i * hmac.getMacLength()));\n    }\n\n    return okm;\n}\n\npublic static byte[] hkdf(byte[] ikm, int length, String hashAlgorithm) throws Exception {\n    return hkdf(ikm, length, hashAlgorithm, null, new byte[0]);\n}\n</code></pre>\n<p>I am not familiar with the asymmetric encryption system, and I try me best, but I can't find questions in my Java code with the Ruby code.</p>\n"},{"tags":["java","unit-testing","powermock"],"answers":[{"comments":[{"owner":{"account_id":1771096,"reputation":291,"user_id":1615829,"accept_rate":0,"display_name":"sura watthana"},"score":0,"creation_date":1346125009,"post_id":12142046,"comment_id":16260268,"body_markdown":"yes it is supposed to work but when I tried I always got exception below.  I&#39;m wondering if I have set something wrong? `java.lang.NoClassDefFoundError: org/mockito/internal/MockitoInvocationHandler at org.powermock.api.mockito.PowerMockito.mock(PowerMockito.java:138) at ABCTest.finalCouldBeMock(ABCTest.java:17) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source)`","body":"yes it is supposed to work but when I tried I always got exception below.  I&#39;m wondering if I have set something wrong? <code>java.lang.NoClassDefFoundError: org&#47;mockito&#47;internal&#47;MockitoInvocationHandler at org.powermock.api.mockito.PowerMockito.mock(PowerMockito.jav&zwnj;&#8203;a:138) at ABCTest.finalCouldBeMock(ABCTest.java:17) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source)</code>"},{"owner":{"account_id":1744405,"reputation":28870,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"score":0,"creation_date":1346139566,"post_id":12142046,"comment_id":16263787,"body_markdown":"@surawatthana You have to add Mockito in your classpath","body":"@surawatthana You have to add Mockito in your classpath"},{"owner":{"account_id":1771096,"reputation":291,"user_id":1615829,"accept_rate":0,"display_name":"sura watthana"},"score":0,"creation_date":1346145979,"post_id":12142046,"comment_id":16266276,"body_markdown":"Hi Gontard,   How dO I add Mockito in my classpath in Eclipse?","body":"Hi Gontard,   How dO I add Mockito in my classpath in Eclipse?"},{"owner":{"account_id":1744405,"reputation":28870,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"score":0,"creation_date":1346146283,"post_id":12142046,"comment_id":16266409,"body_markdown":"If you are using maven, look [here](http://code.google.com/p/mockito/wiki/MavenUsers) else download [mockito.jar](http://mockito.googlecode.com/files/mockito-all-1.9.5-rc1.jar) then right click on your project -&gt; Build path -&gt; configure build path, librairies tab, add jar (select the downloaded library).","body":"If you are using maven, look <a href=\"http://code.google.com/p/mockito/wiki/MavenUsers\" rel=\"nofollow noreferrer\">here</a> else download <a href=\"http://mockito.googlecode.com/files/mockito-all-1.9.5-rc1.jar\" rel=\"nofollow noreferrer\">mockito.jar</a> then right click on your project -&gt; Build path -&gt; configure build path, librairies tab, add jar (select the downloaded library)."},{"owner":{"account_id":1212966,"reputation":1590,"user_id":1181162,"accept_rate":75,"display_name":"Vince"},"score":8,"creation_date":1400081352,"post_id":12142046,"comment_id":36339981,"body_markdown":"why do you guys always assume static imports are obvious? mentioning that you call PowerMockito.when(...) is quite helpful (even though given the question we can expect you are using PowerMockito)","body":"why do you guys always assume static imports are obvious? mentioning that you call PowerMockito.when(...) is quite helpful (even though given the question we can expect you are using PowerMockito)"},{"owner":{"account_id":1861774,"reputation":197,"user_id":1686246,"display_name":"Oliver Hernandez"},"score":4,"creation_date":1456335496,"post_id":12142046,"comment_id":58902621,"body_markdown":"Also, be sure you&#39;re statically importing `mock()` from `org.powermock.api.mockito.PowerMockito` and not from `org.mockito.Mockito`.  My IDE automatically imported from the latter package, causing an error about not being able to mock final methods.","body":"Also, be sure you&#39;re statically importing <code>mock()</code> from <code>org.powermock.api.mockito.PowerMockito</code> and not from <code>org.mockito.Mockito</code>.  My IDE automatically imported from the latter package, causing an error about not being able to mock final methods."}],"tags":[],"owner":{"account_id":1744405,"reputation":28870,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"comment_count":6,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1400148435,"creation_date":1346070770,"answer_id":12142046,"question_id":12139289,"body_markdown":"This works :\r\n\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(ABC.class)\r\n    public class ABCTest {\r\n    \r\n        @Test\r\n        public void finalCouldBeMock() {\r\n            final ABC abc = PowerMockito.mock(ABC.class);\r\n            PowerMockito.when(abc.myMethod()).thenReturn(&quot;toto&quot;);\r\n            assertEquals(&quot;toto&quot;, abc.myMethod());\r\n        }\r\n    }","title":"Can Powermockito mock final method in non-final concrete class?","body":"<p>This works :</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(ABC.class)\npublic class ABCTest {\n\n    @Test\n    public void finalCouldBeMock() {\n        final ABC abc = PowerMockito.mock(ABC.class);\n        PowerMockito.when(abc.myMethod()).thenReturn(\"toto\");\n        assertEquals(\"toto\", abc.myMethod());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1701965201,"post_id":77614658,"comment_id":136842496,"body_markdown":"Your comment is duplicated with the posted one.","body":"Your comment is duplicated with the posted one."}],"tags":[],"owner":{"account_id":12542716,"reputation":1,"user_id":9127146,"display_name":"arvindsis11"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701878962,"creation_date":1701878843,"answer_id":77614658,"question_id":12139289,"body_markdown":"        @PrepareForTest(Demo.class)\r\n        public class DemoTest {\r\n\r\n            @Rule\r\n            public PowerMockRule rule = new PowerMockRule()\r\n\r\n            @Before\r\n            public void setup(){\r\n            PowerMockAgent.initializeIfNeeded();\r\n            }\r\n            @Test\r\n            public void finalClassMock() {\r\n                final Demo demo = PowerMockito.mock(Demo.class);\r\n                PowerMockito.when(demo.myMethod()).thenReturn(&quot;something&quot;);\r\n                assertEquals(&quot;something&quot;, demo.myMethod());\r\n            }\r\n        }\r\n\r\nor  this way also works thanks `@gontard`","title":"Can Powermockito mock final method in non-final concrete class?","body":"<pre><code>    @PrepareForTest(Demo.class)\n    public class DemoTest {\n\n        @Rule\n        public PowerMockRule rule = new PowerMockRule()\n\n        @Before\n        public void setup(){\n        PowerMockAgent.initializeIfNeeded();\n        }\n        @Test\n        public void finalClassMock() {\n            final Demo demo = PowerMockito.mock(Demo.class);\n            PowerMockito.when(demo.myMethod()).thenReturn(&quot;something&quot;);\n            assertEquals(&quot;something&quot;, demo.myMethod());\n        }\n    }\n</code></pre>\n<p>or  this way also works thanks <code>@gontard</code></p>\n"}],"owner":{"account_id":1771096,"reputation":291,"user_id":1615829,"accept_rate":0,"display_name":"sura watthana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29041,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":2,"score":17,"last_activity_date":1701878962,"creation_date":1346059420,"question_id":12139289,"body_markdown":"Let&#39;s say I have a non-final concrete class with a final method like the one below.\r\n\r\n    public class ABC {\r\n      public final String myMethod(){\r\n          return &quot;test test&quot;;\r\n      }\r\n    }\r\n\r\nis it possible to mock `myMethod()` to return something else when it is called in `junit` using `Powermockito`?  Thank you\r\n\r\n","title":"Can Powermockito mock final method in non-final concrete class?","body":"<p>Let's say I have a non-final concrete class with a final method like the one below.</p>\n\n<pre><code>public class ABC {\n  public final String myMethod(){\n      return \"test test\";\n  }\n}\n</code></pre>\n\n<p>is it possible to mock <code>myMethod()</code> to return something else when it is called in <code>junit</code> using <code>Powermockito</code>?  Thank you</p>\n"},{"tags":["java","spring-boot","jboss","reactive-streams","azure-spring-cloud"],"owner":{"account_id":30082244,"reputation":1,"user_id":23053649,"display_name":"user23053649"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701878740,"creation_date":1701878330,"question_id":77614591,"body_markdown":"I am trying to deploy spring boot app in java 8 on jboss 7.2\r\nI got this error when I am trying to deploy war file into jboss standalone deployments\r\n\r\n\r\n```\r\nError creating bean with name &#39;springCloudAzureDefaultCredential&#39; defined in class path resource [com/azure/spring/cloud/autoconfigure/context/AzureTokenCredentialAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;tokenCredential&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;azureCredentialBuilderFactory&#39; defined in class path resource [com/azure/spring/cloud/autoconfigure/context/AzureTokenCredentialAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.spring.cloud.core.implementation.factory.credential.DefaultAzureCredentialBuilderFactory]: Factory method &#39;azureCredentialBuilderFactory&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/reactivestreams/Publisher\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;azureCredentialBuilderFactory&#39; defined in class path resource [com/azure/spring/cloud/autoconfigure/context/AzureTokenCredentialAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.spring.cloud.core.implementation.factory.credential.DefaultAzureCredentialBuilderFactory]: Factory method &#39;azureCredentialBuilderFactory&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/reactivestreams/Publisher\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.spring.cloud.core.implementation.factory.credential.DefaultAzureCredentialBuilderFactory]: Factory method &#39;azureCredentialBuilderFactory&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/reactivestreams/Publisher\r\n    Caused by: java.lang.NoClassDefFoundError: org/reactivestreams/Publisher\r\n```\r\n\r\nMy pom file looks like this\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud-azure.version&gt;4.6.0&lt;/spring-cloud-azure.version&gt;\r\n\t\t&lt;!--&lt;deploy.wildfly.host&gt;127.0.0.1&lt;/deploy.wildfly.host&gt;\r\n\t\t&lt;deploy.wildfly.port&gt;9990&lt;/deploy.wildfly.port&gt;\r\n\t\t&lt;deploy.wildfly.username&gt;wildfly&lt;/deploy.wildfly.username&gt;\r\n\t\t&lt;deploy.wildfly.password&gt;w1ldFly!&lt;/deploy.wildfly.password&gt; --&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-azure-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-azure-starter-storage&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-azure-starter-storage-file-share&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-azure-starter-storage-blob&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;!--&lt;optional&gt;true&lt;/optional&gt;--&gt;\r\n\t\t\t&lt;version&gt;1.18.30&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud-azure.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;!--&lt;build&gt;\r\n\t\t&lt;finalName&gt;springbootwildfly&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0.2.Final&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;deploy&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;hostname&gt;${deploy.wildfly.host}&lt;/hostname&gt;\r\n\t\t\t\t\t&lt;port&gt;${deploy.wildfly.port}&lt;/port&gt;\r\n\t\t\t\t\t&lt;username&gt;${deploy.wildfly.username}&lt;/username&gt;\r\n\t\t\t\t\t&lt;password&gt;${deploy.wildfly.password}&lt;/password&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;--&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.0.2.Final&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nI tried to add reactivestreams to pom file but it did not work ( versions 1.0.0 and 1.0.4)\r\n\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.reactivestreams&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactive-streams&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nI also tried with azure spring cloud version 4.13.0 because I found that it could be wrong version problem but nothing works\r\n\r\n\r\nThis is dependency tree\r\n```\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.7.3:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.7.3:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:2.7.3:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.3:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.3:compile\r\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\r\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\r\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.30:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.7.3:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.3:compile\r\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.3:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.3:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.3:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.3:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.3:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:5.3.22:compile\r\n[INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.22:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.22:compile\r\n[INFO] |     +- org.springframework:spring-aop:jar:5.3.22:compile\r\n[INFO] |     +- org.springframework:spring-context:jar:5.3.22:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:5.3.22:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.7.3:provided\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.65:provided\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.65:compile\r\n[INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.65:provided\r\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.7.3:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.7.3:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.7.3:test\r\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\r\n[INFO] |  |  +- net.minidev:json-smart:jar:2.4.8:compile\r\n[INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.8:compile\r\n[INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\r\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\r\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n[INFO] |  +- org.assertj:assertj-core:jar:3.22.0:test\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\r\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\r\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\r\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\r\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\r\n[INFO] |  +- org.mockito:mockito-core:jar:4.5.1:test\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.13:compile\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.13:test\r\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\r\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO] |  +- org.springframework:spring-core:jar:5.3.22:compile\r\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.22:compile\r\n[INFO] |  +- org.springframework:spring-test:jar:5.3.22:test\r\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.0:test\r\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:2.7.3:compile\r\n[INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:6.2.4.Final:compile\r\n[INFO] |     +- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\r\n[INFO] |     +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\r\n[INFO] |     \\- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.7.3:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.7.3:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.7.3:compile\r\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:4.0.3:compile\r\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.3.22:compile\r\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\r\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\r\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.6.10.Final:compile\r\n[INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\r\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:compile\r\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\r\n[INFO] |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.6:compile\r\n[INFO] |  |     +- org.glassfish.jaxb:txw2:jar:2.3.6:compile\r\n[INFO] |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\r\n[INFO] |  |     \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.7.2:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:2.7.2:compile\r\n[INFO] |  |  +- org.springframework:spring-orm:jar:5.3.22:compile\r\n[INFO] |  |  \\- org.springframework:spring-tx:jar:5.3.22:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:5.3.22:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-hateoas:jar:2.7.3:compile\r\n[INFO] |  \\- org.springframework.hateoas:spring-hateoas:jar:1.5.1:compile\r\n[INFO] |     \\- org.springframework.plugin:spring-plugin-core:jar:2.0.0.RELEASE:compile\r\n[INFO] +- com.azure.spring:spring-cloud-azure-starter:jar:4.6.0:compile\r\n[INFO] |  \\- com.azure.spring:spring-cloud-azure-autoconfigure:jar:4.6.0:compile\r\n[INFO] |     \\- com.azure.spring:spring-cloud-azure-service:jar:4.6.0:compile\r\n[INFO] |        \\- com.azure.spring:spring-cloud-azure-core:jar:4.6.0:compile\r\n[INFO] |           +- com.azure:azure-identity:jar:1.7.3:compile\r\n[INFO] |           |  +- com.microsoft.azure:msal4j:jar:1.13.3:compile\r\n[INFO] |           |  |  \\- com.nimbusds:oauth2-oidc-sdk:jar:9.35:compile\r\n[INFO] |           |  |     +- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\r\n[INFO] |           |  |     +- com.nimbusds:content-type:jar:2.2:compile\r\n[INFO] |           |  |     +- com.nimbusds:lang-tag:jar:1.6:compile\r\n[INFO] |           |  |     \\- com.nimbusds:nimbus-jose-jwt:jar:9.22:compile\r\n[INFO] |           |  +- com.microsoft.azure:msal4j-persistence-extension:jar:1.1.0:compile\r\n[INFO] |           |  |  \\- net.java.dev.jna:jna:jar:5.5.0:compile\r\n[INFO] |           |  \\- net.java.dev.jna:jna-platform:jar:5.6.0:compile\r\n[INFO] |           +- com.azure:azure-core-amqp:jar:2.8.1:compile\r\n[INFO] |           |  +- com.microsoft.azure:qpid-proton-j-extensions:jar:1.2.4:compile\r\n[INFO] |           |  \\- org.apache.qpid:proton-j:jar:0.33.8:compile\r\n[INFO] |           \\- com.azure:azure-core-management:jar:1.10.0:compile\r\n[INFO] +- com.azure.spring:spring-cloud-azure-starter-storage:jar:4.6.0:compile\r\n[INFO] |  \\- com.azure.spring:spring-cloud-azure-starter-storage-queue:jar:4.6.0:compile\r\n[INFO] |     \\- com.azure:azure-storage-queue:jar:12.15.2:compile\r\n[INFO] +- com.azure.spring:spring-cloud-azure-starter-storage-file-share:jar:4.6.0:compile\r\n[INFO] |  \\- com.azure:azure-storage-file-share:jar:12.16.2:compile\r\n[INFO] |     +- com.azure:azure-core:jar:1.35.0:compile\r\n[INFO] |     |  \\- io.projectreactor:reactor-core:jar:3.4.22:compile\r\n[INFO] |     |     \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n[INFO] |     +- com.azure:azure-core-http-netty:jar:1.12.8:compile\r\n[INFO] |     |  +- io.netty:netty-handler:jar:4.1.79.Final:compile\r\n[INFO] |     |  |  +- io.netty:netty-common:jar:4.1.79.Final:compile\r\n[INFO] |     |  |  +- io.netty:netty-resolver:jar:4.1.79.Final:compile\r\n[INFO] |     |  |  \\- io.netty:netty-transport:jar:4.1.79.Final:compile\r\n[INFO] |     |  +- io.netty:netty-handler-proxy:jar:4.1.79.Final:compile\r\n[INFO] |     |  |  \\- io.netty:netty-codec-socks:jar:4.1.79.Final:compile\r\n[INFO] |     |  +- io.netty:netty-buffer:jar:4.1.79.Final:compile\r\n[INFO] |     |  +- io.netty:netty-codec:jar:4.1.79.Final:compile\r\n[INFO] |     |  +- io.netty:netty-codec-http:jar:4.1.79.Final:compile\r\n[INFO] |     |  +- io.netty:netty-codec-http2:jar:4.1.79.Final:compile\r\n[INFO] |     |  +- io.netty:netty-transport-native-unix-common:jar:4.1.79.Final:compile\r\n[INFO] |     |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.79.Final:compile\r\n[INFO] |     |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.79.Final:compile\r\n[INFO] |     |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.79.Final:compile\r\n[INFO] |     |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.79.Final:compile\r\n[INFO] |     |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.53.Final:compile\r\n[INFO] |     |  |  +- io.netty:netty-tcnative-classes:jar:2.0.53.Final:compile\r\n[INFO] |     |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-x86_64:2.0.53.Final:compile\r\n[INFO] |     |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-aarch_64:2.0.53.Final:compile\r\n[INFO] |     |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-x86_64:2.0.53.Final:compile\r\n[INFO] |     |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-aarch_64:2.0.53.Final:compile\r\n[INFO] |     |  |  \\- io.netty:netty-tcnative-boringssl-static:jar:windows-x86_64:2.0.53.Final:compile\r\n[INFO] |     |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.22:compile\r\n[INFO] |     |     +- io.netty:netty-resolver-dns:jar:4.1.79.Final:compile\r\n[INFO] |     |     |  \\- io.netty:netty-codec-dns:jar:4.1.79.Final:compile\r\n[INFO] |     |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.79.Final:compile\r\n[INFO] |     |     |  \\- io.netty:netty-resolver-dns-classes-macos:jar:4.1.79.Final:compile\r\n[INFO] |     |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.22:compile\r\n[INFO] |     +- com.azure:azure-storage-common:jar:12.19.2:compile\r\n[INFO] |     +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.3:compile\r\n[INFO] |     |  \\- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n[INFO] |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\r\n[INFO] +- com.azure.spring:spring-cloud-azure-starter-storage-blob:jar:4.6.0:compile\r\n[INFO] |  \\- com.azure:azure-storage-blob:jar:12.20.2:compile\r\n[INFO] |     \\- com.azure:azure-storage-internal-avro:jar:12.5.2:compile\r\n[INFO] +- com.h2database:h2:jar:2.1.214:runtime\r\n[INFO] +- org.projectlombok:lombok:jar:1.18.30:provided\r\n[INFO] \\- com.google.code.gson:gson:jar:2.9.0:compile\r\n```","title":"java spring boot app deployment on jboss 7.2 error: nested exception is java.lang.NoClassDefFoundError: org/reactivestreams/Publisher","body":"<p>I am trying to deploy spring boot app in java 8 on jboss 7.2\nI got this error when I am trying to deploy war file into jboss standalone deployments</p>\n<pre><code>Error creating bean with name 'springCloudAzureDefaultCredential' defined in class path resource [com/azure/spring/cloud/autoconfigure/context/AzureTokenCredentialAutoConfiguration.class]: Unsatisfied dependency expressed through method 'tokenCredential' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'azureCredentialBuilderFactory' defined in class path resource [com/azure/spring/cloud/autoconfigure/context/AzureTokenCredentialAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.spring.cloud.core.implementation.factory.credential.DefaultAzureCredentialBuilderFactory]: Factory method 'azureCredentialBuilderFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: org/reactivestreams/Publisher\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'azureCredentialBuilderFactory' defined in class path resource [com/azure/spring/cloud/autoconfigure/context/AzureTokenCredentialAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.spring.cloud.core.implementation.factory.credential.DefaultAzureCredentialBuilderFactory]: Factory method 'azureCredentialBuilderFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: org/reactivestreams/Publisher\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.spring.cloud.core.implementation.factory.credential.DefaultAzureCredentialBuilderFactory]: Factory method 'azureCredentialBuilderFactory' threw exception; nested exception is java.lang.NoClassDefFoundError: org/reactivestreams/Publisher\n    Caused by: java.lang.NoClassDefFoundError: org/reactivestreams/Publisher\n</code></pre>\n<p>My pom file looks like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud-azure.version&gt;4.6.0&lt;/spring-cloud-azure.version&gt;\n        &lt;!--&lt;deploy.wildfly.host&gt;127.0.0.1&lt;/deploy.wildfly.host&gt;\n        &lt;deploy.wildfly.port&gt;9990&lt;/deploy.wildfly.port&gt;\n        &lt;deploy.wildfly.username&gt;wildfly&lt;/deploy.wildfly.username&gt;\n        &lt;deploy.wildfly.password&gt;w1ldFly!&lt;/deploy.wildfly.password&gt; --&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            \n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-storage&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-storage-file-share&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-storage-blob&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;!--&lt;optional&gt;true&lt;/optional&gt;--&gt;\n            &lt;version&gt;1.18.30&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-azure.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;!--&lt;build&gt;\n        &lt;finalName&gt;springbootwildfly&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.0.2.Final&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;deploy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;hostname&gt;${deploy.wildfly.host}&lt;/hostname&gt;\n                    &lt;port&gt;${deploy.wildfly.port}&lt;/port&gt;\n                    &lt;username&gt;${deploy.wildfly.username}&lt;/username&gt;\n                    &lt;password&gt;${deploy.wildfly.password}&lt;/password&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;--&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.0.2.Final&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I tried to add reactivestreams to pom file but it did not work ( versions 1.0.0 and 1.0.4)</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.reactivestreams&lt;/groupId&gt;\n            &lt;artifactId&gt;reactive-streams&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I also tried with azure spring cloud version 4.13.0 because I found that it could be wrong version problem but nothing works</p>\n<p>This is dependency tree</p>\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.7.3:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.7.3:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:2.7.3:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.3:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.3:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.30:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.7.3:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.3:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.3:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.3:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.3:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.3:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.3:compile\n[INFO] |  +- org.springframework:spring-web:jar:5.3.22:compile\n[INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.22:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.22:compile\n[INFO] |     +- org.springframework:spring-aop:jar:5.3.22:compile\n[INFO] |     +- org.springframework:spring-context:jar:5.3.22:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:5.3.22:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.7.3:provided\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.65:provided\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.65:compile\n[INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.65:provided\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.7.3:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.7.3:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.7.3:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\n[INFO] |  |  +- net.minidev:json-smart:jar:2.4.8:compile\n[INFO] |  |  |  \\- net.minidev:accessors-smart:jar:2.4.8:compile\n[INFO] |  |  |     \\- org.ow2.asm:asm:jar:9.1:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.22.0:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.8.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.8.2:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.8.2:test\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.8.2:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.8.2:test\n[INFO] |  +- org.mockito:mockito-core:jar:4.5.1:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.13:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.13:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.5.1:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-core:jar:5.3.22:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.22:compile\n[INFO] |  +- org.springframework:spring-test:jar:5.3.22:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.0:test\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:2.7.3:compile\n[INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:6.2.4.Final:compile\n[INFO] |     +- jakarta.validation:jakarta.validation-api:jar:2.0.2:compile\n[INFO] |     +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\n[INFO] |     \\- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.7.3:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.7.3:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.7.3:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:4.0.3:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.3.22:compile\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.6.10.Final:compile\n[INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:compile\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\n[INFO] |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.6:compile\n[INFO] |  |     +- org.glassfish.jaxb:txw2:jar:2.3.6:compile\n[INFO] |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\n[INFO] |  |     \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.7.2:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:2.7.2:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:5.3.22:compile\n[INFO] |  |  \\- org.springframework:spring-tx:jar:5.3.22:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:5.3.22:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-hateoas:jar:2.7.3:compile\n[INFO] |  \\- org.springframework.hateoas:spring-hateoas:jar:1.5.1:compile\n[INFO] |     \\- org.springframework.plugin:spring-plugin-core:jar:2.0.0.RELEASE:compile\n[INFO] +- com.azure.spring:spring-cloud-azure-starter:jar:4.6.0:compile\n[INFO] |  \\- com.azure.spring:spring-cloud-azure-autoconfigure:jar:4.6.0:compile\n[INFO] |     \\- com.azure.spring:spring-cloud-azure-service:jar:4.6.0:compile\n[INFO] |        \\- com.azure.spring:spring-cloud-azure-core:jar:4.6.0:compile\n[INFO] |           +- com.azure:azure-identity:jar:1.7.3:compile\n[INFO] |           |  +- com.microsoft.azure:msal4j:jar:1.13.3:compile\n[INFO] |           |  |  \\- com.nimbusds:oauth2-oidc-sdk:jar:9.35:compile\n[INFO] |           |  |     +- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\n[INFO] |           |  |     +- com.nimbusds:content-type:jar:2.2:compile\n[INFO] |           |  |     +- com.nimbusds:lang-tag:jar:1.6:compile\n[INFO] |           |  |     \\- com.nimbusds:nimbus-jose-jwt:jar:9.22:compile\n[INFO] |           |  +- com.microsoft.azure:msal4j-persistence-extension:jar:1.1.0:compile\n[INFO] |           |  |  \\- net.java.dev.jna:jna:jar:5.5.0:compile\n[INFO] |           |  \\- net.java.dev.jna:jna-platform:jar:5.6.0:compile\n[INFO] |           +- com.azure:azure-core-amqp:jar:2.8.1:compile\n[INFO] |           |  +- com.microsoft.azure:qpid-proton-j-extensions:jar:1.2.4:compile\n[INFO] |           |  \\- org.apache.qpid:proton-j:jar:0.33.8:compile\n[INFO] |           \\- com.azure:azure-core-management:jar:1.10.0:compile\n[INFO] +- com.azure.spring:spring-cloud-azure-starter-storage:jar:4.6.0:compile\n[INFO] |  \\- com.azure.spring:spring-cloud-azure-starter-storage-queue:jar:4.6.0:compile\n[INFO] |     \\- com.azure:azure-storage-queue:jar:12.15.2:compile\n[INFO] +- com.azure.spring:spring-cloud-azure-starter-storage-file-share:jar:4.6.0:compile\n[INFO] |  \\- com.azure:azure-storage-file-share:jar:12.16.2:compile\n[INFO] |     +- com.azure:azure-core:jar:1.35.0:compile\n[INFO] |     |  \\- io.projectreactor:reactor-core:jar:3.4.22:compile\n[INFO] |     |     \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] |     +- com.azure:azure-core-http-netty:jar:1.12.8:compile\n[INFO] |     |  +- io.netty:netty-handler:jar:4.1.79.Final:compile\n[INFO] |     |  |  +- io.netty:netty-common:jar:4.1.79.Final:compile\n[INFO] |     |  |  +- io.netty:netty-resolver:jar:4.1.79.Final:compile\n[INFO] |     |  |  \\- io.netty:netty-transport:jar:4.1.79.Final:compile\n[INFO] |     |  +- io.netty:netty-handler-proxy:jar:4.1.79.Final:compile\n[INFO] |     |  |  \\- io.netty:netty-codec-socks:jar:4.1.79.Final:compile\n[INFO] |     |  +- io.netty:netty-buffer:jar:4.1.79.Final:compile\n[INFO] |     |  +- io.netty:netty-codec:jar:4.1.79.Final:compile\n[INFO] |     |  +- io.netty:netty-codec-http:jar:4.1.79.Final:compile\n[INFO] |     |  +- io.netty:netty-codec-http2:jar:4.1.79.Final:compile\n[INFO] |     |  +- io.netty:netty-transport-native-unix-common:jar:4.1.79.Final:compile\n[INFO] |     |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.79.Final:compile\n[INFO] |     |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.79.Final:compile\n[INFO] |     |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.79.Final:compile\n[INFO] |     |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.79.Final:compile\n[INFO] |     |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.53.Final:compile\n[INFO] |     |  |  +- io.netty:netty-tcnative-classes:jar:2.0.53.Final:compile\n[INFO] |     |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-x86_64:2.0.53.Final:compile\n[INFO] |     |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-aarch_64:2.0.53.Final:compile\n[INFO] |     |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-x86_64:2.0.53.Final:compile\n[INFO] |     |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-aarch_64:2.0.53.Final:compile\n[INFO] |     |  |  \\- io.netty:netty-tcnative-boringssl-static:jar:windows-x86_64:2.0.53.Final:compile\n[INFO] |     |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.22:compile\n[INFO] |     |     +- io.netty:netty-resolver-dns:jar:4.1.79.Final:compile\n[INFO] |     |     |  \\- io.netty:netty-codec-dns:jar:4.1.79.Final:compile\n[INFO] |     |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.79.Final:compile\n[INFO] |     |     |  \\- io.netty:netty-resolver-dns-classes-macos:jar:4.1.79.Final:compile\n[INFO] |     |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.22:compile\n[INFO] |     +- com.azure:azure-storage-common:jar:12.19.2:compile\n[INFO] |     +- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.13.3:compile\n[INFO] |     |  \\- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.4.0:compile\n[INFO] +- com.azure.spring:spring-cloud-azure-starter-storage-blob:jar:4.6.0:compile\n[INFO] |  \\- com.azure:azure-storage-blob:jar:12.20.2:compile\n[INFO] |     \\- com.azure:azure-storage-internal-avro:jar:12.5.2:compile\n[INFO] +- com.h2database:h2:jar:2.1.214:runtime\n[INFO] +- org.projectlombok:lombok:jar:1.18.30:provided\n[INFO] \\- com.google.code.gson:gson:jar:2.9.0:compile\n</code></pre>\n"},{"tags":["java","macos","native","errno","project-panama"],"answers":[{"comments":[{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1664117913,"post_id":73843641,"comment_id":130393155,"body_markdown":"The problem with strerror is that it requires having errno to start with!","body":"The problem with strerror is that it requires having errno to start with!"}],"tags":[],"owner":{"account_id":3103168,"reputation":3580,"user_id":2626737,"display_name":"kakaiikaka"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664100359,"creation_date":1664100359,"answer_id":73843641,"question_id":73841450,"body_markdown":"Ah, the function you looked for is called `strerror`, which can map error codes(`errno`) to strings.\r\n\r\nBased on [Apple Documentation][1]. Error messages are set in the `errno` variable:\r\n&gt; When a system call detects an error, it returns an integer value indicat-ing indicating\r\n     ing failure (usually -1) and sets the variable errno accordingly.  &lt;This\r\n     allows interpretation of the failure on receiving a -1 and to take action\r\n     accordingly.&gt; Successful calls never set errno; once set, it remains\r\n     until another error occurs.  It should only be examined after an error.\r\n\r\n    #include &lt;string.h&gt; //header for strerror\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;sys/errno.h&gt; //Header for error enumerations.\r\n\r\n    int main(int argc, const char * argv[]) {\r\n    \r\n      //taking &quot;EPERM&quot; as an errno example\r\n      int eperm = EPERM;\r\n    \r\n      char * errStr = strerror(eperm);\r\n    \r\n      printf(&quot;%s\\n&quot;, errStr);//prints &#39;Operation not permitted&#39;\r\n    \r\n      return 0;\r\n    }\r\n\r\nSo try `strerror` to convert `errno` to error message string \r\n\r\n\r\n  [1]: https://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man2/intro.2.html","title":"Obtain the native value of errno from Java in macOS","body":"<p>Ah, the function you looked for is called <code>strerror</code>, which can map error codes(<code>errno</code>) to strings.</p>\n<p>Based on <a href=\"https://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man2/intro.2.html\" rel=\"nofollow noreferrer\">Apple Documentation</a>. Error messages are set in the <code>errno</code> variable:</p>\n<blockquote>\n<p>When a system call detects an error, it returns an integer value indicat-ing indicating\ning failure (usually -1) and sets the variable errno accordingly.  &lt;This\nallows interpretation of the failure on receiving a -1 and to take action\naccordingly.&gt; Successful calls never set errno; once set, it remains\nuntil another error occurs.  It should only be examined after an error.</p>\n</blockquote>\n<pre><code>#include &lt;string.h&gt; //header for strerror\n#include &lt;stdio.h&gt;\n#include &lt;sys/errno.h&gt; //Header for error enumerations.\n\nint main(int argc, const char * argv[]) {\n\n  //taking &quot;EPERM&quot; as an errno example\n  int eperm = EPERM;\n\n  char * errStr = strerror(eperm);\n\n  printf(&quot;%s\\n&quot;, errStr);//prints 'Operation not permitted'\n\n  return 0;\n}\n</code></pre>\n<p>So try <code>strerror</code> to convert <code>errno</code> to error message string</p>\n"},{"comments":[{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1664137056,"post_id":73844938,"comment_id":130397120,"body_markdown":"This works!  Bonus points for the code suggestion for the wrapper method!","body":"This works!  Bonus points for the code suggestion for the wrapper method!"}],"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664113123,"creation_date":1664113123,"answer_id":73844938,"question_id":73841450,"body_markdown":"I don&#39;t have access to a mac to test this, but if this source is accurate: https://opensource.apple.com/source/xnu/xnu-4570.41.2/bsd/sys/errno.h.auto.html\r\n\r\nThen `errno` is a macro defined like so:\r\n\r\n    __BEGIN_DECLS\r\n    extern int * __error(void);\r\n    #define errno (*__error())\r\n    __END_DECLS\r\n\r\nIt&#39;s a call to a function that returns an `int*` that points to the `errno` value.\r\n\r\nSo, to access it from Java this should work:\r\n\r\n    static final MethodHandle __error = Linker.nativeLinker()\r\n        .downcallHandle(SYSTEM_LIBRARY.lookup(&quot;__error&quot;).orElseThrow(),\r\n                FunctionDescriptor.of(ValueLayout.ADDRESS));\r\n\r\n    static int errno() {\r\n        try {\r\n            MemoryAddress addr = (MemoryAddress) __error.invokeExact();\r\n            return addr.get(ValueLayout.JAVA_INT, 0);\r\n        } catch (Throwable t) {\r\n            throw new RuntimeException(t);\r\n        }\r\n    }\r\n\r\n---\r\n\r\nBe aware that at the moment (JDK 19) this is not a 100% reliable way to access `errno`, since the VM might block somewhere and override `errno` with its own system calls before the value can be read.\r\n\r\nWe&#39;ve been discussing ways to make it more reliable to access `errno` and other thread-locals that the VM can overwrite. At the same time, that should also make it much easier to access the value.","title":"Obtain the native value of errno from Java in macOS","body":"<p>I don't have access to a mac to test this, but if this source is accurate: <a href=\"https://opensource.apple.com/source/xnu/xnu-4570.41.2/bsd/sys/errno.h.auto.html\" rel=\"nofollow noreferrer\">https://opensource.apple.com/source/xnu/xnu-4570.41.2/bsd/sys/errno.h.auto.html</a></p>\n<p>Then <code>errno</code> is a macro defined like so:</p>\n<pre><code>__BEGIN_DECLS\nextern int * __error(void);\n#define errno (*__error())\n__END_DECLS\n</code></pre>\n<p>It's a call to a function that returns an <code>int*</code> that points to the <code>errno</code> value.</p>\n<p>So, to access it from Java this should work:</p>\n<pre><code>static final MethodHandle __error = Linker.nativeLinker()\n    .downcallHandle(SYSTEM_LIBRARY.lookup(&quot;__error&quot;).orElseThrow(),\n            FunctionDescriptor.of(ValueLayout.ADDRESS));\n\nstatic int errno() {\n    try {\n        MemoryAddress addr = (MemoryAddress) __error.invokeExact();\n        return addr.get(ValueLayout.JAVA_INT, 0);\n    } catch (Throwable t) {\n        throw new RuntimeException(t);\n    }\n}\n</code></pre>\n<hr />\n<p>Be aware that at the moment (JDK 19) this is not a 100% reliable way to access <code>errno</code>, since the VM might block somewhere and override <code>errno</code> with its own system calls before the value can be read.</p>\n<p>We've been discussing ways to make it more reliable to access <code>errno</code> and other thread-locals that the VM can overwrite. At the same time, that should also make it much easier to access the value.</p>\n"},{"tags":[],"owner":{"account_id":25202058,"reputation":11,"user_id":19040822,"display_name":"Johannes Bechberger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701878722,"creation_date":1701779448,"answer_id":77606202,"question_id":73841450,"body_markdown":"There is a recommended alternative for JDK 21+, that is mentioned in the documentation of the [Linker class](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/Linker.Option.html#captureCallState(java.lang.String...)):\r\n\r\n```java\r\ntry (var confinedArena = Arena.ofConfined()) {\r\n\r\n    // SYSTEM_LIBRARY doesn&#39;t exist anymore\r\n    Function&lt;String, MemorySegment&gt; lookup = symbol -&gt;\r\n            Linker.nativeLinker().defaultLookup().find(symbol)\r\n                    .or(() -&gt; SymbolLookup.loaderLookup().find(symbol)).orElseThrow();\r\n\r\n    // declare the errno as state to be captured, directly after the downcall without any interence of the\r\n    // JVM runtime\r\n    StructLayout capturedStateLayout = Linker.Option.captureStateLayout();\r\n    VarHandle errnoHandle = capturedStateLayout.varHandle(MemoryLayout.PathElement.groupElement(&quot;errno&quot;));\r\n    Linker.Option ccs = Linker.Option.captureCallState(&quot;errno&quot;);\r\n\r\n    MethodHandle sysctl = Linker.nativeLinker().downcallHandle(\r\n            lookup.apply(&quot;sysctl&quot;), FunctionDescriptor.of(ValueLayout.JAVA_INT,\r\n                    ValueLayout.ADDRESS, ValueLayout.JAVA_INT, ValueLayout.ADDRESS, ValueLayout.ADDRESS,\r\n                    ValueLayout.ADDRESS, ValueLayout.JAVA_LONG), ccs);\r\n\r\n    MemorySegment capturedState = confinedArena.allocate(capturedStateLayout);\r\n    try {\r\n        int result = (int) sysctl.invoke(capturedState, ...);\r\n        int errno = (int) errnoHandle.get(capturedState);\r\n    } catch (Throwable e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nTo then get the error String, you can call the strerror function:\r\n\r\n```java\r\nString errnoString(int errno){\r\n    AddressLayout POINTER = ValueLayout.ADDRESS.withTargetLayout(MemoryLayout.sequenceLayout(JAVA_BYTE));\r\n    MethodHandle strerror = Linker.nativeLinker()\r\n            .downcallHandle(lookup(&quot;strerror&quot;),\r\n                    FunctionDescriptor.of(POINTER, ValueLayout.JAVA_INT));\r\n    try {\r\n        MemorySegment str = (MemorySegment) strerror.invokeExact(errno);\r\n        System.out.println(str);\r\n        return str.getUtf8String(0);\r\n    } catch (Throwable t) {\r\n        throw new RuntimeException(t);\r\n    }\r\n}\r\n```","title":"Obtain the native value of errno from Java in macOS","body":"<p>There is a recommended alternative for JDK 21+, that is mentioned in the documentation of the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/Linker.Option.html#captureCallState(java.lang.String...)\" rel=\"nofollow noreferrer\">Linker class</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var confinedArena = Arena.ofConfined()) {\n\n    // SYSTEM_LIBRARY doesn't exist anymore\n    Function&lt;String, MemorySegment&gt; lookup = symbol -&gt;\n            Linker.nativeLinker().defaultLookup().find(symbol)\n                    .or(() -&gt; SymbolLookup.loaderLookup().find(symbol)).orElseThrow();\n\n    // declare the errno as state to be captured, directly after the downcall without any interence of the\n    // JVM runtime\n    StructLayout capturedStateLayout = Linker.Option.captureStateLayout();\n    VarHandle errnoHandle = capturedStateLayout.varHandle(MemoryLayout.PathElement.groupElement(&quot;errno&quot;));\n    Linker.Option ccs = Linker.Option.captureCallState(&quot;errno&quot;);\n\n    MethodHandle sysctl = Linker.nativeLinker().downcallHandle(\n            lookup.apply(&quot;sysctl&quot;), FunctionDescriptor.of(ValueLayout.JAVA_INT,\n                    ValueLayout.ADDRESS, ValueLayout.JAVA_INT, ValueLayout.ADDRESS, ValueLayout.ADDRESS,\n                    ValueLayout.ADDRESS, ValueLayout.JAVA_LONG), ccs);\n\n    MemorySegment capturedState = confinedArena.allocate(capturedStateLayout);\n    try {\n        int result = (int) sysctl.invoke(capturedState, ...);\n        int errno = (int) errnoHandle.get(capturedState);\n    } catch (Throwable e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>To then get the error String, you can call the strerror function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String errnoString(int errno){\n    AddressLayout POINTER = ValueLayout.ADDRESS.withTargetLayout(MemoryLayout.sequenceLayout(JAVA_BYTE));\n    MethodHandle strerror = Linker.nativeLinker()\n            .downcallHandle(lookup(&quot;strerror&quot;),\n                    FunctionDescriptor.of(POINTER, ValueLayout.JAVA_INT));\n    try {\n        MemorySegment str = (MemorySegment) strerror.invokeExact(errno);\n        System.out.println(str);\n        return str.getUtf8String(0);\n    } catch (Throwable t) {\n        throw new RuntimeException(t);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73844938,"answer_count":3,"score":1,"last_activity_date":1701878722,"creation_date":1664067144,"question_id":73841450,"body_markdown":"I&#39;m porting my JNA-based library to &quot;pure&quot; Java using the Foreign Function and Memory API ([JEP 424][1]) in JDK 19.\r\n\r\nI&#39;ve successfully implemented the `sysctl()` function and am fetching values using:\r\n```java\r\npublic static MethodHandle sysctl = Linker.nativeLinker().downcallHandle(\r\n        SYSTEM_LIBRARY.lookup(&quot;sysctl&quot;).orElseThrow(), FunctionDescriptor.of(ValueLayout.JAVA_INT,\r\n                ValueLayout.ADDRESS, ValueLayout.JAVA_INT, ValueLayout.ADDRESS, ValueLayout.ADDRESS,\r\n                ValueLayout.ADDRESS, ValueLayout.JAVA_LONG));\r\n```\r\nIn the process of debugging before getting this working, I was occasionally getting a -1 return value:\r\n&gt; Upon successful completion, the value 0 is returned; otherwise the value -1 is returned and the global variable errno is set to indicate the error.\r\n\r\nIn JNA, this is easily obtainable using `Native.getLastError()`.  [This answer][2] shows how I could write code in JNI to fetch it, but the whole point of JEP 424 is to remove the need for JNA or JNI.\r\n\r\nThe Windows API has a helpful [GetLastError][3] function that can be mapped, as demonstrated in [this test in the JDK][4]\r\n\r\nHowever, I was unable to find any native function on macOS that I could map to return `errno`.  The closest I have found is `perror()` which prints the error to STDERR:\r\n```java\r\npublic static MethodHandle perror = Linker.nativeLinker()\r\n        .downcallHandle(SYSTEM_LIBRARY.lookup(&quot;perror&quot;).orElseThrow(),\r\n                FunctionDescriptor.of(ValueLayout.ADDRESS, ValueLayout.ADDRESS));\r\n```\r\nWhile output to STDERR was helpful in the near term, I&#39;d like to use this value for exception handling/error messages.\r\n\r\nThis seems a common enough use case that there should be a method in the JDK for it, but I can&#39;t find it.\r\n\r\nAny ideas other than temporarily redirecting STDERR into a string I can parse?\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/424\r\n  [2]: https://stackoverflow.com/a/60252588/1161484\r\n  [3]: https://learn.microsoft.com/en-us/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror\r\n  [4]: https://github.com/openjdk/jdk/blob/master/test/jdk/com/sun/jdi/JdbLastErrorTest.java\r\n","title":"Obtain the native value of errno from Java in macOS","body":"<p>I'm porting my JNA-based library to &quot;pure&quot; Java using the Foreign Function and Memory API (<a href=\"https://openjdk.org/jeps/424\" rel=\"nofollow noreferrer\">JEP 424</a>) in JDK 19.</p>\n<p>I've successfully implemented the <code>sysctl()</code> function and am fetching values using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static MethodHandle sysctl = Linker.nativeLinker().downcallHandle(\n        SYSTEM_LIBRARY.lookup(&quot;sysctl&quot;).orElseThrow(), FunctionDescriptor.of(ValueLayout.JAVA_INT,\n                ValueLayout.ADDRESS, ValueLayout.JAVA_INT, ValueLayout.ADDRESS, ValueLayout.ADDRESS,\n                ValueLayout.ADDRESS, ValueLayout.JAVA_LONG));\n</code></pre>\n<p>In the process of debugging before getting this working, I was occasionally getting a -1 return value:</p>\n<blockquote>\n<p>Upon successful completion, the value 0 is returned; otherwise the value -1 is returned and the global variable errno is set to indicate the error.</p>\n</blockquote>\n<p>In JNA, this is easily obtainable using <code>Native.getLastError()</code>.  <a href=\"https://stackoverflow.com/a/60252588/1161484\">This answer</a> shows how I could write code in JNI to fetch it, but the whole point of JEP 424 is to remove the need for JNA or JNI.</p>\n<p>The Windows API has a helpful <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror\" rel=\"nofollow noreferrer\">GetLastError</a> function that can be mapped, as demonstrated in <a href=\"https://github.com/openjdk/jdk/blob/master/test/jdk/com/sun/jdi/JdbLastErrorTest.java\" rel=\"nofollow noreferrer\">this test in the JDK</a></p>\n<p>However, I was unable to find any native function on macOS that I could map to return <code>errno</code>.  The closest I have found is <code>perror()</code> which prints the error to STDERR:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static MethodHandle perror = Linker.nativeLinker()\n        .downcallHandle(SYSTEM_LIBRARY.lookup(&quot;perror&quot;).orElseThrow(),\n                FunctionDescriptor.of(ValueLayout.ADDRESS, ValueLayout.ADDRESS));\n</code></pre>\n<p>While output to STDERR was helpful in the near term, I'd like to use this value for exception handling/error messages.</p>\n<p>This seems a common enough use case that there should be a method in the JDK for it, but I can't find it.</p>\n<p>Any ideas other than temporarily redirecting STDERR into a string I can parse?</p>\n"},{"tags":["java","elasticsearch","log4j"],"comments":[{"owner":{"account_id":5748671,"reputation":347,"user_id":4539129,"accept_rate":44,"display_name":"Mehul Parmar"},"score":0,"creation_date":1663259298,"post_id":55541336,"comment_id":130202647,"body_markdown":"What is the solution for this @lavan-giri","body":"What is the solution for this @lavan-giri"}],"answers":[{"tags":[],"owner":{"account_id":1527660,"reputation":2400,"user_id":1579915,"display_name":"dr0i"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554493953,"creation_date":1554493953,"answer_id":55542486,"question_id":55541336,"body_markdown":"Please check the Log4j dependency that you have on the classpath. For elasticsearch 5.4.x you need Log4j 2.8.2 (api and core), not 2.3. See https://www.elastic.co/guide/en/elasticsearch/client/java-api/5.4/_log4j_2_logger.html\r\n","title":"How to fix &quot;NoSuchMethodError&quot; error in log4j","body":"<p>Please check the Log4j dependency that you have on the classpath. For elasticsearch 5.4.x you need Log4j 2.8.2 (api and core), not 2.3. See <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api/5.4/_log4j_2_logger.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api/5.4/_log4j_2_logger.html</a></p>\n"}],"owner":{"account_id":13374058,"reputation":83,"user_id":9651422,"display_name":"Lavan Giri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19801,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701878715,"creation_date":1554488576,"question_id":55541336,"body_markdown":"I&#39;m developing a java application which uses elasticsearch. I use elasticsearch api in java. I&#39;m getting NoSuchMethodError error:\r\n\r\n&gt; java.lang.NoSuchMethodError:\r\n&gt; org.apache.logging.log4j.Logger.trace(Ljava/lang/String;Ljava/lang/Object;)V\r\n\r\nI have included my pom file\r\n\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;transport&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.4.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.4.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;3.2.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;1.10&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;3.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"How to fix &quot;NoSuchMethodError&quot; error in log4j","body":"<p>I'm developing a java application which uses elasticsearch. I use elasticsearch api in java. I'm getting NoSuchMethodError error:</p>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError:\n  org.apache.logging.log4j.Logger.trace(Ljava/lang/String;Ljava/lang/Object;)V</p>\n</blockquote>\n\n<p>I have included my pom file</p>\n\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n        &lt;artifactId&gt;transport&lt;/artifactId&gt;\n        &lt;version&gt;5.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n        &lt;version&gt;5.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n        &lt;version&gt;1.10&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","xml","newline"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1344096745,"post_id":11810040,"comment_id":15695352,"body_markdown":"Hmm... it has a line break on my machine...","body":"Hmm... it has a line break on my machine..."},{"owner":{"account_id":1571548,"reputation":1330,"user_id":1459148,"accept_rate":75,"display_name":"perak"},"score":0,"creation_date":1344096941,"post_id":11810040,"comment_id":15695406,"body_markdown":"I am using Java 7, what about you?","body":"I am using Java 7, what about you?"},{"owner":{"account_id":1489010,"reputation":7802,"user_id":1396594,"accept_rate":67,"display_name":"exexzian"},"score":0,"creation_date":1344096998,"post_id":11810040,"comment_id":15695425,"body_markdown":"You want output like this - \n&lt;!-- DO NOT EDIT THIS FILE --&gt;\n&lt;projects/&gt;\n??","body":"You want output like this -  &lt;!-- DO NOT EDIT THIS FILE --&gt; &lt;projects/&gt; ??"},{"owner":{"account_id":1571548,"reputation":1330,"user_id":1459148,"accept_rate":75,"display_name":"perak"},"score":0,"creation_date":1344097065,"post_id":11810040,"comment_id":15695438,"body_markdown":"I want the &lt;projects/&gt; to be printed below &lt;!-- DO NOT EDIT THIS FILE --&gt;","body":"I want the &lt;projects/&gt; to be printed below &lt;!-- DO NOT EDIT THIS FILE --&gt;"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1344101145,"post_id":11810040,"comment_id":15696242,"body_markdown":"I had the same result, both for comments and processing instructions. Hence one would need a small stylesheet to output a newline after any comment. Certainly there exist pretty-print style sheets.","body":"I had the same result, both for comments and processing instructions. Hence one would need a small stylesheet to output a newline after any comment. Certainly there exist pretty-print style sheets."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1596869618,"post_id":11810040,"comment_id":111954588,"body_markdown":"Why? Line breaks aren&#39;t significant in XML. Have you considered making the file read-only?","body":"Why? Line breaks aren&#39;t significant in XML. Have you considered making the file read-only?"},{"owner":{"account_id":26988043,"reputation":101,"user_id":20551381,"display_name":"MZM"},"score":0,"creation_date":1669821178,"post_id":11810040,"comment_id":131730875,"body_markdown":"best left up to the viewer software, based on whether it&#39;s a linux or windows machine to format xml (markup) language.","body":"best left up to the viewer software, based on whether it&#39;s a linux or windows machine to format xml (markup) language."}],"answers":[{"tags":[],"owner":{"account_id":70478,"reputation":983,"user_id":204343,"display_name":"Bill Barnhill"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344099937,"creation_date":1344099937,"answer_id":11810419,"question_id":11810040,"body_markdown":"I have a blank line as well when I ran your code. Are you viewing the file in an editor, or parsing and displaying it?\r\nI ask because xml:space=&quot;preserve&quot; settings might be wonky in your parser code if that&#39;s the case.\r\n\r\nThe other option is to put the comment within the XML root element itself:\r\n\r\n\r\n\t\t    final Element rootElement = doc.createElement(&quot;projects&quot;);\r\n\t\t    doc.appendChild(rootElement);\r\n\t\t    rootElement.appendChild(doc.createComment(&quot; DO NOT EDIT THIS FILE &quot;));\r\n\r\nIn several ways this is more interoperable.  For example let&#39;s say you use xinclude to embed &lt;project&gt; then in the final version of the file. The way you have in your question the notice to not edit the file will not be included.  If you put it within the root element it will (and you should probably change it to say something about not editing the contents of this project element, rather than saying file for the same reason).","title":"How to add line break into XML file with Java?","body":"<p>I have a blank line as well when I ran your code. Are you viewing the file in an editor, or parsing and displaying it?\nI ask because xml:space=\"preserve\" settings might be wonky in your parser code if that's the case.</p>\n\n<p>The other option is to put the comment within the XML root element itself:</p>\n\n<pre><code>        final Element rootElement = doc.createElement(\"projects\");\n        doc.appendChild(rootElement);\n        rootElement.appendChild(doc.createComment(\" DO NOT EDIT THIS FILE \"));\n</code></pre>\n\n<p>In several ways this is more interoperable.  For example let's say you use xinclude to embed  then in the final version of the file. The way you have in your question the notice to not edit the file will not be included.  If you put it within the root element it will (and you should probably change it to say something about not editing the contents of this project element, rather than saying file for the same reason).</p>\n"},{"tags":[],"owner":{"account_id":1546528,"reputation":2209,"user_id":1439964,"accept_rate":64,"display_name":"blacelle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344101261,"creation_date":1344101261,"answer_id":11810588,"question_id":11810040,"body_markdown":"There is no newLine after the comment since, even if you activated the indentation, the comment and the following node have depth 0.","title":"How to add line break into XML file with Java?","body":"<p>There is no newLine after the comment since, even if you activated the indentation, the comment and the following node have depth 0.</p>\n"},{"tags":[],"owner":{"account_id":17823710,"reputation":33,"user_id":12945451,"display_name":"Aces Up"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594236177,"creation_date":1594236177,"answer_id":62802225,"question_id":11810040,"body_markdown":"You can add a new line character in XML file by using:   \\n   or:   &lt;br&gt;\n\n    &lt;string name=&quot;yourString&quot;&gt;new line starts now \\n this is a new line&lt;/string&gt;\n\nAlso, you should rethink the formatting of your text to not using the angle brackets.","title":"How to add line break into XML file with Java?","body":"<p>You can add a new line character in XML file by using:   \\n   or:   <br></p>\n<pre><code>&lt;string name=&quot;yourString&quot;&gt;new line starts now \\n this is a new line&lt;/string&gt;\n</code></pre>\n<p>Also, you should rethink the formatting of your text to not using the angle brackets.</p>\n"}],"owner":{"account_id":1571548,"reputation":1330,"user_id":1459148,"accept_rate":75,"display_name":"perak"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8121,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":3,"score":5,"last_activity_date":1701878715,"creation_date":1344096408,"question_id":11810040,"body_markdown":"How to add line break after the &quot;do not edit this file&quot; comment? I&#39;ve tried to add textnode with line break but it doesn&#39;t work.\r\n\r\nCode:\r\n\r\n    import java.io.File;\r\n\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.transform.OutputKeys;\r\n    import javax.xml.transform.Transformer;\r\n    import javax.xml.transform.TransformerFactory;\r\n    import javax.xml.transform.dom.DOMSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            try {\r\n                final Document doc = DocumentBuilderFactory.newInstance().\r\n                        newDocumentBuilder().newDocument();\r\n\r\n                doc.appendChild(doc.createComment(&quot; DO NOT EDIT THIS FILE &quot;));\r\n                \r\n                final Element rootElement = doc.createElement(&quot;projects&quot;);\r\n                doc.appendChild(rootElement);\r\n\r\n                final Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n                transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n                transformer.transform(new DOMSource(doc), new StreamResult(new File(&quot;C:/abc.xml&quot;)));\r\n            } catch ( Exception e ) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    &lt;!-- DO NOT EDIT THIS FILE --&gt;&lt;projects/&gt;\r\n\r\n&lt;img src=&quot;http://i.stack.imgur.com/m2Etg.png&quot; /&gt;","title":"How to add line break into XML file with Java?","body":"<p>How to add line break after the \"do not edit this file\" comment? I've tried to add textnode with line break but it doesn't work.</p>\n\n<p>Code:</p>\n\n<pre><code>import java.io.File;\n\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            final Document doc = DocumentBuilderFactory.newInstance().\n                    newDocumentBuilder().newDocument();\n\n            doc.appendChild(doc.createComment(\" DO NOT EDIT THIS FILE \"));\n\n            final Element rootElement = doc.createElement(\"projects\");\n            doc.appendChild(rootElement);\n\n            final Transformer transformer = TransformerFactory.newInstance().newTransformer();\n            transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n            transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"2\");\n            transformer.transform(new DOMSource(doc), new StreamResult(new File(\"C:/abc.xml\")));\n        } catch ( Exception e ) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;!-- DO NOT EDIT THIS FILE --&gt;&lt;projects/&gt;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/m2Etg.png\" /></p>\n"},{"tags":["java","android","openalpr"],"owner":{"account_id":28829619,"reputation":35,"user_id":22080388,"display_name":"aprotiere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701878566,"creation_date":1701878566,"question_id":77614630,"body_markdown":"I am trying to use the sample application of [this repo][1]. \r\n\r\nAt some point, I try to recognize a license plate using OpenALPR and I log in Logcat the result :\r\n\r\n    String result = OpenALPR.Factory.create(MainActivity.this, ANDROID_DATA_DIR).recognizeWithCountryRegionNConfig(&quot;eu&quot;, &quot;fr&quot;, imageFile.getAbsolutePath(), openAlprConfFile, 10);\r\n    Log.d(&quot;OPEN ALPR&quot;, result); \r\n\r\nThe result I get is : \r\n\r\n    {&quot;error&quot;:true,&quot;msg&quot;:&quot;Error initializing Open Alpr&quot;}\r\n\r\nI don&#39;t really understand why I get this error. \r\n\r\nWhat I tried : \r\n\r\n - Changing the method parameters, using &quot;us&quot; as a country\r\n - Adding `android { defaultConfig { ndk { abiFilters &quot;armeabi-v7a&quot; } } }` to my build.gradle as related [here][2] \r\n - Checking the openalpr.conf to be sure runtime_dir was well setup\r\n - Be sure Open Alpr was loaded by putting a try catch in AlprJNIWrapper when the library is loaded\r\n\r\nI tried many other things but nothing make it work. \r\n\r\nAny idea? \r\n\r\n  [1]: https://github.com/SandroMachado/openalpr-android\r\n  [2]: https://github.com/SandroMachado/openalpr-android/issues/69","title":"I get Error initializing Open Alpr when using this sample application","body":"<p>I am trying to use the sample application of <a href=\"https://github.com/SandroMachado/openalpr-android\" rel=\"nofollow noreferrer\">this repo</a>.</p>\n<p>At some point, I try to recognize a license plate using OpenALPR and I log in Logcat the result :</p>\n<pre><code>String result = OpenALPR.Factory.create(MainActivity.this, ANDROID_DATA_DIR).recognizeWithCountryRegionNConfig(&quot;eu&quot;, &quot;fr&quot;, imageFile.getAbsolutePath(), openAlprConfFile, 10);\nLog.d(&quot;OPEN ALPR&quot;, result); \n</code></pre>\n<p>The result I get is :</p>\n<pre><code>{&quot;error&quot;:true,&quot;msg&quot;:&quot;Error initializing Open Alpr&quot;}\n</code></pre>\n<p>I don't really understand why I get this error.</p>\n<p>What I tried :</p>\n<ul>\n<li>Changing the method parameters, using &quot;us&quot; as a country</li>\n<li>Adding <code>android { defaultConfig { ndk { abiFilters &quot;armeabi-v7a&quot; } } }</code> to my build.gradle as related <a href=\"https://github.com/SandroMachado/openalpr-android/issues/69\" rel=\"nofollow noreferrer\">here</a></li>\n<li>Checking the openalpr.conf to be sure runtime_dir was well setup</li>\n<li>Be sure Open Alpr was loaded by putting a try catch in AlprJNIWrapper when the library is loaded</li>\n</ul>\n<p>I tried many other things but nothing make it work.</p>\n<p>Any idea?</p>\n"},{"tags":["java","android","kotlin","cannot-find-symbol"],"comments":[{"owner":{"account_id":16726121,"reputation":455,"user_id":12089702,"display_name":"Stan van der Bend"},"score":0,"creation_date":1673493191,"post_id":75090817,"comment_id":132513353,"body_markdown":"Could u edit ur post to include ur gradle/maven file? By default, java files are parsed from `src/main/java` and kotlin files from `src/main/kotlin`. In order to use a single sources directory for both files, u need to configure your IDE or build script to look for kotlin/java sources in the same directory.","body":"Could u edit ur post to include ur gradle/maven file? By default, java files are parsed from <code>src&#47;main&#47;java</code> and kotlin files from <code>src&#47;main&#47;kotlin</code>. In order to use a single sources directory for both files, u need to configure your IDE or build script to look for kotlin/java sources in the same directory."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1673500731,"post_id":75090817,"comment_id":132514414,"body_markdown":"Does it really say`lass KotlinClass` or is that a typo in the question?","body":"Does it really say<code>lass KotlinClass</code> or is that a typo in the question?"},{"owner":{"account_id":27472344,"reputation":1,"user_id":20960983,"display_name":"harry powers"},"score":0,"creation_date":1673824503,"post_id":75090817,"comment_id":132578180,"body_markdown":"@StanvanderBend Thanks for your reply! I think i have made the adjustments to the question.","body":"@StanvanderBend Thanks for your reply! I think i have made the adjustments to the question."},{"owner":{"account_id":27472344,"reputation":1,"user_id":20960983,"display_name":"harry powers"},"score":0,"creation_date":1673824528,"post_id":75090817,"comment_id":132578187,"body_markdown":"@TylerV Thanks, it was a typo. I have update it.","body":"@TylerV Thanks, it was a typo. I have update it."}],"answers":[{"comments":[{"owner":{"account_id":27472344,"reputation":1,"user_id":20960983,"display_name":"harry powers"},"score":0,"creation_date":1673823882,"post_id":75091219,"comment_id":132578088,"body_markdown":"Hi, thank you so much for your response. I have tried the steps you have shown but for some reason, i get a new error in the logcat tab &quot;Could not remove dir &#39;/data/data/com.example.testingkotlinwithjava/code_cache/.ll/&#39;: No such file or directory&quot;","body":"Hi, thank you so much for your response. I have tried the steps you have shown but for some reason, i get a new error in the logcat tab &quot;Could not remove dir &#39;/data/data/com.example.testingkotlinwithjava/code_cache/.ll&zwnj;&#8203;/&#39;: No such file or directory&quot;"},{"owner":{"account_id":27472344,"reputation":1,"user_id":20960983,"display_name":"harry powers"},"score":0,"creation_date":1673825636,"post_id":75091219,"comment_id":132578345,"body_markdown":"I&#39;m not sure what is going wrong. I am deleting the kotlin main activity and then inserting a new java main activity. I think this might be where the issue is with this method. Is there a different way I should be doing it?","body":"I&#39;m not sure what is going wrong. I am deleting the kotlin main activity and then inserting a new java main activity. I think this might be where the issue is with this method. Is there a different way I should be doing it?"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1673845821,"post_id":75091219,"comment_id":132580485,"body_markdown":"@harrypowers Activities need to be defined in the manifest or not if they have been removed.","body":"@harrypowers Activities need to be defined in the manifest or not if they have been removed."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673493602,"creation_date":1673493602,"answer_id":75091219,"question_id":75090817,"body_markdown":"I believe that your issue is that you have created the project as a Java project and a Java project doesn&#39;t support Kotlin directly.\r\n\r\nIf you create the project as a Kotlin Project e.g.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen Kotlin supports Java from the onset. The only issue is that the Activity will then be in Kotlin.\r\n\r\nTo circumvent this, as was done below, you could add another Activity set it to be Java, and then use this to replace the Kotlin activity (not sure why other than to do it though).\r\n\r\nThe following demonstrates:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n- i.e. the project comppiled and ran on the emulator.\r\n- as can be seen MainActivity (with some manipulation) is Java\r\n- KotlinClass is Kotlin\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rXWyS.png\r\n  [2]: https://i.stack.imgur.com/TfLOD.png","title":"Android studio - kotlin class not found when implementing in java file - error &quot;cannot find symbol class&quot;","body":"<p>I believe that your issue is that you have created the project as a Java project and a Java project doesn't support Kotlin directly.</p>\n<p>If you create the project as a Kotlin Project e.g.</p>\n<p><a href=\"https://i.stack.imgur.com/rXWyS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rXWyS.png\" alt=\"enter image description here\" /></a></p>\n<p>Then Kotlin supports Java from the onset. The only issue is that the Activity will then be in Kotlin.</p>\n<p>To circumvent this, as was done below, you could add another Activity set it to be Java, and then use this to replace the Kotlin activity (not sure why other than to do it though).</p>\n<p>The following demonstrates:-</p>\n<p><a href=\"https://i.stack.imgur.com/TfLOD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TfLOD.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>i.e. the project comppiled and ran on the emulator.</li>\n<li>as can be seen MainActivity (with some manipulation) is Java</li>\n<li>KotlinClass is Kotlin</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":27472344,"reputation":1,"user_id":20960983,"display_name":"harry powers"},"score":0,"creation_date":1673824713,"post_id":75091831,"comment_id":132578220,"body_markdown":"Thanks for your response. This is what i did and it didn&#39;t work.","body":"Thanks for your response. This is what i did and it didn&#39;t work."}],"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673499925,"creation_date":1673499925,"answer_id":75091831,"question_id":75090817,"body_markdown":"Create `Kotlin class` like this and keep rest the same.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nTtuu.png","title":"Android studio - kotlin class not found when implementing in java file - error &quot;cannot find symbol class&quot;","body":"<p>Create <code>Kotlin class</code> like this and keep rest the same.</p>\n<p><a href=\"https://i.stack.imgur.com/nTtuu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nTtuu.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":27472344,"reputation":1,"user_id":20960983,"display_name":"harry powers"},"score":0,"creation_date":1673824661,"post_id":75098420,"comment_id":132578208,"body_markdown":"Thanks for the respons! This did not work for me either i get the error &quot;InvalidPluginRequestException: Plugin with id &#39;org.jetbrains.kotlin.android&#39; was already requested&quot;","body":"Thanks for the respons! This did not work for me either i get the error &quot;InvalidPluginRequestException: Plugin with id &#39;org.jetbrains.kotlin.android&#39; was already requested&quot;"}],"tags":[],"owner":{"account_id":16801616,"reputation":544,"user_id":12936324,"display_name":"Jayesh Dankhara"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673536041,"creation_date":1673536041,"answer_id":75098420,"question_id":75090817,"body_markdown":"For this issue, I have a simple solution that works for me.\r\n\r\nadd below id in build.gradle app level gradle\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    plugins {\r\n          id &#39;org.jetbrains.kotlin.android&#39;\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\nAdd below line in project level gradle file\r\n\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    plugins {\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.6.21&#39; apply false\r\n       }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android studio - kotlin class not found when implementing in java file - error &quot;cannot find symbol class&quot;","body":"<p>For this issue, I have a simple solution that works for me.</p>\n<p>add below id in build.gradle app level gradle</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>plugins {\n      id 'org.jetbrains.kotlin.android'\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>plugins {\n    id 'org.jetbrains.kotlin.android' version '1.6.21' apply false\n   }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":5141133,"reputation":132,"user_id":4118479,"display_name":"Gonzalo Ledezma Torres"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701878314,"creation_date":1701878314,"answer_id":77614589,"question_id":75090817,"body_markdown":"This maybe will be a late answer. I had this issue yesterday and I solved this way:\r\n\r\n1.- Add kotlin plugin to your Project `build.gradle`. I&#39;m using kotlin version `1.7.20`\r\n\r\n    buildscript {\r\n      ext.kotlin_version = &quot;1.7.20&quot;\r\n      repositories {\r\n        google()\r\n        mavenCentral()\r\n      }\r\n      dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:8.0.2&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-serialization:$kotlin_version&quot;\r\n    \r\n      }\r\n    }\r\n\r\n2.- Add kotlin plugins at the top of your App `build.gradle` like this:\r\n\r\n    plugins {\r\n      id &#39;com.android.application&#39;\r\n      id &#39;kotlin-android&#39;\r\n      id &#39;kotlin-kapt&#39;\r\n      id &#39;kotlinx-serialization&#39;\r\n      id &#39;kotlin-parcelize&#39;\r\n    }\r\n\r\n3.- Clean, Rebuild, Compile. If any other error jumps, try to Clear Cache/Restart.\r\n\r\n\r\nPs: Maybe you won&#39;t need all the plugins, but I posted all, just in case.","title":"Android studio - kotlin class not found when implementing in java file - error &quot;cannot find symbol class&quot;","body":"<p>This maybe will be a late answer. I had this issue yesterday and I solved this way:</p>\n<p>1.- Add kotlin plugin to your Project <code>build.gradle</code>. I'm using kotlin version <code>1.7.20</code></p>\n<pre><code>buildscript {\n  ext.kotlin_version = &quot;1.7.20&quot;\n  repositories {\n    google()\n    mavenCentral()\n  }\n  dependencies {\n    classpath 'com.android.tools.build:gradle:8.0.2'\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    classpath &quot;org.jetbrains.kotlin:kotlin-serialization:$kotlin_version&quot;\n\n  }\n}\n</code></pre>\n<p>2.- Add kotlin plugins at the top of your App <code>build.gradle</code> like this:</p>\n<pre><code>plugins {\n  id 'com.android.application'\n  id 'kotlin-android'\n  id 'kotlin-kapt'\n  id 'kotlinx-serialization'\n  id 'kotlin-parcelize'\n}\n</code></pre>\n<p>3.- Clean, Rebuild, Compile. If any other error jumps, try to Clear Cache/Restart.</p>\n<p>Ps: Maybe you won't need all the plugins, but I posted all, just in case.</p>\n"}],"owner":{"account_id":27472344,"reputation":1,"user_id":20960983,"display_name":"harry powers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1701878314,"creation_date":1673488737,"question_id":75090817,"body_markdown":"I am trying to use a kotlin class in my java class in android studio. But I get the following error twice... \r\n\r\n&quot;cannot find symbol class KotlinClass&quot;\r\n\r\nKotlinClass is the file name of the kotlin class I am trying to implement.\r\n\r\nBoth the java and kotlin file are in the same package.\r\n\r\nI have tried to put them in different packages but it caused me more problems and so i kept them in the same package but i might have done this so if this is a potential solution, i can try again but i would need more detailed steps if possible.\r\n\r\nThis error occurs in the build tab.\r\n\r\nI have looked into this quite a bit but nothing seems to work.\r\n\r\n\r\n\r\nThis is my java class\r\n\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        KotlinClass x = new KotlinClass();\r\n        x.kotlinMethod();\r\n    }\r\n}\r\n```\r\n\r\nThis is my kotlin class\r\n\r\n```\r\nclass KotlinClass {\r\n    fun kotlinMethod() {\r\n        println(&quot;You did it again!!!&quot;)\r\n    }\r\n}\r\n```\r\n\r\nIm very new to android studio, any help will be appreciated\r\n\r\n&lt;Update&gt;\r\n\r\nHere is my project level gradle file\r\n```\r\n    plugins {\r\n    id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n}\r\n```\r\nHere is my module level gradle file\r\n```\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.testingjava&#39;\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.testingjava&quot;\r\n        minSdk 29\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```","title":"Android studio - kotlin class not found when implementing in java file - error &quot;cannot find symbol class&quot;","body":"<p>I am trying to use a kotlin class in my java class in android studio. But I get the following error twice...</p>\n<p>&quot;cannot find symbol class KotlinClass&quot;</p>\n<p>KotlinClass is the file name of the kotlin class I am trying to implement.</p>\n<p>Both the java and kotlin file are in the same package.</p>\n<p>I have tried to put them in different packages but it caused me more problems and so i kept them in the same package but i might have done this so if this is a potential solution, i can try again but i would need more detailed steps if possible.</p>\n<p>This error occurs in the build tab.</p>\n<p>I have looked into this quite a bit but nothing seems to work.</p>\n<p>This is my java class</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        KotlinClass x = new KotlinClass();\n        x.kotlinMethod();\n    }\n}\n</code></pre>\n<p>This is my kotlin class</p>\n<pre><code>class KotlinClass {\n    fun kotlinMethod() {\n        println(&quot;You did it again!!!&quot;)\n    }\n}\n</code></pre>\n<p>Im very new to android studio, any help will be appreciated</p>\n\n<p>Here is my project level gradle file</p>\n<pre><code>    plugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n}\n</code></pre>\n<p>Here is my module level gradle file</p>\n<pre><code>    plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.testingjava'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.testingjava&quot;\n        minSdk 29\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","twitter","web-crawler","adblock"],"owner":{"account_id":29648367,"reputation":1,"user_id":22722887,"display_name":"Trau Tre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701878187,"creation_date":1701878187,"question_id":77614569,"body_markdown":"Im using selenium to scarpe some data from Search/Lastest from Twitter. 1 small problem is that, when they showing ad, I cant filter them out. I have some way to do that, but struggle and cant find the solution.\r\n1. Ad tweet have no time. I tried this, but it took too long.\r\n\r\n```\r\n        try{\r\n            WebElement time = article.findElement(By.xpath(TIME_XPATH));\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            return true;\r\n        }\r\n        return false;\r\n```\r\n2. Ad tweet have view count. Didn&#39;t try, but normal tweet dont have view count, so I dont think that gonna work.\r\n3. Ad tweet dont have the keyword text. But then, if i filter by that way, i cant get replies tweet, like replies @ElonMusk.\r\n\r\nAny insights or suggestions on resolving this issue would be greatly appreciated. Thank you!","title":"Skip Ad on Twitter using Selenium","body":"<p>Im using selenium to scarpe some data from Search/Lastest from Twitter. 1 small problem is that, when they showing ad, I cant filter them out. I have some way to do that, but struggle and cant find the solution.</p>\n<ol>\n<li>Ad tweet have no time. I tried this, but it took too long.</li>\n</ol>\n<pre><code>        try{\n            WebElement time = article.findElement(By.xpath(TIME_XPATH));\n        }catch (Exception e){\n            e.printStackTrace();\n            return true;\n        }\n        return false;\n</code></pre>\n<ol start=\"2\">\n<li>Ad tweet have view count. Didn't try, but normal tweet dont have view count, so I dont think that gonna work.</li>\n<li>Ad tweet dont have the keyword text. But then, if i filter by that way, i cant get replies tweet, like replies @ElonMusk.</li>\n</ol>\n<p>Any insights or suggestions on resolving this issue would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701878179,"creation_date":1701878179,"answer_id":77614567,"question_id":77612007,"body_markdown":"According to your code in the question you have just missed `@Bean` annotation on the `binding()` method.\r\n\r\nAfter adding it in the test application with your code I got a message in the queue properly:\r\n\r\n    Exchange \tso-77612007-exchange\r\n    Routing Key \tso-77612007-routing-key\r\n    Redelivered \t○\r\n    Properties \t\r\n    priority:\t0\r\n    delivery_mode:\t2\r\n    headers:\t\r\n    content_encoding:\tUTF-8\r\n    content_type:\ttext/plain\r\n    Payload\r\n    12 bytes\r\n    Encoding: string\r\n    \t\r\n    \r\n    test message","title":"RabbitMQ message shown in exchange but queue is empty","body":"<p>According to your code in the question you have just missed <code>@Bean</code> annotation on the <code>binding()</code> method.</p>\n<p>After adding it in the test application with your code I got a message in the queue properly:</p>\n<pre><code>Exchange    so-77612007-exchange\nRouting Key     so-77612007-routing-key\nRedelivered     ○\nProperties  \npriority:   0\ndelivery_mode:  2\nheaders:    \ncontent_encoding:   UTF-8\ncontent_type:   text/plain\nPayload\n12 bytes\nEncoding: string\n    \n\ntest message\n</code></pre>\n"}],"owner":{"account_id":25947480,"reputation":5,"user_id":19666023,"display_name":"Batuğ Can Akpınar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77614567,"answer_count":1,"score":0,"last_activity_date":1701878179,"creation_date":1701856167,"question_id":77612007,"body_markdown":"I am practicing in Spring boot RabbitMQ. I have some problem about queue as i mentioned in question. I think i configured RabbitMQ right way. Here is my config file;\r\n\r\n    @Configuration\r\n    public class RabbitMQConfig {\r\n    \r\n        @Value(&quot;${rabbitmq.queue.name}&quot;)\r\n        private String queue;\r\n    \r\n        @Value(&quot;${rabbitmq.exchange.name}&quot;)\r\n        private String exchange;\r\n    \r\n        @Value(&quot;${rabbitmq.routing.key}&quot;)\r\n        private String routingKey;\r\n    \r\n    \r\n        @Bean\r\n        public Queue queue(){\r\n            return new Queue(queue);\r\n        }\r\n            // spring bean for rabbitmq exchange\r\n        @Bean\r\n        public TopicExchange exchange(){\r\n            return new TopicExchange(exchange);\r\n        }\r\n    \r\n            // binding between queue and exchange using routing key\r\n        public Binding binding(){\r\n            return BindingBuilder\r\n                    .bind(queue())\r\n                    .to(exchange())\r\n                    .with(routingKey);\r\n        }\r\n\r\nand here is my producer file;\r\n\r\n    @Service\r\n    public class RabbitMQProducer {\r\n    \r\n        @Value(&quot;${rabbitmq.exchange.name}&quot;)\r\n        private String exchange;\r\n    \r\n        @Value(&quot;${rabbitmq.routing.key}&quot;)\r\n        private String routingKey;\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(RabbitMQProducer.class);\r\n    \r\n        private RabbitTemplate rabbitTemplate;\r\n    \r\n        public RabbitMQProducer(RabbitTemplate rabbitTemplate) {\r\n            this.rabbitTemplate = rabbitTemplate;\r\n        }\r\n    \r\n        public void sendMessage(String message){\r\n            LOGGER.info(String.format(&quot;Message sent -&gt; %s&quot;, message));\r\n            rabbitTemplate.convertAndSend(exchange, routingKey, message);\r\n        }\r\n\r\n    }\r\n\r\n\r\nso what is wrong with this situation. i can send messages and see on the exchange graph on rabbitmq management but when i go the queue tab, it says queue is empty\r\n","title":"RabbitMQ message shown in exchange but queue is empty","body":"<p>I am practicing in Spring boot RabbitMQ. I have some problem about queue as i mentioned in question. I think i configured RabbitMQ right way. Here is my config file;</p>\n<pre><code>@Configuration\npublic class RabbitMQConfig {\n\n    @Value(&quot;${rabbitmq.queue.name}&quot;)\n    private String queue;\n\n    @Value(&quot;${rabbitmq.exchange.name}&quot;)\n    private String exchange;\n\n    @Value(&quot;${rabbitmq.routing.key}&quot;)\n    private String routingKey;\n\n\n    @Bean\n    public Queue queue(){\n        return new Queue(queue);\n    }\n        // spring bean for rabbitmq exchange\n    @Bean\n    public TopicExchange exchange(){\n        return new TopicExchange(exchange);\n    }\n\n        // binding between queue and exchange using routing key\n    public Binding binding(){\n        return BindingBuilder\n                .bind(queue())\n                .to(exchange())\n                .with(routingKey);\n    }\n</code></pre>\n<p>and here is my producer file;</p>\n<pre><code>@Service\npublic class RabbitMQProducer {\n\n    @Value(&quot;${rabbitmq.exchange.name}&quot;)\n    private String exchange;\n\n    @Value(&quot;${rabbitmq.routing.key}&quot;)\n    private String routingKey;\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(RabbitMQProducer.class);\n\n    private RabbitTemplate rabbitTemplate;\n\n    public RabbitMQProducer(RabbitTemplate rabbitTemplate) {\n        this.rabbitTemplate = rabbitTemplate;\n    }\n\n    public void sendMessage(String message){\n        LOGGER.info(String.format(&quot;Message sent -&gt; %s&quot;, message));\n        rabbitTemplate.convertAndSend(exchange, routingKey, message);\n    }\n\n}\n</code></pre>\n<p>so what is wrong with this situation. i can send messages and see on the exchange graph on rabbitmq management but when i go the queue tab, it says queue is empty</p>\n"},{"tags":["java","windows","bluetooth","bluecove"],"owner":{"account_id":15152676,"reputation":390,"user_id":10934555,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701877737,"creation_date":1701877737,"question_id":77614522,"body_markdown":"We are working with BlueCove (Java Bluetooth library) since years now without any issue.\r\nNow, we have a successor of the current BT-Module, which is BT122 (Silabs) and it starts making fun with me.\r\n\r\nIt works with a regular BT-Virtual-Com-Connection in combination with a terminal-tool e.g. teraterm. \r\n\r\nBUT: BlueCove the library used so far won&#39;t work anymore. It cancels the connection with the below displayed window-messages.\r\n\r\nOn calling ```Connector.open(url)``` I always get \r\n\r\n```\r\n[BLUECOVE] will throw exception javax/bluetooth/BluetoothConnectionException(Failed to connect; [10064] A socket operation failed because the destination host was down.)\r\n```\r\n\r\nThe counterpart of the connection, which is the BT-Dongle BT122 says the follwoing messages,\r\nwhich basically means the connection is closed as well.\r\n\r\n\r\n\r\n```\r\nWaiting for connection...\r\nuart_rx() - data_length: 4  A0090700\r\nuart_rx() - data_length: 9  D051F4ACC670000207\r\nuart_rx() - data_length: 4  A0020F03\r\nuart_rx() - data_length: 2  0207\r\nuart_tx() - data_length: 5  20010F0507\r\nuart_rx() - data_length: 4  A0070400\r\nuart_rx() - data_length: 7  03D051F4ACC670\r\nSPP connection from 70:c6:ac:f4:51:d0 at endpoint 3\r\nuart_rx() - data_length: 4  A0150702\r\nuart_rx() - data_length: 21  039202000000D051F4ACC670010001010000000005\r\nuart_rx() - data_length: 4  A0070B02\r\nuart_rx() - data_length: 7  03200000000007\r\nEndpoint status:7 0\r\nuart_rx() - data_length: 4  A0020401\r\nuart_rx() - data_length: 2  038D\r\nuart_rx() - data_length: 4  A0030B03\r\nuart_rx() - data_length: 3  130203\r\nClosing endpoint:3\r\nuart_tx() - data_length: 5  20010B0203\r\nuart_rx() - data_length: 4  A0070B02\r\nuart_rx() - data_length: 7  03200000000015\r\nEndpoint status:15 0\r\nuart_rx() - data_length: 4  201A0F05\r\nuart_rx() - data_length: 26  0000D051F4ACC67010105058E961DA4DA891F130C4F9FFA994B8\r\nBonding from 70:c6:ac:f4:51:d0 succesful\r\nuart_rx() - data_length: 4  20030B02\r\nuart_rx() - data_length: 3  000003\r\nrsp_endpoint_close.result == 0 -FINISHED-\r\nuart_rx() - data_length: 4\r\n\r\n```\r\n\r\n\r\n\r\nI am at my wit&#39;s end. Does anybody know some remedies for such a case?","title":"BlueCove failed to open connection [10064] - BT Module BT122","body":"<p>We are working with BlueCove (Java Bluetooth library) since years now without any issue.\nNow, we have a successor of the current BT-Module, which is BT122 (Silabs) and it starts making fun with me.</p>\n<p>It works with a regular BT-Virtual-Com-Connection in combination with a terminal-tool e.g. teraterm.</p>\n<p>BUT: BlueCove the library used so far won't work anymore. It cancels the connection with the below displayed window-messages.</p>\n<p>On calling <code>Connector.open(url)</code> I always get</p>\n<pre><code>[BLUECOVE] will throw exception javax/bluetooth/BluetoothConnectionException(Failed to connect; [10064] A socket operation failed because the destination host was down.)\n</code></pre>\n<p>The counterpart of the connection, which is the BT-Dongle BT122 says the follwoing messages,\nwhich basically means the connection is closed as well.</p>\n<pre><code>Waiting for connection...\nuart_rx() - data_length: 4  A0090700\nuart_rx() - data_length: 9  D051F4ACC670000207\nuart_rx() - data_length: 4  A0020F03\nuart_rx() - data_length: 2  0207\nuart_tx() - data_length: 5  20010F0507\nuart_rx() - data_length: 4  A0070400\nuart_rx() - data_length: 7  03D051F4ACC670\nSPP connection from 70:c6:ac:f4:51:d0 at endpoint 3\nuart_rx() - data_length: 4  A0150702\nuart_rx() - data_length: 21  039202000000D051F4ACC670010001010000000005\nuart_rx() - data_length: 4  A0070B02\nuart_rx() - data_length: 7  03200000000007\nEndpoint status:7 0\nuart_rx() - data_length: 4  A0020401\nuart_rx() - data_length: 2  038D\nuart_rx() - data_length: 4  A0030B03\nuart_rx() - data_length: 3  130203\nClosing endpoint:3\nuart_tx() - data_length: 5  20010B0203\nuart_rx() - data_length: 4  A0070B02\nuart_rx() - data_length: 7  03200000000015\nEndpoint status:15 0\nuart_rx() - data_length: 4  201A0F05\nuart_rx() - data_length: 26  0000D051F4ACC67010105058E961DA4DA891F130C4F9FFA994B8\nBonding from 70:c6:ac:f4:51:d0 succesful\nuart_rx() - data_length: 4  20030B02\nuart_rx() - data_length: 3  000003\nrsp_endpoint_close.result == 0 -FINISHED-\nuart_rx() - data_length: 4\n\n</code></pre>\n<p>I am at my wit's end. Does anybody know some remedies for such a case?</p>\n"},{"tags":["java","web","browser"],"owner":{"account_id":28640708,"reputation":1,"user_id":21929895,"display_name":"Samarth Bhalala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701877795,"answer_count":0,"score":-2,"last_activity_date":1701877724,"creation_date":1701877160,"question_id":77614451,"body_markdown":"What is difference between request dispatcher and request delegation?.\r\nPlease explain in detail.  \r\n   \r\nDifferentiate between request dispatcher and request.\r\nMethods of request dispatcher are 2 include and forward.\r\nExplain with example.\r\n\r\n                           ","title":"Differentiate between request dispatcher and request delegation","body":"<p>What is difference between request dispatcher and request delegation?.\nPlease explain in detail.</p>\n<p>Differentiate between request dispatcher and request.\nMethods of request dispatcher are 2 include and forward.\nExplain with example.</p>\n"},{"tags":["java","android","localization","android-espresso","ui-testing"],"answers":[{"comments":[{"owner":{"account_id":9210020,"reputation":71,"user_id":6843649,"display_name":"flo"},"score":0,"creation_date":1654179248,"post_id":67979490,"comment_id":128033664,"body_markdown":"Did you find a solution to change the language?","body":"Did you find a solution to change the language?"}],"tags":[],"owner":{"account_id":293971,"reputation":1056,"user_id":597587,"display_name":"notmystyle"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623726382,"creation_date":1623726382,"answer_id":67979490,"question_id":61090032,"body_markdown":"To answer the first part of your question, It does add value to test around different languages. A common issue we run in to is that UI&#39;s are designed for a local language, but often a translated language has longer verbiage than the local version. This can cause unexpected bad UI behavior, such as buttons expanding beyond the edge of a screen, or content getting pushed down. It&#39;s these rendering issues that are good to test around.\r\n\r\nI can&#39;t comment on the second question yet. I&#39;ve just started digging in to how to implement the locale change in espresso.","title":"Android UI Testing - Localized String testing","body":"<p>To answer the first part of your question, It does add value to test around different languages. A common issue we run in to is that UI's are designed for a local language, but often a translated language has longer verbiage than the local version. This can cause unexpected bad UI behavior, such as buttons expanding beyond the edge of a screen, or content getting pushed down. It's these rendering issues that are good to test around.</p>\n<p>I can't comment on the second question yet. I've just started digging in to how to implement the locale change in espresso.</p>\n"},{"comments":[{"owner":{"account_id":4141886,"reputation":193,"user_id":3396908,"display_name":"johngray1965"},"score":0,"creation_date":1701957095,"post_id":77614519,"comment_id":136840853,"body_markdown":"And one more thing, in the tests for doing the screenshots from fastlane we have:\n   `@Rule @JvmField\n    val localeTestRule: LocaleTestRule = LocaleTestRule()`","body":"And one more thing, in the tests for doing the screenshots from fastlane we have:    <code>@Rule @JvmField     val localeTestRule: LocaleTestRule = LocaleTestRule()</code>"}],"tags":[],"owner":{"account_id":4141886,"reputation":193,"user_id":3396908,"display_name":"johngray1965"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701877716,"creation_date":1701877716,"answer_id":77614519,"question_id":61090032,"body_markdown":"I&#39;m using fastlane to get screenshots in various languages.  fastlane will also run tests, but it doesn&#39;t appear to have options to run tests in various languages.  However, its logging out the commands it sending to the device via adb when it does the screenshots, and its doing them via tests.  Ideally, I&#39;d add support to fastlane for running the tests in multiple languages (its open source), but it&#39;s in ruby, and I&#39;m not really up on ruby.  I&#39;m probably going to write a shell script.\r\n\r\nHere&#39;s what it&#39;s doing:\r\n\r\nJust once it installs the apk and test apk\r\n\r\n    adb -s emulator-5554 install -t -r {path to apk}\r\n    adb -s emulator-5554 install -t -r {path to test apk}\r\n\r\nThen for each language, change the argument for testlocale:\r\n\r\n    adb -s emulator-5554 shell am force-stop {yourpackagename}.test\r\n    adb -s emulator-5554 shell am force-stop {yourpackagename}\r\n    adb -s emulator-5554 shell am instrument --no-window-animation -w \\\r\n    -e testLocale en \\\r\n    --no-hidden-api-checks \\\r\n    -e appendTimestamp true \\\r\n    -e package {package for tests, optionally} \\\r\n    {yourpackagename}.test/androidx.test.runner.AndroidJUnitRunner\r\n\r\nBTW, there are other good reasons to run tests in multiple languages.  Some apps have per language resources (I&#39;m using resources in a general sense, not Android resources).  And in some case may not have some resources for some languages.  It&#39;s important to test things work as expect in those cases.\r\n\r\n\r\n","title":"Android UI Testing - Localized String testing","body":"<p>I'm using fastlane to get screenshots in various languages.  fastlane will also run tests, but it doesn't appear to have options to run tests in various languages.  However, its logging out the commands it sending to the device via adb when it does the screenshots, and its doing them via tests.  Ideally, I'd add support to fastlane for running the tests in multiple languages (its open source), but it's in ruby, and I'm not really up on ruby.  I'm probably going to write a shell script.</p>\n<p>Here's what it's doing:</p>\n<p>Just once it installs the apk and test apk</p>\n<pre><code>adb -s emulator-5554 install -t -r {path to apk}\nadb -s emulator-5554 install -t -r {path to test apk}\n</code></pre>\n<p>Then for each language, change the argument for testlocale:</p>\n<pre><code>adb -s emulator-5554 shell am force-stop {yourpackagename}.test\nadb -s emulator-5554 shell am force-stop {yourpackagename}\nadb -s emulator-5554 shell am instrument --no-window-animation -w \\\n-e testLocale en \\\n--no-hidden-api-checks \\\n-e appendTimestamp true \\\n-e package {package for tests, optionally} \\\n{yourpackagename}.test/androidx.test.runner.AndroidJUnitRunner\n</code></pre>\n<p>BTW, there are other good reasons to run tests in multiple languages.  Some apps have per language resources (I'm using resources in a general sense, not Android resources).  And in some case may not have some resources for some languages.  It's important to test things work as expect in those cases.</p>\n"}],"owner":{"account_id":3952060,"reputation":37,"user_id":3261991,"accept_rate":75,"display_name":"smoljak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701877716,"creation_date":1586296670,"question_id":61090032,"body_markdown":"This is a two part question. \r\n\r\n1 - Does it add value to the project to check every string matches the correct widget across multiple languages for an Activity&#39;s associated UI test or should I take a different approach or just not do this at all?\r\n\r\n2 - Assuming this is the right approach I have tried to implement the suggestion from the following [post](https://stackoverflow.com/questions/16760194/locale-during-unit-test-on-android/21810126). Unfortunately the locale is not updating for my UI tests and fails one of the two tests depending on the system language that I have already set on my device. \r\n\r\n```\r\n@RunWith(AndroidJUnit4ClassRunner.class)\r\npublic class RegisterActivityTest {\r\n\r\n    @Test\r\n    public void test_onScreenLoadStringsDisplayedInEnglish() {\r\n        testEnglishLocale();\r\n        onView(withId(R.id.welcome_text_view)).check(matches(\r\n            withText(WELCOME_EN)));\r\n    }\r\n\r\n    @Test\r\n    public void test_onScreenLoadStringsDisplayedInSpanish() {\r\n        testSpanishLocale();\r\n        onView(withId(R.id.welcome_text_view)).check(matches(\r\n            withText(WELCOME_ES)));\r\n    }\r\n\r\n\r\n    private void testEnglishLocale() {\r\n        setLocale(&quot;en&quot;, &quot;US&quot;);\r\n    }\r\n\r\n    private void testSpanishLocale() {\r\n        setLocale(&quot;es&quot;, &quot;ES&quot;);\r\n    }\r\n\r\n    private void setLocale(String language, String country) {\r\n        Locale locale = new Locale(language, country);\r\n        // here we update locale for date formatters\r\n        Locale.setDefault(locale);\r\n        // update locale for app resources\r\n        Resources res = InstrumentationRegistry.getInstrumentation().getTargetContext().getResources();\r\n        Configuration config = res.getConfiguration();\r\n        config.locale = locale;\r\n        res.updateConfiguration(config, res.getDisplayMetrics());\r\n    }\r\n\r\n}\r\n```","title":"Android UI Testing - Localized String testing","body":"<p>This is a two part question. </p>\n\n<p>1 - Does it add value to the project to check every string matches the correct widget across multiple languages for an Activity's associated UI test or should I take a different approach or just not do this at all?</p>\n\n<p>2 - Assuming this is the right approach I have tried to implement the suggestion from the following <a href=\"https://stackoverflow.com/questions/16760194/locale-during-unit-test-on-android/21810126\">post</a>. Unfortunately the locale is not updating for my UI tests and fails one of the two tests depending on the system language that I have already set on my device. </p>\n\n<pre><code>@RunWith(AndroidJUnit4ClassRunner.class)\npublic class RegisterActivityTest {\n\n    @Test\n    public void test_onScreenLoadStringsDisplayedInEnglish() {\n        testEnglishLocale();\n        onView(withId(R.id.welcome_text_view)).check(matches(\n            withText(WELCOME_EN)));\n    }\n\n    @Test\n    public void test_onScreenLoadStringsDisplayedInSpanish() {\n        testSpanishLocale();\n        onView(withId(R.id.welcome_text_view)).check(matches(\n            withText(WELCOME_ES)));\n    }\n\n\n    private void testEnglishLocale() {\n        setLocale(\"en\", \"US\");\n    }\n\n    private void testSpanishLocale() {\n        setLocale(\"es\", \"ES\");\n    }\n\n    private void setLocale(String language, String country) {\n        Locale locale = new Locale(language, country);\n        // here we update locale for date formatters\n        Locale.setDefault(locale);\n        // update locale for app resources\n        Resources res = InstrumentationRegistry.getInstrumentation().getTargetContext().getResources();\n        Configuration config = res.getConfiguration();\n        config.locale = locale;\n        res.updateConfiguration(config, res.getDisplayMetrics());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","caching","webview","custom-component"],"answers":[{"comments":[{"owner":{"account_id":30081362,"reputation":3,"user_id":23052944,"display_name":"Kate "},"score":0,"creation_date":1702196954,"post_id":77614518,"comment_id":136865487,"body_markdown":"Thank u so much for the answer. I used  onReceivedError, but there was no Error! I Know shouldOverrideUrlLoading is not called and  onPageFinished is called! finally I had to use &quot;https://docs.google.com/gview?embedded=true&amp;url=&quot;  instead of WebView","body":"Thank u so much for the answer. I used  onReceivedError, but there was no Error! I Know shouldOverrideUrlLoading is not called and  onPageFinished is called! finally I had to use &quot;<a href=\"https://docs.google.com/gview?embedded=true&amp;url=\" rel=\"nofollow noreferrer\">docs.google.com/gview?embedded=true&amp;url=</a>&quot;  instead of WebView"}],"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701877699,"creation_date":1701877699,"answer_id":77614518,"question_id":77614154,"body_markdown":"You can implement the onReceivedError method in your WebViewClient to handle errors.\r\n\r\n    @Override\r\n    public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n        // Handle error\r\n        Log.e(&quot;WebViewError&quot;, &quot;Error: &quot; + description);\r\n    }\r\n\r\nYou can also try to use Google Docs Viewer directly.\r\n\r\nUrl = &quot;https://docs.google.com/gview?embedded=true&amp;url=&quot; + &quot;https://www.tutorialspoint.com/android/android_tutorial.pdf&quot;;\r\n\r\n\r\n","title":"why Android Webview sometimes does not display anything?","body":"<p>You can implement the onReceivedError method in your WebViewClient to handle errors.</p>\n<pre><code>@Override\npublic void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n    // Handle error\n    Log.e(&quot;WebViewError&quot;, &quot;Error: &quot; + description);\n}\n</code></pre>\n<p>You can also try to use Google Docs Viewer directly.</p>\n<p>Url = &quot;https://docs.google.com/gview?embedded=true&amp;url=&quot; + &quot;https://www.tutorialspoint.com/android/android_tutorial.pdf&quot;;</p>\n"}],"owner":{"account_id":30081362,"reputation":3,"user_id":23052944,"display_name":"Kate "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77614518,"answer_count":1,"score":0,"last_activity_date":1701877699,"creation_date":1701874514,"question_id":77614154,"body_markdown":"I need to open Pdf file from Url like [this](https://www.tutorialspoint.com/android/android_tutorial.pdf)\r\n\r\nSo I&#39;m using Webview, but sometimes does not display anything\r\n\r\nbut most of the time it dose not display anything\r\n\r\nHere is my code\r\n\r\n\r\nwhat should I do?\r\nwhat is wrong in this code?\r\n\r\n```\r\n\r\n        Url = &quot;https://docs.google.com/viewer?url=&quot; + &quot;https://www.tutorialspoint.com/android/android_tutorial.pdf&quot;;\r\n\r\n        webView.getSettings().setJavaScriptEnabled (true);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        webView.getSettings().setUseWideViewPort(true);\r\n\r\n        webView.setWebViewClient(new WebViewClient() {\r\n\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                progDailog.show();\r\n                view.loadUrl(url);\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            public void onPageFinished(WebView view, final String url) {\r\n                progDailog.dismiss();\r\n            }\r\n        });\r\n        webView.loadUrl(Url);\r\n```\r\n","title":"why Android Webview sometimes does not display anything?","body":"<p>I need to open Pdf file from Url like <a href=\"https://www.tutorialspoint.com/android/android_tutorial.pdf\" rel=\"nofollow noreferrer\">this</a></p>\n<p>So I'm using Webview, but sometimes does not display anything</p>\n<p>but most of the time it dose not display anything</p>\n<p>Here is my code</p>\n<p>what should I do?\nwhat is wrong in this code?</p>\n<pre><code>\n        Url = &quot;https://docs.google.com/viewer?url=&quot; + &quot;https://www.tutorialspoint.com/android/android_tutorial.pdf&quot;;\n\n        webView.getSettings().setJavaScriptEnabled (true);\n        webView.getSettings().setLoadWithOverviewMode(true);\n        webView.getSettings().setUseWideViewPort(true);\n\n        webView.setWebViewClient(new WebViewClient() {\n\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                progDailog.show();\n                view.loadUrl(url);\n                return true;\n            }\n\n            @Override\n            public void onPageFinished(WebView view, final String url) {\n                progDailog.dismiss();\n            }\n        });\n        webView.loadUrl(Url);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701870991,"post_id":77613579,"comment_id":136828505,"body_markdown":"Note that you don’t need to write `+&quot;&quot;`; you can simply use `System.out.print(j);` Further, instead of `System.out.println(&quot;&quot;);` you can just write `System.out.println();`. It doesn’t change the output, though. There is no recognizable source for an additional line break in the code.","body":"Note that you don’t need to write <code>+&quot;&quot;</code>; you can simply use <code>System.out.print(j);</code> Further, instead of <code>System.out.println(&quot;&quot;);</code> you can just write <code>System.out.println();</code>. It doesn’t change the output, though. There is no recognizable source for an additional line break in the code."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701871026,"post_id":77613579,"comment_id":136828512,"body_markdown":"you better ask support of &quot;the CodeNinjas platform&quot;! It is working correctly using official Java. (I believe it was CodeNinjas that was topic of one question here, where the input was not handled like standard Java. So maybe same is valid for output)","body":"you better ask support of &quot;the CodeNinjas platform&quot;! It is working correctly using official Java. (I believe it was CodeNinjas that was topic of one question here, where the input was not handled like standard Java. So maybe same is valid for output)"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1701878398,"post_id":77613579,"comment_id":136829973,"body_markdown":"First line of method: `n = (n &lt; 3 ? 3 : (n &gt; 9 ? n = 9 : n));`. If the supplied argument is less than 3 then make the argument 3. If the supplied argument is greater than 9 then make the argument 9.","body":"First line of method: <code>n = (n &lt; 3 ? 3 : (n &gt; 9 ? n = 9 : n));</code>. If the supplied argument is less than 3 then make the argument 3. If the supplied argument is greater than 9 then make the argument 9."}],"answers":[{"comments":[{"owner":{"account_id":16157736,"reputation":1,"user_id":11664603,"display_name":"Madhan Mohan"},"score":0,"creation_date":1701877530,"post_id":77614344,"comment_id":136829786,"body_markdown":"Thanks for your inputs, but the your optimized code is also giving me a different output &#128514;&#128514;\n\n\nNot sure what is wrong with this compiler.","body":"Thanks for your inputs, but the your optimized code is also giving me a different output 😂😂   Not sure what is wrong with this compiler."},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1701877805,"post_id":77614344,"comment_id":136829850,"body_markdown":"Could you provide a link to the online editor you use?","body":"Could you provide a link to the online editor you use?"}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701877020,"creation_date":1701876147,"answer_id":77614344,"question_id":77613579,"body_markdown":"It works fine to me. Probably you should select another Java version?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\nBy the way, you can simplify your code:\r\n```java\r\npublic static void numberCrown(int n) {\r\n    for (int row = 1; row &lt;= n; row++) {\r\n        for (int colLo = 1, colHi = 2 * n; colHi &gt; 0; colLo++, colHi--) {\r\n            if (colLo &lt;= row)      System.out.print(colLo);\r\n            else if (colHi &lt;= row) System.out.print(colHi);\r\n            else                   System.out.print(&#39; &#39;);\r\n        }\r\n\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/5J4cn.png","title":"Why the new line is printing in the pattern","body":"<p>It works fine to me. Probably you should select another Java version?</p>\n<p><a href=\"https://i.stack.imgur.com/5J4cn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5J4cn.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>By the way, you can simplify your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void numberCrown(int n) {\n    for (int row = 1; row &lt;= n; row++) {\n        for (int colLo = 1, colHi = 2 * n; colHi &gt; 0; colLo++, colHi--) {\n            if (colLo &lt;= row)      System.out.print(colLo);\n            else if (colHi &lt;= row) System.out.print(colHi);\n            else                   System.out.print(' ');\n        }\n\n        System.out.println();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16157736,"reputation":1,"user_id":11664603,"display_name":"Madhan Mohan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701877020,"creation_date":1701870263,"question_id":77613579,"body_markdown":"I&#39;m just learning patterns logics and below is the one of the pattern problem I&#39;m able to write the logic but unfortunately getting wrong answer PFA.\r\n\r\nBelow is the pattern need to print.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe same code is working fine in the another online compilers but the same code is printing result differently in the CodeNinjas platform.\r\n\r\nI tried in C++ plus as well where the behavior is same.\r\n\r\nCan anyone please let me know the reason for this. I&#39;m surprised seeing this behavior.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nBelow is the logic I written.\r\n\r\n    public static void numberCrown(int n) {\r\n        // Write your code here.\r\n        int n1=2*(n-1);\r\n        for(int i=1;i&lt;=n;i++){\r\n            for (int j = 1; j &lt;= i; j++) {\r\n                System.out.print(j+&quot;&quot;);\r\n            }\r\n            for(int j=1;j&lt;=n1;j++){\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int j =i; j&gt;=1; j--) {\r\n                System.out.print(j+&quot;&quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n            n1=n1-2;        \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AKO8y.png\r\n  [2]: https://i.stack.imgur.com/Xz7az.png","title":"Why the new line is printing in the pattern","body":"<p>I'm just learning patterns logics and below is the one of the pattern problem I'm able to write the logic but unfortunately getting wrong answer PFA.</p>\n<p>Below is the pattern need to print.</p>\n<p><a href=\"https://i.stack.imgur.com/AKO8y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AKO8y.png\" alt=\"enter image description here\" /></a></p>\n<p>The same code is working fine in the another online compilers but the same code is printing result differently in the CodeNinjas platform.</p>\n<p>I tried in C++ plus as well where the behavior is same.</p>\n<p>Can anyone please let me know the reason for this. I'm surprised seeing this behavior.</p>\n<p><a href=\"https://i.stack.imgur.com/Xz7az.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xz7az.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the logic I written.</p>\n<pre><code>public static void numberCrown(int n) {\n    // Write your code here.\n    int n1=2*(n-1);\n    for(int i=1;i&lt;=n;i++){\n        for (int j = 1; j &lt;= i; j++) {\n            System.out.print(j+&quot;&quot;);\n        }\n        for(int j=1;j&lt;=n1;j++){\n            System.out.print(&quot; &quot;);\n        }\n        for (int j =i; j&gt;=1; j--) {\n            System.out.print(j+&quot;&quot;);\n        }\n        System.out.println(&quot;&quot;);\n        n1=n1-2;        \n    }\n}\n</code></pre>\n"},{"tags":["java","rest","http"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701875971,"creation_date":1701875971,"answer_id":77614326,"question_id":77612342,"body_markdown":"The HttpClient5 `CloseableHttpResponse` doesn&#39;t have a method to retrieve the status line. The one from HttpClient4 does, but that&#39;s not compatible.\r\n\r\nThe HttpClient4 status line can give you three properties:\r\n* `ProtocolVersion getProtocolVersion()`\r\n* `int getStatusCode()`\r\n* `String getReasonPhrase()`\r\n\r\nYou can get those directly from the classic `CloseableHttpResponse` with these methods:\r\n* `ProtocolVersion getVersion()`\r\n* `int getCode()`\r\n* `String getReasonPhrase()`\r\n\r\nThose are all defined by the `org.apache.hc.core5.http.HttpResponse` interface (the first through its super interface `HttpMessage`), so you can also get them from other `HttpResponse` implementations like `SimpleHttpResponse`.","title":"How do I get the Status Line from a CloseableHttpResponse instance?","body":"<p>The HttpClient5 <code>CloseableHttpResponse</code> doesn't have a method to retrieve the status line. The one from HttpClient4 does, but that's not compatible.</p>\n<p>The HttpClient4 status line can give you three properties:</p>\n<ul>\n<li><code>ProtocolVersion getProtocolVersion()</code></li>\n<li><code>int getStatusCode()</code></li>\n<li><code>String getReasonPhrase()</code></li>\n</ul>\n<p>You can get those directly from the classic <code>CloseableHttpResponse</code> with these methods:</p>\n<ul>\n<li><code>ProtocolVersion getVersion()</code></li>\n<li><code>int getCode()</code></li>\n<li><code>String getReasonPhrase()</code></li>\n</ul>\n<p>Those are all defined by the <code>org.apache.hc.core5.http.HttpResponse</code> interface (the first through its super interface <code>HttpMessage</code>), so you can also get them from other <code>HttpResponse</code> implementations like <code>SimpleHttpResponse</code>.</p>\n"}],"owner":{"account_id":29620184,"reputation":13,"user_id":22701382,"display_name":"AJHG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701875971,"creation_date":1701859081,"question_id":77612342,"body_markdown":"I am trying to get the Status Line of an CloseableHttpResponse object, but I don&#180;t know which Java class I have to use.\r\n\r\n\r\n```\r\npackage com.mycompany.prueba_rest;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\nimport org.apache.hc.client5.http.classic.methods.HttpGet;\r\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpResponse;\r\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\r\n\r\npublic class Prueba_REST {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n        //Crear objeto HttpClient.\r\n        CloseableHttpClient httpclient = HttpClients.createDefault();\r\n\r\n        //Crear un objeto HttpGet.\r\n        HttpGet httpget = new HttpGet(&quot;https://www.tutorialspoint.com&quot;);\r\n\r\n        //Imprimir por pantalla el m&#233;todo usado.\r\n        System.out.println(&quot;Request Type: &quot;+httpget.getMethod());\r\n\r\n        //Ejecutar el pedido GET.\r\n        CloseableHttpResponse httpresponse = httpclient.execute(httpget);\r\n        Scanner scanner = new Scanner(httpresponse.getEntity().getContent());\r\n        \r\n        //Imprimir la L&#237;nea de Estado.\r\n                                        //Error!\r\n        System.out.println(httpresponse.getStatusLine());\r\n        while(scanner.hasNext()) System.out.println(scanner.nextLine());\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried looking in the official documentation, however, I didn&#180;t find anything yet.","title":"How do I get the Status Line from a CloseableHttpResponse instance?","body":"<p>I am trying to get the Status Line of an CloseableHttpResponse object, but I don´t know which Java class I have to use.</p>\n<pre><code>package com.mycompany.prueba_rest;\n\nimport java.io.IOException;\nimport java.util.Scanner;\nimport org.apache.hc.client5.http.classic.methods.HttpGet;\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpResponse;\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\n\npublic class Prueba_REST {\n\n    public static void main(String[] args) throws IOException {\n        \n        //Crear objeto HttpClient.\n        CloseableHttpClient httpclient = HttpClients.createDefault();\n\n        //Crear un objeto HttpGet.\n        HttpGet httpget = new HttpGet(&quot;https://www.tutorialspoint.com&quot;);\n\n        //Imprimir por pantalla el método usado.\n        System.out.println(&quot;Request Type: &quot;+httpget.getMethod());\n\n        //Ejecutar el pedido GET.\n        CloseableHttpResponse httpresponse = httpclient.execute(httpget);\n        Scanner scanner = new Scanner(httpresponse.getEntity().getContent());\n        \n        //Imprimir la Línea de Estado.\n                                        //Error!\n        System.out.println(httpresponse.getStatusLine());\n        while(scanner.hasNext()) System.out.println(scanner.nextLine());\n    }\n}\n</code></pre>\n<p>I tried looking in the official documentation, however, I didn´t find anything yet.</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11068,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1701940668,"post_id":77614283,"comment_id":136837793,"body_markdown":"Welcome to SOF. This place works best for you if you ask very focused, specific questions on 1 AnyLogic issue, show exactly what you tried already and where you are stuck. If you want to know “how do I best do X in AnyLogic”, you should use the LinkedIn forum instead. Check this overview to the community to understand why: https://benjamin-schumann.com/blog/anylogic-community. Else, try to break down your broad question into specific sub-questions and ask them separately, see https://benjamin-schumann.com/blog/anylogic-stackoverflow. Welcome again, happy to help","body":"Welcome to SOF. This place works best for you if you ask very focused, specific questions on 1 AnyLogic issue, show exactly what you tried already and where you are stuck. If you want to know “how do I best do X in AnyLogic”, you should use the LinkedIn forum instead. Check this overview to the community to understand why: <a href=\"https://benjamin-schumann.com/blog/anylogic-community\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-community</a>. Else, try to break down your broad question into specific sub-questions and ask them separately, see <a href=\"https://benjamin-schumann.com/blog/anylogic-stackoverflow\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-stackoverflow</a>. Welcome again, happy to help"}],"owner":{"account_id":30080524,"reputation":1,"user_id":23052266,"display_name":"김민찬"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701940672,"answer_count":0,"score":-2,"last_activity_date":1701875643,"creation_date":1701875643,"question_id":77614283,"body_markdown":"[[enter image description here](https://i.stack.imgur.com/fzrM6.png)][enter image description here](https://i.stack.imgur.com/M3SeG.png)(https://i.stack.imgur.com/BxxTJ.png)I want to create a Lotgerator agent from each node in the &#39;from&#39; column in the database. Can you help me? I&#39;ll provide what I&#39;ve written so far! Please refer to the picture.\r\n\r\n&quot;What should go in the &#39;node&#39; slot of the &#39;source&#39; block for Lotgenerator to be created all at once?&quot;\r\n&quot;All the nodes in the database have their layouts!&quot;\r\nplease help me\r\n\r\n&quot;I&#39;ve tried mapping it so far because I was asked to, but I&#39;m not sure what to do next. I would really appreciate some help.&quot;\r\n\r\n","title":"anylogic generate Source block in DB at a time, &quot;from&quot; columns at a time","body":"<p>[<a href=\"https://i.stack.imgur.com/fzrM6.png\" rel=\"nofollow noreferrer\">enter image description here</a>]<a href=\"https://i.stack.imgur.com/M3SeG.png\" rel=\"nofollow noreferrer\">enter image description here</a>(<a href=\"https://i.stack.imgur.com/BxxTJ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/BxxTJ.png</a>)I want to create a Lotgerator agent from each node in the 'from' column in the database. Can you help me? I'll provide what I've written so far! Please refer to the picture.</p>\n<p>&quot;What should go in the 'node' slot of the 'source' block for Lotgenerator to be created all at once?&quot;\n&quot;All the nodes in the database have their layouts!&quot;\nplease help me</p>\n<p>&quot;I've tried mapping it so far because I was asked to, but I'm not sure what to do next. I would really appreciate some help.&quot;</p>\n"},{"tags":["java","microservices","domain-driven-design","cqrs","event-sourcing"],"comments":[{"owner":{"account_id":19273,"reputation":3124,"user_id":45045,"accept_rate":95,"display_name":"Rudi"},"score":3,"creation_date":1698400558,"post_id":77323853,"comment_id":136403624,"body_markdown":"Is the requirement that you can lookup the aggregate by a previously used mail address or only the current one?\nIn any case, I would opt to create an &#39;internal&#39; projection, aka Materialized Model, to map the mail address to the AggregateID.","body":"Is the requirement that you can lookup the aggregate by a previously used mail address or only the current one? In any case, I would opt to create an &#39;internal&#39; projection, aka Materialized Model, to map the mail address to the AggregateID."}],"owner":{"account_id":29708425,"reputation":11,"user_id":22768726,"display_name":"TrassaTeusz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701875498,"creation_date":1697719307,"question_id":77323853,"body_markdown":"I am diving deeper into CQRS and event sourcing architecture. I am a bit confused about loading an aggregate (write model) into my application.\r\n\r\nI push all my events to my Kafka event bus and also save the read projection in my application local database as events. While I don&#39;t have any problems loading my aggregate to its latest state from my event store, I am at trouble when I need to find an aggregate or validate commands to be applied on it by something other then its ID, which may change over time (e.g. email address). I can, however, find older events with old email addresses by querying my read model database with a query like ```Where mail = given_mail```.\r\n\r\nMaybe my concept is wrong and I should publish event only to event bus and store Materialized Models in Database (event if it is command parts)?\r\nMaybe while my Query part is kafka-listner and create ReadOnly Projections I should use the same repository to fetch data from Read-Database even on Command side?\r\n\r\nI am considering which approach is better/correct and if you have any documents about it feel free to share with me :)\r\n\r\nI tried to find a out of articles about event sourcing.","title":"Loading an aggregate with a field other than its id from an event sourcing event store","body":"<p>I am diving deeper into CQRS and event sourcing architecture. I am a bit confused about loading an aggregate (write model) into my application.</p>\n<p>I push all my events to my Kafka event bus and also save the read projection in my application local database as events. While I don't have any problems loading my aggregate to its latest state from my event store, I am at trouble when I need to find an aggregate or validate commands to be applied on it by something other then its ID, which may change over time (e.g. email address). I can, however, find older events with old email addresses by querying my read model database with a query like <code>Where mail = given_mail</code>.</p>\n<p>Maybe my concept is wrong and I should publish event only to event bus and store Materialized Models in Database (event if it is command parts)?\nMaybe while my Query part is kafka-listner and create ReadOnly Projections I should use the same repository to fetch data from Read-Database even on Command side?</p>\n<p>I am considering which approach is better/correct and if you have any documents about it feel free to share with me :)</p>\n<p>I tried to find a out of articles about event sourcing.</p>\n"},{"tags":["java","select","zooming"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700867096,"post_id":77545821,"comment_id":136708958,"body_markdown":"Maybe something like [this](https://stackoverflow.com/questions/18158550/zoom-box-for-area-around-mouse-location-on-screen/18158845#18158845); You could also make use of the `JLayer` APIs [for example](https://stackoverflow.com/questions/21174997/how-to-add-mouselistener-to-item-on-java-swing-canvas/21175125#21175125)","body":"Maybe something like <a href=\"https://stackoverflow.com/questions/18158550/zoom-box-for-area-around-mouse-location-on-screen/18158845#18158845\">this</a>; You could also make use of the <code>JLayer</code> APIs <a href=\"https://stackoverflow.com/questions/21174997/how-to-add-mouselistener-to-item-on-java-swing-canvas/21175125#21175125\">for example</a>"},{"owner":{"account_id":26486739,"reputation":1,"user_id":20125201,"display_name":"Fr&#233;d&#233;rique Souli&#232;re"},"score":0,"creation_date":1700868551,"post_id":77545821,"comment_id":136709042,"body_markdown":"I can&#39;t used pop Up I have to directly zoom in the drawing","body":"I can&#39;t used pop Up I have to directly zoom in the drawing"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700869522,"post_id":77545821,"comment_id":136709103,"body_markdown":"Maybe, it will give you some ideas","body":"Maybe, it will give you some ideas"}],"owner":{"account_id":26486739,"reputation":1,"user_id":20125201,"display_name":"Fr&#233;d&#233;rique Souli&#232;re"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701875409,"creation_date":1700863012,"question_id":77545821,"body_markdown":"I want to add the zooming function around the MOUSE, but I want to keep the unscaled values because I need to used it to selected item afterwards. The select item works perfectly before the zooming around the mousePoint:\r\n\r\n        @Override protected void paintComponent(Graphics g) {    \r\n        if (mainWindow != null) {\r\n            super.paintComponent(g);\r\n            \r\n            int zoomX = (int)(intialDimension.width * mainWindow.controller.getScaleZoom());\r\n            int zoomY = (int)(intialDimension.height* mainWindow.controller.getScaleZoom());\r\n            \r\n            Graphics2D g2d = (Graphics2D)g;\r\n    \r\n            g2d.scale(mainWindow.controller.getScaleZoom(), mainWindow.controller.getScaleZoom());\r\n        \r\n            MainDrawer mainDrawer = new MainDrawer(mainWindow.controller, this.chaletDrawer, new   Dimension(zoomX, zoomY));\r\n            mainDrawer.draw(g2d);\r\n            \r\n            g2d.dispose();\r\n    \r\n        }\r\n    }\r\n\r\nMoussePressed :\r\n\r\n        Point mousePoint = evt.getPoint(); double scaleZoom = controller.getScaleZoom();\r\n        // Convert the mouse coordinates back to the unscaled (original) coordinates\r\n        // 100 is the initial point of the drawing\r\n        // 4 is the scale of the drawing\r\n        int unscaledX = (int) ((mousePoint.x / scaleZoom - 100) / 4);\r\n        int unscaledY = (int) ((mousePoint.y / scaleZoom - 100) / 4);\r\n    \r\n        System.out.println(&quot;Unscaled Mouse Point: (&quot; + unscaledX + &quot;, &quot; + unscaledY + &quot;)&quot;);\r\n    \r\n        this.controller.switchSelectionStatusAccessoire(unscaledX, unscaledY, viewType);\r\n        this.drawingPanel.repaint();`\r\n\r\nMouseWheel :\r\n\r\n    double amount = Math.pow(1.1, evt.getScrollAmount());       `\r\n    \r\n    if (evt.getWheelRotation() &gt; 0) {             \r\n        controller.setScaleZoom(oldzoom * amount);         \r\n    } else {             \r\n        controller.setScaleZoom(oldzoom / amount);         \r\n    }            \r\n    this.drawingPanel.repaint();\r\n\r\nI can easily adapt the code to zoom aroud the mousePoint using AffineTransform. The problem is, afterward when I select it&#39;s not selecting at the good place and because I call the repaint in the MousePressed it will redraw the entire drawing at the initial position.\r\n\r\n    @Override protected void paintComponent(Graphics g) {    \r\n            if (mainWindow != null) {\r\n            super.paintComponent(g);\r\n    \r\n            int zoomX = (int) (intialDimension.width * mainWindow.controller.getScaleZoom());\r\n            int zoomY = (int) (intialDimension.height * mainWindow.controller.getScaleZoom());\r\n    \r\n            Graphics2D g2d = (Graphics2D) g;\r\n    \r\n            Point mousePosition = getMousePosition();\r\n            AffineTransform at = g2d.getTransform();\r\n            if (mousePosition != null) {\r\n                at.translate(mousePosition.getX(), mousePosition.getY());\r\n            }\r\n            at.scale(mainWindow.controller.getScaleZoom(), mainWindow.controller.getScaleZoom());\r\n            if (mousePosition != null) {\r\n    \r\n                at.translate(-mousePosition.getX(), -mousePosition.getY());\r\n            }\r\n            g2d.setTransform(at);\r\n    \r\n            revalidate();\r\n            \r\n            MainDrawer mainDrawer = new MainDrawer(mainWindow.controller, this.chaletDrawer, new Dimension(zoomX, zoomY));\r\n            mainDrawer.draw(g2d);\r\n    \r\n    \r\n            g2d.dispose();\r\n    \r\n        }\r\n    }`","title":"Java- Zooming around mousePoint and Selection afterwards","body":"<p>I want to add the zooming function around the MOUSE, but I want to keep the unscaled values because I need to used it to selected item afterwards. The select item works perfectly before the zooming around the mousePoint:</p>\n<pre><code>    @Override protected void paintComponent(Graphics g) {    \n    if (mainWindow != null) {\n        super.paintComponent(g);\n        \n        int zoomX = (int)(intialDimension.width * mainWindow.controller.getScaleZoom());\n        int zoomY = (int)(intialDimension.height* mainWindow.controller.getScaleZoom());\n        \n        Graphics2D g2d = (Graphics2D)g;\n\n        g2d.scale(mainWindow.controller.getScaleZoom(), mainWindow.controller.getScaleZoom());\n    \n        MainDrawer mainDrawer = new MainDrawer(mainWindow.controller, this.chaletDrawer, new   Dimension(zoomX, zoomY));\n        mainDrawer.draw(g2d);\n        \n        g2d.dispose();\n\n    }\n}\n</code></pre>\n<p>MoussePressed :</p>\n<pre><code>    Point mousePoint = evt.getPoint(); double scaleZoom = controller.getScaleZoom();\n    // Convert the mouse coordinates back to the unscaled (original) coordinates\n    // 100 is the initial point of the drawing\n    // 4 is the scale of the drawing\n    int unscaledX = (int) ((mousePoint.x / scaleZoom - 100) / 4);\n    int unscaledY = (int) ((mousePoint.y / scaleZoom - 100) / 4);\n\n    System.out.println(&quot;Unscaled Mouse Point: (&quot; + unscaledX + &quot;, &quot; + unscaledY + &quot;)&quot;);\n\n    this.controller.switchSelectionStatusAccessoire(unscaledX, unscaledY, viewType);\n    this.drawingPanel.repaint();`\n</code></pre>\n<p>MouseWheel :</p>\n<pre><code>double amount = Math.pow(1.1, evt.getScrollAmount());       `\n\nif (evt.getWheelRotation() &gt; 0) {             \n    controller.setScaleZoom(oldzoom * amount);         \n} else {             \n    controller.setScaleZoom(oldzoom / amount);         \n}            \nthis.drawingPanel.repaint();\n</code></pre>\n<p>I can easily adapt the code to zoom aroud the mousePoint using AffineTransform. The problem is, afterward when I select it's not selecting at the good place and because I call the repaint in the MousePressed it will redraw the entire drawing at the initial position.</p>\n<pre><code>@Override protected void paintComponent(Graphics g) {    \n        if (mainWindow != null) {\n        super.paintComponent(g);\n\n        int zoomX = (int) (intialDimension.width * mainWindow.controller.getScaleZoom());\n        int zoomY = (int) (intialDimension.height * mainWindow.controller.getScaleZoom());\n\n        Graphics2D g2d = (Graphics2D) g;\n\n        Point mousePosition = getMousePosition();\n        AffineTransform at = g2d.getTransform();\n        if (mousePosition != null) {\n            at.translate(mousePosition.getX(), mousePosition.getY());\n        }\n        at.scale(mainWindow.controller.getScaleZoom(), mainWindow.controller.getScaleZoom());\n        if (mousePosition != null) {\n\n            at.translate(-mousePosition.getX(), -mousePosition.getY());\n        }\n        g2d.setTransform(at);\n\n        revalidate();\n        \n        MainDrawer mainDrawer = new MainDrawer(mainWindow.controller, this.chaletDrawer, new Dimension(zoomX, zoomY));\n        mainDrawer.draw(g2d);\n\n\n        g2d.dispose();\n\n    }\n}`\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1699248601,"post_id":77428873,"comment_id":136502979,"body_markdown":"This error may occur when the ChromeDriver version is not compatible with the Chrome browser version, or when the JSON. please recheck and add fresh driver once again and configure once again.","body":"This error may occur when the ChromeDriver version is not compatible with the Chrome browser version, or when the JSON. please recheck and add fresh driver once again and configure once again."},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":2,"creation_date":1699263915,"post_id":77428873,"comment_id":136505007,"body_markdown":"Does this answer your question? [Selenium throws &quot;result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response&quot;exception after starting ChromeDriver](https://stackoverflow.com/questions/77424990/selenium-throws-result-webdrivervalue-value-list-is-missing-or-empty-in-runtime)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/77424990/selenium-throws-result-webdrivervalue-value-list-is-missing-or-empty-in-runtime\">Selenium throws &quot;result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response&quot;exception after starting ChromeDriver</a>"},{"owner":{"account_id":22258869,"reputation":1259,"user_id":16490627,"display_name":"The_spider"},"score":0,"creation_date":1701278884,"post_id":77428873,"comment_id":136757022,"body_markdown":"Could you please [edit] the testcase and the full error, including traceback, into your question? Without them, it might be hard to tell what exactly caused the error. Be sure to add a [mcve], containing the least possible code that raises your error.","body":"Could you please <a href=\"https://stackoverflow.com/posts/77428873/edit\">edit</a> the testcase and the full error, including traceback, into your question? Without them, it might be hard to tell what exactly caused the error. Be sure to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, containing the least possible code that raises your error."}],"answers":[{"comments":[{"owner":{"account_id":5485623,"reputation":465,"user_id":10186832,"display_name":"user10186832"},"score":0,"creation_date":1699276857,"post_id":77429521,"comment_id":136507296,"body_markdown":"Edge works now following recent update","body":"Edge works now following recent update"}],"tags":[],"owner":{"account_id":13688997,"reputation":658,"user_id":9877340,"display_name":"kenneth"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1699435492,"creation_date":1699256973,"answer_id":77429521,"question_id":77428873,"body_markdown":"I&#39;m still unsure of the issue, it&#39;s currently only happening in my Edge browser on version 119 due to previous usage. I have changed from EdgeDriver **to Chrome/ChromeDriver**, this might initalize new sessions or builds what helps:\r\n\r\n- Chrome v119\r\n- Selenium.WebDriver v4.12.4\r\n- WebDriverManager for automatic download of ChromeDriver\r\n\r\n**update**\r\n\r\nI&#39;ve updated my WebDriverManager to download the matching driver for v119 in Edge - now the problem is fixed:\r\n\r\n    new DriverManager().SetUpDriver(new EdgeConfig(), VersionResolveStrategy.MatchingBrowser);","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>I'm still unsure of the issue, it's currently only happening in my Edge browser on version 119 due to previous usage. I have changed from EdgeDriver <strong>to Chrome/ChromeDriver</strong>, this might initalize new sessions or builds what helps:</p>\n<ul>\n<li>Chrome v119</li>\n<li>Selenium.WebDriver v4.12.4</li>\n<li>WebDriverManager for automatic download of ChromeDriver</li>\n</ul>\n<p><strong>update</strong></p>\n<p>I've updated my WebDriverManager to download the matching driver for v119 in Edge - now the problem is fixed:</p>\n<pre><code>new DriverManager().SetUpDriver(new EdgeConfig(), VersionResolveStrategy.MatchingBrowser);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1057369,"reputation":2414,"user_id":1059776,"accept_rate":88,"display_name":"Paul B."},"score":0,"creation_date":1699265446,"post_id":77429720,"comment_id":136505271,"body_markdown":"Seems to affect Edge as well. After updating the browser to version 119.0.2151.44 I needed to install a new Microsoft Edge WebDriver too.","body":"Seems to affect Edge as well. After updating the browser to version 119.0.2151.44 I needed to install a new Microsoft Edge WebDriver too."},{"owner":{"account_id":250657,"reputation":9066,"user_id":527516,"accept_rate":62,"display_name":"Daniel Williams"},"score":0,"creation_date":1699284912,"post_id":77429720,"comment_id":136509131,"body_markdown":"For me the issue was when we called driver.Title, caused this exception when we had Chrome 119 and Chromedriver 118.  Upgrading too 119 driver fixed it, but breaks our understanding that 1 version back was always acceptable with the driver.","body":"For me the issue was when we called driver.Title, caused this exception when we had Chrome 119 and Chromedriver 118.  Upgrading too 119 driver fixed it, but breaks our understanding that 1 version back was always acceptable with the driver."}],"tags":[],"owner":{"account_id":10336690,"reputation":3527,"user_id":7624566,"display_name":"K. B."},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1699259273,"creation_date":1699259273,"answer_id":77429720,"question_id":77428873,"body_markdown":"I think this is a generic message that the session cannot be created, previously SessionNotCreated exception https://stackoverflow.com/questions/75140505/how-to-address-sessionnotcreatedexception-with-latest-chromedriver-exe.   \r\nI updated both the ChromeDriver and the Chrome on the machine with the latest versions available (119) and the issue is gone. Before the update I had Selenium.Webdriver.Chromedriver\\119.0.6045.10500 and chrome version 118.\r\n\r\nSelenium team has closed the connected issue.   \r\nhttps://github.com/SeleniumHQ/selenium/issues/13081","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>I think this is a generic message that the session cannot be created, previously SessionNotCreated exception <a href=\"https://stackoverflow.com/questions/75140505/how-to-address-sessionnotcreatedexception-with-latest-chromedriver-exe\">How to address SessionNotCreatedException with latest chromedriver.exe?</a>.<br />\nI updated both the ChromeDriver and the Chrome on the machine with the latest versions available (119) and the issue is gone. Before the update I had Selenium.Webdriver.Chromedriver\\119.0.6045.10500 and chrome version 118.</p>\n<p>Selenium team has closed the connected issue.<br />\n<a href=\"https://github.com/SeleniumHQ/selenium/issues/13081\" rel=\"noreferrer\">https://github.com/SeleniumHQ/selenium/issues/13081</a></p>\n"},{"tags":[],"owner":{"account_id":29844253,"reputation":1,"user_id":22871695,"display_name":"MargaritaLadybird"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699344183,"creation_date":1699344183,"answer_id":77436457,"question_id":77428873,"body_markdown":"I use the Webdriver manager Nuget packet to load the latest driver. When I started debugging I found out that Webdriver Manager loaded Edge Driver 118 version instead of 119 (so the latest version at the moment detected wrong with the manager), and I changed browserVersion Strategy from Latest to MatchingBrowser. And the problem was solved.\r\n\r\nstring browserVersion = VersionResolveStrategy.MatchingBrowser;","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>I use the Webdriver manager Nuget packet to load the latest driver. When I started debugging I found out that Webdriver Manager loaded Edge Driver 118 version instead of 119 (so the latest version at the moment detected wrong with the manager), and I changed browserVersion Strategy from Latest to MatchingBrowser. And the problem was solved.</p>\n<p>string browserVersion = VersionResolveStrategy.MatchingBrowser;</p>\n"},{"comments":[{"owner":{"account_id":14858718,"reputation":337,"user_id":10730344,"display_name":"Jona"},"score":1,"creation_date":1699423735,"post_id":77436721,"comment_id":136528079,"body_markdown":"Updating my Chrome Driver to the latest version fixed it for me too. Thanks.","body":"Updating my Chrome Driver to the latest version fixed it for me too. Thanks."}],"tags":[],"owner":{"account_id":13851677,"reputation":477,"user_id":9999478,"display_name":"Shehan Jayalath"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699347011,"creation_date":1699347011,"answer_id":77436721,"question_id":77428873,"body_markdown":"**I had the same problem**\r\n\r\n    src.exception.exceptions.ScraperException: Message: unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response\r\n\r\nmy tools were:\r\n\r\n    Google Chrome version: 119.0.6045.105\r\n    Chromedriver version: 118.0.5993.70\r\n\r\n    Chip: Apple M1\r\n\r\n\r\n\r\nThe solution for this was:\r\n\r\nI had to upgrade `Chromedriver version` to `119.0.6045.105`(Current Stable Version)","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p><strong>I had the same problem</strong></p>\n<pre><code>src.exception.exceptions.ScraperException: Message: unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response\n</code></pre>\n<p>my tools were:</p>\n<pre><code>Google Chrome version: 119.0.6045.105\nChromedriver version: 118.0.5993.70\n\nChip: Apple M1\n</code></pre>\n<p>The solution for this was:</p>\n<p>I had to upgrade <code>Chromedriver version</code> to <code>119.0.6045.105</code>(Current Stable Version)</p>\n"},{"tags":[],"owner":{"account_id":2669436,"reputation":413,"user_id":2307140,"display_name":"Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699470597,"creation_date":1699470597,"answer_id":77448309,"question_id":77428873,"body_markdown":"For those who are seeing this issue on Edge for a previously working code, it started happening with the release of MS Edge browser on 119.0.2151.44 on Nov 2, 2023. One of the easy fixes is update the edge driver to be on the same version. It worked for me.","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>For those who are seeing this issue on Edge for a previously working code, it started happening with the release of MS Edge browser on 119.0.2151.44 on Nov 2, 2023. One of the easy fixes is update the edge driver to be on the same version. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":7908652,"reputation":11,"user_id":5973339,"display_name":"PATRICK VILLAIN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701571587,"creation_date":1699696027,"answer_id":77464592,"question_id":77428873,"body_markdown":"The same problem. I have updated the chromedriver version: 119.0.6045.105. It was solved!","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>The same problem. I have updated the chromedriver version: 119.0.6045.105. It was solved!</p>\n"},{"tags":[],"owner":{"account_id":28176709,"reputation":11,"user_id":21534379,"display_name":"faqih-fn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699869316,"creation_date":1699869316,"answer_id":77473013,"question_id":77428873,"body_markdown":"Your chromedriver was not compatible with your actual browser. You can update your chromedriver.exe from https://chromedriver.chromium.org/downloads , and make sure you have the same chromedriver and actual browser version.\r\n\r\nIf you are using the chromedriver 115 or newer, you can update it from &quot;Chrome for Testing Availability&quot; page.","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>Your chromedriver was not compatible with your actual browser. You can update your chromedriver.exe from <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a> , and make sure you have the same chromedriver and actual browser version.</p>\n<p>If you are using the chromedriver 115 or newer, you can update it from &quot;Chrome for Testing Availability&quot; page.</p>\n"}],"owner":{"account_id":29824506,"reputation":155,"user_id":22856845,"display_name":"MOHAMED SUFYAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24062,"favorite_count":0,"down_vote_count":3,"up_vote_count":16,"answer_count":7,"score":13,"last_activity_date":1701875265,"creation_date":1699247559,"question_id":77428873,"body_markdown":"When running my testcase, I get this unknown error: \r\n\r\n```\r\nresult.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response\r\n```\r\nI tried to find the correct driver without changing my browser version. My browser version is 119 and I took the same for the driver.","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>When running my testcase, I get this unknown error:</p>\n<pre><code>result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response\n</code></pre>\n<p>I tried to find the correct driver without changing my browser version. My browser version is 119 and I took the same for the driver.</p>\n"},{"tags":["java","serialization","deserialization"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1701874886,"post_id":77614157,"comment_id":136829300,"body_markdown":"Please try closing the output stream after you write to it.","body":"Please try closing the output stream after you write to it."},{"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"score":0,"creation_date":1701881113,"post_id":77614157,"comment_id":136830523,"body_markdown":"I closed streams but It didnt help","body":"I closed streams but It didnt help"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701884078,"post_id":77614157,"comment_id":136831065,"body_markdown":"You said you created `readObject` and `writeObject` methods, but I don’t see those in your ClassWithStatic class.","body":"You said you created <code>readObject</code> and <code>writeObject</code> methods, but I don’t see those in your ClassWithStatic class."},{"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"score":0,"creation_date":1701884630,"post_id":77614157,"comment_id":136831152,"body_markdown":"Yes I used this construction instead current `serializeStatic` and `deserializeStatic`.\n\nOutput was the same","body":"Yes I used this construction instead current <code>serializeStatic</code> and <code>deserializeStatic</code>.  Output was the same"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701888302,"post_id":77614157,"comment_id":136831810,"body_markdown":"Can you explain what the problem is here?  What output do you want to see instead?","body":"Can you explain what the problem is here?  What output do you want to see instead?"},{"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"score":0,"creation_date":1701922819,"post_id":77614157,"comment_id":136835852,"body_markdown":"Second system.out.print have to show &#39; This is a static test string&#39; for variable &#39;static string&#39;","body":"Second system.out.print have to show &#39; This is a static test string&#39; for variable &#39;static string&#39;"}],"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702013910,"answer_count":0,"score":-3,"last_activity_date":1701874542,"creation_date":1701874542,"question_id":77614157,"body_markdown":"My task is to serialize static variable. So I added to methods `serializeStatic` and `deserializeStatic`. \r\n\r\nSo my ouput is \r\n\r\n&gt; ClassWithStatic{i=5, j=6} static field=This is a static test string\r\n&gt; \r\n&gt; ClassWithStatic{i=5, j=6} static field=gfhgf\r\n&gt; \r\n&gt; ClassWithStatic{i=7, j=8} static field=gfhgf\r\n\r\n\r\nI also used method construction like this\r\n\r\n    private void writeObject(ObjectOutputStream out) throws IOException {\r\n        out.defaultWriteObject();\r\n        out.writeObject(staticString);\r\n    }\r\n    \r\n    private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\r\n        in.defaultReadObject();\r\n        staticString = (String) in.readObject();\r\n    }\r\n\r\nIt didnt help. The output the same. What is the problem can be here?\r\n\r\n\r\n\r\n    public class Solution {\r\n        public static class ClassWithStatic implements Serializable {\r\n            public static String staticString = &quot;This is a static test string&quot;;\r\n            public int i;\r\n            public int j;\r\n    \r\n            public ClassWithStatic(String staticString, int i, int j) {\r\n                this.i = i;\r\n                this.j = j;\r\n                ClassWithStatic.staticString = staticString;\r\n            }\r\n    \r\n            public ClassWithStatic(int i, int j) {\r\n                this.i = i;\r\n                this.j = j;\r\n    \r\n            }\r\n    \r\n            public static void serializeStatic(ObjectOutputStream objectOutputStream) throws IOException {\r\n    \r\n                objectOutputStream.writeObject(staticString);\r\n                \r\n            }\r\n    \r\n            public static void deserializeStatic(ObjectInputStream objectInputStream) throws IOException, ClassNotFoundException {\r\n    \r\n                staticString = (String)objectInputStream.readObject();\r\n                System.out.println(&quot;!!!&quot;+staticString);\r\n    \r\n            }\r\n            @Override\r\n            public String toString() {\r\n                return &quot;ClassWithStatic{&quot; +\r\n                        &quot;i=&quot; + i +\r\n                        &quot;, j=&quot; + j +\r\n                        &#39;}&#39; +\r\n                        &quot; static field=&quot; + staticString;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream(&quot;2009.txt&quot;));\r\n            ClassWithStatic classWithStatic = new ClassWithStatic(5,6);\r\n            ClassWithStatic.serializeStatic(objectOutputStream);\r\n    \r\n            objectOutputStream.writeObject(classWithStatic);\r\n    \r\n            ObjectInputStream objectInputStream = new ObjectInputStream(new FileInputStream(&quot;2009.txt&quot;));\r\n            ClassWithStatic.deserializeStatic(objectInputStream);\r\n            Object o = objectInputStream.readObject();\r\n            System.out.println(o);\r\n    \r\n            objectOutputStream.writeObject(new ClassWithStatic(&quot;gfhgf&quot;, 7,8));\r\n    \r\n    \r\n    \r\n            Object j = objectInputStream.readObject();\r\n            System.out.println(o);\r\n            System.out.println(j);\r\n        }\r\n    }\r\n\r\n","title":"I added Serialization methods to static string var, but they don&#39;t work","body":"<p>My task is to serialize static variable. So I added to methods <code>serializeStatic</code> and <code>deserializeStatic</code>.</p>\n<p>So my ouput is</p>\n<blockquote>\n<p>ClassWithStatic{i=5, j=6} static field=This is a static test string</p>\n<p>ClassWithStatic{i=5, j=6} static field=gfhgf</p>\n<p>ClassWithStatic{i=7, j=8} static field=gfhgf</p>\n</blockquote>\n<p>I also used method construction like this</p>\n<pre><code>private void writeObject(ObjectOutputStream out) throws IOException {\n    out.defaultWriteObject();\n    out.writeObject(staticString);\n}\n\nprivate void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\n    in.defaultReadObject();\n    staticString = (String) in.readObject();\n}\n</code></pre>\n<p>It didnt help. The output the same. What is the problem can be here?</p>\n<pre><code>public class Solution {\n    public static class ClassWithStatic implements Serializable {\n        public static String staticString = &quot;This is a static test string&quot;;\n        public int i;\n        public int j;\n\n        public ClassWithStatic(String staticString, int i, int j) {\n            this.i = i;\n            this.j = j;\n            ClassWithStatic.staticString = staticString;\n        }\n\n        public ClassWithStatic(int i, int j) {\n            this.i = i;\n            this.j = j;\n\n        }\n\n        public static void serializeStatic(ObjectOutputStream objectOutputStream) throws IOException {\n\n            objectOutputStream.writeObject(staticString);\n            \n        }\n\n        public static void deserializeStatic(ObjectInputStream objectInputStream) throws IOException, ClassNotFoundException {\n\n            staticString = (String)objectInputStream.readObject();\n            System.out.println(&quot;!!!&quot;+staticString);\n\n        }\n        @Override\n        public String toString() {\n            return &quot;ClassWithStatic{&quot; +\n                    &quot;i=&quot; + i +\n                    &quot;, j=&quot; + j +\n                    '}' +\n                    &quot; static field=&quot; + staticString;\n        }\n    }\n\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream(&quot;2009.txt&quot;));\n        ClassWithStatic classWithStatic = new ClassWithStatic(5,6);\n        ClassWithStatic.serializeStatic(objectOutputStream);\n\n        objectOutputStream.writeObject(classWithStatic);\n\n        ObjectInputStream objectInputStream = new ObjectInputStream(new FileInputStream(&quot;2009.txt&quot;));\n        ClassWithStatic.deserializeStatic(objectInputStream);\n        Object o = objectInputStream.readObject();\n        System.out.println(o);\n\n        objectOutputStream.writeObject(new ClassWithStatic(&quot;gfhgf&quot;, 7,8));\n\n\n\n        Object j = objectInputStream.readObject();\n        System.out.println(o);\n        System.out.println(j);\n    }\n}\n</code></pre>\n"},{"tags":["java","microsoft-graph-api","outlook-graph-api"],"answers":[{"comments":[{"owner":{"account_id":5338579,"reputation":89,"user_id":4256613,"display_name":"Afsar"},"score":0,"creation_date":1676363982,"post_id":75421065,"comment_id":133117081,"body_markdown":"Thanks @Barry for your suggestion. \nWe also have this as an option but its not giving like real-time feel. \nIf we are in a loop and performing some update then its expected to reflect at server side.\n\nWe have other option to handle this by updating our query with since datetime. \nLet&#39;s see","body":"Thanks @Barry for your suggestion.  We also have this as an option but its not giving like real-time feel.  If we are in a loop and performing some update then its expected to reflect at server side.  We have other option to handle this by updating our query with since datetime.  Let&#39;s see"}],"tags":[],"owner":{"account_id":6848018,"reputation":63,"user_id":5266119,"display_name":"Barry Gervin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676127914,"creation_date":1676127914,"answer_id":75421065,"question_id":75418889,"body_markdown":"Might be better to scan your list first (cache up your updates), and then batch the updates together after you&#39;ve iterated the list. Aside from fixing your problem, probably more efficient as well. \r\n\r\nBarry Gervin","title":"Fetch List of messages using message id of 500 mails using java","body":"<p>Might be better to scan your list first (cache up your updates), and then batch the updates together after you've iterated the list. Aside from fixing your problem, probably more efficient as well.</p>\n<p>Barry Gervin</p>\n"},{"tags":[],"owner":{"account_id":24821646,"reputation":11,"user_id":18701926,"display_name":"AlainC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701874506,"creation_date":1701869599,"answer_id":77613501,"question_id":75418889,"body_markdown":"you get a list of IDs with for example \r\n    \r\n\r\n    final MessageCollectionPage messagePage = graphClient.users().byId(bal).messages().buildRequest().top(10).select(&quot;subject,sentDateTime,internetMessageHeaders,internetMessageId&quot;).expand(&quot;singleValueExtendedProperties($filter=Id eq &#39;LONG 0x0E08&#39;)&quot;).get();\r\n\r\nthen you get and process the mails contents in parallel :\r\n\r\n    for (Message msg : messagePage.getCurrentPage()) {\r\n\tgraphClient.users().byId(bal).messages(msg.id).content().buildRequest().getAsync()\r\n\t\t.thenApply(inputStream -&gt; {\r\n\t\t\t(...process...)\r\n\t\t})\r\n\t\t.thenApply(o -&gt; {\r\n\t\t\t//delete mail\r\n\t\t\tgraphClient.users().byId(bal).messages(msg.id).buildRequest().delete();\r\n\t});\r\n    }\r\n\r\nIt should be faster.\r\n\r\n","title":"Fetch List of messages using message id of 500 mails using java","body":"<p>you get a list of IDs with for example</p>\n<pre><code>final MessageCollectionPage messagePage = graphClient.users().byId(bal).messages().buildRequest().top(10).select(&quot;subject,sentDateTime,internetMessageHeaders,internetMessageId&quot;).expand(&quot;singleValueExtendedProperties($filter=Id eq 'LONG 0x0E08')&quot;).get();\n</code></pre>\n<p>then you get and process the mails contents in parallel :</p>\n<pre><code>for (Message msg : messagePage.getCurrentPage()) {\ngraphClient.users().byId(bal).messages(msg.id).content().buildRequest().getAsync()\n    .thenApply(inputStream -&gt; {\n        (...process...)\n    })\n    .thenApply(o -&gt; {\n        //delete mail\n        graphClient.users().byId(bal).messages(msg.id).buildRequest().delete();\n});\n}\n</code></pre>\n<p>It should be faster.</p>\n"}],"owner":{"account_id":5338579,"reputation":89,"user_id":4256613,"display_name":"Afsar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701874506,"creation_date":1676103236,"question_id":75418889,"body_markdown":"As per documentation we have two ways to fetch mails using Graph api.\r\n1) Using $filter with .top(int ) we can fetch list of messages.\r\n2) Using message id we can fetch a single mail.\r\n\r\nI have 50000 mails in my folder. I am using pageSize=500.Its working fine.\r\nNow I also want to move/delete/change status of a mail based on some criteria.\r\n\r\nAfter performing update operation(move/delete/change status) my next page is getting disturbed. Its skipping few mail because in next page top is used.\r\n\r\nFor example : I have 25 mails in folder, I am using $filter with page size=3, top(3) so that only 15 mails are eligible for filtration. Now in each page I am getting 3 mails.\r\n\r\nNow when I apply any update operation , after that I am not getting expected mails in next page. Some mails are getting skipped.\r\n\r\nAny idea how we can over come this?\r\n\r\nMY APPROACH: Fetch all message ids and keeping it in my cache.\r\nFrom next time onwards, I am using these message ids and fetching mails one by one.\r\n\r\nNow the issue is that fetching 500 mails one by one is hitting performance badly. \r\nDo we have any api where we can send list of message ids and get List of messages?\r\n\r\nOr\r\n\r\nDo we have any settings such that next page fetching query will start from exactly next item.\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"Fetch List of messages using message id of 500 mails using java","body":"<p>As per documentation we have two ways to fetch mails using Graph api.</p>\n<ol>\n<li>Using $filter with .top(int ) we can fetch list of messages.</li>\n<li>Using message id we can fetch a single mail.</li>\n</ol>\n<p>I have 50000 mails in my folder. I am using pageSize=500.Its working fine.\nNow I also want to move/delete/change status of a mail based on some criteria.</p>\n<p>After performing update operation(move/delete/change status) my next page is getting disturbed. Its skipping few mail because in next page top is used.</p>\n<p>For example : I have 25 mails in folder, I am using $filter with page size=3, top(3) so that only 15 mails are eligible for filtration. Now in each page I am getting 3 mails.</p>\n<p>Now when I apply any update operation , after that I am not getting expected mails in next page. Some mails are getting skipped.</p>\n<p>Any idea how we can over come this?</p>\n<p>MY APPROACH: Fetch all message ids and keeping it in my cache.\nFrom next time onwards, I am using these message ids and fetching mails one by one.</p>\n<p>Now the issue is that fetching 500 mails one by one is hitting performance badly.\nDo we have any api where we can send list of message ids and get List of messages?</p>\n<p>Or</p>\n<p>Do we have any settings such that next page fetching query will start from exactly next item.</p>\n"},{"tags":["java","multithreading","cassandra-3.0","janusgraph"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701874333,"creation_date":1701873964,"answer_id":77614076,"question_id":77611037,"body_markdown":"It is not entirely clear what you are asking here.\r\n\r\n---------------------\r\n\r\nIf you are asking for how to solve the OOME problem, then that is a simple problem.  Just increase the heap size.  However, that has its limits.\r\n\r\n---------------------\r\n\r\nIf you are asking how to avoid having multiple threads process events for the same client simultaneously, then the natural way to do this is to have a separate event queue for each client, and use a thread per client to process a given client&#39;s events.\r\n\r\nWhen the number clients is small and static, you can have one worker thread and one event queue for each client.  A dispatcher thread accepts the events and simply adds them to the corresponding client&#39;s queue.  The worker threads simply pull events from their client queue and processes them one at a time.\r\n\r\nWhen the number of clients is large and/or new clients are added dynamically, one solution is to use a thread pool and a shared `Map&lt;Client, Queue&lt;Event&gt;&gt;`\r\n\r\n  - The dispatcher thread does the following:\r\n\r\n        while true:\r\n            event = accept\r\n\r\n            if event.client in map:\r\n                queue = map.get(event.client)\r\n                queue.add(event)\r\n            else:\r\n                queue = new Queue\r\n                queue.add(event)\r\n                map.put(event.client, queue)\r\n                pool.submit(new Task(queue))\r\n\r\n   - The tasks do the following\r\n     \r\n         while not queue.is_empty:\r\n             event = queue.take\r\n             process event\r\n\r\n         map.remove(event.client)\r\n\r\nThis should ensure that only one pool thread is processing events for any client at a time.  But if you get a burst of events from a client, they will be given priority ... until they are all processed.\r\n\r\nNote the above pseudo-code will need to be refined to deal with race conditions, etcetera.","title":"Facing java.lang.OutOfMemoryError: Java heap space issue when using multi-threading with JanusGraph","body":"<p>It is not entirely clear what you are asking here.</p>\n<hr />\n<p>If you are asking for how to solve the OOME problem, then that is a simple problem.  Just increase the heap size.  However, that has its limits.</p>\n<hr />\n<p>If you are asking how to avoid having multiple threads process events for the same client simultaneously, then the natural way to do this is to have a separate event queue for each client, and use a thread per client to process a given client's events.</p>\n<p>When the number clients is small and static, you can have one worker thread and one event queue for each client.  A dispatcher thread accepts the events and simply adds them to the corresponding client's queue.  The worker threads simply pull events from their client queue and processes them one at a time.</p>\n<p>When the number of clients is large and/or new clients are added dynamically, one solution is to use a thread pool and a shared <code>Map&lt;Client, Queue&lt;Event&gt;&gt;</code></p>\n<ul>\n<li><p>The dispatcher thread does the following:</p>\n<pre><code>while true:\n    event = accept\n\n    if event.client in map:\n        queue = map.get(event.client)\n        queue.add(event)\n    else:\n        queue = new Queue\n        queue.add(event)\n        map.put(event.client, queue)\n        pool.submit(new Task(queue))\n</code></pre>\n</li>\n<li><p>The tasks do the following</p>\n<pre><code>while not queue.is_empty:\n    event = queue.take\n    process event\n\nmap.remove(event.client)\n</code></pre>\n</li>\n</ul>\n<p>This should ensure that only one pool thread is processing events for any client at a time.  But if you get a burst of events from a client, they will be given priority ... until they are all processed.</p>\n<p>Note the above pseudo-code will need to be refined to deal with race conditions, etcetera.</p>\n"}],"owner":{"account_id":30078038,"reputation":1,"user_id":23050333,"display_name":"Prabha Ch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":1,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701867669,"answer_count":1,"score":-1,"last_activity_date":1701874333,"creation_date":1701845197,"question_id":77611037,"body_markdown":"`I am currently working on data ingestion into JanusGraph using a multi-threading approach. In my use case, I am reading data from Kafka streams, and the goal is to ingest data into a graph based on the client name. The data is client-specific, and there are separate graphs for different clients. Each thread is responsible for processing and ingesting one event at a time. However, there is a scenario where multiple events with the same client name are sent to the Kafka stream, leading to multiple threads attempting to ingest data into the same graph.\r\n\r\nI have implemented two different approaches for creating graph instances in this context. I am seeking advice and insights from the JanusGraph community on how to effectively handle this scenario and ensure proper data ingestion into the graph in a multi-threaded environment.\r\n Details of the approach and the java implementation is provided in &lt;https://github.com/JanusGraph/janusgraph/discussions/4174&gt;\r\nCan someone please help me with resolving the issue?","title":"Facing java.lang.OutOfMemoryError: Java heap space issue when using multi-threading with JanusGraph","body":"<p>`I am currently working on data ingestion into JanusGraph using a multi-threading approach. In my use case, I am reading data from Kafka streams, and the goal is to ingest data into a graph based on the client name. The data is client-specific, and there are separate graphs for different clients. Each thread is responsible for processing and ingesting one event at a time. However, there is a scenario where multiple events with the same client name are sent to the Kafka stream, leading to multiple threads attempting to ingest data into the same graph.</p>\n<p>I have implemented two different approaches for creating graph instances in this context. I am seeking advice and insights from the JanusGraph community on how to effectively handle this scenario and ensure proper data ingestion into the graph in a multi-threaded environment.\nDetails of the approach and the java implementation is provided in <a href=\"https://github.com/JanusGraph/janusgraph/discussions/4174\" rel=\"nofollow noreferrer\">https://github.com/JanusGraph/janusgraph/discussions/4174</a>\nCan someone please help me with resolving the issue?</p>\n"},{"tags":["java","spring","spring-boot","spring-integration","smb"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701874333,"creation_date":1701874333,"answer_id":77614133,"question_id":77597618,"body_markdown":"Confirmed as a bug: https://github.com/spring-projects/spring-integration/issues/8800.\r\n\r\nWill be fixed in the next version.\r\n\r\nAs a workaround you can try to implement this `MGET` functionality yourself using `SmbRemoteFileTemplate`.\r\n\r\nOn the other hand you can try to use the whole remote directory name instead of empty input as you have right now. That&#39;s, essentially, how we have missed the problem with plain file name for SMB instead of expected with sub-directories when we fetch recursively. \r\n\r\nWhen we have a this or that fix for the MGET, let&#39;s chat about `MPUT` part in a separate SO thread!","title":"Error in downloading files from file server with Spring-Integration","body":"<p>Confirmed as a bug: <a href=\"https://github.com/spring-projects/spring-integration/issues/8800\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration/issues/8800</a>.</p>\n<p>Will be fixed in the next version.</p>\n<p>As a workaround you can try to implement this <code>MGET</code> functionality yourself using <code>SmbRemoteFileTemplate</code>.</p>\n<p>On the other hand you can try to use the whole remote directory name instead of empty input as you have right now. That's, essentially, how we have missed the problem with plain file name for SMB instead of expected with sub-directories when we fetch recursively.</p>\n<p>When we have a this or that fix for the MGET, let's chat about <code>MPUT</code> part in a separate SO thread!</p>\n"}],"owner":{"account_id":12669836,"reputation":1369,"user_id":9207732,"accept_rate":100,"display_name":"Patrick C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77614133,"answer_count":1,"score":0,"last_activity_date":1701874333,"creation_date":1701672691,"question_id":77597618,"body_markdown":"Following the Spring guidelines, I was trying to use a SmbOutboundGateway from the spring-integration-smb library to download everything (whole structure, directory + files) at the remote file server specified by the SessionFactory.&lt;br/&gt;\r\nRef.&lt;br/&gt;\r\nhttps://docs.spring.io/spring-integration/reference/smb.html#using-the-mget-command &lt;br/&gt;\r\nhttps://docs.spring.io/spring-integration/reference/smb.html#outbound-gateway-java-dsl\r\n     \r\n\r\nHowever when I try to run the flow, it failed in between.\r\n\r\n**Source**\r\n\r\n\r\n\timport jcifs.DialectVersion;\r\n\timport org.springframework.context.annotation.Bean;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.integration.annotation.Gateway;\r\n\timport org.springframework.integration.annotation.MessagingGateway;\r\n\timport org.springframework.integration.dsl.IntegrationFlow;\r\n\timport org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway;\r\n\timport org.springframework.integration.smb.dsl.Smb;\r\n\timport org.springframework.integration.smb.dsl.SmbOutboundGatewaySpec;\r\n\timport org.springframework.integration.smb.session.SmbSessionFactory;\r\n\r\n\timport java.io.File;\r\n\r\n\t@Configuration\r\n\tpublic class SmbConfig {\r\n\r\n\t\t@Bean\r\n\t\tpublic SmbSessionFactory smbSessionFactory() {\r\n\t\t\tSmbSessionFactory smbSession = new SmbSessionFactory();\r\n\t\t\tsmbSession.setHost(&quot;myhost&quot;);\r\n\t\t\tsmbSession.setPort(445);\r\n\t\t\tsmbSession.setDomain(&quot;mydomain&quot;);\r\n\t\t\tsmbSession.setUsername(&quot;myusername&quot;);\r\n\t\t\tsmbSession.setPassword(&quot;mypassword&quot;);\r\n\t\t\tsmbSession.setShareAndDir(&quot;pccommon/Patrick/&quot;);\r\n\t\t\tsmbSession.setSmbMinVersion(DialectVersion.SMB210);\r\n\t\t\tsmbSession.setSmbMaxVersion(DialectVersion.SMB311);\r\n\t\t\treturn smbSession;\r\n\t\t}\r\n\r\n\t\t@MessagingGateway\r\n\t\tpublic interface MyGateway {\r\n\r\n\t\t\t@Gateway(requestChannel = &quot;testChannel&quot;)\r\n\t\t\tvoid test(String path);\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic SmbOutboundGatewaySpec downloadFileGateway() {\r\n\t\t\treturn Smb.outboundGateway(smbSessionFactory(),\r\n\t\t\t\t\t\t\tAbstractRemoteFileOutboundGateway.Command.MGET, &quot;payload&quot;)\r\n\t\t\t\t\t.options(AbstractRemoteFileOutboundGateway.Option.RECURSIVE)\r\n\t\t\t\t\t.localDirectory(new File(&quot;&quot; +\r\n\t\t\t\t\t\t\t&quot;/media/sf_linuxshare/Test&quot;));\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic SmbOutboundGatewaySpec uploadFileGateway() {\r\n\t\t\treturn Smb.outboundGateway(smbSessionFactory(),\r\n\t\t\t\t\t\t\tAbstractRemoteFileOutboundGateway.Command.MPUT, &quot;&#39;/&#39;&quot;)\r\n\t\t\t\t\t.options(AbstractRemoteFileOutboundGateway.Option.RECURSIVE)\r\n\t\t\t\t\t.regexFileNameFilter(&quot;.*\\\\.xml$&quot;)\r\n\t\t\t\t\t.remoteDirectoryExpression(&quot;&#39;/uploaded&#39;&quot;);\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic IntegrationFlow testFlow() {\r\n\t\t\treturn IntegrationFlow.from(&quot;testChannel&quot;)\r\n\t\t\t\t\t.handle(downloadFileGateway())\r\n\t\t\t\t\t.handle(uploadFileGateway())\r\n\t//                .channel(c -&gt; c.queue(&quot;uploadFileOutputChannel&quot;))\r\n\t\t\t\t\t.get();\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Objective**\r\n\r\nI was expecting that any folders and underlying files under the remote file server would be copied to local after the download flow, i.e. having the following as a result:&lt;br/&gt;\r\n/media/sf_linuxshare/Test/Test_From_Remote/a.xml&lt;br/&gt;\r\n/media/sf_linuxshare/Test/Test_From_Remote/b.xml\r\n\r\n\r\n**Before run**\r\n[![enter image description here][1]][1]\r\n\r\n**After run (actual result)**\r\n[![enter image description here][2]][2]\r\n\r\n**Observations**\r\n\r\n1. It complained that the target files are not files\r\n\r\n Caused by: java.io.IOException: [a.xml] is not a file.\r\n\r\n\r\n\t\t2023-12-04 17:27:46.225  INFO 26615 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n\t\t2023-12-04 17:27:46.225  INFO 26615 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n\t\t2023-12-04 17:27:46.226  INFO 26615 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n\t\t2023-12-04 17:27:46.354  INFO 26615 --- [nio-8080-exec-2] o.s.i.smb.session.SmbSessionFactory      : SMB share init: hprifil0005.corp.auspost.local:445/pccommon/Patrick/\r\n\t\t2023-12-04 17:27:53.008  WARN 26615 --- [nio-8080-exec-2] o.s.i.smb.outbound.SmbOutboundGateway    : File name pattern must be &#39;*&#39; when using recursion\r\n\t\t2023-12-04 17:27:53.069  INFO 26615 --- [nio-8080-exec-2] o.s.integration.smb.session.SmbSession   : Successfully listed 1 in [null].\r\n\t\t2023-12-04 17:27:53.141  INFO 26615 --- [nio-8080-exec-2] o.s.integration.smb.session.SmbSession   : Successfully listed 2 in [./Test_From_Remote//].\r\n\t\t2023-12-04 17:27:53.331  WARN 26615 --- [nio-8080-exec-2] a.c.a.c.c.e.CustomRestExceptionHandler   : 0a8315f8-9547-4f44-969a-02f292be017f org.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory, failedMessage=GenericMessage [payload=, headers={replyChannel=nullChannel, errorChannel=, id=026be840-5e21-32c1-c894-b6759f40c043, timestamp=1701671266279}]\r\n\r\n\t\torg.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory\r\n\t\t\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.get(AbstractRemoteFileOutboundGateway.java:1135)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.getRemoteFileForMget(AbstractRemoteFileOutboundGateway.java:1289)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.mGetWithRecursion(AbstractRemoteFileOutboundGateway.java:1251)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.mGet(AbstractRemoteFileOutboundGateway.java:1192)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.lambda$doMget$9(AbstractRemoteFileOutboundGateway.java:691)\r\n\t\t\tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:452)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.doMget(AbstractRemoteFileOutboundGateway.java:690)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.handleRequestMessage(AbstractRemoteFileOutboundGateway.java:586)\r\n\t\t\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\r\n\t\t\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\r\n\t\t\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)\r\n\t\t\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\t\t\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\t\t\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\t\t\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\t\t\tat org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\r\n\t\t\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:327)\r\n\t\t\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\r\n\t\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\t\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\t\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\t\t\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\t\t\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)\r\n\t\t\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:143)\r\n\t\t\tat org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:467)\r\n\t\t\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.sendOrSendAndReceive(GatewayProxyFactoryBean.java:669)\r\n\t\t\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.invokeGatewayMethod(GatewayProxyFactoryBean.java:584)\r\n\t\t\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.doInvoke(GatewayProxyFactoryBean.java:550)\r\n\t\t\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.invoke(GatewayProxyFactoryBean.java:540)\r\n\t\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\t\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\t\t\tat jdk.proxy3/jdk.proxy3.$Proxy78.test(Unknown Source)\r\n\t\t\tat au.com.auspost.cbg.web.controller.HealthCheckController.mobilestarHealthCheck(HealthCheckController.java:134)\r\n\t\t\tat au.com.auspost.cbg.web.controller.HealthCheckController.createHealthCheckText(HealthCheckController.java:84)\r\n\t\t\tat au.com.auspost.cbg.web.controller.HealthCheckController.healthCheck(HealthCheckController.java:67)\r\n\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n\t\t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n\t\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\t\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\t\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\t\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\t\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n\t\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n\t\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\t\t\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\t\t\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\t\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\t\t\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\r\n\t\t\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n\t\t\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n\t\t\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\t\t\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n\t\t\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n\t\t\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n\t\t\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\r\n\t\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\t\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\t\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\t\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\t\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\t\t\tat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:738)\r\n\t\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n\t\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\n\t\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\t\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n\t\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\t\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\t\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\t\tat java.base/java.lang.Thread.run(Thread.java:840)\r\n\t\tCaused by: java.io.IOException: [a.xml] is not a file.\r\n\t\t\tat org.springframework.integration.smb.session.SmbSession.read(SmbSession.java:204)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.get(AbstractRemoteFileOutboundGateway.java:1124)\r\n\t\t\t... 130 common frames omitted\r\n\r\n\t\t2023-12-04 17:27:53.392  WARN 26615 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory, failedMessage=GenericMessage [payload=, headers={replyChannel=nullChannel, errorChannel=, id=026be840-5e21-32c1-c894-b6759f40c043, timestamp=1701671266279}]]\r\n&lt;br/&gt;\r\n2. It tried to rename the target files (it suffixed it with the containing folder name) which I am not sure why this was performed.\r\ni.e. it renamed the files to &quot;a.xmlTest_From_Remote&quot;, &quot;b.xmlTest_From_Remote&quot;\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\nThanks in advance for any insights.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wK05r.png\r\n  [2]: https://i.stack.imgur.com/n83Yw.png","title":"Error in downloading files from file server with Spring-Integration","body":"<p>Following the Spring guidelines, I was trying to use a SmbOutboundGateway from the spring-integration-smb library to download everything (whole structure, directory + files) at the remote file server specified by the SessionFactory.<br/>\nRef.<br/>\n<a href=\"https://docs.spring.io/spring-integration/reference/smb.html#using-the-mget-command\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/smb.html#using-the-mget-command</a> <br/>\n<a href=\"https://docs.spring.io/spring-integration/reference/smb.html#outbound-gateway-java-dsl\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/smb.html#outbound-gateway-java-dsl</a></p>\n<p>However when I try to run the flow, it failed in between.</p>\n<p><strong>Source</strong></p>\n<pre><code>import jcifs.DialectVersion;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.integration.annotation.Gateway;\nimport org.springframework.integration.annotation.MessagingGateway;\nimport org.springframework.integration.dsl.IntegrationFlow;\nimport org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway;\nimport org.springframework.integration.smb.dsl.Smb;\nimport org.springframework.integration.smb.dsl.SmbOutboundGatewaySpec;\nimport org.springframework.integration.smb.session.SmbSessionFactory;\n\nimport java.io.File;\n\n@Configuration\npublic class SmbConfig {\n\n    @Bean\n    public SmbSessionFactory smbSessionFactory() {\n        SmbSessionFactory smbSession = new SmbSessionFactory();\n        smbSession.setHost(&quot;myhost&quot;);\n        smbSession.setPort(445);\n        smbSession.setDomain(&quot;mydomain&quot;);\n        smbSession.setUsername(&quot;myusername&quot;);\n        smbSession.setPassword(&quot;mypassword&quot;);\n        smbSession.setShareAndDir(&quot;pccommon/Patrick/&quot;);\n        smbSession.setSmbMinVersion(DialectVersion.SMB210);\n        smbSession.setSmbMaxVersion(DialectVersion.SMB311);\n        return smbSession;\n    }\n\n    @MessagingGateway\n    public interface MyGateway {\n\n        @Gateway(requestChannel = &quot;testChannel&quot;)\n        void test(String path);\n    }\n\n    @Bean\n    public SmbOutboundGatewaySpec downloadFileGateway() {\n        return Smb.outboundGateway(smbSessionFactory(),\n                        AbstractRemoteFileOutboundGateway.Command.MGET, &quot;payload&quot;)\n                .options(AbstractRemoteFileOutboundGateway.Option.RECURSIVE)\n                .localDirectory(new File(&quot;&quot; +\n                        &quot;/media/sf_linuxshare/Test&quot;));\n    }\n\n    @Bean\n    public SmbOutboundGatewaySpec uploadFileGateway() {\n        return Smb.outboundGateway(smbSessionFactory(),\n                        AbstractRemoteFileOutboundGateway.Command.MPUT, &quot;'/'&quot;)\n                .options(AbstractRemoteFileOutboundGateway.Option.RECURSIVE)\n                .regexFileNameFilter(&quot;.*\\\\.xml$&quot;)\n                .remoteDirectoryExpression(&quot;'/uploaded'&quot;);\n    }\n\n    @Bean\n    public IntegrationFlow testFlow() {\n        return IntegrationFlow.from(&quot;testChannel&quot;)\n                .handle(downloadFileGateway())\n                .handle(uploadFileGateway())\n//                .channel(c -&gt; c.queue(&quot;uploadFileOutputChannel&quot;))\n                .get();\n    }\n}\n</code></pre>\n<p><strong>Objective</strong></p>\n<p>I was expecting that any folders and underlying files under the remote file server would be copied to local after the download flow, i.e. having the following as a result:<br/>\n/media/sf_linuxshare/Test/Test_From_Remote/a.xml<br/>\n/media/sf_linuxshare/Test/Test_From_Remote/b.xml</p>\n<p><strong>Before run</strong>\n<a href=\"https://i.stack.imgur.com/wK05r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wK05r.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After run (actual result)</strong>\n<a href=\"https://i.stack.imgur.com/n83Yw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n83Yw.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Observations</strong></p>\n<ol>\n<li>It complained that the target files are not files</li>\n</ol>\n<p>Caused by: java.io.IOException: [a.xml] is not a file.</p>\n<pre><code>    2023-12-04 17:27:46.225  INFO 26615 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n    2023-12-04 17:27:46.225  INFO 26615 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n    2023-12-04 17:27:46.226  INFO 26615 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n    2023-12-04 17:27:46.354  INFO 26615 --- [nio-8080-exec-2] o.s.i.smb.session.SmbSessionFactory      : SMB share init: hprifil0005.corp.auspost.local:445/pccommon/Patrick/\n    2023-12-04 17:27:53.008  WARN 26615 --- [nio-8080-exec-2] o.s.i.smb.outbound.SmbOutboundGateway    : File name pattern must be '*' when using recursion\n    2023-12-04 17:27:53.069  INFO 26615 --- [nio-8080-exec-2] o.s.integration.smb.session.SmbSession   : Successfully listed 1 in [null].\n    2023-12-04 17:27:53.141  INFO 26615 --- [nio-8080-exec-2] o.s.integration.smb.session.SmbSession   : Successfully listed 2 in [./Test_From_Remote//].\n    2023-12-04 17:27:53.331  WARN 26615 --- [nio-8080-exec-2] a.c.a.c.c.e.CustomRestExceptionHandler   : 0a8315f8-9547-4f44-969a-02f292be017f org.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory, failedMessage=GenericMessage [payload=, headers={replyChannel=nullChannel, errorChannel=, id=026be840-5e21-32c1-c894-b6759f40c043, timestamp=1701671266279}]\n\n    org.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory\n        at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.get(AbstractRemoteFileOutboundGateway.java:1135)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.getRemoteFileForMget(AbstractRemoteFileOutboundGateway.java:1289)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.mGetWithRecursion(AbstractRemoteFileOutboundGateway.java:1251)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.mGet(AbstractRemoteFileOutboundGateway.java:1192)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.lambda$doMget$9(AbstractRemoteFileOutboundGateway.java:691)\n        at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:452)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.doMget(AbstractRemoteFileOutboundGateway.java:690)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.handleRequestMessage(AbstractRemoteFileOutboundGateway.java:586)\n        at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\n        at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\n        at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)\n        at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n        at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n        at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n        at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n        at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:327)\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n        at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n        at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)\n        at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:143)\n        at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:467)\n        at org.springframework.integration.gateway.GatewayProxyFactoryBean.sendOrSendAndReceive(GatewayProxyFactoryBean.java:669)\n        at org.springframework.integration.gateway.GatewayProxyFactoryBean.invokeGatewayMethod(GatewayProxyFactoryBean.java:584)\n        at org.springframework.integration.gateway.GatewayProxyFactoryBean.doInvoke(GatewayProxyFactoryBean.java:550)\n        at org.springframework.integration.gateway.GatewayProxyFactoryBean.invoke(GatewayProxyFactoryBean.java:540)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\n        at jdk.proxy3/jdk.proxy3.$Proxy78.test(Unknown Source)\n        at au.com.auspost.cbg.web.controller.HealthCheckController.mobilestarHealthCheck(HealthCheckController.java:134)\n        at au.com.auspost.cbg.web.controller.HealthCheckController.createHealthCheckText(HealthCheckController.java:84)\n        at au.com.auspost.cbg.web.controller.HealthCheckController.healthCheck(HealthCheckController.java:67)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\n        at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:738)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:840)\n    Caused by: java.io.IOException: [a.xml] is not a file.\n        at org.springframework.integration.smb.session.SmbSession.read(SmbSession.java:204)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.get(AbstractRemoteFileOutboundGateway.java:1124)\n        ... 130 common frames omitted\n\n    2023-12-04 17:27:53.392  WARN 26615 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory, failedMessage=GenericMessage [payload=, headers={replyChannel=nullChannel, errorChannel=, id=026be840-5e21-32c1-c894-b6759f40c043, timestamp=1701671266279}]]\n</code></pre>\n<br/>\n2. It tried to rename the target files (it suffixed it with the containing folder name) which I am not sure why this was performed.\ni.e. it renamed the files to \"a.xmlTest_From_Remote\", \"b.xmlTest_From_Remote\"\n<br/>\n<br/>\nThanks in advance for any insights.\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1249338782,"post_id":1224934,"comment_id":1050115,"body_markdown":"Can you show your code? That should match 06:30, providing everything else is in order.","body":"Can you show your code? That should match 06:30, providing everything else is in order."}],"answers":[{"comments":[{"owner":{"account_id":38343,"reputation":5452,"user_id":109970,"accept_rate":88,"display_name":"mickthompson"},"score":1,"creation_date":1249340556,"post_id":1224987,"comment_id":1050214,"body_markdown":"Thank you Adam, I was quite confused with the Matcher API","body":"Thank you Adam, I was quite confused with the Matcher API"},{"owner":{"account_id":38343,"reputation":5452,"user_id":109970,"accept_rate":88,"display_name":"mickthompson"},"score":1,"creation_date":1249341454,"post_id":1224987,"comment_id":1050268,"body_markdown":"Hi Adam, the format of my input is always the same. I need to extract the 2 hours and the number after the XX~ string (1234 in the example&#39;s case). That number can be of {3,4} digits.","body":"Hi Adam, the format of my input is always the same. I need to extract the 2 hours and the number after the XX~ string (1234 in the example&#39;s case). That number can be of {3,4} digits."},{"owner":{"account_id":58737,"reputation":4505,"user_id":175830,"accept_rate":67,"display_name":"Jason Axelson"},"score":13,"creation_date":1369733930,"post_id":1224987,"comment_id":24192802,"body_markdown":"Hopefully this will help others. You **need** to call `m.matches()` (or `m.find()`) before you call m.group(), otherwise it will say there aren&#39;t any matches (because it didn&#39;t look for any yet), at least this is what happens on Android.","body":"Hopefully this will help others. You <b>need</b> to call <code>m.matches()</code> (or <code>m.find()</code>) before you call m.group(), otherwise it will say there aren&#39;t any matches (because it didn&#39;t look for any yet), at least this is what happens on Android."},{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":0,"creation_date":1663841407,"post_id":1224987,"comment_id":130336240,"body_markdown":"@JasonAxelson Jesus Christ, Thank you. God, this library just sucks. :(","body":"@JasonAxelson Jesus Christ, Thank you. God, this library just sucks. :("}],"tags":[],"owner":{"account_id":41545,"reputation":52021,"user_id":120808,"accept_rate":90,"display_name":"Adam Batkin"},"comment_count":4,"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1249340717,"creation_date":1249339616,"answer_id":1224987,"question_id":1224934,"body_markdown":"The `matcher.group()` function expects to take a single integer argument: The capturing group index, starting from 1. The index 0 is special, which means &quot;the entire match&quot;. A capturing group is created using a pair of parenthesis &quot;`(...)`&quot;. Anything within the parenthesis is captures. Groups are numbered from left to right (again, starting from 1), by opening parenthesis (which means that groups can overlap). Since there are no parenthesis in your regular expression, there can be no group 1.\r\n\r\nThe javadoc on the [Pattern][1] class covers the regular expression syntax.\r\n\r\nIf you are looking for a pattern that might recur some number of times, you can use `Matcher.`[find()][2] repeatedly until it returns false. `Matcher.group(0)` once on each iteration will then return what matched that time.\r\n\r\nIf you want to build one big regular expression that matches everything all at once (which I believe is what you want) then around each of the three sets of things that you want to capture, put a set of capturing parenthesis, use `Matcher.match()` and then `Matcher.group(n)` where n is 1, 2 and 3 respectively. Of course `Matcher.match()` might also return false, in which case the pattern did not match, and you can&#39;t retrieve any of the groups.\r\n\r\nIn your example, what you probably want to do is have it match some preceding text, then start a capturing group, match for digits, end the capturing group, etc...I don&#39;t know enough about your exact input format, but here is an example.\r\n\r\nLets say I had strings of the form:\r\n\r\n    Eat 12 carrots at 12:30\r\n    Take 3 pills at 01:15\r\n\r\nAnd I wanted to extract the quantity and times. My regular expression would look something like:\r\n\r\n    &quot;\\w+ (\\d+) [\\w ]+ (\\d{1,2}:\\d{2})&quot;\r\n\r\nThe code would look something like:\r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\w+ (\\\\d+) [\\\\w ]+ (\\\\d{2}:\\\\d{2})&quot;);\r\n    Matcher m = p.matcher(oneline);\r\n    if(m.matches()) {\r\n        System.out.println(&quot;The quantity is &quot; + m.group(1));\r\n        System.out.println(&quot;The time is &quot; + m.group(2));\r\n    }\r\n\r\nThe regular expression means &quot;a string containing a word, a space, one or more digits (which are captured in group 1), a space, a set of words and spaces ending with a space, followed by a time (captured in group 2, and the time assumes that hour is always 0-padded out to 2 digits). I would give a closer example to what you are looking for, but the description of the possible input is a little vague.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Matcher.html#find%28%29","title":"Java - Extract strings with Regex","body":"<p>The <code>matcher.group()</code> function expects to take a single integer argument: The capturing group index, starting from 1. The index 0 is special, which means \"the entire match\". A capturing group is created using a pair of parenthesis \"<code>(...)</code>\". Anything within the parenthesis is captures. Groups are numbered from left to right (again, starting from 1), by opening parenthesis (which means that groups can overlap). Since there are no parenthesis in your regular expression, there can be no group 1.</p>\n\n<p>The javadoc on the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Pattern</a> class covers the regular expression syntax.</p>\n\n<p>If you are looking for a pattern that might recur some number of times, you can use <code>Matcher.</code><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Matcher.html#find%28%29\" rel=\"noreferrer\">find()</a> repeatedly until it returns false. <code>Matcher.group(0)</code> once on each iteration will then return what matched that time.</p>\n\n<p>If you want to build one big regular expression that matches everything all at once (which I believe is what you want) then around each of the three sets of things that you want to capture, put a set of capturing parenthesis, use <code>Matcher.match()</code> and then <code>Matcher.group(n)</code> where n is 1, 2 and 3 respectively. Of course <code>Matcher.match()</code> might also return false, in which case the pattern did not match, and you can't retrieve any of the groups.</p>\n\n<p>In your example, what you probably want to do is have it match some preceding text, then start a capturing group, match for digits, end the capturing group, etc...I don't know enough about your exact input format, but here is an example.</p>\n\n<p>Lets say I had strings of the form:</p>\n\n<pre><code>Eat 12 carrots at 12:30\nTake 3 pills at 01:15\n</code></pre>\n\n<p>And I wanted to extract the quantity and times. My regular expression would look something like:</p>\n\n<pre><code>\"\\w+ (\\d+) [\\w ]+ (\\d{1,2}:\\d{2})\"\n</code></pre>\n\n<p>The code would look something like:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\\w+ (\\\\d+) [\\\\w ]+ (\\\\d{2}:\\\\d{2})\");\nMatcher m = p.matcher(oneline);\nif(m.matches()) {\n    System.out.println(\"The quantity is \" + m.group(1));\n    System.out.println(\"The time is \" + m.group(2));\n}\n</code></pre>\n\n<p>The regular expression means \"a string containing a word, a space, one or more digits (which are captured in group 1), a space, a set of words and spaces ending with a space, followed by a time (captured in group 2, and the time assumes that hour is always 0-padded out to 2 digits). I would give a closer example to what you are looking for, but the description of the possible input is a little vague.</p>\n"},{"tags":[],"owner":{"account_id":3123044,"reputation":1,"user_id":2642458,"display_name":"user2642458"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701873962,"creation_date":1701873962,"answer_id":77614074,"question_id":1224934,"body_markdown":"As noted in a comment in the main answer, you need to call `.matches()` or `.find()` before `.group` will work - this tripped me up, so hopefully will help others. ","title":"Java - Extract strings with Regex","body":"<p>As noted in a comment in the main answer, you need to call <code>.matches()</code> or <code>.find()</code> before <code>.group</code> will work - this tripped me up, so hopefully will help others.</p>\n"}],"owner":{"account_id":38343,"reputation":5452,"user_id":109970,"accept_rate":88,"display_name":"mickthompson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69880,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":1224987,"answer_count":2,"score":25,"last_activity_date":1701873962,"creation_date":1249338456,"question_id":1224934,"body_markdown":"I&#39;ve this string\r\n\r\n    String myString =&quot;A~BC~FGH~~zuzy|XX~ 1234~ ~~ABC~01/01/2010 06:30~BCD~01/01/2011 07:45&quot;;\r\n\r\nand I need to extract these 3 substrings&lt;br&gt;\r\n**1234**&lt;br&gt;\r\n**06:30**&lt;br&gt;\r\n**07:45**&lt;br&gt;\r\n&lt;br&gt;\r\nIf I use this regex \\\\\\d{2}\\\\\\:\\\\\\d{2}  I&#39;m only able to extract the first hour 06:30\r\n\r\n    Pattern depArrHours = Pattern.compile(&quot;\\\\d{2}\\\\:\\\\d{2}&quot;);\r\n    Matcher matcher = depArrHours.matcher(myString);\r\n    String firstHour = matcher.group(0);\r\n    String secondHour = matcher.group(1); (IndexOutOfBoundException no Group 1)\r\n\r\n\r\nmatcher.group(1) throws an exception.&lt;br&gt;\r\nAlso I don&#39;t know how to extract 1234. This string can change but it always comes after &#39;XX~ &#39; &lt;br&gt;\r\nDo you have any idea on how to match these strings with regex expressions? \r\n\r\n \r\n**UPDATE**\r\n\r\nThanks to Adam suggestion I&#39;ve now this regex that match my string\r\n\r\n    Pattern p = Pattern.compile(&quot;.*XX~ (\\\\d{3,4}).*(\\\\d{1,2}:\\\\d{2}).*(\\\\d{1,2}:\\\\d{2})&quot;;\r\n\r\nI match the number, and the 2 hours with matcher.group(1); matcher.group(2); matcher.group(3);","title":"Java - Extract strings with Regex","body":"<p>I've this string</p>\n\n<pre><code>String myString =\"A~BC~FGH~~zuzy|XX~ 1234~ ~~ABC~01/01/2010 06:30~BCD~01/01/2011 07:45\";\n</code></pre>\n\n<p>and I need to extract these 3 substrings<br>\n<strong>1234</strong><br>\n<strong>06:30</strong><br>\n<strong>07:45</strong><br>\n<br>\nIf I use this regex \\\\d{2}\\:\\\\d{2}  I'm only able to extract the first hour 06:30</p>\n\n<pre><code>Pattern depArrHours = Pattern.compile(\"\\\\d{2}\\\\:\\\\d{2}\");\nMatcher matcher = depArrHours.matcher(myString);\nString firstHour = matcher.group(0);\nString secondHour = matcher.group(1); (IndexOutOfBoundException no Group 1)\n</code></pre>\n\n<p>matcher.group(1) throws an exception.<br>\nAlso I don't know how to extract 1234. This string can change but it always comes after 'XX~ ' <br>\nDo you have any idea on how to match these strings with regex expressions? </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Thanks to Adam suggestion I've now this regex that match my string</p>\n\n<pre><code>Pattern p = Pattern.compile(\".*XX~ (\\\\d{3,4}).*(\\\\d{1,2}:\\\\d{2}).*(\\\\d{1,2}:\\\\d{2})\";\n</code></pre>\n\n<p>I match the number, and the 2 hours with matcher.group(1); matcher.group(2); matcher.group(3);</p>\n"},{"tags":["java","android","android-camera","motorola","image-formats"],"owner":{"account_id":22401625,"reputation":11,"user_id":16611956,"display_name":"durga murugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701873915,"creation_date":1701514241,"question_id":77590039,"body_markdown":"created employee face recognition android application, have 2 major part in the app ,register face &amp; record attendance -&gt;while recording attendance using face recognition ,am storing checkin time with chekin faceimage same for checkout, am displaying this checkin faceimage &amp; checkout face in my webapp employee reports page, i tested this app with different devices, for all it working fine using moto g62 getting the image in grayscale format image is not visible, why ? did lot things  by changing the camera settings, display, grayscale, color correction nothing help, can any one tell me what i have to do for this -&gt;do i need to change my android app code or moto mobile camera  setting??\r\n\r\nnote: ref ss ,this is how am getting my emp face image in the report page![![enter image description here](https://i.stack.imgur.com/WQrGS.jpg)](https://i.stack.imgur.com/WQrGS.jpg)\r\n\r\ntried to get the correct viewable image format but getting unviewable face image","title":"image not displaying correctly which i took by using my android app","body":"<p>created employee face recognition android application, have 2 major part in the app ,register face &amp; record attendance -&gt;while recording attendance using face recognition ,am storing checkin time with chekin faceimage same for checkout, am displaying this checkin faceimage &amp; checkout face in my webapp employee reports page, i tested this app with different devices, for all it working fine using moto g62 getting the image in grayscale format image is not visible, why ? did lot things  by changing the camera settings, display, grayscale, color correction nothing help, can any one tell me what i have to do for this -&gt;do i need to change my android app code or moto mobile camera  setting??</p>\n<p>note: ref ss ,this is how am getting my emp face image in the report page<img src=\"https://i.stack.imgur.com/WQrGS.jpg\" alt=\"enter image description here\" /></p>\n<p>tried to get the correct viewable image format but getting unviewable face image</p>\n"},{"tags":["java","2d","game-development"],"owner":{"account_id":23115746,"reputation":3,"user_id":17223033,"display_name":"Luna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701873363,"answer_count":0,"score":0,"last_activity_date":1701873875,"creation_date":1701873076,"question_id":77613949,"body_markdown":"I am currently following RyiSnow&#39;s tutorial for a 2D game in Java for my finals project. I do understand most of what is happening in the code since he explains it quite well.\r\n\r\nThe problem it that whenever I try to &quot;pick up&quot; a item, it should disappear as what the tutorial showcased. But when it I try to add this specific code to make it seem as the item has disappeared, the program encounters an error and would freeze.\r\n```\r\nif(i != 999) {\r\n     gp.obj[i] = null;\r\n}\r\n```\r\nThe 999 is a value that&#39;s returned from a collisionChecker class to know whether the object and player were in a collision.\r\n\r\nThe checkObject subclass from the collision checker.\r\n\r\n```\r\npublic int checkObject(Entity entity, boolean player) {\r\n\t\t\r\n\t\tint index = 999;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; gp.obj.length; i++) {\r\n\t\t\t\r\n\t\t\tif(gp.obj[i] != null) {\r\n\t\t\t\t\r\n\t\t\t\t// Get entity&#39;s solid area position\r\n\t\t\t\tentity.solidArea.x = entity.worldX + entity.solidArea.x;\r\n\t\t\t\tentity.solidArea.y = entity.worldY + entity.solidArea.y;\r\n\t\t\t\t// Get the object&#39;s solid area position\r\n\t\t\t\tgp.obj[i].solidArea.x = gp.obj[i].worldX + gp.obj[i].solidArea.x;\r\n\t\t\t\tgp.obj[i].solidArea.y = gp.obj[i].worldY + gp.obj[i].solidArea.y;\r\n\t\t\t\t\r\n\t\t\t\tswitch (entity.direction) {\r\n\t\t\t\tcase &quot;up&quot;:\r\n\t\t\t\t\tentity.solidArea.y -= entity.speed;\r\n\t\t\t\t\tif(entity.solidArea.intersects(gp.obj[i].solidArea)) {\r\n\t\t\t\t\t\tif(gp.obj[i].collision == true) {\r\n\t\t\t\t\t\t\tentity.collisionOn = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(player == true) {\r\n\t\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;down&quot;:\r\n\t\t\t\t\tentity.solidArea.y += entity.speed;\r\n\t\t\t\t\tif(entity.solidArea.intersects(gp.obj[i].solidArea)) {\r\n\t\t\t\t\t\tif(gp.obj[i].collision == true) {\r\n\t\t\t\t\t\t\tentity.collisionOn = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(player == true) {\r\n\t\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;left&quot;:\r\n\t\t\t\t\tentity.solidArea.x -= entity.speed;\r\n\t\t\t\t\tif(entity.solidArea.intersects(gp.obj[i].solidArea)) {\r\n\t\t\t\t\t\tif(gp.obj[i].collision == true) {\r\n\t\t\t\t\t\t\tentity.collisionOn = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(player == true) {\r\n\t\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;right&quot;:\r\n\t\t\t\t\tentity.solidArea.x += entity.speed;\r\n\t\t\t\t\tif(entity.solidArea.intersects(gp.obj[i].solidArea)) {\r\n\t\t\t\t\t\tif(gp.obj[i].collision == true) {\r\n\t\t\t\t\t\t\tentity.collisionOn = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(player == true) {\r\n\t\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tentity.solidArea.x = entity.solidAreaDefaultX;\r\n\t\t\tentity.solidArea.y = entity.solidAreaDefaultY;\r\n\t\t\tgp.obj[i].solidArea.x = gp.obj[i].solidAreaDefaultX;\r\n\t\t\tgp.obj[i].solidArea.y = gp.obj[i].solidAreaDefaultY; \r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn index;\r\n\t\t\r\n\t}\r\n```\r\n\r\nThe player class where the error is coming from.\r\n\r\n```\r\npublic void pickUpObject(int i) {\r\n\r\n\t\tif(i != 999) {\r\n\t\t\tString objectName = gp.obj[i].name;\r\n\t\t\t\r\n\t\t\tswitch (objectName) {\r\n\t\t\tcase &quot;Paper&quot;:\r\n\t\t\t\thasPaper++;\r\n\t\t\t\tgp.obj[i] = null;\r\n\t\t\t\tSystem.out.println(&quot;Paper: &quot; + hasPaper);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n```\r\nI&#39;ve been at this for hours trying to understand the code/error.\r\n\r\nI tried running the program without the gp.obj[i] = null code and it successfully ran without errors, other than that I did nothing more. ","title":"Trying to &quot;pick up&quot; an item but it gives an error","body":"<p>I am currently following RyiSnow's tutorial for a 2D game in Java for my finals project. I do understand most of what is happening in the code since he explains it quite well.</p>\n<p>The problem it that whenever I try to &quot;pick up&quot; a item, it should disappear as what the tutorial showcased. But when it I try to add this specific code to make it seem as the item has disappeared, the program encounters an error and would freeze.</p>\n<pre><code>if(i != 999) {\n     gp.obj[i] = null;\n}\n</code></pre>\n<p>The 999 is a value that's returned from a collisionChecker class to know whether the object and player were in a collision.</p>\n<p>The checkObject subclass from the collision checker.</p>\n<pre><code>public int checkObject(Entity entity, boolean player) {\n        \n        int index = 999;\n        \n        for(int i = 0; i &lt; gp.obj.length; i++) {\n            \n            if(gp.obj[i] != null) {\n                \n                // Get entity's solid area position\n                entity.solidArea.x = entity.worldX + entity.solidArea.x;\n                entity.solidArea.y = entity.worldY + entity.solidArea.y;\n                // Get the object's solid area position\n                gp.obj[i].solidArea.x = gp.obj[i].worldX + gp.obj[i].solidArea.x;\n                gp.obj[i].solidArea.y = gp.obj[i].worldY + gp.obj[i].solidArea.y;\n                \n                switch (entity.direction) {\n                case &quot;up&quot;:\n                    entity.solidArea.y -= entity.speed;\n                    if(entity.solidArea.intersects(gp.obj[i].solidArea)) {\n                        if(gp.obj[i].collision == true) {\n                            entity.collisionOn = true;\n                        }\n                        if(player == true) {\n                            index = i;\n                        }\n                    }\n                    break;\n                case &quot;down&quot;:\n                    entity.solidArea.y += entity.speed;\n                    if(entity.solidArea.intersects(gp.obj[i].solidArea)) {\n                        if(gp.obj[i].collision == true) {\n                            entity.collisionOn = true;\n                        }\n                        if(player == true) {\n                            index = i;\n                        }\n                    }\n                    break;\n                case &quot;left&quot;:\n                    entity.solidArea.x -= entity.speed;\n                    if(entity.solidArea.intersects(gp.obj[i].solidArea)) {\n                        if(gp.obj[i].collision == true) {\n                            entity.collisionOn = true;\n                        }\n                        if(player == true) {\n                            index = i;\n                        }\n                    }\n                    break;\n                case &quot;right&quot;:\n                    entity.solidArea.x += entity.speed;\n                    if(entity.solidArea.intersects(gp.obj[i].solidArea)) {\n                        if(gp.obj[i].collision == true) {\n                            entity.collisionOn = true;\n                        }\n                        if(player == true) {\n                            index = i;\n                        }\n                    }\n                    break;\n                }\n            }\n            entity.solidArea.x = entity.solidAreaDefaultX;\n            entity.solidArea.y = entity.solidAreaDefaultY;\n            gp.obj[i].solidArea.x = gp.obj[i].solidAreaDefaultX;\n            gp.obj[i].solidArea.y = gp.obj[i].solidAreaDefaultY; \n            \n        }\n        \n        return index;\n        \n    }\n</code></pre>\n<p>The player class where the error is coming from.</p>\n<pre><code>public void pickUpObject(int i) {\n\n        if(i != 999) {\n            String objectName = gp.obj[i].name;\n            \n            switch (objectName) {\n            case &quot;Paper&quot;:\n                hasPaper++;\n                gp.obj[i] = null;\n                System.out.println(&quot;Paper: &quot; + hasPaper);\n                break;\n            }\n        }\n        \n        \n    }\n</code></pre>\n<p>I've been at this for hours trying to understand the code/error.</p>\n<p>I tried running the program without the gp.obj[i] = null code and it successfully ran without errors, other than that I did nothing more.</p>\n"},{"tags":["java","shell","pom.xml"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701873938,"post_id":77614038,"comment_id":136829094,"body_markdown":"General answer: there are plugins for that, e.g. the [`bash-maven-plugin` (`bitbucket.org`)](https://bitbucket.org/atlassian/bash-maven-plugin/src/master/). [This question](https://stackoverflow.com/questions/8433652/is-it-possible-to-run-a-bash-script-from-maven) seems very similar. --- I would regard this as somewhat of a smell. Why do the tests need a bash script?","body":"General answer: there are plugins for that, e.g. the <a href=\"https://bitbucket.org/atlassian/bash-maven-plugin/src/master/\" rel=\"nofollow noreferrer\"><code>bash-maven-plugin</code> (<code>bitbucket.org</code>)</a>. <a href=\"https://stackoverflow.com/questions/8433652/is-it-possible-to-run-a-bash-script-from-maven\">This question</a> seems very similar. --- I would regard this as somewhat of a smell. Why do the tests need a bash script?"}],"owner":{"account_id":30081656,"reputation":1,"user_id":23053180,"display_name":"Dewashish Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701873702,"creation_date":1701873702,"question_id":77614038,"body_markdown":"How we can add test that is written using shell script inside our maven project? is there is template that will use maven-ant-run plugin ? \r\n\r\nIs there is generalied way to doing that i need to perform this test before building tarball.","title":"How we can add test that is written using shell script inside our maven project?","body":"<p>How we can add test that is written using shell script inside our maven project? is there is template that will use maven-ant-run plugin ?</p>\n<p>Is there is generalied way to doing that i need to perform this test before building tarball.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","buildpack"],"comments":[{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1701872309,"post_id":77606907,"comment_id":136828772,"body_markdown":"You are using the `paketobuildpacks/builder-jammy-tiny` builder, but this is not suitable for running a JVM (non-native) application. Does it work if you use `paketobuildpacks/builder-jammy-base` instead?","body":"You are using the <code>paketobuildpacks&#47;builder-jammy-tiny</code> builder, but this is not suitable for running a JVM (non-native) application. Does it work if you use <code>paketobuildpacks&#47;builder-jammy-base</code> instead?"},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701877786,"post_id":77606907,"comment_id":136829845,"body_markdown":"I have tried using `builder-jammy-base`, and Eclipse Temurin JDK instead of Bellsoft. Still will not start up.","body":"I have tried using <code>builder-jammy-base</code>, and Eclipse Temurin JDK instead of Bellsoft. Still will not start up."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701878766,"post_id":77606907,"comment_id":136830033,"body_markdown":"I even tried using builder-jammy-full. Did not work either.","body":"I even tried using builder-jammy-full. Did not work either."}],"answers":[{"comments":[{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701876570,"post_id":77613945,"comment_id":136829598,"body_markdown":"Thanks for the explanation and the suggestions. I tried with all the suggestions, but they did not work. First with only `-Xss`, then with the other too.\\\n`Picked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=4 -Duser.timezone=Europe/Oslo -Xss256k -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:ReservedCodeCacheSize=50M -XX:MaxDirectMemorySize=10M -Xmx4646651K -XX:MaxMetaspaceSize=173772K -XX:+UnlockDiagnosticVMOptions -XX:Native....`","body":"Thanks for the explanation and the suggestions. I tried with all the suggestions, but they did not work. First with only <code>-Xss</code>, then with the other too.\\ <code>Picked up JAVA_TOOL_OPTIONS: -Djava.security.properties=&#47;layers&#47;paketo-buildpacks_bellsof&zwnj;&#8203;t-liberica&#47;java-secu&zwnj;&#8203;rity-properties&#47;java&zwnj;&#8203;-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=4 -Duser.timezone=Europe&#47;Oslo -Xss256k -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:ReservedCodeCacheSize=50M -XX:MaxDirectMemorySize=10M -Xmx4646651K -XX:MaxMetaspaceSize=173772K -XX:+UnlockDiagnosticVMOptions -XX:Native....</code>"},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":0,"creation_date":1701877480,"post_id":77613945,"comment_id":136829778,"body_markdown":"Does it fail in the same place with the same error? Specifically, when you see `Failed to start thread` does it still list `stacksize: 1024k` or doe you see your new stack size of 256k listed? First thing, just want to make sure the changes are being applied. It looks like it is, but double checking doesn&#39;t hurt. If the error message is different, please update your question with the new output.","body":"Does it fail in the same place with the same error? Specifically, when you see <code>Failed to start thread</code> does it still list <code>stacksize: 1024k</code> or doe you see your new stack size of 256k listed? First thing, just want to make sure the changes are being applied. It looks like it is, but double checking doesn&#39;t hurt. If the error message is different, please update your question with the new output."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701877993,"post_id":77613945,"comment_id":136829884,"body_markdown":"Same error `pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached`, no matter what JVM flags I give in `Xms, Xmx, Xss`.\nLooking into the logging `Picked up JAVA_TOOL_OPTIONS` it looks like my custom flags are used.","body":"Same error <code>pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached</code>, no matter what JVM flags I give in <code>Xms, Xmx, Xss</code>. Looking into the logging <code>Picked up JAVA_TOOL_OPTIONS</code> it looks like my custom flags are used."},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":0,"creation_date":1701892802,"post_id":77613945,"comment_id":136832578,"body_markdown":"Yes, I&#39;d agree it&#39;s showing up there so that&#39;s probably a good sign the JVM is using it. Maybe the GC threads are different and require 1024. It&#39;s strange that you are freeing up memory and it still can&#39;t make the threads. I&#39;m not sure why else it would fail, unless it&#39;s hitting some sort of system limit. Maybe check `ulimit` on that box. Also, check https://github.com/adoptium/temurin-build/issues/2976 which seems similar. I think you&#39;re out of the realm where buildpacks is causing the issue though.","body":"Yes, I&#39;d agree it&#39;s showing up there so that&#39;s probably a good sign the JVM is using it. Maybe the GC threads are different and require 1024. It&#39;s strange that you are freeing up memory and it still can&#39;t make the threads. I&#39;m not sure why else it would fail, unless it&#39;s hitting some sort of system limit. Maybe check <code>ulimit</code> on that box. Also, check <a href=\"https://github.com/adoptium/temurin-build/issues/2976\" rel=\"nofollow noreferrer\">github.com/adoptium/temurin-build/issues/2976</a> which seems similar. I think you&#39;re out of the realm where buildpacks is causing the issue though."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701896592,"post_id":77613945,"comment_id":136833228,"body_markdown":"That link seems there is a problem with the latest Ubuntu Jammy. Since buildpack is using jammy as base image as well as `temurin-21-jre`. I can confirm I get the same problem during startup with my Dockerfile and `temurin-21-jre`.\nLooks like limitation with the version of docker installed on CentOS 7. I cant update docker on CentOS 7, and I cant use focal base image (which buildpack does not have base image for).","body":"That link seems there is a problem with the latest Ubuntu Jammy. Since buildpack is using jammy as base image as well as <code>temurin-21-jre</code>. I can confirm I get the same problem during startup with my Dockerfile and <code>temurin-21-jre</code>. Looks like limitation with the version of docker installed on CentOS 7. I cant update docker on CentOS 7, and I cant use focal base image (which buildpack does not have base image for)."},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":0,"creation_date":1701959241,"post_id":77613945,"comment_id":136841277,"body_markdown":"We&#39;re running out of options, but you could try to create your own run image based on focal. Check out https://buildpacks.io/docs/operator-guide/create-run-base/#define-a-run-base-image-for-your-cnb-build. You&#39;d basically do what is there but change jammy to focal. Then add `&lt;runImage&gt;your-image&lt;/runImage&gt;` to the image configuration block in your pom.xml. Rebuild and it should, if everything goes right, use the run image you generated. That won&#39;t work for all apps, but Java is pretty forgiving so it doesn&#39;t care about jammy or focal so it should be OK.","body":"We&#39;re running out of options, but you could try to create your own run image based on focal. Check out <a href=\"https://buildpacks.io/docs/operator-guide/create-run-base/#define-a-run-base-image-for-your-cnb-build\" rel=\"nofollow noreferrer\">buildpacks.io/docs/operator-guide/create-run-base/&hellip;</a>. You&#39;d basically do what is there but change jammy to focal. Then add <code>&lt;runImage&gt;your-image&lt;&#47;runImage&gt;</code> to the image configuration block in your pom.xml. Rebuild and it should, if everything goes right, use the run image you generated. That won&#39;t work for all apps, but Java is pretty forgiving so it doesn&#39;t care about jammy or focal so it should be OK."}],"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701873030,"creation_date":1701873030,"answer_id":77613945,"question_id":77606907,"body_markdown":"OK, so maybe easiest to just step through this and break down what&#39;s happening.\r\n\r\n```\r\nSetting Active Processor Count to 4,\r\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS,\r\nCalculating JVM memory based on 5686504K available memory,\r\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator,\r\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5686504K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%),\r\nEnabling Java Native Memory Tracking,\r\nSpring Cloud Bindings Enabled,\r\n```\r\n\r\nThis is output from a helper binary that is installed by the buildpacks into your app image. It takes care of runtime configuration changes and runs before your app starts up. The output tells us that a.) your build seems to have worked correctly and b.) the buildpacks were able to generate a start command for your app. If either of these failed, you&#39;d see errors in other places.\r\n\r\nThese lines also tell us information about how the app is configured, what resources are available, and what JVM flags are being used to start your app.\r\n\r\n```\r\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=4 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true,\r\n[0.033s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.,\r\n[0.035s][error  ][gc,task  ] Failed to create worker thread,\r\n```\r\n\r\nAt this point, your app has started. This output is from the JVM itself. It tells you what JVM options it picked up. It is also telling us that there is a problem creating GC threads, that it&#39;s unable to create the thread. That is the crux of the issue here.\r\n\r\nYou are seeing a very similar issue with your native app. It is also telling you that it can&#39;t create new native threads. I think that pretty strongly points to the server not having enough resources.\r\n\r\n```\r\njava.lang.OutOfMemoryError: Unable to create native thread: possibly out of memory or process/resource limits reached\r\n    at com.oracle.svm.core.thread.PlatformThreads.startThread(PlatformThreads.java:806)\r\n    at java.lang.Thread.start0(Thread.java:428)\r\n    at java.lang.Thread.start(Thread.java:1526)\r\n    at com.oracle.svm.core.heap.ReferenceHandlerThread.start(ReferenceHandlerThread.java:54)\r\n    at com.oracle.svm.core.graal.snippets.CEntryPointSnippets.initializeIsolate(CEntryPointSnippets.java:326)\r\n    at com.oracle.svm.core.JavaMainWrapper$EnterCreateIsolateWithCArgumentsPrologue.enter(JavaMainWrapper.java:480)\r\n```\r\n\r\nAs to why this doesn&#39;t happen with your Dockerfile-generated image. I suspect that is because of the JVM flags being used by the buildpack. The buildpacks generally try to configure your app so that if it is going to have a problem, it will crash at start-up time and not later, possibly in the middle of the night when you&#39;re sleeping. This most prominently shows up in the way that memory settings are configured.\r\n\r\nMemory settings from the buildpack are also configured for you to max out the performance of your application. If you have a small app that doesn&#39;t get a lot of traffic, you can tune the memory settings back and that might free up some resources on your box allowing the app to start.\r\n\r\nMy suggestion would be to start by setting `-Xss256k`. That will set the thread stack size to the minimum value, instead of 1M. If you have a lot of threads, this can save a decent amount of memory, and *most* apps don&#39;t need that much of a thread stack anyway.\r\n\r\nIf that doesn&#39;t help, you could try setting `-XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:ReservedCodeCacheSize=50M` (you may need to adjust the code cache size depending on your app). This will further reduce the resources required by your app. See [for more details on what these do](https://stackoverflow.com/a/38721975/1585136). Do be warned though. **This has the strong potential to negatively impact performance in your app**. It&#39;s not magic, it reduces resources by not optimizing as much. If your app doesn&#39;t need the extra performance, then you can use it to save some memory. It&#39;s a trade-off. You have to make the decision on what&#39;s more important.\r\n\r\n-------\r\n\r\n&gt; I am not sure how buildpack is actually running the application. The docker image does not pack the built app.jar, but instead some BOOT-INFO with all the classes.\r\n&gt; The docker image entrypoint is /cnb/process/web.\r\n\r\nThis is just an FYI.\r\n\r\n- When buildpacks run, they set up what are called process types. The process type is essentially the start command that the buildpack generates to run your app.\r\n- `/cnb/process/web` is the default process type. \r\n- If you run `pack inspect &lt;app-image&gt;` it will show you the process types that were set by the buildpack. That will show you the specific start command.\r\n- Most Java app images packed with buildpacks will have three process types, but they all end up doing the same thing. This is just for your convenience.\r\n- There is no JAR in your app image because the buildpacks don&#39;t actually get a JAR file as input. They actually get the contents of the JAR file (i.e. an exploded JAR). This is expected behavior and it&#39;s also a good thing. Unpacked apps like this will [almost always start faster than apps in a JAR file](https://spring.io/blog/2023/12/04/cds-with-spring-framework-6-1#cds-data-points-with-spring-petclinic).","title":"Spring Boot built with buildpacks Will not start up in docker compose","body":"<p>OK, so maybe easiest to just step through this and break down what's happening.</p>\n<pre><code>Setting Active Processor Count to 4,\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS,\nCalculating JVM memory based on 5686504K available memory,\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator,\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5686504K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%),\nEnabling Java Native Memory Tracking,\nSpring Cloud Bindings Enabled,\n</code></pre>\n<p>This is output from a helper binary that is installed by the buildpacks into your app image. It takes care of runtime configuration changes and runs before your app starts up. The output tells us that a.) your build seems to have worked correctly and b.) the buildpacks were able to generate a start command for your app. If either of these failed, you'd see errors in other places.</p>\n<p>These lines also tell us information about how the app is configured, what resources are available, and what JVM flags are being used to start your app.</p>\n<pre><code>Picked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=4 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true,\n[0.033s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.,\n[0.035s][error  ][gc,task  ] Failed to create worker thread,\n</code></pre>\n<p>At this point, your app has started. This output is from the JVM itself. It tells you what JVM options it picked up. It is also telling us that there is a problem creating GC threads, that it's unable to create the thread. That is the crux of the issue here.</p>\n<p>You are seeing a very similar issue with your native app. It is also telling you that it can't create new native threads. I think that pretty strongly points to the server not having enough resources.</p>\n<pre><code>java.lang.OutOfMemoryError: Unable to create native thread: possibly out of memory or process/resource limits reached\n    at com.oracle.svm.core.thread.PlatformThreads.startThread(PlatformThreads.java:806)\n    at java.lang.Thread.start0(Thread.java:428)\n    at java.lang.Thread.start(Thread.java:1526)\n    at com.oracle.svm.core.heap.ReferenceHandlerThread.start(ReferenceHandlerThread.java:54)\n    at com.oracle.svm.core.graal.snippets.CEntryPointSnippets.initializeIsolate(CEntryPointSnippets.java:326)\n    at com.oracle.svm.core.JavaMainWrapper$EnterCreateIsolateWithCArgumentsPrologue.enter(JavaMainWrapper.java:480)\n</code></pre>\n<p>As to why this doesn't happen with your Dockerfile-generated image. I suspect that is because of the JVM flags being used by the buildpack. The buildpacks generally try to configure your app so that if it is going to have a problem, it will crash at start-up time and not later, possibly in the middle of the night when you're sleeping. This most prominently shows up in the way that memory settings are configured.</p>\n<p>Memory settings from the buildpack are also configured for you to max out the performance of your application. If you have a small app that doesn't get a lot of traffic, you can tune the memory settings back and that might free up some resources on your box allowing the app to start.</p>\n<p>My suggestion would be to start by setting <code>-Xss256k</code>. That will set the thread stack size to the minimum value, instead of 1M. If you have a lot of threads, this can save a decent amount of memory, and <em>most</em> apps don't need that much of a thread stack anyway.</p>\n<p>If that doesn't help, you could try setting <code>-XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:ReservedCodeCacheSize=50M</code> (you may need to adjust the code cache size depending on your app). This will further reduce the resources required by your app. See <a href=\"https://stackoverflow.com/a/38721975/1585136\">for more details on what these do</a>. Do be warned though. <strong>This has the strong potential to negatively impact performance in your app</strong>. It's not magic, it reduces resources by not optimizing as much. If your app doesn't need the extra performance, then you can use it to save some memory. It's a trade-off. You have to make the decision on what's more important.</p>\n<hr />\n<blockquote>\n<p>I am not sure how buildpack is actually running the application. The docker image does not pack the built app.jar, but instead some BOOT-INFO with all the classes.\nThe docker image entrypoint is /cnb/process/web.</p>\n</blockquote>\n<p>This is just an FYI.</p>\n<ul>\n<li>When buildpacks run, they set up what are called process types. The process type is essentially the start command that the buildpack generates to run your app.</li>\n<li><code>/cnb/process/web</code> is the default process type.</li>\n<li>If you run <code>pack inspect &lt;app-image&gt;</code> it will show you the process types that were set by the buildpack. That will show you the specific start command.</li>\n<li>Most Java app images packed with buildpacks will have three process types, but they all end up doing the same thing. This is just for your convenience.</li>\n<li>There is no JAR in your app image because the buildpacks don't actually get a JAR file as input. They actually get the contents of the JAR file (i.e. an exploded JAR). This is expected behavior and it's also a good thing. Unpacked apps like this will <a href=\"https://spring.io/blog/2023/12/04/cds-with-spring-framework-6-1#cds-data-points-with-spring-petclinic\" rel=\"nofollow noreferrer\">almost always start faster than apps in a JAR file</a>.</li>\n</ul>\n"}],"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701873030,"creation_date":1701785888,"question_id":77606907,"body_markdown":"I am having problems running a Spring Boot application in Docker compose built with Buildpack.\r\n\r\nThe application got an upgrade from Spring Boot 2.2.4 and Java 8. The old version was packaged in docker with a Dockerfile and using eclipse-temurin-alpine as base image.\r\nIt was then starting up fine with docker-compose.\r\n\r\nAfter upgrading the application to Spring Boot 3.1.5 and Java 21, I then removed using Dockerfile, and build the docker image with buildpacks. Now it will not start up with docker-compose. It seems it is because of some buildpacks initial startup procedure.\r\n\r\n```\r\nSetting Active Processor Count to 4,\r\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS,\r\nCalculating JVM memory based on 5686504K available memory,\r\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator,\r\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5686504K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%),\r\nEnabling Java Native Memory Tracking,\r\nSpring Cloud Bindings Enabled,\r\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=4 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true,\r\n[0.033s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.,\r\n[0.035s][error  ][gc,task  ] Failed to create worker thread,\r\n```\r\n\r\nI am not sure how buildpack is actually running the application. The docker image does not pack the built app.jar, but instead some BOOT-INFO with all the classes.\\\r\nThe docker image entrypoint is `/cnb/process/web`.\r\n\r\nMy old Dockerfile for running the Spring Boot application:\r\n```\r\nFROM eclipse-temurin:21-jre-alpine\r\nARG jarfile=target/app.jar\r\nVOLUME /tmp\r\n\r\nADD $jarfile app.jar\r\nRUN sh -c &#39;touch /app.jar&#39;\r\nRUN apk add --no-cache libc6-compat curl bash\r\n\r\nENV JAVA_OPTS=&quot;&quot;\r\nENTRYPOINT exec java $JAVA_OPTS -jar /app.jar\r\n```\r\n\r\nMaven Spring Boot configuration:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n        &lt;image&gt;\r\n            &lt;builder&gt;paketobuildpacks/builder-jammy-tiny&lt;/builder&gt;\r\n            &lt;name&gt;${docker.publishRegistry.url}/company/group/${project.name}:${project.version}&lt;/name&gt;\r\n            &lt;createdDate&gt;${maven.build.timestamp}&lt;/createdDate&gt;\r\n            &lt;cleanCache&gt;true&lt;/cleanCache&gt;\r\n            &lt;env&gt;\r\n                &lt;BP_NATIVE_IMAGE&gt;false&lt;/BP_NATIVE_IMAGE&gt;\r\n                &lt;BP_JVM_VERSION&gt;${java.version}&lt;/BP_JVM_VERSION&gt;\r\n                &lt;BP_OCI_SOURCE&gt;${project.scm.url}&lt;/BP_OCI_SOURCE&gt;\r\n                &lt;BP_OCI_CREATED&gt;${maven.build.timestamp}&lt;/BP_OCI_CREATED&gt;\r\n                &lt;BP_OCI_VERSION&gt;${project.version}&lt;/BP_OCI_VERSION&gt;\r\n                &lt;BP_OCI_DESCRIPTION&gt;${project.description}&lt;/BP_OCI_DESCRIPTION&gt;\r\n            &lt;/env&gt;\r\n        &lt;/image&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI have a complete similar Maven configuration here:\r\nhttps://github.com/DJViking/spring-boot-demo\r\n\r\nThe server is running on CentOS 7.\r\n```\r\n&gt; docker-compose --version\r\ndocker-compose version 1.18.0, build 8dd22a9\r\n```\r\n\r\nThe docker-compose.yml is quite simple\r\n\r\n```\r\n  application:\r\n    image: ghcr.io/company/group/application:1.0.0\r\n    restart: unless-stopped\r\n    expose:\r\n      - 8505\r\n    ports:\r\n      - &quot;8505:8505&quot;\r\n    networks:\r\n      - customnet\r\n    environment:\r\n      - &quot;SPRING_PROFILES_ACTIVE=test&quot;\r\n```\r\nIf I run the docker image on the server (docker run, not docker-compose), the I get the exact same startup problem.\r\n```\r\n&gt; docker run --rm -e SPRING_PROFILES_ACTIVE=test IMAGE\r\n```\r\n\r\nIt does look like it might have something to do with low memory on the server.\r\n```\r\n[root@server]$ free -h\r\n              total        used        free      shared  buff/cache   available\r\nMem:            15G         10G        462M        841M        5.0G        4.2G\r\nSwap:          2.0G        2.0G         28K\r\n```\r\n\r\nThere are currently running 20+ other services, and java applications on this server.\r\nHazelCast, RabbitMQ, Nginx, prometheus, and 6 other Java Spring Boot applications.\r\n\r\nIf I build a native app, then it fails to start with this error:\r\n```\r\njava.lang.OutOfMemoryError: Unable to create native thread: possibly out of memory or process/resource limits reached\r\n    at com.oracle.svm.core.thread.PlatformThreads.startThread(PlatformThreads.java:806)\r\n    at java.lang.Thread.start0(Thread.java:428)\r\n    at java.lang.Thread.start(Thread.java:1526)\r\n    at com.oracle.svm.core.heap.ReferenceHandlerThread.start(ReferenceHandlerThread.java:54)\r\n    at com.oracle.svm.core.graal.snippets.CEntryPointSnippets.initializeIsolate(CEntryPointSnippets.java:326)\r\n    at com.oracle.svm.core.JavaMainWrapper$EnterCreateIsolateWithCArgumentsPrologue.enter(JavaMainWrapper.java:480)\r\n```\r\n\r\nBut I have no problem starting up the Spring Boot Application if I build with the old Dockerfile instead.\r\n\r\nRunning the non-native docker image built with buildpacks locally on my computer works fine\r\n```\r\n&gt; docker run --rm -e SPRING_PROFILES_ACTIVE=test IMAGE\r\nSetting Active Processor Count to 16\r\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS\r\nCalculating JVM memory based on 15200940K available memory\r\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator\r\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx14515167K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 15200940K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%)\r\nEnabling Java Native Memory Tracking\r\nAdding 137 container CA certificates to JVM truststore\r\nSpring Cloud Bindings Enabled\r\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=16 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx14515167K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true\r\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\r\n\r\n  .   ____          ___ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::    (v3.1.5)\r\n\r\n2023-12-05T10:14:45.790Z  INFO 1 --- [           main] c.r.a.t.MyApplication : Starting MyApplication v2.0.2-SNAPSHOT using Java 21.0.1 with PID 1 (/workspace/BOOT-INF/classes started by cnb in /workspace)\r\n```","title":"Spring Boot built with buildpacks Will not start up in docker compose","body":"<p>I am having problems running a Spring Boot application in Docker compose built with Buildpack.</p>\n<p>The application got an upgrade from Spring Boot 2.2.4 and Java 8. The old version was packaged in docker with a Dockerfile and using eclipse-temurin-alpine as base image.\nIt was then starting up fine with docker-compose.</p>\n<p>After upgrading the application to Spring Boot 3.1.5 and Java 21, I then removed using Dockerfile, and build the docker image with buildpacks. Now it will not start up with docker-compose. It seems it is because of some buildpacks initial startup procedure.</p>\n<pre><code>Setting Active Processor Count to 4,\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS,\nCalculating JVM memory based on 5686504K available memory,\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator,\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5686504K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%),\nEnabling Java Native Memory Tracking,\nSpring Cloud Bindings Enabled,\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=4 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true,\n[0.033s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.,\n[0.035s][error  ][gc,task  ] Failed to create worker thread,\n</code></pre>\n<p>I am not sure how buildpack is actually running the application. The docker image does not pack the built app.jar, but instead some BOOT-INFO with all the classes.<br />\nThe docker image entrypoint is <code>/cnb/process/web</code>.</p>\n<p>My old Dockerfile for running the Spring Boot application:</p>\n<pre><code>FROM eclipse-temurin:21-jre-alpine\nARG jarfile=target/app.jar\nVOLUME /tmp\n\nADD $jarfile app.jar\nRUN sh -c 'touch /app.jar'\nRUN apk add --no-cache libc6-compat curl bash\n\nENV JAVA_OPTS=&quot;&quot;\nENTRYPOINT exec java $JAVA_OPTS -jar /app.jar\n</code></pre>\n<p>Maven Spring Boot configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n        &lt;/excludes&gt;\n        &lt;image&gt;\n            &lt;builder&gt;paketobuildpacks/builder-jammy-tiny&lt;/builder&gt;\n            &lt;name&gt;${docker.publishRegistry.url}/company/group/${project.name}:${project.version}&lt;/name&gt;\n            &lt;createdDate&gt;${maven.build.timestamp}&lt;/createdDate&gt;\n            &lt;cleanCache&gt;true&lt;/cleanCache&gt;\n            &lt;env&gt;\n                &lt;BP_NATIVE_IMAGE&gt;false&lt;/BP_NATIVE_IMAGE&gt;\n                &lt;BP_JVM_VERSION&gt;${java.version}&lt;/BP_JVM_VERSION&gt;\n                &lt;BP_OCI_SOURCE&gt;${project.scm.url}&lt;/BP_OCI_SOURCE&gt;\n                &lt;BP_OCI_CREATED&gt;${maven.build.timestamp}&lt;/BP_OCI_CREATED&gt;\n                &lt;BP_OCI_VERSION&gt;${project.version}&lt;/BP_OCI_VERSION&gt;\n                &lt;BP_OCI_DESCRIPTION&gt;${project.description}&lt;/BP_OCI_DESCRIPTION&gt;\n            &lt;/env&gt;\n        &lt;/image&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I have a complete similar Maven configuration here:\n<a href=\"https://github.com/DJViking/spring-boot-demo\" rel=\"nofollow noreferrer\">https://github.com/DJViking/spring-boot-demo</a></p>\n<p>The server is running on CentOS 7.</p>\n<pre><code>&gt; docker-compose --version\ndocker-compose version 1.18.0, build 8dd22a9\n</code></pre>\n<p>The docker-compose.yml is quite simple</p>\n<pre><code>  application:\n    image: ghcr.io/company/group/application:1.0.0\n    restart: unless-stopped\n    expose:\n      - 8505\n    ports:\n      - &quot;8505:8505&quot;\n    networks:\n      - customnet\n    environment:\n      - &quot;SPRING_PROFILES_ACTIVE=test&quot;\n</code></pre>\n<p>If I run the docker image on the server (docker run, not docker-compose), the I get the exact same startup problem.</p>\n<pre><code>&gt; docker run --rm -e SPRING_PROFILES_ACTIVE=test IMAGE\n</code></pre>\n<p>It does look like it might have something to do with low memory on the server.</p>\n<pre><code>[root@server]$ free -h\n              total        used        free      shared  buff/cache   available\nMem:            15G         10G        462M        841M        5.0G        4.2G\nSwap:          2.0G        2.0G         28K\n</code></pre>\n<p>There are currently running 20+ other services, and java applications on this server.\nHazelCast, RabbitMQ, Nginx, prometheus, and 6 other Java Spring Boot applications.</p>\n<p>If I build a native app, then it fails to start with this error:</p>\n<pre><code>java.lang.OutOfMemoryError: Unable to create native thread: possibly out of memory or process/resource limits reached\n    at com.oracle.svm.core.thread.PlatformThreads.startThread(PlatformThreads.java:806)\n    at java.lang.Thread.start0(Thread.java:428)\n    at java.lang.Thread.start(Thread.java:1526)\n    at com.oracle.svm.core.heap.ReferenceHandlerThread.start(ReferenceHandlerThread.java:54)\n    at com.oracle.svm.core.graal.snippets.CEntryPointSnippets.initializeIsolate(CEntryPointSnippets.java:326)\n    at com.oracle.svm.core.JavaMainWrapper$EnterCreateIsolateWithCArgumentsPrologue.enter(JavaMainWrapper.java:480)\n</code></pre>\n<p>But I have no problem starting up the Spring Boot Application if I build with the old Dockerfile instead.</p>\n<p>Running the non-native docker image built with buildpacks locally on my computer works fine</p>\n<pre><code>&gt; docker run --rm -e SPRING_PROFILES_ACTIVE=test IMAGE\nSetting Active Processor Count to 16\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS\nCalculating JVM memory based on 15200940K available memory\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx14515167K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 15200940K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%)\nEnabling Java Native Memory Tracking\nAdding 137 container CA certificates to JVM truststore\nSpring Cloud Bindings Enabled\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=16 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx14515167K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\n\n  .   ____          ___ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::    (v3.1.5)\n\n2023-12-05T10:14:45.790Z  INFO 1 --- [           main] c.r.a.t.MyApplication : Starting MyApplication v2.0.2-SNAPSHOT using Java 21.0.1 with PID 1 (/workspace/BOOT-INF/classes started by cnb in /workspace)\n</code></pre>\n"},{"tags":["java","optaplanner","timefold"],"comments":[{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1701869199,"post_id":77611671,"comment_id":136828141,"body_markdown":"Would you mind adding the log line entirely? Does it state &quot;after action done&quot;? When [that move.toString](https://github.com/TimefoldAI/timefold-solver/blob/main/core/core-impl/src/main/java/ai/timefold/solver/core/impl/heuristic/selector/move/generic/chained/TailChainSwapMove.java#L338) is called, it&#39;s already changed, making it ambiguous indeed. The trouble is that we only want one log message that also includes the score (so after the move is done).","body":"Would you mind adding the log line entirely? Does it state &quot;after action done&quot;? When <a href=\"https://github.com/TimefoldAI/timefold-solver/blob/main/core/core-impl/src/main/java/ai/timefold/solver/core/impl/heuristic/selector/move/generic/chained/TailChainSwapMove.java#L338\" rel=\"nofollow noreferrer\">that move.toString</a> is called, it&#39;s already changed, making it ambiguous indeed. The trouble is that we only want one log message that also includes the score (so after the move is done)."},{"owner":{"account_id":22912575,"reputation":53,"user_id":17049622,"display_name":"Alexey"},"score":0,"creation_date":1701872820,"post_id":77611671,"comment_id":136828879,"body_markdown":"@GeoffreyDeSmet I added a few last lines of the log, but another one. I didn&#39;t save original.","body":"@GeoffreyDeSmet I added a few last lines of the log, but another one. I didn&#39;t save original."}],"owner":{"account_id":22912575,"reputation":53,"user_id":17049622,"display_name":"Alexey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701872737,"creation_date":1701852801,"question_id":77611671,"body_markdown":"I&#39;m trying to solve tsp-problem with timefold.\r\n\r\nI&#39;ve got a [many tailChainSwap moves][1] in the log, which didn&#39;t change the score.\r\n\r\nI tried to understand what is happening using [this approach][2]\r\n\r\nAnd it turned out that each move reversed the entire chain except anchor. ([0, 1, 2, 3] -&gt; [0, 3, 2, 1])\r\n\r\nBut in the log these moves didn&#39;t look like that.\r\n\r\nFor example there was a move (56 {31} &lt;-tailChainSwap-&gt; 10 {75}), which turned\r\n\r\n0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\r\n\r\nto \r\n\r\n0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65\r\n\r\nIs it a wrong information in the log, or do I not understand how tailChainSwap suppose to work on the same chain?\r\n\r\n(upd) example was changed\r\n\r\n(upd2) A few last strings of log:\r\n\r\n    2023-12-06 17:20:43,267 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17493), time spent (60088), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/148), picked move (84 {51} &lt;-tailChainSwap-&gt; 70 {72}).\r\n    &gt;&gt;&gt;0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65\r\n    2023-12-06 17:20:43,270 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17494), time spent (60091), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/333), picked move (47 {7} &lt;-tailChainSwap-&gt; 77 {37}).\r\n    &gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\r\n    2023-12-06 17:20:43,271 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17495), time spent (60092), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/65), picked move (12 {0} &lt;-tailChainSwap-&gt; 15 {93}).\r\n    &gt;&gt;&gt;0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65\r\n    2023-12-06 17:20:43,272 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17496), time spent (60093), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/75), picked move (96 {16} &lt;-tailChainSwap-&gt; 14 {80}).\r\n    &gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\r\n    2023-12-06 17:20:43,284 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17497), time spent (60105), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/1267), picked move (1 {60} &lt;-tailChainSwap-&gt; 45 {36}).\r\n    &gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 29, 26, 14, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\r\n    2023-12-06 17:20:43,285 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17498), time spent (60106), score (0hard/-21033287soft),     best score (0hard/-20852279soft), accepted/selected move count (0/102), picked move (29 {26} &lt;-tailChainSwap-&gt; 14 {80}).\r\n    2023-12-06 17:20:43,285 INFO  [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main) Local Search phase (1) ended: time spent (60106), best score (0hard/-20852279soft), score calculation speed (111279/sec), step total (17499).\r\n    2023-12-06 17:20:43,286 INFO  [ai.tim.sol.cor.imp.sol.DefaultSolver] (main) Solving ended: time spent (60106), best score (0hard/-20852279soft), score calculation speed (111165/sec), phase total (2), environment mode (NON_REPRODUCIBLE), move thread count (NONE).\r\n\r\n  [1]: https://stackoverflow.com/questions/77606604/timefold-is-tailchainswap-incompatible-with-change-and-swap\r\n  [2]: https://stackoverflow.com/questions/29405153/step-changes-listener-in-construction-heuristic-phase","title":"Timefold: does tailChainSwap print wrong move information to the log?","body":"<p>I'm trying to solve tsp-problem with timefold.</p>\n<p>I've got a <a href=\"https://stackoverflow.com/questions/77606604/timefold-is-tailchainswap-incompatible-with-change-and-swap\">many tailChainSwap moves</a> in the log, which didn't change the score.</p>\n<p>I tried to understand what is happening using <a href=\"https://stackoverflow.com/questions/29405153/step-changes-listener-in-construction-heuristic-phase\">this approach</a></p>\n<p>And it turned out that each move reversed the entire chain except anchor. ([0, 1, 2, 3] -&gt; [0, 3, 2, 1])</p>\n<p>But in the log these moves didn't look like that.</p>\n<p>For example there was a move (56 {31} &lt;-tailChainSwap-&gt; 10 {75}), which turned</p>\n<p>0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12</p>\n<p>to</p>\n<p>0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65</p>\n<p>Is it a wrong information in the log, or do I not understand how tailChainSwap suppose to work on the same chain?</p>\n<p>(upd) example was changed</p>\n<p>(upd2) A few last strings of log:</p>\n<pre><code>2023-12-06 17:20:43,267 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17493), time spent (60088), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/148), picked move (84 {51} &lt;-tailChainSwap-&gt; 70 {72}).\n&gt;&gt;&gt;0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65\n2023-12-06 17:20:43,270 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17494), time spent (60091), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/333), picked move (47 {7} &lt;-tailChainSwap-&gt; 77 {37}).\n&gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\n2023-12-06 17:20:43,271 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17495), time spent (60092), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/65), picked move (12 {0} &lt;-tailChainSwap-&gt; 15 {93}).\n&gt;&gt;&gt;0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65\n2023-12-06 17:20:43,272 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17496), time spent (60093), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/75), picked move (96 {16} &lt;-tailChainSwap-&gt; 14 {80}).\n&gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\n2023-12-06 17:20:43,284 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17497), time spent (60105), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/1267), picked move (1 {60} &lt;-tailChainSwap-&gt; 45 {36}).\n&gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 29, 26, 14, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\n2023-12-06 17:20:43,285 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17498), time spent (60106), score (0hard/-21033287soft),     best score (0hard/-20852279soft), accepted/selected move count (0/102), picked move (29 {26} &lt;-tailChainSwap-&gt; 14 {80}).\n2023-12-06 17:20:43,285 INFO  [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main) Local Search phase (1) ended: time spent (60106), best score (0hard/-20852279soft), score calculation speed (111279/sec), step total (17499).\n2023-12-06 17:20:43,286 INFO  [ai.tim.sol.cor.imp.sol.DefaultSolver] (main) Solving ended: time spent (60106), best score (0hard/-20852279soft), score calculation speed (111165/sec), phase total (2), environment mode (NON_REPRODUCIBLE), move thread count (NONE).\n</code></pre>\n"},{"tags":["java","json","spring-boot","deserialization","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701872439,"creation_date":1701872439,"answer_id":77613878,"question_id":77611830,"body_markdown":"You are saying that ALL deserialized fields in the created object become null. This means that you have no problem with converting snake case to camel case but with your model. The field `color` would be set otherwise - it is not in snake case.\r\n\r\nTo get an object correctly mapped from the JSON provided in your question you should model the Java classes (DTO) like this:\r\n```java\r\npublic class CarDto {\r\n  private Car car;\r\n}\r\npublic class Car {\r\n  private Long totalPrice;\r\n  private String color;\r\n  private String yearAndModel;\r\n}\r\n```\r\nDon&#39;t forget to implement getters and setters. They are essential for Jackson JSON mapper used by Spring.\r\n\r\nIn addition to this you need to tell Spring to convert from snake to camel case by one of following options:\r\n\r\nOption 1 - set the global property:\r\n```\r\nspring.jackson.property-naming-strategy=SNAKE_CASE\r\n```\r\nOption 2 - configure the global object mapper:\r\n```java\r\n@Bean\r\nObjectMapper objectMapper() {\r\n    return new ObjectMapper().setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\r\n}\r\n```","title":"Deserialization of snake_case to camel_case in spring boot with openapi generator","body":"<p>You are saying that ALL deserialized fields in the created object become null. This means that you have no problem with converting snake case to camel case but with your model. The field <code>color</code> would be set otherwise - it is not in snake case.</p>\n<p>To get an object correctly mapped from the JSON provided in your question you should model the Java classes (DTO) like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CarDto {\n  private Car car;\n}\npublic class Car {\n  private Long totalPrice;\n  private String color;\n  private String yearAndModel;\n}\n</code></pre>\n<p>Don't forget to implement getters and setters. They are essential for Jackson JSON mapper used by Spring.</p>\n<p>In addition to this you need to tell Spring to convert from snake to camel case by one of following options:</p>\n<p>Option 1 - set the global property:</p>\n<pre><code>spring.jackson.property-naming-strategy=SNAKE_CASE\n</code></pre>\n<p>Option 2 - configure the global object mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nObjectMapper objectMapper() {\n    return new ObjectMapper().setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\n}\n</code></pre>\n"}],"owner":{"account_id":157768,"reputation":4889,"user_id":1306402,"accept_rate":57,"display_name":"Madu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701872439,"creation_date":1701854497,"question_id":77611830,"body_markdown":"In our spring boot service, we are using open API to generate the contracts and the interface which our rest controller can implement.\r\n\r\nHowever, in the request body, the fields are in snake case but the fields in the Java class are in camel case and as a result, all the deserialized fields in the created object become null.\r\n\r\nHere is the request object.\r\n\r\n\r\n     {\r\n       &quot;car&quot;: {\r\n                &quot;total_price&quot;: 21300,\r\n                &quot;color&quot;: &quot;blue&quot;,\r\n                &quot;year_and_model&quot;: &quot;Ford 2021&quot;\r\n               }\r\n     }\r\nand my generated car class looks like\r\n\r\n```\r\n@Schema(name = &quot;Car&quot;, description = &quot;Car request payload&quot;)\r\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-12-06T10:01:37.820309+02:00[Europe/Helsinki]&quot;)\r\npublic class Car {\r\n\r\n  private Long totalPrice;\r\n\r\n  private String color;\r\n\r\n  private String yearAndModel;\r\n\r\n}\r\n```\r\n\r\nI have added `spring.jackson.property-naming-strategy=SNAKE_CASE` in `application.properties` and also tried with the following solutions \r\n\r\n - Add the following build.gradle\r\n```\r\n&quot;additionalModelTypeAnnotations&quot;: &quot;@com.fasterxml.jackson.databind.annotation.JsonNaming(com.fasterxml.jackson.databind.PropertyNamingStrategies.SnakeCaseStrategy.class)&quot;\r\n``` \r\nto `configOptions.set([])` in `openApiGenerate`\r\n - Add added a bean for ModelResolver as some [answers][1] suggest \r\n```\r\n@Bean\r\n   public ModelResolver modelResolver(ObjectMapper objectMapper) {\r\n     return new ModelResolver(objectMapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE));\r\n}\r\n```\r\nBut none of the solutions work. Can anybody help me with this?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67192746/how-to-change-namingstrategy-in-springdoc","title":"Deserialization of snake_case to camel_case in spring boot with openapi generator","body":"<p>In our spring boot service, we are using open API to generate the contracts and the interface which our rest controller can implement.</p>\n<p>However, in the request body, the fields are in snake case but the fields in the Java class are in camel case and as a result, all the deserialized fields in the created object become null.</p>\n<p>Here is the request object.</p>\n<pre><code> {\n   &quot;car&quot;: {\n            &quot;total_price&quot;: 21300,\n            &quot;color&quot;: &quot;blue&quot;,\n            &quot;year_and_model&quot;: &quot;Ford 2021&quot;\n           }\n }\n</code></pre>\n<p>and my generated car class looks like</p>\n<pre><code>@Schema(name = &quot;Car&quot;, description = &quot;Car request payload&quot;)\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-12-06T10:01:37.820309+02:00[Europe/Helsinki]&quot;)\npublic class Car {\n\n  private Long totalPrice;\n\n  private String color;\n\n  private String yearAndModel;\n\n}\n</code></pre>\n<p>I have added <code>spring.jackson.property-naming-strategy=SNAKE_CASE</code> in <code>application.properties</code> and also tried with the following solutions</p>\n<ul>\n<li>Add the following build.gradle</li>\n</ul>\n<pre><code>&quot;additionalModelTypeAnnotations&quot;: &quot;@com.fasterxml.jackson.databind.annotation.JsonNaming(com.fasterxml.jackson.databind.PropertyNamingStrategies.SnakeCaseStrategy.class)&quot;\n</code></pre>\n<p>to <code>configOptions.set([])</code> in <code>openApiGenerate</code></p>\n<ul>\n<li>Add added a bean for ModelResolver as some <a href=\"https://stackoverflow.com/questions/67192746/how-to-change-namingstrategy-in-springdoc\">answers</a> suggest</li>\n</ul>\n<pre><code>@Bean\n   public ModelResolver modelResolver(ObjectMapper objectMapper) {\n     return new ModelResolver(objectMapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE));\n}\n</code></pre>\n<p>But none of the solutions work. Can anybody help me with this?</p>\n"},{"tags":["java","jar","nio2"],"comments":[{"owner":{"account_id":1828009,"reputation":4065,"user_id":1660228,"accept_rate":80,"display_name":"Loki"},"score":0,"creation_date":1427383911,"post_id":29282457,"comment_id":46762867,"body_markdown":"Why don&#39;t you (want to) stay with your current solution?","body":"Why don&#39;t you (want to) stay with your current solution?"},{"owner":{"account_id":165287,"reputation":6846,"user_id":388603,"accept_rate":61,"display_name":"Bitbang3r"},"score":2,"creation_date":1427384187,"post_id":29282457,"comment_id":46763074,"body_markdown":"The current solution only works as long as the app is running inside IntelliJ and on my own computer. That works today, but ultimately it has to be able to run from an executable Jarfile.","body":"The current solution only works as long as the app is running inside IntelliJ and on my own computer. That works today, but ultimately it has to be able to run from an executable Jarfile."}],"answers":[{"comments":[{"owner":{"account_id":328571,"reputation":3309,"user_id":651601,"accept_rate":94,"display_name":"keiki"},"score":0,"creation_date":1701858946,"post_id":29282588,"comment_id":136826299,"body_markdown":"This approach will not close the BufferedReader and InputStreamReader. You have to create them inside try( create here) as well. Even though the underlying IO might be close it&#39;s not the way it&#39;s meant to be used.","body":"This approach will not close the BufferedReader and InputStreamReader. You have to create them inside try( create here) as well. Even though the underlying IO might be close it&#39;s not the way it&#39;s meant to be used."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1701872413,"post_id":29282588,"comment_id":136828794,"body_markdown":"@keiki Oops. Thanks, edited the post.","body":"@keiki Oops. Thanks, edited the post."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":2,"down_vote_count":2,"up_vote_count":95,"is_accepted":true,"score":93,"last_activity_date":1701872373,"creation_date":1427383912,"answer_id":29282588,"question_id":29282457,"body_markdown":"An `InputStream` represents a stream of bytes. Those bytes don&#39;t necessarily form (text) content that can be read line by line.\r\n\r\nIf you know that the `InputStream` can be interpreted as text, you can wrap it in a `InputStreamReader` and use [`BufferedReader#lines()`][1] to consume it line by line.\r\n\r\n\r\n\ttry (InputStream resource = Example.class.getResourceAsStream(&quot;resource&quot;);\r\n\t\t InputStreamReader inputStreamReader = new InputStreamReader(resource, StandardCharsets.UTF_8);\r\n\t\t BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\r\n\t\tList&lt;String&gt; doc = bufferedReader.lines().collect(Collectors.toList());\r\n\t\t// ...\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--","title":"equivalent to Files.readAllLines() for InputStream or Reader?","body":"<p>An <code>InputStream</code> represents a stream of bytes. Those bytes don't necessarily form (text) content that can be read line by line.</p>\n<p>If you know that the <code>InputStream</code> can be interpreted as text, you can wrap it in a <code>InputStreamReader</code> and use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--\" rel=\"nofollow noreferrer\"><code>BufferedReader#lines()</code></a> to consume it line by line.</p>\n<pre><code>try (InputStream resource = Example.class.getResourceAsStream(&quot;resource&quot;);\n     InputStreamReader inputStreamReader = new InputStreamReader(resource, StandardCharsets.UTF_8);\n     BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\n    List&lt;String&gt; doc = bufferedReader.lines().collect(Collectors.toList());\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19777,"reputation":9944,"user_id":46635,"accept_rate":57,"display_name":"splintor"},"comment_count":0,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1456133131,"creation_date":1456133131,"answer_id":35549910,"question_id":29282457,"body_markdown":"You can use Apache Commons [IOUtils#readLines][1]:\r\n\r\n`List&lt;String&gt; doc = IOUtils.readLines(inputStream, StandardCharsets.UTF_8);`\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html#readLines(java.io.InputStream,%20java.nio.charset.Charset)","title":"equivalent to Files.readAllLines() for InputStream or Reader?","body":"<p>You can use Apache Commons <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html#readLines(java.io.InputStream,%20java.nio.charset.Charset)\" rel=\"noreferrer\">IOUtils#readLines</a>:</p>\n\n<p><code>List&lt;String&gt; doc = IOUtils.readLines(inputStream, StandardCharsets.UTF_8);</code></p>\n"}],"owner":{"account_id":165287,"reputation":6846,"user_id":388603,"accept_rate":61,"display_name":"Bitbang3r"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40293,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":29282588,"answer_count":2,"score":64,"last_activity_date":1701872373,"creation_date":1427383559,"question_id":29282457,"body_markdown":"I have a file that I&#39;ve been reading into a List&lt;String&gt; via the following method:\r\n\r\n    List&lt;String&gt; doc = java.nio.file.Files.readAllLines(new File(&quot;/path/to/src/resources/citylist.csv&quot;).toPath(), StandardCharsets.UTF_8);\r\n\r\n\r\nIs there any nice (single-line) Java 7/8/nio2 way to pull off the same feat with a file that&#39;s inside an executable Jar (and presumably, has to be read with an InputStream)? Perhaps a way to open an InputStream via the classloader, then somehow coerce/transform/wrap it into a Path object? Or some new subclass of InputStream or Reader that contains an equivalent to File.readAllLines(...)?\r\n\r\nI know I *could* do it the traditional way in a half page of code, or via some external library... but before I do, I want to make sure that recent releases of Java can&#39;t already do it &quot;out of the box&quot;.","title":"equivalent to Files.readAllLines() for InputStream or Reader?","body":"<p>I have a file that I've been reading into a List via the following method:</p>\n\n<pre><code>List&lt;String&gt; doc = java.nio.file.Files.readAllLines(new File(\"/path/to/src/resources/citylist.csv\").toPath(), StandardCharsets.UTF_8);\n</code></pre>\n\n<p>Is there any nice (single-line) Java 7/8/nio2 way to pull off the same feat with a file that's inside an executable Jar (and presumably, has to be read with an InputStream)? Perhaps a way to open an InputStream via the classloader, then somehow coerce/transform/wrap it into a Path object? Or some new subclass of InputStream or Reader that contains an equivalent to File.readAllLines(...)?</p>\n\n<p>I know I <em>could</em> do it the traditional way in a half page of code, or via some external library... but before I do, I want to make sure that recent releases of Java can't already do it \"out of the box\".</p>\n"},{"tags":["java","spring-boot","azure-application-insights"],"answers":[{"comments":[{"owner":{"account_id":18833175,"reputation":45,"user_id":13736489,"display_name":"Sebastian Halik"},"score":0,"creation_date":1701956566,"post_id":77613867,"comment_id":136840738,"body_markdown":"Can you show me your pom.xml file for insight dependency? I can&#39;t find TelemetryConfiguration class in mine","body":"Can you show me your pom.xml file for insight dependency? I can&#39;t find TelemetryConfiguration class in mine"}],"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701872337,"creation_date":1701872337,"answer_id":77613867,"question_id":77612840,"body_markdown":"Here, I have created separate properties files for each environment (`demo.properties`, `local.properties`, `dev.properties`).\r\n\r\n![enter image description here](https://i.imgur.com/EiwRovG.png)\r\n\r\n**MyApp.java:**\r\n\r\n```java\r\nimport com.microsoft.applicationinsights.TelemetryConfiguration;\r\n\r\nimport java.io.InputStream;\r\nimport java.util.Properties;\r\n\r\npublic class MyApp {\r\n\r\n    public static void main(String[] args) {\r\n        // Load configuration from demo.properties by default\r\n        loadConfiguration(&quot;demo.properties&quot;);\r\n\r\n        // Get configuration values\r\n        String connectionString = AppConfig.getConnectionString();\r\n        String roleName = AppConfig.getRoleName();\r\n        String roleInstance = AppConfig.getRoleInstance();\r\n\r\n        // Set up Application Insights with the configuration\r\n        TelemetryConfiguration.getActive().setInstrumentationKey(connectionString);\r\n\r\n        // Simulate logging an event\r\n        logEvent(roleName, roleInstance);\r\n    }\r\n\r\n    private static void loadConfiguration(String configFile) {\r\n        try (InputStream input = MyApp.class.getClassLoader().getResourceAsStream(configFile)) {\r\n            Properties properties = new Properties();\r\n            properties.load(input);\r\n\r\n            // Set the configuration in the AppConfig class\r\n            AppConfig.setConnectionString(properties.getProperty(&quot;applicationinsights.connection.string&quot;));\r\n            AppConfig.setRoleName(properties.getProperty(&quot;role.name&quot;));\r\n            AppConfig.setRoleInstance(properties.getProperty(&quot;role.instance&quot;));\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void logEvent(String roleName, String roleInstance) {\r\n        // Simulate logging an event with role and role instance information\r\n        System.out.println(&quot;Logging event with Role: &quot; + roleName + &quot;, Role Instance: &quot; + roleInstance);\r\n    }\r\n}\r\n```\r\n\r\n**AppConfig.java:**\r\n\r\n```java\r\npublic class AppConfig {\r\n    private static String connectionString;\r\n    private static String roleName;\r\n    private static String roleInstance;\r\n\r\n    public static String getConnectionString() {\r\n        return connectionString;\r\n    }\r\n\r\n    public static void setConnectionString(String connectionString) {\r\n        AppConfig.connectionString = connectionString;\r\n    }\r\n\r\n    public static String getRoleName() {\r\n        return roleName;\r\n    }\r\n\r\n    public static void setRoleName(String roleName) {\r\n        AppConfig.roleName = roleName;\r\n    }\r\n\r\n    public static String getRoleInstance() {\r\n        return roleInstance;\r\n    }\r\n\r\n    public static void setRoleInstance(String roleInstance) {\r\n        AppConfig.roleInstance = roleInstance;\r\n    }\r\n}\r\n```\r\n\r\n- The above application loads configuration from a specific properties file (`demo.properties` by default) and logs an event with role and role instance information.\r\n\r\n![enter image description here](https://i.imgur.com/98Jy12T.png)\r\n\r\nI can see the appropriate logs generating as per my configuration.","title":"Microsoft Insight Java - Role name and instance in config file","body":"<p>Here, I have created separate properties files for each environment (<code>demo.properties</code>, <code>local.properties</code>, <code>dev.properties</code>).</p>\n<p><img src=\"https://i.imgur.com/EiwRovG.png\" alt=\"enter image description here\" /></p>\n<p><strong>MyApp.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.microsoft.applicationinsights.TelemetryConfiguration;\n\nimport java.io.InputStream;\nimport java.util.Properties;\n\npublic class MyApp {\n\n    public static void main(String[] args) {\n        // Load configuration from demo.properties by default\n        loadConfiguration(&quot;demo.properties&quot;);\n\n        // Get configuration values\n        String connectionString = AppConfig.getConnectionString();\n        String roleName = AppConfig.getRoleName();\n        String roleInstance = AppConfig.getRoleInstance();\n\n        // Set up Application Insights with the configuration\n        TelemetryConfiguration.getActive().setInstrumentationKey(connectionString);\n\n        // Simulate logging an event\n        logEvent(roleName, roleInstance);\n    }\n\n    private static void loadConfiguration(String configFile) {\n        try (InputStream input = MyApp.class.getClassLoader().getResourceAsStream(configFile)) {\n            Properties properties = new Properties();\n            properties.load(input);\n\n            // Set the configuration in the AppConfig class\n            AppConfig.setConnectionString(properties.getProperty(&quot;applicationinsights.connection.string&quot;));\n            AppConfig.setRoleName(properties.getProperty(&quot;role.name&quot;));\n            AppConfig.setRoleInstance(properties.getProperty(&quot;role.instance&quot;));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void logEvent(String roleName, String roleInstance) {\n        // Simulate logging an event with role and role instance information\n        System.out.println(&quot;Logging event with Role: &quot; + roleName + &quot;, Role Instance: &quot; + roleInstance);\n    }\n}\n</code></pre>\n<p><strong>AppConfig.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AppConfig {\n    private static String connectionString;\n    private static String roleName;\n    private static String roleInstance;\n\n    public static String getConnectionString() {\n        return connectionString;\n    }\n\n    public static void setConnectionString(String connectionString) {\n        AppConfig.connectionString = connectionString;\n    }\n\n    public static String getRoleName() {\n        return roleName;\n    }\n\n    public static void setRoleName(String roleName) {\n        AppConfig.roleName = roleName;\n    }\n\n    public static String getRoleInstance() {\n        return roleInstance;\n    }\n\n    public static void setRoleInstance(String roleInstance) {\n        AppConfig.roleInstance = roleInstance;\n    }\n}\n</code></pre>\n<ul>\n<li>The above application loads configuration from a specific properties file (<code>demo.properties</code> by default) and logs an event with role and role instance information.</li>\n</ul>\n<p><img src=\"https://i.imgur.com/98Jy12T.png\" alt=\"enter image description here\" /></p>\n<p>I can see the appropriate logs generating as per my configuration.</p>\n"}],"owner":{"account_id":18833175,"reputation":45,"user_id":13736489,"display_name":"Sebastian Halik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701872337,"creation_date":1701863659,"question_id":77612840,"body_markdown":"I got task to add Microsoft Insight to our API. In Api we have structure like this:\r\n```\r\nmain\r\n profile\r\n   demo.properties\r\n   local.properties\r\n   dev.properties\r\napplication.properties\r\n```\r\n\r\n\r\nI read in insight documentation that connection string, role etc can be different for each environment. I use connection string as environment variable, but i don&#39;t know how to achieve different role.name and role.instance for each environment and write it in these demo/local/dev.properties. If i can add connection string also to these properties it would be great\r\n\r\nI was using applicationinsights.connection.string in local.properties, but it wasn&#39;t work","title":"Microsoft Insight Java - Role name and instance in config file","body":"<p>I got task to add Microsoft Insight to our API. In Api we have structure like this:</p>\n<pre><code>main\n profile\n   demo.properties\n   local.properties\n   dev.properties\napplication.properties\n</code></pre>\n<p>I read in insight documentation that connection string, role etc can be different for each environment. I use connection string as environment variable, but i don't know how to achieve different role.name and role.instance for each environment and write it in these demo/local/dev.properties. If i can add connection string also to these properties it would be great</p>\n<p>I was using applicationinsights.connection.string in local.properties, but it wasn't work</p>\n"},{"tags":["java","database","mongodb","spring-boot","sharding"],"comments":[{"owner":{"account_id":15230227,"reputation":62,"user_id":10989568,"display_name":"yberrada"},"score":0,"creation_date":1701837952,"post_id":77609844,"comment_id":136823555,"body_markdown":"Can you confirm that all shards are running the same mongodb version?","body":"Can you confirm that all shards are running the same mongodb version?"},{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1701951152,"post_id":77609844,"comment_id":136839745,"body_markdown":"Yes all are using 6.0.2 version of mongodb","body":"Yes all are using 6.0.2 version of mongodb"}],"answers":[{"comments":[{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1701959279,"post_id":77613843,"comment_id":136841286,"body_markdown":"Yes I can do retry but I am not able to understand why is it not happening in replica set without sharding cluster","body":"Yes I can do retry but I am not able to understand why is it not happening in replica set without sharding cluster"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1701960052,"post_id":77613843,"comment_id":136841463,"body_markdown":"you may search for more details (like https://copyprogramming.com/howto/what-is-a-transienttransactionerror-in-mongoose-or-mongodb#what-is-a-transienttransactionerror-in-mongoose-or-mongodb), however from user&#39;s POV the important part is that it may occur and it&#39;s safe to retry it. But as I wrote, the recommended way is to delegate this logic to the driver and `WithTransaction` method (I posted a link on java impl above)","body":"you may search for more details (like <a href=\"https://copyprogramming.com/howto/what-is-a-transienttransactionerror-in-mongoose-or-mongodb#what-is-a-transienttransactionerror-in-mongoose-or-mongodb\" rel=\"nofollow noreferrer\">copyprogramming.com/howto/&hellip;</a>), however from user&#39;s POV the important part is that it may occur and it&#39;s safe to retry it. But as I wrote, the recommended way is to delegate this logic to the driver and <code>WithTransaction</code> method (I posted a link on java impl above)"}],"tags":[],"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701872181,"creation_date":1701872181,"answer_id":77613843,"question_id":77609844,"body_markdown":"`TransientTransactionError` is considered a possibly temporary and retryable error as mentioned [here][1]. So you may try to retry it manually in old style (see [here][2]) or better, and this way is recommended, to use a relatively new [method][3]: `WithTransaction` that handles retry logic behind the scene. I didn&#39;t work with `spring-boot`, so not sure how it can be called there, so you have to investigate it additionally\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52867766/9492730\r\n  [2]: https://www.mongodb.com/docs/v4.0/core/transactions/#retry-transaction\r\n  [3]: https://mongodb.github.io/mongo-java-driver/4.11/apidocs/mongodb-driver-sync/com/mongodb/client/ClientSession.html#withTransaction(com.mongodb.client.TransactionBody)","title":"How to fix TransientTransactionError in Shard Mongo DB with spring boot?","body":"<p><code>TransientTransactionError</code> is considered a possibly temporary and retryable error as mentioned <a href=\"https://stackoverflow.com/a/52867766/9492730\">here</a>. So you may try to retry it manually in old style (see <a href=\"https://www.mongodb.com/docs/v4.0/core/transactions/#retry-transaction\" rel=\"nofollow noreferrer\">here</a>) or better, and this way is recommended, to use a relatively new <a href=\"https://mongodb.github.io/mongo-java-driver/4.11/apidocs/mongodb-driver-sync/com/mongodb/client/ClientSession.html#withTransaction(com.mongodb.client.TransactionBody)\" rel=\"nofollow noreferrer\">method</a>: <code>WithTransaction</code> that handles retry logic behind the scene. I didn't work with <code>spring-boot</code>, so not sure how it can be called there, so you have to investigate it additionally</p>\n"}],"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701872181,"creation_date":1701820068,"question_id":77609844,"body_markdown":"**Scenario:**\r\n1. I am using Mongo DB 6+ version with spring boot. \r\n\r\n```\r\n @Bean\r\n    MongoTransactionManager transactionManager(MongoDatabaseFactory dbFactory) {\r\n        return new MongoTransactionManager(dbFactory);\r\n    }\r\n```\r\n\r\n```\r\n @Transactional\r\n    public void save(Cart cart,Item item) {\r\n        Cart cartFromDB = cartRepo.findById(cart.getId());\r\n        if(cartFromDB!= null){\r\n            cart.setId(cartFromDB.getId());\r\n            cartRepo.save(cart);\r\n        }else{\r\n            cartRepo.save(cart);\r\n        }\r\n        itemRepo.save(item);\r\n    }\r\n```\r\n\r\n2. I am using ```@Transactional``` to save two different document in the same transaction.\r\n3. I was having Mongo DB with replica set, it worked fine without any error..\r\n4. Now Mongo DB has been changed to use sharding.\r\n5. I suspect after this change, I am getting TransientTransactionError intermittently. After couple of tries manually its getting succeeded\r\n6. When I implement retry it succeeded. \r\n\r\n**Error message:**\r\n\r\n```com.mongodb.MongoCommandException: Command failed with error 13388 (StaleConfig): &#39;Transaction sd-ef6d-dsd-83bd-fsdfdf - dfdfdfdfdsdfdsfsd= -  - :1 was aborted on statement 2 due to: an error from cluster data placement change :: caused by :: Encountered error from mongodb.cluster.local:26009 during a transaction :: caused by :: sharding status of collection mongodb.item is not currently known and needs to be recovered&#39; on server mongos.xxxx.com:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Transaction c43f42bd-ef6d-4c48-83bd-fgdfgsdfsgf - fgggeddddsksduydhdhsh= -  - :1 was aborted on statement 2 due to: an error from cluster data placement change :: caused by :: Encountered error from mongodb.cluster.local:26009 during a transaction ::..... &quot;errorLabels&quot;: [&quot;TransientTransactionError&quot;]}```\r\n\r\n\r\n**Question:**\r\n\r\n - Is this something to do with sharding? \r\n - Should I implement retry in\r\n   the code as suggested by some other forums. eg\r\n   https://stackoverflow.com/questions/52153538/what-is-a-transienttransactionerror-in-mongoose-or-mongodb","title":"How to fix TransientTransactionError in Shard Mongo DB with spring boot?","body":"<p><strong>Scenario:</strong></p>\n<ol>\n<li>I am using Mongo DB 6+ version with spring boot.</li>\n</ol>\n<pre><code> @Bean\n    MongoTransactionManager transactionManager(MongoDatabaseFactory dbFactory) {\n        return new MongoTransactionManager(dbFactory);\n    }\n</code></pre>\n<pre><code> @Transactional\n    public void save(Cart cart,Item item) {\n        Cart cartFromDB = cartRepo.findById(cart.getId());\n        if(cartFromDB!= null){\n            cart.setId(cartFromDB.getId());\n            cartRepo.save(cart);\n        }else{\n            cartRepo.save(cart);\n        }\n        itemRepo.save(item);\n    }\n</code></pre>\n<ol start=\"2\">\n<li>I am using <code>@Transactional</code> to save two different document in the same transaction.</li>\n<li>I was having Mongo DB with replica set, it worked fine without any error..</li>\n<li>Now Mongo DB has been changed to use sharding.</li>\n<li>I suspect after this change, I am getting TransientTransactionError intermittently. After couple of tries manually its getting succeeded</li>\n<li>When I implement retry it succeeded.</li>\n</ol>\n<p><strong>Error message:</strong></p>\n<p><code>com.mongodb.MongoCommandException: Command failed with error 13388 (StaleConfig): 'Transaction sd-ef6d-dsd-83bd-fsdfdf - dfdfdfdfdsdfdsfsd= -  - :1 was aborted on statement 2 due to: an error from cluster data placement change :: caused by :: Encountered error from mongodb.cluster.local:26009 during a transaction :: caused by :: sharding status of collection mongodb.item is not currently known and needs to be recovered' on server mongos.xxxx.com:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Transaction c43f42bd-ef6d-4c48-83bd-fgdfgsdfsgf - fgggeddddsksduydhdhsh= -  - :1 was aborted on statement 2 due to: an error from cluster data placement change :: caused by :: Encountered error from mongodb.cluster.local:26009 during a transaction ::..... &quot;errorLabels&quot;: [&quot;TransientTransactionError&quot;]}</code></p>\n<p><strong>Question:</strong></p>\n<ul>\n<li>Is this something to do with sharding?</li>\n<li>Should I implement retry in\nthe code as suggested by some other forums. eg\n<a href=\"https://stackoverflow.com/questions/52153538/what-is-a-transienttransactionerror-in-mongoose-or-mongodb\">What is a TransientTransactionError in Mongoose (or MongoDB)?</a></li>\n</ul>\n"},{"tags":["java","maven","intellij-idea","compilation","multi-module"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1587468307,"post_id":61341102,"comment_id":108517574,"body_markdown":"Look at `mvn dependency:list`. See which version is on the list. Open that version and see if the package indeed is in that jar.","body":"Look at <code>mvn dependency:list</code>. See which version is on the list. Open that version and see if the package indeed is in that jar."},{"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"score":0,"creation_date":1587469637,"post_id":61341102,"comment_id":108518279,"body_markdown":"Yes, it is. The **api** module dependency version&#39;s jar exists in my **.m2** repo","body":"Yes, it is. The <b>api</b> module dependency version&#39;s jar exists in my <b>.m2</b> repo"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1587469801,"post_id":61341102,"comment_id":108518370,"body_markdown":"So have you opened the jar and looked whether it contains the `*.class` file that you are looking for?","body":"So have you opened the jar and looked whether it contains the <code>*.class</code> file that you are looking for?"},{"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"score":0,"creation_date":1587470159,"post_id":61341102,"comment_id":108518571,"body_markdown":"Yes, I did. I have opened the ```BOOT-INF/classes``` directory and found the appropriate ```class``` file by the expected package path","body":"Yes, I did. I have opened the <code>BOOT-INF&#47;classes</code> directory and found the appropriate <code>class</code> file by the expected package path"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1587470691,"post_id":61341102,"comment_id":108518857,"body_markdown":"The class should not be in a subdirectory. Note that you should not construct dependencies to executable jars like those from Spring Boot.","body":"The class should not be in a subdirectory. Note that you should not construct dependencies to executable jars like those from Spring Boot."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1587470696,"post_id":61341102,"comment_id":108518860,"body_markdown":"Ah so you have a spring boot app package as a dependency which does not work...so it&#39;s not an reusable API it&#39;s an application","body":"Ah so you have a spring boot app package as a dependency which does not work...so it&#39;s not an reusable API it&#39;s an application"},{"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"score":0,"creation_date":1587471221,"post_id":61341102,"comment_id":108519163,"body_markdown":"Yes, but technically it&#39;s a jar, right? Why I can&#39;t have a dependency from it?","body":"Yes, but technically it&#39;s a jar, right? Why I can&#39;t have a dependency from it?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1587474223,"post_id":61341102,"comment_id":108520890,"body_markdown":"Because it puts the classes under `BOOT-INF` and not into the main directory.","body":"Because it puts the classes under <code>BOOT-INF</code> and not into the main directory."},{"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"score":0,"creation_date":1587476577,"post_id":61341102,"comment_id":108522339,"body_markdown":"Hm, got it. So, even if that&#39;s a module in my project, I am not able to use it&#39;s classes in another module.\nBut why the IntelliJ Idea does not catch the error?","body":"Hm, got it. So, even if that&#39;s a module in my project, I am not able to use it&#39;s classes in another module. But why the IntelliJ Idea does not catch the error?"}],"answers":[{"comments":[{"owner":{"account_id":3342991,"reputation":1334,"user_id":2808815,"accept_rate":82,"display_name":"Joe Caruso"},"score":0,"creation_date":1701439885,"post_id":61361079,"comment_id":136779118,"body_markdown":"You shouldn&#39;t add the jar plugin just to exclude it. If you don&#39;t want an executable jar then dont import the plugin the builds it.","body":"You shouldn&#39;t add the jar plugin just to exclude it. If you don&#39;t want an executable jar then dont import the plugin the builds it."}],"tags":[],"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1587545794,"creation_date":1587545794,"answer_id":61361079,"question_id":61341102,"body_markdown":"Finally I have found the solution. Thanks [JF Meier][1] and [khmarbaise][2] for hints.\r\n\r\nIt appeared Maven doesn&#39;t allow dependency from executable jar. This was my case. My **api** module was an executable **Spring Boot** application and not reusable library.\r\n\r\nSo, the solution was the following:\r\n\r\n 1. It was necessary to find the ```Application.java``` file in ```api``` module.\r\n 2. Add ```maven-jar-plugin``` with exclusion of the ```Application.java``` file and specification of some classifier\r\n 3. Making dependency in ```acceptance-tests``` module from the above specified classifier instead of standard jar\r\n\r\nPlugin specification in **api** module below:\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;classifier&gt;qa&lt;/classifier&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/Application*&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nDependency in **acceptance-tests** module below:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;xxx-api&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.xxx&lt;/groupId&gt;\r\n            &lt;version&gt;${api.version}&lt;/version&gt;\r\n            &lt;classifier&gt;qa&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/users/927493/jf-meier\r\n  [2]: https://stackoverflow.com/users/296328/khmarbaise","title":"Maven doesn&#39;t find imported class from another module but Intellij does","body":"<p>Finally I have found the solution. Thanks <a href=\"https://stackoverflow.com/users/927493/jf-meier\">JF Meier</a> and <a href=\"https://stackoverflow.com/users/296328/khmarbaise\">khmarbaise</a> for hints.</p>\n\n<p>It appeared Maven doesn't allow dependency from executable jar. This was my case. My <strong>api</strong> module was an executable <strong>Spring Boot</strong> application and not reusable library.</p>\n\n<p>So, the solution was the following:</p>\n\n<ol>\n<li>It was necessary to find the <code>Application.java</code> file in <code>api</code> module.</li>\n<li>Add <code>maven-jar-plugin</code> with exclusion of the <code>Application.java</code> file and specification of some classifier</li>\n<li>Making dependency in <code>acceptance-tests</code> module from the above specified classifier instead of standard jar</li>\n</ol>\n\n<p>Plugin specification in <strong>api</strong> module below:</p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;qa&lt;/classifier&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/Application*&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>Dependency in <strong>acceptance-tests</strong> module below:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;artifactId&gt;xxx-api&lt;/artifactId&gt;\n            &lt;groupId&gt;com.xxx&lt;/groupId&gt;\n            &lt;version&gt;${api.version}&lt;/version&gt;\n            &lt;classifier&gt;qa&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1605000382,"creation_date":1605000382,"answer_id":64766118,"question_id":61341102,"body_markdown":"I was also getting symbol not found errors while compiling with maven, and the solution is for spring boot 2 you need to configure plugin as below, **[classifier exec][1]**\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t        &lt;configuration&gt;\r\n\t            &lt;classifier&gt;exec&lt;/classifier&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\nIf you are working with spring boot 1\r\n\r\n        &lt;plugin&gt;\r\n    \t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t    &lt;executions&gt;\r\n    \t        &lt;execution&gt;\r\n    \t            &lt;goals&gt;\r\n    \t                &lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t            &lt;/goals&gt;\r\n    \t            &lt;configuration&gt;\r\n    \t                &lt;classifier&gt;exec&lt;/classifier&gt;\r\n    \t            &lt;/configuration&gt;\r\n    \t        &lt;/execution&gt;\r\n    \t    &lt;/executions&gt;\r\n    \t&lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/html/#goals-repackage-parameters-details-classifier","title":"Maven doesn&#39;t find imported class from another module but Intellij does","body":"<p>I was also getting symbol not found errors while compiling with maven, and the solution is for spring boot 2 you need to configure plugin as below, <strong><a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/html/#goals-repackage-parameters-details-classifier\" rel=\"noreferrer\">classifier exec</a></strong></p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;classifier&gt;exec&lt;/classifier&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>If you are working with spring boot 1</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;repackage&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;classifier&gt;exec&lt;/classifier&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30019832,"reputation":11,"user_id":23005453,"display_name":"sirirak buncharoensawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701434795,"creation_date":1701242481,"answer_id":77569233,"question_id":61341102,"body_markdown":"**Spring-boot-maven-plugin** should be removed from the **pom.xml** inside the library, because there is no need to build an executable jar for a Library project.\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n\r\nsee more details in [multi-module][1]\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/multi-module/","title":"Maven doesn&#39;t find imported class from another module but Intellij does","body":"<p><strong>Spring-boot-maven-plugin</strong> should be removed from the <strong>pom.xml</strong> inside the library, because there is no need to build an executable jar for a Library project.</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>see more details in <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">multi-module</a></p>\n"},{"tags":[],"owner":{"account_id":21281949,"reputation":21,"user_id":15660240,"display_name":"Alexander Semenchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701871853,"creation_date":1701871853,"answer_id":77613802,"question_id":61341102,"body_markdown":"The `spring-boot-maven-plugin` when you `install/deploy` repackages your project and places it into a local/remote repository, this jar file cannot be used as a library, according to the [documentation][1] you should configure the plugin to install/deploy only the original jar file.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;repackage&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;repackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;attach&gt;false&lt;/attach&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n \r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#packaging.examples.local-artifact","title":"Maven doesn&#39;t find imported class from another module but Intellij does","body":"<p>The <code>spring-boot-maven-plugin</code> when you <code>install/deploy</code> repackages your project and places it into a local/remote repository, this jar file cannot be used as a library, according to the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#packaging.examples.local-artifact\" rel=\"nofollow noreferrer\">documentation</a> you should configure the plugin to install/deploy only the original jar file.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;repackage&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;attach&gt;false&lt;/attach&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6168,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":61361079,"answer_count":4,"score":9,"last_activity_date":1701871853,"creation_date":1587464189,"question_id":61341102,"body_markdown":"I have multi-module maven project. The **acceptance-tests** module has dependency from **api** module in **pom.xml** (Replacing real company name by ***xxx*** to keep confidentiality). I am trying to import some classes from **api** module in my **acceptance-tests**.\r\n\r\nHere is my **pom.xml** dependency of **acceptance-tests** module:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;xxx-api&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.xxx&lt;/groupId&gt;\r\n            &lt;version&gt;${xxx.api.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThe **api** module separately is being installed and packaged (**mvn install**, **mvn package**) by maven without any issue. The **jar** file is being created in my local **.m2**.\r\n\r\nHowever, when I try to compile the **acceptance-tests** module, I get a compilation error saying that the the classes cannot be imported because the package is not found.\r\n\r\nHere is the actual error:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project xxx-acceptance-tests: Compilation failure: Compilation failure: \r\n[ERROR] /Users/andranik_chorokhyan/mydisk/Projects/XXX/automation/xxx-project-test-automation/xxx-acceptance-tests/src/main/java/com/xxx/xxx/utilities/api/ApiPayloadUtils.java:[17,38] package com.xxx.domain.dto does not exist\r\n[ERROR] /Users/andranik_chorokhyan/mydisk/Projects/XXX/automation/xxx-project-test-automation/xxx-acceptance-tests/src/main/java/com/xxx/xxx/utilities/api/ApiPayloadUtils.java:[18,38] package com.xxx.domain.dto does not exist\r\n[ERROR]   symbol:   class MappingData\r\n[ERROR]   location: class com.xxx.utilities.api.ApiPayloadUtils\r\n```\r\n\r\nOne more interesting fact is that there is no error visible in Intellij IDEA. No red underline, no compilation error, no problem with navigating to the appropriate imported file.\r\nAnd in reality, the **com.xxx.domain.dto** package does exist and the **MappingData** class as well.\r\n\r\nI removed whole **xxx** directory from my local **.m2** repository and executed ```mvn clean dependency:resolve``` command. It succeeded as well.\r\n\r\nDoes anybody know what&#39;s the problem here and how it can be solved?\r\nThanks in advance!","title":"Maven doesn&#39;t find imported class from another module but Intellij does","body":"<p>I have multi-module maven project. The <strong>acceptance-tests</strong> module has dependency from <strong>api</strong> module in <strong>pom.xml</strong> (Replacing real company name by <strong><em>xxx</em></strong> to keep confidentiality). I am trying to import some classes from <strong>api</strong> module in my <strong>acceptance-tests</strong>.</p>\n\n<p>Here is my <strong>pom.xml</strong> dependency of <strong>acceptance-tests</strong> module:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;artifactId&gt;xxx-api&lt;/artifactId&gt;\n            &lt;groupId&gt;com.xxx&lt;/groupId&gt;\n            &lt;version&gt;${xxx.api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>The <strong>api</strong> module separately is being installed and packaged (<strong>mvn install</strong>, <strong>mvn package</strong>) by maven without any issue. The <strong>jar</strong> file is being created in my local <strong>.m2</strong>.</p>\n\n<p>However, when I try to compile the <strong>acceptance-tests</strong> module, I get a compilation error saying that the the classes cannot be imported because the package is not found.</p>\n\n<p>Here is the actual error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project xxx-acceptance-tests: Compilation failure: Compilation failure: \n[ERROR] /Users/andranik_chorokhyan/mydisk/Projects/XXX/automation/xxx-project-test-automation/xxx-acceptance-tests/src/main/java/com/xxx/xxx/utilities/api/ApiPayloadUtils.java:[17,38] package com.xxx.domain.dto does not exist\n[ERROR] /Users/andranik_chorokhyan/mydisk/Projects/XXX/automation/xxx-project-test-automation/xxx-acceptance-tests/src/main/java/com/xxx/xxx/utilities/api/ApiPayloadUtils.java:[18,38] package com.xxx.domain.dto does not exist\n[ERROR]   symbol:   class MappingData\n[ERROR]   location: class com.xxx.utilities.api.ApiPayloadUtils\n</code></pre>\n\n<p>One more interesting fact is that there is no error visible in Intellij IDEA. No red underline, no compilation error, no problem with navigating to the appropriate imported file.\nAnd in reality, the <strong>com.xxx.domain.dto</strong> package does exist and the <strong>MappingData</strong> class as well.</p>\n\n<p>I removed whole <strong>xxx</strong> directory from my local <strong>.m2</strong> repository and executed <code>mvn clean dependency:resolve</code> command. It succeeded as well.</p>\n\n<p>Does anybody know what's the problem here and how it can be solved?\nThanks in advance!</p>\n"},{"tags":["java","excel","csv","apache-poi","converters"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1701845888,"post_id":77606098,"comment_id":136824210,"body_markdown":"&quot;XSSFWorkbook shiftrows method is not implemented as per POI documentation (POI 4.0.1)&quot; Thats not true. Who told you that? But why not using a more current version of Apache POI? Last stable version is 5.2.5.","body":"&quot;XSSFWorkbook shiftrows method is not implemented as per POI documentation (POI 4.0.1)&quot; Thats not true. Who told you that? But why not using a more current version of Apache POI? Last stable version is 5.2.5."},{"owner":{"account_id":29708179,"reputation":9,"user_id":22768530,"display_name":"Max89"},"score":0,"creation_date":1701866538,"post_id":77606098,"comment_id":136827669,"body_markdown":"I dont need these jars very often so I continued to use older versions actually.                           \n When I am running the jar with source code posted here, I am getting error Run time exception Not Implemented, and I read on POI site that its not implemented.                                                             java.lang.RuntimeException: Not Implemented\n        at org.apache.poi.xssf.streaming.SXSSFSheet.shiftRows(SXSSFSheet.java:992)\n        at CSV2Excel.CSV2Excel.main(CSV2Excel.java:87)","body":"I dont need these jars very often so I continued to use older versions actually.                             When I am running the jar with source code posted here, I am getting error Run time exception Not Implemented, and I read on POI site that its not implemented.                                                             java.lang.RuntimeException: Not Implemented         at org.apache.poi.xssf.streaming.SXSSFSheet.shiftRows(SXSSFShee&zwnj;&#8203;t.java:992)         at CSV2Excel.CSV2Excel.main(CSV2Excel.java:87)"},{"owner":{"account_id":29708179,"reputation":9,"user_id":22768530,"display_name":"Max89"},"score":0,"creation_date":1701866628,"post_id":77606098,"comment_id":136827683,"body_markdown":"I am getting 5.2 Apache POI now and see how it works for me, Thanks.","body":"I am getting 5.2 Apache POI now and see how it works for me, Thanks."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1701868280,"post_id":77606098,"comment_id":136827979,"body_markdown":"`XSSFWorkbook` and `SXSSFWorkbook` are different. For `SXSSFSheet` `shiftRows` is not implemented even in current versions because shift rows cannot work in a streaming approach where rows become inaccessible when written to disk.","body":"<code>XSSFWorkbook</code> and <code>SXSSFWorkbook</code> are different. For <code>SXSSFSheet</code> <code>shiftRows</code> is not implemented even in current versions because shift rows cannot work in a streaming approach where rows become inaccessible when written to disk."},{"owner":{"account_id":29708179,"reputation":9,"user_id":22768530,"display_name":"Max89"},"score":0,"creation_date":1701871570,"post_id":77606098,"comment_id":136828632,"body_markdown":"Right, Sorry, wrote XSSFWorkbook instead of SXSSFWorkbook in post. Corrected it now. So even in current version it will not work. :(","body":"Right, Sorry, wrote XSSFWorkbook instead of SXSSFWorkbook in post. Corrected it now. So even in current version it will not work. :("}],"owner":{"account_id":29708179,"reputation":9,"user_id":22768530,"display_name":"Max89"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701871496,"creation_date":1701778248,"question_id":77606098,"body_markdown":"I am converting a csv file with | delimiter to excel using a JAR file and input csv has first column is Level. Level has consecutive values for some rows and discontinues in between. I want to insert new empty line in csv file whenever consecutive level is not found so that similarly it will convert to excel with blank lines. But as I am yet learning using POI APIs it seems difficult to compare columns in csv file.\r\n\r\nInstead, I wrote all data to excel and trying to insert blank rows in excel. But it seems for SXSSFWorkbook shiftrows method is not implemented as per POI documentation (POI 4.0.1) so not able to insert rows in excel. Following is my code and sample csv file:\r\n```\r\nOPRT Id|4026420\r\nOPRT Revision|B\r\nLevel|Part Type|Pl|Object ID|Revision|Name|Authoring|Status|Date\r\n1|Part Revision|0066|4100748-0066|A|PCBA1||||||30-Aug-2023 05:28||30-Aug-2023\r\n2|Part Revision|0066|4100747-0066|A|PCBA2||||||30-Aug-2023 05:28||01-Sep-2023\r\n1|Part Revision|0001|4100748-0001|B|PCBA1||||||20-Sep-2023 08:46||20-Sep-2023 08:46\r\n1|Part Revision|0066|4100747-0066|A|PCBA3||||||30-Aug-2023 05:28||01-Sep-2023 10:08\r\n1|Part Revision|8628|4100747-8628|A|PCBA4||||||01-Sep-2023 10:21||01-Sep-2023 10:22\r\n1|Part Revision|0725|4100747-0725|A|PCBA5 New||||||31-Aug-2023 07:03||04-Oct-2023 11:54\r\n1|Part Revision|8628|4100748-8628|A|PCBA1||||||01-Sep-2023 09:49||01-Sep-2023 09:49\r\n2|Part Revision|8628|4100747-8628|A|PCBA6||||||01-Sep-2023 10:21||01-Sep-2023 10:22\r\n1|Part Revision|0002|4100748-0002|A|PCBA1||||||01-Sep-2023 08:04||01-Sep-2023 08:04\r\n1|Part Revision|0260|4100748-0260|A|PCBA1||||||01-Sep-2023 09:45||01-Sep-2023 09:45\r\n1|Part Assembly Revision||4100748|B|PCBA1||||||20-Sep-2023 08:40||20-Sep-2023 08:43\r\n2|Part Revision||4100747|A|PCBA7 New||||||21-Aug-2023 08:58||04-Oct-2023 04:56\r\n2|Part Revision|0001|4100747-0001|A|PCBA8||(PR) Production||||25-Aug-2023 12:49\r\n```\r\nAny suggestion on how I can work out inserting blank lines in excel OR if inserting lines in csv if that is efficient will be really helpful.\r\n\r\nI can not use much of post processing (like executing any external script to perform this) as Excel should be the final output which users need to see.\r\n\r\n\r\n```\r\npublic class CSV2Excel {\r\n\tpublic static void main(String[] args) {\r\n\t    if (args.length &lt; 4) {\r\n\t      System.out.println(&quot;Please provide correct arguments&quot;);\r\n\t      return;\r\n\t    } \r\n\t    String timeStamp = (new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;)).format(new Date());\r\n\t    String csvFilePath = args[0];\r\n\t    String csvFileName = args[1];\r\n\t    String excelFilePath = args[2];\r\n\t    String exelFilaName = args[3];\r\n\t    String delim = &quot;\\\\|&quot;;\r\n\t    String csvFile = String.valueOf(csvFilePath) + &quot;//&quot; + csvFileName;\r\n\t    String excelFile = String.valueOf(excelFilePath) + &quot;//&quot; + exelFilaName + &quot;_&quot; + &quot;.xlsx&quot;;\r\n\t    try {\r\n\t      SXSSFWorkbook sXSSFWorkbook = new SXSSFWorkbook();\r\n\t      Sheet sheet = sXSSFWorkbook.createSheet(&quot;Sheet1&quot;);\r\n\t      int rowNumber = 0;\r\n\t      BufferedReader reader = new BufferedReader(new FileReader(csvFile));\r\n\t      System.out.println(&quot;Reading Started \\n&quot;);\r\n\t      String line;\r\n\t      while ((line = reader.readLine()) != null) {\r\n\t        String[] data = line.split(delim);\r\n\t        Row row = sheet.createRow(rowNumber++);\r\n\t        for (int i = 0; i &lt; data.length; i++) {\r\n\t          Cell cell = row.createCell(i);\r\n\t          cell.setCellValue(data[i]);\r\n\t        } \r\n\t      } \r\n\t      \r\n// as there are some header lines till row 5 comparing with 6th row\r\n\t      while(rowNumber&gt;6)\r\n\t      {\r\n\t    \t  System.out.println(&quot;inside while..&quot;);\r\n\t    \t  System.out.println(&quot;1. Total Numbers of lines Read :&quot; + rowNumber);\r\n\t    \t  \r\n\t    \t  Row lastRow = sheet.getRow(rowNumber-1);\r\n\t    \t  Row prevRow = sheet.getRow(rowNumber-2);\r\n\t    \t  \r\n\t    \t  System.out.println(&quot;got laseRow and prevrow..&quot;);\r\n\t    \t  \r\n\t    \t  Cell iLastRowLevel = lastRow.getCell(0);\r\n\t    \t  Cell iPrevRowLevel = prevRow.getCell(0);\r\n\t    \t  \r\n\t    \t  System.out.println(&quot;got 2 string levels..:&quot; + iLastRowLevel + &quot;,&quot; + iPrevRowLevel);\r\n\r\n\t    \t  \r\n\t    \t  //int iLastRowLevel = Integer.parseInt(lastRow.getCell(0).getNumericCellValue());\r\n\t    \t  //int iPrevRowLevel = String.valueOf(prevRow.getCell(0).getNumericCellValue());\r\n\t    \t  \r\n\t    \t \r\n\t    \t  //iLastRowLevel.setCellType(CellType.NUMERIC);\r\n\t    \t  //iPrevRowLevel.setCellType(CellType.NUMERIC);\r\n\t    \t  DataFormatter formatter = new DataFormatter();\r\n\t    \t formatter.formatCellValue(iLastRowLevel);\r\n\t    \t formatter.formatCellValue(iPrevRowLevel);\r\n\t    \t  System.out.println(&quot;got 2 int levels..:&quot; + formatter.formatCellValue(iLastRowLevel) + &quot;,&quot; + formatter.formatCellValue(iPrevRowLevel));\r\n\t    \t  \r\n\t    \t  double diff = Integer.parseInt(iLastRowLevel.getStringCellValue()) - Integer.parseInt(iPrevRowLevel.getStringCellValue());\r\n\t    \t \r\n\t    \t  System.out.println(&quot;got diff..:&quot; + diff);\r\n\t    \t  \r\n// inserting line if level is discontinued, do not insert line when level value in consecutive rows is //same\r\n\t    \t  if(diff&lt;0  || diff&gt;1)\r\n\t    \t  {\r\n\t    \t\t  System.out.println(&quot;need to insert a blank line \\n&quot;);\r\n\t    \t\t  //sheet.shiftRows(rowNumber,sheet.getLastRowNum()+1,1,true,true);\r\n\t    \t\t  \r\n\t    \t\t  int rows=sheet.getLastRowNum();\r\n\t    \t\t  System.out.println(&quot;got last row..:&quot; + rows);\r\n\t    \t\t  System.out.println(&quot;Rownumber current ..:&quot; + rowNumber);\r\n\t    \t\t  sheet.shiftRows(rowNumber,rows,1,true,false);\r\n\t    \t\t  Row newRow = sheet.createRow(rowNumber);\r\n\t    \t\t  \r\n\t    \t  }\r\n\t    \t  else\r\n\t    \t  {\r\n\t    \t\t  System.out.println(&quot;difference is 0 or 1 continue \\n&quot;);\r\n\t    \t\t  rowNumber=rowNumber-1;\r\n\t    \t\t  continue;\r\n\t    \t\t  \r\n\t    \t  }\r\n\t    \t  \r\n\t    \t  rowNumber=rowNumber-1;\r\n\t    \t \r\n\t      }\r\n\t      System.out.println(&quot;Total Numbers of lines Read :&quot; + rowNumber + &#39;\\001&#39;);\r\n\t      reader.close();\r\n\t      System.out.println(&quot;Reading Complete \\n&quot;);\r\n\t      System.out.println(&quot;File writing Started \\n&quot;);\r\n\t      FileOutputStream outputStream = new FileOutputStream(excelFile);\r\n\t      sXSSFWorkbook.write(outputStream);\r\n\t      sXSSFWorkbook.close();\r\n\t      outputStream.close();\r\n\t      System.out.println(&quot;File writing Completed \\n&quot;);\r\n\t    } catch (Exception e) {\r\n\t      e.printStackTrace();\r\n\t    } \r\n\t  }\r\n}\r\n```","title":"Java Insert line breaks in csv or empty rows in excel when discontinue level is found in csv to excel conversion jar","body":"<p>I am converting a csv file with | delimiter to excel using a JAR file and input csv has first column is Level. Level has consecutive values for some rows and discontinues in between. I want to insert new empty line in csv file whenever consecutive level is not found so that similarly it will convert to excel with blank lines. But as I am yet learning using POI APIs it seems difficult to compare columns in csv file.</p>\n<p>Instead, I wrote all data to excel and trying to insert blank rows in excel. But it seems for SXSSFWorkbook shiftrows method is not implemented as per POI documentation (POI 4.0.1) so not able to insert rows in excel. Following is my code and sample csv file:</p>\n<pre><code>OPRT Id|4026420\nOPRT Revision|B\nLevel|Part Type|Pl|Object ID|Revision|Name|Authoring|Status|Date\n1|Part Revision|0066|4100748-0066|A|PCBA1||||||30-Aug-2023 05:28||30-Aug-2023\n2|Part Revision|0066|4100747-0066|A|PCBA2||||||30-Aug-2023 05:28||01-Sep-2023\n1|Part Revision|0001|4100748-0001|B|PCBA1||||||20-Sep-2023 08:46||20-Sep-2023 08:46\n1|Part Revision|0066|4100747-0066|A|PCBA3||||||30-Aug-2023 05:28||01-Sep-2023 10:08\n1|Part Revision|8628|4100747-8628|A|PCBA4||||||01-Sep-2023 10:21||01-Sep-2023 10:22\n1|Part Revision|0725|4100747-0725|A|PCBA5 New||||||31-Aug-2023 07:03||04-Oct-2023 11:54\n1|Part Revision|8628|4100748-8628|A|PCBA1||||||01-Sep-2023 09:49||01-Sep-2023 09:49\n2|Part Revision|8628|4100747-8628|A|PCBA6||||||01-Sep-2023 10:21||01-Sep-2023 10:22\n1|Part Revision|0002|4100748-0002|A|PCBA1||||||01-Sep-2023 08:04||01-Sep-2023 08:04\n1|Part Revision|0260|4100748-0260|A|PCBA1||||||01-Sep-2023 09:45||01-Sep-2023 09:45\n1|Part Assembly Revision||4100748|B|PCBA1||||||20-Sep-2023 08:40||20-Sep-2023 08:43\n2|Part Revision||4100747|A|PCBA7 New||||||21-Aug-2023 08:58||04-Oct-2023 04:56\n2|Part Revision|0001|4100747-0001|A|PCBA8||(PR) Production||||25-Aug-2023 12:49\n</code></pre>\n<p>Any suggestion on how I can work out inserting blank lines in excel OR if inserting lines in csv if that is efficient will be really helpful.</p>\n<p>I can not use much of post processing (like executing any external script to perform this) as Excel should be the final output which users need to see.</p>\n<pre><code>public class CSV2Excel {\n    public static void main(String[] args) {\n        if (args.length &lt; 4) {\n          System.out.println(&quot;Please provide correct arguments&quot;);\n          return;\n        } \n        String timeStamp = (new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;)).format(new Date());\n        String csvFilePath = args[0];\n        String csvFileName = args[1];\n        String excelFilePath = args[2];\n        String exelFilaName = args[3];\n        String delim = &quot;\\\\|&quot;;\n        String csvFile = String.valueOf(csvFilePath) + &quot;//&quot; + csvFileName;\n        String excelFile = String.valueOf(excelFilePath) + &quot;//&quot; + exelFilaName + &quot;_&quot; + &quot;.xlsx&quot;;\n        try {\n          SXSSFWorkbook sXSSFWorkbook = new SXSSFWorkbook();\n          Sheet sheet = sXSSFWorkbook.createSheet(&quot;Sheet1&quot;);\n          int rowNumber = 0;\n          BufferedReader reader = new BufferedReader(new FileReader(csvFile));\n          System.out.println(&quot;Reading Started \\n&quot;);\n          String line;\n          while ((line = reader.readLine()) != null) {\n            String[] data = line.split(delim);\n            Row row = sheet.createRow(rowNumber++);\n            for (int i = 0; i &lt; data.length; i++) {\n              Cell cell = row.createCell(i);\n              cell.setCellValue(data[i]);\n            } \n          } \n          \n// as there are some header lines till row 5 comparing with 6th row\n          while(rowNumber&gt;6)\n          {\n              System.out.println(&quot;inside while..&quot;);\n              System.out.println(&quot;1. Total Numbers of lines Read :&quot; + rowNumber);\n              \n              Row lastRow = sheet.getRow(rowNumber-1);\n              Row prevRow = sheet.getRow(rowNumber-2);\n              \n              System.out.println(&quot;got laseRow and prevrow..&quot;);\n              \n              Cell iLastRowLevel = lastRow.getCell(0);\n              Cell iPrevRowLevel = prevRow.getCell(0);\n              \n              System.out.println(&quot;got 2 string levels..:&quot; + iLastRowLevel + &quot;,&quot; + iPrevRowLevel);\n\n              \n              //int iLastRowLevel = Integer.parseInt(lastRow.getCell(0).getNumericCellValue());\n              //int iPrevRowLevel = String.valueOf(prevRow.getCell(0).getNumericCellValue());\n              \n             \n              //iLastRowLevel.setCellType(CellType.NUMERIC);\n              //iPrevRowLevel.setCellType(CellType.NUMERIC);\n              DataFormatter formatter = new DataFormatter();\n             formatter.formatCellValue(iLastRowLevel);\n             formatter.formatCellValue(iPrevRowLevel);\n              System.out.println(&quot;got 2 int levels..:&quot; + formatter.formatCellValue(iLastRowLevel) + &quot;,&quot; + formatter.formatCellValue(iPrevRowLevel));\n              \n              double diff = Integer.parseInt(iLastRowLevel.getStringCellValue()) - Integer.parseInt(iPrevRowLevel.getStringCellValue());\n             \n              System.out.println(&quot;got diff..:&quot; + diff);\n              \n// inserting line if level is discontinued, do not insert line when level value in consecutive rows is //same\n              if(diff&lt;0  || diff&gt;1)\n              {\n                  System.out.println(&quot;need to insert a blank line \\n&quot;);\n                  //sheet.shiftRows(rowNumber,sheet.getLastRowNum()+1,1,true,true);\n                  \n                  int rows=sheet.getLastRowNum();\n                  System.out.println(&quot;got last row..:&quot; + rows);\n                  System.out.println(&quot;Rownumber current ..:&quot; + rowNumber);\n                  sheet.shiftRows(rowNumber,rows,1,true,false);\n                  Row newRow = sheet.createRow(rowNumber);\n                  \n              }\n              else\n              {\n                  System.out.println(&quot;difference is 0 or 1 continue \\n&quot;);\n                  rowNumber=rowNumber-1;\n                  continue;\n                  \n              }\n              \n              rowNumber=rowNumber-1;\n             \n          }\n          System.out.println(&quot;Total Numbers of lines Read :&quot; + rowNumber + '\\001');\n          reader.close();\n          System.out.println(&quot;Reading Complete \\n&quot;);\n          System.out.println(&quot;File writing Started \\n&quot;);\n          FileOutputStream outputStream = new FileOutputStream(excelFile);\n          sXSSFWorkbook.write(outputStream);\n          sXSSFWorkbook.close();\n          outputStream.close();\n          System.out.println(&quot;File writing Completed \\n&quot;);\n        } catch (Exception e) {\n          e.printStackTrace();\n        } \n      }\n}\n</code></pre>\n"},{"tags":["java","jpa","criteria"],"answers":[{"comments":[{"owner":{"account_id":24716169,"reputation":35,"user_id":18605878,"display_name":"Bhawana Solanki"},"score":0,"creation_date":1701860601,"post_id":77612398,"comment_id":136826601,"body_markdown":"No its giving the same error, this time with Integer. Cannot resolve method &#39;lessThan(Integer, Integer)&#39;. I tried this:- Predicate tryp = criteriaBuilder.gt(Integer.valueOf(1),Integer.valueOf(2));","body":"No its giving the same error, this time with Integer. Cannot resolve method &#39;lessThan(Integer, Integer)&#39;. I tried this:- Predicate tryp = criteriaBuilder.gt(Integer.valueOf(1),Integer.valueOf(2));"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701860751,"post_id":77612398,"comment_id":136826637,"body_markdown":"Use `lt` instead of `lessThan`.  Read the javadocs.  And read the compilation errors carefully.   That message says &quot;lessThan&quot; not &quot;gt&quot;. (If I had a long-handled clue-stick, I&#39;d dong you on the head with it. Sheesh!)","body":"Use <code>lt</code> instead of <code>lessThan</code>.  Read the javadocs.  And read the compilation errors carefully.   That message says &quot;lessThan&quot; not &quot;gt&quot;. (If I had a long-handled clue-stick, I&#39;d dong you on the head with it. Sheesh!)"},{"owner":{"account_id":24716169,"reputation":35,"user_id":18605878,"display_name":"Bhawana Solanki"},"score":0,"creation_date":1701861922,"post_id":77612398,"comment_id":136826806,"body_markdown":"Sorry I pasted wrong code. It is :- Predicate tryp = criteriaBuilder.lt(Integer.valueOf(1),Integer.valueOf(2)); and the error is Cannot resolve method &#39;lessThan(Integer, Integer)&#39;","body":"Sorry I pasted wrong code. It is :- Predicate tryp = criteriaBuilder.lt(Integer.valueOf(1),Integer.valueOf(2)); and the error is Cannot resolve method &#39;lessThan(Integer, Integer)&#39;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701862938,"post_id":77612398,"comment_id":136826982,"body_markdown":"You are kidding me.  That code doesn&#39;t mention the `lessThan` method.  Read it!","body":"You are kidding me.  That code doesn&#39;t mention the <code>lessThan</code> method.  Read it!"},{"owner":{"account_id":24716169,"reputation":35,"user_id":18605878,"display_name":"Bhawana Solanki"},"score":0,"creation_date":1701867839,"post_id":77612398,"comment_id":136827891,"body_markdown":"I dont know if you have tried your solution or not but for me it does not work and as you said as per JavaDoc the cb.gt / cb.lt expects either (Expression&lt;? extends Number&gt; x,Number y) or (Expression&lt;? extends Number&gt; x, Expression&lt;? extends Number&gt;) hence the solution you shared which is making both x and y as Integer can not happen. you can try doing   criteriaBuilder.lt(Integer.valueOf(1),Integer.valueOf(2)); It will throw compilation error. Since its a query formation we ought to have a expression and myFunc(root.get(&quot;amt&quot;)) is not a expression.","body":"I dont know if you have tried your solution or not but for me it does not work and as you said as per JavaDoc the cb.gt / cb.lt expects either (Expression&lt;? extends Number&gt; x,Number y) or (Expression&lt;? extends Number&gt; x, Expression&lt;? extends Number&gt;) hence the solution you shared which is making both x and y as Integer can not happen. you can try doing   criteriaBuilder.lt(Integer.valueOf(1),Integer.valueOf(2)); It will throw compilation error. Since its a query formation we ought to have a expression and myFunc(root.get(&quot;amt&quot;)) is not a expression."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701871132,"post_id":77612398,"comment_id":136828533,"body_markdown":"See the update.","body":"See the update."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701871046,"creation_date":1701859607,"answer_id":77612398,"question_id":77612176,"body_markdown":"The signature for `greaterThan` is:\r\n\r\n    &lt;Y extends Comparable&lt;? super Y&gt;&gt; Predicate \r\n    greaterThan(Expression&lt;? extends Y&gt; x, Expression&lt;? extends Y&gt; y)\r\n\r\nIn other words, it takes arguments that are `Expression` objects whose value type (`Y`) implements `Comparable&lt;? extends Y&gt;`.  Java doesn&#39;t know how to convert two integers into two `Expression` objects.  (In fact, I can&#39;t think of any PL that would be able to do *that* conversion without you saying what *kind* of `Expression` you need there.)\r\n\r\nHowever, if you look at the [javadoc][1] for `CriteriaBuilder` you will also see some `gt` methods that create `Predicate` objects to compare `Number` instances.  So the following ought to work:\r\n\r\n    predicates.add(\r\n        criteriaBuilder.gt(\r\n            Integer.valueOf(myFunc(root.get(&quot;amt&quot;))),\r\n            Integer.valueOf(2)));\r\n    \r\n**CORRECTION**\r\n\r\n    predicates.add(\r\n        criteriaBuilder.gt(\r\n            criteriaBuilder.literal(\r\n                Integer.valueOf(myFunc(root.get(&quot;amt&quot;)))),\r\n            Integer.valueOf(2)));\r\n\r\nbecause the first argument of `gt` needs to be an expression too.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/criteria/CriteriaBuilder.html","title":"CriteriaBuilder Cannot resolve method &#39;greaterThan(int, int)&#39;","body":"<p>The signature for <code>greaterThan</code> is:</p>\n<pre><code>&lt;Y extends Comparable&lt;? super Y&gt;&gt; Predicate \ngreaterThan(Expression&lt;? extends Y&gt; x, Expression&lt;? extends Y&gt; y)\n</code></pre>\n<p>In other words, it takes arguments that are <code>Expression</code> objects whose value type (<code>Y</code>) implements <code>Comparable&lt;? extends Y&gt;</code>.  Java doesn't know how to convert two integers into two <code>Expression</code> objects.  (In fact, I can't think of any PL that would be able to do <em>that</em> conversion without you saying what <em>kind</em> of <code>Expression</code> you need there.)</p>\n<p>However, if you look at the <a href=\"https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/criteria/CriteriaBuilder.html\" rel=\"nofollow noreferrer\">javadoc</a> for <code>CriteriaBuilder</code> you will also see some <code>gt</code> methods that create <code>Predicate</code> objects to compare <code>Number</code> instances.  So the following ought to work:</p>\n<pre><code>predicates.add(\n    criteriaBuilder.gt(\n        Integer.valueOf(myFunc(root.get(&quot;amt&quot;))),\n        Integer.valueOf(2)));\n</code></pre>\n<p><strong>CORRECTION</strong></p>\n<pre><code>predicates.add(\n    criteriaBuilder.gt(\n        criteriaBuilder.literal(\n            Integer.valueOf(myFunc(root.get(&quot;amt&quot;)))),\n        Integer.valueOf(2)));\n</code></pre>\n<p>because the first argument of <code>gt</code> needs to be an expression too.</p>\n"},{"tags":[],"owner":{"account_id":24716169,"reputation":35,"user_id":18605878,"display_name":"Bhawana Solanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701871390,"creation_date":1701871390,"answer_id":77613735,"question_id":77612176,"body_markdown":"GreaterThan or gt or LessThan or lt expects either (Expression&lt;? extends Y&gt; x,Y y) or (Expression&lt;? extends Y&gt; x, Expression&lt;? extends Y&gt; y).\r\n\r\nSo particularly when two integers are to be compared either of input to these criteriaBuilder method has to be a expression whose Object is same as the object of other input.\r\nBelow is the code which worked for me:\r\n```\r\nExpression&lt;Integer&gt; expr1 = \r\ncriteriaBuilder.selectCase(root.get(&quot;amt&quot;))\r\n.when(1,10) /* this could be your any business logic, it is what myFunc was doing */\r\n.when(2,20).as(Integer.class);\r\nInteger expr2 = 15;\r\nPredicate predicates = criteriaBuilder.lessThan(expr1,expr2);\r\n\r\n```","title":"CriteriaBuilder Cannot resolve method &#39;greaterThan(int, int)&#39;","body":"<p>GreaterThan or gt or LessThan or lt expects either (Expression&lt;? extends Y&gt; x,Y y) or (Expression&lt;? extends Y&gt; x, Expression&lt;? extends Y&gt; y).</p>\n<p>So particularly when two integers are to be compared either of input to these criteriaBuilder method has to be a expression whose Object is same as the object of other input.\nBelow is the code which worked for me:</p>\n<pre><code>Expression&lt;Integer&gt; expr1 = \ncriteriaBuilder.selectCase(root.get(&quot;amt&quot;))\n.when(1,10) /* this could be your any business logic, it is what myFunc was doing */\n.when(2,20).as(Integer.class);\nInteger expr2 = 15;\nPredicate predicates = criteriaBuilder.lessThan(expr1,expr2);\n\n</code></pre>\n"}],"owner":{"account_id":24716169,"reputation":35,"user_id":18605878,"display_name":"Bhawana Solanki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77612398,"answer_count":2,"score":0,"last_activity_date":1701871390,"creation_date":1701857610,"question_id":77612176,"body_markdown":"I&#39;m forming a query where I&#39;m comparing the db result with API request data, but i&#39;m getting below error: \r\n\r\nCannot resolve method &#39;greaterThan(int, int)&#39;. \r\n\r\nMy code looks something like below. 2 is coming from the API request.\r\n```\r\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\npredicates.add(criteriaBuilder.greaterThan(myFunc(root.get(&quot;amt&quot;)),2));\r\n```\r\nBasically myFunc function would multiply root.get(&quot;amt&quot;) with some number based on some condition. but this is not working for me as both expressions are of type &quot;int&quot; and it does not expect that. \r\nHow to form specification in this kind of scenario.\r\n\r\n","title":"CriteriaBuilder Cannot resolve method &#39;greaterThan(int, int)&#39;","body":"<p>I'm forming a query where I'm comparing the db result with API request data, but i'm getting below error:</p>\n<p>Cannot resolve method 'greaterThan(int, int)'.</p>\n<p>My code looks something like below. 2 is coming from the API request.</p>\n<pre><code>List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\npredicates.add(criteriaBuilder.greaterThan(myFunc(root.get(&quot;amt&quot;)),2));\n</code></pre>\n<p>Basically myFunc function would multiply root.get(&quot;amt&quot;) with some number based on some condition. but this is not working for me as both expressions are of type &quot;int&quot; and it does not expect that.\nHow to form specification in this kind of scenario.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","bouncycastle","java-17"],"answers":[{"tags":[],"owner":{"account_id":13930417,"reputation":11,"user_id":10058742,"display_name":"David D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701871377,"creation_date":1701871377,"answer_id":77613731,"question_id":77499601,"body_markdown":"This seems related to spring fat jar and jdk 17\r\nhttps://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8313742","title":"most recent version of bouncy castle is required for Authentication error","body":"<p>This seems related to spring fat jar and jdk 17\n<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8313742\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8313742</a></p>\n"}],"owner":{"account_id":9657715,"reputation":1,"user_id":7166774,"display_name":"harman bhutani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701871377,"creation_date":1700200621,"question_id":77499601,"body_markdown":"\r\nEverything works fine on my local but when I deploy on AWS ECS fargate . I am getting this error while trying to migrate from JDK 11 to JDK 17 . I have updated to recenet versions of aws-java-sdk as well as bouncy castle. \r\nHow can I fix this issue?\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException: A more recent version of Bouncy castle is required for authenticated encryption.\r\nat com.amazonaws.services.s3.model.CryptoConfigurationV2.checkBountyCastle(CryptoConfigurationV2.java:379)\r\n\tat com.amazonaws.services.s3.model.CryptoConfigurationV2.checkCryptoMode(CryptoConfigurationV2.java:366)\r\n\tat com.amazonaws.services.s3.model.CryptoConfigurationV2.&lt;init&gt;(CryptoConfigurationV2.java:68)\r\n\tat com.amazonaws.services.s3.model.CryptoConfigurationV2.&lt;init&gt;(CryptoConfigurationV2.java:47)\r\n```\r\n\r\n\r\nI have tried updating all the maven libraries including onces involved here aws-java-sdk version 1.12.552\r\n\r\n and bouncy castle bcprov and bcpkix with versions bcpkix-jdk18on-177.jar and bcpkix-jdk15to18-177.jar.","title":"most recent version of bouncy castle is required for Authentication error","body":"<p>Everything works fine on my local but when I deploy on AWS ECS fargate . I am getting this error while trying to migrate from JDK 11 to JDK 17 . I have updated to recenet versions of aws-java-sdk as well as bouncy castle.\nHow can I fix this issue?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: A more recent version of Bouncy castle is required for authenticated encryption.\nat com.amazonaws.services.s3.model.CryptoConfigurationV2.checkBountyCastle(CryptoConfigurationV2.java:379)\n    at com.amazonaws.services.s3.model.CryptoConfigurationV2.checkCryptoMode(CryptoConfigurationV2.java:366)\n    at com.amazonaws.services.s3.model.CryptoConfigurationV2.&lt;init&gt;(CryptoConfigurationV2.java:68)\n    at com.amazonaws.services.s3.model.CryptoConfigurationV2.&lt;init&gt;(CryptoConfigurationV2.java:47)\n</code></pre>\n<p>I have tried updating all the maven libraries including onces involved here aws-java-sdk version 1.12.552</p>\n<p>and bouncy castle bcprov and bcpkix with versions bcpkix-jdk18on-177.jar and bcpkix-jdk15to18-177.jar.</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":30049234,"reputation":1,"user_id":23028173,"display_name":"orhan berkil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701871051,"creation_date":1701545217,"question_id":77591894,"body_markdown":"In this code block, I want to capture SMS and calls to the user, but `Intent.ACTION_PHONE_STATE` is not accessible. How can I solve my problem?\r\n\r\n    // We define a BroadcastReceiver class that controls the flash when an SMS or a call arrives\r\n    class FlashReceiver : BroadcastReceiver() {\r\n\r\n    // We override the onReceive function inherited from the BroadcastReceiver class\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        // We get the action of the incoming intent\r\n        val action = intent.action\r\n        // If the action is SMS_RECEIVED_ACTION, it means an SMS has arrived\r\n        if (action == Telephony.Sms.Intents.SMS_RECEIVED_ACTION) {\r\n            // We call the flash function with the true parameter to flash the flash when an SMS arrives\r\n            flash(context, true)\r\n\r\n        // If the action is ACTION_PHONE_STATE, it means the call state has changed\r\n        } else if (action == Intent.ACTION_PHONE_STATE) {\r\n\r\n            // We get the call state from the intent\r\n            val state = intent.getStringExtra(TelephonyManager.EXTRA_STATE)\r\n            // If the call state is RINGING, it means a call has arrived\r\n            if (state == TelephonyManager.EXTRA_STATE_RINGING) {\r\n                // We call the flash function with the true parameter to flash the flash when a call arrives\r\n                flash(context, true)\r\n            // If the call state is IDLE, it means the call has ended\r\n            } else if (state == TelephonyManager.EXTRA_STATE_IDLE) {\r\n                // We call the flash function with the false parameter to turn off the flash when the call ends\r\n                flash(context, false)\r\n            }\r\n        }\r\n    }\r\n\r\n    // We define a function that turns the flash on and off\r\n    private fun flash(context: Context, on: Boolean) {\r\n        // We get the camera service\r\n        val cameraManager = context.getSystemService(Context.CAMERA_SERVICE) as CameraManager\r\n        // We get the first camera ID\r\n        val cameraId = cameraManager.cameraIdList[0]\r\n        // We set the flash mode according to the on parameter\r\n        cameraManager.setTorchMode(cameraId, on)\r\n    }\r\n\r\n    }\r\n\r\nIn our manifest file, we defined the camera, flash and phone features and permissions:\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera.flash&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.telephony&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FLASHLIGHT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n\r\n\r\nIn this code block, I want to capture SMS and calls to the user, but Intent.ACTION_PHONE_STATE is not accessible. How can I solve my problem?","title":"Unable to access Intent.ACTION_PHONE_STATE","body":"<p>In this code block, I want to capture SMS and calls to the user, but <code>Intent.ACTION_PHONE_STATE</code> is not accessible. How can I solve my problem?</p>\n<pre><code>// We define a BroadcastReceiver class that controls the flash when an SMS or a call arrives\nclass FlashReceiver : BroadcastReceiver() {\n\n// We override the onReceive function inherited from the BroadcastReceiver class\noverride fun onReceive(context: Context, intent: Intent) {\n    // We get the action of the incoming intent\n    val action = intent.action\n    // If the action is SMS_RECEIVED_ACTION, it means an SMS has arrived\n    if (action == Telephony.Sms.Intents.SMS_RECEIVED_ACTION) {\n        // We call the flash function with the true parameter to flash the flash when an SMS arrives\n        flash(context, true)\n\n    // If the action is ACTION_PHONE_STATE, it means the call state has changed\n    } else if (action == Intent.ACTION_PHONE_STATE) {\n\n        // We get the call state from the intent\n        val state = intent.getStringExtra(TelephonyManager.EXTRA_STATE)\n        // If the call state is RINGING, it means a call has arrived\n        if (state == TelephonyManager.EXTRA_STATE_RINGING) {\n            // We call the flash function with the true parameter to flash the flash when a call arrives\n            flash(context, true)\n        // If the call state is IDLE, it means the call has ended\n        } else if (state == TelephonyManager.EXTRA_STATE_IDLE) {\n            // We call the flash function with the false parameter to turn off the flash when the call ends\n            flash(context, false)\n        }\n    }\n}\n\n// We define a function that turns the flash on and off\nprivate fun flash(context: Context, on: Boolean) {\n    // We get the camera service\n    val cameraManager = context.getSystemService(Context.CAMERA_SERVICE) as CameraManager\n    // We get the first camera ID\n    val cameraId = cameraManager.cameraIdList[0]\n    // We set the flash mode according to the on parameter\n    cameraManager.setTorchMode(cameraId, on)\n}\n\n}\n</code></pre>\n<p>In our manifest file, we defined the camera, flash and phone features and permissions:</p>\n<pre><code>&lt;uses-feature\n    android:name=&quot;android.hardware.camera&quot;\n    android:required=&quot;true&quot; /&gt;\n\n&lt;uses-feature\n    android:name=&quot;android.hardware.camera.flash&quot;\n    android:required=&quot;true&quot; /&gt;\n\n&lt;uses-feature\n    android:name=&quot;android.hardware.telephony&quot;\n    android:required=&quot;true&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FLASHLIGHT&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n</code></pre>\n<p>In this code block, I want to capture SMS and calls to the user, but Intent.ACTION_PHONE_STATE is not accessible. How can I solve my problem?</p>\n"},{"tags":["javascript","java","firebase","google-apps-script","lang"],"owner":{"account_id":30081262,"reputation":1,"user_id":23052860,"display_name":"Russ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702213425,"answer_count":0,"score":-2,"last_activity_date":1701870991,"creation_date":1701870991,"question_id":77613683,"body_markdown":"The error appeared after requesting samsung support \r\n\r\n\r\nI need to secure device control from remote access and remove all account administrators and family links. I have many screenshots available and data to help secure my device. Hackers use philshing and imitate my device, possibly cloning. I have reached out to Samsung many times and received no solution.  I am not a developer only a consumer, however I follow instructions,  update and research apps that may assist me but without removal of remote devices and administrative controllers,  I am powerless.","title":"Fix galaxy s23 {&quot;meta&quot;:{&quot;success&quot;: false, &quot;message&quot;:&quot; [NullPointerException] null&quot;}}","body":"<p>The error appeared after requesting samsung support</p>\n<p>I need to secure device control from remote access and remove all account administrators and family links. I have many screenshots available and data to help secure my device. Hackers use philshing and imitate my device, possibly cloning. I have reached out to Samsung many times and received no solution.  I am not a developer only a consumer, however I follow instructions,  update and research apps that may assist me but without removal of remote devices and administrative controllers,  I am powerless.</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":0,"creation_date":1701790640,"post_id":77576598,"comment_id":136817611,"body_markdown":"Have you tried cancelling the event? This will remove the interaction animation, and destroy your block instantly. This might be a solution if you really just want it gone - and not get all that fancy animation stuff :)","body":"Have you tried cancelling the event? This will remove the interaction animation, and destroy your block instantly. This might be a solution if you really just want it gone - and not get all that fancy animation stuff :)"},{"owner":{"account_id":30029103,"reputation":1,"user_id":23012596,"display_name":"Doshic"},"score":0,"creation_date":1701890492,"post_id":77576598,"comment_id":136832186,"body_markdown":"how? I&#39;m very new to plugins and java","body":"how? I&#39;m very new to plugins and java"},{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":0,"creation_date":1701890798,"post_id":77576598,"comment_id":136832248,"body_markdown":"Cancelling the event works with `event.setCancelled(true)`, then you can remove the block. Just do a quick google how that works :)","body":"Cancelling the event works with <code>event.setCancelled(true)</code>, then you can remove the block. Just do a quick google how that works :)"}],"owner":{"account_id":30029103,"reputation":1,"user_id":23012596,"display_name":"Doshic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701870784,"creation_date":1701329385,"question_id":77576598,"body_markdown":"When I click onto an oak button, it want to destroy the oak button and the coal block below. But instead, this happens:\r\n\r\n[![minecraft image][1]][1]\r\n\r\nAlso, `getDrops().clear()` doesn&#39;t work, as there still are drops.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npackage me.doshicshow.mycustomitems;\r\n\r\nimport org.bukkit.Location;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.PlayerInteractEvent;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\nimport org.bukkit.event.block.BlockPlaceEvent;\r\nimport org.bukkit.block.BlockFace;\r\nimport org.bukkit.block.Block;\r\nimport java.util.logging.Logger;\r\n\r\npublic class Customitems extends JavaPlugin implements Listener {\r\n    private static Logger log = Logger.getLogger(&quot;Minecraft&quot;);\r\n    @Override\r\n    public void onEnable() {\r\n        getServer().getPluginManager().registerEvents(this, this);\r\n    }\r\n\r\n    @EventHandler\r\n    public void onPlayerInteract(PlayerInteractEvent event) {\r\n        if (event.getClickedBlock() != null &amp;&amp; event.getClickedBlock().getType() == Material.OAK_BUTTON &amp;&amp; event.getClickedBlock().getRelative(BlockFace.DOWN).getType() == Material.COAL_BLOCK) {\r\n            log.info(String.format(&quot;Found object %s&quot;, event.getClickedBlock()));\r\n            event.getClickedBlock().breakNaturally();\r\n            event.getClickedBlock().getDrops().clear();\r\n            event.getClickedBlock().getRelative(BlockFace.DOWN).getDrops().clear();\r\n            event.getClickedBlock().getRelative(BlockFace.DOWN).breakNaturally();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt should destroy the oak button and the coal (the coal doesn&#39;t need to drop anything). What could I do to achieve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IDI4E.jpg","title":"Cant destroy oak button","body":"<p>When I click onto an oak button, it want to destroy the oak button and the coal block below. But instead, this happens:</p>\n<p><a href=\"https://i.stack.imgur.com/IDI4E.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IDI4E.jpg\" alt=\"minecraft image\" /></a></p>\n<p>Also, <code>getDrops().clear()</code> doesn't work, as there still are drops.</p>\n<p>Here's my code:</p>\n<pre><code>package me.doshicshow.mycustomitems;\n\nimport org.bukkit.Location;\nimport org.bukkit.Material;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerInteractEvent;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport org.bukkit.event.block.BlockPlaceEvent;\nimport org.bukkit.block.BlockFace;\nimport org.bukkit.block.Block;\nimport java.util.logging.Logger;\n\npublic class Customitems extends JavaPlugin implements Listener {\n    private static Logger log = Logger.getLogger(&quot;Minecraft&quot;);\n    @Override\n    public void onEnable() {\n        getServer().getPluginManager().registerEvents(this, this);\n    }\n\n    @EventHandler\n    public void onPlayerInteract(PlayerInteractEvent event) {\n        if (event.getClickedBlock() != null &amp;&amp; event.getClickedBlock().getType() == Material.OAK_BUTTON &amp;&amp; event.getClickedBlock().getRelative(BlockFace.DOWN).getType() == Material.COAL_BLOCK) {\n            log.info(String.format(&quot;Found object %s&quot;, event.getClickedBlock()));\n            event.getClickedBlock().breakNaturally();\n            event.getClickedBlock().getDrops().clear();\n            event.getClickedBlock().getRelative(BlockFace.DOWN).getDrops().clear();\n            event.getClickedBlock().getRelative(BlockFace.DOWN).breakNaturally();\n        }\n    }\n}\n</code></pre>\n<p>It should destroy the oak button and the coal (the coal doesn't need to drop anything). What could I do to achieve this?</p>\n"},{"tags":["python","java","plotly","plotly-dash"],"owner":{"account_id":26402944,"reputation":55,"user_id":20053143,"display_name":"jomh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701950808,"answer_count":0,"score":-1,"last_activity_date":1701870719,"creation_date":1701870719,"question_id":77613648,"body_markdown":"I ask the question here because i didn&#39;t find any answer. I have a Dash project where I use clientside callback inside my assets folder. \r\nTo add a new feature for my app I need to call methods from a HUGE Java project (with dependencies). \r\n\r\nThere is a way to do this ? ","title":"Call java project into dash app with clientside callback","body":"<p>I ask the question here because i didn't find any answer. I have a Dash project where I use clientside callback inside my assets folder.\nTo add a new feature for my app I need to call methods from a HUGE Java project (with dependencies).</p>\n<p>There is a way to do this ?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689699128,"creation_date":1689699128,"answer_id":76715007,"question_id":76713614,"body_markdown":"You can find examples in the test code of Spring Data Elasticsearch, for example at https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/test/java/org/springframework/data/elasticsearch/client/elc/CriteriaQueryProcessorUnitTests.java#L167-L309\r\n\r\nFrom one of the tests which creates ((John or Jack) and Miller) or ((Emma or Lucy) and Smith):\r\n\r\n```java\r\n\t\tCriteria criteria = Criteria.or()\r\n\t\t\t\t.subCriteria(new Criteria(&quot;lastName&quot;).is(&quot;Miller&quot;)\r\n\t\t\t\t\t\t.subCriteria(new Criteria().or(&quot;firstName&quot;).is(&quot;John&quot;).or(&quot;firstName&quot;).is(&quot;Jack&quot;)))\r\n\t\t\t\t.subCriteria(new Criteria(&quot;lastName&quot;).is(&quot;Smith&quot;)\r\n\t\t\t\t\t\t.subCriteria(new Criteria().or(&quot;firstName&quot;).is(&quot;Emma&quot;).or(&quot;firstName&quot;).is(&quot;Lucy&quot;)));\r\n```","title":"spring-data-elasticsearch: how to combine and &amp; or with CriteriaQuery","body":"<p>You can find examples in the test code of Spring Data Elasticsearch, for example at <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/test/java/org/springframework/data/elasticsearch/client/elc/CriteriaQueryProcessorUnitTests.java#L167-L309\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/test/java/org/springframework/data/elasticsearch/client/elc/CriteriaQueryProcessorUnitTests.java#L167-L309</a></p>\n<p>From one of the tests which creates ((John or Jack) and Miller) or ((Emma or Lucy) and Smith):</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Criteria criteria = Criteria.or()\n                .subCriteria(new Criteria(&quot;lastName&quot;).is(&quot;Miller&quot;)\n                        .subCriteria(new Criteria().or(&quot;firstName&quot;).is(&quot;John&quot;).or(&quot;firstName&quot;).is(&quot;Jack&quot;)))\n                .subCriteria(new Criteria(&quot;lastName&quot;).is(&quot;Smith&quot;)\n                        .subCriteria(new Criteria().or(&quot;firstName&quot;).is(&quot;Emma&quot;).or(&quot;firstName&quot;).is(&quot;Lucy&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23835995,"reputation":16,"user_id":17841724,"display_name":"Fendwyr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701870419,"creation_date":1701870419,"answer_id":77613609,"question_id":76713614,"body_markdown":"You can use 3 subcriteria\r\n\r\n(a = 1 AND b = 2 ):\r\n\r\n    Criteria subcriteria_1_2 = new Criteria(&quot;a&quot;).is(&quot;1&quot;).and(&quot;b&quot;).is(&quot;2&quot; );\r\n\r\n(a = 3 AND b = 43)\r\n\r\n    Criteria subcriteria_3_43 = new Criteria(&quot;a&quot;).is(&quot;3&quot;).and(&quot;b&quot;).is(&quot;43&quot;);\r\nMerged (a = 1 AND b = 2 ) OR (a = 3 AND b = 43)\r\n\r\n    Criteria subcriteria_1_2_3_43 = new Criteria().or().subCriteria(subcriteria_1_2).subCriteria(subcriteria_3_43);\r\n\r\nFinal connect with AND D = &#39;4234234&#39;\r\n\r\n    Criteria finalCriteria = new Criteria(&quot;d&quot;).is(&quot;4234234&quot;).subCriteria(subcriteria_1_2_3_43);\r\n\r\nThis construction will generate JSON (very simplified)\r\n```\r\n{\r\n  &quot;bool&quot; : {\r\n    &quot;must&quot; : [\r\n      {\r\n        &quot;query_string&quot; : {\r\n          &quot;query&quot; : &quot;4234234&quot;,\r\n          &quot;fields&quot; : [\r\n            &quot;d&quot;\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;bool&quot; : {\r\n          &quot;should&quot; : [\r\n            {\r\n              &quot;bool&quot; : {\r\n                &quot;must&quot; : [\r\n                  {\r\n                    &quot;query_string&quot; : {\r\n                      &quot;query&quot; : &quot;1&quot;,\r\n                      &quot;fields&quot; : [\r\n                        &quot;a&quot;\r\n                      ]\r\n                    }\r\n                  },\r\n                  {\r\n                    &quot;query_string&quot; : {\r\n                      &quot;query&quot; : &quot;2&quot;,\r\n                      &quot;fields&quot; : [\r\n                        &quot;b&quot;\r\n                      ]\r\n                    }\r\n                  }\r\n                ],\r\n                &quot;adjust_pure_negative&quot; : true,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            },\r\n            {\r\n              &quot;bool&quot; : {\r\n                &quot;must&quot; : [\r\n                  {\r\n                    &quot;query_string&quot; : {\r\n                      &quot;query&quot; : &quot;3&quot;,\r\n                      &quot;fields&quot; : [\r\n                        &quot;a&quot;\r\n                      ]\r\n                    }\r\n                  },\r\n                  {\r\n                    &quot;query_string&quot; : {\r\n                      &quot;query&quot; : &quot;43&quot;,\r\n                      &quot;fields&quot; : [\r\n                        &quot;b&quot;\r\n                      ]\r\n                    }\r\n                  }\r\n                ],\r\n                &quot;adjust_pure_negative&quot; : true,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          ],\r\n          &quot;adjust_pure_negative&quot; : true,\r\n          &quot;boost&quot; : 1.0\r\n        }\r\n      }\r\n    ],\r\n    &quot;adjust_pure_negative&quot; : true,\r\n    &quot;boost&quot; : 1.0\r\n  }\r\n}\r\n```\r\nI recommend to not mix and() with or() in one chain. Use subcriteria. If you need to use subcriteria in one chain with field check, always put subcriteria to the end of chain. For example this construction will not work (at final, subcriteria will be erased)\r\n```\r\nnew Criteria(&quot;test&quot;).is(&quot;test_value&quot;).subCriteria(subcriteria_1_2_3_43).and(&quot;d&quot;).is(&quot;4234234&quot;);\r\n```\r\nBut if you put subcriteria to the end of chain it will work \r\n```\r\nnew Criteria(&quot;test&quot;).is(&quot;test_value&quot;).and(&quot;d&quot;).is(&quot;4234234&quot;).subCriteria(subcriteria_1_2_3_43);\r\n```\r\n\r\nThis is solution which i used in my own project","title":"spring-data-elasticsearch: how to combine and &amp; or with CriteriaQuery","body":"<p>You can use 3 subcriteria</p>\n<p>(a = 1 AND b = 2 ):</p>\n<pre><code>Criteria subcriteria_1_2 = new Criteria(&quot;a&quot;).is(&quot;1&quot;).and(&quot;b&quot;).is(&quot;2&quot; );\n</code></pre>\n<p>(a = 3 AND b = 43)</p>\n<pre><code>Criteria subcriteria_3_43 = new Criteria(&quot;a&quot;).is(&quot;3&quot;).and(&quot;b&quot;).is(&quot;43&quot;);\n</code></pre>\n<p>Merged (a = 1 AND b = 2 ) OR (a = 3 AND b = 43)</p>\n<pre><code>Criteria subcriteria_1_2_3_43 = new Criteria().or().subCriteria(subcriteria_1_2).subCriteria(subcriteria_3_43);\n</code></pre>\n<p>Final connect with AND D = '4234234'</p>\n<pre><code>Criteria finalCriteria = new Criteria(&quot;d&quot;).is(&quot;4234234&quot;).subCriteria(subcriteria_1_2_3_43);\n</code></pre>\n<p>This construction will generate JSON (very simplified)</p>\n<pre><code>{\n  &quot;bool&quot; : {\n    &quot;must&quot; : [\n      {\n        &quot;query_string&quot; : {\n          &quot;query&quot; : &quot;4234234&quot;,\n          &quot;fields&quot; : [\n            &quot;d&quot;\n          ]\n        }\n      },\n      {\n        &quot;bool&quot; : {\n          &quot;should&quot; : [\n            {\n              &quot;bool&quot; : {\n                &quot;must&quot; : [\n                  {\n                    &quot;query_string&quot; : {\n                      &quot;query&quot; : &quot;1&quot;,\n                      &quot;fields&quot; : [\n                        &quot;a&quot;\n                      ]\n                    }\n                  },\n                  {\n                    &quot;query_string&quot; : {\n                      &quot;query&quot; : &quot;2&quot;,\n                      &quot;fields&quot; : [\n                        &quot;b&quot;\n                      ]\n                    }\n                  }\n                ],\n                &quot;adjust_pure_negative&quot; : true,\n                &quot;boost&quot; : 1.0\n              }\n            },\n            {\n              &quot;bool&quot; : {\n                &quot;must&quot; : [\n                  {\n                    &quot;query_string&quot; : {\n                      &quot;query&quot; : &quot;3&quot;,\n                      &quot;fields&quot; : [\n                        &quot;a&quot;\n                      ]\n                    }\n                  },\n                  {\n                    &quot;query_string&quot; : {\n                      &quot;query&quot; : &quot;43&quot;,\n                      &quot;fields&quot; : [\n                        &quot;b&quot;\n                      ]\n                    }\n                  }\n                ],\n                &quot;adjust_pure_negative&quot; : true,\n                &quot;boost&quot; : 1.0\n              }\n            }\n          ],\n          &quot;adjust_pure_negative&quot; : true,\n          &quot;boost&quot; : 1.0\n        }\n      }\n    ],\n    &quot;adjust_pure_negative&quot; : true,\n    &quot;boost&quot; : 1.0\n  }\n}\n</code></pre>\n<p>I recommend to not mix and() with or() in one chain. Use subcriteria. If you need to use subcriteria in one chain with field check, always put subcriteria to the end of chain. For example this construction will not work (at final, subcriteria will be erased)</p>\n<pre><code>new Criteria(&quot;test&quot;).is(&quot;test_value&quot;).subCriteria(subcriteria_1_2_3_43).and(&quot;d&quot;).is(&quot;4234234&quot;);\n</code></pre>\n<p>But if you put subcriteria to the end of chain it will work</p>\n<pre><code>new Criteria(&quot;test&quot;).is(&quot;test_value&quot;).and(&quot;d&quot;).is(&quot;4234234&quot;).subCriteria(subcriteria_1_2_3_43);\n</code></pre>\n<p>This is solution which i used in my own project</p>\n"}],"owner":{"account_id":28660273,"reputation":1,"user_id":21945334,"display_name":"Jackie Danes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701870419,"creation_date":1689688987,"question_id":76713614,"body_markdown":"I have a document with 4 fields, for simplicity sake A, B, C and D.\r\nNow I&#39;m trying to build a CriteriaQuery where\r\n\r\n`((a = 1 AND b = 2 ) OR (a = 3 AND b = 43)) AND D = &#39;4234234&#39;\r\n`\r\nThe basic flow using by creating\r\n\r\n`new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2).and(&quot;d&quot;).is(&quot;4234234&quot;)`\r\n\r\nWorks fine.\r\n\r\nBut I&#39;m having trouble getting it working fine with the OR aspect.\r\n\r\nI thought\r\n```\r\nnew Criteria(&quot;d&quot;).is(&quot;4234234&quot;).and(new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2)).or(new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2))\r\n```\r\n\r\nbut thats leading to sharding erros.\r\n\r\nAnyone that could point me in the right way?","title":"spring-data-elasticsearch: how to combine and &amp; or with CriteriaQuery","body":"<p>I have a document with 4 fields, for simplicity sake A, B, C and D.\nNow I'm trying to build a CriteriaQuery where</p>\n<p><code>((a = 1 AND b = 2 ) OR (a = 3 AND b = 43)) AND D = '4234234' </code>\nThe basic flow using by creating</p>\n<p><code>new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2).and(&quot;d&quot;).is(&quot;4234234&quot;)</code></p>\n<p>Works fine.</p>\n<p>But I'm having trouble getting it working fine with the OR aspect.</p>\n<p>I thought</p>\n<pre><code>new Criteria(&quot;d&quot;).is(&quot;4234234&quot;).and(new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2)).or(new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2))\n</code></pre>\n<p>but thats leading to sharding erros.</p>\n<p>Anyone that could point me in the right way?</p>\n"},{"tags":["java","micronaut"],"comments":[{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1701870375,"post_id":77613577,"comment_id":136828365,"body_markdown":"You probably need a Qualifier https://docs.micronaut.io/latest/guide/#qualifiers","body":"You probably need a Qualifier <a href=\"https://docs.micronaut.io/latest/guide/#qualifiers\" rel=\"nofollow noreferrer\">docs.micronaut.io/latest/guide/#qualifiers</a>"},{"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"score":0,"creation_date":1701870448,"post_id":77613577,"comment_id":136828379,"body_markdown":"Qualifier would make sense if I am trying to inject an interface but what I am trying to inject here is a concrete class itself. I am not sure why it should be restricted?","body":"Qualifier would make sense if I am trying to inject an interface but what I am trying to inject here is a concrete class itself. I am not sure why it should be restricted?"}],"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701870251,"creation_date":1701870251,"question_id":77613577,"body_markdown":"I have the following class structure\r\n\r\n\r\n```\r\n@Singleton\r\npublic class Parent{}\r\n```\r\n\r\n```\r\n@Singleton\r\npublic class Child1 extends Parent{}\r\n```\r\n\r\n```\r\n@Singleton\r\npublic class Child2 extends Parent{}\r\n```\r\n\r\nNow i have another class in which i want to compose parent like below\r\n\r\n```\r\npublic class Test{\r\n@Inject Parent P;\r\n}\r\n```\r\n\r\nHowever this throws DependencyInjectionException complaining that there are two candidates Child1 and Child2 for injection here. Can&#39;t i just inject Parent class here considering its a concrete class?","title":"Micronaut - Multiple bean candidates found","body":"<p>I have the following class structure</p>\n<pre><code>@Singleton\npublic class Parent{}\n</code></pre>\n<pre><code>@Singleton\npublic class Child1 extends Parent{}\n</code></pre>\n<pre><code>@Singleton\npublic class Child2 extends Parent{}\n</code></pre>\n<p>Now i have another class in which i want to compose parent like below</p>\n<pre><code>public class Test{\n@Inject Parent P;\n}\n</code></pre>\n<p>However this throws DependencyInjectionException complaining that there are two candidates Child1 and Child2 for injection here. Can't i just inject Parent class here considering its a concrete class?</p>\n"},{"tags":["java","reactive"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701870146,"post_id":77613527,"comment_id":136828326,"body_markdown":"Because you shouldn&#39;t search something on disk in the event-dispatching thread. If you do blocking operations the thread will block, if you don&#39;t (like do some calculation) the event loop can keep running and split its time.","body":"Because you shouldn&#39;t search something on disk in the event-dispatching thread. If you do blocking operations the thread will block, if you don&#39;t (like do some calculation) the event loop can keep running and split its time."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701871199,"post_id":77613527,"comment_id":136828548,"body_markdown":"&quot;_How single threaded reactive loop does not block_&quot; -- By offloading blocking or otherwise long-running work onto another thread.","body":"&quot;<i>How single threaded reactive loop does not block</i>&quot; -- By offloading blocking or otherwise long-running work onto another thread."}],"owner":{"account_id":30080958,"reputation":1,"user_id":23052603,"display_name":"Michal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701869856,"creation_date":1701869856,"question_id":77613527,"body_markdown":"That is preatty simple: main &quot;non blocking loop&quot; keeps some pool of subscribed handlers and call its handlers when event come. Therefore how it is possible that in one particular thread delegated to handler job does not block the main loop. When main loop calls handlers method last call stack pointer is on curren handler method and loop is waiting for return of this method and cannot do anythig else like pickup another event. If the handler job is to search sth on disk and this will take 10sec the loop must wait for result since it is using the same thread, that is not possible to do pararelly two tasks in one thread.","title":"How single threaded reactive loop does not block","body":"<p>That is preatty simple: main &quot;non blocking loop&quot; keeps some pool of subscribed handlers and call its handlers when event come. Therefore how it is possible that in one particular thread delegated to handler job does not block the main loop. When main loop calls handlers method last call stack pointer is on curren handler method and loop is waiting for return of this method and cannot do anythig else like pickup another event. If the handler job is to search sth on disk and this will take 10sec the loop must wait for result since it is using the same thread, that is not possible to do pararelly two tasks in one thread.</p>\n"},{"tags":["java","windows","apache-kafka","apache-zookeeper"],"comments":[{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1535724463,"post_id":52116847,"comment_id":91185304,"body_markdown":"I had similar issues under windows and solved by using `git bash` and the `.sh` version of the executables of kafka and zookeeper","body":"I had similar issues under windows and solved by using <code>git bash</code> and the <code>.sh</code> version of the executables of kafka and zookeeper"}],"answers":[{"comments":[{"owner":{"account_id":12212238,"reputation":2370,"user_id":8913704,"accept_rate":100,"display_name":"Artem"},"score":2,"creation_date":1604136515,"post_id":52123793,"comment_id":114259260,"body_markdown":"I was using the 2.6.0 version and had the JAVA_HOME containing spaces as well, but what solved the issue for me was not JAVA_HOME but rather moving *apache kafka binaries* so the path doesn&#39;t contain spaces.","body":"I was using the 2.6.0 version and had the JAVA_HOME containing spaces as well, but what solved the issue for me was not JAVA_HOME but rather moving <i>apache kafka binaries</i> so the path doesn&#39;t contain spaces."},{"owner":{"account_id":14991897,"reputation":81,"user_id":10822670,"display_name":"norullah karimi"},"score":0,"creation_date":1695923152,"post_id":52123793,"comment_id":136091907,"body_markdown":"yeap, my folder have some space on. then I put underline on the name instead of space. thanks","body":"yeap, my folder have some space on. then I put underline on the name instead of space. thanks"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1631034752,"creation_date":1535759620,"answer_id":52123793,"question_id":52116847,"body_markdown":"Your JAVA_HOME (and full Kafka path) cannot contain spaces (i believe there&#39;s an open JIRA for fixing this) \r\n\r\nTry `C:\\PROGRA~1\\Java\\jdk-10.0.1`, and if that doesn&#39;t work, install Java to somewhere like `C:\\jdk-X.Y.Z\\`, &lt;strike&gt;as lower versions of Kafka don&#39;t support Java 10&lt;/strike&gt;\r\n\r\nIn general, though, the recommendation is to use WSL2 (or Docker), not CMD/Powershell\r\n\r\nhttps://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/","title":"Kafka : could not find or load main class installation Windows","body":"<p>Your JAVA_HOME (and full Kafka path) cannot contain spaces (i believe there's an open JIRA for fixing this)</p>\n<p>Try <code>C:\\PROGRA~1\\Java\\jdk-10.0.1</code>, and if that doesn't work, install Java to somewhere like <code>C:\\jdk-X.Y.Z\\</code>, <strike>as lower versions of Kafka don't support Java 10</strike></p>\n<p>In general, though, the recommendation is to use WSL2 (or Docker), not CMD/Powershell</p>\n<p><a href=\"https://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/\" rel=\"noreferrer\">https://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/</a></p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1579964889,"post_id":54976522,"comment_id":105946121,"body_markdown":"kafka-run-class needs kafka libraries on the classpath as well","body":"kafka-run-class needs kafka libraries on the classpath as well"}],"tags":[],"owner":{"account_id":15410024,"reputation":1,"user_id":11117009,"display_name":"Ashwath Iyer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551672793,"creation_date":1551672793,"answer_id":54976522,"question_id":52116847,"body_markdown":"Set the below configurations in your **kafka-run-class.bat** and try to start the server   \r\n\r\nSET &quot;JAVA_HOME=C:\\Program Files\\Java\\jdk-10.0.1&quot;\r\n\r\nset &quot;CLASSPATH=C:\\Program Files\\Java\\jdk-10.0.1\\lib;C:\\Program Files\\Java\\jdk-10.0.1\\lib\\tools.jar;C:\\Program Files\\Java\\jdk-10.0.1\\lib\\slf4j-api-1.7.25.jar&quot;","title":"Kafka : could not find or load main class installation Windows","body":"<p>Set the below configurations in your <strong>kafka-run-class.bat</strong> and try to start the server   </p>\n\n<p>SET \"JAVA_HOME=C:\\Program Files\\Java\\jdk-10.0.1\"</p>\n\n<p>set \"CLASSPATH=C:\\Program Files\\Java\\jdk-10.0.1\\lib;C:\\Program Files\\Java\\jdk-10.0.1\\lib\\tools.jar;C:\\Program Files\\Java\\jdk-10.0.1\\lib\\slf4j-api-1.7.25.jar\"</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1631034694,"post_id":69092182,"comment_id":122113146,"body_markdown":"As answered in my post, Using `PROGRA~1` is how to &quot;fix&quot; the program files path having spaces","body":"As answered in my post, Using <code>PROGRA~1</code> is how to &quot;fix&quot; the program files path having spaces"}],"tags":[],"owner":{"account_id":8875516,"reputation":1,"user_id":6627796,"display_name":"To&#224;n Trương"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631034604,"creation_date":1631034604,"answer_id":69092182,"question_id":52116847,"body_markdown":"I got the same issue, and I solved it by renaming the folder in which I store Kafka to new name has no space.\r\nBut for the case of this post we can not rename folder Program Files then solution is moving Kafka to another folder and make sure the path to this folder does not has space.","title":"Kafka : could not find or load main class installation Windows","body":"<p>I got the same issue, and I solved it by renaming the folder in which I store Kafka to new name has no space.\nBut for the case of this post we can not rename folder Program Files then solution is moving Kafka to another folder and make sure the path to this folder does not has space.</p>\n"},{"tags":[],"owner":{"account_id":5388081,"reputation":341,"user_id":4291412,"accept_rate":33,"display_name":"Ashish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660125598,"creation_date":1660125598,"answer_id":73304276,"question_id":52116847,"body_markdown":"I know, I am late into this query. But 2 cents of mine which I identified.\r\n\r\nPlease make sure that there should not be any space with your KAFKA_HOME and JAVA_HOME paths. For me, I had the Kafka installation as `c:\\software\\Apache Kafka 3.1\\kafka-src`\r\n\r\nAnd I thought that it should work as the Kafka installation path (starting from Kafka-src) did not have any space but I was wrong. Please make sure the entire Kafka Installation path (starting from `c:`) should not have any spaces. ","title":"Kafka : could not find or load main class installation Windows","body":"<p>I know, I am late into this query. But 2 cents of mine which I identified.</p>\n<p>Please make sure that there should not be any space with your KAFKA_HOME and JAVA_HOME paths. For me, I had the Kafka installation as <code>c:\\software\\Apache Kafka 3.1\\kafka-src</code></p>\n<p>And I thought that it should work as the Kafka installation path (starting from Kafka-src) did not have any space but I was wrong. Please make sure the entire Kafka Installation path (starting from <code>c:</code>) should not have any spaces.</p>\n"},{"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1702028545,"post_id":77613498,"comment_id":136850012,"body_markdown":"You will need to edit your answer and add the code that you have written or used. Screenshots or text are less helpful than pasted text.","body":"You will need to edit your answer and add the code that you have written or used. Screenshots or text are less helpful than pasted text."}],"tags":[],"owner":{"account_id":13571721,"reputation":13,"user_id":9790298,"display_name":"Kadyan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701869584,"creation_date":1701869584,"answer_id":77613498,"question_id":52116847,"body_markdown":"Just place kafka folder outside the Program Files. Place them in C directory and start again to see the magic.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Dv57.png","title":"Kafka : could not find or load main class installation Windows","body":"<p>Just place kafka folder outside the Program Files. Place them in C directory and start again to see the magic.\n<a href=\"https://i.stack.imgur.com/9Dv57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Dv57.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13974232,"reputation":260,"user_id":10091982,"display_name":"Hunteerq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6420,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1701869584,"creation_date":1535723135,"question_id":52116847,"body_markdown":"I am trying to install Apache Kafka on my computer. I downloaded newest version 2.12-2.0.0. I want to run it on Windows, after typing &quot;.\\zookeeper-server-start.bat ../../config/zookeeper.properties&quot; inside \\bin\\windows directory I am receiving:\r\n\r\nError: Could not find or load main class Files\\Java\\jdk-10.0.1\\lib;C:\\Program\r\nCaused by: java.lang.ClassNotFoundException: Files\\Java\\jdk-10/0/1\\lib;C:\\Program\r\n\r\n\r\n\r\nJava works on my computer properly java -version:\r\n\r\nopenjdk version &quot;10.0.1&quot; 2018-04-17\r\nOpenJDK Runtime Environment (build 10.0.1+10)\r\nOpenJDK 64-Bit Server VM (build 10.0.1+10, mixed mode)\r\n\r\nJDK is located inside C:\\Program Files\\Java\\jdk-10.0.1\r\nI have variables:\r\n\r\n    JAVA_HOME=C:\\Program Files\\Java\\jdk-10.0.1\r\n    JDK_HOME=%JAVA_HOME%\r\n    JRE_HOME=%JAVA_HOME%\\jre\r\n    PATH: C:\\Program Files\\Java\\jdk-10.0.1\\bin \r\n    CLASSPATH: %JAVA_HOME%\\lib;%JAVA_HOME%\\jre\\\r\n","title":"Kafka : could not find or load main class installation Windows","body":"<p>I am trying to install Apache Kafka on my computer. I downloaded newest version 2.12-2.0.0. I want to run it on Windows, after typing \".\\zookeeper-server-start.bat ../../config/zookeeper.properties\" inside \\bin\\windows directory I am receiving:</p>\n\n<p>Error: Could not find or load main class Files\\Java\\jdk-10.0.1\\lib;C:\\Program\nCaused by: java.lang.ClassNotFoundException: Files\\Java\\jdk-10/0/1\\lib;C:\\Program</p>\n\n<p>Java works on my computer properly java -version:</p>\n\n<p>openjdk version \"10.0.1\" 2018-04-17\nOpenJDK Runtime Environment (build 10.0.1+10)\nOpenJDK 64-Bit Server VM (build 10.0.1+10, mixed mode)</p>\n\n<p>JDK is located inside C:\\Program Files\\Java\\jdk-10.0.1\nI have variables:</p>\n\n<pre><code>JAVA_HOME=C:\\Program Files\\Java\\jdk-10.0.1\nJDK_HOME=%JAVA_HOME%\nJRE_HOME=%JAVA_HOME%\\jre\nPATH: C:\\Program Files\\Java\\jdk-10.0.1\\bin \nCLASSPATH: %JAVA_HOME%\\lib;%JAVA_HOME%\\jre\\\n</code></pre>\n"},{"tags":["java","spring","caching","spring-el","spring-cache"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1701868863,"post_id":77613367,"comment_id":136828088,"body_markdown":"I might be wrong, but I&#39;m pretty sure parameters to an annotation must be constants.","body":"I might be wrong, but I&#39;m pretty sure parameters to an annotation must be constants."}],"owner":{"account_id":18151049,"reputation":1,"user_id":13203764,"display_name":"Shivank Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701869564,"creation_date":1701868495,"question_id":77613367,"body_markdown":"Is there a way to check if marketCoverage is null before calling market.getValue() in statement mentioned below ?\r\n\r\n```\r\n@Cacheable(value = &quot;issuerCache&quot;,key=&quot;#zip + #county + #marketCoverage.getValue + T(com.hcentive.utils.PlanYearContextHolder).getPlanYear()&quot;)\r\n```\r\n\r\n\r\n    @Cacheable(value = &quot;issuerCache&quot;,key=&quot;#zip + #county + #marketCoverage!=null?marketCoverage.getValue:null + T(com.hcentive.utils.PlanYearContextHolder).getPlanYear()&quot;)\r\n\r\n tried this but it seems to not work.","title":"How to check for null for a key in@Cacheable?","body":"<p>Is there a way to check if marketCoverage is null before calling market.getValue() in statement mentioned below ?</p>\n<pre><code>@Cacheable(value = &quot;issuerCache&quot;,key=&quot;#zip + #county + #marketCoverage.getValue + T(com.hcentive.utils.PlanYearContextHolder).getPlanYear()&quot;)\n</code></pre>\n<pre><code>@Cacheable(value = &quot;issuerCache&quot;,key=&quot;#zip + #county + #marketCoverage!=null?marketCoverage.getValue:null + T(com.hcentive.utils.PlanYearContextHolder).getPlanYear()&quot;)\n</code></pre>\n<p>tried this but it seems to not work.</p>\n"},{"tags":["java","lucene"],"answers":[{"comments":[{"owner":{"account_id":10599556,"reputation":508,"user_id":7806912,"display_name":"ptstone"},"score":2,"creation_date":1625777901,"post_id":68301617,"comment_id":120725410,"body_markdown":"I&#39;m wasn&#39;t arguing for RAMDirectory, quite the opposite i was looking for a replacement and unable to find one without disk write access.  So thank you very much, this is exactly what i was looking for!","body":"I&#39;m wasn&#39;t arguing for RAMDirectory, quite the opposite i was looking for a replacement and unable to find one without disk write access.  So thank you very much, this is exactly what i was looking for!"}],"tags":[],"owner":{"account_id":1514208,"reputation":32066,"user_id":1415614,"accept_rate":86,"display_name":"RonC"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1701869532,"creation_date":1625747200,"answer_id":68301617,"question_id":68281200,"body_markdown":"[ByteBuffersDirectory](https://github.com/apache/lucene/blob/main/lucene/core/src/java/org/apache/lucene/store/ByteBuffersDirectory.java) is the replacement for `RAMDirectory`.\r\n\r\nThe chart below makes it crystal clear why `RAMDiretory` was depreciated and then removed. BBDIR is `ByteBuffersDirectory` and RAMDIR is `RAMDirectory`.\r\n\r\n[![enter image description here][1]][1] \r\nChart by Dawid Weiss. Source: [LUCENE-8438](https://issues.apache.org/jira/browse/LUCENE-8438?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;focusedCommentId=16571426#comment-16571426) and shown under Apache 2.0 License.\r\n\r\n  [1]: https://i.stack.imgur.com/5IBR2.png","title":"Lucene RAMDirectory deprecated - how to keep Directory RAM-only anyway?","body":"<p><a href=\"https://github.com/apache/lucene/blob/main/lucene/core/src/java/org/apache/lucene/store/ByteBuffersDirectory.java\" rel=\"nofollow noreferrer\">ByteBuffersDirectory</a> is the replacement for <code>RAMDirectory</code>.</p>\n<p>The chart below makes it crystal clear why <code>RAMDiretory</code> was depreciated and then removed. BBDIR is <code>ByteBuffersDirectory</code> and RAMDIR is <code>RAMDirectory</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/5IBR2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5IBR2.png\" alt=\"enter image description here\" /></a>\nChart by Dawid Weiss. Source: <a href=\"https://issues.apache.org/jira/browse/LUCENE-8438?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;focusedCommentId=16571426#comment-16571426\" rel=\"nofollow noreferrer\">LUCENE-8438</a> and shown under Apache 2.0 License.</p>\n"},{"comments":[{"owner":{"account_id":10599556,"reputation":508,"user_id":7806912,"display_name":"ptstone"},"score":1,"creation_date":1625777449,"post_id":68301832,"comment_id":120725281,"body_markdown":"If you have a way to create a ramdisk from within the java program i run, i&#39;m all ears. If its about creating a ramdisk with extra installations and system access, i already mentioned specifically thats not an option.","body":"If you have a way to create a ramdisk from within the java program i run, i&#39;m all ears. If its about creating a ramdisk with extra installations and system access, i already mentioned specifically thats not an option."},{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1625817208,"post_id":68301832,"comment_id":120733446,"body_markdown":"Oh. I was too quick. But there seems to be: https://stackoverflow.com/questions/4428217/can-a-java-ram-disk-be-created-to-be-used-with-the-java-io-api","body":"Oh. I was too quick. But there seems to be: <a href=\"https://stackoverflow.com/questions/4428217/can-a-java-ram-disk-be-created-to-be-used-with-the-java-io-api\" title=\"can a java ram disk be created to be used with the java io api\">stackoverflow.com/questions/4428217/&hellip;</a>"},{"owner":{"account_id":10599556,"reputation":508,"user_id":7806912,"display_name":"ptstone"},"score":0,"creation_date":1625918279,"post_id":68301832,"comment_id":120758139,"body_markdown":"Thank you, the link is very helpful - seems like there is no way (as in, no way without very extensive own additions) for a java-only ramdisk.","body":"Thank you, the link is very helpful - seems like there is no way (as in, no way without very extensive own additions) for a java-only ramdisk."}],"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625748039,"creation_date":1625748039,"answer_id":68301832,"question_id":68281200,"body_markdown":"You could also just create a [ramdisk][1] \r\n\r\n\r\n  [1]: https://www.jamescoyle.net/how-to/943-create-a-ram-disk-in-linux%20ramdisk","title":"Lucene RAMDirectory deprecated - how to keep Directory RAM-only anyway?","body":"<p>You could also just create a <a href=\"https://www.jamescoyle.net/how-to/943-create-a-ram-disk-in-linux%20ramdisk\" rel=\"nofollow noreferrer\">ramdisk</a></p>\n"}],"owner":{"account_id":10599556,"reputation":508,"user_id":7806912,"display_name":"ptstone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3584,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":68301617,"answer_count":2,"score":8,"last_activity_date":1701869532,"creation_date":1625640055,"question_id":68281200,"body_markdown":"I&#39;m currently using the class ```org.apache.lucene.store.RAMDirectory``` for a fast RAM-based index without the requirement of hard disk write permissions. RAM size &amp; persistence is not a limiting factor. However, ```RAMDirectory``` is marked as deprecated and also seems to be problematic for large indexes according to its [API][1].  \r\n\r\nSo my question is, what is a ***RAM-only*** alternative for the deprecated ```RAMDirectory```? \r\n\r\nAnything writing on hard disk is out of the question for me (read only) &amp; also seems to be quite a bit slower on my own systems. I was thinking about using ```FSDDirectory``` with a RAMDisk but couldn&#39;t find a way to create said RAMDisk using java / the jar only (again requires changing the system).\r\n\r\n\r\n  [1]: https://lucene.apache.org/core/7_5_0/core/org/apache/lucene/store/RAMDirectory.html","title":"Lucene RAMDirectory deprecated - how to keep Directory RAM-only anyway?","body":"<p>I'm currently using the class <code>org.apache.lucene.store.RAMDirectory</code> for a fast RAM-based index without the requirement of hard disk write permissions. RAM size &amp; persistence is not a limiting factor. However, <code>RAMDirectory</code> is marked as deprecated and also seems to be problematic for large indexes according to its <a href=\"https://lucene.apache.org/core/7_5_0/core/org/apache/lucene/store/RAMDirectory.html\" rel=\"noreferrer\">API</a>.</p>\n<p>So my question is, what is a <em><strong>RAM-only</strong></em> alternative for the deprecated <code>RAMDirectory</code>?</p>\n<p>Anything writing on hard disk is out of the question for me (read only) &amp; also seems to be quite a bit slower on my own systems. I was thinking about using <code>FSDDirectory</code> with a RAMDisk but couldn't find a way to create said RAMDisk using java / the jar only (again requires changing the system).</p>\n"},{"tags":["java","android","c++","c","linux"],"comments":[{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":0,"creation_date":1701869959,"post_id":77613476,"comment_id":136828286,"body_markdown":"11 is SIGSEGV, a memory-management violation.  So in all likelihood you have buggy software.  Given that you appear from your tag selection to be using a horrible combination of 3 languages, you&#39;ve got some debugging to do.","body":"11 is SIGSEGV, a memory-management violation.  So in all likelihood you have buggy software.  Given that you appear from your tag selection to be using a horrible combination of 3 languages, you&#39;ve got some debugging to do."},{"owner":{"account_id":5791001,"reputation":15534,"user_id":5264491,"display_name":"Ian Abbott"},"score":0,"creation_date":1701870004,"post_id":77613476,"comment_id":136828293,"body_markdown":"Signal 11 is SIGSEGV which would mean the app was dereferencing an invalid  or null pointer value.","body":"Signal 11 is SIGSEGV which would mean the app was dereferencing an invalid  or null pointer value."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1701888773,"post_id":77613476,"comment_id":136831894,"body_markdown":"JNI?  Bumbling along in native C or C++ code after failing to check returned values or for Java exceptions is a great way to get a SIGSEGV.  You need to provide a lot more information before anyone is going to be able to help.  At the least you need to edit your question and add the Java crash data your JVM emitted when it crashed.","body":"JNI?  Bumbling along in native C or C++ code after failing to check returned values or for Java exceptions is a great way to get a SIGSEGV.  You need to provide a lot more information before anyone is going to be able to help.  At the least you need to edit your question and add the Java crash data your JVM emitted when it crashed."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701953717,"post_id":77613476,"comment_id":136840190,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":30080629,"reputation":1,"user_id":23052354,"display_name":"PratikkBurkkhawala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702001222,"answer_count":0,"score":-1,"last_activity_date":1701869491,"creation_date":1701869491,"question_id":77613476,"body_markdown":"What exactly happening so that Android based system shutting down the app with this line in logcat?\r\nlibc: exiting due to SIG_DFL handler for signal 11\r\n\r\nHow to detect or fix it? App is getting shut out of sudden with no other app related crash. No other crash too.","title":"Exiting due to SIG_DFL handler for signal 11. How to fix it?","body":"<p>What exactly happening so that Android based system shutting down the app with this line in logcat?\nlibc: exiting due to SIG_DFL handler for signal 11</p>\n<p>How to detect or fix it? App is getting shut out of sudden with no other app related crash. No other crash too.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1701868246,"post_id":77613268,"comment_id":136827975,"body_markdown":"why would that be needed? the value is supposed to be userName, the name of the variable isn&#39;t really relevant there.","body":"why would that be needed? the value is supposed to be userName, the name of the variable isn&#39;t really relevant there."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1701869306,"post_id":77613268,"comment_id":136828161,"body_markdown":"hi&amp;welcome! ...`user.name` has very special meaning and different effect in a &quot;standard spring-boot(-security)-web app&quot;  ...normally or you have a &quot;fixed&quot; properties &quot;format&quot;, or a &quot;fixed pojo&quot; (when nothing is &quot;fixed&quot;...where is the problem?), when both are fixed, there should also be a (sophisticated) load/save(r/w/i/o) functionality (somewhere) ..please study (your docs+) https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties , if that doesn&#39;t help, please better describe the problem/your expectations.","body":"hi&amp;welcome! ...<code>user.name</code> has very special meaning and different effect in a &quot;standard spring-boot(-security)-web app&quot;  ...normally or you have a &quot;fixed&quot; properties &quot;format&quot;, or a &quot;fixed pojo&quot; (when nothing is &quot;fixed&quot;...where is the problem?), when both are fixed, there should also be a (sophisticated) load/save(r/w/i/o) functionality (somewhere) ..please study (your docs+) <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> , if that doesn&#39;t help, please better describe the problem/your expectations."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701870243,"post_id":77613268,"comment_id":136828337,"body_markdown":"The short answer no you cannot. The bit longer as that would require classfile manipulation upon loading or during compiling. Which would change the actual fields, which would break other code that directly uses this.","body":"The short answer no you cannot. The bit longer as that would require classfile manipulation upon loading or during compiling. Which would change the actual fields, which would break other code that directly uses this."}],"owner":{"account_id":29261625,"reputation":1,"user_id":22418468,"display_name":"anonymous-java-dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701868120,"creation_date":1701867712,"question_id":77613268,"body_markdown":"I have a use case where I need to map variable names from .properties to my POJO in runtime say I have a POJO\r\n\r\nclass User{\r\n\r\n    int id,\r\n    String name,\r\n    so on...\r\n    }\r\n\r\nAnd in .properties I have a a key say\r\n\r\n    user.name=userName\r\n\r\nSo in runtime this should be interpreted as\r\n\r\n    class User{\r\n    int id,\r\n    String userName,\r\n    so on...\r\n    }\r\n\r\nthrough it is compiled as\r\n\r\n    class User{\r\n    int id,\r\n    String name,\r\n    so on...\r\n    }\r\n\r\nSo, I couldn&#39;t find anything that works for me.\r\nWould be great if somebody suggests a possible logic to use.\r\n","title":"Is there anyway to achieve exactly the opposite functionality of @Value annotation i.e map variable name instead of values from .properties file?","body":"<p>I have a use case where I need to map variable names from .properties to my POJO in runtime say I have a POJO</p>\n<p>class User{</p>\n<pre><code>int id,\nString name,\nso on...\n}\n</code></pre>\n<p>And in .properties I have a a key say</p>\n<pre><code>user.name=userName\n</code></pre>\n<p>So in runtime this should be interpreted as</p>\n<pre><code>class User{\nint id,\nString userName,\nso on...\n}\n</code></pre>\n<p>through it is compiled as</p>\n<pre><code>class User{\nint id,\nString name,\nso on...\n}\n</code></pre>\n<p>So, I couldn't find anything that works for me.\nWould be great if somebody suggests a possible logic to use.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701675520,"post_id":77597524,"comment_id":136800520,"body_markdown":"I would recommend to use some different LayoutManager, not the default one. Check the official tutorial: [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) - I prefer the GridBagLayout (seems a bit complicated at start.) Also test the documentation fo JTextField, mainly this [constructor](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JTextField.html#%3Cinit%3E(int))","body":"I would recommend to use some different LayoutManager, not the default one. Check the official tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> - I prefer the GridBagLayout (seems a bit complicated at start.) Also test the documentation fo JTextField, mainly this <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JTextField.html#%3Cinit%3E(int)\" rel=\"nofollow noreferrer\">constructor</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701676158,"post_id":77597524,"comment_id":136800615,"body_markdown":"JTextField allows you to supply a character width hint via the constructor. As for disaster type, I’d recommend using a JComboBox","body":"JTextField allows you to supply a character width hint via the constructor. As for disaster type, I’d recommend using a JComboBox"}],"answers":[{"tags":[],"owner":{"account_id":25393624,"reputation":144,"user_id":19204200,"display_name":"routerking2802"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701868109,"creation_date":1701868109,"answer_id":77613322,"question_id":77597524,"body_markdown":"You can try using [SpringLayout][1] as a layout. While for the list of disaster types, you have to use JComboBox.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import com.example.SpringUtilities;\r\n    \r\n    public class DisasterReportGUIConsole extends JFrame {\r\n    \r\n        public DisasterReportGUIConsole() {\r\n            super(&quot;Report Disaster&quot;);\r\n            setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\r\n    \r\n            SpringLayout springLayout = new SpringLayout();\r\n            JPanel formPane = new JPanel();\r\n            formPane.setLayout(springLayout);\r\n            \r\n            JLabel locationLabel = new JLabel(&quot;Location: &quot;);\r\n            JTextField locationField = new JTextField(20);\r\n    \r\n            formPane.add(locationLabel);\r\n            formPane.add(locationField);\r\n    \r\n            String[] categories = {&quot;Earthquake&quot;, &quot;Typhoon&quot;, &quot;Flood&quot;, &quot;Fire&quot;, &quot;Other&quot;};\r\n            JLabel disasterTypeLabel = new JLabel(&quot;Disaster Type: &quot;);\r\n            JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;(categories);\r\n    \r\n            formPane.add(disasterTypeLabel);\r\n            formPane.add(comboBox);\r\n    \r\n            JLabel descriptionLabel = new JLabel(&quot;Description: &quot;);\r\n            JTextArea descriptionArea = new JTextArea(5, 20);\r\n            descriptionArea.setLineWrap(true);\r\n            JScrollPane scrollPane = new JScrollPane(descriptionArea, \r\n                                            JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, \r\n                                            JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n    \r\n            formPane.add(descriptionLabel);\r\n            formPane.add(scrollPane);\r\n            \r\n            SpringUtilities.makeCompactGrid(formPane, 3, 2, 15, 15, 15, 15);\r\n    \r\n            JPanel buttonPane = new JPanel();\r\n            buttonPane.setLayout(new BoxLayout(buttonPane, BoxLayout.LINE_AXIS));\r\n            buttonPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 10, 10));\r\n    \r\n            JButton submiButton = new JButton(&quot;Submit Report&quot;);\r\n            submiButton.addActionListener(e -&gt; {\r\n                JOptionPane.showMessageDialog(DisasterReportGUIConsole.this, &quot;Report Submitted!&quot;);\r\n                dispose();\r\n            });\r\n            buttonPane.add(Box.createHorizontalGlue());\r\n            buttonPane.add(submiButton);\r\n    \r\n            Container contentPane = getContentPane();\r\n            contentPane.add(formPane, BorderLayout.CENTER);\r\n            contentPane.add(buttonPane, BorderLayout.PAGE_END);\r\n    \r\n            pack();\r\n            setLocationRelativeTo(null);\r\n            setVisible(true);  \r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n`SpringUtilities` isn&#39;t included in the JDK/JRE. So you need to add it to your project: [SpringUtilities.java][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\r\n  [2]: https://i.stack.imgur.com/Kf37A.png\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/examples/layout/SpringGridProject/src/layout/SpringUtilities.java","title":"Can somebody help me to fix this? Make the output become more tidy","body":"<p>You can try using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\" rel=\"nofollow noreferrer\">SpringLayout</a> as a layout. While for the list of disaster types, you have to use JComboBox.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport com.example.SpringUtilities;\n\npublic class DisasterReportGUIConsole extends JFrame {\n\n    public DisasterReportGUIConsole() {\n        super(&quot;Report Disaster&quot;);\n        setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n\n        SpringLayout springLayout = new SpringLayout();\n        JPanel formPane = new JPanel();\n        formPane.setLayout(springLayout);\n        \n        JLabel locationLabel = new JLabel(&quot;Location: &quot;);\n        JTextField locationField = new JTextField(20);\n\n        formPane.add(locationLabel);\n        formPane.add(locationField);\n\n        String[] categories = {&quot;Earthquake&quot;, &quot;Typhoon&quot;, &quot;Flood&quot;, &quot;Fire&quot;, &quot;Other&quot;};\n        JLabel disasterTypeLabel = new JLabel(&quot;Disaster Type: &quot;);\n        JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;(categories);\n\n        formPane.add(disasterTypeLabel);\n        formPane.add(comboBox);\n\n        JLabel descriptionLabel = new JLabel(&quot;Description: &quot;);\n        JTextArea descriptionArea = new JTextArea(5, 20);\n        descriptionArea.setLineWrap(true);\n        JScrollPane scrollPane = new JScrollPane(descriptionArea, \n                                        JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, \n                                        JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n\n        formPane.add(descriptionLabel);\n        formPane.add(scrollPane);\n        \n        SpringUtilities.makeCompactGrid(formPane, 3, 2, 15, 15, 15, 15);\n\n        JPanel buttonPane = new JPanel();\n        buttonPane.setLayout(new BoxLayout(buttonPane, BoxLayout.LINE_AXIS));\n        buttonPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 10, 10));\n\n        JButton submiButton = new JButton(&quot;Submit Report&quot;);\n        submiButton.addActionListener(e -&gt; {\n            JOptionPane.showMessageDialog(DisasterReportGUIConsole.this, &quot;Report Submitted!&quot;);\n            dispose();\n        });\n        buttonPane.add(Box.createHorizontalGlue());\n        buttonPane.add(submiButton);\n\n        Container contentPane = getContentPane();\n        contentPane.add(formPane, BorderLayout.CENTER);\n        contentPane.add(buttonPane, BorderLayout.PAGE_END);\n\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);  \n    }\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/Kf37A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kf37A.png\" alt=\"enter image description here\" /></a></p>\n<p><code>SpringUtilities</code> isn't included in the JDK/JRE. So you need to add it to your project: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/examples/layout/SpringGridProject/src/layout/SpringUtilities.java\" rel=\"nofollow noreferrer\">SpringUtilities.java</a></p>\n"}],"owner":{"account_id":30020790,"reputation":23,"user_id":23006223,"display_name":"Jerry Wingsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77613322,"answer_count":1,"score":1,"last_activity_date":1701868109,"creation_date":1701670780,"question_id":77597524,"body_markdown":"So I&#39;m making a group project which is Java console GUI. This is my code for the Java console GUI:\r\n\r\nHere&#39;s the output from my code.  \r\n[enter image description here](https://i.stack.imgur.com/ejIc1.png)  \r\nCan you edit my location cause it is so small the text.  \r\nAlso, the &quot;Disaster Type&quot; I want the category to appear in a list which is Earthquake, Typhoon, Floor, Fire, Other.\r\n\r\n```\r\nimport java.awt.Dimension;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.ArrayList;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.*;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\n\r\npublic class DisasterReportGUIConsole extends JFrame {\r\n    \r\n    private JTextField locationField; \r\n\r\n    public DisasterReportGUIConsole() {\r\n        setTitle(&quot;Report Disaster&quot;);\r\n        setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\r\n        \r\n        ArrayList&lt;Object&gt; reportList = new ArrayList&lt;&gt;();\r\n        \r\n        JPanel panel = new JPanel();\r\n        panel.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n        setPreferredSize(new Dimension(400, 400));\r\n        \r\n        panel.add(new JLabel(&quot;Location:&quot;));\r\n        locationField = new JTextField();\r\n        panel.add(locationField);\r\n        \r\n        panel.add(new JLabel(&quot;Disaster Type:&quot;));\r\n        String[] categories = {&quot;Earthquake, Typhoon, Flood, Fire, Other&quot;};\r\n        \r\n        panel.add(new Jlabel(&quot;Description:&quot;));\r\n        JTextArea descriptionArea = new JTextArea();\r\n        \r\n        JButton submitButton = new JButton(&quot;Submit Report&quot;);\r\n        submitButton.addActionListener(e -&gt; handleRegistration(e));\r\n        panel.add(submitButton);\r\n        \r\n        setContentPane(panel);\r\n        pack();\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);  \r\n}\r\n\r\n    private void handleRegistration(ActionEvent e) { \r\n        JOptionPane.showMessageDialog(this, &quot;Report Submitted!&quot;);\r\n        dispose();\r\n}\r\n     public static void main(String[] args) {\r\n        new DisasterReportGUIConsole();\r\n}\r\n}\r\n```\r\n\r\nI already created a code for this. Can someone help me to fix it? I tried several times but still didn&#39;t get the answers.","title":"Can somebody help me to fix this? Make the output become more tidy","body":"<p>So I'm making a group project which is Java console GUI. This is my code for the Java console GUI:</p>\n<p>Here's the output from my code.<br />\n<a href=\"https://i.stack.imgur.com/ejIc1.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\nCan you edit my location cause it is so small the text.<br />\nAlso, the &quot;Disaster Type&quot; I want the category to appear in a list which is Earthquake, Typhoon, Floor, Fire, Other.</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport javax.swing.BorderFactory;\nimport javax.swing.*;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class DisasterReportGUIConsole extends JFrame {\n    \n    private JTextField locationField; \n\n    public DisasterReportGUIConsole() {\n        setTitle(&quot;Report Disaster&quot;);\n        setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n        \n        ArrayList&lt;Object&gt; reportList = new ArrayList&lt;&gt;();\n        \n        JPanel panel = new JPanel();\n        panel.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n        setPreferredSize(new Dimension(400, 400));\n        \n        panel.add(new JLabel(&quot;Location:&quot;));\n        locationField = new JTextField();\n        panel.add(locationField);\n        \n        panel.add(new JLabel(&quot;Disaster Type:&quot;));\n        String[] categories = {&quot;Earthquake, Typhoon, Flood, Fire, Other&quot;};\n        \n        panel.add(new Jlabel(&quot;Description:&quot;));\n        JTextArea descriptionArea = new JTextArea();\n        \n        JButton submitButton = new JButton(&quot;Submit Report&quot;);\n        submitButton.addActionListener(e -&gt; handleRegistration(e));\n        panel.add(submitButton);\n        \n        setContentPane(panel);\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);  \n}\n\n    private void handleRegistration(ActionEvent e) { \n        JOptionPane.showMessageDialog(this, &quot;Report Submitted!&quot;);\n        dispose();\n}\n     public static void main(String[] args) {\n        new DisasterReportGUIConsole();\n}\n}\n</code></pre>\n<p>I already created a code for this. Can someone help me to fix it? I tried several times but still didn't get the answers.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1701868155,"post_id":77613293,"comment_id":136827954,"body_markdown":"please don&#39;t just drop your assignment or &quot;desired result&quot; here. What code have you tried, what is(n&#39;t) working? Are the problems compile- or runtime? What error messages do you get?","body":"please don&#39;t just drop your assignment or &quot;desired result&quot; here. What code have you tried, what is(n&#39;t) working? Are the problems compile- or runtime? What error messages do you get?"}],"owner":{"account_id":14764421,"reputation":310,"user_id":10662871,"display_name":"Bipin Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701867899,"creation_date":1701867899,"question_id":77613293,"body_markdown":"I want to create a view which will contain multiple child view. Now I want to allow feature to drag top or bottom boundary to increase of decrease the size of child view.\r\nSomething like this : \r\n\r\n[![Something like this][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zl4dw.png\r\n\r\nWhen user drag the bottom of colombo to top then it will decrease the size of it to minimum 1 day and increase the singapore view size.\r\n\r\nCan someone help?","title":"Parent with multiple child and draggable height","body":"<p>I want to create a view which will contain multiple child view. Now I want to allow feature to drag top or bottom boundary to increase of decrease the size of child view.\nSomething like this :</p>\n<p><a href=\"https://i.stack.imgur.com/Zl4dw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zl4dw.png\" alt=\"Something like this\" /></a></p>\n<p>When user drag the bottom of colombo to top then it will decrease the size of it to minimum 1 day and increase the singapore view size.</p>\n<p>Can someone help?</p>\n"},{"tags":["java","dependency-injection","log4j"],"comments":[{"owner":{"account_id":9926590,"reputation":5025,"user_id":7347933,"accept_rate":86,"display_name":"Papershine"},"score":1,"creation_date":1502367969,"post_id":45613644,"comment_id":78185683,"body_markdown":"This seems to be a bug in the `org.xeustechnologies.googleapi.spelling.SpellChecker` API.","body":"This seems to be a bug in the <code>org.xeustechnologies.googleapi.spelling.SpellChecker</code> API."}],"answers":[{"comments":[{"owner":{"account_id":10376283,"reputation":41,"user_id":7652371,"accept_rate":33,"display_name":"Goutham Vijay"},"score":0,"creation_date":1502421908,"post_id":45613989,"comment_id":78212347,"body_markdown":"After removing all log4j jars,i&#39;ve added only 2 jars(api-spell checker,log4j-over-slf4j-1.7) but after running the program i got these errors:","body":"After removing all log4j jars,i&#39;ve added only 2 jars(api-spell checker,log4j-over-slf4j-1.7) but after running the program i got these errors:"},{"owner":{"account_id":10376283,"reputation":41,"user_id":7652371,"accept_rate":33,"display_name":"Goutham Vijay"},"score":0,"creation_date":1502421977,"post_id":45613989,"comment_id":78212366,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/MarkerFactory\n\tat org.apache.log4j.Category.&lt;clinit&gt;(Category.java:53)\n\tat org.xeustechnologies.googleapi.spelling.SpellChecker.&lt;clinit&gt;(SpellChecker.java:50)\n\tat com.spell.SpellCheck.main(SpellCheck.java:12)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.MarkerFactory\tat java.net.URLClassLoader$1.run(Unknown Source)\n\tat java.net.URLClassLoader$1.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(Unknown Source)","body":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/MarkerFactory \tat org.apache.log4j.Category.&lt;clinit&gt;(Category.java:53) \tat org.xeustechnologies.googleapi.spelling.SpellChecker.&lt;clinit&zwnj;&#8203;&gt;(SpellChecker.java:&zwnj;&#8203;50) \tat com.spell.SpellCheck.main(SpellCheck.java:12) Caused by: java.lang.ClassNotFoundException: org.slf4j.MarkerFactory\tat java.net.URLClassLoader$1.run(Unknown Source) \tat java.net.URLClassLoader$1.run(Unknown Source) \tat java.security.AccessController.doPrivileged(Native Method) \tat java.net.URLClassLoader.findClass(Unknown Source)"},{"owner":{"account_id":1568470,"reputation":668,"user_id":1456721,"display_name":"Rich Cowin"},"score":0,"creation_date":1518596592,"post_id":45613989,"comment_id":84566378,"body_markdown":"Looks like you haven&#39;t got the slf4j API on your classpath. Add slf4j-api.jar.","body":"Looks like you haven&#39;t got the slf4j API on your classpath. Add slf4j-api.jar."}],"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502369062,"creation_date":1502368751,"answer_id":45613989,"question_id":45613644,"body_markdown":"It looks like `org.xeustechnologies.google.api.spelling.SpellChecker` uses log4j and you are using slf4j.  Try adding [log4j-over-slf4j][1] to the classpath to bridge log4 to use slf4j.\r\n\r\n\r\n\r\n\r\n[1]:https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j","title":"java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext","body":"<p>It looks like <code>org.xeustechnologies.google.api.spelling.SpellChecker</code> uses log4j and you are using slf4j.  Try adding <a href=\"https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j\" rel=\"nofollow noreferrer\">log4j-over-slf4j</a> to the classpath to bridge log4 to use slf4j.</p>\n"}],"owner":{"account_id":10376283,"reputation":41,"user_id":7652371,"accept_rate":33,"display_name":"Goutham Vijay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10255,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701867745,"creation_date":1502367808,"question_id":45613644,"body_markdown":"I&#39;m trying to create SpellChecker program through API. Here is my code:\r\n\r\n**SpellCheck.java**\r\n\r\n    package com.spell;\r\n    \r\n    import org.xeustechnologies.googleapi.spelling.SpellChecker;\r\n    import org.xeustechnologies.googleapi.spelling.SpellCorrection;\r\n    import org.xeustechnologies.googleapi.spelling.SpellResponse;\r\n    \r\n    public class SpellCheck {\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n    \r\n            SpellChecker checker = new SpellChecker();\r\n    \r\n            SpellResponse spellResponse = checker.check( &quot;helloo worlrd&quot; );\r\n    \r\n            for( SpellCorrection sc : spellResponse.getCorrections() ) \r\n    \t        System.out.println( sc.getValue() );\r\n    \r\n        }\r\n    }\r\n\r\n**Dependencies**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lK8KF.png\r\n  [2]: https://i.stack.imgur.com/DAfgN.png\r\n\r\n**Error I got after running it:**\r\n\r\n&gt;    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    \tat com.spell.SpellCheck.main(SpellCheck.java:12)\r\n    Caused by: java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext\r\n    \tat org.apache.log4j.Logger$PrivateManager.getContext(Logger.java:59)\r\n    \tat org.apache.log4j.Logger.getLogger(Logger.java:41)\r\n    \tat org.xeustechnologies.googleapi.spelling.SpellChecker.&lt;clinit&gt;(SpellChecker.java:50)\r\n    \t... 1 more\r\n\r\n","title":"java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext","body":"<p>I'm trying to create SpellChecker program through API. Here is my code:</p>\n<p><strong>SpellCheck.java</strong></p>\n<pre><code>package com.spell;\n\nimport org.xeustechnologies.googleapi.spelling.SpellChecker;\nimport org.xeustechnologies.googleapi.spelling.SpellCorrection;\nimport org.xeustechnologies.googleapi.spelling.SpellResponse;\n\npublic class SpellCheck {\n\n    public static void main(String[] args)\n    {\n\n        SpellChecker checker = new SpellChecker();\n\n        SpellResponse spellResponse = checker.check( &quot;helloo worlrd&quot; );\n\n        for( SpellCorrection sc : spellResponse.getCorrections() ) \n            System.out.println( sc.getValue() );\n\n    }\n}\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<p><a href=\"https://i.stack.imgur.com/lK8KF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lK8KF.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/DAfgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DAfgN.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Error I got after running it:</strong></p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nat com.spell.SpellCheck.main(SpellCheck.java:12)\nCaused by: java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext\nat org.apache.log4j.Logger$PrivateManager.getContext(Logger.java:59)\nat org.apache.log4j.Logger.getLogger(Logger.java:41)\nat org.xeustechnologies.googleapi.spelling.SpellChecker.(SpellChecker.java:50)\n... 1 more</p>\n</blockquote>\n"},{"tags":["java","hibernate","jpa","where-clause","hibernate-mapping"],"answers":[{"comments":[{"owner":{"account_id":938667,"reputation":5404,"user_id":967143,"accept_rate":45,"display_name":"Johny19"},"score":0,"creation_date":1417116793,"post_id":27177625,"comment_id":42844201,"body_markdown":"Thank you for you answer! I have tried this but it seems hibernate doesn&#39;t use the filter. in my database I have set ALL the place to INACTIVE (except 1) and ALL the tags to INACTIVE (except 1) and when I run this query List&lt;PlaceTag&gt; test = placeTagRepository.findAll(); findAll return me the entire PlaceTag table","body":"Thank you for you answer! I have tried this but it seems hibernate doesn&#39;t use the filter. in my database I have set ALL the place to INACTIVE (except 1) and ALL the tags to INACTIVE (except 1) and when I run this query List&lt;PlaceTag&gt; test = placeTagRepository.findAll(); findAll return me the entire PlaceTag table"},{"owner":{"account_id":3660757,"reputation":686,"user_id":3050643,"display_name":"bradleyfitz"},"score":1,"creation_date":1417117607,"post_id":27177625,"comment_id":42844433,"body_markdown":"@Johny19 did you enable the filter using session.enableFilter as per the documentation?","body":"@Johny19 did you enable the filter using session.enableFilter as per the documentation?"},{"owner":{"account_id":938667,"reputation":5404,"user_id":967143,"accept_rate":45,"display_name":"Johny19"},"score":0,"creation_date":1417118881,"post_id":27177625,"comment_id":42844865,"body_markdown":"Thank you both for the replies. my project is currently using entityManager. So I did something like this: Session session = entityManager.unwrap(Session.class);\nsession.enableFilter(&quot;place_active&quot;);\nsession.enableFilter(&quot;tag_active&quot;);\nbut is says:org.hibernate.HibernateException: No such filter configured [place_active]","body":"Thank you both for the replies. my project is currently using entityManager. So I did something like this: Session session = entityManager.unwrap(Session.class); session.enableFilter(&quot;place_active&quot;); session.enableFilter(&quot;tag_active&quot;); but is says:org.hibernate.HibernateException: No such filter configured [place_active]"},{"owner":{"account_id":938667,"reputation":5404,"user_id":967143,"accept_rate":45,"display_name":"Johny19"},"score":0,"creation_date":1417121172,"post_id":27177625,"comment_id":42845663,"body_markdown":"Yep, it now doesn&#39;t complain about the filter anymore. But still this query @Query(&quot;SELECT pt FROM PlaceTag&quot;); return me totality of PlaceTag","body":"Yep, it now doesn&#39;t complain about the filter anymore. But still this query @Query(&quot;SELECT pt FROM PlaceTag&quot;); return me totality of PlaceTag"},{"owner":{"account_id":938667,"reputation":5404,"user_id":967143,"accept_rate":45,"display_name":"Johny19"},"score":0,"creation_date":1417124083,"post_id":27177625,"comment_id":42846661,"body_markdown":"@VladMihalcea Also Is the fact that my relation is ManyToOne as problem? Because in the hibernate filter doc they only talk about OneToMany","body":"@VladMihalcea Also Is the fact that my relation is ManyToOne as problem? Because in the hibernate filter doc they only talk about OneToMany"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1417124454,"post_id":27177625,"comment_id":42846805,"body_markdown":"I think that was a @Where limitation only. I think [it should work for ManyToOne](http://stackoverflow.com/questions/10691527/using-filter-with-manytoone-relation).","body":"I think that was a @Where limitation only. I think <a href=\"http://stackoverflow.com/questions/10691527/using-filter-with-manytoone-relation\">it should work for ManyToOne</a>."},{"owner":{"account_id":938667,"reputation":5404,"user_id":967143,"accept_rate":45,"display_name":"Johny19"},"score":0,"creation_date":1417126155,"post_id":27177625,"comment_id":42847334,"body_markdown":"Yes I had stubbed on that thread but the creator even if the answer is accepted wrote a comment in which he says it s still not working as in my case.  It looks like if the filter is not enabled","body":"Yes I had stubbed on that thread but the creator even if the answer is accepted wrote a comment in which he says it s still not working as in my case.  It looks like if the filter is not enabled"},{"owner":{"account_id":248909,"reputation":21944,"user_id":524588,"accept_rate":78,"display_name":"Sanghyun Lee"},"score":3,"creation_date":1438070781,"post_id":27177625,"comment_id":51284205,"body_markdown":"Not working for me either. I think not working answer shouldn&#39;t be accepted for not confusing people.","body":"Not working for me either. I think not working answer shouldn&#39;t be accepted for not confusing people."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":8,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1615445474,"creation_date":1417116437,"answer_id":27177625,"question_id":27175845,"body_markdown":"As you already discovered, or simply use cases the `@Where` clause is just fine, but in your case, you want to filter `PlaceTag` by the place and tag too, so a joined is required in this situation.\r\n\r\nSo, you can keep the `@Where` clause for `Place` and `Tag`, while for `PlaceTags` you need to use a JPQL query:\r\n\r\n    select pt\r\n    from PlaceTag pt\r\n    join pt.tag t\r\n    join pt.place p\r\n    where \r\n        t.state=&#39;ACTIVE&#39; and p.state=&#39;ACTIVE&#39;\r\n\r\nAt least until [`@WhereJoinTable`][1] annotation is made to work [for many-to-one associations][2] too.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/annotations/WhereJoinTable.html\r\n  [2]: https://hibernate.atlassian.net/browse/HHH-4335","title":"Hibernate @Where annotation on a ManyToOne relation","body":"<p>As you already discovered, or simply use cases the <code>@Where</code> clause is just fine, but in your case, you want to filter <code>PlaceTag</code> by the place and tag too, so a joined is required in this situation.</p>\n<p>So, you can keep the <code>@Where</code> clause for <code>Place</code> and <code>Tag</code>, while for <code>PlaceTags</code> you need to use a JPQL query:</p>\n<pre><code>select pt\nfrom PlaceTag pt\njoin pt.tag t\njoin pt.place p\nwhere \n    t.state='ACTIVE' and p.state='ACTIVE'\n</code></pre>\n<p>At least until <a href=\"https://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/annotations/WhereJoinTable.html\" rel=\"nofollow noreferrer\"><code>@WhereJoinTable</code></a> annotation is made to work <a href=\"https://hibernate.atlassian.net/browse/HHH-4335\" rel=\"nofollow noreferrer\">for many-to-one associations</a> too.</p>\n"}],"owner":{"account_id":938667,"reputation":5404,"user_id":967143,"accept_rate":45,"display_name":"Johny19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16796,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1701867745,"creation_date":1417107972,"question_id":27175845,"body_markdown":"I have recently started to refactor my project because I had to add an extra column to some of my table. The extra column is an Enum (Pending, or Active). \r\nBecause of that change I would need now to refactor ALL my queries to only retrieves a row if the status is ACTIVE.\r\n\r\nAfter some research I found that we can annotate an Entity with the @Where annotation. it works fine where I use it on a simple column but my table look like this:\r\n\r\n    @Where(clause = &#39;state=&#39;ACTIVE&#39;&quot;)\r\n    @Entity\r\n    public class Place {\r\n     \r\n      @Column(name=&quot;id_place&quot;)\r\n      private String placeId;\r\n    \r\n      @Column(name=&quot;name&quot;)\r\n      private String palceName;\r\n    \r\n    @OneToMany(mappedBy = &quot;place&quot;)\r\n    \tprivate Set&lt;PlaceTag&gt; placeTag;\r\n\r\n      ...\r\n      ...\r\n    }\r\n    \r\n    @Where(clause = &#39;state=&#39;ACTIVE&#39;&quot;)\r\n    @Entity\r\n    public class Tag {\r\n     \r\n      @Column(name=&quot;id_tag&quot;)\r\n      private String tagId;\r\n    \r\n      @Column(name=&quot;name&quot;)\r\n      private String tagName;\r\n    \r\n       @OneToMany(mappedBy = &quot;tag&quot;)\r\n    \tprivate Set&lt;PlaceTag&gt; placeTag;\r\n       ... \r\n       ...\r\n    }\r\n    \r\n    @Where(clause = &#39;poi.state=&#39;ACTIVE&#39; AND tag.state=&#39;ACTIVE&quot;)\r\n    @Entity\r\n    public class PlaceTag {\r\n     \r\n      @Column(name=&quot;id&quot;)\r\n      private String id;\r\n    \r\n      @ManyToOne(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;place_id&quot;)\r\n      private Place place;\r\n     \r\n      @ManyToOne(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;tag_id&quot;)\r\n      private Tag tag;\r\n      \r\n      ...\r\n      ...\r\n    \r\n    }\r\n\r\nNow my question would be how can make this statement ONLY return the places and tags that are ACTIVE ?\r\n\r\n    SELECT pt FROM PlaceTag pt;\r\n\r\nIs this possible? Or will I have to write the query Explicitly ?\r\n\r\nThank you ","title":"Hibernate @Where annotation on a ManyToOne relation","body":"<p>I have recently started to refactor my project because I had to add an extra column to some of my table. The extra column is an Enum (Pending, or Active). \nBecause of that change I would need now to refactor ALL my queries to only retrieves a row if the status is ACTIVE.</p>\n\n<p>After some research I found that we can annotate an Entity with the @Where annotation. it works fine where I use it on a simple column but my table look like this:</p>\n\n<pre><code>@Where(clause = 'state='ACTIVE'\")\n@Entity\npublic class Place {\n\n  @Column(name=\"id_place\")\n  private String placeId;\n\n  @Column(name=\"name\")\n  private String palceName;\n\n@OneToMany(mappedBy = \"place\")\n    private Set&lt;PlaceTag&gt; placeTag;\n\n  ...\n  ...\n}\n\n@Where(clause = 'state='ACTIVE'\")\n@Entity\npublic class Tag {\n\n  @Column(name=\"id_tag\")\n  private String tagId;\n\n  @Column(name=\"name\")\n  private String tagName;\n\n   @OneToMany(mappedBy = \"tag\")\n    private Set&lt;PlaceTag&gt; placeTag;\n   ... \n   ...\n}\n\n@Where(clause = 'poi.state='ACTIVE' AND tag.state='ACTIVE\")\n@Entity\npublic class PlaceTag {\n\n  @Column(name=\"id\")\n  private String id;\n\n  @ManyToOne(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\n  @JoinColumn(name = \"place_id\")\n  private Place place;\n\n  @ManyToOne(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\n  @JoinColumn(name = \"tag_id\")\n  private Tag tag;\n\n  ...\n  ...\n\n}\n</code></pre>\n\n<p>Now my question would be how can make this statement ONLY return the places and tags that are ACTIVE ?</p>\n\n<pre><code>SELECT pt FROM PlaceTag pt;\n</code></pre>\n\n<p>Is this possible? Or will I have to write the query Explicitly ?</p>\n\n<p>Thank you </p>\n"},{"tags":["java","spring-boot","model","entity","three-tier"],"comments":[{"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"score":1,"creation_date":1585665189,"post_id":60939220,"comment_id":107837690,"body_markdown":"The answer you added from other post somewhat supports my suggestion, that is you have presentation/boundry layer that solely deals with DTOs and delegates the mapping between DTO &lt;-&gt; Entity to an AutoMapper (e.g. `MapStruct`, or your own implementation).","body":"The answer you added from other post somewhat supports my suggestion, that is you have presentation/boundry layer that solely deals with DTOs and delegates the mapping between DTO &lt;-&gt; Entity to an AutoMapper (e.g. <code>MapStruct</code>, or your own implementation)."},{"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"score":1,"creation_date":1585665355,"post_id":60939220,"comment_id":107837784,"body_markdown":"Domain object and domain entity are by and large the same thing. Anything that has to do with your domain can be classified as a domain object, whereas the domain objects that you want to persist within your database are usually called `entity` meaning that you don&#39;t have to persist each of your domain object, but usually you do, and those domain objects are referred as `entity`.","body":"Domain object and domain entity are by and large the same thing. Anything that has to do with your domain can be classified as a domain object, whereas the domain objects that you want to persist within your database are usually called <code>entity</code> meaning that you don&#39;t have to persist each of your domain object, but usually you do, and those domain objects are referred as <code>entity</code>."},{"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"score":1,"creation_date":1585666782,"post_id":60939220,"comment_id":107838719,"body_markdown":"Please also note that (from my own experience) the DAOs and business service classes both use/access the domain objects/entities - DAOs usually only deal with `entities`, so there is no need an additional encapsulation between a service and DAO / Repository. Your PersonDao deals with entities and the ORM framework, whereas the business services carry out the core business logic using the domain objects/entities.","body":"Please also note that (from my own experience) the DAOs and business service classes both use/access the domain objects/entities - DAOs usually only deal with <code>entities</code>, so there is no need an additional encapsulation between a service and DAO / Repository. Your PersonDao deals with entities and the ORM framework, whereas the business services carry out the core business logic using the domain objects/entities."}],"answers":[{"comments":[{"owner":{"account_id":6571508,"reputation":800,"user_id":6112286,"display_name":"Mr. Mars"},"score":1,"creation_date":1585611081,"post_id":60940707,"comment_id":107817008,"body_markdown":"Thank you very much for your answer.  With PersonModel I was trying to say that it is a class that identifies objects that are only the responsibility of the services. That is, something intermediate to PersonDto and PersonEntity to limit their use in services. From what you say, I understand that it only adds redundancy and duplication to the code, because it would not make sense. Perhaps my doubt is given because it may be that the entity that is stored in the database is not the object to be dealt with in the domain (logic) layer. In this case, shouldn&#39;t a new class be defined?","body":"Thank you very much for your answer.  With PersonModel I was trying to say that it is a class that identifies objects that are only the responsibility of the services. That is, something intermediate to PersonDto and PersonEntity to limit their use in services. From what you say, I understand that it only adds redundancy and duplication to the code, because it would not make sense. Perhaps my doubt is given because it may be that the entity that is stored in the database is not the object to be dealt with in the domain (logic) layer. In this case, shouldn&#39;t a new class be defined?"},{"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"score":0,"creation_date":1585613572,"post_id":60940707,"comment_id":107817582,"body_markdown":"@Mr.Mars Like I said, I think, it&#39;s OK to use `entity` classes for both the business logic (service) and persisting (DAO / ORM).","body":"@Mr.Mars Like I said, I think, it&#39;s OK to use <code>entity</code> classes for both the business logic (service) and persisting (DAO / ORM)."},{"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"score":1,"creation_date":1585613702,"post_id":60940707,"comment_id":107817616,"body_markdown":"@Mr.Mars About the `PersonModel`: If I understand you correctly, nothing prevents you from creating additional classes to meet your needs; for example you can create classes to implement the `facade` or `strategy` pattern etc., so whatever your domain logic needs. But even in this case `PersonModel` would not be a suitable name. Maybe `SomeUtility` or similar singleton components that you use from various services, controllers, or even DAOs.","body":"@Mr.Mars About the <code>PersonModel</code>: If I understand you correctly, nothing prevents you from creating additional classes to meet your needs; for example you can create classes to implement the <code>facade</code> or <code>strategy</code> pattern etc., so whatever your domain logic needs. But even in this case <code>PersonModel</code> would not be a suitable name. Maybe <code>SomeUtility</code> or similar singleton components that you use from various services, controllers, or even DAOs."},{"owner":{"account_id":6571508,"reputation":800,"user_id":6112286,"display_name":"Mr. Mars"},"score":0,"creation_date":1585636486,"post_id":60940707,"comment_id":107822739,"body_markdown":"Perhaps I have expressed myself wrong. With PersonEntity I am referring to the DAO implementation detail, that is, as close to the database as possible. With PersonModel, it would be the business object of the application (considering the service as well). I understand that with JPA my business object would be the class that was annotated with @Entity. But in the case of DAO, is it necessary to do a mapping first to a class that understands the persistence layer and then another mapping to a class that understands the domain layer?","body":"Perhaps I have expressed myself wrong. With PersonEntity I am referring to the DAO implementation detail, that is, as close to the database as possible. With PersonModel, it would be the business object of the application (considering the service as well). I understand that with JPA my business object would be the class that was annotated with @Entity. But in the case of DAO, is it necessary to do a mapping first to a class that understands the persistence layer and then another mapping to a class that understands the domain layer?"},{"owner":{"account_id":6571508,"reputation":800,"user_id":6112286,"display_name":"Mr. Mars"},"score":0,"creation_date":1585636837,"post_id":60940707,"comment_id":107822879,"body_markdown":"In your return flight, I mean there should be another class in between PersonDAO and PersonService responsible for mapping tuples fetched from database to objects in a class and for transporting of the information from the DAO to the Service.","body":"In your return flight, I mean there should be another class in between PersonDAO and PersonService responsible for mapping tuples fetched from database to objects in a class and for transporting of the information from the DAO to the Service."},{"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"score":1,"creation_date":1585665759,"post_id":60940707,"comment_id":107838036,"body_markdown":"@Mr.Mars In this case, the ORM framework (e.g. Hibernate) is responsible for creating/fetching/mapping of database queries and query results and here the ORM framework uses the domain entities to do so. As I mentioned in another comment, your DAO and business service classes deal with the domain entities. You can also say that you have domain objects that you don&#39;t want to persist, in this case only your business services or even the controllers use these objects - really depends on the use case and problem domain.","body":"@Mr.Mars In this case, the ORM framework (e.g. Hibernate) is responsible for creating/fetching/mapping of database queries and query results and here the ORM framework uses the domain entities to do so. As I mentioned in another comment, your DAO and business service classes deal with the domain entities. You can also say that you have domain objects that you don&#39;t want to persist, in this case only your business services or even the controllers use these objects - really depends on the use case and problem domain."},{"owner":{"account_id":6571508,"reputation":800,"user_id":6112286,"display_name":"Mr. Mars"},"score":1,"creation_date":1585668460,"post_id":60940707,"comment_id":107839772,"body_markdown":"Now I got it. Thank you very much for your patience, time and explanations :)","body":"Now I got it. Thank you very much for your patience, time and explanations :)"},{"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"score":0,"creation_date":1585671077,"post_id":60940707,"comment_id":107841274,"body_markdown":"@Mr.Mars if you have a demo app or something, you can upload it on GitHub and I can take a look at it and give you feedback - if you like. Otherwise, buena suerte. Cuidese!","body":"@Mr.Mars if you have a demo app or something, you can upload it on GitHub and I can take a look at it and give you feedback - if you like. Otherwise, buena suerte. Cuidese!"},{"owner":{"account_id":6571508,"reputation":800,"user_id":6112286,"display_name":"Mr. Mars"},"score":0,"creation_date":1585673831,"post_id":60940707,"comment_id":107842878,"body_markdown":"Oh, thank you very much! I am currently in the design phase and have nothing implemented yet. When I have something I will notify you and, if you can, give me some advice. Gracias, amigo! Buena surte :)","body":"Oh, thank you very much! I am currently in the design phase and have nothing implemented yet. When I have something I will notify you and, if you can, give me some advice. Gracias, amigo! Buena surte :)"}],"tags":[],"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677423989,"creation_date":1585608207,"answer_id":60940707,"question_id":60939220,"body_markdown":"From what I understand your question is particularly about the *layers* and their useage within the `logic` tier. (Thus the `presentation` and `data` tiers are not part of the question).\r\n\r\n\r\n##  About the `PersonModel`\r\nI am not sure, what you mean with the `PersonModel` and what it actually does, but at first sight I can say you normally would not need something like that, which would just add additional code duplication and maintenance overhead sooner or later.\r\n\r\n##  About the `PersonDto`\r\nThe `DTO`s, as the name suggests, are really meant to be for transferring data between the client (`presentation` layer) and your API (`controller / boundary` layer within the `logic tier`) which are used to expose &quot;client friendly&quot; presentation of your [domain model](https://www.martinfowler.com/eaaCatalog/domainModel.html), to regulate the over- and under-fetching - somehow (thanks to [GraphQL](https://graphql.org/) this is now almost no longer a problem). So your business service classes don&#39;t need to know or deal with the DTOs at all.\r\n\r\nAlso, as you already mentioned, for the sake of [SRP](https://en.wikipedia.org/wiki/Single-responsibility_principle) the business or dao classes should not deal with additional data mapping (e.g. Dto &lt;-&gt; Model, Model &lt;-&gt; Entity) in any way. They already fulfill a certain task within the logic tier (cf. *boundary layer*, *service layer*).\r\n\r\n## About the `PersonEntity`\r\nThis is something that normally represents both the *real* entity from your [problem domain](https://en.wikipedia.org/wiki/Problem_domain) and `data` tier (e.g. database table in a RDBMS or document in a NoSQL). So it&#39;s pretty common\r\n\r\n- that the entity classes are named without a suffix such as `Entity`. Just use the plain name for it, e.g. `Person`,\r\n\r\n- that the entity classes contain additional annotations (e.g. JPA) to make them visible for the `ORM layer` (e.g. Hibernate),\r\n\r\n- that the entity classes should not be necessarily [anemic](https://www.martinfowler.com/bliki/AnemicDomainModel.html) and actually contain some additional behavior (probably what you wanted to do with your `PersonModel` class), e.g.\r\n\r\n```java\r\nclass Person {\r\n  Date birthday;\r\n\r\n  int getAge() { /* calculate age based on the birthday */ }\r\n\r\n  boolean isAdult() { /* getAge() &gt;= 18 */ }\r\n}\r\n```\r\n\r\n## Wrapping up\r\n\r\nUse case:  *creation of `Person` entity*\r\n\r\n***Hinflug*** (outbound flight)\r\n\r\n```\r\n[Client] --&gt; (data: JSON) --&gt; &lt;Deserialization as `PersonDTO`&gt; --&gt; &lt;DTO Validation&gt; --&gt; [PersonController] --&gt; &lt;AutoMapping to `Person` entity&gt; --&gt; [PersonService] --&gt; [PersonDao] --&gt; &lt;ORM and JDBC&gt; --&gt; &lt;Entity Validation&gt; --&gt; DB\r\n```\r\n\r\nNote: `&lt;Validation&gt;` can also be done within the Controller manually but usually [Bean Validation API](https://stackoverflow.com/questions/60747846/java-restcontroller-rest-parameter-dependency-injection-or-request/60748131#60748131) is used to automate this process *in the backgroud*. The good thing is you can use the Bean Validation API to validate both your DTOs and the Entities (e.g. with [Hibernate Validator](https://hibernate.org/validator/documentation/getting-started/)).\r\n\r\n***R&#252;ckflug*** (return flight)\r\n```\r\nDB --&gt; &lt;ORM and JDBC&gt; --&gt; [PersonDao] --&gt; [PersonService] --&gt; &lt;AutoMapping to `Person` entity&gt; --&gt; [PersonController] --&gt; &lt;AutoMapping `Person` entity to `PersonDTO`&gt;  --&gt; &lt;Serialization of `PersonDTO`&gt; --&gt; (data: JSON) -&gt; [Client]  \r\n```","title":"Need for a domain model in a service in 3 tier architecture?","body":"<p>From what I understand your question is particularly about the <em>layers</em> and their useage within the <code>logic</code> tier. (Thus the <code>presentation</code> and <code>data</code> tiers are not part of the question).</p>\n<h2>About the <code>PersonModel</code></h2>\n<p>I am not sure, what you mean with the <code>PersonModel</code> and what it actually does, but at first sight I can say you normally would not need something like that, which would just add additional code duplication and maintenance overhead sooner or later.</p>\n<h2>About the <code>PersonDto</code></h2>\n<p>The <code>DTO</code>s, as the name suggests, are really meant to be for transferring data between the client (<code>presentation</code> layer) and your API (<code>controller / boundary</code> layer within the <code>logic tier</code>) which are used to expose &quot;client friendly&quot; presentation of your <a href=\"https://www.martinfowler.com/eaaCatalog/domainModel.html\" rel=\"nofollow noreferrer\">domain model</a>, to regulate the over- and under-fetching - somehow (thanks to <a href=\"https://graphql.org/\" rel=\"nofollow noreferrer\">GraphQL</a> this is now almost no longer a problem). So your business service classes don't need to know or deal with the DTOs at all.</p>\n<p>Also, as you already mentioned, for the sake of <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\">SRP</a> the business or dao classes should not deal with additional data mapping (e.g. Dto &lt;-&gt; Model, Model &lt;-&gt; Entity) in any way. They already fulfill a certain task within the logic tier (cf. <em>boundary layer</em>, <em>service layer</em>).</p>\n<h2>About the <code>PersonEntity</code></h2>\n<p>This is something that normally represents both the <em>real</em> entity from your <a href=\"https://en.wikipedia.org/wiki/Problem_domain\" rel=\"nofollow noreferrer\">problem domain</a> and <code>data</code> tier (e.g. database table in a RDBMS or document in a NoSQL). So it's pretty common</p>\n<ul>\n<li><p>that the entity classes are named without a suffix such as <code>Entity</code>. Just use the plain name for it, e.g. <code>Person</code>,</p>\n</li>\n<li><p>that the entity classes contain additional annotations (e.g. JPA) to make them visible for the <code>ORM layer</code> (e.g. Hibernate),</p>\n</li>\n<li><p>that the entity classes should not be necessarily <a href=\"https://www.martinfowler.com/bliki/AnemicDomainModel.html\" rel=\"nofollow noreferrer\">anemic</a> and actually contain some additional behavior (probably what you wanted to do with your <code>PersonModel</code> class), e.g.</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>class Person {\n  Date birthday;\n\n  int getAge() { /* calculate age based on the birthday */ }\n\n  boolean isAdult() { /* getAge() &gt;= 18 */ }\n}\n</code></pre>\n<h2>Wrapping up</h2>\n<p>Use case:  <em>creation of <code>Person</code> entity</em></p>\n<p><em><strong>Hinflug</strong></em> (outbound flight)</p>\n<pre><code>[Client] --&gt; (data: JSON) --&gt; &lt;Deserialization as `PersonDTO`&gt; --&gt; &lt;DTO Validation&gt; --&gt; [PersonController] --&gt; &lt;AutoMapping to `Person` entity&gt; --&gt; [PersonService] --&gt; [PersonDao] --&gt; &lt;ORM and JDBC&gt; --&gt; &lt;Entity Validation&gt; --&gt; DB\n</code></pre>\n<p>Note: <code>&lt;Validation&gt;</code> can also be done within the Controller manually but usually <a href=\"https://stackoverflow.com/questions/60747846/java-restcontroller-rest-parameter-dependency-injection-or-request/60748131#60748131\">Bean Validation API</a> is used to automate this process <em>in the backgroud</em>. The good thing is you can use the Bean Validation API to validate both your DTOs and the Entities (e.g. with <a href=\"https://hibernate.org/validator/documentation/getting-started/\" rel=\"nofollow noreferrer\">Hibernate Validator</a>).</p>\n<p><em><strong>Rückflug</strong></em> (return flight)</p>\n<pre><code>DB --&gt; &lt;ORM and JDBC&gt; --&gt; [PersonDao] --&gt; [PersonService] --&gt; &lt;AutoMapping to `Person` entity&gt; --&gt; [PersonController] --&gt; &lt;AutoMapping `Person` entity to `PersonDTO`&gt;  --&gt; &lt;Serialization of `PersonDTO`&gt; --&gt; (data: JSON) -&gt; [Client]  \n</code></pre>\n"}],"owner":{"account_id":6571508,"reputation":800,"user_id":6112286,"display_name":"Mr. Mars"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60940707,"answer_count":1,"score":1,"last_activity_date":1701867090,"creation_date":1585601196,"question_id":60939220,"body_markdown":"I am building an API Rest with Spring Boot and I would like to clarify a concept about my architecture, to see if the community can help me.\r\n\r\nImagine that in my database I have a table called `Person`. I am mounting an architecture based on three layer architecture. The general scheme would be as follows:\r\n\r\n- On the one hand I have the `PersonDao.java`, which will be in charge of accessing the database to retrieve the tuples from the `Person` table. To do this, it uses a class called `PersonEntity.java`, which contains (as attributes) all the columns of the table. `PersonDao.java` is going to return an object from the `PersonModel.java` class. `PersonModel.java` is the class that represents the `Person` business model.\r\n\r\n- On the other hand, I have the `PersonService.java`, which is responsible for carrying out the business logic of my application. This service calls `PersonaDao.java` to access the information stored in the database. `PersonService.java` works with objects of the `PersonModel.java` class, since this class represents the business objects of my application. `PersonService.java` will always return a `PersonDto,java`.\r\n\r\n- Finally, `PersonController.java`. This controller will be the one that exposes the connection interface of the Rest API. He always works with DTO and communicates with `PersonService.java` through DTO as well.\r\n\r\n`PersonController &lt;-&gt; (PersonDto) &lt;-&gt; PersonService &lt;-&gt; (PersonModel) &lt;-&gt; PersonDao &lt;-&gt; (PersonEntity) &lt;-&gt; DB`\r\n\r\nThe question is: Is it necessary to use the `PersonModel.java` class so that `PersonService.java` only works with objects of this class? Or would it be better for `PersonService.java` to work directly with objects from class `PersonEntity.java`? If I do it this way it is to maintain the principle of single responsibility, so that each layer only works with objects of its scope.\r\n\r\nIf the answer is that `PersonModel.java` is necessary to maintain the principle of single responsibility of each layer. Would something change if `JpaRepository` were used? If I ask this question it is because in many tutorials and examples I see that when `JpaRepository` is used, the services work directly with the entities. In this case, shouldn&#39;t we create a class that represents the business object for the services?\r\n\r\n\r\n**EDIT**: In the answer to this question (https://stackoverflow.com/questions/34084203), the architecture that makes sense in my head would be reflected, but surely it is not the most correct thing. The conclusion I come to is that each layer would use its own kind of objects. Copy / paste of the answer:\r\n\r\n&gt; Typically you have different layers:\r\n&gt;\r\n&gt; - A persistence layer to store data\r\n&gt; - Business layer to operate on data\r\n&gt; - A presentation layer to expose data\r\n&gt;\r\n&gt; Typically, each layer would use its own kind of objects:\r\n&gt; \r\n&gt; - Persistence Layer: Repositories, Entities \r\n&gt; - Business Layer: Services, Domain Objects\r\n&gt; - Presentation Layer: Controllers, DTOs\r\n&gt;\r\n&gt; This means each\r\n&gt; layer would only work with its own objects and never ever pass them to\r\n&gt; another layer.\r\n\r\nThanks in advance.","title":"Need for a domain model in a service in 3 tier architecture?","body":"<p>I am building an API Rest with Spring Boot and I would like to clarify a concept about my architecture, to see if the community can help me.</p>\n\n<p>Imagine that in my database I have a table called <code>Person</code>. I am mounting an architecture based on three layer architecture. The general scheme would be as follows:</p>\n\n<ul>\n<li><p>On the one hand I have the <code>PersonDao.java</code>, which will be in charge of accessing the database to retrieve the tuples from the <code>Person</code> table. To do this, it uses a class called <code>PersonEntity.java</code>, which contains (as attributes) all the columns of the table. <code>PersonDao.java</code> is going to return an object from the <code>PersonModel.java</code> class. <code>PersonModel.java</code> is the class that represents the <code>Person</code> business model.</p></li>\n<li><p>On the other hand, I have the <code>PersonService.java</code>, which is responsible for carrying out the business logic of my application. This service calls <code>PersonaDao.java</code> to access the information stored in the database. <code>PersonService.java</code> works with objects of the <code>PersonModel.java</code> class, since this class represents the business objects of my application. <code>PersonService.java</code> will always return a <code>PersonDto,java</code>.</p></li>\n<li><p>Finally, <code>PersonController.java</code>. This controller will be the one that exposes the connection interface of the Rest API. He always works with DTO and communicates with <code>PersonService.java</code> through DTO as well.</p></li>\n</ul>\n\n<p><code>PersonController &lt;-&gt; (PersonDto) &lt;-&gt; PersonService &lt;-&gt; (PersonModel) &lt;-&gt; PersonDao &lt;-&gt; (PersonEntity) &lt;-&gt; DB</code></p>\n\n<p>The question is: Is it necessary to use the <code>PersonModel.java</code> class so that <code>PersonService.java</code> only works with objects of this class? Or would it be better for <code>PersonService.java</code> to work directly with objects from class <code>PersonEntity.java</code>? If I do it this way it is to maintain the principle of single responsibility, so that each layer only works with objects of its scope.</p>\n\n<p>If the answer is that <code>PersonModel.java</code> is necessary to maintain the principle of single responsibility of each layer. Would something change if <code>JpaRepository</code> were used? If I ask this question it is because in many tutorials and examples I see that when <code>JpaRepository</code> is used, the services work directly with the entities. In this case, shouldn't we create a class that represents the business object for the services?</p>\n\n<p><strong>EDIT</strong>: In the answer to this question (<a href=\"https://stackoverflow.com/questions/34084203\">Spring Entities should convert to Dto in service?</a>), the architecture that makes sense in my head would be reflected, but surely it is not the most correct thing. The conclusion I come to is that each layer would use its own kind of objects. Copy / paste of the answer:</p>\n\n<blockquote>\n  <p>Typically you have different layers:</p>\n  \n  <ul>\n  <li>A persistence layer to store data</li>\n  <li>Business layer to operate on data</li>\n  <li>A presentation layer to expose data</li>\n  </ul>\n  \n  <p>Typically, each layer would use its own kind of objects:</p>\n  \n  <ul>\n  <li>Persistence Layer: Repositories, Entities </li>\n  <li>Business Layer: Services, Domain Objects</li>\n  <li>Presentation Layer: Controllers, DTOs</li>\n  </ul>\n  \n  <p>This means each\n  layer would only work with its own objects and never ever pass them to\n  another layer.</p>\n</blockquote>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-retry"],"answers":[{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1671628399,"post_id":64313342,"comment_id":132139164,"body_markdown":"This listener is incorrect; the open method is not called when an &quot;Exception Occurred&quot;; it is called once, at the beginning; further, close does not mean &quot;Unable to recover...&quot;, it is called at the end, regardless of outcome - see the Javadocs. The listener is called within the scope of the retry operation: `open -&gt; call target one or more times until successful or retries exhausted -&gt; close`.","body":"This listener is incorrect; the open method is not called when an &quot;Exception Occurred&quot;; it is called once, at the beginning; further, close does not mean &quot;Unable to recover...&quot;, it is called at the end, regardless of outcome - see the Javadocs. The listener is called within the scope of the retry operation: <code>open -&gt; call target one or more times until successful or retries exhausted -&gt; close</code>."},{"owner":{"account_id":8199180,"reputation":890,"user_id":6171025,"display_name":"divilipir"},"score":0,"creation_date":1701866894,"post_id":64313342,"comment_id":136827727,"body_markdown":"@GaryRussell thanks for information, updated logs and add comments, \nhere a javadoc [RetryListenerSupport](https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/listener/RetryListenerSupport.html)","body":"@GaryRussell thanks for information, updated logs and add comments,  here a javadoc <a href=\"https://docs.spring.io/spring-retry/docs/api/current/org/springframework/retry/listener/RetryListenerSupport.html\" rel=\"nofollow noreferrer\">RetryListenerSupport</a>"}],"tags":[],"owner":{"account_id":8199180,"reputation":890,"user_id":6171025,"display_name":"divilipir"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1701866779,"creation_date":1602487522,"answer_id":64313342,"question_id":64309290,"body_markdown":"you can add retryListener\r\n\r\n        @Retryable( value = SQLException.class, maxAttempts = 5, \r\n                    backoff = @Backoff(delay = 100), listeners = {&quot;retryListener&quot;})\r\n        void testMethod(String abc) throws SQLException{\r\n        //some method body that could throw sql exception\r\n        };\r\n\r\nretryListener should like below, you can print retry count on error.\r\n\r\n    @Slf4j\r\n    @Component\r\n    class RetryListener extends RetryListenerSupport {\r\n\r\n        // Called after the final attempt (succesful or not).\r\n        @Override\r\n        public &lt;T, E extends Throwable&gt; void close(RetryContext context,\r\n                                                   RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\r\n    \r\n            log.debug(&quot;Retry closing..&quot;);\r\n            super.close(context, callback, throwable);\r\n        }\r\n\r\n        // Called after every unsuccessful attempt at a retry\r\n        @Override\r\n        public &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\r\n            log.error(&quot;Exception Occurred, Retry Count {} &quot;, context.getRetryCount());\r\n            super.onError(context, callback, throwable);\r\n        }\r\n\r\n        // Called before the first attempt in a retry\r\n        @Override\r\n        public &lt;T, E extends Throwable&gt; boolean open(RetryContext context,\r\n                                                     RetryCallback&lt;T, E&gt; callback) {\r\n            log.debug(&quot;Retry opening..&quot;);\r\n            return super.open(context, callback);\r\n        }\r\n    }","title":"Print retry count with @Retryable","body":"<p>you can add retryListener</p>\n<pre><code>    @Retryable( value = SQLException.class, maxAttempts = 5, \n                backoff = @Backoff(delay = 100), listeners = {&quot;retryListener&quot;})\n    void testMethod(String abc) throws SQLException{\n    //some method body that could throw sql exception\n    };\n</code></pre>\n<p>retryListener should like below, you can print retry count on error.</p>\n<pre><code>@Slf4j\n@Component\nclass RetryListener extends RetryListenerSupport {\n\n    // Called after the final attempt (succesful or not).\n    @Override\n    public &lt;T, E extends Throwable&gt; void close(RetryContext context,\n                                               RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\n\n        log.debug(&quot;Retry closing..&quot;);\n        super.close(context, callback, throwable);\n    }\n\n    // Called after every unsuccessful attempt at a retry\n    @Override\n    public &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\n        log.error(&quot;Exception Occurred, Retry Count {} &quot;, context.getRetryCount());\n        super.onError(context, callback, throwable);\n    }\n\n    // Called before the first attempt in a retry\n    @Override\n    public &lt;T, E extends Throwable&gt; boolean open(RetryContext context,\n                                                 RetryCallback&lt;T, E&gt; callback) {\n        log.debug(&quot;Retry opening..&quot;);\n        return super.open(context, callback);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2420186,"reputation":1395,"user_id":2113338,"accept_rate":50,"display_name":"abstractKarshit"},"score":0,"creation_date":1652378157,"post_id":69923915,"comment_id":127597869,"body_markdown":"I think this should be accepted as the correct answer here.\nSimple and straightforward.","body":"I think this should be accepted as the correct answer here. Simple and straightforward."}],"tags":[],"owner":{"account_id":13625546,"reputation":398,"user_id":9828935,"display_name":"Velmurugan A"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1636611174,"creation_date":1636611174,"answer_id":69923915,"question_id":64309290,"body_markdown":"you can add below code:\r\n\r\n    @Retryable( value = SQLException.class, \r\n          maxAttempts = 5, backoff = @Backoff(delay = 100))\r\n    void testMethod(String abc) throws SQLException{\r\n    log.info(&quot;Retry Number : {}&quot;,RetrySynchronizationManager.getContext().getRetryCount());\r\n    };\r\n\r\nRetrySynchronizationManager.getContext().getRetryCount() will give you the retry count on flow.","title":"Print retry count with @Retryable","body":"<p>you can add below code:</p>\n<pre><code>@Retryable( value = SQLException.class, \n      maxAttempts = 5, backoff = @Backoff(delay = 100))\nvoid testMethod(String abc) throws SQLException{\nlog.info(&quot;Retry Number : {}&quot;,RetrySynchronizationManager.getContext().getRetryCount());\n};\n</code></pre>\n<p>RetrySynchronizationManager.getContext().getRetryCount() will give you the retry count on flow.</p>\n"}],"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12650,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":69923915,"answer_count":2,"score":15,"last_activity_date":1701866779,"creation_date":1602452418,"question_id":64309290,"body_markdown":"I am using @Retryable on a method like this :-\r\n```\r\n@Retryable( value = SQLException.class, \r\n      maxAttempts = 5, backoff = @Backoff(delay = 100))\r\nvoid testMethod(String abc) throws SQLException{\r\n//some method body that could throw sql exception\r\n};\r\n```\r\n\r\nAnd i want to print the count of retry , with a message like :\r\n```\r\nRetry Number : 1\r\nRetry Number : 2\r\n...\r\nRetry Number : 5\r\n```\r\n\r\nHow can i achieve this ?","title":"Print retry count with @Retryable","body":"<p>I am using @Retryable on a method like this :-</p>\n<pre><code>@Retryable( value = SQLException.class, \n      maxAttempts = 5, backoff = @Backoff(delay = 100))\nvoid testMethod(String abc) throws SQLException{\n//some method body that could throw sql exception\n};\n</code></pre>\n<p>And i want to print the count of retry , with a message like :</p>\n<pre><code>Retry Number : 1\nRetry Number : 2\n...\nRetry Number : 5\n</code></pre>\n<p>How can i achieve this ?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701702503,"post_id":77598826,"comment_id":136805244,"body_markdown":"Turn on SQL logging to see the SQL generated by JPA (Hibernate?). From the mappings, the Teacher.students relationship is marked as Lazy, so you may need to fetch the relationship before you pass it up the stack to be serialized to JSON. This might be as simple iterating over the Set&lt;Teacher&gt; collection and touching each StudentTeacherRelation&#39;s Student.","body":"Turn on SQL logging to see the SQL generated by JPA (Hibernate?). From the mappings, the Teacher.students relationship is marked as Lazy, so you may need to fetch the relationship before you pass it up the stack to be serialized to JSON. This might be as simple iterating over the Set&lt;Teacher&gt; collection and touching each StudentTeacherRelation&#39;s Student."}],"answers":[{"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701702611,"post_id":77598892,"comment_id":136805266,"body_markdown":"This could be mapped as a M:M, but mapping the relational table as an Entity is a valid representation of the data, and quite common when other values exist in the relation.","body":"This could be mapped as a M:M, but mapping the relational table as an Entity is a valid representation of the data, and quite common when other values exist in the relation."},{"owner":{"account_id":30061562,"reputation":11,"user_id":23037568,"display_name":"Sicu Bogdan Andrei"},"score":0,"creation_date":1701775153,"post_id":77598892,"comment_id":136814703,"body_markdown":"There are 2 ways of mapping the ManyToMany relation with JPA and this one is used when adding more columns to the join table. I know this example doesn&#39;t have more columns, but I want to know what&#39;s the problem here because it should work (at least it worked back at javax) and because it is a common way for adding additional columns in the join table.","body":"There are 2 ways of mapping the ManyToMany relation with JPA and this one is used when adding more columns to the join table. I know this example doesn&#39;t have more columns, but I want to know what&#39;s the problem here because it should work (at least it worked back at javax) and because it is a common way for adding additional columns in the join table."}],"tags":[],"owner":{"account_id":4078523,"reputation":806,"user_id":3349517,"accept_rate":53,"display_name":"Kousick Shanmugam Nagaraj"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701687477,"creation_date":1701687477,"answer_id":77598892,"question_id":77598826,"body_markdown":"You are creating the realtion tables on your own, and setting them as the ManyToMany mapping relation. \r\nThe overall mapping is wrong - Please refer to- https://www.baeldung.com/jpa-many-to-many . Follow the example, should be helpful.","title":"Spring Boot Jpa jakarta not fetching ManyToMany data","body":"<p>You are creating the realtion tables on your own, and setting them as the ManyToMany mapping relation.\nThe overall mapping is wrong - Please refer to- <a href=\"https://www.baeldung.com/jpa-many-to-many\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-many-to-many</a> . Follow the example, should be helpful.</p>\n"},{"comments":[{"owner":{"account_id":30061562,"reputation":11,"user_id":23037568,"display_name":"Sicu Bogdan Andrei"},"score":1,"creation_date":1701774934,"post_id":77602238,"comment_id":136814677,"body_markdown":"I tried the EAGER fetching as well and it doesn&#39;t work. As for DTOs and JSON, that&#39;s not the problem, at least not yet, as the data is not even taken from the db. When I try to debug the app and to see what the repo brings from the db there is no student fetched in the student HashSet from teachers. \nDo you have any other suggestion that might help? I&#39;m still trying to find the reason of why it doesn&#39;t work the way it should (or at least the way it worked with javax).","body":"I tried the EAGER fetching as well and it doesn&#39;t work. As for DTOs and JSON, that&#39;s not the problem, at least not yet, as the data is not even taken from the db. When I try to debug the app and to see what the repo brings from the db there is no student fetched in the student HashSet from teachers.  Do you have any other suggestion that might help? I&#39;m still trying to find the reason of why it doesn&#39;t work the way it should (or at least the way it worked with javax)."},{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1701796543,"post_id":77602238,"comment_id":136818763,"body_markdown":"Check my new post @[Sicu Bogdan Andrei](https://stackoverflow.com/users/23037568/sicu-bogdan-andrei)","body":"Check my new post @<a href=\"https://stackoverflow.com/users/23037568/sicu-bogdan-andrei\">Sicu Bogdan Andrei</a>"}],"tags":[],"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701719774,"creation_date":1701719774,"answer_id":77602238,"question_id":77598826,"body_markdown":"The approach you&#39;ve described is a common way to handle many-to-many relationships in Java with Spring and JPA. However, there are a few potential issues and improvements to consider:\r\n\r\n 1. **Lazy Loading vs Eager Loading:** Your use of `FetchType.LAZY` in the `@OneToMany` relationships in the `Teacher` and `Student` entities is a standard practice to enhance performance. However, it also means that the related entities are not loaded until they are explicitly accessed in your code. This is likely why the students&#39; data is not being retrieved when you fetch the teachers. If you need to load the related entities immediately, you can switch to `FetchType.EAGER`. But, be cautious with eager loading as it can lead to performance issues, especially if you have large datasets or complex entity graphs.\r\n\r\n2. **Jackson Serialization and Lazy Loading:** In a typical Spring Boot application, Jackson is used to serialize entities to JSON. With lazy loading, Jackson may encounter issues serializing these entities because the lazily-loaded collections are not initialized at serialization time. To resolve this, you can either initialize these collections manually before serialization or use Hibernate&#39;s `@JsonIgnoreProperties` annotation to ignore them. However, a better approach might be to use Data Transfer Objects (DTOs). DTOs allow you to selectively send the data you need over the network, avoiding issues related to lazy loading and also adding an extra layer of abstraction between your internal data model and what you expose to the users.\r\n\r\n3. **Using DTOs:** Directly exposing entities can lead to several issues, including the aforementioned lazy loading problem. DTOs are a pattern where you create separate classes specifically for data transfer purposes. These classes can be tailored to the exact data requirements of your API consumers, avoiding the need to send unnecessary data and helping to decouple your API layer from your database model. By using DTOs, you can manually load the necessary data into the DTOs, effectively bypassing the problems associated with lazy loading and Jackson serialization.\r\n\r\n### Conclusion\r\n\r\nIn summary, while lazy loading is beneficial for performance, it can complicate serialization and data retrieval in APIs. Using DTOs offers a way to circumvent these issues, providing more control over the data exposed through your API and potentially improving application performance and maintainability.","title":"Spring Boot Jpa jakarta not fetching ManyToMany data","body":"<p>The approach you've described is a common way to handle many-to-many relationships in Java with Spring and JPA. However, there are a few potential issues and improvements to consider:</p>\n<ol>\n<li><p><strong>Lazy Loading vs Eager Loading:</strong> Your use of <code>FetchType.LAZY</code> in the <code>@OneToMany</code> relationships in the <code>Teacher</code> and <code>Student</code> entities is a standard practice to enhance performance. However, it also means that the related entities are not loaded until they are explicitly accessed in your code. This is likely why the students' data is not being retrieved when you fetch the teachers. If you need to load the related entities immediately, you can switch to <code>FetchType.EAGER</code>. But, be cautious with eager loading as it can lead to performance issues, especially if you have large datasets or complex entity graphs.</p>\n</li>\n<li><p><strong>Jackson Serialization and Lazy Loading:</strong> In a typical Spring Boot application, Jackson is used to serialize entities to JSON. With lazy loading, Jackson may encounter issues serializing these entities because the lazily-loaded collections are not initialized at serialization time. To resolve this, you can either initialize these collections manually before serialization or use Hibernate's <code>@JsonIgnoreProperties</code> annotation to ignore them. However, a better approach might be to use Data Transfer Objects (DTOs). DTOs allow you to selectively send the data you need over the network, avoiding issues related to lazy loading and also adding an extra layer of abstraction between your internal data model and what you expose to the users.</p>\n</li>\n<li><p><strong>Using DTOs:</strong> Directly exposing entities can lead to several issues, including the aforementioned lazy loading problem. DTOs are a pattern where you create separate classes specifically for data transfer purposes. These classes can be tailored to the exact data requirements of your API consumers, avoiding the need to send unnecessary data and helping to decouple your API layer from your database model. By using DTOs, you can manually load the necessary data into the DTOs, effectively bypassing the problems associated with lazy loading and Jackson serialization.</p>\n</li>\n</ol>\n<h3>Conclusion</h3>\n<p>In summary, while lazy loading is beneficial for performance, it can complicate serialization and data retrieval in APIs. Using DTOs offers a way to circumvent these issues, providing more control over the data exposed through your API and potentially improving application performance and maintainability.</p>\n"},{"comments":[{"owner":{"account_id":30061562,"reputation":11,"user_id":23037568,"display_name":"Sicu Bogdan Andrei"},"score":0,"creation_date":1701865973,"post_id":77608055,"comment_id":136827553,"body_markdown":"Thank you for this solution. I would like to also know what can I do if I need to add additional columns to the join table? That&#39;s mainly why I want to know what&#39;s the problem with the above example.","body":"Thank you for this solution. I would like to also know what can I do if I need to add additional columns to the join table? That&#39;s mainly why I want to know what&#39;s the problem with the above example."}],"tags":[],"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701796420,"creation_date":1701796420,"answer_id":77608055,"question_id":77598826,"body_markdown":"### Your code\r\n\r\nIn the original code, the many-to-many relationship between `Teacher` and `Student` was managed through an intermediate entity `StudentTeacherRelation`. This approach involved a composite key (`StudentTeacherKey`) to handle the relationship. Each `Teacher` and `Student` entity had a `Set` of `StudentTeacherRelation` to represent the association.\r\n\r\n### Issues with your code\r\n\r\n- **Complexity:** The use of an intermediate entity with a composite key added complexity to the relationship management.\r\n\r\n- **Lazy Loading:** The `LAZY` fetch type in the relationship meant that related entities were not loaded unless explicitly accessed, leading to issues in data retrieval.\r\n\r\n- **Data Retrieval:** It seemed that the students associated with a teacher were not being retrieved from the database, possibly due to misconfiguration or issues with lazy loading.\r\n\r\n### My code (at the end of this post)\r\n\r\nThe refactored code uses a direct `@ManyToMany` annotation in the `Teacher` and `Student` entities, eliminating the need for the intermediate `StudentTeacherRelation` entity.\r\n\r\n### Changes I made\r\n\r\n- **Direct Many-to-Many Mapping:** Used `@ManyToMany` along with `@JoinTable` in both `Teacher` and `Student` entities. This directly maps the two entities, simplifying the relationship.\r\n\r\n- **Removal of Intermediate Entity:** The `StudentTeacherRelation` entity and `StudentTeacherKey` are removed, reducing complexity and potential sources of error.\r\n\r\n- **Transactional Annotation:** Added `@Transactional(readOnly = true)` to the service method to ensure proper handling of transactions, especially important for lazy loading of entities.\r\n\r\n### Why these changes?\r\n\r\n- **Simplification:** The direct many-to-many mapping is a more straightforward and conventional way to handle such relationships in JPA. It reduces complexity and aligns with standard practices.\r\n\r\n- **Improved Readability and Maintenance:** Removing the intermediate entity and composite key makes the code easier to understand and maintain.\r\n\r\n- **Potential Resolution of Lazy Loading Issues:** By restructuring the relationships and ensuring proper transactional boundaries, the issues related to lazy loading and data retrieval might be resolved.\r\n\r\n### Summary\r\n\r\nThe refactored code aims to provide a cleaner, more maintainable, and potentially more functional approach to managing a many-to-many relationship in a Spring Boot application with JPA. It simplifies the relationship mapping and aligns with common JPA practices, potentially resolving issues encountered with the initial complex setup.\r\n\r\n&lt;hr&gt;\r\n\r\n### Teacher.java\r\n```Java\r\n@Entity\r\n@Table(name = &quot;TEACHERS&quot;)\r\n@Data\r\npublic class Teacher {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @Column(name = &quot;teacher_id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;STUDENT_TEACHER&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;teacher_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\r\n    )\r\n    private Set&lt;Student&gt; students = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n### Student.java\r\n```Java\r\n@Entity\r\n@Table(name = &quot;STUDENTS&quot;)\r\n@Data\r\npublic class Student {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;student_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;students&quot;)\r\n    private Set&lt;Teacher&gt; teachers = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n### StudentRepo.java\r\n```Java\r\npublic interface StudentRepo extends JpaRepository&lt;Student, Long&gt; {}\r\n```\r\n\r\n### TeacherRepo.java\r\n```Java\r\npublic interface TeacherRepo extends JpaRepository&lt;Teacher, UUID&gt; {}\r\n```\r\n\r\n### TeacherService.java\r\n```Java\r\npublic interface TeacherService {\r\n    public Set&lt;Teacher&gt; getAllTeachers();\r\n}\r\n```\r\n\r\n### TeacherServiceImpl.java\r\n```Java\r\n@Service\r\npublic class TeacherServiceImpl implements TeacherService {\r\n\r\n    private final TeacherRepo teacherRepo;\r\n\r\n    @Autowired\r\n    public TeacherServiceImpl(TeacherRepo teacherRepo) {\r\n        this.teacherRepo = teacherRepo;\r\n    }\r\n\r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public Set&lt;Teacher&gt; getAllTeachers() {\r\n        return new HashSet&lt;&gt;(teacherRepo.findAll());\r\n    }\r\n}\r\n```\r\n\r\n### TeacherController.java\r\n```Java\r\n@RestController\r\n@RequestMapping(path = &quot;/teacher&quot;)\r\npublic class TeacherController {\r\n\r\n    private final TeacherService teacherService;\r\n\r\n    @Autowired\r\n    public TeacherController(TeacherService teacherService) {\r\n        this.teacherService = teacherService;\r\n    }\r\n\r\n    @GetMapping()\r\n    public Set&lt;Teacher&gt; getAllTeachers() {\r\n        return teacherService.getAllTeachers();\r\n    }\r\n}\r\n```\r\n\r\nPS: `@Data` is from [Lombok][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.projectlombok/lombok","title":"Spring Boot Jpa jakarta not fetching ManyToMany data","body":"<h3>Your code</h3>\n<p>In the original code, the many-to-many relationship between <code>Teacher</code> and <code>Student</code> was managed through an intermediate entity <code>StudentTeacherRelation</code>. This approach involved a composite key (<code>StudentTeacherKey</code>) to handle the relationship. Each <code>Teacher</code> and <code>Student</code> entity had a <code>Set</code> of <code>StudentTeacherRelation</code> to represent the association.</p>\n<h3>Issues with your code</h3>\n<ul>\n<li><p><strong>Complexity:</strong> The use of an intermediate entity with a composite key added complexity to the relationship management.</p>\n</li>\n<li><p><strong>Lazy Loading:</strong> The <code>LAZY</code> fetch type in the relationship meant that related entities were not loaded unless explicitly accessed, leading to issues in data retrieval.</p>\n</li>\n<li><p><strong>Data Retrieval:</strong> It seemed that the students associated with a teacher were not being retrieved from the database, possibly due to misconfiguration or issues with lazy loading.</p>\n</li>\n</ul>\n<h3>My code (at the end of this post)</h3>\n<p>The refactored code uses a direct <code>@ManyToMany</code> annotation in the <code>Teacher</code> and <code>Student</code> entities, eliminating the need for the intermediate <code>StudentTeacherRelation</code> entity.</p>\n<h3>Changes I made</h3>\n<ul>\n<li><p><strong>Direct Many-to-Many Mapping:</strong> Used <code>@ManyToMany</code> along with <code>@JoinTable</code> in both <code>Teacher</code> and <code>Student</code> entities. This directly maps the two entities, simplifying the relationship.</p>\n</li>\n<li><p><strong>Removal of Intermediate Entity:</strong> The <code>StudentTeacherRelation</code> entity and <code>StudentTeacherKey</code> are removed, reducing complexity and potential sources of error.</p>\n</li>\n<li><p><strong>Transactional Annotation:</strong> Added <code>@Transactional(readOnly = true)</code> to the service method to ensure proper handling of transactions, especially important for lazy loading of entities.</p>\n</li>\n</ul>\n<h3>Why these changes?</h3>\n<ul>\n<li><p><strong>Simplification:</strong> The direct many-to-many mapping is a more straightforward and conventional way to handle such relationships in JPA. It reduces complexity and aligns with standard practices.</p>\n</li>\n<li><p><strong>Improved Readability and Maintenance:</strong> Removing the intermediate entity and composite key makes the code easier to understand and maintain.</p>\n</li>\n<li><p><strong>Potential Resolution of Lazy Loading Issues:</strong> By restructuring the relationships and ensuring proper transactional boundaries, the issues related to lazy loading and data retrieval might be resolved.</p>\n</li>\n</ul>\n<h3>Summary</h3>\n<p>The refactored code aims to provide a cleaner, more maintainable, and potentially more functional approach to managing a many-to-many relationship in a Spring Boot application with JPA. It simplifies the relationship mapping and aligns with common JPA practices, potentially resolving issues encountered with the initial complex setup.</p>\n<hr>\n<h3>Teacher.java</h3>\n<pre><code>@Entity\n@Table(name = &quot;TEACHERS&quot;)\n@Data\npublic class Teacher {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Column(name = &quot;teacher_id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToMany\n    @JoinTable(\n        name = &quot;STUDENT_TEACHER&quot;,\n        joinColumns = @JoinColumn(name = &quot;teacher_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\n    )\n    private Set&lt;Student&gt; students = new HashSet&lt;&gt;();\n}\n</code></pre>\n<h3>Student.java</h3>\n<pre><code>@Entity\n@Table(name = &quot;STUDENTS&quot;)\n@Data\npublic class Student {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;student_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;students&quot;)\n    private Set&lt;Teacher&gt; teachers = new HashSet&lt;&gt;();\n}\n</code></pre>\n<h3>StudentRepo.java</h3>\n<pre><code>public interface StudentRepo extends JpaRepository&lt;Student, Long&gt; {}\n</code></pre>\n<h3>TeacherRepo.java</h3>\n<pre><code>public interface TeacherRepo extends JpaRepository&lt;Teacher, UUID&gt; {}\n</code></pre>\n<h3>TeacherService.java</h3>\n<pre><code>public interface TeacherService {\n    public Set&lt;Teacher&gt; getAllTeachers();\n}\n</code></pre>\n<h3>TeacherServiceImpl.java</h3>\n<pre><code>@Service\npublic class TeacherServiceImpl implements TeacherService {\n\n    private final TeacherRepo teacherRepo;\n\n    @Autowired\n    public TeacherServiceImpl(TeacherRepo teacherRepo) {\n        this.teacherRepo = teacherRepo;\n    }\n\n    @Override\n    @Transactional(readOnly = true)\n    public Set&lt;Teacher&gt; getAllTeachers() {\n        return new HashSet&lt;&gt;(teacherRepo.findAll());\n    }\n}\n</code></pre>\n<h3>TeacherController.java</h3>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/teacher&quot;)\npublic class TeacherController {\n\n    private final TeacherService teacherService;\n\n    @Autowired\n    public TeacherController(TeacherService teacherService) {\n        this.teacherService = teacherService;\n    }\n\n    @GetMapping()\n    public Set&lt;Teacher&gt; getAllTeachers() {\n        return teacherService.getAllTeachers();\n    }\n}\n</code></pre>\n<p>PS: <code>@Data</code> is from <a href=\"https://mvnrepository.com/artifact/org.projectlombok/lombok\" rel=\"nofollow noreferrer\">Lombok</a></p>\n"}],"owner":{"account_id":30061562,"reputation":11,"user_id":23037568,"display_name":"Sicu Bogdan Andrei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1701866684,"creation_date":1701686884,"question_id":77598826,"body_markdown":"I have a problem that I tried to isolate and I still don&#39;t get what&#39;s wrong. \r\nI have 2 classes (entities) -&gt; Teacher and Student and the table for the many to many relation (StudentTeacherRelation) with @EmbeddableId.\r\n\r\nThe problem is that when I retrieve a collection of teachers from the db, it doesn&#39;t retrieve the students data that are linked with that teacher (the many to many relation). Back with javax.persistence it worked, but now that I&#39;m using jakarta.persistence it doesn&#39;t work that way and I want to know why.\r\n\r\nAs for dependencies, I have Spring Web, Spring Data JPA, Lombok and PostgreSQL Driver\r\n\r\nThe code:\r\n\r\n--------------------------- Models ----------------------------\r\n```\r\n@Embeddable\r\n@Data\r\npublic class StudentTeacherKey implements Serializable {\r\n\r\n    @Column(name = &quot;teacher_id&quot;)\r\n    private UUID teacher_id;\r\n\r\n    @Column(name = &quot;student_id&quot;)\r\n    private Long student_id;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;STUDENT_TEACHER&quot;)\r\n@Data\r\npublic class StudentTeacherRelation {\r\n\r\n    @JsonIgnore\r\n    @EmbeddedId\r\n    private StudentTeacherKey id;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @MapsId(&quot;student_id&quot;)\r\n    @JoinColumn(name = &quot;student_id&quot;)\r\n    private Student student;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @MapsId(&quot;teacher_id&quot;)\r\n    @JoinColumn(name = &quot;teacher_id&quot;)\r\n    private Teacher teacher;\r\n\r\n    @Column(name = &quot;extra_column&quot;)\r\n    private String extraColumn;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;TEACHERS&quot;)\r\npublic class Teacher {\r\n\r\n    @Id\r\n    @Column(name = &quot;teacher_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID teacher_id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;teacher&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private Set&lt;StudentTeacherRelation&gt; students = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;STUDENTS&quot;)\r\npublic class Student {\r\n\r\n    @Id\r\n    @Column(name = &quot;student_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long student_id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;student&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private Set&lt;StudentTeacherRelation&gt; teacher = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n--------------------------- Repo ----------------------------\r\n\r\n```\r\npublic interface TeacherRepo extends JpaRepository&lt;Teacher, UUID&gt; {\r\n}\r\n\r\n```\r\n```\r\npublic interface StudentRepo extends JpaRepository&lt;Student, Long&gt; {\r\n}\r\n```\r\n\r\n\r\n--------------------------Service-------------------------------\r\n```\r\npublic interface TeacherService {\r\n    public Set&lt;Teacher&gt; getAllTeachers();\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class TeacherServiceImpl implements TeacherService{\r\n\r\n    private final TeacherRepo teacherRepo;\r\n\r\n    @Autowired\r\n    public TeacherServiceImpl(TeacherRepo teacherRepo) {\r\n        this.teacherRepo = teacherRepo;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Teacher&gt; getAllTeachers() {\r\n        return new HashSet&lt;&gt;(teacherRepo.findAll());\r\n    }\r\n}\r\n\r\n```\r\n------------------------------Controller--------------------------------\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;/teacher&quot;)\r\npublic class TeacherController {\r\n\r\n    private final TeacherService teacherService;\r\n\r\n    @Autowired\r\n    public TeacherController(TeacherService teacherService) {\r\n        this.teacherService = teacherService;\r\n    }\r\n\r\n    @GetMapping()\r\n    public Set&lt;Teacher&gt; getAllTeachers() {\r\n        return teacherService.getAllTeachers();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThis is what I got\r\n\r\n&gt; [\r\n&gt;     {\r\n&gt;         &quot;teacher_id&quot;: &quot;467f4868-928e-11ee-b9d1-0242ac120002&quot;,\r\n&gt;         &quot;name&quot;: &quot;Teacher&quot;,\r\n&gt;         &quot;students&quot;: []\r\n&gt;     } ]\r\n\r\nI should&#39;ve got the students that are linked to each teacher as well.\r\n\r\nI updates the example to be more clear why I want this kind of method -&gt; having extra columns in the join table.","title":"Spring Boot Jpa jakarta not fetching ManyToMany data","body":"<p>I have a problem that I tried to isolate and I still don't get what's wrong.\nI have 2 classes (entities) -&gt; Teacher and Student and the table for the many to many relation (StudentTeacherRelation) with @EmbeddableId.</p>\n<p>The problem is that when I retrieve a collection of teachers from the db, it doesn't retrieve the students data that are linked with that teacher (the many to many relation). Back with javax.persistence it worked, but now that I'm using jakarta.persistence it doesn't work that way and I want to know why.</p>\n<p>As for dependencies, I have Spring Web, Spring Data JPA, Lombok and PostgreSQL Driver</p>\n<p>The code:</p>\n<p>--------------------------- Models ----------------------------</p>\n<pre><code>@Embeddable\n@Data\npublic class StudentTeacherKey implements Serializable {\n\n    @Column(name = &quot;teacher_id&quot;)\n    private UUID teacher_id;\n\n    @Column(name = &quot;student_id&quot;)\n    private Long student_id;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;STUDENT_TEACHER&quot;)\n@Data\npublic class StudentTeacherRelation {\n\n    @JsonIgnore\n    @EmbeddedId\n    private StudentTeacherKey id;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @MapsId(&quot;student_id&quot;)\n    @JoinColumn(name = &quot;student_id&quot;)\n    private Student student;\n\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.EAGER)\n    @MapsId(&quot;teacher_id&quot;)\n    @JoinColumn(name = &quot;teacher_id&quot;)\n    private Teacher teacher;\n\n    @Column(name = &quot;extra_column&quot;)\n    private String extraColumn;\n\n}\n</code></pre>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;TEACHERS&quot;)\npublic class Teacher {\n\n    @Id\n    @Column(name = &quot;teacher_id&quot;)\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID teacher_id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;teacher&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private Set&lt;StudentTeacherRelation&gt; students = new HashSet&lt;&gt;();\n}\n</code></pre>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;STUDENTS&quot;)\npublic class Student {\n\n    @Id\n    @Column(name = &quot;student_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long student_id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;student&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private Set&lt;StudentTeacherRelation&gt; teacher = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>--------------------------- Repo ----------------------------</p>\n<pre><code>public interface TeacherRepo extends JpaRepository&lt;Teacher, UUID&gt; {\n}\n\n</code></pre>\n<pre><code>public interface StudentRepo extends JpaRepository&lt;Student, Long&gt; {\n}\n</code></pre>\n<p>--------------------------Service-------------------------------</p>\n<pre><code>public interface TeacherService {\n    public Set&lt;Teacher&gt; getAllTeachers();\n}\n</code></pre>\n<pre><code>@Service\npublic class TeacherServiceImpl implements TeacherService{\n\n    private final TeacherRepo teacherRepo;\n\n    @Autowired\n    public TeacherServiceImpl(TeacherRepo teacherRepo) {\n        this.teacherRepo = teacherRepo;\n    }\n\n    @Override\n    public Set&lt;Teacher&gt; getAllTeachers() {\n        return new HashSet&lt;&gt;(teacherRepo.findAll());\n    }\n}\n\n</code></pre>\n<p>------------------------------Controller--------------------------------</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/teacher&quot;)\npublic class TeacherController {\n\n    private final TeacherService teacherService;\n\n    @Autowired\n    public TeacherController(TeacherService teacherService) {\n        this.teacherService = teacherService;\n    }\n\n    @GetMapping()\n    public Set&lt;Teacher&gt; getAllTeachers() {\n        return teacherService.getAllTeachers();\n    }\n}\n\n</code></pre>\n<p>This is what I got</p>\n<blockquote>\n<p>[\n{\n&quot;teacher_id&quot;: &quot;467f4868-928e-11ee-b9d1-0242ac120002&quot;,\n&quot;name&quot;: &quot;Teacher&quot;,\n&quot;students&quot;: []\n} ]</p>\n</blockquote>\n<p>I should've got the students that are linked to each teacher as well.</p>\n<p>I updates the example to be more clear why I want this kind of method -&gt; having extra columns in the join table.</p>\n"},{"tags":["java","sql","spring-boot","view"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1629806739,"post_id":68907184,"comment_id":121779527,"body_markdown":"Skip the subquery, do a LEFT JOIN instead. (As it is now you&#39;ll get an error if a customer has more than one order.)","body":"Skip the subquery, do a LEFT JOIN instead. (As it is now you&#39;ll get an error if a customer has more than one order.)"},{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1629807400,"post_id":68907184,"comment_id":121779799,"body_markdown":"Sorry for the confusion. Actually it&#39;s about another entity but I didn&#39;t want to publish it. So I just created a case study. It is really only a 1 to 1 relationship to be established.","body":"Sorry for the confusion. Actually it&#39;s about another entity but I didn&#39;t want to publish it. So I just created a case study. It is really only a 1 to 1 relationship to be established."}],"answers":[{"tags":[],"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1629811111,"creation_date":1629811111,"answer_id":68908349,"question_id":68907184,"body_markdown":"Here are some examples for referencing views using spring boot:  \r\n[JPA/SpringBoot Repository for database view (not table)][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53508168/jpa-springboot-repository-for-database-view-not-table","title":"How can I reference a view in the entity? (Spring Boot)","body":"<p>Here are some examples for referencing views using spring boot:<br />\n<a href=\"https://stackoverflow.com/questions/53508168/jpa-springboot-repository-for-database-view-not-table\">JPA/SpringBoot Repository for database view (not table)</a></p>\n"},{"tags":[],"owner":{"account_id":21222548,"reputation":51,"user_id":15608788,"display_name":"Javad Mahdiyoun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701866557,"creation_date":1701866557,"answer_id":77613140,"question_id":68907184,"body_markdown":"The answer to your question is something like this\r\n\r\n```java\r\n\r\n@Getter\r\n@Entity\r\n@Immutable\r\n@Table(name = CustomerInformation.VIEW_NAME)\r\n@Subselect(CustomerInformation.QUERY)\r\npublic class CustomerInformation implements Serializable {\r\n\r\n    @Serial\r\n    private static final long serialVersionUID = -5285590166874166801L;\r\n\r\n    public static final String VIEW_NAME = &quot;V_CUSTOMER_INFORMATION&quot;;\r\n    public static final String QUERY = &quot;SELECT * FROM &quot; + VIEW_NAME;\r\n\r\n    @Id\r\n    @Column(insertable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n}\r\n```\r\n \r\n","title":"How can I reference a view in the entity? (Spring Boot)","body":"<p>The answer to your question is something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Getter\n@Entity\n@Immutable\n@Table(name = CustomerInformation.VIEW_NAME)\n@Subselect(CustomerInformation.QUERY)\npublic class CustomerInformation implements Serializable {\n\n    @Serial\n    private static final long serialVersionUID = -5285590166874166801L;\n\n    public static final String VIEW_NAME = &quot;V_CUSTOMER_INFORMATION&quot;;\n    public static final String QUERY = &quot;SELECT * FROM &quot; + VIEW_NAME;\n\n    @Id\n    @Column(insertable = false)\n    private Long id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n}\n</code></pre>\n"}],"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68908349,"answer_count":2,"score":1,"last_activity_date":1701866557,"creation_date":1629806335,"question_id":68907184,"body_markdown":"I have a question. Of course, I have previously looked on the Internet and searched for the solution. Unfortunately, I have not found a solution. \r\n\r\nI have a Spring Boot application that processes the information from customers. But this application should not point to a table as usual but to a view that requests information from two tables. How do I have to modify my entity to refenence to the view? \r\n\r\n\r\nMy View\r\n\r\n    CREATE VIEW customers_view\r\n\tSELECT\r\n\t\tcustomer_id, firstname, lastname,\r\n        (SELECT ordernumber FROM orders\r\n         WHERE orders.customer_id = custoumer.id\r\n\t\t ORDER BY customer_id DESC)\r\n\tFROM customers\r\n\r\n\r\nMy Entity\r\n``` \r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CustomerInformation {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @EqualsAndHashCode.Exclude\r\n    private Long id;\r\n\r\n    @Column(name = &quot;customer_id&quot;)\r\n    private Long customer_id;\r\n\r\n    @Column(name = &quot;firstname&quot;)\r\n    private String firstname;\r\n\r\n    @Column(name = &quot;lastname&quot;)\r\n    private String firstname;\r\n    \r\n    @Column(name = &quot;ordernumber&quot;)\r\n    private String firstname; \r\n}\r\n``` ","title":"How can I reference a view in the entity? (Spring Boot)","body":"<p>I have a question. Of course, I have previously looked on the Internet and searched for the solution. Unfortunately, I have not found a solution.</p>\n<p>I have a Spring Boot application that processes the information from customers. But this application should not point to a table as usual but to a view that requests information from two tables. How do I have to modify my entity to refenence to the view?</p>\n<p>My View</p>\n<pre><code>CREATE VIEW customers_view\nSELECT\n    customer_id, firstname, lastname,\n    (SELECT ordernumber FROM orders\n     WHERE orders.customer_id = custoumer.id\n     ORDER BY customer_id DESC)\nFROM customers\n</code></pre>\n<p>My Entity</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CustomerInformation {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @EqualsAndHashCode.Exclude\n    private Long id;\n\n    @Column(name = &quot;customer_id&quot;)\n    private Long customer_id;\n\n    @Column(name = &quot;firstname&quot;)\n    private String firstname;\n\n    @Column(name = &quot;lastname&quot;)\n    private String firstname;\n    \n    @Column(name = &quot;ordernumber&quot;)\n    private String firstname; \n}\n</code></pre>\n"},{"tags":["java","android","permissions","android-bluetooth"],"answers":[{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701866128,"creation_date":1701866128,"answer_id":77613093,"question_id":77585263,"body_markdown":"Make sure that you are checking for Bluetooth permissions at the right places in your code. It&#39;s good that you are checking permissions in the onCreate method of the LoginActivity. Also, instead of requesting all Bluetooth permissions at once, consider requesting them dynamically as needed. This allows you to figure out which permission is causing the issue. Finally, test your app on different Android versions, including Android 12, to see if the issue is specific to Android 13. This can help identify whether the problem is related to changes in Android 13 or if it&#39;s a broader compatibility issue.","title":"Android 13 Need android.permission.BLUETOOTH_CONNECT when device already connected to Bluetooth Headset","body":"<p>Make sure that you are checking for Bluetooth permissions at the right places in your code. It's good that you are checking permissions in the onCreate method of the LoginActivity. Also, instead of requesting all Bluetooth permissions at once, consider requesting them dynamically as needed. This allows you to figure out which permission is causing the issue. Finally, test your app on different Android versions, including Android 12, to see if the issue is specific to Android 13. This can help identify whether the problem is related to changes in Android 13 or if it's a broader compatibility issue.</p>\n"}],"owner":{"account_id":13951152,"reputation":135,"user_id":10074628,"display_name":"DealZg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701866128,"creation_date":1701433577,"question_id":77585263,"body_markdown":"iam using Android 13 sdk 33.\r\nMy app is using bluetooth headset.\r\nI got the SecurityException only when iam using Android 13 and i start the application while the device is already connected to the Headset.\r\nWhen i start the application and after i connect the bluetooth Headset there is not Exception. So only when i start the app while its connecting. These permissions are\r\nin the manifest file. I also tried it with **android:maxSdkVersion=&quot;30&quot;** but its still not working.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;  /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;  /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;\r\n        android:usesPermissionFlags=&quot;neverForLocation&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\r\n\r\nThis is the build.gradle \r\n\r\n    compileSdkVersion 33\r\n    buildToolsVersion &#39;30.0.0&#39;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.my.app&quot;\r\n        minSdkVersion 22\r\n        targetSdkVersion 33\r\n        versionCode 44\r\n        versionName &quot;@string/app_version&quot;\r\n        multiDexEnabled true\r\n    }\r\n\r\nHere are my runtime permissions. I ask for them in the onCreate method of the LoginActivity.\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\r\n    private static final String[] PERMISSIONS_BLUETOOTH_33 = {\r\n            Manifest.permission.BLUETOOTH_SCAN,\r\n            Manifest.permission.BLUETOOTH_CONNECT,\r\n            Manifest.permission.ACCESS_FINE_LOCATION\r\n    };\r\n\r\n   \r\n    private static final String[] PERMISSIONS_BLUETOOTH = {\r\n            Manifest.permission.BLUETOOTH_SCAN,\r\n            Manifest.permission.BLUETOOTH_CONNECT,\r\n            Manifest.permission.BLUETOOTH,\r\n            Manifest.permission.BLUETOOTH_ADVERTISE,\r\n            Manifest.permission.BLUETOOTH_ADMIN\r\n    };\r\n    \r\n    private String [] getBluetoothPermissions() {\r\n        if(Build.VERSION_CODES.TIRAMISU &lt;= Build.VERSION.SDK_INT) {\r\n            return PERMISSIONS_BLUETOOTH_33;\r\n        }\r\n        return PERMISSIONS_BLUETOOTH;\r\n    }\r\n    \r\n    private void checkPermissions(){\r\n        \r\n        int permission2 = ActivityCompat.checkSelfPermission(this, \r\n                          Manifest.permission.BLUETOOTH_SCAN);\r\n        int permission3 = ActivityCompat.checkSelfPermission(this, \r\n                          Manifest.permission.BLUETOOTH_CONNECT);\r\n        if (permission2 != PackageManager.PERMISSION_GRANTED &amp;&amp; permission3 != \r\n                   PackageManager.PERMISSION_GRANTED){\r\n            \r\n            ActivityCompat.requestPermissions(\r\n                    this,\r\n                    getBluetoothPermissions(),\r\n                    1\r\n            );\r\n        }\r\n    }\r\n\r\n\r\nThis is only with Android 13. I did not try Android 12.\r\nWhen i use a lower version of Android like Android 11 or Android 10 i can start my app while iam connected to Bluetooth headset.\r\n\r\nThe Exception i got is the following:\r\n\r\n      Process: com.my.app, PID: 1907\r\n    java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource { uid = 10375, packageName = com.my.app, attributionTag = null, token = android.os.BinderProxy@1333f69, next = null }: HeadsetService\r\n        at com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:917)\r\n        at com.android.bluetooth.Utils.checkConnectPermissionForDataDelivery(Utils.java:949)\r\n        at com.android.bluetooth.hfp.HeadsetService$BluetoothHeadsetBinder.getService(HeadsetService.java:821)\r\n        at com.android.bluetooth.hfp.HeadsetService$BluetoothHeadsetBinder.getConnectedDevicesWithAttribution(HeadsetService.java:908)\r\n        at android.bluetooth.IBluetoothHeadset$Stub.onTransact(IBluetoothHeadset.java:245)\r\n        at android.os.Binder.execTransactInternal(Binder.java:1321)\r\n        at android.os.Binder.execTransact(Binder.java:1280)\r\n\r\n\r\nThis exception occurs ONLY when i start the app while my device is already connected to the Bluetooth Headset.\r\nWhen i start the app with a lower version of android like 10, 11 its working fine.\r\nIt also works when i start the app and after the start i connect the bluetooth headset while using Android 13.\r\nPlease help.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android 13 Need android.permission.BLUETOOTH_CONNECT when device already connected to Bluetooth Headset","body":"<p>iam using Android 13 sdk 33.\nMy app is using bluetooth headset.\nI got the SecurityException only when iam using Android 13 and i start the application while the device is already connected to the Headset.\nWhen i start the application and after i connect the bluetooth Headset there is not Exception. So only when i start the app while its connecting. These permissions are\nin the manifest file. I also tried it with <strong>android:maxSdkVersion=&quot;30&quot;</strong> but its still not working.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;  /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;  /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;\n    android:usesPermissionFlags=&quot;neverForLocation&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\n</code></pre>\n<p>This is the build.gradle</p>\n<pre><code>compileSdkVersion 33\nbuildToolsVersion '30.0.0'\n\ndefaultConfig {\n    applicationId &quot;com.my.app&quot;\n    minSdkVersion 22\n    targetSdkVersion 33\n    versionCode 44\n    versionName &quot;@string/app_version&quot;\n    multiDexEnabled true\n}\n</code></pre>\n<p>Here are my runtime permissions. I ask for them in the onCreate method of the LoginActivity.</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\nprivate static final String[] PERMISSIONS_BLUETOOTH_33 = {\n        Manifest.permission.BLUETOOTH_SCAN,\n        Manifest.permission.BLUETOOTH_CONNECT,\n        Manifest.permission.ACCESS_FINE_LOCATION\n};\n\n\nprivate static final String[] PERMISSIONS_BLUETOOTH = {\n        Manifest.permission.BLUETOOTH_SCAN,\n        Manifest.permission.BLUETOOTH_CONNECT,\n        Manifest.permission.BLUETOOTH,\n        Manifest.permission.BLUETOOTH_ADVERTISE,\n        Manifest.permission.BLUETOOTH_ADMIN\n};\n\nprivate String [] getBluetoothPermissions() {\n    if(Build.VERSION_CODES.TIRAMISU &lt;= Build.VERSION.SDK_INT) {\n        return PERMISSIONS_BLUETOOTH_33;\n    }\n    return PERMISSIONS_BLUETOOTH;\n}\n\nprivate void checkPermissions(){\n    \n    int permission2 = ActivityCompat.checkSelfPermission(this, \n                      Manifest.permission.BLUETOOTH_SCAN);\n    int permission3 = ActivityCompat.checkSelfPermission(this, \n                      Manifest.permission.BLUETOOTH_CONNECT);\n    if (permission2 != PackageManager.PERMISSION_GRANTED &amp;&amp; permission3 != \n               PackageManager.PERMISSION_GRANTED){\n        \n        ActivityCompat.requestPermissions(\n                this,\n                getBluetoothPermissions(),\n                1\n        );\n    }\n}\n</code></pre>\n<p>This is only with Android 13. I did not try Android 12.\nWhen i use a lower version of Android like Android 11 or Android 10 i can start my app while iam connected to Bluetooth headset.</p>\n<p>The Exception i got is the following:</p>\n<pre><code>  Process: com.my.app, PID: 1907\njava.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource { uid = 10375, packageName = com.my.app, attributionTag = null, token = android.os.BinderProxy@1333f69, next = null }: HeadsetService\n    at com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:917)\n    at com.android.bluetooth.Utils.checkConnectPermissionForDataDelivery(Utils.java:949)\n    at com.android.bluetooth.hfp.HeadsetService$BluetoothHeadsetBinder.getService(HeadsetService.java:821)\n    at com.android.bluetooth.hfp.HeadsetService$BluetoothHeadsetBinder.getConnectedDevicesWithAttribution(HeadsetService.java:908)\n    at android.bluetooth.IBluetoothHeadset$Stub.onTransact(IBluetoothHeadset.java:245)\n    at android.os.Binder.execTransactInternal(Binder.java:1321)\n    at android.os.Binder.execTransact(Binder.java:1280)\n</code></pre>\n<p>This exception occurs ONLY when i start the app while my device is already connected to the Bluetooth Headset.\nWhen i start the app with a lower version of android like 10, 11 its working fine.\nIt also works when i start the app and after the start i connect the bluetooth headset while using Android 13.\nPlease help.</p>\n"},{"tags":["java","string","substring","contains"],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1377472295,"post_id":18434636,"comment_id":27085520,"body_markdown":"I was about to say you should provide the source for `indexOf` as well...but that&#39;s the OP&#39;s job isn&#39;t it ;)","body":"I was about to say you should provide the source for <code>indexOf</code> as well...but that&#39;s the OP&#39;s job isn&#39;t it ;)"}],"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1377472152,"creation_date":1377472152,"answer_id":18434636,"question_id":18434622,"body_markdown":"You can look at the [**source**][1]:\r\n\r\n    public boolean contains(CharSequence s) {\r\n        return indexOf(s.toString()) &gt; -1;\r\n    }\r\n\r\n\r\n  [1]: http://docjar.com/html/api/java/lang/String.java.html","title":"Java: how String.contains(string) function works in java?","body":"<p>You can look at the <a href=\"http://docjar.com/html/api/java/lang/String.java.html\" rel=\"nofollow\"><strong>source</strong></a>:</p>\n\n<pre><code>public boolean contains(CharSequence s) {\n    return indexOf(s.toString()) &gt; -1;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":980511,"reputation":2358,"user_id":1000341,"accept_rate":79,"display_name":"Sara"},"score":1,"creation_date":1377472432,"post_id":18434658,"comment_id":27085542,"body_markdown":"Using Dynamic programming for example, to get smaller time complexity.","body":"Using Dynamic programming for example, to get smaller time complexity."}],"tags":[],"owner":{"account_id":2940003,"reputation":808,"user_id":2518118,"display_name":"Jeroen Ingelbrecht"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377472375,"creation_date":1377472375,"answer_id":18434658,"question_id":18434622,"body_markdown":"Is there a better way? Depends on what you think is &#39;better&#39;. An alternative is using [Pattern][1]. But still, what would be the difference in user experience? Would it be relevant enough?\r\n\r\nIf you really want to use the best option, try both options out for yourself with enough iterations.\r\n\r\n[1]: http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html","title":"Java: how String.contains(string) function works in java?","body":"<p>Is there a better way? Depends on what you think is 'better'. An alternative is using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">Pattern</a>. But still, what would be the difference in user experience? Would it be relevant enough?</p>\n\n<p>If you really want to use the best option, try both options out for yourself with enough iterations.</p>\n"},{"comments":[{"owner":{"account_id":2940003,"reputation":808,"user_id":2518118,"display_name":"Jeroen Ingelbrecht"},"score":1,"creation_date":1377473896,"post_id":18434770,"comment_id":27085763,"body_markdown":"`sweet` ;) Have you any chance measured the performance difference?","body":"<code>sweet</code> ;) Have you any chance measured the performance difference?"},{"owner":{"account_id":980511,"reputation":2358,"user_id":1000341,"accept_rate":79,"display_name":"Sara"},"score":1,"creation_date":1377474046,"post_id":18434770,"comment_id":27085793,"body_markdown":"linear, should be O(m+n)","body":"linear, should be O(m+n)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1377476825,"post_id":18434770,"comment_id":27086206,"body_markdown":"It looks to me like it is `O(m * n)` on average.  And my reading of the code does not convince me that it is correct.  It would help if you included an explanation of what the code is doing, and how/why the `searchIn` table is giving you a speedup.  FWIW, it looks to me like it *attempts* to optimize the case where there are repeated letters in the `search` string ... and I&#39;m not convinced that the optimization is correct.","body":"It looks to me like it is <code>O(m * n)</code> on average.  And my reading of the code does not convince me that it is correct.  It would help if you included an explanation of what the code is doing, and how/why the <code>searchIn</code> table is giving you a speedup.  FWIW, it looks to me like it <i>attempts</i> to optimize the case where there are repeated letters in the <code>search</code> string ... and I&#39;m not convinced that the optimization is correct."},{"owner":{"account_id":980511,"reputation":2358,"user_id":1000341,"accept_rate":79,"display_name":"Sara"},"score":0,"creation_date":1377486562,"post_id":18434770,"comment_id":27087852,"body_markdown":"@StephenC I added some comments. I tested the code and it works. It should be OK.","body":"@StephenC I added some comments. I tested the code and it works. It should be OK."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1377489220,"post_id":18434770,"comment_id":27088358,"body_markdown":"@sweet - That&#39;s not what I&#39;d call an explanation, and &quot;I&#39;ve tested it so it is OK&quot; doesn&#39;t inspire confidence either.  Finally, you&#39;ve presented no evidence for your assertion about complexity.  Basically, you are presenting what appears to be a &quot;new&quot; algorithm, and this requires *due diligence* if you expect people to accept it as being correct.  And if you are not prepared to do the work, I don&#39;t see the point of making your claim.  (But I retract my `O(m*n)` on average ...)","body":"@sweet - That&#39;s not what I&#39;d call an explanation, and &quot;I&#39;ve tested it so it is OK&quot; doesn&#39;t inspire confidence either.  Finally, you&#39;ve presented no evidence for your assertion about complexity.  Basically, you are presenting what appears to be a &quot;new&quot; algorithm, and this requires <i>due diligence</i> if you expect people to accept it as being correct.  And if you are not prepared to do the work, I don&#39;t see the point of making your claim.  (But I retract my <code>O(m*n)</code> on average ...)"}],"tags":[],"owner":{"account_id":980511,"reputation":2358,"user_id":1000341,"accept_rate":79,"display_name":"Sara"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377486474,"creation_date":1377473483,"answer_id":18434770,"question_id":18434622,"body_markdown":"here is my solution:\r\n\r\n    static boolean contain(String input,String search)\r\n\t{\r\n\t\tint[] searchIn = new int[search.length()];\r\n\t\tsearchIn[0] = 0;\r\n                //searchIn keep track of repeated values on search sting\r\n                //so if the search string is &quot;abcabd&quot; then the corresponding searchIn is\r\n                //0 0 0 1 2 0\r\n\t\tint k = 0;\r\n\t\tfor(int i=1;i&lt;search.length();i++)\r\n\t\t{\r\n\t\t\tif(search.charAt(i)== search.charAt(k))\r\n\t\t\t{\r\n\t\t\t\tsearchIn[i] = ++k; \r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tk =0;\r\n\t\t\t\tsearchIn[i] = k;\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t\tint i=0;\r\n\t\tint j=0;\r\n\t\t\r\n\t\twhile(i&lt;=input.length()-1 &amp;&amp; j&lt;=search.length()-1)\r\n\t\t{\r\n\t\t\tif(input.charAt(i) == search.charAt(j))\r\n\t\t\t{\r\n\t\t\t\ti++;\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tj = searchIn[j-1];\r\n                if(i==input.length()-1)\r\n\t\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(j==search.length())\r\n\t\t\treturn true;\r\n\t\telse return false;\r\n\t}","title":"Java: how String.contains(string) function works in java?","body":"<p>here is my solution:</p>\n\n<pre><code>static boolean contain(String input,String search)\n{\n    int[] searchIn = new int[search.length()];\n    searchIn[0] = 0;\n            //searchIn keep track of repeated values on search sting\n            //so if the search string is \"abcabd\" then the corresponding searchIn is\n            //0 0 0 1 2 0\n    int k = 0;\n    for(int i=1;i&lt;search.length();i++)\n    {\n        if(search.charAt(i)== search.charAt(k))\n        {\n            searchIn[i] = ++k; \n        }\n        else \n        {\n            k =0;\n            searchIn[i] = k;\n        }       \n    }\n    int i=0;\n    int j=0;\n\n    while(i&lt;=input.length()-1 &amp;&amp; j&lt;=search.length()-1)\n    {\n        if(input.charAt(i) == search.charAt(j))\n        {\n            i++;\n            j++;\n        }\n        else\n        {\n            j = searchIn[j-1];\n            if(i==input.length()-1)\n                i++;\n        }\n    }\n    if(j==search.length())\n        return true;\n    else return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437182893,"creation_date":1377474006,"answer_id":18434814,"question_id":18434622,"body_markdown":"&gt; I&#39;m wondering to know if there is better solution for it?\r\n\r\nThere are lots of algorithms for simple string searching; see the Wikipedia [String Search][1] page.  The page includes complexity characterizations ... and references.\r\n\r\nThe standard Java `java.lang.String` implementation uses naive search under the hood.  Some of the algorithms on the Wikipedia page that have better complexity for the search phase, but require non-trivial setup.  I expect that the Sun/Oracle engineers have done extensive empirical testing and found that naive search works best *on average* over a wide range of real-world applications.\r\n\r\n--------------------\r\n\r\nFinally ...\r\n\r\n&gt; I know the brute force approach with the time complexity of `O(n*m)`\r\n\r\nIn fact, that is the *worst case* complexity.  The average complexity is `O(n)`.  Consider this:\r\n\r\n    boolean bruteForceMatch (String str1, String str2) {\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            boolean matches = true;\r\n            for (int j = 0; j &lt; str2.length(); j++) {\r\n                if (i + j &gt;= str.length || \r\n                    str1.charAt(i + j) != str2.charAt(j)) {\r\n                    matched = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (matched) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    \r\nThe worst case happens with inputs like &quot;AAA...&quot; and &quot;AAA...B&quot;.  (The dots denote repetition.) \r\n\r\nBut in the average case (e.g. randomly generated input strings) you won&#39;t have an &quot;almost match&quot; for `str2` at every position of `str1`.  The inner loop will typically `break` in the iteration.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/String_search\r\n","title":"Java: how String.contains(string) function works in java?","body":"<blockquote>\n  <p>I'm wondering to know if there is better solution for it?</p>\n</blockquote>\n\n<p>There are lots of algorithms for simple string searching; see the Wikipedia <a href=\"http://en.wikipedia.org/wiki/String_search\" rel=\"nofollow\">String Search</a> page.  The page includes complexity characterizations ... and references.</p>\n\n<p>The standard Java <code>java.lang.String</code> implementation uses naive search under the hood.  Some of the algorithms on the Wikipedia page that have better complexity for the search phase, but require non-trivial setup.  I expect that the Sun/Oracle engineers have done extensive empirical testing and found that naive search works best <em>on average</em> over a wide range of real-world applications.</p>\n\n<hr>\n\n<p>Finally ...</p>\n\n<blockquote>\n  <p>I know the brute force approach with the time complexity of <code>O(n*m)</code></p>\n</blockquote>\n\n<p>In fact, that is the <em>worst case</em> complexity.  The average complexity is <code>O(n)</code>.  Consider this:</p>\n\n<pre><code>boolean bruteForceMatch (String str1, String str2) {\n    for (int i = 0; i &lt; str.length(); i++) {\n        boolean matches = true;\n        for (int j = 0; j &lt; str2.length(); j++) {\n            if (i + j &gt;= str.length || \n                str1.charAt(i + j) != str2.charAt(j)) {\n                matched = false;\n                break;\n            }\n        }\n        if (matched) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>The worst case happens with inputs like \"AAA...\" and \"AAA...B\".  (The dots denote repetition.) </p>\n\n<p>But in the average case (e.g. randomly generated input strings) you won't have an \"almost match\" for <code>str2</code> at every position of <code>str1</code>.  The inner loop will typically <code>break</code> in the iteration.</p>\n"},{"tags":[],"owner":{"account_id":15341137,"reputation":51,"user_id":11068099,"display_name":"Nav12"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701865674,"creation_date":1701865674,"answer_id":77613046,"question_id":18434622,"body_markdown":"For peeps who don&#39;t wish to sieve through multiple calls from one Class to another, from one method to another, `String.contains(String str)` at this moment works as follows\r\n\r\n    public boolean contains(CharSequence s) {\r\n        return indexOf(s.toString()) &gt;= 0;\r\n    }\r\n    public int indexOf(String str) {\r\n        byte coder = coder();\r\n        if (coder == str.coder()) {\r\n            return isLatin1() ? StringLatin1.indexOf(value, str.value) :\r\n                StringUTF16.indexOf(value, str.value);\r\n        }\r\n        if (coder == LATIN1) { // str.coder == UTF16\r\n            return -1;\r\n        }\r\n        return StringUTF16.indexOfLatin1(value, str.value);\r\n    }\r\n    // Class StringLatin1 below\r\n    @IntrinsicCandidate\r\n    public static int indexOf(byte[] value, byte[] str) {\r\n        if (str.length == 0) {\r\n            return 0;\r\n        }\r\n        if (value.length == 0) {\r\n            return -1;\r\n        }\r\n        return indexOf(value, value.length, str, str.length, 0);\r\n    }\r\n    \r\n    @IntrinsicCandidate\r\n    public static int indexOf(byte[] value, int valueCount, byte[] str, int strCount, int fromIndex) {\r\n        byte first = str[0];\r\n        int max = (valueCount - strCount);\r\n        for (int i = fromIndex; i &lt;= max; i++) {\r\n            // Look for first character.\r\n            if (value[i] != first) {\r\n                while (++i &lt;= max &amp;&amp; value[i] != first);\r\n            }\r\n            // Found first character, now look at the rest of value\r\n            if (i &lt;= max) {\r\n                int j = i + 1;\r\n                int end = j + strCount - 1;\r\n                for (int k = 1; j &lt; end &amp;&amp; value[j] == str[k]; j++, k++);\r\n                if (j == end) {\r\n                    // Found whole string.\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n","title":"Java: how String.contains(string) function works in java?","body":"<p>For peeps who don't wish to sieve through multiple calls from one Class to another, from one method to another, <code>String.contains(String str)</code> at this moment works as follows</p>\n<pre><code>public boolean contains(CharSequence s) {\n    return indexOf(s.toString()) &gt;= 0;\n}\npublic int indexOf(String str) {\n    byte coder = coder();\n    if (coder == str.coder()) {\n        return isLatin1() ? StringLatin1.indexOf(value, str.value) :\n            StringUTF16.indexOf(value, str.value);\n    }\n    if (coder == LATIN1) { // str.coder == UTF16\n        return -1;\n    }\n    return StringUTF16.indexOfLatin1(value, str.value);\n}\n// Class StringLatin1 below\n@IntrinsicCandidate\npublic static int indexOf(byte[] value, byte[] str) {\n    if (str.length == 0) {\n        return 0;\n    }\n    if (value.length == 0) {\n        return -1;\n    }\n    return indexOf(value, value.length, str, str.length, 0);\n}\n\n@IntrinsicCandidate\npublic static int indexOf(byte[] value, int valueCount, byte[] str, int strCount, int fromIndex) {\n    byte first = str[0];\n    int max = (valueCount - strCount);\n    for (int i = fromIndex; i &lt;= max; i++) {\n        // Look for first character.\n        if (value[i] != first) {\n            while (++i &lt;= max &amp;&amp; value[i] != first);\n        }\n        // Found first character, now look at the rest of value\n        if (i &lt;= max) {\n            int j = i + 1;\n            int end = j + strCount - 1;\n            for (int k = 1; j &lt; end &amp;&amp; value[j] == str[k]; j++, k++);\n            if (j == end) {\n                // Found whole string.\n                return i;\n            }\n        }\n    }\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":980511,"reputation":2358,"user_id":1000341,"accept_rate":79,"display_name":"Sara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6592,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":5,"score":5,"last_activity_date":1701865674,"creation_date":1377471987,"question_id":18434622,"body_markdown":"I know the brute force approach with the time complexity of `n*m (m is length of first string and n is the length of the other one)` for testing if an string contains another one, however, I&#39;m wondering to know if there is better solution for it?\r\n\r\n    boolean contains(String input,String search)","title":"Java: how String.contains(string) function works in java?","body":"<p>I know the brute force approach with the time complexity of <code>n*m (m is length of first string and n is the length of the other one)</code> for testing if an string contains another one, however, I'm wondering to know if there is better solution for it?</p>\n\n<pre><code>boolean contains(String input,String search)\n</code></pre>\n"},{"tags":["java","docker","dockerfile","struts"],"owner":{"account_id":29184366,"reputation":1,"user_id":22357846,"display_name":"Shobhit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701777405,"answer_count":0,"score":-2,"last_activity_date":1701865112,"creation_date":1701764379,"question_id":77604699,"body_markdown":"I have zip file of tomcat and wildfly, I want to make image of them instead of fetching it from docker hub.\r\n\r\nKindly help me, stuck with this from 2 days\r\n\r\nI tried one more way from [stackoverflow](https://stackoverflow.com/questions/45324151/can-we-build-a-docker-image-using-tar-or-zip-archive), but that didn&#39;t work for me ,","title":"Create Docker Image Using Zip or tar.gz file File of application","body":"<p>I have zip file of tomcat and wildfly, I want to make image of them instead of fetching it from docker hub.</p>\n<p>Kindly help me, stuck with this from 2 days</p>\n<p>I tried one more way from <a href=\"https://stackoverflow.com/questions/45324151/can-we-build-a-docker-image-using-tar-or-zip-archive\">stackoverflow</a>, but that didn't work for me ,</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":17462743,"reputation":545,"user_id":12660050,"display_name":"Vatsal Dholakiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620409942,"creation_date":1620409942,"answer_id":67439635,"question_id":67240500,"body_markdown":"**1)** Add **Textview** for your toolbar title into your &lt;toolbar&gt; tag which is located in **MainActivity.xml** in your case.\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appbar_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:theme=&quot;@style/ToolbarTheme&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?actionBarSize&quot;\r\n        android:background=&quot;?colorPrimary&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/title&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:text=&quot;Borrowers&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;18dp&quot; /&gt;\r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n**2)** Add toolbar to your **MainActivity.java** in onCreate() method.\r\n\r\n    //set toolbar\r\n        Toolbar toolbar = findViewById(R.id.borrowerstoolbar_main);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setTitle(null);","title":"set Label Alignment in navigation Fragments","body":"<p><strong>1)</strong> Add <strong>Textview</strong> for your toolbar title into your  tag which is located in <strong>MainActivity.xml</strong> in your case.</p>\n<pre><code>&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=&quot;@+id/appbar_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    android:theme=&quot;@style/ToolbarTheme&quot;&gt;\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;?actionBarSize&quot;\n    android:background=&quot;?colorPrimary&quot;&gt;\n&lt;TextView\n    android:id=&quot;@+id/title&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:text=&quot;Borrowers&quot;\n    android:textColor=&quot;@color/white&quot;\n    android:textSize=&quot;18dp&quot; /&gt;\n&lt;/androidx.appcompat.widget.Toolbar&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n</code></pre>\n<p><strong>2)</strong> Add toolbar to your <strong>MainActivity.java</strong> in onCreate() method.</p>\n<pre><code>//set toolbar\n    Toolbar toolbar = findViewById(R.id.borrowerstoolbar_main);\n    setSupportActionBar(toolbar);\n    getSupportActionBar().setTitle(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29438273,"reputation":1,"user_id":22556742,"display_name":"ali s."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701865039,"creation_date":1701865039,"answer_id":77612984,"question_id":67240500,"body_markdown":"use `app:titleCentered=&quot;true&quot;` in your Toolbar like:\r\n\r\n            &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            app:titleCentered=&quot;true&quot;\r\n            android:background=&quot;@color/colorPrimary&quot;\r\n            app:titleTextColor=&quot;@color/text_color&quot;\r\n            app:popupTheme=&quot;@style/Theme.MyAudio.PopupOverlay&quot; /&gt;\r\n\r\n\r\n","title":"set Label Alignment in navigation Fragments","body":"<p>use <code>app:titleCentered=&quot;true&quot;</code> in your Toolbar like:</p>\n<pre><code>        &lt;com.google.android.material.appbar.MaterialToolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;\n        app:titleCentered=&quot;true&quot;\n        android:background=&quot;@color/colorPrimary&quot;\n        app:titleTextColor=&quot;@color/text_color&quot;\n        app:popupTheme=&quot;@style/Theme.MyAudio.PopupOverlay&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":19476407,"reputation":1,"user_id":14247718,"display_name":"rahi patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701865039,"creation_date":1619250617,"question_id":67240500,"body_markdown":"*I want the label(toolbar title) to be aligned centered.What should I do? I have reffered to some logics and didn&#39;t find them effective and they also didn&#39;t work. So kindly guide me through it.* \r\n\r\n**This is the Navigation File:**\r\n\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mobile_navigation&quot;\r\n    app:startDestination=&quot;@id/current_weather_fragment&quot;&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/current_weather_fragment&quot;\r\n        android:name=&quot;com.example.wheatherapp.UI.Weather.CurrentWeather.CurrentWeatherFragment&quot;\r\n        android:label=&quot;current_weather_fragment&quot;\r\n\r\n        tools:layout=&quot;@layout/current_weather_fragment&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/future_weather_fragment&quot;\r\n        android:name=&quot;com.example.wheatherapp.UI.Weather.FutureWeather.FutureWeatherListFrag.FutureWeatherFragment&quot;\r\n        android:label=&quot;future_weather_fragment&quot;\r\n        tools:layout=&quot;@layout/future_weather_fragment&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/future_detail_weather&quot;\r\n        android:name=&quot;com.example.wheatherapp.UI.Weather.FutureWeather.FutureDetailFrag.FutureDetailWeather&quot;\r\n        android:label=&quot;future_detail_weather_fragment&quot;\r\n        tools:layout=&quot;@layout/future_detail_weather_fragment&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/setting_fragment&quot;\r\n        android:name=&quot;com.example.wheatherapp.UI.Setting.SettingFragment&quot;\r\n        android:label=&quot;SettingFragment&quot; /&gt;\r\n    &lt;/navigation&gt;\r\n\r\n**This is the MainActvity.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.UI.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appbar_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:theme=&quot;@style/ToolbarTheme&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?actionBarSize&quot;\r\n            android:background=&quot;?colorPrimary&quot;\r\n            /&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/nav_host_frag&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/appbar_layout&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/bottom_nav&quot;\r\n        app:navGraph=&quot;@navigation/mobile_navigation&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_nav&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**This is the image in which i want the title to be aligned centered:**\r\n[the uploaded one][1]\r\n\r\n  [1]: https://i.stack.imgur.com/bPKsx.png\r\n\r\n**Style.xml**\r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.WheatherApp&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;ToolbarTheme&quot; parent=&quot;ThemeOverlay.MaterialComponents.ActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorSecondary&quot;&gt;#EEEEEE&lt;/item&gt;\r\n        &lt;item name=&quot;android:gravity&quot;&gt;center_vertical|center_horizontal&lt;/item&gt;\r\n        &lt;item name=&quot;background&quot;&gt;?colorPrimary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    &lt;/resources&gt;","title":"set Label Alignment in navigation Fragments","body":"<p><em>I want the label(toolbar title) to be aligned centered.What should I do? I have reffered to some logics and didn't find them effective and they also didn't work. So kindly guide me through it.</em></p>\n<p><strong>This is the Navigation File:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/mobile_navigation&quot;\napp:startDestination=&quot;@id/current_weather_fragment&quot;&gt;\n&lt;fragment\n    android:id=&quot;@+id/current_weather_fragment&quot;\n    android:name=&quot;com.example.wheatherapp.UI.Weather.CurrentWeather.CurrentWeatherFragment&quot;\n    android:label=&quot;current_weather_fragment&quot;\n\n    tools:layout=&quot;@layout/current_weather_fragment&quot; /&gt;\n&lt;fragment\n    android:id=&quot;@+id/future_weather_fragment&quot;\n    android:name=&quot;com.example.wheatherapp.UI.Weather.FutureWeather.FutureWeatherListFrag.FutureWeatherFragment&quot;\n    android:label=&quot;future_weather_fragment&quot;\n    tools:layout=&quot;@layout/future_weather_fragment&quot; /&gt;\n&lt;fragment\n    android:id=&quot;@+id/future_detail_weather&quot;\n    android:name=&quot;com.example.wheatherapp.UI.Weather.FutureWeather.FutureDetailFrag.FutureDetailWeather&quot;\n    android:label=&quot;future_detail_weather_fragment&quot;\n    tools:layout=&quot;@layout/future_detail_weather_fragment&quot; /&gt;\n&lt;fragment\n    android:id=&quot;@+id/setting_fragment&quot;\n    android:name=&quot;com.example.wheatherapp.UI.Setting.SettingFragment&quot;\n    android:label=&quot;SettingFragment&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p><strong>This is the MainActvity.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.UI.MainActivity&quot;&gt;\n\n&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=&quot;@+id/appbar_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    android:theme=&quot;@style/ToolbarTheme&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?actionBarSize&quot;\n        android:background=&quot;?colorPrimary&quot;\n        /&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n&lt;androidx.fragment.app.FragmentContainerView\n    android:id=&quot;@+id/nav_host_frag&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/appbar_layout&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/bottom_nav&quot;\n    app:navGraph=&quot;@navigation/mobile_navigation&quot;\n    app:defaultNavHost=&quot;true&quot;\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot; /&gt;\n\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/bottom_nav&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:menu=&quot;@menu/bottom_nav_menu&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>This is the image in which i want the title to be aligned centered:</strong>\n<a href=\"https://i.stack.imgur.com/bPKsx.png\" rel=\"nofollow noreferrer\">the uploaded one</a></p>\n<p><strong>Style.xml</strong></p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.WheatherApp&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;ToolbarTheme&quot; parent=&quot;ThemeOverlay.MaterialComponents.ActionBar&quot;&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:textColorSecondary&quot;&gt;#EEEEEE&lt;/item&gt;\n    &lt;item name=&quot;android:gravity&quot;&gt;center_vertical|center_horizontal&lt;/item&gt;\n    &lt;item name=&quot;background&quot;&gt;?colorPrimary&lt;/item&gt;\n&lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1701856263,"post_id":77611990,"comment_id":136825783,"body_markdown":"Both `String` and `Integer` are a subtype of `Object`, so `T` is inferred `Object`. The same can&#39;t happen with `List&lt;String&gt;` and `List&lt;Integer&gt;`, as neither are a subtype of `List&lt;Object&gt;`.","body":"Both <code>String</code> and <code>Integer</code> are a subtype of <code>Object</code>, so <code>T</code> is inferred <code>Object</code>. The same can&#39;t happen with <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code>, as neither are a subtype of <code>List&lt;Object&gt;</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701856980,"post_id":77611990,"comment_id":136825933,"body_markdown":"Related, possibly duplicate: [Why is List&lt;String&gt; not a subtype of List&lt;Object&gt;?](https://stackoverflow.com/questions/9606428/why-is-liststring-not-a-subtype-of-listobject)","body":"Related, possibly duplicate: <a href=\"https://stackoverflow.com/questions/9606428/why-is-liststring-not-a-subtype-of-listobject\">Why is List&lt;String&gt; not a subtype of List&lt;Object&gt;?</a>"}],"answers":[{"comments":[{"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"score":0,"creation_date":1701873924,"post_id":77612970,"comment_id":136829090,"body_markdown":"Thank you. Just one question for the first part. So T should be some superclass for both classes. I do not understand the conception, why is this? I mean why T is not an explicit class.","body":"Thank you. Just one question for the first part. So T should be some superclass for both classes. I do not understand the conception, why is this? I mean why T is not an explicit class."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701864896,"creation_date":1701864896,"answer_id":77612970,"question_id":77611990,"body_markdown":"For `method(s, num);` to be valid, there just needs to be a type `T` such that `Integer` and `String` are both convertible to `T`. `Object` is such a type. Java&#39;s type inference algorithm can infer such a type too (though IIRC it&#39;s some intersection type of interfaces that `Integer` and `String` both implement).\r\n\r\nHowever, for `methodList(stringList, integerList)` to be valid, there needs to be a `T` such that both `List&lt;String&gt;` and `List&lt;Integer&gt;` can both be converted to `List&lt;T&gt;`. *There is no such type.* `Object` doesn&#39;t work here, because `List&lt;String&gt;` and `List&lt;Integer&gt;` cannot be converted to `List&lt;Object&gt;` ([See also][1]). i.e. Java&#39;s generics are *invariant* by default.\r\n\r\nIf you make the type parameter of the `List`s covariant by saying `? extends T`, then `methodList(stringList, integerList)` compiles.\r\n\r\n```\r\n&lt;T&gt; void methodList(List&lt;? extends T&gt; list1, List&lt;? extends T&gt; list2) {}\r\n```\r\n\r\nBecause `T` can be `Object` (or whatever intersection type Java actually infers), and both `List&lt;String&gt;` and `List&lt;Integer&gt;` can be converted to `List&lt;? extends Object&gt;`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/2745265/5133585","title":"Why no type restriction in the following Java generic method?","body":"<p>For <code>method(s, num);</code> to be valid, there just needs to be a type <code>T</code> such that <code>Integer</code> and <code>String</code> are both convertible to <code>T</code>. <code>Object</code> is such a type. Java's type inference algorithm can infer such a type too (though IIRC it's some intersection type of interfaces that <code>Integer</code> and <code>String</code> both implement).</p>\n<p>However, for <code>methodList(stringList, integerList)</code> to be valid, there needs to be a <code>T</code> such that both <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code> can both be converted to <code>List&lt;T&gt;</code>. <em>There is no such type.</em> <code>Object</code> doesn't work here, because <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code> cannot be converted to <code>List&lt;Object&gt;</code> (<a href=\"https://stackoverflow.com/q/2745265/5133585\">See also</a>). i.e. Java's generics are <em>invariant</em> by default.</p>\n<p>If you make the type parameter of the <code>List</code>s covariant by saying <code>? extends T</code>, then <code>methodList(stringList, integerList)</code> compiles.</p>\n<pre><code>&lt;T&gt; void methodList(List&lt;? extends T&gt; list1, List&lt;? extends T&gt; list2) {}\n</code></pre>\n<p>Because <code>T</code> can be <code>Object</code> (or whatever intersection type Java actually infers), and both <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code> can be converted to <code>List&lt;? extends Object&gt;</code>.</p>\n"}],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77612970,"answer_count":1,"score":1,"last_activity_date":1701864896,"creation_date":1701856014,"question_id":77611990,"body_markdown":"When define a generic method we can use T. In the following method it will allow us to pass two lists with the same types.\r\n\r\n    public static &lt;T&gt; void methodList(List&lt;T&gt; t1, List&lt;T&gt; t2) {    \r\n    }\r\n\r\nSo in main() we can pass two lists of String, but can not pass a list of String and a list of Integer.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; stringList2 = new ArrayList&lt;&gt;();\r\n\r\n        List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\n\r\n        methodList(stringList, stringList2); // correct\r\n        methodList(stringList, integerList); // can&#39;t, reason: Incompatible equality constraint: Integer and String\r\n    }\r\n\r\nMy question in this. If we define a generic method like the following, it will allow us to pass different types.\r\n\r\n    public static &lt;T&gt; void method(T t1, T t2) {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;a&quot;;\r\n        Integer num = 1;\r\n\r\n        method(s, num); // correct\r\n    }\r\n\r\nWhy in this case there is no type restriction as in the first example? \r\nCan we do it by ourselves, allow passing only the same types to the second method?","title":"Why no type restriction in the following Java generic method?","body":"<p>When define a generic method we can use T. In the following method it will allow us to pass two lists with the same types.</p>\n<pre><code>public static &lt;T&gt; void methodList(List&lt;T&gt; t1, List&lt;T&gt; t2) {    \n}\n</code></pre>\n<p>So in main() we can pass two lists of String, but can not pass a list of String and a list of Integer.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n    List&lt;String&gt; stringList2 = new ArrayList&lt;&gt;();\n\n    List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n\n    methodList(stringList, stringList2); // correct\n    methodList(stringList, integerList); // can't, reason: Incompatible equality constraint: Integer and String\n}\n</code></pre>\n<p>My question in this. If we define a generic method like the following, it will allow us to pass different types.</p>\n<pre><code>public static &lt;T&gt; void method(T t1, T t2) {\n}\n\npublic static void main(String[] args) {\n    String s = &quot;a&quot;;\n    Integer num = 1;\n\n    method(s, num); // correct\n}\n</code></pre>\n<p>Why in this case there is no type restriction as in the first example?\nCan we do it by ourselves, allow passing only the same types to the second method?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":75692,"reputation":11853,"user_id":217067,"accept_rate":66,"display_name":"EugeneP"},"score":1,"creation_date":1260954341,"post_id":1913280,"comment_id":1818499,"body_markdown":"Yes Apache library.\nWhy, again, it is not in standart java distribution?","body":"Yes Apache library. Why, again, it is not in standart java distribution?"},{"owner":{"account_id":10628,"reputation":5791,"user_id":20161,"accept_rate":50,"display_name":"Pat"},"score":2,"creation_date":1260956795,"post_id":1913280,"comment_id":1818712,"body_markdown":"something to think about : null means not set, &quot;&quot; means set to empty.","body":"something to think about : null means not set, &quot;&quot; means set to empty."},{"owner":{"account_id":68904,"reputation":1177,"user_id":200802,"display_name":"charstar"},"score":0,"creation_date":1260959962,"post_id":1913280,"comment_id":1819018,"body_markdown":"Agree with Pat here.  It sometimes seems like this is just unnecessary book keeping but they are semantically different.  If the member is null, it means &quot;has no value&quot; whereas an empty string &quot;has a value; an empty string&quot;.  It is common for methods to have different behavior (by design) based on this fact.","body":"Agree with Pat here.  It sometimes seems like this is just unnecessary book keeping but they are semantically different.  If the member is null, it means &quot;has no value&quot; whereas an empty string &quot;has a value; an empty string&quot;.  It is common for methods to have different behavior (by design) based on this fact."},{"owner":{"account_id":68904,"reputation":1177,"user_id":200802,"display_name":"charstar"},"score":0,"creation_date":1260960512,"post_id":1913280,"comment_id":1819053,"body_markdown":"Sorry to spam the comments, but since it&#39;s somewhat related, you _can_ avoid the check-for-null-and-compare test on non-empty strings by having the string-literal do the test (string-literals are still Strings), e.g. &quot;CheesySafeCompare&quot;.equals( someString ) works as you&#39;d imagine but will _not_ throw a NullPointerException.","body":"Sorry to spam the comments, but since it&#39;s somewhat related, you <i>can</i> avoid the check-for-null-and-compare test on non-empty strings by having the string-literal do the test (string-literals are still Strings), e.g. &quot;CheesySafeCompare&quot;.equals( someString ) works as you&#39;d imagine but will <i>not</i> throw a NullPointerException."}],"answers":[{"comments":[{"owner":{"account_id":75692,"reputation":11853,"user_id":217067,"accept_rate":66,"display_name":"EugeneP"},"score":1,"creation_date":1260956460,"post_id":1913292,"comment_id":1818677,"body_markdown":"little remark, what you described are isNotBlank &amp; isNotEmpty :)","body":"little remark, what you described are isNotBlank &amp; isNotEmpty :)"}],"tags":[],"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1571351818,"creation_date":1260954073,"answer_id":1913292,"question_id":1913280,"body_markdown":"Commons library, [StringUtils.isBlank()][1] or [StringUtils.isEmtpy()][2].\r\n\r\nisEmpty is equivalent to\r\n\r\n    s == null || s.length() == 0\r\n\r\n\r\nisBlank is equivalent to\r\n\r\n    s == null || s.trim().length() == 0\r\n\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isBlank-java.lang.CharSequence-\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isEmpty-java.lang.CharSequence-","title":"One step check for null value &amp; emptiness of a string","body":"<p>Commons library, <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isBlank-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">StringUtils.isBlank()</a> or <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isEmpty-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">StringUtils.isEmtpy()</a>.</p>\n\n<p>isEmpty is equivalent to</p>\n\n<pre><code>s == null || s.length() == 0\n</code></pre>\n\n<p>isBlank is equivalent to</p>\n\n<pre><code>s == null || s.trim().length() == 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67532,"reputation":15704,"user_id":197574,"accept_rate":83,"display_name":"DerMike"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1260954152,"creation_date":1260954152,"answer_id":1913299,"question_id":1913280,"body_markdown":"In the jakarta commons there is a StringUtils.isEmpty(String).","title":"One step check for null value &amp; emptiness of a string","body":"<p>In the jakarta commons there is a StringUtils.isEmpty(String).</p>\n"},{"comments":[{"owner":{"account_id":402736,"reputation":6281,"user_id":770068,"display_name":"Lorne Laliberte"},"score":2,"creation_date":1481062342,"post_id":12391728,"comment_id":69220365,"body_markdown":"Although this prevents a null exception, this is not an equivalent test: the expression resolves to true if s is null. This is a null-safe way to test whether s contains an empty string, it does not test whether s is empty and **not null**. The difference is important!","body":"Although this prevents a null exception, this is not an equivalent test: the expression resolves to true if s is null. This is a null-safe way to test whether s contains an empty string, it does not test whether s is empty and <b>not null</b>. The difference is important!"}],"tags":[],"owner":{"account_id":241691,"reputation":301,"user_id":512667,"display_name":"Ahmed Rezk"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1544700839,"creation_date":1347464074,"answer_id":12391728,"question_id":1913280,"body_markdown":"    if(s != null &amp;&amp; !s.isEmpty()){\r\n    // this will work even if &#39;s&#39; is NULL\r\n    }","title":"One step check for null value &amp; emptiness of a string","body":"<pre><code>if(s != null &amp;&amp; !s.isEmpty()){\n// this will work even if 's' is NULL\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2727282,"reputation":1056,"user_id":2351981,"accept_rate":70,"display_name":"E A"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452410561,"creation_date":1452410561,"answer_id":34703086,"question_id":1913280,"body_markdown":"use **org.apache.commons.lang.StringUtils**, the method **StringUtils.isNotBlank** check both nullity and emptiness.","title":"One step check for null value &amp; emptiness of a string","body":"<p>use <strong>org.apache.commons.lang.StringUtils</strong>, the method <strong>StringUtils.isNotBlank</strong> check both nullity and emptiness.</p>\n"},{"tags":[],"owner":{"account_id":9283951,"reputation":898,"user_id":6894437,"display_name":"Sophia Price"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551870509,"creation_date":1551870509,"answer_id":55021644,"question_id":1913280,"body_markdown":"Add maven dependency for [com.google.guava][1]\r\n\r\nThen in your code:\r\n\r\n    import com.google.common.base.Strings;\r\n\r\n    if(!Strings.isNullOrEmpty(s)) {\r\n      // Do stuff here\r\n    }\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.guava/guava","title":"One step check for null value &amp; emptiness of a string","body":"<p>Add maven dependency for <a href=\"https://mvnrepository.com/artifact/com.google.guava/guava\" rel=\"nofollow noreferrer\">com.google.guava</a></p>\n\n<p>Then in your code:</p>\n\n<pre><code>import com.google.common.base.Strings;\n\nif(!Strings.isNullOrEmpty(s)) {\n  // Do stuff here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7077,"reputation":15091,"user_id":12113,"accept_rate":100,"display_name":"Noah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578264167,"creation_date":1578264167,"answer_id":59604850,"question_id":1913280,"body_markdown":"If you are doing android development, you can use:\r\n\r\n    TextUtils.isEmpty (CharSequence str) \r\n\r\nAdded in API level 1\r\nReturns true if the string is null or 0-length.\r\n","title":"One step check for null value &amp; emptiness of a string","body":"<p>If you are doing android development, you can use:</p>\n\n<pre><code>TextUtils.isEmpty (CharSequence str) \n</code></pre>\n\n<p>Added in API level 1\nReturns true if the string is null or 0-length.</p>\n"},{"tags":[],"owner":{"account_id":18853981,"reputation":787,"user_id":13752421,"display_name":"Daly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694635379,"creation_date":1694632940,"answer_id":77099963,"question_id":1913280,"body_markdown":"Spring\r\n======\r\n\r\nSpring provides the class [org.springframework.util.StringUtils][1] which includes these relevant methods.\r\n\r\n[`hasText(String s)`][2]\r\n--------\r\nReturns true if and only if a `String` or `CharSequence` contains a character which is not a space.\r\n\r\nExample:\r\n\r\n     StringUtils.hasText(null) = false\r\n     StringUtils.hasText(&quot;&quot;) = false\r\n     StringUtils.hasText(&quot; &quot;) = false\r\n     StringUtils.hasText(&quot;12345&quot;) = true\r\n     StringUtils.hasText(&quot; 12345 &quot;) = true\r\n\r\n[`hasLength(String s)`][3]\r\n----------\r\nReturns true if and only if a `String` or `CharSequence` contains any characters, spaces included.\r\n\r\nExample:\r\n\r\n     StringUtils.hasLength(null) = false\r\n     StringUtils.hasLength(&quot;&quot;) = false\r\n     StringUtils.hasLength(&quot; &quot;) = true\r\n     StringUtils.hasLength(&quot;Hello&quot;) = true\r\n\r\nIn the case of the question, `hasText` would be the best option.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#hasText(java.lang.CharSequence)\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#hasLength(java.lang.CharSequence)","title":"One step check for null value &amp; emptiness of a string","body":"<h1>Spring</h1>\n<p>Spring provides the class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html\" rel=\"nofollow noreferrer\">org.springframework.util.StringUtils</a> which includes these relevant methods.</p>\n<h2><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#hasText(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>hasText(String s)</code></a></h2>\n<p>Returns true if and only if a <code>String</code> or <code>CharSequence</code> contains a character which is not a space.</p>\n<p>Example:</p>\n<pre><code> StringUtils.hasText(null) = false\n StringUtils.hasText(&quot;&quot;) = false\n StringUtils.hasText(&quot; &quot;) = false\n StringUtils.hasText(&quot;12345&quot;) = true\n StringUtils.hasText(&quot; 12345 &quot;) = true\n</code></pre>\n<h2><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#hasLength(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>hasLength(String s)</code></a></h2>\n<p>Returns true if and only if a <code>String</code> or <code>CharSequence</code> contains any characters, spaces included.</p>\n<p>Example:</p>\n<pre><code> StringUtils.hasLength(null) = false\n StringUtils.hasLength(&quot;&quot;) = false\n StringUtils.hasLength(&quot; &quot;) = true\n StringUtils.hasLength(&quot;Hello&quot;) = true\n</code></pre>\n<p>In the case of the question, <code>hasText</code> would be the best option.</p>\n"},{"tags":[],"owner":{"account_id":9005111,"reputation":574,"user_id":6712167,"display_name":"Ranushka Lakmal Sankalpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701864670,"creation_date":1701864670,"answer_id":77612947,"question_id":1913280,"body_markdown":"its not String. it should be Strings. as an example:\r\n\r\n    if(!Strings.isNullOrEmpty()","title":"One step check for null value &amp; emptiness of a string","body":"<p>its not String. it should be Strings. as an example:</p>\n<pre><code>if(!Strings.isNullOrEmpty()\n</code></pre>\n"}],"owner":{"account_id":75692,"reputation":11853,"user_id":217067,"accept_rate":66,"display_name":"EugeneP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35108,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":8,"score":16,"last_activity_date":1701864670,"creation_date":1260953931,"question_id":1913280,"body_markdown":"I have a setter method.\r\n\r\nThen when another (say generate) method is run, I need to check the value of my fields.\r\nSo in the case of String property, I need to know if it contains the value or if it was not set.\r\nSo it may be null, &quot;&quot; or something meaningful, there are 3 possibilities.\r\nAnd it is rather boring to check first for a null value :\r\n\r\n    if (s != null)\r\n\r\nthen for an empty String\r\n\r\n    if (!s.isEmpty())\r\n\r\n&lt;b&gt;&lt;i&gt;\r\nis there a one-step check here? You can tell me that I can initialize my String field with an empty String. [ IS IT COMMON? ] But what if someone passes a null value to the setter method setS?\r\nso do we always have to check if the Object value is null or not before doing something with that object?\r\n&lt;/b&gt;&lt;/i&gt;\r\n\r\nWell, yes a setter method can check it&#39;s values and also a getter method can return a non-null value if the field is null. But is it the only solution? It &#39;s too much work in getters &amp; setters for a programmer to do!","title":"One step check for null value &amp; emptiness of a string","body":"<p>I have a setter method.</p>\n\n<p>Then when another (say generate) method is run, I need to check the value of my fields.\nSo in the case of String property, I need to know if it contains the value or if it was not set.\nSo it may be null, \"\" or something meaningful, there are 3 possibilities.\nAnd it is rather boring to check first for a null value :</p>\n\n<pre><code>if (s != null)\n</code></pre>\n\n<p>then for an empty String</p>\n\n<pre><code>if (!s.isEmpty())\n</code></pre>\n\n<p><b><i>\nis there a one-step check here? You can tell me that I can initialize my String field with an empty String. [ IS IT COMMON? ] But what if someone passes a null value to the setter method setS?\nso do we always have to check if the Object value is null or not before doing something with that object?\n</b></i></p>\n\n<p>Well, yes a setter method can check it's values and also a getter method can return a non-null value if the field is null. But is it the only solution? It 's too much work in getters &amp; setters for a programmer to do!</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1701721702,"post_id":77602364,"comment_id":136808729,"body_markdown":"You&#39;re asking if there&#39;s a way to get data from every element in a list without visiting every element in the list? How much easier could it be, really, though?","body":"You&#39;re asking if there&#39;s a way to get data from every element in a list without visiting every element in the list? How much easier could it be, really, though?"},{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1701722086,"post_id":77602364,"comment_id":136808779,"body_markdown":"I realize it sounds like that, but I didn&#39;t know if there was a way to easily flatten the list","body":"I realize it sounds like that, but I didn&#39;t know if there was a way to easily flatten the list"}],"answers":[{"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":1,"creation_date":1701724158,"post_id":77602433,"comment_id":136809106,"body_markdown":"Would the downvoter please explain why they downvoted this answer?","body":"Would the downvoter please explain why they downvoted this answer?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1701767290,"post_id":77602433,"comment_id":136813397,"body_markdown":"Probably because using `.map().reduce()` is way more complicated than using `.flatMap().toList()`.","body":"Probably because using <code>.map().reduce()</code> is way more complicated than using <code>.flatMap().toList()</code>."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1701807530,"post_id":77602433,"comment_id":136820526,"body_markdown":"@Chaosfire – ok, then adding a comment should have done the job, too. And `Stream::reduce` may be more complicated (although I would dispute that), but it creates less objects than the solutions using `Stream::flatMap` and should be less expensive though. Although the difference might get visible only for *really* large data sets.","body":"@Chaosfire – ok, then adding a comment should have done the job, too. And <code>Stream::reduce</code> may be more complicated (although I would dispute that), but it creates less objects than the solutions using <code>Stream::flatMap</code> and should be less expensive though. Although the difference might get visible only for <i>really</i> large data sets."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1701844312,"post_id":77602433,"comment_id":136824038,"body_markdown":"Well, I am not the downvoter, so this is only a speculation, the reason may be entirely different. While writing reduction logic (accumulator, etc.) is not complicated in itself, it&#39;s more complicated compared to `flatMap` followed by a collector, where you use already available functionality.","body":"Well, I am not the downvoter, so this is only a speculation, the reason may be entirely different. While writing reduction logic (accumulator, etc.) is not complicated in itself, it&#39;s more complicated compared to <code>flatMap</code> followed by a collector, where you use already available functionality."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1701852152,"post_id":77602433,"comment_id":136825066,"body_markdown":"@Chaosfire – I assumed that you are not the downvoter, but thanks for commenting anyway. And yes, that `Collection::addAll` returns a `boolean` instead of the collection itself makes the use of `Stream::reduce` a little bit more complex than otherwise necessary.","body":"@Chaosfire – I assumed that you are not the downvoter, but thanks for commenting anyway. And yes, that <code>Collection::addAll</code> returns a <code>boolean</code> instead of the collection itself makes the use of <code>Stream::reduce</code> a little bit more complex than otherwise necessary."}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1701852531,"creation_date":1701722409,"answer_id":77602433,"question_id":77602364,"body_markdown":"Try this, although it still visits all the elements in the list:\r\n\r\n```java\r\nfinal Set&lt;String&gt; keys = myList.stream()\r\n  .map( Map::keySet )\r\n  .reduce( new HashSet&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} );\r\n```\r\n\r\nIt streams the `Map` instances in the list, gets the set with the keys from them, then combines them into a new `HashSet` instance.\r\n\r\nIf you insist in having an instance of `List` that also contains potential duplicates, try this:\r\n\r\n```java\r\nfinal List&lt;String&gt; keys = myList.stream()\r\n  .map( Map::keySet )\r\n  .reduce( new ArrayList&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} );\r\n```\r\n\r\nA list without duplicates can be obtained like this:\r\n\r\n```java\r\nfinal List&lt;String&gt; keys = new ArrayList&lt;&gt;( myList.stream()\r\n  .map( Map::keySet )\r\n  .reduce( new HashSet&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} ) );\r\n```\r\n---\r\nFor *this particular case*, is a pity that `Collection::addAll` returns a `boolean` instead of the collection itself. Otherwise, the code could be simplified to:\r\n```java\r\nfinal Set&lt;String&gt; keys = myList.stream()\r\n  .map( Map::keySet )\r\n  .reduce( new HashSet&lt;String&gt;(), Collection::addAll ); // THIS DOES NOT WORK!!!\r\n```\r\n","title":"Retrieving all the keys from a list of maps","body":"<p>Try this, although it still visits all the elements in the list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Set&lt;String&gt; keys = myList.stream()\n  .map( Map::keySet )\n  .reduce( new HashSet&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} );\n</code></pre>\n<p>It streams the <code>Map</code> instances in the list, gets the set with the keys from them, then combines them into a new <code>HashSet</code> instance.</p>\n<p>If you insist in having an instance of <code>List</code> that also contains potential duplicates, try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;String&gt; keys = myList.stream()\n  .map( Map::keySet )\n  .reduce( new ArrayList&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} );\n</code></pre>\n<p>A list without duplicates can be obtained like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;String&gt; keys = new ArrayList&lt;&gt;( myList.stream()\n  .map( Map::keySet )\n  .reduce( new HashSet&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} ) );\n</code></pre>\n<hr />\n<p>For <em>this particular case</em>, is a pity that <code>Collection::addAll</code> returns a <code>boolean</code> instead of the collection itself. Otherwise, the code could be simplified to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Set&lt;String&gt; keys = myList.stream()\n  .map( Map::keySet )\n  .reduce( new HashSet&lt;String&gt;(), Collection::addAll ); // THIS DOES NOT WORK!!!\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":1,"creation_date":1701723051,"post_id":77602451,"comment_id":136808933,"body_markdown":"Replace `Map::entrySet` with `Map::keySet` and it works.","body":"Replace <code>Map::entrySet</code> with <code>Map::keySet</code> and it works."},{"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"score":0,"creation_date":1701779554,"post_id":77602451,"comment_id":136815387,"body_markdown":"@tquadrat - my mistake, thank you, I have update it","body":"@tquadrat - my mistake, thank you, I have update it"}],"tags":[],"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701779510,"creation_date":1701722624,"answer_id":77602451,"question_id":77602364,"body_markdown":"You could use `stream` with `flatMap`.\r\n\r\nexample:\r\n\r\n    public List&lt;String&gt; getAllInList(){\r\n    List&lt;Map&lt;String,Integer&gt;&gt; list = List.of(Map.of(&quot;Bob&quot;,1), Map.of(&quot;James&quot;,2));\r\n        return list.stream().map(Map::keySet).flatMap(Collection::stream).collect(Collectors.toList());\r\n    }\r\n\r\n ","title":"Retrieving all the keys from a list of maps","body":"<p>You could use <code>stream</code> with <code>flatMap</code>.</p>\n<p>example:</p>\n<pre><code>public List&lt;String&gt; getAllInList(){\nList&lt;Map&lt;String,Integer&gt;&gt; list = List.of(Map.of(&quot;Bob&quot;,1), Map.of(&quot;James&quot;,2));\n    return list.stream().map(Map::keySet).flatMap(Collection::stream).collect(Collectors.toList());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1701979168,"post_id":77602477,"comment_id":136844829,"body_markdown":"This worked. Thank you!","body":"This worked. Thank you!"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701728958,"creation_date":1701722917,"answer_id":77602477,"question_id":77602364,"body_markdown":"This should work.\r\n- stream the list of maps\r\n- flatten the streams of the keySets\r\n- collect.into a set.\r\n```\r\nSet&lt;String&gt; result =  \r\n  mylist.stream().flatMap(map-&gt;map.keySet().stream())\r\n        .collect(Collectors.toSet());\r\n\r\n```\r\nAnd here is another way that avoids flatMapping.  But it does iterate across each map.  MapMulti puts each key on the stream and then they are collected into a set.\r\n```\r\nresult = myList.stream().&lt;String&gt;mapMulti((map, consumer)-&gt; {\r\n    for (String key : map.keySet()) {\r\n        consumer.accept(key);\r\n    }}).collect(Collectors.toSet());\r\n\r\n}","title":"Retrieving all the keys from a list of maps","body":"<p>This should work.</p>\n<ul>\n<li>stream the list of maps</li>\n<li>flatten the streams of the keySets</li>\n<li>collect.into a set.</li>\n</ul>\n<pre><code>Set&lt;String&gt; result =  \n  mylist.stream().flatMap(map-&gt;map.keySet().stream())\n        .collect(Collectors.toSet());\n\n</code></pre>\n<p>And here is another way that avoids flatMapping.  But it does iterate across each map.  MapMulti puts each key on the stream and then they are collected into a set.</p>\n<pre><code>result = myList.stream().&lt;String&gt;mapMulti((map, consumer)-&gt; {\n    for (String key : map.keySet()) {\n        consumer.accept(key);\n    }}).collect(Collectors.toSet());\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701795888,"creation_date":1701743872,"answer_id":77603547,"question_id":77602364,"body_markdown":"## tl;dr\r\n\r\nFYI, &quot;going element by element and calling keyset()&quot; can be done in a mere two lines of code:\r\n\r\n```java\r\nSet &lt; String &gt; distinctKeys = new HashSet &lt;&gt; ( );\r\nlistOfMaps.forEach ( map -&gt; distinctKeys.addAll ( map.keySet ( ) ) );\r\n```\r\n\r\n## Looping involved in any solution\r\n\r\n&gt;Is there an easy way to get all of the keys without going element by element and calling keyset()?\r\n\r\nNo. Computers are not magic. If you want to examine various pieces of data in memory, you have to visit their location in memory. For a collection in Java, that visitation means looping through the elements of the collection.\r\n\r\nThe other Answers using streams using streams are all essentially syntactic sugar for looping through the elements of the collection. Under the covers you are accessing each element of the list, and accessing the set of keys.\r\n\r\n## Using `List#forEach` to implicitly loop\r\n\r\nThose other Answers with streams are good. But, FYI, I want to show that (a) we can do this without streams, and (b) the code is briefer than you might expect… just two lines. The brevity is due to `List#forEach` in Java 8+.\r\n\r\nFirst, some sample data.\r\n\r\n```java\r\nList &lt; Map &lt; String, Integer &gt; &gt; listOfMaps =\r\n        List.of (\r\n                Map.of (\r\n                        &quot;Alice&quot; , 1 ,\r\n                        &quot;Bob&quot; , 2 ,\r\n                        &quot;Carol&quot; , 3\r\n                ) ,\r\n                Map.of (\r\n                        &quot;Davis&quot; , 4 ,\r\n                        &quot;Carol&quot; , 7\r\n                ) ,\r\n                Map.of (\r\n                        &quot;Ernestine&quot; , 5 ,\r\n                        &quot;Frank&quot; , 6\r\n                )\r\n        );\r\n```\r\n\r\nMake a new empty set to hold all the keys. A `Set` eliminates duplicate values. So we expect only a single `Carol`, not two.\r\n\r\n```java\r\nSet &lt; String &gt; names = new HashSet &lt;&gt; ( );\r\n```\r\n\r\nThe `List#forEach` automatically loops all the elements of the list. Each element is a `Map` object. We retrieve each map’s keys with a call to `keySet`, and deposit them into our new set.\r\n\r\n```java\r\nlistOfMaps.forEach ( map -&gt; names.addAll ( map.keySet ( ) ) );\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;names = [Bob, Alice, Carol, Ernestine, Frank, Davis]\r\n\r\n### Sequenced collection for alphabetized strings\r\n\r\nIf we want those strings in alphabetical order, use an ordered set like [`TreeSet`][1] rather than an unordered set like [`HashSet`][2]. \r\n\r\n```java\r\nSequencedCollection &lt; String &gt; names = new TreeSet &lt;&gt; ( );\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;names = [Alice, Bob, Carol, Davis, Ernestine, Frank]\r\n\r\n\r\n[`SequencedCollection`][3] is [new in Java 21][4]. In earlier Java, use [`NavigableSet`][5]. In ancient Java, use [`SortedSet`][6]. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HashSet.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\r\n  [4]: https://openjdk.org/jeps/431\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/NavigableSet.html\r\n  [6]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SortedSet.html","title":"Retrieving all the keys from a list of maps","body":"<h2>tl;dr</h2>\n<p>FYI, &quot;going element by element and calling keyset()&quot; can be done in a mere two lines of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set &lt; String &gt; distinctKeys = new HashSet &lt;&gt; ( );\nlistOfMaps.forEach ( map -&gt; distinctKeys.addAll ( map.keySet ( ) ) );\n</code></pre>\n<h2>Looping involved in any solution</h2>\n<blockquote>\n<p>Is there an easy way to get all of the keys without going element by element and calling keyset()?</p>\n</blockquote>\n<p>No. Computers are not magic. If you want to examine various pieces of data in memory, you have to visit their location in memory. For a collection in Java, that visitation means looping through the elements of the collection.</p>\n<p>The other Answers using streams using streams are all essentially syntactic sugar for looping through the elements of the collection. Under the covers you are accessing each element of the list, and accessing the set of keys.</p>\n<h2>Using <code>List#forEach</code> to implicitly loop</h2>\n<p>Those other Answers with streams are good. But, FYI, I want to show that (a) we can do this without streams, and (b) the code is briefer than you might expect… just two lines. The brevity is due to <code>List#forEach</code> in Java 8+.</p>\n<p>First, some sample data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Map &lt; String, Integer &gt; &gt; listOfMaps =\n        List.of (\n                Map.of (\n                        &quot;Alice&quot; , 1 ,\n                        &quot;Bob&quot; , 2 ,\n                        &quot;Carol&quot; , 3\n                ) ,\n                Map.of (\n                        &quot;Davis&quot; , 4 ,\n                        &quot;Carol&quot; , 7\n                ) ,\n                Map.of (\n                        &quot;Ernestine&quot; , 5 ,\n                        &quot;Frank&quot; , 6\n                )\n        );\n</code></pre>\n<p>Make a new empty set to hold all the keys. A <code>Set</code> eliminates duplicate values. So we expect only a single <code>Carol</code>, not two.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set &lt; String &gt; names = new HashSet &lt;&gt; ( );\n</code></pre>\n<p>The <code>List#forEach</code> automatically loops all the elements of the list. Each element is a <code>Map</code> object. We retrieve each map’s keys with a call to <code>keySet</code>, and deposit them into our new set.</p>\n<pre class=\"lang-java prettyprint-override\"><code>listOfMaps.forEach ( map -&gt; names.addAll ( map.keySet ( ) ) );\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>names = [Bob, Alice, Carol, Ernestine, Frank, Davis]</p>\n</blockquote>\n<h3>Sequenced collection for alphabetized strings</h3>\n<p>If we want those strings in alphabetical order, use an ordered set like <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> rather than an unordered set like <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SequencedCollection &lt; String &gt; names = new TreeSet &lt;&gt; ( );\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>names = [Alice, Bob, Carol, Davis, Ernestine, Frank]</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a> is <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">new in Java 21</a>. In earlier Java, use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a>. In ancient Java, use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a>.</p>\n"}],"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77602477,"answer_count":4,"score":1,"last_activity_date":1701864615,"creation_date":1701721524,"question_id":77602364,"body_markdown":"I have some data stored in a list of maps\r\n\r\n    List&lt;Map&lt;String, Integer&gt;&gt; myList;\r\n\r\nIs there an easy way to get all of the keys without going element by element and calling `Map::keySet`?\r\n\r\nSay for example I have the list `((Bob, 1), (James, 5))` where Bob and James are both keys in a map, how can I get a list of just `(Bob, James)`?","title":"Retrieving all the keys from a list of maps","body":"<p>I have some data stored in a list of maps</p>\n<pre><code>List&lt;Map&lt;String, Integer&gt;&gt; myList;\n</code></pre>\n<p>Is there an easy way to get all of the keys without going element by element and calling <code>Map::keySet</code>?</p>\n<p>Say for example I have the list <code>((Bob, 1), (James, 5))</code> where Bob and James are both keys in a map, how can I get a list of just <code>(Bob, James)</code>?</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"owner":{"account_id":9317268,"reputation":49,"user_id":6917213,"display_name":"Bartek Walaszczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701864524,"creation_date":1701863327,"question_id":77612797,"body_markdown":"I have 3 tables in my PostgreSQL DB like Organization, Project and Users. What I want to achieve is to have common User table for Organization and Project which holds connection between Organization and Project users.\r\n\r\nDB tables:\r\n\r\n```\r\n| organizations | | projects             | | users          | \r\n| ------------- | | -------------------- | | -------------- |\r\n| id (PK)       | | id (PK)              | | id (PK)        |\r\n| name          | | organization_id (FK) | | login          |\r\n| status        | | name                 | | external_id    |\r\n                  | status               | | external_type  |\r\n\r\n```\r\nIn Users table external_id column will have id&#39;s of Organizations or Projects PK and external_type will hold one of type &#39;ORGANIZATION&#39; or &#39;PROJECT&#39;.\r\n\r\nMy entities looks like:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;organizations&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Organization {\r\n    @Id\r\n    private UUID id;\r\n    @Column(nullable = false)\r\n    private String name;\r\n    @Column(nullable = false)\r\n    private String status;\r\n    @OneToMany(mappedBy = &quot;organization&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Project&gt; projects = new HashSet&lt;&gt;()\r\n    // how to make one to many (unidirectional) relation here??\r\n    private Set&lt;User&gt; user = new HashSet&lt;&gt;();\r\n}\r\n\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;projects&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Project {\r\n    @Id\r\n    private UUID id\r\n    @Column(nullable = false)\r\n    private String name;\r\n    @Column(nullable = false)\r\n    private String status;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;organization_id&quot;, nullable = false)\r\n    private Organization organization;\r\n    // how to make one to many (unidirectional) relation here??\r\n    private Set&lt;User&gt; user = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class User {\r\n    @Id\r\n    private UUID id\r\n    @Column(nullable = false)\r\n    private String login;\r\n    private External external;\r\n\r\n    @Embeddable\r\n    public static class External {\r\n        @Column(name = &quot;external_id&quot;, nullable = false)\r\n        private UUID id;\r\n        @Column(name = &quot;external_type&quot;, nullable = false)\r\n        @Enumerated(EnumType.STRING)\r\n        private Type type;\r\n\r\n        public enum Type {\r\n            ORGANIZATION,\r\n            PROJECT\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nExample data in db:\r\n\r\norganizations table:\r\n```\r\n| id                                   | name | status | \r\n| ------------------------------------ | ---- | ------ |\r\n| 062b7a34-f737-4382-b171-f2a9fcf9763b | org1 | ACTIVE |\r\n| a3e2b52d-25d2-43fd-b5bf-37a0983f8533 | org2 | ACTIVE |\r\n```\r\nprojects table:\r\n```\r\n| id                                   | organization_id                      | name  | status | \r\n| ------------------------------------ | ------------------------------------ |-----  | ------ |\r\n| 0d392673-c002-4ec4-9a24-5beb4816db69 | 062b7a34-f737-4382-b171-f2a9fcf9763b | proj1 | ACTIVE |\r\n| f84fda6f-dcbe-42be-9b95-bf11225d1182 | a3e2b52d-25d2-43fd-b5bf-37a0983f8533 | proj2 | ACTIVE |\r\n```\r\nusers table:\r\n```\r\n| id                                   | login      | external_id                            | external_type | \r\n| ------------------------------------ | ---------- | -------------------------------------- | ------------- |\r\n| 985ed43c-175b-4c9c-9f35-434c1b57f68a | firstUser  | 062b7a34-f737-4382-b171-f2a9fcf9763b   | ORGANIZATION  |\r\n| e7de06aa-7585-4935-a811-2d4f6a0cb4f8 | secondUser | a3e2b52d-25d2-43fd-b5bf-37a0983f8533   | ORGANIZATION  |\r\n| 93485049-cb04-4318-be48-27cfa358fbf3 | secondUser | f84fda6f-dcbe-42be-9b95-bf11225d1182   | PROJECT       |\r\n```\r\n\r\nSo the first user identified by login (firstUser) belongs to organization (org1), second user with login (secondUser) belongs to second organization (org2) and to second project (proj2). How to create relations using JPA? Should I use `@JoinColumnsOrFormulas` and how?","title":"JPA Unidirectional OneToMany relation with common table for two entities","body":"<p>I have 3 tables in my PostgreSQL DB like Organization, Project and Users. What I want to achieve is to have common User table for Organization and Project which holds connection between Organization and Project users.</p>\n<p>DB tables:</p>\n<pre><code>| organizations | | projects             | | users          | \n| ------------- | | -------------------- | | -------------- |\n| id (PK)       | | id (PK)              | | id (PK)        |\n| name          | | organization_id (FK) | | login          |\n| status        | | name                 | | external_id    |\n                  | status               | | external_type  |\n\n</code></pre>\n<p>In Users table external_id column will have id's of Organizations or Projects PK and external_type will hold one of type 'ORGANIZATION' or 'PROJECT'.</p>\n<p>My entities looks like:</p>\n<pre><code>@Entity\n@Table(name = &quot;organizations&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Organization {\n    @Id\n    private UUID id;\n    @Column(nullable = false)\n    private String name;\n    @Column(nullable = false)\n    private String status;\n    @OneToMany(mappedBy = &quot;organization&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;Project&gt; projects = new HashSet&lt;&gt;()\n    // how to make one to many (unidirectional) relation here??\n    private Set&lt;User&gt; user = new HashSet&lt;&gt;();\n}\n\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;projects&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Project {\n    @Id\n    private UUID id\n    @Column(nullable = false)\n    private String name;\n    @Column(nullable = false)\n    private String status;\n    @ManyToOne\n    @JoinColumn(name = &quot;organization_id&quot;, nullable = false)\n    private Organization organization;\n    // how to make one to many (unidirectional) relation here??\n    private Set&lt;User&gt; user = new HashSet&lt;&gt;();\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n    @Id\n    private UUID id\n    @Column(nullable = false)\n    private String login;\n    private External external;\n\n    @Embeddable\n    public static class External {\n        @Column(name = &quot;external_id&quot;, nullable = false)\n        private UUID id;\n        @Column(name = &quot;external_type&quot;, nullable = false)\n        @Enumerated(EnumType.STRING)\n        private Type type;\n\n        public enum Type {\n            ORGANIZATION,\n            PROJECT\n        }\n    }\n}\n</code></pre>\n<p>Example data in db:</p>\n<p>organizations table:</p>\n<pre><code>| id                                   | name | status | \n| ------------------------------------ | ---- | ------ |\n| 062b7a34-f737-4382-b171-f2a9fcf9763b | org1 | ACTIVE |\n| a3e2b52d-25d2-43fd-b5bf-37a0983f8533 | org2 | ACTIVE |\n</code></pre>\n<p>projects table:</p>\n<pre><code>| id                                   | organization_id                      | name  | status | \n| ------------------------------------ | ------------------------------------ |-----  | ------ |\n| 0d392673-c002-4ec4-9a24-5beb4816db69 | 062b7a34-f737-4382-b171-f2a9fcf9763b | proj1 | ACTIVE |\n| f84fda6f-dcbe-42be-9b95-bf11225d1182 | a3e2b52d-25d2-43fd-b5bf-37a0983f8533 | proj2 | ACTIVE |\n</code></pre>\n<p>users table:</p>\n<pre><code>| id                                   | login      | external_id                            | external_type | \n| ------------------------------------ | ---------- | -------------------------------------- | ------------- |\n| 985ed43c-175b-4c9c-9f35-434c1b57f68a | firstUser  | 062b7a34-f737-4382-b171-f2a9fcf9763b   | ORGANIZATION  |\n| e7de06aa-7585-4935-a811-2d4f6a0cb4f8 | secondUser | a3e2b52d-25d2-43fd-b5bf-37a0983f8533   | ORGANIZATION  |\n| 93485049-cb04-4318-be48-27cfa358fbf3 | secondUser | f84fda6f-dcbe-42be-9b95-bf11225d1182   | PROJECT       |\n</code></pre>\n<p>So the first user identified by login (firstUser) belongs to organization (org1), second user with login (secondUser) belongs to second organization (org2) and to second project (proj2). How to create relations using JPA? Should I use <code>@JoinColumnsOrFormulas</code> and how?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701951451,"post_id":77612460,"comment_id":136839809,"body_markdown":"_&quot;Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;number_id&quot; of relation &quot;contract&quot; violates not-null constraint\n  Detail: Failing row contains (0a6f0a45-8c3e-1db0-818c-3ebddfdc000b, 40685, 0, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.21, 0, t, null, null, 2023-12-06, f, 6cbeb982-e351-24cd-b11f-933b1395c298, DRAFT, null, f, 0a6f0a45-8c3e-1db0-818c-3ebddfdb000a, null, null).&quot;_","body":"<i>&quot;Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;number_id&quot; of relation &quot;contract&quot; violates not-null constraint   Detail: Failing row contains (0a6f0a45-8c3e-1db0-818c-3ebddfdc000b, 40685, 0, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.21, 0, t, null, null, 2023-12-06, f, 6cbeb982-e351-24cd-b11f-933b1395c298, DRAFT, null, f, 0a6f0a45-8c3e-1db0-818c-3ebddfdb000a, null, null).&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701864344,"creation_date":1701864344,"answer_id":77612909,"question_id":77612460,"body_markdown":"Not-null contraint wans&#39;t actually removed in audit scheme, but only in the public one. As due to the nvers hibernate did all the same for the audi scheme, it required to remove the same cotraints in audit scheme too. ","title":"ConstraintViolationException: could not execute statement; org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion","body":"<p>Not-null contraint wans't actually removed in audit scheme, but only in the public one. As due to the nvers hibernate did all the same for the audi scheme, it required to remove the same cotraints in audit scheme too.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701951467,"answer_count":1,"score":-1,"last_activity_date":1701864344,"creation_date":1701860121,"question_id":77612460,"body_markdown":"What could be a reason of the below stacktrace?\r\n\r\nOnce Entity had nullble=false; this was removed in one microservice and it ries to save the data without value that can be null now. In the DB not-null contraint was stlill there. I have removed it from the DB and now see:\r\n\r\nI have removed not-null requirement froim the DB manually, but still getting this error.\r\n\r\n    2023-12-06 13:48:00.278 [XNIO-1 task-5] ERROR r.d.b.c.c.GlobalExceptionHandler - Generic Exception. Request: http://billing.apps.k8s.dev.domoy.ru/billing/contractor/contractorFL raised org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:352)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:254)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:537)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:534)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:305)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n    \tat rf.dom.billing.contractor.service.ContractorService$$EnhancerBySpringCGLIB$$4b6c336c.create(&lt;generated&gt;)\r\n    \tat rf.dom.billing.contractor.controller.ContractorFLController.create(ContractorFLController.java:49)\r\n    \tat rf.dom.billing.contractor.controller.ContractorFLController$$FastClassBySpringCGLIB$$2fd4eda9.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n    \tat rf.dom.billing.contractor.controller.ContractorFLController$$EnhancerBySpringCGLIB$$68e31456.create(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n    \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n    \tat org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:263)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\r\n    \tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.servlet.v3_1.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:83)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n    \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    \tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n    \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    \tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n    \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n    \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n    \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n    \tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n    \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n    \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\r\n    \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:960)\r\n    \tat org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:525)\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2390)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:533)\r\n    \t... 133 common frames omitted\r\n    Caused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1348)\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1331)\r\n    \tat org.hibernate.envers.internal.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:177)\r\n    \tat org.hibernate.envers.internal.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:47)\r\n    \tat org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:954)\r\n    \t... 141 common frames omitted\r\n    Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3226)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3751)\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:91)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n    \tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n    \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:108)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1344)\r\n    \t... 145 common frames omitted\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;number_id&quot; of relation &quot;contract&quot; violates not-null constraint\r\n      Detail: Failing row contains (0a6f0a45-8c3e-1db0-818c-3ebddfdc000b, 40685, 0, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.21, 0, t, null, null, 2023-12-06, f, 6cbeb982-e351-24cd-b11f-933b1395c298, DRAFT, null, f, 0a6f0a45-8c3e-1db0-818c-3ebddfdb000a, null, null).\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:149)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:124)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat net.bull.javamelody.JdbcWrapper.doExecute(JdbcWrapper.java:422)\r\n    \tat net.bull.javamelody.JdbcWrapper$StatementInvocationHandler.invoke(JdbcWrapper.java:142)\r\n    \tat net.bull.javamelody.JdbcWrapper$DelegatingInvocationHandler.invoke(JdbcWrapper.java:300)\r\n    \tat com.sun.proxy.$Proxy301.executeUpdate(Unknown Source)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n    \t... 156 common frames omitted\r\n   ","title":"ConstraintViolationException: could not execute statement; org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion","body":"<p>What could be a reason of the below stacktrace?</p>\n<p>Once Entity had nullble=false; this was removed in one microservice and it ries to save the data without value that can be null now. In the DB not-null contraint was stlill there. I have removed it from the DB and now see:</p>\n<p>I have removed not-null requirement froim the DB manually, but still getting this error.</p>\n<pre><code>2023-12-06 13:48:00.278 [XNIO-1 task-5] ERROR r.d.b.c.c.GlobalExceptionHandler - Generic Exception. Request: http://billing.apps.k8s.dev.domoy.ru/billing/contractor/contractorFL raised org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\norg.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:352)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:254)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:537)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:534)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:305)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n    at rf.dom.billing.contractor.service.ContractorService$$EnhancerBySpringCGLIB$$4b6c336c.create(&lt;generated&gt;)\n    at rf.dom.billing.contractor.controller.ContractorFLController.create(ContractorFLController.java:49)\n    at rf.dom.billing.contractor.controller.ContractorFLController$$FastClassBySpringCGLIB$$2fd4eda9.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n    at rf.dom.billing.contractor.controller.ContractorFLController$$EnhancerBySpringCGLIB$$68e31456.create(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:263)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\n    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.servlet.v3_1.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:83)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:960)\n    at org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:525)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2390)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:533)\n    ... 133 common frames omitted\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1348)\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1331)\n    at org.hibernate.envers.internal.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:177)\n    at org.hibernate.envers.internal.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:47)\n    at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:954)\n    ... 141 common frames omitted\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3226)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3751)\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:91)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:108)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1344)\n    ... 145 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;number_id&quot; of relation &quot;contract&quot; violates not-null constraint\n  Detail: Failing row contains (0a6f0a45-8c3e-1db0-818c-3ebddfdc000b, 40685, 0, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.21, 0, t, null, null, 2023-12-06, f, 6cbeb982-e351-24cd-b11f-933b1395c298, DRAFT, null, f, 0a6f0a45-8c3e-1db0-818c-3ebddfdb000a, null, null).\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:149)\n    at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:124)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at jdk.internal.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at net.bull.javamelody.JdbcWrapper.doExecute(JdbcWrapper.java:422)\n    at net.bull.javamelody.JdbcWrapper$StatementInvocationHandler.invoke(JdbcWrapper.java:142)\n    at net.bull.javamelody.JdbcWrapper$DelegatingInvocationHandler.invoke(JdbcWrapper.java:300)\n    at com.sun.proxy.$Proxy301.executeUpdate(Unknown Source)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 156 common frames omitted\n</code></pre>\n"},{"tags":["java","android","opencv","converters","rectangles"],"answers":[{"tags":[],"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701864111,"creation_date":1701864111,"answer_id":77612888,"question_id":77608952,"body_markdown":"The equations are:\r\n```\r\nx = left\r\ny = top\r\nwidth = right - left\r\nheight = bottom - top\r\n```\r\n\r\nand\r\n\r\n```\r\nleft = x\r\ntop = y\r\nright = x + width\r\nbottom = y + height\r\n```","title":"How I can convert a Rect object from android to a Rect object of OpenCV","body":"<p>The equations are:</p>\n<pre><code>x = left\ny = top\nwidth = right - left\nheight = bottom - top\n</code></pre>\n<p>and</p>\n<pre><code>left = x\ntop = y\nright = x + width\nbottom = y + height\n</code></pre>\n"}],"owner":{"account_id":2441019,"reputation":3362,"user_id":2129561,"accept_rate":37,"display_name":"V&#237;ctor Mart&#237;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701864184,"creation_date":1701806362,"question_id":77608952,"body_markdown":"I&#39;m trying to do an app using OpenCV. I&#39;m facing a simple problem but I don&#39;t have the knowledge to resolve this.\r\n\r\nI need to take a box inside an image to get a rectangle and use it in OpenCV, but Android use android.graphics.Rect and OpenCV expect a org.opencv.core.Rect and I&#39;m trying a simple conversion, but the result is not good.\r\n\r\n    android.graphics.Rect(int left, int top, int right, int bottom)\r\n    \r\n    org.opencv.core.Rect(int x, int y, int width, int height)\r\n\r\nI&#39;m not finding wait is the representation of left top right and bottom, the documentation talks about &quot;side&quot; but I&#39;m confused to convert from android to opencv\r\n\r\nThank you.","title":"How I can convert a Rect object from android to a Rect object of OpenCV","body":"<p>I'm trying to do an app using OpenCV. I'm facing a simple problem but I don't have the knowledge to resolve this.</p>\n<p>I need to take a box inside an image to get a rectangle and use it in OpenCV, but Android use android.graphics.Rect and OpenCV expect a org.opencv.core.Rect and I'm trying a simple conversion, but the result is not good.</p>\n<pre><code>android.graphics.Rect(int left, int top, int right, int bottom)\n\norg.opencv.core.Rect(int x, int y, int width, int height)\n</code></pre>\n<p>I'm not finding wait is the representation of left top right and bottom, the documentation talks about &quot;side&quot; but I'm confused to convert from android to opencv</p>\n<p>Thank you.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9904,"page":13,"page_size":100}
